globalsboolean array vinteger array Einteger array Vinteger array Oboolean N=falseboolean B=falsestring array Cboolean array Itimer array Ainteger array Dtimer array Ginteger array Jtimer K=nullinteger array Finteger L=0integer M=0integer array Hinteger array Pboolean Q=falseboolean T=falseboolean U=falseboolean W=falseboolean EV=falsemultiboard XV=nullunit OV=nullboolean array AVinteger NV=0boolean BV=falseboolean CV=falseboolean DV=falselocation Z=nulllocation vv=nulllocation ev=nulllocation ov=nulllocation rv=nullboolean av=falseboolean Ev=falseboolean Ov=falseboolean Rv=falseboolean Av=falseboolean Nv=falseboolean bv=falseboolean Bv=falseboolean cv=falseboolean Cv=falseboolean Dv=falseboolean fv=falseinteger FV=0integer JV=0location Jv=nulllocation lv=nulllocation Lv=nulllocation mv=nulllocation pv=nulllocation qv=nulllocation Qv=nulllocation sv=nulllocation tv=nulllocation Tv=nulllocation Uv=nulllocation Wv=nulllocation LV=nulllocation MV=nullunit array QVinteger ae=0integer ne=0player array TVplayer array UVinteger array Oeinteger array REinteger array KEunit array SEinteger array Beforce WE=nullforce YE=nullplayer array RXplayer array GXplayer SX=nullplayer WX=nullboolean ge=falseinteger Ge=0integer he=0integer array jehashtable YX=nullplayer Le=nullunit ZX=nullinteger pe=0real JO=0item array seitem array Seitem array Weitem array zeitem array Zeitem array vxboolean LO=falseinteger TO=0location array YOunit ox=nullgroup ZO=nullboolean XR=falseboolean AJ=falseboolean OR=falseboolean IR=falseboolean Ox=falseboolean Rx=falseboolean Nx=falseboolean bx=falsestring cx=""boolean GR=falseinteger YR=0item jx=nullplayer lx=nullboolean ZR=falseboolean array mxinteger array EIinteger XI=0force II=nullboolean NI=falsereal BI=0boolean CI=falseboolean DI=falseboolean GI=falseboolean array Txstring vo=""boolean array eoboolean array ooboolean ao=falseboolean HI=falsetrigger JIinteger array LIinteger array PIinteger array SIweathereffect bo=nullweathereffect Bo=nullboolean TI=falselocation UI=nullreal Co=0string YI=""string array IArect go=nullrect jo=nullrect lo=nullrect NA=nullrect Qo=nullrect to=nullrect Uo=nullrect wo=nullrect zo=nullrect er=nullrect BA=nullrect ar=nullrect Er=nullrect Xr=nullrect JA=nullrect QA=nullrect WA=nullrect YA=nullrect Br=nullrect cr=nullrect Cr=nullrect fr=nullrect Fr=nullrect Hr=nullrect jr=nullrect Jr=nullrect lr=nullrect mr=nullrect pr=nullrect qr=nullrect Qr=nullrect Sr=nullrect Ur=nullrect Wr=nullrect zr=nullrect Zr=nullrect vi=nullrect ei=nullrect xi=nullrect oi=nullrect ai=nullrect ZA=nullrect BN=nullrect Ai=nullrect Ni=nullrect bi=nullrect Bi=nullrect JN=nullrect MN=nullrect di=nullrect fi=nullrect Fi=nullrect Gi=nullrect Ji=nullrect li=nullrect Li=nullrect pi=nullrect TN=nullrect UN=nullrect WN=nullrect YN=nullrect ZN=nullrect VB=nullrect GB=nullrect JB=nullrect LB=nullrect QB=nullrect WB=nullrect YB=nullrect VC=nullrect EC=nullrect XC=nullrect OC=nullrect AC=nullrect NC=nullrect BC=nullrect CC=nullrect FC=nullrect GC=nullrect JC=nullrect LC=nullrect PC=nullrect QC=nullrect TC=nullrect YC=nullrect ZC=nullrect ED=nullrect XD=nullrect OD=nullrect AD=nullrect ND=nullrect BD=nullrect FD=nullrect GD=nullrect HD=nullrect LD=nullrect MD=nullrect PD=nullrect QD=nullrect WD=nullrect YD=nullrect ZD=nullrect EF=nullrect XF=nullrect OF=nullrect RF=nullrect NF=nullrect BF=nullrect CF=nullrect FF=nullrect GF=nullrect HF=nullrect JF=nullrect KF=nullrect LF=nullrect MF=nullrect PF=nullrect QF=nullrect SF=nullrect UF=nullrect WF=nullrect YF=nullrect VG=nullrect EG=nullrect XG=nullrect OG=nullrect RG=nullrect AG=nullrect BG=nullrect CG=nullrect DG=nullrect FG=nullrect GG=nullrect JG=nullrect LG=nullrect MG=nullrect PG=nullrect QG=nullrect SG=nullrect TG=nullrect UG=nullrect WG=nullrect ZG=nullrect EH=nullrect XH=nullrect OH=nullrect RH=nullrect AH=nullrect CH=nullrect DH=nullrect HH=nullrect PH=nullrect QH=nullrect UH=nullrect WH=nullrect YH=nullrect ZH=nullrect TJ=nullrect eE=nullrect oE=nullrect aE=nullrect nE=nullrect VE=nullrect EE=nullrect XE=nullrect OE=nullrect IE=nullrect AE=nullrect bE=nullrect BE=nullrect cE=nullrect CE=nullrect dE=nullrect fE=nullrect FE=nullrect gE=nullrect GE=nullrect JE=nullrect lE=nullrect LE=nullrect ME=nullrect pE=nullrect PE=nullrect qE=nullrect QE=nullrect UK=nullrect YK=nullsound yE=nullsound zE=nullsound vX=nullsound RL=nullsound AL=nullsound aX=nullsound nX=nullsound EX=nullsound OX=nullsound AX=nullsound NX=nullsound bX=nullsound BX=nullsound cX=nullsound CX=nullsound fX=nullsound kX=nullsound LX=nullsound mX=nullsound MX=nullsound PX=nullsound qX=nullsound QX=nullsound tX=nullsound TX=nullsound uX=nullsound UX=nullsound DL=nullsound eO=nullsound oO=nullsound rO=nullsound aO=nullsound VO=nullsound EO=nullsound XO=nullsound OO=nullsound AO=nullsound NO=nullsound bO=nullsound BO=nullsound cO=nullsound CO=nullsound fO=nullsound FO=nullsound gO=nullsound hO=nullsound HO=nullsound kO=nullsound lO=nullsound mO=nullsound pO=nullsound qO=nullsound QO=nullsound tO=nullsound UO=nullsound wO=nullsound WO=nullsound zO=nullsound vR=nullsound eR=nullsound oR=nullsound rR=nullsound aR=nullsound RR=nullsound bR=nullsound BR=nullsound HL=nullsound CR=nullsound fR=nullsound LL=nullsound hR=nullsound HR=nullsound JR=nullsound lR=nullsound LR=nullsound mR=nullsound pR=nullsound PR=nullsound qR=nullsound QR=nullsound sR=nullsound SR=nullsound UR=nullsound WR=nullsound zR=nullsound WL=nullsound ZL=nullsound eI=nullsound oI=nullsound SM=nullsound TM=nullsound RI=nullsound UM=nullstring WM="Sound\\Music\\mp3Music\\Undead1.mp3"string YM="Sound\\Music\\mp3Music\\Undead2.mp3"string ZM="Sound\\Music\\mp3Music\\Undead3.mp3"string VP="Sound\\Music\\mp3Music\\Orc1.mp3"string EP="Sound\\Music\\mp3Music\\Orc2.mp3"string XP="Sound\\Music\\mp3Music\\Orc3.mp3"string OP="Sound\\Music\\mp3Music\\NightElf1.mp3"string RP="Sound\\Music\\mp3Music\\NightElf2.mp3"string IP="Sound\\Music\\mp3Music\\NightElf3.mp3"string BP="Sound\\Music\\mp3Music\\Human1.mp3"string CP="Sound\\Music\\mp3Music\\Human2.mp3"string DP="Sound\\Music\\mp3Music\\Human3.mp3"string GP="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"string JP="Sound\\Music\\mp3Music\\DarkAgents.mp3"string KP="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"string TP="Sound\\Music\\mp3Music\\SadMystery.mp3"string YP="Sound\\Music\\mp3Music\\IllidansTheme.mp3"string ZP="Sound\\Music\\mp3Music\\PH1.mp3"trigger WI=nulltrigger IQ=nulltrigger GQ=nulltrigger ZI=nulltrigger vA=nulltrigger eA=nulltrigger xA=nulltrigger JQ=nulltrigger VA=nulltrigger EA=nulltrigger OA=nulltrigger RA=nulltrigger YQ=nulltrigger ES=nulltrigger OS=nulltrigger cA=nulltrigger CA=nulltrigger dA=nulltrigger DA=nulltrigger fA=nulltrigger FA=nulltrigger gA=nulltrigger GA=nulltrigger LA=nulltrigger mA=nulltrigger MA=nulltrigger PA=nulltrigger SA=nulltrigger TA=nulltrigger BS=nulltrigger wA=nulltrigger CS=nulltrigger DS=nullboolean zA=falseunit vN=nullreal FS=0integer array HSconstant real VN=1constant real EN=4constant real XN=4constant real ON=$96real AN=1.boolean bN=falseboolean JS=falseboolean KS=falseinteger array CNreal dNunit DNunit fNinteger FNgroup gNunit LSinteger MSinteger pN=0real SNreal tNunit YSunit VTreal ETboolean array XTinteger array vbboolean array ebboolean array obboolean array ibboolean array abreal array nbinteger array OTboolean array RTboolean array Obboolean array Abboolean array Nbinteger bbinteger Bbinteger cbstring array Cbboolean array dbboolean array ITboolean array fbinteger Fb=0boolean gb=truestring array ATinteger BT=0string Lbreal mbreal array Mbinteger array pbinteger array Qbinteger Tb=1constant real wb=$Fboolean CT=falseboolean DT=falseboolean FT=falseboolean JT=falseboolean KT=falseboolean LT=falseboolean MT=falseboolean PT=falseboolean QT=falseboolean TT=falseinteger array UTplayer array WTinteger array ZTinteger array EUconstant real OU=55integer EB=1747990090real OBreal ABunit BBunit cBgroup CB=nullstring dB=nullreal DBinteger fBunit FBunit gBreal lBunit RUreal IUunit MBreal pBunit PBdestructable SB=nullunit TB=nullreal wB=0constant real AU=26constant real yB=550constant real zB=500group ZBunit vcreal ecinteger xcinteger acunit nc=nullunit Vc=nullinteger array NUinteger array BUinteger array CUinteger array FUstring array JUinteger array LUinteger array MUinteger PU=0integer QUinteger SUinteger ZUinteger VWinteger EWinteger OWinteger RWinteger NWinteger HWinteger QWinteger TWinteger UWinteger YWinteger ZWinteger GYinteger HYinteger SYinteger UYinteger ZYinteger EZinteger XZinteger RZinteger AZinteger NZinteger BZinteger CZinteger DZinteger HZinteger E0integer X0integer O0integer R0integer J0integer Y0integer V1integer E1integer X1integer R1integer A1integer D1integer F1integer J1integer P1integer Q1integer T1integer U1integer E2integer X2integer R2integer F2integer H2integer T2integer R3integer B3integer C3integer H3integer U3integer W3integer Y3integer Z3integer V4integer E4integer X4integer A4integer D4integer P4integer T4integer W4integer Y4integer R5integer A5integer N5integer B5integer C5integer F5integer G5integer J5integer L5integer M5integer S5integer T5integer W5integer V6integer E6integer A6integer N6integer F6integer G6integer H6integer W6integer E7integer X7integer O7integer A7integer B7integer C7integer D7integer F7integer G7integer L7integer M7integer P7integer T7integer U7integer W7integer Y7integer Z7integer V8integer E8integer X8integer O8integer R8integer A8integer N8integer B8integer C8integer D8integer F8integer G8integer L8integer W8integer Y8integer Z8integer VVVinteger VEVinteger VXVinteger VOVinteger VRVinteger VIVinteger VAVinteger VNVinteger VBVinteger VCVinteger VDVinteger VFVinteger VGVinteger VHVinteger VJVinteger VKVinteger VLVinteger VMVinteger VPVinteger VQVinteger VSVinteger VTVinteger VUVinteger VWVinteger VYVinteger VZVinteger V_Vinteger V0Vinteger V1Vinteger V2Vinteger V3Vinteger V4Vinteger V5Vinteger V6Vinteger V7Vinteger V8Vinteger V9Vinteger EVVinteger EEVinteger EXVinteger EOVinteger ERVinteger EIVinteger EAVinteger ENVinteger EBVinteger ECVinteger EDVinteger EFVinteger EGVinteger EHVinteger EJVinteger EKVinteger ELVinteger EMVinteger EPVinteger EQVinteger ESVinteger ETVinteger EUVinteger EWVinteger EYVinteger EZVinteger E_Vinteger E0Vinteger E1Vinteger E2Vinteger E3Vinteger E4Vinteger E5Vinteger E6Vinteger E7Vinteger E8Vinteger E9Vinteger XVVinteger XEVinteger XXVinteger XOVinteger XRVinteger XIVinteger XAVinteger XNVinteger XBVinteger XCVinteger XDVinteger XFVinteger XGVinteger XHVinteger XJVinteger XKVinteger XLVinteger XMVinteger XPVinteger XQVinteger XSVinteger XTVinteger XUVinteger XWVinteger XYVinteger XZVinteger X_Vinteger X0Vinteger X1Vinteger X2Vinteger X3Vinteger X4Vinteger X5Vinteger X6Vinteger X7Vinteger X8Vinteger X9Vinteger OVVinteger OEVinteger OXVinteger OOV=-1integer array ORVinteger array OIVinteger array OAVinteger array ONVinteger array OBVinteger array OCVinteger ODV=0integer OFVinteger OGVinteger OHVinteger OJVinteger OKVinteger OLVinteger OMVinteger OPVinteger OQVinteger OSVinteger OTVinteger OUVinteger OWVinteger OYVinteger OZVinteger O_Vinteger O0Vinteger O1Vinteger O2Vinteger O3Vinteger O4Vinteger O5Vinteger O6Vinteger O7Vinteger O8Vinteger O9Vinteger RVVinteger REVinteger RXVinteger ROVinteger RRVinteger RIVinteger RAVinteger RNVinteger RBVinteger RCVinteger RDVinteger RFVinteger RGVinteger RHVinteger RJVinteger RKVinteger RLVinteger RMVinteger RPVinteger RQVinteger RSVinteger RTVinteger RUVinteger RWVinteger RYVinteger RZVinteger R_Vinteger R0Vplayer Shboolean Th=falseboolean Uh=falseplayer whunit Whunit zhinteger array Zhinteger array R1Vunit eHboolean R2V=trueboolean oH=falsetrigger R3Vinteger R4V=0integer R5V=0integer R6V=0integer R7V=0integer R8V=0integer R9V=0boolean NH=falseboolexpr bH=nulltrigger BHtrigger cHconstant real IVV=37integer array dHinteger array IEVinteger FHinteger GHinteger hHinteger jHinteger JHinteger kHinteger lHinteger LHinteger MHrect pH=nullinteger array IXVinteger array IOVinteger array IRVinteger array IIVinteger array IAVinteger array INVinteger array IBVinteger array ICVinteger array IDVinteger array IFVstring array IGVstring array IHVstring array IJVstring array IKVtrigger array rjtrigger array ajtrigger array njtrigger array Vjtrigger array Ejtrigger array Rjtrigger array Ajtrigger array Njboolean array bjitem ILV=nullinteger IMV=0integer IPV=0string Dj="|c00ff0303"string fj="|c00ff0303"string gj="|c000042ff"string Gj="|c00646464"string Hj="|c00ffffff"boolean jj=falseboolean Jj=falseboolean lj=falseboolean IQV=falseinteger array ISVinteger array ITVinteger array IUVtrigger IWV=nulltrigger Tj=nulltrigger Uj=nulltrigger wj=nulltrigger zj=nulltrigger Zj=nulltrigger vJ=nulltrigger eJ=nulltrigger xJ=nulltrigger oJ=nulltrigger iJ=nulltrigger IYV=nulltrigger nJ=nulltrigger do=nulltrigger VJ=nulltrigger dq=nulltrigger IZV=nulltrigger dr=nulltrigger dR=nulltrigger EJ=nulltrigger dT=nulltrigger du=nulltrigger dU=nulltrigger dX=nulltrigger dY=nulltrigger dZ=nulltrigger d0=nulltrigger I_V=nulltrigger I0V=nulltrigger d3=nulltrigger d4=nulltrigger d5=nulltrigger I1V=nulltrigger d8=nulltrigger d9=nulltrigger XJ=nulltrigger Dc=nulltrigger DC=nulltrigger OJ=nulltrigger DF=nulltrigger RJ=nulltrigger I2V=nulltrigger Dk=nulltrigger DK=nulltrigger Dm=nulltrigger NJ=nulltrigger Do=nulltrigger DO=nulltrigger Dp=nulltrigger DQ=nullunit BJ=nullunit cJ=nullunit CJ=nullunit dJ=nullunit DJ=nullunit fJ=nullunit FJ=nullunit gJ=nullunit GJ=nullunit HJ=nullunit JJ=nullunit lJ=nullunit LJ=nullunit MJ=nullunit PJ=nullunit qJ=nullunit QJ=nullunit SJ=nullunit tJ=nullunit I3V=nullunit UJ=nullunit wJ=nullunit WJ=nullunit yJ=nullunit zJ=nullunit ZJ=nullunit vk=nullunit ek=nullunit xk=nullunit ok=nullunit ik=nullunit ak=nullunit nk=nullunit Vk=nullunit Ek=nullunit Ok=nullunit Rk=nullunit Ak=nullunit Nk=nullunit bk=nullunit Bk=nullunit ck=nullunit Ck=nullunit dk=nullunit fk=nullunit Fk=nullunit gk=nullunit Gk=nullunit jk=nullunit Jk=nullunit lk=nullunit Lk=nullunit pk=nullunit Pk=nullunit qk=nullunit Qk=nullunit Sk=nullunit tk=nullunit Uk=nullunit wk=nullunit Wk=nullunit yk=nullunit zk=nullunit vK=nullunit eK=nullunit xK=nullunit aK=nullunit VK=nullunit EK=nullunit XK=nullunit OK=nullunit AK=nullunit NK=nullunit bK=nullunit BK=nullunit cK=nullunit CK=nullunit dK=nullunit fK=nullunit FK=nullunit gK=nullunit GK=nullunit JK=nullunit lK=nullunit LK=nullunit PK=nullunit qK=nullunit QK=nullunit SK=nullunit TK=nullunit wK=nullunit WK=nullunit zK=nullunit ZK=nullunit vl=nullunit el=nullunit xl=nullunit ol=nullunit rl=nullunit al=nullunit Vl=nullunit El=nullunit Xl=nullunit Ol=nullunit Rl=nullunit Al=nullunit Nl=nullunit bl=nullunit Bl=nullunit cl=nullunit Cl=nullunit dl=nullunit array flunit array Flunit array glinteger Hl=0trigger array Dxreal array DXinteger Dy=0boolean array I4Vreal array Jlinteger array llinteger array Llinteger Ml=0string array Plinteger array qlinteger Ql=0integer sl=0integer I5Vinteger tlinteger Tlreal I6Vreal I7Vreal I8Vreal Zlreal vLreal eLunit I9Vunit AVVtrigger eCgroup AEVgroup aLplayer AXVboolean ELstring OLunit AOV=nullregion ARVinteger array NLinteger array bLinteger array BLinteger array cLinteger CL=0gamecache AIVweathereffect fLweathereffect FLrect AAVconstant playercolor gL=ConvertPlayerColor(0)constant playercolor hL=ConvertPlayerColor(6)constant playercolor JL=ConvertPlayerColor($C)real ANV=-7168real ABV=-7264real ML=-6816real PL=-7264real QL=-7200real SL=-6752real tL=-7200real TL=-6944real UL=-6560real wL=-7264real zL=-6560real vm=-6560real em=-6688real xm=-6496real om=-6816real rm=-6496real im=-6944real am=-6496real Vm=-7072real Em=-6560real Xm=-7328real Om=-5984real Am=-5632real Nm=-6144real bm=-6112real Bm=$620real cm=-$5E0real Cm=-$720real dm=4960real fm=-6752real Fm=-6112real hm=-$4E0real Jm=-$DA0real lm=-$CE0real Mm=-544real pm=-6688real Pm=-6368real Qm=-4256real Tm=-4448real Um=-4960real wm=-$EA0real Wm=-6816real zm=-5600real vM=-5728real eM=-5280real oM=-6112real rM=-6080real iM=-4480real aM=-4416real nM=-5312real VM=-$FC0real XM=-7040real AM=-6656real bM=-4480real BM=-4864real cM=-4992real dM=-$FC0real fM=-6528real gM=-5792real hM=-5408real HM=-6624real JM=-5088real kM=-5344real lM=-$F60real pM=-4832real sM=-4384real tM=-$F60real wM=-5216real zM=-5088real vp=-5536real ep=-4896real op=-6240real rp=-$E20real ap=-5728real Vp=-4512real Ep=-7072real Xp=-5472real Rp=-4704real Ap=-4512real bp=-5856real Bp=-6080real cp=-5120real Cp=-4544real dp=-6528real fp=-6400real Fp=-5696real gp=-5248real Hp=-6848unit ACVunit ADVunit AFVunit AGVunit AHVunit AJVunit AKVunit ALVunit AMVunit APVunit AQVunit ASVunit ATVunit AUVunit AWVunit AYVunit AZVunit A_Vunit A0Vunit A1Vunit A2Vunit A3Vunit A4Vunit A5Vunit A6Vunit A7Vunit A8Vunit A9Vunit NVVunit fPunit FPunit lPunit LPunit MPunit pPunit PPunit qPunit QPunit sPunit tPunit WPunit zPunit vqunit eqreal NEV=6272real NXV=5504real rq=6464real iq=5120real aq=5952real Eq=5568real Rq=6080real Aq=5568real Nq=6464real bq=4736real Bq=5696real cq=5120real Cq=5568real Dq=5248real fq=5568real Fq=5376real Hq=5696real jq=5504real Jq=5568real Mq=5696real qq=5568real Qq=5696real Sq=4992real tq=4544real Uq=-4704real zq=5920real Zq=$420real vQ=-$A0real eQ=6048real xQ=-$820real oQ=32real iQ=5856real aQ=$960real EQ=$6A0real OQ=6112real RQ=-96real AQ=$C60real NQ=5920real bQ=$E20real BQ=$CE0real cQ=6048real CQ=$AE0real fQ=4640real FQ=4576real hQ=5088real HQ=4192real lQ=$EC0real LQ=5888real mQ=4096real MQ=$D40real PQ=6208real QQ=$CC0real SQ=$DC0real UQ=5376real WQ=$EC0real zQ=$F00real ZQ=5696real vs=$CC0real es=$C60real os=$FA0real rs=4192real as=5536real ns=4128real Vs=4512real Es=4640real Xs=$E60real Rs=4832real As=$C20real Ns=5408real bs=$A20real Bs=5408real cs=$CE0real Cs=6112real Ds=$FA0real fs=$BE0real Fs=5088real Hs=6304real js=$EA0real Js=6304real Ks=$EA0real ls=$DC0real Ls=4608real ms=4096real Ms=$A40real ps=4096real Ps=$A40real Qs=4096real Ss=$A40unit NOVunit NRVunit zsunit Zsunit NIVunit eSunit oSunit rSunit aSunit nSunit VSunit NAVunit NNVunit NBVunit NCVunit NDVunit NFVunit NGVunit NHVunit NJVunit NKVunit NLVunit NMVunit NPVunit NQVunit NSVunit NTVunit NUVunit NWVunit PSunit QSunit SSunit tSunit TSunit USunit WSunit ZSunit vtunit etunit xtunit otunit rtunit atunit Vtunit NYVunit NZVunit N_Vunit N0Vunit N1Vunit N2Vunit N3Vunit N4Vunit N5Vunit N6Vunit array N7Vreal array N8Vreal array N9Vplayer BVVplayer BEVstring array BXVinteger array BOVinteger array BRVinteger array BIVinteger array BAVinteger array BNVinteger BBVinteger BCVinteger BDVinteger BFVinteger array BGVinteger BHVinteger array BJVinteger BKVinteger array BLVinteger BMVinteger array BPVinteger BQVinteger array BSVinteger BTVstring array BUVinteger array BWVstring array BYVstring array BZVstring array B_Vstring array B0Vstring array B1Vunit B2Vunit B3Vunit B4Vunit B5Vunit B6Vunit B7Vunit B8Vunit B9Vunit CVVunit CEVunit CXVunit COVinteger array CRVinteger CIV=0boolean CAV=falseinteger CNV=0trigger CBVboolean CCV=falsetrigger CDVtrigger CFVtrigger CGVreal CHV=0real CJV=0hashtable CKVtimer array CLVinteger array CMVinteger array CPVmultiboard CQVinteger array CSVinteger array CTVplayer array CUVinteger CWV=0string Fx="|c00FF6600"multiboard CYVtrigger CZVunit array C_Vreal array C0Vboolean array C1Vinteger C2V=0unit array qureal array Quboolean array Suinteger array tuinteger array C3Vinteger array wuinteger array Wuinteger array C4Vinteger array C5Vunit C6V=nullboolean C7V=trueinteger C8V=1trigger C9Vinteger DVV=0integer DEVinteger DXVinteger array DOVinteger array DRVinteger DIVinteger DAVinteger array DNVboolean DBV=falseunit DCV=nullunit DDV=nullgroup KUboolean DFV=trueboolean DGV=falseboolean DHV=falseinteger DJVplayer DKVtrigger DLV=nulltrigger DMV=nullinteger DPVinteger TU=1093683285integer vw=1093683288trigger DQVregion owinteger array gDunit array rwunit DSV=nullunit DTVregion Ewinteger array Rwinteger Aw=1093742918integer Nw=1093742917integer bw=1093686067integer Bw=1093742916integer cw=1093742919integer Cw=1093742920integer dw=1093742914integer Dw=1093742913integer fw=1093686066integer Fw=1093742905integer hw=1093742915integer kw=1093742904integer Lw=1093682777unit Mwgroup pwunit qwunit Qwboolean tw=falseboolean Uw=falseboolean zw=falseboolean vW=falseboolean eW=falseboolean oW=falseboolean rW=falseboolean iW=falseunit array DUVreal array DWVtimer array gginteger array FIboolean DYV=falsereal array Fjinteger gi=0real array DZVitem array D_Vinteger D0V=0boolean array AWboolean array D1Vleaderboard array gmboolean bW=trueweathereffect BWboolean array cWboolean array CWinteger dW=0integer array DWinteger array fWinteger array FWinteger array hWinteger array LWinteger array mWinteger array MWinteger array pWinteger array PWstring D2V="No Mode"unit grboolean D3V=falseboolean tW=falseboolean Fz=falseinteger array D4Vconstant real D5V=-6950constant real D6V=6750boolean D7V=falseboolean F0=falseboolean D8V=falseboolean gH=falseboolean D9V=falseinteger FVVboolean FEV=falseboolean oy=trueboolean FXV=falseboolean FOV=falseboolean FRV=falseboolean FIV=falseboolean FAV=falseboolean Ny=falseboolean FNV=falseboolean FBV=falseunit array FCVinteger Ly=1093742670integer my=1093686064integer My=1093742671integer py=1093742672real FDVreal FFVunit FGVtrigger FHVinteger FJV=1093678422boolean FKV=falseboolean uy=falseboolean vY=trueboolean Gs=falseboolean FLV=falseboolean FMV=falseboolean GT=falseboolean GU=falseboolean Gv=trueboolean Gw=trueboolean FPV=trueboolean FQV=trueboolean FSV=falseboolean array GZboolean array G0integer G1=0integer G2=0integer G3=-1integer G4=-1boolean FTV=trueboolean FUV=trueinteger FWV=0integer FYV=0integer FZV=0integer F_V=0integer F0V=0integer F1V=0integer F2V=0integer F3V=0integer hB=4integer hc=5integer hC=5integer hD=0integer hE=0integer hF=0integer array hGinteger array eYinteger array hjinteger xY=0integer oYinteger rYreal aY=0real VY=0real EY=0real XY=0real OY=0real IY=0real AY=0real bY=0real BY=0real cY=0real CY=0real DY=0real fY=0real FY=0real JY=0real kY=0real lY=0real mY=0real MY=0real PY=0real QY=0real sY=0real tY=0real TY=0real uY=0real wY=0real YY=0real vz=0constant real F4V=90boolean xz=falseboolean oz=falseboolean rz=falseboolean az=falseboolean nz=falseboolean Vz=falseboolean Ez=falseboolean Xz=falsetimer F5Vboolean F6V=falseinteger F7V=90boolean F8V=falsereal Bz=.0real array hqunit hr=nullunit hS=nullunit hx=nullunit hy=nullunit hz=nullunit hZ=nullunit h0=nullunit array h4unit array h7unit array h8unit array h9location Halocation HAlocation Hblocation HBlocation Hclocation array HCrect cz=nullreal F9Vreal GVVreal GEVreal GXVreal GOVreal GRVplayer GIVrect GAV=nullrect GNV=nullrect GBV=nullrect Cz=nullrect GCV=nullrect GDV=nullrect GFV=nullrect He=nullplayer GGV=nullplayer GHV=nullplayer GJV=nullplayer GKV=nullforce GLV=CreateForce()trigger HK=CreateTrigger()trigger GMV=CreateTrigger()trigger GPV=CreateTrigger()trigger Hn=CreateTrigger()trigger HN=CreateTrigger()trigger Ho=CreateTrigger()trigger GQV=CreateTrigger()trigger GSV=CreateTrigger()trigger GTVtrigger GUVtrigger GWVtrigger GYVtrigger array GZVitem Hudestructable H0group H8=CreateGroup()group H9=CreateGroup()group iA=CreateGroup()group G_V=CreateGroup()group iC=CreateGroup()group iE=CreateGroup()group iF=CreateGroup()group ig=CreateGroup()group iG=CreateGroup()group iH=CreateGroup()group ii=CreateGroup()group ij=nullboolexpr G0V=nullboolexpr iLboolexpr G1Vboolexpr ipboolexpr iPinteger G2V=StringHash("PBMN|AI")integer array G3Vinteger array G4Vreal Wz=.0real Yz=.0group Zz=nullunit vZinteger eZunit oZunit rZunit iZunit aZgroup nZreal VZunit G5Vunit G6Vgroup G7Vinteger array G8Vinteger array G9Vinteger array HVVinteger array HEVinteger array HXVinteger array HOVinteger array HRVinteger array HIVunit HAVreal HNVunit FZreal gZinteger jZinteger JZunit LZreal mZinteger MZplayer QZunit sZinteger tZplayer TZinteger UZunit array wZinteger WZunit array YZunit array zZinteger ZZunit array v0unit e0unit o0unit array HBVinteger n0boolean V0=falseunit HCVinteger HDVboolean HFV=falseboolean array A0boolean N0=falseinteger HGVunit B0real C0integer D0unit HHVreal HJVreal j0real K0integer l0unit m0integer M0group p0unit Q0real s0group t0integer T0unit U0real w0integer array W0integer array z0real Z0unit v1unit HKVreal o1integer a1integer array n1boolean O1=falseunit HLVunit N1integer HMVreal B1real C1unit HPVinteger HQVinteger H1integer m1group M1unit HSVreal HTVinteger HUVinteger HWVinteger HYVunit array HZVboolean w1=falseboolean W1=falseunit Y1unit z1real Z1real v2real H_Vreal o2boolean a2=falseboolean H0V=falseforce V2=nullinteger array H1Vinteger array H2Vreal A2real N2unit B2=nullunit C2=nullunit D2=nullunit H3Vinteger array H4Vunit array H5Vinteger l2=0integer H6Vconstant real M2=6constant real p2=600unit P2trigger H7Vboolean array U2real array w2real array W2real array Z2unit array v3integer array e3integer array o3integer a3unit n3integer V3unit E3integer X3unit A3region N3unit H8Vunit H9Vreal JVVreal JEVunit array D3boolean f3=falseinteger F3=0string array j3constant real L3=8unit JXVinteger M3boolean p3=falseplayer array JOVreal array JRVreal array JIVreal array JAVinteger JNV=-1constant real e4=25constant real o4=525region JBVinteger array JCVinteger JDV=0integer array JFVinteger array JGVinteger array JHVinteger array N4integer array JJVboolean B4=falseinteger C4integer array JKVboolean array JLVgroup array JMVinteger JPV=0integer JQV=0boolean JSV=falseunit JTVunit JUVreal JWVreal JYVreal JZVreal array J_Vreal array J0Vunit J1Vboolean J2V=falseboolean J3V=falseboolean J4V=falsereal array J5Vstring array J6Vboolean J7V=falseboolean J8V=falseinteger array J9Vreal array KVVreal array KEVboolean array KXVitem array KOVitem array KRVitem array KIVitem array KAVboolean array KNVboolean array KBVboolean array KCVinteger KDVinteger KFV=$Aboolean array KGVboolean array KHVunit KJVunit KKVunit KLVunit KMVunit KPVunit KQVreal KSVreal KTVreal KUVreal KWVconstant real KYV=300constant real KZV=20unit K_Vunit K0Vinteger K1Vgroup K2Vreal K3Vreal K4Vinteger K5Vinteger K6Vinteger K7Vregion K8Vregion K9Vreal LVVunit LEVboolean LXV=falsesound LOV=nullsound LRV=nullsound LIV=nullsound LAV=nullsound LNV=nullunit LBVgroup LCVinteger array LDVboolean LFV=falseunit LGVsound LHVsound LJV=nullstring LKVstring LLVstring LMVstring LPVsound LQV=nullsound LSV=nullunit LTVunit LUVunit LWVreal LYVreal LZVreal L_Vunit L0Vreal L1Vreal L2Vunit L3Vreal L4Vreal L5Vreal L6Vboolean L7V=falseboolean array L8Vdestructable L9Vreal MVVreal MEVreal MXVreal MOVreal MRVreal MIVreal MAVreal MNVunit MBVinteger MCVunit MDVinteger array MFVinteger array MGVinteger array MHVinteger array MJVinteger MKVplayer MLVregion MMV=nullregion MPV=nullregion MQV=nullregion MSV=nulltrigger MTV=nulltrigger MUV=nullreal MWVreal MYVtrigger MZV=nullboolean M_V=falsesound M0V=nullsound M1V=nullsound M2V=nullunit M3V=nullunit M4V=nullunit M5V=nullgroup M6Vinteger M7Vunit M8Vconstant integer M9V=$578constant real PVV=$47Econstant real PEV=20constant real PXV=20constant real POV=20integer PRVunit PIVgroup PAVreal PNVunit PBVinteger PCVunit PDVunit PFVreal PGVunit PHVunit PJVinteger PKVgroup PLVgroup PMVunit PPVunit PQVunit PSVinteger PTVreal PUVreal PWVreal PYVinteger PZVdestructable array P_Vdestructable array P0Vdestructable array P1Vinteger P2V=0integer P3V=0unit P4Vinteger P5Vconstant real P6V=6player P7Vboolean P8V=falseboolean P9V=falseunit QVVboolean QEV=falseplayer QXV=nullplayer QOV=nullinteger array QRVunit QIVreal QAVinteger array QNVgroup QBVgroup QCVunit QDVinteger QFVtrigger QGV=nullstring QHV=""boolean QJV=falseunit QKVunit QLVunit QMVgroup QPVgroup QQVgroup QSVinteger QTV=0unit QUVconstant real QWV=3unit QYVunit QZVunit Q_Vreal Q0Vgroup Q1Vinteger Q2Vsound Q3V=nullsound Q4V=nullsound Q5V=nullsound Q6V=nullsound Q7V=nullsound Q8V=nullsound Q9V=nullsound SVV=nullunit SEVinteger SXVgroup SOVinteger SRVunit SIVunit SAVunit SNVgroup SBVinteger SCVunit SDVunit SFVunit SGVgroup SHVreal SJVinteger array SKVinteger SLV=0integer SMVconstant real SPV=20constant real SQV=7constant real SSV=300unit STVreal SUVunit SWVunit SYVreal SZVunit S_Vreal S0Vreal S1Vreal S2Vunit S3Vreal S4Vreal S5Vgroup S6Vunit S7Vunit S8Vreal S9Vreal TVVreal TEVtrigger TXVinteger TOV=0boolean TRV=falseinteger array TIVboolean TAVboolean TNV=falseboolean TBV=falseinteger array TCVinteger array TDVinteger TFVinteger TGVinteger array THVinteger array TJVinteger TKV=0integer TLV=0integer array TMVinteger array TPVinteger TQV=0integer TSV=0integer TTV=0multiboard TUVimage TWVimage TYVimage TZVimage T_Vboolean T0V=falseimage T1V=nullreal T2V=-7030real T3V=6966unit T4Vinteger T5Vplayer T6Vboolean T7V=falseconstant integer T8V=$D00C4constant integer T9V=$D022Econstant integer UVV=$D0277unit UEV=nullunit UXV=nullunit UOV=nullunit URV=nullinteger UIV=0integer UAV=0constant real UNV=$Fconstant real UBV=4constant real UCV=$Fconstant real UDV=4integer UFVinteger UGVreal UHVreal UJVunit UKVinteger array ULVconstant real UMV=7unit array UPVinteger array UQVinteger array USVinteger UTV=0integer UUV=0integer array UWVinteger array UYVunit array UZVinteger U_V=0boolean U0V=trueboolean array U1Vboolean U2V=falseboolean U3V=falseboolean U4V=trueunit U5V=nulltrigger U6V=nulltrigger U7V=nulltrigger U8V=nulltimer U9V=nullreal array WVVconstant integer WEV=$B4hashtable WXVboolean WOV=falsereal WRV=1real WIV=1string WAV=""real WNV=0real WBV=0widget WCV=nullboolean WDV=falseplayer WFV=nullforce WGV=nullitem WHV=nulltrigger WJV=nullboolean WKV=trueboolean WLV=falseinteger array WMVunit array WPVreal array WQVboolexpr WSV=nullinteger array WTVinteger WUV=0integer WWV=1constant integer WYV=8-1boolean WZV=trueboolean W_V=truereal W0V=.0constant integer W1V=425+$C8unit W2V=nullconstant string W3V="|c00dd8dff"+"  - AI|r"constant string W4V="|c0020c060"+"Exp.|r"constant string W5V="|c00ffcc60"+"Gold|r"constant real W6V=8real W7V=120.integer W8Vboolean W9V=falseunit YVVinteger YEVboolean YXV=falseunit YOVunit YRVlocation YIV=Location(0,0)unit YAVboolean YNV=falseboolean YBV=falseboolean YCV=falseunit YDV=nullunit YFV=nullreal YGV=99999999.trigger YHV=nullunit YJVinteger YKVinteger YLVunit YMVreal YPVreal YQVreal YSVunit YTVinteger array YUVboolean YWV=trueunit YYVinteger YZVunit Y_Vgroup Y0Vreal Y1Vinteger array Y2Vinteger array Y3Vinteger Y4Vinteger Y5Vinteger Y6Vunit Y7Vinteger Y8Vinteger Y9Vboolean ZVV=falseunit ZEVreal ZXVgroup ZOVunit ZRVinteger ZIVconstant real ZAV=300integer ZNVinteger ZBVinteger array ZCVconstant real ZDV=$C8constant real ZFV=$C8group ZGVunit ZHVinteger ZJVunit ZKVunit ZLVgroup ZMVunit ZPVinteger ZQVunit ZSVinteger ZTVleaderboard array ZUVinteger ZWVinteger ZYV=0integer ZZV=0integer array Z_Vinteger array Z0Vinteger Z1V=-1integer array Z2Vsound Z3V=nullunit Z4Vgroup Z5Vboolean array Z6Vitem array Z7Vinteger array Z8Vinteger array Z9Vboolean array VVEplayer VEE=nullinteger VXE=0constant integer VOE=$7D0string array VREinteger array VIEinteger VAE=-1unit VNE=nullinteger VBE=0integer VCE=0unit VDE=nullinteger VFE=0unit VGE=nullinteger array VHEendglobalsfunction VJE takes integer O5,string s returns nothinglocal integer i=O5if not(i<1 or i>$B or i==0 or i==6)thenset VRE[50*O5+VIE[O5]]=sset VIE[O5]=VIE[O5]+1if VIE[O5]>50 thenset VIE[O5]=0endifendifendfunctionfunction VKE takes nothing returns booleanlocal string VLE=GetEventPlayerChatString()local integer O5=0local integer jif StringLength(VLE)>4 thenset VAE=S2I(SubString(VLE,4,StringLength(VLE)))if not(VAE<1 or VAE>$A)thencall ClearTextMessages()set O5=VAEif VAE>5 thenset O5=O5+1endifset j=VIE[O5]loopif VRE[50*O5+j]!=null thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,C[O5]+I2S(VAE)+"|r- "+VRE[50*O5+j])endifexitwhen(j==VIE[O5]-1)set j=j+1if j>50 thenexitwhen(VIE[O5]==0)set j=0endifendloopcall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,"***Debug messages of |c00ffff00"+BXV[O5]+"|r***")endifelseset VAE=-1endifreturn falseendfunctionfunction VME takes integer i returns stringreturn I2S(i)+" "endfunctionfunction VPE takes boolean b returns stringif b thenreturn"T "endifreturn"F "endfunctionfunction VQE takes integer i returns stringlocal string VSE="0123456789"local string VTE="ABCDEFGHIJKLMNOPQRSTUVWXYZ"local string VUE="abcdefghijklmnopqrstuvwxyz"if i>=48 and i<=57 thenreturn SubString(VSE,i-48,i-47)elseif i>=65 and i<=90 thenreturn SubString(VTE,i-65,i-64)elseif i>=97 and i<=122 thenreturn SubString(VUE,i-97,i-96)endifreturn""endfunctionfunction VWE takes integer i returns stringlocal integer jlocal string s=""local integer k=0loopexitwhen k>3set j=ModuloInteger(i,256)set i=(i-j)/ 256set s=VQE(j)+sset k=k+1endloopif StringLength(s)==4 thenreturn sendifreturn"?"endfunctionfunction VYE takes string s returns nothingcall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,s)endfunctionfunction VZE takes unit V_E returns realreturn GetWidgetLife(V_E)*hq[752+GetPlayerId(GetOwningPlayer(V_E))]endfunctionfunction V0E takes player pl returns stringif(QRV[GetPlayerId(pl)]==1)thenreturn"E "elseif(QRV[GetPlayerId(pl)]==3)thenreturn"N "elsereturn"I "endifendfunctionfunction V1E takes player p returns nothingif GetAIDifficulty(p)==AI_DIFFICULTY_NEWBIE thenset QRV[GetPlayerId(p)]=1elseif GetAIDifficulty(p)==AI_DIFFICULTY_NORMAL thenset QRV[GetPlayerId(p)]=3elseif GetAIDifficulty(p)==AI_DIFFICULTY_INSANE thenset QRV[GetPlayerId(p)]=5elseset QRV[GetPlayerId(p)]=0endifendfunctionfunction V2E takes boolean V3E,unit V4E,unit V5E returns unitif V3E thenreturn V4Eelsereturn V5Eendifreturn nullendfunctionfunction V6E takes boolean V3E,integer V7E,integer V8E returns integerif V3E thenreturn V7Eelsereturn V8Eendifreturn 0endfunctionfunction V9E takes boolean V3E,string EVE,string EEE returns stringif V3E thenreturn EVEelsereturn EEEendifreturn""endfunctionfunction EXE takes boolean V3E,real V7E,real V8E returns realif V3E thenreturn V7Eelsereturn V8Eendifreturn .0endfunctionfunction EOE takes integer ERE returns integerif(ERE==1212363833 or ERE==1212365106 or ERE==1311781199 or ERE==1315070563 or ERE==1215657064 or ERE==1332179560 or ERE==1160785973 or ERE==1311781174 or ERE==1315074670 or ERE==1164277353 or ERE==1429221430 or ERE==1165451634 or ERE==1160785972 or ERE==1162032181 or ERE==1162032951 or ERE==1315334514 or ERE==1215722344 or ERE==1160786242 or ERE==1211117641 or ERE==1211119409)thenreturn 1endifif(ERE==1215723364 or ERE==1328558160 or ERE==1211117617 or ERE==1212363833 or ERE==1212365106 or ERE==1311781199 or ERE==1315070563 or ERE==1215657064 or ERE==1332179560 or ERE==1160785973 or ERE==1433631084 or ERE==1211117624 or ERE==1315007329 or ERE==1215063922 or ERE==1164207469 or ERE==1315074670 or ERE==1211117636 or ERE==1311781206 or ERE==1211117649 or ERE==1160786265 or ERE==1211117652 or ERE==1211119187 or ERE==1164277353 or ERE==1162032439 or ERE==1430466865 or ERE==1429221441 or ERE==1429221432 or ERE==1429221430 or ERE==1211117654 or ERE==1432646245 or ERE==1430467634 or ERE==1429221424 or ERE==1430468913 or ERE==1162032181 or ERE==1162032951 or ERE==1160785970 or ERE==1429221443 or ERE==1328558154 or ERE==1432510828 or ERE==1315334514 or ERE==1429221451 or ERE==1215722344 or ERE==1160786242 or ERE==1211117641 or ERE==1211119409 or ERE==1160786505 or ERE==1160786510 or ERE==1311788336 or ERE==1160786507)thenreturn 2endifif(ERE==1211117617 or ERE==1214344551 or ERE==1211117624 or ERE==1315988077 or ERE==1211117616 or ERE==1215063922 or ERE==1311781193 or ERE==1211119187 or ERE==1430466865 or ERE==1429221441 or ERE==1429221432 or ERE==1313026096 or ERE==1429221443 or ERE==1332109682 or ERE==1429221446 or ERE==1332766568 or ERE==1432642913 or ERE==1211117650 or ERE==1328558389 or ERE==1328558406 or ERE==1160786502 or ERE==1160786507 or ERE==1160786738)thenreturn 3endifif(ERE==1164799855 or ERE==1333027688 or ERE==1311781185 or ERE==1433105516 or ERE==1214409837 or ERE==1215130471 or ERE==1164799603 or ERE==1432580716 or ERE==1211117633 or ERE==1332898670 or ERE==1214345830 or ERE==1160786000 or ERE==1311780930 or ERE==1311786311 or ERE==1430466872 or ERE==1430468144 or ERE==1430466609 or ERE==1211117640 or ERE==1332963428 or ERE==1429221445 or ERE==1160786241 or ERE==1429221456 or ERE==1160786243 or ERE==1311781207 or ERE==1311780946 or ERE==1211117646 or ERE==1211117653 or ERE==1311787088 or ERE==1328558390 or ERE==1160786506 or ERE==1160786504)thenreturn 4endifif(ERE==1215128178 or ERE==1164799855 or ERE==1214931305 or ERE==1211117620 or ERE==1215130471 or ERE==1316252014 or ERE==1211117643 or ERE==1160786000 or ERE==1211117651 or ERE==1164666213 or ERE==1433168227 or ERE==1430468406 or ERE==1430466872 or ERE==1211117640 or ERE==1332963428 or ERE==1160786241 or ERE==1429221456 or ERE==1211117653 or ERE==1160786520 or ERE==1432580716 or ERE==1211122767)thenreturn 5endifreturn 0endfunctionfunction EIE takes integer ERE,integer EAE returns booleanif EAE==0 thenreturn trueelseif EAE==1 and(ERE==1212363833 or ERE==1212365106 or ERE==1311781199 or ERE==1315070563 or ERE==1215657064 or ERE==1332179560 or ERE==1160785973 or ERE==1311781174 or ERE==1315074670 or ERE==1164277353 or ERE==1429221430 or ERE==1165451634 or ERE==1160785972 or ERE==1162032181 or ERE==1162032951 or ERE==1315334514 or ERE==1215722344 or ERE==1160786242 or ERE==1211117641 or ERE==1211119409)thenreturn trueelseif EAE==2 and(ERE==1215723364 or ERE==1328558160 or ERE==1211117617 or ERE==1212363833 or ERE==1212365106 or ERE==1311781199 or ERE==1315070563 or ERE==1215657064 or ERE==1332179560 or ERE==1160785973 or ERE==1433631084 or ERE==1211117624 or ERE==1315007329 or ERE==1215063922 or ERE==1164207469 or ERE==1315074670 or ERE==1211117636 or ERE==1311781206 or ERE==1211117649 or ERE==1160786265 or ERE==1211117652 or ERE==1211119187 or ERE==1164277353 or ERE==1162032439 or ERE==1430466865 or ERE==1429221441 or ERE==1429221432 or ERE==1429221430 or ERE==1211117654 or ERE==1432646245 or ERE==1430467634 or ERE==1429221424 or ERE==1430468913 or ERE==1162032181 or ERE==1162032951 or ERE==1160785970 or ERE==1429221443 or ERE==1328558154 or ERE==1432510828 or ERE==1315334514 or ERE==1429221451 or ERE==1215722344 or ERE==1160786242 or ERE==1211117641 or ERE==1211119409 or ERE==1160786505 or ERE==1160786510 or ERE==1311788336 or ERE==1160786507)thenreturn trueelseif EAE==3 and(ERE==1211117617 or ERE==1214344551 or ERE==1432580716 or ERE==1211117624 or ERE==1315988077 or ERE==1211117616 or ERE==1215063922 or ERE==1311781193 or ERE==1211119187 or ERE==1430466865 or ERE==1429221441 or ERE==1429221432 or ERE==1313026096 or ERE==1429221443 or ERE==1332109682 or ERE==1429221446 or ERE==1332766568 or ERE==1432642913 or ERE==1211117650 or ERE==1328558389 or ERE==1328558406 or ERE==1160786502 or ERE==1160786738)thenreturn trueelseif EAE==4 and(ERE==1164799855 or ERE==1333027688 or ERE==1311781185 or ERE==1433105516 or ERE==1214409837 or ERE==1215130471 or ERE==1164799603 or ERE==1432580716 or ERE==1211117633 or ERE==1332898670 or ERE==1214345830 or ERE==1160786000 or ERE==1311780930 or ERE==1311786311 or ERE==1430466872 or ERE==1430468144 or ERE==1430466609 or ERE==1211117640 or ERE==1332963428 or ERE==1429221445 or ERE==1160786241 or ERE==1429221456 or ERE==1160786243 or ERE==1311781207 or ERE==1311780946 or ERE==1211117646 or ERE==1211117653 or ERE==1311787088 or ERE==1328558390 or ERE==1160786506 or ERE==1160786504)thenreturn trueelseif EAE==5 and(ERE==1215128178 or ERE==1164799855 or ERE==1214931305 or ERE==1211117620 or ERE==1215130471 or ERE==1316252014 or ERE==1211117643 or ERE==1160786000 or ERE==1211117651 or ERE==1164666213 or ERE==1433168227 or ERE==1430468406 or ERE==1430466872 or ERE==1211117640 or ERE==1332963428 or ERE==1160786241 or ERE==1429221456 or ERE==1211117653 or ERE==1160786520 or ERE==1432580716 or ERE==1211122767)thenreturn trueendifreturn falseendfunctionfunction ENE takes integer ERE returns integerif(ERE==1211117620 or ERE==1214409837 or ERE==1432580716 or ERE==1211117643 or ERE==1160786000 or ERE==1164666213 or ERE==1430468406 or ERE==1211117640 or ERE==1332766568 or ERE==1311780946 or ERE==1211122767)thenreturn 1endifif(ERE==1214931305 or ERE==1333027688 or ERE==1215130471 or ERE==1316252014 or ERE==1164799603 or ERE==1332898670 or ERE==1433168227 or ERE==1430466872 or ERE==1429221445 or ERE==1160786241 or ERE==1211117650 or ERE==1211117646 or ERE==1211117653 or ERE==1160786506 or ERE==1160786507)thenreturn 2endifif(ERE==1215723364 or ERE==1164799855 or ERE==1212365106 or ERE==1311781185 or ERE==1214344551 or ERE==1215657064 or ERE==1211117633 or ERE==1315007329 or ERE==1215063922 or ERE==1164207469 or ERE==1315074670 or ERE==1211117649 or ERE==1160786265 or ERE==1211117652 or ERE==1429221441 or ERE==1165451634 or ERE==1432646245 or ERE==1430467634 or ERE==1332963428 or ERE==1429221446 or ERE==1160786243)thenreturn 4endifreturn 3endfunctionfunction EBE takes integer ECE,boolean EDE returns stringif ECE==0 thenreturn" (Mid)"elseif ECE==1 thenreturn" (Left)"elseif ECE==2 thenreturn" (Right)"elseif ECE==3 and EDE thenreturn" (Tree)"elseif ECE==4 and EDE thenreturn" (Throne)"endifreturn""endfunctionfunction EFE takes boolean EGE returns integerlocal integer EHE=V6E(EGE,0,24)local integer EJE=0local integer k=0local integer jlocal integer i=-1loopexitwhen EJE>3if EJE==0 thenset j=3elseset j=EJE-1endifif WMV[EHE+8+j]>0 thenif WMV[EHE+$C+j]==0 thenset i=jexitwhen trueelseif WMV[EHE+8+j]>k or(WMV[EHE+8+j]==k and GetRandomInt(1,5-EJE)==1)thenset i=jset k=WMV[EHE+8+j]endifendifset EJE=EJE+1endloopreturn iendfunctionfunction EKE takes unit it returns reallocal integer i1=GetUnitTypeId(it)if((i1==1211117616)or(i1==1214345830)or(i1==1315988077)or(i1==1214344551)or(i1==1211117624)or(i1==1328558154)or(i1==1429221443)or(i1==1429221432)or(i1==1432646245)or(i1==1311780946)or(i1==1430468913)or(i1==1211117650)or(i1==1164207469)or(i1==1315070563)or(i1==1212363833)or(i1==1332179560)or(i1==1211117641)or(i1==1215657064)or(i1==1215722344)or(i1==1165451634)or(i1==1164277353)or(i1==1160786242)or(i1==1215130471))thenreturn 100.elseif((i1==1211117652)or(i1==1212365106))thenreturn 125.elseif((i1==1211119187)or(i1==1333027688)or(i1==1311781193)or(i1==1429221451)or(i1==1429221446)or(i1==1315007329)or(i1==1162032181)or(i1==1429221424)or(i1==1328558389)or(i1==1211119409)or(i1==1160786505)or(i1==1311788336)or(i1==1160786507)or(i1==1160786738))thenreturn 128.elseif((i1==1430467634)or(i1==1432642913)or(i1==1215063922))thenreturn 150.elseif((i1==1211117636)or(i1==1211117617)or(i1==1432580716)or(i1==1430466865)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1313026096)or(i1==1211117646))thenreturn 200.elseif(i1==1429221430)thenreturn 250.elseif((i1==1328558160)or(i1==1215128178))thenreturn 350.elseif((i1==1211117649)or(i1==1160786000))thenreturn 400.elseif(i1==1432510828)thenreturn 425.elseif((i1==1162032439)or(i1==1429221456))thenreturn 450.elseif(i1==1160785970)thenreturn 475.elseif(i1==1211117651)thenreturn 480.elseif((i1==1315334514)or(i1==1316252014)or(i1==1332898670)or(i1==1311781207))thenreturn 500.elseif((i1==1433631084)or(i1==1311781199)or(i1==1164799855)or(i1==1430466609)or(i1==1311780930))thenreturn 550.elseif(i1==1162032951)thenreturn 575.elseif((i1==1311781206)or(i1==1315074670)or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or(i1==1160785972)or(i1==1211117633)or(i1==1311781185)or(i1==1211117620)or(i1==1164666213)or(i1==1160786241)or(i1==1430468406)or(i1==1430466872)or(i1==1211117653)or(i1==1429221445)or(i1==1211117640)or(i1==1160786243)or(i1==1311787088)or(i1==1160786520)or(i1==1211122767))thenreturn 600.elsereturn .0endifendfunctionfunction ELE takes unit V_E,integer O5 returns nothingif(IsUnitAlly(V_E,RX[0]))thenif WMV[64+O5]==0 thenset h8[64+O5]=h7[2]elseif WMV[64+O5]==1 thenset h8[64+O5]=h7[4]elseif WMV[64+O5]==2 thenset h8[64+O5]=h7[3]elseif WMV[64+O5]==3 thenset h8[64+O5]=h7[1]endifelseif WMV[64+O5]==0 thenset h8[64+O5]=h7[102]elseif WMV[64+O5]==1 thenset h8[64+O5]=h7[103]elseif WMV[64+O5]==2 thenset h8[64+O5]=h7[104]elseif WMV[64+O5]==3 thenset h8[64+O5]=h7[101]endifendifendfunctionfunction EME takes group g returns booleanreturn FirstOfGroup(g)==nullendfunctionfunction EPE takes integer EQE,unit ESE,integer ETE,integer EUE returns booleanset KBV[EQE]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(ESE),ETE,true)call SetPlayerAbilityAvailable(GetOwningPlayer(ESE),EUE,true)return trueendfunctionfunction EWE takes integer EQE returns booleanset GZ[EQE]=truereturn trueendfunctionfunction EYE takes real EZE returns nothinglocal real E_Elocal real st=TimerGetElapsed(K)if st<=0 thenset K=CreateTimer()call TimerStart(K,9000,false,null)endifif(EZE>0)thenloopset E_E=EZE-TimerGetElapsed(K)+stexitwhen E_E<=0if(E_E>bj_POLLED_WAIT_SKIP_THRESHOLD)thencall TriggerSleepAction(.1*E_E)elsecall TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)endifendloopendifendfunctionfunction E0E takes unit a,widget b,real E1E returns booleanlocal real E2E=(GetUnitFacing(a)-bj_RADTODEG*Atan2(GetWidgetY(b)-GetUnitY(a),GetWidgetX(b)-GetUnitX(a)))if E2E>$B4 thenset E2E=360-E2Eendifif E2E<0 thenset E2E=-E2Eendifreturn E2E<=E1Eendfunctionfunction E3E takes widget p5,widget m5 returns reallocal real t5local real w5local real Y5local real Z5if p5!=null and m5!=null thenset t5=GetWidgetX(p5)set w5=GetWidgetY(p5)set Y5=GetWidgetX(m5)set Z5=GetWidgetY(m5)return SquareRoot((t5-Y5)*(t5-Y5)+(w5-Z5)*(w5-Z5))endifreturn 999999.endfunctionfunction E4E takes real x1,real y1,real x2,real y2 returns realreturn SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))endfunctionfunction E5E takes integer O5 returns integerlocal integer kc=3if((hj[256+O5]==18)or(hj[O5]==$A)or(hj[256+O5]==118)or(hj[O5]==110))thenset kc=0elseif((hj[256+O5]==40)or(hj[O5]==30)or(hj[256+O5]==$8C)or(hj[O5]==$82))thenset kc=1elseif((hj[256+O5]==60)or(hj[O5]==50)or(hj[256+O5]==$A0)or(hj[O5]==$96))thenset kc=2endifreturn kcendfunctionfunction E6E takes unit it returns integerlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])if((UP==0)or(UP==100)or(UP==1)or(UP==101))thenset UP=GetUnitUserData(h9[O5])endifreturn E5E(UP)endfunctionfunction E7E takes integer O5 returns integerset eY[80+O5]=5if(E3E(QV[O5],h7[0])<4000.)thenset eY[80+O5]=3elseif(E3E(QV[O5],h7[100])<4000.)thenset eY[80+O5]=4elseif IsUnitInRange(QV[O5],h8[O5],3000.)thenset eY[80+O5]=E5E(GetUnitUserData(h8[O5]))if eY[80+O5]==3 thenset eY[80+O5]=5endifelseset eY[80+O5]=5set GZ[400+O5]=trueendifreturn eY[80+O5]endfunctionfunction E8E takes integer E9E returns integerlocal integer XVE=0loopexitwhen XVE>BFVif BWV[XVE]==E9E thenreturn BAV[XVE]endifset XVE=XVE+1endloopreturn-1endfunctionfunction XEE takes unit XXE returns integerlocal integer XOE=GetHeroLevel(XXE)if XOE==1 thenreturn 100elseif XOE==2 thenreturn 120elseif XOE==3 thenreturn $A0elseif XOE==4 thenreturn $DCelsereturn-$C8+100*XOEendifreturn 0endfunctionfunction XRE takes nothing returns realreturn TimerGetElapsed(K)endfunctionfunction XIE takes unit XAE returns nothingcall PauseUnit(XAE,true)call IssueImmediateOrderById(XAE,$D0004)call PauseUnit(XAE,false)endfunctionfunction XNE takes location f4,real F4,real l4 returns locationreturn Location(GetLocationX(f4)+F4*Cos(l4*bj_DEGTORAD),GetLocationY(f4)+F4*Sin(l4*bj_DEGTORAD))endfunctionfunction L4 takes nothing returns booleanlocal real dx=GetDestructableX(GetFilterDestructable())-Wzlocal real dy=GetDestructableY(GetFilterDestructable())-Yzreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction M4 takes player p4 returns forceset V2=CreateForce()call ForceEnumEnemies(V2,p4,bH)return V2endfunctionfunction XBE takes unit V_E returns booleanlocal integer id=GetUnitTypeId(V_E)return id==1848651849 or id==1848652338 or id==1848652337 or id==1848658777 or id==1848658778 or id==1848659013 or id==1848652339 or id==1848652340 or id==1848652341 or id==1848658992 or id==1848658993 or id==1848659252 or id==1848651853 or id==1848658006 or id==1848659027endfunctionfunction XCE takes unit V_E returns booleanlocal integer id=GetUnitTypeId(V_E)return id==1697657160 or id==1697657178 or id==1697657426 or id==1697657428 or id==1697657427 or id==1697657648endfunctionfunction XDE takes unit V_E returns booleanreturn XBE(V_E)or XCE(V_E)endfunctionfunction XFE takes item Z4 returns nothingcall DisableTrigger(R3V)call RemoveItem(Z4)call EnableTrigger(R3V)endfunctionfunction XGE takes item x5 returns integerlocal integer o5local integer i=1if x5==null thenreturn-2endifset o5=GetItemTypeId(x5)loopexitwhen i>PUif NU[i]==o5 or BU[i]==o5 or FU[i]==o5 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction XHE takes item XJE returns integerlocal integer XKElocal integer i=1if XJE==null thenreturn-2endifset XKE=GetItemTypeId(XJE)loopexitwhen i>PUif NU[i]==XKE or BU[i]==XKE thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction XLE takes item XJE returns integerlocal integer XKElocal integer i=1if XJE==null thenreturn-2endifset XKE=GetItemTypeId(XJE)loopexitwhen i>PUif FU[i]==XKE thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction V5 takes nothing returns nothingset IXV[1]=1093677633set IOV[1]=1093744463set IRV[1]=1094934883set IIV[1]=1093683534set IXV[2]=1093677616set IOV[2]=1093683779set IRV[2]=1093684789set IIV[2]=1093810503set IXV[3]=1093682263set IOV[3]=1093682264set IRV[3]=1093677378set IIV[3]=1093682265set IXV[4]=1093682766set IOV[4]=1093682998set IRV[4]=1093684056set IIV[4]=1093683000set IXV[5]=1093748025set IOV[5]=1093678147set IRV[5]=1095262562set IIV[5]=1093677906set IXV[6]=1093744944set IOV[6]=1093677387set IRV[6]=1093814611set IIV[6]=1093752648set IXV[7]=1093678643set IOV[7]=1093681729set IRV[7]=1093677125set IIV[7]=1093678933set IXV[8]=1093686091set IOV[8]=1093682252set IRV[8]=1093682250set IIV[8]=1093682248set IXV[9]=1093685831set IOV[9]=1093684025set IRV[9]=1093682266set IIV[9]=1093677130set IXV[$A]=1093681461set IOV[$A]=1093748039set IRV[$A]=1093681464set IIV[$A]=1093681479set IXV[$B]=1093677382set IOV[$B]=1093677623set IRV[$B]=1093744728set IIV[$B]=1093677392set IXV[$C]=1093678407set IOV[$C]=1093678135set IRV[$C]=1093677131set IIV[$C]=1093684529set IXV[$D]=1093743692set IOV[$D]=1093684314set IRV[$D]=1093684547set IIV[$D]=1093684275set IXV[$E]=1093677402set IOV[$E]=1093748535set IRV[$E]=1093677397set IIV[$E]=1093678938set IXV[$F]=1093747009set IOV[$F]=1093747000set IRV[$F]=1093747524set IIV[$F]=1093746993set IXV[16]=1093679157set IOV[16]=1093742680set IRV[16]=1093742898set IIV[16]=1093742932set IXV[17]=1093677913set IOV[17]=1093750324set IRV[17]=1095657827set IIV[17]=1093684291set IXV[18]=1093679172set IOV[18]=1093677126set IRV[18]=1093679177set IIV[18]=1093679160set IXV[19]=1093678137set IOV[19]=1093678405set IRV[19]=1093681745set IIV[19]=1093678645set IXV[20]=1093808453set IOV[20]=1093677391set IRV[20]=1095067246set IIV[20]=1093752632set IXV[21]=1093742660set IOV[21]=1093682231set IRV[21]=1093682242set IIV[21]=1093687627set IXV[22]=1093684300set IOV[22]=1093681754set IRV[22]=1093744977set IIV[22]=1093682009set IXV[23]=1093678410set IOV[23]=1093678664set IRV[23]=1093678658set IIV[23]=1093681483set IXV[24]=1093684045set IOV[24]=1093684310set IRV[24]=1093810260set IIV[24]=1093684308set IXV[25]=1093678130set IOV[25]=1093678129set IRV[25]=1093678642set IIV[25]=1093678388set IXV[26]=1093678644set IOV[26]=1093677907set IRV[26]=1093677909set IIV[26]=1093678160set IXV[27]=1093681733set IOV[27]=1093681731set IRV[27]=1093685040set IIV[27]=1093748042set IXV[28]=1093677360set IOV[28]=1093685848set IRV[28]=1093677136set IIV[28]=1093677128set IXV[29]=1093682775set IOV[29]=1093683024set IRV[29]=1093684531set IIV[29]=1093682774set IXV[30]=1093678669set IOV[30]=1097032808set IRV[30]=1093684568set IIV[30]=1093684561set IXV[31]=1093677139set IOV[31]=1093677132set IRV[31]=1093677142set IIV[31]=1093677388set IXV[32]=1093677108set IOV[32]=1093749073set IRV[32]=1093678913set IIV[32]=1093681716set IXV[33]=1093677894set IOV[33]=1093681490set IRV[33]=1093681996set IIV[33]=1093677895set IXV[34]=1093677618set IOV[34]=1095066220set IRV[34]=1093684057set IIV[34]=1093682483set IXV[35]=1093677622set IOV[35]=1093685570set IRV[35]=1093677625set IIV[35]=1093686851set IXV[36]=1093679182set IOV[36]=1093679190set IRV[36]=1093678657set IIV[36]=1093682514set IXV[37]=1093685041set IOV[37]=1093685071set IRV[37]=1093681732set IIV[37]=1093685042set IXV[38]=1093685047set IOV[38]=1093685046set IRV[38]=1093685048set IIV[38]=1093685045set IXV[39]=1093683532set IOV[39]=1093750345set IRV[39]=1093685043set IIV[39]=1095656306set IXV[40]=1093684054set IOV[40]=1093684280set IRV[40]=1093684302set IIV[40]=1093684053set IXV[41]=1093743696set IOV[41]=1093743698set IRV[41]=1093685591set IIV[41]=1093743695set IXV[42]=1093685584set IOV[42]=1093685582set IRV[42]=1093685585set IIV[42]=1093685586set IXV[43]=1093748033set IOV[43]=1093685846set IRV[43]=1093685839set IIV[43]=1093685840set IXV[44]=1093686073set IOV[44]=1093686083set IRV[44]=1093686082set IIV[44]=1093686072set IXV[45]=1093687860set IOV[45]=1093687861set IRV[45]=1093687862set IIV[45]=1093687864set IXV[46]=1093743414set IOV[46]=1093743444set IRV[46]=1093742926set IIV[46]=1093742923set IXV[47]=1093743178set IOV[47]=1093743179set IRV[47]=1093743689set IIV[47]=1093743184set IXV[48]=1093751631set IOV[48]=1093751633set IRV[48]=1093751895set IIV[48]=1093751861set IXV[49]=1093751894set IOV[49]=1093751639set IRV[49]=1093751637set IIV[49]=1093752118set IXV[50]=1093751873set IOV[50]=1093751864set IRV[50]=1093810257set IIV[50]=1093751874set IXV[51]=1093678918set IOV[51]=1093679186set IRV[51]=1093678387set IIV[51]=1093678420set IXV[52]=1093678904set IOV[52]=1093678925set IRV[52]=1093677635set IIV[52]=1093678158set IXV[53]=1093687349set IOV[53]=1093684558set IRV[53]=1093677646set IIV[53]=1093679413set IXV[54]=1093744435set IOV[54]=1093684569set IRV[54]=1093684563set IIV[54]=1093677363set IXV[55]=1093677651set IOV[55]=1093677879set IRV[55]=1093751364set IIV[55]=1093810508set IXV[56]=1093679192set IOV[56]=1093750337set IRV[56]=1093686872set IIV[56]=1093678923set IXV[57]=1093678389set IOV[57]=1093685847set IRV[57]=1093677902set IIV[57]=1093677903set IXV[58]=1093677892set IOV[58]=1093687878set IRV[58]=1093677893set IIV[58]=1093679411set IXV[59]=1093681736set IOV[59]=1093681735set IRV[59]=1093681739set IIV[59]=1093687121set IXV[60]=1093687629set IOV[60]=1093685324set IRV[60]=1093677904set IIV[60]=1093677905set IXV[61]=1093747504set IOV[61]=1093682994set IRV[61]=1093684560set IIV[61]=1093747028set IXV[62]=1093677640set IOV[62]=1093679173set IRV[62]=1093679158set IIV[62]=1093677899set IXV[63]=1095267426set IOV[63]=1096114550set IRV[63]=1095721842set IIV[63]=1093677401set IXV[64]=1093742674set IOV[64]=1093750608set IRV[64]=1093679412set IIV[64]=1093684565set IXV[65]=1093687351set IOV[65]=1093748789set IRV[65]=1093815119set IIV[65]=1093679445set IXV[66]=1093678403set IOV[66]=1093810507set IRV[66]=1093683786set IIV[66]=1093677876set IXV[67]=1093685559set IOV[67]=1093684549set IRV[67]=1093678145set IIV[67]=1093810258set IXV[68]=1093677872set IOV[68]=1095263841set IRV[68]=1093677621set IIV[68]=1093678161set IXV[69]=1093684299set IOV[69]=1093682010set IRV[69]=1093679153set IIV[69]=1093683761set IXV[70]=1093679446set IOV[70]=1093746995set IRV[70]=1093684557set IIV[70]=1093679152set IXV[71]=1093748023set IOV[71]=1093747792set IRV[71]=1093748022set IIV[71]=1093747023set IXV[72]=1093686322set IOV[72]=1093686099set IRV[72]=1093744948set IIV[72]=1093686103set IXV[73]=1093684564set IOV[73]=1093681989set IRV[73]=1093679428set IIV[73]=1093681987set IXV[74]=1093678134set IOV[74]=1093678149set IRV[74]=1093678132set IIV[74]=1093810505set IXV[75]=1093678166set IOV[75]=1093683019set IRV[75]=1093678169set IIV[75]=1093677649set IXV[76]=1093678422set IOV[76]=1093677390set IRV[76]=1093678640set IIV[76]=1093678647set IXV[77]=1093678665set IOV[77]=1093678667set IRV[77]=1093678660set IIV[77]=1093682764set IXV[78]=1093750840set IOV[78]=1093682515set IRV[78]=1093682997set IIV[78]=1093682996set IXV[79]=1093751127set IOV[79]=1093681985set IRV[79]=1093681991set IIV[79]=1093682004set IXV[80]=1093682521set IOV[80]=1093681746set IRV[80]=1093682773set IIV[80]=1093810506set IXV[81]=1093678671set IOV[81]=1093683248set IRV[81]=1093682753set IIV[81]=1093678674set IXV[82]=1093683510set IOV[82]=1093686065set IRV[82]=1093681974set IIV[82]=1093682482set IXV[83]=1093682499set IOV[83]=1093684293set IRV[83]=1093683512set IIV[83]=1093684296set IXV[84]=1093683507set IOV[84]=1093684550set IRV[84]=1093684551set IIV[84]=1093684819set IXV[85]=1093683287set IOV[85]=1093682776set IRV[85]=1093684801set IIV[85]=1093683257set IXV[86]=1093684813set IOV[86]=1093684805set IRV[86]=1093684815set IIV[86]=1093684820set IXV[87]=1093685065set IOV[87]=1093685066set IRV[87]=1093683526set IIV[87]=1093685067set IXV[88]=1093683765set IOV[88]=1093681491set IRV[88]=1093678672set IIV[88]=1395667000set IXV[89]=1093684802set IOV[89]=1093684792set IRV[89]=1093684791set IIV[89]=1093684567set IXV[90]=1093684817set IOV[90]=1093742668set IRV[90]=1093685074set IIV[90]=1093742673set IXV[91]=1093809743set IOV[91]=1093685825set IRV[91]=1093810232set IIV[91]=1093685808set IXV[92]=1093743955set IOV[92]=1093685813set IRV[92]=1093743958set IIV[92]=1093743946set IXV[93]=1093685573set IOV[93]=1093685575set IRV[93]=1093685815set IIV[93]=1093685579set IXV[94]=1093808471set IOV[94]=1093808472set IRV[94]=1093808470set IIV[94]=1093808473set IXV[95]=1093683511set IOV[95]=1093744688set IRV[95]=1093681713set IIV[95]=1093747288set IXV[96]=1093748044set IOV[96]=1093744982set IRV[96]=1093744986set IIV[96]=1093744975set IXV[97]=1093750087set IOV[97]=1093748819set IRV[97]=1093748817set IIV[97]=1093750089set IXV[98]=1093749069set IOV[98]=1093749303set IRV[98]=1093748818set IIV[98]=1093749070set IXV[99]=1093678156set IOV[99]=1093683252set IRV[99]=1093684566set IIV[99]=1093678929set IXV[100]=1093678679set IOV[100]=1093808212set IRV[100]=1093678678set IIV[100]=1093808454set IXV[101]=1093751608set IOV[101]=1093751618set IRV[101]=1093751604set IIV[101]=1093751617set IAV[1]=1093747031set IAV[2]=1093810504set IAV[5]=1093681494set IAV[8]=1093750594set IAV[$B]=1093679450set IAV[$C]=1093747032set IAV[20]=1093752633set IAV[22]=1093752392set IAV[23]=1093748313set IAV[24]=1093747539set IAV[25]=1093677141set IAV[28]=1093681457set IAV[30]=1093747254set IAV[38]=1093747249set IAV[42]=1093747251set IAV[44]=1093751120set IAV[45]=1093747542set IAV[47]=1093747766set IAV[50]=1093808455set IAV[51]=1093679176set IAV[53]=1093679447set IAV[54]=1093681462set IAV[62]=1093747248set IAV[64]=1093681458set IAV[67]=1093810259set IAV[69]=1093747767set IAV[70]=1093752154set IAV[71]=1093752150set IAV[73]=1093677658set IAV[75]=1093747769set IAV[76]=1093679184set IAV[77]=1093747544set IAV[78]=1093747768set IAV[81]=1093747252set IAV[82]=1093750098set IAV[84]=1093747777set IAV[86]=1093684824set IAV[87]=1093752407set IAV[88]=1395667029set IAV[90]=1093747778set IAV[94]=1093748565set IGV[1]="thunderbolt"set IHV[1]="volcano"set IJV[1]="passive"set IKV[1]="forkedlightning"set IGV[2]="chainlightning"set IHV[2]="thunderbolt"set IJV[2]="passive"set IKV[2]="thunderclap"set IGV[3]="passive"set IHV[3]="slow"set IJV[3]="locustswarm"set IKV[3]="poisonarrows"set IGV[4]="carrionswarm"set IHV[4]="acidbomb"set IJV[4]="replenishmana"set IKV[4]="itemillusion"set IGV[5]="blizzard"set IHV[5]="entanglingroots"set IJV[5]="passive"set IKV[5]="channel"set IGV[6]="acidbomb"set IHV[6]="passive"set IJV[6]="volcano"set IKV[6]="chemicalrage"set IGV[7]="mirrorimage"set IHV[7]="ensnare"set IJV[7]="passive"set IKV[7]="channel"set IGV[8]="channel"set IHV[8]="roar"set IJV[8]="passive"set IKV[8]="fanofknives"set IGV[9]="blizzard"set IHV[9]="channel"set IJV[9]="passive"set IKV[9]="passive"set IGV[$A]="summongrizzly"set IHV[$A]="fanofknives"set IJV[$A]="passive"set IKV[$A]="bearform"set IGV[$B]="shockwave"set IHV[$B]="inferno"set IJV[$B]="passive"set IKV[$B]="chainlightning"set IGV[$C]="whirlwind"set IHV[$C]="healingward"set IJV[$C]="passive"set IKV[$C]="thunderbolt"set IGV[$D]="blizzard"set IHV[$D]="poisonarrows"set IJV[$D]="passive"set IKV[$D]="channel"set IGV[$E]="invisibility"set IHV[$E]="thunderbolt"set IJV[$E]="innerfire"set IKV[$E]="channel"set IGV[$F]="charm"set IHV[$F]="volcano"set IJV[$F]="passive"set IKV[$F]="channel"set IGV[16]="channel"set IHV[16]="acidbomb"set IJV[16]="acolyteharvest"set IKV[16]="metamorphosis"set IGV[17]="thunderclap"set IHV[17]="channel"set IJV[17]="passive"set IKV[17]="berserk"set IGV[18]="thunderbolt"set IHV[18]="acidbomb"set IJV[18]="bloodlust"set IKV[18]="passive"set IGV[19]="drunkenhaze"set IHV[19]="fanofknives"set IJV[19]="curse"set IKV[19]="channel"set IGV[20]="thunderbolt"set IHV[20]="blink"set IJV[20]="forceofnature"set IKV[20]="chainlightning"set IGV[21]="acidbomb"set IHV[21]="windwalk"set IJV[21]="passive"set IKV[21]="passive"set IGV[22]="blizzard"set IHV[22]="channel"set IJV[22]="passive"set IKV[22]="passive"set IGV[23]="landmine"set IHV[23]="stasistrap"set IJV[23]="selfdestruct"set IKV[23]="summonward"set IGV[24]="drunkenhaze"set IHV[24]="thunderbolt"set IJV[24]="charm"set IKV[24]="channel"set IGV[25]="firebolt"set IHV[25]="moonglaive"set IJV[25]="passive"set IKV[25]="channel"set IGV[26]="blizzard"set IHV[26]="passive"set IJV[26]="moonglaive"set IKV[26]="thunderbolt"set IGV[27]="bearform"set IHV[27]="curse"set IJV[27]="passive"set IKV[27]="fanofknives"set IGV[28]="forkedlightning"set IHV[28]="hex"set IJV[28]="magicleash"set IKV[28]="summonward"set IGV[29]="channel"set IHV[29]="fanofknives"set IJV[29]="passive"set IKV[29]="passive"set IGV[30]="thunderclap"set IHV[30]="drunkenhaze"set IJV[30]="passive"set IKV[30]="elementalfury"set IGV[31]="stomp"set IHV[31]="firebolt"set IJV[31]="passive"set IKV[31]="passive"set IGV[32]="thunderbolt"set IHV[32]="passive"set IJV[32]="windwalk"set IKV[32]="faeriefire"set IGV[33]="breathoffire"set IHV[33]="thunderbolt"set IJV[33]="passive"set IKV[33]="metamorphosis"set IGV[34]="passive"set IHV[34]="blink"set IJV[34]="passive"set IKV[34]="thunderbolt"set IGV[35]="coldarrows"set IHV[35]="silence"set IJV[35]="passive"set IKV[35]="passive"set IGV[36]="frostarmor"set IHV[36]="antimagicshell"set IJV[36]="passive"set IKV[36]="battleroar"set IGV[37]="carrionswarm"set IHV[37]="summonquillbeast"set IJV[37]="passive"set IKV[37]="thunderbolt"set IGV[38]="carrionswarm"set IHV[38]="breathoffire"set IJV[38]="passive"set IKV[38]="shockwave"set IGV[39]="blizzard"set IHV[39]="fanofknives"set IJV[39]="passive"set IKV[39]="chemicalrage"set IGV[40]="channel"set IHV[40]="acidbomb"set IJV[40]="windwalk"set IKV[40]="corporealform"set IGV[41]="fanofknives"set IHV[41]="chainlightning"set IJV[41]="passive"set IKV[41]="carrionswarm"set IGV[42]="thunderbolt"set IHV[42]="poisonarrows"set IJV[42]="passive"set IKV[42]="firebolt"set IGV[43]="fanofknives"set IHV[43]="windwalk"set IJV[43]="passive"set IKV[43]="curse"set IGV[44]="acidbomb"set IHV[44]="channel"set IJV[44]="phaseshift"set IKV[44]="blizzard"set IGV[45]="channel"set IHV[45]="charm"set IJV[45]="blizzard"set IKV[45]="clusterrockets"set IGV[46]="blizzard"set IHV[46]="passive"set IJV[46]="charm"set IKV[46]="acidbomb"set IGV[47]="chainlightning"set IHV[47]="acidbomb"set IJV[47]="fanofknives"set IKV[47]="charm"set IGV[48]=""set IHV[48]=""set IJV[48]=""set IKV[48]=""set IGV[49]=""set IHV[49]=""set IJV[49]=""set IKV[49]=""set IGV[50]=""set IHV[50]=""set IJV[50]=""set IKV[50]=""set IGV[51]="frostnova"set IHV[51]="frostarmor"set IJV[51]="innerfire"set IKV[51]="sleep"set IGV[52]="carrionswarm"set IHV[52]="silence"set IJV[52]="passive"set IKV[52]="locustswarm"set IGV[53]="impale"set IHV[53]="hex"set IJV[53]="drain"set IKV[53]="chainlightning"set IGV[54]="volcano"set IHV[54]="passive"set IJV[54]="summonward"set IKV[54]="summongrizzly"set IGV[55]="shockwave"set IHV[55]="innerfire"set IJV[55]="carrionswarm"set IKV[55]="stomp"set IGV[56]="cripple"set IHV[56]="creepheal"set IJV[56]="passive"set IKV[56]="fanofknives"set IGV[57]="firebolt"set IHV[57]="channel"set IJV[57]="passive"set IKV[57]="mirrorimage"set IGV[58]="spiritwolf"set IHV[58]="channel"set IJV[58]="passive"set IKV[58]="metamorphosis"set IGV[59]="parasite"set IHV[59]="inferno"set IJV[59]="passive"set IKV[59]="roar"set IGV[60]="acidbomb"set IHV[60]="channel"set IJV[60]="passive"set IKV[60]="passive"set IGV[61]="bearform"set IHV[61]="chainlightning"set IJV[61]="manashield"set IKV[61]="charm"set IGV[62]="thunderbolt"set IHV[62]="drunkenhaze"set IJV[62]="passive"set IKV[62]="itemchangetime"set IGV[63]="thunderbolt"set IHV[63]="passive"set IJV[63]="passive"set IKV[63]="reincarnation"set IGV[64]="channel"set IHV[64]="fanofknives"set IJV[64]="firebolt"set IKV[64]="doom"set IGV[65]="impale"set IHV[65]="creepheal"set IJV[65]="carrionscarabsoff"set IKV[65]="windwalk"set IGV[66]="berserk"set IHV[66]="stomp"set IJV[66]="passive"set IKV[66]="faeriefire"set IGV[67]="shadowstrike"set IHV[67]="blink"set IJV[67]="fanofknives"set IKV[67]="carrionswarm"set IGV[68]="berserk"set IHV[68]="flamingarrows"set IJV[68]="windwalk"set IKV[68]="innerfire"set IGV[69]="carrionswarm"set IHV[69]="passive"set IJV[69]="passive"set IKV[69]="clusterrockets"set IGV[70]="poisonarrows"set IHV[70]="passive"set IJV[70]="passive"set IKV[70]="shadowstrike"set IGV[71]="fanofknives"set IHV[71]="acidbomb"set IJV[71]="passive"set IKV[71]="darkportal"set IGV[72]="itemareaheal"set IHV[72]="passive"set IJV[72]="chainlightning"set IKV[72]="channel"set IGV[73]="blizzard"set IHV[73]="banish"set IJV[73]="summongrizzly"set IKV[73]="drain"set IGV[74]="acidbomb"set IHV[74]="passive"set IJV[74]="passive"set IKV[74]="stomp"set IGV[75]="innerfire"set IHV[75]="chainlightning"set IJV[75]="sleep"set IKV[75]="magicleash"set IGV[76]="fanofknives"set IHV[76]="passive"set IJV[76]="passive"set IKV[76]="thunderbolt"set IGV[77]="channel"set IHV[77]="immolation"set IJV[77]="passive"set IKV[77]="magicleash"set IGV[78]="channel"set IHV[78]="passive"set IJV[78]="passive"set IKV[78]="channel"set IGV[79]="acidbomb"set IHV[79]="windwalk"set IJV[79]="passive"set IKV[79]="channel"set IGV[80]="roar"set IHV[80]="passive"set IJV[80]="passive"set IKV[80]="stomp"set IGV[81]="channel"set IHV[81]="voodoo"set IJV[81]="incinerate"set IKV[81]="charm"set IGV[82]="channel"set IHV[82]="creepheal"set IJV[82]="passive"set IKV[82]="chainlightning"set IGV[83]="soulburn"set IHV[83]="passive"set IJV[83]="passive"set IKV[83]="firebolt"set IGV[84]="acidbomb"set IHV[84]="chainlightning"set IJV[84]="passive"set IKV[84]="windwalk"set IGV[85]="acidbomb"set IHV[85]="passive"set IJV[85]="passive"set IKV[85]="ancestralspirit"set IGV[86]="chainlightning"set IHV[86]="immolation"set IJV[86]="blizzard"set IKV[86]="tornado"set IGV[87]="poisonarrows"set IHV[87]="chainlightning"set IJV[87]="passive"set IKV[87]="blizzard"set IGV[88]="thunderbolt"set IHV[88]="creepheal"set IJV[88]="blizzard"set IKV[88]="inferno"set IGV[89]="blizzard"set IHV[89]="carrionscarabsoff"set IJV[89]="passive"set IKV[89]="passive"set IGV[90]="thunderbolt"set IHV[90]="devourmagic"set IJV[90]="darkportal"set IKV[90]="blizzard"set IGV[91]="rainoffire"set IHV[91]="flamestrike"set IJV[91]="fanofknives"set IKV[91]="channel"set IGV[92]="blizzard"set IHV[92]="volcano"set IJV[92]="acidbomb"set IKV[92]="metamorphosis"set IGV[93]="blizzard"set IHV[93]="thunderbolt"set IJV[93]="bloodlust"set IKV[93]="curse"set IGV[94]="roar"set IHV[94]="fanofknives"set IJV[94]="battleroar"set IKV[94]="howlofterror"set IGV[95]="acidbomb"set IHV[95]="thunderbolt"set IJV[95]="channel"set IKV[95]="cannibalize"set IGV[96]="blizzard"set IHV[96]="thunderbolt"set IJV[96]="metamorphosis"set IKV[96]="chainlightning"set IGV[97]="channel"set IHV[97]="blizzard"set IJV[97]="berserk"set IKV[97]="acidbomb"set IGV[98]="fanofknives"set IHV[98]="channel"set IJV[98]="passive"set IKV[98]="windwalk"set IGV[99]="drain"set IHV[99]="channel"set IJV[99]="metamorphosis"set IKV[99]="cripple"set IGV[100]="inferno"set IHV[100]="summongrizzly"set IJV[100]="chainlightning"set IKV[100]="immolation"set IGV[101]=""set IHV[101]=""set IJV[101]=""set IKV[101]=""set IXV[500]=1094004784set IOV[500]=1094004785set IRV[500]=1094004786set IIV[500]=1094004787set IGV[500]="humanbuild"set IHV[500]="nightelfbuild"set IJV[500]="orcbuild"set IKV[500]="undeadbuild"set INV[1]=1094070320set IBV[1]=1094070321set ICV[1]=1094070322set IDV[1]=1094070323set INV[2]=1094070324set IBV[2]=1094070325set ICV[2]=1094070326set IDV[2]=1094070327set INV[3]=1094070328set IBV[3]=1094070329set ICV[3]=1094070337set IDV[3]=1094070338set INV[4]=1094070339set IBV[4]=1094070340set IDV[4]=1094070342set INV[5]=1094070343set IBV[5]=1094070344set ICV[5]=1094070345set IDV[5]=1094070346set INV[6]=1094070347set ICV[6]=1094070349set IDV[6]=1094070350set INV[7]=1094070351set IBV[7]=1094070352set ICV[7]=1094070353set IDV[7]=1094070354set INV[8]=1094070355set IBV[8]=1094070356set ICV[8]=1094070357set IDV[8]=1094070358set INV[9]=1094070359set IBV[9]=1094070360set ICV[9]=1094070361set IDV[9]=1094070362set INV[$A]=1094070576set IBV[$A]=1094070577set INV[$B]=1094070580set IBV[$B]=1094070581set ICV[$B]=1094070582set IDV[$B]=1094070583set INV[$C]=1094070584set IBV[$C]=1094070585set ICV[$C]=1094070593set IDV[$C]=1094070594set INV[$D]=1094070595set IBV[$D]=1094070596set ICV[$D]=1094070597set IDV[$D]=1094070598set INV[$E]=1094070599set IBV[$E]=1094070600set ICV[$E]=1094070601set IDV[$E]=1094070602set INV[$F]=1094070603set ICV[$F]=1094070605set IDV[$F]=1094070606set INV[16]=1094070607set IBV[16]=1094070608set ICV[16]=1094070609set INV[17]=1094070611set IBV[17]=1094070612set ICV[17]=1094070613set IDV[17]=1094070614set INV[18]=1094070615set IBV[18]=1094070616set ICV[18]=1094070617set INV[19]=1094070832set IBV[19]=1094070833set ICV[19]=1094070834set IDV[19]=1094070835set INV[20]=1094070836set IBV[20]=1094070837set ICV[20]=1094070838set IDV[20]=1094070839set INV[21]=1094070840set IBV[21]=1094070841set ICV[21]=1094070849set IDV[21]=1094070850set INV[22]=1094070851set IBV[22]=1094070852set ICV[22]=1094070853set INV[23]=1094070855set IBV[23]=1094070856set ICV[23]=1094070857set IDV[23]=1094070858set INV[24]=1094070859set IBV[24]=1094070860set ICV[24]=1094070861set IDV[24]=1094070862set INV[25]=1094070863set ICV[25]=1094070865set IDV[25]=1094070866set INV[26]=1094070867set IBV[26]=1094070868set IDV[26]=1094070870set IBV[27]=1094070872set ICV[27]=1094070873set IDV[27]=1094070874set INV[28]=1094071088set IBV[28]=1094071089set ICV[28]=1094071090set IDV[28]=1094071091set INV[29]=1094071092set IBV[29]=1094071093set ICV[29]=1094071094set IDV[29]=1094071095set INV[30]=1094071096set IBV[30]=1094071097set ICV[30]=1094071105set IDV[30]=1094071106set INV[31]=1094071107set IBV[31]=1094071108set ICV[31]=1094071109set IDV[31]=1094071110set INV[32]=1094071111set IBV[32]=1094071112set ICV[32]=1094071113set IDV[32]=1094071114set INV[33]=1094071115set IBV[33]=1094071116set ICV[33]=1094071117set INV[34]=1094071119set IBV[34]=1094071120set ICV[34]=1094071121set IDV[34]=1094071122set INV[35]=1094071123set IBV[35]=1094071124set ICV[35]=1094071125set IDV[35]=1094071126set INV[36]=1094071127set IBV[36]=1094071128set ICV[36]=1094071129set IDV[36]=1094071130set INV[37]=1094071344set IBV[37]=1094071345set ICV[37]=1094071346set IDV[37]=1094071347set INV[38]=1094071348set IBV[38]=1094071349set ICV[38]=1094071350set IDV[38]=1094071351set INV[39]=1094071352set ICV[39]=1094071361set INV[40]=1094071363set IBV[40]=1094071364set ICV[40]=1094071365set IDV[40]=1094071366set INV[41]=1094071367set IBV[41]=1094071368set ICV[41]=1094071369set IDV[41]=1094071370set INV[42]=1094071371set IBV[42]=1094071372set ICV[42]=1094071373set IDV[42]=1094071374set INV[43]=1094071375set IBV[43]=1094071376set IDV[43]=1094071378set INV[44]=1094071379set IBV[44]=1094071380set ICV[44]=1094071381set IDV[44]=1094071382set INV[45]=1094071383set IBV[45]=1094071384set ICV[45]=1094071385set IDV[45]=1094071386set INV[46]=1094071600set ICV[46]=1094071602set IDV[46]=1094071603set INV[47]=1094071604set IBV[47]=1094071605set ICV[47]=1094071606set IDV[47]=1094071607set INV[48]=1094071608set IBV[48]=1094071609set ICV[48]=1094071617set IDV[48]=1094071618set INV[49]=1094071619set IBV[49]=1094071620set IDV[49]=1094071622set INV[50]=1094071623set IBV[50]=1094071624set ICV[50]=1094071625set IDV[50]=1094071626set INV[51]=1094071627set IBV[51]=1094071628set ICV[51]=1094071629set IDV[51]=1094071630set INV[52]=1094071631set IBV[52]=1094071632set IDV[52]=1094071634set INV[53]=1094071635set IBV[53]=1094071636set ICV[53]=1094071637set IDV[53]=1094071638set INV[54]=1094071639set IBV[54]=1094071640set ICV[54]=1094071641set IDV[54]=1094071642set INV[55]=1094071856set IBV[55]=1094071857set IDV[55]=1094071859set INV[56]=1094071860set IDV[56]=1094071863set INV[57]=1094071864set IBV[57]=1094071865set ICV[57]=1094071873set IDV[57]=1094071874set INV[58]=1094071875set IBV[58]=1094071876set ICV[58]=1094071877set INV[59]=1094071879set IBV[59]=1094071880set ICV[59]=1094071881set INV[60]=1094071883set IBV[60]=1094071884set ICV[60]=1094071885set IDV[60]=1094071886set IBV[61]=1094071888set ICV[61]=1094071889set IDV[61]=1094071890set INV[62]=1094071891set IBV[62]=1094071892set ICV[62]=1094071893set IDV[62]=1094071894set INV[63]=1094071895set IBV[63]=1094071896set ICV[63]=1094071897set IDV[63]=1094071898set IBV[64]=1094072113set ICV[64]=1094072114set IDV[64]=1094072115set INV[65]=1094072116set IBV[65]=1094072117set ICV[65]=1094072118set IDV[65]=1094072119set INV[66]=1094072120set IBV[66]=1094072121set ICV[66]=1094072129set IDV[66]=1094072130set INV[67]=1094072131set IBV[67]=1094072132set ICV[67]=1094072133set IDV[67]=1094072134set INV[68]=1094072135set IBV[68]=1094072136set ICV[68]=1094072137set IDV[68]=1094072138set INV[69]=1094072139set IBV[69]=1094072140set ICV[69]=1094072141set IDV[69]=1094072142set INV[70]=1094072143set IBV[70]=1094072144set ICV[70]=1094072145set IDV[70]=1094072146set INV[71]=1094072147set IBV[71]=1094072148set ICV[71]=1094072149set IDV[71]=1094072150set IBV[72]=1094072152set ICV[72]=1094072153set INV[73]=1094072368set IBV[73]=1094072369set ICV[73]=1094072370set IDV[73]=1094072371set INV[74]=1094072372set IBV[74]=1094072373set IDV[74]=1094072375set INV[75]=1094072376set IBV[75]=1094072377set ICV[75]=1094072385set IDV[75]=1094072386set INV[76]=1094072387set IBV[76]=1094072388set ICV[76]=1094072389set IDV[76]=1094072390set INV[77]=1094072391set IBV[77]=1094072392set ICV[77]=1094072393set IDV[77]=1094072394set IBV[78]=1094072396set ICV[78]=1094072397set IDV[78]=1094072398set INV[79]=1094072399set IBV[79]=1094072400set ICV[79]=1094072401set IDV[79]=1094072402set INV[81]=1094072407set IBV[81]=1094072408set ICV[81]=1094072409set IDV[81]=1094072410set INV[82]=1094072624set IBV[82]=1094072625set ICV[82]=1094072626set IDV[82]=1094072627set INV[83]=1094072628set IBV[83]=1094072629set ICV[83]=1094072630set IDV[83]=1094072631set INV[84]=1094072632set IBV[84]=1094072633set ICV[84]=1094072641set IDV[84]=1094072642set INV[85]=1094072643set IBV[85]=1094072644set ICV[85]=1094072645set IDV[85]=1094072646set INV[86]=1094072647set IBV[86]=1094072648set ICV[86]=1094072649set IDV[86]=1094072650set INV[87]=1094072651set IBV[87]=1094072652set ICV[87]=1094072653set IDV[87]=1094072654set INV[88]=1094072655set IBV[88]=1094072656set ICV[88]=1094072657set IDV[88]=1094072658set INV[89]=1094072659set ICV[89]=1094072661set INV[90]=1094072663set IBV[90]=1094072664set ICV[90]=1094072665set IDV[90]=1094072666set INV[91]=1094074672set IBV[91]=1094074673set ICV[91]=1094074674set IDV[91]=1094074675set INV[92]=1094074676set IBV[92]=1094074677set ICV[92]=1094074678set INV[93]=1094074680set IBV[93]=1094074681set ICV[93]=1094074689set IDV[93]=1094074690set INV[95]=1094074695set IBV[95]=1094074696set ICV[95]=1094074697set IDV[95]=1094074698set INV[96]=1094074699set IBV[96]=1094074700set IDV[96]=1094074702set INV[97]=1094074703set IBV[97]=1094074704set ICV[97]=1094074705set IDV[97]=1094074706set INV[98]=1094074707set IBV[98]=1094074708set ICV[98]=1094074709set IDV[98]=1094074710set IFV[1]=1094135856set IFV[2]=1094135857set IFV[5]=1094135858set IFV[8]=1094135897set IFV[$B]=1094135859set IFV[$C]=1094135860set IFV[20]=1094135861set IFV[23]=1094135862set IFV[24]=1094135863set IFV[25]=1094135864set IFV[28]=1094135865set IFV[30]=1094135873set IFV[38]=1094135874set IFV[42]=1094135875set IFV[45]=1094135876set IFV[47]=1094135877set IFV[50]=1094135878set IFV[51]=1094135879set IFV[53]=1094135880set IFV[54]=1094135881set IFV[62]=1094135882set IFV[64]=1094135883set IFV[67]=1094135884set IFV[69]=1094135885set IFV[73]=1094135886set IFV[75]=1094135887set IFV[76]=1094135888set IFV[77]=1094135889set IFV[78]=1094135890set IFV[81]=1094135891set IFV[82]=1094135896set IFV[84]=1094135892set IFV[86]=1094135893set IFV[90]=1094135894endfunctionfunction E5 takes nothing returns nothingset IEV[QU]=500set IEV[SU]=500set IEV[ZU]=450set IEV[VW]=$B9set IEV[EW]=450set IEV[OW]=$3E8set IEV[RW]=450set IEV[NW]=$4B0set IEV[HW]=550set IEV[QW]=$578set IEV[TW]=$960set IEV[UW]=$CE4set IEV[YW]=$3E8set IEV[ZW]=$96set IEV[GY]=700set IEV[HY]=700set IEV[SY]=950set IEV[UY]=$834set IEV[ZY]=53set IEV[EZ]=$866set IEV[XZ]=$866set IEV[RZ]=$96set IEV[AZ]=900set IEV[NZ]=$C80set IEV[BZ]=$640set IEV[CZ]=$A8Cset IEV[DZ]=$3E8set IEV[HZ]=550set IEV[E0]=$578set IEV[X0]=$4B0set IEV[O0]=900set IEV[R0]=875set IEV[J0]=$AFset IEV[Y0]=350set IEV[V1]=450set IEV[E1]=$ED8set IEV[X1]=$96set IEV[R1]=325set IEV[A1]=$3E8set IEV[D1]=$FAset IEV[F1]=$FAset IEV[J1]=$834set IEV[P1]=$44Cset IEV[Q1]=875set IEV[T1]=$5DCset IEV[U1]=600set IEV[E2]=600set IEV[X2]=600set IEV[R2]=600set IEV[F2]=600set IEV[H2]=600set IEV[T2]=600set IEV[R3]=600set IEV[B3]=600set IEV[C3]=600set IEV[H3]=$C8set IEV[U3]=$E1set IEV[W3]=$E1set IEV[Y3]=$708set IEV[A5]=50set IEV[N5]=0set IEV[B5]=100set IEV[C5]=90set IEV[F5]=$C8set IEV[G5]=$C8set IEV[J5]=$87set IEV[L5]=$87set IEV[M5]=$96set IEV[S5]=$3E8set IEV[T5]=0set IEV[W5]=$B4set IEV[H6]=$6D6set IEV[W6]=603set IEV[E7]=803set IEV[X7]=500set IEV[O7]=500set IEV[A7]=$9C4set IEV[B7]=$5AAset IEV[C7]=$5AAset IEV[D7]=$5AAset IEV[F7]=$76Cset IEV[L7]=$68Bset IEV[M7]=525set IEV[P7]=485set IEV[T7]=505set IEV[U7]=$866set IEV[W7]=$866set IEV[Y7]=$B86set IEV[Z7]=$B86set IEV[V8]=$898set IEV[E8]=$A8Cset IEV[X8]=$CE4set IEV[O8]=4150set IEV[R8]=$CE4set IEV[A8]=4150set IEV[N8]=$73Aset IEV[B8]=$73Aset IEV[C8]=$76Cset IEV[D8]=$AF0set IEV[F8]=$CE4set IEV[G8]=$902set IEV[L8]=4300set IEV[W8]=4100set IEV[Y8]=4350set IEV[Z8]=$866set IEV[VVV]=$F3Cset IEV[VEV]=$F3Cset IEV[VXV]=$F3Cset IEV[VOV]=$F3Cset IEV[VRV]=$F3Cset IEV[VIV]=$F3Cset IEV[VAV]=0set IEV[VNV]=4900set IEV[VBV]=4900set IEV[VCV]=$CE4set IEV[VDV]=$AF5set IEV[VFV]=4105set IEV[VGV]=5405set IEV[VHV]=6705set IEV[VJV]=8005set IEV[VKV]=$A8Cset IEV[VLV]=$F6Eset IEV[VMV]=5200set IEV[VPV]=5175set IEV[VQV]=5175set IEV[VSV]=6200set IEV[VUV]=5750set IEV[VWV]=5400set IEV[VYV]=5400set IEV[VZV]=5150set IEV[V_V]=5150set IEV[V0V]=5500set IEV[V2V]=6150set IEV[V3V]=5750set IEV[V4V]=5750set IEV[V5V]=6000set IEV[V6V]=5300set IEV[V7V]=5675set IEV[V8V]=$8B1set IEV[V9V]=$8B1set IEV[EEV]=5400set IEV[EXV]=370set IEV[EOV]=$802set IEV[ERV]=5350set IEV[EIV]=5050set IEV[EAV]=$84Dset IEV[ENV]=$A28set IEV[EBV]=$A28set IEV[ECV]=$A28set IEV[EDV]=$A28set IEV[EFV]=4700set IEV[EGV]=4700set IEV[EHV]=4125set IEV[EJV]=$578set IEV[EKV]=509set IEV[ELV]=$898set IEV[EMV]=$E2Cset IEV[EPV]=550set IEV[EQV]=550set IEV[ESV]=875set IEV[EUV]=$640set IEV[EWV]=$C8set IEV[EYV]=$C8set IEV[EZV]=$7D0set IEV[E_V]=0set IEV[E0V]=$578set IEV[E1V]=$BEset IEV[E2V]=$96set IEV[E3V]=$AAset IEV[E4V]=700set IEV[E5V]=700set IEV[E6V]=$3E8set IEV[E7V]=800set IEV[E8V]=850set IEV[E9V]=$3E8set IEV[XVV]=600set IEV[XEV]=900set IEV[XXV]=0set IEV[XOV]=900set IEV[XRV]=500set IEV[XIV]=$514set IEV[XAV]=650set IEV[XNV]=$3E8set IEV[XBV]=$514set IEV[XCV]=$4E2set IEV[XDV]=$52Dset IEV[XFV]=$4B0set IEV[XGV]=$546set IEV[XHV]=$4B0set IEV[XJV]=$44Cset IEV[XKV]=0set IEV[XLV]=$753set IEV[XPV]=$C8set IEV[XQV]=300set IEV[XSV]=$514set IEV[XTV]=700set IEV[XUV]=600set IEV[XWV]=$96set IEV[XYV]=300set IEV[XZV]=900set IEV[X_V]=600set IEV[X0V]=$FAset IEV[X9V]=$4E2set IEV[OVV]=775set IEV[X4V]=350set IEV[X5V]=350set IEV[X6V]=$5DCset IEV[Z3]=$5DCset IEV[V4]=$5DCset IEV[E4]=$6BDset IEV[X4]=$6BDset IEV[E6]=100set IEV[A6]=$433set IEV[X8V]=$C8set IEV[X7V]=750set IEV[N6]=$A5Aset IEV[F6]=$F6Eset IEV[T4]=$C1Cset IEV[D4]=$401set IEV[P4]=$401set IEV[G6]=6750set IEV[Y4]=985set IEV[R5]=985set IEV[OGV]=4200set IEV[OHV]=4200set IEV[OJV]=4200set IEV[OKV]=4200set IEV[OLV]=4200set IEV[OMV]=4200set IEV[OPV]=4200set IEV[OQV]=4200set IEV[OSV]=4200set IEV[OTV]=4200set IEV[OWV]=4200set IEV[OYV]=4200set IEV[OZV]=4200set IEV[O_V]=4200set IEV[O0V]=4200set IEV[O1V]=4200set IEV[O2V]=4200set IEV[O3V]=4200set IEV[O4V]=4200set IEV[O5V]=4200set IEV[O6V]=4200set IEV[O7V]=4200set IEV[O8V]=4200set IEV[O9V]=4200set IEV[RVV]=4200set IEV[REV]=4200set IEV[RXV]=4200set IEV[ROV]=4200set IEV[RRV]=4200set IEV[RIV]=4200set IEV[RAV]=4200set IEV[RNV]=4200set IEV[RBV]=4200set IEV[RCV]=4200set IEV[RDV]=4200set IEV[RFV]=4200set IEV[RGV]=4200set IEV[RHV]=4200set IEV[OUV]=4200set IEV[RJV]=4200set IEV[RKV]=4200set IEV[RMV]=4200set IEV[RPV]=4200set IEV[RQV]=4200set IEV[RSV]=4200set IEV[RTV]=4200set IEV[RUV]=4200set IEV[RWV]=4200set IEV[RYV]=4200set IEV[RZV]=4200set IEV[R_V]=4200set IEV[R0V]=4200set IEV[RLV]=4200endfunctionfunction is takes unit it returns booleanreturn((GetUnitCurrentOrder(it)<$D0020)and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))]))endfunctionfunction XME takes unit XPE returns booleanlocal integer XQE=GetUnitCurrentOrder(XPE)return(XQE==0)or(XQE==$D0005)or(XQE==$D0007)or(XQE==$D0013)or(XQE==$D0019)endfunctionfunction iU takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)return((X5<$D0020)and((GetUnitAbilityLevel(it,1110454618)==0))and((X5!=$D000F)or(not GZ[48+GetPlayerId(GetOwningPlayer(it))]))and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))])and(GetUnitAbilityLevel(it,1110459975)==0))endfunctionfunction iy takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))return((h4[O5]==null)and((h4[$A0+O5]==null)or(GetWidgetLife(h4[$A0+O5])<=.405)or(not IsUnitInRange(h4[$A0+O5],it,1000.)))and(not G0[$90+O5]))endfunctionfunction XSE takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)local integer i1=GetUnitTypeId(it)if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz thenreturn falseelseif((X5==$D0005)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))thenreturn falseelseif(X5>$D0027)and(X5<$D002E)and((GetItemTypeId(UnitItemInSlot(it,X5-$D0027))==BU[L5])or(GetItemTypeId(UnitItemInSlot(it,X5-$D0027))==BU[A7]))thenreturn falseelseif((X5<$D0028)and((i1!=1328558154)or((GetUnitAbilityLevel(it,1110454618)==0))))thenreturn trueelseif(X5==$D0278)and((i1==1212363833))thenreturn falseelseif(GetUnitAbilityLevel(it,1110459975)!=0)thenreturn falseendifreturn((X5>$D002D)and(X5!=$D0200)and(X5!=$D022D)and(X5!=$D0207)and(X5!=$D0275)and((i1!=1160786243)or(X5!=$D0079))and((i1!=1315334514)or(X5!=$D009F))and((i1!=1429221451)or(X5!=$D0265))and((X5!=$D0249)or((i1!=1211117641)and(i1!=1211117642)))and((X5!=$D0278)or((i1!=1214931305)and(i1!=1316252014)and(i1!=1214409837)))and(((i1!=1164277353)and(i1!=1164277357))or(X5!=$D00DD))and((i1!=1311780946)or(X5!=$D010E))and((i1!=1311786311)or(X5!=$D02B6))and((i1!=1328558389)or(X5!=$D0265))and((i1!=1429221451)or(X5!=$D0217))and((i1!=1311780930)or(X5!=$D0222))and(((i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(X5!=$D0118)))endfunctionfunction i2 takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)local integer i1=GetUnitTypeId(it)if(X5<$D0028)thenreturn falseendifreturn((X5<=$D002D)or(X5==$D0200)or(X5==$D0207)or(X5==$D0275)or((i1==1328558154)and((GetUnitAbilityLevel(it,1110454618)>0)))or((i1==1160786243)and(X5==$D0079))or((i1==1315334514)and(X5==$D009F))or((i1==1429221451)and(X5==$D0265))or(((i1==1214931305)or(i1==1316252014)or(i1==1214409837))and(X5==$D0278)))endfunctionfunction XTE takes integer O5 returns playerif((O5>0)and(O5<6))thenreturn RX[O5]elseif((O5>5)and(O5<$B))thenreturn GX[O5-5]endifreturn nullendfunctionfunction XUE takes string O5 returns playerif O5=="0" thenset bj_forLoopAIndex=$Aelseset bj_forLoopAIndex=S2I(O5)endifif((bj_forLoopAIndex>0)and(bj_forLoopAIndex<6))thenreturn RX[bj_forLoopAIndex]elseif((bj_forLoopAIndex>5)and(bj_forLoopAIndex<$B))thenreturn GX[bj_forLoopAIndex-5]endifreturn nullendfunctionfunction i5 takes player pl returns integerlocal integer O5=1loopexitwhen O5>5if(pl==RX[O5])thenreturn O5elseif(pl==GX[O5])thenreturn O5+5endifset O5=O5+1endloopreturn 0endfunctionfunction XWE takes unit V_E returns booleanif IsUnitAlly(V_E,RX[0])thenreturn IsUnitVisible(V_E,QOV)elsereturn IsUnitVisible(V_E,QXV)endifreturn falseendfunctionfunction XYE takes unit V_E returns booleanif IsUnitAlly(V_E,RX[0])thenreturn IsVisibleToPlayer(GetUnitX(V_E),GetUnitY(V_E),QOV)elsereturn IsVisibleToPlayer(GetUnitX(V_E),GetUnitY(V_E),QXV)endifreturn falseendfunctionfunction XZE takes unit it returns booleanreturn(GetWidgetLife(it)>.405 and((not IsUnitType(it,UNIT_TYPE_HERO))or(not I4V[GetPlayerId(GetOwningPlayer(it))])))endfunctionfunction X_E takes unit X0E,unit V_E returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(V_E))return((IsUnitType(X0E,UNIT_TYPE_HERO))and(((R2I(GetWidgetLife(X0E))<(300+(GetHeroLevel(X0E)*30)))and(GetUnitLifePercent(X0E)<40.))or((hq[624+O5]>Bz and h4[O5]==X0E)))and(XZE(X0E)))endfunctionfunction X1E takes unit it returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(XZE(it)))endfunctionfunction X2E takes integer O5 returns booleanreturn(hq[624+O5]>Bz and h4[O5]!=null)and(not X1E(QV[O5]))endfunctionfunction X3E takes unit it returns booleanreturn((GetUnitAbilityLevel(it,1110459472)>0)or(GetUnitAbilityLevel(it,1093687122)>0)or(GetUnitAbilityLevel(it,1110454856)>0))endfunctionfunction X4E takes unit it returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(600+(GetHeroLevel(it)*30)))and(GetWidgetLife(it)>.405))endfunctionfunction X5E takes unit it,unit IB returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(GetWidgetLife(it)>.405)and(GetUnitState(IB,UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)-(10.*GetHeroLevel(IB)))))endfunctionfunction IC takes integer O5 returns booleanreturn((J[O5]-3)>=D[O5])endfunctionfunction Id takes integer O5 returns booleanreturn((h4[O5]!=null)and(X5E(h4[O5],QV[O5])))endfunctionfunction Ie takes rect r,boolexpr Ig returns unitcall GroupClear(ig)call GroupEnumUnitsInRect(ig,r,Ig)set bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall ForGroup(ig,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction IH takes player pl,boolexpr Ig returns integercall GroupClear(ig)call GroupEnumUnitsOfPlayer(ig,pl,Ig)set bj_groupCountUnits=0call ForGroup(ig,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction X6E takes real Im,location b5,boolexpr Ig returns unitset bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall GroupClear(H9)call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)call ForGroup(H9,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction X7E takes real Im,unit V_E,boolexpr Ig returns unitset bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall GroupClear(H9)call GroupEnumUnitsInRange(H9,GetUnitX(V_E),GetUnitY(V_E),Im,Ig)call ForGroup(H9,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction X8E takes real Im,location b5,boolexpr Ig returns unitcall GroupClear(H9)call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)call DestroyBoolExpr(Ig)return FirstOfGroup(H9)endfunctionfunction X9E takes real Im,location b5,boolexpr Ig returns integercall GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,Im,Ig)set bj_groupCountUnits=0call ForGroup(H8,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction OVE takes real Im,unit it,boolexpr Ig returns integercall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),Im,Ig)set bj_groupCountUnits=0call ForGroup(H8,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction IV takes real x,real y,real IW,boolexpr Ig,code IX returns nothingcall GroupClear(iF)call GroupEnumUnitsInRange(iF,x,y,IW,Ig)call ForGroup(iF,IX)call DestroyBoolExpr(Ig)endfunctionfunction OEE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction OXE takes unit it,integer Iz returns booleanlocal integer I8=0local item jaset bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(GetItemTypeId(ja)==Iz))thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction OOE takes unit it returns booleanlocal integer I8=0loopif(UnitItemInSlot(it,I8)==null)thenreturn falseendifset I8=I8+1exitwhen(I8>=bj_MAX_INVENTORY)endloopreturn trueendfunctionfunction ORE takes unit it returns booleanlocal integer I8=0loopif(UnitItemInSlot(it,I8)!=null)thenreturn falseendifset I8=I8+1exitwhen(I8>=bj_MAX_INVENTORY)endloopreturn trueendfunctionfunction OIE takes unit S4,integer n5,item Z4 returns itemlocal integer D5local item f5set D5=0loopexitwhen D5>5set f5=UnitItemInSlot(S4,D5)if f5!=null and f5!=Z4 and GetItemTypeId(f5)==n5 thenset f5=nullreturn UnitItemInSlot(S4,D5)endifset D5=D5+1endloopset f5=nullreturn nullendfunctionfunction OAE takes unit S4,integer n5 returns itemlocal integer D5local item f5set D5=0loopexitwhen D5>5set f5=UnitItemInSlot(S4,D5)if(f5!=null)and(GetItemTypeId(f5)==n5)thenset f5=nullreturn UnitItemInSlot(S4,D5)endifset D5=D5+1endloopset f5=nullreturn nullendfunctionfunction ONE takes integer i1 returns booleanreturn(i1==BU[VVV]or i1==BU[VEV]or i1==BU[VXV]or i1==BU[VOV]or i1==BU[VRV]or i1==BU[VIV])endfunctionfunction OBE takes integer i1,integer Iz,boolean OCE returns booleanif i1==Iz thenreturn trueelseif(i1==EPV or i1==EQV)and(Iz==EPV or Iz==EQV)thenreturn trueelseif(i1==D1 or i1==F1)and(Iz==D1 or Iz==F1)thenreturn trueelseif(i1==U3 or i1==W3)and(Iz==U3 or Iz==W3)thenreturn trueelseif(i1==Y7 or i1==Z7)and(Iz==Y7 or Iz==Z7)thenreturn trueelseif(i1==Z3 or i1==V4)and(Iz==Z3 or Iz==V4)thenreturn trueelseif(i1==VNV or i1==VBV)and(Iz==VNV or Iz==VBV)thenreturn trueelseif(i1==V3V or i1==V4V)and(Iz==V3V or Iz==V4V)thenreturn trueelseif(i1==V8V or i1==V9V)and(Iz==V8V or Iz==V9V)thenreturn trueelseif(i1==U1 or i1==E2 or i1==X2 or i1==R2 or i1==F2 or i1==H2 or i1==T2 or i1==R3 or i1==B3 or i1==C3)and(Iz==U1 or Iz==E2 or Iz==X2 or Iz==R2 or Iz==F2 or Iz==H2 or Iz==T2 or Iz==R3 or Iz==B3 or Iz==C3)thenreturn trueelseif(i1==E4 or i1==X4)and(Iz==E4 or Iz==X4)thenreturn trueelseif(i1==B7 or i1==C7 or i1==D7)and(Iz==B7 or Iz==C7 or Iz==D7)thenreturn trueelseif(i1==ESV or i1==ETV)and(Iz==ESV or Iz==ETV)thenreturn trueelseif OCE and((i1==X8 or i1==R8 or i1==O8 or i1==A8)and(Iz==X8 or Iz==R8 or Iz==O8 or Iz==A8))thenreturn trueelseif(i1==X8 or i1==R8)and(Iz==X8 or Iz==R8)thenreturn trueelseif(i1==O8 or i1==A8)and(Iz==O8 or Iz==A8)thenreturn trueelseif OCE and((i1==VDV or i1==VFV or i1==VGV or i1==VHV or i1==VJV)and(Iz==VDV or Iz==VFV or Iz==VGV or Iz==VHV or Iz==VJV))thenreturn trueelseif OCE and((i1==VKV or i1==VLV or i1==VMV)and(Iz==VKV or Iz==VLV or Iz==VMV))thenreturn trueelseif(i1==VVV or i1==VEV or i1==VXV or i1==VOV or i1==VRV or i1==VIV)and(Iz==VVV or Iz==VEV or Iz==VXV or Iz==VOV or Iz==VRV or Iz==VIV)thenreturn trueelseif(i1==X7 or i1==O7)and(Iz==X7 or Iz==O7)thenreturn trueelseif(i1==Y4 or i1==R5)and(Iz==Y4 or Iz==R5)thenreturn trueelseif(i1==VZV or i1==V_V)and(Iz==VZV or Iz==V_V)thenreturn trueelseif(i1==VWV or i1==VYV)and(Iz==VWV or Iz==VYV)thenreturn trueelseif(i1==V0V or i1==V1V)and(Iz==V0V or Iz==V1V)thenreturn trueelseif(i1==ENV or i1==EBV or i1==ECV or i1==EDV)and(Iz==ENV or Iz==EBV or Iz==ECV or Iz==EDV)thenreturn trueelseif(i1==J5 or i1==L5)and(Iz==J5 or Iz==L5)thenreturn trueelseif(i1==VPV or i1==VQV)and(Iz==VPV or Iz==VQV)thenreturn trueelseif(i1==VSV or i1==VTV)and(Iz==VSV or Iz==VTV)thenreturn trueelseif(i1==N8 or i1==B8)and(Iz==N8 or Iz==B8)thenreturn trueelseif(i1==GY or i1==HY)and(Iz==GY or Iz==HY)thenreturn trueelseif(i1==F7 or i1==G7)and(Iz==F7 or Iz==G7)thenreturn trueelseif(i1==EFV or i1==EGV)and(Iz==EFV or Iz==EGV)thenreturn trueendifreturn falseendfunctionfunction ODE takes unit it,integer Iz returns booleanlocal integer i=0local item jalocal integer i1local boolean OFE=falseset i=0loopexitwhen i>PUif NU[i]==Iz or BU[i]==Iz or FU[i]==Iz thenset Iz=iexitwhen trueendifset i=i+1endloopif i>PU thenreturn falseendifset i=0set bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,i)if ja!=null thenset i1=XGE(ja)if OBE(i1,Iz,true)thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifendifset i=i+1exitwhen i>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction OGE takes unit it returns booleanlocal integer I8=0local item jaset bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(GetItemTypeId(ja)==BU[EKV]or GetItemTypeId(ja)==BU[H3]))thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction jP takes unit j5,integer Iz returns booleanlocal boolean jR=falselocal integer O5if(ODE(j5,Iz))thenset O5=GetPlayerId(GetOwningPlayer(j5))set GZ[$E0+O5]=trueset jR=UnitUseItem(j5,bj_lastCreatedItem)set GZ[$E0+O5]=falseendifreturn jRendfunctionfunction OHE takes unit OJE,unit OKE returns booleanlocal boolean OLE=falselocal integer O5=GetPlayerId(GetOwningPlayer(OJE))if((J8V)and(not KXV[O5])and(GetUnitTypeId(OJE)!=1211117642)and(not IsUnitIllusion(OJE))and(Bz>KEV[O5])and(OKE!=null)and(GetUnitLevel(OJE)>5)and(GetUnitState(OJE,UNIT_STATE_MANA)>300)and(not OXE(OJE,BU[VDV]))and(not OXE(OJE,BU[VFV]))and(not OXE(OJE,BU[VGV]))and(not OXE(OJE,BU[VHV]))and(not OXE(OJE,BU[VJV]))and(GetRandomInt(1,4)!=4))thenif(GetUnitLevel(OJE)>$C and GetUnitLevel(OJE)<20)thenset KDV=GetRandomInt(3,5)elseif(GetUnitLevel(OJE)>19 and GetUnitLevel(OJE)<25)thenset KDV=GetRandomInt(4,5)elseif(GetUnitLevel(OJE)>24)thenset KDV=5elseset KDV=GetRandomInt(1,5)endifset KRV[O5]=CreateItem(J9V[KDV],9999,-9999)set KXV[O5]=falseif(KRV[O5]!=null)thenset KOV[O5]=UnitItemInSlot(OJE,5)if(KOV[O5]!=null)thencall DisableTrigger(R3V)call UnitRemoveItem(OJE,KOV[O5])call SetItemPosition(KOV[O5],9999,-9999)call EnableTrigger(R3V)endifcall EYE(.2)set KXV[O5]=(UnitAddItem(OJE,KRV[O5]))call SetItemPlayer(KRV[O5],GetOwningPlayer(OJE),true)endifif(KXV[O5])thenelseif(KOV[O5]!=null)thencall EYE(.2)call UnitAddItem(OJE,KOV[O5])call XFE(KRV[O5])endifset KXV[O5]=falseset KRV[O5]=nullset KOV[O5]=nullendifelseif((OXE(OJE,BU[VJV]))and(not IsUnitIllusion(OKE))and(IsUnitInRange(OJE,OKE,800.))and((GetUnitState(OKE,UNIT_STATE_LIFE)>10.)and(GetUnitState(OKE,UNIT_STATE_LIFE)<650.)))thenset OLE=(OKE!=null)and(UnitUseItemTarget(OJE,bj_lastCreatedItem,OKE))elseif((OXE(OJE,BU[VHV]))and(not IsUnitIllusion(OKE))and(IsUnitInRange(OJE,OKE,750.))and((GetUnitState(OKE,UNIT_STATE_LIFE)>10.)and(GetUnitState(OKE,UNIT_STATE_LIFE)<550.)))thenset OLE=(OKE!=null)and(UnitUseItemTarget(OJE,bj_lastCreatedItem,OKE))elseif((OXE(OJE,BU[VGV]))and(not IsUnitIllusion(OKE))and(IsUnitInRange(OJE,OKE,700.))and((GetUnitState(OKE,UNIT_STATE_LIFE)>10.)and(GetUnitState(OKE,UNIT_STATE_LIFE)<450.)))thenset OLE=(OKE!=null)and(UnitUseItemTarget(OJE,bj_lastCreatedItem,OKE))elseif((OXE(OJE,BU[VFV]))and(not IsUnitIllusion(OKE))and(IsUnitInRange(OJE,OKE,650.))and((GetUnitState(OKE,UNIT_STATE_LIFE)>10.)and(GetUnitState(OKE,UNIT_STATE_LIFE)<350.)))thenset OLE=(OKE!=null)and(UnitUseItemTarget(OJE,bj_lastCreatedItem,OKE))elseif((OXE(OJE,BU[VDV]))and(not IsUnitIllusion(OKE))and(IsUnitInRange(OJE,OKE,600.))and((GetUnitState(OKE,UNIT_STATE_LIFE)>10.)and(GetUnitState(OKE,UNIT_STATE_LIFE)<250.)))thenset OLE=(OKE!=null)and(UnitUseItemTarget(OJE,bj_lastCreatedItem,OKE))endifendifreturn OLEendfunctionfunction ju takes group jU,code IX returns nothingcall ForGroup(jU,IX)call DestroyGroup(jU)endfunctionfunction jv takes widget it returns locationcall MoveLocation(HA,GetWidgetX(it),GetWidgetY(it))return HAendfunctionfunction jW takes unit u,integer X5,unit m5 returns booleanreturn IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))endfunctionfunction j1 takes unit j4,rect Ja returns reallocal real JD=GetRectCenterX(Ja)-GetUnitX(j4)local real Je=GetRectCenterY(Ja)-GetUnitY(j4)return SquareRoot(JD*JD+Je*Je)endfunctionfunction OME takes unit x6,integer X5,integer o6,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(GZV[O5])if(IssueTargetOrderById(x6,X5,m5))thencall EnableTrigger(GZV[O5])return trueendifcall EnableTrigger(GZV[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction OPE takes unit x6,integer X5,integer o6,location b5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(GZV[O5])if(IssuePointOrderById(x6,X5,GetLocationX(b5),GetLocationY(b5)))thencall EnableTrigger(GZV[O5])return trueendifcall EnableTrigger(GZV[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction OQE takes unit x6,integer X5,integer o6,integer n6,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,GLV)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)call DisableTrigger(GZV[O5])if(IssueTargetOrderById(x6,X5,m5))thencall EnableTrigger(GZV[O5])return trueendifcall EnableTrigger(GZV[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)return falseendfunctionfunction OSE takes unit x6,integer X5,integer o6,integer n6,real x,real y returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,GLV)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)call DisableTrigger(GZV[O5])if(IssuePointOrderById(x6,X5,x,y))thencall EnableTrigger(GZV[O5])return trueendifcall EnableTrigger(GZV[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)return falseendfunctionfunction OTE takes unit x6,integer X5,integer o6 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,GLV)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(GZV[16+O5])if(IssueImmediateOrderById(x6,X5))thencall EnableTrigger(GZV[16+O5])return trueendifcall EnableTrigger(GZV[16+O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction Jw takes unit it returns booleanreturn((QRV[GetPlayerId(GetOwningPlayer(it))]!=1)or(GetRandomInt(1,5)<=2))endfunctionfunction JW takes unit it returns unitif(IsUnitAlly(it,RX[0]))thenreturn h7[1]elsereturn h7[101]endifendfunctionfunction OUE takes unit it returns unitif(IsUnitAlly(it,RX[0]))thenreturn h7[0]elsereturn h7[100]endifendfunctionfunction JX takes unit it returns unitif(IsUnitAlly(it,GX[0]))thenreturn h7[0]elsereturn h7[100]endifendfunctionfunction OWE takes boolean OYE returns integerif(OYE)thenreturn IPVelsereturn IMVendifendfunctionfunction OZE takes integer O5,boolean OYE returns playerif(OYE)thenreturn RX[O5]elsereturn GX[O5]endifendfunctionfunction O_E takes boolean OYE returns playerif(OYE)thenreturn GGVelsereturn GHVendifendfunctionfunction O0E takes boolean OYE returns playerif(OYE)thenreturn GJVelsereturn GKVendifendfunctionfunction O1E takes integer Gu returns nothingcall FlushChildHashtable(YX,Gu)endfunctionfunction O2E takes integer O3E,string GW returns nothingcall RemoveSavedHandle(YX,O3E,StringHash(GW))endfunctionfunction O4E takes integer Gu,string GW,integer Gy returns nothingcall SaveInteger(YX,Gu,StringHash(GW),Gy)endfunctionfunction O5E takes integer Gu,string GW,real Gy returns nothingcall SaveReal(YX,Gu,StringHash(GW),Gy)endfunctionfunction O6E takes integer Gu,string GW,string Gy returns nothingcall SaveStr(YX,Gu,StringHash(GW),Gy)endfunctionfunction O7E takes integer Gu,string GW,boolean Gy returns nothingcall SaveBoolean(YX,Gu,StringHash(GW),Gy)endfunctionfunction O8E takes integer Gu,string GW,unit Gy returns nothingcall SaveUnitHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction O9E takes integer Gu,string GW,effect Gy returns nothingcall SaveEffectHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RVE takes integer Gu,string GW,trigger Gy returns nothingcall SaveTriggerHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction REE takes integer Gu,string GW,lightning Gy returns nothingcall SaveLightningHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RXE takes integer Gu,string GW,fogmodifier Gy returns nothingcall SaveFogModifierHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction ROE takes integer Gu,string GW,destructable Gy returns nothingcall SaveDestructableHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RRE takes integer Gu,string GW,player Gy returns nothingcall SavePlayerHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RIE takes integer Gu,string GW,item Gy returns nothingcall SaveItemHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RAE takes integer Gu,string GW,group Gy returns nothingcall SaveGroupHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RNE takes integer Gu,string GW,timer Gy returns nothingcall SaveTimerHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RBE takes integer Gu,string GW,widget Gy returns nothingcall SaveWidgetHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RCE takes integer Gu,string GW,texttag Gy returns nothingcall SaveTextTagHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RDE takes integer Gu,string GW,location Gy returns nothingcall SaveLocationHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RFE takes integer Gu,string GW,boolexpr Gy returns nothingcall SaveBooleanExprHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RGE takes integer Gu,string GW,button Gy returns nothingcall SaveButtonHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RHE takes integer Gu,string GW,image Gy returns nothingcall SaveImageHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RJE takes integer Gu,string GW,force Gy returns nothingcall SaveForceHandle(YX,Gu,StringHash(GW),Gy)endfunctionfunction RKE takes integer Gu,string GW returns fogmodifierreturn LoadFogModifierHandle(YX,Gu,StringHash(GW))endfunctionfunction RLE takes integer Gu,string GW returns destructablereturn LoadDestructableHandle(YX,Gu,StringHash(GW))endfunctionfunction RME takes integer Gu,string GW returns unitreturn LoadUnitHandle(YX,Gu,StringHash(GW))endfunctionfunction RPE takes integer Gu,string GW returns texttagreturn LoadTextTagHandle(YX,Gu,StringHash(GW))endfunctionfunction RQE takes integer Gu,string GW returns playerreturn LoadPlayerHandle(YX,Gu,StringHash(GW))endfunctionfunction RSE takes integer Gu,string GW returns timerreturn LoadTimerHandle(YX,Gu,StringHash(GW))endfunctionfunction RTE takes integer Gu,string GW returns triggerreturn LoadTriggerHandle(YX,Gu,StringHash(GW))endfunctionfunction RUE takes integer Gu,string GW returns groupreturn LoadGroupHandle(YX,Gu,StringHash(GW))endfunctionfunction RWE takes integer Gu,string GW returns effectreturn LoadEffectHandle(YX,Gu,StringHash(GW))endfunctionfunction RYE takes integer Gu,string GW returns lightningreturn LoadLightningHandle(YX,Gu,StringHash(GW))endfunctionfunction RZE takes integer Gu,string GW returns locationreturn LoadLocationHandle(YX,Gu,StringHash(GW))endfunctionfunction R_E takes integer Gu,string GW returns itemreturn LoadItemHandle(YX,Gu,StringHash(GW))endfunctionfunction R0E takes integer Gu,string GW returns imagereturn LoadImageHandle(YX,Gu,StringHash(GW))endfunctionfunction R1E takes integer Gu,string GW returns integerreturn LoadInteger(YX,Gu,StringHash(GW))endfunctionfunction R2E takes integer Gu,string GW returns realreturn LoadReal(YX,Gu,StringHash(GW))endfunctionfunction R3E takes integer Gu,string GW returns booleanreturn LoadBoolean(YX,Gu,StringHash(GW))endfunctionfunction R4E takes integer Gu,string GW returns stringreturn LoadStr(YX,Gu,StringHash(GW))endfunctionfunction R5E takes integer ki,string kI returns buttonreturn LoadButtonHandle(YX,ki,StringHash(kI))endfunctionfunction R6E takes integer ki,string kI returns boolexprreturn LoadBooleanExprHandle(YX,ki,StringHash(kI))endfunctionfunction R7E takes integer ki,string kI returns forcereturn LoadForceHandle(YX,ki,StringHash(kI))endfunctionfunction R8E takes unit hI,string Hh returns booleanreturn LoadInteger(YX,GetHandleId(hI),StringHash("state"+Hh))==1endfunctionfunction R9E takes trigger hI,string Hh returns booleanreturn LoadInteger(YX,GetHandleId(hI),StringHash("state"+Hh))==1endfunctionfunction IVE takes unit hI,string Hh returns nothingcall SaveInteger(YX,GetHandleId(hI),StringHash("state"+Hh),1)endfunctionfunction IEE takes trigger hI,string Hh returns nothingcall SaveInteger(YX,GetHandleId(hI),StringHash("state"+Hh),1)endfunctionfunction IXE takes unit hI,string Hh returns nothingcall SaveInteger(YX,GetHandleId(hI),StringHash("state"+Hh),2)endfunctionfunction IOE takes trigger hI,string Hh returns nothingcall SaveInteger(YX,GetHandleId(hI),StringHash("state"+Hh),2)endfunctionfunction l5 takes nothing returns nothinglocal integer i=0if NI==false and FKV==false thenloopcall DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")set i=i+1exitwhen i==$Cendloopendifendfunctionfunction IRE takes trigger t returns nothingcall DisableTrigger(t)set Dy=Dy+1set Dx[Dy]=tset DX[Dy]=XRE()+60if Dy>8000 thencall l5()endifendfunctionfunction IIE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call IXE(RME(IAE,"hero"),R4E(IAE,"state"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction INE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call IOE(RTE(IAE,"hero"),R4E(IAE,"state"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction IBE takes unit hI,string Hh,real Hk returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function IIE))call TriggerRegisterTimerEvent(t,Hk,false)call IVE(hI,Hh)call O8E(GetHandleId(t),"hero",hI)call O6E(GetHandleId(t),"state",Hh)set t=nullendfunctionfunction ICE takes trigger hI,string Hh,real Hk returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function INE))call TriggerRegisterTimerEvent(t,Hk,false)call IEE(hI,Hh)call RVE(GetHandleId(t),"hero",hI)call O6E(GetHandleId(t),"state",Hh)set t=nullendfunctionfunction IDE takes group g returns integerset bj_groupCountUnits=0call ForGroup(g,function CountUnitsInGroupEnum)return bj_groupCountUnitsendfunctionfunction IFE takes force IGE,force IHE returns forcelocal integer IJE=0loopexitwhen IJE>$Bif IsPlayerInForce(Player(IJE),IGE)thencall ForceAddPlayer(IHE,Player(IJE))endifset IJE=IJE+1endloopreturn IHEendfunctionfunction IKE takes unit V_E,string ILE,player IME returns nothinglocal integer IJE=0local integer IPE=0local unit IQE=nulllocal real ISE=0local string ITE=""local string IUE=""set IJE=GetPlayerId(IME)set IQE=QV[IJE]if V_E!=null thenset IPE=GetPlayerId(GetOwningPlayer(V_E))elseset IPE=$Fendifif not(IPE==0 or IPE==6 or IPE==$F)thenif IQE!=null and GetWidgetLife(IQE)>.405 and V_E!=null thenset ISE=E3E(V_E,IQE)if ISE<=$5DC thenset ITE=""elseif ISE<=3000. thenset ITE="|c00c0c0c0"elseset ITE="|c00a0a0a0"endifendifset IUE="|r"+C[IPE]+BXV[IPE]+"|r: "+ITE+ILE+"|r"elseif IPE==GetPlayerId(RX[0])thenset IUE="[AI] "+C[IPE]+"The Sentinel|r: "+ILEelseif IPE==GetPlayerId(GX[0])thenset IUE="[AI] "+C[IPE]+"The Scourge|r: "+ILEelseif IPE==$C thenset IUE="[AI]: "+ILE+"|r"endifif U1V[IJE]and IME==GetLocalPlayer()thencall DisplayTimedTextToPlayer(IME,0,0,$A,IUE)endifset IQE=nullset ITE=""endfunctionfunction IWE takes group IYE,string IUE,force IZE returns nothinglocal integer IJE=0local unit V_E=nulllocal string I_E="|r"local integer i=1loopexitwhen i>$Aset V_E=QV[GetPlayerId(XTE(i))]if IsUnitInGroup(V_E,IYE)thencall GroupRemoveUnit(IYE,V_E)set IJE=GetPlayerId(GetOwningPlayer(V_E))if I_E!="|r" thenset I_E=I_E+", "endifset I_E=I_E+C[IJE]+BXV[IJE]+"|r"endifset i=i+1endlooploopset V_E=FirstOfGroup(IYE)exitwhen V_E==nullcall GroupRemoveUnit(IYE,V_E)set IJE=GetPlayerId(GetOwningPlayer(V_E))if I_E!="|r" thenset I_E=I_E+", "endifset I_E=I_E+C[IJE]+BXV[IJE]+"|r"endloopset I_E=I_E+": "if(IsPlayerInForce(GetLocalPlayer(),IZE))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,I_E)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,"      - "+IUE)endifendfunctionfunction I0E takes nothing returns nothinglocal timer I1E=GetExpiredTimer()local force I2E=nulllocal integer IJE=1local unit V_E=nulllocal group IYE=nulllocal integer I3E=GetHandleId(I1E)local string IUE=""if R3E(I3E,"Personal")thenset I2E=R7E(I3E,"Target")set IUE=R4E(I3E,"SubTag")set V_E=RME(I3E,"Owner")loopexitwhen IJE>$Bif IsPlayerInForce(Player(IJE),I2E)thenif IUE==" " thencall DisplayTimedTextToPlayer(Player(IJE),0,0,$A,IUE)elsecall IKE(V_E,IUE,Player(IJE))endifendifset IJE=IJE+1endloopcall O1E(I3E)call DestroyTimer(I1E)elseset IUE=R4E(I3E,"SubTag")set I3E=StringHash("cAI|Re"+IUE)set I2E=R7E(I3E,"Target")set IYE=RUE(I3E,"Owner")if R1E(I3E,"CountDn")==0 thencall PauseTimer(I1E)if IDE(IYE)==1 thenset V_E=FirstOfGroup(IYE)loopexitwhen IJE>$Bif IsPlayerInForce(Player(IJE),I2E)thencall IKE(V_E,IUE,Player(IJE))endifset IJE=IJE+1endloopelsecall IWE(IYE,IUE,I2E)endifcall DestroyGroup(IYE)call O1E(I3E)call DestroyTimer(I1E)elsecall O4E(I3E,"CountDn",R1E(I3E,"CountDn")-1)endifendifset IYE=nullset I2E=nullendfunctionfunction I4E takes unit V_E,force I2E,string IUE returns nothinglocal force I5E=nulllocal group I6E=nulllocal timer I1E=nulllocal integer IJE=1local boolean OFE=truelocal boolean I7E=falselocal integer I3E=0if V_E==null thenset V_E=N7V[bj_forLoopAIndex]endifset I3E=StringHash("cAI|Re"+IUE)set I5E=R7E(I3E,"Target")if I5E==null and IUE!=" " thenset I7E=trueset I5E=IFE(I2E,CreateForce())call RJE(I3E,"Target",I5E)set I1E=CreateTimer()call O6E(GetHandleId(I1E),"SubTag",IUE)set I6E=CreateGroup()call GroupAddUnit(I6E,V_E)call RAE(I3E,"Owner",I6E)elseif IUE==" " thenset OFE=falseelseset OFE=trueset IJE=1loopexitwhen IJE>$Bif IsPlayerInForce(Player(IJE),I2E)thenif not IsPlayerInForce(Player(IJE),I5E)thenset OFE=falseset IJE=$Bendifendifset IJE=IJE+1endloopendifif OFE thenset I6E=RUE(I3E,"Owner")call GroupAddUnit(I6E,V_E)elseset I7E=trueset I1E=CreateTimer()set I3E=GetHandleId(I1E)call O6E(I3E,"SubTag",IUE)set I5E=IFE(I2E,CreateForce())call RJE(I3E,"Target",I5E)call O8E(I3E,"Owner",V_E)call O7E(I3E,"Personal",true)endifendifif I7E thenif IUE==" " thencall TimerStart(I1E,.1,false,function I0E)elsecall TimerStart(I1E,.01,true,function I0E)endifendifset I5E=nullset I6E=nullendfunctionfunction I8E takes force I2E,real x,real y,integer O5 returns nothingif(IsPlayerInForce(GetLocalPlayer(),I2E))thenif GetAllyColorFilterState()==2 thencall PingMinimapEx(x,y,5.,48,$E6,$B9,true)elsecall PingMinimapEx(x,y,5.,BOV[O5],BRV[O5],BIV[O5],true)endifendifendfunctionfunction I9E takes unit V_E,force I2E returns nothingif V_E!=null thenif GetUnitState(V_E,UNIT_STATE_LIFE)>0 thenif(IsPlayerInForce(GetLocalPlayer(),I2E))thencall PingMinimap(GetUnitX(V_E),GetUnitY(V_E),5.)endifelseif IsUnitAlly(V_E,RX[0])thenset V_E=ACVelseset V_E=NOVendifif(IsPlayerInForce(GetLocalPlayer(),I2E))thencall PingMinimap(GetUnitX(V_E),GetUnitY(V_E),5.)endifendifendifendfunctionfunction AVE takes unit V_E,string IUE returns nothinglocal integer O5=1local real E2Eset WGV=CreateForce()loopexitwhen O5>$Bif O5==6 thenset O5=7endifif IsUnitAlly(V_E,Player(O5))thenif QV[O5]==null or GetWidgetLife(QV[O5])<.405 thencall ForceAddPlayer(WGV,Player(O5))elseset E2E=E3E(V_E,QV[O5])if E2E<=3000. thencall ForceAddPlayer(WGV,Player(O5))endifendifendifset O5=O5+1endloopcall I4E(V_E,WGV,IUE)call I9E(V_E,WGV)call DestroyForce(WGV)set WGV=nullendfunctionfunction AEE takes unit it,boolean J2 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if((not Id(O5))or(J2))thenif(GetUnitTypeId(it)!=1211117642)thenset G0[32+O5]=trueif(not GZ[$A0+O5])and(GetUnitLifePercent(it)<30)thencall AVE(it,"Retreating")endifset h4[O5]=nullset hq[512+O5]=.0set GZ[$80+O5]=falseset GZ[$A0+O5]=trueendifif(is(it))thencall jW(it,$D0012,h9[O5])endifendifendfunctionfunction AXE takes nothing returns booleanlocal integer O5=R1E(GetHandleId(GetTriggeringTrigger()),"pID")local integer ARE=GetPlayerId(GetOwningPlayer(h4[O5]))if(GetWidgetLife(QV[O5])<.405)or(Bz>hq[608+O5])or(h4[O5]==null)or(GetWidgetLife(h4[O5])<.405)or(eY[32+ARE]<=0)thencall DisableTrigger(GetTriggeringTrigger())return falseelseif(IsUnitVisible(h4[O5],Player(O5)))thenif XSE(QV[O5])thencall IssueTargetOrderById(QV[O5],$D000F,h4[O5])endifcall DisableTrigger(GetTriggeringTrigger())return falseendifif is(QV[O5])thenif eY[464+ARE]==$D0012 or eY[464+ARE]==$D0003 or eY[464+ARE]==$D0016 thencall IssuePointOrderById(QV[O5],$D0012,I2R(eY[480+ARE]),I2R(eY[496+ARE]))elsecall jW(QV[O5],$D0012,h4[O5])endifendifreturn falseendfunctionfunction J3 takes unit it,boolean J2 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean J4=falseif(X1E(it))thenif(J2)thenif(not Id(O5))thencall AEE(it,true)elseif((XZE(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))thencall IssueTargetOrderById(it,$D000F,h4[O5])endifelsecall AEE(it,false)endifelseif(G0[272+O5]or is(it))and((J2)or(((not GZ[$80+O5])or((GetUnitCurrentOrder(it)!=$D000F)and(GetUnitCurrentOrder(it)!=$D0019)))and(iU(it))))thenif((G0[O5])or(G0[48+O5])or(not G0[$80+O5]))thenset J4=jW(it,$D0012,h9[O5])endifif(h4[96+O5]!=null)and(GetUnitTypeId(h4[96+O5])==1966092371)thenset J4=IssueTargetOrderById(it,$D000F,h4[96+O5])endifif((not J4)and(h4[O5]!=null)and(XZE(h4[O5]))and(GetUnitAbilityLevel(h4[O5],1110454854)==0))thenif IsUnitVisible(h4[O5],GetOwningPlayer(it))thenset bj_lastLoadedUnit=itif R3E(GetHandleId(h4[O5]),"XMarked")thencall MoveLocation(HA,R2E(GetHandleId(h4[O5]),"AI|XMark|X"),R2E(GetHandleId(h4[O5]),"AI|XMark|Y"))if(not IsUnitInRangeLoc(h4[O5],HA,600.))thenset J4=IssuePointOrderByIdLoc(it,$D0012,HA)elseset J4=IssueTargetOrderById(it,$D000F,h4[O5])endifelseif R8E(it,"AI|Lasso")thenset J4=IssueTargetOrderById(it,$D0012,h9[O5])elseif(GetUnitTypeId(it)==1164666213 and GetHeroLevel(it)>=6)and(eY[320+O5]>=0)and(not IsUnitInRange(it,h4[O5],300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(h4[O5])+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(OVE(900,h4[O5],Condition(function OEE))==0)thenset J4=IssueTargetOrderById(it,$D0012,h4[O5])elseset J4=IssueTargetOrderById(it,$D000F,h4[O5])endifset hq[608+O5]=Bz+10.elseif hq[608+O5]>Bz and eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]>0 thenif not IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),GetOwningPlayer(it))thencall EnableTrigger(GZV[96+O5])set J4=jW(it,$D0012,h4[O5])endifelsecall DisableTrigger(GZV[96+O5])endifendifset YDV=LoadUnitHandle(YX,(GetHandleId(it)),(652))set YFV=RME((GetHandleId(it)),"AI|TetherSource")if(J4)thenelseif(YDV!=null)and(not IsUnitInRange(it,YDV,700)and(IsUnitType(YDV,UNIT_TYPE_HERO)))thencall jW(it,$D0012,YDV)elseif(YFV!=null)and(not IsUnitInRange(it,YFV,700))thencall jW(it,$D0012,YFV)elseif((eY[O5]>=9))thenif eY[272+O5]<=2 thenif((G0[$B0+O5])or(h8[48+O5]!=h8[32+O5]))thencall jW(it,$D000F,h8[48+O5])elsecall jW(it,$D0012,h9[O5])endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenelseif GZ[$A0+O5]thencall jW(it,$D0012,h9[O5])elsecall jW(it,$D000F,h8[O5])endifendifendfunctionfunction AIE takes unit it returns nothingif((OXE(it,BU[E7]))and(UnitUseItem(it,bj_lastCreatedItem)))thencall EYE(.3)endifif((OXE(it,BU[G8]))and(UnitUseItem(it,bj_lastCreatedItem)))thencall EYE(.3)endifcall IssueImmediateOrderById(it,$D0004)endfunctionfunction AAE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)) and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)!=nullendfunctionfunction ANE takes unit it,unit ABE returns booleanlocal item ACE=nulllocal boolean ADE=falselocal item AFE=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean AGE=(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)local boolean AHE=falselocal boolean AJE=falselocal real AKE=0local real ALE=0local real AME=0if RME((GetHandleId(it)),"AI|TetherSource")!=null thenreturn falseelseif(E3E(it,ABE)<$7D0)thenreturn falseelseif(GetUnitTypeId(it)==1211117642)thenreturn falseendifif ABE==ACV or ABE==NOV thenset ALE=GetUnitX(ABE)set AME=GetUnitY(ABE)elseset bj_lastLoadedUnit=OUE(it)set AKE=Atan2(GetUnitY(bj_lastLoadedUnit)-GetUnitY(ABE),GetUnitX(bj_lastLoadedUnit)-GetUnitX(ABE))+GetRandomReal(-.4,.4)set ALE=GetUnitX(ABE)+500.*Cos(AKE)set AME=GetUnitY(ABE)+500.*Sin(AKE)endifif((GetUnitAbilityLevel(it,1093677391)>0)and(Bz>J5V[32+O5]))thenif IssuePointOrderById(it,$D022D,ALE,AME)thenreturn trueendifendifif((GetUnitAbilityLevel(it,1093685808)>0)and(Bz>J5V[O5]))thenif IssuePointOrderById(it,$D0278,ALE,AME)thenreturn trueendifendifif not(eY[$E0+O5]<R2I(Bz)and GetUnitState(it,UNIT_STATE_MANA)>75)thenreturn falseendifif not IsUnitType(ABE,UNIT_TYPE_STRUCTURE)thenset bj_lastLoadedUnit=itset bj_lastLoadedUnit=X8E(2000.,jv(ABE),Condition(function AAE))set AJE=((bj_lastLoadedUnit!=null)and(E3E(it,ABE)>E3E(bj_lastLoadedUnit,ABE)))elseset AJE=trueendifif(AGE and KXV[O5])thenif(OXE(it,GetItemTypeId(KRV[O5])))thencall DisableTrigger(R3V)call UnitRemoveItem(it,OAE(it,GetItemTypeId(KRV[O5])))call RemoveItem(KRV[O5])call EnableTrigger(R3V)endifif(KOV[O5]!=null)thencall EYE(.2)call UnitAddItem(it,KOV[O5])endifset KXV[O5]=falseset KRV[O5]=nullset KOV[O5]=nullendifif(OXE(it,BU[L5]))and AJE thenif((GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetUnitAbilityLevel(it,1110455097)==0))thencall AIE(it)set AHE=UnitUseItemPoint(it,OAE(it,BU[L5]),ALE,AME)endifelseif(OXE(it,BU[A7]))thencall AIE(it)set AHE=UnitUseItemPoint(it,OAE(it,BU[A7]),GetUnitX(ABE),GetUnitY(ABE))elseif(not VVE[O5])thenif(GetUnitTypeId(it)==1211117642 or IsUnitIllusion(it))or(not AJE)thenreturn falseendifset ADE=falseif((not OOE(it)))thenset ADE=trueelseif(OXE(it,BU[B5]))thenset AFE=bj_lastCreatedItemset ADE=trueelseif(OXE(it,BU[C5]))thenset AFE=bj_lastCreatedItemset ADE=trueelseif(OXE(it,BU[G5]))thenset AFE=bj_lastCreatedItemset ADE=trueendifif ADE thenif AFE!=null thencall XFE(AFE)endifset ACE=CreateItem(BU[L5],GetUnitX(it),GetUnitY(it))set ADE=UnitAddItem(it,ACE)call EYE(.3)elseif(OXE(it,BU[QU]))thenset KIV[O5]=bj_lastCreatedItemset ADE=trueendifif ADE thencall DisableTrigger(R3V)call UnitRemoveItem(it,KIV[O5])call SetItemPosition(KIV[O5],9999,-9999)call EnableTrigger(R3V)set ACE=CreateItem(BU[L5],GetUnitX(it),GetUnitY(it))set ADE=UnitAddItem(it,ACE)set KNV[O5]=truecall EYE(.3)endifendifset AFE=nullif(not ADE)thencall XFE(ACE)call EYE(.2)if((not OOE(it)))thencall UnitAddItem(it,KIV[O5])set KNV[O5]=falseset KIV[O5]=nullendifendifif(OXE(it,BU[L5]))thencall AIE(it)set ADE=UnitUseItemPoint(it,OAE(it,BU[L5]),ALE,AME)call EYE(.5)set ACE=nullset AHE=ADEif not AHE thencall EYE(.01)set AHE=(eY[$E0+O5]>R2I(Bz)+1)endifendifendifif AHE thenset eY[$E0+O5]=R2I(Bz)+67set eY[$D0+O5]=0set h8[$90+O5]=nullelseif not ADE thenset eY[$D0+O5]=0set h8[$90+O5]=nullendifif KIV[O5]!=null thencall DisableTrigger(R3V)call RemoveItem(OAE(it,BU[L5]))call UnitAddItem(it,KIV[O5])call EnableTrigger(R3V)set KIV[O5]=nullset KNV[O5]=falseendifendifreturn AHEendfunctionfunction APE takes integer O5,unit j5,integer o6 returns nothingcall DisableTrigger(GZV[O5])if((not X1E(j5))and(not G0[O5])and(not G0[64+O5])and(G0[$80+O5])and(h4[O5]!=null)and(XZE(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))thencall IssueTargetOrderById(j5,$D000F,h4[O5])set GZ[48+O5]=trueelsecall J3(j5,true)endifcall EnableTrigger(GZV[O5])if(o6!=0)thencall SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,false)endifendfunctionfunction J6 takes integer O5,unit j5,integer o6,integer n6 returns nothingcall APE(O5,j5,o6)call SetPlayerAbilityAvailable(GetOwningPlayer(j5),n6,false)endfunctionfunction J7 takes integer O5,unit j5,integer o6 returns nothingcall DisableTrigger(GZV[O5])if((not X1E(j5))and(not G0[O5])and(not G0[64+O5])and(G0[$80+O5])and(h4[O5]!=null)and(XZE(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))thencall IssueTargetOrderById(j5,$D000F,h4[O5])set GZ[48+O5]=trueelsecall J3(j5,true)endifcall EnableTrigger(GZV[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,false)endfunctionfunction J8 takes integer O5,boolean J9 returns booleanset GZ[O5]=falsereturn J9endfunctionfunction AQE takes unit u returns booleanif(IsUnitAlly(u,RX[0]))thenreturn(IsUnitInRange(u,ACV,1100.))elsereturn(IsUnitInRange(u,NOV,1100.))endifendfunctionfunction kA takes unit IB,unit m5,real kb returns booleanif(IsUnitAlly(m5,RX[0]))thenreturn(E3E(IB,h7[0])-E3E(m5,h7[0]))>kbelsereturn(E3E(IB,h7[100])-E3E(m5,h7[100]))>kbendifendfunctionfunction kB takes boolean J4,group jU returns integerlocal unit itlocal integer kc=0local boolean kC=falselocal boolean kd=falseloopset it=FirstOfGroup(jU)exitwhen(it==null)if(GetUnitTypeId(it)==1211117641)thenset kc=kc+1set kd=trueelseif(GetUnitTypeId(it)!=1211117642)thenset kc=kc+1elseif(not kC)thenset kC=trueendifcall GroupRemoveUnit(jU,it)endloopif((kC)and((not kd)or(J4)))thenset kc=kc+1endifreturn kcendfunctionfunction kD takes unit u returns booleanreturn((GetUnitAbilityLevel(u,1110456148)>0)or(GetUnitAbilityLevel(u,1110456118)>0)or(GetUnitAbilityLevel(u,1110455864)>0)or(GetUnitAbilityLevel(u,1112041075)>0)or(GetUnitAbilityLevel(u,1110454347)>0)or(GetUnitAbilityLevel(u,1110454833)>0)or(GetUnitAbilityLevel(u,1110454609)>0)or(GetUnitAbilityLevel(u,1110455097)>0)or(GetUnitAbilityLevel(u,1093677130)>0)or(GetUnitAbilityLevel(u,1093684052)>0)or(GetUnitAbilityLevel(u,1093677617)>0)or(GetUnitAbilityLevel(u,1112504171)>0))endfunctionfunction ke takes unit u returns booleanreturn((GetUnitAbilityLevel(u,1093685838)>0)or(GZ[256+GetPlayerId(GetOwningPlayer(u))]))endfunctionfunction kE takes string kf,string kF returns integerlocal integer kg=StringLength(kf)local integer kG=0loopexitwhen kg<=kGif(SubString(kf,kg,kg+1)==kF)thenreturn kgendifset kg=kg-1endloopreturn-1endfunctionfunction kh takes string kf returns integerlocal integer kg=0local integer kG=StringLength(kf)loopexitwhen kg>=kGif(SubString(kf,kg,kg+1)==",")thenreturn kgendifset kg=kg+1endloopreturn-1endfunctionfunction kj takes nothing returns nothingset GT=falseendfunctionfunction kJ takes real x,real y returns booleanset GT=truecall SetRect(He,x-160.,y-160.,x+160.,y+160.)call EnumDestructablesInRect(He,G0V,function kj)return GTendfunctionfunction kk takes unit it,real IW,unit r returns locationlocal integer kK=0local real kl=Atan2(GetUnitY(r)-GetUnitY(it),GetUnitX(r)-GetUnitX(it))loopif(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))return HBendifset kK=kK+1set IW=IW-50.exitwhen(kK>5)endloopreturn nullendfunctionfunction kL takes unit it,unit m5,real km returns locationlocal real IW=E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5))+kmlocal real kl=0local integer kK=0set kK=GetPlayerId(GetOwningPlayer(m5))set kl=Atan2(GetUnitY(h9[kK])-GetUnitY(m5),GetUnitX(h9[kK])-GetUnitX(m5))set kK=0loopif(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))return HBendifset kK=kK+1set IW=IW-50.exitwhen(kK>5)endloopreturn nullendfunctionfunction ASE takes unit it returns booleanreturn((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0))endfunctionfunction kn takes unit it returns booleanreturn((GetUnitAbilityLevel(it,1093678162)==0)and(GetUnitAbilityLevel(it,1097625443)==0)and(GetUnitTypeId(it)!=1970497636)and(GetUnitTypeId(it)!=1848652113)and(GetUnitTypeId(it)!=1848652114))endfunctionfunction ATE takes unit u returns booleanreturn(IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER))endfunctionfunction AUE takes unit x6 returns integerreturn(GetItemTypeId(UnitItemInSlot(x6,GetIssuedOrderId()-$D0028)))endfunctionfunction AWE takes integer Iz returns booleanreturn((Iz==1093679446)or(Iz==1095263841)or(Iz==1093681972)or(Iz==1093685065)or(Iz==1093677622)or(Iz==1093682265)or(Iz==1093684314)or(Iz==1093685582))endfunctionfunction kP takes integer i1 returns booleanreturn((i1==1429221424)or(i1==1160785972)or(i1==1430468144)or(i1==1430467634)or(i1==1432642913)or(i1==1432510828)or(i1==1315334514)or(i1==1332109682)or(i1==1429221456)or(i1==1311780946)or(i1==1211117624)or(i1==1160785973)or(i1==1214345830)or(i1==1315007329)or(i1==1215723364)or(i1==1164799855)or(i1==1212365106)or(i1==1432580716)or(i1==1333027688)or(i1==1311781185)or(i1==1332179560)or(i1==1214344551)or(i1==1311781206)or(EIE(i1,5)))endfunctionfunction kq takes integer i1 returns booleanreturn(not EIE(i1,5))endfunctionfunction kQ takes unit u returns booleanreturn((GetUnitAbilityLevel(u,1110455620)>0)or(GetUnitAbilityLevel(u,1110455629)>0)or(GetUnitAbilityLevel(u,1110455630)>0)or(GetUnitAbilityLevel(u,1110455631)>0))endfunctionfunction kr takes unit u returns booleanreturn((GetUnitAbilityLevel(u,1110456120)>0)or(GetUnitAbilityLevel(u,1113943649)>0)or(GetUnitAbilityLevel(u,1113943655)>0)or(GetUnitAbilityLevel(u,1110459185)>0))endfunctionfunction AYE takes integer Iz returns booleanreturn((Iz==BU[VDV])or(Iz==BU[VFV])or(Iz==BU[VGV])or(Iz==BU[VHV])or(Iz==BU[VJV]))endfunctionfunction ks takes integer Iz returns booleanreturn((Iz==BU[VKV])or(Iz==BU[VLV])or(Iz==BU[VMV]))endfunctionfunction kS takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093677635)if(kt==4)thenreturn 1093678925elseif(kt==3)thenreturn 1093678922elseif(kt==2)thenreturn 1093678921elseif(kt==1)thenreturn 1093678920elsereturn 1093685302endifendfunctionfunction kT takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093677635)if(kt==4)thenreturn 1093678904elseif(kt==3)thenreturn 1093678900elseif(kt==2)thenreturn 1093678898elseif(kt==1)thenreturn 1093678670elsereturn 1093677645endifendfunctionfunction AZE takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093677635)if(kt==4)thenreturn 1093678158elseif(kt==3)thenreturn 1093678157elseif(kt==2)thenreturn 1093678154elseif(kt==1)thenreturn 1093677898elsereturn 1093678899endifendfunctionfunction A_E takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093679160)if(kt==3)thenreturn 1093679172elseif(kt==2)thenreturn 1093679169elseif(kt==1)thenreturn 1093679161elsereturn 1093678167endifendfunctionfunction A0E takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093679160)if(kt==3)thenreturn 1093677126elseif(kt==2)thenreturn 1093677396elseif(kt==1)thenreturn 1093677111elsereturn 1093677361endifendfunctionfunction A1E takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,1093679160)if(kt==3)thenreturn 1093679177elseif(kt==2)thenreturn 1093679175elseif(kt==1)thenreturn 1093679174elsereturn 1093679155endifendfunctionfunction A2E takes integer Iz returns integerif((Iz==BU[ZY])or(Iz==BU[B5])or(Iz==BU[C5])or(Iz==BU[J5])or(Iz==BU[L5]))thenreturn 100elseif((Iz==BU[ZW])or(Iz==BU[X1])or(Iz==BU[RZ])or(Iz==BU[VW])or(Iz==BU[J0]))thenreturn $96elseif((Iz==BU[U3])or(Iz==BU[W3]))thenreturn $E1elseif((Iz==BU[R1])or(Iz==BU[Y0])or(Iz==BU[G5])or(Iz==BU[D1]))thenreturn 350elseif((Iz==BU[QU])or(Iz==BU[EW])or(Iz==BU[ZU])or(Iz==BU[V1])or(Iz==BU[M7])or(Iz==BU[P7])or(Iz==BU[T7])or(Iz==BU[X7]))thenreturn 450elseif((Iz==BU[RW])or(Iz==BU[HW])or(Iz==BU[HZ])or(Iz==BU[SU])or(Iz==BU[GY])or(Iz==BU[W6]))thenreturn 650elseif((Iz==BU[SY])or(Iz==BU[AZ])or(Iz==BU[DZ])or(Iz==BU[OW])or(Iz==BU[A1])or(Iz==BU[R0])or(Iz==BU[Q1])or(Iz==BU[YW])or(Iz==BU[E7]))thenreturn 950elseif((Iz==BU[NW])or(Iz==BU[O0])or(Iz==BU[X0])or(Iz==BU[P1]))thenreturn $4B0elseif((Iz==BU[QW])or(Iz==BU[BZ])or(Iz==BU[E0])or(Iz==BU[B7])or(Iz==BU[H6])or(Iz==BU[V8])or(Iz==BU[EVV])or(Iz==BU[X6V]))thenreturn $5DCelseif((Iz==BU[EZ])or(Iz==BU[F7])or(Iz==BU[L7])or(Iz==BU[C8])or(Iz==BU[V8])or(Iz==BU[N8])or(Iz==BU[W7])or(Iz==BU[U7])or(Iz==BU[EOV])or(Iz==BU[EAV]))thenreturn $7D0elseif((Iz==BU[J1])or(Iz==BU[TW])or(Iz==BU[UY])or(Iz==BU[A7])or(Iz==BU[Z8])or(Iz==BU[EOV])or(Iz==BU[G8]))thenreturn $9C4elseif((Iz==BU[NZ])or(Iz==BU[CZ])or(Iz==BU[Z7])or(Iz==BU[Y7])or(Iz==BU[D8])or(Iz==BU[X8])or(Iz==BU[VDV])or(Iz==BU[VKV]))thenreturn $BB8elseif((Iz==BU[UW])or(Iz==BU[E8])or(Iz==BU[F8]))thenreturn $DACelseif((Iz==BU[E1])or(Iz==BU[VCV])or(ONE(Iz))or(Iz==BU[VLV])or(Iz==1869375847))thenreturn $FA0elseif((Iz==BU[W8])or(Iz==BU[VFV]))thenreturn 4500elseif((Iz==BU[L8])or(Iz==BU[VMV])or(Iz==BU[Y8])or(Iz==BU[V7V])or(Iz==BU[EHV]))thenreturn 5000elseif((Iz==BU[VNV])or(Iz==BU[VBV])or(Iz==BU[VGV])or(Iz==BU[VPV])or(Iz==BU[V0V])or(Iz==BU[VWV])or(Iz==BU[VZV])or(Iz==BU[V6V])or(Iz==BU[EIV]))thenreturn 5500elseif((Iz==BU[ERV])or(Iz==BU[VHV])or(Iz==BU[VUV])or(Iz==BU[V5V])or(Iz==BU[V2V])or(Iz==1936683571)or(Iz==1936683572)or(Iz==1936683573)or(Iz==1936683574)or(Iz==1227895094)or(Iz==1227894838))thenreturn 6000elseif((Iz==BU[VJV])or(Iz==BU[V4V])or(Iz==BU[V3V])or(Iz==BU[EEV]))thenreturn 7000elseif(Iz==BU[VSV])thenreturn 8000endifreturn 500endfunctionfunction B6 takes trigger kW,playerunitevent kx returns nothingcall TriggerRegisterPlayerUnitEvent(kW,RX[1],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,RX[2],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,RX[3],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,RX[4],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,RX[5],kx,G0V)endfunctionfunction c6 takes trigger kW,playerunitevent kx returns nothingcall TriggerRegisterPlayerUnitEvent(kW,GX[1],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,GX[2],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,GX[3],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,GX[4],kx,G0V)call TriggerRegisterPlayerUnitEvent(kW,GX[5],kx,G0V)endfunctionfunction ky takes trigger kW,playerunitevent kx returns nothingcall B6(kW,kx)call c6(kW,kx)endfunctionfunction A3E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(XZE(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))!=nullendfunctionfunction A4E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(XZE(GetFilterUnit()))and(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)and(E6E(GetFilterUnit())==bj_forLoopBIndex))!=nullendfunctionfunction A5E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(XZE(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))!=nullendfunctionfunction A6E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(XZE(GetFilterUnit())))!=nullendfunctionfunction A7E takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(XZE(GetFilterUnit())))thenif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))thenreturn trueelseif(not kD(GetFilterUnit()))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),600.)))elsereturn(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)endifendifreturn falseendfunctionfunction A8E takes nothing returns booleanreturn((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(XZE(GetFilterUnit()))and(not X1E(GetFilterUnit())))!=nullendfunctionfunction k0 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))!=nullendfunctionfunction A9E takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction IsEnemyTowerInRangeAttacker takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction TorrentedKillableFilter takes nothing returns booleanreturn X1E(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110456657)>0endfunctionfunction k2 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))endfunctionfunction k3 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))!=nullendfunctionfunction NVE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitIllusion(GetFilterUnit()))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction k5 takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))!=nullendfunctionfunction IsAllyTowerInRangeTrig takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction k6 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(XZE(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))!=nullendfunctionfunction NEE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction NXE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction NOE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction NRE takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction k642 takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction k65 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))))!=nullendfunctionfunction NIE takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))!=nullendfunctionfunction NAE takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastCreatedUnit))))!=nullendfunctionfunction NNE takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))!=nullendfunctionfunction k7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<50.))!=nullendfunctionfunction k8 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))!=nullendfunctionfunction k9 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit()))and(GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>200.))!=nullendfunctionfunction Ka takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))endfunctionfunction KA takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))!=nullendfunctionfunction NBE takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(kn(GetFilterUnit())))!=nullendfunctionfunction KA_Ally takes nothing returns booleanreturn((not IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))!=nullendfunctionfunction NCE takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))thenif E3E(GetFilterUnit(),bj_lastLoadedUnit)<=$FA thenif GetUnitLifePercent(GetFilterUnit())>WNV thenset I9V=GetFilterUnit()set WNV=GetUnitLifePercent(I9V)endifelseif GetUnitLifePercent(GetFilterUnit())>WBV thenset AVV=GetFilterUnit()set WBV=GetUnitLifePercent(AVV)endifendifendifreturn falseendfunctionfunction NDE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction NFE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((i1==1747993430)or(i1==1747993432)or(i1==1747993431)))endfunctionfunction NGE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970169187)or(i1==1966092338)or(i1==1701081721)or(i1==1697656919)))endfunctionfunction NHE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction KB takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1970496880)or(i1==1970564964)or(i1==1700884333)or(i1==1700884325)))!=nullendfunctionfunction Kc takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.))!=nullendfunctionfunction NJE takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))!=nullendfunctionfunction FindEnemyCreepTrig takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))!=nullendfunctionfunction NKE takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<160.))!=nullendfunctionfunction NLE takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))!=nullendfunctionfunction NME takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))!=nullendfunctionfunction KC takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))!=nullendfunctionfunction Kd takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))!=nullendfunctionfunction KD takes nothing returns booleanif((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))or GetUnitTypeId(GetEnumUnit())==1433105516)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0])or(GetOwningPlayer(GetFilterUnit())==Player($C))))thenif((GetUnitTypeId(GetEnumUnit())==1433105516)or(not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)))thenreturn((GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.)or(GetUnitLifePercent(GetFilterUnit())<35.))elseif((GetUnitTypeId(GetEnumUnit())==1433168227)or(GetUnitTypeId(GetEnumUnit())==1160785972))thenreturn(GetUnitLifePercent(GetFilterUnit())>70.)endifendifreturn falseendfunctionfunction NPE takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>30.)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0])or(GetOwningPlayer(GetFilterUnit())==Player($C))))thenreturn(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<WNV)endifreturn falseendfunctionfunction NQE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())!=1211117642))!=nullendfunctionfunction NSE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())>40.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))!=nullendfunctionfunction NTE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MELEE_ATTACKER))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))!=nullendfunctionfunction NUE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))!=nullendfunctionfunction Kf takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(XSE(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1211117642))!=nullendfunctionfunction NWE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<50.))!=nullendfunctionfunction NYE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<70.))!=nullendfunctionfunction NZE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<99.)and(GetUnitTypeId(GetFilterUnit())!=1211117642))!=nullendfunctionfunction N_E takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1697656915)or(i1==1697657137)or(i1==1697656914)or(i1==1697657145)or(i1==1966092366)or(i1==1966092356)or(i1==1966092365)or(i1==1966092372)))!=nullendfunctionfunction KG takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())if(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))thenif(GZ[272+GetPlayerId(GetOwningPlayer(GetFilterUnit()))])thenreturn(GetUnitUserData(GetFilterUnit())==1)elsereturn(GetUnitUserData(GetFilterUnit())==0)endifendifreturn falseendfunctionfunction N0E takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1869901684))endfunctionfunction aiIsTechiesMines takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314)or(i1==1869901684)or(i1==1311780943)or(i1==1311780944)or(i1==1311780945)or(i1==1311780942)))endfunctionfunction N1E takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((not WDV)or(GetUnitLifePercent(GetFilterUnit())>50)))thenset bj_forLoopAIndexEnd=D[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]-J[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]if(hy==null)or(bj_forLoopAIndex<bj_forLoopAIndexEnd)thenset hy=GetFilterUnit()set bj_forLoopAIndex=bj_forLoopAIndexEndendifendifreturn falseendfunctionfunction N2E takes real K1,unit it,boolean N3E returns unitlocal boolexpr Ig=Condition(function N1E)set hy=nullset bj_lastLoadedUnit=itset bj_forLoopAIndex=0set WDV=N3Ecall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),K1,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction Kh takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1697657392))endfunctionfunction KH takes nothing returns booleanreturn((GetFilterUnit()!=GetAttacker())and(kn(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitInRange(GetAttacker(),GetFilterUnit(),800.)))endfunctionfunction Ki takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))!=nullendfunctionfunction KI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))!=nullendfunctionfunction Kj takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetFilterUnit()!=GetAttacker())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(kn(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction KJ takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction Kk takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=GetAttacker())and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction KK takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((X1E(GetFilterUnit()))or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))!=nullendfunctionfunction Kl takes nothing returns booleanreturn((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitLifePercent(GetFilterUnit())<50.)or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))endfunctionfunction KL takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())==1211117642))!=nullendfunctionfunction Km takes nothing returns booleanreturn(((GetUnitTypeId(GetFilterUnit())==1865429304)or(GetUnitTypeId(GetFilterUnit())==1865429042)or(GetUnitTypeId(GetFilterUnit())==1865429058))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction KM takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitAbilityLevel(GetFilterUnit(),1113815395)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1113815346)>0)or(GetUnitCurrentOrder(GetFilterUnit())==$D0005)))!=nullendfunctionfunction Kn takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)==0))!=nullendfunctionfunction KN takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kP(GetUnitTypeId(GetFilterUnit()))))!=nullendfunctionfunction Ko takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))endfunctionfunction KO takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(OXE(GetFilterUnit(),BU[G5]))and(QRV[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=1))!=nullendfunctionfunction KP_OLD takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(QRV[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=1))!=nullendfunctionfunction N4E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction Kq takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(GetFilterUnit()!=GetTriggerUnit()))!=nullendfunctionfunction KQ takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(not X1E(GetFilterUnit())))!=nullendfunctionfunction Kr takes nothing returns booleanif(A3E())thenreturn GetUnitAbilityLevel(GetFilterUnit(),1112560453)>0endifreturn falseendfunctionfunction KR takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1865429043)endfunctionfunction C6 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),GLV)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),RX[0])))!=nullendfunctionfunction D6 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),GLV)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),GX[0])))!=nullendfunctionfunction N5E takes nothing returns booleanreturn(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),GLV)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),RX[0])))endfunctionfunction N6E takes nothing returns booleanreturn(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),GLV)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),GX[0])))endfunctionfunction N7E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),RX[0])))!=nullendfunctionfunction Kt2 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),RX[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))!=nullendfunctionfunction N8E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),GX[0])))!=nullendfunctionfunction KT2 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),GX[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))!=nullendfunctionfunction N9E takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit())))!=nullendfunctionfunction BVE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))!=nullendfunctionfunction Kv takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(kn(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))!=nullendfunctionfunction KV takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(kn(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)))!=nullendfunctionfunction Kw takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(kn(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(not IsUnitInRange(GetEnumUnit(),GetFilterUnit(),200.)))!=nullendfunctionfunction KW takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))and(GetUnitLifePercent(GetFilterUnit())>40.))!=nullendfunctionfunction BEE takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))thenreturn trueelseif(not kD(GetFilterUnit()))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.)))elsereturn(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)endifendifreturn falseendfunctionfunction KX takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))thenif((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))thenreturn trueelseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))endifendifreturn falseendfunctionfunction Ky takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player($C))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))thenif((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))thenreturn trueelseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))endifendifreturn falseendfunctionfunction KY takes real IW,location b5 returns integerlocal boolexpr Ig=Condition(function KW)call GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn kB(true,H8)endfunctionfunction Kz takes real IW,location b5 returns integerlocal boolexpr Ig=Condition(function k6)call GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn kB(false,H8)endfunctionfunction KZ takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=U5V or U5V==null)thenset hy=GetEnumUnit()endifendfunctionfunction BXE takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=U5V or U5V==null)thenset hy=GetEnumUnit()endifendfunctionfunction BOE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A3E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BRE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A5E)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BIE takes real K1,unit IB,real x,real y returns unitlocal boolexpr Ig=Condition(function A5E)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,x,y,K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BAE takes real K1,unit IB,boolexpr Ig returns unitset hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)return hyendfunctionfunction BNE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A6E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BBE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A6E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function BXE)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BCE takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(GetEnumUnit()!=U5V or U5V==null)thenset hy=GetEnumUnit()endifendfunctionfunction BDE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A3E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function BCE)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BFE takes nothing returns nothingif((hy==null)or(GetHeroLevel(hy)<GetHeroLevel(GetEnumUnit())))and(GetEnumUnit()!=U5V or U5V==null)and(R1E(GetHandleId(GetOwningPlayer(GetEnumUnit())),"AI|Class")<=2)thenset hy=GetEnumUnit()endifendfunctionfunction BGE takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function A3E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function BFE)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction BHE takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(E3E(GetEnumUnit(),bj_lastLoadedUnit)>800.)and(GetEnumUnit()!=U5V or U5V==null)thenset hy=GetEnumUnit()endifendfunctionfunction BJE takes unit IB returns unitlocal boolexpr Ig=Condition(function A5E)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),1200.,Ig)call ForGroup(iA,function BHE)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction K2 takes real K1,location b5 returns unitlocal boolexpr Ig=Condition(function A3E)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRangeOfLoc(iA,b5,K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction K3 takes real K1,unit IB,boolexpr Ig returns unitset hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)return hyendfunctionfunction K4 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(((GetHeroLevel(GetEnumUnit())>5)and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),300.)))or(E3E(GetEnumUnit(),OUE(GetEnumUnit()))>E3E(GetFilterUnit(),OUE(GetEnumUnit())))))!=nullendfunctionfunction BKE takes nothing returns nothingset GU=trueendfunctionfunction BLE takes nothing returns booleanlocal integer d=GetDestructableTypeId(GetFilterDestructable())return d==1096053874 or d==1112831095 or d==1263826039 or d==1498703476 or d==1247044468 or d==1498706804 or d==1498702708 or d==1498707828 or d==1247049588 or d==1247049588 or d==1179939959 or d==1129608306 or d==1230271607 or d==1314157687 or d==1330934903 or d==1515484279 or d==1465152372 or d==1280601204 or d==1196716904 or d==1484024948 or d==1465152631 or d==1098151011 or d==1112831075 or d==1129608291 or d==1230271587 or d==1314157667 or d==1515484259endfunctionfunction K5 takes nothing returns nothingif((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))thenset GU=trueendifendfunctionfunction K6 takes unit u returns booleanlocal boolexpr bset GU=falsecall MoveLocation(Ha,GetUnitX(u),GetUnitY(u))set bj_enumDestructableCenter=Haset bj_enumDestructableRadius=375.call SetRect(He,GetUnitX(u)-375.,GetUnitY(u)-375.,GetUnitX(u)+375.,GetUnitY(u)+375.)set b=Filter(function BLE)call EnumDestructablesInRect(He,b,function BKE)call DestroyBoolExpr(b)return GUendfunctionfunction BME takes nothing returns nothinglocal real dx=GetLocationX(bj_enumDestructableCenter)-GetDestructableX(GetEnumDestructable())local real dy=GetLocationY(bj_enumDestructableCenter)-GetDestructableY(GetEnumDestructable())local real r=dx*dx+dy*dyif GetDestructableLife(GetEnumDestructable())>.405 and r<bj_enumDestructableRadius thenset L9V=GetEnumDestructable()set bj_enumDestructableRadius=rendifendfunctionfunction BPE takes location l,real r returns booleanlocal boolexpr bset L9V=nullif bj_enumDestructableCenter==null thenset bj_enumDestructableCenter=Location(GetLocationX(l),GetLocationY(l))elsecall MoveLocation(bj_enumDestructableCenter,GetLocationX(l),GetLocationY(l))endifset bj_enumDestructableRadius=r*rcall SetRect(He,GetLocationX(l)-r,GetLocationY(l)-r,GetLocationX(l)+r,GetLocationY(l)+r)set b=Filter(function BLE)call EnumDestructablesInRect(He,b,function BME)call DestroyBoolExpr(b)set b=nullreturn L9V!=nullendfunctionfunction BQE takes nothing returns nothinglocal real x=GetDestructableX(GetEnumDestructable())local real y=GetDestructableY(GetEnumDestructable())local real dx=x-GetLocationX(bj_enumDestructableCenter)local real dy=y-GetLocationY(bj_enumDestructableCenter)local real r=dx*dx+dy*dylocal real r2if r<bj_enumDestructableRadius and GetDestructableLife(GetEnumDestructable())>.405 thenset dx=x-MVVset dy=y-MEVset r=dx*MXV+dy*MOVset r2=dx*dx+dy*dy-r*rif r<MRV thenelseif r<MIV and r2<MNV*r*r thenset bj_enumDestructableRadius=0elseif r2<MAV*r*r thenset MAV=r2/r/rset L9V=GetEnumDestructable()endifendifendfunctionfunction BSE takes unit u,real BTE returns booleanlocal real x=GetLocationX(YIV)local real y=GetLocationY(YIV)local real dx=x-GetUnitX(u)local real dy=y-GetUnitY(u)local real r=SquareRoot(dx*dx+dy*dy)local boolexpr bset L9V=nullif bj_enumDestructableCenter==null thenset bj_enumDestructableCenter=GetUnitLoc(u)elsecall MoveLocation(bj_enumDestructableCenter,GetUnitX(u),GetUnitY(u))endifset bj_enumDestructableRadius=BTE*BTEset MRV=r*90./225.set MIV=MRV+rset MXV=dx/rset MOV=dy/rset MVV=x-MIV*MXVset MEV=y-MIV*MOVset MAV=1/(MIV*MIV/((90.+225.)*315.)-1)set MNV=MAVcall SetRect(He,GetUnitX(u)-BTE,GetUnitY(u)-BTE,GetUnitX(u)+BTE,GetUnitY(u)+BTE)set b=Filter(function BLE)call EnumDestructablesInRect(He,b,function BQE)call DestroyBoolExpr(b)set b=nullif L9V==null or bj_enumDestructableRadius==0 thenreturn falseendifcall MoveLocation(YIV,x+(GetDestructableX(L9V)-x)*225./315.,y+(GetDestructableY(L9V)-y)*225./315.)return trueendfunctionfunction K7 takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))endfunctionfunction K8 takes nothing returns booleanreturn((GetDestructableTypeId(GetFilterDestructable())==1096053874)or(GetDestructableTypeId(GetFilterDestructable())==1314157687))endfunctionfunction K9 takes nothing returns nothingif(GetDestructableMaxLife(GetEnumDestructable())==49.)thenset H0=GetEnumDestructable()endifendfunctionfunction la takes nothing returns nothingif(GetDestructableMaxLife(GetEnumDestructable())==48.)thenset H0=GetEnumDestructable()endifendfunctionfunction lA takes unit it,boolean O6 returns booleancall SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set H0=nullif(O6)thencall EnumDestructablesInRect(He,Condition(function K8),function K9)elsecall EnumDestructablesInRect(He,Condition(function K8),function la)endifreturn H0!=nullendfunctionfunction BUE takes nothing returns booleanreturn trueendfunctionfunction l6 takes multiboard L6,integer c,integer r,string M6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemValue(p6,M6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction P6 takes multiboard L6,integer c,integer r,string q6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemIcon(p6,q6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction s6 takes multiboard L6,integer c,integer r,boolean t6,boolean T6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemStyle(p6,t6,T6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction U6 takes multiboard L6,integer c,integer r,real w6,real Y6,real Z6,real e7 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemValueColor(p6,PercentTo255(w6),PercentTo255(Y6),PercentTo255(Z6),PercentTo255(100.-e7))call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction x7 takes multiboard L6,integer c,integer r,real r7 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemWidth(p6,r7/ 100)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction BWE takes integer i returns nothingif i>$3E80 thenset gl[i-$3E80]=nullelseif i>8000 thenset Fl[i-8000]=nullelseset fl[i]=nullendifendfunctionfunction BYE takes integer i returns unitif i>$3E80 thenreturn gl[i-$3E80]elseif i>8000 thenreturn Fl[i-8000]elsereturn fl[i]endifreturn fl[i]endfunctionfunction BZE takes integer i returns destructableif i>$3E80 thenreturn P_V[i-$3E80]elseif i>8000 thenreturn P0V[i-8000]elsereturn P1V[i]endifreturn P1V[i]endfunctionfunction B_E takes unit u returns integerset Hl=Hl+1if Hl>$3E80 thenset gl[Hl-$3E80]=uelseif Hl>8000 thenset Fl[Hl-8000]=uelseset fl[Hl]=uendifreturn Hlendfunctionfunction B0E takes integer i returns nothingif i>$3E80 thenset P_V[i-$3E80]=nullelseif i>8000 thenset P0V[i-8000]=nullelseset P1V[i]=nullendifendfunctionfunction B1E takes destructable d returns integerset P2V=P2V+1if P2V>$3E80 thenset P_V[P2V-$3E80]=delseif P2V>8000 thenset P0V[P2V-8000]=delseset P1V[P2V]=dendifreturn P2Vendfunctionfunction B2E takes player hd returns booleanreturn((hd==RX[0])or(hd==RX[1])or(hd==RX[2])or(hd==RX[3])or(hd==RX[4])or(hd==RX[5]))endfunctionfunction B3E takes player hd returns booleanreturn((hd==GX[0])or(hd==GX[1])or(hd==GX[2])or(hd==GX[3])or(hd==GX[4])or(hd==GX[5]))endfunctionfunction B4E takes player p returns booleanreturn p==RX[1]or p==RX[2]or p==RX[3]or p==RX[4]or p==RX[5]or p==GX[1]or p==GX[2]or p==GX[3]or p==GX[4]or p==GX[5]endfunctionfunction B5E takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_USER))endfunctionfunction B6E takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_COMPUTER))endfunctionfunction B7E takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)))endfunctionfunction B8E takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(IsPlayerInForce(j8,GLV))))endfunctionfunction B9E takes integer CVE,unit CEE returns integerlocal integer x=1local integer EQE=0loopexitwhen x>5if B7E(RX[x])thenif(GetUnitTypeId(QV[x])==CVE and IsUnitEnemy(QV[x],GetOwningPlayer(CEE)))thenreturn GetPlayerId(RX[x])endifendifif B7E(GX[x])thenif(GetUnitTypeId(QV[6+x])==CVE and IsUnitEnemy(QV[6+x],GetOwningPlayer(CEE)))thenreturn GetPlayerId(GX[x])endifendifset x=x+1endloopreturn EQEendfunctionfunction CXE takes unit COE returns integerreturn R1E(GetHandleId(COE),"Invoker|Wex")endfunctionfunction CRE takes unit COE returns integerreturn R1E(GetHandleId(COE),"Invoker|Quas")endfunctionfunction CIE takes unit COE returns integerreturn R1E(GetHandleId(COE),"Invoker|Exort")endfunctionfunction CAE takes unit COE,integer CNE returns booleanlocal integer CBE=GetHandleId(COE)local integer CCE=R1E(CBE,"Invoker|Current1")local integer CDE=R1E(CBE,"Invoker|Current2")if CNE==CCE or CNE==CDE thenreturn trueendifreturn falseendfunctionfunction CFE takes unit COE,integer CGE,integer CHE,integer CJE,boolean CKE returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(COE))if(CKE)thenset J4=(Bz>J5V[O5])and IssueImmediateOrderById(COE,CGE)and IssueImmediateOrderById(COE,CHE)and IssueImmediateOrderById(COE,CJE)elseset J4=IssueImmediateOrderById(COE,CGE)and IssueImmediateOrderById(COE,CHE)and IssueImmediateOrderById(COE,CJE)endifif(CKE and J4)thenset J4=IssueImmediateOrderById(COE,$D026C)endifreturn J4endfunctionfunction CLE takes unit COE,integer CGE,integer CHE,integer CJE,integer CNE returns booleanif(CAE(COE,CNE))thenreturn trueelseif GetUnitTypeId(COE)==1160786520 and eY[416+GetPlayerId(GetOwningPlayer(COE))]==CNE thenreturn trueelsereturn CFE(COE,CGE,CHE,CJE,true)endifendfunctionfunction CME takes unit it returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal real CPE=99999.local unit CQElocal unit m5=nulllocal integer jcall GroupClear(H8)set bj_wantDestroyGroup=falsecall GroupAddGroup(ii,H8)loopset CQE=FirstOfGroup(H8)exitwhen(CQE==null)if((m5==null)or(E3E(it,CQE)<CPE))thenset j=E5E(GetUnitUserData(CQE))if((j!=0 or(not FOV))and(j!=1 or(not FRV))and(j!=2 or(not FXV)))thenset m5=CQEset CPE=E3E(it,CQE)endifendifcall GroupRemoveUnit(H8,CQE)endloopset hr=m5set m5=nullreturn hrendfunctionfunction CSE takes integer O5,integer UP,integer CTE,integer CUE returns nothingset h7[O5]=h7[UP]set hj[O5]=CTEset hj[256+O5]=CUEset hj[512+UP]=O5set hj[512+O5]=UPendfunctionfunction CWE takes unit it,integer UP returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if(UP==0)thenreturnendifset h8[O5]=h7[UP+1]set h8[80+O5]=h7[UP]set h9[O5]=h7[UP-1]set h9[16+O5]=h7[hj[UP]]set h8[16+O5]=h7[hj[256+UP]]if(iU(it)and(h4[O5]==null)and(B6E(Player(O5))))thenif(eY[O5]==1)thenif((G0[O5])or(G0[32+O5])or(G0[48+O5])or(not G0[$80+O5])or(G0[64+O5])or((X1E(it))and(not Id(O5)))or(GetUnitCurrentOrder(it)==$D0012))thencall jW(it,$D0012,h9[O5])elsecall jW(it,$D000F,h8[O5])endifelseif((eY[O5]==3)or(eY[O5]==4))thenif(GetUnitCurrentOrder(it)==$D0012)thencall jW(it,$D0012,h9[O5])endifendifendifendfunctionfunction CYE takes unit it,unit X0E returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal unit m5=CME(X0E)if(m5!=null)thenset UP=GetUnitUserData(m5)if(IsUnitAlly(it,RX[0]))thencall CWE(it,UP)elsecall CWE(it,hj[512+UP])endifendifset m5=nullendfunctionfunction CZE takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal unit m5=CME(it)if(m5!=null)thenset UP=GetUnitUserData(m5)if(IsUnitAlly(it,RX[0]))thencall CWE(it,UP)elsecall CWE(it,hj[512+UP])endifendifset h4[96+O5]=nullset m5=nullendfunctionfunction M8 takes player j8 returns booleanif(GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_LEFT)thenif(GetPlayerController(j8)==MAP_CONTROL_USER or GetPlayerController(j8)==MAP_CONTROL_COMPUTER)thenreturn trueendifendifreturn falseendfunctionfunction p8 takes nothing returns nothingif(B7E(GetEnumPlayer()))thenset bj_forceCountPlayers=bj_forceCountPlayers+1endifendfunctionfunction P8 takes force f returns integerset bj_forceCountPlayers=0call ForForce(f,function p8)return bj_forceCountPlayersendfunctionfunction hh takes nothing returns nothingif GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING thenif GetEnumPlayer()!=Player($D)and GetEnumPlayer()!=Player($E)thenset bj_forceCountPlayers=bj_forceCountPlayers+1endifendifendfunctionfunction q8 takes force f returns integerset bj_forceCountPlayers=0call ForForce(f,function hh)return bj_forceCountPlayersendfunctionfunction hi takes integer hI,player j8 returns nothingif R2V thencall SetPlayerTechMaxAllowed(j8,hI,0)set v[GetUnitPointValueByType(hI)]=trueendifendfunctionfunction C_E takes integer hI returns nothingcall hi(hI,RX[1])call hi(hI,RX[2])call hi(hI,RX[3])call hi(hI,RX[4])call hi(hI,RX[5])call hi(hI,GX[1])call hi(hI,GX[2])call hi(hI,GX[3])call hi(hI,GX[4])call hi(hI,GX[5])endfunctionfunction S8 takes integer hI returns nothingif R2V thencall SetPlayerTechMaxAllowed(RX[1],hI,0)call SetPlayerTechMaxAllowed(RX[2],hI,0)call SetPlayerTechMaxAllowed(RX[3],hI,0)call SetPlayerTechMaxAllowed(RX[4],hI,0)call SetPlayerTechMaxAllowed(RX[5],hI,0)call SetPlayerTechMaxAllowed(GX[1],hI,0)call SetPlayerTechMaxAllowed(GX[2],hI,0)call SetPlayerTechMaxAllowed(GX[3],hI,0)call SetPlayerTechMaxAllowed(GX[4],hI,0)call SetPlayerTechMaxAllowed(GX[5],hI,0)endifendfunctionfunction C0E takes player j8 returns nothinglocal integer T8=BBVlocal integer U8=BCVif R2V thenloopexitwhen T8>U8call SetPlayerTechMaxAllowed(j8,BAV[T8],0)set T8=T8+1endloopset T8=BDVset U8=BFVloopexitwhen T8>U8call SetPlayerTechMaxAllowed(j8,BAV[T8],0)set T8=T8+1endloopendifendfunctionfunction C1E takes nothing returns nothingcall C0E(RX[1])call C0E(RX[2])call C0E(RX[3])call C0E(RX[4])call C0E(RX[5])call C0E(GX[1])call C0E(GX[2])call C0E(GX[3])call C0E(GX[4])call C0E(GX[5])endfunctionfunction C2E takes player p returns nothinglocal integer iif R2V thenset i=BBVloopexitwhen i>BFVif v[i]==false thencall SetPlayerTechMaxAllowed(p,BAV[i],1)endifset i=i+1endloopif B2E(p)thenset i=BBVloopexitwhen i>BCVcall SetPlayerTechMaxAllowed(p,BAV[i],0)set i=i+1endloopelseset i=BDVloopexitwhen i>BFVcall SetPlayerTechMaxAllowed(p,BAV[i],0)set i=i+1endloopendifendifendfunctionfunction C3E takes player p returns nothinglocal integer iif R2V thenset i=BBVloopexitwhen i>BFVif v[i]==false thencall SetPlayerTechMaxAllowed(p,BAV[i],1)endifset i=i+1endloopif B2E(p)thenset i=BDVloopexitwhen i>BFVcall SetPlayerTechMaxAllowed(p,BAV[i],0)set i=i+1endloopelseset i=BBVloopexitwhen i>BCVcall SetPlayerTechMaxAllowed(p,BAV[i],0)set i=i+1endloopendifendifendfunctionfunction C4E takes nothing returns nothinglocal integer iif R2V thenset i=BDVloopexitwhen i>BFVcall SetPlayerTechMaxAllowed(RX[1],BAV[i],0)call SetPlayerTechMaxAllowed(RX[2],BAV[i],0)call SetPlayerTechMaxAllowed(RX[3],BAV[i],0)call SetPlayerTechMaxAllowed(RX[4],BAV[i],0)call SetPlayerTechMaxAllowed(RX[5],BAV[i],0)set i=i+1endloopset i=BBVloopexitwhen i>BCVcall SetPlayerTechMaxAllowed(GX[1],BAV[i],0)call SetPlayerTechMaxAllowed(GX[2],BAV[i],0)call SetPlayerTechMaxAllowed(GX[3],BAV[i],0)call SetPlayerTechMaxAllowed(GX[4],BAV[i],0)call SetPlayerTechMaxAllowed(GX[5],BAV[i],0)set i=i+1endloopendifendfunctionfunction C5E takes nothing returns nothinglocal integer T8local integer U8local integer C6E=0set Ge=BBVset T8=BBVset U8=BCVloopexitwhen T8>U8set C6E=C6E+1set je[C6E]=T8set T8=T8+1endloopset T8=BDVset U8=BFVloopexitwhen T8>U8set C6E=C6E+1set je[C6E]=T8set T8=T8+1endloopset he=C6Eendfunctionfunction C7E takes nothing returns integerreturn je[GetRandomInt(Ge,he)]endfunctionfunction C8E takes nothing returns integerlocal integer C9E=GetRandomInt(Ge,he)local integer hs=je[C9E]set hs=je[C9E]if(Ge==he)thenset je[C9E]=0return hsendifif(C9E==he)thenset he=he-1return hsendifset je[C9E]=je[he]set he=he-1return hsendfunctionfunction DVE takes unit V_E returns booleanreturn GetUnitAbilityLevel(V_E,1110454612)>0 or GetUnitAbilityLevel(V_E,1112437609)>0 or GetUnitAbilityLevel(V_E,1110454616)>0 or GetUnitAbilityLevel(V_E,1112433775)>0 or GetUnitAbilityLevel(V_E,1110454861)>0 or GetUnitAbilityLevel(V_E,1114137953)>0 or GetUnitAbilityLevel(V_E,1110456150)>0 or GetUnitAbilityLevel(V_E,1110458969)>0 or GetUnitAbilityLevel(V_E,1110456399)>0 or GetUnitAbilityLevel(V_E,1110456149)>0 or GetUnitAbilityLevel(V_E,1110459468)>0 or GetUnitAbilityLevel(V_E,1110456406)>0 or GetUnitAbilityLevel(V_E,1110455089)>0 or GetUnitAbilityLevel(V_E,1110459988)>0 or GetUnitAbilityLevel(V_E,1110459975)>0endfunctionfunction DEE takes string hT returns integerif hT=="a"thenreturn $Aelseif hT=="b"thenreturn $Belseif hT=="c"thenreturn $Celseif hT=="d"thenreturn $Delseif hT=="e"thenreturn $Eelseif hT=="f"thenreturn $Felsereturn S2I(hT)endifendfunctionfunction DXE takes string hU returns integerreturn DEE(SubString(hU,0,1))*16+DEE(SubString(hU,1,2))endfunctionfunction DOE takes integer hX returns booleanlocal integer i=1loopexitwhen i>XIif hX==EI[i]thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction DRE takes unit DIE returns integerlocal integer DAE=GetUnitTypeId(DIE)if DAE==1697656914 or DAE==1966092365 thenreturn 1elseif DAE==1697657137 or DAE==1966092356 thenreturn 2elseif DAE==1697656915 or DAE==1966092366 thenreturn 3elseif DAE==1697657145 or DAE==1966092372 thenreturn 4endifreturn 0endfunctionfunction DNE takes player hV,integer hY returns nothinglocal texttag tif hY>0 thenset t=CreateTextTag()call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)call SetTextTagText(t,"+"+I2S(hY),.025)call SetTextTagPosUnit(t,QV[GetPlayerId(hV)],0)call SetTextTagColor(t,$FF,$DC,0,$FF)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==hV thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endifendfunctionfunction lW takes player hV,integer DBE returns nothinglocal integer x=1if IsPlayerAlly(hV,RX[0])thenloopexitwhen x>5if RX[x]!=hV thencall DNE(RX[x],DBE)endifset x=x+1endloopendifset x=1if IsPlayerAlly(hV,GX[0])thenloopexitwhen x>5if GX[x]!=hV thencall DNE(GX[x],DBE)endifset x=x+1endloopendifendfunctionfunction DCE takes unit hn,integer DDE returns nothinglocal integer DBElocal player p=GetOwningPlayer(hn)local integer DFE=0local integer DGEset DBE=$A0+40*DDEif B2E(GetOwningPlayer(hn))thenset DGE=P8(WE)elseset DGE=P8(YE)endifif p==RX[0]or p==GX[0]thenset DFE=R2I(((400+50*DDE)+GetRandomInt(2,20))*.7)endifif IsUnitAlly(GetDyingUnit(),p)thenif IsUnitAlly(hn,RX[0])thenset p=GX[0]elseset p=RX[0]endifset DBE=DBE/ 2+DFE/ DGEelseset DBE=DBE+DFE/ DGEendifif p==RX[0]thencall DNE(RX[1],DBE)call DNE(RX[2],DBE)call DNE(RX[3],DBE)call DNE(RX[4],DBE)call DNE(RX[5],DBE)elseif p==GX[0]thencall DNE(GX[1],DBE)call DNE(GX[2],DBE)call DNE(GX[3],DBE)call DNE(GX[4],DBE)call DNE(GX[5],DBE)elsecall lW(GetOwningPlayer(hn),DBE)endifendfunctionfunction DHE takes integer z8 returns booleanlocal integer i=1loopexitwhen i>BMVif BLV[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction DJE takes integer z8 returns booleanlocal integer i=1loopexitwhen i>BHVif BGV[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction DKE takes integer z8 returns booleanlocal integer i=1loopexitwhen i>BKVif BJV[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction DLE takes player j8 returns nothinglocal integer DMElocal integer DPElocal location DQElocal integer C9Elocal boolean GotHero=falseset AV[GetPlayerId(j8)]=trueif B2E(j8) thenset DME=BBVset DPE=BCVset DQE=GetRectCenter(BA)elseset DME=BDVset DPE=BFVset DQE=GetRectCenter(NA)endifif W thenif(GetRandomInt(1,2)==1)thenset DME=BBVset DPE=BCVelseset DME=BDVset DPE=BFVendifendifloopset C9E=GetRandomInt(DME,DPE)exitwhen v[C9E]==false and DHE(BAV[C9E])and BAV[C9E]!=1211117643endloopif IR==false thencall S8(BAV[C9E])set v[C9E]=trueendifcall CreateUnitAtLoc(j8,BAV[C9E],DQE,0)call RemoveLocation(DQE)set DQE=nullendfunctionfunction DSE takes player j8 returns nothinglocal integer DMElocal integer DPElocal location DQElocal integer C9Elocal boolean GotHero=falseset AV[GetPlayerId(j8)]=trueif B2E(j8) thenset DME=BBVset DPE=BCVset DQE=GetRectCenter(BA)elseset DME=BDVset DPE=BFVset DQE=GetRectCenter(NA)endifif W thenif(GetRandomInt(1,2)==1)thenset DME=BBVset DPE=BCVelseset DME=BDVset DPE=BFVendifendifloopset C9E=GetRandomInt(DME,DPE)exitwhen v[C9E]==false and DKE(BAV[C9E])endloopif IR==false thencall S8(BAV[C9E])set v[C9E]=trueendifcall CreateUnitAtLoc(j8,BAV[C9E],DQE,0)call RemoveLocation(DQE)set DQE=nullendfunctionfunction DTE takes player j8 returns nothinglocal integer DMElocal integer DPElocal location DQElocal integer C9Elocal boolean GotHero=falseset AV[GetPlayerId(j8)]=trueif B2E(j8) thenset DME=BBVset DPE=BCVset DQE=GetRectCenter(BA)elseset DME=BDVset DPE=BFVset DQE=GetRectCenter(NA)endifif W thenif(GetRandomInt(1,2)==1)thenset DME=BBVset DPE=BCVelseset DME=BDVset DPE=BFVendifendifloopset C9E=GetRandomInt(DME,DPE)exitwhen v[C9E]==false and DJE(BAV[C9E])endloopif IR==false thencall S8(BAV[C9E])set v[C9E]=trueendifcall CreateUnitAtLoc(j8,BAV[C9E],DQE,0)call RemoveLocation(DQE)set DQE=nullendfunctionfunction DUE takes player j8 returns nothinglocal integer DMElocal integer DPElocal location DQElocal integer C9Elocal boolean GotHero=falseset AV[GetPlayerId(j8)]=trueif B2E(j8) thenset DME=BBVset DPE=BCVset DQE=GetRectCenter(BA)elseset DME=BDVset DPE=BFVset DQE=GetRectCenter(NA)endifif W thenif(GetRandomInt(1,2)==1)thenset DME=BBVset DPE=BCVelseset DME=BDVset DPE=BFVendifendifloopset C9E=GetRandomInt(DME,DPE)exitwhen v[C9E]==falseendloopif IR==false thencall S8(BAV[C9E])set v[C9E]=trueendifcall CreateUnitAtLoc(j8,BAV[C9E],DQE,0)call RemoveLocation(DQE)set DQE=nullendfunctionfunction ly takes boolean h5,boolean h6 returns integerlocal integer h1local integer h2if h5 and h6 thenif(GetRandomInt(1,2)==1)thenset h1=BBVset h2=BCVelseset h1=BDVset h2=BFVendifelseif h5 thenset h1=BBVset h2=BCVelseset h1=BDVset h2=BFVendifreturn GetRandomInt(h1,h2)endfunctionfunction DWE takes destructable d returns booleanreturn GetDestructableTypeId(d)==1314157667 or GetDestructableTypeId(d)==1314157687 or GetDestructableTypeId(d)==1096053874 or GetDestructableTypeId(d)==1110454322 or GetDestructableTypeId(d)==1110454323 or GetDestructableTypeId(d)==1110454325endfunctionfunction DYE takes unit u returns booleanreturn GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0endfunctionfunction DZE takes integer id returns booleanreturn id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614endfunctionfunction D_E takes unit u returns booleanreturn GetUnitAbilityLevel(u,1112500344)>0 or GetUnitAbilityLevel(u,1110454344)>0endfunctionfunction D0E takes player p returns stringreturn BXV[GetPlayerId(p)]endfunctionfunction D1E takes integer i returns stringreturn GetObjectName(i)endfunctionfunction D2E takes force ir,real Hk,string iR returns nothingif(IsPlayerInForce(GetLocalPlayer(),ir))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,BI,Hk,iR)endifendfunctionfunction vlv takes nothing returns groupreturn CreateGroup()endfunctionfunction l7 takes integer i returns nothingif i!=Dy thenset Dx[i]=Dx[Dy]set DX[i]=DX[Dy]endifset Dx[Dy]=nullset DX[Dy]=0set Dy=Dy-1endfunctionfunction l8 takes nothing returns booleanlocal real D3E=XRE()local integer iset i=1loopexitwhen i>Dyif DX[i]<D3E thenif Dx[i]==null or IsTriggerEnabled(Dx[i])thencall l5()elsecall DestroyTrigger(Dx[i])endifcall l7(i)elseset i=i+1endifendloopreturn falseendfunctionfunction D4E takes trigger t returns nothingcall O1E(GetHandleId(t))call DisableTrigger(t)call DestroyTrigger(t)endfunctionfunction FilterTreeSentinels takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())==1747993172)or(GetUnitTypeId(GetFilterUnit())==1747993173))endfunctionfunction D5E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer D6E=GetHandleId(t)local unit D7E=RME(D6E,"TreantUnit")local unit D8E=RME(D6E,"SentinelUnit")local unit D9E=nulllocal unit u=nulllocal group g=CreateGroup()local integer O5=GetPlayerId(GetOwningPlayer(D7E))if((GetTriggerEventId()==EVENT_UNIT_DEATH)and((GetUnitTypeId(D8E)==1747993172)or(GetUnitTypeId(D8E)==1747993173)))thencall FlushChildHashtable(YX,D6E)call IRE(t)call DestroyTrigger(t)elseif((GetUnitTypeId(D8E)==1747993172)and(Bz>J5V[64+O5]))thencall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(D8E),500,Condition(function NOE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(D7E))endloopset D9E=uendifif((GetUnitState(D7E,UNIT_STATE_LIFE)>5.)and(D9E!=null)and(B6E(GetOwningPlayer(D7E)))and(GetUnitTypeId(D8E)==1747993172)and(DVE(D7E)==false))thencall IssuePointOrderById(D7E,$D00D9,GetUnitX(D8E),GetUnitY(D8E))set J5V[64+O5]=Bz+10.endifendifcall DestroyGroup(g)set t=nullset D7E=nullset D8E=nullset D9E=nullset u=nullset g=nullreturn falseendfunctionfunction FVE takes unit FEE,unit FXE returns nothinglocal unit D8E=FXElocal unit D7E=FEElocal trigger t=nulllocal integer FOE=0local boolexpr b=Condition(function NOE)if(B6E(GetOwningPlayer(D7E)))thenset t=CreateTrigger()set FOE=GetHandleId(t)call O8E(FOE,"TreantUnit",D7E)call O8E(FOE,"SentinelUnit",D8E)if(GetUnitTypeId(D8E)==1747993172)thencall TriggerRegisterUnitInRange(t,D8E,500,b)endifcall TriggerRegisterUnitEvent(t,D8E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function D5E))endifcall DestroyBoolExpr(b)set D8E=nullset D7E=nullset t=nullendfunctionfunction FRE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local fogmodifier FAE=(LoadFogModifierHandle(YX,(FIE),(42)))call FogModifierStop(FAE)call DestroyFogModifier(FAE)call FlushChildHashtable(YX,(FIE))call IRE(t)set t=nullreturn falseendfunctionfunction FNE takes integer id returns booleanreturn id==C3 or id==R3 or id==T2 or id==B3 or id==H2endfunctionfunction FBE takes unit u returns stringif u==null thenreturn(GetObjectName((1848654164)))endifif GetUnitPointValue(u)==500 thenreturn"Formless"elseif GetUnitPointValue(u)==600 thenreturn"Bastion"endifreturn(GetObjectName((BNV[GetUnitPointValue(u)])))endfunctionfunction FCE takes unit V_E returns stringlocal integer i=GetUnitPointValue(V_E)if IQV thenset i=GetPlayerId(GetOwningPlayer(V_E))if Player(i)==RX[1]thenreturn"Blue"elseif Player(i)==RX[2]thenreturn"Teal"elseif Player(i)==RX[3]thenreturn"Purple"elseif Player(i)==RX[4]thenreturn"Yellow"elseif Player(i)==RX[5]thenreturn"Orange"elseif Player(i)==GX[1]thenreturn"Pink"elseif Player(i)==GX[2]thenreturn"Gray"elseif Player(i)==GX[3]thenreturn"Light"elseif Player(i)==GX[4]thenreturn"Dark"elseif Player(i)==GX[5]thenreturn"Brown"endifreturn"Unknown"endifif(i==1)thenreturn"Shendelzare"elseif(i==$F)thenreturn"Cairne"elseif(i==18)thenreturn"Magi"elseif(i==21)thenreturn"Azwraith"elseif(i==29)thenreturn"Wisp"elseif(i==33)thenreturn"Davion"elseif(i==65)thenreturn"Anub'arak"elseif(i==86)thenreturn"Vol'Jin"elseif(i==91)thenreturn"Azgalor"elseif(i==93)thenreturn"Ish'kafel"elseif(i==97)thenreturn"Kaldr"elseif(i==101)thenreturn"Eredar"endifreturn FBE(V_E)endfunctionfunction FDE takes integer i returns stringif i==0 thenreturn(GetObjectName((1848654164)))endifreturn(GetObjectName((BNV[i])))endfunctionfunction FFE takes unit S4 returns integerlocal integer z8local integer i=0if S4==null thenreturn-2endifset z8=GetUnitTypeId(S4)loopexitwhen i>PUif CU[i]==z8 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction FGE takes unit u returns stringif u==null thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn BUV[GetUnitPointValue(u)]endfunctionfunction FHE takes unit u returns booleanreturn GetUnitAbilityLevel(u,1093686070)>0 or GetUnitAbilityLevel(u,1093744441)>0 or GetUnitAbilityLevel(u,1094937961)>0 or GetUnitAbilityLevel(u,1093686101)>0 or GetUnitAbilityLevel(u,1110454580)>0 or GetUnitAbilityLevel(u,1093683251)>0 or R8E(u,"BladeFury|Active")endfunctionfunction FJE takes player p returns booleanreturn XR and(BVV==p or BEV==p)endfunctionfunction FKE takes unit FLE returns integerlocal integer xlocal integer id=GetUnitTypeId(FLE)set x=1loopexitwhen x>BHVif id==BGV[x]thenreturn 2endifset x=x+1endloopset x=1loopexitwhen x>BKVif id==BJV[x]thenreturn 3endifset x=x+1endloopset x=1loopexitwhen x>BMVif id==BLV[x]thenreturn 1endifset x=x+1endloopif id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517 or id==1311781442 or id==1311781175 or id==1211119684 or id==1211119683 or id==1211119668 or id==1211119682 or id==1311781171 or id==1311781172 or id==1311781173 thenreturn 2endifif id==1311781192 or id==1311781204 or id==1311781194 or id==1211117637 or id==1211117639 or id==1211117638 or id==1211119433 or id==1160786229 or id==1211122513 or id==1211122995 or id==1211122996 or id==1211122997 or id==1429221720 thenreturn 3endifif id==1211119192 or id==1211119193 or id==1211119191 or id==1211122243 or id==1328558391 thenreturn 1endifreturn 0endfunctionfunction Ld takes unit FLE returns integerlocal integer Hm=FKE(FLE)if Hm==1 thenreturn GetHeroInt(FLE,true)endifif Hm==2 thenreturn GetHeroAgi(FLE,true)endifif Hm==3 thenreturn GetHeroStr(FLE,true)endifreturn 0endfunctionfunction FME takes unit u returns booleanreturn GetUnitState(u,UNIT_STATE_LIFE)<1 or I4V[GetPlayerId(GetOwningPlayer(u))]endfunctionfunction FPE takes integer z8,integer r,integer g,integer b returns nothingset CL=CL+1set NL[CL]=rset bL[CL]=gset BL[CL]=bset cL[CL]=z8endfunctionfunction FQE takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)endfunctionfunction emv takes nothing returns nothingcall DisplayTimedTextToPlayer(GetEnumPlayer(),0,BI,DB,dB)endfunctionfunction FSE takes nothing returns nothingif eb[GetPlayerId(GetEnumPlayer())]thencall DisplayTimedTextToPlayer(GetEnumPlayer(),0,BI,mb,Lb)endifendfunctionfunction FTE takes force ir,real Hk,string iR returns nothingset Lb=iRset mb=Hkcall ForForce(ir,function FSE)endfunctionfunction FUE takes unit u returns booleanreturn GetUnitAbilityLevel(u,1110458953)>0 or GetUnitAbilityLevel(u,1112437619)>0 or GetUnitAbilityLevel(u,1110459734)>0endfunctionfunction FWE takes group g returns nothinglocal integer i=GetHandleId(g)-JPVif i<0 or i>120 thenset JSV=truecall DestroyGroup(g)elsecall GroupClear(g)set JLV[i]=falseset JQV=iendifendfunctionfunction FYE takes nothing returns grouplocal integer i=JQVloopexitwhen i==JQV-1if JLV[i]==false thenset JQV=i+1if JQV==120 thenset JQV=0endifset JLV[i]=truereturn JMV[i]endifset i=i+1if i==120 thenset i=0endifendloopcall FTE(II,5.,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")call FTE(II,5.,"|c00ff0303Send this replay to IceFrog@gmail.com|r")return CreateGroup()endfunctionfunction FZE takes real F_E,real dx,real dy,real Vx,real Vy returns reallocal real alocal real blocal real dset a=F_E*F_E-Vx*Vx-Vy*Vyset b=Vx*dx+Vy*dyif a==0 thenif b>0 thenreturn .0endifreturn(dx*dx+dy*dy)/2/bendifset d=b*b+a*(dx*dx+dy*dy)if d<0 thenreturn .0endifset d=SquareRoot(d)if b<d thenreturn(b+d)/aendifreturn(b-d)/aendfunctionfunction F0E takes real x,real y returns booleanreturn( not(x<GetRectMinX(bj_mapInitialPlayableArea)+75))and( not(x>GetRectMaxX(bj_mapInitialPlayableArea)-75))and( not(y<GetRectMinY(bj_mapInitialPlayableArea)+75))and( not(y>GetRectMaxY(bj_mapInitialPlayableArea)-75))endfunctionfunction F1E takes unit F2E,unit F3E,real X,real Y,real r,boolexpr F4E returns booleanlocal group g=FYE()local real Hx=GetUnitX(F2E)local real Hy=GetUnitY(F2E)local player p=GetOwningPlayer(F2E)local real dx=(X-Hx)*.5local real dy=(Y-Hy)*.5local real R=SquareRoot(dx*dx+dy*dy)local unit ulocal real dlocal real F5E=99999.local real F6E=.0local real E2Ecall GroupEnumUnitsInRange(g,Hx+dx,Hy+dy,R,F4E)set bj_lastReplacedUnit=nullset bj_lastLoadedUnit=nullset bj_forLoopAIndex=0loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)set d=((GetUnitX(u)-Hx)*dy-(GetUnitY(u)-Hy)*dx)/Rif u!=F2E and u!=F3E and IsUnitVisible(u,p)and d*d<=r*r thenset E2E=E3E(F2E,u)if E2E<F5E thenset F5E=E2Eset bj_lastReplacedUnit=uendifif E2E>F6E thenset F6E=E2Eset bj_lastLoadedUnit=uendifset bj_forLoopAIndex=bj_forLoopAIndex+1endifendloopcall FWE(g)set g=nullreturn bj_forLoopAIndex==0endfunctionfunction F7E takes unit F2E,unit F3E,real F_E,real F8E,real F9E returns locationlocal real dt=TimerGetElapsed(K)local real Xlocal real Ylocal real dx=GetUnitX(F3E)local real dy=GetUnitY(F3E)call EYE(.1)set dt=TimerGetElapsed(K)-dtset X=GetUnitX(F3E)set Y=GetUnitY(F3E)if X==dx and Y==dy thencall MoveLocation(YIV,X,Y)return YIVendifset dx=(X-dx)/dtset dy=(Y-dy)/dtset dt=FZE(F_E,X+dx*F8E-GetUnitX(F2E),Y+dy*F8E-GetUnitY(F2E),dx,dy)if dt==0 thenreturn nullendifcall MoveLocation(YIV,X+dx*(dt+F8E),Y+dy*(dt+F8E))if F0E(GetLocationX(YIV),GetLocationY(YIV))thenreturn YIVendifreturn nullendfunctionfunction GVE takes unit V_E,unit X0E,real GEE,real F9E returns locationlocal real ALE=GetUnitX(X0E)local real AME=GetUnitY(X0E)local real GXE=TimerGetElapsed(K)local real GOE=0local real GRE=0call EYE(.1)set GXE=1./(TimerGetElapsed(K)-GXE)set GOE=(GetUnitX(X0E)-ALE)*GXEset GRE=(GetUnitY(X0E)-AME)*GXEif not(GOE==0 and GRE==0)thenset ALE=ALE+GOE*GEEset AME=AME+GRE*GEEendifif E4E(GetUnitX(V_E),GetUnitY(V_E),ALE,AME)<=F9E thencall MoveLocation(YIV,ALE,AME)if F0E(GetLocationX(YIV),GetLocationY(YIV))thenreturn YIVendifendifreturn nullendfunctionfunction GIE takes location IGE,real GAE,real GNE returns locationlocal real x=GetLocationX(IGE)+GAE*Cos(GNE*bj_DEGTORAD)local real y=GetLocationY(IGE)+GAE*Sin(GNE*bj_DEGTORAD)call MoveLocation(HA,x,y)return HAendfunctionfunction GBE takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetUnitTypeId(GetFilterUnit())==1212363833)and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))endfunctionfunction GCE takes unit it,unit m5 returns booleanset bj_lastLoadedUnit=itset bj_lastLoadedUnit=X8E(350,jv(m5),Condition(function GBE))return(bj_lastLoadedUnit!=null)endfunctionfunction GDE takes nothing returns booleanlocal integer GFE=0local integer i=0loopexitwhen i==120if JLV[i] thenset GFE=GFE+1endifset i=i+1endloopif GFE>100 or JSV thencall FTE(II,5.,"|c00ff0303Please send me this replay ("+I2S(GFE)+")")endifreturn falseendfunctionfunction GGE takes nothing returns nothinglocal integer i=0set JQV=0set JMV[i]=CreateGroup()set JLV[i]=falseset i=i+1set JPV=GetHandleId(JMV[0])loopexitwhen i==120set JMV[i]=CreateGroup()set JLV[i]=falseset i=i+1endloopendfunctionfunction GHE takes nothing returns booleanlocal group g=FYE()call GroupEnumUnitsInRange(g,0,0,$3E80,Condition(function BUE))call ForGroup(g,function FQE)call FWE(g)set g=nullreturn falseendfunctionfunction GJE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function GHE))call TriggerEvaluate(t)set t=nullendfunctionfunction GKE takes unit F2E,integer GLE returns nothingcall UnitAddAbility(F2E,GLE)call UnitMakeAbilityPermanent(F2E,true,GLE)endfunctionfunction GME takes unit u returns booleanreturn GetUnitTypeId(u)<1 or IsUnitType(u,UNIT_TYPE_DEAD)endfunctionfunction GPE takes unit GQE,unit GSE returns nothingif E3E(GQE,GSE)>$4B0 or(GME(GQE)and GetUnitTypeId(GQE)==1211117643)thencall AddHeroXP(GQE,XEE(GSE),true)endifendfunctionfunction GTE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call O1E(GetHandleId(RME(IAE,"Unit")))call ShowUnit(RME(IAE,"Unit"),false)call RemoveUnit(RME(IAE,"Unit"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction GUE takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function GTE))call O8E(IAE,"Unit",u)set t=nullendfunctionfunction GWE takes integer GYE returns nothinglocal unit u=CreateUnit(Player($F),GYE,0,0,0)call RemoveUnit(u)set u=nullendfunctionfunction GZE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"u")local real G_E=R2E(IAE,"duration")local integer G0E=R1E(IAE,"fade")if GetTriggerEvalCount(t)/ $A>R2I(G_E)thencall SetUnitVertexColor(u,$FF,100,$FF,$FF)call O1E(IAE)call IRE(t)elseif GME(u)==false thencall SetUnitVertexColor(u,$FF,100,$FF,G0E)endifset t=nullset u=nullreturn falseendfunctionfunction G1E takes unit u,real G_E,integer G0E returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function GZE))call O8E(IAE,"u",u)call O5E(IAE,"duration",G_E)call O4E(IAE,"fade",G0E)set t=nullendfunctionfunction G2E takes integer z8,real G3E,integer G4E returns nothingset Ml=Ml+1set Jl[Ml]=G3Eset ll[Ml]=z8set Ll[Ml]=G4Eendfunctionfunction G5E takes unit u returns reallocal integer z8=GetUnitTypeId(u)local integer i=1loopexitwhen i>Mlif ll[i]==z8 thenreturn Jl[i]endifset i=i+1endloopreturn 1.endfunctionfunction G6E takes integer z8,string G7E returns nothingset Ql=Ql+1set Pl[Ql]=G7Eset ql[Ql]=z8endfunctionfunction G8E takes unit u returns stringlocal integer z8=GetUnitTypeId(u)local integer i=1loopexitwhen i>Qlif ql[i]==z8 thenreturn Pl[i]endifset i=i+1endloopreturn"stand"endfunctionfunction G9E takes unit u returns nothingif GetUnitTypeId(u)==1311781193 thencall SetUnitAnimationByIndex(u,6)elsecall SetUnitAnimation(u,G8E(u))endifendfunctionfunction HVE takes player hV,string Ht returns nothinglocal sound HT=CreateSound(Ht,false,false,false,$A,$A,"DefaultEAXON")if(GetLocalPlayer()==hV)thencall StartSound(HT)endifcall KillSoundWhenDone(HT)endfunctionfunction HEE takes player HU,string Hv returns nothinglocal sound HV=CreateSoundFromLabel("InterfaceError",false,false,false,$A,$A)if(GetLocalPlayer()==HU)thenif(Hv!="")and(Hv!=null)thencall ClearTextMessages()call DisplayTimedTextToPlayer(HU,.5,-1.,2.,"|cffffcc00"+Hv+"|r")endifcall StartSound(HV)endifcall KillSoundWhenDone(HV)endfunctionfunction HXE takes nothing returns booleanif(GetTimeOfDay()>6. and GetTimeOfDay()<18.)thenreturn trueelsereturn falseendifendfunctionfunction HOE takes string H4,boolean H5 returns nothingif H5 thencall ExecuteFunc(H4)endifendfunctionfunction HRE takes real x returns reallocal real H7=GetRectMinX(bj_mapInitialPlayableArea)+50if(x<H7)thenreturn H7endifset H7=GetRectMaxX(bj_mapInitialPlayableArea)-50if(x>H7)thenreturn H7endifreturn xendfunctionfunction HIE takes real y returns reallocal real H7=GetRectMinY(bj_mapInitialPlayableArea)+50if(y<H7)thenreturn H7endifset H7=GetRectMaxY(bj_mapInitialPlayableArea)-50if(y>H7)thenreturn H7endifreturn yendfunctionfunction HAE takes real x returns reallocal real HNE=GetRectMinX(bj_mapInitialPlayableArea)+75if(x<HNE)thenreturn HNEendifset HNE=GetRectMaxX(bj_mapInitialPlayableArea)-75if(x>HNE)thenreturn HNEendifreturn xendfunctionfunction HBE takes real y returns reallocal real HNE=GetRectMinY(bj_mapInitialPlayableArea)+75if(y<HNE)thenreturn HNEendifset HNE=GetRectMaxY(bj_mapInitialPlayableArea)-75if(y>HNE)thenreturn HNEendifreturn yendfunctionfunction HCE takes integer HDE returns nothinglocal unit u=CreateUnit(Player($F),1211117657,0,0,270)call UnitAddAbility(u,HDE)call UnitRemoveAbility(u,HDE)call RemoveUnit(u)set u=nullendfunctionfunction HFE takes unit u,integer HDE returns nothingcall UnitAddAbility(u,HDE)call UnitRemoveAbility(u,HDE)endfunctionfunction HGE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer ia=R1E(IAE,"abilcode")call HCE(ia)call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction HHE takes integer ia,real HJE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O4E(IAE,"abilcode",ia)call TriggerRegisterTimerEvent(t,HJE,false)call TriggerAddCondition(t,Condition(function HGE))set t=nullendfunctionfunction Tree_Killer takes nothing returns nothingcall KillDestructable(GetEnumDestructable())endfunctionfunction HKE takes unit FLE returns nothingcall O7E(GetHandleId(FLE),"DamageRegisterAlready",false)call O1E(GetHandleId(FLE))call RemoveUnit(FLE)endfunctionfunction HLE takes unit hn,integer iB,integer ic returns nothingif GetUnitAbilityLevel(hn,iB)==0 thencall UnitAddAbility(hn,iB)endifcall SetUnitAbilityLevel(hn,iB,ic)endfunctionfunction HME takes integer a,integer b returns integerif(a<b)thenreturn aelsereturn bendifendfunctionfunction HPE takes integer a,integer b returns integerif(a<b)thenreturn belsereturn aendifendfunctionfunction HQE takes integer ih,integer a,integer b returns integerreturn HPE(HME(ih,b),a)endfunctionfunction HSE takes real a,real b returns realif(a<b)thenreturn aelsereturn bendifendfunctionfunction HTE takes real a,real b returns realif(a<b)thenreturn belsereturn aendifendfunctionfunction iI takes nothing returns nothinglocal integer IAE=GetHandleId(GetExpiredTimer())local unit hn=RME(IAE,"Unit")call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+R2E(IAE,"Damage"))set hn=nullendfunctionfunction m6 takes unit hn,real HUE returns nothinglocal timer t=CreateTimer()local integer IAE=GetHandleId(t)call O5E(IAE,"Damage",HUE)call O8E(IAE,"Unit",hn)call TimerStart(t,0,false,function iI)set t=nullendfunctionfunction HWE takes unit hn,real HUE returns nothinglocal real iK=GetUnitState(hn,UNIT_STATE_MAX_LIFE)local real il=GetUnitState(hn,UNIT_STATE_LIFE)if(GetUnitState(hn,UNIT_STATE_LIFE)>1)thenif HUE>(iK-il)thenif HUE>=il thencall SetUnitState(hn,UNIT_STATE_LIFE,iK)call m6(hn,HUE-(iK-il))elsecall m6(hn,HUE)endifelsecall SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+HUE)endifendifendfunctionfunction m9 takes unit p5,unit m5,real in returns booleanlocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)return((iN-hN)*(iN-hN)+(io-ho)*(io-ho))<in*inendfunctionfunction Ma takes unit p5,unit m5 returns reallocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)if p5==null or m5==null thenreturn I2R($540BE3FF)elsereturn SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))endifendfunctionfunction HYE takes unit p5,location m5 returns reallocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetLocationX(m5)local real ho=GetLocationY(m5)if p5==null thenreturn I2R($540BE3FF)elsereturn SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))endifendfunctionfunction HZE takes unit hn returns nothingcall SetUnitState(hn,UNIT_STATE_MANA,GetUnitState(hn,UNIT_STATE_MAX_MANA))endfunctionfunction MK takes unit hn,real iS returns nothingcall SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+iS)endfunctionfunction H_E takes nothing returns nothingcall PauseAllUnitsBJ(true)endfunctionfunction RepeatedPauseAll takes nothing returns nothingcall TimerStart(CreateTimer(),1,true,function H_E)endfunctionfunction iu takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call DestroyEffect(RWE(IAE,"fx"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction H0E takes string iv,unit hn,string iV,real Hk returns nothinglocal effect fx=AddSpecialEffectTarget(iv,hn,iV)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O9E(IAE,"fx",fx)call TriggerRegisterUnitEvent(t,hn,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function iu))set fx=nullset t=nullendfunctionfunction iw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call DestroyEffect(RWE(IAE,"fx"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction H1E takes string iv,real x,real y,real Hk returns nothinglocal effect fx=AddSpecialEffect(iv,x,y)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call O9E(H2E,"fx",fx)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function iw))set fx=nullset t=nullendfunctionfunction ix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local string iv=R4E(IAE,"Effect")local string iV=R4E(IAE,"Attach")local integer iX=R1E(IAE,"Count")call H0E(iv,m5,iV,2)if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>iX thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction Mv takes timer t returns nothingcall PauseTimer(t)call O1E(GetHandleId(t))call DestroyTimer(t)endfunctionfunction H3E takes unit a,unit b returns realreturn bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))endfunctionfunction H4E takes real x1,real y1,real x2,real y2 returns realreturn bj_RADTODEG*Atan2(y2-y1,x2-x1)endfunctionfunction H5E takes unit it,unit m5 returns booleanlocal real x=RAbsBJ(GetUnitFacing(it)-GetUnitFacing(m5))if(x<20 or x>340)thenset x=RAbsBJ(GetUnitFacing(it)-H3E(it,m5))return(x<20 or x>340)endifreturn falseendfunctionfunction i4 takes nothing returns nothingcall DestroyLightning(RYE(GetHandleId(GetExpiredTimer()),"Lightning"))endfunctionfunction H6E takes string i6,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real Hk returns nothinglocal timer t=CreateTimer()local lightning i7=AddLightning(i6,true,x1,y1,x2,y2)call SetLightningColor(i7,r,g,b,a)call REE(GetHandleId(t),"Lightning",i7)call TimerStart(t,Hk,false,function i4)set t=nullendfunctionfunction H7E takes string Hx,real Hk,unit HX,real Ia,integer r,integer g,integer b,integer a returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,Hx,Ia)call SetTextTagPosUnit(tt,HX,64)call SetTextTagColor(tt,r,g,b,a)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,Hk)if IsUnitVisible(HX,GetLocalPlayer())or FJE(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction H8E takes player p,string H9E,real EZE,unit D9E,real JVE,integer r,integer g,integer b,integer a returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,H9E,JVE)call SetTextTagPosUnit(tt,D9E,64)call SetTextTagColor(tt,r,g,b,a)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,EZE)if IsPlayerAlly(GetLocalPlayer(),p) or FJE(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction JEE takes trigger t,playerunitevent Ib returns nothinglocal integer JXE=0loopcall TriggerRegisterPlayerUnitEvent(t,Player(JXE),Ib,Condition(function BUE))set JXE=JXE+1exitwhen JXE==16endloopendfunctionfunction JOE takes nothing returns nothingif DWE(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())thenset sl=sl+1call KillDestructable(GetEnumDestructable())endifendfunctionfunction JRE takes real x,real y,real d returns integerlocal rect r=Rect(x-d,y-d,x+d,y+d)set sl=0call EnumDestructablesInRect(r,Condition(function BUE),function JOE)call RemoveRect(r)set r=nullreturn slendfunctionfunction JIE takes real x,real y returns booleanreturn( not(IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)))endfunctionfunction JAE takes sound JNE,real x,real y returns nothingcall SetSoundPosition(JNE,x,y,0)call SetSoundVolume(JNE,$7F)set bj_lastPlayedSound=JNEif(JNE!=null)thencall StartSound(JNE)endifendfunctionfunction If takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local fogmodifier IF=RKE(IAE,"fog")call FogModifierStop(IF)call DestroyFogModifier(IF)call O1E(IAE)call IRE(t)set t=nullset IF=nullreturn falseendfunctionfunction JBE takes player p,real Hk,real x,real y,real r returns nothinglocal trigger t=CreateTrigger()local fogmodifier IF=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)call FogModifierStart(IF)call RXE(GetHandleId(t),"fog",IF)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function If))set IF=nullset t=nullendfunctionfunction IG takes nothing returns nothingset bj_groupCountUnits=bj_groupCountUnits+1endfunctionfunction Ih takes nothing returns nothingif DWE(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())>0 thenset EL=trueendifendfunctionfunction nA takes real x,real y,real d returns booleanlocal rect r=Rect(x-d,y-d,x+d,y+d)set EL=falsecall EnumDestructablesInRect(r,null,function Ih)call RemoveRect(r)set r=nullreturn ELendfunctionfunction Ii takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=RME(H2E,"Target")local real Ij=R2E(H2E,"Speed")local unit JCE=RME(H2E,"Projectile")local real x=GetUnitX(JCE)local real y=GetUnitY(JCE)local real JDE=GetUnitX(F3E)local real JFE=GetUnitY(F3E)local real JGE=Ij*.03local real JHE=H4E(x,y,JDE,JFE)local real JJE=x+JGE*Cos(JHE*bj_DEGTORAD)local real JKE=y+JGE*Sin(JHE*bj_DEGTORAD)call SetUnitX(JCE,JJE)call SetUnitY(JCE,JKE)call SetUnitFacing(JCE,JHE)if GME(F3E)thencall KillUnit(JCE)call O1E(H2E)call IRE(t)elseif E4E(JDE,JFE,JJE,JKE)<=JGE thencall KillUnit(JCE)set I9V=RME(H2E,"Source")set AVV=F3Ecall ExecuteFunc(R4E(H2E,"Callback"))call O1E(H2E)call IRE(t)endifset t=nullset F3E=nullset JCE=nullreturn falseendfunctionfunction JLE takes unit p5,unit m5,integer IM,string In,real Ij returns triggerlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real IN=GetUnitFacing(p5)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function Ii))call O5E(IAE,"Speed",Ij)call O8E(IAE,"Target",m5)call O6E(IAE,"Callback",In)call O8E(IAE,"Source",p5)call O8E(IAE,"Projectile",CreateUnit(GetOwningPlayer(p5),IM,iN,io,IN))set eC=tset t=nullreturn eCendfunctionfunction Io takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call UnitAddAbility(RME(IAE,"Unit"),1097625443)call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction IO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit FLE=RME(IAE,"Hero")local real Ip=R2E(IAE,"curscale")local real G3E=Ip-(Ip-G5E(FLE))*iX/40if iX>40 or GME(FLE)thencall O1E(IAE)call IRE(t)elsecall SetUnitScale(FLE,G3E,G3E,G3E)endifset t=nullset FLE=nullreturn falseendfunctionfunction ng takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real Iq=R2E(IAE,"EndScale")call O1E(IAE)call IRE(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function IO))set IAE=GetHandleId(t)call O5E(IAE,"curscale",Iq)call O8E(IAE,"Hero",FLE)set t=nullset FLE=nullreturn falseendfunctionfunction nI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit FLE=RME(IAE,"Hero")local real Ir=(R2E(IAE,"scale")-G5E(FLE))*iX/40local real G3E=G5E(FLE)+Irif iX>40 or GME(FLE)thencall O1E(IAE)call IRE(t)elsecall SetUnitScale(FLE,G3E,G3E,G3E)endifset t=nullset FLE=nullreturn falseendfunctionfunction JME takes unit FLE,real Hk,real G3E returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real Is=G3E*G5E(FLE)local real Iq=Iscall O8E(IAE,"Hero",FLE)call O5E(IAE,"EndScale",Iq)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function ng))if Hk>3 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function nI))set IAE=GetHandleId(t)call O5E(IAE,"scale",Is)call O8E(IAE,"Hero",FLE)elsecall SetUnitScale(FLE,Iq,Iq,Iq)endifset t=nullendfunctionfunction IS takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer It=R1E(IAE,"Ability")if FLE!=null and GetUnitAbilityLevel(FLE,It)>0 thencall UnitRemoveAbility(FLE,It)endifcall O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction JPE takes unit u,integer It,real Hk returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GKE(u,It)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function IS))call O8E(IAE,"Hero",u)call O4E(IAE,"Ability",It)set t=nullendfunctionfunction Iu takes nothing returns nothingset bj_groupCountUnits=bj_groupCountUnits+1endfunctionfunction JQE takes group g returns integerset bj_groupCountUnits=0call ForGroup(g,function Iu)return bj_groupCountUnitsendfunctionfunction Iv takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local fogmodifier IF=RKE(IAE,"fog")call FogModifierStop(IF)call DestroyFogModifier(IF)call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction JSE takes fogmodifier IF,real Hk returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call FogModifierStart(IF)call RXE(IAE,"fog",IF)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function Iv))set t=nullendfunctionfunction Iw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer JTE=GetHandleId(t)local integer JUE=(LoadInteger(YX,(JTE),(55)))local destructable d=BZE(JUE)if d!=null thencall RemoveDestructable(d)endifcall B0E(JUE)call O1E(JTE)call IRE(t)set d=nullset t=nullreturn falseendfunctionfunction JWE takes destructable d,real JYE returns nothinglocal trigger t=CreateTrigger()local integer JTE=GetHandleId(t)call TriggerRegisterTimerEvent(t,JYE,false)call TriggerAddCondition(t,Condition(function Iw))call SaveInteger(YX,(JTE),(55),(B1E(d)))set t=nullendfunctionfunction Ix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer It=R1E(IAE,"Ability")if FLE!=null and GetUnitAbilityLevel(FLE,It)>0 thencall UnitRemoveAbility(FLE,It)endifcall O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction Iy takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call SetUnitAnimation(RME(IAE,"Unit"),"stand")call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction JZE takes unit u,real Hk returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Unit",u)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function Iy))set t=nullendfunctionfunction nm takes real Hk,boolean IZ,real x,real y,real I0,real I1,real I2,real I3,real I4 returns nothinglocal real I5local real I6local real I7if(I1<=0 or I4<=0 or I3<=0)thenreturnendifset I6=2.*Hk/I3set I5=2.*I1/I4set I7=I0/I1call TerrainDeformRipple(x,y,I1,I2,R2I(Hk*$3E8),1,I5,I6,I7,IZ)endfunctionfunction J_E takes player hV,unit hn,integer hY returns nothinglocal texttag t=CreateTextTag()call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)call SetTextTagText(t,"+"+I2S(hY),.025)call SetTextTagPosUnit(t,hn,0)call SetTextTagColor(t,$FF,$DC,0,$FF)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==hV thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endfunctionfunction I9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call RemoveUnit(RME(IAE,"Unit"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction nn takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function I9))call O8E(IAE,"Unit",u)set t=nullendfunctionfunction jA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call RemoveUnit(RME(IAE,"Unit"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction jb takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call KillUnit(RME(IAE,"Unit"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction J0E takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function jb))call O8E(IAE,"Unit",u)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,d+.01,false)call TriggerAddCondition(t,Condition(function jA))call O8E(IAE,"Unit",u)set t=nullendfunctionfunction J1E takes sound JNE returns nothingif JNE!=null and CW[GetPlayerId(GetLocalPlayer())]==false thencall StartSound(JNE)endifendfunctionfunction J2E takes sound JNE,player HU returns nothingif GetLocalPlayer()==HU and CW[GetPlayerId(HU)]==false thencall StartSound(JNE)endifendfunctionfunction J3E takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))==false)!=nullendfunctionfunction J4E takes nothing returns nothingcall J2E(LHV,GetOwningPlayer(GetEnumUnit()))endfunctionfunction J5E takes unit J6E,sound J7E,real x,real y,real r returns nothinglocal group g=FYE()set I9V=J6Eset LHV=J7Ecall GroupEnumUnitsInRange(g,x,y,r,Condition(function J3E))call GroupRemoveUnit(g,J6E)call ForGroup(g,function J4E)call FWE(g)set g=nullendfunctionfunction J8E takes player p returns nothingif GetLocalPlayer()==p thencall ClearTextMessages()endifendfunctionfunction J9E takes unit u,real d returns nothingcall SetUnitState(u,UNIT_STATE_LIFE,HTE(GetUnitState(u,UNIT_STATE_LIFE)-d,1))endfunctionfunction KVE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer KEE=R1E(IAE,"AbilityID")if UnitRemoveAbility(m5,KEE) or GetUnitAbilityLevel(m5,KEE)==0 thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction KXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer KEE=R1E(IAE,"AbilityID")call O1E(IAE)call IRE(t)if UnitRemoveAbility(m5,KEE)==false thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function KVE))call O8E(IAE,"Target",m5)call O4E(IAE,"AbilityID",KEE)endifset t=nullset m5=nullreturn falseendfunctionfunction KOE takes unit m5,integer KEE,integer DDE,real Hk returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GKE(m5,KEE)call SetUnitAbilityLevel(m5,KEE,DDE)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function KXE))call O8E(IAE,"Target",m5)call O4E(IAE,"AbilityID",KEE)set t=nullendfunctionfunction KRE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer o6=R1E(IAE,"AbilityID")local integer KIE=R1E(IAE,"AbilityID")call UnitRemoveAbility(m5,KIE)if UnitRemoveAbility(m5,o6) or GetUnitAbilityLevel(m5,o6)==0 thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction KAE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer o6=R1E(IAE,"AbilityID")local integer KIE=R1E(IAE,"BuffID")call O1E(IAE)call IRE(t)call UnitRemoveAbility(m5,KIE)if UnitRemoveAbility(m5,o6)==false thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function KRE))call O8E(IAE,"Target",m5)call O4E(IAE,"AbilityID",o6)call O4E(IAE,"BuffID",KIE)endifset t=nullset m5=nullreturn falseendfunctionfunction KNE takes unit m5,integer o6,integer DDE,real KBE,integer KIE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GKE(m5,o6)call SetUnitAbilityLevel(m5,o6,DDE)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,KBE,false)call TriggerAddCondition(t,Condition(function KAE))call O8E(IAE,"Target",m5)call O4E(IAE,"AbilityID",o6)call O4E(IAE,"BuffID",KIE)set t=nullendfunctionfunction V8I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local integer KCE=(LoadInteger(YX,(FIE),(30)))local unit KDE=BYE(KCE)local integer KFE=(LoadInteger(YX,(FIE),(43)))local unit KGE=BYE(KFE)local real KHE=(LoadReal(YX,(FIE),(44)))local unit KJE=(LoadUnitHandle(YX,(FIE),(45)))local real x=GetUnitX(KJE)local real y=GetUnitY(KJE)local real KKE=GetUnitX(KDE)local real KLE=GetUnitY(KDE)local real KME=KHE*.03local real KPE=H4E(x,y,KKE,KLE)local real KQE=x+KME*Cos(KPE*bj_DEGTORAD)local real KSE=y+KME*Sin(KPE*bj_DEGTORAD)call SetUnitX(KJE,KQE)call SetUnitY(KJE,KSE)call SetUnitFacing(KJE,KPE)if E4E(KKE,KLE,KQE,KSE)<=KME thencall KillUnit(KJE)set I9V=KGEset GK=KDEcall ExecuteFunc((LoadStr(YX,(FIE),(46))))call BWE(KCE)call FlushChildHashtable(YX,(FIE))call IRE(t)elseif GME(KDE)thencall KillUnit(KJE)call BWE(KCE)call FlushChildHashtable(YX,(FIE))call IRE(t)endifset t=nullset KDE=nullset KGE=nullset KJE=nullreturn falseendfunctionfunction KTE takes unit S4 returns booleanlocal integer z8=GetUnitTypeId(S4)return z8==1848651828 or z8==1848652103 or z8==1848652099 or z8==1848652088 or z8==1697656907 or z8==1697656905 or z8==1697656908 or z8==1697657162endfunctionfunction KUE takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)!=nullendfunctionfunction KWE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns booleanreturn FHE(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)endfunctionfunction GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns booleanreturn IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)endfunctionfunction GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))!=nullendfunctionfunction KYE takes nothing returns booleanreturn(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))!=nullendfunctionfunction KZE takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction K_E takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and B4E(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))!=nullendfunctionfunction K0E takes unit u returns booleanreturn GetUnitAbilityLevel(u,1097167980)>0 or GetUnitAbilityLevel(u,1113815395)>0 or GetUnitAbilityLevel(u,1113815346)>0 or GetUnitAbilityLevel(u,1110454606)>0endfunctionfunction K1E takes unit u returns booleanreturn(GetUnitAbilityLevel((u),(1110459185))>0)or(GetUnitAbilityLevel((u),(1111844210))>0)or(GetUnitAbilityLevel((u),(1113943655))>0)or(GetUnitAbilityLevel((u),(1113943649))>0)or(GetUnitAbilityLevel((u),(1110454583))>0)or(GetUnitAbilityLevel((u),(1110456120))>0)or(GetUnitAbilityLevel((u),(1110456390))>0)or(GetUnitAbilityLevel((u),(1110456389))>0)or(GetUnitAbilityLevel((u),(1110459730))>0)or(GetUnitAbilityLevel((u),(1110459982))>0)endfunctionfunction K2E takes unit u returns nothingcall UnitRemoveAbility(u,1110459185)call UnitRemoveAbility(u,1111844210)call UnitRemoveAbility(u,1113943655)call UnitRemoveAbility(u,1113943649)call UnitRemoveAbility(u,1110454583)call UnitRemoveAbility(u,1110456120)call UnitRemoveAbility(u,1110456390)call UnitRemoveAbility(u,1110456389)call UnitRemoveAbility(u,1110459730)call UnitRemoveAbility(u,1110459982)endfunctionfunction K3E takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction GenericCondition_EnemyUnitsExHeroesVision takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V)))!=nullendfunctionfunction GenericCondition_EnemyUnitsExHeroes takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction K4E takes unit u returns booleanreturn GetUnitAbilityLevel(u,1110455864)>0 or GetUnitAbilityLevel(u,1110456148)>0 or GetUnitAbilityLevel(u,1110456118)>0 or GetUnitAbilityLevel(u,1112504171)>0 or GetUnitAbilityLevel(u,1110455378)>0 or GetUnitAbilityLevel(u,1110458677)>0 or GetUnitAbilityLevel(u,1110454609)>0 or GetUnitAbilityLevel(u,1110454326)>0 or GetUnitAbilityLevel(u,1114205814)>0 or GetUnitAbilityLevel(u,1097886070)>0 or GetUnitAbilityLevel(u,1093677617)>0 or GetUnitAbilityLevel(u,1093684020)>0 or GetUnitAbilityLevel(u,1093687362)>0 or GetUnitAbilityLevel(u,1093687858)>0 or GetUnitAbilityLevel(u,1093748545)>0 or GetUnitAbilityLevel(u,1093748823)>0 or GetUnitAbilityLevel(u,1093748824)>0 or GetUnitAbilityLevel(u,1093677130)>0 or GetUnitAbilityLevel(u,1110456395)>0 or GetUnitAbilityLevel(u,1110456408)>0 or GetUnitAbilityLevel(u,1110455097)>0 or GetUnitAbilityLevel(u,1110454347)>0 or GetUnitAbilityLevel(u,1112041075)>0 or GetUnitAbilityLevel(u,1093743664)>0 or GetUnitAbilityLevel(u,1110454833)>0 or GetUnitAbilityLevel(u,1093687876)>0 or GetUnitAbilityLevel(u,1093684052)>0endfunctionfunction GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns booleanreturn(((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and K4E(GetFilterUnit())==false)!=nullendfunctionfunction K5E takes nothing returns booleanreturn(((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(K4E(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))))!=nullendfunctionfunction K6E takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1093751362)==0)!=nullendfunctionfunction K7E takes nothing returns booleanreturn(((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V)))and K0E(GetFilterUnit())==false)!=nullendfunctionfunction XMI2 takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction K8E takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))!=nullendfunctionfunction K9E takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LVE takes unit XPE returns booleanreturn GetUnitTypeId(XPE)==1848651828 or GetUnitTypeId(XPE)==1848652088 or GetUnitTypeId(XPE)==1848652099 or GetUnitTypeId(XPE)==1848652103endfunctionfunction LEE takes nothing returns booleanreturn IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())==1700946284 or GetUnitTypeId(GetFilterUnit())==1970107511)endfunctionfunction LXE takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and DYE(GetFilterUnit())==false)!=nullendfunctionfunction LOE takes nothing returns booleanreturn LXE()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction jE takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false and DYE(GetFilterUnit())==falseendfunctionfunction LRE takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction GenericCondition_EnemyUnitsVisible takes nothing returns booleanreturn((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns booleanreturn((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or K4E(GetFilterUnit())))!=nullendfunctionfunction jF takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and LXE()endfunctionfunction LIE takes nothing returns booleanreturn IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and LXE()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))endfunctionfunction LAE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LNE takes nothing returns booleanreturn((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V)))and FHE(GetFilterUnit())==false and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LBE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit()))))!=nullendfunctionfunction LCE takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LDE takes nothing returns booleanreturn((GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LFE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit()))))!=nullendfunctionfunction LGE takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false)!=nullendfunctionfunction LHE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LJE takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction jh takes nothing returns booleanreturn IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and LXE()endfunctionfunction LKE takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))!=nullendfunctionfunction ji takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))==false and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction jI takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LLE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LME takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction GenericCondition_EnemyHeroesEx_OLD takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LPE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)or K4E(GetEnumUnit()))!=nullendfunctionfunction LQE takes nothing returns booleanreturn(LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LSE takes nothing returns booleanreturn LXE()endfunctionfunction LTE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LUE takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction LWE takes nothing returns booleanreturn(LXE()and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction jL takes nothing returns booleanreturn(LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction jm takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)!=nullendfunctionfunction GenericCondition_EnemyUnitsExVisible takes nothing returns booleanreturn K3E()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))endfunctionfunction GenericCondition_EnemyUnitsExNoWW takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))==false and K4E(GetFilterUnit()))==false))!=nullendfunctionfunction jn takes nothing returns booleanreturn(LXE()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction ny takes nothing returns booleanreturn jn()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))endfunctionfunction LYE takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit()) and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!=1848657461)!=nullendfunctionfunction LZE takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I9V)) and DRE(GetFilterUnit())>0endfunctionfunction L_E takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false))!=nullendfunctionfunction L0E takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit()))))!=nullendfunctionfunction L1E takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction L2E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or GetOwningPlayer(GetFilterUnit())==RX[0]or GetOwningPlayer(GetFilterUnit())==GX[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction L3E takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction L4E takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit())) and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction L5E takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction L6E takes nothing returns nothinglocal destructable m5=GetEnumDestructable()local real a=Atan2(GetDestructableY(m5)-GetUnitY(I9V),GetDestructableX(m5)-GetUnitX(I9V))local real L7E=RAbsBJ((I6V-a)*bj_RADTODEG)if(DWE(m5)or GetDestructableTypeId(m5)==1110454325)and GetDestructableLife(m5)>1 and L7E<wB and L7E<(AU-5)thenset wB=L7Eset SB=m5endifset m5=nullendfunctionfunction L8E takes unit L9E,unit p5,real l4 returns destructablelocal real x=GetUnitX(L9E)local real y=GetUnitY(L9E)local rect r=Rect(x-zB,y-zB,x+zB,y+zB)set wB=9999set I9V=L9Eset SB=nullcall EnumDestructablesInRect(r,Condition(function BUE),function L6E)call RemoveRect(r)set r=nullreturn SBendfunctionfunction MVE takes nothing returns nothinglocal unit m5=GetEnumUnit()local real a=Atan2(GetUnitY(m5)-GetUnitY(I9V),GetUnitX(m5)-GetUnitX(I9V))local real L7E=RAbsBJ((I6V-a)*bj_RADTODEG)if L7E<wB and L7E<AU and m5!=AVV thenset wB=L7Eset TB=m5endifset m5=nullendfunctionfunction MEE takes unit L9E,unit p5,real l4 returns unitlocal group g=FYE()set TB=nullset wB=9999set I9V=L9Eset I6V=Atan2(GetUnitY(p5)-MYV,GetUnitX(p5)-MWV)set AVV=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function LAE))call ForGroup(g,function MVE)call FWE(g)set g=nullreturn TBendfunctionfunction MXE takes unit L9E,unit p5,real l4 returns unitlocal group g=FYE()set TB=nullset wB=9999set I9V=L9Eset I6V=l4set AVV=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function LNE))call ForGroup(g,function MVE)call FWE(g)set g=nullreturn TBendfunctionfunction MOE takes real KBE returns integerif KBE>=4. thenreturn 19elseif KBE>=3.75 thenreturn 18elseif KBE>=3.5 thenreturn 17elseif KBE>=3.25 thenreturn 16elseif KBE>=3 thenreturn $Felseif KBE>=2.75 thenreturn $Eelseif KBE>=2.5 thenreturn $Delseif KBE>=2.25 thenreturn $Celseif KBE>=2 thenreturn $Belseif KBE>=1.8 thenreturn $Aelseif KBE>=1.75 thenreturn 9elseif KBE>=1.65 thenreturn 8elseif KBE>=1.5 thenreturn 7elseif KBE>=1.25 thenreturn 6elseif KBE>=1.2 thenreturn 5elseif KBE>=1 thenreturn 4elseif KBE>=.75 thenreturn 3elseif KBE>=.5 thenreturn 2elseif KBE>=.25 thenreturn 1endifreturn 1endfunctionfunction MRE takes unit p5,unit m5,real KBE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)local integer MAE=MOE(KBE)call UnitAddAbility(MIE,1093687350)call SetUnitAbilityLevel(MIE,1093687350,MAE)call IssueTargetOrderById(MIE,$D007F,m5)set MIE=nullendfunctionfunction MNE takes unit p5,unit m5,integer MBE,real HUE returns nothingif MBE==0 thenreturnendifif MBE==1 thencall UnitDamageTarget(p5,m5,HUE,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)elseif MBE==2 thencall UnitDamageTarget(p5,m5,HUE,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)elseif MBE==3 thencall UnitDamageTarget(p5,m5,HUE,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)elseif MBE==4 thencall UnitDamageTarget(p5,m5,HUE,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)elseif MBE==5 thencall UnitDamageTarget(p5,m5,HUE,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)endifendfunctionfunction MCE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local integer MBE=R1E(IAE,"DamageType")local real HUE=R2E(IAE,"Damage")call MNE(p5,m5,MBE,HUE)call BWE(MDE)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction MFE takes unit p5,unit m5,integer MBE,real HUE,real KBE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O4E(IAE,"TargetIndex",B_E(m5))call O4E(IAE,"DamageType",MBE)call O5E(IAE,"Damage",HUE*1.)call TriggerRegisterTimerEvent(t,KBE,false)call TriggerAddCondition(t,Condition(function MCE))set t=nullendfunctionfunction jQ takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer MBE=R1E(IAE,"DamageType")local real HUE=R2E(IAE,"Damage")call MNE(p5,m5,MBE,HUE)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction MGE takes unit p5,unit m5,integer MBE,real HUE,real Hk returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"DamageType",MBE)call O5E(IAE,"Damage",HUE)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function jQ))set t=nullendfunctionfunction MHE takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MJEif d<1 thencall UnitRemoveAbility(u,ISV[0])call UnitRemoveAbility(u,ISV[1])call UnitRemoveAbility(u,ISV[2])call UnitRemoveAbility(u,ISV[3])call UnitRemoveAbility(u,ISV[4])call UnitRemoveAbility(u,ISV[5])call UnitRemoveAbility(u,ISV[6])call UnitRemoveAbility(u,ISV[7])call UnitRemoveAbility(u,ISV[8])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MJE=8set i=0loopexitwhen i>MJEif b[i]==1 thencall UnitAddAbility(u,ISV[i])elsecall UnitRemoveAbility(u,ISV[i])endifset i=i+1endloopendfunctionfunction MKE takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MLEif d<1 thencall UnitRemoveAbility(u,JKV[0])call UnitRemoveAbility(u,JKV[1])call UnitRemoveAbility(u,JKV[2])call UnitRemoveAbility(u,JKV[3])call UnitRemoveAbility(u,JKV[4])call UnitRemoveAbility(u,JKV[5])call UnitRemoveAbility(u,JKV[6])call UnitRemoveAbility(u,JKV[7])call UnitRemoveAbility(u,JKV[8])call UnitRemoveAbility(u,JKV[9])call UnitRemoveAbility(u,JKV[$A])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset MLE=$Aset i=0loopexitwhen i>MLEif b[i]==1 thencall UnitAddAbility(u,JKV[i])elsecall UnitRemoveAbility(u,JKV[i])endifset i=i+1endloopendfunctionfunction MME takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MJEif d<1 thencall UnitRemoveAbility(u,ITV[0])call UnitRemoveAbility(u,ITV[1])call UnitRemoveAbility(u,ITV[2])call UnitRemoveAbility(u,ITV[3])call UnitRemoveAbility(u,ITV[4])call UnitRemoveAbility(u,ITV[5])call UnitRemoveAbility(u,ITV[6])call UnitRemoveAbility(u,ITV[7])call UnitRemoveAbility(u,ITV[8])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MJE=8set i=0loopexitwhen i>MJEif b[i]==1 thencall UnitAddAbility(u,ITV[i])elsecall UnitRemoveAbility(u,ITV[i])endifset i=i+1endloopendfunctionfunction MPE takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MQEif d<1 thencall UnitRemoveAbility(u,IUV[0])call UnitRemoveAbility(u,IUV[1])call UnitRemoveAbility(u,IUV[2])call UnitRemoveAbility(u,IUV[3])call UnitRemoveAbility(u,IUV[4])call UnitRemoveAbility(u,IUV[5])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MQE=iset i=0loopexitwhen i>MQEif b[i]==1 thencall UnitAddAbility(u,IUV[i])elsecall UnitRemoveAbility(u,IUV[i])endifset i=i+1endloopendfunctionfunction MSE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local integer i=R1E(IAE,"i")local string c="|c006699CC"if(GetObjectName((1848657992)))=="Language: English" and(BYV[(i)]!="")thenif GetTriggerEvalCount(t)==1 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Tip 1: "+c+BYV[i]+"|r")call J2E(zR,p)elseif GetTriggerEvalCount(t)==2 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Tip 2: "+c+BZV[i]+"|r")call J2E(zR,p)elseif GetTriggerEvalCount(t)==3 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Tip 3: "+c+B_V[i]+"|r")call J2E(zR,p)elseif GetTriggerEvalCount(t)==4 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Tip 4: "+c+B0V[i]+"|r")call J2E(zR,p)elseif GetTriggerEvalCount(t)==5 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Tip 5: "+c+B1V[i]+"|r")call J2E(zR,p)endifendifif GetTriggerEvalCount(t)==5 thencall IRE(t)call O1E(IAE)endifset t=nullreturn falseendfunctionfunction MTE takes player p,integer i returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,15.,false)call TriggerRegisterTimerEvent(t,300.,true)call TriggerAddCondition(t,Condition(function MSE))call RRE(IAE,"p",p)call O4E(IAE,"i",i)set t=nullendfunctionfunction MUE takes unit J6E returns integerlocal integer DAE=GetUnitTypeId(J6E)local integer MWE=1865429328if DAE==1432646245 thenset MWE=1865429326elseif DAE==1164799855 or DAE==1211117641 or DAE==1211119409 or DAE==1160785973 thenset MWE=1865429327endifreturn MWEendfunctionfunction MYE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall KillUnit(MIE)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))endifset t=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction MZE takes unit J6E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(J6E),MUE(J6E),GetUnitX(J6E),GetUnitY(J6E),0)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function MYE))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))set t=nullendfunctionfunction M_E takes integer M0E returns booleanlocal integer i=0loopexitwhen i>59if M0E==LI[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction M1E takes integer DDE returns integerlocal real M2E=XRE()-CHVlocal real M3E=(R2I(M2E)/ 60)-(1/ 2)local real M4E=100+DDE*DDE*1.5+M3E*$Flocal integer M5Eset M5E=R2I(M4E/ 50)set M5E=IMinBJ(M5E,59)set M5E=IMaxBJ(M5E,0)return M5Eendfunctionfunction M6E takes player p returns nothinglocal integer id=GetPlayerId(p)local unit M7E=N7V[id]local unit M8E=QV[id]local integer M9E=GetHeroLevel(M8E)local integer i=0if Q thenreturnendifif P8V==false thenreturnendifif PI[id]==1747993652 thenreturnendifif PI[id]!=0 thencall RemoveUnitFromStock(M7E,PI[id])endifcall AddUnitToStock(M7E,LI[M1E(M9E)],1,1)set PI[id]=LI[M1E(M9E)]set M8E=nullset M7E=nullendfunctionfunction PVE takes nothing returns booleanif Q thenreturn falseendifcall M6E(RX[1])call M6E(RX[2])call M6E(RX[3])call M6E(RX[4])call M6E(RX[5])call M6E(GX[1])call M6E(GX[2])call M6E(GX[3])call M6E(GX[4])call M6E(GX[5])return falseendfunctionfunction PEE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer id=(LoadInteger(YX,(H2E),(34)))local unit PXE=N7V[id]local unit F2E=QV[id]local integer MAE=GetHeroLevel(F2E)local integer i=0call UnitRemoveAbility(PXE,1093808213)call AddUnitToStock(PXE,LI[M1E(MAE)],1,1)set PI[id]=LI[M1E(MAE)]call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset F2E=nullreturn falseendfunctionfunction POE takes player p returns nothinglocal integer id=GetPlayerId(p)local unit PXE=N7V[id]local unit F2E=QV[id]local integer MAE=GetHeroLevel(F2E)local integer i=0local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call MZE(F2E)loopexitwhen i>59call RemoveUnitFromStock(PXE,LI[i])set i=i+1endloopcall TriggerAddCondition(t,Condition(function PEE))call TriggerRegisterTimerEvent(t,300,false)call SaveInteger(YX,(H2E),(34),(id))set PI[id]=1747993652call UnitAddAbility(PXE,1093808213)call IssueImmediateOrderById(PXE,$D022E)set F2E=nullset PXE=nullset t=nullendfunctionfunction PRE takes nothing returns nothingset BOV[GetPlayerId(RX[1])]=0set BRV[GetPlayerId(RX[1])]=66set BIV[GetPlayerId(RX[1])]=$FFset BOV[GetPlayerId(RX[2])]=48set BRV[GetPlayerId(RX[2])]=$E6set BIV[GetPlayerId(RX[2])]=$B9set BOV[GetPlayerId(RX[3])]=50set BRV[GetPlayerId(RX[3])]=0set BIV[GetPlayerId(RX[3])]=$81set BOV[GetPlayerId(RX[4])]=$FFset BRV[GetPlayerId(RX[4])]=$FCset BIV[GetPlayerId(RX[4])]=1set BOV[GetPlayerId(RX[5])]=$FFset BRV[GetPlayerId(RX[5])]=50set BIV[GetPlayerId(RX[5])]=0set BOV[GetPlayerId(GX[1])]=$DCset BRV[GetPlayerId(GX[1])]=50set BIV[GetPlayerId(GX[1])]=50set BOV[GetPlayerId(GX[2])]=50set BRV[GetPlayerId(GX[2])]=50set BIV[GetPlayerId(GX[2])]=50set BOV[GetPlayerId(GX[3])]=75set BRV[GetPlayerId(GX[3])]=$96set BIV[GetPlayerId(GX[3])]=$BEset BOV[GetPlayerId(GX[4])]=16set BRV[GetPlayerId(GX[4])]=60set BIV[GetPlayerId(GX[4])]=18set BOV[GetPlayerId(GX[5])]=68set BRV[GetPlayerId(GX[5])]=42set BIV[GetPlayerId(GX[5])]=4endfunctionfunction PIE takes nothing returns nothinglocal integer T8local integer U8set C[GetPlayerId(RX[0])]="|c00ff0303"set C[GetPlayerId(RX[1])]="|c000042ff"set C[GetPlayerId(RX[2])]="|c001ce6b9"set C[GetPlayerId(RX[3])]="|c00540081"set C[GetPlayerId(RX[4])]="|c00fffc01"set C[GetPlayerId(RX[5])]="|c00ff8000"set C[GetPlayerId(GX[0])]="|c0020c000"set C[GetPlayerId(GX[1])]="|c00e55bb0"set C[GetPlayerId(GX[2])]="|c00959697"set C[GetPlayerId(GX[3])]="|c007ebff1"set C[GetPlayerId(GX[4])]="|c00106246"set C[GetPlayerId(GX[5])]="|c004e2a04"call SetPlayerColor(RX[0],PLAYER_COLOR_RED)call SetPlayerColor(RX[1],PLAYER_COLOR_BLUE)call SetPlayerColor(RX[2],PLAYER_COLOR_CYAN)call SetPlayerColor(RX[3],PLAYER_COLOR_PURPLE)call SetPlayerColor(RX[4],PLAYER_COLOR_YELLOW)call SetPlayerColor(RX[5],PLAYER_COLOR_ORANGE)call SetPlayerColor(GX[0],PLAYER_COLOR_GREEN)call SetPlayerColor(GX[1],PLAYER_COLOR_PINK)call SetPlayerColor(GX[2],PLAYER_COLOR_LIGHT_GRAY)call SetPlayerColor(GX[3],PLAYER_COLOR_LIGHT_BLUE)call SetPlayerColor(GX[4],PLAYER_COLOR_AQUA)call SetPlayerColor(GX[5],PLAYER_COLOR_BROWN)set T8=1set U8=5loopcall V1E(RX[T8])if(B6E(RX[T8]))thencall SetPlayerName(RX[T8],I2S(T8)+V0E(RX[T8])+"Computer")endifcall V1E(GX[T8])if(B6E(GX[T8]))thencall SetPlayerName(GX[T8],I2S(5+T8)+V0E(GX[T8])+"Computer")endifset T8=T8+1exitwhen T8>U8endloopendfunctionfunction PAE takes unit OJE returns booleanreturn GetUnitAbilityLevel(OJE,1093678162)>0 and B4E(GetOwningPlayer(OJE))endfunctionfunction PNE takes real d returns booleanreturn 2<d and d<$BB8endfunctionfunction PBE takes nothing returns nothinglocal integer T8=1set Le=RX[1]loopexitwhen B5E(Le)or T8>5set T8=T8+1set Le=RX[T8]endloopif not B5E(Le)thenset Le=GX[1]set T8=1loopexitwhen B5E(Le)or T8>5set T8=T8+1set Le=GX[T8]endloopendifendfunctionfunction PCE takes player p,string PDE,integer PFE returns nothinglocal string id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,PDE,PFE)if B7E(Le)==false thencall PBE()endifif GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,id,PDE)endifendfunctionfunction PGE takes string PDE,integer PFE returns nothingcall StoreInteger(AIV,"Data",PDE,PFE)if B7E(Le)==false thencall PBE()endifif GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,"Data",PDE)endifendfunctionfunction PHE takes nothing returns booleanlocal string sif IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 thencall PGE("Learn"+I2S(GetPlayerId(GetTriggerPlayer())),GetLearnedSkill())endifreturn falseendfunctionfunction PJE takes nothing returns booleanlocal string sif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 thencall PGE("Cast"+I2S(GetPlayerId(GetTriggerPlayer())),GetSpellAbilityId())endifreturn falseendfunctionfunction PKE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function PHE))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function PJE))set t=nullendfunctionfunction PLE takes string s,string PME,string PPE returns stringlocal string PQE=""local integer i=0local integer PSE=StringLength(s)local string PTElocal integer PUE=StringLength(PME)local boolean PWE=falseloopexitwhen i+1>PSEset PTE=SubString(s,i,i+PUE)if PTE!=PME or PWE thenset PQE=PQE+SubString(s,i,i+1)set i=i+1elseset PQE=PQE+PPEset i=i+PUEset PWE=trueendifendloopreturn PQEendfunctionfunction PYE takes player PZE,player P_E returns stringlocal string s=(GetObjectName((1848656696)))set s=PLE(s,"$dead",C[GetPlayerId(PZE)]+(BXV[GetPlayerId((PZE))])+"|r")set s=PLE(s,"$killer",C[GetPlayerId(P_E)]+(BXV[GetPlayerId((P_E))])+"|r")return sendfunctionfunction P0E takes nothing returns nothinglocal integer ilocal integer P1E=125call SetUnitOwner(NYV,RX[1],false)set h4[512+GetPlayerId(RX[1])]=NYVcall SetUnitOwner(NZV,RX[2],false)set h4[512+GetPlayerId(RX[2])]=NZVcall SetUnitOwner(N_V,RX[3],false)set h4[512+GetPlayerId(RX[3])]=N_Vcall SetUnitOwner(N0V,RX[4],false)set h4[512+GetPlayerId(RX[4])]=N0Vcall SetUnitOwner(N1V,RX[5],false)set h4[512+GetPlayerId(RX[5])]=N1Vcall SetUnitOwner(N2V,GX[1],false)set h4[512+GetPlayerId(GX[1])]=N2Vcall SetUnitOwner(N3V,GX[2],false)set h4[512+GetPlayerId(GX[2])]=N3Vcall SetUnitOwner(N4V,GX[3],false)set h4[512+GetPlayerId(GX[3])]=N4Vcall SetUnitOwner(N5V,GX[4],false)set h4[512+GetPlayerId(GX[4])]=N5Vcall SetUnitOwner(N6V,GX[5],false)set h4[512+GetPlayerId(GX[5])]=N6Vset N7V[GetPlayerId(RX[1])]=NYVset N7V[GetPlayerId(RX[2])]=NZVset N7V[GetPlayerId(RX[3])]=N_Vset N7V[GetPlayerId(RX[4])]=N0Vset N7V[GetPlayerId(RX[5])]=N1Vset N7V[GetPlayerId(GX[1])]=N2Vset N7V[GetPlayerId(GX[2])]=N3Vset N7V[GetPlayerId(GX[3])]=N4Vset N7V[GetPlayerId(GX[4])]=N5Vset N7V[GetPlayerId(GX[5])]=N6Vset i=1if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=2if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=3if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=4if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=5if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=7if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=8if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=9if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=$Aif GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset i=$Bif GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N7V[GetPlayerId(Player(i))],$FF,$FF,$FF,P1E)endifset N8V[GetPlayerId(RX[1])]=GetUnitX(N7V[GetPlayerId(RX[1])])set N8V[GetPlayerId(RX[2])]=GetUnitX(N7V[GetPlayerId(RX[2])])set N8V[GetPlayerId(RX[3])]=GetUnitX(N7V[GetPlayerId(RX[3])])set N8V[GetPlayerId(RX[4])]=GetUnitX(N7V[GetPlayerId(RX[4])])set N8V[GetPlayerId(RX[5])]=GetUnitX(N7V[GetPlayerId(RX[5])])set N8V[GetPlayerId(GX[1])]=GetUnitX(N7V[GetPlayerId(GX[1])])set N8V[GetPlayerId(GX[2])]=GetUnitX(N7V[GetPlayerId(GX[2])])set N8V[GetPlayerId(GX[3])]=GetUnitX(N7V[GetPlayerId(GX[3])])set N8V[GetPlayerId(GX[4])]=GetUnitX(N7V[GetPlayerId(GX[4])])set N8V[GetPlayerId(GX[5])]=GetUnitX(N7V[GetPlayerId(GX[5])])set N9V[GetPlayerId(RX[1])]=GetUnitY(N7V[GetPlayerId(RX[1])])set N9V[GetPlayerId(RX[2])]=GetUnitY(N7V[GetPlayerId(RX[2])])set N9V[GetPlayerId(RX[3])]=GetUnitY(N7V[GetPlayerId(RX[3])])set N9V[GetPlayerId(RX[4])]=GetUnitY(N7V[GetPlayerId(RX[4])])set N9V[GetPlayerId(RX[5])]=GetUnitY(N7V[GetPlayerId(RX[5])])set N9V[GetPlayerId(GX[1])]=GetUnitY(N7V[GetPlayerId(GX[1])])set N9V[GetPlayerId(GX[2])]=GetUnitY(N7V[GetPlayerId(GX[2])])set N9V[GetPlayerId(GX[3])]=GetUnitY(N7V[GetPlayerId(GX[3])])set N9V[GetPlayerId(GX[4])]=GetUnitY(N7V[GetPlayerId(GX[4])])set N9V[GetPlayerId(GX[5])]=GetUnitY(N7V[GetPlayerId(GX[5])])endfunctionfunction P2E takes unit FLE returns booleanlocal integer ID=GetUnitTypeId(FLE)return ID==1848651862 or ID==1848651863 or ID==1848651826 or ID==1848651825 or ID==1848651864 or ID==1849897784 or ID==1848652107 or ID==1848651833endfunctionfunction jw takes nothing returns nothingif(GetOwningPlayer(GetEnumUnit())==Player(0))thencall SetUnitOwner(GetEnumUnit(),RX[0],false)if P2E(GetEnumUnit())==false thencall SetUnitColor(GetEnumUnit(),ConvertPlayerColor(0))endifelsecall SetUnitOwner(GetEnumUnit(),GX[0],false)if P2E(GetEnumUnit())==false thencall SetUnitColor(GetEnumUnit(),ConvertPlayerColor(6))endifendifendfunctionfunction Np takes nothing returns nothinglocal group P3E=FYE()call GroupEnumUnitsOfPlayer(P3E,Player(0),Condition(function BUE))call ForGroup(P3E,function jw)call GroupClear(P3E)call GroupEnumUnitsOfPlayer(P3E,Player(6),Condition(function BUE))call ForGroup(P3E,function jw)call FWE(P3E)set P3E=nullendfunctionfunction P4E takes player p returns nothinglocal integer i=0local string jX=GetPlayerName(p)local integer PSE=StringLength(jX)local integer jY=PSEloopexitwhen i==PSEif SubString(jX,i,i+1)=="("and SubString(jX,i-1,i)==" "thenset jY=i-1call SetPlayerName(p,SubString(jX,0,jY))set i=PSEelseset i=i+1endifendloopendfunctionfunction P5E takes nothing returns nothinglocal integer P6Elocal integer P7Elocal integer T8local integer U8local integer x=0local integer y=0local integer ilocal location P8E=GetRectCenter(pr)local location P9E=GetRectCenter(qr)if GetPlayerState(RX[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(GX[0],PLAYER_STATE_OBSERVER)!=0 thenset XR=trueset RX[0]=Player($D)set GX[0]=Player($E)set BVV=Player(0)set BEV=Player(6)call SetAllyColorFilterState(0)loopexitwhen x>5call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall ForceAddPlayer(WE,RX[0])call ForceAddPlayer(WE,RX[1])call ForceAddPlayer(WE,RX[2])call ForceAddPlayer(WE,RX[3])call ForceAddPlayer(WE,RX[4])call ForceAddPlayer(WE,RX[5])call ForceAddPlayer(YE,GX[0])call ForceAddPlayer(YE,GX[1])call ForceAddPlayer(YE,GX[2])call ForceAddPlayer(YE,GX[3])call ForceAddPlayer(YE,GX[4])call ForceAddPlayer(YE,GX[5])call ForceAddPlayer(II,RX[1])call ForceAddPlayer(II,RX[2])call ForceAddPlayer(II,RX[3])call ForceAddPlayer(II,RX[4])call ForceAddPlayer(II,RX[5])call ForceAddPlayer(II,GX[1])call ForceAddPlayer(II,GX[2])call ForceAddPlayer(II,GX[3])call ForceAddPlayer(II,GX[4])call ForceAddPlayer(II,GX[5])if XR thencall ForceAddPlayer(II,Player(0))call ForceAddPlayer(II,Player(6))endifset x=0set y=0loopexitwhen x>5loopexitwhen y>5if(x!=y)thencall SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(0),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(1),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(2),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(3),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(4),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(5),true)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(6),false)call SetPlayerAlliance(RX[x],RX[y],ConvertAllianceType(7),false)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(0),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(1),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(2),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(3),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(4),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(5),true)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(6),false)call SetPlayerAlliance(GX[x],GX[y],ConvertAllianceType(7),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(0),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(1),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(2),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(3),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(4),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(5),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(6),false)call SetPlayerAlliance(RX[x],GX[y],ConvertAllianceType(7),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(0),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(1),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(2),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(3),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(4),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(5),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(6),false)call SetPlayerAlliance(GX[x],RX[y],ConvertAllianceType(7),false)endifset y=y+1endloopset y=0set x=x+1endloopcall SetPlayerTeam(RX[0],0)call SetPlayerTeam(RX[1],0)call SetPlayerTeam(RX[2],0)call SetPlayerTeam(RX[3],0)call SetPlayerTeam(RX[4],0)call SetPlayerTeam(RX[5],0)call SetPlayerTeam(GX[0],1)call SetPlayerTeam(GX[1],1)call SetPlayerTeam(GX[2],1)call SetPlayerTeam(GX[3],1)call SetPlayerTeam(GX[4],1)call SetPlayerTeam(GX[5],1)call SetPlayerName(RX[0],(GetObjectName((1848652622))))call SetPlayerName(GX[0],(GetObjectName((1848652623))))call SetPlayerName(SX,(GetObjectName((1848657208))))call P0E()if(RX[0]!=Player(0)or GX[0]!=Player(6))thencall Np()endifcall PIE()set P7E=q8(WE)set P6E=q8(YE)set T8=1set U8=5loopexitwhen T8>U8if(B7E(RX[T8]))thencall SetPlayerState(RX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P7E))call SetPlayerState(RX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(B7E(GX[T8]))thencall SetPlayerState(GX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P6E))call SetPlayerState(GX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopcall SetPlayerHandicapXP(RX[1],1)call SetPlayerHandicapXP(RX[2],1)call SetPlayerHandicapXP(RX[3],1)call SetPlayerHandicapXP(RX[4],1)call SetPlayerHandicapXP(RX[5],1)call SetPlayerHandicapXP(GX[1],1)call SetPlayerHandicapXP(GX[2],1)call SetPlayerHandicapXP(GX[3],1)call SetPlayerHandicapXP(GX[4],1)call SetPlayerHandicapXP(GX[5],1)call SetPlayerState(RX[0],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(RX[1],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(RX[2],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(RX[3],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(RX[4],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(RX[5],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[0],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[1],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[2],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[3],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[4],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(GX[5],PLAYER_STATE_GIVES_BOUNTY,1)call PBE()call PRE()call P4E(RX[1])call P4E(RX[2])call P4E(RX[3])call P4E(RX[4])call P4E(RX[5])call P4E(GX[1])call P4E(GX[2])call P4E(GX[3])call P4E(GX[4])call P4E(GX[5])set x=1loopexitwhen x>5if B7E(RX[x])thencall CreateUnitAtLoc(RX[x],1848651843,P8E,bj_UNIT_FACING)endifif B7E(GX[x])thencall CreateUnitAtLoc(GX[x],1848651843,P9E,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(P8E)call RemoveLocation(P9E)set i=0loopset BXV[i]=GetPlayerName(Player(i))set i=i+1exitwhen i==16endloopset P8E=nullset P9E=nullendfunctionfunction QVE takes nothing returns nothinglocal integer i=1set BBV=1set BAV[1]=1215723364set BWV[1]=1747989338set BNV[1]=1848654165set BUV[1]="ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"call G6E(BAV[1],"stand 4")call G2E(BAV[1],1.35,BWV[1])set BYV[i]="Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."set BZV[i]="By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."set B_V[i]="It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."set B0V[i]="Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."set B1V[i]="Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."set i=i+1set BAV[2]=1215128178set BWV[2]=1747989552set BNV[2]=1848654145set BUV[2]="ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"call G6E(BAV[2],"attack slam alternate")call G2E(BAV[2],1.3,BWV[2])set BYV[i]="When using Arc lightning, try to kill creeps and harass your opponent at the same time"set BZV[i]="When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."set B_V[i]="Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."set B0V[i]="Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."set B1V[i]="Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."set i=i+1set BAV[3]=1164799855set BWV[3]=1747989553set BNV[3]=1848654137set BUV[3]="ReplaceableTextures\\CommandButtons\\BTNDryad.blp"call G6E(BAV[3],"stand 4")call G2E(BAV[3],1,BWV[3])set BYV[i]="Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."set BZV[i]="Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."set B_V[i]="Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."set B0V[i]="Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."set B1V[i]="Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."set i=i+1set BAV[4]=1328558160set BWV[4]=1747989554set BNV[4]=1848654136set BUV[4]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"call G6E(BAV[4],"stand 2")call G2E(BAV[4],1,BWV[4])set BYV[i]="Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."set BZV[i]="Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."set B_V[i]="Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."set B0V[i]="Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."set B1V[i]="Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."set i=i+1set BAV[5]=1214931305set BWV[5]=1747989555set BNV[5]=1848654167set BUV[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"call G6E(BAV[5],"stand victory")call G2E(BAV[5],1,BWV[5])set BYV[i]="CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."set BZV[i]="A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."set B_V[i]="Enemies hit by Frostbite can still cast spells, so don't take them lightly. "set B0V[i]="Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."set B1V[i]="There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."set i=i+1set BAV[6]=1211117617set BWV[6]=1747989556set BNV[6]=1848654134set BUV[6]="ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"call G6E(BAV[6],"spell")call G2E(BAV[6],1,BWV[6])set BYV[i]="Storm Bolt is a skill Sven should usually get early because of its damage and stun. "set BZV[i]="Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "set B_V[i]="Try to be near your allies when you cast Warcry."set B0V[i]="Only items that increase Strength will give you additional damage from effect of God's Strength."set B1V[i]="Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."set i=i+1set BAV[7]=1212363833set BWV[7]=1747989557set BNV[7]=1848654160set BUV[7]="ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"call G6E(BAV[7],"spell")call G2E(BAV[7],1,BWV[7])set BYV[i]="Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."set BZV[i]="Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."set B_V[i]="Items that provide attribute bonuses improve your Image's power."set B0V[i]="Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."set B1V[i]="Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."set i=i+1set BAV[8]=1333027688set BWV[8]=1747989558set BNV[8]=1848654148set BUV[8]="ReplaceableTextures\\CommandButtons\\BTNTauren.blp"call G6E(BAV[8],"attack slam")call G2E(BAV[8],1.1,BWV[8])set BYV[i]="Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."set BZV[i]="A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."set B_V[i]="Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."set B0V[i]="The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."set B1V[i]="Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."set i=i+1set BAV[9]=1212365106set BWV[9]=1747989559set BNV[9]=1848654168set BUV[9]="ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"call G6E(BAV[9],"stand 4")call G2E(BAV[9],1,BWV[9])set BYV[i]="Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."set BZV[i]="Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."set B_V[i]="Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."set B0V[i]="Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."set B1V[i]="Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."set i=i+1set BAV[$A]=1311781199set BWV[$A]=1747989560set BNV[$A]=1848654169set BUV[$A]="ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"call G6E(BAV[$A],"spell slam")call G2E(BAV[$A],1,BWV[$A])call G2E(1848652083,1.1,BWV[$A])call G2E(1848652084,1.2,BWV[$A])call G2E(1848652085,1.3,BWV[$A])call G2E(1848651828,1,BWV[$A])call G2E(1848652088,1.1,BWV[$A])call G2E(1848652099,1.2,BWV[$A])call G2E(1848652103,1.3,BWV[$A])set BYV[i]="Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "set BZV[i]="Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."set B_V[i]="Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."set B0V[i]="Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."set B1V[i]="True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."set i=i+1set BAV[$B]=1211117620set BWV[$B]=1747989561set BNV[$B]=1848654170set BUV[$B]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"call G6E(BAV[$B],"stand victory")call G2E(BAV[$B],1.2,BWV[$B])set BYV[i]="Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."set BZV[i]="Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."set B_V[i]="Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."set B0V[i]="Fiery Soul can help you maneuver better during a fight."set B1V[i]="Try to stun as many heroes as possible during team fights"set i=i+1set BAV[$C]=1315070563set BWV[$C]=1747989569set BNV[$C]=1848656181set BUV[$C]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"call G6E(BAV[$C],"stand victory")call G2E(BAV[$C],1,BWV[$C])set BYV[i]="Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."set BZV[i]="Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."set B_V[i]="Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."set B0V[i]="Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."set B1V[i]="Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."set i=i+1set BAV[$D]=1311781185set BWV[$D]=1747989570set BNV[$D]=1848654135set BUV[$D]="ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"call G6E(BAV[$D],"stand ready")call G2E(BAV[$D],1,BWV[$D])set BYV[i]="Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."set BZV[i]="Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."set B_V[i]="Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."set B0V[i]="Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."set B1V[i]="Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."set i=i+1set BAV[$E]=1214344551set BWV[$E]=1747989571set BNV[$E]=1848654150set BUV[$E]="ReplaceableTextures\\CommandButtons\\BTNTreant.blp"call G6E(BAV[$E],"stand 3")call G2E(BAV[$E],.72,BWV[$E])set BYV[i]="Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."set BZV[i]="Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."set B_V[i]="Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."set B0V[i]="Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."set B1V[i]="Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."set i=i+1set BAV[$F]=1328558389set BWV[$F]=1747990352set BNV[$F]=1848657731set BUV[$F]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"call G6E(BAV[$F],"stand victory")call G2E(BAV[$F],1.1,BWV[$F])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[16]=1214409837set BWV[16]=1747989573set BNV[16]=1848654151set BUV[16]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"call G6E(BAV[16],"stand victory")call G2E(BAV[16],1.2,BWV[16])call G2E(1211119192,1.5,BWV[16])call G2E(1211119193,1.5,BWV[16])call G2E(1211119191,1.5,BWV[16])set BYV[i]="Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."set BZV[i]="Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "set B_V[i]="Mana Leak gives you the offensive: an enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."set B0V[i]="When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."set B1V[i]="Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."set i=i+1set BAV[17]=1215657064set BWV[17]=1747989574set BNV[17]=1848654166set BUV[17]="ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"call G6E(BAV[17],"attack spell")call G2E(BAV[17],1.2,BWV[17])set BYV[i]="Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."set BZV[i]="Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."set B_V[i]="Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."set B0V[i]="It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."set B1V[i]="Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."set i=i+1set BAV[18]=1215130471set BWV[18]=1747989575set BNV[18]=1848656177set BUV[18]="ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"call G6E(BAV[18],"sleep")call G2E(BAV[18],1.4,BWV[18])set BYV[i]="Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."set BZV[i]="Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."set B_V[i]="Ogre Magi has a lot of survivability but he does need the ability to use his spells: an Arcane Ring might be the only item you will need all game."set B0V[i]="Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."set B1V[i]="Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."set i=i+1set BAV[19]=1316252014set BWV[19]=1747989576set BNV[19]=1848656193set BUV[19]="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"call G6E(BAV[19],"stand 2")call G2E(BAV[19],1,BWV[19])set BYV[i]="Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."set BZV[i]="Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."set B_V[i]="You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."set B0V[i]="March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."set B1V[i]="Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."set i=i+1set BAV[20]=1164799603set BWV[20]=1747989577set BNV[20]=1848656180set BUV[20]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"call G6E(BAV[20],"spell")call G2E(BAV[20],1.2,BWV[20])set BYV[i]="Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."set BZV[i]="Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."set B_V[i]="Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."set B0V[i]="Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."set B1V[i]="Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."set i=i+1set BAV[21]=1332179560set BWV[21]=1747989578set BNV[21]=1848656179set BUV[21]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"call G6E(BAV[21],"stand victory")call G2E(BAV[21],1,BWV[21])set BYV[i]="Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."set BZV[i]="Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."set B_V[i]="Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."set B0V[i]="Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."set B1V[i]="Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."set i=i+1set BAV[22]=1432580716set BWV[22]=1747989579set BNV[22]=1848656183set BUV[22]="ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"call G6E(BAV[22],"spell")call G2E(BAV[22],.5,BWV[22])set BYV[i]="Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."set BZV[i]="Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."set B_V[i]="You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."set B0V[i]="To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."set B1V[i]="Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."set i=i+1set BAV[23]=1211117643set BWV[23]=1747989580set BNV[23]=1848656185set BUV[23]="ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"call G6E(BAV[23],"stand 2")call G2E(BAV[23],1,BWV[23])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[24]=1211117633set BWV[24]=1747989581set BNV[24]=1848656194set BUV[24]="ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"call G6E(BAV[24],"spell chain lightning")call G2E(BAV[24],1,BWV[24])set BYV[i]="Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."set BZV[i]="Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."set B_V[i]="When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."set B0V[i]="Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."set B1V[i]="Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."set i=i+1set BAV[25]=1160785973set BWV[25]=1747989582set BNV[25]=1848656453set BUV[25]="ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"call G6E(BAV[25],"spell")call G2E(BAV[25],1,BWV[25])set BYV[i]="The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "set BZV[i]="Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."set B_V[i]="Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "set B0V[i]="Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."set B1V[i]="You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."set i=i+1set BAV[26]=1433631084set BWV[26]=1747989583set BNV[26]=1848656452set BUV[26]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"call G6E(BAV[26],"spell")call G2E(BAV[26],1.1,BWV[26])set BYV[i]="Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."set BZV[i]="Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."set B_V[i]="Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."set B0V[i]="Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."set B1V[i]="Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."set i=i+1set BAV[27]=1311781174set BWV[27]=1747989584set BNV[27]=1848656184set BUV[27]="ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"call G6E(BAV[27],"stand 3")call G2E(BAV[27],1.25,BWV[27])call G2E(1311781442,1.25,BWV[27])call G2E(1311781175,1.25,BWV[27])set BYV[i]="Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."set BZV[i]="roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."set B_V[i]="Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."set B0V[i]="Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."set B1V[i]="In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."set i=i+1set BAV[28]=1332898670set BWV[28]=1747989815set BNV[28]=1848654132set BUV[28]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"call G6E(BAV[28],"stand victory")call G2E(BAV[28],1,BWV[28])set BYV[i]="At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."set BZV[i]="Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."set B_V[i]="Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."set B0V[i]="Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."set B1V[i]="Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."set i=i+1set BAV[29]=1328558406set BWV[29]=1747993417set BNV[29]=1848658771set BUV[29]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"call G6E(BAV[29],"stand 3")call G2E(BAV[29],1.3,BWV[29])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[30]=1315988077set BWV[30]=1747989811set BNV[30]=1848656207set BUV[30]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"call G6E(BAV[30],"stand ready")call G2E(BAV[30],1,BWV[30])set BYV[i]="Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."set BZV[i]="Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."set B_V[i]="Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."set B0V[i]="In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."set B1V[i]="Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."set i=i+1set BAV[31]=1211117616set BWV[31]=1747989592set BNV[31]=1848656206set BUV[31]="ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"call G6E(BAV[31],"stand 3")call G2E(BAV[31],1.75,BWV[31])set BYV[i]="Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."set BZV[i]="Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."set B_V[i]="A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."set B0V[i]="Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."set B1V[i]="Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."set i=i+1set BAV[32]=1315007329set BWV[32]=1747989810set BNV[32]=1848656205set BUV[32]="ReplaceableTextures\\CommandButtons\\BTNakama.blp"call G6E(BAV[32],"stand var4")call G2E(BAV[32],1.2,BWV[32])set BYV[i]="Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."set BZV[i]="You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "set B_V[i]="Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."set B0V[i]="Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "set B1V[i]="Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."set i=i+1set BAV[33]=1215063922set BWV[33]=1747989590set BNV[33]=1848656209set BUV[33]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"call G6E(BAV[33],"stand victory")call G2E(BAV[33],1.35,BWV[33])call G2E(1211117638,1,BWV[33])call G2E(1211117639,1,BWV[33])call G2E(1211117637,1,BWV[33])call FPE(1211117639,$FF,$FF,$C8)call FPE(1211117638,$FF,$FF,$C8)call FPE(1211117639,$FF,$C8,$C8)set BYV[i]="Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."set BZV[i]="Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."set B_V[i]="Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."set B0V[i]="Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."set B1V[i]="The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."set i=i+1set BAV[34]=1164207469set BWV[34]=1747989588set BNV[34]=1848656210set BUV[34]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"call G6E(BAV[34],"stand channel")call G2E(BAV[34],1,BWV[34])set BYV[i]="Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."set BZV[i]="You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."set B_V[i]="Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."set B0V[i]="Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."set B1V[i]="Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."set i=i+1set BAV[35]=1315074670set BWV[35]=1747989813set BNV[35]=1848656204set BUV[35]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"call G6E(BAV[35],"spell")call G2E(BAV[35],1,BWV[35])set BYV[i]="Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."set BZV[i]="An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."set B_V[i]="Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."set B0V[i]="Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."set B1V[i]="Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."set i=i+1set BAV[36]=1214345830set BWV[36]=1747989594set BNV[36]=1848656211set BUV[36]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"call G6E(BAV[36],"stand victory")call G2E(BAV[36],1.1,BWV[36])set BYV[i]="Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."set BZV[i]="Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."set B_V[i]="Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."set B0V[i]="Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."set B1V[i]="Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."set i=i+1set BAV[37]=1211117636set BWV[37]=1747989587set BNV[37]=1848656203set BUV[37]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"call G6E(BAV[37],"spell slam")call G2E(BAV[37],1,BWV[37])set BYV[i]="Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."set BZV[i]="Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."set B_V[i]="Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."set B0V[i]="Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."set B1V[i]="Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."set i=i+1set BAV[38]=1160786000set BWV[38]=1747989586set BNV[38]=1848656202set BUV[38]="ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"call G6E(BAV[38],"stand 3")call G2E(BAV[38],1,BWV[38])set BYV[i]="Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "set BZV[i]="Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."set B_V[i]="A level of Liquid Fire early on can be useful for deterring physical attacks "set B0V[i]="Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."set B1V[i]="It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."set i=i+1set BAV[39]=1311781193set BWV[39]=1747989812set BNV[39]=1848656201set BUV[39]="ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"call G6E(BAV[39],"stand 2")call G2E(BAV[39],1,BWV[39])call G2E(1311781194,1,BWV[39])call G2E(1311781192,1,BWV[39])call G2E(1311781204,1,BWV[39])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[40]=1311781206set BWV[40]=1747989591set BNV[40]=1848656200set BUV[40]="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"call G6E(BAV[40],"stand ready")call G2E(BAV[40],1,BWV[40])set BYV[i]="PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."set BZV[i]="Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."set B_V[i]="Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."set B0V[i]="Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"set B1V[i]="Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."set i=i+1set BAV[41]=1211117651set BWV[41]=1747989585set BNV[41]=1848656212set BUV[41]="ReplaceableTextures\\CommandButtons\\BTNStorm.blp"call G6E(BAV[41],"spell")call G2E(BAV[41],1,BWV[41])set BYV[i]="Do not get Overload at level 1 since you do not have any spells to activate its effect with."set BZV[i]="Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."set B_V[i]="You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."set B0V[i]="In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."set B1V[i]="An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."set i=i+1set BAV[42]=1211117649set BWV[42]=1747989593set BNV[42]=1848656199set BUV[42]="ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"call G6E(BAV[42],"stand alternate 3")call G2E(BAV[42],1.15,BWV[42])set BYV[i]="A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."set BZV[i]="Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."set B_V[i]="Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "set B0V[i]="Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."set B1V[i]="Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."set i=i+1set BAV[43]=1160786265set BWV[43]=1747989816set BNV[43]=1848656198set BUV[43]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"call G6E(BAV[43],"stand victory")call G2E(BAV[43],1.2,BWV[43])set BYV[i]="Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."set BZV[i]="Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."set B_V[i]="Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."set B0V[i]="You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."set B1V[i]="Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."set i=i+1set BAV[44]=1311780930set BWV[44]=1747989808set BNV[44]=1848656197set BUV[44]="ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"call G6E(BAV[44],"attack spell")call G2E(BAV[44],1.1,BWV[44])set BYV[i]="Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."set BZV[i]="Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."set B_V[i]="Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."set B0V[i]="Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."set B1V[i]="Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."set i=i+1set BAV[45]=1211117652set BWV[45]=1747989809set BNV[45]=1848656213set BUV[45]="ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"call G6E(BAV[45],"Birth")call G2E(BAV[45],1.5,BWV[45])set BYV[i]="You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."set BZV[i]="Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."set B_V[i]="Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."set B0V[i]="Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."set B1V[i]="Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."set i=i+1set BAV[46]=1211119187set BWV[46]=1747990100set BNV[46]=1848657221set BUV[46]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"call G6E(BAV[46],"stand victory")call G2E(BAV[46],1.1,BWV[46])set BYV[i]="Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."set BZV[i]="The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."set B_V[i]="An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."set B0V[i]="Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."set B1V[i]="The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."set i=i+1set BAV[47]=1311786311set BWV[47]=1747990337set BNV[47]=1848657224set BUV[47]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"call G6E(BAV[47],"stand victory")call G2E(BAV[47],1.2,BWV[47])set BYV[i]="Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."set BZV[i]="An early level of Windrunner can provide you with a quick getaway and chasing tool."set B_V[i]="Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."set B0V[i]="Focus Fire is also a powerful spell to use on buildings and Roshan."set B1V[i]="As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."set i=i+1set BAV[48]=1160786510set BWV[48]=1747993411set BNV[48]=1848658766set BUV[48]="ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"call G6E(BAV[48],"stand 3")call G2E(BAV[48],1.1,BWV[48])call G2E(1160786511,1.1,BWV[48])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[49]=1160786506set BWV[49]=1747993412set BNV[49]=1848658770set BUV[49]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"call G6E(BAV[49],"stand 3")call G2E(BAV[49],1.1,BWV[49])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[50]=1160786505set BWV[50]=1747993401set BNV[50]=1848658763set BUV[50]="ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"call G6E(BAV[50],"stand 3")call G2E(BAV[50],1.,BWV[50])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[51]=1160786502set BWV[51]=1747993400set BNV[51]=1848658765set BUV[51]="ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"call G6E(BAV[51],"stand 3")call G2E(BAV[51],1.05,BWV[51])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[52]=1211117624set BWV[52]=1747989589set BNV[52]=1848656195set BUV[52]="ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"call G6E(BAV[52],"stand")call G2E(BAV[52],1.65,BWV[52])set BYV[i]="Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."set BZV[i]="Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."set B_V[i]="Sometimes one level of Goo can be enough to slow down an enemy hero early game."set B0V[i]="Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."set B1V[i]="You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."set i=i+1set BAV[53]=1160786520set BWV[53]=1747993428set BNV[53]=1848659019set BUV[53]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"call G6E(BAV[53],"stand 3")call G2E(BAV[53],1.15,BWV[53])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[54]=1311788336set BWV[54]=1747993671set BNV[54]=1848659249set BUV[54]="ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"call G6E(BAV[54],"stand 3")call G2E(BAV[54],1,BWV[54])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[55]=1160786507set BWV[55]=1747993409set BNV[55]=1848658762set BUV[55]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"call G6E(BAV[55],"stand 3")call G2E(BAV[55],1.3,BWV[55])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[56]=1211122767set BWV[56]=1747993672set BNV[56]=1848659254set BUV[56]="ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"call G6E(BAV[56],"stand 3")call G2E(BAV[56],1.1,BWV[56])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[57]=1160786738set BWV[57]=1747993922set BNV[57]=1848659269set BUV[57]="ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"call G6E(BAV[57],"stand 3")call G2E(BAV[57],1,BWV[57])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BCV=57set i=58set BDV=58set BAV[58]=1429221432set BWV[58]=1747989832set BNV[58]=1848656435set BUV[58]="ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"call G6E(BAV[58],"spell")call G2E(BAV[58],1.2,BWV[58])call G2E(1160786229,1,BWV[58])call FPE(BAV[58],$FF,75,$FF)set BYV[i]="If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."set BZV[i]="Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."set B_V[i]="Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."set B0V[i]="Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."set B1V[i]="A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."set i=i+1set BAV[59]=1429221430set BWV[59]=1747989833set BNV[59]=1848656436set BUV[59]="ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"call G6E(BAV[59],"walk")call G2E(BAV[59],1.36,BWV[59])set BYV[i]="At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."set BZV[i]="Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."set B_V[i]="Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."set B0V[i]="Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."set B1V[i]="With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."set i=i+1set BAV[60]=1165451634set BWV[60]=1747989834set BNV[60]=1848656437set BUV[60]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"call G6E(BAV[60],"spell slam")call G2E(BAV[60],1,BWV[60])set BYV[i]="Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."set BZV[i]="Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "set B_V[i]="Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."set B0V[i]="Blur can sometimes allow you to surprise opponents if they aren't paying attention."set B1V[i]="Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."set i=i+1set BAV[61]=1211117654set BWV[61]=1747989835set BNV[61]=1848656438set BUV[61]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"call G6E(BAV[61],"stand ready")call G2E(BAV[61],1,BWV[61])call G2E(1211119684,1,BWV[61])call G2E(1211119683,1,BWV[61])call G2E(1211119668,1,BWV[61])call G2E(1211119682,1,BWV[61])set BYV[i]="Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."set BZV[i]="Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."set B_V[i]="Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."set B0V[i]="Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."set B1V[i]="Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."set i=i+1set BAV[62]=1432646245set BWV[62]=1747989836set BNV[62]=1848656439set BUV[62]="ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"call G6E(BAV[62],"spell slam")call G2E(BAV[62],1,BWV[62])set BYV[i]="Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."set BZV[i]="Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."set B_V[i]="While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."set B0V[i]="Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."set B1V[i]="Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."set i=i+1set BAV[63]=1313026096set BWV[63]=1747989837set BNV[63]=1848656688set BUV[63]="ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"call G6E(BAV[63],"stand victory")call G2E(BAV[63],1.8,BWV[63])call FPE(BAV[63],100,125,100)set BYV[i]="Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "set BZV[i]="Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."set B_V[i]="Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."set B0V[i]="Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."set B1V[i]="Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."set i=i+1set BAV[64]=1430467634set BWV[64]=1747989838set BNV[64]=1848656470set BUV[64]="ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"call G6E(BAV[64],"stand victory")call G2E(BAV[64],1.1,BWV[64])set BYV[i]="Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."set BZV[i]="Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."set B_V[i]="Use the command -iObsScoreInt1 to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."set B0V[i]="Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."set B1V[i]="When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."set i=i+1set BAV[65]=1429221424set BWV[65]=1747989839set BNV[65]=1848656469set BUV[65]="ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"call G6E(BAV[65],"spell throw")call G2E(BAV[65],.8,BWV[65])set BYV[i]="Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."set BZV[i]="Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."set B_V[i]="Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."set B0V[i]="Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."set B1V[i]="Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."set i=i+1set BAV[66]=1430468913set BWV[66]=1747989840set BNV[66]=1848656689set BUV[66]="ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"call G6E(BAV[66],"spell")call G2E(BAV[66],1,BWV[66])call FPE(BAV[66],$AF,75,$C8)set BYV[i]="Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."set BZV[i]="Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."set B_V[i]="In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."set B0V[i]="Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."set B1V[i]="Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."set i=i+1set BAV[67]=1430466609set BWV[67]=1747989841set BNV[67]=1848656690set BUV[67]="ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"call G6E(BAV[67],"spell slam")call G2E(BAV[67],1.3,BWV[67])set BYV[i]="Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."set BZV[i]="Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."set B_V[i]="Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."set B0V[i]="Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."set B1V[i]="Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."set i=i+1set BAV[68]=1160785972set BWV[68]=1747989842set BNV[68]=1848656471set BUV[68]="ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"call G6E(BAV[68],"stand victory")call G2E(BAV[68],1,BWV[68])set BYV[i]="Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."set BZV[i]="Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."set B_V[i]="Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."set B0V[i]="Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."set B1V[i]="Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."set i=i+1set BAV[69]=1162032181set BWV[69]=1747989843set BNV[69]=1848656467set BUV[69]="ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"call G6E(BAV[69],"spell slam")call G2E(BAV[69],1.3,BWV[69])call FPE(BAV[69],0,$FF,$96)set BYV[i]="Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."set BZV[i]="Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."set B_V[i]="Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."set B0V[i]="Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."set B1V[i]="Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."set i=i+1set BAV[70]=1162032951set BWV[70]=1747989844set BNV[70]=1848656466set BUV[70]="ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"call G6E(BAV[70],"spell slam")call G2E(BAV[70],1.2,BWV[70])call FPE(BAV[70],75,$FF,25)set BYV[i]="Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."set BZV[i]="Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."set B_V[i]="Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."set B0V[i]="Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."set B1V[i]="Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."set i=i+1set BAV[71]=1160785970set BWV[71]=1747989845set BNV[71]=1848656473set BUV[71]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"call G6E(BAV[71],"spell")call G2E(BAV[71],1,BWV[71])set BYV[i]="Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."set BZV[i]="Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."set B_V[i]="Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."set B0V[i]="Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."set B1V[i]="Consider increasing your HP along with damage when purchasing items."set i=i+1set BAV[72]=1429221443set BWV[72]=1747989846set BNV[72]=1848656465set BUV[72]="ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"call G6E(BAV[72],"victory")call G2E(BAV[72],1.5,BWV[72])call FPE(BAV[72],100,100,100)set BYV[i]="Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."set BZV[i]="Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."set B_V[i]="Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."set B0V[i]="Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."set B1V[i]="Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."set i=i+1set BAV[73]=1211117640set BWV[73]=1747989847set BNV[73]=1848656468set BUV[73]="ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"call G6E(BAV[73],"stand ready")call G2E(BAV[73],1,BWV[73])set BYV[i]="Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."set BZV[i]="Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."set B_V[i]="Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."set B0V[i]="Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."set B1V[i]="Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."set i=i+1set BAV[74]=1332109682set BWV[74]=1747989848set BNV[74]=1848656464set BUV[74]="ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"call G6E(BAV[74],"attack slam")call G2E(BAV[74],1,BWV[74])set BYV[i]="Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."set BZV[i]="Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."set B_V[i]="Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."set B0V[i]="In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."set B1V[i]="Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."set i=i+1set BAV[75]=1332963428set BWV[75]=1747989849set BNV[75]=1848656463set BUV[75]="ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"call G6E(BAV[75],"spell")call G2E(BAV[75],1.5,BWV[75])call FPE(BAV[75],$96,0,$96)set BYV[i]="High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."set BZV[i]="Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."set B_V[i]="Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."set B0V[i]="Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."set B1V[i]="Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."set i=i+1set BAV[76]=1429221445set BWV[76]=1747989850set BNV[76]=1848656440set BUV[76]="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"call G6E(BAV[76],"stand victory")call G2E(BAV[76],1.3,BWV[76])set BYV[i]="Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."set BZV[i]="Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."set B_V[i]="Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."set B0V[i]="Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."set B1V[i]="Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."set i=i+1set BAV[77]=1429221446set BWV[77]=1747990064set BNV[77]=1848656693set BUV[77]="ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"call G6E(BAV[77],"stand 3")call G2E(BAV[77],1.,BWV[77])set BYV[i]="Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "set BZV[i]="Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."set B_V[i]="Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."set B0V[i]="A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."set B1V[i]="Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."set i=i+1set BAV[78]=1328558154set BWV[78]=1747990065set BNV[78]=1848656691set BUV[78]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"call G6E(BAV[78],"stand ready")call G2E(BAV[78],1.2,BWV[78])set BYV[i]="Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."set BZV[i]="A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."set B_V[i]="Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."set B0V[i]="Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."set B1V[i]="Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."set i=i+1set BAV[79]=1432510828set BWV[79]=1747990066set BNV[79]=1848656472set BUV[79]="ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"call G6E(BAV[79],"attack")call G2E(BAV[79],1.,BWV[79])call FPE(BAV[79],$FF,$C8,$C8)set BYV[i]="Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."set BZV[i]="An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."set B_V[i]="Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."set B0V[i]="If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."set B1V[i]="Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."set i=i+1set BAV[80]=1315334514set BWV[80]=1747990067set BNV[80]=1848656462set BUV[80]="ReplaceableTextures\\CommandButtons\\BTNShade.blp"call G6E(BAV[80],"stand channel")call G2E(BAV[80],1.15,BWV[80])call FPE(BAV[80],0,0,0)set BYV[i]="Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."set BZV[i]="Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."set B_V[i]="Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."set B0V[i]="After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."set B1V[i]="If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."set i=i+1set BAV[81]=1429221451set BWV[81]=1747990068set BNV[81]=1848656692set BUV[81]="ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"call G6E(BAV[81],"attack 3")call G2E(BAV[81],1,BWV[81])set BYV[i]="Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."set BZV[i]="Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."set B_V[i]="Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."set B0V[i]="While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."set B1V[i]="Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."set i=i+1set BAV[82]=1332766568set BWV[82]=1747990069set BNV[82]=1848656461set BUV[82]="ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"call G6E(BAV[82],"stand victory")call G2E(BAV[82],1,BWV[82])set BYV[i]="Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."set BZV[i]="A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."set B_V[i]="Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."set B0V[i]="Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."set B1V[i]="Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."set i=i+1set BAV[83]=1215722344set BWV[83]=1747990070set BNV[83]=1848656474set BUV[83]="ReplaceableTextures\\CommandButtons\\BTNShaman.blp"call G6E(BAV[83],"stand victory")call G2E(BAV[83],1.25,BWV[83])call FPE(BAV[83],$FA,$96,$96)set BYV[i]="Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."set BZV[i]="An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."set B_V[i]="Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."set B0V[i]="Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."set B1V[i]="Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."set i=i+1set BAV[84]=1432642913set BWV[84]=1747990071set BNV[84]=1848656460set BUV[84]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"call G6E(BAV[84],"stand ready")call G2E(BAV[84],1,BWV[84])set BYV[i]="Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."set BZV[i]="Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."set B_V[i]="Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."set B0V[i]="Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."set B1V[i]="Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."set i=i+1set BAV[85]=1160786242set BWV[85]=1747990072set BNV[85]=1848656441set BUV[85]="ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"call G6E(BAV[85],"stand ready")call G2E(BAV[85],.8,BWV[85])set BYV[i]="Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "set BZV[i]="You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."set B_V[i]="Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."set B0V[i]="Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."set B1V[i]="Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."set i=i+1set BAV[86]=1160786241set BWV[86]=1747990073set BNV[86]=1848656459set BUV[86]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"call G6E(BAV[86],"stand victory")call G2E(BAV[86],1.25,BWV[86])set BYV[i]="Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."set BZV[i]="Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."set B_V[i]="An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."set B0V[i]="Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."set B1V[i]="Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."set i=i+1set BAV[87]=1429221456set BWV[87]=1747990081set BNV[87]=1848656449set BUV[87]="ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"call G6E(BAV[87],"stand alternate 2")call G2E(BAV[87],.85,BWV[87])set BYV[i]="Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."set BZV[i]="Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."set B_V[i]="Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."set B0V[i]="Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."set B1V[i]="Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."set i=i+1set BAV[88]=1160786243set BWV[88]=1747990083set BNV[88]=1848656450set BUV[88]="ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"call G6E(BAV[88],"spell")call G2E(BAV[88],1.5,BWV[88])set BYV[i]="Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."set BZV[i]="The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."set B_V[i]="Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."set B0V[i]="Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."set B1V[i]="The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."set i=i+1set BAV[89]=1211117641set BWV[89]=1747990084set BNV[89]=1848656458set BUV[89]="ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"call G6E(BAV[89],"spell")call G2E(BAV[89],1.4,BWV[89])call G2E(1211117642,1.4,BWV[89])set BYV[i]="Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."set BZV[i]="Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."set B_V[i]="Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."set B0V[i]="Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."set B1V[i]="Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."set i=i+1set BAV[90]=1311781207set BWV[90]=1747990085set BNV[90]=1848656457set BUV[90]="ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"call G6E(BAV[90],"spell")call G2E(BAV[90],1.2,BWV[90])set BYV[i]="An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."set BZV[i]="Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."set B_V[i]="In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"set B0V[i]="Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."set B1V[i]="Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."set i=i+1set BAV[91]=1311780946set BWV[91]=1747990086set BNV[91]=1848656451set BUV[91]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"call G6E(BAV[91],"stand channel")call G2E(BAV[91],.95,BWV[91])set BYV[i]="Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."set BZV[i]="The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."set B_V[i]="Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."set B0V[i]="Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."set B1V[i]="Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."set i=i+1set BAV[92]=1211117650set BWV[92]=1747990087set BNV[92]=1848656456set BUV[92]="ReplaceableTextures\\CommandButtons\\BTNZombie.blp"call G6E(BAV[92],"stand")call G2E(BAV[92],2,BWV[92])call G2E(1211119433,1.3,BWV[92])set BYV[i]="Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."set BZV[i]="Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."set B_V[i]="Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."set B0V[i]="Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."set B1V[i]="Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."set i=i+1set BAV[93]=1211117646set BWV[93]=1747990088set BNV[93]=1848656455set BUV[93]="ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"call G6E(BAV[93],"spell")call G2E(BAV[93],1.15,BWV[93])set BYV[i]="Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."set BZV[i]="A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."set B_V[i]="Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."set B0V[i]="Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."set B1V[i]="Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."set i=i+1set BAV[94]=1211117653set BWV[94]=1747990082set BNV[94]=1848656454set BUV[94]="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"call G6E(BAV[94],"spell")call G2E(BAV[94],1.25,BWV[94])set BYV[i]="Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."set BZV[i]="Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."set B_V[i]="Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."set B0V[i]="Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "set B1V[i]="EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."set i=i+1set BAV[95]=1433105516set BWV[95]=1747989572set BNV[95]=1848656182set BUV[95]="ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"call G6E(BAV[95],"stand")call G2E(BAV[95],1.5,BWV[95])set BYV[i]="Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."set BZV[i]="In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."set B_V[i]="The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."set B0V[i]="Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."set B1V[i]="Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."set i=i+1set BAV[96]=1328558390set BWV[96]=1747990354set BNV[96]=1848657721set BUV[96]="ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"call G6E(BAV[96],"stand")call G2E(BAV[96],1.2,BWV[96])call G2E(1328558391,1.2,BWV[96])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[97]=1311787088set BWV[97]=1747993136set BNV[97]=1848658002set BUV[97]="ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"call G6E(BAV[97],"stand")call G2E(BAV[97],1.17,BWV[97])call G2E(1311787088,1.2,BWV[97])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[98]=1211119409set BWV[98]=1747990322set BNV[98]=1848657222set BUV[98]="ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"call G6E(BAV[98],"stand 3")call G2E(BAV[98],1.25,BWV[98])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[99]=1164277353set BWV[99]=1747989814set BNV[99]=1848656214set BUV[99]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"call G6E(BAV[99],"spell channel")call G2E(BAV[99],1,BWV[99])call G2E(1164277357,1,BWV[99])call G2E(1160786518,1,BWV[99])call G2E(1160786519,1,BWV[99])call G2E(1160786517,1,BWV[99])set BYV[i]="Get Soul Steal if you need healing in the lane."set BZV[i]="Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."set B_V[i]="It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."set B0V[i]="Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."set B1V[i]="Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."set i=i+1set BAV[100]=1164666213set BWV[100]=1747989817set BNV[100]=1848656215set BUV[100]="ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"call G6E(BAV[100],"stand victory")call G2E(BAV[100],1,BWV[100])set BYV[i]="Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."set BZV[i]="By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."set B_V[i]="Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."set B0V[i]="Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."set B1V[i]="Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."set i=i+1set BAV[101]=1160786504set BWV[101]=1747993410set BNV[101]=1848658764set BUV[101]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"call G6E(BAV[101],"stand 3")call G2E(BAV[101],1.25,BWV[101])set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[102]=1433168227set BWV[102]=1747989825set BNV[102]=1848656216set BUV[102]="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"call G6E(BAV[102],"stand channel")call G2E(BAV[102],1.3,BWV[51])set BYV[i]="Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."set BZV[i]="Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."set B_V[i]="Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."set B0V[i]="Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."set B1V[i]="The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."set i=i+1set BAV[103]=1430468406set BWV[103]=1747989826set BNV[103]=1848656217set BUV[103]="ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"call G6E(BAV[103],"spell wail")call G2E(BAV[103],1.35,BWV[103])set BYV[i]="Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."set BZV[i]="An early level of Silence can help prevent you and your allies from being attacked by multiple spells."set B_V[i]="The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."set B0V[i]="Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"set B1V[i]="The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."set i=i+1set BAV[104]=1430466872set BWV[104]=1747989827set BNV[104]=1848656218set BUV[104]="ReplaceableTextures\\CommandButtons\\BTNLion.BLP"call G6E(BAV[104],"spell callstorm")call G2E(BAV[104],1.3,BWV[104])call FPE(BAV[104],50,100,$FF)set BYV[i]="With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."set BZV[i]="Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."set B_V[i]="Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."set B0V[i]="Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."set B1V[i]="Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."set i=i+1set BAV[105]=1162032439set BWV[105]=1747989828set BNV[105]=1848656432set BUV[105]="ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"call G6E(BAV[105],"attack")call G2E(BAV[105],1.,BWV[105])call FPE(BAV[105],$96,$C8,$FF)set BYV[i]="Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."set BZV[i]="At least one level of Poison Sting is recommended early game for its slow effect."set B_V[i]="Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."set B0V[i]="Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."set B1V[i]="Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."set i=i+1set BAV[106]=1430466865set BWV[106]=1747989829set BNV[106]=1848656178set BUV[106]="ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"call G6E(BAV[106],"stand channel")call G2E(BAV[106],1,BWV[106])call FPE(BAV[106],$96,$96,100)set BYV[i]="Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."set BZV[i]="A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."set B_V[i]="By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."set B0V[i]="Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."set B1V[i]="The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."set i=i+1set BAV[107]=1430468144set BWV[107]=1747989830set BNV[107]=1848656433set BUV[107]="ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"call G6E(BAV[107],"stand victory")call G2E(BAV[107],1,BWV[107])call FPE(BAV[107],$96,$96,$96)set BYV[i]=""set BZV[i]=""set B_V[i]=""set B0V[i]=""set B1V[i]=""set i=i+1set BAV[108]=1429221441set BWV[108]=1747989831set BNV[108]=1848656434set BUV[108]="ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"call G6E(BAV[108],"stand victory")call G2E(BAV[108],1.05,BWV[108])set BYV[i]="Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."set BZV[i]="Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."set B_V[i]="His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."set B0V[i]="If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "set B1V[i]="Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."set i=i+1set BFV=108set BAV[500]=1211445296set BUV[500]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"call G6E(BAV[500],"stand")call G2E(BAV[500],1.5,0)set BYV[500]=""set BZV[500]=""set B_V[500]=""set B0V[500]=""set B1V[500]=""set BAV[600]=1211510832set BUV[600]="ReplaceableTextures\\CommandButtons\\BTNSeaTurtleRed.blp"call G6E(BAV[600],"stand")call G2E(BAV[600],.8,0)set BYV[600]=""set BZV[600]=""set B_V[600]=""set B0V[600]=""set B1V[600]=""set BGV[1]=1315074670set BGV[2]=1164207469set BGV[3]=1311781174set BGV[4]=1315070563set BGV[5]=1315007329set BGV[6]=1328558160set BGV[7]=1433631084set BGV[8]=1160785973set BGV[9]=1311781199set BGV[$A]=1212365106set BGV[$B]=1215723364set BGV[$C]=1212363833set BGV[$D]=1215657064set BGV[$E]=1332179560set BGV[$F]=1429221430set BGV[16]=1162032439set BGV[17]=1164277353set BGV[18]=1432510828set BGV[19]=1160785972set BGV[20]=1162032951set BGV[21]=1215722344set BGV[22]=1315334514set BGV[23]=1160785970set BGV[24]=1162032181set BGV[25]=1165451634set BGV[26]=1429221424set BGV[27]=1211117654set BGV[28]=1160786242set BGV[29]=1311781206set BGV[30]=1211117641set BGV[31]=1160786265set BGV[32]=1211119409set BGV[33]=1160786510set BGV[34]=1311788336set BHV=34set BJV[1]=1315988077set BJV[2]=1215063922set BJV[3]=1214345830set BJV[4]=1211117616set BJV[5]=1211117617set BJV[6]=1214344551set BJV[7]=1211117624set BJV[8]=1432580716set BJV[9]=1333027688set BJV[$A]=1313026096set BJV[$B]=1432646245set BJV[$C]=1430466865set BJV[$D]=1332109682set BJV[$E]=1429221446set BJV[$F]=1429221451set BJV[16]=1328558154set BJV[17]=1432642913set BJV[18]=1332766568set BJV[19]=1429221441set BJV[20]=1429221443set BJV[21]=1430468913set BJV[22]=1430467634set BJV[23]=1429221432set BJV[24]=1211117636set BJV[25]=1311781193set BJV[26]=1211117649set BJV[27]=1311780946set BJV[28]=1211117652set BJV[29]=1211119187set BJV[30]=1211117650set BJV[31]=1328558389set BJV[32]=1160786505set BJV[33]=1160786502set BJV[34]=1328558406set BJV[35]=1160786738set BJV[36]=1160786507set BKV=36set BLV[1]=1332898670set BLV[2]=1164799855set BLV[3]=1164799603set BLV[4]=1211117620set BLV[5]=1214931305set BLV[6]=1433105516set BLV[7]=1215128178set BLV[8]=1211117643set BLV[9]=1316252014set BLV[$A]=1215130471set BLV[$B]=1214409837set BLV[$C]=1311781185set BLV[$D]=1211117633set BLV[$E]=1433168227set BLV[$F]=1164666213set BLV[16]=1430468406set BLV[17]=1430466872set BLV[18]=1430466609set BLV[19]=1430468144set BLV[20]=1211117640set BLV[21]=1332963428set BLV[22]=1429221445set BLV[23]=1160786241set BLV[24]=1429221456set BLV[25]=1160786000set BLV[26]=1160786243set BLV[27]=1311781207set BLV[28]=1211117646set BLV[29]=1311786311set BLV[30]=1211117651set BLV[31]=1311780930set BLV[32]=1211117653set BLV[33]=1328558390set BLV[34]=1311787088set BLV[35]=1160786504set BLV[36]=1160786506set BLV[37]=1160786520set BLV[38]=1211122767set BMV=38set BPV[1]=1332898670set BPV[2]=1164799855set BPV[3]=1164799603set BPV[4]=1211117620set BPV[5]=1214931305set BPV[6]=1433105516set BPV[7]=1215128178set BPV[8]=1211117643set BPV[9]=1316252014set BPV[$A]=1315074670set BPV[$B]=1214409837set BPV[$C]=1311781185set BPV[$D]=1211117633set BPV[$E]=1433168227set BPV[$F]=1164666213set BPV[16]=1430468406set BPV[17]=1430466872set BPV[18]=1430466609set BPV[19]=1430468144set BPV[20]=1211117640set BPV[21]=1332963428set BPV[22]=1429221445set BPV[23]=1160786241set BPV[24]=1429221456set BPV[25]=1160786000set BPV[26]=1160786243set BPV[27]=1311781207set BPV[28]=1311786311set BPV[29]=1211117651set BPV[30]=1311780930set BPV[31]=1211117653set BPV[32]=1311781174set BPV[33]=1328558160set BPV[34]=1433631084set BPV[35]=1160785973set BPV[36]=1311781199set BPV[37]=1160786265set BPV[38]=1215723364set BPV[39]=1162032439set BPV[40]=1432510828set BPV[41]=1160785972set BPV[42]=1162032951set BPV[43]=1315334514set BPV[44]=1160785970set BPV[45]=1211117654set BPV[46]=1311781206set BPV[47]=1211117649set BPV[48]=1328558390set BPV[49]=1311787088set BPV[50]=1328558406set BPV[51]=1160786504set BPV[52]=1160786510set BPV[53]=1160786506set BPV[54]=1160786502set BPV[55]=1160786520set BPV[56]=1211122767set BQV=56set BSV[1]=1215130471set BSV[2]=1211117646set BSV[3]=1164207469set BSV[4]=1315070563set BSV[5]=1315007329set BSV[6]=1212363833set BSV[7]=1215657064set BSV[8]=1332179560set BSV[9]=1429221430set BSV[$A]=1164277353set BSV[$B]=1215722344set BSV[$C]=1162032181set BSV[$D]=1165451634set BSV[$E]=1429221424set BSV[$F]=1160786242set BSV[16]=1211117641set BSV[17]=1212365106set BSV[18]=1315988077set BSV[19]=1215063922set BSV[20]=1214345830set BSV[21]=1211117616set BSV[22]=1211117617set BSV[23]=1214344551set BSV[24]=1211117624set BSV[25]=1432580716set BSV[26]=1333027688set BSV[27]=1313026096set BSV[28]=1432646245set BSV[29]=1430466865set BSV[30]=1332109682set BSV[31]=1429221446set BSV[32]=1429221451set BSV[33]=1328558154set BSV[34]=1432642913set BSV[35]=1332766568set BSV[36]=1429221441set BSV[37]=1429221443set BSV[38]=1430468913set BSV[39]=1430467634set BSV[40]=1429221432set BSV[41]=1211117636set BSV[42]=1311781193set BSV[43]=1311780946set BSV[44]=1211117652set BSV[45]=1211119187set BSV[46]=1211117650set BSV[47]=1328558389set BSV[48]=1211119409set BSV[49]=1160786505set BSV[50]=1311788336set BSV[51]=1160786738set BSV[52]=1160786507set BTV=52call C5E()endfunctionfunction TavernFogFix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()call DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_MASKED,GetUnitX(B4V),GetUnitY(B4V),900,false,false))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_MASKED,GetUnitX(B2V),GetUnitY(B2V),900,false,false))call IRE(t)set t=nullreturn falseendfunctionfunction QEE takes item Z4 returns stringif Z4==null thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn JU[XGE(Z4)]endfunctionfunction QXE takes nothing returns nothinglocal unit a=CreateUnit(Player(0),1747990348,-6100,-5800,0)local unit b=CreateUnit(Player(0),1747990348,-6100,-5800,0)local item i=CreateItem(1227900749,0,0)call UnitAddItem(a,i)if UnitUseItem(a,i)thenendifcall UnitRemoveItem(a,i)call UnitAddItem(b,i)if UnitUseItem(b,i)thenset CAV=truecall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,$A,(GetObjectName((1848657993))))elseset CAV=falseendifcall ShowUnit(a,false)call KillUnit(a)call ShowUnit(b,false)call KillUnit(b)call RemoveItem(i)set i=nullset b=nullset a=nullendfunctionfunction QOE takes integer id returns booleanlocal integer i=0loopexitwhen i>Z1Vif Z0V[i]==id thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction QRE takes nothing returns nothingset Z1V=Z1V+1set Z0V[Z1V]=1093753431set Z1V=Z1V+1set Z0V[Z1V]=1093681718set Z1V=Z1V+1set Z0V[Z1V]=1093684023set Z1V=Z1V+1set Z0V[Z1V]=1093686327set Z1V=Z1V+1set Z0V[Z1V]=1093686328set Z1V=Z1V+1set Z0V[Z1V]=1093742918set Z1V=Z1V+1set Z0V[Z1V]=1093742920set Z1V=Z1V+1set Z0V[Z1V]=1093742919set Z1V=Z1V+1set Z0V[Z1V]=1093742916set Z1V=Z1V+1set Z0V[Z1V]=1093686067set Z1V=Z1V+1set Z0V[Z1V]=1093742917set Z1V=Z1V+1set Z0V[Z1V]=1093743959set Z1V=Z1V+1set Z0V[Z1V]=1093814353set Z1V=Z1V+1set Z0V[Z1V]=1093808945set Z1V=Z1V+1set Z0V[Z1V]=1093814351set Z1V=Z1V+1set Z0V[Z1V]=1093677647set Z1V=Z1V+1set Z0V[Z1V]=1093679193set Z1V=Z1V+1set Z0V[Z1V]=1093679194set Z1V=Z1V+1set Z0V[Z1V]=1093679408set Z1V=Z1V+1set Z0V[Z1V]=1093679410set Z1V=Z1V+1set Z0V[Z1V]=1095331943set Z1V=Z1V+1set Z0V[Z1V]=1095332962set Z1V=Z1V+1set Z0V[Z1V]=1093683254set Z1V=Z1V+1set Z0V[Z1V]=1093751108set Z1V=Z1V+1set Z0V[Z1V]=1093751863set Z1V=Z1V+1set Z0V[Z1V]=1093744973set Z1V=Z1V+1set Z0V[Z1V]=1093747011set Z1V=Z1V+1set Z0V[Z1V]=1094936696set Z1V=Z1V+1set Z0V[Z1V]=1093810265set Z1V=Z1V+1set Z0V[Z1V]=1095328363set Z1V=Z1V+1set Z0V[Z1V]=1093748055set Z1V=Z1V+1set Z0V[Z1V]=1093677367set Z1V=Z1V+1set Z0V[Z1V]=1093683801set Z1V=Z1V+1set Z0V[Z1V]=1093682767set Z1V=Z1V+1set Z0V[Z1V]=1093683255set Z1V=Z1V+1set Z0V[Z1V]=1093681720set Z1V=Z1V+1set Z0V[Z1V]=1093752645set Z1V=Z1V+1set Z0V[Z1V]=1095333995set Z1V=Z1V+1set Z0V[Z1V]=1093753417set Z1V=Z1V+1set Z0V[Z1V]=1093681995set Z1V=Z1V+1set Z0V[Z1V]=1093683788set Z1V=Z1V+1set Z0V[Z1V]=1093748303set Z1V=Z1V+1set Z0V[Z1V]=1095328865set Z1V=Z1V+1set Z0V[Z1V]=1093683266set Z1V=Z1V+1set Z0V[Z1V]=1093682227set Z1V=Z1V+1set Z0V[Z1V]=1093682246set Z1V=Z1V+1set Z0V[Z1V]=1093682756set Z1V=Z1V+1set Z0V[Z1V]=1093743191set Z1V=Z1V+1set Z0V[Z1V]=1093743681set Z1V=Z1V+1set Z0V[Z1V]=1093748292set Z1V=Z1V+1set Z0V[Z1V]=1093749071set Z1V=Z1V+1set Z0V[Z1V]=1093677655set Z1V=Z1V+1set Z0V[Z1V]=1093809721set Z1V=Z1V+1set Z0V[Z1V]=1093815111set Z1V=Z1V+1set Z0V[Z1V]=1093748304set Z1V=Z1V+1set Z0V[Z1V]=1093686329set Z1V=Z1V+1set Z0V[Z1V]=1093751096set Z1V=Z1V+1set Z0V[Z1V]=1093750095set Z1V=Z1V+1set Z0V[Z1V]=1093810244set Z1V=Z1V+1set Z0V[Z1V]=1097163124set Z1V=Z1V+1set Z0V[Z1V]=1093684016set Z1V=Z1V+1set Z0V[Z1V]=1095331948set Z1V=Z1V+1set Z0V[Z1V]=1093683796set Z1V=Z1V+1set Z0V[Z1V]=1095331954set Z1V=Z1V+1set Z0V[Z1V]=1093677656set Z1V=Z1V+1set Z0V[Z1V]=1093751349set Z1V=Z1V+1set Z0V[Z1V]=1095332727set Z1V=Z1V+1set Z0V[Z1V]=1093808182set Z1V=Z1V+1set Z0V[Z1V]=1093753416set Z1V=Z1V+1set Z0V[Z1V]=1093813569set Z1V=Z1V+1set Z0V[Z1V]=1093815092set Z1V=Z1V+1set Z0V[Z1V]=1093815095set Z1V=Z1V+1set Z0V[Z1V]=1093815089endfunctionfunction QIE takes integer id returns booleanreturn id==1093808454 or id==1093808455 or id==1093808456 or id==1093751609 or id==1093809217 or id==1093809218 or id==1093678667 or id==1093752391 or id==1093810257 or id==1093752646 or id==1093686328 or id==1093686327 or id==1093808206 or id==1093753394 or id==1093753395 or id==1093808181 or id==1093743681 or id==1093809721 or id==1093815111 or id==1093808458 or id==1093810008 or id==1093810265 or id==1093809221 or id==1093753416 or id==1093752655 or id==1093748305 or id==1093686341 or id==1093814863 or id==1093813848 or id==1093684560 or id==1093815109 or id==1093815112 or id==1093815097 or id==1093814860endfunctionfunction QAE takes nothing returns nothingset CIV=CIV+1set CRV[CIV]=1093683254set CIV=CIV+1set CRV[CIV]=1093677362set CIV=CIV+1set CRV[CIV]=1093678667set CIV=CIV+1set CRV[CIV]=1093683513set CIV=CIV+1set CRV[CIV]=1093683265set CIV=CIV+1set CRV[CIV]=1093684021set CIV=CIV+1set CRV[CIV]=1093685337set CIV=CIV+1set CRV[CIV]=1093748303set CIV=CIV+1set CRV[CIV]=1093685844set CIV=CIV+1set CRV[CIV]=1093686081set CIV=CIV+1set CRV[CIV]=1093686327set CIV=CIV+1set CRV[CIV]=1093686328set CIV=CIV+1set CRV[CIV]=1093743681set CIV=CIV+1set CRV[CIV]=1093681733set CIV=CIV+1set CRV[CIV]=1093808472set CIV=CIV+1set CRV[CIV]=1093808471set CIV=CIV+1set CRV[CIV]=1093808470set CIV=CIV+1set CRV[CIV]=1097754673set CIV=CIV+1set CRV[CIV]=1093750618set CIV=CIV+1set CRV[CIV]=1093743428set CIV=CIV+1set CRV[CIV]=1093677622set CIV=CIV+1set CRV[CIV]=1093751096endfunctionfunction QNE takes nothing returns nothingset EI[1]=1095331188set EI[2]=1095328865set EI[3]=1095660653set EI[4]=1094935400set EI[5]=1095333995set EI[6]=1093681995set EI[7]=1093677367set EI[8]=1093681720set EI[9]=1093683266set EI[$A]=1093682227set EI[$B]=1093682246set EI[$C]=1093677655set EI[$D]=1095331954set EI[$E]=1095331948set EI[$F]=1093682767set EI[16]=1093683255set EI[17]=1093683254set EI[18]=1093677656set EI[19]=1095332727set EI[20]=1093682008set EI[21]=1093681718set EI[22]=1097163124set EI[23]=1093679180set EI[24]=1095328633set EI[25]=1093678426set EI[26]=1095328363set EI[27]=1093682265set EI[28]=1093684314set EI[29]=1093685065set EI[30]=1093684056set EI[31]=1093684055set EI[32]=1093677622set EI[33]=1093681972set EI[34]=1093677362set EI[35]=1093678667set EI[36]=1093677652set EI[37]=1095263841set EI[38]=1093679446set EI[39]=1093678425set EI[40]=1093683513set EI[41]=1093683265set EI[42]=1093684021set EI[43]=1093685337set EI[44]=1093685582set EI[45]=1093685844set EI[46]=1093685840set EI[47]=1093743191set EI[48]=1093686081set EI[49]=1093686327set EI[50]=1093686328set EI[51]=1093743681set EI[52]=1093681733set EI[53]=1093808472set EI[54]=1093808471set EI[55]=1093808470set EI[56]=1093684560set EI[57]=1093743428set EI[58]=1093683801set EI[59]=1093743959set EI[60]=1093748303set EI[61]=1093748292set EI[62]=1093750618set EI[63]=1093750095set EI[64]=1093749071set EI[65]=1093751096set EI[66]=1093751361set EI[67]=1093751126set EI[68]=1093752645set EI[69]=1093752642set EI[70]=1093815111set XI=70endfunctionfunction QBE takes nothing returns booleancall QNE()call QAE()call QRE()return falseendfunctionfunction QCE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function QBE))endfunctionfunction QDE takes nothing returns nothingcall CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")call CreateQuestBJ(0,"About AI","TRIGSTR_49999","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")endfunctionfunction QFE takes nothing returns booleanlocal string sif IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!=1211117642 thenset s=GetUnitName(GetTriggerUnit())+" "+(GetObjectName((1848657986)))+" "+GetObjectName(GetLearnedSkill())+" ("+(GetObjectName((1848657987)))+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"call DisplayTimedTextToPlayer(BVV,0,0,3,s)call DisplayTimedTextToPlayer(BEV,0,0,3,s)endifreturn falseendfunctionfunction QGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function QFE))set t=nullendfunctionfunction QHE takes player p returns nothinglocal unit F2E=QV[GetPlayerId(p)]local integer i=0local item QJEloopexitwhen i>5set QJE=UnitItemInSlot(F2E,i)call SetItemDroppable(QJE,false)set i=i+1endloopset F2E=nullset QJE=nullendfunctionfunction QKE takes nothing returns nothingcall D2E(bj_FORCE_ALL_PLAYERS,25.,(BXV[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+(GetObjectName((1848652356)))+"|r")endfunctionfunction Jf takes nothing returns nothinglocal player QLE=RQE(GetHandleId(GetExpiredTimer()),"Leaver")local integer T8=1local integer Jglocal integer hY=GetPlayerState(QLE,PLAYER_STATE_RESOURCE_GOLD)if hY>20 thencall SetPlayerState(QLE,PLAYER_STATE_RESOURCE_GOLD,0)set LDV[GetPlayerId(QLE)]=0if B2E(QLE)thenset Jg=P8(WE)elseset Jg=P8(YE)endifif B2E(QLE)thenloopexitwhen T8>5if B7E(RX[T8])thencall SetPlayerState(RX[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(RX[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)endifset T8=T8+1endloopelseloopexitwhen T8>5if B7E(GX[T8])thencall SetPlayerState(GX[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GX[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)endifset T8=T8+1endloopendifendifendfunctionfunction QME takes player QLE returns nothinglocal timer t=CreateTimer()local integer IAE=GetHandleId(t)call RRE(IAE,"Leaver",QLE)call TimerStart(t,2,true,function Jf)set t=nullendfunctionfunction QPE takes player p returns nothinglocal multiboarditem QQE=MultiboardGetItem(XV,CPV[GetPlayerId(p)],CMV[GetPlayerId(p)])call MultiboardSetItemValue(QQE,"|c00333333"+D0E(p)+"|r")call MultiboardReleaseItem(QQE)endfunctionfunction QSE takes nothing returns nothinglocal player p=DKVlocal string id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,"8_0",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(0)))))call StoreInteger(AIV,id,"8_1",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(1)))))call StoreInteger(AIV,id,"8_2",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(2)))))call StoreInteger(AIV,id,"8_3",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(3)))))call StoreInteger(AIV,id,"8_4",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(4)))))call StoreInteger(AIV,id,"8_5",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(5)))))if GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_0")call SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_1")call SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_2")call SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_3")call SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_4")call SyncStoredInteger(AIV,I2S(GetPlayerId(p)),"8_5")endifendfunctionfunction QTE takes nothing returns nothinglocal integer P7E=P8(WE)local integer P6E=P8(YE)local integer T8local integer U8local string QUElocal string QWElocal unit FLE=QV[GetPlayerId(GetTriggerPlayer())]if FLE==null thenset QWE=(GetObjectName((1848657239)))elseset QWE=GetUnitName(FLE)endifif(M<$A)thenset QUE=I2S(L)+":0"+I2S(M)elseset QUE=I2S(L)+":"+I2S(M)endifif NI==false thenset IA[GetPlayerId(GetTriggerPlayer())]="|c00555555"+QUE+"|r"call D2E(bj_FORCE_ALL_PLAYERS,25.,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+" ("+QWE+")|r|c00ff0303 "+(GetObjectName((1848652356)))+"|r")if(B2E(GetTriggerPlayer()))thenset T8=1set U8=5loopexitwhen T8>U8if(RX[T8]!=GetTriggerPlayer())thenif(B7E(RX[T8]))thencall SetPlayerAllianceStateBJ(GetTriggerPlayer(),RX[T8],4)endifendifset T8=T8+1endloopelseset T8=1set U8=5loopexitwhen T8>U8if(GX[T8]!=GetTriggerPlayer())thenif(B7E(GX[T8]))thencall SetPlayerAllianceStateBJ(GetTriggerPlayer(),GX[T8],4)endifendifset T8=T8+1endloopendifif B2E(GetTriggerPlayer())or B3E(GetTriggerPlayer())thenset CNV=CNV+1endifcall PGE("C"+"K"+I2S(RE[GetPlayerId(GetTriggerPlayer())])+"D"+I2S(KE[GetPlayerId(GetTriggerPlayer())])+"N"+I2S((LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId(GetTriggerPlayer()))),StringHash("NumOfNeutrals")))),GetPlayerId(GetTriggerPlayer()))set DKV=GetTriggerPlayer()call ExecuteFunc("QSE")call QHE(GetTriggerPlayer())set U2[GetPlayerId(GetTriggerPlayer())]=truecall QPE(GetTriggerPlayer())call QME(GetTriggerPlayer())if CNV==2 and XR==false and Ny thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+(GetObjectName((1848657495)))+"|r")endifif CNV==3 thenset DHV=truecall ExecuteFunc("QYE")set DHV=falseendifelseset IA[GetPlayerId(GetTriggerPlayer())]="|c00555555End|r"call ExecuteFunc("QZE")endifset FLE=nullendfunctionfunction Q_E takes unit F2E returns nothingif GetUnitTypeId(F2E)!=1211117642 and GetUnitTypeId(F2E)!=1211117641 thenif GetOwningPlayer(F2E)==GetLocalPlayer()thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1,"|c006699CC"+(GetObjectName((1848657746))))call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")endifcall J2E(WR,GetOwningPlayer(F2E))endifcall SetUnitInvulnerable(F2E,false)call UnitRemoveAbility(F2E,1093681498)call UnitRemoveAbility(F2E,1093679434)call UnitRemoveAbility(F2E,1093684052)call UnitRemoveAbility(F2E,1093684823)call UnitRemoveAbility(F2E,1093684821)call UnitRemoveAbility(F2E,1093685079)call UnitRemoveAbility(F2E,1093685078)call UnitRemoveAbility(F2E,1093685080)call UnitRemoveAbility(F2E,1093685081)call UnitRemoveAbility(F2E,1093685296)call UnitRemoveAbility(F2E,1093744459)call UnitRemoveAbility(F2E,1093685334)call UnitRemoveAbility(F2E,1093685583)call UnitRemoveAbility(F2E,1093685827)call UnitRemoveAbility(F2E,1093685830)call UnitRemoveAbility(F2E,Ly)call UnitRemoveAbility(F2E,my)call UnitRemoveAbility(F2E,My)call UnitRemoveAbility(F2E,py)call UnitRemoveAbility(F2E,1093684821)call UnitRemoveAbility(F2E,1093684823)call UnitRemoveAbility(F2E,Lw)call UnitRemoveAbility(F2E,1093683509)call UnitRemoveAbility(F2E,1093681977)call UnitRemoveAbility(F2E,1093683528)call UnitRemoveAbility(F2E,1110455863)call UnitRemoveAbility(F2E,1110456396)call UnitRemoveAbility(F2E,1093686098)call UnitRemoveAbility(F2E,1093687119)call UnitRemoveAbility(F2E,1093687122)call UnitRemoveAbility(F2E,1093747534)call UnitRemoveAbility(F2E,1093686856)call UnitRemoveAbility(F2E,1093686858)call UnitRemoveAbility(F2E,1093742649)call UnitRemoveAbility(F2E,1093686871)call UnitRemoveAbility(F2E,1093687373)call UnitRemoveAbility(F2E,1093742927)call UnitRemoveAbility(F2E,1093742930)call UnitRemoveAbility(F2E,1093743671)call UnitRemoveAbility(F2E,1093743672)call UnitRemoveAbility(F2E,1093742933)call UnitRemoveAbility(F2E,1093743673)call UnitRemoveAbility(F2E,1093743153)call UnitRemoveAbility(F2E,1093743158)call UnitRemoveAbility(F2E,1093744441)call UnitRemoveAbility(F2E,1097167980)call UnitRemoveAbility(F2E,n1[0])call UnitRemoveAbility(F2E,n1[1])call UnitRemoveAbility(F2E,n1[2])call UnitRemoveAbility(F2E,n1[3])call UnitRemoveAbility(F2E,n1[4])call UnitRemoveAbility(F2E,n1[5])call UnitRemoveAbility(F2E,1093748533)call UnitRemoveAbility(F2E,1093748531)call UnitRemoveAbility(F2E,1093748534)call UnitRemoveAbility(F2E,1093748532)call O7E(GetHandleId(F2E),"Grapple",false)call SetUnitPathing(F2E,true)call PauseUnit(F2E,false)call SetUnitFlyHeight(F2E,GetUnitDefaultFlyHeight(F2E),0)call SetUnitScale(F2E,G5E(F2E)*AN,G5E(F2E)*AN,G5E(F2E)*AN)call UnitRemoveAbility(F2E,1093747521)call UnitRemoveAbility(F2E,1093747513)call UnitRemoveAbility(F2E,1093747522)call UnitRemoveAbility(F2E,1093747523)call UnitRemoveAbility(F2E,1093748545)call UnitRemoveAbility(F2E,1093752627)call UnitRemoveAbility(F2E,1110459471)call UnitRemoveAbility(F2E,1093752136)call UnitRemoveAbility(F2E,1093752137)call UnitRemoveAbility(F2E,1093753396)call UnitRemoveAbility(F2E,1093753409)call UnitRemoveAbility(F2E,1093753410)call UnitRemoveAbility(F2E,1093753401)call UnitRemoveAbility(F2E,1110459478)call UnitRemoveAbility(F2E,1093809718)call UnitRemoveAbility(F2E,1093809717)call UnitRemoveAbility(F2E,1093809228)call UnitRemoveAbility(F2E,1110459716)call UnitRemoveAbility(F2E,1093808975)call UnitRemoveAbility(F2E,1110459705)call MPE(F2E,0)if GetUnitTypeId(F2E)==1160786510 or GetUnitTypeId(F2E)==1160786511 thencall UnitRemoveAbility(F2E,1093808951)call UnitAddAbility(F2E,1093808706)call UnitRemoveAbility(F2E,1093808706)if OAE(F2E,BU[RYV])!=null thencall UnitAddAbility(F2E,1093808951)endifendifcall UnitRemoveAbility(F2E,1093808966)set I9V=F2Ecall ExecuteFunc("Q0E")endfunctionfunction Q1E takes nothing returns booleanif GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),QZ,ALLIANCE_SHARED_CONTROL) and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false thenset MZ=MZ+1endifreturn falseendfunctionfunction Q2E takes unit u,player p,real x,real y,boolean Q3E returns nothinglocal group g=FYE()set MZ=0set QZ=pcall GroupEnumUnitsSelected(g,p,Condition(function Q1E))if MZ==0 and GetLocalPlayer()==p thenif Q3E==false thencall ClearSelection()call SelectUnit(u,true)endifcall PanCameraToTimed(x,y,0)endifset MZ=0call FWE(g)set g=nullendfunctionfunction Q4E takes unit S4 returns booleanreturn GetUnitTypeId(S4)==1211117641 or GetUnitTypeId(S4)==1211117642endfunctionfunction Q5E takes unit Q6E returns nothinglocal integer Q7Eif OAE(Q6E,BU[EIV])!=null and GetUnitTypeId(Q6E)!=1211117642 thenset Q7E=R2I(GetItemCharges(OAE(Q6E,BU[EIV]))*.67)if GetItemCharges(OAE(Q6E,BU[EIV]))==1 thenset Q7E=0endifcall SetItemCharges(OAE(Q6E,BU[EIV]),Q7E)call AddHeroXP(Q6E,GetHeroXP(DUV[GetPlayerId(GetOwningPlayer(Q6E))]),true)call RemoveUnit(DUV[GetPlayerId(GetOwningPlayer(Q6E))])endifendfunctionfunction Q8E takes unit u returns nothinglocal integer IAE=GetHandleId(GetOwningPlayer(u))local unit Q9E=RME(IAE,"Kobold0")local unit SVE=RME(IAE,"Kobold1")local unit SEE=RME(IAE,"Kobold2")local unit SXE=RME(IAE,"Kobold3")local unit SOE=RME(IAE,"Kobold4")local unit SREset SRE=Q9Eif SRE!=null thencall RemoveUnit(SRE)endifset SRE=SVEif SRE!=null thencall RemoveUnit(SRE)endifset SRE=SEEif SRE!=null thencall RemoveUnit(SRE)endifset SRE=SXEif SRE!=null thencall RemoveUnit(SRE)endifset SRE=SOEif SRE!=null thencall RemoveUnit(SRE)endifset SRE=nullset SOE=nullset SXE=nullset SEE=nullset SVE=nullset Q9E=nullendfunctionfunction SIE takes nothing returns booleancall IRE(GetTriggeringTrigger())set DYV=falsereturn falseendfunctionfunction SAE takes unit SNE returns nothinglocal integer IAE=GetHandleId(GetOwningPlayer(SNE))local unit Q9E=RME(IAE,"Kobold0")local unit SVE=RME(IAE,"Kobold1")local unit SEE=RME(IAE,"Kobold2")local unit SXE=RME(IAE,"Kobold3")local unit SOE=RME(IAE,"Kobold4")local unit SRElocal real x=GetUnitX(Q9E)local real y=GetUnitY(Q9E)local trigger tif DYV==false thenif B2E(GetOwningPlayer(Q9E))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifelseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function SIE))endifset SRE=Q9Eif SRE!=null and SNE!=SRE thencall ReviveHero(SRE,x,y,false)call SetUnitX(SRE,x)call SetUnitY(SRE,y)call Q_E(SRE)call SetUnitPathing(SRE,true)call SetUnitState(SRE,UNIT_STATE_MANA,$2710)endifset SRE=SVEif SRE!=null and SNE!=SRE thencall ReviveHero(SRE,x,y,false)call SetUnitX(SRE,x)call SetUnitY(SRE,y)call Q_E(SRE)call SetUnitPathing(SRE,true)call SetUnitState(SRE,UNIT_STATE_MANA,$2710)endifset SRE=SEEif SRE!=null and SNE!=SRE thencall ReviveHero(SRE,x,y,false)call SetUnitX(SRE,x)call SetUnitY(SRE,y)call Q_E(SRE)call SetUnitPathing(SRE,true)call SetUnitState(SRE,UNIT_STATE_MANA,$2710)endifset SRE=SXEif SRE!=null and SNE!=SRE thencall ReviveHero(SRE,x,y,false)call SetUnitX(SRE,x)call SetUnitY(SRE,y)call Q_E(SRE)call SetUnitPathing(SRE,true)call SetUnitState(SRE,UNIT_STATE_MANA,$2710)endifset SRE=SOEif SRE!=null and SNE!=SRE thencall ReviveHero(SRE,x,y,false)call SetUnitX(SRE,x)call SetUnitY(SRE,y)call Q_E(SRE)call SetUnitPathing(SRE,true)call SetUnitState(SRE,UNIT_STATE_MANA,$2710)endifset t=nullset SRE=nullset SXE=nullset SEE=nullset SVE=nullset Q9E=nullendfunctionfunction SBE takes unit FLE returns nothinglocal integer SCE=GetUnitPointValue(FLE)local unit SDEif(SCE==34)thencall ExecuteFunc("SFE")call ExecuteFunc("SGE")call ExecuteFunc("SHE")elseif(SCE==37)thencall ExecuteFunc("SJE")call ExecuteFunc("SKE")call ExecuteFunc("SLE")call ExecuteFunc("SME")elseif(SCE==38)thencall ExecuteFunc("SPE")call ExecuteFunc("SQE")call ExecuteFunc("SSE")call ExecuteFunc("STE")elseif(SCE==32)thencall ExecuteFunc("SUE")call ExecuteFunc("SWE")call ExecuteFunc("SYE")elseif(SCE==52)thencall ExecuteFunc("SZE")call ExecuteFunc("S_E")call ExecuteFunc("S0E")call ExecuteFunc("S1E")elseif(SCE==31)thencall ExecuteFunc("S2E")call ExecuteFunc("S3E")elseif(SCE==24)thencall ExecuteFunc("Op")call ExecuteFunc("Oq")call ExecuteFunc("S4E")call ExecuteFunc("S5E")elseif(SCE==5)thencall ExecuteFunc("S6E")call ExecuteFunc("S7E")elseif(SCE==8)thencall ExecuteFunc("S8E")call ExecuteFunc("S9E")call ExecuteFunc("OZ")call ExecuteFunc("TVE")call ExecuteFunc("O4")elseif(SCE==3)thencall ExecuteFunc("TEE")call ExecuteFunc("TXE")call ExecuteFunc("TOE")call ExecuteFunc("TRE")elseif(SCE==95)thencall ExecuteFunc("TIE")call ExecuteFunc("TAE")call ExecuteFunc("TNE")call ExecuteFunc("TBE")call ExecuteFunc("TCE")elseif(SCE==20)thencall ExecuteFunc("TDE")call ExecuteFunc("TFE")call ExecuteFunc("po")call ExecuteFunc("TGE")elseif(SCE==$C)thencall ExecuteFunc("THE")call ExecuteFunc("TJE")call ExecuteFunc("TKE")elseif(SCE==16)thencall ExecuteFunc("TLE")call ExecuteFunc("TME")call ExecuteFunc("TPE")call ExecuteFunc("TQE")call ExecuteFunc("TSE")elseif(SCE==25)thencall ExecuteFunc("TTE")call ExecuteFunc("pX")elseif(SCE==4)thencall ExecuteFunc("TUE")call ExecuteFunc("TWE")call ExecuteFunc("pZ")call ExecuteFunc("TYE")call ExecuteFunc("TZE")call ExecuteFunc("T_E")call SetUnitPathing(FLE,false)set DGV=trueset SDE=CreateUnit(GetOwningPlayer(FLE),GetUnitTypeId(FLE),GetUnitX(FLE),GetUnitY(FLE),GetUnitFacing(FLE))call O7E(GetHandleId(SDE),"EnteredAlready",true)set QV[GetPlayerId(GetOwningPlayer(FLE))]=SDEcall SetUnitPathing(SDE,false)call SetUnitPosition(SDE,GetUnitX(FLE),GetUnitY(FLE))if Q thencall SetHeroXP(SDE,GetHeroXP(FLE),false)call UnitAddItem(SDE,UnitItemInSlot(FLE,0))call UnitAddItem(SDE,UnitItemInSlot(FLE,1))call UnitAddItem(SDE,UnitItemInSlot(FLE,2))call UnitAddItem(SDE,UnitItemInSlot(FLE,3))call UnitAddItem(SDE,UnitItemInSlot(FLE,4))call UnitAddItem(SDE,UnitItemInSlot(FLE,5))endifcall HKE(FLE)call SetUnitPathing(SDE,true)call ClearSelectionForPlayer(GetOwningPlayer(SDE))call SelectUnitAddForPlayer(SDE,GetOwningPlayer(SDE))elseif(SCE==7)thencall ExecuteFunc("T0E")call ExecuteFunc("T1E")call ExecuteFunc("T2E")elseif(SCE==18)thencall ExecuteFunc("T3E")call ExecuteFunc("T4E")elseif(SCE==36)thencall ExecuteFunc("PN")elseif(SCE==21)thencall ExecuteFunc("Po")call ExecuteFunc("PO")call ExecuteFunc("T5E")call ExecuteFunc("T6E")elseif(SCE==$E)thencall ExecuteFunc("T7E")call ExecuteFunc("T8E")call ExecuteFunc("T9E")call ExecuteFunc("UVE")call ExecuteFunc("Pr")call ExecuteFunc("UEE")elseif(SCE==$D)thencall ExecuteFunc("UXE")call ExecuteFunc("UOE")call ExecuteFunc("GS")call ExecuteFunc("URE")elseif(SCE==26)thencall ExecuteFunc("UIE")call ExecuteFunc("Pv")call ExecuteFunc("PV")call ExecuteFunc("UAE")elseif(SCE==9)thencall ExecuteFunc("Pw")call ExecuteFunc("UNE")call ExecuteFunc("UBE")call ExecuteFunc("UCE")elseif(SCE==$A)thencall ExecuteFunc("UDE")call ExecuteFunc("UFE")call ExecuteFunc("UGE")call ExecuteFunc("UHE")call ExecuteFunc("UJE")call ExecuteFunc("qb")call ExecuteFunc("qB")call ExecuteFunc("qc")elseif(SCE==23)thencall ExecuteFunc("qC")call ExecuteFunc("qD")call ExecuteFunc("qe")call ExecuteFunc("qg")elseif(SCE==19)thencall ExecuteFunc("UKE")call ExecuteFunc("ULE")call ExecuteFunc("UME")elseif(SCE==22)thencall ExecuteFunc("UPE")call ExecuteFunc("UQE")call ExecuteFunc("USE")call ExecuteFunc("UTE")elseif(SCE==17)thencall ExecuteFunc("UUE")call ExecuteFunc("UWE")elseif(SCE==1)thencall ExecuteFunc("UYE")call ExecuteFunc("UZE")call ExecuteFunc("U_E")elseif(SCE==2)thencall ExecuteFunc("U0E")call ExecuteFunc("U1E")call ExecuteFunc("U2E")call ExecuteFunc("U3E")elseif(SCE==27)thencall ExecuteFunc("U4E")call ExecuteFunc("U5E")call ExecuteFunc("U6E")call ExecuteFunc("U7E")call ExecuteFunc("U8E")elseif(SCE==82)thencall ExecuteFunc("U9E")call ExecuteFunc("WVE")call ExecuteFunc("WEE")call ExecuteFunc("WXE")elseif(SCE==75)thencall ExecuteFunc("WOE")call ExecuteFunc("WRE")call ExecuteFunc("WIE")call ExecuteFunc("WAE")elseif(SCE==83)thencall ExecuteFunc("WNE")call ExecuteFunc("WBE")call ExecuteFunc("WCE")call ExecuteFunc("WDE")elseif(SCE==59)thencall ExecuteFunc("WFE")call ExecuteFunc("WGE")call ExecuteFunc("WHE")call ExecuteFunc("WJE")elseif(SCE==108)thencall ExecuteFunc("WKE")call ExecuteFunc("WLE")elseif(SCE==69)thencall ExecuteFunc("WME")call ExecuteFunc("WPE")call ExecuteFunc("WQE")call ExecuteFunc("WSE")call ExecuteFunc("WTE")elseif(SCE==100)thencall ExecuteFunc("WUE")call ExecuteFunc("WWE")call ExecuteFunc("WYE")elseif(SCE==102)thencall ExecuteFunc("WZE")elseif(SCE==64)thencall ExecuteFunc("W_E")call ExecuteFunc("W0E")call ExecuteFunc("W1E")elseif(SCE==106)thencall ExecuteFunc("W2E")call ExecuteFunc("W3E")call ExecuteFunc("W4E")elseif(SCE==61)thencall ExecuteFunc("W5E")call ExecuteFunc("W6E")call ExecuteFunc("W7E")elseif(SCE==76)thencall ExecuteFunc("W8E")call ExecuteFunc("W9E")call ExecuteFunc("YVE")call ExecuteFunc("YEE")elseif(SCE==80)thencall ExecuteFunc("YXE")call ExecuteFunc("YOE")call ExecuteFunc("YRE")call ExecuteFunc("Rm")call ExecuteFunc("RM")elseif(SCE==62)thencall ExecuteFunc("YIE")call ExecuteFunc("YAE")call ExecuteFunc("YNE")elseif(SCE==60)thencall ExecuteFunc("YBE")call ExecuteFunc("YCE")call ExecuteFunc("YDE")elseif(SCE==77)thencall ExecuteFunc("YFE")call ExecuteFunc("YGE")call ExecuteFunc("YHE")call ExecuteFunc("YJE")call ExecuteFunc("YKE")elseif(SCE==73)thencall ExecuteFunc("R4")elseif(SCE==81)thencall ExecuteFunc("YLE")call ExecuteFunc("YME")call ExecuteFunc("sa")call ExecuteFunc("sB")elseif(SCE==66)thencall ExecuteFunc("YPE")elseif(SCE==78)thencall ExecuteFunc("YQE")call ExecuteFunc("YSE")call ExecuteFunc("YTE")call ExecuteFunc("YUE")elseif(SCE==99)thencall ExecuteFunc("YWE")call ExecuteFunc("YYE")call ExecuteFunc("YZE")call ExecuteFunc("Y_E")call ExecuteFunc("Y0E")call ExecuteFunc("Y1E")elseif(SCE==74)thencall ExecuteFunc("Y2E")call ExecuteFunc("Y3E")call ExecuteFunc("Y4E")call ExecuteFunc("Y5E")elseif(SCE==105)thencall ExecuteFunc("Y6E")call ExecuteFunc("Y7E")elseif(SCE==70)thencall ExecuteFunc("Y8E")call ExecuteFunc("Y9E")call ExecuteFunc("ZVE")elseif(SCE==107)thencall ExecuteFunc("ZEE")call ExecuteFunc("ZXE")call ExecuteFunc("ZOE")call ExecuteFunc("ZRE")elseif(SCE==79)thencall ExecuteFunc("ZIE")call ExecuteFunc("ZAE")call ExecuteFunc("ZNE")call ExecuteFunc("ZBE")elseif(SCE==68)thencall ExecuteFunc("ZCE")call ExecuteFunc("ZDE")elseif(SCE==84)thencall ExecuteFunc("ZFE")call ExecuteFunc("ZGE")call ExecuteFunc("s7")call ExecuteFunc("ZHE")elseif(SCE==85)thencall ExecuteFunc("ZJE")call ExecuteFunc("ZKE")call ExecuteFunc("ZLE")call ExecuteFunc("ZME")call ExecuteFunc("ZPE")elseif(SCE==86)thencall ExecuteFunc("ZQE")call ExecuteFunc("ZSE")call ExecuteFunc("ZTE")call ExecuteFunc("ZUE")elseif(SCE==87)thencall ExecuteFunc("ZWE")call ExecuteFunc("ZYE")call ExecuteFunc("ZZE")call ExecuteFunc("Z_E")elseif(SCE==33)thencall ExecuteFunc("Z0E")call ExecuteFunc("Z1E")call ExecuteFunc("Z2E")elseif(SCE==39)thencall ExecuteFunc("Z3E")call ExecuteFunc("Z4E")call ExecuteFunc("Z5E")elseif(SCE==88)thencall ExecuteFunc("Z6E")call ExecuteFunc("Z7E")call ExecuteFunc("Z8E")call ExecuteFunc("Z9E")elseif(SCE==40)thencall ExecuteFunc("VVX")call ExecuteFunc("VEX")call ExecuteFunc("VXX")call ExecuteFunc("VOX")elseif SCE==89 thencall ExecuteFunc("VRX")call ExecuteFunc("VIX")elseif SCE==90 thencall ExecuteFunc("VAX")call ExecuteFunc("VNX")call ExecuteFunc("VBX")call ExecuteFunc("VCX")elseif SCE==71 thencall ExecuteFunc("VDX")call ExecuteFunc("VFX")call ExecuteFunc("VGX")call ExecuteFunc("VHX")elseif SCE==93 thencall ExecuteFunc("VJX")call ExecuteFunc("VKX")call ExecuteFunc("tU")call ExecuteFunc("VLX")elseif SCE==42 thencall ExecuteFunc("VMX")call ExecuteFunc("VPX")call ExecuteFunc("VQX")call ExecuteFunc("VSX")elseif SCE==91 thencall ExecuteFunc("VTX")call ExecuteFunc("VUX")call ExecuteFunc("VWX")call ExecuteFunc("VYX")call ExecuteFunc("VZX")call ExecuteFunc("V_X")elseif SCE==92 thencall ExecuteFunc("V0X")call ExecuteFunc("V1X")call ExecuteFunc("V2X")call ExecuteFunc("V3X")elseif SCE==41 thencall ExecuteFunc("V4X")call ExecuteFunc("V5X")call ExecuteFunc("V6X")call ExecuteFunc("V7X")call ExecuteFunc("V8X")elseif SCE==43 thencall ExecuteFunc("V9X")call ExecuteFunc("EVX")call ExecuteFunc("EEX")call ExecuteFunc("EXX")call ExecuteFunc("EOX")call ExecuteFunc("ERX")elseif SCE==44 thencall ExecuteFunc("EIX")call ExecuteFunc("uI")call ExecuteFunc("EAX")call ExecuteFunc("ENX")elseif SCE==72 thencall ExecuteFunc("EBX")call ExecuteFunc("ECX")call ExecuteFunc("EDX")call ExecuteFunc("EFX")elseif SCE==94 thencall ExecuteFunc("EGX")elseif SCE==6 thencall ExecuteFunc("EHX")call ExecuteFunc("EJX")call ExecuteFunc("EKX")elseif SCE==104 thencall ExecuteFunc("ELX")call ExecuteFunc("EMX")elseif SCE==65 thencall ExecuteFunc("EPX")call ExecuteFunc("EQX")call ExecuteFunc("ESX")call ExecuteFunc("ETX")elseif SCE==45 thencall ExecuteFunc("EUX")call ExecuteFunc("EWX")call ExecuteFunc("EYX")call ExecuteFunc("EZX")elseif SCE==58 thencall ExecuteFunc("E_X")call ExecuteFunc("E0X")call ExecuteFunc("E1X")elseif SCE==63 thencall ExecuteFunc("E2X")call ExecuteFunc("E3X")elseif SCE==46 thencall ExecuteFunc("E4X")call ExecuteFunc("E5X")call ExecuteFunc("E6X")call ExecuteFunc("E7X")elseif SCE==47 thencall ExecuteFunc("E8X")call ExecuteFunc("E9X")call ExecuteFunc("XVX")call ExecuteFunc("XEX")elseif SCE==$B thencall ExecuteFunc("XXX")call ExecuteFunc("XOX")elseif SCE==96 thencall ExecuteFunc("XRX")call ExecuteFunc("XIX")call ExecuteFunc("XAX")call ExecuteFunc("XNX")elseif SCE==$F thencall ExecuteFunc("XBX")call ExecuteFunc("XCX")call ExecuteFunc("XDX")call ExecuteFunc("XFX")elseif SCE==97 thencall ExecuteFunc("XGX")call ExecuteFunc("XHX")call ExecuteFunc("XJX")call ExecuteFunc("XKX")call ExecuteFunc("XLX")elseif SCE==98 thencall ExecuteFunc("XMX")call ExecuteFunc("XPX")call ExecuteFunc("XQX")call ExecuteFunc("XSX")call ExecuteFunc("XTX")elseif SCE==67 thencall ExecuteFunc("XUX")elseif SCE==28 thencall ExecuteFunc("XWX")elseif SCE==51 thencall ExecuteFunc("XYX")call ExecuteFunc("XZX")call ExecuteFunc("X_X")call ExecuteFunc("X0X")call ExecuteFunc("X1X")call ExecuteFunc("X2X")elseif SCE==100 thenelseif SCE==101 thencall ExecuteFunc("X3X")call ExecuteFunc("X4X")call ExecuteFunc("X5X")call ExecuteFunc("X6X")elseif SCE==48 thencall ExecuteFunc("X7X")call ExecuteFunc("X8X")call ExecuteFunc("X9X")call ExecuteFunc("OVX")elseif SCE==49 thencall ExecuteFunc("OEX")call ExecuteFunc("OXX")call ExecuteFunc("OOX")call ExecuteFunc("ORX")elseif SCE==29 thencall ExecuteFunc("OIX")call ExecuteFunc("OAX")call ExecuteFunc("ONX")call ExecuteFunc("OBX")elseif SCE==50 thencall ExecuteFunc("OCX")call ExecuteFunc("ODX")call ExecuteFunc("OFX")call ExecuteFunc("OGX")elseif SCE==30 thencall ExecuteFunc("OHX")call ExecuteFunc("OJX")elseif SCE==53 thencall ExecuteFunc("OKX")call ExecuteFunc("OLX")call ExecuteFunc("OMX")call ExecuteFunc("OPX")elseif SCE==103 thencall ExecuteFunc("OQX")elseif SCE==54 thencall ExecuteFunc("OSX")call ExecuteFunc("OTX")call ExecuteFunc("OUX")call ExecuteFunc("OWX")call ExecuteFunc("OYX")elseif SCE==55 thencall ExecuteFunc("OZX")call ExecuteFunc("O_X")call ExecuteFunc("O0X")call ExecuteFunc("O1X")elseif SCE==56 thencall ExecuteFunc("O2X")call ExecuteFunc("O3X")call ExecuteFunc("O4X")call ExecuteFunc("O5X")elseif SCE==57 thencall ExecuteFunc("O6X")call ExecuteFunc("O7X")call ExecuteFunc("O8X")call ExecuteFunc("O9X")endifcall HOE("RVX",false)set SDE=nullendfunctionfunction REX takes unit FLE returns nothinglocal integer SCE=GetUnitPointValue(FLE)if SCE==500 thencall ExecuteFunc("RXX")call ExecuteFunc("ROX")call ExecuteFunc("RRX")elseif SCE==600 thencall ExecuteFunc("RIX")call ExecuteFunc("RAX")call ExecuteFunc("RNX")call ExecuteFunc("RBX")call ExecuteFunc("RCX")endifendfunctionfunction RDX takes player RFX,string RGX returns nothingif IsPlayerInForce(GetLocalPlayer(),GetPlayersEnemies(RFX))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,BI,40,C[GetPlayerId(RFX)]+(BXV[GetPlayerId((RFX))])+"|r "+RGX)endifendfunctionfunction RHX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()set CCV=truecall IRE(t)call DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_MASKED,D5V,D6V,700,false,false))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_MASKED,D5V,D6V,700,false,false))set t=nullreturn falseendfunctionfunction RJX takes unit u returns booleanreturn GetUnitTypeId(u)!=1211117645 and GetUnitTypeId(u)!=1211119431 and GetUnitTypeId(u)!=1211117657 and GetUnitTypeId(u)!=1211117642 and GetUnitTypeId(u)!=1211122232endfunctionfunction RKX takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit())==false and R3E(GetHandleId(GetTriggerUnit()),"EnteredAlready")==false and RJX(GetTriggerUnit()))!=nullendfunctionfunction RLX takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1848651843endfunctionfunction RMX takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction RPX takes player j8 returns nothinglocal group P3E=FYE()local boolexpr hP=Condition(function RLX)call GroupEnumUnitsOfPlayer(P3E,j8,hP)call ForGroup(P3E,function RMX)call DestroyBoolExpr(hP)call FWE(P3E)set hP=nullset P3E=nullendfunctionfunction RQX takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1852010352endfunctionfunction RSX takes nothing returns nothingif CT thencall UnitRemoveAbility(N7V[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743686)call UnitRemoveAbility(N7V[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743685)call UnitRemoveAbility(N7V[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],1093743688)endifif GetUnitAbilityLevel(GetEnumUnit(),1093683508)==0 thencall UnitAddAbility(GetEnumUnit(),1093683508)endifendfunctionfunction RTX takes player p returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,p,Condition(function RQX))call ForGroup(g,function RSX)call FWE(g)set g=nullendfunctionfunction u6 takes player Ua returns playerlocal integer O5=1local integer Uc=0local boolean O6=falseloopif((Uc>0)and(OZE(O5,O6)!=null)and(IsPlayerInForce(OZE(O5,O6),GLV)))thenreturn OZE(O5,O6)endifif(RX[O5]==Ua)thenset O6=trueset Uc=O5elseif(GX[O5]==Ua)thenset Uc=O5endifset O5=O5+1exitwhen O5>5endloopreturn nullendfunctionfunction RUX takes unit FLE,player p returns stringlocal string s=(GetObjectName((1848656962)))set s=PLE(s,"$hero",GetUnitName(FLE))set s=PLE(s,"$p",(BXV[GetPlayerId((p))]))return sendfunctionfunction RWX takes unit RYX returns nothinglocal item RZX=UnitItemInSlot(RYX,0)local item R_X=UnitItemInSlot(RYX,1)local item R0X=UnitItemInSlot(RYX,2)local item R1X=UnitItemInSlot(RYX,3)local item R2X=UnitItemInSlot(RYX,4)local item R3X=UnitItemInSlot(RYX,5)local integer R4X=XHE(RZX)local integer R5X=XHE(R_X)local integer R6X=XHE(R0X)local integer R7X=XHE(R1X)local integer R8X=XHE(R2X)local integer R9X=XHE(R3X)local integer IVX=0call DisableTrigger(R3V)call UnitRemoveItem(RYX,RZX)call UnitRemoveItem(RYX,R_X)call UnitRemoveItem(RYX,R0X)call UnitRemoveItem(RYX,R1X)call UnitRemoveItem(RYX,R2X)call UnitRemoveItem(RYX,R3X)call RemoveItem(RZX)call RemoveItem(R_X)call RemoveItem(R0X)call RemoveItem(R1X)call RemoveItem(R2X)call RemoveItem(R3X)call EnableTrigger(R3V)if R4X>-1 thenset IVX=IVX+IEV[R4X]endifif R5X>-1 thenset IVX=IVX+IEV[R5X]endifif R6X>-1 thenset IVX=IVX+IEV[R6X]endifif R7X>-1 thenset IVX=IVX+IEV[R7X]endifif R8X>-1 thenset IVX=IVX+IEV[R8X]endifif R9X>-1 thenset IVX=IVX+IEV[R9X]endifcall SetPlayerState(GetOwningPlayer(RYX),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(RYX),PLAYER_STATE_RESOURCE_GOLD)+IVX)set dH[GetPlayerId(GetOwningPlayer(RYX))]=0set R3X=nullset R2X=nullset R1X=nullset R0X=nullset R_X=nullset RZX=nullendfunctionfunction IEX takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local player j8=GetOwningPlayer(FLE)local real xlocal real ylocal region r=CreateRegion()local player IXX=j8local item IOXlocal trigger tlocal player plocal string sif((GPV!=null)and(IsTriggerEnabled(GPV)))thenif((GetOwningPlayer(GetTriggerUnit())==GGV)and(GJV!=null))thencall SetUnitOwner(GetTriggerUnit(),GJV,true)call SetUnitOwner(h4[512+GetPlayerId(GGV)],GGV,false)call SetUnitOwner(h4[512+GetPlayerId(GJV)],GJV,false)if(not oo[GetPlayerId(GJV)])thencall AdjustPlayerStateBJ($FA,GGV,PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(-$FA,GJV,PLAYER_STATE_RESOURCE_GOLD)endifcall ExecuteFunc("UD")set GJV=u6(GJV)if(GJV!=null)thenif(not W)thencall SetUnitOwner(h4[512+GetPlayerId(GGV)],GJV,false)call SetUnitOwner(h4[512+GetPlayerId(GJV)],GGV,false)endifset s="Pick a hero for "+C[GetPlayerId(GJV)]+GetPlayerName(GJV)+"|r. Type "+"|c00dd8dff"+"-px|r to cancel."set p=GGVelsecall RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset s="End of Picking"set p=GGVif not W thencall C3E(GGV)endifendifelseif((GetOwningPlayer(GetTriggerUnit())==GHV)and(GKV!=null))thencall SetUnitOwner(GetTriggerUnit(),GKV,true)call SetUnitOwner(h4[512+GetPlayerId(GHV)],GHV,false)call SetUnitOwner(h4[512+GetPlayerId(GKV)],GKV,false)if(not oo[GetPlayerId(GKV)])thencall AdjustPlayerStateBJ($FA,GHV,PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(-$FA,GKV,PLAYER_STATE_RESOURCE_GOLD)endifcall ExecuteFunc("UD")set GKV=u6(GKV)if(GKV!=null)thenif(not W)thencall SetUnitOwner(h4[512+GetPlayerId(GHV)],GKV,false)call SetUnitOwner(h4[512+GetPlayerId(GKV)],GHV,false)endifset s="Pick a hero for "+C[GetPlayerId(GKV)]+GetPlayerName(GKV)+"|r. Type "+"|c00dd8dff"+"-px|r to cancel."set p=GHVelsecall RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset s="End of Picking"set p=GHVif not W thencall C3E(GHV)endifendifendifendifset j8=GetOwningPlayer(FLE)set IXX=j8if Q==false thencall M6E(GetOwningPlayer(FLE))endifif(GetObjectName((1848657992)))=="Language: English" and(BYV[(GetUnitPointValue(FLE))]!="")thencall DisplayTimedTextToPlayer(j8,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")endifif IT[GetPlayerId(j8)] thencall MTE(j8,GetUnitPointValue(FLE))endifif CCV==false and(QV[GetPlayerId(RX[1])]!=null and QV[GetPlayerId(RX[2])]!=null and QV[GetPlayerId(RX[3])]!=null and QV[GetPlayerId(RX[4])]!=null and QV[GetPlayerId(RX[5])]!=null and QV[GetPlayerId(GX[1])]!=null and QV[GetPlayerId(GX[2])]!=null and QV[GetPlayerId(GX[3])]!=null and QV[GetPlayerId(GX[4])]!=null and QV[GetPlayerId(GX[5])]!=null)thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,7.,false)call TriggerAddCondition(t,Condition(function RHX))set t=nullendifset I4V[GetPlayerId(GetOwningPlayer((FLE)))]=falsecall RegionAddRect(r,cE)if GI and ao==false thenset eo[GetPlayerId(j8)]=trueset j8=RQE(StringHash("Global|ReverseMode"),(BXV[GetPlayerId((j8))]))call SetUnitOwner(FLE,j8,true)if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not Q and not HFV thencall O8E(G2V,"AIHSwap|U",FLE)call ExecuteFunc("Uf")endifendifif B2E(GetOwningPlayer(FLE))thenif IsUnitInRegion(r,FLE)thenset x=GetRandomReal(GetRectMinX(BA),GetRectMaxX(BA))set y=GetRandomReal(GetRectMinY(BA),GetRectMaxY(BA))elseset x=GetUnitX(FLE)set y=GetUnitY(FLE)endifelseif IsUnitInRegion(r,FLE)thenset x=GetRandomReal(GetRectMinX(NA),GetRectMaxX(NA))set y=GetRandomReal(GetRectMinY(NA),GetRectMaxY(NA))elseset x=GetUnitX(FLE)set y=GetUnitY(FLE)endifendifset Tx[GetPlayerId(j8)]=trueif(not GI or ao)thenif D3V==false and tW==false thencall PanCameraToTimedForPlayer(j8,x,y,0)endifcall ClearSelectionForPlayer(j8)call SelectUnitAddForPlayer(FLE,j8)endifcall SetUnitX(FLE,x)call SetUnitY(FLE,y)set QV[GetPlayerId(j8)]=FLEcall PCE(j8,"9",GetUnitTypeId(FLE))if GI and ao==false thencall C0E(IXX)elsecall C0E(j8)endifcall O7E(GetHandleId(FLE),"EnteredAlready",true)if not IR and not HFV thenset v[GetUnitPointValue(FLE)]=truecall C_E(GetUnitTypeId(FLE))endifif Q thenif B2E(j8)thenset Oe[0]=Oe[0]+1elseset Oe[1]=Oe[1]+1endifendifif Q or HFV thenset Be[GetPlayerId(j8)]=Be[GetPlayerId(j8)]+1if Be[GetPlayerId(GetOwningPlayer(FLE))]>1 and FLE!=SE[GetPlayerId(GetOwningPlayer(FLE))]thencall Q5E(SE[GetPlayerId(GetOwningPlayer(FLE))])call SetHeroXP(FLE,GetHeroXP(SE[GetPlayerId(GetOwningPlayer(FLE))]),false)if GetPlayerController(GetOwningPlayer(FLE))==MAP_CONTROL_USER thencall DisableTrigger(R3V)call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],0))call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],1))call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],2))call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],3))call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],4))call UnitAddItem(FLE,UnitItemInSlot(SE[GetPlayerId(GetOwningPlayer(FLE))],5))call EnableTrigger(R3V)elsecall RWX(SE[GetPlayerId(GetOwningPlayer(FLE))])endifif Q4E(SE[GetPlayerId(GetOwningPlayer(FLE))])thencall Q8E(SE[GetPlayerId(GetOwningPlayer(FLE))])elsecall HKE(SE[GetPlayerId(GetOwningPlayer(FLE))])endifendifendifif GI thenif TimerGetElapsed(K)>60 thencall RDX(j8,(GetObjectName((1848652357)))+" "+GetUnitName(FLE))elseif AV[GetPlayerId(IXX)] thencall RDX(j8,RUX(FLE,IXX))elsecall SetPlayerState(IXX,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(IXX,PLAYER_STATE_RESOURCE_GOLD)+$FA)call RDX(j8,(GetObjectName((1848656945)))+" "+GetUnitName(FLE)+" "+(GetObjectName((1848656944)))+" "+(BXV[GetPlayerId((IXX))]))endifelseif IQV==false or j8==Le thenif(I[GetPlayerId(GetOwningPlayer(FLE))] and IQV==false)thencall RDX(j8,(GetObjectName((1848656949)))+" "+GetUnitName(FLE)+".")elseif((AV[GetPlayerId(j8)] and Q==false)or T or U or ZR or HFV)thencall RDX(j8,(GetObjectName((1848656947)))+" "+GetUnitName(FLE)+".")elsecall RDX(j8,(GetObjectName((1848656946)))+" "+GetUnitName(FLE)+".")endifendifif R2V thenif GI thencall RPX(IXX)elsecall RPX(j8)endifendifif(D3V or tW)and R2V thencall RPX(j8)endifcall RTX(j8)if(GetUnitTypeId(FLE)==1160785973)thencall DisplayTimedTextToPlayer(j8,0,BI,60.," ")call DisplayTimedTextToPlayer(j8,0,BI,60.,"|c00ff0303"+(GetObjectName((1848653384)))+(GetObjectName((1848656706)))+" "+(GetObjectName((1848653381)))+"|r")elseif GetUnitTypeId(FLE)==1328558154 or GetUnitTypeId(FLE)==1311781174 or GetUnitTypeId(FLE)==1430468913 or GetUnitTypeId(FLE)==1162032181 thencall DisplayTimedTextToPlayer(j8,0,BI,10.," ")call DisplayTimedTextToPlayer(j8,0,BI,10.,"|c00ff0303"+(GetObjectName((1848657715)))+"|r")endifif(GetUnitTypeId(FLE)==1160786242)thencall DisplayTimedTextToPlayer(j8,0,BI,30.," ")call DisplayTimedTextToPlayer(j8,0,BI,30.,"|c00ff0303"+(GetObjectName((1848653392)))+" "+(GetObjectName((1848653397)))+"|r")endifif(AV[GetPlayerId(j8)]==false)thenif(GR)thencall SetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD,$AF+GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))endifendifif R3E(StringHash("HeroInit:"+I2S(GetUnitPointValue(FLE))),"Initialized")==false thencall O7E(StringHash("HeroInit:"+I2S(GetUnitPointValue(FLE))),"Initialized",true)call SBE(FLE)call REX(FLE)endifset I9V=FLEcall ExecuteFunc("IRX")if ib[GetPlayerId(GetLocalPlayer())]==false thenif B6E(j8)thencall SetPlayerName(j8,BXV[GetPlayerId((j8))])elsecall SetPlayerName(j8,(BXV[GetPlayerId((j8))])+" ("+FBE(QV[GetPlayerId(j8)])+")")endifendifcall DisplayTimedTextToPlayer(p,0,0,10.,s)set p=nullcall RemoveRegion(r)set FLE=nullset IOX=nullendfunctionfunction IIX takes nothing returns booleanreturn(IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction IAX takes nothing returns nothingif((GPV!=null)and(IsTriggerEnabled(GPV)))thenif((GetOwningPlayer(GetSoldUnit())==GGV)and(GJV!=null))thenreturnelseif((GetOwningPlayer(GetSoldUnit())==GHV)and(GKV!=null))thenreturnendifendifcall C0E(GetOwningPlayer(GetSoldUnit()))endfunctionfunction INX takes nothing returns booleanlocal integer IBXlocal integer O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifset IBX=0if(IsPlayerInForce(Player(O5),GLV))thenset WVV[O5]=WVV[O5]+(I2R(QRV[48+O5])/8)set IBX=R2I(WVV[O5])if IBX<0 thenset IBX=0endifset WVV[O5]=WVV[O5]-I2R(IBX)endifif(BV)thenset IBX=IBX+2elseset IBX=IBX+1endifcall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+IBX)set O5=O5+1endloopreturn falseendfunctionfunction ICX takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and(LoadInteger(CKV,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()))))>0 thencall TimerStart(CLV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],(LoadInteger(CKV,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))),false,null)endifif GetSpellAbilityId()==1093677655 thencall TimerStart(CLV[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))],0,false,null)endifreturn falseendfunctionfunction IDX takes nothing returns nothinglocal trigger t=CreateTrigger()local integer icall JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ICX))set i=0loopexitwhen(i>$D)set CLV[i]=CreateTimer()set i=i+1endloopset CKV=InitHashtable()call SaveInteger(CKV,1093742923,1,90)call SaveInteger(CKV,1093742923,2,80)call SaveInteger(CKV,1093742923,3,70)call SaveInteger(CKV,1093685042,1,80)call SaveInteger(CKV,1093685042,2,75)call SaveInteger(CKV,1093685042,3,70)call SaveInteger(CKV,1093810233,1,45)call SaveInteger(CKV,1093810233,2,45)call SaveInteger(CKV,1093810233,3,45)call SaveInteger(CKV,1093682248,1,$96)call SaveInteger(CKV,1093682248,2,$82)call SaveInteger(CKV,1093682248,3,110)call SaveInteger(CKV,1093750594,1,$96)call SaveInteger(CKV,1093750594,2,$82)call SaveInteger(CKV,1093750594,3,110)call SaveInteger(CKV,1093682514,1,$96)call SaveInteger(CKV,1093682514,2,$96)call SaveInteger(CKV,1093682514,3,$96)call SaveInteger(CKV,1093684561,1,$B4)call SaveInteger(CKV,1093684561,2,$A0)call SaveInteger(CKV,1093684561,3,$8C)call SaveInteger(CKV,1093747254,1,$A0)call SaveInteger(CKV,1093747254,2,$8C)call SaveInteger(CKV,1093747254,3,120)call SaveInteger(CKV,1093752648,1,80)call SaveInteger(CKV,1093752648,2,80)call SaveInteger(CKV,1093752648,3,80)call SaveInteger(CKV,1093746993,1,100)call SaveInteger(CKV,1093746993,2,100)call SaveInteger(CKV,1093746993,3,100)call SaveInteger(CKV,1093678938,1,115)call SaveInteger(CKV,1093678938,2,105)call SaveInteger(CKV,1093678938,3,95)call SaveInteger(CKV,1095656306,1,45)call SaveInteger(CKV,1095656306,2,45)call SaveInteger(CKV,1095656306,3,45)call SaveInteger(CKV,1093687864,1,80)call SaveInteger(CKV,1093687864,2,60)call SaveInteger(CKV,1093687864,3,40)call SaveInteger(CKV,1093747542,1,20)call SaveInteger(CKV,1093747542,2,20)call SaveInteger(CKV,1093747542,3,20)call SaveInteger(CKV,1093677895,1,115)call SaveInteger(CKV,1093677895,2,115)call SaveInteger(CKV,1093677895,3,115)call SaveInteger(CKV,1093810508,1,120)call SaveInteger(CKV,1093810508,2,110)call SaveInteger(CKV,1093810508,3,100)call SaveInteger(CKV,1093685586,1,45)call SaveInteger(CKV,1093685586,2,30)call SaveInteger(CKV,1093685586,3,$F)call SaveInteger(CKV,1093747251,1,24)call SaveInteger(CKV,1093747251,2,16)call SaveInteger(CKV,1093747251,3,8)call SaveInteger(CKV,1093678674,1,$8C)call SaveInteger(CKV,1093678674,2,120)call SaveInteger(CKV,1093678674,3,100)call SaveInteger(CKV,1093747252,1,120)call SaveInteger(CKV,1093747252,2,100)call SaveInteger(CKV,1093747252,3,80)call SaveInteger(CKV,1093682996,1,75)call SaveInteger(CKV,1093682996,2,75)call SaveInteger(CKV,1093682996,3,75)call SaveInteger(CKV,1093747768,1,20)call SaveInteger(CKV,1093747768,2,20)call SaveInteger(CKV,1093747768,3,20)call SaveInteger(CKV,1093810505,1,$96)call SaveInteger(CKV,1093810505,2,$96)call SaveInteger(CKV,1093810505,3,$96)call SaveInteger(CKV,1093682482,1,75)call SaveInteger(CKV,1093682482,2,65)call SaveInteger(CKV,1093682482,3,55)call SaveInteger(CKV,1093750098,1,6)call SaveInteger(CKV,1093750098,2,6)call SaveInteger(CKV,1093750098,3,6)call SaveInteger(CKV,1093677903,1,$8C)call SaveInteger(CKV,1093677903,2,$8C)call SaveInteger(CKV,1093677903,3,$8C)call SaveInteger(CKV,1093684565,1,110)call SaveInteger(CKV,1093684565,2,110)call SaveInteger(CKV,1093684565,3,110)call SaveInteger(CKV,1093681458,1,110)call SaveInteger(CKV,1093681458,2,110)call SaveInteger(CKV,1093681458,3,110)call SaveInteger(CKV,1093686103,1,100)call SaveInteger(CKV,1093686103,2,100)call SaveInteger(CKV,1093686103,3,100)call SaveInteger(CKV,1093679411,1,100)call SaveInteger(CKV,1093679411,2,70)call SaveInteger(CKV,1093679411,3,40)call SaveInteger(CKV,1093677899,1,$B4)call SaveInteger(CKV,1093677899,2,$96)call SaveInteger(CKV,1093677899,3,120)call SaveInteger(CKV,1093747248,1,$B4)call SaveInteger(CKV,1093747248,2,$96)call SaveInteger(CKV,1093747248,3,120)call SaveInteger(CKV,1093685808,1,$82)call SaveInteger(CKV,1093685808,2,$82)call SaveInteger(CKV,1093685808,3,$82)call SaveInteger(CKV,1093682764,1,30)call SaveInteger(CKV,1093682764,2,30)call SaveInteger(CKV,1093682764,3,30)call SaveInteger(CKV,1093747544,1,30)call SaveInteger(CKV,1093747544,2,30)call SaveInteger(CKV,1093747544,3,30)call SaveInteger(CKV,1093677876,1,$A)call SaveInteger(CKV,1093677876,2,$A)call SaveInteger(CKV,1093677876,3,$A)call SaveInteger(CKV,1093743946,1,75)call SaveInteger(CKV,1093743946,2,75)call SaveInteger(CKV,1093743946,3,75)call SaveInteger(CKV,1093682483,1,70)call SaveInteger(CKV,1093682483,2,70)call SaveInteger(CKV,1093682483,3,70)call SaveInteger(CKV,1093678160,1,20)call SaveInteger(CKV,1093678160,2,$F)call SaveInteger(CKV,1093678160,3,$A)call SaveInteger(CKV,1093684529,1,$82)call SaveInteger(CKV,1093684529,2,120)call SaveInteger(CKV,1093684529,3,110)call SaveInteger(CKV,1093747032,1,110)call SaveInteger(CKV,1093747032,2,100)call SaveInteger(CKV,1093747032,3,90)call SaveInteger(CKV,1093678388,1,$A0)call SaveInteger(CKV,1093678388,2,$96)call SaveInteger(CKV,1093678388,3,$8C)call SaveInteger(CKV,1093677141,1,$A0)call SaveInteger(CKV,1093677141,2,$96)call SaveInteger(CKV,1093677141,3,$8C)call SaveInteger(CKV,1093683000,1,80)call SaveInteger(CKV,1093683000,2,80)call SaveInteger(CKV,1093683000,3,80)call SaveInteger(CKV,1093678933,1,$B4)call SaveInteger(CKV,1093678933,2,120)call SaveInteger(CKV,1093678933,3,60)call SaveInteger(CKV,1093684053,1,$A0)call SaveInteger(CKV,1093684053,2,$8C)call SaveInteger(CKV,1093684053,3,120)call SaveInteger(CKV,1093748042,1,20)call SaveInteger(CKV,1093748042,2,20)call SaveInteger(CKV,1093748042,3,20)call SaveInteger(CKV,1093681716,1,$A)call SaveInteger(CKV,1093681716,2,7)call SaveInteger(CKV,1093681716,3,5)call SaveInteger(CKV,1093683534,1,25)call SaveInteger(CKV,1093683534,2,25)call SaveInteger(CKV,1093683534,3,25)call SaveInteger(CKV,1093683761,1,120)call SaveInteger(CKV,1093683761,2,110)call SaveInteger(CKV,1093683761,3,100)call SaveInteger(CKV,1093747767,1,60)call SaveInteger(CKV,1093747767,2,60)call SaveInteger(CKV,1093747767,3,60)call SaveInteger(CKV,1093750089,1,45)call SaveInteger(CKV,1093750089,2,45)call SaveInteger(CKV,1093750089,3,45)call SaveInteger(CKV,1093747023,1,80)call SaveInteger(CKV,1093747023,2,70)call SaveInteger(CKV,1093747023,3,60)call SaveInteger(CKV,1093752150,1,80)call SaveInteger(CKV,1093752150,2,70)call SaveInteger(CKV,1093752150,3,60)call SaveInteger(CKV,1093750341,1,$B4)call SaveInteger(CKV,1093750341,2,$A0)call SaveInteger(CKV,1093750341,3,$8C)call SaveInteger(CKV,(1093814599),(1),($B4))call SaveInteger(CKV,(1093814599),(2),($A0))call SaveInteger(CKV,(1093814599),(3),($8C))call SaveInteger(CKV,(1093747028),(1),($8C))call SaveInteger(CKV,(1093747028),(2),(110))call SaveInteger(CKV,(1093747028),(3),(80))call SaveInteger(CKV,1093685840,1,$B)call SaveInteger(CKV,1093685840,2,9)call SaveInteger(CKV,1093685840,3,7)call SaveInteger(CKV,1093684291,1,25)call SaveInteger(CKV,1093684291,2,25)call SaveInteger(CKV,1093684291,3,25)call SaveInteger(CKV,1093683534,1,45)call SaveInteger(CKV,1093683534,2,45)call SaveInteger(CKV,1093683534,3,45)call SaveInteger(CKV,1093747031,1,$A)call SaveInteger(CKV,1093747031,2,$A)call SaveInteger(CKV,1093747031,3,$A)call SaveInteger(CKV,1093684296,1,70)call SaveInteger(CKV,1093684296,2,60)call SaveInteger(CKV,1093684296,3,50)call SaveInteger(CKV,1093678161,1,45)call SaveInteger(CKV,1093678161,2,45)call SaveInteger(CKV,1093678161,3,45)call SaveInteger(CKV,1093687121,1,45)call SaveInteger(CKV,1093687121,2,45)call SaveInteger(CKV,1093687121,3,45)call SaveInteger(CKV,1093679445,1,70)call SaveInteger(CKV,1093679445,2,60)call SaveInteger(CKV,1093679445,3,50)call SaveInteger(CKV,1093682004,1,60)call SaveInteger(CKV,1093682004,2,50)call SaveInteger(CKV,1093682004,3,40)call SaveInteger(CKV,1093810506,1,120)call SaveInteger(CKV,1093810506,2,110)call SaveInteger(CKV,1093810506,3,100)call SaveInteger(CKV,1093678929,1,$A0)call SaveInteger(CKV,1093678929,2,110)call SaveInteger(CKV,1093678929,3,60)call SaveInteger(CKV,1093683257,1,120)call SaveInteger(CKV,1093683257,2,120)call SaveInteger(CKV,1093683257,3,120)call SaveInteger(CKV,1093677363,1,$8C)call SaveInteger(CKV,1093677363,2,120)call SaveInteger(CKV,1093677363,3,100)call SaveInteger(CKV,1093681462,1,$8C)call SaveInteger(CKV,1093681462,2,120)call SaveInteger(CKV,1093681462,3,60)call SaveInteger(CKV,1093679152,1,80)call SaveInteger(CKV,1093679152,2,50)call SaveInteger(CKV,1093679152,3,30)call SaveInteger(CKV,1093752154,1,$C)call SaveInteger(CKV,1093752154,2,$C)call SaveInteger(CKV,1093752154,3,$C)call SaveInteger(CKV,1093677906,1,$96)call SaveInteger(CKV,1093677906,2,120)call SaveInteger(CKV,1093677906,3,90)call SaveInteger(CKV,1093681494,1,$96)call SaveInteger(CKV,1093681494,2,120)call SaveInteger(CKV,1093681494,3,90)call SaveInteger(CKV,1093686072,1,85)call SaveInteger(CKV,1093686072,2,85)call SaveInteger(CKV,1093686072,3,85)call SaveInteger(CKV,1093751120,1,85)call SaveInteger(CKV,1093751120,2,85)call SaveInteger(CKV,1093751120,3,85)call SaveInteger(CKV,1093684308,1,120)call SaveInteger(CKV,1093684308,2,120)call SaveInteger(CKV,1093684308,3,120)call SaveInteger(CKV,1093747539,1,30)call SaveInteger(CKV,1093747539,2,30)call SaveInteger(CKV,1093747539,3,30)call SaveInteger(CKV,1093742932,1,80)call SaveInteger(CKV,1093742932,2,70)call SaveInteger(CKV,1093742932,3,60)call SaveInteger(CKV,1093752632,1,90)call SaveInteger(CKV,1093752632,2,75)call SaveInteger(CKV,1093752632,3,60)call SaveInteger(CKV,1093752633,1,90)call SaveInteger(CKV,1093752633,2,75)call SaveInteger(CKV,1093752633,3,60)call SaveInteger(CKV,1093810503,1,120)call SaveInteger(CKV,1093810503,2,120)call SaveInteger(CKV,1093810503,3,120)call SaveInteger(CKV,1093810504,1,120)call SaveInteger(CKV,1093810504,2,120)call SaveInteger(CKV,1093810504,3,120)call SaveInteger(CKV,1093684275,1,$A0)call SaveInteger(CKV,1093684275,2,$A0)call SaveInteger(CKV,1093684275,3,$A0)call SaveInteger(CKV,1093677392,1,120)call SaveInteger(CKV,1093677392,2,90)call SaveInteger(CKV,1093677392,3,55)call SaveInteger(CKV,1093679450,1,120)call SaveInteger(CKV,1093679450,2,90)call SaveInteger(CKV,1093679450,3,55)call SaveInteger(CKV,1093743184,1,60)call SaveInteger(CKV,1093743184,2,60)call SaveInteger(CKV,1093743184,3,60)call SaveInteger(CKV,1093747766,1,$F)call SaveInteger(CKV,1093747766,2,$F)call SaveInteger(CKV,1093747766,3,$F)call SaveInteger(CKV,1093744975,1,90)call SaveInteger(CKV,1093744975,2,70)call SaveInteger(CKV,1093744975,3,50)call SaveInteger(CKV,1093681483,1,$A)call SaveInteger(CKV,1093681483,2,$A)call SaveInteger(CKV,1093681483,3,$A)call SaveInteger(CKV,1093748313,1,$A)call SaveInteger(CKV,1093748313,2,$A)call SaveInteger(CKV,1093748313,3,$A)call SaveInteger(CKV,1093808473,1,22)call SaveInteger(CKV,1093808473,2,17)call SaveInteger(CKV,1093808473,3,$C)call SaveInteger(CKV,1093808473,4,5)call SaveInteger(CKV,1093748565,1,16)call SaveInteger(CKV,1093748565,2,8)call SaveInteger(CKV,1093748565,3,4)call SaveInteger(CKV,1093748565,4,2)call SaveInteger(CKV,1093678923,1,6)call SaveInteger(CKV,1093678923,2,6)call SaveInteger(CKV,1093678923,3,6)call SaveInteger(CKV,1093742673,1,40)call SaveInteger(CKV,1093742673,2,40)call SaveInteger(CKV,1093742673,3,40)call SaveInteger(CKV,1093747778,1,40)call SaveInteger(CKV,1093747778,2,40)call SaveInteger(CKV,1093747778,3,40)call SaveInteger(CKV,1093677128,1,110)call SaveInteger(CKV,1093677128,2,110)call SaveInteger(CKV,1093677128,3,110)call SaveInteger(CKV,1093681457,1,110)call SaveInteger(CKV,1093681457,2,110)call SaveInteger(CKV,1093681457,3,110)call SaveInteger(CKV,1093685045,1,60)call SaveInteger(CKV,1093685045,2,60)call SaveInteger(CKV,1093685045,3,60)call SaveInteger(CKV,1093747249,1,60)call SaveInteger(CKV,1093747249,2,60)call SaveInteger(CKV,1093747249,3,60)call SaveInteger(CKV,1093684820,1,90)call SaveInteger(CKV,1093684820,2,90)call SaveInteger(CKV,1093684820,3,90)call SaveInteger(CKV,1093684824,1,90)call SaveInteger(CKV,1093684824,2,90)call SaveInteger(CKV,1093684824,3,90)call SaveInteger(CKV,1093677649,1,100)call SaveInteger(CKV,1093677649,2,100)call SaveInteger(CKV,1093677649,3,100)call SaveInteger(CKV,1093747769,1,100)call SaveInteger(CKV,1093747769,2,100)call SaveInteger(CKV,1093747769,3,100)call SaveInteger(CKV,1093685579,1,100)call SaveInteger(CKV,1093685579,2,100)call SaveInteger(CKV,1093685579,3,100)call SaveInteger(CKV,1093678899,1,100)call SaveInteger(CKV,1093678899,2,100)call SaveInteger(CKV,1093678899,3,100)call SaveInteger(CKV,1093677898,1,100)call SaveInteger(CKV,1093677898,2,100)call SaveInteger(CKV,1093677898,3,100)call SaveInteger(CKV,1093678154,1,100)call SaveInteger(CKV,1093678154,2,100)call SaveInteger(CKV,1093678154,3,100)call SaveInteger(CKV,1093678157,1,100)call SaveInteger(CKV,1093678157,2,100)call SaveInteger(CKV,1093678157,3,100)call SaveInteger(CKV,1093678158,1,100)call SaveInteger(CKV,1093678158,2,100)call SaveInteger(CKV,1093678158,3,100)call SaveInteger(CKV,1093679413,1,$96)call SaveInteger(CKV,1093679413,2,90)call SaveInteger(CKV,1093679413,3,55)call SaveInteger(CKV,1093679447,1,$96)call SaveInteger(CKV,1093679447,2,90)call SaveInteger(CKV,1093679447,3,50)call SaveInteger(CKV,1093747288,1,$C8)call SaveInteger(CKV,1093747288,2,$BE)call SaveInteger(CKV,1093747288,3,$B4)call SaveInteger(CKV,1093678420,1,$91)call SaveInteger(CKV,1093678420,2,115)call SaveInteger(CKV,1093678420,3,60)call SaveInteger(CKV,1093679176,1,$91)call SaveInteger(CKV,1093679176,2,115)call SaveInteger(CKV,1093679176,3,60)call SaveInteger(CKV,1093678647,1,100)call SaveInteger(CKV,1093678647,2,85)call SaveInteger(CKV,1093678647,3,70)call SaveInteger(CKV,1093679184,1,70)call SaveInteger(CKV,1093679184,2,70)call SaveInteger(CKV,1093679184,3,70)call SaveInteger(CKV,1093681987,1,22)call SaveInteger(CKV,1093681987,2,22)call SaveInteger(CKV,1093681987,3,22)call SaveInteger(CKV,1093685067,1,$A0)call SaveInteger(CKV,1093685067,2,$A0)call SaveInteger(CKV,1093685067,3,$A0)call SaveInteger(CKV,1093752407,1,$A0)call SaveInteger(CKV,1093752407,2,$A0)call SaveInteger(CKV,1093752407,3,$A0)call SaveInteger(CKV,1093810258,1,$87)call SaveInteger(CKV,1093810258,2,$87)call SaveInteger(CKV,1093810258,3,$87)call SaveInteger(CKV,1093810259,1,100)call SaveInteger(CKV,1093810259,2,70)call SaveInteger(CKV,1093810259,3,40)call SaveInteger(CKV,1395667000,1,$A5)call SaveInteger(CKV,1395667000,2,$A5)call SaveInteger(CKV,1395667000,3,$A5)call SaveInteger(CKV,(1395667029),(1),($A5))call SaveInteger(CKV,(1395667029),(2),($A5))call SaveInteger(CKV,(1395667029),(3),($A5))call SaveInteger(CKV,(1093751874),(1),(90))call SaveInteger(CKV,(1093751874),(2),(75))call SaveInteger(CKV,(1093751874),(3),(60))call SaveInteger(CKV,(1093752118),(1),(85))call SaveInteger(CKV,(1093752118),(2),(85))call SaveInteger(CKV,(1093752118),(3),(85))call SaveInteger(CKV,(1093751861),(1),(55))call SaveInteger(CKV,(1093751861),(2),(50))call SaveInteger(CKV,(1093751861),(3),(45))call SaveInteger(CKV,(1093808949),(1),(55))call SaveInteger(CKV,(1093808949),(2),(50))call SaveInteger(CKV,(1093808949),(3),(45))call SaveInteger(CKV,(1093751617),(1),(50))call SaveInteger(CKV,(1093751617),(2),(50))call SaveInteger(CKV,(1093751617),(3),(50))call SaveInteger(CKV,(1093751371),(1),(110))call SaveInteger(CKV,(1093751371),(2),(110))call SaveInteger(CKV,(1093751371),(3),(110))call SaveInteger(CKV,(1093753169),(1),(30))call SaveInteger(CKV,(1093753169),(2),(24))call SaveInteger(CKV,(1093753169),(3),(18))call SaveInteger(CKV,(1093809992),(1),(20))call SaveInteger(CKV,(1093809992),(2),(18))call SaveInteger(CKV,(1093809992),(3),(16))call SaveInteger(CKV,(1093812807),(1),(60))call SaveInteger(CKV,(1093812807),(2),(40))call SaveInteger(CKV,(1093812807),(3),(20))call SaveInteger(CKV,(1093813065),(1),(50))call SaveInteger(CKV,(1093813065),(2),(50))call SaveInteger(CKV,(1093813065),(3),(50))call SaveInteger(CKV,(1093813557),(1),(8))call SaveInteger(CKV,(1093813557),(2),(8))call SaveInteger(CKV,(1093813557),(3),(8))set t=nullendfunctionfunction IFX takes nothing returns booleanlocal player plocal integer ilocal integer idlocal integer IGXset i=1loopexitwhen i>5set p=RX[i]set id=GetPlayerId(p)set IGX=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)if IGX<LDV[id]thenset LDV[id]=IGXendifset p=GX[i]set id=GetPlayerId(p)set IGX=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)if IGX<LDV[id]thenset LDV[id]=IGXendifset i=i+1endloopreturn falseendfunctionfunction IHX takes nothing returns nothingendfunctionfunction IJX takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())if GetOwningPlayer(GetTriggerUnit())==SX thenset ZT[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=ZT[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseif(id==1969711215)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1970169187)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1702061422)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1701081721)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1966092337)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1966092338)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1697656918)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1697656919)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1700946284)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1697657398)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1970107511)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id==1966092370)thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=KE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=RE[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifendifcall IHX()endfunctionfunction IKX takes integer i returns nothinglocal integer x=1local integer y=1set C_V[i]=nullset C0V[i]=0set C1V[i]=falseloopexitwhen y>C2Vif C0V[y]!=0 thenset qu[x]=C_V[y]set Qu[x]=C0V[y]set Su[x]=C1V[y]set C_V[y]=nullset C0V[y]=0set C1V[y]=falseset x=x+1endifset y=y+1endloopset C2V=x-1set x=1loopexitwhen x>C2Vset C_V[x]=qu[x]set C0V[x]=Qu[x]set C1V[x]=Su[x]set x=x+1endloopendfunctionfunction ILX takes nothing returns nothinglocal integer T8local integer U8local integer IMXlocal integer IPXlocal integer ilocal player pset xY=xY+1set IMV=0set IPV=0set i=0loopexitwhen i>5set p=RX[i]if M8(p)thenset IMV=IMV+1endifset p=GX[i]if M8(p)thenset IPV=IPV+1endifset i=i+1endloopif a2==false thenset ae=IMVset ne=IPVendifset T8=1set U8=5set IMX=1loopexitwhen T8>U8set p=RX[T8]if M8(p)thenset TV[IMX]=pset IMX=IMX+1endifset T8=T8+1endloopset T8=1set U8=5set IMX=1loopexitwhen T8>U8set p=GX[T8]if M8(p)thenset UV[IMX]=pset IMX=IMX+1endifset T8=T8+1endloopif xY==1 thenset XV=CreateMultiboardBJ(7+6+2,3+IPV+IMV," ")call MultiboardMinimize(XV,true)endifcall l6(XV,2,1,"CD")call l6(XV,3,1,"|c00838B8BL|r")call l6(XV,4,1,Dj+"K|r")call l6(XV,5,1,gj+"D|r")call l6(XV,6,1,Gj+"A|r")call l6(XV,1,2,GetObjectName(1848656971))call l6(XV,4,2,Dj+"0|r")call l6(XV,5,2,gj+"0|r")call l6(XV,1,3+IMV,GetObjectName(1848656975))call l6(XV,4,3+IMV,Dj+"0|r")call l6(XV,5,3+IMV,gj+"0|r")call U6(XV,1,2,(DXE(SubString(C[GetPlayerId((RX[0]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((RX[0]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((RX[0]))],8,$A)))/ 255.*100,0)call U6(XV,1,3+IMV,(DXE(SubString(C[GetPlayerId((GX[0]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((GX[0]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((GX[0]))],8,$A)))/ 255.*100,0)set T8=1set U8=3+IPV+IMVloopexitwhen T8>U8call x7(XV,1,T8,10.8)call x7(XV,2,T8,2)call x7(XV,3,T8,2)call x7(XV,4,T8,1.3)call x7(XV,5,T8,1.3)call x7(XV,6,T8,1.3)call x7(XV,7,T8,2.5)call x7(XV,8,T8,.01)call x7(XV,9,T8,.01)call x7(XV,$A,T8,.01)call x7(XV,$B,T8,.01)call x7(XV,$C,T8,.01)call x7(XV,$D,T8,.01)call x7(XV,$E,T8,.01)call x7(XV,$F,T8,.01)set T8=T8+1endloopset T8=1set U8=7+6+2loopexitwhen T8>U8set IMX=1set IPX=3+IPV+IMVloopexitwhen IMX>IPXcall s6(XV,T8,IMX,true,false)set IMX=IMX+1endloopset T8=T8+1endloopset T8=1set U8=IMVloopexitwhen T8>U8call s6(XV,1,T8+2,true,true)call U6(XV,7,T8+2,$FF,$CC,0,0)set CMV[GetPlayerId(TV[T8])]=1-1set CPV[GetPlayerId(TV[T8])]=T8+2-1call l6(XV,1,T8+2,(BXV[GetPlayerId((TV[T8]))]))if B7E(TV[T8])thencall U6(XV,1,T8+2,(DXE(SubString(C[GetPlayerId((TV[T8]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((TV[T8]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((TV[T8]))],8,$A)))/ 255.*100,0)call U6(XV,2,T8+2,(DXE(SubString(C[GetPlayerId((TV[T8]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((TV[T8]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((TV[T8]))],8,$A)))/ 255.*100,0)elsecall l6(XV,1,T8+2,"|c00333333"+(BXV[GetPlayerId((TV[T8]))])+"|r")endifcall l6(XV,4,(T8+2),Dj+"0|r")call l6(XV,5,(T8+2),gj+"0|r")call l6(XV,6,(T8+2),Gj+"0|r")set T8=T8+1endloopset T8=1set U8=IPVloopexitwhen T8>U8call s6(XV,1,T8+3+IMV,true,true)call U6(XV,7,T8+3+IMV,$FF,$CC,0,0)set CMV[GetPlayerId(UV[T8])]=1-1set CPV[GetPlayerId(UV[T8])]=T8+3+IMV-1call l6(XV,1,T8+3+IMV,(BXV[GetPlayerId((UV[T8]))]))if B7E(UV[T8])thencall U6(XV,1,T8+3+IMV,(DXE(SubString(C[GetPlayerId((UV[T8]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((UV[T8]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((UV[T8]))],8,$A)))/ 255.*100,0)call U6(XV,2,T8+3+IMV,(DXE(SubString(C[GetPlayerId((UV[T8]))],4,6)))/ 255.*100,(DXE(SubString(C[GetPlayerId((UV[T8]))],6,8)))/ 255.*100,(DXE(SubString(C[GetPlayerId((UV[T8]))],8,$A)))/ 255.*100,0)elsecall l6(XV,1,T8+3+IMV,"|c00333333"+(BXV[GetPlayerId((UV[T8]))])+"|r")endifcall l6(XV,4,(T8+3+IMV),Dj+"0|r")call l6(XV,5,(T8+3+IMV),gj+"0|r")call l6(XV,6,(T8+3+IMV),Gj+"0|r")set T8=T8+1endloopset oY=1set rY=3+IPV+IMV-2if XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV)and xY==1 thencall MultiboardDisplay(XV,false)endifcall s6(XV,7,1,false,true)call P6(XV,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")call IHX()if xY>1 thencall TriggerExecute(vA)endifendfunctionfunction IQX takes integer O5,boolean ISX returns stringif not IsPlayerInForce(Player(O5),GLV)thenreturn" "elseif QV[O5]==null thenreturn "|c00a0a0a0"+"Select hero|r"elseif not XZE(QV[O5])thenreturn "|c00a0a0a0"+"Dead|r"elseif Bz<F7V-25. thenreturn "|c00a0a0a0"+"Stand by|r"elseif Bz<F7V thenreturn"Moving"elseif eY[O5]==1 thenif X1E(QV[O5])thenreturn"Retreating"elseif G0[48+O5]thenreturn"Fleeing"elseif h4[O5]!=null thenif ISX thenreturn">"+C[GetPlayerId(GetOwningPlayer(h4[O5]))]+FCE(h4[O5])+"|r"elsereturn"vs "+C[GetPlayerId(GetOwningPlayer(h4[O5]))]+FCE(h4[O5])+"|r"endifelseif h9[64+O5]!=null thenreturn"Def Tower"+EBE(eY[80+O5],false)elseif eY[80+O5]<=2 thenreturn"Push"+EBE(eY[80+O5],false)elsereturn"Push"endifelseif eY[O5]==2 thenreturn"Healing"elseif eY[O5]==3 thenreturn"Def"+EBE(WMV[64+O5],true)elseif eY[O5]==4 thenreturn"S-Def"+EBE(WMV[64+O5],true)elseif eY[O5]==9 thenif eY[272+O5]==0 thenreturn"Change lane"elseif h8[96+O5]!=null thenset bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))return"Ambush "+C[bj_forLoopAIndex]+I2S(bj_forLoopAIndex)+"|r"elsereturn"Ambush"+EBE(eY[288+O5],false)endifelseif eY[O5]==$A thenreturn"Jungling"elseif eY[O5]==$B thenif ISX thenreturn">|c00ffcc00Roshan|r"elsereturn"vs |c00ffcc00Roshan|r"endifendifreturn" "endfunctionfunction ITX takes nothing returns nothinglocal integer T8local integer U8local string IUXcall l6(XV,4,2,Dj+I2S(D[GetPlayerId(RX[0])])+"|r")call l6(XV,5,2,gj+I2S(J[GetPlayerId(RX[0])])+"|r")call l6(XV,4,3+IMV,Dj+I2S(D[GetPlayerId(GX[0])])+"|r")call l6(XV,5,3+IMV,gj+I2S(J[GetPlayerId(GX[0])])+"|r")set T8=1set U8=IMVloopexitwhen T8>U8call l6(XV,4,(T8+2),Dj+I2S(D[GetPlayerId(TV[T8])])+"|r")call l6(XV,5,(T8+2),gj+I2S(J[GetPlayerId(TV[T8])])+"|r")call l6(XV,6,(T8+2),Gj+I2S(UT[GetPlayerId(TV[T8])])+"|r")set IUX=IQX(GetPlayerId(TV[T8]),false)if TV[T8]==GGV thenset IUX="|c00ffcc00- LEADER -|r"endifif(not U1V[32+GetPlayerId(GetLocalPlayer())])thenset IUX=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),RX[0])))thenset IUX=" "endifcall l6(XV,$F,T8+2,IUX)set IUX=" "if U1V[80+GetPlayerId(GetLocalPlayer())]and B6E(TV[T8])thenif QT thenset IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(TV[T8])-100.))+"%|r"endifif QT and TT thenset IUX=IUX+" - "endifif TT thenset IUX=IUX+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(TV[T8])])+"|r"endifendifcall l6(XV,$E,(T8+2),IUX)set T8=T8+1endloopset T8=1set U8=IPVloopexitwhen T8>U8call l6(XV,4,(T8+3+IMV),Dj+I2S(D[GetPlayerId(UV[T8])])+"|r")call l6(XV,5,(T8+3+IMV),gj+I2S(J[GetPlayerId(UV[T8])])+"|r")call l6(XV,6,(T8+3+IMV),Gj+I2S(UT[GetPlayerId(UV[T8])])+"|r")set IUX=IQX(GetPlayerId(UV[T8]),false)if UV[T8]==GHV thenset IUX="|c00ffcc00- LEADER -|r"endifif(not U1V[32+GetPlayerId(GetLocalPlayer())])thenset IUX=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),GX[0])))thenset IUX=" "endifcall l6(XV,$F,(T8+3+IMV),IUX)set IUX=" "if U1V[80+GetPlayerId(GetLocalPlayer())]and B6E(UV[T8])thenif QT thenset IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(UV[T8])-100.))+"%|r"endifif QT and TT thenset IUX=IUX+" - "endifif TT thenset IUX=IUX+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(UV[T8])])+"|r"endifendifcall l6(XV,$E,(T8+3+IMV),IUX)set T8=T8+1endloopendfunctionfunction IWX takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())==1697656914)or(GetUnitTypeId(GetTriggerUnit())==1697657137)or(GetUnitTypeId(GetTriggerUnit())==1697656915)or(GetUnitTypeId(GetTriggerUnit())==1697657145)endfunctionfunction IYX takes nothing returns nothingset F[1]=(F[1]+1)endfunctionfunction IZX takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())==1966092365)or(GetUnitTypeId(GetTriggerUnit())==1966092356)or(GetUnitTypeId(GetTriggerUnit())==1966092366)or(GetUnitTypeId(GetTriggerUnit())==1966092372)endfunctionfunction I_X takes nothing returns nothingset F[2]=(F[2]+1)endfunctionfunction I0X takes integer a returns integerlocal integer i=0local integer x=0local string s=I2S(a)loopexitwhen i>StringLength(s)if SubString(s,i,i+1)=="1" thenset x=x+1endifset i=i+1endloopreturn xendfunctionfunction I1X takes player I2X,integer I3X returns stringif IsPlayerAlly(GetLocalPlayer(),I2X) thenreturn QEE(UnitItemInSlot(QV[GetPlayerId(I2X)],I3X-1))elsereturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifendfunctionfunction I4X takes nothing returns nothinglocal integer T8local integer U8local string M2Elocal real I5Xlocal integer rlocal integer ilocal integer array time_1alocal string array color_1alocal integer index_1a=0local integer array time_1blocal string array color_1blocal integer index_1b=0local integer x=0local integer idlocal string I6Xlocal string I7Xlocal string I8Xlocal string I9Xlocal string AVXlocal string s2=" "local string slocal real AEXlocal string spacerlocal integer AXX=0local string AOX=""local string ARX=""local integer AIX=0local integer AAX=0local string ANX=""local string IUXif XV==null thenreturnendifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(G[GetPlayerId(RX[i])]))if r>0 thenset AXX=AXX+I0X(r)if AIX==0 thenif r<$A thenset AOX=C[GetPlayerId(RX[i])]+"0"+I2S(r)+" |r"elseset AOX=C[GetPlayerId(RX[i])]+I2S(r)+" |r"endifelseif r<$A thenset AOX=AOX+Hj+"| |r"+C[GetPlayerId(RX[i])]+"0"+I2S(r)+" |r"elseset AOX=AOX+Hj+"| |r"+C[GetPlayerId(RX[i])]+I2S(r)+" |r"endifendifset AIX=AIX+1endifset i=i+1endloopif AIX>0 thenif IsPlayerAlly(GetLocalPlayer(),RX[0]) thenset AOX=Hj+"["+GetObjectName(1848658515)+" |r"+AOX+Hj+"]|r"elseset AOX=fj+"["+GetObjectName(1848658514)+" |r"+AOX+fj+"]|r"endifendifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(G[GetPlayerId(GX[i])]))if r>0 thenset AXX=AXX+I0X(r)if AAX==0 thenif r<$A thenset ARX=C[GetPlayerId(GX[i])]+"0"+I2S(r)+" |r"elseset ARX=C[GetPlayerId(GX[i])]+I2S(r)+" |r"endifelseif r<$A thenset ARX=ARX+Hj+"| |r"+C[GetPlayerId(GX[i])]+"0"+I2S(r)+" |r"elseset ARX=ARX+Hj+"| |r"+C[GetPlayerId(GX[i])]+I2S(r)+" |r"endifendifset AAX=AAX+1endifset i=i+1endloopif AAX>0 thenif IsPlayerAlly(GetLocalPlayer(),GX[0]) thenset ARX=Hj+"["+GetObjectName(1848658515)+" |r"+ARX+Hj+"]|r"elseset ARX=fj+"["+GetObjectName(1848658514)+" |r"+ARX+fj+"]|r"endifendifif XV!=null thenset id=GetPlayerId(GetLocalPlayer())if id>=0 and id<16 thenif AW[x]thenset I6X=I2S(D[id])set I7X=I2S(J[id])set I8X=I2S(UT[id])set I9X=I2S(RE[id])set AVX=I2S(KE[id])set s2=" |c00838B8B("+I6X+"/"+I7X+"/"+I8X+" - "+I9X+"/"+AVX+" - |r|c00FFDC00"+I2S(LDV[id])+"|r |c00838B8B)|r"endifendifendifif AAX==0 and AIX==0 thencall MultiboardSetTitleText(XV,s2)elseif IsPlayerAlly(GetLocalPlayer(),RX[0]) thencall MultiboardSetTitleText(XV,ARX+" "+AOX+" "+s2)elsecall MultiboardSetTitleText(XV,AOX+" "+ARX+" "+s2)endifendifif(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))==false thencall MultiboardDisplay(XV,true)endifif Nb[GetPlayerId(GetLocalPlayer())]==false thencall SetWaterBaseColor(0,0,$FF,$FF)endifset IUX=" "if U1V[32+GetPlayerId(GetLocalPlayer())]thenset IUX=W3Vendifcall l6(XV,$F,1,IUX)set IUX=" "if U1V[80+GetPlayerId(GetLocalPlayer())]thenset IUX="   "if QT thenset IUX=IUX+W4Vendifif QT and TT thenset IUX=IUX+" - "endifif TT thenset IUX=IUX+W5Vendifendifcall l6(XV,$E,1,IUX)set T8=1set U8=IMVloopexitwhen T8>U8call P6(XV,1,T8+2,FGE(QV[GetPlayerId(TV[T8])]))call l6(XV,3,T8+2,"|c00838B8B"+I2S(GetHeroLevel(QV[GetPlayerId(TV[T8])]))+"|r")if ab[GetPlayerId(GetLocalPlayer())]thencall x7(XV,7,1,3)call x7(XV,8,1,2.8)call x7(XV,9,1,.8)call x7(XV,$A,1,.8)call x7(XV,$B,1,.8)call x7(XV,$C,1,.8)call x7(XV,$D,1,EXE(U1V[32+GetPlayerId(GetLocalPlayer())],1.5,.1))call x7(XV,7,T8+2,3)call x7(XV,8,T8+2,1.1)call x7(XV,9,T8+2,1.1)call x7(XV,$A,T8+2,1.1)call x7(XV,$B,T8+2,1.1)call x7(XV,$C,T8+2,1.1)call x7(XV,$D,T8+2,EXE(U1V[32+GetPlayerId(GetLocalPlayer())],1.5,.1))call s6(XV,8,T8+2,false,true)call s6(XV,9,T8+2,false,true)call s6(XV,$A,T8+2,false,true)call s6(XV,$B,T8+2,false,true)call s6(XV,$C,T8+2,false,true)call s6(XV,$D,T8+2,false,true)call l6(XV,8,1,"Items")elsecall x7(XV,7,1,2)call x7(XV,8,1,.1)call x7(XV,9,1,.1)call x7(XV,$A,1,.1)call x7(XV,$B,1,.1)call x7(XV,$C,1,.1)call x7(XV,$D,1,.1)call x7(XV,7,T8+2,2.5)call x7(XV,8,T8+2,.1)call x7(XV,9,T8+2,.1)call x7(XV,$A,T8+2,.1)call x7(XV,$B,T8+2,.1)call x7(XV,$C,T8+2,.1)call x7(XV,$D,T8+2,.1)call s6(XV,8,T8+2,false,false)call s6(XV,9,T8+2,false,false)call s6(XV,$A,T8+2,false,false)call s6(XV,$B,T8+2,false,false)call s6(XV,$C,T8+2,false,false)call s6(XV,$D,T8+2,false,false)call l6(XV,8,1," ")endifcall P6(XV,8,T8+2,I1X(TV[T8],1))call P6(XV,9,T8+2,I1X(TV[T8],2))call P6(XV,$A,T8+2,I1X(TV[T8],3))call P6(XV,$B,T8+2,I1X(TV[T8],4))call P6(XV,$C,T8+2,I1X(TV[T8],5))call P6(XV,$D,T8+2,I1X(TV[T8],6))if(FME(QV[GetPlayerId(TV[T8])])and QV[GetPlayerId(TV[T8])]!=null and TimerGetRemaining(G[GetPlayerId(TV[T8])])>0)thenif IsPlayerAlly(GetLocalPlayer(),TV[T8])thenset ANX=Hj+" ("+(I2S(R2I(TimerGetRemaining(G[GetPlayerId(TV[T8])]))))+")|r"elseset ANX=fj+" ("+(I2S(R2I(TimerGetRemaining(G[GetPlayerId(TV[T8])]))))+")|r"endifelseset ANX="  "endifif U2[GetPlayerId(TV[T8])]thencall l6(XV,1,T8+2,"|c00333333"+(BXV[GetPlayerId((TV[T8]))])+"|r"+ANX)elsecall l6(XV,1,T8+2,(BXV[GetPlayerId((TV[T8]))])+ANX)endifset AEX=(TimerGetRemaining(CLV[GetPlayerId((TV[T8]))]))if AEX>0 thenset s=I2S(R2I(AEX))elseset s=" "endifif IsPlayerAlly(GetLocalPlayer(),TV[T8])==false thencall l6(XV,7,T8+2," ")set s=" "elsecall l6(XV,7,T8+2,"|cffffcc00"+I2S(R2I(GetPlayerState(TV[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")endifcall l6(XV,2,T8+2,s)set IUX=IQX(GetPlayerId(TV[T8]),false)if TV[T8]==GGV thenset IUX="|c00ffcc00- LEADER -|r"endifif(not U1V[32+GetPlayerId(GetLocalPlayer())])thenset IUX=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),RX[0])))thenset IUX=" "endifcall l6(XV,$F,T8+2,IUX)set IUX=" "if U1V[80+GetPlayerId(GetLocalPlayer())]and B6E(TV[T8])thenif QT thenset IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(TV[T8])-100.))+"%|r"endifif QT and TT thenset IUX=IUX+" - "endifif TT thenset IUX=IUX+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(TV[T8])])+"|r"endifendifcall l6(XV,$E,T8+2,IUX)set T8=T8+1endloopset T8=1set U8=IPVloopexitwhen T8>U8call P6(XV,1,T8+3+IMV,FGE(QV[GetPlayerId(UV[T8])]))call l6(XV,3,T8+3+IMV,"|c00838B8B"+I2S(GetHeroLevel(QV[GetPlayerId(UV[T8])]))+"|r")if ab[GetPlayerId(GetLocalPlayer())]thencall x7(XV,7,1,3)call x7(XV,8,1,2.8)call x7(XV,9,1,.8)call x7(XV,$A,1,.8)call x7(XV,$B,1,.8)call x7(XV,$C,1,.8)call x7(XV,$D,1,EXE(U1V[32+GetPlayerId(GetLocalPlayer())],1.5,.1))call x7(XV,7,T8+3+IMV,3)call x7(XV,8,T8+3+IMV,1.1)call x7(XV,9,T8+3+IMV,1.1)call x7(XV,$A,T8+3+IMV,1.1)call x7(XV,$B,T8+3+IMV,1.1)call x7(XV,$C,T8+3+IMV,1.1)call x7(XV,$D,T8+3+IMV,EXE(U1V[32+GetPlayerId(GetLocalPlayer())],1.5,.1))call s6(XV,8,T8+3+IMV,false,true)call s6(XV,9,T8+3+IMV,false,true)call s6(XV,$A,T8+3+IMV,false,true)call s6(XV,$B,T8+3+IMV,false,true)call s6(XV,$C,T8+3+IMV,false,true)call s6(XV,$D,T8+3+IMV,false,true)call l6(XV,8,1,"Items")elsecall x7(XV,7,1,2)call x7(XV,8,1,.1)call x7(XV,9,1,.1)call x7(XV,$A,1,.1)call x7(XV,$B,1,.1)call x7(XV,$C,1,.1)call x7(XV,$D,1,.1)call x7(XV,7,T8+3+IMV,2.5)call x7(XV,8,T8+3+IMV,.1)call x7(XV,9,T8+3+IMV,.1)call x7(XV,$A,T8+3+IMV,.1)call x7(XV,$B,T8+3+IMV,.1)call x7(XV,$C,T8+3+IMV,.1)call x7(XV,$D,T8+3+IMV,.1)call s6(XV,8,T8+3+IMV,false,false)call s6(XV,9,T8+3+IMV,false,false)call s6(XV,$A,T8+3+IMV,false,false)call s6(XV,$B,T8+3+IMV,false,false)call s6(XV,$C,T8+3+IMV,false,false)call s6(XV,$D,T8+3+IMV,false,false)call l6(XV,8,1," ")endifcall P6(XV,8,T8+3+IMV,I1X(UV[T8],1))call P6(XV,9,T8+3+IMV,I1X(UV[T8],2))call P6(XV,$A,T8+3+IMV,I1X(UV[T8],3))call P6(XV,$B,T8+3+IMV,I1X(UV[T8],4))call P6(XV,$C,T8+3+IMV,I1X(UV[T8],5))call P6(XV,$D,T8+3+IMV,I1X(UV[T8],6))if(FME(QV[GetPlayerId(UV[T8])])and QV[GetPlayerId(UV[T8])]!=null and TimerGetRemaining(G[GetPlayerId(UV[T8])])>0)thenif IsPlayerAlly(GetLocalPlayer(),UV[T8])thenset ANX=Hj+" ("+(I2S(R2I(TimerGetRemaining(G[GetPlayerId(UV[T8])]))))+")|r"elseset ANX=fj+" ("+(I2S(R2I(TimerGetRemaining(G[GetPlayerId(UV[T8])]))))+")|r"endifelseset ANX="  "endifif U2[GetPlayerId(UV[T8])]thencall l6(XV,1,T8+3+IMV,"|c00333333"+(BXV[GetPlayerId((UV[T8]))])+"|r"+ANX)elsecall l6(XV,1,T8+3+IMV,(BXV[GetPlayerId((UV[T8]))])+ANX)endifset AEX=(TimerGetRemaining(CLV[GetPlayerId((UV[T8]))]))if AEX>0 thenset s=I2S(R2I(AEX))elseset s=" "endifif IsPlayerAlly(GetLocalPlayer(),UV[T8])==false thencall l6(XV,7,T8+3+IMV," ")set s=" "elsecall l6(XV,7,T8+3+IMV,"|cffffcc00"+I2S(R2I(GetPlayerState(UV[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")endifcall l6(XV,2,T8+3+IMV,s)set IUX=IQX(GetPlayerId(UV[T8]),false)if UV[T8]==GHV thenset IUX="|c00ffcc00- LEADER -|r"endifif(not U1V[32+GetPlayerId(GetLocalPlayer())])thenset IUX=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),GX[0])))thenset IUX=" "endifcall l6(XV,$F,T8+3+IMV,IUX)set IUX=" "if U1V[80+GetPlayerId(GetLocalPlayer())]and B6E(UV[T8])thenif QT thenset IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(UV[T8])-100.))+"%|r"endifif QT and TT thenset IUX=IUX+" - "endifif TT thenset IUX=IUX+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(UV[T8])])+"|r"endifendifcall l6(XV,$E,T8+3+IMV,IUX)set T8=T8+1endloopendfunctionfunction ABX takes nothing returns booleanlocal real ACXlocal real ADXlocal unit uif Vz==false thenset u=AYVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-aY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif Ez==false thenset u=AZVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-VY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif Xz==false thenset u=A_Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-EY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif nz==false thenset u=A0Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-XY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A1Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-OY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A2Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-IY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A3Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-AY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A4Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-bY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A5Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-BY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A6Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-cY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A7Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-CY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A8Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-DY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=A9Vif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-fY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NVVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-FY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif oz==false thenset u=NDVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-JY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif rz==false thenset u=NFVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-kY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif az==false thenset u=NGVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-lY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifif xz==false thenset u=NHVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-mY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NJVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-MY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NKVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-PY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NLVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-QY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NMVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-sY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NPVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-tY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NQVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-TY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NSVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-uY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NTVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-wY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NUVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-YY)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifset u=NWVif u!=null thenset ACX=GetUnitState(u,UNIT_STATE_LIFE)set ADX=ACX+F4Vif ADX<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-vz)thencall SetUnitState(u,UNIT_STATE_LIFE,ADX)endifendifendifset u=nullreturn falseendfunctionfunction AFX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif oz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset JY=JY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AGX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif rz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset kY=kY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AHX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif az or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset lY=lY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AJX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset mY=mY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AKX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset MY=MY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction ALX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset PY=PY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AMX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset QY=QY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction APX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset sY=sY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AQX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset tY=tY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction ASX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset TY=TY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction ATX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset uY=uY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AUX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset wY=wY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AWX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset YY=YY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AYX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset vz=vz+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction AZX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Vz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset aY=aY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A_X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Ez or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset VY=VY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A0X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset EY=EY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A1X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset XY=XY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A2X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset OY=OY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A3X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset IY=IY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A4X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset AY=AY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A5X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset bY=bY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A6X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset BY=BY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A7X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset cY=cY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A8X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset CY=CY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction A9X takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset DY=DY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction NVX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset fY=fY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction NEX takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) thenset FY=FY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource()) thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+.75*GetEventDamage())endifendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction NXX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GX[0]thenset nz=trueendifreturn falseendfunctionfunction NOX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GX[0]thenset Vz=trueendifreturn falseendfunctionfunction NRX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GX[0]thenset Ez=trueendifreturn falseendfunctionfunction NIX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GX[0]thenset Xz=trueendifreturn falseendfunctionfunction NAX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==RX[0]thenset xz=trueendifreturn falseendfunctionfunction NNX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==RX[0]thenset oz=trueendifreturn falseendfunctionfunction NBX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==RX[0]thenset rz=trueendifreturn falseendfunctionfunction NCX takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==RX[0]thenset az=trueendifreturn falseendfunctionfunction NDX takes nothing returns booleanlocal group g=FYE()set xz=falseset oz=falseset rz=falseset az=falseset nz=falseset Vz=falseset Ez=falseset Xz=falsecall GroupEnumUnitsInRect(g,TN,Condition(function NXX))call GroupEnumUnitsInRect(g,UN,Condition(function NXX))call GroupEnumUnitsInRect(g,WN,Condition(function NXX))call GroupEnumUnitsInRect(g,lE,Condition(function NXX))call GroupEnumUnitsInRect(g,LE,Condition(function NXX))call GroupEnumUnitsInRect(g,ME,Condition(function NXX))call GroupEnumUnitsInRect(g,GE,Condition(function NOX))call GroupEnumUnitsInRect(g,QE,Condition(function NRX))call GroupEnumUnitsInRect(g,JE,Condition(function NIX))call GroupEnumUnitsInRect(g,YN,Condition(function NAX))call GroupEnumUnitsInRect(g,ZN,Condition(function NAX))call GroupEnumUnitsInRect(g,VB,Condition(function NAX))call GroupEnumUnitsInRect(g,qE,Condition(function NAX))call GroupEnumUnitsInRect(g,pE,Condition(function NAX))call GroupEnumUnitsInRect(g,PE,Condition(function NAX))call GroupEnumUnitsInRect(g,fE,Condition(function NNX))call GroupEnumUnitsInRect(g,FE,Condition(function NBX))call GroupEnumUnitsInRect(g,gE,Condition(function NCX))call FWE(g)set g=nullreturn falseendfunctionfunction NFX takes nothing returns booleanif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=SX thenif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE) thenset DCV=GetFilterUnit()elseset DDV=GetFilterUnit()endifendifreturn falseendfunctionfunction NGX takes nothing returns nothinglocal unit NHX=GetAttacker()local unit m5=GetTriggerUnit()local group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(NHX),GetUnitY(NHX),900,Condition(function NFX))call FWE(g)call DisableTrigger(GetTriggeringTrigger())if DCV!=null thencall IssueTargetOrderById(NHX,$D000F,DCV)call GroupAddUnit(KU,NHX)elseif IsUnitType(m5,UNIT_TYPE_HERO) and DDV!=null thencall IssueTargetOrderById(NHX,$D000F,DDV)call GroupAddUnit(KU,NHX)endifcall EnableTrigger(GetTriggeringTrigger())set DCV=nullset DDV=nullset NHX=nullset m5=nullset g=nullendfunctionfunction NJX takes nothing returns nothingif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 thencall GroupRemoveUnit(KU,GetEnumUnit())endifif GetUnitCurrentOrder(GetEnumUnit())!=851983thencall GroupRemoveUnit(KU,GetEnumUnit())call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,YO[GetUnitAbilityLevel(GetEnumUnit(),TO)])endifendfunctionfunction NKX takes nothing returns booleancall ForGroup(KU,function NJX)return falseendfunctionfunction NLX takes string s returns nothingset F3=F3+1set j3[F3]=sendfunctionfunction NMX takes nothing returns booleanlocal integer i=1loopexitwhen i>F3call ExecuteFunc(j3[i])set i=i+1endloopcall ExecuteFunc("NPX")call ExecuteFunc("NQX")return falseendfunctionfunction NSX takes unit FLE returns nothinglocal trigger t=CreateTrigger()call O7E(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready",true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function NMX))set t=nullendfunctionfunction NTX takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211122232 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit())==false and R3E(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready")==false thenif DFV and(GetUnitTypeId(GetTriggerUnit())!=1328558160 or(GetUnitTypeId(GetTriggerUnit())==1328558160 and DGV))thencall NSX(GetTriggerUnit())endifendifreturn falseendfunctionfunction NUX takes nothing returns booleanlocal unit ulocal real NWXlocal boolean NYX=HXE()set u=fPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=FPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=lPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=LPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=MPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=pPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=PPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=qPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=QPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=sPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=tPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset NWX=GetUnitState(u,UNIT_STATE_MANA)if NYX thenset NWX=HTE(NWX-25,0)elseset NWX=HSE(NWX+5,300)endifendifset u=nullreturn falseendfunctionfunction Ln takes nothing returns stringreturn D2Vendfunctionfunction LN takes nothing returns stringreturn YIendfunctionfunction NZX takes player j8 returns stringreturn C[GetPlayerId(j8)]+D0E(j8)+"|r"endfunctionfunction N_X takes player N0X returns stringlocal string N1X=I2S(DRV[GetPlayerId(N0X)])local string N2X=N1Xif N0X==GetLocalPlayer()thenset N2X=Fx+N1X+"|r"endifreturn N2Xendfunctionfunction N3X takes player N0X returns stringlocal string N1X=I2S(DOV[GetPlayerId(N0X)])local string N2X=N1Xif N0X==GetLocalPlayer()thenset N2X=Fx+N1X+"|r"endifreturn N2Xendfunctionfunction Lq takes player j8 returns stringreturn IA[GetPlayerId(j8)]endfunctionfunction QZE takes nothing returns nothinglocal integer i=1local multiboarditem QQEloopexitwhen i>CWVif Lq(CUV[i])!="Here"thenset QQE=MultiboardGetItem(CQV,CSV[i],CTV[i])call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,"|c00555555"+Lq(CUV[i])+"|r")call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)endifset i=i+1endloopendfunctionfunction N4X takes player j8 returns stringlocal string GV=I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction N5X takes player j8 returns stringlocal string GV=I2S(Zh[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction N6X takes player j8 returns stringlocal string GV=I2S(GetUnitLevel(QV[GetPlayerId(j8)]))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction N7X takes player j8 returns stringlocal string GV=I2S(R1V[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction N8X takes player j8 returns stringlocal string GV=I2S(C5V[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction N9X takes player j8 returns stringlocal string GV=I2S(tu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BVX takes player j8 returns stringlocal string GV=I2S(UT[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BEX takes player j8 returns stringlocal string GV=I2S(D[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BXX takes player j8 returns stringlocal string GV=I2S(J[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BOX takes player j8 returns stringlocal string GV=I2S(RE[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BRX takes player j8 returns stringlocal string GV=I2S(KE[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BIX takes player j8 returns stringlocal string GV=I2S(R1E(StringHash("Stats"+I2S(GetPlayerId(j8))),"NumOfNeutrals"))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BAX takes player j8 returns stringlocal string GV=I2S(wu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BNX takes player j8 returns stringlocal string GV=I2S(Wu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BBX takes player j8 returns stringlocal string GV=I2S(C3V[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction BCX takes player j8 returns stringlocal string LYlocal string Lzlocal string Lrlocal integer k=gD[GetPlayerId(j8)]local integer d=DNV[GetPlayerId(j8)]if k<1 thenset k=0endifif d<1 thenset d=0endifset LY=I2S(k)set Lz=I2S(d)set Lr=LY+"/"+Lzif j8==GetLocalPlayer()thenset Lr=Fx+LY+"|r/"+Fx+Lz+"|r"endifreturn Lrendfunctionfunction BDX takes player j8 returns stringlocal integer L0=C4V[GetPlayerId(j8)]local string QUElocal integer L1local integer L2set L1=(L0/60)-(1/2)set L2=ModuloInteger(L0,60)if(L2<$A)thenset QUE=I2S(L1)+":0"+I2S(L2)elseset QUE=I2S(L1)+":"+I2S(L2)endifif j8==GetLocalPlayer()thenset QUE=Fx+QUE+"|r"endifreturn QUEendfunctionfunction BFX takes player p5,player m5 returns stringlocal string LYlocal string Lzlocal string Lrlocal integer k=R1E(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))local integer d=R1E(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))if k<1 thenset k=0endifif d<1 thenset d=0endifset LY=I2S(k)set Lz=I2S(d)set Lr=LY+"/"+Lzif p5==GetLocalPlayer()thenset Lr=Fx+LY+"|r/"+Fx+Lz+"|r"endifreturn Lrendfunctionfunction BGX takes boolean EGE returns nothinglocal integer O5=1local integer i=0local integer j=1local item XJE=nullloopexitwhen j>5if EGE thenset O5=GetPlayerId(RX[j])elseset O5=GetPlayerId(GX[j])endifif QV[O5]!=null thenset i=0loopexitwhen i>5set XJE=UnitItemInSlot(QV[O5],i)if XJE!=null thenset VHE[O5*6+i]=XGE(XJE)elseset VHE[O5*6+i]=-1endifset i=i+1endloopelseset i=0loopexitwhen i>5set VHE[O5*6+i]=-1set i=i+1endloopendifset j=j+1endloopset XJE=nullendfunctionfunction BHX takes nothing returns nothingcall BGX(true)endfunctionfunction BJX takes nothing returns nothingcall BGX(false)endfunctionfunction BKX takes integer O5,integer i returns stringif VHE[O5*6+i]<0 thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn JU[VHE[O5*6+i]]endfunctionfunction BLX takes nothing returns nothinglocal integer BMX=IMVlocal integer BPX=IPVlocal player array BQXlocal player array BSXlocal integer BTXlocal integer BUXlocal integer BWX=21+HPE(BMX,BPX)+1local integer BYX=1+(BMX+BPX)*2local multiboarditem BZXlocal integer ilocal integer xlocal integer curRow1local integer curRow2local string e="|r"local string c0="|cff99ccff"local integer B_Xlocal integer B0Xcall ExecuteFunc("BHX")call ExecuteFunc("BJX")call DisableTrigger(JQ)call DestroyMultiboard(XV)call TriggerSleepAction(.0)if BMX>0 and BPX>0 thenset BWX=BWX+2endifset CQV=CreateMultiboard()call MultiboardSetItemsWidth(CQV,0)call MultiboardSetRowCount(CQV,BWX)call MultiboardSetColumnCount(CQV,BYX)call MultiboardSetTitleText(CQV,(GetObjectName((1848657203)))+" "+" - "+(D2V))call MultiboardMinimize(CQV,true)call MultiboardSetItemsStyle(CQV,false,false)call MultiboardDisplay(CQV,true)call MultiboardMinimize(CQV,false)call MultiboardSetTitleText(CQV,(GetObjectName((1848657203)))+" "+" - "+(D2V)+" - "+("|c00ff0303"+I2S(D[GetPlayerId(RX[0])])+"|r/|c0020c000"+I2S(J[GetPlayerId(RX[0])])+"|r"))set x=1set i=1loopexitwhen i>5if B8E(RX[i])or GetPlayerSlotState(RX[i])==PLAYER_SLOT_STATE_LEFT thenset BQX[x]=RX[i]set x=x+1endifset i=i+1endloopset x=1set i=1loopexitwhen i>5if B8E(GX[i])or GetPlayerSlotState(GX[i])==PLAYER_SLOT_STATE_LEFT thenset BSX[x]=GX[i]set x=x+1endifset i=i+1endloopset i=0set BUX=0loopexitwhen i>BWXset BZX=MultiboardGetItem(CQV,i,BUX)call MultiboardSetItemWidth(BZX,.075)call MultiboardReleaseItem(BZX)set i=i+1endloopset BTX=0set BUX=0set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX," ")call MultiboardReleaseItem(BZX)set BUX=0set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,false)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,NZX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,NZX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BTX=BTX+1set BUX=0set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,false)call MultiboardReleaseItem(BZX)set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,true)call MultiboardSetItemValue(BZX,N6X(BQX[i]))call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BQX[i]))])))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,true)call MultiboardSetItemValue(BZX,N6X(BSX[i]))call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BSX[i]))])))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BTX=BTX+1set BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848657218)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(1)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(2)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(1)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(2)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset BTX=BTX+1set BUX=0set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+" "+e)call MultiboardReleaseItem(BZX)set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(3)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(4)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(3)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(4)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset BTX=BTX+1set BUX=0set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+" "+e)call MultiboardReleaseItem(BZX)set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(5)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BQX[i])),(6)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(5)-1)))call MultiboardSetItemWidth(BZX,.015)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(BKX(GetPlayerId((BSX[i])),(6)-1)))call MultiboardSetItemWidth(BZX,.054)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848657202)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N4X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N4X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848657201)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BEX(BQX[i])+"/"+BXX(BQX[i])+"/"+BVX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BEX(BSX[i])+"/"+BXX(BSX[i])+"/"+BVX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+GetObjectName(1848658517)+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N_X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N_X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+GetObjectName(1848658758)+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N3X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N3X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848657200)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N7X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N7X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656980)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BCX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BCX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656986)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BOX(BQX[i])+"/"+BRX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BOX(BSX[i])+"/"+BRX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656985)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BIX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BIX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656981)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N8X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N8X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656982)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BDX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BDX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656983)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N9X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N9X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656974)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N5X(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,N5X(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656952)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BAX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BAX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656969)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BNX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BNX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656973)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BBX(BQX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,BBX(BSX[i]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set i=i+1endloopif BMX>0 and BPX>0 thenset BUX=0set B_X=BTXset B0X=BUXset BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656972)))+e)call MultiboardReleaseItem(BZX)set BTX=B_Xset x=1loopexitwhen x>BMXset BUX=0set BTX=B_Xset i=1loopexitwhen i>BPXset BUX=x+(x-1)set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BQX[x]))])))call MultiboardSetItemWidth(BZX,.01)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,true)call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BSX[i]))])))call MultiboardSetItemValue(BZX," "+BFX(BQX[x],BSX[i]))call MultiboardSetItemWidth(BZX,.059)call MultiboardReleaseItem(BZX)set i=i+1endloopset x=x+1endloopset x=BMX+1loopexitwhen x>(BPX+BMX)set BUX=0set BTX=B_Xset i=1loopexitwhen i>BMXset BUX=x+(x-1)set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,false,true)call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BSX[x-BMX]))])))call MultiboardSetItemWidth(BZX,.01)call MultiboardReleaseItem(BZX)set BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,true)call MultiboardSetItemIcon(BZX,(FGE(QV[GetPlayerId((BQX[i]))])))call MultiboardSetItemValue(BZX," "+BFX(BSX[x-BMX],BQX[i]))call MultiboardSetItemWidth(BZX,.059)call MultiboardReleaseItem(BZX)set i=i+1endloopset x=x+1endloopendifset BTX=BTX+1set BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656730)))+e)call MultiboardReleaseItem(BZX)set BUX=0set i=1loopexitwhen i>BMXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,(IA[GetPlayerId((BQX[i]))]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set CWV=CWV+1set CSV[CWV]=BTXset CTV[CWV]=BUXset CUV[CWV]=BQX[i]set i=i+1endloopset i=1loopexitwhen i>BPXset BUX=BUX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,(IA[GetPlayerId((BSX[i]))]))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)set CWV=CWV+1set CSV[CWV]=BTXset CTV[CWV]=BUXset CUV[CWV]=BSX[i]set i=i+1endloopset BUX=0set BTX=BTX+1set BZX=MultiboardGetItem(CQV,BTX,BUX)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,c0+(GetObjectName((1848656953)))+e)call MultiboardReleaseItem(BZX)set BZX=MultiboardGetItem(CQV,BTX,BUX+1)call MultiboardSetItemStyle(BZX,true,false)call MultiboardSetItemValue(BZX,(YI))call MultiboardSetItemWidth(BZX,.07)call MultiboardReleaseItem(BZX)call MultiboardMinimize(CQV,true)call MultiboardMinimize(CQV,false)endfunctionfunction B1X takes nothing returns stringreturn D2Vendfunctionfunction mD takes player j8 returns stringreturn FGE(QV[GetPlayerId(j8)])endfunctionfunction me takes player j8,integer Lp returns stringreturn QEE(UnitItemInSlot(QV[GetPlayerId(j8)],Lp-1))endfunctionfunction mE takes player j8 returns stringreturn C[GetPlayerId(j8)]+D0E(j8)+"|r"endfunctionfunction mf takes player j8 returns stringreturn I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))endfunctionfunction mF takes player p returns stringreturn I2S(Zh[GetPlayerId(p)])endfunctionfunction mg takes player p returns stringreturn I2S(GetUnitLevel(QV[GetPlayerId(p)]))endfunctionfunction mG takes player p returns stringreturn I2S(R1E(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfWards"))endfunctionfunction mh takes player j8 returns stringreturn I2S(C5V[GetPlayerId(j8)])endfunctionfunction mH takes player j8 returns stringreturn I2S(tu[GetPlayerId(j8)])endfunctionfunction mi takes player j8 returns stringreturn I2S(D[GetPlayerId(j8)])endfunctionfunction mI takes player j8 returns stringreturn I2S(J[GetPlayerId(j8)])endfunctionfunction mj takes player j8 returns stringreturn I2S(RE[GetPlayerId(j8)])endfunctionfunction mJ takes player j8 returns stringreturn I2S(KE[GetPlayerId(j8)])endfunctionfunction mk takes player p returns stringreturn I2S(R1E(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfNeutrals"))endfunctionfunction mK takes player j8 returns stringreturn I2S(wu[GetPlayerId(j8)])endfunctionfunction ml takes player j8 returns stringreturn I2S(Wu[GetPlayerId(j8)])endfunctionfunction mL takes player j8 returns stringreturn I2S(C3V[GetPlayerId(j8)])endfunctionfunction mm takes player j8 returns stringlocal integer k=gD[GetPlayerId(j8)]local integer d=DNV[GetPlayerId(j8)]if k<1 thenset k=0endifif d<1 thenset d=0endifreturn I2S(k)+"/"+I2S(d)endfunctionfunction mM takes player j8 returns stringlocal integer L0=C4V[GetPlayerId(j8)]local string QUElocal integer L1local integer L2set L1=(L0/60)-(1/2)set L2=ModuloInteger(L0,60)if(L2<$A)thenset QUE=I2S(L1)+":0"+I2S(L2)elseset QUE=I2S(L1)+":"+I2S(L2)endifreturn QUEendfunctionfunction mn takes player p5,player m5 returns stringlocal integer k=R1E(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))local integer d=R1E(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))if k<1 thenset k=0endifif d<1 thenset d=0endifreturn I2S(k)+"/"+I2S(d)endfunctionfunction mN takes player p5 returns stringlocal string moif GME(QV[GetPlayerId(p5)])thenset mo=I2S(R2I(TimerGetRemaining(G[GetPlayerId(p5)])))elseset mo=" "endifreturn moendfunctionfunction B2X takes player p5 returns stringlocal real r=(TimerGetRemaining(CLV[GetPlayerId((p5))]))local string B3Xif r>0 thenset B3X=I2S(R2I(r))elseset B3X=" "endifreturn B3Xendfunctionfunction B4X takes integer mp,integer mP returns nothingset CYV=CreateMultiboard()call MultiboardSetItemsWidth(CYV,0)call MultiboardSetRowCount(CYV,mp)call MultiboardSetColumnCount(CYV,mP)call MultiboardSetTitleText(CYV,(GetObjectName((1848657203)))+" "+" - "+B1X())call MultiboardMinimize(CYV,true)call MultiboardSetItemsStyle(CYV,false,false)if GetLocalPlayer()==BVV or GetLocalPlayer()==BEV thencall MultiboardDisplay(CYV,true)endifendfunctionfunction mq takes nothing returns stringreturn"|c00ff0303"+I2S(D[GetPlayerId(RX[0])])+"|r/|c0020c000"+I2S(J[GetPlayerId(RX[0])])+"|r"endfunctionfunction B5X takes player B6X returns stringreturn I2S(UT[GetPlayerId(B6X)])endfunctionfunction B7X takes nothing returns nothinglocal integer P7E=IMVlocal integer P6E=IPVlocal player array B8Xlocal player array B9Xlocal integer CVXlocal integer CEXlocal integer CXX=1+19+HPE(P7E,P6E)+2local integer COX=1+(P7E+P6E)*2local multiboarditem QQElocal integer ilocal integer xlocal integer curRow1local integer curRow2local string e="|r"local string c0="|cff99ccff"local integer CRXlocal integer CIXlocal integer CAX=$83local integer CNX=$8Blocal integer CBX=$8Blocal integer CCX=$FFlocal integer AXX=0local string AOX=""local string ARX=""local integer AIX=0local integer AAX=0local integer rlocal string IUXif P7E>0 and P6E>0 thenset CXX=CXX+2endifif GetTriggerExecCount(GetTriggeringTrigger())==1 thencall B4X(CXX,COX)endifif GetLocalPlayer()==BVV or GetLocalPlayer()==BEV thencall MultiboardDisplay(CYV,true)endifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(G[GetPlayerId(RX[i])]))if r>0 thenset AXX=AXX+I0X(r)if AIX==0 thenif r<$A thenset AOX=C[GetPlayerId(RX[i])]+"0"+I2S(r)+" |r"elseset AOX=C[GetPlayerId(RX[i])]+I2S(r)+" |r"endifelseif r<$A thenset AOX=AOX+Hj+"| |r"+C[GetPlayerId(RX[i])]+"0"+I2S(r)+" |r"elseset AOX=AOX+Hj+"| |r"+C[GetPlayerId(RX[i])]+I2S(r)+" |r"endifendifset AIX=AIX+1endifset i=i+1endloopif AIX>0 thenset AOX=Hj+"[Sentinel: |r"+AOX+Hj+"]|r"endifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(G[GetPlayerId(GX[i])]))if r>0 thenset AXX=AXX+I0X(r)if AAX==0 thenif r<$A thenset ARX=C[GetPlayerId(GX[i])]+"0"+I2S(r)+" |r"elseset ARX=C[GetPlayerId(GX[i])]+I2S(r)+" |r"endifelseif r<$A thenset ARX=ARX+Hj+"| |r"+C[GetPlayerId(GX[i])]+"0"+I2S(r)+" |r"elseset ARX=ARX+Hj+"| |r"+C[GetPlayerId(GX[i])]+I2S(r)+" |r"endifendifset AAX=AAX+1endifset i=i+1endloopif AAX>0 thenset ARX=Hj+"[Scourge: |r"+ARX+Hj+"]|r"endifcall MultiboardSetTitleText(CYV,AOX+" "+ARX+" "+GetObjectName(1848657203)+" "+" - "+(D2V)+" - "+("|c00ff0303"+I2S(D[GetPlayerId(RX[0])])+"|r/|c0020c000"+I2S(J[GetPlayerId(RX[0])])+"|r"))set x=1set i=1loopexitwhen i>5if B8E(RX[i])or GetPlayerSlotState(RX[i])==PLAYER_SLOT_STATE_LEFT thenset B8X[x]=RX[i]set x=x+1endifset i=i+1endloopset x=1set i=1loopexitwhen i>5if B8E(GX[i])or GetPlayerSlotState(GX[i])==PLAYER_SLOT_STATE_LEFT thenset B9X[x]=GX[i]set x=x+1endifset i=i+1endloopset i=0set CEX=0loopexitwhen i>CXXset QQE=MultiboardGetItem(CYV,i,CEX)call MultiboardSetItemWidth(QQE,.075)call MultiboardReleaseItem(QQE)set i=i+1endloopset CVX=0set CEX=0set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE," ")call MultiboardReleaseItem(QQE)set CEX=0set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,false)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mE(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mE(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CVX=CVX+1set CEX=0set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,false)call MultiboardReleaseItem(QQE)set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemValue(QQE,"("+mg(B8X[i])+")")call MultiboardSetItemIcon(QQE,mD(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemValue(QQE,"("+mg(B9X[i])+")")call MultiboardSetItemIcon(QQE,mD(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CVX=CVX+1set CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Items"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],1))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],2))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],1))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],2))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset CVX=CVX+1set CEX=0set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+" "+e)call MultiboardReleaseItem(QQE)set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],3))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],4))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],3))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],4))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset CVX=CVX+1set CEX=0set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+" "+e)call MultiboardReleaseItem(QQE)set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],5))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B8X[i],6))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],5))call MultiboardSetItemWidth(QQE,.015)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,me(B9X[i],6))call MultiboardSetItemWidth(QQE,.054)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Current Gold"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mf(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mf(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Hero K/D/A"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mi(B8X[i])+"/"+mI(B8X[i])+"/"+B5X(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mi(B9X[i])+"/"+mI(B9X[i])+"/"+B5X(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Wards"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mG(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mG(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Towers Kills"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mm(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mm(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Creep Stats"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mj(B8X[i])+"/"+mJ(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mj(B9X[i])+"/"+mJ(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Neutral Kills"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mk(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mk(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Hero Kill Gold"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mh(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mh(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Time Dead"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mM(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mM(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Gold Lost"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mH(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mH(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Consumables"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mF(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mF(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Double Kills"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mK(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mK(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Triple Kills"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,ml(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,ml(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Best Spree"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mL(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,mL(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopif P7E>0 and P6E>0 thenset CEX=0set CRX=CVXset CIX=CEXset CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Kill Details"+e)call MultiboardReleaseItem(QQE)set CVX=CRXset x=1loopexitwhen x>P7Eset CEX=0set CVX=CRXset i=1loopexitwhen i>P6Eset CEX=x+(x-1)set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,mD(B8X[x]))call MultiboardSetItemWidth(QQE,.01)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemIcon(QQE,mD(B9X[i]))call MultiboardSetItemValue(QQE," "+mn(B8X[x],B9X[i]))call MultiboardSetItemWidth(QQE,.059)call MultiboardReleaseItem(QQE)set i=i+1endloopset x=x+1endloopset x=P7E+1loopexitwhen x>(P6E+P7E)set CEX=0set CVX=CRXset i=1loopexitwhen i>P7Eset CEX=x+(x-1)set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,false,true)call MultiboardSetItemIcon(QQE,mD(B9X[x-P7E]))call MultiboardSetItemWidth(QQE,.01)call MultiboardReleaseItem(QQE)set CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemIcon(QQE,mD(B8X[i]))call MultiboardSetItemValue(QQE," "+mn(B9X[x-P7E],B8X[i]))call MultiboardSetItemWidth(QQE,.059)call MultiboardReleaseItem(QQE)set i=i+1endloopset x=x+1endloopendifset CVX=CVX+1set CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+GetObjectName(1848658003)+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemValueColor(QQE,CAX,CNX,CBX,CCX)if mN(B8X[i])==" " thencall MultiboardSetItemStyle(QQE,true,false)elsecall MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemIcon(QQE,(FGE(QV[GetPlayerId((B8X[i]))])))endifcall MultiboardSetItemValue(QQE,B2X(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemValueColor(QQE,CAX,CNX,CBX,CCX)if mN(B9X[i])==" " thencall MultiboardSetItemStyle(QQE,true,false)elsecall MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemIcon(QQE,(FGE(QV[GetPlayerId((B9X[i]))])))endifcall MultiboardSetItemValue(QQE,B2X(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,c0+"Respawn"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)if mN(B8X[i])==" "thencall MultiboardSetItemStyle(QQE,true,false)elsecall MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemIcon(QQE,mD(B8X[i]))endifcall MultiboardSetItemValue(QQE,mN(B8X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)if mN(B9X[i])==" "thencall MultiboardSetItemStyle(QQE,true,false)elsecall MultiboardSetItemStyle(QQE,true,true)call MultiboardSetItemIcon(QQE,mD(B9X[i]))endifcall MultiboardSetItemValue(QQE,mN(B9X[i]))call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,"|c00dd8dff"+"AI Actions"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)set IUX=IQX(GetPlayerId(B8X[i]),true)if B8X[i]==GGV thenset IUX="|c00ffcc00- LEADER -|r"endifcall MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,IUX)call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)set IUX=IQX(GetPlayerId(B9X[i]),true)if B9X[i]==GHV thenset IUX="|c00ffcc00- LEADER -|r"endifcall MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,IUX)call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset CEX=0set CVX=CVX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,"|c0020c060"+"Exp.|r - "+"|c00ffcc60"+"Gold|r"+e)call MultiboardReleaseItem(QQE)set CEX=0set i=1loopexitwhen i>P7Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)set IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(B8X[i])-100.))+"%|r - "+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(B8X[i])])+"|r"call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,IUX)call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopset i=1loopexitwhen i>P6Eset CEX=CEX+1set QQE=MultiboardGetItem(CYV,CVX,CEX)set IUX="|c0020c060"+"+"+I2S(R2I(GetPlayerHandicapXPBJ(B9X[i])-100.))+"%|r - "+"|c00ffcc60"+"+"+I2S(QRV[48+GetPlayerId(B9X[i])])+"|r"call MultiboardSetItemStyle(QQE,true,false)call MultiboardSetItemValue(QQE,IUX)call MultiboardSetItemWidth(QQE,.07)call MultiboardReleaseItem(QQE)set i=i+1endloopendfunctionfunction CDX takes integer p5,integer m5 returns booleanlocal integer i=Tb-1local real CFX=0local real D3E=(TimerGetElapsed(K))local integer CGX=0loopexitwhen i==Tb or CFX>wb or CGX>$C8if i==0 thenset i=8000-1endifset CGX=CGX+1set CFX=D3E-Mb[i]if pb[i]==p5 and Qb[i]==m5 and CFX<wb thenset pb[i]=0set Qb[i]=0return trueendifset i=i-1endloopreturn falseendfunctionfunction NPX takes nothing returns nothinglocal integer p5=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local integer m5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local real HUE=GetEventDamage()set Mb[Tb]=(TimerGetElapsed(K))set pb[Tb]=p5set Qb[Tb]=m5set Tb=Tb+1if Tb==8000 thenset Tb=1endifendfunctionfunction CHX takes unit S4,unit CJX returns stringlocal integer i=1local integer CKX=GetPlayerId(GetOwningPlayer(S4))local integer CLX=GetPlayerId(GetOwningPlayer(CJX))local integer CMXlocal string CPX=" "+GetObjectName(1848658521)+" "local boolean CQX=falseloopexitwhen i>5if B2E(GetOwningPlayer(CJX))thenset CMX=GetPlayerId(RX[i])elseset CMX=GetPlayerId(GX[i])endifif CLX!=CMX and CDX(CMX,CKX)thenset UT[CMX]=UT[CMX]+1call PGE("Assist"+I2S(CMX),CKX)if CQX thenset CPX=CPX+"/"+C[CMX]+(BXV[GetPlayerId((Player(CMX)))])+"|r"elseset CPX=CPX+C[CMX]+(BXV[GetPlayerId((Player(CMX)))])+"|r"endifset CQX=trueendifset i=i+1endloopif CQX thenreturn CPXendifreturn" "endfunctionfunction CSX takes integer p5,integer m5 returns booleanlocal integer i=Tb-1local real CFX=0local real D3E=(TimerGetElapsed(K))local integer CGX=0loopexitwhen i==Tb or CFX>wb or CGX>$C8if i==0 thenset i=8000-1endifset CGX=CGX+1set CFX=D3E-Mb[i]if pb[i]==p5 and Qb[i]==m5 and CFX<wb thenreturn trueendifset i=i-1endloopreturn falseendfunctionfunction CTX takes unit S4,unit CJX returns booleanlocal integer i=1local integer CKX=GetPlayerId(GetOwningPlayer(S4))local integer CLX=GetPlayerId(GetOwningPlayer(CJX))local integer CMXlocal string CPX=" Assists: "local boolean CQX=falselocal integer x=1set WT[1]=nullset WT[2]=nullset WT[3]=nullset WT[4]=nullset WT[5]=nullloopexitwhen i>5if B2E(GetOwningPlayer(CJX))thenset CMX=GetPlayerId(RX[i])elseset CMX=GetPlayerId(GX[i])endifif CLX!=CMX and CSX(CMX,CKX)thenset WT[x]=Player(CMX)set x=x+1set CQX=trueendifset i=i+1endloopreturn CQXendfunctionfunction CUX takes unit S4,unit CJX returns stringlocal integer i=1local integer CKX=GetPlayerId(GetOwningPlayer(S4))local integer CLX=GetPlayerId(GetOwningPlayer(CJX))local integer CMXlocal string CPX=""local boolean CQX=falseloopexitwhen i>5if B2E(GetOwningPlayer(CJX))thenset CMX=GetPlayerId(RX[i])elseset CMX=GetPlayerId(GX[i])endifif CLX!=CMX and CSX(CMX,CKX)thenif CQX thenset CPX=CPX+"/"+C[CMX]+(BXV[GetPlayerId((Player(CMX)))])+"|r"elseset CPX=CPX+C[CMX]+(BXV[GetPlayerId((Player(CMX)))])+"|r"endifset CQX=trueendifset i=i+1endloopif CQX thenreturn CPXendifreturn" "endfunctionfunction CWX takes unit S4,unit CJX returns integerlocal integer i=1local integer CKX=GetPlayerId(GetOwningPlayer(S4))local integer CLX=GetPlayerId(GetOwningPlayer(CJX))local integer CMXlocal integer CGX=0loopexitwhen i>5if B2E(GetOwningPlayer(CJX))thenset CMX=GetPlayerId(RX[i])elseset CMX=GetPlayerId(GX[i])endifif CLX!=CMX and CSX(CMX,CKX)thenset CGX=CGX+1endifset i=i+1endloopreturn CGXendfunctionfunction CYX takes unit CZX returns booleanreturn GetUnitTypeId(CZX)==1211117641 or GetUnitTypeId(CZX)==1211117642endfunctionfunction C_X takes unit CZX returns booleanlocal integer IAE=GetHandleId(GetOwningPlayer(CZX))local unit Q9E=RME(IAE,"Kobold0")local unit SVE=RME(IAE,"Kobold1")local unit SEE=RME(IAE,"Kobold2")local unit SXE=RME(IAE,"Kobold3")local unit SOE=RME(IAE,"Kobold4")if GetUnitAbilityLevel(Q9E,1093685078)!=0 or GetUnitAbilityLevel(SVE,1093685078)!=0 or GetUnitAbilityLevel(SEE,1093685078)!=0 or GetUnitAbilityLevel(SXE,1093685078)!=0 or GetUnitAbilityLevel(SOE,1093685078)!=0 thenreturn trueendifset Q9E=nullset SVE=nullset SEE=nullset SXE=nullset SOE=nullreturn falseendfunctionfunction C0X takes unit CZX returns booleanlocal integer i=0local integer IAE=GetHandleId(GetOwningPlayer(CZX))local unit C1X=RME(IAE,"Kobold0")loopexitwhen i>5if GetItemTypeId(UnitItemInSlot(C1X,i))==BU[VAV]and GetItemCharges(UnitItemInSlot(C1X,i))>0 thenset C1X=nullreturn trueendifset i=i+1endloopset C1X=nullreturn falseendfunctionfunction C2X takes unit CZX,location C3X returns nothinglocal integer IAE=GetHandleId(GetOwningPlayer(CZX))local unit Q9E=RME(IAE,"Kobold0")local unit SVE=RME(IAE,"Kobold1")local unit SEE=RME(IAE,"Kobold2")local unit SXE=RME(IAE,"Kobold3")local unit SOE=RME(IAE,"Kobold4")if Q9E!=null thencall ReviveHeroLoc(Q9E,C3X,true)call Q_E(Q9E)endifif SVE!=null thencall ReviveHeroLoc(SVE,C3X,true)call Q_E(SVE)endifif SEE!=null thencall ReviveHeroLoc(SEE,C3X,true)call Q_E(SEE)endifif SXE!=null thencall ReviveHeroLoc(SXE,C3X,true)call Q_E(SXE)endifif SOE!=null thencall ReviveHeroLoc(SOE,C3X,true)call Q_E(SOE)endifset SOE=nullset SXE=nullset SEE=nullset SVE=nullset Q9E=nullendfunctionfunction C4X takes unit F2E,real C5X,boolean C6X returns nothingset C2V=C2V+1set C_V[C2V]=F2Eset C0V[C2V]=XRE()+C5Xset C1V[C2V]=C6Xendfunctionfunction C7X takes integer i returns nothinglocal unit CZX=C_V[i]local player p4=GetOwningPlayer(CZX)local location C3Xif B3E(p4)thenset C3X=GetRectCenter(NA)elseset C3X=GetRectCenter(BA)endifif NI==false and GME(CZX)thencall Q2E(CZX,p4,GetLocationX(C3X),GetLocationY(C3X),true)if Q4E(CZX)==false or GetUnitAbilityLevel(CZX,1093684567)==0 thencall ReviveHeroLoc(CZX,C3X,true)elsecall C2X(CZX,C3X)endifcall SetUnitState(CZX,UNIT_STATE_MANA,GetUnitState(CZX,UNIT_STATE_MAX_MANA))endifcall RemoveLocation(C3X)call IKX(i)set CZX=nullset p4=nullset C3X=nullendfunctionfunction C8X takes nothing returns booleanlocal real D3E=XRE()local integer iset i=1loopexitwhen i>C2Vif C0V[i]<D3E and C0V[i]!=0 thencall C7X(i)endifif C0V[i]!=0 and GME(C_V[i])==false thenset C_V[i]=nullset C0V[i]=0set C1V[i]=falseendifset i=i+1endloopreturn falseendfunctionfunction C9X takes unit u returns stringlocal string s=GetObjectName(1848657487)set s=PLE(s,"$hero",C[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")return sendfunctionfunction DVX takes unit J6E returns booleanif GetOwningPlayer(J6E)!=GetLocalPlayer()thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,$F,C9X(QV[GetPlayerId(GetOwningPlayer(J6E))]))endifreturn falseendfunctionfunction DEX takes nothing returns booleanif(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false thenif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(H3V))and OAE(GetFilterUnit(),BU[EIV])!=null thencall SetItemCharges(OAE(GetFilterUnit(),BU[EIV]),GetItemCharges(OAE(GetFilterUnit(),BU[EIV]))+1)endifendifreturn falseendfunctionfunction DXX takes nothing returns booleanlocal item ilocal integer DOXif M3==0 and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(JXV))thenif OAE(GetFilterUnit(),BU[ESV])!=null thenset M3=M3+1set DOX=GetItemCharges(OAE(GetFilterUnit(),BU[ESV]))if DOX==0 thenset DOX=2elseset DOX=DOX+1endifcall SetItemCharges(OAE(GetFilterUnit(),BU[ESV]),DOX)endifendifset i=nullreturn falseendfunctionfunction DRX takes unit u returns nothinglocal group g=FYE()set H3V=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),$659,Condition(function DEX))call FWE(g)set g=nullendfunctionfunction DIX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit DAX=(LoadUnitHandle(YX,(H2E),(335)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real xlocal real ylocal real aif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerUnit()!=DAX thencall KillUnit(DAX)endifelseset a=GetUnitFacing(F3E)*bj_RADTODEGset x=GetUnitX(F3E)+75set y=GetUnitY(F3E)+75call SetUnitX(DAX,x)call SetUnitY(DAX,y)call IssueTargetOrderById(DAX,$D000F,F3E)endifset t=nullset DAX=nullset F3E=nullreturn falseendfunctionfunction DNX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit DAXif GetSummoningUnit()==MIE thencall FlushChildHashtable(YX,(H2E))call IRE(t)set DAX=GetSummonedUnit()set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterDeathEvent(t,DAX)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function DIX))call SaveUnitHandle(YX,(H2E),(335),(DAX))call SaveUnitHandle(YX,(H2E),(17),(F3E))call UnitAddAbility(DAX,1097625443)call SetUnitPosition(DAX,GetUnitX(F3E)+100,GetUnitY(F3E)+100)call IssueTargetOrderById(DAX,$D000F,F3E)call SetUnitMoveSpeed(DAX,522)endifset t=nullset F3E=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction DBX takes unit J6E,unit DCX returns nothinglocal unit F3E=DCXlocal unit MIElocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)if PAE(F3E)thenset F3E=(QV[GetPlayerId(GetOwningPlayer((F3E)))])endifset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function DNX))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call GKE(MIE,1093813559)call IssueTargetOrderById(MIE,$D0132,F3E)set t=nullset F3E=nullset MIE=nullendfunctionfunction DDX takes nothing returns booleanif(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetFilterUnit())==false thenif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(H3V))==false and OAE(GetFilterUnit(),BU[A4])!=null thenendifendifreturn falseendfunctionfunction DFX takes unit u returns nothinglocal group g=FYE()set H3V=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),$659,Condition(function DDX))call FWE(g)set g=nullendfunctionfunction DGX takes unit u returns nothinglocal group g=FYE()set M3=0set JXV=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),$591,Condition(function DXX))call FWE(g)set M3=0set g=nullendfunctionfunction DHX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DJX=R1E(IAE,"side")local integer i=1local player plocal string M6loopexitwhen i>5if DJX==0 thenset p=RX[i]set M6=C[GetPlayerId(RX[0])]+(GetObjectName((1848652622)))+"|r "+(GetObjectName((1848652624)))+" "+C[GetPlayerId(RX[0])]+(GetObjectName((1848652625)))+"|r"elseset p=GX[i]set M6=C[GetPlayerId(GX[0])]+(GetObjectName((1848652623)))+"|r "+(GetObjectName((1848652624)))+" "+C[GetPlayerId(GX[0])]+(GetObjectName((1848652625)))+"|r"endifcall DisplayTimedTextToPlayer(p,0,0,$A,M6)call J2E(XO,p)set i=i+1endloopcall O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction DKX takes integer DJX returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function DHX))call O4E(IAE,"side",DJX)set t=nullendfunctionfunction DLX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DMX=R1E(IAE,"soundIndex")local string M6=R4E(IAE,"msg")if DMX==1 thencall J1E(nX)elseif DMX==2 thencall J1E(CR)elseif DMX==3 thencall J1E(WL)elseif DMX==4 thencall J1E(ZL)endifcall D2E(II,10.,M6)call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction DPX takes string M6,integer DMX returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function DLX))call O6E(IAE,"msg",M6)call O4E(IAE,"soundIndex",DMX)set t=nullendfunctionfunction DQX takes player DSX,integer DTX,unit CZX returns nothinglocal texttag t=CreateTextTag()local string scall SetPlayerState(DSX,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(DSX,PLAYER_STATE_RESOURCE_GOLD)+DTX)call SetTextTagText(t,"+"+I2S(DTX),.025)call SetTextTagPosUnit(t,CZX,0)call SetTextTagColor(t,$FF,$DC,0,$FF)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==DSX thencall SetTextTagVisibility(t,true)set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"elsecall SetTextTagVisibility(t,false)set s=""endifif GetUnitState(CZX,UNIT_STATE_LIFE)>.5 thencall DestroyEffect(AddSpecialEffectTarget(s,CZX,"overhead"))endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endfunctionfunction DUX takes unit CZX,unit DWX,real DYX returns nothinglocal integer i=1local integer DZX=0call CTX(CZX,DWX)loopexitwhen i>5if WT[i]!=null thenset DZX=DZX+1endifset i=i+1endloopset i=1loopexitwhen i>5if WT[i]!=null thenset LDV[GetPlayerId(WT[i])]=LDV[GetPlayerId(WT[i])]+R2I(DYX/DZX)call DQX(WT[i],R2I(DYX/DZX),QV[GetPlayerId(WT[i])])endifset i=i+1endloopendfunctionfunction D_X takes player D0X,integer DTX returns nothinglocal integer T8=1local integer Jgif B2E(D0X)thenset Jg=P8(WE)elseset Jg=P8(YE)endifif B2E(D0X)thenloopexitwhen T8>5if B7E(RX[T8])thenset LDV[GetPlayerId(RX[T8])]=LDV[GetPlayerId(RX[T8])]+DTX/Jgcall DQX(RX[T8],DTX/Jg,QV[GetPlayerId(RX[T8])])endifset T8=T8+1endloopelseloopexitwhen T8>5if B7E(GX[T8])thenset LDV[GetPlayerId(GX[T8])]=LDV[GetPlayerId(GX[T8])]+DTX/Jgcall DQX(GX[T8],DTX/Jg,QV[GetPlayerId(GX[T8])])endifset T8=T8+1endloopendifendfunctionfunction D1X takes unit CZX,integer D2X returns nothinglocal player p4=GetOwningPlayer(CZX)call SetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD)-D2X)endfunctionfunction m4 takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==1865429043 thencall KillUnit(GetFilterUnit())return trueendifreturn falseendfunctionfunction D3X takes nothing returns nothinglocal boolexpr hP=Condition(function m4)local group P3E=FYE()call GroupEnumUnitsInRect(P3E,bj_mapInitialPlayableArea,hP)call FWE(P3E)set P3E=nullendfunctionfunction D4X takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) thenif GetUnitTypeId(GetTriggerUnit())==1211117642 and C0X(GetTriggerUnit())thenreturn falseendifreturn trueendifreturn falseendfunctionfunction D5X takes player D6X,player DSX returns booleanreturn GetKillingUnit()==null or(B2E(D6X)and B2E(DSX))or(B3E(D6X)and B3E(DSX))endfunctionfunction D7X takes nothing returns nothingif(GetUnitTypeId((GetEnumUnit()))==1211117642)==false thenset DIV=DIV+1if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())thenset DAV=DAV+1endifendifendfunctionfunction D8X takes nothing returns nothingif(GetUnitTypeId((GetEnumUnit()))==1211117642)==false thencall AddHeroXP(GetEnumUnit(),DXV,true)set DOV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=DOV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+DXVif GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())thenset DRV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=DRV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+DEVset LDV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=LDV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+DEVcall DQX(GetOwningPlayer(GetEnumUnit()),DEV,GetEnumUnit())endifendifendfunctionfunction D9X takes nothing returns booleanlocal integer MAElocal integer FVX=0local integer FEX=0local group gif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitTypeId((GetTriggerUnit()))==1211117642)==false thenset MAE=GetHeroLevel(GetTriggerUnit())set DXV=0set DEV=0set g=FYE()set DIV=0set DAV=0call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),$401,Condition(function LLE))call ForGroup(g,function D7X)if DIV==1 thenset FVX=20*MAE+120elseif DIV==2 thenset FVX=$F*MAE+90elseif DIV==3 thenset FVX=7*MAE+30elseif DIV==4 thenset FVX=6*MAE+$Felseif DIV==5 thenset FVX=5*MAE+$Aendifif DAV==1 thenset FEX=9*MAE+95elseif DAV==2 thenset FEX=8*MAE+20elseif DAV==3 thenset FEX=6*MAEelseif DAV==4 thenset FEX=6*MAEelseif DAV==5 thenset FEX=6*MAEendifif BV thenendifset DXV=FVXset DEV=FEXcall ForGroup(g,function D8X)call FWE(g)set g=nullendifreturn falseendfunctionfunction FXX takes nothing returns nothinglocal boolean FOX=falselocal unit CZX=GetDyingUnit()local unit DWX=GetKillingUnit()local player DSX=GetOwningPlayer(DWX)local player D6X=GetOwningPlayer(CZX)local integer DTX=0local integer FRX=0local boolean FIX=falselocal string FAX=""local string FNX=""local string FBX=""local string MidTextlocal integer xlocal string FCXlocal string FDXlocal string FFXlocal string FGXlocal boolean C6X=falselocal real FHX=1local real FJX=1local real FKX=1local real FLX=1local real FMX=0local trigger tlocal integer FPXlocal integer FQXlocal item FSXlocal integer idlocal integer FTX=GetPlayerState(D6X,PLAYER_STATE_RESOURCE_GOLD)local integer FUX=FTX-LDV[GetPlayerId(D6X)]local unit FWXlocal unit FYXcall D9X()if DWX==null and GetUnitTypeId(CZX)==1315988077 thenset DWX=QKVset DSX=GetOwningPlayer(DWX)endifset FQX=CWX(CZX,DWX)if DWX!=null thenset id=GetUnitTypeId(DWX)call GPE(QV[GetPlayerId(GetOwningPlayer(DWX))],CZX)endifif D5X(D6X,DSX)==false and FQX==1 and B4E(DSX)==false and DSX!=SX thencall CTX(CZX,DWX)set DSX=WT[1]set DWX=QV[GetPlayerId(DSX)]endifset I4V[GetPlayerId(GetOwningPlayer((CZX)))]=trueif GetUnitAbilityLevel(CZX,1093685078)!=0 or(CYX(CZX)and C_X(CZX))thenset C6X=truecall UnitRemoveAbility(CZX,1093685078)set ZX=CZXset ox=DWXif IsUnitType(DWX,UNIT_TYPE_STRUCTURE)==false thenendifendifif DSX==null thenset DSX=D6Xendifif EV and GetUnitTypeId(CZX)!=1211117642 thenif(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)thenset jx=UnitRemoveItemFromSlot(CZX,GetRandomInt(0,5))if GetItemTypeId(jx)==1227894859 thencall CreateItem(1227894855,GetItemX(jx),GetItemY(jx))call RemoveItem(jx)endifelseif(IsUnitInForce(GetDyingUnit(),GLV))thenset jx=UnitItemInSlot(GetDyingUnit(),GetRandomInt(0,5))if(jx==null)thenelseif(GetItemType(jx)==ITEM_TYPE_PURCHASABLE)thencall UnitRemoveItem(GetDyingUnit(),jx)elseset FSX=CreateItem(GetItemTypeId(jx),GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))call SetItemPlayer(FSX,GetOwningPlayer(GetDyingUnit()),false)set hG[$80+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]=hG[$80+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]+A2E(GetItemTypeId(jx))if((GetItemTypeId(jx)==BU[D8])or(GetItemTypeId(jx)==BU[X8]))thencall SetItemCharges(FSX,GetItemCharges(jx))endifendifendifendifif B2E(D6X)thenif B2E(DSX)thenset FOX=trueif(DSX==D6X)thencall D2E(II,10.,(C[GetPlayerId(D6X)]+(BXV[GetPlayerId((D6X))])+"|r "+(GetObjectName((1848652626)))))elsecall D2E(II,10.,PYE(D6X,DSX))endifelseif B3E(DSX)thenset FIX=trueset J[GetPlayerId(RX[0])]=J[GetPlayerId(RX[0])]+1set D[GetPlayerId(GX[0])]=D[GetPlayerId(GX[0])]+1set O[2]=O[2]+1set O[1]=0if DSX!=GX[0]thenset D[GetPlayerId(DSX)]=D[GetPlayerId(DSX)]+1set E[GetPlayerId(DSX)]=E[GetPlayerId(DSX)]+1endifendifendifif B3E(D6X)thenif B3E(DSX)thenset FOX=trueif(DSX==D6X)thencall D2E(II,10.,(C[GetPlayerId(D6X)]+(BXV[GetPlayerId((D6X))])+"|r "+(GetObjectName((1848652626)))))elsecall D2E(II,10.,PYE(D6X,DSX))endifelseif B2E(DSX)thenset FIX=trueset J[GetPlayerId(GX[0])]=J[GetPlayerId(GX[0])]+1set D[GetPlayerId(RX[0])]=D[GetPlayerId(RX[0])]+1set O[1]=O[1]+1set O[2]=0if DSX!=RX[0]thenset D[GetPlayerId(DSX)]=D[GetPlayerId(DSX)]+1set E[GetPlayerId(DSX)]=E[GetPlayerId(DSX)]+1endifendifendifif DSX==SX thenset FIX=falseif GetUnitTypeId(DWX)==1848651852 thencall D2E(II,10.,(C[GetPlayerId(D6X)]+(BXV[GetPlayerId((D6X))])+"|r "+(GetObjectName((1848652628)))))elsecall D2E(II,10.,(C[GetPlayerId(D6X)]+(BXV[GetPlayerId((D6X))])+"|r "+(GetObjectName((1848652629)))))endifset FOX=trueendifif N0 thencall JAE(AX,GetUnitX(CZX),GetUnitY(CZX))endifcall PGE("Hero"+I2S(GetPlayerId(D6X)),GetPlayerId(DSX))set x=E[GetPlayerId(D6X)]if x>2 and FOX==false thenif x==3 thenset DTX=50set FAX="|c0000ff40"+(GetObjectName((1848652876)))+"|r"elseif x==4 thenset DTX=100set FAX="|c00400080"+(GetObjectName((1848652878)))+"|r"elseif x==5 thenset DTX=$96set FAX="|c00ff0080"+(GetObjectName((1848652877)))+"|r"elseif x==6 thenset DTX=$C8set FAX="|c00ff8000"+(GetObjectName((1848652874)))+"|r"elseif x==7 thenset DTX=$FAset FAX="|c00808000"+(GetObjectName((1848652873)))+"|r"elseif x==8 thenset DTX=300set FAX="|c00ff80ff"+(GetObjectName((1848652630)))+"|r"elseif x==9 thenset DTX=350set FAX="|c00ff0000"+(GetObjectName((1848652631)))+"|r"elseset DTX=400set FAX="|c00ff8000"+(GetObjectName((1848652632)))+"|r"endifendifset x=E[GetPlayerId(DSX)]if x>C3V[GetPlayerId(DSX)]thenset C3V[GetPlayerId(DSX)]=xendifset FWX=DWXif IsUnitType(FWX,UNIT_TYPE_HERO)==false thenset FWX=QV[GetPlayerId(GetOwningPlayer(FWX))]endifif x>2 and GetUnitTypeId(FWX)!=1429221446 and D4V[GetPlayerId(GetOwningPlayer(FWX))]==0 thenendifset FYX=CZXif IsUnitType(FYX,UNIT_TYPE_HERO)==false thenset FYX=QV[GetPlayerId(GetOwningPlayer(FYX))]endifif FOX==false and FIX thenendifif x>2 and FOX==false thenif x==3 thencall J1E(eO)set FNX=" "+(GetObjectName((1848652875)))+" |c0000ff40"+(GetObjectName((1848652876)))+"|r"+(GetObjectName((1848652857)))elseif x==4 thencall J1E(aX)set FNX=" "+(GetObjectName((1848652872)))+" |c00400080"+(GetObjectName((1848652878)))+"|r"+(GetObjectName((1848652857)))elseif x==5 thencall J1E(rO)set FNX=" "+(GetObjectName((1848652871)))+" |c00ff0080"+(GetObjectName((1848652877)))+"|r"+(GetObjectName((1848652857)))elseif x==6 thencall J1E(fR)set FNX=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652874)))+"|r"+(GetObjectName((1848652865)))elseif x==7 thencall J1E(HR)set FNX=" "+(GetObjectName((1848652872)))+" |c00808000"+(GetObjectName((1848652873)))+"|r"+(GetObjectName((1848652865)))elseif x==8 thencall J1E(VO)set FNX=" "+(GetObjectName((1848652871)))+" |c00ff80ff"+(GetObjectName((1848652630)))+"|r"+(GetObjectName((1848652865)))elseif x==9 thencall J1E(NX)set FNX=" "+(GetObjectName((1848652872)))+" |c00ff0000"+(GetObjectName((1848652631)))+"|r"+(GetObjectName((1848652866)))elsecall J1E(uX)set FNX=" "+(GetObjectName((1848652872)))+" |c00ff8000"+(GetObjectName((1848652632)))+"|r. "+(GetObjectName((1848652870)))+(GetObjectName((1848652866)))endifendifif FOX==false thenset DTX=DTX+100+GetHeroLevel(CZX)*5+100set FCX=C[GetPlayerId(D6X)]+(BXV[GetPlayerId((D6X))])+"|r"set FDX=C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r"set FGX="|c00FFDC00"+I2S(DTX)+"|r"if DSX==RX[0]or DSX==GX[0]thenif FQX==0 thenif DSX==RX[0]thenset FFX=FDX+" "+(GetObjectName((1848652850)))+" "+FCX+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+FGX+" "+(GetObjectName((1848652852)))+"."call D_X(DSX,DTX)elseif DSX==GX[0]thenset FFX=FDX+" "+(GetObjectName((1848652850)))+" "+FCX+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+FGX+" "+(GetObjectName((1848652852)))+"."call D_X(DSX,DTX)endifelseif FQX>1 thenset FFX=FDX+" "+(GetObjectName((1848652850)))+" "+FCX+(GetObjectName((1848652851)))+(GetObjectName((1848652857)))+" "+FGX+" "+(GetObjectName((1848652852)))+"."call DUX(CZX,DWX,DTX)endifelseif FAX=="" and FNX=="" thenset FFX=FDX+" "+(GetObjectName((1848652850)))+" "+FCX+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+FGX+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))elseif FAX=="" and FNX!="" thenset FFX=FDX+" "+(GetObjectName((1848652850)))+" "+FCX+(GetObjectName((1848652851)))+" "+(GetObjectName((1848652867)))+" "+FGX+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))elseif FAX!="" and FNX=="" thenset FFX=FDX+" "+(GetObjectName((1848652856)))+" "+FCX+(GetObjectName((1848652855)))+" "+FAX+" "+(GetObjectName((1848652854)))+" "+FGX+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))elseif FAX!="" and FNX!="" thenset FFX=FDX+" "+(GetObjectName((1848652856)))+" "+FCX+(GetObjectName((1848652855)))+" "+FAX+" "+(GetObjectName((1848652854)))+" "+FGX+" "+(GetObjectName((1848652853)))+(GetObjectName((1848652857)))endifif FIX thenset FBX=CHX(CZX,DWX)endifcall D2E(II,$A,FFX+FBX)if FNX!="" thencall D2E(II,$A,FDX+FNX)endifset LDV[GetPlayerId(DSX)]=LDV[GetPlayerId(DSX)]+DTXcall DQX(DSX,DTX,CZX)set C5V[GetPlayerId(DSX)]=C5V[GetPlayerId(DSX)]+DTXif O[1]>4 thencall DKX(0)endifif O[2]>4 thencall DKX(1)endifendifset FRX=GetHeroLevel(CZX)*30if OAE(CZX,BU[EIV])!=null thenif GetItemCharges(OAE(CZX,BU[EIV]))>0 thenset FMX=-1*(4*GetItemCharges(OAE(CZX,BU[EIV])))set FRX=IMaxBJ(R2I(FRX-25*GetItemCharges(OAE(CZX,BU[EIV]))),0)endifendifif FRX>FUX thenset FRX=FUXendifcall DRX(CZX)call DGX(CZX)call DFX(CZX)if C6X==false thenset tu[GetPlayerId(D6X)]=tu[GetPlayerId(D6X)]+FRXcall D1X(CZX,FRX)endifcall SaveInteger(YX,StringHash("Stats"+I2S(GetPlayerId(DSX))),StringHash("Killed "+I2S(GetPlayerId(D6X))),((LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId(DSX))),StringHash("Killed "+I2S(GetPlayerId(D6X)))))+1))call SaveInteger(YX,StringHash("Stats"+I2S(GetPlayerId(D6X))),StringHash("Died To "+I2S(GetPlayerId(DSX))),((LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId(D6X))),StringHash("Died To "+I2S(GetPlayerId(DSX)))))+1))call StartTimerBJ(A[GetPlayerId(DSX)],false,18)if FOX==false and DSX!=RX[0]and DSX!=GX[0]and DSX!=SX thenset V[GetPlayerId(DSX)]=V[GetPlayerId(DSX)]+1if V[GetPlayerId(DSX)]==2 thenset wu[GetPlayerId(DSX)]=wu[GetPlayerId(DSX)]+1call DPX(C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r "+(GetObjectName((1848652868)))+" |c000000ff"+(GetObjectName((1848652883)))+"|r"+(GetObjectName((1848652857))),1)endifif V[GetPlayerId(DSX)]==3 thenset Wu[GetPlayerId(DSX)]=Wu[GetPlayerId(DSX)]+1call DPX(C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r "+(GetObjectName((1848652868)))+" |c0000ff40"+(GetObjectName((1848652869)))+"|r"+(GetObjectName((1848652866))),2)endifif V[GetPlayerId(DSX)]==4 thenset Wu[GetPlayerId(DSX)]=Wu[GetPlayerId(DSX)]+1call DPX(C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r "+(GetObjectName((1848652868)))+" |c0000FFFF"+(GetObjectName((1848657994)))+"|r"+(GetObjectName((1848652866))),3)endifif V[GetPlayerId(DSX)]>4 thenset Wu[GetPlayerId(DSX)]=Wu[GetPlayerId(DSX)]+1call DPX(C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r "+(GetObjectName((1848652875)))+" |c0000AAFF"+(GetObjectName((1848657995)))+"|r"+(GetObjectName((1848652866))),4)endifendifif(FOX==false)thenset E[GetPlayerId(D6X)]=0endifset E[0]=0set E[6]=0set J[GetPlayerId(D6X)]=J[GetPlayerId(D6X)]+1if C6X thenset FHX=.4endifif FOX and GetUnitTypeId(CZX)==1211117643 thenset FLX=.5endifset FPX=R2I(GetHeroLevel(CZX)*4*FHX*FJX*FKX*FLX)+R2I(FMX)if JS thenset FPX=R2I(FPX*.5)endifif D9V thenset C4V[GetPlayerId(D6X)]=0if GetPlayerController(D6X)==MAP_CONTROL_COMPUTER thencall TimerStart(G[GetPlayerId(D6X)],2.,false,null)elsecall TimerStart(G[GetPlayerId(D6X)],1.,false,null)endifelseset C4V[GetPlayerId(D6X)]=C4V[GetPlayerId(D6X)]+FPXcall TimerStart(G[GetPlayerId(D6X)],FPX,false,null)endifcall TriggerExecute(vA)if Q==false and HFV==false thencall C4X(CZX,FPX,C6X)elseif HFV and GetPlayerController(D6X)==MAP_CONTROL_USER thencall C4X(CZX,1,false)elseif(B2E(D6X))thenset P[0]=P[0]+1endifif B3E(D6X)thenset P[1]=P[1]+1endifset SE[GetPlayerId(D6X)]=CZXif GetUnitTypeId(CZX)==1211117642 thenset SE[GetPlayerId(D6X)]=RME(GetHandleId(GetOwningPlayer(CZX)),"Kobold0")endifif P[0]==FVV thencall TriggerExecute(DMV)endifif P[1]==FVV thencall TriggerExecute(DLV)endifif(GetUnitTypeId(CZX)==1429221430)thencall ExecuteFunc("D3X")elseif GetUnitTypeId(CZX)==1429221432 or GetUnitTypeId(CZX)==1160786229 thenset AOV=CZXcall ExecuteFunc("FZX")elseif GetUnitTypeId(CZX)==1432580716 thenset AOV=CZXcall ExecuteFunc("F_X")endifendifset FSX=nullset t=nullset DWX=nullset CZX=nullendfunctionfunction F0X takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local player DSX=GetOwningPlayer(GetKillingUnit())local player D6X=GetOwningPlayer(GetTriggerUnit())local string F1Xlocal integer FQX=CWX(GetTriggerUnit(),GetKillingUnit())if DSX==RX[0]or DSX==GX[0]thencall DUX(GetTriggerUnit(),GetKillingUnit(),$C8)set F1X=CUX(GetTriggerUnit(),GetKillingUnit())+" "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "if FQX>1 thenset F1X=F1X+"(+200 "+(GetObjectName((1848652852)))+")"elseset F1X=F1X+"(+200 "+(GetObjectName((1848652853)))+")"endifelseset F1X=C[GetPlayerId(DSX)]+(BXV[GetPlayerId((DSX))])+"|r "+(GetObjectName((1848652887)))+" |c00ff0303"+(GetObjectName((1848652889)))+(GetObjectName((1848652857)))+"|r "set F1X=F1X+"(+200 "+(GetObjectName((1848652853)))+")"call DQX(DSX,$C8,QV[GetPlayerId(DSX)])set LDV[GetPlayerId(DSX)]=LDV[GetPlayerId(DSX)]+$C8endifcall D2E(II,$A,F1X)call J1E(EX)call IRE(t)set t=nullendfunctionfunction F2X takes nothing returns booleanif GetOwningPlayer(GetKillingUnit())!=SX and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())) thenif GetOwningPlayer(GetKillingUnit())==RX[0]or GetOwningPlayer(GetKillingUnit())==GX[0]thenif CWX(GetTriggerUnit(),GetKillingUnit())>0 thencall F0X()endifelsecall F0X()endifendifreturn falseendfunctionfunction F3X takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit ulocal region rif GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)elseset u=RME(IAE,"u")set r=CreateRegion()call RegionAddRect(r,CE)call RegionAddRect(r,dE)if IsUnitInRegion(r,u)==false thenif R3E(IAE,"safe") thencall O7E(IAE,"safe",false)elsecall SetUnitX(u,GetRectCenterX(Qr))call SetUnitY(u,GetRectCenterY(Qr))call O7E(IAE,"safe",true)endifendifcall RemoveRegion(r)set u=nullset r=nullendifset t=nullreturn falseendfunctionfunction F4X takes unit u returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,10.,true)call TriggerAddCondition(t,Condition(function F3X))call O8E(IAE,"u",u)call O7E(IAE,"safe",true)set t=nullendfunctionfunction F5X takes nothing returns booleanlocal item IOXlocal integer CGX=GetTriggerEvalCount(GetTriggeringTrigger())if CGX==600 thencall IRE(GetTriggeringTrigger())endifif CGX==420 or CGX==540 thenif C6V!=null thenset IOX=OAE(C6V,BU[VAV])if IOX!=null thenif CGX==420 thenif B2E(GetOwningPlayer(C6V))thencall D2E(WE,$F,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")elsecall D2E(YE,$F,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848657207)))+"|r")endifelseif B2E(GetOwningPlayer(C6V))thencall D2E(WE,$F,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")elsecall D2E(YE,$F,(GetObjectName((1848657209)))+" |c00ff0303"+(GetObjectName((1848656984)))+"|r")endifendifendifendifendifset IOX=nullreturn falseendfunctionfunction F6X takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function F5X))call TriggerEvaluate(t)set t=nullendfunctionfunction F7X takes nothing returns booleanset C8V=GetTriggerEvalCount(GetTriggeringTrigger())if OV!=null and GetUnitState(OV,UNIT_STATE_LIFE)>1 thencall SetPlayerTechResearched(GetOwningPlayer(OV),1378889798,C8V)if GetUnitAbilityLevel(OV,1093743666)==0 thencall UnitAddAbility(OV,1093743666)endifcall SetUnitAbilityLevel(OV,1093743666,C8V+1)endifreturn falseendfunctionfunction F8X takes nothing returns nothinglocal integer i=1local unit FLEset C6V=nullloopexitwhen i>5set FLE=QV[GetPlayerId(RX[i])]if FLE!=null and OAE(FLE,BU[VAV])!=null thencall DisableTrigger(R3V)call PGE("AegisOff",GetPlayerId(GetOwningPlayer(FLE)))call RemoveItem(OAE(FLE,BU[VAV]))call EnableTrigger(R3V)endifset FLE=QV[GetPlayerId(GX[i])]if FLE!=null and OAE(FLE,BU[VAV])!=null thencall DisableTrigger(R3V)call PGE("AegisOff",GetPlayerId(GetOwningPlayer(FLE)))call RemoveItem(OAE(FLE,BU[VAV]))call EnableTrigger(R3V)endifset i=i+1endloopset FLE=nullendfunctionfunction F9X takes string GVX,string GEX returns stringlocal string s=(GetObjectName((1848656705)))set s=PLE(s,"$team",GVX)set s=PLE(s,"$team",GEX)return sendfunctionfunction GXX takes nothing returns booleanreturn GetUnitTypeId(GetDyingUnit())==1848651852endfunctionfunction IsHero takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)!=nullendfunctionfunction GOX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local location GRXlocal real G3Eif GetTriggerEvalCount(t)==600 or QEV thenset QEV=falseset GRX=GetRectCenter(Qr)call F8X()set DVV=DVV+1set OV=CreateUnitAtLoc(Player($C),1848651852,GRX,bj_UNIT_FACING)call SetUnitAcquireRange(OV,$96)call F4X(OV)call UnitAddAbility(OV,1093743666)call SetPlayerTechResearched(GetOwningPlayer(OV),1378889798,C8V)call SetUnitAbilityLevel(OV,1093743666,C8V+1)call RemoveLocation(GRX)if DVV>1 thencall UnitRemoveAbility(OV,1093684018)call UnitAddAbility(OV,1093685558)call UnitAddItem(OV,CreateItem(BU[S5],0,0))endifcall UnitAddItem(OV,CreateItem(BU[VAV],0,0))call IRE(t)set YGV=99999999.endifset t=nullreturn falseendfunctionfunction GIX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function GOX))set QEV=falsecall F6X()set C7V=falseif(B2E(GetOwningPlayer(GetKillingUnit())))thencall PGE("Roshan",0)call D2E(bj_FORCE_ALL_PLAYERS,10.,F9X("|c00ff0000"+(GetObjectName((1848653365)))+"|r",(GetObjectName((1848653365)))))call AdjustPlayerStateBJ($C8,RX[1],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,RX[2],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,RX[3],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,RX[4],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,RX[5],PLAYER_STATE_RESOURCE_GOLD)endifif(B3E(GetOwningPlayer(GetKillingUnit())))thencall PGE("Roshan",1)call D2E(bj_FORCE_ALL_PLAYERS,10.,F9X("|c00004000"+(GetObjectName((1848653379)))+"|r",(GetObjectName((1848653379)))))call AdjustPlayerStateBJ($C8,GX[1],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,GX[2],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,GX[3],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,GX[4],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ($C8,GX[5],PLAYER_STATE_RESOURCE_GOLD)endifset t=nullendfunctionfunction GAX takes nothing returns nothinglocal texttag t=CreateTextTag()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(GetKillingUnit())call SetTextTagText(t,"$",.027)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,BOV[GetPlayerId(p)],BRV[GetPlayerId(p)],BIV[GetPlayerId(p)],$F)call SetTextTagVelocity(t,0,.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,1.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)if GetLocalPlayer()==BVV or GetLocalPlayer()==BEV thencall SetTextTagVisibility(t,true)endifset t=nullset u=nullset p=nullendfunctionfunction GNX takes unit u,player p returns nothinglocal texttag t=CreateTextTag()call SetTextTagText(t,"!",.03)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,BOV[GetPlayerId(p)],BRV[GetPlayerId(p)],BIV[GetPlayerId(p)],$F)call SetTextTagVelocity(t,0,.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,1.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)if ob[GetPlayerId(GetLocalPlayer())] or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thencall SetTextTagVisibility(t,true)endifset t=nullendfunctionfunction GBX takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER) thencall AddHeroXP(GetEnumUnit(),Tl/ I5V,true)elsecall AddHeroXP(GetEnumUnit(),tl/ I5V,true)endifendfunctionfunction GCX takes nothing returns nothinglocal group g=FYE()local integer C6Elocal integer GDX=18local integer GFX=GDX*2call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),$3E8,Condition(function LLE))set C6E=JQE(g)set I5V=C6Eset tl=GDXset Tl=GFXcall ForGroup(g,function GBX)call FWE(g)call GNX(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))set g=nullendfunctionfunction GGX takes nothing returns booleanif IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit())) thencall GCX()elseif XR and B4E(GetOwningPlayer(GetKillingUnit()))thencall GAX()endifendifreturn falseendfunctionfunction GHX takes player PZE,player P_E returns stringlocal string s=(GetObjectName((1848656208)))set s=PLE(s,"$dead",(BXV[GetPlayerId((PZE))]))return sendfunctionfunction GJX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullreturn falseendfunctionfunction GKX takes unit J6E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function GJX))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))set J6E=nullset t=nullendfunctionfunction GLX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit GMX=(LoadUnitHandle(YX,(H2E),(2)))local integer DZX=GetTriggerEvalCount(t)local integer GPX=$B4-DZXlocal integer i=1local integer idlocal real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))loopexitwhen i>5if IsPlayerAlly(GetOwningPlayer(GMX),RX[0])thenset id=GetPlayerId(RX[i])elseset id=GetPlayerId(GX[i])endifset i=i+1if GPX==0 thencall LeaderboardDisplay(ZUV[id],false)if IsPlayerAlly(RX[0],Player(id))thenset Z6V[GetPlayerId(RX[0])]=falseendifif IsPlayerAlly(GX[0],Player(id))thenset Z6V[GetPlayerId(GX[0])]=falseendifelseif GME(QV[id])==false thencall PlayerSetLeaderboard(Player(id),ZUV[id])call LeaderboardDisplay(ZUV[id],true)call LeaderboardSetLabel(ZUV[id],"    "+GetObjectName(1848659034)+" "+I2S(GPX))endifendifendloopif GPX==2 thencall SetUnitPosition(GMX,x,y)endifif GPX==0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset GMX=nullreturn falseendfunctionfunction GQX takes player RFX,integer DYX returns nothinglocal texttag tif DYX>0 thenset t=CreateTextTag()call SetPlayerState(RFX,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(RFX,PLAYER_STATE_RESOURCE_GOLD)+DYX)call SetTextTagText(t,"+"+I2S(DYX),.025)call SetTextTagPosUnit(t,QV[GetPlayerId(RFX)],0)call SetTextTagColor(t,$FF,$DC,0,$FF)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==RFX thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endifendfunctionfunction GSX takes nothing returns booleanlocal real xlocal real ylocal unit GMX=GetTriggerUnit()local integer i=1local integer GTX=$AFlocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call PGE("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call D2E(II,10.,GHX(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,$FF,0,0,false)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function GLX))call SaveUnitHandle(YX,(H2E),(2),(GMX))if IsPlayerAlly(GetOwningPlayer(GMX),RX[0])and Z6V[GetPlayerId(RX[0])]==false thenset Z6V[GetPlayerId(RX[0])]=trueloopexitwhen i>5call GQX(GX[i],GTX)set i=i+1endloopendifset i=1if IsPlayerAlly(GetOwningPlayer(GMX),GX[0])and Z6V[GetPlayerId(GX[0])]==false thenset Z6V[GetPlayerId(GX[0])]=trueloopexitwhen i>5call GQX(RX[i],GTX)set i=i+1endloopendifif B2E(GetOwningPlayer(GMX))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifcall SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))if IsTerrainPathable(GetUnitX(GMX),GetUnitY(GMX),PATHING_TYPE_WALKABILITY)thencall GKX(GMX)endifset t=nullreturn falseendfunctionfunction GUX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=ANVlocal real y=ABVif B3E(GetOwningPlayer(J6E))thenset x=NEVset y=NXVendifif GME(J6E)==false thenif E4E(GetUnitX(J6E),GetUnitY(J6E),x,y)<800 thencall GKE(J6E,1098282348)elsecall UnitRemoveAbility(J6E,1098282348)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction GWX takes unit GMX returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(GMX),1093810510,false)call UnitMakeAbilityPermanent(GMX,true,1093810509)call TriggerRegisterDeathEvent(t,GMX)call TriggerAddCondition(t,Condition(function GSX))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function GUX))call SaveUnitHandle(YX,(H2E),(2),(GMX))set t=nullendfunctionfunction GYX takes nothing returns nothingif XDE(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false thencall PGE("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call D2E(II,10.,GHX(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,$FF,0,0,false)endifendfunctionfunction GZX takes nothing returns booleancall IRE(GetTriggeringTrigger())set Z6V[GetPlayerId(RX[0])]=falseset Z6V[GetPlayerId(GX[0])]=falseset ZUV[GetPlayerId(RX[1])]=CreateLeaderboard()set ZUV[GetPlayerId(RX[2])]=CreateLeaderboard()set ZUV[GetPlayerId(RX[3])]=CreateLeaderboard()set ZUV[GetPlayerId(RX[4])]=CreateLeaderboard()set ZUV[GetPlayerId(RX[5])]=CreateLeaderboard()set ZUV[GetPlayerId(GX[1])]=CreateLeaderboard()set ZUV[GetPlayerId(GX[2])]=CreateLeaderboard()set ZUV[GetPlayerId(GX[3])]=CreateLeaderboard()set ZUV[GetPlayerId(GX[4])]=CreateLeaderboard()set ZUV[GetPlayerId(GX[5])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[1],ZUV[GetPlayerId(RX[1])])call PlayerSetLeaderboard(RX[2],ZUV[GetPlayerId(RX[2])])call PlayerSetLeaderboard(RX[3],ZUV[GetPlayerId(RX[3])])call PlayerSetLeaderboard(RX[4],ZUV[GetPlayerId(RX[4])])call PlayerSetLeaderboard(RX[5],ZUV[GetPlayerId(RX[5])])call PlayerSetLeaderboard(GX[1],ZUV[GetPlayerId(GX[1])])call PlayerSetLeaderboard(GX[2],ZUV[GetPlayerId(GX[2])])call PlayerSetLeaderboard(GX[3],ZUV[GetPlayerId(GX[3])])call PlayerSetLeaderboard(GX[4],ZUV[GetPlayerId(GX[4])])call PlayerSetLeaderboard(GX[5],ZUV[GetPlayerId(GX[5])])call LeaderboardDisplay(ZUV[GetPlayerId(RX[1])],false)call LeaderboardDisplay(ZUV[GetPlayerId(RX[2])],false)call LeaderboardDisplay(ZUV[GetPlayerId(RX[3])],false)call LeaderboardDisplay(ZUV[GetPlayerId(RX[4])],false)call LeaderboardDisplay(ZUV[GetPlayerId(RX[5])],false)call LeaderboardDisplay(ZUV[GetPlayerId(GX[1])],false)call LeaderboardDisplay(ZUV[GetPlayerId(GX[2])],false)call LeaderboardDisplay(ZUV[GetPlayerId(GX[3])],false)call LeaderboardDisplay(ZUV[GetPlayerId(GX[4])],false)call LeaderboardDisplay(ZUV[GetPlayerId(GX[5])],false)call LeaderboardSetLabelBJ(ZUV[GetPlayerId(RX[1])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(RX[2])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(RX[3])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(RX[4])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(RX[5])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(GX[1])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(GX[2])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(GX[3])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(GX[4])]," ")call LeaderboardSetLabelBJ(ZUV[GetPlayerId(GX[5])]," ")return falseendfunctionfunction G_X takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())if id==1697656914 or id==1697657137 or id==1697656915 or id==1697657145 or id==1966092365 or id==1966092356 or id==1966092366 or id==1966092372 thenif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset DNV[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=DNV[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1call D2E(II,$A,C[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848652880)))+".")elsecall D2E(II,$A,C[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName((1848657230)))+".")endifendifendfunctionfunction G0X takes nothing returns nothingif XDE(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),RX[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>.5 thencall UnitRemoveAbility(GetEnumUnit(),1110456392)call MNE(ACV,GetEnumUnit(),2,500)endifendfunctionfunction G1X takes nothing returns nothingif XDE(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),GX[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>.5 thencall UnitRemoveAbility(GetEnumUnit(),1110456392)call MNE(NOV,GetEnumUnit(),2,500)endifendfunctionfunction G2X takes nothing returns booleanlocal group g=FYE()call GroupEnumUnitsInRect(g,ZA,Condition(function BUE))call ForGroup(g,function G0X)call FWE(g)set g=FYE()call GroupEnumUnitsInRect(g,BN,Condition(function BUE))call ForGroup(g,function G1X)call FWE(g)set g=nullreturn falseendfunctionfunction G3X takes unit u returns booleanreturn(GetUnitAbilityLevel((u),(1110454344))>0)or(GetUnitAbilityLevel((u),(1112500344))>0)or(GetUnitAbilityLevel((u),(1112560453))>0)or(GetUnitAbilityLevel((u),(1110456633))>0)or(GetUnitAbilityLevel((u),(1112757326))>0)or(GetUnitAbilityLevel((u),(1110459206))>0)or(GetUnitAbilityLevel((u),(1110458957))>0)or(GetUnitAbilityLevel((u),(1110455885))>0)or(GetUnitAbilityLevel((u),(1110456142))>0)or(GetUnitAbilityLevel((u),(1110456403))>0)or(GetUnitAbilityLevel((u),(1110454353))>0)or(GetUnitAbilityLevel((u),(1110455382))>0)or(GetUnitAbilityLevel((u),(1110456114))>0)or(GetUnitAbilityLevel((u),(1112891758))>0)or(GetUnitAbilityLevel((u),(1110456629))>0)or(GetUnitAbilityLevel((u),(1110455113))>0)or(GetUnitAbilityLevel((u),(1110458692))>0)or(GetUnitAbilityLevel((u),(1110458693))>0)or(GetUnitAbilityLevel((u),(1110458949))>0)or(GetUnitAbilityLevel((u),(1110458950))>0)or(GetUnitAbilityLevel((u),(1110454328))>0)or(GetUnitAbilityLevel((u),(1110455362))>0)or(GetUnitAbilityLevel((u),(1110454854))>0)or(GetUnitAbilityLevel((u),(1112896368))>0)or(GetUnitAbilityLevel((u),(1112896372))>0)or(GetUnitAbilityLevel((u),(1110459460))>0)or(R8E(u,"DisruptionState"))or(R8E(u,"AstralImprisonmentState"))or(GetUnitAbilityLevel((u),(1110459186))>0)or(GetUnitAbilityLevel((u),(1110455891))>0)or(GetUnitAbilityLevel((u),(1110454867))>0)or(GetUnitAbilityLevel((u),(1110456133))>0)endfunctionfunction G4X takes unit u returns booleanreturn G3X(u)or K1E(u)or IsUnitPaused(u)or DYE(u)endfunctionfunction G5X takes unit V_E returns booleanreturn(IsUnitType(V_E,UNIT_TYPE_STUNNED)or IsUnitType(V_E,UNIT_TYPE_SNARED)or IsUnitType(V_E,UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(V_E)<290 or IsUnitPaused(V_E))or G3X(V_E)or K1E(V_E)endfunctionfunction G6X takes integer G7X,integer G8X,boolean extraColor returns nothinglocal integer x=0loopexitwhen x>$Fcall SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,G7X)call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,G8X)set x=x+1endloopendfunctionfunction G9X takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id==1848652343 or id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092599 or id==1966092601 or id==1966092600 or id==1966092609 or id==1966092610 or id==1966092611endfunctionfunction HVX takes unit u,boolean b returns nothingcall SetUnitInvulnerable(u,b)call SaveBoolean(YX,(GetHandleId(u)),(509),(b))endfunctionfunction HEX takes unit u returns booleanreturn(LoadBoolean(YX,(GetHandleId(u)),(509)))or GetUnitAbilityLevel(u,1098282348)>0endfunctionfunction HXX takes real x,real y returns locationlocal real JJElocal real JKElocal integer i=0loopexitwhen i>40set JJE=x+i*20set JKE=y+i*20if IsPointInRegion(ARV,JJE,JKE)==false thenreturn Location(JJE,JKE)endifset JJE=x+i*20set JKE=y-i*20if IsPointInRegion(ARV,JJE,JKE)==false thenreturn Location(JJE,JKE)endifset JJE=x-i*20set JKE=y+i*20if IsPointInRegion(ARV,JJE,JKE)==false thenreturn Location(JJE,JKE)endifset JJE=x-i*20set JKE=y-i*20if IsPointInRegion(ARV,JJE,JKE)==false thenreturn Location(JJE,JKE)endifset i=i+1endloopreturn Location(x,y)endfunctionfunction HOX takes unit J6E,integer MAE,integer HRX returns nothinglocal integer iif MFV[1]==0 thenreturnendifset i=1loopexitwhen i>$Acall UnitRemoveAbility(J6E,MFV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall UnitRemoveAbility(J6E,MGV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall UnitRemoveAbility(J6E,MHV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall UnitRemoveAbility(J6E,MJV[i])set i=i+1endloopcall UnitRemoveAbility(J6E,1110458963)if MAE==1 thencall UnitAddAbility(J6E,MFV[HRX])elseif MAE==2 thencall UnitAddAbility(J6E,MGV[HRX])elseif MAE==3 thencall UnitAddAbility(J6E,MHV[HRX])elseif MAE==4 thencall UnitAddAbility(J6E,MJV[HRX])endifendfunctionfunction HIX takes integer KIE returns nothingset JDV=JDV+1set JCV[JDV]=KIEendfunctionfunction HAX takes unit u returns nothinglocal integer i=1loopexitwhen i>JDVcall UnitRemoveAbility(u,JCV[i])set i=i+1endloopendfunctionfunction HNX takes integer o6 returns booleanreturn o6==1095331943 or o6==1093677654 or o6==1094938741 or o6==1093744708 or o6==1093750613 or o6==1095328633 or o6==1093751617endfunctionfunction HBX takes unit m5 returns nothingcall UnitRemoveAbility(m5,1093749313)call UnitRemoveAbility(m5,1110459204)call UnitRemoveAbility(m5,1093749828)call UnitRemoveAbility(m5,1097167980)call HOX(m5,0,0)endfunctionfunction HCX takes nothing returns booleanif HNX(GetSpellAbilityId())thencall HBX(GetSpellTargetUnit())endifreturn falseendfunctionfunction HDX takes integer HFX returns integerif MU[HFX]==0 thenreturn HFXelsereturn MU[HFX]endifendfunctionfunction HGX takes nothing returns nothinglocal integer HHX=R2I(TimerGetElapsed(K)-CHV)local integer G7X=HHX/60-1/2local integer G8X=ModuloInteger(HHX,60)if DBV thencall G6X(G7X,G8X,false)elseif F6V==false thenset HHX=R2I(16-TimerGetElapsed(K))set G7X=HHX/ 60-1/ 2set G8X=ModuloInteger(HHX,60)call G6X(G7X,G8X,true)endifset Bz=R2I(TimerGetElapsed(K)-CJV)set L=G7Xset M=G8Xendfunctionfunction HJX takes item XJE returns booleanlocal integer HKX=XGE(XJE)return HKX==OFV or HKX==OGV or HKX==OHV or HKX==OJV or HKX==OKV or HKX==OLV or HKX==OMV or HKX==OPV or HKX==OQV or HKX==OSV or HKX==OTV or HKX==OWV or HKX==OYV or HKX==OZV or HKX==O_V or HKX==O0V or HKX==O1V or HKX==O2V or HKX==O4V or HKX==O5V or HKX==O6V or HKX==O8V or HKX==O9V or HKX==RVV or HKX==REV or HKX==RXV or HKX==ROV or HKX==RIV or HKX==RAV or HKX==RNV or HKX==RBV or HKX==RCV or HKX==RDV or HKX==RFV or HKX==RGV or HKX==RRV or HKX==RHV or HKX==OUV or HKX==RJV or HKX==RKV or HKX==RMV or HKX==RPV or HKX==RQV or HKX==RTV or HKX==RSV or HKX==RUV or HKX==RLV or HKX==RWV or HKX==RYV or HKX==RZV or HKX==R_V or HKX==R0Vendfunctionfunction HLX takes integer HKX returns booleanreturn HKX==EXV or HKX==S5 or HKX==A5 or HKX==B5 or HKX==C5 or HKX==F5 or HKX==G5 or HKX==J5 or HKX==L5 or HKX==N5 or HKX==V6 or HKX==E6endfunctionfunction HMX takes integer HKX returns booleanreturn HKX==ESV or HKX==E4 or HKX==X8 or HKX==O8 or HKX==EIV or HKX==VAV or HKX==W5 or HKX==H3 or HKX==EKV or HKX==A4endfunctionfunction HPX takes integer HFX returns integerif C5==HFX thenreturn 3endifif F5==HFX or G5==HFX or T5==HFX or N5==HFX or V6==HFX thenreturn 2endifreturn 1endfunctionfunction HQX takes string winner returns nothinglocal integer ilocal player plocal string idlocal integer D5=R2I(TimerGetElapsed(K)-CHV)local integer HSX=D5/ 60-1/ 2local integer G8X=ModuloInteger(D5,60)call PBE()set i=1loopexitwhen i>5set p=RX[i]set id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,"1",(D[GetPlayerId((p))]))call StoreInteger(AIV,id,"2",(J[GetPlayerId((p))]))call StoreInteger(AIV,id,"3",(RE[GetPlayerId((p))]))call StoreInteger(AIV,id,"4",(KE[GetPlayerId((p))]))call StoreInteger(AIV,id,"5",(UT[GetPlayerId((p))]))call StoreInteger(AIV,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))call StoreInteger(AIV,id,"7",(LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))call StoreInteger(AIV,id,"8_0",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(0)))))call StoreInteger(AIV,id,"8_1",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(1)))))call StoreInteger(AIV,id,"8_2",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(2)))))call StoreInteger(AIV,id,"8_3",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(3)))))call StoreInteger(AIV,id,"8_4",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(4)))))call StoreInteger(AIV,id,"8_5",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(5)))))call StoreInteger(AIV,id,"9",(GetUnitTypeId(QV[GetPlayerId((p))])))call StoreInteger(AIV,id,"id",i)set p=GX[i]set id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,"1",(D[GetPlayerId((p))]))call StoreInteger(AIV,id,"2",(J[GetPlayerId((p))]))call StoreInteger(AIV,id,"3",(RE[GetPlayerId((p))]))call StoreInteger(AIV,id,"4",(KE[GetPlayerId((p))]))call StoreInteger(AIV,id,"5",(UT[GetPlayerId((p))]))call StoreInteger(AIV,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))call StoreInteger(AIV,id,"7",(LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))call StoreInteger(AIV,id,"8_0",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(0)))))call StoreInteger(AIV,id,"8_1",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(1)))))call StoreInteger(AIV,id,"8_2",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(2)))))call StoreInteger(AIV,id,"8_3",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(3)))))call StoreInteger(AIV,id,"8_4",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(4)))))call StoreInteger(AIV,id,"8_5",(GetItemTypeId(UnitItemInSlot(QV[GetPlayerId((p))],(5)))))call StoreInteger(AIV,id,"9",(GetUnitTypeId(QV[GetPlayerId((p))])))call StoreInteger(AIV,id,"id",i+5)if GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"1")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"2")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"3")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"4")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"5")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"6")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"7")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_0")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_1")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_2")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_3")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_4")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"8_5")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"9")call SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"id")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"1")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"2")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"3")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"4")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"5")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"6")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"7")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_0")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_1")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_2")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_3")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_4")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"8_5")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"9")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"id")endifset i=i+1endloopif DHV==false thencall StoreInteger(AIV,"Global","Winner",DJV)call StoreInteger(AIV,"Global","m",HSX)call StoreInteger(AIV,"Global","s",G8X)if GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,"Global","Winner")call SyncStoredInteger(AIV,"Global","m")call SyncStoredInteger(AIV,"Global","s")endifendifendfunctionfunction QYE takes nothing returns nothingcall HQX("1")endfunctionfunction HTX takes nothing returns booleancall ExecuteFunc("BLX")return falseendfunctionfunction HUX takes nothing returns nothingcall G9E(GetEnumUnit())endfunctionfunction HWX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsInRange(g,0,0,$2EE0,Condition(function LRE))call ForGroup(g,function HUX)call FWE(g)set g=nullendfunctionfunction HYX takes nothing returns nothingcall DisableTrigger(GTV)call DisableTrigger(GUV)call DisableTrigger(GWV)call DisableTrigger(GYV)call DisableTrigger(GMV)call DisableTrigger(YHV)call DisableTrigger(GQV)call DisableTrigger(WJV)call DisableTrigger(Hn)endfunctionfunction HZX takes nothing returns nothingset bj_changeLevelShowScores=truecall DisableTrigger(DLV)call DisableTrigger(DMV)call ExecuteFunc("H_X")if XR thencall DisableTrigger(CZV)endifcall DisableTrigger(CGV)call ClearTextMessages()call D2E(bj_FORCE_ALL_PLAYERS,60,YI+" "+(GetObjectName((1848653108)))+" www.getdota.com.")set NI=truecall GJE()call DisableTrigger(OS)call DisableTrigger(JQ)call DisableTrigger(CFV)call GDE()call HYX()endfunctionfunction H0X takes nothing returns nothinglocal trigger t=CreateTrigger()call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,6.5,false)call TriggerAddCondition(t,Condition(function HTX))set DJV=2set YI="|c0020c000"+(GetObjectName((1848652623)))+"|r"call HZX()call HWX()call HQX("2")set t=nullendfunctionfunction H1X takes nothing returns booleancall SetUnitVertexColorBJ(NAV,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))if GetTriggerEvalCount(GetTriggeringTrigger())==100 thencall ShowUnit(NAV,false)call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction H2X takes nothing returns nothinglocal trigger t=CreateTrigger()call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,3.5,false)call TriggerAddCondition(t,Condition(function HTX))set DJV=1set YI="|c00ff0303"+(GetObjectName((1848652622)))+"|r"call HZX()call HWX()call HQX("1")call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(NAV)+$96,GetUnitY(NAV)+100)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function H1X))set t=nullendfunctionfunction H3X takes unit H4X returns booleanlocal unit H5X=QV[GetPlayerId(GetOwningPlayer(H4X))]if((GetUnitX(H5X)-GetUnitX(H4X))*(GetUnitX(H5X)-GetUnitX(H4X))+(GetUnitY(H5X)-GetUnitY(H4X))*(GetUnitY(H5X)-GetUnitY(H4X))>=$D0E49)thenset H5X=nullreturn trueendifset H5X=nullreturn falseendfunctionfunction H6X takes nothing returns nothinglocal unit NHX=GetAttacker()local integer H7X=UnitInventorySize(NHX)local integer x=0local item iloopexitwhen x>H7Xset i=UnitItemInSlot(NHX,x)if XHE(i)==T1 and GetRandomReal(0,1)<=.2 and K4E(NHX)==false thenif LVE(NHX)thenif H3X(NHX)==false thenif GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 thencall MNE(NHX,GetTriggerUnit(),2,40)endifendifelseif GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 thencall MNE(NHX,GetTriggerUnit(),2,40)endifendifendifset x=x+1endloopset i=nullset NHX=nullendfunctionfunction H8X takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real H9X=(LoadReal(YX,(GetHandleId(J6E)),(692)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or H9X<(TimerGetElapsed(K))thencall UnitRemoveAbility(J6E,1093809717)call UnitRemoveAbility(J6E,1110456398)call UnitRemoveAbility(J6E,1093809731)call SaveReal(YX,(GetHandleId(J6E)),(692),((0)*1.))endifcall FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction JVX takes unit J6E returns nothinglocal trigger tlocal integer H2Elocal real H9X=(LoadReal(YX,(GetHandleId(J6E)),(692)))call SaveReal(YX,(GetHandleId(J6E)),(692),(((TimerGetElapsed(K))+UBV)*1.))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,UBV+.01,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function H8X))call SaveUnitHandle(YX,(H2E),(2),(J6E))call GKE(J6E,1093809717)call GKE(J6E,1093809731)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809717,false)set t=nullendfunctionfunction JEX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetEventDamageSource()==J6E and GetEventDamage()>0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)if G9X(F3E)==false thencall JVX(F3E)endifendifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction JXX takes nothing returns nothinglocal unit J6E=GetAttacker()local unit F3E=GetTriggerUnit()local trigger tlocal integer H2Eif R8E(J6E,"4309")==false thencall IBE(J6E,"4309",.2)if GetRandomReal(0,100)<UNV thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function JEX))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))endifendifset J6E=nullset F3E=nullendfunctionfunction JOX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real H9X=(LoadReal(YX,(GetHandleId(J6E)),(693)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or H9X<(TimerGetElapsed(K))thencall UnitRemoveAbility(J6E,1093809718)call UnitRemoveAbility(J6E,1110454857)call UnitRemoveAbility(J6E,1093809731)call SaveReal(YX,(GetHandleId(J6E)),(693),((0)*1.))endifcall FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction JRX takes unit J6E returns nothinglocal trigger tlocal integer H2Elocal real H9X=(LoadReal(YX,(GetHandleId(J6E)),(693)))call SaveReal(YX,(GetHandleId(J6E)),(693),(((TimerGetElapsed(K))+UDV)*1.))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,UDV+.01,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function JOX))call SaveUnitHandle(YX,(H2E),(2),(J6E))call GKE(J6E,1093809718)call GKE(J6E,1093809731)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809718,false)set t=nullendfunctionfunction JIX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetEventDamageSource()==J6E and GetEventDamage()>0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)if G9X(F3E)==false thencall JRX(F3E)endifendifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction JAX takes nothing returns nothinglocal unit J6E=GetAttacker()local unit F3E=GetTriggerUnit()local trigger tlocal integer H2Eif R8E(J6E,"4309")==false thencall IBE(J6E,"4309",.2)if GetRandomReal(0,100)<UCV thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function JIX))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))endifendifset J6E=nullset F3E=nullendfunctionfunction JNX takes nothing returns nothinglocal unit NHX=GetAttacker()local integer JBX=25local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))local integer IAE=GetHandleId(NHX)local real D3E=TimerGetElapsed(K)local real JCX=R2E(IAE,"bashertime")local boolean JDX=R3E(IAE,"basheractive")local boolean JFX=R3E(IAE,"basherremove")local boolean JGX=D3E<JCXlocal boolean JHX=falseif IsUnitType(NHX,UNIT_TYPE_MELEE_ATTACKER)==false thenset JBX=$Aendifif GetRandomInt(0,100)<JBX thenset JHX=trueendifif GetUnitAbilityLevel(NHX,1093683786)>0 or GetUnitAbilityLevel(NHX,1093679153)>0 or GetUnitAbilityLevel(NHX,1093682997)>0 or GetUnitAbilityLevel(NHX,1093679429)>0 thencall UnitRemoveAbility(NHX,1093744436)set NHX=nullreturnendifif JDX and JGX==false and JFX==false thencall O5E(IAE,"bashertime",(D3E+2)*1.)if JHX==false thencall O7E(IAE,"basherremove",true)endifelseif JGX or JFX thencall UnitRemoveAbility(NHX,1093744436)call O7E(IAE,"basheractive",false)call O7E(IAE,"basherremove",false)endifif JHX thencall GKE(NHX,1093744436)call UnitMakeAbilityPermanent(NHX,true,1093744437)call O7E(IAE,"basheractive",true)endifset NHX=nullendfunctionfunction JJX takes real PFE returns booleanreturn(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<PFEendfunctionfunction AntiTK_Building takes nothing returns booleanreturn(JJX($A)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012)!=nullendfunctionfunction AntiTK_Hero takes nothing returns booleanreturn JJX(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0)endfunctionfunction AntiTK_Creep takes nothing returns booleanreturn(JJX(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370))!=nullendfunctionfunction AntiTK_Exception takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334endfunctionfunction JKX takes nothing returns nothingif not((JJX($A)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE) and GetUnitTypeId(GetTriggerUnit())!=1702129516 and GetUnitTypeId(GetTriggerUnit())!=1970172012)or(JJX(25)and(GetUnitAbilityLevel(GetTriggerUnit(),1112433775)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1111847784)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110454321)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458705)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110458704)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455620)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455629)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455630)>0 or GetUnitAbilityLevel(GetTriggerUnit(),1110455631)>0))or(JJX(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())==1700946284 or GetUnitTypeId(GetTriggerUnit())==1697657398 or GetUnitTypeId(GetTriggerUnit())==1970107511 or GetUnitTypeId(GetTriggerUnit())==1966092370))or(GetUnitTypeId(GetTriggerUnit())==1966092371 or GetUnitTypeId(GetTriggerUnit())==1865429334))thencall IssueImmediateOrderById(GetAttacker(),$D0004)endifendfunctionfunction JLX takes nothing returns booleanif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall JKX()elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO) or LVE(GetAttacker())thenset DPV=GetPlayerId(GetOwningPlayer(GetAttacker()))if G8V[DPV]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitIllusion(GetAttacker())==false and OXE(GetAttacker(),BU[T1]) thencall H6X()endifif HEV[DPV]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(OXE(GetAttacker(),BU[Y7]) or OXE(GetAttacker(),BU[G6]))thencall JNX()endifif HRV[DPV]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and OXE(GetAttacker(),BU[L8]) thencall JXX()elseif(HIV[DPV]>0 or Z_V[DPV]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(OXE(GetAttacker(),BU[W7]) or OXE(GetAttacker(),BU[F6]))thencall JAX()endifelseif GetUnitAbilityLevel(GetAttacker(),1093744467)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false thencall NGX()endifreturn falseendfunctionfunction JMX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or R3E(GetHandleId(FLE),"PendingUnfreeze") thenif R3E(GetHandleId(FLE),"PendingUnfreeze") thencall O7E(GetHandleId(FLE),"PendingUnfreeze",false)call IXE(FLE,"Frozen")call UnitRemoveAbility(FLE,1093678162)call HVX(FLE,false)call PauseUnit(FLE,false)call O1E(IAE)call IRE(t)elseif GetSpellTargetUnit()==FLE and GetSpellAbilityId()==vw and(GetPlayerSlotState(GetOwningPlayer((FLE)))==PLAYER_SLOT_STATE_LEFT)and R8E(FLE,"Frozen") thencall IXE(FLE,"Frozen")call UnitRemoveAbility(FLE,1093678162)call HVX(FLE,false)call PauseUnit(FLE,false)call O1E(IAE)call IRE(t)endifelseif GME(FLE)==false thencall SetUnitX(FLE,x)call SetUnitY(FLE,y)call IVE(FLE,"Frozen")call UnitAddAbility(FLE,1093678162)call HVX(FLE,true)call PauseUnit(FLE,true)endifset FLE=nullset t=nullreturn falseendfunctionfunction JPX takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetSpellTargetUnit()call O7E(GetHandleId(FLE),"PendingUnfreeze",false)call IVE(FLE,"Frozen")call UnitAddAbility(FLE,1093678162)call HVX(FLE,true)call PauseUnit(FLE,true)call O8E(IAE,"Hero",FLE)call O5E(IAE,"x",GetUnitX(FLE)*1.)call O5E(IAE,"y",GetUnitY(FLE)*1.)call TriggerRegisterTimerEvent(t,1.,true)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JMX))set t=nullset FLE=nullendfunctionfunction JQX takes nothing returns booleanif GetSpellAbilityId()==TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and R8E(GetSpellTargetUnit(),"Frozen")==false thencall JPX()elseif(GetSpellAbilityId()==vw or GetSpellAbilityId()==TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false thencall HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652366))))endifreturn falseendfunctionfunction JSX takes destructable d returns booleanlocal real x=GetDestructableX(d)local real y=GetDestructableY(d)local group g=FYE()local boolean JTXcall GroupEnumUnitsInRange(g,x,y,$FA,Condition(function LWE))set JTX=FirstOfGroup(g)!=nullcall FWE(g)set g=nullreturn JTXendfunctionfunction JUX takes nothing returns nothingif DWE(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!=1110454322 and GetDestructableTypeId(GetEnumDestructable())!=1110454323 thenif JSX(GetEnumDestructable())==false thencall DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)if PW[GetPlayerId(GetLocalPlayer())]==1 and GetDestructableTypeId(GetEnumDestructable())==1096053874 thencall SetDestructableAnimation(GetEnumDestructable(),"stand alternate")endifendifendifendfunctionfunction JWX takes nothing returns nothingcall EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function JUX)endfunctionfunction JYX takes unit it,unit m5 returns booleanlocal integer i=GetUnitAbilityLevel(it,1093742674)local integer j=GetUnitLevel(m5)return(i>0)and((j<=2)or(i>1 and j<=i+2))endfunctionfunction JZX takes nothing returns booleanlocal unit J_X=GetAttacker()local unit J0X=GetTriggerUnit()local integer i1=GetUnitTypeId(J_X)local integer O5=GetPlayerId(GetOwningPlayer(J_X))if GetUnitTypeId(J0X)==1848651852 thenif IsUnitIllusion(J_X) thencall KillUnit(J_X)elseif IsUnitInRegion(ow,J_X)==false thencall HEE(GetOwningPlayer(J_X),(GetObjectName((1848652597))))call IssueImmediateOrderById(J_X,$D0004)endifelseif((i1==1430467634)and(Bz>J5V[16+O5])and((GetUnitTypeId(J0X)==1852010091)or(GetUnitTypeId(J0X)==1852534636))and B6E(GetOwningPlayer(J_X)))thenif JYX(J_X,J0X)thencall OME(J_X,$D0278,1093742674,J0X)endifelseif((i1==1430467634)and(Bz>J5V[16+O5])and B6E(GetOwningPlayer(J_X))and(GetRandomInt(1,4)==1)and(not IsUnitType(J0X,UNIT_TYPE_MECHANICAL))and(not IsUnitType(J0X,UNIT_TYPE_ANCIENT))and GetUnitTypeId(J0X)!=1848658008 and GetUnitTypeId(J0X)!=1852796263 and GetUnitTypeId(J0X)!=1852207221 and GetUnitTypeId(J0X)!=1853060204 and GetUnitTypeId(J0X)!=1853055348 and GetUnitTypeId(J0X)!=1853060200 and GetUnitTypeId(J0X)!=1848651859 and GetUnitTypeId(J0X)!=1852207976 and GetUnitTypeId(J0X)!=1852272243 and GetUnitTypeId(J0X)!=1852270641 and GetUnitTypeId(J0X)!=1852798821 and GetUnitTypeId(J0X)!=1852077175 and GetUnitTypeId(J0X)!=1853320295)thenif JYX(J_X,J0X)thencall OME(J_X,$D0278,1093742674,J0X)endifelseif((i1==1429221443)and B6E(GetOwningPlayer(J_X))and(not IsUnitType(J0X,UNIT_TYPE_MECHANICAL))and(not IsUnitType(J0X,UNIT_TYPE_ANCIENT))and(GetUnitTypeId(J0X)==1852010091)or(GetUnitTypeId(J0X)==1852534636)or GetUnitTypeId(J0X)==1848658008 or GetUnitTypeId(J0X)==1852796263 or GetUnitTypeId(J0X)==1852207221 or GetUnitTypeId(J0X)==1853060204 or GetUnitTypeId(J0X)==1853055348 or GetUnitTypeId(J0X)==1853060200 or GetUnitTypeId(J0X)==1848651859 or GetUnitTypeId(J0X)==1852207976 or GetUnitTypeId(J0X)==1852272243 or GetUnitTypeId(J0X)==1852270641 or GetUnitTypeId(J0X)==1852798821 or GetUnitTypeId(J0X)==1852077175 or GetUnitTypeId(J0X)==1853320295)thenif(GetUnitAbilityLevel(J_X,1093686103)>1)thencall OME(J_X,$D0278,1093686103,J0X)endifelseif((i1==1211117653)and B6E(GetOwningPlayer(J_X)))thenif((Bz>J5V[$80+O5])and(CLE(J_X,T9V,T9V,UVV,1093686865)))thencall OME(J_X,$D020A,1093686865,J_X)elseif(Bz>J5V[64+O5])and(CLE(J_X,UVV,UVV,T8V,1093686863))thencall IssueImmediateOrderById(J_X,$D00A4)endifendifset J_X=nullset J0X=nullreturn falseendfunctionfunction J1X takes nothing returns nothinglocal unit J2X=GetSummonedUnit()local unit J6E=GetSummoningUnit()local string fx=""if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(J6E))and FJE(GetLocalPlayer())==false thenset fx="war3mapImported\\WardMark_T2.mdx"endifcall AddSpecialEffectTarget(fx,J2X,"origin")set J2X=nullset J6E=nullendfunctionfunction J3X takes nothing returns booleanreturn trueendfunctionfunction J4X takes unit FLE,unit J5X returns nothinglocal integer J6Xlocal item J7Xif GetUnitTypeId(GetSummonedUnit())==1865429044 thenset J6X=BU[F5]elseset J6X=BU[G5]endifcall DisableTrigger(R3V)set J7X=OAE(FLE,J6X)if J7X==null thenset AXV=GetOwningPlayer(FLE)set ILV=CreateItem(J6X,0,0)call UnitAddItem(FLE,ILV)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elsecall SetItemCharges(J7X,GetItemCharges(J7X)+1)endifcall EnableTrigger(R3V)set J7X=nullendfunctionfunction J8X takes nothing returns nothinglocal unit J5X=GetSummonedUnit()local unit FLE=GetSummoningUnit()if GetUnitTypeId(GetSummonedUnit())==1865429044 or GetUnitTypeId(GetSummonedUnit())==1868921189 thenif IsUnitInRegion(ow,J5X)thencall J4X(FLE,J5X)call RemoveUnit(J5X)elseif XDE(FLE)thencall J4X(FLE,J5X)call HEE(GetOwningPlayer(J5X),"Couriers cannot place wards")call RemoveUnit(J5X)elsecall J1X()endifelseif GetUnitTypeId(J5X)==1869836340 or GetUnitTypeId(J5X)==1865429048 or GetUnitTypeId(J5X)==1865429049 or GetUnitTypeId(J5X)==1865429315 or GetUnitTypeId(J5X)==1865429316 or GetUnitTypeId(J5X)==1865429317 thencall SelectUnitAddForPlayer(J5X,GetOwningPlayer(J5X))elseif GetUnitTypeId(J5X)==1865429040 or GetUnitTypeId(J5X)==1865429041 or GetUnitTypeId(J5X)==1865429057 or GetUnitTypeId(J5X)==1865429080 thencall SelectUnitAddForPlayer(J5X,GetOwningPlayer(J5X))endifset FLE=nullset J5X=nullendfunctionfunction J9X takes unit FLE returns reallocal real KVXif B2E(GetOwningPlayer(FLE))thenset KVX=GetRectCenterX(BA)elseset KVX=GetRectCenterX(NA)endifreturn KVXendfunctionfunction KEX takes unit FLE returns reallocal real KVXif B2E(GetOwningPlayer(FLE))thenset KVX=GetRectCenterY(BA)elseset KVX=GetRectCenterY(NA)endifreturn KVXendfunctionfunction KXX takes unit FLE,integer n5,integer KOX returns itemlocal real x=J9X(FLE)local real y=KEX(FLE)local item IOX=CreateItem(n5,x,y)local integer i=0local boolean array KRXlocal item Z4set VEE=AXVcall DisableTrigger(R3V)if n5>0 thenloopexitwhen i>(UnitInventorySize(FLE)-1)if UnitItemInSlot(FLE,i)==null and i!=KOX thenset Z4=CreateItem(1227895373,x,y)call UnitAddItem(FLE,Z4)set KRX[i]=trueelseset KRX[i]=falseendifif i==KOX thencall EnableTrigger(R3V)call UnitAddItem(FLE,IOX)call DisableTrigger(R3V)endifset i=i+1endloopset i=0loopexitwhen i>5if KRX[i] thencall RemoveItem(UnitItemInSlot(FLE,i))endifset i=i+1endloopendifcall EnableTrigger(R3V)set ILV=IOXset IOX=nullset Z4=nullreturn ILVendfunctionfunction KIX takes unit J6E returns booleanlocal integer H2E=GetHandleId(J6E)local integer i=0local real C5X=(TimerGetElapsed(K))local real KAX=$Aloopexitwhen i>3if(LoadReal(YX,(H2E),(730+i)))<C5X-KAX thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction KNX takes unit J6E returns nothinglocal integer H2E=GetHandleId(J6E)local integer KBX=(LoadInteger(YX,(H2E),(729)))call SaveReal(YX,(H2E),(730+KBX),(((TimerGetElapsed(K)))*1.))set KBX=KBX+1if KBX==4 thenset KBX=0endifcall SaveInteger(YX,(H2E),(729),(KBX))endfunctionfunction KCX takes unit F2E returns nothinglocal integer i=0local item KDXlocal integer HKXlocal boolean KFX=falseif KIX(F2E)thenset KFX=trueendifloopexitwhen i>5set KDX=UnitItemInSlot(F2E,i)set HKX=XHE(KDX)if HKX==D4 and KFX thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KDX)call RemoveItem(KDX)set ILV=KXX(F2E,BU[P4],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifif HKX==P4 and KFX==false thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KDX)call RemoveItem(KDX)set ILV=KXX(F2E,BU[D4],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifset i=i+1endloopset F2E=nullset KDX=nullendfunctionfunction NQX takes nothing returns nothingif GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(B4E(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)thenif L8V[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false thenset DWV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(K))if GetEventDamage()>20 thencall KNX(GetTriggerUnit())endifendifendifendfunctionfunction KGX takes unit FLE returns nothinglocal integer i=0local item KHXlocal integer HFXlocal boolean KJX=falseif DWV[GetPlayerId(GetOwningPlayer(FLE))]+3>(TimerGetElapsed(K))thenset KJX=trueendifloopexitwhen i>5set KHX=UnitItemInSlot(FLE,i)set HFX=XHE(KHX)if HFX==EZ and KJX thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KHX)call RemoveItem(KHX)set ILV=KXX(FLE,BU[XZ],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifif HFX==XZ and KJX==false thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KHX)call RemoveItem(KHX)set ILV=KXX(FLE,BU[EZ],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifset i=i+1endloopset FLE=nullset KHX=nullendfunctionfunction KKX takes unit FLE returns nothinglocal integer i=0local item KLXlocal integer HFXlocal boolean KMX=falselocal real KPX=4if IsUnitType(FLE,UNIT_TYPE_MELEE_ATTACKER)==false thenset KPX=6endifif DWV[GetPlayerId(GetOwningPlayer(FLE))]+KPX>(TimerGetElapsed(K))thenset KMX=trueendifloopexitwhen i>5set KLX=UnitItemInSlot(FLE,i)set HFX=XHE(KLX)if HFX==V0V and KMX thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KLX)call RemoveItem(KLX)set ILV=KXX(FLE,BU[V1V],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifif HFX==V1V and KMX==false thencall DisableTrigger(R3V)set AXV=GetItemPlayer(KLX)call RemoveItem(KLX)set ILV=KXX(FLE,BU[V0V],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call EnableTrigger(R3V)endifset i=i+1endloopset FLE=nullset KLX=nullendfunctionfunction KQX takes nothing returns booleanlocal integer i=1local unit FLElocal integer idif R6V>0 or R9V>0 or ZZV>0 thenloopexitwhen i>5set id=GetPlayerId(RX[i])set FLE=QV[id]if G9V[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KGX(FLE)endifif HOV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KKX(FLE)endifif Z2V[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KCX(FLE)endifset id=GetPlayerId(GX[i])set FLE=QV[id]if G9V[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KGX(FLE)endifif HOV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KKX(FLE)endifif Z2V[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall KCX(FLE)endifset i=i+1endloopendifset FLE=nullreturn falseendfunctionfunction KSX takes nothing returns nothinglocal unit FLE=GetFilterUnit()local integer i=0local item IOXlocal integer HFXloopexitwhen i>5set IOX=UnitItemInSlot(FLE,i)set HFX=XGE(IOX)if(HFX==E2 or HFX==X2 or HFX==R2)and GetItemUserData(IOX)>0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",FLE,"overhead"))call HVE(GetOwningPlayer(FLE),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(FLE,BU[F2],i)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifset i=i+1endloopset FLE=nullset IOX=nullendfunctionfunction KTX takes nothing returns booleanif UnitInventorySize(GetFilterUnit())>0 and B2E(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and GME(GetFilterUnit())==false thencall KSX()endifreturn falseendfunctionfunction KUX takes nothing returns booleanif UnitInventorySize(GetFilterUnit())>0 and B3E(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and GME(GetFilterUnit())==false thencall KSX()endifreturn falseendfunctionfunction KWX takes nothing returns booleanlocal group g=FYE()call GroupEnumUnitsInRange(g,ANV,ABV,750,Condition(function KTX))call FWE(g)set g=FYE()call GroupEnumUnitsInRange(g,NEV,NXV,750,Condition(function KUX))call FWE(g)set g=nullreturn falseendfunctionfunction KYX takes unit u returns unitif IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)==0 thenreturn uelsereturn QV[GetPlayerId(GetOwningPlayer(u))]endifendfunctionfunction KZX takes nothing returns booleanif IsUnitType(GetKillingUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))==false thenif GetUnitTypeId(GetTriggerUnit())==1848651850 thencall MNE(GetDyingUnit(),KYX(GetKillingUnit()),3,400)elseif GetUnitTypeId(GetTriggerUnit())==1848651841 thencall MNE(GetDyingUnit(),KYX(GetKillingUnit()),3,500)elseif GetUnitTypeId(GetTriggerUnit())==1848651830 thencall MNE(GetDyingUnit(),KYX(GetKillingUnit()),3,600)endifendifreturn falseendfunctionfunction K_X takes nothing returns booleanreturn GetUnitTypeId(GetEnteringUnit())==1697656901 or GetUnitTypeId(GetEnteringUnit())==1697657394endfunctionfunction K0X takes nothing returns nothingcall ShowUnitHide(GetEnteringUnit())call SetUnitPathing(GetEnteringUnit(),false)call SetUnitInvulnerable(GetEnteringUnit(),true)if(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)thencall UnitApplyTimedLifeBJ(20.,1112820806,GetEnteringUnit())elsecall TriggerSleepAction(10.)if((GetUnitTypeId(GetEnteringUnit())==1697656901)or(GetUnitTypeId(GetEnteringUnit())==1697657394))thencall UnitApplyTimedLifeBJ(10.,1112820806,GetEnteringUnit())endifendifendfunctionfunction K1X takes nothing returns booleanreturn((GetUnitTypeId(GetDyingUnit())==1697656914)or(GetUnitTypeId(GetDyingUnit())==1697657137)or(GetUnitTypeId(GetDyingUnit())==1697656915)or(GetUnitTypeId(GetDyingUnit())==1697657145))endfunctionfunction K2X takes nothing returns nothingif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifif(GetDyingUnit()==ATV)thencall PGE("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(AYV,false)call DCE(GetKillingUnit(),1)set F_V=1elseif(GetDyingUnit()==AUV)thencall PGE("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(AZV,false)call DCE(GetKillingUnit(),1)set FZV=1elseif(GetDyingUnit()==AWV)thencall PGE("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(A_V,false)call DCE(GetKillingUnit(),1)set F0V=1elseif(GetDyingUnit()==AYV)thencall PGE("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(A0V,false)call DCE(GetKillingUnit(),2)set F_V=2elseif(GetDyingUnit()==AZV)thencall PGE("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(A1V,false)call DCE(GetKillingUnit(),2)set FZV=2elseif(GetDyingUnit()==A_V)thencall PGE("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(A2V,false)call DCE(GetKillingUnit(),2)set F0V=2elseif(GetDyingUnit()==A0V)thencall PGE("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(A5V,false)call HVX(A8V,false)call HVX(A3V,false)call HVX(A4V,false)call HVX(WP,false)call HVX(zP,false)call HVX(vq,false)call HVX(eq,false)call HVX(fP,false)call HVX(FP,false)call HVX(lP,false)call HVX(LP,false)call HVX(MP,false)call HVX(pP,false)call HVX(PP,false)call HVX(qP,false)call HVX(QP,false)call HVX(sP,false)call HVX(tP,false)set F_V=3elseif(GetDyingUnit()==A1V)thencall PGE("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(A6V,false)call HVX(A9V,false)call HVX(A3V,false)call HVX(A4V,false)call HVX(WP,false)call HVX(zP,false)call HVX(vq,false)call HVX(eq,false)call HVX(fP,false)call HVX(FP,false)call HVX(lP,false)call HVX(LP,false)call HVX(MP,false)call HVX(pP,false)call HVX(PP,false)call HVX(qP,false)call HVX(QP,false)call HVX(sP,false)call HVX(tP,false)set FZV=3elseif(GetDyingUnit()==A2V)thencall PGE("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(A7V,false)call HVX(NVV,false)call HVX(A3V,false)call HVX(A4V,false)call HVX(WP,false)call HVX(zP,false)call HVX(vq,false)call HVX(eq,false)call HVX(fP,false)call HVX(FP,false)call HVX(lP,false)call HVX(LP,false)call HVX(MP,false)call HVX(pP,false)call HVX(PP,false)call HVX(qP,false)call HVX(QP,false)call HVX(sP,false)call HVX(tP,false)set F0V=3endifif GetDyingUnit()==A3V or GetDyingUnit()==A4V thencall PGE("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),4)endifif(((GetDyingUnit()==A3V)and(IsUnitDeadBJ(A4V)))or((GetDyingUnit()==A4V)and(IsUnitDeadBJ(A3V))))thencall HVX(ASV,false)set FPV=falseendifendfunctionfunction K3X takes nothing returns booleanreturn((GetUnitTypeId(GetDyingUnit())==1966092365)or(GetUnitTypeId(GetDyingUnit())==1966092356)or(GetUnitTypeId(GetDyingUnit())==1966092366)or(GetUnitTypeId(GetDyingUnit())==1966092372))endfunctionfunction K4X takes nothing returns nothingif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifif(GetDyingUnit()==NNV)thencall PGE("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NDV,false)call DCE(GetKillingUnit(),1)set F2V=1elseif(GetDyingUnit()==NBV)thencall PGE("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NFV,false)call DCE(GetKillingUnit(),1)set F1V=1elseif(GetDyingUnit()==NCV)thencall PGE("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NGV,false)call DCE(GetKillingUnit(),1)set F3V=1elseif(GetDyingUnit()==NDV)thencall PGE("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NHV,false)call DCE(GetKillingUnit(),2)set F2V=2elseif(GetDyingUnit()==NFV)thencall PGE("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NJV,false)call DCE(GetKillingUnit(),2)set F1V=2elseif(GetDyingUnit()==NGV)thencall PGE("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call HVX(NKV,false)call DCE(GetKillingUnit(),2)set F3V=2elseif(GetDyingUnit()==NHV)thencall PGE("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(NPV,false)call HVX(NTV,false)call HVX(NLV,false)call HVX(NMV,false)call HVX(ot,false)call HVX(rt,false)call HVX(at,false)call HVX(Vt,false)call HVX(PS,false)call HVX(QS,false)call HVX(SS,false)call HVX(tS,false)call HVX(TS,false)call HVX(US,false)call HVX(WS,false)call HVX(ZS,false)call HVX(vt,false)call HVX(et,false)call HVX(xt,false)set F2V=3elseif(GetDyingUnit()==NJV)thencall PGE("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(NQV,false)call HVX(NUV,false)call HVX(NLV,false)call HVX(NMV,false)call HVX(ot,false)call HVX(rt,false)call HVX(at,false)call HVX(Vt,false)call HVX(PS,false)call HVX(QS,false)call HVX(SS,false)call HVX(tS,false)call HVX(TS,false)call HVX(US,false)call HVX(WS,false)call HVX(ZS,false)call HVX(vt,false)call HVX(et,false)call HVX(xt,false)set F1V=3elseif(GetDyingUnit()==NKV)thencall PGE("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),3)call HVX(NSV,false)call HVX(NWV,false)call HVX(NLV,false)call HVX(NMV,false)call HVX(ot,false)call HVX(rt,false)call HVX(at,false)call HVX(Vt,false)call HVX(PS,false)call HVX(QS,false)call HVX(SS,false)call HVX(tS,false)call HVX(TS,false)call HVX(US,false)call HVX(WS,false)call HVX(ZS,false)call HVX(vt,false)call HVX(et,false)call HVX(xt,false)set F3V=3endifif GetDyingUnit()==NLV or GetDyingUnit()==NMV thencall PGE("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call DCE(GetKillingUnit(),4)endifif(((GetDyingUnit()==NMV)and(IsUnitDeadBJ(NLV)))or((GetDyingUnit()==NLV)and(IsUnitDeadBJ(NMV))))thencall HVX(NAV,false)set FQV=falseendifendfunctionfunction K5X takes nothing returns booleanlocal integer x=0if GetPlayerSlotState(RX[1])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(RX[2])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(RX[3])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(RX[4])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(RX[5])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(GX[1])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(GX[2])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(GX[3])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(GX[4])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(GX[5])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifreturn x==9endfunctionfunction Ve takes nothing returns booleanreturn bj_isSinglePlayer and K5X()endfunctionfunction K6X takes nothing returns nothingset QEV=trueendfunctionfunction K7X takes nothing returns nothingset R2V=falseendfunctionfunction K8X takes nothing returns booleanif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction K9X takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,GX[0],Condition(function K8X))call FWE(g)set g=nullset TI=trueendfunctionfunction LVX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,RX[0],Condition(function K8X))call FWE(g)set g=nullset TI=trueendfunctionfunction LEX takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==1865429044 or GetUnitTypeId(GetFilterUnit())==1868921189 thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction LXX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function LEX))call FWE(g)set g=nullset TI=trueendfunctionfunction LOX takes nothing returns nothingset B4=falseendfunctionfunction LRX takes nothing returns nothingset B4=trueendfunctionfunction LIX takes nothing returns nothingcall LVX()call K9X()set TI=trueendfunctionfunction LAX takes nothing returns nothinglocal string LNX=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))local integer LBX=S2I(LNX)if LBX<0 or LBX>24 thenset LBX=0endifcall SetFloatGameState(GAME_STATE_TIME_OF_DAY,LBX)set TI=trueendfunctionfunction LCX takes nothing returns booleanif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) thencall SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+HPE(I5V,1),true)endifreturn falseendfunctionfunction LDX takes nothing returns nothinglocal string LFX=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))local integer LGX=S2I(LFX)local group g=FYE()if SubString(GetEventPlayerChatString(),0,9)!="-lvlupall" and SubString(GetEventPlayerChatString(),0,9)!="-lvlupfor" thenif LGX<1 thenset LGX=1endifset I5V=LGXcall GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function LCX))endifcall FWE(g)set g=nullset TI=trueendfunctionfunction LHX takes nothing returns nothingcall TriggerExecute(OS)set TI=trueendfunctionfunction LJX takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) thenset hq[O5]=.0set hq[16+O5]=.0set hq[32+O5]=.0set J5V[O5]=.0set J5V[16+O5]=.0set J5V[32+O5]=.0set J5V[48+O5]=.0call UnitResetCooldown(GetFilterUnit())call TimerStart(CLV[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))endifreturn falseendfunctionfunction LKX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function LJX))call FWE(g)set g=nullset TI=trueendfunctionfunction LLX takes nothing returns nothingif P9V thenreturnendifcall KillUnit(QV[GetPlayerId(GetTriggerPlayer())])set TI=trueendfunctionfunction LMX takes nothing returns nothinglocal string nQ=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))local integer hY=S2I(nQ)call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+hY)set TI=trueendfunctionfunction LPX takes nothing returns nothinglocal unit CZX=QV[GetPlayerId(GetTriggerPlayer())]local player D6X=GetTriggerPlayer()local location C3Xif B3E(D6X)thenset C3X=GetRectCenter(NA)elseset C3X=GetRectCenter(BA)endifif NI==false and GME(CZX)thencall Q2E(CZX,D6X,GetLocationX(C3X),GetLocationY(C3X),true)if CYX(CZX)==false or GetUnitAbilityLevel(CZX,1093684567)==0 thencall ReviveHeroLoc(CZX,C3X,true)elsecall C2X(CZX,C3X)endifendifcall RemoveLocation(C3X)set CZX=nullset D6X=nullset C3X=nullendfunctionfunction LQX takes nothing returns nothinglocal unit J6E=QV[GetPlayerId(GetTriggerPlayer())]local player LSXlocal unit LTXlocal real x=GetRectCenterX(JN)local real y=GetRectCenterX(JN)if B3E(GetOwningPlayer(J6E))thenset LSX=RX[1]elseset LSX=GX[1]endifset LTX=CreateUnit(LSX,1211117616,x,y,0)call SetHeroLevel(LTX,$A,false)set J6E=nullset LTX=nullset LSX=nullendfunctionfunction LUX takes nothing returns nothingcall TriggerEvaluate(IWV)endfunctionfunction LWX takes nothing returns nothingcall TriggerEvaluate(CS)endfunctionfunction LYX takes nothing returns nothingcall JWX()endfunctionfunction LZX takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local integer UPlocal integer O5local player pllocal group gif(VH=="-testhelp")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")elseif(VH=="-rechoose")thenif((not ZR)and(not Q)and(not HFV)and(not D3V)and(not OR)and(not GI)and(not IQV))thenset DI=trueset I[GetPlayerId(GetTriggerPlayer())]=falseset HI=falseset CI=trueset AV[GetPlayerId(GetTriggerPlayer())]=falseset oo[GetPlayerId(GetTriggerPlayer())]=falseset Tx[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Some restrictions in repicking/randoming are removed. You may now use -repick/-random")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot enable repicking/randoming.")endifelseif(SubString(VH,0,9)=="-goldall ")thenset UP=S2I(SubString(VH,9,StringLength(VH)))set O5=1loopcall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+UP)set O5=O5+1exitwhen O5>$Bendloopelseif(SubString(VH,0,8)=="-goldfor")thenset pl=XTE(S2I(SubString(VH,8,StringLength(VH))))if((pl!=null)and(B7E(pl)))thenset UP=S2I(SubString(VH,$A,StringLength(VH)))call SetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+UP)endifelseif(SubString(VH,0,9)=="-lvlupall")thenset O5=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))if O5<1 thenset O5=1endifset I5V=O5set g=FYE()call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function LCX))call FWE(g)elseif(SubString(VH,0,9)=="-lvlupfor")thenset pl=XTE(S2I(SubString(VH,9,StringLength(VH))))if((pl!=null)and(B7E(pl)))thencall SetHeroLevel(QV[GetPlayerId(pl)],GetHeroLevel(QV[GetPlayerId(pl)])+1,true)endifelseif(VH=="-refreshall")thenset g=FYE()call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function LJX))call FWE(g)elseif(SubString(VH,0,6)=="-kill ")thenset pl=XTE(S2I(SubString(VH,6,StringLength(VH))))if((pl!=null)and(B7E(pl)))thencall KillUnit(QV[GetPlayerId(pl)])endifelseif(VH=="-fog")thencall FogEnable(not IsFogEnabled())call FogMaskEnable(not IsFogMaskEnabled())endifset g=nullset pl=nullendfunctionfunction L_X takes nothing returns nothinglocal trigger t=CreateTrigger()local integer O5=1loopif(B5E(Player(O5)))thencall TriggerRegisterPlayerChatEvent(t,Player(O5),"-",false)endifset O5=O5+1exitwhen O5>$Bendloopcall TriggerAddAction(t,function LZX)set t=nullendfunctionfunction L0X takes nothing returns booleancall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")return falseendfunctionfunction L1X takes nothing returns nothinglocal player OnlyPlayer=Lelocal trigger tcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"For more info about the commands, type -testhelp.
    
    ")set t=CreateTrigger()call TriggerAddCondition(t,Condition(function L0X))call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-lvlup",false)call TriggerAddAction(t,function LDX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-spawncreeps",true)call TriggerAddAction(t,function LHX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-refresh",true)call TriggerAddAction(t,function LKX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-kill",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-kill",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-kill",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-kill",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-kill",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-kill",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-kill",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-kill",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-kill",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-kill",true)call TriggerAddAction(t,function LLX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-gold",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-gold",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-gold",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-gold",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-gold",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-gold",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-gold",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-gold",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-gold",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-gold",false)call TriggerAddAction(t,function LMX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-time",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-time",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-time",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-time",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-time",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-time",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-time",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-time",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-time",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-time",false)call TriggerAddAction(t,function LAX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-powerup",false)call TriggerAddAction(t,function LUX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-killall",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-killall",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-killall",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-killall",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-killall",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-killall",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-killall",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-killall",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-killall",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-killall",true)call TriggerAddAction(t,function LIX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-killsent",true)call TriggerAddAction(t,function LVX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-killscourge",true)call TriggerAddAction(t,function K9X)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-neutrals",false)call TriggerAddAction(t,function LWX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-noherolimit",true)call TriggerAddAction(t,function K7X)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-trees",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-trees",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-trees",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-trees",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-trees",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-trees",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-trees",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-trees",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-trees",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-trees",true)call TriggerAddAction(t,function LYX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-killwards",true)call TriggerAddAction(t,function LXX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-spawnoff",true)call TriggerAddAction(t,function LRX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-spawnon",true)call TriggerAddAction(t,function LOX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-roshan",true)call TriggerAddAction(t,function K6X)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-respawn",true)call TriggerAddAction(t,function LPX)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-dummy",true)call TriggerAddAction(t,function LQX)call L_X()set uy=trueset t=nullendfunctionfunction RVX takes nothing returns nothingcall TimerStart(CreateTimer(),5,not uy,function RVX)endfunctionfunction L2X takes nothing returns booleanreturn not Bendfunctionfunction nt takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit nT=RME(IAE,"Unit")local integer O5=GetPlayerId(GetOwningPlayer(nT))set hq[O5]=.0set hq[16+O5]=.0set hq[32+O5]=.0set J5V[O5]=.0set J5V[16+O5]=.0set J5V[32+O5]=.0set J5V[48+O5]=.0if GetUnitTypeId(nT)!=1852010352 thencall UnitResetCooldown(nT)call SetUnitManaPercentBJ(nT,100)endifcall O1E(IAE)call IRE(t)set t=nullset nT=nullreturn falseendfunctionfunction nu takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function nt))call O8E(IAE,"Unit",GetTriggerUnit())set t=nullendfunctionfunction L3X takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer nv=P8(WE)+P8(YE)local integer NumRequired=HME(nv,nv/2+1)local integer IAE=GetHandleId(t)local integer nV=R1E(IAE,"ExecCount")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"WTF mode activated. In this mode spells have no cooldown or manacost.")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"This is a FOR FUN ONLY mode.")set FKV=trueset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function nu)set t=nullendfunctionfunction L4X takes nothing returns booleanif RJX(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false thencall M6E(GetOwningPlayer(GetTriggerUnit()))call PGE("Level"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))endifreturn falseendfunctionfunction nw takes nothing returns nothingcall L1X()call IRE(GetTriggeringTrigger())endfunctionfunction L5X takes nothing returns booleanif B==false and Ve()==false thencall nw()endifreturn falseendfunctionfunction L6X takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==SXendfunctionfunction L7X takes nothing returns nothingcall SaveInteger(YX,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals"),((LoadInteger(YX,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals")))+1))endfunctionfunction L8X takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,Z)elseif GetOwningPlayer(GetTriggerUnit())==GX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,vv)endifreturn falseendfunctionfunction L9X takes nothing returns nothingset JV=JV+1endfunctionfunction MVX takes nothing returns nothingset FV=FV+1endfunctionfunction MEX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,ev)endifreturn falseendfunctionfunction MXX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==GX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,ev)endifreturn falseendfunctionfunction MOX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,ov)endifreturn falseendfunctionfunction MRX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==GX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,ov)endifreturn falseendfunctionfunction MIX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,rv)endifreturn falseendfunctionfunction MAX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==GX[0]thencall IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,rv)endifreturn falseendfunctionfunction MNX takes nothing returns nothinglocal integer i=1local integer idloopexitwhen i>5set id=GetPlayerId(RX[i])call PGE("CSK"+I2S(id),RE[id])call PGE("CSD"+I2S(id),KE[id])set id=GetPlayerId(GX[i])call PGE("CSK"+I2S(id),RE[id])call PGE("CSD"+I2S(id),KE[id])set i=i+1endloopendfunctionfunction MBX takes boolean JDX returns nothinglocal unit ulocal string MCX="stand work alternate"local string MDX="stand work"local string MFX="stand alternate"local string MGX="stand"set u=A5Vif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=A6Vif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=A7Vif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=A8Vif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=A9Vif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=NVVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MCX)elsecall SetUnitAnimation(u,MFX)endifendifset u=NPVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=NQVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=NSVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=NTVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=NUVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=NWVif GME(u)==false thenif JDX thencall SetUnitAnimation(u,MDX)elsecall SetUnitAnimation(u,MGX)endifendifset u=nullendfunctionfunction MHX takes nothing returns booleancall MBX(true)return falseendfunctionfunction Trig_Spawn_Conditions takes nothing returns booleanif(D7V)thenreturn F0elseif(D8V)thenreturn gHelseif D3V thenreturn Fzelseif(W or CT)thenreturn oHendifreturn Nendfunctionfunction MJX takes group MKX,integer MLX returns nothinglocal unit uloopset u=FirstOfGroup(MKX)exitwhen(u==null)call GroupRemoveUnit(MKX,u)call SetUnitAbilityLevel(u,TO,MLX)endloopendfunctionfunction MMX takes nothing returns nothinglocal boolean MPX=ModuloInteger(GetTriggerExecCount(OS),7)==0if B4 thenreturnendifcall MBX(false)if MPX thencall MNX()endifif GetTriggerExecCount(OS)==1 and FEV==false thencall UnitResetCooldown(N7V[1])call UnitResetCooldown(N7V[2])call UnitResetCooldown(N7V[3])call UnitResetCooldown(N7V[4])call UnitResetCooldown(N7V[5])call UnitResetCooldown(N7V[7])call UnitResetCooldown(N7V[8])call UnitResetCooldown(N7V[9])call UnitResetCooldown(N7V[$A])call UnitResetCooldown(N7V[$B])call HVX(ATV,false)call HVX(AUV,false)call HVX(AWV,false)call HVX(NNV,false)call HVX(NBV,false)call HVX(NCV,false)elseif GetTriggerExecCount(OS)==1 and FEV thencall HVX(AUV,false)call HVX(NBV,false)endifif GetTriggerExecCount(OS)==1 thencall EnableTrigger(CFV)endifif FEV==false and FRV==false thenif(Rv)thencall CreateNUnitsAtLoc(FV,1969711215,GX[0],lv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1966092337,GX[0],lv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Av)thencall CreateNUnitsAtLoc(FV,1969711215,GX[0],Jv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1966092337,GX[0],Jv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(Nv)thencall CreateNUnitsAtLoc(FV,1969711215,GX[0],Lv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1966092337,GX[0],Lv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifif FEV==false and FRV==false thenif(av)thencall CreateNUnitsAtLoc(JV,1970169187,GX[0],qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092338,GX[0],qv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Ev)thencall CreateNUnitsAtLoc(JV,1970169187,GX[0],mv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092338,GX[0],mv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(Ov)thencall CreateNUnitsAtLoc(JV,1970169187,GX[0],pv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092338,GX[0],pv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifif MPX thenif FEV==false and FRV==false thenif(av)thencall CreateNUnitsAtLoc(JV,1970107511,GX[0],qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092370,GX[0],qv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Ev)thencall CreateNUnitsAtLoc(JV,1970107511,GX[0],mv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092370,GX[0],mv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(Ov)thencall CreateNUnitsAtLoc(JV,1970107511,GX[0],pv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1966092370,GX[0],pv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifendifif FEV==false and FRV==false thenif(Cv)thencall CreateNUnitsAtLoc(FV,1702061422,RX[0],tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1697656918,RX[0],tv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Dv)thencall CreateNUnitsAtLoc(FV,1702061422,RX[0],Qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1697656918,RX[0],Qv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(fv)thencall CreateNUnitsAtLoc(FV,1702061422,RX[0],sv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(FV,1697656918,RX[0],sv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifif FEV==false and FRV==false thenif(bv)thencall CreateNUnitsAtLoc(JV,1701081721,RX[0],Wv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697656919,RX[0],Wv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Bv)thencall CreateNUnitsAtLoc(JV,1701081721,RX[0],Tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697656919,RX[0],Tv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(cv)thencall CreateNUnitsAtLoc(JV,1701081721,RX[0],Uv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697656919,RX[0],Uv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifif MPX thenif FEV==false and FRV==false thenif(cv)thencall CreateNUnitsAtLoc(JV,1700946284,RX[0],Wv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697657398,RX[0],Wv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,2)endifif FOV==false thenif(Bv)thencall CreateNUnitsAtLoc(JV,1700946284,RX[0],Tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697657398,RX[0],Tv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,3)endifif FEV==false and FXV==false thenif(cv)thencall CreateNUnitsAtLoc(JV,1700946284,RX[0],Uv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(JV,1697657398,RX[0],Uv,bj_UNIT_FACING)endifcall MJX(bj_lastCreatedGroup,4)endifendifendfunctionfunction MQX takes nothing returns nothingset av=falsecall DisableTrigger(cA)call PGE("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MSX takes nothing returns nothingset Ev=falsecall DisableTrigger(CA)call PGE("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MTX takes nothing returns nothingset Ov=falsecall DisableTrigger(dA)call PGE("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MUX takes nothing returns nothingset Rv=falsecall DisableTrigger(DA)call PGE("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MWX takes nothing returns nothingset Av=falsecall DisableTrigger(fA)call PGE("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MYX takes nothing returns nothingset Nv=falsecall DisableTrigger(FA)call PGE("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction MZX takes nothing returns nothingset bv=falsecall DisableTrigger(gA)call PGE("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M_X takes nothing returns nothingset Bv=falsecall DisableTrigger(GA)call PGE("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M0X takes nothing returns nothingset cv=falsecall DisableTrigger(LA)call PGE("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M1X takes nothing returns nothingset Cv=falsecall DisableTrigger(mA)call PGE("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M2X takes nothing returns nothingset Dv=falsecall DisableTrigger(MA)call PGE("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M3X takes nothing returns nothingset fv=falsecall DisableTrigger(PA)call PGE("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction M4X takes nothing returns booleanlocal real M5X=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)if M5X<.75 and iW==false thenset iW=truecall PGE("Tree",75)endifif M5X<.5 and rW==false thenset rW=truecall PGE("Tree",50)endifif M5X<.25 and oW==false thenset oW=truecall PGE("Tree",25)endifif M5X<.1 and eW==false thenset eW=truecall PGE("Tree",$A)endifreturn falseendfunctionfunction M6X takes nothing returns booleanlocal real M5X=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)if M5X<.75 and vW==false thenset vW=truecall PGE("Throne",75)endifif M5X<.5 and zw==false thenset zw=truecall PGE("Throne",50)endifif M5X<.25 and Uw==false thenset Uw=truecall PGE("Throne",25)endifif M5X<.1 and tw==false thenset tw=truecall PGE("Throne",$A)endifreturn falseendfunctionfunction M7X takes nothing returns booleanreturn( not(Cv or Dv or fv or bv or Bv or cv))endfunctionfunction M8X takes nothing returns nothingcall D2E(bj_FORCE_ALL_PLAYERS,20.,(GetObjectName((1848652879)))+" "+(GetObjectName((1848656695))))call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,RX[0])+30),RX[0])call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,RX[0])+30),RX[0])call DisableTrigger(SA)endfunctionfunction M9X takes nothing returns booleanreturn( not(Rv or Av or Nv or av or Ev or Ov))endfunctionfunction PVX takes nothing returns nothingcall D2E(bj_FORCE_ALL_PLAYERS,20.,(GetObjectName((1848652888)))+" "+(GetObjectName((1848656697))))call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,GX[0])+30),GX[0])call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,GX[0])+30),GX[0])call DisableTrigger(TA)endfunctionfunction PEX takes nothing returns nothingcall SetPlayerTechResearchedSwap(1378889783,(GetPlayerTechCountSimple(1378889783,RX[0])+1),RX[0])call SetPlayerTechResearchedSwap(1378889795,(GetPlayerTechCountSimple(1378889795,RX[0])+1),RX[0])call SetPlayerTechResearchedSwap(1378889784,(GetPlayerTechCountSimple(1378889784,RX[0])+1),RX[0])call SetPlayerTechResearchedSwap(1378889796,(GetPlayerTechCountSimple(1378889796,RX[0])+1),RX[0])call SetPlayerTechResearchedSwap(1378889785,(GetPlayerTechCountSimple(1378889785,GX[0])+1),GX[0])call SetPlayerTechResearchedSwap(1378889779,(GetPlayerTechCountSimple(1378889779,GX[0])+1),GX[0])call SetPlayerTechResearchedSwap(1378889793,(GetPlayerTechCountSimple(1378889793,GX[0])+1),GX[0])call SetPlayerTechResearchedSwap(1378889794,(GetPlayerTechCountSimple(1378889794,GX[0])+1),GX[0])endfunctionfunction PXX takes nothing returns nothinglocal location POX=GetRectCenter(JN)call RemoveUnit(CreateUnitAtLoc(SX,1851941999,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1851942003,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852273524,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1848652342,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852270450,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1851941995,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1851946861,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852794733,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852796263,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852207203,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852207221,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1853060200,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1853060204,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1853055348,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1853320295,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852534636,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852534626,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852534644,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852010091,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852007790,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852272243,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852208226,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852207976,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852270641,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852860012,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852798821,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852798818,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852666477,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852666482,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852666476,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852077170,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1852077175,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1848659011,POX,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(SX,1848659012,POX,bj_UNIT_FACING))call RemoveLocation(POX)set POX=nullendfunctionfunction PRX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1848658007,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848658008,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848658007,x,y,0),x,y)endfunctionfunction PIX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852466993,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852466993,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852467041,x,y,0),x,y)endfunctionfunction PAX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1851941999,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1851941999,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1851942003,x,y,0),x,y)endfunctionfunction PNX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1851941995,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1851941995,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1851946861,x,y,0),x,y)endfunctionfunction PBX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852273524,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852273524,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852270450,x,y,0),x,y)endfunctionfunction AncientLizards_AI takes nothing returns booleancall IRE(GetTriggeringTrigger())call IssueTargetOrderById(GetTriggerUnit(),$D00F1,GetTriggerUnit())return falseendfunctionfunction PCX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1848659011,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848659012,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848659012,x,y,0),x,y)endfunctionfunction PDX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852794733,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852794733,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852796263,x,y,0),x,y)endfunctionfunction PFX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852207203,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852207221,x,y,0),x,y)endfunctionfunction PGX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1853060200,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853060204,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853055348,x,y,0),x,y)endfunctionfunction PHX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1853060204,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853060204,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853055348,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853055348,x,y,0),x,y)endfunctionfunction PJX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1853320295,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1853320295,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848651859,x,y,0),x,y)endfunctionfunction PKX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1848652342,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1848652342,x,y,0),x,y)endfunctionfunction PLX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852534636,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852534626,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852534626,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852534626,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852534644,x,y,0),x,y)endfunctionfunction PMX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852208226,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852208226,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852207976,x,y,0),x,y)endfunctionfunction PPX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852007790,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852010091,x,y,0),x,y)endfunctionfunction PQX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852272243,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852272243,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852272243,x,y,0),x,y)endfunctionfunction PSX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852208226,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852208226,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852534636,x,y,0),x,y)endfunctionfunction PTX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852270641,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852860012,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852860012,x,y,0),x,y)endfunctionfunction PUX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852798821,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852798818,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852798818,x,y,0),x,y)endfunctionfunction PWX takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(SX,1852077170,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852077170,x,y,0),x,y)call SetUnitPosition(CreateUnit(SX,1852077175,x,y,0),x,y)endfunctionfunction PYX takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PFX(x,y)elseif D5==2 thencall PGX(x,y)elseif D5==3 thencall PUX(x,y)elseif D5==4 thencall PWX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction PZX takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PFX(x,y)elseif D5==2 thencall PGX(x,y)elseif D5==3 thencall PUX(x,y)elseif D5==4 thencall PWX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P_X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PFX(x,y)elseif D5==2 thencall PGX(x,y)elseif D5==3 thencall PUX(x,y)elseif D5==4 thencall PWX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P0X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PFX(x,y)elseif D5==2 thencall PGX(x,y)elseif D5==3 thencall PUX(x,y)elseif D5==4 thencall PWX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P1X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PKX(x,y)elseif D5==2 thencall PDX(x,y)elseif D5==3 thencall PHX(x,y)elseif D5==4 thencall PJX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P2X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PKX(x,y)elseif D5==2 thencall PDX(x,y)elseif D5==3 thencall PHX(x,y)elseif D5==4 thencall PJX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P3X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PKX(x,y)elseif D5==2 thencall PDX(x,y)elseif D5==3 thencall PHX(x,y)elseif D5==4 thencall PJX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P4X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PKX(x,y)elseif D5==2 thencall PDX(x,y)elseif D5==3 thencall PHX(x,y)elseif D5==4 thencall PJX(x,y)elseif D5==5 thencall PPX(x,y)endifendfunctionfunction P5X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,6)if D5==1 thencall PTX(x,y)elseif D5==2 thencall PSX(x,y)elseif D5==3 thencall PQX(x,y)elseif D5==4 thencall PLX(x,y)elseif D5==5 thencall PMX(x,y)elseif D5==6 thencall PRX(x,y)endifendfunctionfunction P6X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,6)if D5==1 thencall PTX(x,y)elseif D5==2 thencall PSX(x,y)elseif D5==3 thencall PQX(x,y)elseif D5==4 thencall PLX(x,y)elseif D5==5 thencall PMX(x,y)elseif D5==6 thencall PRX(x,y)endifendfunctionfunction P7X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PIX(x,y)elseif D5==2 thencall PAX(x,y)elseif D5==3 thencall PNX(x,y)elseif D5==4 thencall PBX(x,y)elseif D5==5 thencall PCX(x,y)endifendfunctionfunction P8X takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall PIX(x,y)elseif D5==2 thencall PAX(x,y)elseif D5==3 thencall PNX(x,y)elseif D5==4 thencall PBX(x,y)elseif D5==5 thencall PCX(x,y)endifendfunctionfunction P9X takes nothing returns nothingif GetUnitAbilityLevel(GetEnumUnit(),1093685300)!=0 thencall GroupRemoveUnit(ZO,GetEnumUnit())endifif GetUnitTypeId(GetEnumUnit())==1865429043 thencall GroupRemoveUnit(ZO,GetEnumUnit())endifif GME(GetEnumUnit()) thencall GroupRemoveUnit(ZO,GetEnumUnit())endifendfunctionfunction QVX takes group g returns booleanset ZO=gcall ForGroup(g,function P9X)return FirstOfGroup(g)==nullendfunctionfunction QEX takes nothing returns booleanlocal group glocal rect r1local rect r2if oy==false thenreturn falseendifset r1=Srset r2=Brset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P7X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=Urset r2=crset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P8X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=Wrset r2=Crset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall PYX(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=zrset r2=frset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P_X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=Zrset r2=Frset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P2X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=viset r2=Hrset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P1X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=eiset r2=jrset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P3X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=oiset r2=Jrset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P4X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=xiset r2=lrset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P0X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=aiset r2=mrset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P5X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=Aiset r2=Niset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall P6X(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=biset r2=Biset g=FYE()call GroupEnumUnitsInRect(g,r1,Condition(function BUE))if QVX(g)thencall PZX(GetRectCenterX(r2),GetRectCenterY(r2))endifcall FWE(g)set r1=nullset r2=nullset g=nullreturn falseendfunctionfunction QXX takes nothing returns nothinglocal integer C9E=GetRandomInt(1,9)local location lif FEV thenset C9E=GetRandomInt(1,3)if C9E==1 thenset C9E=2endifif C9E==2 thenset C9E=5endifif C9E==3 thenset C9E=8endifendifif(C9E==1)thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,1848651827,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653105))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==2)thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,1848651827,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653106))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==3)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,1848651827,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653107))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(C9E==4)thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,1848651845,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653112))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==5)thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,1848651845,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848652890))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==6)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,1848651845,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653111))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(C9E==7)and FEV==false thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,1848651844,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653110))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==8)and FEV==false thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,1848651844,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848652884))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==9)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,1848651844,RX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848653123))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(C9E==1)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,1848651827,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656708))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==2)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,1848651827,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656709))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==3)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,1848651827,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656707))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(C9E==4)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,1848651845,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656711))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==5)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,1848651845,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656712))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==6)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,1848651845,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656710))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(C9E==7)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,1848651844,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656714))))call MJX(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(C9E==8)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,1848651844,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656715))))call MJX(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(C9E==9)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,1848651844,GX[0],l,bj_UNIT_FACING)call D2E(bj_FORCE_ALL_PLAYERS,10.,(GetObjectName((1848656713))))call MJX(bj_lastCreatedGroup,3)call RemoveLocation(l)endifset l=nullendfunctionfunction N9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GME(FLE)==false and FLE!=null thencall SetUnitScale(FLE,G5E(FLE)*AN,G5E(FLE)*AN,G5E(FLE)*AN)endifcall O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction H_X takes nothing returns nothinglocal integer x=1local player ploopexitwhen x>16if OAE(QV[x],BU[EIV])!=null thencall RemoveUnit(DUV[GetPlayerId(GetOwningPlayer(QV[x]))])endifset x=x+1endloopendfunctionfunction QOX takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitTypeId(GetTriggerUnit())!=1211117642 and OAE(GetTriggerUnit(),BU[EIV])!=null)!=nullendfunctionfunction QRX takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1)!=nullendfunctionfunction QIX takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+JO)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))endfunctionfunction QAX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),$6A4,Condition(function QRX))set JO=400+25*GetItemCharges(OAE(GetTriggerUnit(),BU[EIV]))call ForGroup(g,function QIX)call FWE(g)set g=nullendfunctionfunction QNX takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit MIE=CreateUnit(GetOwningPlayer(FLE),1211117645,GetUnitX(FLE),GetUnitY(FLE),GetUnitFacing(FLE))set DUV[GetPlayerId(GetOwningPlayer(FLE))]=MIEcall QAX()set MIE=nullset FLE=nullendfunctionfunction QBX takes unit u returns nothinglocal integer QCX=GetItemCharges(OAE(u,BU[EIV]))if QCX>0 thencall SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+QCX)endifendfunctionfunction QDX takes nothing returns booleanlocal integer i=1local unit FLElocal integer idif R7V>0 thenloopexitwhen i>5set id=GetPlayerId(RX[i])set FLE=QV[id]if HVV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall QBX(FLE)endifset id=GetPlayerId(GX[i])set FLE=QV[id]if HVV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false thencall QBX(FLE)endifset i=i+1endloopendifset FLE=nullreturn falseendfunctionfunction oK takes nothing returns nothingset gg[0]=CreateTimer()set gg[1]=CreateTimer()set gg[2]=CreateTimer()set gg[3]=CreateTimer()set gg[4]=CreateTimer()set gg[5]=CreateTimer()set gg[6]=CreateTimer()set gg[7]=CreateTimer()set gg[8]=CreateTimer()set gg[9]=CreateTimer()set gg[$A]=CreateTimer()set gg[$B]=CreateTimer()set gg[$C]=CreateTimer()set gg[$D]=CreateTimer()set gg[$E]=CreateTimer()set gg[$F]=CreateTimer()endfunctionfunction QFX takes unit u,real d returns booleanif IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,1093678162)>0 thenreturn d>5endifreturn trueendfunctionfunction QGX takes unit u returns unitlocal group gif GetUnitAbilityLevel(u,1093678162)==0 thenreturn uendifset I9V=LUVset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),900,Condition(function K3E))set LTV=FirstOfGroup(g)call FWE(g)return LTVendfunctionfunction QHX takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit MIElocal unit p5if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseset p5=RME(IAE,"Source")set MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call UnitAddAbility(MIE,1093684022)set LUV=p5if IssueTargetOrderById(MIE,$D026B,QGX(GetEventDamageSource()))thencall IBE(GetTriggerUnit(),"QJX",1)endifendifset t=nullset MIE=nullset p5=nullendfunctionfunction QKX takes nothing returns booleanif(GetTriggerEventId()==EVENT_UNIT_DAMAGED and QFX(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and R8E(GetTriggerUnit(),"QJX")==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall QHX()endifreturn falseendfunctionfunction QJX takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)if m5==null thenset m5=p5endifcall IBE(m5,"StaticChargeActive",20)call TriggerRegisterTimerEvent(t,20.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function QKX))call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",m5,"origin"))call O8E(IAE,"Source",p5)set t=nullset p5=nullset m5=nullendfunctionfunction QLX takes nothing returns nothingif GetSpellAbilityId()==1093683788 and(R1E(GetHandleId(GetSpellTargetUnit()),"StaticChargeActive")==1)==false thencall QJX()endifendfunctionfunction QMX takes integer i returns booleanreturn i==1227894838 or i==1227894840 or i==1227894858 or i==1227894859 or i==1227894839endfunctionfunction QPX takes nothing returns booleanif GetIssuedOrderId()==$D0003 thenif GetOrderTargetItem()!=null and QMX(GetItemTypeId(GetOrderTargetItem()))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659029))endifendifreturn falseendfunctionfunction QQX takes unit QSX returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,QSX,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function QPX))set t=nullendfunctionfunction QTX takes player p returns integerlocal integer r=GetRandomInt(1,6)if B2E(p)thenif r==1 thenreturn 1848651849elseif r==2 thenreturn 1848652338elseif r==3 thenreturn 1848652337elseif r==4 thenreturn 1848658777elseif r==5 thenreturn 1848658778elsereturn 1848659013endifelseif r==1 thenreturn 1848652339elseif r==2 thenreturn 1848652340elseif r==3 thenreturn 1848652341elseif r==4 thenreturn 1848658992elseif r==5 thenreturn 1848658993elsereturn 1848659252endifendifreturn 0endfunctionfunction QUX takes player p returns integerif GetRandomInt(1,3)==1 thenreturn 1697657426elseif B2E(p)thenreturn 1697657160elsereturn 1697657178endifreturn 0endfunctionfunction QWX takes nothing returns nothinglocal unit QYX=CreateUnit(GetOwningPlayer(GetTriggerUnit()),QTX(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))local real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local real a=GetUnitFacing(GetTriggerUnit())call GWX(QYX)call SetUnitPosition(QYX,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))if XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifset QYX=nullendfunctionfunction QZX takes nothing returns nothinglocal unit QYX=CreateUnit(GetOwningPlayer(GetTriggerUnit()),QUX(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))call GWX(QYX)if XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifcall QQX(QYX)set QYX=nullendfunctionfunction Q_X takes nothing returns booleanif GetSpellAbilityId()==1093681718 thencall QWX()endifif GetSpellAbilityId()==1093683796 thencall QZX()endifreturn falseendfunctionfunction Q0X takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit QYX=RME(IAE,"chicken")local integer Q1X=R1E(IAE,"newability")local integer Q2X=R1E(IAE,"itemId0")local integer Q3X=R1E(IAE,"itemId1")local integer Q4X=R1E(IAE,"itemId2")local integer Q5X=R1E(IAE,"itemId3")local integer Q6X=R1E(IAE,"itemId4")local integer Q7X=R1E(IAE,"itemId5")local player Q8X=RQE(IAE,"pPlayer0")local player Q9X=RQE(IAE,"pPlayer1")local player SVX=RQE(IAE,"pPlayer2")local player SEX=RQE(IAE,"pPlayer3")local player SXX=RQE(IAE,"pPlayer4")local player SOX=RQE(IAE,"pPlayer5")local integer SRX=R1E(IAE,"charges0")local integer SIX=R1E(IAE,"charges1")local integer SAX=R1E(IAE,"charges2")local integer SNX=R1E(IAE,"charges3")local integer SBX=R1E(IAE,"charges4")local integer SCX=R1E(IAE,"charges5")call DisableTrigger(R3V)if GetTriggerEvalCount(t)==1 thencall UnitAddAbility(QYX,Q1X)if XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifelseif Q2X>0 thenset ILV=CreateItem(Q2X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,Q8X,false)call SetItemUserData(ILV,1)endifif SRX>0 thencall SetItemCharges(ILV,SRX)endifif Q3X>0 thenset ILV=CreateItem(Q3X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,Q9X,false)call SetItemUserData(ILV,1)endifif SIX>0 thencall SetItemCharges(ILV,SIX)endifif Q4X>0 thenset ILV=CreateItem(Q4X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SVX,false)call SetItemUserData(ILV,1)endifif SAX>0 thencall SetItemCharges(ILV,SAX)endifif Q5X>0 thenset ILV=CreateItem(Q5X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SEX,false)call SetItemUserData(ILV,1)endifif SNX>0 thencall SetItemCharges(ILV,SNX)endifif Q6X>0 thenset ILV=CreateItem(Q6X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SXX,false)call SetItemUserData(ILV,1)endifif SBX>0 thencall SetItemCharges(ILV,SBX)endifif Q7X>0 thenset ILV=CreateItem(Q7X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SOX,false)call SetItemUserData(ILV,1)endifif SCX>0 thencall SetItemCharges(ILV,SCX)endifif XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifcall O1E(IAE)call IRE(t)endifcall EnableTrigger(R3V)set t=nullset QYX=nullset Q8X=nullset Q9X=nullset SVX=nullset SEX=nullset SXX=nullset SOX=nullreturn falseendfunctionfunction SDX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit QYX=(LoadUnitHandle(YX,(IAE),(2)))local integer SFX=GetUnitTypeId(QYX)local real x=GetUnitX(QYX)local real y=GetUnitY(QYX)local item SGXlocal item SHXlocal item SJXlocal item SKXlocal item SLXlocal item SMXlocal player Q8Xlocal player Q9Xlocal player SVXlocal player SEXlocal player SXXlocal player SOXlocal integer Q2Xlocal integer Q3Xlocal integer Q4Xlocal integer Q5Xlocal integer Q6Xlocal integer Q7Xlocal integer SRX=-1local integer SIX=-1local integer SAX=-1local integer SNX=-1local integer SBX=-1local integer SCX=-1local integer Q1Xlocal item IOXcall FlushChildHashtable(YX,(IAE))call IRE(t)if QYX==null or GME(QYX)thenreturn falseendifset t=CreateTrigger()set IAE=GetHandleId(t)set SGX=UnitItemInSlot(QYX,0)set SHX=UnitItemInSlot(QYX,1)set SJX=UnitItemInSlot(QYX,2)set SKX=UnitItemInSlot(QYX,3)set SLX=UnitItemInSlot(QYX,4)set SMX=UnitItemInSlot(QYX,5)set Q2X=GetItemTypeId(SGX)set Q3X=GetItemTypeId(SHX)set Q4X=GetItemTypeId(SJX)set Q5X=GetItemTypeId(SKX)set Q6X=GetItemTypeId(SLX)set Q7X=GetItemTypeId(SMX)set Q8X=GetItemPlayer(SGX)set Q9X=GetItemPlayer(SHX)set SVX=GetItemPlayer(SJX)set SEX=GetItemPlayer(SKX)set SXX=GetItemPlayer(SLX)set SOX=GetItemPlayer(SMX)set IOX=SGXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SRX=GetItemCharges(IOX)endifset IOX=SHXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SIX=GetItemCharges(IOX)endifset IOX=SJXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SAX=GetItemCharges(IOX)endifset IOX=SKXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SNX=GetItemCharges(IOX)endifset IOX=SLXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SBX=GetItemCharges(IOX)endifset IOX=SMXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SCX=GetItemCharges(IOX)endifcall XFE(SGX)call XFE(SHX)call XFE(SJX)call XFE(SKX)call XFE(SLX)call XFE(SMX)if SFX==1848651849 thenset Q1X=1395667001elseif SFX==1848652338 thenset Q1X=1395667012elseif SFX==1848652337 thenset Q1X=1395667011elseif SFX==1848652339 thenset Q1X=1395667013elseif SFX==1848652340 thenset Q1X=1395667010elseif SFX==1848652341 thenset Q1X=1395667014elseif SFX==1848658777 thenset Q1X=1395667031elseif SFX==1848658778 thenset Q1X=1395667033elseif SFX==1848658992 thenset Q1X=1395667032elseif SFX==1848658993 thenset Q1X=1395667012elseif SFX==1848659013 thenset Q1X=1395667270elseif SFX==1848659252 thenset Q1X=1395667253endifif GetRandomInt(1,$A)==1 thenset Q1X=1395667015endifif GetRandomInt(1,$A)<3 thenset Q1X=1395667254endifif SFX==1848651853 thenset Q1X=1395667020elseif SFX==1848659027 thenset Q1X=1395667020elseif SFX==1848658006 thenset Q1X=1395667014endifif SFX==1697657160 thenset Q1X=1395667250elseif SFX==1697657178 thenset Q1X=1395667248elseif SFX==1697657426 thenset Q1X=1395667252elseif SFX==1697657428 thenset Q1X=1395667249elseif SFX==1697657427 thenset Q1X=1395667255elseif SFX==1697657648 thenset Q1X=1395667251endifcall RRE(IAE,"pPlayer0",Q8X)call RRE(IAE,"pPlayer1",Q9X)call RRE(IAE,"pPlayer2",SVX)call RRE(IAE,"pPlayer3",SEX)call RRE(IAE,"pPlayer4",SXX)call RRE(IAE,"pPlayer5",SOX)call O4E(IAE,"itemId0",Q2X)call O4E(IAE,"itemId1",Q3X)call O4E(IAE,"itemId2",Q4X)call O4E(IAE,"itemId3",Q5X)call O4E(IAE,"itemId4",Q6X)call O4E(IAE,"itemId5",Q7X)call O4E(IAE,"charges0",SRX)call O4E(IAE,"charges1",SIX)call O4E(IAE,"charges2",SAX)call O4E(IAE,"charges3",SNX)call O4E(IAE,"charges4",SBX)call O4E(IAE,"charges5",SCX)call O8E(IAE,"chicken",QYX)call O4E(IAE,"newability",Q1X)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function Q0X))set IOX=nullset t=nullset QYX=nullset SGX=nullset SHX=nullset SJX=nullset SKX=nullset SLX=nullset SMX=nullset Q8X=nullset Q9X=nullset SVX=nullset SEX=nullset SXX=nullset SOX=nullreturn falseendfunctionfunction SPX takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,false)call TriggerAddCondition(t,Condition(function SDX))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))set t=nullendfunctionfunction SQX takes nothing returns booleanif GetSpellAbilityId()==1093685076 thencall SPX()endifreturn falseendfunctionfunction V7 takes nothing returns booleanlocal integer x=0loopexitwhen x>5if UnitItemInSlot(GetTriggerUnit(),x)==null thenreturn trueendifset x=x+1endloopreturn falseendfunctionfunction wD takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())==BU[X7]thencall RemoveItem(GetManipulatedItem())call UnitAddItem(GetTriggerUnit(),CreateItem(BU[O7],0,0))endifif GetItemTypeId(GetManipulatedItem())==BU[O7]thencall RemoveItem(GetManipulatedItem())call UnitAddItem(GetTriggerUnit(),CreateItem(BU[X7],0,0))endifendfunctionfunction SSX takes nothing returns nothingif R8E(GetEnumUnit(),"STX") thencall HEE(GetOwningPlayer(GetEnumUnit()),(GetObjectName((1848652365)))+" "+GetUnitName(GetEnumUnit())+" "+(GetObjectName((1848652371))))elseif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall IBE(GetEnumUnit(),"STX",25)endifcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+$FA)endifendfunctionfunction STX takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),775,Condition(function LKE))call ForGroup(g,function SSX)call FWE(g)set p5=nullset g=nullendfunctionfunction SUX takes nothing returns nothingif GetSpellAbilityId()==1093681995 thencall STX()endifendfunctionfunction SWX takes unit FLE,integer SYX,boolean SZX returns nothinglocal string S_Xlocal string slocal player p=GetOwningPlayer(FLE)local real d=2local string S0X="Use"if SZX thenset S0X="Store"endifif SYX==1227894838 thenset S_X="|c00ff0000"+GetObjectName(1848658513)+"|r"call PGE("Rune"+S0X+"1",GetPlayerId(p))elseif SYX==1227894840 thenset S_X="|c0000ff00"+GetObjectName(1848658510)+"|r"call PGE("Rune"+S0X+"2",GetPlayerId(p))elseif SYX==1227894859 thenset S_X="|c000000ff"+GetObjectName(1848658739)+"|r"call PGE("Rune"+S0X+"3",GetPlayerId(p))elseif SYX==1227894839 thenset S_X="|c00afaf00"+GetObjectName(1848658738)+"|r"call PGE("Rune"+S0X+"4",GetPlayerId(p))elseif SYX==1227894858 thenset S_X="|c00652DC1"+GetObjectName(1848658740)+"|r"call PGE("Rune"+S0X+"5",GetPlayerId(p))endifif SZX thenset s=C[GetPlayerId(p)]+GetUnitName(FLE)+"|r "+GetObjectName(1848657749)+"|r "+S_X+" "+GetObjectName(1848657751)set d=1elseif NH thenset s=C[GetPlayerId(p)]+GetUnitName(FLE)+"|r "+GetObjectName(1848657750)+"|r "+S_X+" "+GetObjectName(1848657751)elseset s=C[GetPlayerId(p)]+GetUnitName(FLE)+"|r "+GetObjectName(1848657748)+"|r "+S_X+" "+GetObjectName(1848657751)endifendifif(IsPlayerAlly(GetLocalPlayer(),p)and GetLocalPlayer()!=p)or FJE(GetLocalPlayer())thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,d,s)endifendfunctionfunction S1X takes nothing returns booleanif GetSpellAbilityId()==1093683254 thencall O8E(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",null)call O4E(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",0)if(OAE(GetTriggerUnit(),BU[E2])!=null or OAE(GetTriggerUnit(),FU[E2])!=null)and(GetUnitTypeId(GetSpellTargetUnit())==1852206952 or GetUnitTypeId(GetSpellTargetUnit())==1852073580)thencall O8E(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",GetSpellTargetUnit())elseif QMX(GetItemTypeId(GetSpellTargetItem()))thencall SWX(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)call O4E(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",GetItemTypeId(GetSpellTargetItem()))call XFE(GetSpellTargetItem())endifendifreturn falseendfunctionfunction S2X takes unit F2E returns nothingcall SetUnitState(F2E,UNIT_STATE_LIFE,GetUnitState(F2E,UNIT_STATE_MAX_LIFE))call SetUnitState(F2E,UNIT_STATE_MANA,GetUnitState(F2E,UNIT_STATE_MAX_MANA))endfunctionfunction S3X takes unit F2E,real x,real y returns nothinglocal integer H2E=GetHandleId(GetOwningPlayer(F2E))local unit SVE=RME(H2E,"Kobold1")local unit SEE=RME(H2E,"Kobold2")local unit SXE=RME(H2E,"Kobold3")local unit SOE=RME(H2E,"Kobold4")set DYV=trueif SVE!=null thencall ReviveHero(SVE,x,y,true)call S2X(SVE)call Q_E(SVE)call SetUnitX(SVE,x)call SetUnitY(SVE,y)endifif SEE!=null thencall ReviveHero(SEE,x,y,true)call S2X(SEE)call Q_E(SEE)call SetUnitX(SEE,x)call SetUnitY(SEE,y)endifif SXE!=null thencall ReviveHero(SXE,x,y,true)call S2X(SXE)call Q_E(SXE)call SetUnitX(SXE,x)call SetUnitY(SXE,y)endifif SOE!=null thencall ReviveHero(SOE,x,y,true)call S2X(SOE)call Q_E(SOE)call SetUnitX(SOE,x)call SetUnitY(SOE,y)endifset SVE=nullset SEE=nullset SXE=nullset SOE=nullendfunctionfunction S4X takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=RME(H2E,"Hero")call S2X(F2E)call Q_E(F2E)call ClearSelectionForPlayer(GetOwningPlayer(F2E))call SelectUnitAddForPlayer(F2E,GetOwningPlayer(F2E))if GetUnitTypeId(F2E)==1211117641 thencall S3X(F2E,GetUnitX(F2E),GetUnitY(F2E))endifcall O1E(H2E)call IRE(t)set t=nullset F2E=nullreturn falseendfunctionfunction S5X takes unit F2E,real x,real y returns nothinglocal integer H2E=GetHandleId(GetOwningPlayer(F2E))local unit SVE=RME(H2E,"Kobold1")local unit SEE=RME(H2E,"Kobold2")local unit SXE=RME(H2E,"Kobold3")local unit SOE=RME(H2E,"Kobold4")call DisableTrigger(GQ)if SVE!=null thencall SetUnitX(SVE,x)call SetUnitY(SVE,y)call KillUnit(SVE)endifif SEE!=null thencall SetUnitX(SEE,x)call SetUnitY(SEE,y)call KillUnit(SEE)endifif SXE!=null thencall SetUnitX(SXE,x)call SetUnitY(SXE,y)call KillUnit(SXE)endifif SOE!=null thencall SetUnitX(SOE,x)call SetUnitY(SOE,y)call KillUnit(SOE)endifcall EnableTrigger(GQ)set SVE=nullset SEE=nullset SXE=nullset SOE=nullendfunctionfunction S6X takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local real xlocal real ylocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call PGE("AegisOff",GetPlayerId(GetOwningPlayer(F2E)))if GetUnitTypeId(F2E)==1211117641 thencall S5X(F2E,GetUnitX(F2E),GetUnitY(F2E))endifset C6V=nullcall TriggerRegisterTimerEvent(t,5.,false)call TriggerAddCondition(t,Condition(function S4X))call O8E(H2E,"Hero",F2E)call IBE(F2E,"JustUseAegis",5)set t=nullset F2E=nullendfunctionfunction S7X takes nothing returns nothingif XHE(GetManipulatedItem())==VAV thencall S6X()endifendfunctionfunction Trig_MultipleNecro_Func001002001 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())==1848651848)endfunctionfunction S8X takes nothing returns nothingif GetWidgetLife(GetEnumItem())>0 and QMX(GetItemTypeId(GetEnumItem()))thenset ILV=GetEnumItem()endifendfunctionfunction S9X takes nothing returns integerlocal integer i=GetRandomInt(1,5)loopexitwhen i!=OOVset i=GetRandomInt(1,5)endloopset OOV=ireturn iendfunctionfunction TVX takes nothing returns booleanlocal boolean TEX=falselocal boolean TXX=falselocal real xlocal real ylocal real x1local real y1local real x2local real y2local integer TOXif GetRandomInt(1,2)==1 thenset x=GetLocationX(LV)set y=GetLocationY(LV)elseset x=GetLocationX(MV)set y=GetLocationY(MV)endifset x1=GetLocationX(LV)set y1=GetLocationY(LV)set x2=GetLocationX(MV)set y2=GetLocationY(MV)set ILV=nullcall EnumItemsInRect(YA,Condition(function BUE),function S8X)if ILV==null thenset TEX=trueendifset ILV=nullcall EnumItemsInRect(JA,Condition(function BUE),function S8X)if ILV==null thenset TXX=trueendifif KS==false or GetTriggerEvalCount(GetTriggeringTrigger())<20 thenif TEX and TXX thenset TOX=S9X()if TOX==1 thencall CreateItem(1227894839,x,y)elseif TOX==2 thencall CreateItem(1227894838,x,y)elseif TOX==3 thencall CreateItem(1227894859,x,y)elseif TOX==4 thencall CreateItem(1227894840,x,y)elseif TOX==5 thencall CreateItem(1227894858,x,y)endifendifelseif TEX thenset TOX=S9X()if TOX==1 thencall CreateItem(1227894839,x1,y1)elseif TOX==2 thencall CreateItem(1227894838,x1,y1)elseif TOX==3 thencall CreateItem(1227894859,x1,y1)elseif TOX==4 thencall CreateItem(1227894840,x1,y1)elseif TOX==5 thencall CreateItem(1227894858,x1,y1)endifendifif TXX thenset TOX=S9X()if TOX==1 thencall CreateItem(1227894839,x2,y2)elseif TOX==2 thencall CreateItem(1227894838,x2,y2)elseif TOX==3 thencall CreateItem(1227894859,x2,y2)elseif TOX==4 thencall CreateItem(1227894840,x2,y2)elseif TOX==5 thencall CreateItem(1227894858,x2,y2)endifendifendifreturn falseendfunctionfunction O2 takes integer Ou,real O3 returns nothingset FI[gi]=Ouset Fj[gi]=O3set gi=gi+1endfunctionfunction Wq takes nothing returns nothingcall O2(1752134252,30)call O2(1870030190,$D2)call O2(1835955060,45)call O2(1227894834,60)call O2(1667786099,60)call O2(1885628790,100)call O2(1227894833,60)call O2(1650878578,50)call O2(2004055908,$C)call O2(1919248946,30)call O2(1819177582,36)call O2(1936749157,20)call O2(1919906931,300)call O2(1953265005,60)call O2(1936093031,$F)call O2(1835955046,28)call O2(1937012592,65)call O2(1935894636,70)call O2(1919248945,28)call O2(1803117164,20)call O2(1919248949,40)call O2(1667460452,26)call O2(1835823988,32)call O2(1684370275,30)call O2(1227894851,25)call O2(1227894865,45)call O2(1227894868,30)call O2(1868984943,85)call O2(1227895120,$A)call O2(1227895125,30)call O2(1227960368,45)call O2(1227960369,90)endfunctionfunction TRX takes nothing returns booleanlocal integer iif D0V>0 and DZV[1]<1 thenset i=2loopexitwhen i>D0Vset DZV[i-1]=DZV[i]set D_V[i-1]=D_V[i]set i=i+1endloopset D0V=D0V-1endifset i=1loopexitwhen i>D0Vif DZV[i]>=1 thenset DZV[i]=DZV[i]-1if DZV[i]<1 thencall SetItemDroppable(D_V[i],true)endifendifset i=i+1endloopreturn falseendfunctionfunction TIX takes item IOX returns nothingset D0V=D0V+1set D_V[D0V]=IOXset DZV[D0V]=(LU[(XHE(IOX))])call SetItemDroppable(IOX,false)endfunctionfunction TAX takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())!=1697656901 and(LU[(XHE(GetManipulatedItem()))])>0 thencall TIX(GetManipulatedItem())endifreturn falseendfunctionfunction TNX takes unit V_E returns integerlocal integer M0Eif V_E==null thenreturn-2endifset M0E=GetUnitTypeId(V_E)if M0E==1211117620 thenreturn OLVelseif M0E==1430466872 thenreturn OMVelseif M0E==1215130471 thenreturn OTVelseif M0E==1432580716 or M0E==1429221720 thenreturn RSVelseif M0E==1211117640 thenreturn OWVelseif M0E==1430466609 thenreturn OYVelseif M0E==1332898670 thenreturn OZVelseif M0E==1215128178 thenreturn O2Velseif M0E==1214931305 thenreturn O_Velseif M0E==1433168227 thenreturn OKVelseif M0E==1164666213 thenreturn OJVelseif M0E==1164799603 thenreturn OGVelseif M0E==1162032439 thenreturn O0Velseif M0E==1429221445 thenreturn OSVelseif M0E==1160785973 thenreturn OQVelseif M0E==1160786241 thenreturn O1Velseif M0E==1430467634 thenreturn OPVelseif M0E==1315988077 thenreturn RRVelseif M0E==1211117652 thenreturn O4Velseif M0E==1215723364 thenreturn O5Velseif M0E==1315070563 thenreturn O6Velseif M0E==1211117633 thenreturn O8Velseif M0E==1432646245 thenreturn O9Velseif M0E==1160786000 thenreturn RVVelseif M0E==1429221451 thenreturn REVelseif M0E==1211117649 thenreturn RXVelseif M0E==1211117653 thenreturn ROVelseif M0E==1429221446 thenreturn RIVelseif M0E==1311786311 thenreturn RAVelseif M0E==1162032181 thenreturn RNVelseif M0E==1328558154 thenreturn RBVelseif M0E==1332963428 thenreturn RCVelseif M0E==1432642913 thenreturn RDVelseif M0E==1311781207 thenreturn RFVelseif M0E==1211117643 thenreturn RGVelseif M0E==1332766568 thenreturn RHVelseif M0E==1333027688 thenreturn RJVelseif M0E==1211117650 thenreturn OUVelseif M0E==1211119433 thenreturn OUVelseif M0E==1311780930 thenreturn RKVelseif M0E==1160786243 thenreturn RMVelseif M0E==1160785970 thenreturn RPVelseif M0E==1162032951 thenreturn RQVelseif M0E==1429221456 thenreturn RTVelseif M0E==1164799855 thenreturn RUVelseif M0E==1211117646 thenreturn RWVelseif M0E==1160786510 or M0E==1160786511 thenreturn RYVelseif M0E==1211117641 thenreturn RZVelseif M0E==1211117636 thenreturn R_Velseif M0E==1430468144 thenreturn R0Velseif GetUnitPointValue(V_E)==500 thenreturn RLVendifreturn OFVendfunctionfunction TBX takes unit V_E returns integerlocal integer M0Eif V_E==null thenreturn-2endifset M0E=GetUnitTypeId(V_E)if M0E==1211117620 thenreturn 1093686352elseif M0E==1430466872 thenreturn 1093686354elseif M0E==1215130471 thenreturn 1093815124elseif M0E==1432580716 or M0E==1429221720 thenreturn 0elseif M0E==1211117640 thenreturn 1093686358elseif M0E==1430466609 thenreturn 1093686360elseif M0E==1332898670 thenreturn 1093686362elseif M0E==1215128178 thenreturn 1093686577elseif M0E==1214931305 thenreturn 1093686579elseif M0E==1433168227 thenreturn 1093686581elseif M0E==1164666213 thenreturn 1093686583elseif M0E==1164799603 thenreturn 1093686585elseif M0E==1162032439 thenreturn 1093686594elseif M0E==1429221445 thenreturn 1093686596elseif M0E==1160785973 thenreturn 1093686598elseif M0E==1160786241 thenreturn 1093686600elseif M0E==1430467634 thenreturn 1093686602elseif M0E==1315988077 thenreturn 1093747269elseif M0E==1211117652 thenreturn 1093747257elseif M0E==1215723364 thenreturn 1093747265elseif M0E==1315070563 thenreturn 1093747266elseif M0E==1211117633 thenreturn 1093747541elseif M0E==1432646245 thenreturn 1093747271elseif M0E==1160786000 thenreturn 1093747274elseif M0E==1429221451 thenreturn 1093747267elseif M0E==1211117649 thenreturn 1093747273elseif M0E==1211117653 thenreturn 1093747268elseif M0E==1429221446 thenreturn 1093747545elseif M0E==1311786311 thenreturn 1093747762elseif M0E==1162032181 thenreturn 1093747761elseif M0E==1328558154 thenreturn 1093747546elseif M0E==1332963428 thenreturn 1093747760elseif M0E==1432642913 thenreturn 1093747763elseif M0E==1311781207 thenreturn 1093747764elseif M0E==1211117643 thenreturn 1093748529elseif M0E==1332766568 thenreturn 1093750100elseif M0E==1333027688 thenreturn 1093750320elseif M0E==1311780930 thenreturn 1093751123elseif M0E==1160786243 thenreturn 1093752148elseif M0E==1160785970 thenreturn 1093752149elseif M0E==1162032951 thenreturn 1093752369elseif M0E==1429221456 thenreturn 1093752409elseif M0E==1164799855 thenreturn 1093752644elseif M0E==1211117646 thenreturn 1093808467elseif M0E==1160786510 or M0E==1160786511 thenreturn 1093808951elseif M0E==1211117641 thenreturn 1093809989elseif M0E==1211117636 thenreturn 1093810241elseif M0E==1430468144 thenreturn 1093814600endifreturn 0endfunctionfunction TCX takes item QJE returns booleanlocal integer i=1loopexitwhen i>D0Vif QJE==D_V[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction TDX takes unit V_E returns locationreturn YO[GetUnitAbilityLevel(V_E,TO)]endfunctionfunction TFX takes unit V_E returns booleanreturn(GetOwningPlayer(V_E)==RX[0])or(GetOwningPlayer(V_E)==GX[0])endfunctionfunction TGX takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),0)call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,TDX(GetEnumUnit()))endfunctionfunction THX takes nothing returns nothingcall IssueTargetOrderById(GetEnumUnit(),$D000F,ZX)call GroupAddUnit(ZO,GetEnumUnit())call SetUnitUserData(GetEnumUnit(),H6V)endfunctionfunction TJX takes nothing returns booleanlocal integer id=GetUnitTypeId(GetFilterUnit())if id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370 thenreturn falseendifif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and(GetOwningPlayer(GetFilterUnit())==RX[0]or GetOwningPlayer(GetFilterUnit())==GX[0])and GetUnitUserData(GetFilterUnit())==0 thenreturn trueendifreturn falseendfunctionfunction TKX takes nothing returns nothingif GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),ZX,GetUnitAcquireRange(GetEnumUnit()))==false thencall GroupRemoveUnit(ZO,GetEnumUnit())call SetUnitUserData(GetEnumUnit(),0)call IssuePointOrderByIdLoc(GetEnumUnit(),$D000F,TDX(GetEnumUnit()))endifendfunctionfunction TLX takes nothing returns nothinglocal integer IAE=GetHandleId(RME(GetHandleId(GetExpiredTimer()),"Source"))local integer TMX=R1E(IAE,"Attacker")local group TPX=RUE(IAE,"Defenders")set H5V[TMX]=nullcall ForGroup(TPX,function TGX)call GroupClear(TPX)set TPX=nullendfunctionfunction TQX takes unit FLE,unit NHX returns nothinglocal integer IAE=GetHandleId(FLE)local group TPX=RUE(IAE,"Defenders")local integer TMX=R1E(IAE,"Attacker")local unit TSX=H5V[TMX]local group gif TSX!=null and TSX!=NHX thencall ForGroup(TPX,function TGX)call GroupClear(TPX)endifset H5V[TMX]=NHXset ZO=TPXset ZX=NHXset H6V=TMXcall ForGroup(TPX,function TKX)set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(NHX),GetUnitY(NHX),500,Condition(function TJX))call ForGroup(g,function THX)call FWE(g)call TimerStart(RSE(IAE,"DefendTimer"),2,false,function TLX)set g=nullset TSX=nullset TPX=nullendfunctionfunction TTX takes integer DAE returns booleanreturn DAE==1162032951 or DAE==1160785972 or DAE==1315074670 or DAE==1429221456 or DAE==1164799855 or DAE==1311781185 or DAE==1211117649endfunctionfunction TUX takes nothing returns booleanlocal unit FLE=GetAttacker()local unit m5=GetTriggerUnit()local integer X5=GetIssuedOrderId()local integer TMXlocal integer i1if TFX(FLE)==false thenset TMX=R1E(GetHandleId(m5),"Attacker")if H5V[TMX]==null or H5V[TMX]==m5 or GME(H5V[TMX])thenif((GetPlayerController(GetOwningPlayer(GetAttacker()))!=MAP_CONTROL_COMPUTER)or(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))thencall TQX(GetTriggerUnit(),GetAttacker())elseset i1=GetUnitTypeId(GetAttacker())if((i1!=1162032951)and(i1!=1160785972)and(i1!=1430468144)and(i1!=1315074670)and(i1!=1429221456)and(i1!=1164799855)and(i1!=1311781185)and(i1!=1211117649))thencall TQX(GetTriggerUnit(),GetAttacker())elsecall TriggerSleepAction(.01)if(not GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))])thencall TQX(GetTriggerUnit(),GetAttacker())endifendifendifif(not IsUnitType(FLE,UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(FLE))!=MAP_CONTROL_COMPUTER)or(not TTX(GetUnitTypeId(FLE)))or(not GZ[304+GetPlayerId(GetOwningPlayer(FLE))])thencall TQX(GetTriggerUnit(),GetAttacker())endifendifendifset FLE=nullset m5=nullreturn falseendfunctionfunction TWX takes nothing returns booleanlocal unit FLE=GetTriggerUnit()local unit m5=GetOrderTargetUnit()local integer X5=GetIssuedOrderId()local integer TYXif IsUnitType(m5,UNIT_TYPE_HERO) and IsUnitIllusion(m5)==false and(X5==$D000F or X5==$D0003)and IsUnitEnemy(m5,GetOwningPlayer(FLE))and IsUnitVisible(FLE,GetOwningPlayer(m5))thenset TYX=R1E(GetHandleId(m5),"Attacker")if H5V[TYX]==null or H5V[TYX]==m5 or GME(H5V[TYX])thencall TQX(m5,FLE)endifendifset FLE=nullset m5=nullreturn falseendfunctionfunction Wy takes unit FLE returns booleanreturn R3E(GetHandleId(FLE),"HeroAIManager")endfunctionfunction TZX takes unit FLE returns nothinglocal group glocal trigger tlocal timer tmlocal integer IAE=GetHandleId(FLE)set l2=l2+1call O7E(IAE,"HeroAIManager",true)call O4E(IAE,"Attacker",l2)set g=FYE()call RAE(IAE,"Defenders",g)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function TWX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function TUX))set tm=CreateTimer()call RNE(GetHandleId(FLE),"DefendTimer",tm)call O8E(GetHandleId(tm),"Source",FLE)set g=nullset t=nullset tm=nullendfunctionfunction T_X takes nothing returns nothinglocal unit S4=GetTriggerUnit()local unit m5=rw[GetUnitUserData(S4)]call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))if m5!=null and GME(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))thencall IssueTargetOrderById(S4,$D000F,m5)elsecall DisableTrigger(GetTriggeringTrigger())call IssuePointOrderByIdLoc(S4,$D000F,(YO[GetUnitAbilityLevel((S4),TO)]))call EnableTrigger(GetTriggeringTrigger())endifset S4=nullset m5=nullendfunctionfunction T0X takes nothing returns booleanif TFX(GetTriggerUnit())thencall T_X()endifreturn falseendfunctionfunction T1X takes nothing returns nothinglocal unit S4=GetTriggerUnit()local unit m5=rw[GetUnitUserData(S4)]call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))if m5!=null and GME(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))thencall IssueTargetOrderById(S4,$D000F,m5)elsecall DisableTrigger(GetTriggeringTrigger())call IssuePointOrderByIdLoc(S4,$D000F,(YO[GetUnitAbilityLevel((S4),TO)]))call EnableTrigger(GetTriggeringTrigger())endifset S4=nullset m5=nullendfunctionfunction T2X takes nothing returns booleanif GetIssuedOrderId()==$D0012 thencall T1X()endifreturn falseendfunctionfunction T3X takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thenif IsUnitFogged(GetAttacker(),RX[1])or IsUnitFogged(GetAttacker(),GX[1])thencall JSE(CreateFogModifierRadius(RX[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),$80,true,false),1)endifelseif GetOwningPlayer(GetTriggerUnit())==GX[0]thenif IsUnitFogged(GetAttacker(),RX[1])or IsUnitFogged(GetAttacker(),GX[1])thencall JSE(CreateFogModifierRadius(GX[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),$80,true,false),1)endifendifreturn falseendfunctionfunction T4X takes nothing returns booleanlocal trigger tlocal group glocal unit uset Ew=CreateRegion()call RegionAddRect(Ew,WA)call RegionAddRect(Ew,QA)if XR thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function BUE))call TriggerAddCondition(t,Condition(function T2X))set t=CreateTrigger()set g=FYE()call GroupEnumUnitsOfPlayer(g,RX[0],Condition(function BUE))loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)if GetUnitAcquireRange(u)!=0 thencall TriggerRegisterUnitInRange(t,u,600,Condition(function BUE))endifendloopcall FWE(g)set g=FYE()call GroupEnumUnitsOfPlayer(g,GX[0],Condition(function BUE))loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)thencall TriggerRegisterUnitInRange(t,u,600,Condition(function BUE))endifendloopcall FWE(g)call TriggerAddCondition(t,Condition(function T0X))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function T3X))endifcall IRE(GetTriggeringTrigger())set u=nullset g=nullset t=nullreturn falseendfunctionfunction T5X takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(not Wy(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1211117645 and GetUnitTypeId(GetTriggerUnit())!=1211117657 and GetUnitTypeId(GetTriggerUnit())!=1211119431 and GetUnitTypeId(GetTriggerUnit())!=1211122232)!=nullendfunctionfunction T6X takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==RX[0]thencall SetUnitAbilityLevel(GetTriggerUnit(),TO,5)if rw[GetUnitUserData(GetTriggerUnit())]==null thencall SetUnitUserData(GetTriggerUnit(),0)call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,(YO[GetUnitAbilityLevel((GetTriggerUnit()),TO)]))endifelseif GetOwningPlayer(GetTriggerUnit())==GX[0]thencall SetUnitAbilityLevel(GetTriggerUnit(),TO,1)if rw[GetUnitUserData(GetTriggerUnit())]==null thencall SetUnitUserData(GetTriggerUnit(),0)call IssuePointOrderByIdLoc(GetTriggerUnit(),$D000F,(YO[GetUnitAbilityLevel((GetTriggerUnit()),TO)]))endifendifreturn falseendfunctionfunction T7X takes unit S4 returns nothinglocal integer i=0loopexitwhen(i==16)if IsUnitAlly(S4,Player(i))thencall UnitShareVision(S4,Player(i),true)endifset i=i+1endloopendfunctionfunction T8X takes nothing returns nothingcall T7X(GetEnumUnit())endfunctionfunction T9X takes nothing returns nothinglocal integer xlocal group gset x=1loopexitwhen x>5call SetPlayerAlliance(RX[0],RX[x],ConvertAllianceType(5),false)call SetPlayerAlliance(GX[0],GX[x],ConvertAllianceType(5),false)set x=x+1endloopset g=FYE()call GroupEnumUnitsOfPlayer(g,RX[0],Condition(function BUE))call ForGroup(g,function T8X)call FWE(g)set g=FYE()call GroupEnumUnitsOfPlayer(g,GX[0],Condition(function BUE))call ForGroup(g,function T8X)call FWE(g)set g=nullendfunctionfunction UVX takes nothing returns nothinglocal integer xset x=0loopexitwhen x>5call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(0),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(1),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(2),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(3),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(4),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(5),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(6),false)call SetPlayerAlliance(RX[x],SX,ConvertAllianceType(7),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(0),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(1),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(2),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(3),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(4),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(5),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(6),false)call SetPlayerAlliance(GX[x],SX,ConvertAllianceType(7),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(0),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(1),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(2),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(3),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(4),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(5),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(6),false)call SetPlayerAlliance(SX,RX[x],ConvertAllianceType(7),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(0),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(1),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(2),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(3),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(4),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(5),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(6),false)call SetPlayerAlliance(SX,GX[x],ConvertAllianceType(7),false)set x=x+1endloopendfunctionfunction UEX takes nothing returns booleanreturn TFX(GetTriggerUnit())endfunctionfunction UXX takes nothing returns nothingcall T7X(GetTriggerUnit())endfunctionfunction UOX takes nothing returns nothinglocal trigger tif not XR thenreturnendifcall T9X()call UVX()set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function UEX))call TriggerAddAction(t,function UXX)set t=nullendfunctionfunction URX takes nothing returns nothingcall RemoveUnit(RME(GetHandleId(GetTriggerUnit()),"Locust"))endfunctionfunction UIX takes nothing returns nothinglocal group glocal unit S4local unit UAXlocal trigger tlocal integer iset t=CreateTrigger()call TriggerAddAction(t,function URX)set g=FYE()call GroupEnumUnitsOfPlayer(g,RX[0],Condition(function BUE))loopset S4=FirstOfGroup(g)exitwhen S4==nullcall GroupRemoveUnit(g,S4)if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 thencall TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)set UAX=CreateUnit(RX[1],(1966092354),-5000,-5100,0)call SetUnitScale(UAX,0,0,0)call SetUnitPathing(UAX,false)call SetUnitInvulnerable(UAX,true)call SetUnitX(UAX,GetUnitX(S4))call SetUnitY(UAX,GetUnitY(S4))call O8E(GetHandleId(S4),"Locust",UAX)endifendloopcall FWE(g)set g=FYE()call GroupEnumUnitsOfPlayer(g,GX[0],Condition(function BUE))loopset S4=FirstOfGroup(g)exitwhen S4==nullcall GroupRemoveUnit(g,S4)if GetUnitAbilityLevel(S4,1097102451)>0 or GetUnitAbilityLevel(S4,1098150517)>0 thencall TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)set UAX=CreateUnit(GX[1],(1966092354),$D48,4400,0)call SetUnitScale(UAX,0,0,0)call SetUnitPathing(UAX,false)call SetUnitInvulnerable(UAX,true)call SetUnitX(UAX,GetUnitX(S4))call SetUnitY(UAX,GetUnitY(S4))call O8E(GetHandleId(S4),"Locust",UAX)endifendloopcall FWE(g)set t=nullset UAX=nullset S4=nullset g=nullendfunctionfunction UNX takes nothing returns nothingif XR thenset CZV=CreateTrigger()call TriggerRegisterTimerEvent(CZV,1.,true)call TriggerAddAction(CZV,function B7X)endifendfunctionfunction UBX takes nothing returns booleancall IRE(GetTriggeringTrigger())call TriggerEvaluate(CS)return falseendfunctionfunction UCX takes nothing returns booleanlocal real r=TimerGetRemaining(F5V)local real GPX=rlocal integer D5=R2I(GPX)local integer G7X=D5/ 60-1/ 2local integer G8X=ModuloInteger(D5,60)local trigger tif r==0 thenset P8V=truecall PGE("GameStart",1)call G6X(G7X,G8X,true)set DBV=trueset CHV=TimerGetElapsed(K)call IRE(GetTriggeringTrigger())set AAV=Rect(-7040,-7680,7040,7168)call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.)call SuspendTimeOfDay(false)call SetTimeOfDayScale(.625)if CV==false thenif KS thencall TriggerRegisterTimerEvent(IWV,120.,true)elsecall TriggerRegisterTimerEvent(IWV,120.,true)endifcall TriggerEvaluate(IWV)endifcall TriggerRegisterTimerEvent(CS,60.,true)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,30.,false)call TriggerAddCondition(t,Condition(function UBX))set t=nullcall TriggerRegisterTimerEventPeriodic(OS,30.)call TriggerExecute(OS)call TriggerRegisterTimerEventPeriodic(BS,450.)call TriggerRegisterTimerEventSingle(YQ,2699.)call TriggerRegisterTimerEventSingle(ES,999.)call TriggerRegisterTimerEventSingle(ES,1999.)call TriggerRegisterTimerEventSingle(ES,2999.)call TriggerRegisterTimerEvent(C9V,300.,true)call TriggerRegisterTimerEvent(DQV,300.,true)call TriggerRegisterTimerEvent(JI,30.,true)call TriggerEvaluate(JI)if DV thencall TriggerRegisterTimerEvent(DS,600.,true)endifelseif r==7 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,30.,true)call TriggerAddCondition(t,Condition(function MHX))elseif GPX<$C and F8V==false thenset F8V=truecall PlaySoundBJ(HL)call G6X(G7X,G8X,true)elseif GPX==20 thenif GetRandomInt(0,$A)<6 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,6,"|c006699CC"+GetObjectName(1848659015)+"|r")endifelseif GPX==30 thenelsecall G6X(G7X,G8X,true)endifreturn falseendfunctionfunction UDX takes nothing returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function UCX))set F5V=CreateTimer()call TimerStart(F5V,F7V+1,false,null)set t=nullset CJV=TimerGetElapsed(K)+1endfunctionfunction UFX takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())!=RX[0]and GetOwningPlayer(GetTriggerUnit())!=GX[0]thenset OT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=OT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1if GetIssuedOrderId()!=851983thenset nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(K))set RT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseendifif(GetIssuedOrderId()==851983or GetIssuedOrderId()==$D0003)and GetOrderTargetItem()!=null thenif GetIssuedOrderId()==851983or(GetIssuedOrderId()==$D0003 and R3E(GetHandleId(GetItemPlayer(GetOrderTargetItem())),"DisableHelp"))thenif GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem())) thencall DisableTrigger(GetTriggeringTrigger())call XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657719))))call EnableTrigger(GetTriggeringTrigger())endifendifendifendifreturn falseendfunctionfunction UGX takes nothing returns nothinglocal string UHX=StringCase(GetEventPlayerChatString(),false)local boolean UJX=UHX=="-random" or UHX=="-random int" or UHX=="-random agi" or UHX=="-random str"local boolean UKX=UHX=="-repick"local boolean ULX=UHX=="-gameinfo"local boolean UMX=SubString(UHX,0,5)=="-swap"local boolean UPX=UHX=="-recreate"local boolean UQX=UHX=="-unstuck"local boolean USX=UHX=="-matchup" or UHX=="-ma"local boolean UTX=UHX=="-movespeed" or UHX=="-ms"local boolean UUX=UHX=="-msa"local boolean UWX=UHX=="-disablehelp"local boolean UYX=UHX=="-enablehelp"local boolean UZX=UHX=="-creepstats" or UHX=="-cs"local boolean U_X=UHX=="-cson" or UHX=="-csoff"local boolean U0X=UHX=="-hidemsg"local boolean U1X=UHX=="-showmsg"local boolean U2X=UHX=="-weather snow" or UHX=="-weather rain" or UHX=="-weather off" or UHX=="-weather random" or UHX=="-weather wind" or UHX=="-weather moonlight"local boolean U3X=UHX=="-showdeny" or UHX=="-hidedeny"local boolean U4X=UHX=="-denyinfo" or UHX=="-di"local boolean U5X=UHX=="-don" or UHX=="-deathon" or UHX=="-doff" or UHX=="-deathoff"local boolean U6X=SubString(UHX,0,5)=="-roll" and UHX!="-rollhero"local boolean U7X=UHX=="-hhn" or UHX=="-hideheronames"local boolean U8X=UHX=="-mute"local boolean U9X=UHX=="-apm"local boolean WVX=UHX=="-clear"local boolean WEX=UHX=="-courier"local boolean WXX=UHX=="-invokelist" or UHX=="-il"local boolean bListCommand=UHX=="-list"local boolean WOX=UHX=="-rolloff"local boolean WRX=UHX=="-rollon"local boolean WIX=SubString(UHX,0,6)=="-music"local boolean WAX=SubString(UHX,0,6)=="-water"local boolean WNX=SubString(UHX,0,6)=="-quote"local boolean WBX=SubString(UHX,0,3)=="-cm"local boolean WCX=SubString(UHX,0,9)=="-itemswap"local boolean WDX=UHX=="-bonus"local boolean WFX=UHX=="-rollhero" or UHX=="-rh"local boolean WGX=SubString(UHX,0,9)=="-rickroll"local boolean NoSwitch=UHX=="-noswitch"local boolean Switch=SubString(UHX,0,7)=="-switch"or UHX=="-ok"or UHX=="-no"local boolean Terrain=UHX=="-terrain" or UHX=="-terrain default" or UHX=="-terrain snow"local boolean WHX=UHX=="-tips"local boolean WJX=UHX=="-ii" or UHX=="-iteminfo"local boolean WKX=UHX=="-center" or UHX=="-centeroff" or UHX=="-c" or UHX=="-co"local boolean Unlock=UHX=="-unlock"local boolean WLX=UHX=="-disableselection"or UHX=="-ds"local boolean WMX=UHX=="-enableselection"or UHX=="-es"local boolean WPX=UHX=="-sleep"local boolean WQX=UHX=="-calm"local boolean GTX=UHX=="-st"local boolean WSX=UHX=="-nosanta"local boolean WTX=SubString(UHX,0,$A)=="-aiunstuck"local boolean WUX=StringLength(UHX)>3 and SubString(UHX,0,3)=="-cs"local boolean WWX=StringLength(UHX)>3 and SubString(UHX,0,3)=="-ms"local boolean WYX=UHX=="-aid"local boolean WZX=UHX=="-override"local boolean W_X=UHX=="-formless"local boolean W0X=UHX=="-bastion"local boolean W1X=UHX=="-aimsg"local boolean W2X=UHX=="-aimsgmiss"local boolean W3X=(UHX=="-aiboard")local boolean W4X=UHX=="-aiglyph"local boolean W5X=((UHX=="-aishowde")or(UHX=="-aishowdg")or(UHX=="-aishowdedg")or(UHX=="-aishowdynamic"))call HOE("W6X",UJX)call HOE("W7X",UKX)call HOE("W8X",ULX)call HOE("W9X",UMX)call HOE("YVX",UPX)call HOE("YEX",UQX)call HOE("YXX",USX)call HOE("YOX",UTX)call HOE("YRX",UUX)call HOE("YIX",UWX)call HOE("YAX",UYX)call HOE("YNX",UZX)call HOE("YBX",U_X)call HOE("YCX",U0X)call HOE("YDX",U1X)call HOE("YFX",U2X)call HOE("YGX",U3X)call HOE("YHX",U4X)call HOE("YJX",U5X)call HOE("YKX",U6X)call HOE("YLX",U7X)call HOE("YMX",U8X)call HOE("YPX",U9X)call HOE("YQX",WVX)call HOE("YSX",WEX)call HOE("YTX",WXX)call HOE("YUX",WOX)call HOE("YWX",WRX)call HOE("YYX",WIX)call HOE("YZX",WAX)call HOE("Y_X",WNX)call HOE("Y0X",WBX)call HOE("Y1X",WCX)call HOE("Y2X",WDX)call HOE("Y3X",WFX)call HOE("Y4X",WGX)call HOE("Y5X",WJX)call HOE("Y6X",WHX)call HOE("Y7X",WKX)call HOE("Y8X",WLX)call HOE("Y9X",WMX)call HOE("ZVX",WPX)call HOE("ZEX",GTX)call HOE("ZXX",WQX)call HOE("ZOX",WSX)call HOE("ZRX",WUX)call HOE("ZIX",WWX)call HOE("ZAX",WYX)call HOE("ZNX",WTX)call HOE("ZBX",WZX)call HOE("ZCX",W_X)call HOE("ZDX",W0X)call HOE("ZFX",W1X)call HOE("ZGX",W2X)call HOE("ZHX",W3X)call HOE("ZJX",W4X)call HOE("ZKX",W5X)endfunctionfunction ZFX takes nothing returns nothinglocal integer O5=GetPlayerId(GetTriggerPlayer())set U1V[O5]=(not U1V[O5])call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"AI messaging is turned "+V9E(U1V[O5],"|c009090ffon|r","|c00ff9090off|r"))endfunctionfunction ZGX takes nothing returns nothinglocal integer O5=GetPlayerId(GetTriggerPlayer())set U1V[16+O5]=(not U1V[16+O5])call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"AI missing hero report is turned "+V9E(U1V[16+O5],"|c009090ffon|r","|c00ff9090off|r"))if(U1V[16+O5])and(not U1V[O5])thencall ZFX()endifendfunctionfunction ZLX takes player p returns nothinglocal integer O5=GetPlayerId(p)if p==GGV thenset WZV=not WZVcall DisplayTimedTextToForce(WE,10.,"AI auto-glyph is turned "+V9E(WZV,"|c009090ffon|r","|c00ff9090off|r"))if not WZV thencall DisplayTimedTextToForce(WE,10.,"  AI will remind human players instead to use |c00ffcc00Glyph of Fortification|r")endifcall DisplayTimedTextToForce(WE,10.," ")elseif p==GHV thenset W_V=not W_Vcall DisplayTimedTextToForce(YE,10.,"AI auto-glyph is turned "+V9E(W_V,"|c009090ffon|r","|c00ff9090off|r"))if not W_V thencall DisplayTimedTextToForce(YE,10.,"  AI will remind human players instead to use |c00ffcc00Glyph of Fortification|r")endifcall DisplayTimedTextToForce(YE,10.," ")endifset p=nullendfunctionfunction ZJX takes nothing returns nothingcall ZLX(GetTriggerPlayer())endfunctionfunction Y4X takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),$A,StringLength(GetEventPlayerChatString())))local integer D5=GetPlayerId(GetTriggerPlayer())set Rw[D5]=Rw[D5]+1if Rw[D5]>$A thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,(GetObjectName((1848656977))))returnendifif a<1 or a>8 thenset a=GetRandomInt(1,8)endifif a==1 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")elseif a==2 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")elseif a==3 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")elseif a==4 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")elseif a==5 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")elseif a==6 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")elseif a==7 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")elseif a==8 thencall D2E(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")endifendfunctionfunction ZVX takes nothing returns nothingcall SetUnitAnimation(QV[GetPlayerId(GetTriggerPlayer())],"sleep")endfunctionfunction ZXX takes nothing returns nothingcall SetUnitAnimationByIndex(QV[GetPlayerId(GetTriggerPlayer())],23)endfunctionfunction ZOX takes nothing returns nothingif QV[GetPlayerId(GetTriggerPlayer())]!=null thenset D4V[GetPlayerId(GetTriggerPlayer())]=1call UnitRemoveAbility(QV[GetPlayerId(GetTriggerPlayer())],1093815114)endifendfunctionfunction Y6X takes nothing returns nothingif IT[GetPlayerId(GetTriggerPlayer())]==false thenset IT[GetPlayerId(GetTriggerPlayer())]=trueif(GetObjectName((1848657992)))=="Language: English" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,"You have activated the -tips system.")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")endifif QV[GetPlayerId(GetTriggerPlayer())]!=null thencall MTE(GetTriggerPlayer(),GetUnitPointValue(QV[GetPlayerId(GetTriggerPlayer())]))endifendifendfunctionfunction ZMX takes nothing returns booleanreturn( not(CI==false))and( not(AV[GetPlayerId(lx)]))and( not(B==false))and( not(QV[GetPlayerId(lx)]!=null and GI==false))and( not(I[GetPlayerId(lx)]))and( not(Tx[GetPlayerId(lx)]and GI==false))and( not(GI and eo[GetPlayerId(lx)]))endfunctionfunction ZPX takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local string ZQX=R4E(IAE,"string")set lx=pif ZMX()thenset AV[GetPlayerId(p)]=trueif ZQX=="-random int" thencall DLE(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elseif ZQX=="-random str" thencall DSE(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elseif ZQX=="-random agi" thencall DTE(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elsecall DUE(p)endifelsecall DisplayTimedTextToPlayer(p,0,BI,$A,(GetObjectName((1848653625))))endifset t=nullset p=nullreturn falseendfunctionfunction W6X takes nothing returns nothinglocal player j8=GetTriggerPlayer()local trigger tset lx=j8if ZMX()and oo[GetPlayerId(j8)]==false thenset oo[GetPlayerId(j8)]=truecall C0E(j8)call DisplayTimedTextToPlayer(j8,0,BI,$A,(GetObjectName((1848653633))))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function ZPX))call RRE(GetHandleId(t),"p",j8)call O6E(GetHandleId(t),"string",StringCase(GetEventPlayerChatString(),false))endifset t=nullendfunctionfunction ZSX takes nothing returns booleanlocal unit FLE=QV[GetPlayerId(GetTriggerPlayer())]if FAV thencall HEE(GetTriggerPlayer(),(GetObjectName((1848652592))))return falseendifif DI==false thenif CT==false and ZR==false and D3V==false and tW==false and D7V==false and D8V==false and GI==false and OR==false thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,"-repick "+(GetObjectName((1848653122))))endifreturn falseendifif(I[GetPlayerId(GetTriggerPlayer())])thenreturn falseendifif(QV[GetPlayerId(GetTriggerPlayer())]==null)thenreturn falseendifif Q or ZR or GI or HFV thenreturn falseendifif(HI)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653104))))return falseendifif(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<NV)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653113))))return falseendifif GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and W or GR thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653141))))return falseendifif GetUnitState(FLE,UNIT_STATE_MANA)!=GetUnitState(FLE,UNIT_STATE_MAX_MANA)or GetUnitState(FLE,UNIT_STATE_LIFE)!=GetUnitState(FLE,UNIT_STATE_MAX_LIFE)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653130))))return falseendifreturn trueendfunctionfunction ZTX takes nothing returns nothingif(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))thenif(GetUnitTypeId(GetEnumUnit())==1429221430)thencall ExecuteFunc("D3X")elseif GetUnitTypeId(GetEnumUnit())==1429221432 or GetUnitTypeId(GetEnumUnit())==1160786229 thenset AOV=GetEnumUnit()call ExecuteFunc("FZX")endifcall D2E(M4(GetTriggerPlayer()),10.,(GetObjectName((1848653132)))+" "+FBE(GetEnumUnit())+".")endifif(GetUnitTypeId(GetEnumUnit())==1848651828)thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())==1848652088)thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())==1848652099)thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())==1848652103)thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction ZUX takes nothing returns nothinglocal player j8=GetTriggerPlayer()local group P3E=FYE()local integer DMElocal integer DPElocal location DQElocal integer C9Elocal integer T8local integer U8local unit ZWXlocal location P8E=GetRectCenter(pr)local location P9E=GetRectCenter(qr)set bj_groupEnumOwningPlayer=j8call GroupEnumUnitsInRect(P3E,GetWorldBounds(),filterGetUnitsInRectOfPlayer)if(B2E(j8))thenset DME=BBVset DPE=BCVset DQE=GetRectCenter(WA)elseset DME=BDVset DPE=BFVset DQE=GetRectCenter(QA)endifif T thenif(GetRandomInt(1,2)==1)thenset DME=BBVset DPE=BCVelseset DME=BDVset DPE=BFVendifendifif W or GR thenset NV=100endifset ZWX=RME(GetHandleId(GetTriggerPlayer()),"ChargeUnit")if ZWX!=null and GetUnitTypeId(ZWX)==1697656899 thencall RemoveUnit(ZWX)set ZWX=nullendifcall AdjustPlayerStateBJ(-1*NV,j8,PLAYER_STATE_RESOURCE_GOLD)set I[GetPlayerId(j8)]=truecall ForGroup(P3E,function ZTX)call HKE(QV[GetPlayerId(j8)])set QV[GetPlayerId(GetTriggerPlayer())]=nullif W or GR thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,(GetObjectName((1311782233))))if W thenset T8=BBVset U8=BFVendifif B2E(j8)thenif GR thenset T8=BBVset U8=BCVcall CreateUnitAtLoc(j8,1848651843,P8E,bj_UNIT_FACING)elsecall CreateUnitAtLoc(j8,1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(j8,1848651843,P9E,bj_UNIT_FACING)endifcall PanCameraToTimedLocForPlayer(j8,P8E,0)elseif GR thenset T8=BDVset U8=BFVcall CreateUnitAtLoc(j8,1848651843,P9E,bj_UNIT_FACING)elsecall CreateUnitAtLoc(j8,1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(j8,1848651843,P9E,bj_UNIT_FACING)endifcall PanCameraToTimedLocForPlayer(j8,P9E,0)endifloopexitwhen T8>U8if v[T8]==false thencall SetPlayerTechMaxAllowed(j8,BAV[T8],1)endifset T8=T8+1endloopcall FWE(P3E)set P3E=nullcall RemoveLocation(DQE)set DQE=nullcall RemoveLocation(P8E)set P8E=nullcall RemoveLocation(P9E)set P9E=nullreturnendifloopset C9E=GetRandomInt(DME,DPE)if(v[C9E]==false)thenset v[C9E]=trueset QV[GetPlayerId(j8)]=CreateUnitAtLoc(j8,BAV[C9E],DQE,bj_UNIT_FACING)call C_E(BAV[C9E])endifexitwhen QV[GetPlayerId(GetTriggerPlayer())]!=nullendloopcall FWE(P3E)set P3E=nullcall RemoveLocation(DQE)set DQE=nullcall RemoveLocation(P8E)set P8E=nullcall RemoveLocation(P9E)set P9E=nullendfunctionfunction W7X takes nothing returns nothingif ZSX()thencall ZUX()endifendfunctionfunction W8X takes nothing returns nothinglocal player j8=GetTriggerPlayer()local string ZYX="|c006699CC"if D7V thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"League Mode"+"|r:      "+(GetObjectName((1848653621))))endifif D8V thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Extended League"+"|r:      "+(GetObjectName((1848653634))))call DisplayTimedTextToPlayer(j8,0,BI,20,"                                 "+(GetObjectName((1848653616))))endifif Q thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Death Match"+"|r:        "+(GetObjectName((1848653402))))call DisplayTimedTextToPlayer(j8,0,BI,20,"                              "+(GetObjectName((1848653401)))+" "+I2S(HME(BCV,BFV-BDV+1))+" "+(GetObjectName((1848653635))))endifif OR thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Mirror Match"+"|r:       "+(GetObjectName((1848653399))))endifif W thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"All Pick"+"|r:                 "+(GetObjectName((1848653398))))endifif D3V thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Random Draft"+"|r:                 "+(GetObjectName((1848653618))))endifif CT thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Single Draft"+"|r:                 "+(GetObjectName((1848653639))))endifif T thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"All Random"+"|r:          "+(GetObjectName((1848653617))))endifif ZR thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Vote Random"+"|r:         "+(GetObjectName((1848653620))))endifif U thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Team Random"+"|r:     "+(GetObjectName((1848653389))))endifif GI thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Reverse"+"|r:                 "+(GetObjectName((1848653619))))endifif ge thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Shuffle Players"+"|r:     "+(GetObjectName((1848653640))))endifif Rx thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"All Agility"+"|r:             "+(GetObjectName((1848653644))))endifif bx thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"All Strength"+"|r:         "+(GetObjectName((1848653643))))endifif Nx thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"All Intelligence"+"|r:    "+(GetObjectName((1848653642))))endifif Jj thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Range Only"+"|r:    "+(GetObjectName((1848657716))))endifif lj thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Melee Only"+"|r:    "+(GetObjectName((1848657717))))endifif IR thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Duplicate Mode"+"|r:   "+(GetObjectName((1848653641))))endifif EV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Item Drop"+"|r:             "+(GetObjectName((1848653638))))endifif CV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Powerups"+"|r:        "+(GetObjectName((1848653645))))endifif DV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Super Creeps"+"|r:        "+(GetObjectName((1848653646))))call DisplayTimedTextToPlayer(j8,0,BI,20,"                             "+(GetObjectName((1848653647))))endifif BV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Easy Mode"+"|r:           "+(GetObjectName((1848653652))))endifif IQV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Same Hero"+"|r:           "+(GetObjectName((1848653653)))+" "+(BXV[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848653655))))endifif FEV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Only Mid"+"|r:           "+(GetObjectName((1848653872))))endifif FXV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Bot"+"|r:           "+(GetObjectName((1848653654))))endifif FOV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Mid"+"|r:           "+(GetObjectName((1848653651))))endifif FRV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Top"+"|r:           "+(GetObjectName((1848653650))))endifif FIV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Swap"+"|r:           "+(GetObjectName((1848653656))))endifif FAV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"No Repick"+"|r:           "+(GetObjectName((1848653649))))endifif FNV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Pool Mode"+"|r:           "+(GetObjectName((1848653657))))endifif FBV thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Observer Info"+"|r:           "+(GetObjectName((1848653658))))endifif bN thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Mini Heroes"+"|r:           "+(GetObjectName((1848657219))))endifif JS thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Fast Respawn"+"|r:           "+(GetObjectName((1848656976))))endifif H0V thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Captains Mode"+"|r:           "+(GetObjectName((1848657220))))endifif KS thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Experimental Runes"+"|r:           "+(GetObjectName((1848657718))))endifif tW thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Captains Draft"+"|r:           "+(GetObjectName((1848657734))))endifif GR thencall DisplayTimedTextToPlayer(j8,0,BI,20,ZYX+"Normal Mode"+"|r:        "+(GetObjectName((1848653648))))endifif JT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Super Tower|r:         Towers regenerates HP")endifif KT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Modified Super Creeps|r:  An improved version of Super Creeps")endifif LT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"High Exp AI|r:            The AI has increased experience gain.")endifif PT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Normal Exp AI|r:       The AI receives the default amount of experience.")endifif QT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")endifif MT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"High Gold AI|r:           The AI has increased gold gain.")endifif DT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Normal Gold AI|r:      The AI receives the default amount of gold.")endifif TT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")endifif J7V thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"Cool Names|r:          The AI receives a random cool name.")endifif J8V thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"All Dagon|r:          The AI receives random level Dagon at random times.")endifif FT thencall DisplayTimedTextToPlayer(j8,0,BI,20,"|c00dd8dff"+"No Necronomicon|r:    The AI will not build Necronomicon.")endifendfunctionfunction P5 takes nothing returns nothingif((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1865429043))thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction ZZX takes unit u1,unit u2 returns nothinglocal player Z_X=GetOwningPlayer(u1)local player Z0X=GetOwningPlayer(u2)local unit Z1X=CreateUnit(Z_X,1697657158,0,0,0)local group glocal item Z2Xlocal integer Z3Xset Z3X=LDV[GetPlayerId(Z_X)]set LDV[GetPlayerId(Z_X)]=LDV[GetPlayerId(Z0X)]set LDV[GetPlayerId(Z0X)]=Z3Xcall DisableTrigger(R3V)if GetUnitAbilityLevel(u1,1093677893)>0 thenset B2=u1set C2=u2call ExecuteFunc("Z4X")elseif GetUnitAbilityLevel(u2,1093677893)>0 thenset B2=u2set C2=u1call ExecuteFunc("Z4X")endifif GetUnitAbilityLevel(u1,1093682009)>0 thenset B2=u1set C2=u2call ExecuteFunc("Z5X")elseif GetUnitAbilityLevel(u2,1093682009)>0 thenset B2=u2set C2=u1call ExecuteFunc("Z5X")endifif GetUnitAbilityLevel(u1,1093743444)>0 thenset B2=u1set C2=u2call ExecuteFunc("Z6X")elseif GetUnitAbilityLevel(u2,1093743444)>0 thenset B2=u2set C2=u1call ExecuteFunc("Z6X")endifcall O1E(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))))call O1E(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))))set g=FYE()set bj_groupEnumOwningPlayer=Z_Xcall GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(g,function P5)call FWE(g)set g=FYE()set bj_groupEnumOwningPlayer=Z0Xcall GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(g,function P5)call FWE(g)call SetUnitOwner(u2,Z_X,true)call SetUnitOwner(u1,Z0X,true)set QV[GetPlayerId(Z_X)]=u2set QV[GetPlayerId(Z0X)]=u1if B6E(Z_X)thencall SetPlayerName(Z_X,D0E(Z_X))elsecall SetPlayerName(Z_X,D0E(Z_X)+" ("+FBE(QV[GetPlayerId(Z_X)])+")")endifif B6E(Z0X)thencall SetPlayerName(Z0X,D0E(Z0X))elsecall SetPlayerName(Z0X,D0E(Z0X)+" ("+FBE(QV[GetPlayerId(Z0X)])+")")endifcall UnitAddItem(Z1X,UnitItemInSlot(u2,0))call UnitAddItem(Z1X,UnitItemInSlot(u2,1))call UnitAddItem(Z1X,UnitItemInSlot(u2,2))call UnitAddItem(Z1X,UnitItemInSlot(u2,3))call UnitAddItem(Z1X,UnitItemInSlot(u2,4))call UnitAddItem(Z1X,UnitItemInSlot(u2,5))set Z2X=UnitItemInSlot(u1,0)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(u1,1)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(u1,2)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(u1,3)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(u1,4)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(u1,5)if Z2X!=null thencall SetItemPlayer(Z2X,Z_X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u2,Z2X)endifset Z2X=UnitItemInSlot(Z1X,0)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifset Z2X=UnitItemInSlot(Z1X,1)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifset Z2X=UnitItemInSlot(Z1X,2)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifset Z2X=UnitItemInSlot(Z1X,3)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifset Z2X=UnitItemInSlot(Z1X,4)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifset Z2X=UnitItemInSlot(Z1X,5)if Z2X!=null thencall SetItemPlayer(Z2X,Z0X,false)call SetItemUserData(Z2X,1)call UnitAddItem(u1,Z2X)endifcall RemoveUnit(Z1X)call EnableTrigger(R3V)if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER) or GetUnitTypeId(u1)==1211119187)and OAE(u1,BU[W3])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[W3]))elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER) or GetUnitTypeId(u1)==1211119187)and OAE(u1,BU[U3])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[U3]))endifif(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER) or GetUnitTypeId(u1)==1211119187)and OAE(u2,BU[W3])!=null thencall UnitRemoveItem(u1,OAE(u2,BU[W3]))elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER) or GetUnitTypeId(u1)==1211119187)and OAE(u2,BU[U3])!=null thencall UnitRemoveItem(u1,OAE(u2,BU[U3]))endifif GetUnitTypeId(u1)==1211119187 and OAE(u1,BU[U3])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[U3]))elseif GetUnitTypeId(u1)==1211119187 and OAE(u1,BU[W3])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[W3]))endifif GetUnitTypeId(u2)==1211119187 and OAE(u2,BU[U3])!=null thencall UnitRemoveItem(u2,OAE(u2,BU[U3]))elseif GetUnitTypeId(u2)==1211119187 and OAE(u2,BU[W3])!=null thencall UnitRemoveItem(u2,OAE(u2,BU[W3]))endifif(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER))and OAE(u1,BU[EQV])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[EQV]))elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER))and OAE(u1,BU[EPV])!=null thencall UnitRemoveItem(u1,OAE(u1,BU[EPV]))endifif(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER))and OAE(u2,BU[EQV])!=null thencall UnitRemoveItem(u1,OAE(u2,BU[EQV]))elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER))and OAE(u2,BU[EPV])!=null thencall UnitRemoveItem(u1,OAE(u2,BU[EPV]))endifcall ClearSelectionForPlayer(Z_X)call SelectUnitAddForPlayer(u2,Z_X)call ClearSelectionForPlayer(Z0X)call SelectUnitAddForPlayer(u1,Z0X)call O1E(StringHash("SwapHero|"+I2S(GetPlayerId(Z_X))))call O1E(StringHash("SwapHero|"+I2S(GetPlayerId(Z0X))))set I9V=u1call ExecuteFunc("IRX")set I9V=u2call ExecuteFunc("IRX")call M6E(Z_X)call M6E(Z0X)if(GetPlayerController(Z0X)==MAP_CONTROL_COMPUTER)thencall O8E(G2V,"AIHSwap|U",u1)call ExecuteFunc("Uf")endifset Z_X=nullset Z0X=nullset g=nullset Z1X=nullset Z2X=nullendfunctionfunction yM takes unit u1,unit u2 returns booleanreturn R3E(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))),I2S(GetUnitTypeId(u2))+"|"+I2S(GetUnitTypeId(u1)))endfunctionfunction YL takes nothing returns nothingcall O1E(StringHash("SwapHero|"+I2S(GetPlayerId(GetTriggerPlayer()))))endfunctionfunction qA takes player p returns integerlocal integer i=1loopexitwhen i>5if RX[i]==p or GX[i]==p thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction YT takes unit u1,unit u2 returns booleancall O7E(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))),I2S(GetUnitTypeId(u1))+"|"+I2S(GetUnitTypeId(u2)),true)if yM(u1,u2)thencall ZZX(u1,u2)elsecall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,30,"  ")call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,30,"|cff99ccffYou have requested to swap with |r"+C[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,30,"  ")if(GetPlayerController(GetOwningPlayer(u2))==MAP_CONTROL_USER)thencall DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,BI,30,"  ")call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,BI,30,"                         "+C[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccffwants to swap with you. Type|r |c00ff0303-swap "+I2S(qA(GetOwningPlayer(u1)))+"|r |cff99ccffto accept|r")call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,BI,30,"  ")elseif(GetHeroSkillPoints(u1)!=GetHeroLevel(u1))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,$A,"
                |cff99ccffRequest to swap with |r"+C[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you used a skill point")elseif(Bz>F7V)thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,$A,"
                |cff99ccffRequest to swap with |r"+C[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it is too late")elseif((hG[GetPlayerId(GetOwningPlayer(u2))]>0)or(not ORE(u2)))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,$A,"
                |cff99ccffRequest to swap with |r"+C[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it already started its item build")elseif(not ORE(u1))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,BI,$A,"
                |cff99ccffRequest to swap with |r"+C[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you have an item")elsecall ZZX(u1,u2)endifendifendifreturn falseendfunctionfunction YV takes nothing returns nothinglocal integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))if GetEventPlayerChatString()=="-swapall" thenset i=1set AVV=QV[GetPlayerId(GetTriggerPlayer())]loopexitwhen i>5if B2E(GetTriggerPlayer())thenset AXV=RX[i]elseset AXV=GX[i]endifset I9V=QV[GetPlayerId(AXV)]if not(AVV==null or GetOwningPlayer(AVV)!=GetTriggerPlayer()or I9V==null or GetOwningPlayer(I9V)!=AXV or AXV==GetTriggerPlayer())thenif YT(AVV,I9V)thenreturnendifendifset i=i+1endloopreturnelseif i<1 or i>5 thencall HEE(GetTriggerPlayer(),"Invalid swap selection")returnendifset AVV=QV[GetPlayerId(GetTriggerPlayer())]if B2E(GetTriggerPlayer())thenset AXV=RX[i]elseset AXV=GX[i]endifset I9V=QV[GetPlayerId(AXV)]if AVV==null or GetOwningPlayer(AVV)!=GetTriggerPlayer()or I9V==null or GetOwningPlayer(I9V)!=AXV or AXV==GetTriggerPlayer()thencall HEE(GetTriggerPlayer(),"Invalid swap selection")returnendifcall YT(AVV,I9V)endfunctionfunction Y2 takes nothing returns nothinglocal integer ilocal player plocal unit ulocal string sif GetLocalPlayer()==GetTriggerPlayer()thencall ClearTextMessages()endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45,"|cff99ccffSwap Hero Options:|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45," ")set i=1loopexitwhen i>5set p=RX[i]set u=QV[GetPlayerId(p)]if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p thenset s=" "if yM(QV[GetPlayerId(GetTriggerPlayer())],u)thenset s=" |c00ff0303(Requested Swap With You)|r"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45,C[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)endifset p=GX[i]set u=QV[GetPlayerId(p)]if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p thenset s=" "if yM(QV[GetPlayerId(GetTriggerPlayer())],u)thenset s=" |c00ff0303(Requested Swap With You)|r"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45,C[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)endifset i=i+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45," ")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45,"|cff99ccffType|r |c00ff0303-swap #|r |cff99ccffto make a choice or -swapcancel to cancel swap requests|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,45," ")endfunctionfunction Z7X takes player RFX returns booleanlocal integer Z8X=1local integer Z9X=0loopexitwhen Z8X>5if B2E(RFX)thenif QV[GetPlayerId(RX[Z8X])]!=null and RX[Z8X]!=RFX and GetHeroLevel(QV[GetPlayerId(RX[Z8X])])==1 thenset Z9X=Z9X+1endifelseif QV[GetPlayerId(GX[Z8X])]!=null and GX[Z8X]!=RFX and GetHeroLevel(QV[GetPlayerId(GX[Z8X])])==1 thenset Z9X=Z9X+1endifendifset Z8X=Z8X+1endloopif Z9X>0 thenreturn trueelsereturn falseendifendfunctionfunction VVO takes nothing returns booleanif FIV thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,"-swaphero "+(GetObjectName((1848653880))))return falseendifif GetUnitState(QV[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653894))))return falseendifif DBV thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653895)))+" -swaphero.")return falseendifif Z7X(GetTriggerPlayer())==false thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653896))))return falseendifreturn trueendfunctionfunction W9X takes nothing returns nothingif VVO()thenif GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"thencall Y2()elseif GetEventPlayerChatString()=="-swapcancel"thencall YL()elsecall YV()endifendifendfunctionfunction VEO takes nothing returns booleanreturn GetSpellAbilityId()==1093682761endfunctionfunction VXO takes integer o6,unit VOO,unit VRO returns nothinglocal integer T8=1local integer U8=GetUnitAbilityLevel(VOO,o6)loopexitwhen T8>U8call SelectHeroSkill(VRO,o6)set T8=T8+1endloopendfunctionfunction VIO takes nothing returns nothinglocal integer T8local integer U8local unit S4local location POX=GetUnitLoc(GetTriggerUnit())set S4=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),POX,bj_UNIT_FACING)call SetHeroXP(S4,GetHeroXP(GetTriggerUnit()),false)set T8=1set U8=GetUnitAbilityLevel(GetTriggerUnit(),1096904043)loopexitwhen T8>U8call SelectHeroSkill(bj_lastCreatedUnit,1096904043)set T8=T8+1endloopset T8=0set U8=5loopexitwhen T8>U8call UnitAddItem(S4,UnitItemInSlot(GetTriggerUnit(),T8))set T8=T8+1endloopif(GetUnitTypeId(GetTriggerUnit())==1164277353)thencall VXO(1093678156,GetTriggerUnit(),S4)call VXO(1093683252,GetTriggerUnit(),S4)call VXO(1095071337,GetTriggerUnit(),S4)call VXO(1093678929,GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())==1429221432)thencall VXO(1093677892,GetTriggerUnit(),S4)call VXO(1093677639,GetTriggerUnit(),S4)call VXO(1093677893,GetTriggerUnit(),S4)call VXO(1093679411,GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())==1429221431)thencall VXO(1093682745,GetTriggerUnit(),S4)call VXO(1093678681,GetTriggerUnit(),S4)call VXO(1093677381,GetTriggerUnit(),S4)call VXO(1093677624,GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())==1215063922)thencall VXO(1093677895,GetTriggerUnit(),S4)call VXO(1093677894,GetTriggerUnit(),S4)call VXO(1093685043,GetTriggerUnit(),S4)call VXO(1095068013,GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())==1164666213)thencall VXO(1093808212,GetTriggerUnit(),S4)call VXO(1093678679,GetTriggerUnit(),S4)call VXO(1093678678,GetTriggerUnit(),S4)call VXO(1093808454,GetTriggerUnit(),S4)endifcall HKE(GetTriggerUnit())call RemoveLocation(POX)set QV[GetPlayerId(GetOwningPlayer(S4))]=S4endfunctionfunction VAO takes nothing returns booleanlocal integer VNO=GetUnitTypeId(QV[GetPlayerId(GetTriggerPlayer())])return(VNO==1429221432 or VNO==1429221431 or VNO==1215063922 or VNO==1164277353 or VNO==1164666213)and(RectContainsUnit(ZA,QV[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(BN,QV[GetPlayerId(GetTriggerPlayer())]))endfunctionfunction VBO takes nothing returns nothinglocal unit FLE=QV[GetPlayerId(GetTriggerPlayer())]call UnitAddAbility(FLE,1093682761)call IssueImmediateOrderById(FLE,$D02B7)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,120.,"|c00ff0303"+(GetObjectName((1848653897)))+" "+FBE(GetEnumUnit())+". "+(GetObjectName((1848653898)))+"|r")endfunctionfunction YVX takes nothing returns nothingif VAO()thencall VBO()endifendfunctionfunction VCO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer CGX=GetTriggerEvalCount(t)local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or CGX>60 thenif R8E(FLE,"Frozen")==false thenif B2E(GetOwningPlayer(FLE))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifcall SetUnitPosition(FLE,x,y)call PauseUnit(FLE,false)endifcall O1E(IAE)call IRE(t)elsecall PauseUnit(FLE,true)endifset t=nullset FLE=nullreturn falseendfunctionfunction VDO takes player p returns nothinglocal unit FLE=QV[GetPlayerId(p)]local trigger tif GME(FLE)==false thenset t=CreateTrigger()call DisplayTimedTextToPlayer(p,0,BI,30.,(GetObjectName((1848653899))))call UnitRemoveBuffs(FLE,true,false)call UnitRemoveAbility(FLE,1113815395)call UnitRemoveAbility(FLE,1113815346)call UnitRemoveAbility(FLE,1110454858)call UnitRemoveAbility(FLE,1112896368)call UnitRemoveAbility(FLE,1114993524)call UnitRemoveAbility(FLE,1110454854)call PauseUnit(FLE,true)call TriggerRegisterTimerEvent(t,1.,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VCO))call O8E(GetHandleId(t),"Hero",FLE)endifset p=nullset FLE=nullset t=nullendfunctionfunction VFO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")call O1E(IAE)call IRE(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall VDO(p)endifset t=nullreturn falseendfunctionfunction YEX takes nothing returns nothinglocal player p=GetTriggerPlayer()local unit FLE=QV[GetPlayerId(p)]local trigger tif GME(FLE)==false thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,3.5,false)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function VFO))call RRE(GetHandleId(t),"p",p)endifset p=nullset FLE=nullset t=nullendfunctionfunction VGO takes player p returns nothinglocal unit FLE=QV[GetPlayerId(p)]local trigger tif GME(FLE)==false thenset t=CreateTrigger()call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.,C[GetPlayerId(p)]+GetPlayerName(p)+"|r is being unstuck. It will be sent to its base in 60 seconds.")call UnitRemoveBuffs(FLE,true,false)call UnitRemoveAbility(FLE,1113815395)call UnitRemoveAbility(FLE,1113815346)call UnitRemoveAbility(FLE,1110454858)call UnitRemoveAbility(FLE,1112896368)call UnitRemoveAbility(FLE,1114993524)call UnitRemoveAbility(FLE,1110454854)call PauseUnit(FLE,true)call TriggerRegisterTimerEvent(t,1.,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VCO))call O8E(GetHandleId(t),"Hero",FLE)endifset p=nullset FLE=nullset t=nullendfunctionfunction ZNX takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=XTE(S2I(SubString(VH,$A,StringLength(VH))))if((pl!=null)and(B7E(pl))and(IsPlayerInForce(pl,GLV)))thenif(QV[GetPlayerId(pl)]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")elsecall VGO(pl)endifendifset pl=nullendfunctionfunction VHO takes player p returns stringlocal string s=IA[GetPlayerId(p)]if IA[GetPlayerId(p)]!="Here" thenreturn" |c00ff0303("+(GetObjectName((1848653881)))+" at "+SubString(s,$A,StringLength(s))+"|c00ff0303)|r"endifreturn" "endfunctionfunction YXX takes nothing returns nothinglocal integer T8=1local integer U8=5local integer D5call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,20," ")if(B3E(GetTriggerPlayer()))thenloopexitwhen T8>U8set D5=GetPlayerId(RX[T8])if(QV[D5]!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,20,C[D5]+(BXV[GetPlayerId((RX[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(QV[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(QV[D5]))+")"+VHO(RX[T8]))endifset T8=T8+1endloopelseloopexitwhen T8>U8set D5=GetPlayerId(GX[T8])if(QV[D5]!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,20,C[D5]+(BXV[GetPlayerId((GX[T8]))])+"|r "+(GetObjectName((1848653901)))+" "+GetUnitName(QV[D5])+" ("+(GetObjectName((1848653900)))+" "+I2S(GetUnitLevel(QV[D5]))+")"+VHO(GX[T8]))endifset T8=T8+1endloopendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,20," ")endfunctionfunction VJO takes unit u returns booleanreturn GetUnitTypeId(u)==1311781199 or GetUnitTypeId(u)==1311781171 or GetUnitTypeId(u)==1311781172 or GetUnitTypeId(u)==1311781173endfunctionfunction VKO takes unit u returns unitlocal integer H2E=GetHandleId(GetOwningPlayer(u))return(RME(H2E,"MyBear"))endfunctionfunction YOX takes nothing returns nothinglocal unit ulocal integer i=0if P9V thenreturnendifif(QV[GetPlayerId(GetTriggerPlayer())]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848653889))))elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetUnitName(QV[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(.5+GetUnitMoveSpeed(QV[GetPlayerId(GetTriggerPlayer())]))))if VJO(QV[GetPlayerId(GetTriggerPlayer())])thenset u=VKO(QV[GetPlayerId(GetTriggerPlayer())])if u!=null thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetUnitName(u)+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(.5+GetUnitMoveSpeed(u))))endifendifendifendfunctionfunction YRX takes nothing returns nothinglocal unit ulocal integer i=0if P9V thenreturnendifif(QV[GetPlayerId(GetTriggerPlayer())]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848653889))))elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetUnitName(QV[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653902)))+" "+I2S(R2I(.5+GetUnitMoveSpeed(QV[GetPlayerId(GetTriggerPlayer())]))))if VJO(QV[GetPlayerId(GetTriggerPlayer())])thenset u=VKO(QV[GetPlayerId(GetTriggerPlayer())])if u!=null thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(.5+GetUnitMoveSpeed(u))))endifendifendifloopexitwhen i>16set u=QV[i]if u!=null and u!=QV[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer()) thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetUnitName(u)+" "+GetObjectName(1848653902)+" "+I2S(R2I(.5+GetUnitMoveSpeed(u))))endifset i=i+1endloopendfunctionfunction YIX takes nothing returns nothingcall O7E(GetHandleId(GetTriggerPlayer()),"DisableHelp",true)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653906))))endfunctionfunction YAX takes nothing returns nothingcall O7E(GetHandleId(GetTriggerPlayer()),"DisableHelp",false)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653903))))endfunctionfunction YNX takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,"   "+(GetObjectName((1848653904)))+" "+I2S(RE[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653905)))+" "+I2S(KE[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName((1848653907)))+" "+I2S(ZT[GetPlayerId(GetTriggerPlayer())]))endfunctionfunction YBX takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())if(GetEventPlayerChatString()=="-cson")thenset AW[x]=trueset ob[x]=trueelseset AW[x]=falseset ob[x]=falseendifcall IHX()endfunctionfunction VLO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer i=(LoadInteger(YX,(IAE),(34)))local real xlocal real yif Ob[i]==false thencall FlushChildHashtable(YX,(IAE))call IRE(t)elseif QV[i]!=null and GME(QV[i])==false thenset x=GetUnitX(QV[i])set y=GetUnitY(QV[i])call PanCameraToTimedForPlayer(Player(i),x,y,0)endifset t=nullreturn falseendfunctionfunction Y7X takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())local trigger tlocal integer IAElocal integer iif Ob[x]==false and(GetEventPlayerChatString()=="-center" or GetEventPlayerChatString()=="-c")thenset Ob[x]=trueset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function VLO))call SaveInteger(YX,(IAE),(34),(x))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,GetObjectName(1848658519))elseif GetEventPlayerChatString()=="-centeroff" or GetEventPlayerChatString()=="-co" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,GetObjectName(1848658520))set Ob[x]=falseendifendfunctionfunction Y8X takes nothing returns nothingset Ab[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658522))endfunctionfunction Y9X takes nothing returns nothingset Ab[GetPlayerId(GetTriggerPlayer())]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName(1848658736))endfunctionfunction qL takes nothing returns nothinglocal integer i=1local integer KPXlocal integer EQEloopexitwhen i>5set EQE=GetPlayerId(RX[i])set KPX=R2I(TimerGetRemaining(G[EQE]))if KPX>0 and D1V[EQE]and D9V==false and NI==false thencall PlayerSetLeaderboard(RX[i],gm[EQE])call LeaderboardDisplay(gm[EQE],true)call LeaderboardSetLabel(gm[EQE],"   Respawn in "+I2S(KPX)+" seconds")elsecall LeaderboardDisplay(gm[EQE],false)endifset EQE=GetPlayerId(GX[i])set KPX=R2I(TimerGetRemaining(G[EQE]))if KPX>0 and D1V[EQE]and D9V==false and NI==false thencall PlayerSetLeaderboard(GX[i],gm[EQE])call LeaderboardDisplay(gm[EQE],true)call LeaderboardSetLabel(gm[EQE],"   Respawn in "+I2S(KPX)+" seconds")elsecall LeaderboardDisplay(gm[EQE],false)endifset i=i+1endloopendfunctionfunction qM takes nothing returns nothinglocal integer x=0set x=x+1set gm[GetPlayerId(RX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[x],gm[GetPlayerId(RX[x])])call LeaderboardDisplay(gm[GetPlayerId(RX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(RX[x])],"Respawn: ")set gm[GetPlayerId(GX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(GX[x],gm[GetPlayerId(GX[x])])call LeaderboardDisplay(gm[GetPlayerId(GX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(GX[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(RX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[x],gm[GetPlayerId(RX[x])])call LeaderboardDisplay(gm[GetPlayerId(RX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(RX[x])],"Respawn: ")set gm[GetPlayerId(GX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(GX[x],gm[GetPlayerId(GX[x])])call LeaderboardDisplay(gm[GetPlayerId(GX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(GX[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(RX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[x],gm[GetPlayerId(RX[x])])call LeaderboardDisplay(gm[GetPlayerId(RX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(RX[x])],"Respawn: ")set gm[GetPlayerId(GX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(GX[x],gm[GetPlayerId(GX[x])])call LeaderboardDisplay(gm[GetPlayerId(GX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(GX[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(RX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[x],gm[GetPlayerId(RX[x])])call LeaderboardDisplay(gm[GetPlayerId(RX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(RX[x])],"Respawn: ")set gm[GetPlayerId(GX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(GX[x],gm[GetPlayerId(GX[x])])call LeaderboardDisplay(gm[GetPlayerId(GX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(GX[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(RX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(RX[x],gm[GetPlayerId(RX[x])])call LeaderboardDisplay(gm[GetPlayerId(RX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(RX[x])],"Respawn: ")set gm[GetPlayerId(GX[x])]=CreateLeaderboard()call PlayerSetLeaderboard(GX[x],gm[GetPlayerId(GX[x])])call LeaderboardDisplay(gm[GetPlayerId(GX[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(GX[x])],"Respawn: ")endfunctionfunction YJX takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())if GetEventPlayerChatString()=="-don" or GetEventPlayerChatString()=="-deathon" thenset D1V[x]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653911))))elseset D1V[x]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653912))))endifendfunctionfunction VMO takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddAction(t,function qM)call TriggerRegisterTimerEvent(t,.5,false)set t=CreateTrigger()call TriggerAddAction(t,function qL)call TriggerRegisterTimerEvent(t,1.,true)endfunctionfunction YGX takes nothing returns nothingif(GetEventPlayerChatString()=="-showdeny")thenset ob[GetPlayerId(GetTriggerPlayer())]=trueelseset ob[GetPlayerId(GetTriggerPlayer())]=falseendifendfunctionfunction YHX takes nothing returns nothingcall HEE(GetTriggerPlayer(),(GetObjectName((1848657991))))endfunctionfunction VPO takes nothing returns nothinglocal integer i=0loopexitwhen i>16set ob[i]=trueset AW[i]=trueset i=i+1endloopendfunctionfunction YCX takes nothing returns nothingcall ForceRemovePlayer(II,GetTriggerPlayer())call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653909))))endfunctionfunction YDX takes nothing returns nothingcall ForceAddPlayer(II,GetTriggerPlayer())call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848653914))))endfunctionfunction qN takes nothing returns booleanlocal integer x=GetRandomInt(1,4)if x==1 thenset BW=boelseif x==2 thenset BW=Boelseif x==3 thenset BW=fLelseif x==4 thenset BW=FLendifif cW[GetPlayerId(GetLocalPlayer())]thencall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)call EnableWeatherEffect(BW,true)endifreturn falseendfunctionfunction qo takes nothing returns nothinglocal integer x=GetRandomInt(1,4)local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,300.,true)call TriggerAddCondition(t,Condition(function qN))set cW[GetPlayerId(RX[1])]=falseset cW[GetPlayerId(RX[2])]=falseset cW[GetPlayerId(RX[3])]=falseset cW[GetPlayerId(RX[4])]=falseset cW[GetPlayerId(RX[5])]=falseset cW[GetPlayerId(GX[1])]=falseset cW[GetPlayerId(GX[2])]=falseset cW[GetPlayerId(GX[3])]=falseset cW[GetPlayerId(GX[4])]=falseset cW[GetPlayerId(GX[5])]=falseif XR thenset cW[GetPlayerId(BVV)]=falseset cW[GetPlayerId(BEV)]=falseendifif x==1 thenset BW=boelseif x==2 thenset BW=Boelseif x==3 thenset BW=fLelseif x==4 thenset BW=FLendifset t=nullendfunctionfunction YFX takes nothing returns nothinglocal string VQO=StringCase(GetEventPlayerChatString(),false)if bW thenset bW=falsecall qo()endifif VQO=="-weather snow" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,true)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif VQO=="-weather rain" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,true)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif VQO=="-weather moonlight" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,true)call EnableWeatherEffect(FL,false)endifif VQO=="-weather wind" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,true)endifif VQO=="-weather off" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif VQO=="-weather random" thenset cW[GetPlayerId(GetTriggerPlayer())]=trueif GetLocalPlayer()==GetTriggerPlayer()thencall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)call EnableWeatherEffect(BW,true)endifendifendfunctionfunction YKX takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))local integer D5=GetPlayerId(GetTriggerPlayer())set vb[D5]=vb[D5]+1if vb[D5]>20 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,(GetObjectName((1848656977))))returnendifif GetEventPlayerChatString()=="-rollon" or GetEventPlayerChatString()=="-rolloff" thenreturnendifif a==0 thenset a=100endifif a>0 and a<$7D1 thencall FTE(II,5,C[GetPlayerId(GetTriggerPlayer())]+(BXV[GetPlayerId((GetTriggerPlayer()))])+"|r "+(GetObjectName((1848653129)))+" "+I2S(GetRandomInt(1,a))+" "+(GetObjectName((1848653133)))+" "+I2S(a))elsecall HEE(GetTriggerPlayer(),(GetObjectName((1848652377))))endifendfunctionfunction Y3X takes nothing returns nothinglocal integer aif GetRandomInt(1,2)==1 thenset a=GetRandomInt(BDV,BFV)elseset a=GetRandomInt(BBV,BCV)endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,(GetObjectName((1848657747)))+" "+FDE(a))endfunctionfunction Y0X takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))if GetTriggerPlayer()!=RX[1]or a>2 or a<1 or H0V==false or TimerGetElapsed(K)>$E or TNV thenreturnendifset TFV=aset TGV=aset TAV=trueif a==1 thencall D2E(bj_FORCE_ALL_PLAYERS,15.,C[GetPlayerId(RX[1])]+(BXV[GetPlayerId((RX[1]))])+"|r "+GetObjectName(1848656979))elsecall D2E(bj_FORCE_ALL_PLAYERS,15.,C[GetPlayerId(GX[1])]+(BXV[GetPlayerId((GX[1]))])+"|r "+GetObjectName(1848656979))endifendfunctionfunction YUX takes nothing returns nothingset eb[GetPlayerId(GetTriggerPlayer())]=falseendfunctionfunction YWX takes nothing returns nothingset eb[GetPlayerId(GetTriggerPlayer())]=trueendfunctionfunction YLX takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848654128))))set ib[GetPlayerId(GetTriggerPlayer())]=trueif GetLocalPlayer()==GetTriggerPlayer()thencall SetPlayerName(RX[1],(BXV[GetPlayerId((RX[1]))]))call SetPlayerName(RX[2],(BXV[GetPlayerId((RX[2]))]))call SetPlayerName(RX[3],(BXV[GetPlayerId((RX[3]))]))call SetPlayerName(RX[4],(BXV[GetPlayerId((RX[4]))]))call SetPlayerName(RX[5],(BXV[GetPlayerId((RX[5]))]))call SetPlayerName(GX[1],(BXV[GetPlayerId((GX[1]))]))call SetPlayerName(GX[2],(BXV[GetPlayerId((GX[2]))]))call SetPlayerName(GX[3],(BXV[GetPlayerId((GX[3]))]))call SetPlayerName(GX[4],(BXV[GetPlayerId((GX[4]))]))call SetPlayerName(GX[5],(BXV[GetPlayerId((GX[5]))]))endifendfunctionfunction YMX takes nothing returns nothinglocal integer id=GetPlayerId(GetTriggerPlayer())if CW[id] thenset CW[id]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,(GetObjectName((1848653908))))elseset CW[id]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,$A,(GetObjectName((1848654129))))endifendfunctionfunction Y5X takes nothing returns nothinglocal integer id=GetPlayerId(GetTriggerPlayer())set ab[id]=trueendfunctionfunction YPX takes nothing returns nothinglocal integer i=1local player plocal real VSOloopexitwhen i>5set p=RX[i]if B7E(p)thenset VSO=OT[GetPlayerId(p)]/(TimerGetElapsed(K))*60call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.,C[GetPlayerId(p)]+(BXV[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(VSO))endifset p=GX[i]if B7E(p)thenset VSO=OT[GetPlayerId(p)]/(TimerGetElapsed(K))*60call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.,C[GetPlayerId(p)]+(BXV[GetPlayerId((p))])+"|r"+" "+(GetObjectName((1848653876)))+" "+R2S(VSO))endifset i=i+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.," ")set p=nullendfunctionfunction YQX takes nothing returns nothingcall J8E(GetTriggerPlayer())endfunctionfunction VTO takes nothing returns booleanreturn XDE(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()endfunctionfunction Courier_Add takes nothing returns nothingcall UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)endfunctionfunction Courier_Remove takes nothing returns nothingcall UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)endfunctionfunction YSX takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsInRange(g,0,0,$2EE0,Condition(function VTO))call FWE(g)set g=nullendfunctionfunction YTX takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656726)))+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656725)))+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656724)))+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656694)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656716)))+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656718)))+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656723)))+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656719)))+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656720)))+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656721)))+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")endfunctionfunction VUO takes string s returns nothingcall StopMusic(true)call PlayMusic(s)endfunctionfunction YYX takes nothing returns nothinglocal string s=GetEventPlayerChatString()local integer C9E=GetRandomInt(1,BT)if GetLocalPlayer()==GetTriggerPlayer()thenif s=="-music off" thencall StopMusic(false)elseif s=="-music random" thencall VUO(AT[C9E])elseif s=="-music nightelf1" thencall VUO(OP)elseif s=="-music nightelf2" thencall VUO(RP)elseif s=="-music nightelf3" thencall VUO(IP)elseif s=="-music human1" thencall VUO(BP)elseif s=="-music human2" thencall VUO(CP)elseif s=="-music human3" thencall VUO(DP)elseif s=="-music orc1" thencall VUO(VP)elseif s=="-music orc2" thencall VUO(EP)elseif s=="-music orc3" thencall VUO(XP)elseif s=="-music undead1" thencall VUO(WM)elseif s=="-music undead2" thencall VUO(YM)elseif s=="-music undead3" thencall VUO(ZM)elseif s=="-music other1" thencall VUO(GP)elseif s=="-music other2" thencall VUO(JP)elseif s=="-music other3" thencall VUO(KP)elseif s=="-music other4" thencall VUO(TP)elseif s=="-music other5" thencall VUO(YP)elseif s=="-music other6"thencall VUO(LKV)elseif s=="-music other7"thencall VUO(LLV)elseif s=="-music other8"thencall VUO(LMV)elseif s=="-music other9"thencall VUO(LPV)elseif s=="-music special" thencall VUO(ZP)elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848656727)))+" ")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")endifendifendfunctionfunction VWO takes nothing returns booleanset BT=BT+1set AT[BT]=OPset BT=BT+1set AT[BT]=RPset BT=BT+1set AT[BT]=IPset BT=BT+1set AT[BT]=BPset BT=BT+1set AT[BT]=CPset BT=BT+1set AT[BT]=DPset BT=BT+1set AT[BT]=VPset BT=BT+1set AT[BT]=EPset BT=BT+1set AT[BT]=XPset BT=BT+1set AT[BT]=WMset BT=BT+1set AT[BT]=YMset BT=BT+1set AT[BT]=ZMset BT=BT+1set AT[BT]=GPset BT=BT+1set AT[BT]=JPset BT=BT+1set AT[BT]=KPset BT=BT+1set AT[BT]=TPset BT=BT+1set AT[BT]=YPset BT=BT+1set AT[BT]=LKVset BT=BT+1set AT[BT]=LLVset BT=BT+1set AT[BT]=LMVset BT=BT+1set AT[BT]=LPVset BT=BT+1set AT[BT]=ZPreturn falseendfunctionfunction VYO takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function VWO))endfunctionfunction VZO takes player p,integer r,integer g,integer b,integer a returns nothingif GetLocalPlayer()==p thencall SetWaterBaseColor(r,g,b,a)endifendfunctionfunction V_O takes string s returns nothinglocal string V0O=""local string V1O=""local string V2O=""local integer i=0local integer MQE=StringLength(s)local integer V3O=1loopexitwhen i>MQEif SubString(s,i,i+1)==" " thenset V3O=V3O+1elseif V3O==1 thenset V0O=V0O+SubString(s,i,i+1)elseif V3O==2 thenset V1O=V1O+SubString(s,i,i+1)elseset V2O=V2O+SubString(s,i,i+1)endifendifset i=i+1endloopset bb=S2I(V0O)set Bb=S2I(V1O)set cb=S2I(V2O)endfunctionfunction YZX takes nothing returns nothinglocal string V4O=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))local player p=GetTriggerPlayer()local integer rlocal integer glocal integer bset Nb[GetPlayerId(p)]=trueif V4O=="red" thencall VZO(p,$FF,0,0,$FF)elseif V4O=="blue" thencall VZO(p,0,0,$FF,$FF)elseif V4O=="green" thencall VZO(p,0,$FF,0,$FF)elseif V4O=="default" thencall VZO(p,0,0,$FF,$FF)elseif V4O=="random" thenset r=GetRandomInt(0,$FF)set g=GetRandomInt(0,$FF)set b=GetRandomInt(0,$FF)call VZO(p,r,g,b,$FF)call DisplayTimedTextToPlayer(p,0,0,5,(GetObjectName((1848657988)))+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))elsecall V_O(V4O)set r=bbset g=Bbset b=cbif r>=0 and r<=$FF and g>=0 and g<=$FF and b>=0 and b<=$FF thencall VZO(p,r,g,b,$FF)endifendifendfunctionfunction Y1X takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.,"This command has been temporarily disabled")endfunctionfunction Y2X takes nothing returns booleancall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,"Total Bonus XP/Gold: "+I2S(DOV[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(DRV[GetPlayerId(GetTriggerPlayer())]))return falseendfunctionfunction ZEX takes nothing returns booleanif P3V>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetObjectName(1848659023)+": "+I2S(P3V))endifreturn falseendfunctionfunction V5O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer V6O=R1E(IAE,"u1Index")local integer V7O=R1E(IAE,"u2Index")local unit u1=BYE(V6O)local unit u2=BYE(V7O)local real KBE=R2E(IAE,"Duration")local lightning V8O=RYE(IAE,"Lightning")if I2R(GetTriggerEvalCount(t))*.025>KBE thencall DestroyLightning(V8O)call BWE(V6O)call BWE(V7O)call O1E(IAE)call IRE(t)elsecall MoveLightning(V8O,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))endifset t=nullset u1=nullset u2=nullset V8O=nullreturn falseendfunctionfunction V9O takes string EVO,unit u1,unit u2,real r,real g,real b,real a,real KBE returns nothinglocal real x1=GetUnitX(u1)local real y1=GetUnitY(u1)local real x2=GetUnitX(u2)local real y2=GetUnitY(u2)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local lightning V8O=AddLightning(EVO,true,x1,y1,x2,y2)call SetLightningColor(V8O,r,g,b,a)call REE(IAE,"Lightning",V8O)call O4E(IAE,"u1Index",B_E(u1))call O4E(IAE,"u2Index",B_E(u2))call O5E(IAE,"Duration",KBE)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function V5O))set t=nullset V8O=nullendfunctionfunction EEO takes string EXO returns nothinglocal sound JNE=CreateSound(EXO,false,false,false,$A,$A,"")call SetSoundVolume(JNE,0)call StartSound(JNE)call KillSoundWhenDone(JNE)set JNE=nullendfunctionfunction EOO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local ubersplat ERO=(LoadUbersplatHandle(YX,(H2E),($83)))call DestroyUbersplat(ERO)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset ERO=nullreturn falseendfunctionfunction EIO takes ubersplat ERO,real d returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveUbersplatHandle(YX,(H2E),($83),(ERO))call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function EOO))set t=nullendfunctionfunction EAO takes nothing returns nothinglocal real d=E4E(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),S1V,S2V)if d<S0V thenset S0V=dset S_V=GetEnumUnit()endifendfunctionfunction ENO takes group g,real x,real y returns unitset S0V=$F423Fset S_V=nullset S1V=xset S2V=ycall ForGroup(g,function EAO)return S_Vendfunctionfunction EBO takes integer GLE returns nothinglocal integer i=0loopexitwhen i>5call SetPlayerAbilityAvailable(RX[i],GLE,false)call SetPlayerAbilityAvailable(GX[i],GLE,false)set i=i+1endloopendfunctionfunction ECO takes integer id returns nothinglocal integer i=0loopexitwhen i>$Ccall SetPlayerAbilityAvailable(Player(i),id,false)set i=i+1endloopendfunctionfunction Y_X takes nothing returns nothinglocal string s=GetEventPlayerChatString()local trigger tlocal integer x=S2I(SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))local integer i=1if x<1 or x>Fb thenset x=GetRandomInt(1,Fb)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,$A,(GetObjectName((1848657205)))+" "+I2S(x))endifif gb thenloopexitwhen i>Fbcall EEO(Cb[i])set i=i+1endloopset gb=falseendifif db[x]==false thenendifcall HVE(GetTriggerPlayer(),Cb[x])endfunctionfunction ZBX takes nothing returns nothingif bj[GetPlayerId(GetTriggerPlayer())]==false thenset bj[GetPlayerId(GetTriggerPlayer())]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.,"Override is now on for Formless")elseset bj[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,15.,"Override is now off for Formless")endifendfunctionfunction EDO takes nothing returns nothinglocal timer t=GetExpiredTimer()local player p=RQE(GetHandleId(t),"FormlessPlayer")if QV[GetPlayerId(p)]!=null and R2V thencall HEE(p,"Already have a hero.")elseif B2E(p)thencall CreateUnitAtLoc(p,1211445296,GetRectCenter(BA),0)elsecall CreateUnitAtLoc(p,1211445296,GetRectCenter(NA),0)endifendifcall O1E(GetHandleId(t))call DestroyTimer(t)set p=nullset t=nullendfunctionfunction ZCX takes nothing returns nothinglocal player p=GetTriggerPlayer()local timer tif(QV[GetPlayerId(p)]==null or R2V==false)and B and T==false and U==false and ZR==false and Q==false and HFV==false thencall C0E(p)call DisplayTimedTextToPlayer(p,0,BI,$A,"Formless will be created for you shortly.")set t=CreateTimer()call RRE(GetHandleId(t),"FormlessPlayer",p)call TimerStart(t,6,false,function EDO)endifset p=nullset t=nullendfunctionfunction EFO takes nothing returns nothinglocal timer t=GetExpiredTimer()local player p=RQE(GetHandleId(t),"BastionPlayer")if QV[GetPlayerId(p)]!=null and R2V thencall HEE(p,"Already have a hero.")elseif B2E(p)thencall CreateUnitAtLoc(p,1211510832,GetRectCenter(BA),0)elsecall CreateUnitAtLoc(p,1211510832,GetRectCenter(NA),0)endifendifcall O1E(GetHandleId(t))call DestroyTimer(t)set p=nullset t=nullendfunctionfunction ZDX takes nothing returns nothinglocal player p=GetTriggerPlayer()local timer tif(QV[GetPlayerId(p)]==null or R2V==false)and B and T==false and U==false and ZR==false and Q==false and HFV==false thencall C0E(p)call DisplayTimedTextToPlayer(p,0,BI,$A,"Bastion will be created for you shortly.")set t=CreateTimer()call RRE(GetHandleId(t),"BastionPlayer",p)call TimerStart(t,6,false,function EFO)endifset p=nullset t=nullendfunctionfunction ImbaMode takes nothing returns nothinglocal integer i=1if zA==false thenset zA=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"You can now pick heroes from the Fun Taverns.")if false thenloopexitwhen i==6call FogModifierStart(CreateFogModifierRadiusLoc(RX[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),$C8,true,true))call FogModifierStart(CreateFogModifierRadiusLoc(GX[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),$C8,true,true))set i=i+1endloopset i=1endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"This is a FOR FUN ONLY mode.")loopexitwhen i==6call CreateUnit(RX[i],1848651843,7225,-7475,270)call CreateUnit(GX[i],1848651843,7225,-7475,270)set i=i+1endloopendifif false thenset PU=PU+1set NU[PU]=1227960882set BU[PU]=1227960368set CU[PU]=0set FU[PU]=1227961139set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNArcaniteMelee.blp"set LU[PU]=45set IEV[PU]=$3E1Cset FH=PUset PU=PU+1set NU[PU]=1227960883set BU[PU]=1227960369set CU[PU]=0set FU[PU]=1227961140set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpThree.blp"set LU[PU]=90set IEV[PU]=$3B47set GH=PUset PU=PU+1set NU[PU]=1227960884set BU[PU]=1227960632set CU[PU]=0set FU[PU]=1227961141set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNImprovedBows.blp"set LU[PU]=40set IEV[PU]=$36B0set hH=PUset PU=PU+1set NU[PU]=1227960885set BU[PU]=1227960880set CU[PU]=0set FU[PU]=1227961142set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set LU[PU]=40set IEV[PU]=$2D00set jH=PUset PU=PU+1set NU[PU]=1227960886set BU[PU]=1227960372set CU[PU]=0set FU[PU]=1227961143set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSanctuary.blp"set LU[PU]=30set IEV[PU]=7500set JH=PUset PU=PU+1set NU[PU]=1227960888set BU[PU]=1227960376set CU[PU]=0set FU[PU]=1227961145set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNThoriumRanged.blp"set LU[PU]=0set IEV[PU]=$283Cset LH=PUset PU=PU+1set NU[PU]=1227961136set BU[PU]=1227960626set CU[PU]=0set FU[PU]=1227961393set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyStrength.blp"set LU[PU]=0set IEV[PU]=$2A94set kH=PUset PU=PU+1set NU[PU]=1227961137set BU[PU]=1227960628set CU[PU]=0set FU[PU]=1227961394set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"set LU[PU]=0set IEV[PU]=9975set lH=PUset PU=PU+1set NU[PU]=1227960887set BU[PU]=1227960374set CU[PU]=0set FU[PU]=1227961144set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrb.blp"set LU[PU]=45set IEV[PU]=$2C24set MH=PUset ODV=ODV+1set ORV[ODV]=V2Vset OIV[ODV]=VUVset OAV[ODV]=E1set OCV[ODV]=FHset ODV=ODV+1set ORV[ODV]=V8Vset OIV[ODV]=EAVset OAV[ODV]=V0Vset ONV[ODV]=EIVset OCV[ODV]=GHset ODV=ODV+1set ORV[ODV]=V5Vset OIV[ODV]=UWset OAV[ODV]=TWset ONV[ODV]=UYset OCV[ODV]=hHset ODV=ODV+1set ORV[ODV]=CZset OIV[ODV]=X8set OAV[ODV]=W8set ONV[ODV]=QWset OCV[ODV]=jHset ODV=ODV+1set ORV[ODV]=CZset OIV[ODV]=R8set OAV[ODV]=W8set ONV[ODV]=QWset OCV[ODV]=jHset ODV=ODV+1set ORV[ODV]=A7set OIV[ODV]=QUset OAV[ODV]=EZset ONV[ODV]=EZset OCV[ODV]=JHset ODV=ODV+1set ORV[ODV]=ZWset OIV[ODV]=EWset OAV[ODV]=DZset ONV[ODV]=NZset OBV[ODV]=V0Vset OCV[ODV]=LHset ODV=ODV+1set ORV[ODV]=X1set OIV[ODV]=ZUset OAV[ODV]=OWset ONV[ODV]=UWset OBV[ODV]=V5Vset OCV[ODV]=kHset ODV=ODV+1set ORV[ODV]=RZset OIV[ODV]=V1set OAV[ODV]=A1set ONV[ODV]=CZset OBV[ODV]=V7Vset OCV[ODV]=lHset ODV=ODV+1set ORV[ODV]=NZset OIV[ODV]=UWset OAV[ODV]=CZset ONV[ODV]=J1set OCV[ODV]=MHendifendfunctionfunction EGO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real EHO=R2E(IAE,"T_CurrentX")local real EJO=R2E(IAE,"T_CurrentY")local real EKO=R2E(IAE,"T_MaxX")local real ELO=$80local real xlocal real yloopexitwhen EHO>EKOloopexitwhen EJO>8192set dW=dW+1set x=EHOset y=EJOif IsPointBlighted(x,y)==false thenset DW[dW]=GetTerrainType(x,y)set LW[dW]=GetTerrainVariance(x,y)endifset x=-EHOset y=EJOif IsPointBlighted(x,y)==false thenset fW[dW]=GetTerrainType(x,y)set mW[dW]=GetTerrainVariance(x,y)endifset x=-EHOset y=-EJOif IsPointBlighted(x,y)==false thenset FW[dW]=GetTerrainType(x,y)set MW[dW]=GetTerrainVariance(x,y)endifset x=EHOset y=-EJOif IsPointBlighted(x,y)==false thenset hW[dW]=GetTerrainType(x,y)set pW[dW]=GetTerrainVariance(x,y)endifset EJO=EJO+ELOendloopset EJO=0set EHO=EHO+ELOendloopset EKO=EKO+256call O5E(IAE,"T_CurrentX",EHO*1.)call O5E(IAE,"T_CurrentY",EJO*1.)call O5E(IAE,"T_MaxX",EKO*1.)if EKO>8192 thencall O1E(IAE)call IRE(t)endifset t=nullreturn falseendfunctionfunction EMO takes string ZQX returns booleanif ZQX=="-ma" or ZQX=="-ms" or ZQX=="-cs" or ZQX=="-cson" or ZQX=="-disablehelp" or ZQX=="-enablehelp" or ZQX=="-unstuck" or ZQX=="-recreate" thenreturn trueelseif ZQX=="-swaphero" or ZQX=="-showmsg" or ZQX=="-hidemsg" or ZQX=="-showdeny" or ZQX=="-hidedeny" or ZQX=="-weather rain" or ZQX=="-weather snow" or ZQX=="-weather moonlight" or ZQX=="-weather wind" or ZQX=="-weather random" or ZQX=="-weather off" or ZQX=="-denyinfo" or ZQX=="-di" or ZQX=="-deathon" or ZQX=="-don" or ZQX=="-deathoff" or ZQX=="-doff" or ZQX=="-roll" or ZQX=="-hideheronames" or ZQX=="-hhn" or ZQX=="-test" or ZQX=="-mute" or ZQX=="-wtf" or ZQX=="-fun" or ZQX=="-fleshstr" or ZQX=="-fs" or ZQX=="-switchon" thenreturn trueelseif ZQX=="-override" or ZQX=="-formless" thenreturn trueendifreturn falseendfunctionfunction EPO takes nothing returns booleanreturn not Bendfunctionfunction EQO takes string qQ returns nothingif cx==""thenset cx="|c006699CC"+qQ+"|r"elseset cx=cx+"/|c006699CC"+qQ+"|r"endifendfunctionfunction ESO takes string qQ returns nothingif cx==""thenset cx="|c00dd8dff"+qQ+"|r"elseset cx=cx+"/"+"|c00dd8dff"+qQ+"|r"endifendfunctionfunction ETO takes string VQO,integer qs,integer qS returns stringreturn SubString(VQO,0,qs)+SubString(VQO,qS,StringLength(VQO))endfunctionfunction EUO takes string VQO returns stringlocal integer PSE=StringLength(VQO)local string qTlocal string M9=""local integer i=0loopexitwhen(i==PSE)set qT=StringCase(SubString(VQO,i,i+1),false)if not(qT==StringCase(qT,true))thenset M9=M9+qTendifset i=i+1endloopreturn M9endfunctionfunction EWO takes string EYO,integer EZO returns nothinglocal string VQO=EUO(EYO)local string array E_Olocal string array E0Olocal boolean array E1Olocal integer E2Olocal integer E3Olocal integer PSE=StringLength(VQO)local integer x=0local integer y=0local integer z=0local boolean APlocal boolean ARlocal boolean LMlocal boolean MMlocal boolean TRlocal boolean DMlocal boolean MRlocal boolean SPlocal boolean AAlocal boolean AIlocal boolean ASlocal boolean IDlocal boolean NPlocal boolean SClocal boolean EMlocal boolean DUlocal boolean SHlocal boolean VRlocal boolean RVlocal boolean RDlocal boolean OMlocal boolean NTlocal boolean NBlocal boolean NMlocal boolean NSlocal boolean SOlocal boolean NRlocal boolean XLlocal boolean SDlocal boolean PMlocal boolean OIlocal boolean MIlocal boolean CMlocal boolean FRlocal boolean MOlocal boolean ROlocal boolean ERlocal boolean CDlocal boolean RSlocal boolean STlocal boolean MClocal boolean HElocal boolean NElocal boolean HGlocal boolean NGlocal boolean DElocal boolean E4Olocal boolean NNlocal boolean FMlocal boolean E5Olocal boolean E6Olocal boolean E7Olocal boolean E8Olocal boolean E9Oset E_O[1]="allpick"set E0O[1]="ap"set E_O[2]="allrandom"set E0O[2]="ar"set E_O[3]="leaguemode"set E0O[3]="lm"set E_O[4]="mirrormatch"set E0O[4]="mm"set E_O[5]="teamrandom"set E0O[5]="tr"set E_O[6]="deathmatch"set E0O[6]="dm"set E_O[7]="moderandom"set E0O[7]="mr"set E_O[8]="shuffleplayers"set E0O[8]="sp"set E_O[9]="allagility"set E0O[9]="aa"set E_O[$A]="allintelligence"set E0O[$A]="ai"set E_O[$B]="allstrength"set E0O[$B]="as"set E_O[$C]="itemdrop"set E0O[$C]="id"set E_O[$D]="nopowerups"set E0O[$D]="np"set E_O[$E]="supercreeps"set E0O[$E]="sc"set E_O[$F]="easymode"set E0O[$F]="em"set E_O[16]="duplicatemode"set E0O[16]="du"set E_O[17]="samehero"set E0O[17]="sh"set E_O[18]="voterandom"set E0O[18]="vr"set E_O[19]="reverse"set E0O[19]="rv"set E_O[20]="randomdraft"set E0O[20]="rd"set E_O[21]="onlymid"set E0O[21]="om"set E_O[22]="extendedleague"set E0O[22]="xl"set E_O[23]="nomid"set E0O[23]="nm"set E_O[24]="notop"set E0O[24]="nt"set E_O[25]="nobot"set E0O[25]="nb"set E_O[26]="noswap"set E0O[26]="ns"set E_O[27]="norepick"set E0O[27]="nr"set E_O[28]="captainsdraft"set E0O[28]="cd"set E_O[29]="singledraft"set E0O[29]="sd"set E_O[30]="poolingmode"set E0O[30]="pm"set E_O[31]="observerinfo"set E0O[31]="oi"set E_O[32]="miniheroes"set E0O[32]="mi"set E_O[33]="captainsmode"set E0O[33]="cm"set E_O[34]="fastrespawn"set E0O[34]="fr"set E_O[35]="meleeonly"set E0O[35]="mo"set E_O[36]="rangeonly"set E0O[36]="ro"set E_O[37]="experimentalrunes"set E0O[37]="er"set E_O[38]="randomside"set E0O[38]="rs"set E_O[39]="switchon"set E0O[39]="so"set E_O[40]="zoommode"set E0O[40]="zm"set E_O[41]="capturepoint"set E0O[41]="cp"set E2O=41set E3O=41set E2O=E2O+1set E_O[E2O]="supertower"set E0O[E2O]="st"set E2O=E2O+1set E_O[E2O]="msupercreeps"set E0O[E2O]="mc"set E2O=E2O+1set E_O[E2O]="highexp"set E0O[E2O]="he"set E2O=E2O+1set E_O[E2O]="normexp"set E0O[E2O]="ne"set E2O=E2O+1set E_O[E2O]="dynaexp"set E0O[E2O]="de"set E2O=E2O+1set E_O[E2O]="highgold"set E0O[E2O]="hg"set E2O=E2O+1set E_O[E2O]="normgold"set E0O[E2O]="ng"set E2O=E2O+1set E_O[E2O]="dynagold"set E0O[E2O]="dg"set E2O=E2O+1set E_O[E2O]="nonecronomicon"set E0O[E2O]="nn"set E2O=E2O+1set E_O[E2O]="formlessmode"set E0O[E2O]="fm"set E2O=E2O+1set E_O[E2O]="coolnames"set E0O[E2O]="cn"set E2O=E2O+1set E_O[E2O]="alldagons"set E0O[E2O]="ad"set E2O=E2O+1set E_O[E2O]="beginnermode"set E0O[E2O]="bm"set E2O=E2O+1set E_O[E2O]="advancedmode"set E0O[E2O]="am"set E2O=E2O+1set E_O[E2O]="xtrememode"set E0O[E2O]="xm"set x=-1loopexitwhen x==PSE-1set x=x+1set y=xloopexitwhen y==PSEset y=y+1set z=1loopexitwhen z>E2Oif E_O[z]==SubString(VQO,x,y)thenset E1O[z]=trueset z=E2O+1set VQO=ETO(VQO,x,y)set x=-1set PSE=StringLength(VQO)set y=PSEelseset z=z+1endifendloopendloopendloopset x=-1loopexitwhen x==PSE-1set x=x+1set y=xloopexitwhen y==PSEset y=y+1set z=1loopexitwhen z>E2Oif E0O[z]==SubString(VQO,x,y)thenset E1O[z]=trueif(z<=E3O)thenset vY=falseendifset z=E2O+1set VQO=ETO(VQO,x,y)set x=-1set PSE=StringLength(VQO)set y=PSEelseset z=z+1endifendloopendloopendloopset AP=E1O[1]set AR=E1O[2]set LM=E1O[3]set MM=E1O[4]set TR=E1O[5]set DM=E1O[6]set MR=E1O[7]set SP=E1O[8]set AA=E1O[9]set AI=E1O[$A]set AS=E1O[$B]set ID=E1O[$C]set NP=E1O[$D]set SC=E1O[$E]set EM=E1O[$F]set DU=E1O[16]set SH=E1O[17]set VR=E1O[18]set RV=E1O[19]set RD=E1O[20]set OM=E1O[21]set XL=E1O[22]set NM=E1O[23]set NT=E1O[24]set NB=E1O[25]set NS=E1O[26]set NR=E1O[27]set CD=E1O[28]set SD=E1O[29]set PM=E1O[30]set OI=E1O[31]set MI=E1O[32]set CM=E1O[33]set FR=E1O[34]set MO=E1O[35]set RO=E1O[36]set ER=E1O[37]set RS=E1O[38]set SO=E1O[39]set ST=E1O[E3O+1]set MC=E1O[E3O+2]set HE=E1O[E3O+3]set NE=E1O[E3O+4]set DE=E1O[E3O+5]set HG=E1O[E3O+6]set NG=E1O[E3O+7]set E4O=E1O[E3O+8]set NN=E1O[E3O+9]set FM=E1O[E3O+$A]set E5O=E1O[E3O+$B]set E6O=E1O[E3O+$C]set E8O=E1O[E3O+$D]set E7O=E1O[E3O+$E]set E9O=E1O[E3O+$F]if VQO!=""or EMO(GetEventPlayerChatString())thenreturnelseif(LM or VR or RV or RD or XL or CD or SO)thencall HEE(Le,"The following modes are currently disabled for this AI release: -lm, -vr, -rv, -rd, -xl, -cd, -so")returnelseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif(RO and(MO or DM))or(MO and DM)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif RV and(CM or AR or TR or MR or LM or DM or SH)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD))or(MM and DM)or(SH and DM)thencall HEE(Le,(GetObjectName((1848652372))))returnelseif LM and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)thencall HEE(Le,(GetObjectName((1848652593))))returnelseif XL and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)thencall HEE(Le,(GetObjectName((1848652594))))returnelseif CM and(SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)thencall HEE(Le,(GetObjectName((1848652594))))returnelseif RD and(CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif CD and(RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif MR and(CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif SD and(CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif VR and(CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall HEE(Le,(GetObjectName((1848652373))))returnelseif MM and P8(WE)!=P8(YE)thencall HEE(Le,(GetObjectName((1848652596))))returnelseif VR and P8(WE)!=P8(YE)thencall HEE(Le,(GetObjectName((1848652596))))returnelseif RV and P8(WE)!=P8(YE)thencall HEE(Le,(GetObjectName((1848652596))))returnelseif(LM or XL)and(B6E(RX[1])or B6E(RX[2])or B6E(RX[3])or B6E(RX[4])or B6E(RX[5])or B6E(GX[1])or B6E(GX[2])or B6E(GX[3])or B6E(GX[4])or B6E(GX[5]))thencall HEE(Le,"AI players not allowed in League Modes")returnelseif(E8O and E7O)or(E8O and E9O)or(E7O and E9O)or(NE and HE)or(HG and NG)or((E7O or E8O or E9O)and(NE or HE or DE or HG or NG or E4O))thencall HEE(Le,"Invalid AI Game Mode Combination!")returnendifif FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or ST or MC or(HE or NE or HG or DE or NG or E4O)or NN or FM or(E7O or E8O or E9O)thencall DisableTrigger(GetTriggeringTrigger())elsereturnendifif CM==false thencall ILX()call UNX()endifif LM==false and XL==false thencall VMO()endifset D2V=EUO(GetEventPlayerChatString())if(QJV)thencall PGE("Mode"+D2V,0)elsecall PGE("Mode"+D2V,GetPlayerId(Le))endifset GR=falseif LM thenset vo="Leaguemode"elseif XL thenset vo="Extended League"elseif RD thenset vo="Randomdraft"elseif CD thenset vo="Captainsdraft"elseif MM thenset vo="Mirrormatch"elseif DM thenset vo="Deathmatch"elseif RV thenset vo="Reverse"elseif AP thenset vo="Allpick"elseif AR thenset vo="Allrandom"elseif TR thenset vo="Teamrandom"elseif MR thenset vo="Moderandom"elseif VR thenset vo="Voterandom"elseif SD thenset vo="Singledraft"elseif CM thenset vo="Captainsmode"endifif CM thencall EQO("Captains Mode")endifif LM thencall EQO("League Mode")endifif XL thencall EQO("Extended League")endifif RD thencall EQO("Random Draft")endifif CD thencall EQO("Captains Draft")endifif DM thencall EQO("Death Match")endifif MM thencall EQO("Mirror Match")endifif AP thencall EQO("All Pick")endifif AR thencall EQO("All Random")endifif VR thencall EQO("Vote Random")endifif MR thencall EQO("Mode Random")endifif TR thencall EQO("Team Random")endifif SP thencall EQO("Shuffle Players")endifif AA thencall EQO("All Agility")endifif AS thencall EQO("All Strength")endifif AI thencall EQO("All Intelligence")endifif RO thencall EQO("Range Only")endifif MO thencall EQO("Melee Only")endifif DU thencall EQO("Duplicate Mode")endifif ID thencall EQO("Item Drop")endifif NP thencall EQO("No Powerups")endifif SC thencall EQO("Super Creeps")endifif EM thencall EQO("Easy Mode")endifif SH thencall EQO("Same Hero")endifif RV thencall EQO("Reverse")endifif OM thencall EQO("Only Mid")endifif NM thencall EQO("No Mid")endifif NB thencall EQO("No Bot")endifif NT thencall EQO("No Top")endifif NS thencall EQO("No Swap")endifif NR thencall EQO("No Repick")endifif SD thencall EQO("Single Draft")endifif PM thencall EQO("Pooling Mode")endifif OI thencall EQO("Observer Info")endifif MI thencall EQO("Mini Heroes")endifif FR thencall EQO("Fast Respawn")endifif ER thencall EQO("Experimental Runes")endifif RS thencall EQO("Random Side")endifif SO thencall EQO("Switch On")endifif ST thencall ESO("Super Tower")endifif MC thencall ESO("Modified Super Creeps")endifif E8O thencall ESO("Beginner's Mode")endifif E7O thencall ESO("Advanced Mode")endifif E9O thencall ESO("Xtreme Mode")endifif HE thencall ESO("High Exp AI")endifif NE thencall ESO("Normal Exp AI")endifif DE thencall ESO("Dynamic Exp AI")endifif HG thencall ESO("High Gold AI")endifif NG thencall ESO("Normal Gold AI")endifif E4O thencall ESO("Dynamic Gold AI")endifif NN thencall ESO("No Necronomicon")endifif FM thencall ESO("Formless Mode")endifif E5O thencall ESO("Cool Names")endifif E6O thencall ESO("All Dagons")endifcall D2E(bj_FORCE_ALL_PLAYERS,20.," ")if EZO==1 thencall D2E(bj_FORCE_ALL_PLAYERS,20.,C[GetPlayerId(Le)]+(BXV[GetPlayerId(Le)])+"|r"+" "+GetObjectName(1848653361)+" "+cx)elsecall D2E(bj_FORCE_ALL_PLAYERS,20.,GetObjectName(1848657998)+" "+cx)endifcall D2E(bj_FORCE_ALL_PLAYERS,20.,(GetObjectName((1848653363)))+" -gameinfo.")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")call HOE("XVO",SP)call HOE("XEO",RS)call HOE("XXO",DM)call HOE("XOO",MM)call HOE("XRO",SH)call HOE("XIO",AA)call HOE("XAO",AI)call HOE("XNO",AS)call HOE("XBO",RO)call HOE("XCO",MO)call HOE("XDO",DU)call HOE("XFO",AR)call HOE("XGO",AP)call HOE("XHO",TR)call HOE("XJO",SD)call HOE("XKO",MR)call HOE("XLO",ID)call HOE("XMO",NP)call HOE("XPO",SC)call HOE("XQO",EM)call HOE("XSO",OM)call HOE("XTO",NB)call HOE("XUO",NT)call HOE("XWO",NM)call HOE("XYO",NS)call HOE("StartSwitchOn",SO)call HOE("XZO",NR)call HOE("X_O",PM)call HOE("X0O",OI)call HOE("X1O",MI)call HOE("X2O",FR)call HOE("X3O",ER)call HOE("X4O",ST)call HOE("X5O",MC)if E8O thenset NE=trueset NG=trueset DE=falseset E4O=falseendifif E7O thenset NE=trueset NG=trueset DE=trueset E4O=trueendifif E9O thenset HE=trueset HG=trueset DE=trueset E4O=trueendifcall HOE("X6O",DE)call HOE("X7O",E4O)call HOE("X8O",FM)call HOE("X9O",E5O)call HOE("OVO",E6O)call HOE("OEO",CM)set LT=HEset PT=NEset MT=HGset DT=NGset FT=NNset F6V=truecall G6X(0,0,false)if H0V==false and tW==false thencall UDX()endifcall IHX()endfunctionfunction OXO takes nothing returns nothingcall EWO(GetEventPlayerChatString(),1)endfunctionfunction OOO takes nothing returns booleanif QHV!="" and F6V==false thenset QJV=truecall EWO("-"+(QHV),2)elsecall TriggerRegisterPlayerChatEvent(QGV,Le,"-",false)endifreturn falseendfunctionfunction XGO takes nothing returns nothinglocal location P8E=GetRectCenter(pr)local location P9E=GetRectCenter(qr)local integer x=1set W=trueset F7V=120loopexitwhen x>5if B7E(RX[x])thencall CreateUnitAtLoc(RX[x],1848651843,P9E,bj_UNIT_FACING)endifif B7E(GX[x])thencall CreateUnitAtLoc(GX[x],1848651843,P8E,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(P8E)call RemoveLocation(P9E)set P8E=nullset P9E=nullendfunctionfunction ORO takes integer FOE,boolean OIO returns booleanlocal boolean OAO=falselocal integer ilocal integer j=1if(OIO)thenif(UTV==1)thenreturn falseendifset i=UTV-1loopif(FOE==UWV[j])thenreturn trueendifset j=j+1exitwhen(j>i)endloopelseif(UUV==1)thenreturn falseendifset i=UUV-1loopif(FOE==UYV[j])thenreturn trueendifset j=j+1exitwhen(j>i)endloopendifreturn OAOendfunctionfunction ONO takes integer FOE,boolean OIO returns nothingif(OIO)thenset UWV[UTV]=FOEset UTV=UTV+1elseset UYV[UUV]=FOEset UUV=UUV+1endifendfunctionfunction OBO takes integer FOE returns nothinglocal integer i=1local boolean OCO=falseloopif(FOE==USV[i])thenset USV[i]=0call ONO(FOE,false)set OCO=trueendifset i=i+1exitwhen(i>34 or OCO)endloopendfunctionfunction ODO takes nothing returns integerlocal integer OFO=0local integer FOE=0loopset OFO=GetRandomInt(1,34)exitwhen(USV[OFO]>0 and ORO(USV[OFO],false)==false)endloopset FOE=USV[OFO]call ONO(FOE,false)set USV[OFO]=0return FOEendfunctionfunction OGO takes integer FOE returns nothinglocal integer i=1local boolean OCO=falseloopif(FOE==UQV[i])thenset UQV[i]=0call ONO(FOE,true)set OCO=trueendifset i=i+1exitwhen(i>20 or OCO)endloopendfunctionfunction OHO takes nothing returns integerlocal integer OFO=0local integer FOE=0loopset OFO=GetRandomInt(1,20)exitwhen(UQV[OFO]>0 and ORO(USV[OFO],true)==false)endloopset FOE=UQV[OFO]call ONO(FOE,true)set UQV[OFO]=0return FOEendfunctionfunction OJO takes nothing returns booleanlocal integer i=1local integer OKO=0local integer FOE=0if not T7V thencall IRE(GetTriggeringTrigger())return falseendifif B6E(T6V)thenif GetPlayerState(T6V,PLAYER_STATE_RESOURCE_GOLD)>0 thenset U_V=U_V+1if U_V>2 thenif U0V thenset FOE=OHO()elseset FOE=ODO()endifloopexitwhen(IssueNeutralImmediateOrderById(T6V,UPV[i],FOE)or GetPlayerState(T6V,PLAYER_STATE_RESOURCE_GOLD)==0)set i=i+1if(i>$C)thenif U0V thenset FOE=OHO()elseset FOE=ODO()endifset i=1set OKO=OKO+1if(OKO>5)thenexitwhen trueendifendifendloopset U_V=0endifendifendifreturn trueendfunctionfunction OPO takes nothing returns nothingcall C_E(1160786502)call C_E(1311780946)call C_E(1311788336)call C_E(1160786738)call C_E(1160786507)call C_E(1211122767)endfunctionfunction OQO takes nothing returns nothingset USV[1]=1211117653set USV[2]=1162032951set USV[3]=1211117617set USV[4]=1212363833set USV[5]=1215657064set USV[6]=1432580716set USV[7]=1433631084set USV[8]=1315988077set USV[9]=1215063922set USV[$A]=1315074670set USV[$B]=1211117636set USV[$C]=1430466872set USV[$D]=1430468144set USV[$E]=1429221441set USV[$F]=1429221430set USV[16]=1313026096set USV[17]=1430467634set USV[18]=1429221424set USV[19]=1430468913set USV[20]=1160785972set USV[21]=1162032181set USV[22]=1162032951set USV[23]=1160785970set USV[24]=1429221443set USV[25]=1211117640set USV[26]=1429221445set USV[27]=1328558154set USV[28]=1432510828set USV[29]=1332766568set USV[30]=1429221456set USV[31]=1315007329set USV[32]=1211117653set USV[33]=1311787088set USV[34]=1164207469endfunctionfunction OSO takes nothing returns nothingset UQV[1]=1211117653set UQV[2]=1214931305set UQV[3]=1215657064set UQV[4]=1311781174set UQV[5]=1315074670set UQV[6]=1430466872set UQV[7]=1162032951set UQV[8]=1311787088set UQV[9]=1211119409set UQV[$A]=1328558390set UQV[$B]=1332766568set UQV[$C]=1433168227set UQV[$D]=1433631084set UQV[$E]=1333027688set UQV[$F]=1328558160set UQV[16]=1215723364set UQV[17]=1211117654set UQV[18]=1432510828set UQV[19]=1315334514set UQV[20]=1162032181endfunctionfunction OTO takes nothing returns booleanlocal integer i=1local integer OUO=0loopexitwhen i>5if B6E(RX[i])thenif(IssueNeutralImmediateOrderById(RX[i],UZV[i],1747990094)==false)thenset OUO=1loopexitwhen(OUO>5)or IssueNeutralImmediateOrderById(RX[i],UZV[OUO],1747990094)set OUO=OUO+1endloopendifendifif B6E(GX[i])thenif(IssueNeutralImmediateOrderById(GX[i],UZV[6+i],1747990094)==false)thenset OUO=1loopexitwhen(OUO>5)or IssueNeutralImmediateOrderById(GX[i],UZV[6+OUO],1747990094)set OUO=OUO+1endloopendifendifset i=i+1endloopcall IRE(GetTriggeringTrigger())return falseendfunctionfunction OWO takes string S,real OYO,real OZO,real O_O,real O0O,real O1O,boolean O2O,integer r,integer g,integer b returns imageset T1V=CreateImage(S,OYO,OZO,0,O_O-(OYO/2),O0O-(OZO/2),O1O,0,0,0,2)call SetImageRenderAlways(T1V,true)call ShowImage(T1V,O2O)call SetImageColor(T1V,r,g,b,$FF)return T1Vendfunctionfunction O3O takes image i returns nothingcall ShowImage(i,false)call DestroyImage(i)endfunctionfunction O4O takes integer O5O returns nothinglocal real x=T2V+40local real y=T3V-50local integer O6O=$FFlocal integer O7O=0local integer O8O=0local integer O9O=0local integer RVO=0local integer REO=$FFlocal integer rlocal integer glocal integer bif O5O==1 thenset r=O6Oset g=O7Oset b=O8Oset TWV=OWO("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)set TYV=OWO("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)set TZV=OWO("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)elseif O5O==2 thenset r=O9Oset g=RVOset b=REOcall O3O(TWV)call O3O(TYV)call O3O(TZV)set TWV=OWO("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)set TYV=OWO("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)set TZV=OWO("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)set T_V=OWO("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)elseif O5O==3 thenset r=O6Oset g=O7Oset b=O8Ocall O3O(TWV)call O3O(TYV)call O3O(TZV)call O3O(T_V)set TWV=OWO("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)set TYV=OWO("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)set TZV=OWO("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)elseif O5O==4 thenset r=O9Oset g=RVOset b=REOcall O3O(TWV)call O3O(TYV)call O3O(TZV)set TWV=OWO("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)set TYV=OWO("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)set TZV=OWO("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)set T_V=OWO("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)elseif O5O==5 thencall O3O(TWV)call O3O(TYV)call O3O(TZV)call O3O(T_V)endifendfunctionfunction RXO takes integer i,integer ROO returns stringif i<0 thenset i=0endifif TimerGetElapsed(K)<$F thenreturn "|c00555555"+I2S(i)endifif TGV==3 thenreturn "|c00555555"+I2S(i)endifif TGV==1 and ROO!=1 thenreturn "|c00555555"+I2S(i)elseif TGV==2 and ROO!=2 thenreturn "|c00555555"+I2S(i)elseif i==0 thenreturn "|c00555555"+I2S(i)elseif i<6 thenreturn "|c00ff0303"+I2S(i)elsereturn I2S(i)endifendfunctionfunction RRO takes nothing returns booleanlocal multiboarditem RIOlocal integer ilocal integer RAOlocal integer RNOlocal integer RBO=7local integer RCO=0set RAO=1set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemWidth(RIO,.5)call MultiboardSetItemValue(RIO,C[GetPlayerId(RX[1])]+(BXV[GetPlayerId((RX[1]))])+"|r")call MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657238))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set i=0set RAO=RAOset RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if THV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[THV[i]])endifcall MultiboardReleaseItem(RIO)set i=1set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if THV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[THV[i]])endifcall MultiboardReleaseItem(RIO)set i=2set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if THV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[THV[i]])endifcall MultiboardReleaseItem(RIO)set i=3set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if THV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[THV[i]])endifcall MultiboardReleaseItem(RIO)set i=4set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if THV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[THV[i]])endifcall MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657240))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set i=0set RAO=RAOset RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TMV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TMV[i]])endifcall MultiboardReleaseItem(RIO)set i=1set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TMV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TMV[i]])endifcall MultiboardReleaseItem(RIO)set i=2set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TMV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TMV[i]])endifcall MultiboardReleaseItem(RIO)set i=3set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TMV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TMV[i]])endifcall MultiboardReleaseItem(RIO)set i=4set RNO=RCO+i+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TMV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TMV[i]])endifcall MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657237))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RCO+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,RXO(TDV[1],1))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RAO=RAO+1set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657236))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RCO+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,RXO(TCV[1],1))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RCOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657241))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RCO+1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)if TimerGetElapsed(K)<$F thencall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657457))elseif TGV==1 thencall MultiboardSetItemValue(RIO,GetObjectName(1848657460))elseif TGV==2 thencall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657457))elsecall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657458))endifcall MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RAO=1set RNO=RBOset RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemWidth(RIO,1.5)call MultiboardSetItemValue(RIO,"   "+C[GetPlayerId(GX[1])]+(BXV[GetPlayerId((GX[1]))])+"|r")call MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RBO-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+" "+GetObjectName(1848657238))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set i=0set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TJV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TJV[i]])endifcall MultiboardReleaseItem(RIO)set i=1set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TJV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TJV[i]])endifcall MultiboardReleaseItem(RIO)set i=2set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TJV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TJV[i]])endifcall MultiboardReleaseItem(RIO)set i=3set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TJV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TJV[i]])endifcall MultiboardReleaseItem(RIO)set i=4set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TJV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TJV[i]])endifcall MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RBO-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+" "+GetObjectName(1848657240))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set i=0set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TPV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TPV[i]])endifcall MultiboardReleaseItem(RIO)set i=1set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TPV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TPV[i]])endifcall MultiboardReleaseItem(RIO)set i=2set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TPV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TPV[i]])endifcall MultiboardReleaseItem(RIO)set i=3set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TPV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TPV[i]])endifcall MultiboardReleaseItem(RIO)set i=4set RNO=RBO+i+1-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemWidth(RIO,.015)if TPV[i]>0 thencall MultiboardSetItemStyle(RIO,false,true)call MultiboardSetItemIcon(RIO,BUV[TPV[i]])endifcall MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RBO-2set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657237))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RBO-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,RXO(TDV[2],2))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RAO=RAO+1set RNO=RBO-2set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657236))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RBO-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,RXO(TCV[2],2))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RAO=RAO+2set RNO=RBO-2set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)call MultiboardSetItemValue(RIO,"|c006699CC"+GetObjectName(1848657241))call MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)set RNO=RBO-1set RIO=MultiboardGetItem(TUV,RAO,RNO)call MultiboardSetItemStyle(RIO,true,false)if TimerGetElapsed(K)<$F thencall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657457))elseif TGV==2 thencall MultiboardSetItemValue(RIO,GetObjectName(1848657460))elseif TGV==1 thencall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657457))elsecall MultiboardSetItemValue(RIO,"|c00555555"+GetObjectName(1848657458))endifcall MultiboardSetItemWidth(RIO,.035)call MultiboardReleaseItem(RIO)return falseendfunctionfunction RDO takes nothing returns nothinglocal integer RFO=$Clocal integer RGO=$Elocal trigger t=CreateTrigger()local integer ilocal multiboarditem RIOcall TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function RRO))set TUV=CreateMultiboard()call MultiboardSetItemsWidth(TUV,.015)call MultiboardSetRowCount(TUV,RFO)call MultiboardSetColumnCount(TUV,RGO)call MultiboardSetTitleText(TUV,GetObjectName(1848658742))call MultiboardSetItemsStyle(TUV,false,false)call MultiboardMinimize(TUV,false)call MultiboardDisplay(TUV,true)set i=0loopexitwhen i>RGOset RIO=MultiboardGetItem(TUV,0,i)call MultiboardSetItemWidth(RIO,.015)call MultiboardReleaseItem(RIO)set i=i+1endloopset t=nullset RIO=nullendfunctionfunction RHO takes nothing returns booleanlocal unit RJO=GetSoldUnit()local player p=GetOwningPlayer(RJO)local integer ilocal real xlocal real ylocal real aif GetUnitTypeId(RJO)==1747990094 and IsPlayerAlly(GetOwningPlayer(RJO),GetOwningPlayer(GetSellingUnit()))thenif QV[GetPlayerId(p)]!=null thencall HEE(p,GetObjectName(1848657459))call KillUnit(RJO)set RJO=nullset p=nullreturn falseendifset x=GetUnitX(GetSellingUnit())set y=GetUnitY(GetSellingUnit())set i=E8E(GetUnitTypeId(GetSellingUnit()))set a=GetUnitFacing(GetSellingUnit())call RemoveUnit(GetSellingUnit())call CreateUnit(p,i,x,y,a)endifif GetUnitTypeId(RJO)==1747990094 thencall KillUnit(RJO)endifif QV[GetPlayerId(RX[1])]!=null and QV[GetPlayerId(RX[2])]!=null and QV[GetPlayerId(RX[3])]!=null and QV[GetPlayerId(RX[4])]!=null and QV[GetPlayerId(RX[5])]!=null and QV[GetPlayerId(GX[1])]!=null and QV[GetPlayerId(GX[2])]!=null and QV[GetPlayerId(GX[3])]!=null and QV[GetPlayerId(GX[4])]!=null and QV[GetPlayerId(GX[5])]!=null thencall IRE(GetTriggeringTrigger())endifset RJO=nullset p=nullreturn falseendfunctionfunction RKO takes player pl,boolean J4 returns nothinglocal integer O5=GetPlayerId(pl)local integer T8local integer U8if not J4 thenset U1V[64+O5]=(not U1V[64+O5])call DisplayTimedTextToPlayer(pl,0,0,10.,"AI board is turned "+V9E(U1V[64+O5],"|c009090ffon|r","|c00ff9090off|r"))if not U1V[48+O5]thenreturnendifelseset U1V[48+O5]=trueendifset U1V[32+O5]=(U1V[64+O5]and U1V[48+O5])set O5=GetPlayerId(GetLocalPlayer())set T8=1set U8=3+IPV+IMVloopexitwhen T8>U8call x7(XV,$F,T8,EXE(U1V[32+O5],W6V,.01))set T8=T8+1endloopif(pl==GetLocalPlayer())thenset WDV=IsMultiboardMinimized(XV)call MultiboardMinimize(XV,true)endifcall I4X()if(pl==GetLocalPlayer())thencall MultiboardMinimize(XV,WDV)endifendfunctionfunction ZHX takes nothing returns nothingcall RKO(GetTriggerPlayer(),false)endfunctionfunction RLO takes player pl,boolean J4 returns nothinglocal integer O5=GetPlayerId(pl)local integer T8local integer U8local real E2Eif not(QT or TT)thenreturnendifif not J4 thenset U1V[112+O5]=(not U1V[112+O5])call DisplayTimedTextToPlayer(pl,0,0,10.,"AI DE/DG board is turned "+V9E(U1V[112+O5],"|c009090ffon|r","|c00ff9090off|r"))if not U1V[96+O5]thenreturnendifelseset U1V[96+O5]=trueendifset U1V[80+O5]=(U1V[112+O5]and U1V[96+O5])set O5=GetPlayerId(GetLocalPlayer())set E2E=0if(QT)thenset E2E=E2E+W6V/2endifif(TT)thenset E2E=E2E+W6V/2endifset T8=1set U8=3+IPV+IMVloopexitwhen T8>U8call x7(XV,$E,T8,EXE(U1V[80+O5],E2E,.01))set T8=T8+1endloopif(pl==GetLocalPlayer())thenset WDV=IsMultiboardMinimized(XV)call MultiboardMinimize(XV,true)endifcall I4X()if(pl==GetLocalPlayer())thencall MultiboardMinimize(XV,WDV)endifendfunctionfunction ZKX takes nothing returns nothingcall RLO(GetTriggerPlayer(),false)endfunctionfunction RMO takes nothing returns booleanlocal integer O5=1set TBV=truecall IRE(GetTriggeringTrigger())call DestroyMultiboard(TUV)call ILX()call UNX()call IHX()loopexitwhen O5>$Bif GetPlayerController(Player(O5))==MAP_CONTROL_USER thencall RKO(Player(O5),true)call RLO(Player(O5),true)endifset O5=O5+1endloopreturn falseendfunctionfunction ModeCM_SpawnSound takes nothing returns booleancall IRE(GetTriggeringTrigger())call PlaySoundBJ(HL)return falseendfunctionfunction RPO takes nothing returns booleanlocal trigger t=CreateTrigger()local integer G8Xlocal integer G7Xlocal string C5Xlocal unit ulocal real xlocal real ylocal integer ilocal real dlocal real RQO=GetRectCenterX(BA)local real RSO=GetRectCenterY(BA)local real RTO=GetRectCenterX(NA)local real RUO=GetRectCenterY(NA)set TGV=3set DFV=truecall IRE(GetTriggeringTrigger())set i=0loopexitwhen i==5set x=RQO-300+i*$96set y=RSOset u=CreateUnit(RX[0],BWV[TMV[i]],x,y,270)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)call PanCameraToTimedForPlayer(RX[i+1],RQO,RSO,0)call CreateUnit(RX[i+1],1848651843,RQO,RSO,bj_UNIT_FACING)call SetPlayerState(RX[i+1],PLAYER_STATE_RESOURCE_GOLD,TIV[GetPlayerId(RX[i+1])]-$FA)set UZV[1+i]=uset i=i+1endloopset i=0loopexitwhen i==5set x=RTO-300+i*$96set y=RUOset u=CreateUnit(GX[0],BWV[TPV[i]],x,y,270)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)call PanCameraToTimedForPlayer(GX[i+1],RTO,RUO,0)call CreateUnit(GX[i+1],1848651843,RTO,RUO,bj_UNIT_FACING)call SetPlayerState(GX[i+1],PLAYER_STATE_RESOURCE_GOLD,TIV[GetPlayerId(GX[i+1])]-$FA)set UZV[7+i]=uset i=i+1endloopcall TriggerAddCondition(t,Condition(function RHO))call SuspendTimeOfDay(false)call EnableTrigger(CDV)call EnableTrigger(CBV)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,$A,false)call TriggerAddCondition(t,Condition(function RMO))set F7V=90call C1E()set T7V=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,30,false)call TriggerAddCondition(t,Condition(function OTO))call ExecuteFunc("RWO")call UDX()set t=nullset u=nullreturn falseendfunctionfunction RYO takes integer i returns nothingcall C_E(BAV[i])if TGV==1 thenset TMV[TQV]=iset TQV=TQV+1elseset TPV[TSV]=iset TSV=TSV+1endifendfunctionfunction RZO takes nothing returns nothinglocal integer i=C8E()loopif v[i]==false thenset v[i]=truecall RYO(i)returnendifendloopendfunctionfunction R_O takes integer i returns nothingcall PGE("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),BAV[i])call C_E(BAV[i])if TGV==1 thenset THV[TKV]=iset TKV=TKV+1elseset TJV[TLV]=iset TLV=TLV+1endifendfunctionfunction R0O takes nothing returns nothingcall R_O(-1)endfunctionfunction R1O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player p=nullif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RYO(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call OBO(GetUnitTypeId(GetSoldUnit()))if TTV==0 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif TTV==1 thenif TGV==1 and TQV==4 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==4 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==2 thenif TGV==1 and TQV==5 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==5 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function RPO))call O4O(5)call MultiboardSetTitleText(TUV,GetObjectName(1848658742))endifelseif GetTriggerEvalCount(t)>50 thenif TCV[TGV]>0 thenset TCV[TGV]=TCV[TGV]-1elseif TGV==1 thencall RZO()elsecall RZO()endifif TTV==0 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif TTV==1 thenif TGV==1 and TQV==4 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==4 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==2 thenif TGV==1 and TQV==5 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==5 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function RPO))call O4O(5)call MultiboardSetTitleText(TUV,GetObjectName(1848658742))call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)endifendifelseif TGV==1 thenset TDV[1]=TDV[1]-1elseset TDV[2]=TDV[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction R2O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player pif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif TKV==(3+2)and TLV==(3+2)thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RemoveUnit(GetSoldUnit())endifcall IRE(t)set TTV=0set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R1O))call O4O(4)call D2E(GetPlayersAll(),15.,"|c006699CC"+GetObjectName(1848658995)+"|r")call MultiboardSetTitleText(TUV,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659000))if TGV==1 thenset TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset U0V=falseset T6V=pset t=nullset p=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall R_O(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call OGO(GetUnitTypeId(GetSoldUnit()))call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R2O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif GetTriggerEvalCount(t)>50 thenif TCV[TGV]>0 thenset TCV[TGV]=TCV[TGV]-1elsecall R0O()call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R2O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pendifelseif TGV==1 thenset TDV[1]=TDV[1]-1elseset TDV[2]=TDV[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction R3O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player p=nullif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RYO(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call OBO(GetUnitTypeId(GetSoldUnit()))if TTV==0 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif TTV==1 thenif TGV==1 and TQV==2 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==2 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==2 thenif TGV==1 and TQV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==3 thenset TTV=TTV+1call IRE(t)if TFV==1 thenset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=2set p=GX[1]set TDV[TGV]=50call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R2O))call O4O(3)call D2E(GetPlayersAll(),15.,"|c006699CC"+GetObjectName(1848658996)+"|r")call MultiboardSetTitleText(TUV,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))set T6V=pset U0V=trueendifelseif GetTriggerEvalCount(t)>50 thenif TCV[TGV]>0 thenset TCV[TGV]=TCV[TGV]-1elseif TGV==1 thencall RZO()elsecall RZO()endifif TTV==0 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))if TGV==1 thenset TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif TTV==1 thenif TGV==1 and TQV==2 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==2 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==2 thenif TGV==1 and TQV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=2set TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseif TGV==2 and TSV==3 thenset TTV=TTV+1call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))set TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset T6V=pendifelseif TTV==3 thenset TTV=TTV+1call IRE(t)if TFV==1 thenset TGV=1set TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=2set p=GX[1]set TDV[TGV]=50call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R2O))call O4O(3)call D2E(GetPlayersAll(),15.,"|c006699CC"+GetObjectName(1848658996)+"|r")call MultiboardSetTitleText(TUV,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848658999))set T6V=pset U0V=trueendifendifelseif TGV==1 thenset TDV[1]=TDV[1]-1elseset TDV[2]=TDV[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction R4O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local trigger t2local player pif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif TKV==3 and TLV==3 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RemoveUnit(GetSoldUnit())endifcall IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R3O))call O4O(2)call D2E(bj_FORCE_ALL_PLAYERS,15.,"|c006699CC"+GetObjectName(1848658997)+"|r")call MultiboardSetTitleText(TUV,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659001))if TGV==1 thenset TDV[TGV]=50set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TDV[TGV]=50set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pset U0V=falseset t=nullset p=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall R_O(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call OGO(GetUnitTypeId(GetSoldUnit()))call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R4O))if TGV==1 thenset TGV=2set TDV[TGV]=40set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=40set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pelseif GetTriggerEvalCount(t)>40 thenif TCV[TGV]>0 thenset TCV[TGV]=TCV[TGV]-1elsecall R0O()call IRE(t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R4O))if TGV==1 thenset TGV=2set TDV[TGV]=40set p=GX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=1set TDV[TGV]=40set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call HVE(p,"Sound\\Interface\\Rescue.wav")endifset T6V=pendifelseif TGV==1 thenset TDV[1]=TDV[1]-1elseset TDV[2]=TDV[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction R5O takes nothing returns booleanlocal trigger t=CreateTrigger()local trigger t2local player pset TNV=truecall IRE(GetTriggeringTrigger())if TAV==false thenif TFV==1 thencall D2E(bj_FORCE_ALL_PLAYERS,15.,C[GetPlayerId(RX[1])]+(BXV[GetPlayerId((RX[1]))])+"|r "+GetObjectName(1848657217))elsecall D2E(bj_FORCE_ALL_PLAYERS,15.,C[GetPlayerId(GX[1])]+(BXV[GetPlayerId((GX[1]))])+"|r "+GetObjectName(1848657217))endifendifif TFV==1 thenset TGV=1set TDV[TGV]=40set p=RX[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")elseset TGV=2set p=GX[1]set TDV[TGV]=40call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,$FA)call HVE(p,"Sound\\Interface\\Rescue.wav")endifcall O4O(1)call D2E(GetPlayersAll(),15.,"|c006699CC"+GetObjectName(1848658998)+"|r")call MultiboardSetTitleText(TUV,GetObjectName(1848658742)+" - |c00ffffff"+GetObjectName(1848659009))call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function R4O))set T7V=trueset U0V=trueset T6V=pset t2=CreateTrigger()call TriggerRegisterTimerEvent(t2,1,true)call TriggerAddCondition(t2,Condition(function OJO))set t2=nullset t=nullset p=nullreturn falseendfunctionfunction OEO takes nothing returns nothinglocal trigger tlocal location R6O=GetRectCenter(pr)local location R7O=GetRectCenter(qr)local integer x=1local player pcall DisableTrigger(GPV)loopexitwhen x>5if B5E(RX[x])thencall CreateUnitAtLoc(RX[x],1848651843,R7O,bj_UNIT_FACING)endifif B5E(GX[x])thencall CreateUnitAtLoc(GX[x],1848651843,R6O,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(R6O)call RemoveLocation(R7O)set H0V=trueset DI=falseset CI=falseset DFV=falsecall SuspendTimeOfDay(true)call DisableTrigger(CDV)call DisableTrigger(CBV)if T0V==false thencall OPO()endifset TIV[GetPlayerId(RX[1])]=GetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(RX[2])]=GetPlayerState(RX[2],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(RX[3])]=GetPlayerState(RX[3],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(RX[4])]=GetPlayerState(RX[4],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(RX[5])]=GetPlayerState(RX[5],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(GX[1])]=GetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(GX[2])]=GetPlayerState(GX[2],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(GX[3])]=GetPlayerState(GX[3],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(GX[4])]=GetPlayerState(GX[4],PLAYER_STATE_RESOURCE_GOLD)set TIV[GetPlayerId(GX[5])]=GetPlayerState(GX[5],PLAYER_STATE_RESOURCE_GOLD)call SetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(RX[2],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(RX[3],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(RX[4],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(RX[5],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[2],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[3],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[4],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(GX[5],PLAYER_STATE_RESOURCE_GOLD,0)set TCV[1]=90set TCV[2]=90set TFV=GetRandomInt(1,2)set TAV=falseset TGV=TFVset t=CreateTrigger()call TriggerRegisterTimerEvent(t,$F-TimerGetElapsed(K),false)call TriggerAddCondition(t,Condition(function R5O))call RDO()call D2E(GetPlayersAll(),4.,GetObjectName(1848657235))call D2E(GetPlayersAll(),4.,GetObjectName(1848657234))set t=nullset R6O=nullset R7O=nullset p=nullendfunctionfunction R8O takes player p,integer z8 returns nothinglocal integer i=1loopexitwhen i>5if p!=RX[i]thencall SetPlayerTechMaxAllowed(RX[i],z8,0)endifif p!=GX[i]thencall SetPlayerTechMaxAllowed(GX[i],z8,0)endifset i=i+1endloopendfunctionfunction R9O takes integer IVO returns integerlocal integer IEOif IVO==1 thenset IEO=GetUnitPointValueByType(BGV[GetRandomInt(1,BHV)])elseif IVO==2 thenset IEO=GetUnitPointValueByType(BJV[GetRandomInt(1,BKV)])elseif IVO==3 thenset IEO=GetUnitPointValueByType(BLV[GetRandomInt(1,BMV)])endifreturn IEOendfunctionfunction IXO takes integer IOO,integer IAO,integer IVO returns integerlocal integer IEOset IEO=R9O(IVO)if IR and IOO!=IEO and IAO!=IEO thenreturn IEOendifloopexitwhen v[IEO]==false and IOO!=IEO and IAO!=IEOset IEO=R9O(IVO)endloopset v[IEO]=truereturn IEOendfunctionfunction XJO takes nothing returns nothinglocal player plocal integer i=1local integer IOOlocal integer IAOlocal integer INOlocal trigger tlocal integer IAEset CT=trueset F7V=120set CI=falseset DI=falsecall PauseUnit(B2V,true)call PauseUnit(B3V,true)call PauseUnit(B4V,true)call PauseUnit(B5V,true)call PauseUnit(B6V,true)call PauseUnit(B7V,true)call PauseUnit(B8V,true)call PauseUnit(B9V,true)call PauseUnit(CVV,true)call PauseUnit(CEV,true)call PauseUnit(CXV,true)call PauseUnit(COV,true)call DisableTrigger(GPV)loopexitwhen i>5set p=RX[i]set IOO=0set IAO=0set INO=0if B7E(p)thencall UnitAddAbility(N7V[GetPlayerId(p)],1093743686)call UnitAddAbility(N7V[GetPlayerId(p)],1093743685)call UnitAddAbility(N7V[GetPlayerId(p)],1093743688)set IOO=IXO(IOO,IAO,1)set IAO=IXO(IOO,IAO,2)set INO=IXO(IOO,IAO,3)call AddUnitToStock(N7V[GetPlayerId(p)],BAV[IOO],1,1)call R8O(p,BAV[IOO])call AddUnitToStock(N7V[GetPlayerId(p)],BAV[IAO],1,1)call R8O(p,BAV[IAO])call AddUnitToStock(N7V[GetPlayerId(p)],BAV[INO],1,1)call R8O(p,BAV[INO])call ClearSelectionForPlayer(p)call SelectUnitAddForPlayer(N7V[GetPlayerId(p)],p)call PanCameraToTimedForPlayer(p,GetRectCenterX(BA),GetRectCenterY(BA),0)call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")call DisplayTimedTextToPlayer(p,0,BI,$F," ")endifset p=GX[i]set IOO=0set IAO=0set INO=0if B7E(p)thencall UnitAddAbility(N7V[GetPlayerId(p)],1093743686)call UnitAddAbility(N7V[GetPlayerId(p)],1093743685)call UnitAddAbility(N7V[GetPlayerId(p)],1093743688)set IOO=IXO(IOO,IAO,1)set IAO=IXO(IOO,IAO,2)set INO=IXO(IOO,IAO,3)call AddUnitToStock(N7V[GetPlayerId(p)],BAV[IOO],1,1)call R8O(p,BAV[IOO])call AddUnitToStock(N7V[GetPlayerId(p)],BAV[IAO],1,1)call R8O(p,BAV[IAO])call AddUnitToStock(N7V[GetPlayerId(p)],BAV[INO],1,1)call R8O(p,BAV[INO])call ClearSelectionForPlayer(p)call SelectUnitAddForPlayer(N7V[GetPlayerId(p)],p)call PanCameraToTimedForPlayer(p,GetRectCenterX(NA),GetRectCenterY(NA),0)call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F," ")call DisplayTimedTextToPlayer(p,0,BI,$F,"|cff99ccff"+(GetObjectName((1848657206)))+"|r")call DisplayTimedTextToPlayer(p,0,BI,$F," ")endifset i=i+1endloopset p=nullset t=nullendfunctionfunction IBO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer CMX=R1E(IAE,"Index")local player plocal integer C9Elocal location P8E=GetRectCenter(BA)local location P9E=GetRectCenter(NA)if CMX<6 thenset p=RX[CMX]elseif CMX<$B thenset p=GX[CMX-5]endifif CMX>$A thencall O1E(IAE)call IRE(t)if Q==false and HFV==false thenset DI=trueendifelseif CMX<6 thencall O4E(IAE,"Index",CMX+1)set QV[GetPlayerId(p)]=nullif B7E(p)thenloopexitwhen QV[GetPlayerId(p)]!=nullif GetPlayerController(p)==MAP_CONTROL_USER and HFV thenset C9E=500elseif HFV thenset C9E=C7E()elseset C9E=C8E()endifif v[C9E]==false thenif not IR and not HFV thenset v[C9E]=trueendifset QV[GetPlayerId(p)]=CreateUnitAtLoc(p,BAV[C9E],P8E,bj_UNIT_FACING)endifendloopendifelseif CMX<$B thencall O4E(IAE,"Index",CMX+1)set QV[GetPlayerId(p)]=nullif B7E(p)thenloopexitwhen QV[GetPlayerId(p)]!=nullif p==Le and HFV thenset C9E=500elseif HFV thenset C9E=C7E()elseset C9E=C8E()endifif v[C9E]==false thenif not IR thenset v[C9E]=trueendifset QV[GetPlayerId(p)]=CreateUnitAtLoc(p,BAV[C9E],P9E,bj_UNIT_FACING)endifendloopendifendifcall RemoveLocation(P8E)call RemoveLocation(P9E)set P8E=nullset P9E=nullset p=nullset t=nullreturn falseendfunctionfunction XFO takes nothing returns nothinglocal location P8E=GetRectCenter(BA)local location P9E=GetRectCenter(NA)local location ICO=GetRectCenter(BA)local location IDO=GetRectCenter(NA)local integer T8=1local integer U8=5local integer C9Elocal trigger tset T=trueset CI=falseif not IR thencall C1E()endifcall DisableTrigger(GPV)set NV=400call PanCameraToTimedLocForPlayer(RX[1],ICO,0)call PanCameraToTimedLocForPlayer(RX[2],ICO,0)call PanCameraToTimedLocForPlayer(RX[3],ICO,0)call PanCameraToTimedLocForPlayer(RX[4],ICO,0)call PanCameraToTimedLocForPlayer(RX[5],ICO,0)call PanCameraToTimedLocForPlayer(GX[1],IDO,0)call PanCameraToTimedLocForPlayer(GX[2],IDO,0)call PanCameraToTimedLocForPlayer(GX[3],IDO,0)call PanCameraToTimedLocForPlayer(GX[4],IDO,0)call PanCameraToTimedLocForPlayer(GX[5],IDO,0)if IQV thenloopset C9E=C8E()exitwhen v[C9E]==falseendloopif B2E(Le)thenset QV[GetPlayerId(Le)]=CreateUnit(Le,BAV[C9E],GetLocationX(P8E),GetLocationY(P8E),270)elseset QV[GetPlayerId(Le)]=CreateUnit(Le,BAV[C9E],GetLocationX(P9E),GetLocationY(P9E),270)endifcall RemoveLocation(P8E)call RemoveLocation(P9E)call RemoveLocation(ICO)call RemoveLocation(IDO)set P8E=nullset P9E=nullset ICO=nullset IDO=nullset t=nullreturnendifset DI=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function IBO))call O4E(GetHandleId(t),"Index",1)call RemoveLocation(P8E)call RemoveLocation(P9E)call RemoveLocation(ICO)call RemoveLocation(IDO)set P8E=nullset P9E=nullset ICO=nullset IDO=nullset t=nullendfunctionfunction Q2 takes nothing returns nothingcall HKE(GetEnumUnit())endfunctionfunction Q3 takes unit FLE returns nothinglocal integer Q4=GetPlayerId(GetOwningPlayer(FLE))set se[Q4]=UnitItemInSlot(FLE,0)set Se[Q4]=UnitItemInSlot(FLE,1)set We[Q4]=UnitItemInSlot(FLE,2)set ze[Q4]=UnitItemInSlot(FLE,3)set Ze[Q4]=UnitItemInSlot(FLE,4)set vx[Q4]=UnitItemInSlot(FLE,5)endfunctionfunction Q5 takes player h5,player h6 returns integerlocal unit Q6=QV[GetPlayerId(h5)]local unit Q7=QV[GetPlayerId(h6)]call UnitRemoveBuffs(Q6,true,true)call UnitRemoveBuffs(Q7,true,true)if Q6==null and Q7==null thencall D2E(bj_FORCE_ALL_PLAYERS,$F,C[GetPlayerId(RX[0])]+D0E(h5)+" and "+D0E(h6)+" did not pick a hero so they have no hero to be assigned.|r")elseif GetRandomInt(1,2)==1 thenif(Q6!=null)thenreturn GetUnitTypeId(Q6)elsereturn GetUnitTypeId(Q7)endifelseif(Q7!=null)thenreturn GetUnitTypeId(Q7)elsereturn GetUnitTypeId(Q6)endifendifcall D2E(bj_FORCE_ALL_PLAYERS,$F,C[GetPlayerId(RX[0])]+D0E(h5)+" and "+D0E(h6)+" have not picked a hero. They will be given a random hero!")return C8E()endfunctionfunction Q8 takes nothing returns nothingif(GetUnitTypeId(GetEnumUnit())==1848651828)thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())==1865429043)thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction Q9 takes nothing returns booleanlocal integer T8local group ra=FYE()local unit rAlocal location ICO=GetRectCenter(BA)local location IDO=GetRectCenter(NA)local integer rb=P8(WE)local player array rBlocal player array rclocal integer xlocal integer ylocal real rClocal real rdlocal real rDlocal integer relocal group P3E=GetUnitsInRectMatching(GetWorldBounds(),null)call ForGroup(P3E,function Q8)call FWE(P3E)set T8=1set x=1set y=1loopexitwhen T8>5if(B7E(RX[T8]))thencall Q3(QV[GetPlayerId(RX[T8])])call GroupAddUnit(ra,QV[GetPlayerId(RX[T8])])set rB[x]=RX[T8]set x=x+1endifif(B7E(GX[T8]))thencall Q3(QV[GetPlayerId(GX[T8])])call GroupAddUnit(ra,QV[GetPlayerId(GX[T8])])set rc[y]=GX[T8]set y=y+1endifset T8=T8+1endloopset x=1loopexitwhen x>rbset re=Q5(rB[x],rc[x])if(QV[GetPlayerId(rB[x])]==null)thenset rC=GetLocationX(ICO)+GetRandomReal(1,40)set rd=GetLocationY(ICO)+GetRandomReal(1,40)set rD=270elseset rC=GetUnitX(QV[GetPlayerId(rB[x])])set rd=GetUnitY(QV[GetPlayerId(rB[x])])set rD=GetUnitFacing(QV[GetPlayerId(rB[x])])call SetUnitPathing(QV[GetPlayerId(rB[x])],false)endifset QV[GetPlayerId(rB[x])]=CreateUnit(rB[x],re,rC,rd,rD)call SetUnitPathing(QV[GetPlayerId(rB[x])],false)call SetUnitPosition(QV[GetPlayerId(rB[x])],rC,rd)call UnitAddItem(QV[GetPlayerId(rB[x])],se[GetPlayerId(rB[x])])call UnitAddItem(QV[GetPlayerId(rB[x])],Se[GetPlayerId(rB[x])])call UnitAddItem(QV[GetPlayerId(rB[x])],We[GetPlayerId(rB[x])])call UnitAddItem(QV[GetPlayerId(rB[x])],ze[GetPlayerId(rB[x])])call UnitAddItem(QV[GetPlayerId(rB[x])],Ze[GetPlayerId(rB[x])])call UnitAddItem(QV[GetPlayerId(rB[x])],vx[GetPlayerId(rB[x])])call ClearSelectionForPlayer(rB[x])call SelectUnitAddForPlayer(QV[GetPlayerId(rB[x])],rB[x])call PanCameraToTimedForPlayer(rB[x],rC,rd,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))if(QV[GetPlayerId(rc[x])]==null)thenset rC=GetLocationX(IDO)set rd=GetLocationY(IDO)set rD=270elseset rC=GetUnitX(QV[GetPlayerId(rc[x])])set rd=GetUnitY(QV[GetPlayerId(rc[x])])set rD=GetUnitFacing(QV[GetPlayerId(rc[x])])call SetUnitPathing(QV[GetPlayerId(rc[x])],false)endifset QV[GetPlayerId(rc[x])]=CreateUnit(rc[x],re,rC,rd,rD)call SetUnitPathing(QV[GetPlayerId(rc[x])],false)call SetUnitPosition(QV[GetPlayerId(rc[x])],rC,rd)call UnitAddItem(QV[GetPlayerId(rc[x])],se[GetPlayerId(rc[x])])call UnitAddItem(QV[GetPlayerId(rc[x])],Se[GetPlayerId(rc[x])])call UnitAddItem(QV[GetPlayerId(rc[x])],We[GetPlayerId(rc[x])])call UnitAddItem(QV[GetPlayerId(rc[x])],ze[GetPlayerId(rc[x])])call UnitAddItem(QV[GetPlayerId(rc[x])],Ze[GetPlayerId(rc[x])])call UnitAddItem(QV[GetPlayerId(rc[x])],vx[GetPlayerId(rc[x])])call ClearSelectionForPlayer(rc[x])call SelectUnitAddForPlayer(QV[GetPlayerId(rc[x])],rc[x])call PanCameraToTimedForPlayer(rc[x],rC,rd,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))set x=x+1endloopcall ForGroup(ra,function Q2)call FWE(ra)set x=1loopexitwhen x>rbcall SetUnitPathing(QV[GetPlayerId(rB[x])],true)call SetUnitPathing(QV[GetPlayerId(rc[x])],true)set x=x+1endloopcall RemoveLocation(ICO)call RemoveLocation(IDO)set ra=nullset rA=nullset ICO=nullset IDO=nullset P3E=nullreturn falseendfunctionfunction rE takes nothing returns booleanset AJ=truereturn falseendfunctionfunction rf takes nothing returns booleanset DI=falseset CI=falsecall C1E()return falseendfunctionfunction XOO takes nothing returns nothinglocal trigger t=CreateTrigger()call D2E(II,$A,"Your hero might change at the 60 second mark.")call D2E(II,$A,"It is recommended to not purchase items until then.")set OR=truecall C_E(1211117641)call TriggerRegisterTimerEvent(t,60-TimerGetElapsed(K),false)call TriggerAddCondition(t,Condition(function Q9))set t=CreateTrigger()call TriggerAddCondition(t,Condition(function rf))call TriggerRegisterTimerEvent(t,57-TimerGetElapsed(K),false)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,55+60-TimerGetElapsed(K),false)call TriggerAddCondition(t,Condition(function rE))set t=nullendfunctionfunction XHO takes nothing returns nothinglocal location P8E=GetRectCenter(WA)local location P9E=GetRectCenter(QA)local location ICO=GetRectCenter(BA)local location IDO=GetRectCenter(NA)local integer T8local integer U8local integer C9Eif not IR thencall C1E()endifcall DisableTrigger(GPV)set U=trueset NV=400set CI=falsecall PanCameraToTimedLocForPlayer(RX[1],ICO,0)call PanCameraToTimedLocForPlayer(RX[2],ICO,0)call PanCameraToTimedLocForPlayer(RX[3],ICO,0)call PanCameraToTimedLocForPlayer(RX[4],ICO,0)call PanCameraToTimedLocForPlayer(RX[5],ICO,0)call PanCameraToTimedLocForPlayer(GX[1],IDO,0)call PanCameraToTimedLocForPlayer(GX[2],IDO,0)call PanCameraToTimedLocForPlayer(GX[3],IDO,0)call PanCameraToTimedLocForPlayer(GX[4],IDO,0)call PanCameraToTimedLocForPlayer(GX[5],IDO,0)if IQV thenif B2E(Le)thenloopset C9E=GetRandomInt(BBV,BCV)exitwhen v[C9E]==falseendloopset QV[GetPlayerId(Le)]=CreateUnit(Le,BAV[C9E],GetLocationX(P8E),GetLocationY(P8E),270)elseloopset C9E=GetRandomInt(BDV,BFV)exitwhen v[C9E]==falseendloopset QV[GetPlayerId(Le)]=CreateUnit(Le,BAV[C9E],GetLocationX(P9E),GetLocationY(P9E),270)endifcall RemoveLocation(P8E)call RemoveLocation(P9E)call RemoveLocation(ICO)call RemoveLocation(IDO)returnendifset DI=falseset T8=1set U8=5loopexitwhen T8>U8set QV[GetPlayerId(RX[T8])]=nullif(B7E(RX[T8]))thenloopset C9E=GetRandomInt(BBV,BCV)if(v[C9E]==false)thenif not IR thenset v[C9E]=trueendifset QV[GetPlayerId(RX[T8])]=CreateUnitAtLoc(RX[T8],BAV[C9E],P8E,bj_UNIT_FACING)endifexitwhen(QV[GetPlayerId(RX[T8])]!=null)endloopendifset T8=T8+1endloopset T8=1set U8=5loopexitwhen T8>U8set QV[GetPlayerId(GX[T8])]=nullif(B7E(GX[T8]))thenloopset C9E=GetRandomInt(BDV,BFV)if(v[C9E]==false)thenif not IR thenset v[C9E]=trueendifset QV[GetPlayerId(GX[T8])]=CreateUnitAtLoc(GX[T8],BAV[C9E],P9E,bj_UNIT_FACING)endifexitwhen(QV[GetPlayerId(GX[T8])]!=null)endloopendifset T8=T8+1endloopset DI=truecall RemoveLocation(P8E)call RemoveLocation(P9E)call RemoveLocation(ICO)call RemoveLocation(IDO)endfunctionfunction rF takes nothing returns nothingset D9V=truecall D2E(bj_FORCE_ALL_PLAYERS,$A,"No Deaths has been enabled. You will have no respawn time.")call DisableTrigger(GetTriggeringTrigger())endfunctionfunction rg takes nothing returns nothinglocal integer rG=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))if rG>FVV thencall HEE(Le,"Too many lives")elseif rG<$A thencall HEE(Le,"Too few lives")elseset FVV=rGcall D2E(bj_FORCE_ALL_PLAYERS,$A,"Each team has "+I2S(FVV)+" lives before they lose the game.")call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction rh takes nothing returns nothingcall DisableTrigger(RTE(GetHandleId(GetTriggeringTrigger()),"nd"))call DisableTrigger(RTE(GetHandleId(GetTriggeringTrigger()),"lives"))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction IFO takes nothing returns nothinglocal trigger ri=CreateTrigger()local trigger rI=CreateTrigger()local trigger nd=CreateTrigger()set FVV=HME(BCV,BFV-BDV+1)call D2E(bj_FORCE_ALL_PLAYERS,10.," ")call D2E(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -nd and -lives xx can be entered in the following 15 seconds. ")call D2E(bj_FORCE_ALL_PLAYERS,10.,"Current DM lives are "+I2S(FVV))call TriggerRegisterTimerEvent(ri,15.,false)call TriggerAddAction(ri,function rh)call RVE(GetHandleId(ri),"nd",nd)call RVE(GetHandleId(ri),"lives",rI)call TriggerRegisterPlayerChatEvent(nd,Le,"-nd",true)call TriggerAddAction(nd,function rF)call TriggerRegisterPlayerChatEvent(rI,Le,"-lives",false)call TriggerAddAction(rI,function rg)endfunctionfunction IGO takes nothing returns nothinglocal integer rJ=R1E(GetHandleId(GetTriggeringTrigger()),"PlayerId")local integer T8local integer U8local integer C9Elocal integer QMlocal location P8E=GetRectCenter(pr)local location P9E=GetRectCenter(qr)if NI thenreturnendifif B2E(Player(rJ))thenset T8=BBVset U8=BCVset QM=0elseset T8=BDVset U8=BFVset QM=1endifif W thenset T8=BBVset U8=BFVif B2E(Player(rJ))thencall CreateUnitAtLoc(Player(rJ),1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(Player(rJ),1848651843,P9E,bj_UNIT_FACING)elsecall CreateUnitAtLoc(Player(rJ),1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(Player(rJ),1848651843,P9E,bj_UNIT_FACING)endifendifif((not T)and(GetPlayerController(Player(rJ))==MAP_CONTROL_USER))thenloopexitwhen T8>U8if v[T8]==false thencall SetPlayerTechMaxAllowed(Player(rJ),BAV[T8],1)endifset T8=T8+1endloopif(GetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD)<$FA)thencall SetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD,$FA)endifelseif(Oe[QM]<FVV)thenset QV[rJ]=nullif B7E(Player(rJ))thenloopif(T)thenset C9E=C8E()elseif HFV thenset C9E=C7E()elseif(((not W)and(B2E(Player(rJ))))or((W)and(GetRandomInt(1,2)==1)))thenset C9E=GetRandomInt(BBV,BCV)elseset C9E=GetRandomInt(BDV,BFV)endifif v[C9E]==false thenif HFV==false thenset v[C9E]=trueendifif B2E(Player(rJ))thenset QV[rJ]=CreateUnitAtLoc(Player(rJ),BAV[C9E],P8E,bj_UNIT_FACING)elseset QV[rJ]=CreateUnitAtLoc(Player(rJ),BAV[C9E],P9E,bj_UNIT_FACING)endifendifexitwhen QV[rJ]!=nullendloopendifendifcall RemoveLocation(P8E)call RemoveLocation(P9E)if not T thenendifendfunctionfunction XXO takes nothing returns nothinglocal location Mklocal real CPvlocal trigger tlocal integer rklocal integer xset Q=truecall C_E(1211117641)call C_E(1311781207)set x=1loopexitwhen x>5set rk=GetPlayerId(RX[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,G[rk])call TriggerAddAction(t,function IGO)call O4E(GetHandleId(t),"PlayerId",rk)set rk=GetPlayerId(GX[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,G[rk])call TriggerAddAction(t,function IGO)call O4E(GetHandleId(t),"PlayerId",rk)set x=x+1endloopcall UnitRemoveAbility(NYV,1096906593)call UnitRemoveAbility(NZV,1096906593)call UnitRemoveAbility(N_V,1096906593)call UnitRemoveAbility(N0V,1096906593)call UnitRemoveAbility(N1V,1096906593)call UnitRemoveAbility(N2V,1096906593)call UnitRemoveAbility(N3V,1096906593)call UnitRemoveAbility(N4V,1096906593)call UnitRemoveAbility(N5V,1096906593)call UnitRemoveAbility(N6V,1096906593)call ExecuteFunc("IFO")endfunctionfunction X8O takes nothing returns nothinglocal location P0=GetRectCenter(WA)local location P3=GetRectCenter(QA)local location Qn=GetRectCenter(BA)local location QN=GetRectCenter(NA)local integer hK=1local integer hl=5local trigger tlocal integer rklocal integer xset HFV=trueset FVV=$98967Fcall C_E(1211117641)call C_E(1311781207)call C_E(1211117653)call C_E(1315334514)set x=BBVloopexitwhen x>BFVset A0[x]=falseset x=x+1endloopset x=1loopexitwhen x>5if GetPlayerController(RX[x])==MAP_CONTROL_COMPUTER thenset rk=GetPlayerId(RX[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,G[rk])call TriggerAddAction(t,function IGO)call O4E(GetHandleId(t),"PlayerId",rk)endifif GetPlayerController(GX[x])==MAP_CONTROL_COMPUTER thenset rk=GetPlayerId(GX[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,G[rk])call TriggerAddAction(t,function IGO)call O4E(GetHandleId(t),"PlayerId",rk)endifset x=x+1endloopcall DisableTrigger(GPV)set CI=falsecall C1E()set NV=400set DI=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function IBO))call O4E(GetHandleId(t),"Index",1)call RemoveLocation(P0)call RemoveLocation(P3)call RemoveLocation(Qn)call RemoveLocation(QN)set P0=nullset P3=nullset Qn=nullset QN=nullset t=nullendfunctionfunction XKO takes nothing returns nothinglocal integer rK=GetRandomInt(1,4)set Ox=trueif(rK==1)thencall D2E(bj_FORCE_ALL_PLAYERS,20.,"AP has been randomly selected as your mode!")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("XGO")elseif(rK==2)thencall D2E(bj_FORCE_ALL_PLAYERS,20.,"AR has been randomly selected as your mode!")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("XFO")elseif(rK==3)thencall D2E(bj_FORCE_ALL_PLAYERS,20.,"TR has been randomly selected as your mode!")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("XHO")elseif(rK==4)thencall D2E(bj_FORCE_ALL_PLAYERS,20.,"Normal has been randomly selected as your mode!")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")endifendfunctionfunction XDO takes nothing returns nothingset IR=truecall C_E(1211117641)endfunctionfunction XVO takes nothing returns nothinglocal integer P7E=P8(WE)local integer P6E=P8(YE)local integer D5=P7E+P6Elocal integer T8local integer IHOlocal integer xlocal integer ylocal integer zlocal player array IJOlocal player array IKOlocal integer wlocal integer ILOlocal integer IMOlocal location ICO=GetRectCenter(BA)local location IDO=GetRectCenter(NA)local location P8E=GetRectCenter(pr)local location P9E=GetRectCenter(qr)set ge=truecall RPX(RX[1])call RPX(RX[2])call RPX(RX[3])call RPX(RX[4])call RPX(RX[5])call RPX(GX[1])call RPX(GX[2])call RPX(GX[3])call RPX(GX[4])call RPX(GX[5])set x=1loopexitwhen x>5if B7E(RX[x])thencall CreateUnitAtLoc(RX[x],1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(RX[x],1848651843,P9E,bj_UNIT_FACING)endifif B7E(GX[x])thencall CreateUnitAtLoc(GX[x],1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(GX[x],1848651843,P9E,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(P8E)call RemoveLocation(P9E)set ILO=GetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[5],PLAYER_STATE_RESOURCE_GOLD)set IMO=GetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[5],PLAYER_STATE_RESOURCE_GOLD)set IJO[1]=nullset IJO[2]=nullset IJO[3]=nullset IJO[4]=nullset IJO[5]=nullset IJO[6]=nullset IJO[7]=nullset IJO[8]=nullset IJO[9]=nullset IJO[$A]=nullset z=1set w=1set T8=1loopexitwhen T8>5if(B7E(RX[T8]))thenset IJO[w]=RX[T8]set w=w+1elseset IKO[z]=RX[T8]set z=z+1endifset T8=T8+1endloopset T8=1loopexitwhen T8>5if(B7E(GX[T8]))thenset IJO[w]=GX[T8]set w=w+1elseset IKO[z]=GX[T8]set z=z+1endifset T8=T8+1endloopset RX[1]=nullset RX[2]=nullset RX[3]=nullset RX[4]=nullset RX[5]=nullset GX[1]=nullset GX[2]=nullset GX[3]=nullset GX[4]=nullset GX[5]=nullset T8=1loopexitwhen T8>(D5/ 2)set IHO=GetRandomInt(1,D5)if(IJO[IHO]!=null)thenset RX[T8]=IJO[IHO]set IJO[IHO]=nullset T8=T8+1endifendloopset x=T8set T8=1loopexitwhen T8>D5-x+1set IHO=GetRandomInt(1,D5)if(IJO[IHO]!=null)thenset GX[T8]=IJO[IHO]set IJO[IHO]=nullset T8=T8+1endifendloopset z=T8set T8=xset y=1loopexitwhen T8>5set RX[T8]=IKO[y]set y=y+1set T8=T8+1endloopset T8=zloopexitwhen T8>5set GX[T8]=IKO[y]set y=y+1set T8=T8+1endloopset T8=0loopexitwhen T8>5set T8=T8+1endloopcall SetPlayerTeam(RX[0],0)call SetPlayerTeam(RX[1],0)call SetPlayerTeam(RX[2],0)call SetPlayerTeam(RX[3],0)call SetPlayerTeam(RX[4],0)call SetPlayerTeam(RX[5],0)call SetPlayerTeam(GX[0],1)call SetPlayerTeam(GX[1],1)call SetPlayerTeam(GX[2],1)call SetPlayerTeam(GX[3],1)call SetPlayerTeam(GX[4],1)call SetPlayerTeam(GX[5],1)call PIE()set x=0set y=0loopexitwhen x>5loopexitwhen y>5call SetPlayerAllianceStateBJ(RX[x],RX[y],3)call SetPlayerAllianceStateBJ(GX[x],GX[y],3)call SetPlayerAllianceStateBJ(RX[x],GX[y],0)call SetPlayerAllianceStateBJ(GX[x],RX[y],0)set y=y+1endloopset y=0set x=x+1endloopcall ForceClear(WE)call ForceClear(YE)call ForceAddPlayer(WE,RX[0])call ForceAddPlayer(WE,RX[1])call ForceAddPlayer(WE,RX[2])call ForceAddPlayer(WE,RX[3])call ForceAddPlayer(WE,RX[4])call ForceAddPlayer(WE,RX[5])call ForceAddPlayer(YE,GX[0])call ForceAddPlayer(YE,GX[1])call ForceAddPlayer(YE,GX[2])call ForceAddPlayer(YE,GX[3])call ForceAddPlayer(YE,GX[4])call ForceAddPlayer(YE,GX[5])call ExecuteFunc("P0E")call ILX()set P7E=P8(WE)set P6E=P8(YE)set T8=1loopexitwhen T8>5if(B7E(RX[T8]))thencall SetPlayerStateBJ(RX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P7E))call SetPlayerStateBJ(RX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(B7E(GX[T8]))thencall SetPlayerStateBJ(GX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P6E))call SetPlayerStateBJ(GX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopif XR thenset x=0loopexitwhen x>5call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall PRE()set ICO=nullset IDO=nullset P8E=nullset P9E=nullendfunctionfunction XEO takes nothing returns nothinglocal integer P7E=P8(WE)local integer P6E=P8(YE)local integer D5=P7E+P6Elocal integer T8local integer IHOlocal integer xlocal integer ylocal integer zlocal player array IJOlocal player array IKOlocal integer wlocal integer ILOlocal integer IMOlocal location ICOlocal location IDOlocal location P8Elocal location P9Elocal integer IPOset IPO=GetRandomInt(1,2)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,$A,(GetObjectName((1848657753))))if IPO==1 thenreturnendifset jj=trueset ICO=GetRectCenter(BA)set IDO=GetRectCenter(NA)set P8E=GetRectCenter(pr)set P9E=GetRectCenter(qr)call RPX(RX[1])call RPX(RX[2])call RPX(RX[3])call RPX(RX[4])call RPX(RX[5])call RPX(GX[1])call RPX(GX[2])call RPX(GX[3])call RPX(GX[4])call RPX(GX[5])set x=1loopexitwhen x>5if B7E(RX[x])thencall CreateUnitAtLoc(RX[x],1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(RX[x],1848651843,P9E,bj_UNIT_FACING)endifif B7E(GX[x])thencall CreateUnitAtLoc(GX[x],1848651843,P8E,bj_UNIT_FACING)call CreateUnitAtLoc(GX[x],1848651843,P9E,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(P8E)call RemoveLocation(P9E)set ILO=GetPlayerState(RX[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(RX[5],PLAYER_STATE_RESOURCE_GOLD)set IMO=GetPlayerState(GX[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(GX[5],PLAYER_STATE_RESOURCE_GOLD)set IJO[1]=RX[1]set IJO[2]=RX[2]set IJO[3]=RX[3]set IJO[4]=RX[4]set IJO[5]=RX[5]set IJO[6]=GX[1]set IJO[7]=GX[2]set IJO[8]=GX[3]set IJO[9]=GX[4]set IJO[$A]=GX[5]set RX[1]=IJO[6]set RX[2]=IJO[7]set RX[3]=IJO[8]set RX[4]=IJO[9]set RX[5]=IJO[$A]set GX[1]=IJO[1]set GX[2]=IJO[2]set GX[3]=IJO[3]set GX[4]=IJO[4]set GX[5]=IJO[5]call SetPlayerTeam(RX[0],0)call SetPlayerTeam(RX[1],0)call SetPlayerTeam(RX[2],0)call SetPlayerTeam(RX[3],0)call SetPlayerTeam(RX[4],0)call SetPlayerTeam(RX[5],0)call SetPlayerTeam(GX[0],1)call SetPlayerTeam(GX[1],1)call SetPlayerTeam(GX[2],1)call SetPlayerTeam(GX[3],1)call SetPlayerTeam(GX[4],1)call SetPlayerTeam(GX[5],1)call PIE()set x=0set y=0loopexitwhen x>5loopexitwhen y>5call SetPlayerAllianceStateBJ(RX[x],RX[y],3)call SetPlayerAllianceStateBJ(GX[x],GX[y],3)call SetPlayerAllianceStateBJ(RX[x],GX[y],0)call SetPlayerAllianceStateBJ(GX[x],RX[y],0)set y=y+1endloopset y=0set x=x+1endloopcall ForceClear(WE)call ForceClear(YE)call ForceAddPlayer(WE,RX[0])call ForceAddPlayer(WE,RX[1])call ForceAddPlayer(WE,RX[2])call ForceAddPlayer(WE,RX[3])call ForceAddPlayer(WE,RX[4])call ForceAddPlayer(WE,RX[5])call ForceAddPlayer(YE,GX[0])call ForceAddPlayer(YE,GX[1])call ForceAddPlayer(YE,GX[2])call ForceAddPlayer(YE,GX[3])call ForceAddPlayer(YE,GX[4])call ForceAddPlayer(YE,GX[5])call ExecuteFunc("P0E")set P7E=P8(WE)set P6E=P8(YE)set T8=1loopexitwhen T8>5if(B7E(RX[T8]))thencall SetPlayerStateBJ(RX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P7E))call SetPlayerStateBJ(RX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(B7E(GX[T8]))thencall SetPlayerStateBJ(GX[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ P6E))call SetPlayerStateBJ(GX[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopcall PanCameraToTimedLocForPlayer(RX[1],ICO,0)call PanCameraToTimedLocForPlayer(RX[2],ICO,0)call PanCameraToTimedLocForPlayer(RX[3],ICO,0)call PanCameraToTimedLocForPlayer(RX[4],ICO,0)call PanCameraToTimedLocForPlayer(RX[5],ICO,0)call PanCameraToTimedLocForPlayer(GX[1],IDO,0)call PanCameraToTimedLocForPlayer(GX[2],IDO,0)call PanCameraToTimedLocForPlayer(GX[3],IDO,0)call PanCameraToTimedLocForPlayer(GX[4],IDO,0)call PanCameraToTimedLocForPlayer(GX[5],IDO,0)call DestroyFogModifier(CreateFogModifierRectBJ(true,RX[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,RX[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,RX[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,RX[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,RX[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,GX[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,GX[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,GX[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,GX[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,GX[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))if XR thenset x=0loopexitwhen x>5call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),RX[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),GX[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall PRE()call ILX()set ICO=nullset IDO=nullset P8E=nullset P9E=nullendfunctionfunction rN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer Hm=R1E(IAE,"HeroType")local player j8local integer x=1loopexitwhen x>5set j8=RX[x]if B7E(j8)and j8!=Le thenset QV[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(BA),GetRectCenterY(BA),270)endifset j8=GX[x]if B7E(j8)and j8!=Le thenset QV[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(NA),GetRectCenterY(NA),270)endifset x=x+1endloopcall O1E(IAE)call IRE(t)set t=nullset j8=nullreturn falseendfunctionfunction ro takes nothing returns nothinglocal integer x=1local player j8local unit FLE=GetTriggerUnit()local integer Hm=GetUnitTypeId(FLE)local trigger tlocal integer IAEif(GetOwningPlayer(FLE)==Le and IsUnitType(FLE,UNIT_TYPE_HERO))thencall DisableTrigger(GetTriggeringTrigger())if AV[GetPlayerId(Le)]==false and T==false and U==false thencall SetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD,$FA+GetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD))endifset I[GetPlayerId(Le)]=trueset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function rN))call O4E(IAE,"HeroType",Hm)endifset j8=nullset FLE=nullset t=nullendfunctionfunction XRO takes nothing returns nothinglocal integer x=1local trigger t=CreateTrigger()local region r=CreateRegion()set IQV=truecall DisableTrigger(GPV)call C_E(1211117641)loopexitwhen x>5if(RX[x]!=Le)thencall C0E(RX[x])set AV[GetPlayerId(RX[x])]=trueset I[GetPlayerId(RX[x])]=trueendifif(GX[x]!=Le)thencall C0E(GX[x])set AV[GetPlayerId(GX[x])]=trueset I[GetPlayerId(GX[x])]=trueendifset x=x+1endloopcall RegionAddRect(r,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,r,null)call TriggerAddAction(t,function ro)endfunctionfunction XIO takes nothing returns nothinglocal integer T8local integer U8set Rx=trueset T8=1set U8=BMVloopexitwhen T8>U8call C_E(BLV[T8])set T8=T8+1endloopset T8=1set U8=BKVloopexitwhen T8>U8call C_E(BJV[T8])set T8=T8+1endloopendfunctionfunction XNO takes nothing returns nothinglocal integer T8local integer U8set bx=trueset T8=1set U8=BMVloopexitwhen T8>U8call C_E(BLV[T8])set T8=T8+1endloopset T8=1set U8=BHVloopexitwhen T8>U8call C_E(BGV[T8])set T8=T8+1endloopendfunctionfunction XAO takes nothing returns nothinglocal integer T8local integer U8set Nx=trueset T8=1set U8=BHVloopexitwhen T8>U8call C_E(BGV[T8])set T8=T8+1endloopset T8=1set U8=BKVloopexitwhen T8>U8call C_E(BJV[T8])set T8=T8+1endloopendfunctionfunction XCO takes nothing returns nothinglocal integer T8local integer U8set lj=trueset T8=1set U8=BQVloopexitwhen T8>U8call C_E(BPV[T8])set T8=T8+1endloopendfunctionfunction XBO takes nothing returns nothinglocal integer T8local integer U8set Jj=trueset T8=1set U8=BTVloopexitwhen T8>U8call C_E(BSV[T8])set T8=T8+1endloopendfunctionfunction XLO takes nothing returns nothingset EV=trueendfunctionfunction XQO takes nothing returns nothingset BV=truecall SetPlayerTechResearched(RX[0],1378889780,1)call SetPlayerTechResearched(GX[0],1378889780,1)call SetPlayerHandicapXP(RX[1],1.5)call SetPlayerHandicapXP(RX[2],1.5)call SetPlayerHandicapXP(RX[3],1.5)call SetPlayerHandicapXP(RX[4],1.5)call SetPlayerHandicapXP(RX[5],1.5)call SetPlayerHandicapXP(GX[1],1.5)call SetPlayerHandicapXP(GX[2],1.5)call SetPlayerHandicapXP(GX[3],1.5)call SetPlayerHandicapXP(GX[4],1.5)call SetPlayerHandicapXP(GX[5],1.5)endfunctionfunction XMO takes nothing returns nothingset CV=truecall DisableTrigger(IWV)endfunctionfunction XPO takes nothing returns nothingset DV=trueendfunctionfunction IQO takes nothing returns nothingset oy=falsecall D2E(bj_FORCE_ALL_PLAYERS,$A,(GetObjectName((1848657985))))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction ISO takes nothing returns nothingcall DisableTrigger(RTE(GetHandleId(GetTriggeringTrigger()),"nn"))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction ITO takes nothing returns nothinglocal trigger IUO=CreateTrigger()local trigger IWO=CreateTrigger()call D2E(bj_FORCE_ALL_PLAYERS,10.," ")call D2E(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")call TriggerRegisterTimerEvent(IUO,15.,false)call TriggerAddAction(IUO,function ISO)call RVE(GetHandleId(IUO),"nn",IWO)call TriggerRegisterPlayerChatEvent(IWO,Le,"-noneutrals",true)call TriggerAddAction(IWO,function IQO)endfunctionfunction XSO takes nothing returns nothingset FEV=truecall ExecuteFunc("ITO")endfunctionfunction XTO takes nothing returns nothingset FXV=trueendfunctionfunction XWO takes nothing returns nothingset FOV=trueendfunctionfunction XUO takes nothing returns nothingset FRV=trueendfunctionfunction XYO takes nothing returns nothingset FIV=trueendfunctionfunction XZO takes nothing returns nothingset FAV=trueendfunctionfunction X_O takes nothing returns nothingset FNV=trueendfunctionfunction X9O takes nothing returns nothingset J7V=trueendfunctionfunction OVO takes nothing returns nothingset J8V=trueendfunctionfunction IYO takes nothing returns nothinglocal integer i=0loopexitwhen i>5call SetPlayerName(RX[i],(BXV[GetPlayerId((RX[i]))])+" ("+I2S(D[GetPlayerId(RX[i])])+"/"+I2S(J[GetPlayerId(RX[i])])+" | "+I2S(RE[GetPlayerId(RX[i])])+"-"+I2S(KE[GetPlayerId(RX[i])])+")")call SetPlayerName(GX[i],(BXV[GetPlayerId((GX[i]))])+" ("+I2S(D[GetPlayerId(GX[i])])+"/"+I2S(J[GetPlayerId(GX[i])])+" | "+I2S(RE[GetPlayerId(GX[i])])+"-"+I2S(KE[GetPlayerId(GX[i])])+")")set i=i+1endloopendfunctionfunction IZO takes nothing returns booleanif FBV==false thenif GetLocalPlayer()==BVV or GetLocalPlayer()==BEV thencall IYO()endifendifreturn falseendfunctionfunction I_O takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())local string I0Oif GetLocalPlayer()==GetTriggerPlayer()thenif id==1749236021 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848652107 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1849897784 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1701078382 thenelseif id==1848651862 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848651863 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848651826 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848651864 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848651833 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1848657989 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1849897781 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1966092369 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1967339316 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1966092592 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1966092378 thencall ResetUnitAnimation(GetTriggerUnit())endifendifreturn falseendfunctionfunction I1O takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())local string I0Oif GetLocalPlayer()==GetTriggerPlayer()thenif id==1749236021 thenset I0O="stand work"elseif id==1848652107 thenset I0O="stand third"elseif id==1849897784 thencall SetUnitAnimationByIndex(GetTriggerUnit(),3)elseif id==1701078382 thenelseif id==1848651862 thenset I0O="spell attack"elseif id==1848651863 thenset I0O="spell"elseif id==1848651826 thencall SetUnitAnimationByIndex(GetTriggerUnit(),3)elseif id==1848651864 thenset I0O="stand work"elseif id==1848651833 thenset I0O="stand work"elseif id==1848657989 thenset I0O="stand victory"elseif id==1849897781 thenset I0O="stand work"elseif id==1966092369 thenset I0O="stand work"elseif id==1967339316 thenset I0O="stand work gold"elseif id==1966092592 thenset I0O="stand work"elseif id==1966092378 thenset I0O="stand work"endifif I0O!="" thencall SetUnitAnimation(GetTriggerUnit(),I0O)call QueueUnitAnimationBJ(GetTriggerUnit(),I0O)endifendifreturn falseendfunctionfunction X0O takes nothing returns nothingset FBV=trueendfunctionfunction I2O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()call SetUnitScale(FLE,G5E(FLE)*AN,G5E(FLE)*AN,G5E(FLE)*AN)set FLE=nullendfunctionfunction I3O takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) thencall I2O()endifreturn falseendfunctionfunction X1O takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function I3O))set bN=trueset AN=.5endfunctionfunction X2O takes nothing returns nothingset JS=trueendfunctionfunction X3O takes nothing returns nothingset KS=trueendfunctionfunction I4O takes nothing returns nothingset V[1]=0endfunctionfunction I5O takes nothing returns nothingset V[2]=0endfunctionfunction I6O takes nothing returns nothingset V[3]=0endfunctionfunction I7O takes nothing returns nothingset V[4]=0endfunctionfunction I8O takes nothing returns nothingset V[5]=0endfunctionfunction I9O takes nothing returns nothingset V[7]=0endfunctionfunction AVO takes nothing returns nothingset V[8]=0endfunctionfunction AEO takes nothing returns nothingset V[9]=0endfunctionfunction AXO takes nothing returns nothingset V[$A]=0endfunctionfunction AOO takes nothing returns nothingset V[$B]=0endfunctionfunction ARO takes nothing returns nothinglocal integer i=1local string idlocal player ploopexitwhen i>5set p=RX[i]set id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,"id",i)set p=GX[i]set id=I2S(GetPlayerId(p))call StoreInteger(AIV,id,"id",i+5)if GetLocalPlayer()==Le thencall SyncStoredInteger(AIV,I2S(GetPlayerId(RX[i])),"id")call SyncStoredInteger(AIV,I2S(GetPlayerId(GX[i])),"id")endifset i=i+1endloopendfunctionfunction AIO takes nothing returns booleanlocal boolean AAO=GRif(vY and(not AAO))thenset GR=trueendifif AAO thencall C4E()call D2E(bj_FORCE_ALL_PLAYERS,20.,C[GetPlayerId(Le)]+(BXV[GetPlayerId((Le))])+"|r"+" "+(GetObjectName((1848656717))))call D2E(bj_FORCE_ALL_PLAYERS,20.," ")set F6V=truecall UDX()call VMO()call ILX()call UNX()call IHX()elseif vY thencall D2E(bj_FORCE_ALL_PLAYERS,20.,"The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")call D2E(bj_FORCE_ALL_PLAYERS,20.," ")endifcall ARO()call IRE(GetTriggeringTrigger())return falseendfunctionfunction ANO takes nothing returns booleanset B=truecall IRE(GetTriggeringTrigger())return falseendfunctionfunction ABO takes nothing returns nothingset N=trueendfunctionfunction ACO takes nothing returns nothingset LO=trueendfunctionfunction ADO takes nothing returns nothingset HI=trueendfunctionfunction AFO takes nothing returns booleanreturn(GetUnitAbilityLevel(GetKillingUnit(),1093685043)>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==false)!=nullendfunctionfunction AGO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"Unit")call O4E(GetHandleId(u),"PreviousKills",R1E(GetHandleId(u),"PreviousKills")-1)call O1E(IAE)call IRE(t)set u=nullset t=nullreturn falseendfunctionfunction AHO takes nothing returns nothinglocal unit AJO=GetKillingUnit()local unit AKO=GetTriggerUnit()local integer H2E=GetHandleId(AJO)local integer ALO=R1E(H2E,"PreviousKills")local integer MAE=GetUnitAbilityLevel(AJO,1093685043)local integer AMO=ALO*2local integer APO=HME(AMO+MAE*2,26)local texttag tt=CreateTextTag()local player p=GetOwningPlayer(AJO)local trigger t=CreateTrigger()set CN[GetPlayerId(p)]=CN[GetPlayerId(p)]+APOcall TriggerRegisterTimerEvent(t,20.,false)call TriggerAddCondition(t,Condition(function AGO))call O8E(GetHandleId(t),"Unit",AJO)call O4E(H2E,"PreviousKills",ALO+1)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,APO+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))call SetTextTagText(tt,"+"+I2S(APO),.025)call SetTextTagPosUnit(tt,AKO,0)call SetTextTagColor(tt,$FF,$DC,0,$FF)call SetTextTagVelocity(tt,0,.03)if GetLocalPlayer()==p thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set t=nullset AJO=nullset AKO=nullset p=nullendfunctionfunction AQO takes nothing returns booleanlocal integer ASO=CN[GetPlayerId(GetTriggerPlayer())]if ASO>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848657745)))+" "+I2S(ASO))endifreturn falseendfunctionfunction Z3E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AFO))call TriggerAddAction(t,function AHO)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function AQO))set t=nullendfunctionfunction ATO takes unit u,real x,real y returns nothingif u!=null thencall MNE(H8V,u,2,JEV)call IssueTargetOrderById(H9V,$D007F,u)endifendfunctionfunction AUO takes unit J6E,unit F3E,real AWO returns nothinglocal group glocal integer DDE=GetUnitAbilityLevel(J6E,1093750345)local real xlocal real yset H8V=J6Eset JEV=(60+70*DDE)*AWO/ 5.set JVV=(1+.75*DDE)*AWO/ 5.set H9V=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(H9V,1093687350)call SetUnitAbilityLevel(H9V,1093687350,MOE(JVV))set I9V=J6Eif J6E==F3E thencall ATO(F3E,GetUnitX(F3E),GetUnitY(F3E))elseif GetUnitTypeId(F3E)!=1747993156 thencall ATO(F3E,GetUnitX(F3E),GetUnitY(F3E))elseset x=GetUnitX(F3E)set y=GetUnitY(F3E)set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),$C8,Condition(function K3E))set F3E=FirstOfGroup(g)call FWE(g)call ATO(F3E,x,y)set g=nullendifif F3E!=null thencall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(F3E),GetUnitY(F3E)))endifendfunctionfunction AYO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local unit L9E=RME(IAE,"Projectile")local real AWO=R2E(IAE,"Elapsed")local real AZO=R2E(IAE,"OriginalTime")local real l4=H4E(GetUnitX(L9E),GetUnitY(L9E),GetUnitX(m5),GetUnitY(m5))local real x=GetUnitX(L9E)+18*Cos(l4*bj_DEGTORAD)local real y=GetUnitY(L9E)+18*Sin(l4*bj_DEGTORAD)call SetUnitX(L9E,x)call SetUnitY(L9E,y)if E4E(x,y,GetUnitX(m5),GetUnitY(m5))<=18 thencall KillUnit(L9E)call AUO(p5,m5,AWO)call O1E(IAE)call IRE(t)elseif(TimerGetElapsed(K))-AZO>(5.+2.)thencall KillUnit(L9E)call AUO(p5,L9E,AWO)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullset L9E=nullreturn falseendfunctionfunction A_O takes unit p5,unit m5,real AWO,real AZO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit L9E=CreateUnit(GetOwningPlayer(p5),1747993156,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O8E(IAE,"Projectile",L9E)call O5E(IAE,"Elapsed",AWO*1.)call O5E(IAE,"OriginalTime",AZO*1.)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function AYO))set t=nullset L9E=nullendfunctionfunction A0O takes string A1O,unit m5,unit A2O returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,A1O,.033)call SetTextTagPosUnit(tt,m5,64)call SetTextTagColor(tt,$FF,0,0,$FF)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,.65)if IsUnitVisible(A2O,GetLocalPlayer())or FJE(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction A3O takes real A4O returns stringif A4O>4.5 thenreturn"5.0"elseif A4O>4. thenreturn"4.5"elseif A4O>3.5 thenreturn"4.0"elseif A4O>3. thenreturn"3.5"elseif A4O>2.5 thenreturn"3.0"elseif A4O>2. thenreturn"2.5"elseif A4O>1.5 thenreturn"2.0"elseif A4O>1. thenreturn"1.5"elseif A4O>.5 thenreturn"1.0"elseif A4O>.0 thenreturn"0.5"elsereturn"0.0"endifreturn" "endfunctionfunction A5O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local real AZO=R2E(IAE,"OriginalTime")local real M2E=(TimerGetElapsed(K))local real A6O=5.-(M2E-AZO)local real I5X=HSE(M2E-AZO,5.)local integer A7O=R1E(IAE,"Count")+1if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(LoadInteger(YX,(GetHandleId(p5)),(704)))==0 or(LoadInteger(YX,(GetHandleId(p5)),(704)))==1093750345 thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)call SetUnitVertexColor(p5,$FF,$FF,$FF,$FF)call DestroyEffect((LoadEffectHandle(YX,(IAE),(32))))call O1E(IAE)call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093750344 thenif FUE(GetSpellTargetUnit())==false thencall A_O(p5,GetSpellTargetUnit(),I5X,AZO)endifif(LoadInteger(YX,(GetHandleId(p5)),(704)))==0 or(LoadInteger(YX,(GetHandleId(p5)),(704)))==1093750345 thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)call SetUnitVertexColor(p5,$FF,$FF,$FF,$FF)call DestroyEffect((LoadEffectHandle(YX,(IAE),(32))))call O1E(IAE)call IRE(t)endifelsecall SaveInteger(YX,(IAE),StringHash("Count"),(A7O))if A6O>=0 thencall A0O(A3O(A6O),p5,p5)if ModuloInteger(A7O,2)==0 thencall SetUnitVertexColor(p5,$FF,125,125,$FF)elsecall SetUnitVertexColor(p5,$FF,$AF,$AF,$FF)endifelsecall SetUnitVertexColor(p5,$FF,0,0,$FF)endifif M2E-AZO>(5.+2.)thencall AUO(p5,p5,5.)if(LoadInteger(YX,(GetHandleId(p5)),(704)))==0 or(LoadInteger(YX,(GetHandleId(p5)),(704)))==1093750345 thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,false)call SetUnitVertexColor(p5,$FF,$FF,$FF,$FF)call DestroyEffect((LoadEffectHandle(YX,(IAE),(32))))call O1E(IAE)call IRE(t)endifendifset t=nullset p5=nullreturn falseendfunctionfunction A8O takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local string st="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"if GetLocalPlayer()!=GetOwningPlayer(p5)thenset st=""endifcall O8E(IAE,"Source",p5)call O5E(IAE,"OriginalTime",TimerGetElapsed(K)*1.)call SaveEffectHandle(YX,(IAE),(32),(AddSpecialEffectTarget(st,p5,"origin")))call TriggerRegisterTimerEvent(t,.5,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A5O))call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750345,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750344,true)call GKE(p5,1093750344)call UnitMakeAbilityPermanent(p5,true,1093750344)call TriggerEvaluate(t)set p5=nullset t=nullendfunctionfunction A9O takes nothing returns booleanif GetSpellAbilityId()==1093750345 thencall A8O()endifreturn falseendfunctionfunction Z4E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A9O))call HCE(1093687350)set t=nullendfunctionfunction ZV takes nothing returns booleanreturn GetSpellAbilityId()==1093683532endfunctionfunction RB takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848657461)!=nullendfunctionfunction Rc takes nothing returns nothingcall UnitDamageTarget(ZX,GetEnumUnit(),JO,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)endfunctionfunction RC takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit oA=RME(IAE,"Caster")local integer Rd=R1E(IAE,"Counter")local real x=GetUnitX(oA)local real y=GetUnitY(oA)local boolexpr hPlocal group P3Eif Rd>$C thencall KillUnit(oA)call PauseTimer(t)call O1E(IAE)call DestroyTimer(t)elseset ZX=FLEset JO=GetUnitAbilityLevel(FLE,1093683532)*8set hP=Condition(function RB)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,650,hP)call ForGroup(P3E,function Rc)call FWE(P3E)call DestroyBoolExpr(hP)set Rd=Rd+1call O4E(IAE,"Counter",Rd)set P3E=nullset hP=nullendifset t=nullset FLE=nullset oA=nullendfunctionfunction Re takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location Mk=GetSpellTargetLoc()local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697657157,x,y,0)local timer t=CreateTimer()local integer IAE=GetHandleId(t)call RemoveLocation(Mk)call GKE(oA,1093683764)call SetUnitAbilityLevel(oA,1093683764,GetUnitAbilityLevel(FLE,1093683532))call GKE(oA,1097625443)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",oA)call O4E(IAE,"Counter",0)call TimerStart(t,1,true,function RC)set FLE=nullset Mk=nullset oA=nullset t=nullendfunctionfunction Z5E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function Re)call TriggerAddCondition(t,Condition(function ZV))call HCE(1093683764)set t=nullendfunctionfunction NVO takes nothing returns nothingcall MNE(DN,GetEnumUnit(),1,dN)endfunctionfunction NXO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093682483)local real HUE=(.35+.25*DDE)*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))local group g=FYE()call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",m5,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"chest"))call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(m5),GetUnitY(m5)))call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),325,Condition(function LRE))set dN=HUEset DN=FLEcall ForGroup(g,function NVO)call PlaySoundOnUnitBJ(oO,100,m5)call FWE(g)set FLE=nullset m5=nullset g=nullendfunctionfunction NOO takes nothing returns booleanif GetSpellAbilityId()==1093682483 and FUE(GetSpellTargetUnit())==false thencall NXO()endifreturn falseendfunctionfunction SFE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NOO))set t=nullendfunctionfunction NRO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit MIE=RME(IAE,"Caster")local integer CGX=GetTriggerEvalCount(t)local integer NIO=R2I(((.9-.3)/ .5)/ .03)local integer NAO=R2I(($AF/ NIO))local integer NNO=R2I(($FF/ NIO)*1.75)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")if CGX>NIO thencall SetUnitVertexColor(MIE,$FF,$FF,$FF,0)call SetUnitVertexColor(FLE,$FF,$FF,$FF,$FF)call ShowUnit(MIE,false)call O1E(IAE)call IRE(t)elsecall SetUnitVertexColor(MIE,$FF,$FF,$FF,$AF-NAO*CGX)call SetUnitX(MIE,x)call SetUnitY(MIE,y)call SetUnitVertexColor(FLE,$FF,$FF,$FF,NNO*CGX)endifset t=nullset MIE=nullset FLE=nullreturn falseendfunctionfunction NBO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit MIE=RME(GetHandleId(FLE),"BlinkAM_Caster")local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)call SetUnitX(MIE,x)call SetUnitY(MIE,y)call SetUnitX(FLE,x)call SetUnitY(FLE,y)call SetUnitVertexColor(FLE,$FF,$FF,$FF,0)call SetUnitVertexColor(MIE,$FF,$FF,$FF,$AF)call SetUnitTimeScale(MIE,.5)call O8E(IAE,"Caster",MIE)call O8E(IAE,"Hero",FLE)call O5E(IAE,"x",x*1.)call O5E(IAE,"y",y*1.)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function NRO))set FLE=nullset MIE=nullset t=nullendfunctionfunction NCO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit MIElocal integer IAE=GetHandleId(FLE)local real a=H4E(GetUnitX(FLE),GetUnitY(FLE),GetSpellTargetX(),GetSpellTargetY())local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)call SetUnitPathing(FLE,false)call GKE(FLE,1097167976)set MIE=CreateUnit(GetOwningPlayer(FLE),1747990091,GetUnitX(FLE),GetUnitY(FLE),a)call GUE(MIE,5)call SetUnitPathing(MIE,false)call GKE(MIE,1097167976)call GKE(MIE,1097625443)call GKE(MIE,1093678162)call SetUnitVertexColor(MIE,$FF,$FF,$FF,0)call SetUnitX(MIE,x)call SetUnitY(MIE,y)call SetUnitX(FLE,x)call SetUnitY(FLE,y)call SetUnitAnimation(MIE,"Spell Throw")call SetUnitPathing(FLE,true)call UnitRemoveAbility(FLE,1097167976)call O8E(IAE,"BlinkAM_Caster",MIE)set FLE=nullset MIE=nullendfunctionfunction NFO takes nothing returns booleanif GetSpellAbilityId()==1095066220 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall NBO()elsecall NCO()endifendifreturn falseendfunctionfunction SGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NFO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function NFO))set t=nullcall GWE(1747990091)endfunctionfunction NGO takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093752374)local real NHO=16+$C*MAElocal real NJO=GetUnitState(F3E,UNIT_STATE_MANA)local real NKO=RMinBJ(NHO,NJO)if NKO>0 thencall SetUnitState(F3E,UNIT_STATE_MANA,NJO-NKO)call MNE(J6E,F3E,2,NKO*.6)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",F3E,"origin"))endifendfunctionfunction NLO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer NMO=(LoadInteger(YX,(H2E),(30)))local unit F3E=BYE(NMO)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall DisableTrigger(t)call NGO(J6E,F3E)call BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction NPO takes nothing returns nothinglocal trigger t=CreateTrigger()local unit F3E=GetTriggerUnit()local unit J6E=GetAttacker()local integer H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,.4,false)call TriggerAddCondition(t,Condition(function NLO))call SaveInteger(YX,(H2E),(30),(B_E(F3E)))call SaveUnitHandle(YX,(H2E),(2),(J6E))set F3E=nullset J6E=nullset t=nullendfunctionfunction NQO takes nothing returns nothinglocal unit J6E=GetAttacker()if R8E(J6E,"CooldownState")==false thencall IBE(J6E,"CooldownState",.4)call NPO()endifset J6E=nullendfunctionfunction NSO takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093752374)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(YX,(GetHandleId(GetTriggeringTrigger())),($E)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and FHE(GetTriggerUnit())==false thencall NQO()endifreturn falseendfunctionfunction NTO takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function NSO))call SaveUnitHandle(YX,(GetHandleId(t)),($E),(GetTriggerUnit()))set t=nullendfunctionfunction NUO takes nothing returns booleanif GetLearnedSkill()==1093752374 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093752374)==1 thencall NTO()endifreturn falseendfunctionfunction SHE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NUO))set t=nullendfunctionfunction NWO takes nothing returns booleanreturn GetSpellAbilityId()==1093685071endfunctionfunction NYO takes nothing returns nothingif(GetUnitTypeId(GetEnumUnit())==1848652113 or GetUnitTypeId(GetEnumUnit())==1848652109 or GetUnitTypeId(GetEnumUnit())==1848652114 or GetUnitTypeId(GetEnumUnit())==1848652115)thencall KillUnit(GetEnumUnit())endifendfunctionfunction NZO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit N_O=(LoadUnitHandle(YX,(H2E),(2)))local real N0O=(LoadReal(YX,(H2E),(6)))local real N1O=(LoadReal(YX,(H2E),(7)))local real N2O=GetUnitX(N_O)local real N3O=GetUnitY(N_O)call SaveReal(YX,(H2E),(6),((N2O)*1.))call SaveReal(YX,(H2E),(7),((N3O)*1.))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif N0O==N2O and N1O==N3O thenif GetUnitAbilityLevel(N_O,1093752647)==0 thencall GKE(N_O,1093752647)endifelseif GetUnitAbilityLevel(N_O,1093752647)>0 thencall UnitRemoveAbility(N_O,1093752647)endifendifendifset t=nullset N_O=nullreturn falseendfunctionfunction N4O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local player j8=GetOwningPlayer(FLE)local integer DDE=GetUnitAbilityLevel(FLE,1093685071)local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local group P3E=FYE()local unit N_Olocal trigger tlocal integer H2Ecall GroupEnumUnitsOfPlayer(P3E,j8,Condition(function BUE))call ForGroup(P3E,function NYO)call FWE(P3E)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))if(DDE==1)thenset N_O=CreateUnit(j8,1848652113,x,y,270)call UnitApplyTimedLife(N_O,1112820806,60)elseif(DDE==2)thenset N_O=CreateUnit(j8,1848652113,x,y,270)call UnitApplyTimedLife(N_O,1112820806,70)call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,70)elseif(DDE==3)thenset N_O=CreateUnit(j8,1848652114,x,y,270)call UnitApplyTimedLife(N_O,1112820806,80)call UnitApplyTimedLife(CreateUnit(j8,1848652109,x,y,270),1112820806,80)elseif(DDE==4)thenset N_O=CreateUnit(j8,1848652114,x,y,270)call UnitApplyTimedLife(N_O,1112820806,80)call UnitApplyTimedLife(CreateUnit(j8,1848652115,x,y,270),1112820806,90)endifif DDE==3 or DDE==4 thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,N_O,EVENT_UNIT_DEATH)call SaveReal(YX,(H2E),(6),((GetUnitX(N_O))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(N_O))*1.))call SaveUnitHandle(YX,(H2E),(2),(N_O))call TriggerAddCondition(t,Condition(function NZO))endifset FLE=nullset j8=nullset P3E=nullset N_O=nullset t=nullendfunctionfunction SLE takes nothing returns nothingset nJ=CreateTrigger()call JEE(nJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nJ,Condition(function NWO))call TriggerAddAction(nJ,function N4O)endfunctionfunction N5O takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local real a=bj_RADTODEG*Atan2(y-I7V,x-I6V)local real N6Olocal real N7Oif Sin((a-I8V)*bj_DEGTORAD)<0 thenset N6O=GetUnitX(GetEnumUnit())+$F*Cos((I8V-90)*bj_DEGTORAD)set N7O=GetUnitY(GetEnumUnit())+$F*Sin((I8V-90)*bj_DEGTORAD)call SetUnitPosition(GetEnumUnit(),N6O,N7O)call SetUnitFacingTimed(GetEnumUnit(),I8V+90,.3)elseset N6O=GetUnitX(GetEnumUnit())+$F*Cos((I8V+90)*bj_DEGTORAD)set N7O=GetUnitY(GetEnumUnit())+$F*Sin((I8V+90)*bj_DEGTORAD)call SetUnitPosition(GetEnumUnit(),N6O,N7O)call SetUnitFacingTimed(GetEnumUnit(),I8V-90,.3)endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))endfunctionfunction N8O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real l4=R2E(IAE,"Angle")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local group g=RUE(IAE,"g")if GetTriggerEvalCount(t)>16 thencall FWE(g)call O1E(IAE)call IRE(t)elseset I6V=xset I7V=yset I8V=l4call ForGroup(g,function N5O)endifset t=nullset g=nullreturn falseendfunctionfunction N9O takes nothing returns nothingcall MNE(I9V,GetEnumUnit(),1,I6V)endfunctionfunction BVO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(F2E,1093685042)local unit MIElocal real BEO=bj_RADTODEG*Atan2(GetUnitY(F3E)-GetUnitY(F2E),GetUnitX(F3E)-GetUnitX(F2E))local real xlocal real ylocal group g=FYE()local group g2=FYE()if MAE==0 thenset MAE=GetUnitAbilityLevel(F2E,1093810233)endifcall RAE(IAE,"g",g)call O5E(IAE,"Angle",BEO*1.)call O5E(IAE,"x",GetUnitX(F2E)*1.)call O5E(IAE,"y",GetUnitY(F2E)*1.)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function N8O))set x=GetUnitX(F2E)+50*Cos(BEO*bj_DEGTORAD)set y=GetUnitY(F2E)+50*Sin(BEO*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function LRE))call GroupAddGroup(g2,g)call GroupClear(g2)set MIE=CreateUnit(GetOwningPlayer(F2E),1865429081,x,y,BEO)call UnitApplyTimedLife(MIE,1112820806,1)call GKE(MIE,1093684825)call SetUnitAbilityLevel(MIE,1093684825,MAE)call IssueImmediateOrderById(MIE,$D0080)set x=GetUnitX(F2E)+$FA*Cos(BEO*bj_DEGTORAD)set y=GetUnitY(F2E)+$FA*Sin(BEO*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function LRE))call GroupAddGroup(g2,g)call GroupClear(g2)set MIE=CreateUnit(GetOwningPlayer(F2E),1865429081,x,y,BEO)call UnitApplyTimedLife(MIE,1112820806,1)call GKE(MIE,1093684825)call SetUnitAbilityLevel(MIE,1093684825,MAE)call IssueImmediateOrderById(MIE,$D0080)set x=GetUnitX(F2E)+450*Cos(BEO*bj_DEGTORAD)set y=GetUnitY(F2E)+450*Sin(BEO*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function LRE))call GroupAddGroup(g2,g)call GroupClear(g2)set MIE=CreateUnit(GetOwningPlayer(F2E),1865429081,x,y,BEO)call UnitApplyTimedLife(MIE,1112820806,1)call GKE(MIE,1093684825)call SetUnitAbilityLevel(MIE,1093684825,MAE)call IssueImmediateOrderById(MIE,$D0080)if GetUnitAbilityLevel(F2E,1093685042)==0 thenset x=GetUnitX(F2E)+650*Cos(BEO*bj_DEGTORAD)set y=GetUnitY(F2E)+650*Sin(BEO*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function LRE))call GroupAddGroup(g2,g)call GroupClear(g2)set MIE=CreateUnit(GetOwningPlayer(F2E),1865429081,x,y,BEO)call UnitApplyTimedLife(MIE,1112820806,1)call GKE(MIE,1093684825)call SetUnitAbilityLevel(MIE,1093684825,MAE)call IssueImmediateOrderById(MIE,$D0080)endifcall FWE(g2)call GroupRemoveUnit(g,F3E)set I6V=100*MAEset I9V=F2Ecall ForGroup(g,function N9O)set t=nullset F2E=nullset F3E=nullset MIE=nullset g=nullset g2=nullendfunctionfunction BXO takes nothing returns booleanif(GetSpellAbilityId()==1093685042 or GetSpellAbilityId()==1093810233)and FUE(GetSpellTargetUnit())==false thencall BVO()endifreturn falseendfunctionfunction SJE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BXO))set t=nullendfunctionfunction BOO takes nothing returns booleanreturn GetSpellAbilityId()==1093685041endfunctionfunction BRO takes unit FLE,real x,real y,group BIO returns nothinglocal group P3E=FYE()local unit SDEcall JRE(x,y,$96)call GroupEnumUnitsInRange(P3E,x,y,$96,Condition(function BUE))loopset SDE=FirstOfGroup(P3E)exitwhen SDE==nullif IsUnitInGroup(SDE,BIO)==false and IsUnitEnemy(SDE,GetOwningPlayer(FLE))thenif(GetUnitAbilityLevel(SDE,1093678162)!=1 and GetUnitState(SDE,UNIT_STATE_LIFE)>0 and IsUnitType(SDE,UNIT_TYPE_STRUCTURE)==false)thencall GroupAddUnit(BIO,SDE)call UnitDamageTarget(FLE,SDE,60+GetUnitAbilityLevel(FLE,1093685041)*30,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_SLICE)call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",SDE,"overhead")endifendifcall GroupRemoveUnit(P3E,SDE)endloopcall FWE(P3E)set P3E=nullset SDE=nullendfunctionfunction BAO takes nothing returns nothinglocal integer H2E=GetHandleId(GetExpiredTimer())local unit BNO=RME(H2E,"Axe")local unit F2E=RME(H2E,"Hero")local real Ax=R2E(H2E,"Ax")local real Ay=R2E(H2E,"Ay")local real Cx=R2E(H2E,"Cx")local real Cy=R2E(H2E,"Cy")local real Bx=R2E(H2E,"Bx")local real By=R2E(H2E,"By")local real a=R2E(H2E,"a")local real b=1-alocal boolean BBO=R3E(H2E,"FirstPass")local group BCO=RUE(H2E,"AlreadyDamaged")local real BDO=RMaxBJ(E4E(Ax,Ay,Cx,Cy)/$514,.4)call SetUnitX(BNO,HRE(Ax*a*a+Bx*2*a*b+Cx*b*b))call SetUnitY(BNO,HIE(Ay*a*a+By*2*a*b+Cy*b*b))call BRO(F2E,GetUnitX(BNO),GetUnitY(BNO),BCO)if(BBO)thencall O5E(H2E,"a",(a-.02/BDO)*1.)elsecall O5E(H2E,"a",(a+.02/BDO)*1.)call O5E(H2E,"Ax",GetUnitX(F2E)*1.)call O5E(H2E,"Ay",GetUnitY(F2E)*1.)endifif(a<0 and BBO)thencall O7E(H2E,"FirstPass",false)call O5E(H2E,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(R2E(H2E,"AngleOffset"))))*1.)call O5E(H2E,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(R2E(H2E,"AngleOffset"))))*1.)endifif(a>1 and BBO==false)thencall PauseTimer(GetExpiredTimer())call FWE(BCO)call O1E(H2E)call RemoveUnit(BNO)call DestroyTimer(GetExpiredTimer())endifset BNO=nullset F2E=nullset BCO=nullendfunctionfunction BFO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real Ax=GetUnitX(FLE)local real Ay=GetUnitY(FLE)local real Cx=GetLocationX(GetSpellTargetLoc())local real Cy=GetLocationY(GetSpellTargetLoc())local unit BGO=CreateUnit(GetOwningPlayer(FLE),1697657172,Ax,Ay,270.)local unit BHO=CreateUnit(GetOwningPlayer(FLE),1697657172,Ax,Ay,270.)local integer BJOlocal integer BKOlocal timer BLO=CreateTimer()local timer BMO=CreateTimer()if GetSpellTargetUnit()!=null thenset Cx=GetUnitX(GetSpellTargetUnit())set Cy=GetUnitY(GetSpellTargetUnit())endifcall GKE(BGO,1097691750)call UnitRemoveAbility(BGO,1097691750)call SetUnitFlyHeight(BGO,$96,0)call GKE(BHO,1097691750)call UnitRemoveAbility(BHO,1097691750)call SetUnitFlyHeight(BHO,$96,0)set BJO=GetHandleId(BLO)call O8E(BJO,"Hero",FLE)call O8E(BJO,"Axe",BGO)call RAE(BJO,"AlreadyDamaged",FYE())call O5E(BJO,"Ax",(Ax)*1.)call O5E(BJO,"Ay",(Ay)*1.)call O5E(BJO,"Cx",(Cx)*1.)call O5E(BJO,"Cy",(Cy)*1.)call O5E(BJO,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.)call O5E(BJO,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.)call O5E(BJO,"a",(1)*1.)call O5E(BJO,"AngleOffset",(-45)*1.)call O7E(BJO,"FirstPass",true)set BKO=GetHandleId(BMO)call O8E(BKO,"Hero",FLE)call O8E(BKO,"Axe",BHO)call RAE(BKO,"AlreadyDamaged",FYE())call O5E(BKO,"Ax",(Ax)*1.)call O5E(BKO,"Ay",(Ay)*1.)call O5E(BKO,"Cx",(Cx)*1.)call O5E(BKO,"Cy",(Cy)*1.)call O5E(BKO,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.)call O5E(BKO,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.)call O5E(BKO,"a",(1)*1.)call O5E(BKO,"AngleOffset",(45)*1.)call O7E(BKO,"FirstPass",true)call TimerStart(BLO,.025,true,function BAO)call TimerStart(BMO,.025,true,function BAO)set FLE=nullset BGO=nullset BHO=nullset BLO=nullset BMO=nullendfunctionfunction SKE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BOO))call TriggerAddAction(t,function BFO)set t=nullendfunctionfunction BPO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call UnitRemoveAbility(p5,1093743664)call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction BQO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()call GKE(p5,1093743664)call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function BPO))call O8E(IAE,"Source",p5)set t=nullset p5=nullendfunctionfunction BSO takes nothing returns booleanif GetSpellAbilityId()==1093743450 thencall BQO()endifreturn falseendfunctionfunction SME takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BSO))set t=nullendfunctionfunction BTO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer IAE=GetHandleId(p5)local player p=RQE(IAE,"Track|SourcePlayer")local integer MAE=R1E(IAE,"Track|Level")local texttag tt=CreateTextTag()local integer DYXlocal integer i=1local unit BUOlocal player BWOif MAE==1 thenset DYX=$96elseif MAE==2 thenset DYX=$C8elseset DYX=$FAendifcall SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+DYX)call SetTextTagText(tt,"+"+I2S(DYX),.025)call SetTextTagPosUnit(tt,QV[GetPlayerId(p)],100)call SetTextTagColor(tt,$FF,$DC,0,$FF)call SetTextTagVelocity(tt,0,.03)call SetTextTagVisibility(tt,false)if GetLocalPlayer()==p thencall SetTextTagVisibility(tt,true)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set LDV[GetPlayerId(p)]=LDV[GetPlayerId(p)]+DYXset P3V=P3V+DYXif MAE==1 thenset DYX=50elseif MAE==2 thenset DYX=100elseset DYX=$96endifloopexitwhen i>5if B2E(p)thenset BWO=RX[i]elseset BWO=GX[i]endifif BWO!=p thenset BUO=QV[GetPlayerId(BWO)]if E3E(BUO,p5)<950 thenset tt=CreateTextTag()call SetPlayerState(BWO,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(BWO,PLAYER_STATE_RESOURCE_GOLD)+DYX)call SetTextTagText(tt,"+"+I2S(DYX),.025)call SetTextTagPosUnit(tt,BUO,100)call SetTextTagColor(tt,$FF,$DC,0,$FF)call SetTextTagVelocity(tt,0,.03)call SetTextTagVisibility(tt,false)if GetLocalPlayer()==BWO thencall SetTextTagVisibility(tt,true)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set LDV[GetPlayerId(BWO)]=LDV[GetPlayerId(BWO)]+DYXset P3V=P3V+DYXendifendifset i=i+1endloopset p5=nullset p=nullset tt=nullset BUO=nullset BWO=nullendfunctionfunction BYO takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and R2E(GetHandleId(GetTriggerUnit()),"Track|Time")>XRE()thencall BTO()endifreturn falseendfunctionfunction BZO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit oA=RME(IAE,"Caster")call SetUnitX(oA,GetUnitX(m5))call SetUnitY(oA,GetUnitY(m5))if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>$A and GetUnitAbilityLevel(m5,1110454348)==0)thencall DestroyEffect(RWE(IAE,"FX"))call KillUnit(oA)call O1E(IAE)call IRE(t)endifset t=nullset m5=nullset oA=nullreturn falseendfunctionfunction B_O takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(m5),1697657174,GetUnitX(m5),GetUnitY(m5),0)local string B0O="war3mapImported\\TrackBuff.mdx"if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(m5))and FJE(GetLocalPlayer())==false thenset B0O=""endifcall GKE(oA,1093742901)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BZO))call O8E(IAE,"Target",m5)call O8E(IAE,"Caster",oA)call O9E(IAE,"FX",AddSpecialEffectTarget(B0O,m5,"overhead"))call O5E(GetHandleId(GetSpellTargetUnit()),"Track|Time",(((XRE())+30)*1.))call RRE(GetHandleId(GetSpellTargetUnit()),"Track|SourcePlayer",GetOwningPlayer(GetTriggerUnit()))call O4E(GetHandleId(GetSpellTargetUnit()),"Track|Level",GetUnitAbilityLevel(GetTriggerUnit(),1093681716))set t=nullset m5=nullset p5=nullset oA=nullendfunctionfunction B1O takes nothing returns booleanif GetSpellAbilityId()==1093681716 thencall B_O()endifreturn falseendfunctionfunction SUE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B1O))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BYO))set t=nullendfunctionfunction B2O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")call UnitRemoveAbility(m5,1093749079)call UnitRemoveAbility(m5,1110459201)call O1E(IAE)call IRE(t)set t=nullset m5=nullreturn falseendfunctionfunction B3O takes unit p5,unit m5 returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,3.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function B2O))call O8E(IAE,"Target",m5)call GKE(m5,1093749079)call UnitMakeAbilityPermanent(m5,true,1093749079)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093749079,false)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",m5,"chest"))set t=nullendfunctionfunction B4O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE) or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and R3E(GetHandleId(p5),"JinadaActive") thencall B3O(p5,m5)call O7E(GetHandleId(p5),"JinadaActive",false)call O5E(GetHandleId(p5),"LastUsed",TimerGetElapsed(K)*1.)call UnitRemoveAbility(p5,1093749075)call UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)call BWE(MDE)call O1E(IAE)call IRE(t)endifelsecall BWE(MDE)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction B5O takes nothing returns booleanlocal trigger tlocal integer IAElocal unit m5local unit p5local integer DDEif GetTriggerEventId()==EVENT_UNIT_DEATH thencall O7E(GetHandleId(GetTriggerUnit()),"JinadaActive",false)call O5E(GetHandleId(GetTriggerUnit()),"LastUsed",TimerGetElapsed(K)*1.)call UnitRemoveAbility(GetTriggerUnit(),1093749075)call UnitRemoveAbility(GetTriggerUnit(),1093749300)call UnitRemoveAbility(GetTriggerUnit(),1093749299)call UnitRemoveAbility(GetTriggerUnit(),1093749301)call UnitRemoveAbility(GetTriggerUnit(),1093749077)elseif GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"JinadaHero")thenif IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and R3E(GetHandleId(GetAttacker()),"JinadaActive") thenset t=CreateTrigger()set IAE=GetHandleId(t)set m5=GetTriggerUnit()set p5=GetAttacker()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function B4O))call O4E(IAE,"TargetIndex",B_E(m5))call O8E(IAE,"Source",p5)set DDE=GetUnitAbilityLevel(p5,1093749073)if DDE==0 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==1 thencall UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==2 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==3 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749077)elseif DDE==4 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)endifset m5=nullset p5=nullset t=nullendifendifreturn falseendfunctionfunction B6O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real B7O=TimerGetElapsed(K)local integer DDE=GetUnitAbilityLevel(FLE,1093749073)local real B8O=R2E(GetHandleId(FLE),"LastUsed")local boolean B9O=R3E(GetHandleId(FLE),"JinadaActive")if B7O-B8O>$E-DDE*2 and B9O==false and GME(FLE)==false thencall O7E(GetHandleId(FLE),"JinadaActive",true)call GKE(FLE,1093749075)if GetUnitAbilityLevel(FLE,1110455864)==0 thenif DDE==1 thencall GKE(FLE,1093749300)elseif DDE==2 thencall GKE(FLE,1093749299)elseif DDE==3 thencall GKE(FLE,1093749301)elseif DDE==4 thencall GKE(FLE,1093749077)endifendifcall SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749300,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749299,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749301,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749077,false)elseif B9O==false and GetUnitAbilityLevel(FLE,1110455864)==0 thencall UnitRemoveAbility(FLE,1093749075)call UnitRemoveAbility(FLE,1093749300)call UnitRemoveAbility(FLE,1093749299)call UnitRemoveAbility(FLE,1093749301)call UnitRemoveAbility(FLE,1093749077)endifset t=nullset FLE=nullreturn falseendfunctionfunction CVO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()local integer IAE=GetHandleId(t)local integer CXO=GetHandleId(t2)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function B6O))call JEE(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t2,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function B5O))call O8E(IAE,"Hero",FLE)call O8E(CXO,"JinadaHero",FLE)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tset Rj[GetPlayerId(GetOwningPlayer(FLE))]=t2endifset FLE=nullset t=nullset t2=nullendfunctionfunction COO takes nothing returns booleanif GetLearnedSkill()==1093749073 and GetUnitAbilityLevel(GetTriggerUnit(),1093749073)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall CVO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction SWE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function COO))set t=nullendfunctionfunction CRO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")local integer DDE=GetUnitAbilityLevel(p5,1093678913)if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 thencall O1E(IAE)call IRE(t)if R8E(p5,"WindWalk|CD")==false thencall IBE(p5,"WindWalk|CD",.5)if IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(m5,GetOwningPlayer(p5))thencall MNE(p5,m5,2,30*DDE)call H7E(I2S(R2I(30*DDE)),1,p5,.027,$D8,0,0,$D8)call IXE(p5,"WindWalkBH|Active")set t=RTE(GetHandleId(p5),"ai|WWTrigger")call O1E(GetHandleId(t))call IRE(t)endifendifendifelsecall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction CIO takes nothing returns booleanlocal trigger t=nulllocal unit m5=nulllocal unit p5=nulllocal integer IAElocal integer DDEif R8E(GetAttacker(),"WindWalkBH|Active")thenset t=CreateTrigger()set m5=GetTriggerUnit()set p5=GetAttacker()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function CRO))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)if R3E(GetHandleId(p5),"JinadaActive")thenset DDE=GetUnitAbilityLevel(p5,1093749073)if DDE==0 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==1 thencall UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==2 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==3 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749077)elseif DDE==4 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)endifelsecall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)endifset m5=nullset p5=nullset t=nullendifreturn falseendfunctionfunction CAO takes nothing returns booleanlocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit p5=RME(IAE,"Hero")local integer DDEcall IXE(p5,"WindWalkBH|Active")if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH thenif R3E(GetHandleId(p5),"JinadaActive")thenset DDE=GetUnitAbilityLevel(p5,1093749073)if DDE==0 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==1 thencall UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==2 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)elseif DDE==3 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749077)elseif DDE==4 thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)endifelsecall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)endifelseif not R3E(GetHandleId(p5),"JinadaActive")thencall UnitRemoveAbility(p5,1093749300)call UnitRemoveAbility(p5,1093749299)call UnitRemoveAbility(p5,1093749301)call UnitRemoveAbility(p5,1093749077)endifendifcall O1E(IAE)call IRE(GetTriggeringTrigger())set p5=nullreturn falseendfunctionfunction CNO takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Hero")if IsTriggerEnabled(RTE(IAE,"CancelTr"))thencall IVE(p5,"WindWalkBH|Active")endifcall O1E(IAE)call IRE(t)set p5=nullset t=nullendfunctionfunction CBO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093678913)call TriggerRegisterTimerEvent(t,1.25-.25*DDE-.01,false)call TriggerAddAction(t,function CNO)call O8E(IAE,"Hero",p5)set t=CreateTrigger()call RVE(IAE,"CancelTr",t)set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,$A+5*DDE,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_CAST)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function CAO))call O8E(IAE,"Hero",p5)call RVE(GetHandleId(p5),"ai|WWTrigger",t)call GKE(p5,1093749300)call GKE(p5,1093749299)call GKE(p5,1093749301)call GKE(p5,1093749077)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749300,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749299,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749301,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093749077,false)set t=nullset p5=nullendfunctionfunction CCO takes nothing returns booleanif GetSpellAbilityId()==1093678913 thencall CBO()endifreturn falseendfunctionfunction SYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CCO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function CIO))set t=nullendfunctionfunction CDO takes nothing returns booleanreturn GetSpellAbilityId()==1093683024 or GetSpellAbilityId()==1093682775endfunctionfunction CFO takes integer DDE,integer a returns integerif a==0 thenreturn 1elsereturn(DDE-1)*5+1+aendifendfunctionfunction Ry takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1697656920endfunctionfunction RY takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Rz takes player p returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,p,Condition(function Ry))call ForGroup(g,function RY)call FWE(g)set g=nullendfunctionfunction CGO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit F2E=RME(GetHandleId(t),"Hero")local integer H2E=GetHandleId(F2E)local integer MAE=GetUnitAbilityLevel(F2E,1093682774)local integer CHO=(R1E(H2E,"Warpath|Level")-1)local integer CJO=HQE(CHO,0,5)local unit MIE=RME(H2E,"Warpath|Caster")local integer CKOif MAE==1 thenset CKO=$A+CJO*$Aelseif MAE==2 thenset CKO=20+CJO*$Felseif MAE==3 thenset CKO=30+CJO*20endifif CHO==0 thenset CKO=0endifcall MHE(F2E,CKO)if GetUnitTypeId(MIE)==1697656920 thencall SetUnitAbilityLevel(MIE,1093682502,CFO(MAE,CJO))call O4E(H2E,"Warpath|Level",CHO)elsecall Rz(RQE(GetHandleId(t),"p"))endifcall O1E(GetHandleId(t))call IRE(t)set t=nullset F2E=nullset MIE=nullreturn falseendfunctionfunction CLO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local integer H2E=GetHandleId(F2E)local unit MIE=RME(H2E,"Warpath|Caster")local integer MAE=GetUnitAbilityLevel(F2E,1093682774)local integer CHO=(R1E(H2E,"Warpath|Level")+1)local integer CJO=HQE(CHO,0,5)local integer CMO=CFO(MAE,CJO)local trigger t=CreateTrigger()local integer CKOif MAE==1 thenset CKO=$A+CJO*$Aelseif MAE==2 thenset CKO=20+CJO*$Felseif MAE==3 thenset CKO=30+CJO*20endifcall MHE(F2E,CKO)call SetUnitAbilityLevel(MIE,1093682502,CMO)call O4E(H2E,"Warpath|Level",CHO)call O8E(GetHandleId(t),"Hero",F2E)call RRE(GetHandleId(t),"p",GetOwningPlayer(F2E))call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function CGO))set t=nullset F2E=nullset MIE=nullendfunctionfunction CPO takes unit FLE,boolean CEO returns nothinglocal integer MAE=GetUnitAbilityLevel(FLE,1093682774)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656920,0,0,0)local trigger t=CreateTrigger()call GKE(oA,1093682502)call O8E(GetHandleId(FLE),"Warpath|Caster",oA)call SetUnitInvulnerable(oA,true)call GKE(oA,1097625443)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CDO))call TriggerAddAction(t,function CLO)if CEO thenset Vj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset oA=nullset t=nullendfunctionfunction CQO takes nothing returns booleanif GetLearnedSkill()==1093682774 and GetUnitAbilityLevel(GetTriggerUnit(),1093682774)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall CPO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction SZE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CQO))call HCE(1093682502)set t=nullendfunctionfunction CSO takes nothing returns booleanreturn(GetSpellAbilityId()==1093682775)and FUE(GetSpellTargetUnit())==falseendfunctionfunction R6 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction R7 takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1697656901)endfunctionfunction R9 takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())call SetUnitPositionLoc(GetEnumUnit(),Mk)if GetUnitUserData(GetEnumUnit())==4 thencall IssueTargetOrderById(GetEnumUnit(),$D02B6,GetSpellTargetUnit())elsecall IncUnitAbilityLevel(GetEnumUnit(),1093682778)call IssueTargetOrderById(GetEnumUnit(),$D02B6,GetSpellTargetUnit())call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))endifcall RemoveLocation(Mk)set Mk=nullendfunctionfunction CTO takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local location sA=GetUnitLoc(GetSpellTargetUnit())local group sb=FYE()if(UnitHasBuffBJ(GetSpellTargetUnit(),1110454869))thencall GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))call ForGroupBJ(sb,function R9)elsecall GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))call ForGroupBJ(sb,function R6)call DisableTrigger(EA)call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellTargetUnit()),Mk,sA)call EnableTrigger(EA)call UnitAddAbility(bj_lastCreatedUnit,1093682778)call SetUnitAbilityLevelSwapped(1093682778,bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped(1093682775,GetTriggerUnit())*4)-3))call IssueTargetOrderById(bj_lastCreatedUnit,$D02B6,GetSpellTargetUnit())call SetUnitUserData(bj_lastCreatedUnit,1)endifcall FWE(sb)call RemoveLocation(Mk)call RemoveLocation(sA)set Mk=nullset sA=nullset sb=nullendfunctionfunction S_E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CSO))call TriggerAddAction(t,function CTO)set t=nullendfunctionfunction CUO takes nothing returns booleanreturn(IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false)!=nullendfunctionfunction sC takes unit FLE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call GKE(MIE,1093683024)call SetUnitAbilityLevel(MIE,1093683024,GetUnitAbilityLevel(FLE,1093683024))call IssueImmediateOrderById(MIE,$D022E)set MIE=nullendfunctionfunction sd takes unit FLE,real HUE returns nothinglocal integer IAE=GetHandleId(FLE)local real sD=R2E(IAE,"Bristleback_DamageStack")if sD>$FA thencall O5E(IAE,"Bristleback_DamageStack",((0)*1.))call sC(FLE)elsecall O5E(IAE,"Bristleback_DamageStack",((sD+HUE)*1.))endifendfunctionfunction CWO takes nothing returns nothinglocal unit sE=GetTriggerUnit()local unit NHX=GetEventDamageSource()local real sf=H3E(NHX,sE)local real sF=GetUnitFacing(sE)local real sglocal real HUE=GetEventDamage()local real sGlocal real RKif(HUE>5)and GetUnitState(sE,UNIT_STATE_LIFE)>1 thenif((sF-sf)<(-180.))thenset sg=(sF-sf+360)elseif((sF-sf)>180.)thenset sg=(sF-sf-360)elseset sg=(sF-sf)endifendifset RK=RAbsBJ(sg)if RK<=70 thenset sG=(GetUnitAbilityLevel(sE,1093684531)*.08+.08)*HUEcall sd(sE,HUE-sG)call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)elseif RK<=110 thenset sG=(GetUnitAbilityLevel(sE,1093684531)*.04+.04)*HUEcall SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)endifendifset sE=nullset NHX=nullendfunctionfunction CYO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function CUO))call TriggerAddAction(t,function CWO)if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction CZO takes nothing returns booleanif GetLearnedSkill()==1093684531 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684531)==1 thencall CYO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction S0E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CZO))set t=nullendfunctionfunction C_O takes nothing returns booleanreturn GetSpellAbilityId()==1093683024endfunctionfunction C0O takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1)!=nullendfunctionfunction C1O takes nothing returns nothinglocal integer C2O=GetHandleId(GetEnumUnit())local integer C3O=LoadInteger(YX,YR,C2O)local real C4O=HSE(JO+C3O*30,$DC)call UnitDamageTarget(ZX,GetEnumUnit(),C4O,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call SaveInteger(YX,YR,C2O,C3O+1)endfunctionfunction C5O takes nothing returns nothinglocal integer C2O=GetHandleId(GetEnumUnit())local integer C3O=LoadInteger(YX,YR,C2O)call SaveInteger(YX,YR,C2O,C3O-1)endfunctionfunction sK takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"UnitVar")local group P3E=RUE(IAE,"GroupVar")set YR=GetHandleId(FLE)call ForGroup(P3E,function C5O)call FWE(P3E)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset P3E=nullreturn falseendfunctionfunction C6O takes nothing returns nothinglocal unit AJO=GetTriggerUnit()local group C7O=FYE()local trigger t=CreateTrigger()if IsUnitType(AJO,UNIT_TYPE_HERO)==false thenset AJO=QV[GetPlayerId(GetOwningPlayer(AJO))]endifcall GroupEnumUnitsInRange(C7O,GetUnitX(AJO),GetUnitY(AJO),650,Condition(function C0O))set ZX=CreateUnit(GetOwningPlayer(AJO),1697656901,GetUnitX(AJO),GetUnitY(AJO),0)set JO=GetUnitAbilityLevel(AJO,1093683024)*20set YR=GetHandleId(AJO)call ForGroup(C7O,function C1O)call O8E(GetHandleId(t),"UnitVar",AJO)call RAE(GetHandleId(t),"GroupVar",C7O)call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function sK))set t=nullset AJO=nullset C7O=nullendfunctionfunction S1E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C_O))call TriggerAddAction(t,function C6O)set t=nullendfunctionfunction sL takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(p5,1093677132)local real C8Ocall MNE(p5,m5,1,100+DDE*75)set C8O=100+DDE*75if GetUnitState(p5,UNIT_STATE_LIFE)<=C8O*.75 thenset C8O=GetUnitState(p5,UNIT_STATE_LIFE)/ .75-$Aendifcall MNE(p5,p5,1,C8O)call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(m5),GetUnitY(m5)))set p5=nullset m5=nullendfunctionfunction C9O takes nothing returns booleanif GetSpellAbilityId()==1093677132 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall sL()elsecall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))endifendifreturn falseendfunctionfunction S2E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function C9O))set t=nullendfunctionfunction DVO takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093677142)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!=1848657461endfunctionfunction DEO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetAttacker()local integer MAE=GetUnitAbilityLevel(J6E,1093677142)local integer DXO=GetHeroStr(J6E,true)local real C4O=($E+2*MAE)+(.18+.08*MAE)*DXOcall MNE(J6E,F3E,2,C4O)set J6E=nullset F3E=nullendfunctionfunction S3E takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function DVO))call TriggerAddAction(t,function DEO)set t=nullendfunctionfunction sN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DDE=R1E(IAE,"Level")local real soif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>$A thenset so=GetEventDamage()*.07*DDEcall DisableTrigger(t)call MNE(GetEventDamageSource(),GetTriggerUnit(),2,so)call EnableTrigger(t)endifelsecall O1E(IAE)call IRE(t)endifset t=nullreturn falseendfunctionfunction sO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093684045)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",p5,"chest"))call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,7.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function sN))set t=nullset m5=nullset p5=nullendfunctionfunction DOO takes nothing returns booleanif GetSpellAbilityId()==1093684045 thencall sO()endifreturn falseendfunctionfunction Op takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DOO))set t=nullendfunctionfunction DRO takes nothing returns booleanreturn GetSpellAbilityId()==1093684308 or GetSpellAbilityId()==1093747539endfunctionfunction sq takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1)!=nullendfunctionfunction DIO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer sr=GetUnitAbilityLevel(FLE,1093684308)local group P3E=GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function sq))local unit PZif sr==0 thenset sr=GetUnitAbilityLevel(FLE,1093747539)endifloopset PZ=FirstOfGroup(P3E)exitwhen PZ==nullif(IsUnitAlly(PZ,GetOwningPlayer(FLE)))thencall SetWidgetLife(PZ,(GetUnitStateSwap(UNIT_STATE_LIFE,PZ)+100+(100*sr)))call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))endifcall GroupRemoveUnit(P3E,PZ)endloopcall DestroyGroup(P3E)set P3E=GetUnitsInRectOfPlayer(bj_mapInitialPlayableArea,GetOwningPlayer(FLE))loopset PZ=FirstOfGroup(P3E)exitwhen PZ==nullif(IsUnitType(PZ,UNIT_TYPE_HERO)==false and GetUnitTypeId(PZ)!=1848651843)thencall SetUnitLifePercentBJ(PZ,100)call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))endifcall GroupRemoveUnit(P3E,PZ)endloopcall DestroyGroup(P3E)set FLE=nullset P3E=nullset PZ=nullendfunctionfunction Oq takes nothing returns nothingset do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(do,Condition(function DRO))call TriggerAddAction(do,function DIO)endfunctionfunction DAO takes nothing returns booleanreturn GetSpellAbilityId()==1093684310endfunctionfunction DNO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit st=RME(IAE,"Chen")local unit u=RME(IAE,"Unit")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")call DestroyEffect(RWE(IAE,"FX"))if R3E(GetHandleId(u),"Grapple")==false and GetUnitAbilityLevel(u,1093678162)==0 thencall IBE(u,"4409",1)call SetUnitPosition(u,x,y)endifif R3E(GetHandleId(u),"Grapple")thencall HEE(GetOwningPlayer(st),GetObjectName(1848652598))endifcall O1E(IAE)call IRE(t)set t=nullset st=nullset u=nullreturn falseendfunctionfunction DBO takes unit u,unit DCO,integer DDO,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)if IsUnitOwnedByPlayer(u,GetOwningPlayer(DCO))thencall TriggerRegisterTimerEvent(t,.1,false)elsecall TriggerRegisterTimerEvent(t,7-DDO,false)endifcall TriggerAddCondition(t,Condition(function DNO))call O9E(H2E,"FX",AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead"))call O8E(H2E,"Unit",u)call O8E(H2E,"Chen",DCO)call O5E(H2E,"x",x)call O5E(H2E,"y",y)set t=nullendfunctionfunction DFO takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit st=GetTriggerUnit()local location Mk=GetUnitLoc(st)local unit oAlocal integer sr=GetUnitAbilityLevel(st,1093684310)local real sXlocal location sylocal effect fxif(B2E(GetOwningPlayer(st)))thenset sy=GetRectCenter(BA)elseset sy=GetRectCenter(NA)endifif(IsUnitAlly(m5,GetOwningPlayer(st))==false)thenif FUE(GetSpellTargetUnit())==false thenset sX=GetRandomInt(50*sr,100*sr)call H7E(I2S(R2I(sX)),1,m5,.023,$FF,$FF,0,$D8)call UnitDamageTargetBJ(st,m5,sX,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)set fx=AddSpecialEffectTargetUnitBJ("chest",m5,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")call DestroyEffect(fx)endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(R3E(GetHandleId(GetOwningPlayer(m5)),"DisableHelp")==false)thencall DBO(m5,st,sr,GetLocationX(sy),GetLocationY(sy))endifelseif(IsUnitOwnedByPlayer(m5,GetOwningPlayer(st)))thencall SetUnitPositionLoc(m5,sy)endifendifcall RemoveLocation(Mk)call RemoveLocation(sy)set m5=nullset st=nullset Mk=nullset oA=nullset sy=nullset fx=nullendfunctionfunction S5E takes nothing returns nothingset VJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(VJ,Condition(function DAO))call TriggerAddAction(VJ,function DFO)endfunctionfunction DGO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656899,x,y,0)local integer MAE=GetUnitAbilityLevel(J6E,1093748025)call GKE(MIE,1093677380)call SetUnitAbilityLevel(MIE,1093677380,MAE)call IssueTargetOrderById(MIE,$D0102,MIE)call RemoveLocation(l)call GKE(MIE,1097625443)call UnitApplyTimedLife(MIE,1112820806,2)set J6E=nullset MIE=nullset l=nullendfunctionfunction DHO takes nothing returns booleanif GetSpellAbilityId()==1093748025 thencall DGO()endifreturn falseendfunctionfunction S6E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DHO))set t=nullendfunctionfunction DJO takes nothing returns booleanreturn(GetSpellAbilityId()==1093678649)endfunctionfunction DKO takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(GetFilterUnit()))and(not XDE(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!=1852010352)and(GetUnitAbilityLevel(GetFilterUnit(),1097167976)==1)and((GetUnitAbilityLevel(GetFilterUnit(),1093684047)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684049)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684050)==1)or(GetUnitAbilityLevel(GetFilterUnit(),1093684048)==1)))!=nullendfunctionfunction sS takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit st=RME(IAE,"Chen")local integer sT=R1E(IAE,"MaxUnits")local group P3E=GetUnitsOfPlayerMatching(GetOwningPlayer(st),Condition(function DKO))local unit PZloopexitwhen(CountUnitsInGroup(P3E)<=sT)set PZ=GroupPickRandomUnit(P3E)call GroupRemoveUnit(P3E,PZ)call RemoveUnit(PZ)endloopcall DestroyGroup(P3E)call O1E(IAE)call IRE(t)set st=nullset t=nullset P3E=nullset PZ=nullreturn falseendfunctionfunction DLO takes nothing returns nothinglocal unit sU=GetSpellTargetUnit()local unit st=GetTriggerUnit()local integer sr=GetUnitAbilityLevel(st,1093678649)local integer sT=1local integer playerid=GetPlayerId(GetOwningPlayer(st))local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call HZE(sU)if(sr==1)thencall GKE(sU,1093684047)elseif(sr==2)thencall GKE(sU,1093684049)elseif(sr==3)thenset sT=2call GKE(sU,1093684050)elseif(sr==4)thenset sT=3call GKE(sU,1093684048)endifcall GKE(sU,1097167976)call GKE(sU,1093743175)call O8E(IAE,"Chen",st)call O4E(IAE,"MaxUnits",sT)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function sS))set t=nullset sU=nullset st=nullendfunctionfunction DMO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIElocal real xlocal real yif IsUnitEnemy(F3E,GetOwningPlayer(J6E))thenset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093678649)call SetUnitAbilityLevel(MIE,1093678649,GetUnitAbilityLevel(J6E,1093810260))call IssueTargetOrderById(MIE,$D0265,F3E)elseif B2E(GetOwningPlayer(J6E))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifif(R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))==false thencall DBO(F3E,J6E,GetUnitAbilityLevel(J6E,1093810260),x,y)endifendifset J6E=nullset F3E=nullset MIE=nullendfunctionfunction DPO takes nothing returns booleanif GetSpellAbilityId()==1093810260 and FUE(GetSpellTargetUnit())==false thencall DMO()endifreturn falseendfunctionfunction DQO takes nothing returns booleanif GetSpellAbilityId()==1093810260 thenif IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) thenif IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit())thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658745))endifendifendifreturn falseendfunctionfunction S4E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DJO))call TriggerAddAction(t,function DLO)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function DQO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DPO))set t=nullendfunctionfunction DSO takes nothing returns nothingcall MNE(FB,GetEnumUnit(),1,fB)endfunctionfunction DTO takes unit p5,real x,real y,integer DDE returns nothinglocal group g=FYE()if DDE==1 thenset fB=105elseif DDE==2 thenset fB=$AAelseif DDE==3 thenset fB=$FAelseif DDE==4 thenset fB=310endifset FB=p5set I9V=p5call GroupEnumUnitsInRange(g,x,y,$F0,Condition(function K3E))call ForGroup(g,function DSO)call FWE(g)set g=nullendfunctionfunction DUO takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(I9V),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(oA,1093742676)call IssueTargetOrderById(oA,$D006B,GetEnumUnit())set oA=nullendfunctionfunction DWO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")local integer DYO=ModuloInteger(GetTriggerEvalCount(t),4)+1local real alocal real dlocal real xlocal real ylocal group g=FYE()set I9V=FLEcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),710,Condition(function K3E))call ForGroup(g,function DUO)if DYO==1 thenset a=GetRandomReal(0,90)elseif DYO==2 thenset a=GetRandomReal(90,$B4)elseif DYO==3 thenset a=GetRandomReal($B4,270)elseset a=GetRandomReal(270,360)endifset d=GetRandomReal($8C,710)if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494)thencall O1E(IAE)call IRE(t)call StopSound(vX,false,true)elseset x=GetUnitX(FLE)+d*Cos(a*bj_DEGTORAD)set y=GetUnitY(FLE)+d*Sin(a*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))call DTO(FLE,x,y,DDE)endifcall FWE(g)set t=nullset g=nullset FLE=nullreturn falseendfunctionfunction DZO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDEcall JAE(vX,GetUnitX(FLE),GetUnitY(FLE))if GetSpellAbilityId()==1093677906 thenset DDE=GetUnitAbilityLevel(FLE,1093677906)elseset DDE=GetUnitAbilityLevel(FLE,1093681494)+1endifcall TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function DWO))call O8E(IAE,"Hero",FLE)call O4E(IAE,"Level",DDE)set t=nullset FLE=nullendfunctionfunction D_O takes nothing returns booleanif GetSpellAbilityId()==1093677906 or GetSpellAbilityId()==1093681494 thencall DZO()endifreturn falseendfunctionfunction S7E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D_O))call HCE(1093677912)set t=nullendfunctionfunction D0O takes unit J6E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093812553)if GetUnitTypeId(J6E)==1215063922 thencall SetUnitAbilityLevel(J6E,1093681490,MAE)elsecall SetUnitAbilityLevel(J6E,1093681490,MAE+4)endifendfunctionfunction D1O takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093812553)if MAE==1 thencall GKE(J6E,1093681490)endifcall D0O(J6E)set J6E=nullendfunctionfunction D2O takes nothing returns booleanif GetLearnedSkill()==1093812553 and IsUnitIllusion(GetTriggerUnit())==false thencall D1O()endifreturn falseendfunctionfunction D3O takes nothing returns nothinglocal unit u=GetTriggerUnit()if GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 thencall SetUnitAnimation(u,"stand")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))elseif GetUnitTypeId(u)==1215063922 thencall SetUnitAnimation(u,"stand defend")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))endifset u=nullendfunctionfunction D4O takes nothing returns booleanif GetSpellAbilityId()==1093681490 thencall D3O()endifreturn falseendfunctionfunction Z1E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D4O))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function D2O))call HCE(1093681490)set t=nullendfunctionfunction D5O takes nothing returns booleanreturn GetLearnedSkill()==1093681996 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction D6O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()call SetPlayerTechResearched(GetOwningPlayer(FLE),1378889782,GetPlayerTechCount(GetOwningPlayer(FLE),1378889782,true)+1)set FLE=nullendfunctionfunction Z0E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function D5O))call TriggerAddAction(t,function D6O)set t=nullendfunctionfunction D7O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call D0O(J6E)call IRE(t)call FlushChildHashtable(YX,(H2E))set t=nullset J6E=nullreturn falseendfunctionfunction D8O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call D0O(J6E)call IRE(t)call FlushChildHashtable(YX,(H2E))set t=nullset J6E=nullreturn falseendfunctionfunction Q0E takes nothing returns nothingif GetUnitAbilityLevel(I9V,1093681490)>0 thencall D0O(I9V)endifendfunctionfunction D9O takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function D7O))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function D8O))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction FVO takes nothing returns booleanif GetSpellAbilityId()==1093677895 thencall D9O()endifreturn falseendfunctionfunction Z2E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FVO))set t=nullendfunctionfunction FXO takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call SetUnitX(YZ[id],x)call SetUnitY(YZ[id],y)if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(YZ[id],1093682253)call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)endifcall IssueImmediateOrderById(YZ[id],$D022E)endfunctionfunction FOO takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall SetUnitX(YZ[id],x)call SetUnitY(YZ[id],y)if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(YZ[id],1093682253)call SetUnitAbilityLevel(YZ[id],1093682253,ZZ)endifcall IssueImmediateOrderById(YZ[id],$D022E)endifendfunctionfunction FRO takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())) and GME(GetFilterUnit())==false)!=nullendfunctionfunction FIO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=FYE()local integer id=GetPlayerId(GetOwningPlayer(p5))local integer DDE=GetUnitAbilityLevel(p5,1093682248)if DDE==0 thenset DDE=GetUnitAbilityLevel(p5,1093750594)endifset YZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)set zZ[id]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)set ZZ=DDEcall SetUnitScale(YZ[id],.25,.25,.25)call GKE(YZ[id],1093682253)call GKE(zZ[id],1093748784)call SetUnitAbilityLevel(YZ[id],1093682253,DDE)call SetUnitAbilityLevel(zZ[id],1093748784,DDE)call GroupEnumUnitsInRange(g,x,y,575,Condition(function FRO))call ForGroup(g,function FXO)if GetUnitAbilityLevel(p5,1093750594)>0 thencall ForGroup(g,function FOO)endifcall FWE(g)set p5=nullset g=nullendfunctionfunction FAO takes nothing returns booleanif GetSpellAbilityId()==1093682248 or GetSpellAbilityId()==1093750594 thencall FIO()endifreturn falseendfunctionfunction S8E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FAO))set t=nullcall HCE(1093682253)endfunctionfunction FNO takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(oA,1093686090)call SetUnitAbilityLevel(oA,1093686090,I5V)call IssueTargetOrderById(oA,$D007F,GetEnumUnit())call MNE(GetTriggerUnit(),GetEnumUnit(),1,I6V)set oA=nullendfunctionfunction FBO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local location l=GetSpellTargetLoc()local integer i=1local real iN=GetUnitX(FLE)local real io=GetUnitY(FLE)local real hNlocal real holocal real xlocal real ylocal real alocal group g=FYE()local group g2=FYE()if m5==null thenset hN=GetLocationX(l)set ho=GetLocationY(l)elseset hN=GetUnitX(m5)set ho=GetUnitY(m5)endifset a=bj_DEGTORAD*H4E(iN,io,hN,ho)call RemoveLocation(l)loopexitwhen i>20set x=HRE(iN+i*60*Cos(a))set y=HIE(io+i*60*Sin(a))call GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function LRE))call GroupAddGroup(g2,g)call GroupClear(g2)call JWE(CreateDestructable(1110454320,x,y,GetRandomReal(0,360),.5,GetRandomInt(0,2)),8)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))set i=i+1endloopset I5V=GetUnitAbilityLevel(FLE,1093686091)set I6V=I5V*50+75call ForGroup(g,function FNO)call FWE(g)call FWE(g2)set FLE=nullset l=nullset m5=nullset g=nullset g2=nullendfunctionfunction FCO takes nothing returns booleanif GetSpellAbilityId()==1093686091 thencall FBO()endifreturn falseendfunctionfunction S9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FCO))call HCE(1093686090)set t=nullendfunctionfunction FDO takes nothing returns booleanreturn((GetUnitAbilityLevel(GetSpellAbilityUnit(),1093682250)>0)and(((GetSpellAbilityId()==1093686091)or(GetSpellAbilityId()==1093682252)or(GetSpellAbilityId()==1093682248)or(GetSpellAbilityId()==1093750594)))or(GetUnitPointValue(GetTriggerUnit())==500)and DOE(GetSpellAbilityId()))endfunctionfunction FFO takes nothing returns nothinglocal location sb=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),sb,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093682249)call SetUnitAbilityLevelSwapped(1093682249,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093682250,GetSpellAbilityUnit()))call IssueImmediateOrderById(bj_lastCreatedUnit,$D009F)call RemoveLocation(sb)set sb=nullendfunctionfunction OZ takes nothing returns nothingset dq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dq,Condition(function FDO))call TriggerAddAction(dq,function FFO)endfunctionfunction FGO takes nothing returns booleanreturn((GetItemTypeId(GetManipulatedItem())==1227894859)and(GetUnitTypeId(GetTriggerUnit())==1333027688))endfunctionfunction FHO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call GKE(oA,1095332466)call IssueImmediateOrderById(oA,$D00C4)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset oA=nullreturn falseendfunctionfunction FJO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call UnitRemoveAbility(FLE,1110454608)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function FHO))set t=nullset FLE=nullendfunctionfunction TVE takes nothing returns nothingset IZV=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IZV,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(IZV,Condition(function FGO))call TriggerAddAction(IZV,function FJO)endfunctionfunction FKO takes nothing returns booleanreturn(UnitHasBuffBJ(GetAttacker(),1114795873))endfunctionfunction FLO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall UnitRemoveAbility(J6E,1114795873)endifelsecall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction FMO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F3E=GetTriggerUnit()local unit J6E=GetAttacker()call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function FLO))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullendfunctionfunction O4 takes nothing returns nothingset dr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(dr,Condition(function FKO))call TriggerAddAction(dr,function FMO)endfunctionfunction FPO takes unit u returns booleanreturn IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!=1848652101 and GetUnitTypeId(u)!=1848652089endfunctionfunction FQO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))call UnitRemoveAbility(F3E,1114860655)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset F3E=nullreturn falseendfunctionfunction FSO takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function FQO))call SaveUnitHandle(YX,(H2E),(17),(m5))call SetUnitOwner(m5,GetOwningPlayer(p5),true)call UnitApplyTimedLife(m5,1112820806,80)call GKE(m5,1097167976)call GKE(m5,1093743175)call HZE(m5)set m5=nullset p5=nullset t=nullendfunctionfunction FTO takes nothing returns booleanif GetSpellAbilityId()==1093682264 and FPO(GetSpellTargetUnit())thencall FSO()endifreturn falseendfunctionfunction TEE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FTO))set t=nullendfunctionfunction FUO takes nothing returns booleanreturn ji()and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)endfunctionfunction FWO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer Rd=R1E(IAE,"Counter")local group glocal unit SDEif Rd>$A thencall O1E(IAE)call IRE(t)elsecall O4E(IAE,"Counter",Rd+1)set I9V=p5set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),300,Condition(function FUO))set SDE=GroupPickRandomUnit(g)call FWE(g)call SetUnitState(SDE,UNIT_STATE_LIFE,GetUnitState(SDE,UNIT_STATE_LIFE)+$A)endifset t=nullset p5=nullset g=nullset SDE=nullreturn falseendfunctionfunction FYO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call AddUnitAnimationProperties(J6E,"alternate",false)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction FZO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer i=1local trigger tlocal integer H2Eloopexitwhen i>(1+2*GetUnitAbilityLevel(p5,1093677378))set t=CreateTrigger()call O8E(GetHandleId(t),"Source",p5)call O4E(GetHandleId(t),"Counter",0)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function FWO))set i=i+1endloopif GetUnitTypeId(p5)==1160786520 thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function FYO))call SaveUnitHandle(YX,(H2E),(2),(p5))set t=nullendifset t=nullset p5=nullendfunctionfunction F_O takes nothing returns booleanif GetSpellAbilityId()==1093677378 thencall FZO()endifreturn falseendfunctionfunction TXE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function F_O))set t=nullendfunctionfunction F0O takes real x1,real y1,real x2,real y2 returns realreturn SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))endfunctionfunction F1O takes unit u returns integerlocal integer MAE=GetUnitAbilityLevel(u,1093682265)if MAE>0 thenreturn MAEendifset MAE=GetUnitAbilityLevel(u,1093752642)return MAEendfunctionfunction F2O takes nothing returns booleanlocal real dlocal real F3Oif GetUnitAbilityLevel(GetTriggerUnit(),1110455125)>0 and F1O(GetEventDamageSource())>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),1110455125)set F3O=RMinBJ(F0O(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),$9C4)set d=(.1+.05*I2R(F1O(GetEventDamageSource())))*F3Ocall H7E("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,$D8,$D8,$D8)call DisableTrigger(GetTriggeringTrigger())call MNE(GetEventDamageSource(),GetTriggerUnit(),3,d)call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction F4O takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call O8E(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function F2O))endifset t=nullset m5=nullset p5=nullendfunctionfunction Sn takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif F1O(GetAttacker())>0 and(R3E(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")thencall F4O()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==$D011F)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==$D0120)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093682265 or GetSpellAbilityId()==1093752642)thencall F4O()endifreturn falseendfunctionfunction F5O takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function Sn))call O8E(GetHandleId(t),"Hero",FLE)if CEO thenset Vj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction F6O takes nothing returns booleanif(GetLearnedSkill()==1093682265 or GetLearnedSkill()==1093752642)and IsUnitIllusion(GetTriggerUnit())==false and F1O(GetTriggerUnit())==1 thencall F5O(GetTriggerUnit(),false)endifreturn falseendfunctionfunction TOE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function F6O))set t=nullendfunctionfunction F7O takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenreturn GetUnitAbilityLevel(GetSpellTargetUnit(),1093682263)>0elsereturn GetUnitAbilityLevel(GetTriggerUnit(),1093682263)>0endifendfunctionfunction F8O takes nothing returns nothinglocal unit p5local unit m5local unit oAif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenset p5=GetSpellTargetUnit()set m5=GetTriggerUnit()elseset p5=GetTriggerUnit()set m5=GetAttacker()endifset oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093681712)call SetUnitAbilityLevel(oA,1093681712,GetUnitAbilityLevel(p5,1093682263))call IssueTargetOrderById(oA,$D02B6,m5)set p5=nullset m5=nullset oA=nullendfunctionfunction TRE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function F7O))call TriggerAddAction(t,function F8O)set t=nullendfunctionfunction F9O takes real x returns reallocal real H7=GetRectMinX(bj_mapInitialPlayableArea)+$96if(x<H7)thenreturn H7endifset H7=GetRectMaxX(bj_mapInitialPlayableArea)-$96if(x>H7)thenreturn H7endifreturn xendfunctionfunction GVO takes real y returns reallocal real H7=GetRectMinY(bj_mapInitialPlayableArea)+$96if(y<H7)thenreturn H7endifset H7=GetRectMaxY(bj_mapInitialPlayableArea)-$96if(y>H7)thenreturn H7endifreturn yendfunctionfunction GEO takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1848651861 or GetUnitTypeId(GetFilterUnit())==1848651865 or GetUnitTypeId(GetFilterUnit())==1848651866 or GetUnitTypeId(GetFilterUnit())==1848658773 or GetUnitTypeId(GetFilterUnit())==1848658774 or GetUnitTypeId(GetFilterUnit())==1848658775 or DZE(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(RME(GetHandleId(GetTriggeringTrigger()),"BlackHole"))))!=nullendfunctionfunction GXO takes nothing returns nothinglocal location GOO=GetUnitLoc(GetEnumUnit())local location GRO=GetUnitLoc(RME(GetHandleId(GetTriggeringTrigger()),"BlackHole"))local location GIO=XNE(GRO,DistanceBetweenPoints(GRO,GOO)-2,AngleBetweenPoints(GRO,GOO))call SetUnitPositionLoc(GetEnumUnit(),GIO)call RemoveLocation(GOO)call RemoveLocation(GRO)call RemoveLocation(GIO)set GOO=nullset GRO=nullset GIO=nullendfunctionfunction GAO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local group P3Elocal integer IAE=GetHandleId(t)local unit GNO=RME(IAE,"BlackHole")local unit MIElocal real xlocal real yif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747288 thencall KillUnit(GNO)set MIE=RME(IAE,"Caster")call UnitApplyTimedLife(RME(IAE,"Shadow1"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow2"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow3"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow4"),1112820806,1)call O1E(IAE)call IRE(t)call KillUnit(MIE)elseif GetTriggerEvalCount(t)>90 thenset MIE=RME(IAE,"Caster")call UnitApplyTimedLife(RME(IAE,"Shadow1"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow2"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow3"),1112820806,1)call UnitApplyTimedLife(RME(IAE,"Shadow4"),1112820806,1)call O1E(IAE)call IRE(t)call KillUnit(GNO)call KillUnit(MIE)call XIE(RME(IAE,"Source"))elseset x=GetUnitX(GNO)set y=GetUnitY(GNO)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,400,Condition(function GEO))call ForGroup(P3E,function GXO)call FWE(P3E)endifset MIE=nullset GNO=nullset t=nullset P3E=nullreturn falseendfunctionfunction GBO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)local unit GNO=CreateUnit(GetOwningPlayer(p5),1966092340,x,y,0)call RemoveLocation(l)call SetUnitAbilityLevel(GNO,1093681968,GetUnitAbilityLevel(p5,1093747288))if B3E(GetOwningPlayer(p5))thencall GKE(MIE,1093687348)elsecall GKE(MIE,1093687347)endifcall IssuePointOrderById(MIE,$D01F9,x,y)call O8E(IAE,"Caster",MIE)call O8E(IAE,"Shadow1",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))call O8E(IAE,"Shadow2",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))call O8E(IAE,"Shadow3",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))call O8E(IAE,"Shadow4",CreateUnit(GetOwningPlayer(p5),1747990098,x,y,0))call O8E(IAE,"BlackHole",GNO)call O8E(IAE,"Source",p5)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function GAO))set p5=nullset GNO=nullset t=nullset l=nullset MIE=nullendfunctionfunction GCO takes nothing returns booleanif GetSpellAbilityId()==1093747288 thencall GBO()endifreturn falseendfunctionfunction GDO takes nothing returns booleanlocal location llocal real xlocal real yif GetSpellAbilityId()==1093747288 thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)set l=nullif(x!=F9O(x)and y!=GVO(y))or RectContainsCoords(eE,x,y)or RectContainsCoords(oE,x,y)or RectContainsCoords(aE,x,y)or RectContainsCoords(nE,x,y)or RectContainsCoords(VE,x,y)or RectContainsCoords(EE,x,y)thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")endifendifreturn falseendfunctionfunction TIE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GCO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function GDO))call HCE(1093681968)set t=nullendfunctionfunction SV takes unit p5,unit m5,integer DDE returns nothinglocal real HUEif DDE==1 thenset HUE=30elseif DDE==2 thenset HUE=40elseif DDE==3 thenset HUE=65elseset HUE=80endifcall MRE(m5,m5,1)call MNE(p5,m5,1,HUE)endfunctionfunction Sw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")call SV(p5,m5,DDE)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction SW takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger tlocal integer IAElocal integer DDE=GetUnitAbilityLevel(p5,1093683511)call SV(p5,m5,DDE)if DDE>1 thenset t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function Sw))endifif DDE==4 thenset t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function Sw))endifset t=nullset p5=nullset m5=nullendfunctionfunction GFO takes nothing returns booleanif GetSpellAbilityId()==1093683511 and FUE(GetSpellTargetUnit())==false thencall SW()endifreturn falseendfunctionfunction TAE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GFO))set t=nullendfunctionfunction GGO takes nothing returns booleanreturn(GetSpellAbilityId()==1093681713)endfunctionfunction GHO takes nothing returns nothinglocal location sb=GetUnitLoc(GetTriggerUnit())local location Sa=GetSpellTargetLoc()local integer kt=GetUnitAbilityLevel(GetTriggerUnit(),1093681713)local unit GJOcall CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetTriggerUnit()),sb,Sa)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLifeBJ(8.,1112820806,bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093681714)call SetUnitAbilityLevelSwapped(1093681714,bj_lastCreatedUnit,kt)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FD,Sa)if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)thenset GJO=bj_lastCreatedUnitloopcall EYE(.9)exitwhen(IsUnitDeadBJ(GJO))if(GetUnitCurrentOrder(GJO)!=$D00FD)thencall UnitRemoveAbility(GJO,1093681714)call UnitAddAbility(GJO,1093681714)call SetUnitAbilityLevelSwapped(1093681714,GJO,kt)call IssuePointOrderByIdLoc(GJO,$D00FD,Sa)endifendloopendifcall RemoveLocation(sb)call RemoveLocation(Sa)set GJO=nullset sb=nullset Sa=nullendfunctionfunction TNE takes nothing returns nothingset dR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dR,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dR,Condition(function GGO))call TriggerAddAction(dR,function GHO)endfunctionfunction GKO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local integer DDE=GetUnitAbilityLevel(p5,1093744688)local unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)call SetUnitState(m5,UNIT_STATE_LIFE,1)call MNE(p5,m5,2,20)call MNE(p5,m5,1,20)call MNE(p5,m5,3,20)call GKE(oA,1093744474)call SetUnitAbilityLevel(oA,1093744474,DDE)call IssueImmediateOrderById(oA,$D02BB)set p5=nullset m5=nullset oA=nullendfunctionfunction GLO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer GMO=GetUnitLevel(m5)if GetOwningPlayer(m5)!=RX[0]and GetOwningPlayer(m5)!=GX[0]and GMO>4 thencall XIE(FLE)call HEE(GetOwningPlayer(FLE),(GetObjectName((1848656728))))endifset FLE=nullset m5=nullendfunctionfunction GPO takes nothing returns booleanif GetSpellAbilityId()==1093744688 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall GKO()elsecall GLO()endifendifreturn falseendfunctionfunction TBE takes nothing returns nothinglocal trigger t=CreateTrigger()local region regDemonicConversion=CreateRegion()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function GPO))set t=nullendfunctionfunction SZ takes nothing returns nothinglocal integer O5=0if IsUnitInGroup(GetEnumUnit(),AEV)==false thencall GroupAddUnit(AEV,GetEnumUnit())call MNE(I9V,GetEnumUnit(),1,I6V)if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(I9V,GLV)))thenset O5=GetPlayerId(GetOwningPlayer(I9V))if((hq[$F0+O5]>Bz)and(h4[16+O5]==GetEnumUnit())and(XZE(QV[O5]))and(XSE(QV[O5]))and(GetUnitLifePercent(QV[O5])>65.)and(G0[$80+O5])and(not IsUnitInRange(QV[O5],GetEnumUnit(),450.))and(kJ(GetUnitX(I9V),GetUnitY(I9V))))thenset FCV[16+O5]=GetEnumUnit()endifendifendifendfunctionfunction S0 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local group g=RUE(IAE,"g")local unit oA=RME(IAE,"Caster")local integer DDE=R1E(IAE,"Level")local real RK=R2E(IAE,"Angle")local group S1local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH thenset I9V=CreateUnit(GetOwningPlayer(oA),1747990095,GetUnitX(RME(IAE,"Hero")),GetUnitY(RME(IAE,"Hero")),0)call SetUnitScale(I9V,2.5,2.5,2.5)call KillUnit(I9V)call SetUnitPosition(RME(IAE,"Hero"),GetUnitX(oA),GetUnitY(oA))call ShowUnit((RME(IAE,"Hero")),false)call ShowUnit((RME(IAE,"Hero")),true)call SelectUnitAddForPlayer((RME(IAE,"Hero")),GetOwningPlayer((RME(IAE,"Hero"))))set FCV[GetPlayerId(GetOwningPlayer(oA))]=nullcall FWE(g)call O1E(IAE)call IRE(t)elseif GetTriggerEvalCount(t)>120 thenset FCV[GetPlayerId(GetOwningPlayer(oA))]=nullcall FWE(g)call O1E(IAE)call IRE(t)call SetUnitScale(oA,2.5,2.5,2.5)call KillUnit(oA)elseset x=GetUnitX(oA)set y=GetUnitY(oA)set S1=FYE()set AEV=gset FCV[16+GetPlayerId(GetOwningPlayer(oA))]=nullset I9V=oAset I6V=DDE*70call GroupEnumUnitsInRange(S1,x,y,$E1,Condition(function jh))call ForGroup(S1,function SZ)call FWE(S1)call SetUnitX(oA,HRE(x+$F*Cos(RK*bj_DEGTORAD)))call SetUnitY(oA,HIE(y+$F*Sin(RK*bj_DEGTORAD)))if(IsUnitInForce(oA,GLV))thenif(FCV[16+GetPlayerId(GetOwningPlayer(oA))]!=null)thencall IssueImmediateOrderById(QV[GetPlayerId(GetOwningPlayer(oA))],$D00D9)set hq[512+GetPlayerId(GetOwningPlayer(oA))]=Bz+1.elseif((h4[16+GetPlayerId(GetOwningPlayer(oA))]==QV[GetPlayerId(GetOwningPlayer(oA))])and(XZE(QV[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(QV[GetPlayerId(GetOwningPlayer(oA))],oA,550.))and(kJ(GetUnitX(oA),GetUnitY(oA)))and(XSE(QV[GetPlayerId(GetOwningPlayer(oA))])))thencall IssueImmediateOrderById(QV[GetPlayerId(GetOwningPlayer(oA))],$D00D9)endifendifendifset t=nullset g=nullset S1=nullset oA=nullreturn falseendfunctionfunction S2 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local group g=FYE()local unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real RK=H4E(x1,y1,x2,y2)local integer DDE=GetUnitAbilityLevel(FLE,1093686073)local unit oA=CreateUnit(GetOwningPlayer(FLE),1747990095,x1,y1,RK)call JAE(UX,x1,y1)call GKE(GetTriggerUnit(),1093686081)set FCV[GetPlayerId(GetOwningPlayer(FLE))]=oAcall SetUnitScale(oA,3.5,3.5,3.5)call O8E(IAE,"Caster",oA)call O4E(IAE,"Level",DDE)call RAE(IAE,"g",g)call O5E(IAE,"Angle",RK)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.025,true)call TriggerRegisterUnitEvent(t,oA,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function S0))call RemoveLocation(l)set t=nullset oA=nullset g=nullset FLE=nullset l=nullendfunctionfunction S3 takes nothing returns nothinglocal integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if FCV[i]==null thencall HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652599))elsecall SetUnitScale(FCV[i],2.5,2.5,2.5)call KillUnit(FCV[i])endifendfunctionfunction GQO takes nothing returns booleanif GetSpellAbilityId()==1093686073 thencall S2()endifif GetSpellAbilityId()==1093686081 thencall S3()endifreturn falseendfunctionfunction fwv takes nothing returns booleanif GetLearnedSkill()==1093686073 and GetUnitAbilityLevel(GetTriggerUnit(),1093686073)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall GKE(GetTriggerUnit(),1093686081)endifreturn falseendfunctionfunction EIX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GQO))set t=nullendfunctionfunction S6 takes nothing returns nothingcall MNE(GetTriggerUnit(),GetEnumUnit(),1,I6V)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))endfunctionfunction S7 takes nothing returns nothinglocal group g=FYE()local unit FLE=GetTriggerUnit()local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local integer DDE=GetUnitAbilityLevel(FLE,1093686083)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,x,y,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))call GKE(oA,1093686084)call SetUnitAbilityLevel(oA,1093686084,DDE)call IssuePointOrderById(oA,$D0270,x,y)set I6V=DDE*60call GroupEnumUnitsInRange(g,x,y,425,Condition(function jF))call ForGroup(g,function S6)call FWE(g)set oA=nullset g=nullset FLE=nullendfunctionfunction GSO takes nothing returns booleanif GetSpellAbilityId()==1093686083 thencall S7()endifreturn falseendfunctionfunction uI takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GSO))set t=nullendfunctionfunction GTO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer XOElocal integer GUOif(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=$D0222)or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetUnitInvulnerable(FLE,false)call UnitRemoveAbility(FLE,1093678162)call O1E(IAE)call IRE(t)elseset XOE=(R1E(IAE,"Level"))set GUO=(R1E(IAE,"Counter"))+1call O4E(IAE,"Counter",(GUO))if GUO>3*XOE or E4E(GetUnitX(FLE),GetUnitY(FLE),(R2E(IAE,"x")),(R2E(IAE,"y")))>125 thencall SetUnitInvulnerable(FLE,false)call UnitRemoveAbility(FLE,1093678162)call O1E(IAE)call IRE(t)endifendifset t=nullset FLE=nullreturn falseendfunctionfunction GWO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call SetUnitInvulnerable(FLE,true)call GKE(FLE,1093678162)call O8E(IAE,"Hero",FLE)call O4E(IAE,"Level",GetUnitAbilityLevel(FLE,1093686082))call O4E(IAE,"Counter",0)call O5E(IAE,"x",((GetUnitX(FLE))*1.))call O5E(IAE,"y",((GetUnitY(FLE))*1.))call TriggerRegisterTimerEvent(t,.25,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function GTO))call IBE(FLE,"4266",5.9)set t=nullset FLE=nullendfunctionfunction GYO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))call IssueImmediateOrderById(F2E,$D0224)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset F2E=nullreturn falseendfunctionfunction GZO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),($E),(F2E))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function GYO))set t=nullset F2E=nullendfunctionfunction G_O takes nothing returns booleanif GetIssuedOrderId()==852514and IsUnitIllusion(GetTriggerUnit())==false and R8E(GetTriggerUnit(),"4266")==false thencall GWO()elseif GetIssuedOrderId()==852515thencall GZO()endifreturn falseendfunctionfunction EAX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function G_O))set t=nullendfunctionfunction G0O takes unit p5,unit m5,integer DDE,integer G1O returns nothingcall MRE(p5,m5,.75+.75*DDE)if G1O==1 thencall MNE(p5,m5,1,DDE*50+50)elsecall MNE(p5,m5,1,DDE*50+50+100)endifendfunctionfunction G2O takes unit p5,unit m5 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call UnitAddAbility(oA,1093686086)call IssueTargetOrderById(oA,$D007F,m5)set oA=nullendfunctionfunction G3O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DDE=(LoadInteger(YX,(IAE),(5)))local integer G1O=(LoadInteger(YX,(IAE),($98)))local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local integer KCE=(LoadInteger(YX,(IAE),(30)))local unit m5=BYE(KCE)local lightning i7=(LoadLightningHandle(YX,(IAE),($C4)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyLightning(i7)call BWE(KCE)call O1E(IAE)call IRE(t)elsecall MoveLightning(i7,true,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))if E4E(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))>600 thencall DestroyLightning(i7)call BWE(KCE)call O1E(IAE)call IRE(t)call G0O(p5,m5,DDE,G1O)endifendifset t=nullset p5=nullset m5=nullset i7=nullreturn falseendfunctionfunction tC takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local lightning i7=AddLightning("HWPB",true,GetUnitX(UKV),GetUnitY(UKV),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))call SetLightningColor(i7,0,.7,1,1)call SaveLightningHandle(YX,(IAE),($C4),(i7))call SaveUnitHandle(YX,(IAE),(2),(UKV))call SaveInteger(YX,(IAE),(30),(B_E(GetEnumUnit())))call SaveInteger(YX,(IAE),(5),(UFV))call SaveInteger(YX,(IAE),($98),(UGV))call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,UKV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function G3O))call MNE(GetTriggerUnit(),GetEnumUnit(),1,UHV)call G2O(GetTriggerUnit(),GetEnumUnit())set t=nullset i7=nullendfunctionfunction td takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656917,x,y,0)local group g=FYE()local integer DDE=GetUnitAbilityLevel(FLE,1093686072)local real G4O=5local integer G1O=1if DDE==0 thenset DDE=GetUnitAbilityLevel(FLE,1093751120)set G4O=7set G1O=2endifcall RemoveLocation(l)call SetUnitAnimation(oA,"channel")call J0E(oA,G4O)set UKV=oAset UJV=G4Oset UHV=DDE*50+50set UFV=DDEset UGV=G1Ocall GroupEnumUnitsInRange(g,x,y,400,Condition(function LME))call ForGroup(g,function tC)call FWE(g)set g=nullset oA=nullset FLE=nullset l=nullendfunctionfunction G5O takes nothing returns booleanif GetSpellAbilityId()==1093686072 or GetSpellAbilityId()==1093751120 thencall td()endifreturn falseendfunctionfunction ENX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G5O))set t=nullendfunctionfunction G6O takes nothing returns booleanreturn GetSpellAbilityId()==1093808453endfunctionfunction G7O takes nothing returns nothingcall SetUnitX(GetEnumUnit(),L1V)call SetUnitY(GetEnumUnit(),L2V)endfunctionfunction G9O takes nothing returns nothinglocal destructable array dxlocal integer Z8Xlocal integer HVOlocal fogmodifier HEOlocal unit MIE=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local location HXOlocal real xlocal real ylocal group g=FYE()if F3E==null thenset HXO=GetSpellTargetLoc()elseset HXO=GetUnitLoc(F3E)endifset x=GetLocationX(HXO)set y=GetLocationY(HXO)set L1V=xset L2V=yif IsUnitAlly(MIE,GetOwningPlayer(F3E)) or FUE(GetSpellTargetUnit())==false thenset I9V=MIEcall GroupEnumUnitsInRange(g,x,y,$96,Condition(function K3E))call JSE(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(MIE),FOG_OF_WAR_VISIBLE,HXO,1000.),2.25+.75*GetUnitAbilityLevel(MIE,1093808453))set Z8X=1set HVO=8loopexitwhen Z8X>HVOcall JWE(CreateDestructableLoc(1110454325,XNE(HXO,150.,(I2R(Z8X)*45.)),GetRandomReal(0,360),1,0),2.25+.75*GetUnitAbilityLevel(MIE,1093808453))call ROE(GetHandleId(MIE),"AI|SproutTree"+I2S(Z8X),bj_lastCreatedDestructable)set Z8X=Z8X+1endloopendifcall RemoveLocation(HXO)call ForGroup(g,function G7O)call FWE(g)set HEO=nullset MIE=nullset F3E=nullset HXO=nullset g=nullendfunctionfunction HOO takes nothing returns nothingif GetSpellAbilityId()==1093808453 and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))endifendfunctionfunction TDE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G6O))call TriggerAddAction(t,function G9O)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function HOO)set t=nullendfunctionfunction HRO takes nothing returns booleanreturn GetSpellAbilityId()==1093677391endfunctionfunction HIO takes nothing returns nothinglocal location Mk=GetSpellTargetLoc()local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetTriggerUnit()))thencall PingMinimapEx(x,y,3,$FF,$FF,$FF,false)endifcall DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))call RemoveLocation(Mk)set Mk=nullendfunctionfunction TFE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function HRO))call TriggerAddAction(t,function HIO)set t=nullendfunctionfunction HAO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local integer XOE=(LoadInteger(YX,(FIE),(5)))local unit KDE=(LoadUnitHandle(YX,(FIE),(17)))local integer HNO=Ld(KDE)local real J6E=GetUnitState(KDE,UNIT_STATE_LIFE)local real HBO=GetUnitState(KDE,UNIT_STATE_MAX_LIFE)local real HCOif J6E/HBO>.4 thenset HCO=I2R(XOE)/4*.2*HNO+2*XOEelseset HCO=I2R(XOE)/4*.6*HNO+2*XOEendifset HCO=HCO/8.if GetTriggerEvalCount(t)>16*8. thencall DestroyEffect((LoadEffectHandle(YX,(FIE),(31))))call UnitRemoveAbility(KDE,1093685583)call FlushChildHashtable(YX,(FIE))call IRE(t)elsecall SetUnitState(KDE,UNIT_STATE_LIFE,J6E+HCO)endifset KDE=nullset t=nullreturn falseendfunctionfunction HDO takes nothing returns nothinglocal unit KDE=GetSpellTargetUnit()local unit KGE=GetTriggerUnit()local integer XOE=GetUnitAbilityLevel(KGE,1093685584)local trigger t=CreateTrigger()local integer FIE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1/8.,true)call TriggerAddCondition(t,Condition(function HAO))call SaveInteger(YX,(FIE),(5),(XOE))call SaveUnitHandle(YX,(FIE),(17),(KDE))call SaveEffectHandle(YX,(FIE),(31),(AddSpecialEffectTarget("InnerVitality.mdx",KDE,"chest")))call GKE(KDE,1093685583)call SetUnitAbilityLevel(KDE,1093685583,XOE)set KDE=nullset KGE=nullset t=nullendfunctionfunction HFO takes nothing returns booleanif GetSpellAbilityId()==1093685584 thencall HDO()endifreturn falseendfunctionfunction VMX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HFO))set t=nullendfunctionfunction HGO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer CXOlocal string HHOlocal integer HJOlocal integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local unit p5=RME(IAE,"Source")if GetTriggerEvalCount(t)>6 or GME(m5)thencall DestroyEffect(RWE(IAE,"Effect"))call O1E(IAE)set CXO=GetHandleId(p5)set HHO=I2S(GetHandleId(m5))+"NumOfSpears"set HJO=R1E(CXO,HHO)set HJO=HJO-1if HJO==0 thencall O4E(CXO,HHO,0)elsecall O4E(CXO,HHO,HJO)endifcall BWE(MDE)call IRE(t)elsecall MNE(p5,m5,1,4*GetUnitAbilityLevel(p5,1093685582))endifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction HKO takes unit p5,unit m5 returns nothinglocal integer IAE=GetHandleId(p5)local integer CXOlocal trigger tlocal integer HHO=R1E(IAE,I2S(GetHandleId(m5))+"NumOfSpears")set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function HGO))set CXO=GetHandleId(t)call O8E(CXO,"Source",p5)call O4E(CXO,"TargetIndex",B_E(m5))call O4E(IAE,I2S(GetHandleId(m5))+"NumOfSpears",HHO+1)call O9E(CXO,"Effect",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))set t=nullendfunctionfunction HLO takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),1110456369)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685582)>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,HTE(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-$F,1))call UnitRemoveAbility(GetTriggerUnit(),1110456369)call HKO(GetEventDamageSource(),GetTriggerUnit())call DisableTrigger(GetTriggeringTrigger())call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction HMO takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call O8E(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function HLO))endifset t=nullset m5=nullset p5=nullendfunctionfunction HPO takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),1093685582)>0 and(R3E(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")thencall HMO()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==$D011F)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==$D0120)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685582 thencall HMO()endifreturn falseendfunctionfunction HQO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function HPO))call O8E(GetHandleId(t),"Hero",FLE)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction HSO takes nothing returns booleanif GetLearnedSkill()==1093685582 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685582)==1 thencall HQO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction VPX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function HSO))set t=nullendfunctionfunction tQ takes nothing returns booleanlocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit FLE=RME(IAE,"Hero")local real HTO=GetUnitState(FLE,UNIT_STATE_LIFE)local real MaxHealth=GetUnitState(FLE,UNIT_STATE_MAX_LIFE)local integer HUOlocal integer HWOlocal integer DDE=GetUnitAbilityLevel(FLE,1093685585)local boolean HYO=R3E(IAE,"HasFX")if IsUnitType(FLE,UNIT_TYPE_HERO)and DDE>0 thenset HUO=R2I(100*GetUnitState(FLE,UNIT_STATE_LIFE)/GetUnitState(FLE,UNIT_STATE_MAX_LIFE))set HWO=HPE(HME(R2I(100-HUO)/7,$E),1)if GME(FLE)==false thencall MHE(FLE,DDE*HWO*2)call MME(FLE,DDE*HWO*3)if HUO<40 thenif HYO==false thencall O7E(IAE,"HasFX",true)call O9E(IAE,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",FLE,"left weapon"))call O9E(IAE,"FX2",AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",FLE,"right weapon"))endifelseif HYO thencall O7E(IAE,"HasFX",false)call DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))endifendifendifendifset FLE=nullreturn falseendfunctionfunction HZO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function tQ))call O8E(GetHandleId(t),"Hero",FLE)call O7E(GetHandleId(t),"HasFX",false)if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction H_O takes nothing returns booleanif GetLearnedSkill()==1093685585 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685585)==1 thencall HZO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction VQX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function H_O))set t=nullendfunctionfunction H0O takes nothing returns nothinglocal unit p5=GetEnumUnit()local real l4=E4E(GetUnitX(p5),GetUnitY(p5),LZV,L_V)if l4<LYV and IsUnitVisible(p5,GetOwningPlayer(L0V)) thenset LWV=GetEnumUnit()set LYV=l4endifset p5=nullendfunctionfunction H1O takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer IAE=GetUnitAbilityLevel(GetTriggerUnit(),1093752632)local integer A7O=1093678936local group glocal unit q5if IAE==0 thenset IAE=GetUnitAbilityLevel(GetTriggerUnit(),1093752633)set A7O=1093681484endifif m5==null thenset LWV=nullset L0V=p5set LYV=$F423Fset LZV=GetSpellTargetX()set L_V=GetSpellTargetY()set I9V=p5set g=FYE()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function K3E))call ForGroup(g,function H0O)call FWE(g)set m5=LWVset g=nullendifif m5!=null thenset q5=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)call GKE(q5,A7O)call SetUnitAbilityLevel(q5,A7O,IAE)call IssueTargetOrderById(q5,$D0097,m5)set q5=nullendifset p5=nullset m5=nullendfunctionfunction H2O takes nothing returns booleanif GetSpellAbilityId()==1093752632 or GetSpellAbilityId()==1093752633 thencall H1O()endifreturn falseendfunctionfunction TGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H2O))set t=nullendfunctionfunction H3O takes unit J6E,unit F3E returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093685586)local real H4Olocal real H5O=.5if MAE==0 thenset MAE=GetUnitAbilityLevel(J6E,1093747251)set H5O=.65endifcall GKE(MIE,1093685589)call SetUnitAbilityLevel(MIE,1093685589,MAE)call IssueTargetOrderById(MIE,$D006B,F3E)if MAE==1 thenset H4O=.35elseif MAE==2 thenset H4O=.3elseset H4O=.25endifcall MNE(J6E,J6E,1,GetUnitState(J6E,UNIT_STATE_LIFE)*H4O)call MNE(J6E,F3E,1,GetUnitState(F3E,UNIT_STATE_LIFE)*H5O)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",J6E,"chest"))call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",F3E,"chest"))set J6E=nullset F3E=nullset MIE=nullendfunctionfunction H6O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real N0O=(LoadReal(YX,(H2E),(23)))local real N1O=(LoadReal(YX,(H2E),(24)))local real xlocal real ylocal real H7O=GetUnitX(J6E)local real H8O=GetUnitY(J6E)local real JDE=GetUnitX(F3E)local real JFE=GetUnitY(F3E)local real BEO=Atan2(JFE-H8O,JDE-H7O)if GetUnitTypeId(J6E)==1160786520 thencall SetUnitAnimationByIndex(J6E,1)elsecall SetUnitAnimationByIndex(J6E,17)endifif GetTriggerEventId()==EVENT_WIDGET_DEATH or E4E(N0O,N1O,JDE,JFE)>$578 or G3X(J6E)thencall SetUnitPathing(J6E,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call UnitRemoveAbility(J6E,1093686100)call SetUnitTimeScale(J6E,1.)call FlushChildHashtable(YX,(H2E))call IRE(t)elseif E4E(H7O,H8O,JDE,JFE)<125 thencall SetUnitPathing(J6E,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call UnitRemoveAbility(J6E,1093686100)call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitTimeScale(J6E,1.)if F3E!=null and GME(F3E)==false thencall IssueTargetOrderById(J6E,$D000F,F3E)call H3O(J6E,F3E)endifelsecall SetUnitPathing(J6E,false)set N0O=JDEset N1O=JFEcall SaveReal(YX,(H2E),(23),((N0O)*1.))call SaveReal(YX,(H2E),(24),((N1O)*1.))set x=H7O+$F*Cos(BEO)set y=H8O+$F*Sin(BEO)call SetUnitPosition(J6E,x,y)call SetUnitFacing(J6E,BEO*bj_RADTODEG)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction H9O takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.015,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function H6O))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),(23),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(F3E))*1.))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",J6E,"hand right alternate")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",J6E,"hand left alternate")))call SetUnitPathing(J6E,false)call GKE(J6E,1093686100)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093686100,false)call SetUnitAnimationByIndex(J6E,17)call SetUnitTimeScale(J6E,3.)set J6E=nullset F3E=nullset t=nullendfunctionfunction JVO takes nothing returns booleanif(GetSpellAbilityId()==1093685586 or GetSpellAbilityId()==1093747251)and FUE(GetSpellTargetUnit())==false thencall H9O()endifreturn falseendfunctionfunction VSX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JVO))set t=nullcall HCE(1093685589)endfunctionfunction JEO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DDE=R1E(IAE,"Level")local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")if GetTriggerEvalCount(t)>$A or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(RWE(IAE,"FX"))call UnitRemoveAbility(m5,1093748533)call UnitRemoveAbility(m5,1093748531)call UnitRemoveAbility(m5,1093748534)call UnitRemoveAbility(m5,1093748532)call O1E(IAE)call IRE(t)elsecall MNE(p5,m5,1,(DDE*5+5)/ 2)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction JXO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=FNlocal unit p5=fNlocal unit m5=GetEnumUnit()if DDE==1 thencall GKE(m5,1093748533)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748533,false)elseif DDE==2 thencall GKE(m5,1093748531)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748531,false)elseif DDE==3 thencall GKE(m5,1093748534)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748534,false)elseif DDE==4 thencall GKE(m5,1093748532)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093748532,false)endifcall O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,.5,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JEO))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(m5),GetUnitY(m5)))set t=nullset p5=nullset m5=nullendfunctionfunction JOO takes unit p5,unit m5 returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093685048)local real x=GetUnitX(m5)local real y=GetUnitY(m5)local group g=FYE()local group g2=FYE()set FN=DDEset fN=p5set I9V=p5call GroupEnumUnitsInRange(g,x,y,$C8,Condition(function L1E))call GroupEnumUnitsInRange(g2,x,y,$C8,Condition(function LEE))call GroupAddGroup(g2,g)call ForGroup(g,function JXO)call FWE(g)call FWE(g2)set t=nullset g=nullset g2=nullendfunctionfunction JRO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE) or GetUnitTypeId(m5)==1970107511 or GetUnitTypeId(m5)==1700946284)and R3E(GetHandleId(p5),"LiquidFire|Active") thencall JOO(p5,m5)call O7E(GetHandleId(p5),"LiquidFire|Active",false)call O5E(GetHandleId(p5),"LiquidFire|LastUsed",TimerGetElapsed(K)*1.)endifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction JIO takes nothing returns booleanlocal trigger tlocal integer IAElocal unit m5local unit p5if GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"LiquidAttacker")and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false thenset t=CreateTrigger()set IAE=GetHandleId(t)set m5=GetTriggerUnit()set p5=GetAttacker()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function JRO))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)set m5=nullset p5=nullset t=nullendifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction JAO takes nothing returns booleancall O7E(GetHandleId(GetTriggerUnit()),"LiquidFire|Active",false)call O5E(GetHandleId(GetTriggerUnit()),"LiquidFire|LastUsed",TimerGetElapsed(K)*1.)call UnitRemoveAbility(GetTriggerUnit(),1093748291)call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())return falseendfunctionfunction JNO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real D3E=(TimerGetElapsed(K))local integer DDE=GetUnitAbilityLevel(FLE,1093685048)local real B8O=R2E(GetHandleId(FLE),"LiquidFire|LastUsed")local boolean JDX=R3E(GetHandleId(FLE),"LiquidFire|Active")if D3E-B8O>25-DDE*5 and JDX==false and GME(FLE)==false thencall O7E(GetHandleId(FLE),"LiquidFire|Active",true)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JAO))call GKE(FLE,1093748291)elseif JDX==false thencall UnitRemoveAbility(FLE,1093748291)endifset t=nullset FLE=nullreturn falseendfunctionfunction JBO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()local integer IAE=GetHandleId(t)local integer CXO=GetHandleId(t2)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function JNO))call O8E(IAE,"Hero",FLE)call O5E(IAE,"LiquidFire|LastUsed",0)call JEE(t2,EVENT_PLAYER_UNIT_ATTACKED)call O8E(CXO,"LiquidAttacker",FLE)call TriggerAddCondition(t2,Condition(function JIO))if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tset Aj[GetPlayerId(GetOwningPlayer(FLE))]=t2endifset FLE=nullset t=nullset t2=nullendfunctionfunction JCO takes nothing returns booleanif GetLearnedSkill()==1093685048 and GetUnitAbilityLevel(GetTriggerUnit(),1093685048)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall JBO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction SQE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function JCO))set t=nullendfunctionfunction JDO takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns booleanlocal real JFO=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)local real JGO=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)local real JHO=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)return(JFO*JGO>0)and(JHO*JGO>0)endfunctionfunction JJO takes nothing returns booleanlocal real JKO=I6Vlocal real JLO=I7Vlocal real JMO=I8Vlocal real JPO=Zllocal real JQO=vLlocal real JSO=eLreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and JDO(JKO,JLO,JMO,JPO,JQO,JSO,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))endfunctionfunction JTO takes real JUO,real JFO,real JGO returns nothinglocal real JHO=550local real JWO=$C8local real JYO=$FAlocal real JZO=Asin((JYO-JWO)/ JHO)local real x=JWO/ Sin(JZO)local real y=(JHO+JYO+x)*Tan(JZO)local real JKO=JFO+x*Cos((JUO-$B4)*bj_DEGTORAD)local real JLO=JGO+x*Sin((JUO-$B4)*bj_DEGTORAD)local real JMO=(JFO+(JHO+JYO)*Cos(JUO*bj_DEGTORAD))+y*Cos((JUO-90)*bj_DEGTORAD)local real JPO=(JGO+(JHO+JYO)*Sin(JUO*bj_DEGTORAD))+y*Sin((JUO-90)*bj_DEGTORAD)local real JQO=(JFO+(JHO+JYO)*Cos(JUO*bj_DEGTORAD))+y*Cos((JUO+90)*bj_DEGTORAD)local real JSO=(JGO+(JHO+JYO)*Sin(JUO*bj_DEGTORAD))+y*Sin((JUO+90)*bj_DEGTORAD)set I6V=JKOset I7V=JLOset I8V=JMOset Zl=JPOset vL=JQOset eL=JSOendfunctionfunction J_O takes nothing returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(MIE,1093685057)call IssueTargetOrderById(MIE,$D0102,GetEnumUnit())set MIE=nullendfunctionfunction J0O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local real Y5=R2E(IAE,"TargetX")local real Z5=R2E(IAE,"TargetY")local integer DDE=R1E(IAE,"Level")local unit MIEif GetTriggerEvalCount(t)>1 thencall SetUnitAnimation(FLE,"stand")call O1E(IAE)call IRE(t)elsecall SetUnitAnimation(FLE,"spell")set MIE=CreateUnit(p,1697656901,x,y,0)call GKE(MIE,1093685059)call SetUnitAbilityLevel(MIE,1093685059,DDE)call IssuePointOrderById(MIE,$D0250,Y5,Z5)endifset t=nullset p=nullset FLE=nullset MIE=nullreturn falseendfunctionfunction J1O takes unit u,player p,integer DDE,location l,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call RRE(IAE,"p",p)call O5E(IAE,"x",(x)*1.)call O5E(IAE,"y",(y)*1.)call O5E(IAE,"TargetX",GetLocationX(l)*1.)call O5E(IAE,"TargetY",GetLocationY(l)*1.)call O4E(IAE,"Level",DDE)call O8E(IAE,"Hero",u)call TriggerRegisterTimerEvent(t,.3,true)call TriggerAddCondition(t,Condition(function J0O))set t=nullendfunctionfunction J2O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093685047)local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local location llocal unit MIElocal group g=FYE()if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()elseset l=GetUnitLoc(GetSpellTargetUnit())endifcall JTO(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)call GroupEnumUnitsInRange(g,x,y,$7D0,Condition(function JJO))call ForGroup(g,function J_O)call FWE(g)set MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,x,y,0)call GKE(MIE,1093685058)call SetUnitAbilityLevel(MIE,1093685058,DDE)call IssuePointOrderById(MIE,$D0264,GetLocationX(l),GetLocationY(l))call J1O(FLE,GetOwningPlayer(FLE),DDE,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))call RemoveLocation(l)set FLE=nullset l=nullset g=nullset MIE=nullendfunctionfunction J3O takes nothing returns booleanif GetSpellAbilityId()==1093685047 thencall J2O()endifreturn falseendfunctionfunction SPE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J3O))call HCE(1093685058)call HCE(1093685059)call HCE(1093685057)set t=nullendfunctionfunction TD takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetDyingUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))!=nullendfunctionfunction Te takes nothing returns booleanreturn GetUnitTypeId(GetDyingUnit())==1697657173endfunctionfunction TE takes nothing returns nothinglocal unit u=GetDyingUnit()local integer sr=GetUnitUserData(u)local group glocal unit Tflocal unit TFlocal boolexpr hP=Condition(function TD)set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),$AF,hP)loopset TF=FirstOfGroup(g)exitwhen(TF==null)call GroupRemoveUnit(g,TF)set Tf=CreateUnit(GetOwningPlayer(u),1697656901,GetUnitX(TF),GetUnitY(TF),0)call GKE(Tf,1093685062)call SetUnitAbilityLevel(Tf,1093685062,sr)call IssueTargetOrderById(Tf,$D007F,TF)call UnitApplyTimedLife(Tf,1112820806,1)call GKE(Tf,1097625443)endloopcall FWE(g)call DestroyBoolExpr(hP)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(u),GetUnitY(u)))set u=nullset g=nullset Tf=nullset TF=nullendfunctionfunction Tg takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=GetUnitAbilityLevel(FLE,1093685046)local real x=R2E(IAE,"IcePathX")local real y=R2E(IAE,"IcePathY")local real RK=R2E(IAE,"IcePathAngle")local unit Tflocal integer Rd=R1E(IAE,"IcePath|Counter")set x=x+100*Cos(RK*bj_DEGTORAD)set y=y+100*Sin(RK*bj_DEGTORAD)call O5E(IAE,"IcePathX",x)call O5E(IAE,"IcePathY",y)set Tf=CreateUnit(GetOwningPlayer(FLE),1697657173,x,y,GetRandomReal(0,359))call UnitApplyTimedLife(Tf,1112820806,.5)call SetUnitUserData(Tf,DDE)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",x,y))set Rd=Rd+1call O4E(IAE,"IcePath|Counter",Rd)if Rd>=$A thencall PauseTimer(t)call O1E(IAE)call DestroyTimer(t)endifset t=nullset FLE=nullset Tf=nullendfunctionfunction J4O takes nothing returns booleanreturn GetSpellAbilityId()==1093685046endfunctionfunction J5O takes nothing returns nothinglocal timer t=CreateTimer()local unit FLE=GetTriggerUnit()local location sy=GetSpellTargetLoc()local location TH=GetUnitLoc(FLE)local integer IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call O5E(IAE,"IcePathX",GetUnitX(FLE))call O5E(IAE,"IcePathY",GetUnitY(FLE))call O5E(IAE,"IcePathAngle",AngleBetweenPoints(TH,sy))call O4E(IAE,"IcePath|Counter",0)call RemoveLocation(TH)call RemoveLocation(sy)call TimerStart(t,.05,true,function Tg)set t=nullset FLE=nullset TH=nullset sy=nullendfunctionfunction SSE takes nothing returns nothinglocal trigger t=CreateTrigger()set EJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function Te))call TriggerAddAction(t,function TE)call TriggerRegisterAnyUnitEventBJ(EJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(EJ,Condition(function J4O))call TriggerAddAction(EJ,function J5O)set t=nullendfunctionfunction J6O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local real a=R2E(IAE,"a")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local integer id=GetPlayerId(GetOwningPlayer(p5))local integer CGX=GetTriggerEvalCount(t)local real J7O=x+$96*CGX*Cos(a)local real J8O=y+$96*CGX*Sin(a)local integer J9O=6if GetUnitAbilityLevel(p5,1093685045)==0 thenset J9O=9endifif GetPlayerController(GetOwningPlayer(HBV[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(HBV[GetPlayerId(GetOwningPlayer(p5))],1093685061)call SetUnitAbilityLevel(HBV[GetPlayerId(GetOwningPlayer(p5))],1093685061,DDE)endifcall IssuePointOrderById(HBV[id],$D0208,J7O,J8O)if CGX==(J9O)thencall O1E(IAE)call IRE(t)call SetUnitAnimation(p5,"stand")endifset t=nullset p5=nullreturn falseendfunctionfunction KVO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local integer DDE=GetUnitAbilityLevel(p5,1093685045)local integer o6=1093685061if DDE==0 thenset DDE=GetUnitAbilityLevel(p5,1093747249)set o6=1093747250endifcall RemoveLocation(l)call SetUnitAnimation(p5,"spell")set HBV[GetPlayerId(GetOwningPlayer(p5))]=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)call GKE(HBV[GetPlayerId(GetOwningPlayer(p5))],o6)call SetUnitAbilityLevel(HBV[GetPlayerId(GetOwningPlayer(p5))],o6,DDE)call O4E(IAE,"Level",DDE)call O5E(IAE,"x",(GetUnitX(p5))*1.)call O5E(IAE,"y",(GetUnitY(p5))*1.)call O5E(IAE,"a",(a)*1.)call O8E(IAE,"Source",p5)if o6==1093685061 thencall TriggerRegisterTimerEvent(t,.1,true)elsecall TriggerRegisterTimerEvent(t,.05,true)endifcall TriggerAddCondition(t,Condition(function J6O))set t=nullset p5=nullset l=nullendfunctionfunction KEO takes nothing returns booleanif GetSpellAbilityId()==1093685045 or GetSpellAbilityId()==1093747249 thencall KVO()endifreturn falseendfunctionfunction STE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KEO))call HCE(1093685061)set t=nullendfunctionfunction KXO takes nothing returns booleanreturn GetUnitTypeId(GetSummonedUnit())==1865429059 or GetUnitTypeId(GetSummonedUnit())==1865429319 or GetUnitTypeId(GetSummonedUnit())==1865429320 or GetUnitTypeId(GetSummonedUnit())==1865429321endfunctionfunction KOO takes nothing returns nothingcall SetUnitAbilityLevelSwapped(1093678392,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093678135,GetSummoningUnit()))endfunctionfunction THE takes nothing returns nothingset dT=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(dT,Condition(function KXO))call TriggerAddAction(dT,function KOO)endfunctionfunction To takes unit FLE,unit m5 returns nothinglocal real a=GetRandomReal(0,360)local real x=GetUnitX(m5)+50*Cos(a*bj_DEGTORAD)local real y=GetUnitY(m5)+50*Sin(a*bj_DEGTORAD)call SetUnitPosition(FLE,x,y)call SetUnitFacing(FLE,bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(FLE),GetUnitX(m5)-GetUnitX(FLE)))call SetUnitAnimation(FLE,"Attack")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",FLE,"chest"))call MNE(FLE,m5,2,GetRandomReal($AF,$FA))call IssueTargetOrderById(FLE,$D000F,m5)endfunctionfunction KRO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit m5=RME(IAE,"Target")call To(FLE,m5)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset m5=nullreturn falseendfunctionfunction KIO takes unit FLE returns nothinglocal group g=FYE()set I9V=FLEcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),450,Condition(function K7E))set I9V=GroupPickRandomUnit(g)if I9V!=null thencall To(FLE,I9V)endifcall FWE(g)set g=nullendfunctionfunction KAO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit MIE=RME(IAE,"Caster")local integer Tq=R1E(IAE,"Limit")local integer TQ=R1E(IAE,"BFLevel")local integer Rd=R1E(IAE,"Counter")local unit Trcall SetUnitPosition(MIE,GetUnitX(FLE),GetUnitY(FLE))if Rd>Tq thencall KillUnit(MIE)call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093678407,true)call SetUnitPathing(FLE,true)call SetUnitInvulnerable(FLE,false)call IXE(FLE,"Omnislashing")call SetUnitVertexColor(FLE,$FF,$FF,$FF,$FF)elsecall O4E(IAE,"Counter",Rd+1)call KIO(FLE)if I9V==null thencall KillUnit(MIE)call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093678407,true)call SetUnitPathing(FLE,true)call SetUnitInvulnerable(FLE,false)call IXE(FLE,"Omnislashing")call SetUnitVertexColor(FLE,$FF,$FF,$FF,$FF)endifendifset t=nullset FLE=nullset Tr=nullset MIE=nullreturn falseendfunctionfunction KNO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093684529)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer TQ=GetUnitAbilityLevel(FLE,1093678407)local player p=GetOwningPlayer(FLE)local integer KBO=3local unit MIE=CreateUnit(GetOwningPlayer(FLE),1865429060,GetUnitX(FLE),GetUnitY(FLE),0)if DDE==0 thenset DDE=GetUnitAbilityLevel(FLE,1093747032)if DDE==1 thenset KBO=6elseif DDE==2 thenset KBO=9elseif DDE==3 thenset KBO=$Cendifelseif DDE==2 thenset KBO=6elseif DDE==3 thenset KBO=9endifcall SetPlayerAbilityAvailable(p,1093678407,false)call SetUnitVertexColor(FLE,$FF,$FF,$FF,125)call SetUnitPathing(FLE,false)call SetUnitInvulnerable(FLE,true)call IVE(FLE,"Omnislashing")call O8E(IAE,"Hero",FLE)call O8E(IAE,"Target",m5)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function KRO))set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",MIE)call O4E(IAE,"Limit",KBO)call O4E(IAE,"BFLevel",TQ)call O4E(IAE,"Counter",2)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",FLE,"weapon"))call TriggerRegisterTimerEvent(t,.4,true)call TriggerAddCondition(t,Condition(function KAO))set FLE=nullset m5=nullset t=nullset p=nullendfunctionfunction KCO takes nothing returns booleanif GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 thencall KNO()endifreturn falseendfunctionfunction KDO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitAnimationByIndex(J6E,4)set t=nullset J6E=nullreturn falseendfunctionfunction KFO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function KDO))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction KGO takes nothing returns booleanif GetSpellAbilityId()==1093684529 or GetSpellAbilityId()==1093747032 thencall KFO()endifreturn falseendfunctionfunction TJE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KCO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function KGO))set t=nullendfunctionfunction KHO takes integer DDE returns integerif DDE==1 thenreturn 1093742682elseif DDE==2 thenreturn 1093742897elseif DDE==3 thenreturn 1093742681elseif DDE==4 thenreturn 1093742896endifreturn 0endfunctionfunction KJO takes integer DDE returns integerif DDE==1 thenreturn 1110456653elseif DDE==2 thenreturn 1110456654elseif DDE==3 thenreturn 1110456655elseif DDE==4 thenreturn 1110456652endifreturn 0endfunctionfunction KKO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local real xN=R2E(IAE,"LastX")local real xo=R2E(IAE,"LastY")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))local real vB=(.0003+DDE*.00005)*d*GetUnitState(m5,UNIT_STATE_MAX_MANA)local integer QI=GetTriggerEvalCount(t)local unit MIEif FHE(m5) thenset vB=0endifif d>300 thenset vB=0endifif vB>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",m5,"chest"))endifif vB>0 thencall SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-vB)endifcall O5E(IAE,"LastX",x)call O5E(IAE,"LastY",y)if GetTriggerEventId()==EVENT_UNIT_DEATH or QI==(DDE+3)*$A thencall UnitRemoveAbility(m5,KHO(DDE))call UnitRemoveAbility(m5,KJO(DDE))call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseif GetUnitState(m5,UNIT_STATE_MANA)<1 thencall MRE(RME(IAE,"Source"),m5,1+.3*DDE)set MIE=nullcall UnitRemoveAbility(m5,KHO(DDE))call UnitRemoveAbility(m5,KJO(DDE))call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction KLO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093742680)call GKE(m5,KHO(DDE))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)call O5E(IAE,"LastX",GetUnitX(m5))call O5E(IAE,"LastY",GetUnitY(m5))call O9E(IAE,"FX",AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",m5,"chest"))call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function KKO))set p5=nullset m5=nullset t=nullendfunctionfunction KMO takes nothing returns booleanif GetSpellAbilityId()==1093742680 and FUE(GetSpellTargetUnit())==false thencall KLO()endifreturn falseendfunctionfunction TLE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KMO))set t=nullendfunctionfunction KPO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real Tw=R2E(IAE,"Mana")call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+Tw)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",m5,"origin"))call O1E(IAE)call IRE(t)set m5=nullset t=nullreturn falseendfunctionfunction KQO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Target",m5)call O5E(IAE,"Mana",75*GetUnitAbilityLevel(FLE,1093742898))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function KPO))set t=nullset FLE=nullset m5=nullendfunctionfunction KSO takes nothing returns booleanif GetSpellAbilityId()==1093742898 thencall KQO()endifreturn falseendfunctionfunction TME takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KSO))set t=nullendfunctionfunction KTO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit KUO=(LoadUnitHandle(YX,(H2E),(19)))local real BEO=(LoadReal(YX,(H2E),($D)))local integer KWO=(LoadInteger(YX,(H2E),(34)))local real KYO=GetUnitX(KUO)-50*Cos(BEO)local real KZO=GetUnitY(KUO)-50*Sin(BEO)local unit MIE=CreateUnit(GetOwningPlayer(KUO),1697656901,KYO,KZO,0)local real x=GetUnitX(MIE)+50*Cos(BEO)local real y=GetUnitY(MIE)+50*Sin(BEO)local real x2=x+(300+50*KWO)*Cos(BEO)local real y2=y+(300+50*KWO)*Sin(BEO)call GKE(MIE,1093679159)call SetUnitAbilityLevel(MIE,1093679159,KWO)call IssuePointOrderById(MIE,$D0264,x,y)call KillUnit(KUO)call FlushChildHashtable(YX,(H2E))call IRE(t)set MIE=nullset t=nullreturn falseendfunctionfunction K_O takes unit KUO,integer KWO,real BEO returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function KTO))call SaveUnitHandle(YX,(H2E),(19),(KUO))call SaveReal(YX,(H2E),($D),((BEO)*1.))call SaveInteger(YX,(H2E),(34),(KWO))set t=nullendfunctionfunction K0O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=R1E(IAE,"Count")local integer K1O=iX-1local real RK=R2E(IAE,"Angle")local unit oA=RME(IAE,"Caster")local unit FLE=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")local integer K2O=2+DDE*2local boolean K3O=R3E(IAE,"SpiritCast")local unit K4Oif GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST thencall O4E(IAE,"Count",iX+1)endifcall SetUnitScale(oA,I2R(100+20*K1O)/ 100,I2R(100+20*K1O)/ 100,I2R(100+20*K1O)/ 100)if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and K3O==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093743153)or K1O==K2O thenif K3O thenset K4O=RME(IAE,"Dummy")call ShowUnit(K4O,false)call UnitApplyTimedLife(K4O,1112820806,1)endifcall O1E(IAE)call IRE(t)if(LoadInteger(YX,(GetHandleId(FLE)),(704)))==0 or(LoadInteger(YX,(GetHandleId(FLE)),(704)))==1093679157 thencall SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093679157,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093743153,false)call UnitRemoveAbility(FLE,1093743153)call K_O(oA,K1O,RK)endifset oA=CreateUnit(GetOwningPlayer(oA),1747990093,GetUnitX(oA)+$96*(K1O)*Cos(RK),GetUnitY(oA)+$96*(K1O)*Sin(RK),0)call UnitApplyTimedLife(oA,1112820806,7)set t=nullset oA=nullset FLE=nullset K4O=nullreturn falseendfunctionfunction K5O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")call IssueImmediateOrderById(FLE,$D0004)call O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction K6O takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real RK=Atan2(GetLocationY(l)-GetUnitY(FLE),GetLocationX(l)-GetUnitX(FLE))local real xlocal real ylocal unit oAlocal unit K4Olocal boolean K3O=falseif GetLocationY(l)==GetUnitY(FLE)and GetLocationX(l)==GetUnitX(FLE)thenset RK=GetUnitFacing(FLE)*bj_DEGTORADendifset x=GetUnitX(FLE)+$96*Cos(RK)set y=GetUnitY(FLE)+$96*Sin(RK)set oA=CreateUnit(GetOwningPlayer(FLE),1966092362,x,y,RK*bj_RADTODEG)call RemoveLocation(l)if GetUnitTypeId(FLE)==1211119192 or GetUnitTypeId(FLE)==1211119193 or GetUnitTypeId(FLE)==1211119191 thenset K3O=trueendifcall O7E(IAE,"SpiritCast",K3O)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",oA)call O4E(IAE,"Count",1)call O4E(IAE,"Level",GetUnitAbilityLevel(FLE,1093679157))call O5E(IAE,"Angle",RK)call TriggerRegisterTimerEvent(t,.5,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function K0O))if K3O thenset K4O=CreateUnit(GetOwningPlayer(FLE),1747990106,GetUnitX(FLE),GetUnitY(FLE),RK*bj_RADTODEG)call SetUnitX(K4O,GetUnitX(FLE))call SetUnitY(K4O,GetUnitY(FLE))call SetUnitAnimation(K4O,"spell")call QueueUnitAnimation(K4O,"spell")call QueueUnitAnimation(K4O,"spell")call SetUnitVertexColor(K4O,$FF,$FF,$FF,75)call O8E(IAE,"Dummy",K4O)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function K5O))call O8E(IAE,"Hero",FLE)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093679157,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093743153,true)call KOE(FLE,1093743153,1,6)set t=nullset FLE=nullset oA=nullset K4O=nullset l=nullendfunctionfunction K7O takes nothing returns booleanif GetSpellAbilityId()==1093679157 thencall K6O()endifreturn falseendfunctionfunction TPE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K7O))set t=nullendfunctionfunction K8O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real x1local real y1local real x2local real y2if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and B4E(GetOwningPlayer(GetEventDamageSource())))thencall DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))call O1E(IAE)call IRE(t)elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH thenset x1=GetUnitX(p5)set y1=GetUnitY(p5)set x2=GetUnitX(m5)set y2=GetUnitY(m5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))call IBE(m5,"4410",1)call SetUnitPosition(m5,GetUnitX(p5),GetUnitY(p5))call DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))call O1E(IAE)call IRE(t)call CZE(m5)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction K9O takes nothing returns nothinglocal unit p5=GetEnumUnit()local real l4=E4E(GetUnitX(p5),GetUnitY(p5),L5V,L6V)if l4<L4V thenset L3V=GetEnumUnit()set L4V=l4endifset p5=nullendfunctionfunction LVO takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local trigger tlocal integer IAElocal real Hklocal group gif m5==null thenset L3V=nullset L4V=$F423Fset L5V=GetSpellTargetX()set L6V=GetSpellTargetY()set I9V=p5set g=FYE()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function LTE))call GroupRemoveUnit(g,p5)call ForGroup(g,function K9O)call FWE(g)set m5=L3Vset g=nullendifif GetSpellAbilityId()==1093742677 thenset Hk=5elseif GetSpellAbilityId()==1093742937 thenset Hk=4elseif GetSpellAbilityId()==1093742938 thenset Hk=3elseif GetSpellAbilityId()==1093750321 thenset Hk=3endifif m5!=null thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function K8O))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O9E(IAE,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",p5,"origin"))call O9E(IAE,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",m5,"origin"))endifset m5=nullset p5=nullset t=nullendfunctionfunction LEO takes nothing returns booleanif GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 thencall LVO()endifreturn falseendfunctionfunction LXO takes nothing returns booleanif GetSpellAbilityId()==1093742677 or GetSpellAbilityId()==1093742937 or GetSpellAbilityId()==1093742938 thenif GetSpellTargetUnit()!=null and R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),D1E(1848652600))endifendifreturn falseendfunctionfunction TQE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LEO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function LXO))set t=nullendfunctionfunction LOO takes nothing returns nothinglocal unit m5=GetEnumUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real a=Atan2(y-tN,x-SN)set x=HRE(x+25*Cos(a))set y=HIE(y+25*Sin(a))call JRE(x,y,$96)call SetUnitX(m5,x)call SetUnitY(m5,y)set m5=nullendfunctionfunction LRO takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit MIE=CreateUnit(AXV,1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(MIE,1093742679)call SetUnitAbilityLevel(MIE,1093742679,pN)call IssueTargetOrderById(MIE,$D0269,m5)set m5=nullset MIE=nullendfunctionfunction LIO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local real t5=R2E(IAE,"SourceX")local real w5=R2E(IAE,"SourceY")local integer o6=R1E(IAE,"AbilityID")local group g=RUE(IAE,"g")local integer CGX=GetTriggerEvalCount(t)set SN=t5set tN=w5call ForGroup(g,function LOO)if CGX==$A thenif o6==1093742936 thenset pN=1elseif o6==1093742934 thenset pN=2elseset pN=3endifset AXV=pcall ForGroup(g,function LRO)call FWE(g)call O1E(IAE)call IRE(t)endifset t=nullset p=nullset g=nullreturn falseendfunctionfunction LAO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local real t5=R2E(IAE,"SourceX")local real w5=R2E(IAE,"SourceY")local integer o6=R1E(IAE,"AbilityID")local group g=RUE(IAE,"g")call IRE(t)call O1E(IAE)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function LIO))call RRE(IAE,"p",p)call O5E(IAE,"SourceX",t5*1.)call O5E(IAE,"SourceY",w5*1.)call RAE(IAE,"g",g)call O4E(IAE,"AbilityID",o6)set t=nullset p=nullset g=nullreturn falseendfunctionfunction LNO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local group g=FYE()local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call KillUnit(CreateUnit(GetOwningPlayer(p5),1747990096,x,y,0))set I9V=p5call GroupEnumUnitsInRange(g,x,y,700,Condition(function LAE))call TriggerRegisterTimerEvent(t,.4,false)call TriggerAddCondition(t,Condition(function LAO))call RRE(IAE,"p",GetOwningPlayer(GetTriggerUnit()))call O5E(IAE,"SourceX",(x)*1.)call O5E(IAE,"SourceY",(y)*1.)call RAE(IAE,"g",g)call O4E(IAE,"AbilityID",GetSpellAbilityId())call RemoveLocation(l)set l=nullset t=nullset g=nullset p5=nullendfunctionfunction LBO takes nothing returns booleanif GetSpellAbilityId()==1093742936 or GetSpellAbilityId()==1093742934 or GetSpellAbilityId()==1093742935 thencall LNO()endifreturn falseendfunctionfunction TSE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LBO))set t=nullendfunctionfunction LCO takes unit u returns booleanreturn GetUnitTypeId(u)==1966092345endfunctionfunction LDO takes nothing returns booleanif LCO(GetFilterUnit())or LHE()thenif LoadInteger(YX,tl,GetHandleId(GetFilterUnit()))<I5V thenreturn trueendifendifreturn falseendfunctionfunction LFO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer LGO=R1E(IAE,"LucentLevel")local integer Tq=R1E(IAE,"Limit")local integer LHO=R1E(IAE,"TargetLimit")local group g=FYE()local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local unit m5local real r1=GetRandomInt($C8,350)local real r2=GetRandomInt($C8,350)if GetRandomInt(1,2)==1 thenset r1=-1*r1set r2=-1*r2endifset I9V=FLEset I5V=LHOset tl=GetHandleId(t)call GroupEnumUnitsInRange(g,x,y,700,Condition(function LDO))set m5=GroupPickRandomUnit(g)call FWE(g)if GME(FLE)==false and m5!=null and LCO(m5)==false thencall SaveInteger(YX,tl,GetHandleId(m5),LoadInteger(YX,tl,GetHandleId(m5))+1)call H0E("effects\\Eclipse.mdx",m5,"origin",3)if GetPlayerController(GetOwningPlayer(FLE))==MAP_CONTROL_COMPUTER thencall MNE(FLE,m5,1,300)elsecall MNE(FLE,m5,1,LGO*75)endifelseif GME(FLE)==false thenset x=x+GetRandomInt(-350,350)set y=y+GetRandomInt(-350,350)call H1E("effects\\Eclipse.mdx",x,y,1.5)endifif(GetTriggerEvalCount(t)+1)==Tq thencall O1E(IAE)call IRE(t)endifset t=nullset FLE=nullset g=nullset m5=nullreturn falseendfunctionfunction LJO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer Tqlocal integer LKO=GetUnitAbilityLevel(F2E,1093678130)local integer LHOlocal unit MIE=CreateUnit(GetOwningPlayer(F2E),1697656901,GetUnitX(F2E),GetUnitY(F2E),0)if LKO==0 and GetUnitTypeId(F2E)!=1160785973 thenset LKO=4endifcall GKE(MIE,1093751862)if GetSpellAbilityId()==1093678388 thenset Tq=1+3*GetUnitAbilityLevel(F2E,1093678388)set LHO=4elseset Tq=4*GetUnitAbilityLevel(F2E,1093677141)set LHO=6endifcall O4E(IAE,"LucentLevel",LKO)call O4E(IAE,"Limit",Tq)call O4E(IAE,"TargetLimit",LHO)call O8E(IAE,"Hero",F2E)call TriggerRegisterTimerEvent(t,.6,true)call TriggerAddCondition(t,Condition(function LFO))call TriggerEvaluate(t)call IssueImmediateOrderById(MIE,$D028D)set t=nullset F2E=nullset MIE=nullendfunctionfunction LLO takes nothing returns booleanif GetSpellAbilityId()==1093678388 or GetSpellAbilityId()==1093677141 thencall LJO()endifreturn falseendfunctionfunction TTE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LLO))set t=nullendfunctionfunction LMO takes nothing returns booleanif GetLearnedSkill()==1093678129 thencall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382378855,GetUnitAbilityLevel(GetTriggerUnit(),1093678129))elseif GetLearnedSkill()==1093678642 thencall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889801,1)endifreturn falseendfunctionfunction pX takes nothing returns nothingset du=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(du,Condition(function LMO))endfunctionfunction LPO takes nothing returns booleanreturn GetSpellAbilityId()==1093684053endfunctionfunction LQO takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction LSO takes nothing returns nothingcall GKE(GetEnumUnit(),1093684052)call SetUnitAbilityLevel(GetEnumUnit(),1093684052,pe)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))endfunctionfunction LUO takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),1093684052)endfunctionfunction uD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local group P3E=RUE(IAE,"Group")call ForGroup(P3E,function LUO)call FWE(P3E)call Mv(t)set t=nullset P3E=nullendfunctionfunction LWO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local boolexpr hP=Condition(function LQO)local group P3E=FYE()local timer t=CreateTimer()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(FLE,1093684053)local real G4O=$Bset pe=DDEcall GroupEnumUnitsInRange(P3E,0,0,9999,hP)call ForGroup(P3E,function LSO)call DestroyBoolExpr(hP)call RAE(IAE,"Group",P3E)call TimerStart(t,G4O,false,function uD)set FLE=nullset hP=nullset P3E=nullset t=nullendfunctionfunction VVX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LPO))call TriggerAddAction(t,function LWO)set t=nullendfunctionfunction uE takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))endfunctionfunction uf takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit m5=RME(IAE,"Target")call MNE(FLE,m5,1,GetUnitAbilityLevel(FLE,1093684054)*37.5)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset m5=nullreturn falseendfunctionfunction uF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local group g=FYE()local unit m5=RME(IAE,"Target")call DestroyEffect(RWE(IAE,"FX"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",m5,"origin"))call O1E(IAE)call IRE(t)call FWE(g)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Target",m5)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function uf))set t=nullset FLE=nullset g=nullset m5=nullreturn falseendfunctionfunction ug takes nothing returns nothingcall MNE(I9V,GetEnumUnit(),1,I6V)endfunctionfunction uG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local group g=RUE(IAE,"g")set I6V=GetUnitAbilityLevel(FLE,1093684054)*75set I9V=FLEcall ForGroup(g,function ug)call FWE(g)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset g=nullreturn falseendfunctionfunction uh takes nothing returns nothinglocal real in=Ma(GetTriggerUnit(),GetEnumUnit())if in>650 thenelsecall GroupAddUnit(AEV,GetEnumUnit())endifendfunctionfunction LYO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local group g=FYE()local unit m5set I9V=FLEset AEV=FYE()call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),900,Condition(function LIE))call ForGroup(g,function uh)call FWE(g)set g=AEVcall ForGroup(g,function uE)call RAE(IAE,"g",g)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function uG))set I9V=FLEset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),$C8,Condition(function LIE))set m5=GroupPickRandomUnit(g)call FWE(g)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Target",m5)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",FLE,"origin"))call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function uF))set t=nullset g=nullset FLE=nullset m5=nullendfunctionfunction LZO takes nothing returns booleanif GetSpellAbilityId()==1093684054 thencall LYO()endifreturn falseendfunctionfunction VEX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LZO))set t=nullendfunctionfunction L_O takes nothing returns booleanreturn GetSpellAbilityId()==1093684280endfunctionfunction uj takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=nullendfunctionfunction uJ takes real uk,real uK,real iN,real io returns integerlocal real in=SquareRoot((iN-uk)*(iN-uk)+(io-uK)*(io-uK))return HME(R2I(in/$96),$A)endfunctionfunction ul takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit IJ=RME(IAE,"Projectile")local real hN=R2E(IAE,"TargetX")local real ho=R2E(IAE,"TargetY")local real RK=R2E(IAE,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real Il=HRE(GetUnitX(IJ)+30*Cos(RK))local real IL=HIE(GetUnitY(IJ)+30*Sin(RK))local boolexpr hP=Condition(function uj)local group P3E=FYE()local unit oAlocal unit m5local real uklocal real uKcall SetUnitX(IJ,Il)call SetUnitY(IJ,IL)set ZX=FLEcall GroupEnumUnitsInRange(P3E,Il,IL,$8C,hP)set m5=FirstOfGroup(P3E)call FWE(P3E)call DestroyBoolExpr(hP)if m5!=null thenif IsUnitType(m5,UNIT_TYPE_HERO) thenset H1V[GetPlayerId(GetOwningPlayer(FLE))]=H1V[GetPlayerId(GetOwningPlayer(FLE))]+1call PGE("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(FLE))),H1V[GetPlayerId(GetOwningPlayer(FLE))])endifset uk=R2E(IAE,"OriginalX")set uK=R2E(IAE,"OriginalY")set oA=CreateUnit(GetOwningPlayer(m5),1697656901,iN,io,0)call GKE(oA,1093684279)call SetUnitAbilityLevel(oA,1093684279,uJ(uk,uK,iN,io))call IssueTargetOrderById(oA,$D007F,m5)call UnitDamageTarget(FLE,m5,90*GetUnitAbilityLevel(FLE,1093684280),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call KillUnit(IJ)call Mv(t)set oA=nullelseif(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<$640 thencall KillUnit(IJ)call Mv(t)endifset FLE=nullset IJ=nullset t=nullset hP=nullset P3E=nullset m5=nullendfunctionfunction L0O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real iN=HRE(GetUnitX(FLE))local real io=HIE(GetUnitY(FLE))local location sy=GetSpellTargetLoc()local real hN=GetLocationX(sy)local real ho=GetLocationY(sy)local real RK=Atan2(ho-io,hN-iN)local timer t=CreateTimer()local integer IAE=GetHandleId(t)local unit IJ=CreateUnit(GetOwningPlayer(FLE),1747988533,iN,io,RK*bj_RADTODEG)set H2V[GetPlayerId(GetOwningPlayer(FLE))]=H2V[GetPlayerId(GetOwningPlayer(FLE))]+1call PGE("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(FLE))),H2V[GetPlayerId(GetOwningPlayer(FLE))])call RemoveLocation(sy)call SetUnitFacing(IJ,RK*bj_RADTODEG)call SetUnitPathing(IJ,false)set hN=HRE(iN+$BB8*Cos(RK))set ho=HIE(io+$BB8*Sin(RK))call O5E(IAE,"OriginalX",iN)call O5E(IAE,"OriginalY",io)call O5E(IAE,"TargetX",hN)call O5E(IAE,"TargetY",ho)call O5E(IAE,"Angle",RK)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Projectile",IJ)call TimerStart(t,.035,true,function ul)set FLE=nullset sy=nullset t=nullset IJ=nullendfunctionfunction L1O takes nothing returns booleanlocal integer L2O=H1V[GetPlayerId(GetTriggerPlayer())]local integer D5=H2V[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(QV[GetPlayerId(GetTriggerPlayer())])==1311781206 and D5>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848657741)))+" "+R2S(I2R(L2O)/ I2R(D5)*100)+"% ("+I2S(L2O)+"/"+I2S(D5)+")")endifreturn falseendfunctionfunction VXX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L_O))call TriggerAddAction(t,function L0O)call HCE(1093684279)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function L1O))set t=nullendfunctionfunction L3O takes nothing returns booleanreturn GetSpellAbilityId()==1093684302endfunctionfunction uM takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(ZX)))!=nullendfunctionfunction un takes nothing returns nothinglocal unit FLE=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697657170,0,0,0)call GKE(oA,1093684303)call SetUnitAbilityLevel(oA,1093684303,GetUnitAbilityLevel(ZX,1093684302))call UnitApplyTimedLife(oA,1112820806,$A)set FLE=nullset oA=nullendfunctionfunction uN takes unit FLE returns nothinglocal group P3E=FYE()local boolexpr hP=Condition(function uM)set ZX=FLEcall GroupEnumUnitsInRange(P3E,GetUnitX(FLE),GetUnitY(FLE),800,hP)call ForGroup(P3E,function un)call DestroyBoolExpr(hP)call FWE(P3E)set P3E=nullset hP=nullendfunctionfunction uo takes unit FLE returns nothinglocal integer IAE=GetHandleId(FLE)local string uO=R4E(IAE,"OrderType")local string up=OrderId2String(R1E(IAE,"OrderId"))local real hNlocal real holocal unit m5local trigger t=RTE(IAE,"Trigger_TrackOrder")local boolean uP=not R3E(IAE,"Idle")local boolean uq=R3E(IAE,"SuperOrder")call DisableTrigger(t)call IssueImmediateOrderById(FLE,$D0004)if uO=="Target"and(uP or uq)thenset m5=RME(IAE,"OrderTarget")call IssueTargetOrder(FLE,up,m5)elseif uO=="Point"and(uP or uq)thenset hN=R2E(IAE,"OrderPointX")set ho=R2E(IAE,"OrderPointY")call IssuePointOrder(FLE,up,hN,ho)elseif(uP or uq)thencall IssueImmediateOrder(FLE,"OrderString")endifcall O7E(IAE,"SuperOrder",false)call EnableTrigger(t)set m5=nullset t=nullendfunctionfunction uQ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real ur=R2E(IAE,"DistanceRemaining")local real uR=R2E(IAE,"OriginalDistance")local real RK=R2E(IAE,"Angle")local real Il=GetUnitX(FLE)+30*Cos(RK*bj_DEGTORAD)local real IL=GetUnitY(FLE)+30*Sin(RK*bj_DEGTORAD)local real us=$C8local real uS=(1-ur/uR)*us*2if uS>us thenset uS=us*2-uSendifcall SetUnitFlyHeight(FLE,HTE(uS,0),0)call SetUnitX(FLE,HRE(Il))call SetUnitY(FLE,HIE(IL))call SetUnitFacing(FLE,RK)call O5E(IAE,"DistanceRemaining",ur-20)if uS<1 and ur-uR!=0 thencall O7E(GetHandleId(FLE),"InAir",false)call SetUnitFacing(FLE,RK)call SetUnitAnimation(FLE,"stand")call SetUnitPathing(FLE,true)call uo(FLE)call uN(FLE)call PauseTimer(t)call O1E(IAE)call DestroyTimer(t)endifset t=nullset FLE=nullendfunctionfunction L4O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093684302)local real in=350+50*DDElocal real RK=GetUnitFacing(FLE)local real iN=GetUnitX(FLE)local real io=GetUnitY(FLE)local real hN=HRE(iN+in*Cos(RK*bj_DEGTORAD))local real ho=HIE(io+in*Sin(RK*bj_DEGTORAD))local timer t=CreateTimer()local integer IAE=GetHandleId(t)local trigger uT=RTE(GetHandleId(FLE),"Trigger_TrackOrder")set in=SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))if in>100 thencall GKE(FLE,1097691750)call UnitRemoveAbility(FLE,1097691750)call SetUnitPathing(FLE,false)call SetUnitAnimationByIndex(FLE,6)call DisableTrigger(uT)call IssueImmediateOrderById(FLE,$D0004)call EnableTrigger(uT)call O5E(IAE,"DistanceRemaining",in)call O5E(IAE,"OriginalDistance",in)call O5E(IAE,"Angle",RK)call O8E(IAE,"Hero",FLE)call TimerStart(t,.025,true,function uQ)call O7E(GetHandleId(FLE),"Leap_InAir",true)call O7E(GetHandleId(FLE),"SuperOrder",false)endifset FLE=nullset t=nullset uT=nullendfunctionfunction uu takes nothing returns booleanreturn OrderId2String(GetIssuedOrderId())!="windwalk"endfunctionfunction uU takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer IAE=GetHandleId(FLE)local boolean uv=R3E(IAE,"Leap_InAir")call O4E(IAE,"OrderId",GetIssuedOrderId())call O7E(IAE,"Idle",false)if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thencall O6E(IAE,"OrderType","Target")call RBE(IAE,"OrderTarget",GetOrderTarget())elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER thenif uv or E4E(GetUnitX(FLE),GetUnitY(FLE),GetOrderPointX(),GetOrderPointY())>800 thencall O6E(IAE,"OrderType","Point")call O5E(IAE,"OrderPointX",GetOrderPointX())call O5E(IAE,"OrderPointY",GetOrderPointY())elsecall O7E(IAE,"Idle",true)endifelsecall O6E(IAE,"OrderType","Instant")endifif uv thencall O7E(IAE,"SuperOrder",true)endifset FLE=nullendfunctionfunction uV takes nothing returns nothinglocal unit FLE=RME(GetHandleId(GetExpiredTimer()),"Hero")local integer IAE=GetHandleId(FLE)local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local string uO=R4E(IAE,"OrderType")if uO=="Point"and E4E(GetUnitX(FLE),GetUnitY(FLE),R2E(IAE,"OrderPointX"),R2E(IAE,"OrderPointY"))<100 thencall O7E(IAE,"Idle",true)endifset FLE=nullendfunctionfunction uw takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local timer t2call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddAction(t,function uU)call TriggerAddCondition(t,Condition(function uu))call RVE(GetHandleId(FLE),"Trigger_TrackOrder",t)set t2=CreateTimer()call O8E(GetHandleId(t2),"Hero",FLE)call TimerStart(t2,.3,true,function uV)call RNE(GetHandleId(FLE),"Timer_CheckIdle",t2)set FLE=nullset t=nullset t2=nullendfunctionfunction uW takes nothing returns nothingif GetUnitAbilityLevel(GetTriggerUnit(),1093684302)==1 thencall uw()endifendfunctionfunction VOX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L3O))call TriggerAddAction(t,function L4O)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddAction(t,function uW)set t=nullendfunctionfunction ux takes nothing returns nothinglocal unit FLE=RME(GetHandleId(GetTriggeringTrigger()),"Morphling")local real rlocal real glocal real blocal integer L5Olocal integer L6Olocal real L7Olocal real rStr2Agiif GetUnitTypeId(FLE)!=1328558160 thencall DisableTrigger(GetTriggeringTrigger())elseif GME(FLE)==false and R3E(GetHandleId(FLE),"Waveforming")==false thenset L5O=GetHeroAgi(FLE,true)set L6O=GetHeroStr(FLE,true)set L7O=RMaxBJ(75+2*(L5O-L6O),35)set r=L7Oset g=L7Oset b=L7Ocall SetUnitVertexColorBJ(FLE,r,g,b,GetRandomReal(.0,10.))endifset FLE=nullendfunctionfunction L8O takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())==1328558160 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction L9O takes nothing returns nothinglocal trigger tif(R3E(GetHandleId(GetTriggerUnit()),"HasMorphling")==false)thenset t=CreateTrigger()call O8E(GetHandleId(t),"Morphling",GetTriggerUnit())call RVE(GetHandleId(GetTriggerUnit()),"ColorTrigger",t)call TriggerAddAction(t,function ux)call TriggerRegisterTimerEvent(t,1.,true)call O7E(GetHandleId(GetTriggerUnit()),"HasMorphling",true)call UnitAddItem(GetTriggerUnit(),CreateItem(1227894853,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifset t=nullendfunctionfunction TUE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function L8O))call TriggerAddAction(t,function L9O)set t=nullendfunctionfunction MVO takes nothing returns booleanreturn GetSpellAbilityId()==1093682766endfunctionfunction uz takes nothing returns booleanlocal unit T3=GetFilterUnit()if IsUnitInGroup(T3,ZO)thenset T3=nullreturn falseendifif IsUnitEnemy(T3,GetOwningPlayer(ZX))and GetUnitAbilityLevel(T3,1093678162)!=1 and GetUnitState(T3,UNIT_STATE_LIFE)>0 and IsUnitType(T3,UNIT_TYPE_STRUCTURE)==false thenset T3=nullreturn trueendifset T3=nullreturn falseendfunctionfunction uZ takes nothing returns nothingcall UnitDamageTarget(ZX,GetEnumUnit(),JO,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endfunctionfunction MEO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit oA=RME(IAE,"Caster")local unit FLE=RME(IAE,"UnitVar")local real RK=R2E(IAE,"Angle")local integer u3=R1E(IAE,"Remaining")local group Ro=RUE(IAE,"AlreadyDamaged")local real u4=GetUnitX(FLE)local real u5=GetUnitY(FLE)local real N0O=(LoadReal(YX,(IAE),(23)))local real N1O=(LoadReal(YX,(IAE),(24)))local real Il=N0O+$3E8*.05*Cos(RK)local real IL=N1O+$3E8*.05*Sin(RK)local group P3E=FYE()call SaveReal(YX,(IAE),(23),((Il)*1.))call SaveReal(YX,(IAE),(24),((IL)*1.))set ZX=FLEset JO=GetUnitAbilityLevel(FLE,1093682766)*75+25set ZO=Rocall GroupEnumUnitsInRange(P3E,u4,u5,280,Condition(function uz))call ForGroup(P3E,function uZ)call GroupAddGroup(P3E,Ro)call FWE(P3E)set u3=u3-1call O4E(IAE,"Remaining",u3)call SetUnitPosition(FLE,Il,IL)call SetUnitPosition(oA,Il,IL)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",u4,u5))if u3==0 thencall RemoveUnit(oA)call SetUnitVertexColor(FLE,$FF,$FF,$FF,$FF)call O7E(GetHandleId(FLE),"Waveforming",false)call SetUnitInvulnerable(FLE,false)call SetUnitPathing(FLE,true)call ClearSelectionForPlayer(GetOwningPlayer(FLE))call SelectUnitAddForPlayer(FLE,GetOwningPlayer(FLE))call O1E(IAE)call IRE(t)endifset FLE=nullset oA=nullset Ro=nullset P3E=nullset t=nullreturn falseendfunctionfunction MOO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real iN=GetUnitX(FLE)local real io=GetUnitY(FLE)local location sy=GetSpellTargetLoc()local real hN=GetLocationX(sy)local real ho=GetLocationY(sy)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local group Ro=FYE()local unit oA=CreateUnit(GetOwningPlayer(FLE),1865429063,iN,io,0)local integer EQE=GetPlayerId(GetOwningPlayer(FLE))call RemoveLocation(sy)if GetSpellTargetUnit()!=null thenset hN=GetUnitX(GetSpellTargetUnit())set ho=GetUnitY(GetSpellTargetUnit())endifcall SetUnitVertexColor(FLE,$FF,$FF,$FF,0)call O7E(GetHandleId(FLE),"Waveforming",true)call SetUnitInvulnerable(FLE,true)call SetUnitPathing(FLE,false)call SetUnitPathing(oA,false)call O8E(IAE,"UnitVar",FLE)call O8E(IAE,"Caster",oA)call SaveReal(YX,(IAE),(23),((iN)*1.))call SaveReal(YX,(IAE),(24),((io)*1.))call RAE(IAE,"AlreadyDamaged",Ro)call O5E(IAE,"Angle",Atan2(ho-io,hN-iN))call O4E(IAE,"Remaining",HPE(R2I(SquareRoot((hN-iN)*(hN-iN)+(ho-io)*(ho-io))/50),1))call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function MEO))call ShowUnit(FLE,false)call ShowUnit(FLE,true)call SelectUnitAddForPlayer(FLE,GetOwningPlayer(FLE))set t=nullset FLE=nullset sy=nullset Ro=nullset oA=nullendfunctionfunction TWE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MVO))call TriggerAddAction(t,function MOO)set t=nullendfunctionfunction u7 takes nothing returns nothinglocal unit u8=RME(GetHandleId(GetTriggeringTrigger()),"Morphling")if GetHeroStatBJ(1,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. thencall SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)call ModifyHeroStat(1,u8,1,2*GetUnitAbilityLevel(u8,1093684056))call ModifyHeroStat(0,u8,0,2*GetUnitAbilityLevel(u8,1093684056))endifset u8=nullendfunctionfunction u9 takes nothing returns nothinglocal unit u8=RME(GetHandleId(GetTriggeringTrigger()),"Morphling")if GetHeroStatBJ(0,u8,false)>2*GetUnitAbilityLevel(u8,1093684056)and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. thencall SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)call ModifyHeroStat(0,u8,1,2*GetUnitAbilityLevel(u8,1093684056))call ModifyHeroStat(1,u8,0,2*GetUnitAbilityLevel(u8,1093684056))endifset u8=nullendfunctionfunction MRO takes nothing returns booleanreturn(((GetIssuedOrderId()==$D0246)or(GetIssuedOrderId()==$D0243))and(GetTriggerUnit()==RME(GetHandleId(GetTriggeringTrigger()),"Morphling")))endfunctionfunction UA takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local trigger Ub=RTE(IAE,"MorphStr")local trigger UB=RTE(IAE,"MorphAgi")if(GetIssuedOrderId()==$D0243)thencall DisableTrigger(Ub)elseif(GetIssuedOrderId()==$D0246)thencall DisableTrigger(UB)endifset Ub=nullset UB=nullendfunctionfunction MIO takes nothing returns booleanreturn(((GetIssuedOrderId()==$D0245)or(GetIssuedOrderId()==$D0242))and(GetTriggerUnit()==RME(GetHandleId(GetTriggeringTrigger()),"Morphling")))endfunctionfunction UC takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local trigger Ub=RTE(IAE,"MorphStr")local trigger UB=RTE(IAE,"MorphAgi")if(GetIssuedOrderId()==$D0242)thencall EnableTrigger(Ub)call DisableTrigger(UB)elseif(GetIssuedOrderId()==$D0245)thencall DisableTrigger(Ub)call EnableTrigger(UB)endifset Ub=nullset UB=nullendfunctionfunction MAO takes nothing returns booleanreturn GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_COMPUTERendfunctionfunction MNO takes unit FLE,integer MBO,integer MCO returns nothinglocal integer MDO=GetHeroAgi(FLE,false)local integer MFO=GetHeroStr(FLE,false)local real MGO=GetUnitState(FLE,UNIT_STATE_MANA)if MBO==0 thenif MGO>=MCO and MDO>2 and GME(FLE)==false thencall SetUnitState(FLE,UNIT_STATE_MANA,MGO-MCO)call SetHeroAgi(FLE,MDO-2,true)call SetHeroStr(FLE,MFO+2,true)endifelseif MBO==1 thenif MGO>=MCO and MFO>2 and GME(FLE)==false thencall SetUnitState(FLE,UNIT_STATE_MANA,MGO-MCO)call SetHeroAgi(FLE,MDO+2,true)call SetHeroStr(FLE,MFO-2,true)endifendifendfunctionfunction MHO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer MJO=GetUnitAbilityLevel(FLE,1093684056)call MNO(FLE,1,20/ MJO)set t=nullset FLE=nullreturn falseendfunctionfunction MKO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer MJO=GetUnitAbilityLevel(FLE,1093684056)call MNO(FLE,0,20/ MJO)set t=nullset FLE=nullreturn falseendfunctionfunction MLO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local trigger MMO=RTE(IAE,"Iterate")local integer MJO=GetUnitAbilityLevel(FLE,1093684056)local integer MPO=R1E(IAE,"LastOrder")local real MQO=1./ MJOif GetIssuedOrderId()==$D0245 thenif MMO!=null thencall O1E(GetHandleId(MMO))call IRE(MMO)endifset MMO=CreateTrigger()call TriggerRegisterTimerEvent(MMO,MQO,true)call TriggerAddCondition(MMO,Condition(function MHO))call O8E(GetHandleId(MMO),"Hero",FLE)call RVE(IAE,"Iterate",MMO)call O4E(IAE,"LastOrder",GetIssuedOrderId())call UnitAddAbility(FLE,1093808716)call UnitRemoveAbility(FLE,1093808724)elseif GetIssuedOrderId()==$D0242 thenif MMO!=null thencall O1E(GetHandleId(MMO))call IRE(MMO)endifset MMO=CreateTrigger()call TriggerRegisterTimerEvent(MMO,MQO,true)call TriggerAddCondition(MMO,Condition(function MKO))call O8E(GetHandleId(MMO),"Hero",FLE)call RVE(IAE,"Iterate",MMO)call O4E(IAE,"LastOrder",GetIssuedOrderId())call UnitAddAbility(FLE,1093808724)call UnitRemoveAbility(FLE,1093808716)elseif GetIssuedOrderId()==$D0246 thenif MMO!=null thencall O1E(GetHandleId(MMO))call IRE(MMO)endifcall O8E(IAE,"Iterate",null)call O4E(IAE,"LastOrder",GetIssuedOrderId())call UnitRemoveAbility(FLE,1093808716)call UnitRemoveAbility(FLE,1093808724)elseif GetIssuedOrderId()==$D0243 thenif MMO!=null thencall O1E(GetHandleId(MMO))call IRE(MMO)endifcall O8E(IAE,"Iterate",null)call O4E(IAE,"LastOrder",GetIssuedOrderId())call UnitRemoveAbility(FLE,1093808716)call UnitRemoveAbility(FLE,1093808724)elseif GetIssuedOrderId()==$D0244 and MPO!=$D0242 and MPO!=$D0242 thencall MNO(FLE,1,20/ MJO)elseif GetIssuedOrderId()==$D0241 and MPO!=$D0242 and MPO!=$D0242 thencall MNO(FLE,0,20/ MJO)endifset t=nullset FLE=nullset MMO=nullreturn falseendfunctionfunction MTO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(GetTriggerUnit(),1093684056)if MAE==1 thencall SetHeroAgi(F2E,GetHeroAgi(F2E,false)+3,true)call SetHeroStr(F2E,GetHeroStr(F2E,false)+3,true)elsecall SetHeroAgi(F2E,GetHeroAgi(F2E,false)+1,true)call SetHeroStr(F2E,GetHeroStr(F2E,false)+1,true)endifif MAE==1 thenset t=CreateTrigger()set H2E=GetHandleId(t)call GKE(F2E,1093684055)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function MLO))call O8E(H2E,"Iterate",null)elsecall SetUnitAbilityLevel(F2E,1093684055,MAE)endifset t=nullset F2E=nullendfunctionfunction MUO takes nothing returns booleanreturn GetLearnedSkill()==1093684056 and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTERendfunctionfunction MWO takes nothing returns nothinglocal unit u8=GetTriggerUnit()local trigger Uelocal trigger UElocal trigger Ublocal trigger UBif(GetUnitAbilityLevel(u8,1093684056)==1)thencall GKE(u8,1093684055)set UB=CreateTrigger()call DisableTrigger(UB)call TriggerRegisterTimerEventPeriodic(UB,1.)call TriggerAddAction(UB,function u9)call O8E(GetHandleId(UB),"Morphling",u8)set Ub=CreateTrigger()call DisableTrigger(Ub)call TriggerRegisterTimerEventPeriodic(Ub,1.)call TriggerAddAction(Ub,function u7)call O8E(GetHandleId(Ub),"Morphling",u8)set Ue=CreateTrigger()call ky(Ue,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(Ue,Condition(function MIO))call TriggerAddAction(Ue,function UC)call RVE(GetHandleId(Ue),"MorphAgi",UB)call RVE(GetHandleId(Ue),"MorphStr",Ub)call O8E(GetHandleId(Ue),"Morphling",u8)set UE=CreateTrigger()call ky(UE,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(UE,Condition(function MRO))call TriggerAddAction(UE,function UA)call RVE(GetHandleId(UE),"MorphAgi",UB)call RVE(GetHandleId(UE),"MorphStr",Ub)call O8E(GetHandleId(UE),"Morphling",u8)if(GetPlayerController(GetOwningPlayer(u8))!=MAP_CONTROL_USER)thencall RVE(GetHandleId(GetOwningPlayer(u8)),"MorphAgi",UB)call RVE(GetHandleId(GetOwningPlayer(u8)),"MorphStr",Ub)endifelsecall SetUnitAbilityLevel(u8,1093684055,GetUnitAbilityLevel(u8,1093684056))endifset u8=nullset Ue=nullset UE=nullset Ub=nullset UB=nullendfunctionfunction pZ takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function MAO))call TriggerAddAction(t,function MTO)set t=nullendfunctionfunction T_E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function MUO))call TriggerAddAction(t,function MWO)set t=nullendfunctionfunction MYO takes nothing returns booleanreturn GetSpellAbilityId()==1093682998 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and FUE(GetSpellTargetUnit())==falseendfunctionfunction MZO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093682998)local unit MIElocal location POXlocal real l4local integer L5O=GetHeroAgi(FLE,true)local integer L6O=GetHeroStr(FLE,true)local real M_O=I2R(L5O)/ I2R(L6O)local real M0O=I2R(L6O)/ I2R(L5O)local real M1Olocal real M2Olocal real M3Olocal real M4Olocal real HUElocal real M5Olocal integer M6Olocal integer M7Olocal integer M8Olocal string M9Olocal string PVOlocal string PEOif M_O<.5 thenset M1O=.25set M2O=20*DDEelseif M_O>1.5 thenset M1O=.5*DDEset M2O=20*DDEelseset M1O=.25+(M_O-.5)*(.5*DDE-.25)set M2O=20*DDEendifif M0O<.5 thenset M3O=.25set M4O=100elseif M0O>1.5 thenset M3O=.75*DDEset M4O=300elseset M4O=100+(M0O-.5)*$C8set M3O=.25+(M0O-.5)*(.75*DDE-.25)endifset HUE=M2O+M1O*L5Oset M5O=M3Oset M6O=R2I(M5O)set M7O=R2I($A*M5O-M6O*$A)set M8O=R2I(100*M5O-M7O*$A-M6O*100)set M9O=I2S(M6O)set PVO=I2S(M7O)set PEO=I2S(M8O)set l4=Atan2(GetUnitY(m5)-GetUnitY(FLE),GetUnitX(m5)-GetUnitX(FLE))set POX=Location(GetUnitX(m5)+M4O*Cos(l4),GetUnitY(m5)+M4O*Sin(l4))call SetUnitPositionLoc(m5,POX)call JRE(GetLocationX(POX),GetLocationY(POX),$C8)call RemoveLocation(POX)call H7E("|c001ce6b9+"+I2S(R2I(HUE))+"|r |c00ff0303+"+M9O+"."+PVO+PEO+"|r",1,m5,.023,$FF,$FF,$FF,$D8)call MNE(FLE,m5,1,HUE)call MRE(FLE,m5,M5O)set FLE=nullset m5=nullset MIE=nullset POX=nullendfunctionfunction TYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MYO))call TriggerAddAction(t,function MZO)set t=nullcall HCE(1093687350)endfunctionfunction PXO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=(LoadInteger(YX,(H2E),(34)))-1local texttag ttcall SaveInteger(YX,(H2E),(34),(DZX))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseset tt=CreateTextTag()call SetTextTagText(tt,I2S(DZX),.03)call SetTextTagPosUnit(tt,J6E,0)call SetTextTagColorBJ(tt,0,29,$FF,$F)call SetTextTagVelocity(tt,0,.035)call SetTextTagFadepoint(tt,3)call SetTextTagLifespan(tt,.9)call SetTextTagPermanent(tt,false)call SetTextTagVisibility(tt,false)if GetOwningPlayer(J6E)==GetLocalPlayer()thencall SetTextTagVisibility(tt,true)endifset tt=CreateTextTag()call SetTextTagText(tt,I2S(DZX),.03)call SetTextTagPosUnit(tt,F3E,0)call SetTextTagColorBJ(tt,0,29,$FF,$F)call SetTextTagVelocity(tt,0,.035)call SetTextTagFadepoint(tt,3)call SetTextTagLifespan(tt,.9)call SetTextTagPermanent(tt,false)call SetTextTagVisibility(tt,false)if GetOwningPlayer(J6E)==GetLocalPlayer()thencall SetTextTagVisibility(tt,true)endifendifset t=nullset tt=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction POO takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit F2E=(LoadUnitHandle(YX,(GetHandleId(t)),($E)))local unit PRO=(LoadUnitHandle(YX,(GetHandleId(F2E)),($E5)))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(PRO),GetUnitY(PRO)))call RemoveUnit(PRO)call UnitRemoveAbility(F2E,(1093683011))if(LoadInteger(YX,(GetHandleId(F2E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(F2E)),(704)))==(1093683000)thencall SetPlayerAbilityAvailable(GetOwningPlayer(F2E),(1093683000),true)endifcall FlushChildHashtable(YX,(GetHandleId(t)))call IRE((t))set F2E=nullset PRO=nullset t=nullendfunctionfunction PIO takes nothing returns booleanreturn(GetSpellAbilityId()==(1093683011))endfunctionfunction PAO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local integer H2E=GetHandleId(F2E)local unit PRO=(LoadUnitHandle(YX,(H2E),($E5)))local real x=GetUnitX(PRO)local real y=GetUnitY(PRO)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(F2E),GetUnitY(F2E)))call KillUnit(PRO)call SetUnitX(F2E,x)call SetUnitY(F2E,y)call PanCameraToTimedForPlayer(GetOwningPlayer(F2E),x,y,0)call IssueImmediateOrderById(F2E,$D0004)set F2E=nullset PRO=nullendfunctionfunction PNO takes nothing returns booleanreturn GetUnitAbilityLevel(GetSummonedUnit(),(1110455088))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0endfunctionfunction PBO takes nothing returns nothinglocal unit F2E=GetSummoningUnit()local integer H2E=GetHandleId(F2E)local unit F3E=(LoadUnitHandle(YX,(H2E),($E4)))local unit PRO=GetSummonedUnit()local trigger tcall SetPlayerAbilityAvailable(GetOwningPlayer(F2E),(1093683000),false)call GKE(F2E,(1093683011))call SetUnitColor(PRO,GetPlayerColor(GetOwningPlayer(F3E)))call SaveUnitHandle(YX,(H2E),($E5),(PRO))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,PRO,EVENT_UNIT_DEATH)call TriggerAddAction(t,function POO)call SaveUnitHandle(YX,(GetHandleId(t)),($E),(F2E))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,PRO,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function PXO))call SaveUnitHandle(YX,(GetHandleId(t)),(2),(F2E))call SaveUnitHandle(YX,(GetHandleId(t)),(17),(PRO))call SaveInteger(YX,(GetHandleId(t)),(34),(GetUnitAbilityLevel(F2E,(1093683000))*$F+$F-1))set F2E=nullset F3E=nullset PRO=nullset t=nullendfunctionfunction PCO takes nothing returns booleanreturn GetSpellAbilityId()==(1093683000)endfunctionfunction PDO takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call SaveUnitHandle(YX,(GetHandleId(F2E)),($E4),(F3E))set F2E=nullset F3E=nullendfunctionfunction PFO takes nothing returns booleanif GetSpellAbilityId()==(1093683000)thenif GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659014))endifendifreturn falseendfunctionfunction TZE takes nothing returns nothinglocal trigger tset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PCO))call TriggerAddAction(t,function PDO)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function PNO))call TriggerAddAction(t,function PBO)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PIO))call TriggerAddAction(t,function PAO)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function PFO))set t=nullendfunctionfunction PGO takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),QQV)==false thencall GroupAddUnit(QSV,GetEnumUnit())call UnitRemoveAbility(GetEnumUnit(),1110454858)call UnitRemoveAbility(GetEnumUnit(),1112896368)call UnitRemoveAbility(GetEnumUnit(),1114993524)endifendfunctionfunction PHO takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),1110454858)call UnitRemoveAbility(GetEnumUnit(),1112896368)call UnitRemoveAbility(GetEnumUnit(),1114993524)endfunctionfunction PJO takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),QPV)==false thencall GroupAddUnit(QPV,GetEnumUnit())call SetUnitOwner(QMV,GetOwningPlayer(GetEnumUnit()),false)call IssueTargetOrderById(QMV,$D0103,GetEnumUnit())endifendfunctionfunction PKO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local group glocal group PLO=(LoadGroupHandle(YX,(H2E),($BB)))if GetTriggerEvalCount(t)==$A thencall GKE(J6E,1093809221)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093678933,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809221,true)endifif GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>$8C or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093809221)thenif(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093678933 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093678933,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809221,false)call ForGroup(PLO,function PHO)call FWE(PLO)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Eset QLV=J6Eset QMV=MIEset QPV=PLOcall GroupEnumUnitsInRange(g,x,y,$4E2+25,Condition(function KWE))call ForGroup(g,function PJO)set QQV=gset QSV=FYE()call ForGroup(PLO,function PGO)call GroupRemoveGroup(QSV,PLO)call FWE(g)call FWE(QSV)endifset t=nullset g=nullset J6E=nullset PLO=nullset MIE=nullreturn falseendfunctionfunction PMO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)call UnitAddAbility(MIE,1093678932)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PKO))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",J6E,"origin")))set t=nullset J6E=nullendfunctionfunction PPO takes nothing returns booleanif GetSpellAbilityId()==1093678933 thencall PMO()endifreturn falseendfunctionfunction T0E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PPO))set t=nullendfunctionfunction PQO takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093815125)local integer id=1093809204call MNE(J6E,F3E,1,100+30*MAE)if MAE==2 thenset id=1093809205elseif MAE==3 thenset id=1093809206elseif MAE==4 thenset id=1093809207endifif G9X(F3E)==false thencall KOE(F3E,id,1,8)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",F3E,"chest"))set J6E=nullset F3E=nullendfunctionfunction PSO takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),Z5V)==false thencall GroupAddUnit(Z5V,GetEnumUnit())call PQO(Z4V,GetEnumUnit())endifendfunctionfunction PTO takes nothing returns nothinglocal unit J6E=GetEnumUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local group g=FYE()call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,450+25,Condition(function K3E))call ForGroup(g,function PSO)call FWE(g)set t=nullset g=nullendfunctionfunction PUO takes nothing returns booleanreturn IsUnitIllusion(GetFilterUnit())and GME(GetFilterUnit())==falseendfunctionfunction PWO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local group g=FYE()local integer i=0set Z5V=FYE()set Z4V=J6Ecall GroupEnumUnitsOfPlayer(g,GetOwningPlayer(J6E),Condition(function PUO))call GroupAddUnit(g,J6E)call ForGroup(g,function PTO)call FWE(g)call FWE(Z5V)set J6E=nullset g=nullendfunctionfunction PYO takes nothing returns booleanif GetSpellAbilityId()==1093815125 thencall PWO()endifreturn falseendfunctionfunction T1E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PYO))set t=nullendfunctionfunction PZO takes unit J6E,unit F3E,integer MAE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call UnitAddAbility(MIE,1093681729)call SetUnitAbilityLevel(MIE,1093681729,MAE)call IssueTargetOrderById(MIE,$D008A,F3E)set MIE=nullendfunctionfunction P_O takes nothing returns booleanif IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall PZO(GetFilterUnit(),QUV,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))endifreturn falseendfunctionfunction P0O takes nothing returns booleanif IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())==1212363833 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall SetUnitFacing(GetFilterUnit(),I6V)call SetUnitAnimation(GetFilterUnit(),"spell")endifreturn falseendfunctionfunction P1O takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local group g=FYE()set I6V=H4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(QUV),GetUnitY(QUV))call GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),700,Condition(function P0O))call FWE(g)set F2E=nullset g=nullendfunctionfunction P2O takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=QUVlocal group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),700,Condition(function P_O))call FWE(g)set F2E=nullset g=nullendfunctionfunction P3O takes nothing returns booleanif GetSpellAbilityId()==1093809220 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif FUE(GetSpellTargetUnit())==false thenset QTV=0set QUV=GetSpellTargetUnit()call PZO(GetTriggerUnit(),QUV,GetUnitAbilityLevel(GetTriggerUnit(),1093809220))call P2O()endifelsecall P1O()endifendifreturn falseendfunctionfunction T2E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function P3O))set t=nullendfunctionfunction P4O takes unit P5O returns integerlocal real r=GetRandomReal(0,100)local integer DDE=GetUnitAbilityLevel(P5O,1093679160)local boolean P6O=OAE(P5O,BU[OTV])!=nulllocal integer P7O=0local integer id=GetPlayerId(GetOwningPlayer(P5O))set P6O=falseif DDE==1 thenset JJV[id]=JJV[id]+1if P6O thenif r<30 thenset JGV[id]=JGV[id]+1set P7O=3elseif r<60 thenset JFV[id]=JFV[id]+1set P7O=2endifelseif r<25 thenset P7O=2set JFV[id]=JFV[id]+1endifendifelseif DDE==2 thenset JJV[id]=JJV[id]+1if P6O thenif r<17.5 thenset P7O=4set JHV[id]=JHV[id]+1elseif r<35 thenset P7O=3set JGV[id]=JGV[id]+1elseif r<70 thenset P7O=2set JFV[id]=JFV[id]+1endifelseif r<20 thenset P7O=3set JGV[id]=JGV[id]+1elseif r<40 thenset P7O=2set JFV[id]=JFV[id]+1endifendifelseif DDE==3 thenset JJV[id]=JJV[id]+1if P6O thenif r<$A thenset P7O=5set N4[id]=N4[id]+1elseif r<20 thenset P7O=4set JHV[id]=JHV[id]+1elseif r<40 thenset P7O=3set JGV[id]=JGV[id]+1elseif r<80 thenset P7O=2set JFV[id]=JFV[id]+1endifelseif r<12.5 thenset P7O=4set JHV[id]=JHV[id]+1elseif r<25 thenset P7O=3set JGV[id]=JGV[id]+1elseif r<50 thenset P7O=2set JFV[id]=JFV[id]+1endifendifendifreturn P7Oendfunctionfunction P8O takes nothing returns booleanlocal unit m5=GetFilterUnit()local unit FLE=GetTriggerUnit()if IsUnitAlly(m5,GetOwningPlayer(FLE))and GetUnitState(m5,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(m5,1113746543)==0 thenif(GetOwningPlayer(m5)==RX[0]or GetOwningPlayer(m5)==GX[0])thenif(GetUnitTypeId(m5)==1969711215 or GetUnitTypeId(m5)==1966092337 or GetUnitTypeId(m5)==1970169187 or GetUnitTypeId(m5)==1966092338)thenset m5=nullset FLE=nullreturn trueendifif(GetUnitTypeId(m5)==1702061422 or GetUnitTypeId(m5)==1697656918 or GetUnitTypeId(m5)==1701081721 or GetUnitTypeId(m5)==1697656919)thenset m5=nullset FLE=nullreturn trueendifreturn falseelseif IsUnitType(m5,UNIT_TYPE_HERO) thenset m5=nullset FLE=nullreturn trueelseif GetOwningPlayer(m5)==GetOwningPlayer(FLE)thenset m5=nullset FLE=nullreturn trueendifendifset m5=nullset FLE=nullreturn falseendfunctionfunction P9O takes integer r returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=rlocal group P3E=FYE()local unit MIElocal unit SDElocal integer QVO=GetSpellAbilityId()local integer T8=1if r==2 thencall H7E(GetObjectName(1848658743),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==3 thencall H7E(GetObjectName(1848658516),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==4 thencall H7E(GetObjectName(1848658744),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==5 thencall H7E(GetObjectName(1848658511),5,GetTriggerUnit(),.03,$FF,0,0,$FF)endifset r=r-1call GroupEnumUnitsInRange(P3E,GetUnitX(FLE),GetUnitY(FLE),600,Condition(function P8O))if FLE!=GetSpellTargetUnit()thencall GroupAddUnit(P3E,FLE)endifloopexitwhen T8>DDEset T8=T8+1set MIE=CreateUnit(GetOwningPlayer(FLE),1697656899,GetUnitX(FLE),GetUnitY(FLE),270)call GKE(MIE,QVO)call SetUnitAbilityLevel(MIE,QVO,GetUnitAbilityLevel(FLE,QVO))call UnitApplyTimedLife(MIE,1112820806,1.)set SDE=GroupPickRandomUnit(P3E)call IssueTargetOrderById(MIE,$D0085,SDE)call SetUnitPathing(MIE,false)call SetUnitInvulnerable(MIE,true)call GKE(MIE,1097625443)call GroupRemoveUnit(P3E,SDE)endloopcall FWE(P3E)set FLE=nullset P3E=nullset MIE=nullset SDE=nullendfunctionfunction QEO takes nothing returns booleanlocal integer rif GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and(GetSpellAbilityId()==1093679155 or GetSpellAbilityId()==1093679177 or GetSpellAbilityId()==1093679175 or GetSpellAbilityId()==1093679174)thenset r=P4O(GetTriggerUnit())if r>1 thencall P9O(r)endifendifreturn falseendfunctionfunction T4E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QEO))set t=nullendfunctionfunction QXO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093815122)call IssueTargetOrderById(MIE,$D007F,F3E)set J6E=nullset F3E=nullset MIE=nullendfunctionfunction QOO takes nothing returns nothinglocal unit J6E=I9Vcall GKE(J6E,1093815121)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093815121,true)call O7E(GetHandleId(J6E),"AI|Magi2Blast",true)set J6E=nullendfunctionfunction QRO takes nothing returns nothinglocal unit J6E=I9Vcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093815121,false)set J6E=nullendfunctionfunction QIO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")local integer QAO=R1E(IAE,"Iterations")local integer DDE=R1E(IAE,"Level")local integer QBO=R1E(IAE,"Spell")local unit MIEif GetTriggerEvalCount(t)>QAO thencall O1E(IAE)call IRE(t)elseset MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)if QBO==1093815121 thenset QBO=1093815122endifcall GKE(MIE,QBO)call SetUnitAbilityLevel(MIE,QBO,DDE)call IssueTargetOrderById(MIE,$D007F,m5)endifset t=nullset m5=nullset p5=nullset MIE=nullreturn falseendfunctionfunction QCO takes integer r returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer QBO=GetSpellAbilityId()local integer DDE=GetUnitAbilityLevel(p5,QBO)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)if r==2 thencall H7E(GetObjectName(1848658743),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==3 thencall H7E(GetObjectName(1848658516),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==4 thencall H7E(GetObjectName(1848658744),5,GetTriggerUnit(),.03,$FF,0,0,$FF)elseif r==5 thencall H7E(GetObjectName(1848658511),5,GetTriggerUnit(),.03,$FF,0,0,$FF)endifset r=r-1call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call O4E(IAE,"Iterations",r)call O4E(IAE,"Level",DDE)call O4E(IAE,"Spell",QBO)call TriggerRegisterTimerEvent(t,.3,true)call TriggerAddCondition(t,Condition(function QIO))set t=nullset m5=nullset p5=nullendfunctionfunction QDO takes nothing returns booleanlocal integer rif GetUnitAbilityLevel(GetTriggerUnit(),1093679160)>0 and FUE(GetSpellTargetUnit())==false and(GetSpellAbilityId()==1093678167 or GetSpellAbilityId()==1093679172 or GetSpellAbilityId()==1093679169 or GetSpellAbilityId()==1093679161 or GetSpellAbilityId()==1093815121)thenset r=P4O(GetTriggerUnit())if r>1 and((LoadInteger(YX,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false thencall QCO(r)endifendifif FUE(GetSpellTargetUnit())==false and GetSpellAbilityId()==1093815121 thencall QXO()endifreturn falseendfunctionfunction QFO takes nothing returns booleanlocal integer id=GetPlayerId(GetTriggerPlayer())local string M9Olocal string PVOlocal string PEOlocal string QGOlocal string QHOlocal string str6if JJV[id]>0 thenset M9O=GetObjectName(1848658504)+" "+I2S(JJV[id])set PVO=GetObjectName(1848658509)+" "+I2S(JFV[id]+JGV[id]+JHV[id]+N4[id])+" ("+I2S((JFV[id]+JGV[id]+JHV[id]+N4[id])*100/ JJV[id])+"%)"set PEO=GetObjectName(1848658508)+" "+I2S(JFV[id])+" ("+I2S(100*JFV[id]/ JJV[id])+"%)"set QGO=GetObjectName(1848658507)+" "+I2S(JGV[id])+" ("+I2S(100*JGV[id]/ JJV[id])+"%)"set QHO=GetObjectName(1848658506)+" "+I2S(JHV[id])+" ("+I2S(100*JHV[id]/ JJV[id])+"%)"call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,M9O)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,PVO)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,PEO)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,QGO)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,QHO)endifreturn falseendfunctionfunction T3E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QDO))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function QFO))set t=nullendfunctionfunction QJO takes nothing returns booleanreturn GetSpellAbilityId()==1093679182endfunctionfunction Uu takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction UU takes nothing returns nothingcall MNE(GetTriggerUnit(),GetEnumUnit(),3,JO)endfunctionfunction QKO takes nothing returns nothinglocal boolexpr hP=Condition(function Uu)local group P3E=FYE()local real x=GetUnitX(GetSpellTargetUnit())local real y=GetUnitY(GetSpellTargetUnit())set JO=90*GetUnitAbilityLevel(GetTriggerUnit(),1093679182)call GroupEnumUnitsInRange(P3E,x,y,$FA,hP)call ForGroup(P3E,function UU)if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 thencall SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+JO)endifcall FWE(P3E)call DestroyBoolExpr(hP)set P3E=nullset hP=nullendfunctionfunction PN takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QJO))call TriggerAddAction(t,function QKO)set t=nullendfunctionfunction QLO takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==BAV[21]and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and IsUnitIllusion(GetFilterUnit())==false thenset I9V=GetFilterUnit()endifreturn falseendfunctionfunction QMO takes nothing returns nothinglocal unit QPO=GetTriggerUnit()local unit p5local group g=FYE()local real xlocal real yset I9V=nullcall GroupEnumUnitsInRange(g,GetUnitX(QPO),GetUnitY(QPO),$3E8,Condition(function QLO))call FWE(g)set p5=I9Vif p5!=null thenset x=GetUnitX(p5)set y=GetUnitY(p5)call SetUnitPosition(QPO,x,y)endifset x=GetUnitX(QPO)+600*Cos(GetUnitFacing(QPO)*bj_DEGTORAD)set y=GetUnitY(QPO)+600*Sin(GetUnitFacing(QPO)*bj_DEGTORAD)call IssuePointOrderById(QPO,$D0012,x,y)set QPO=nullset p5=nullset g=nullendfunctionfunction QQO takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),1110455105)>0 thencall QMO()endifreturn falseendfunctionfunction Po takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()call RegionAddRect(r,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,r,null)call TriggerAddCondition(t,Condition(function QQO))set t=nullset r=nullendfunctionfunction QTO takes nothing returns booleanreturn((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(UnitHasBuffBJ(GetAttacker(),1110455106))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)))!=nullendfunctionfunction QUO takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),1110455106)>0 thenset I5V=I5V+1endifreturn falseendfunctionfunction QWO takes nothing returns nothinglocal unit QYO=GetAttacker()local group g=FYE()local integer QZO=GetRandomInt(1,100)local integer Q_O=GetUnitAbilityLevel(QYO,1093682242)local integer Q0O=GetUnitAbilityLevel(QYO,1093687627)local unit MIElocal integer Q1O=2*Q_Olocal integer Q2O=$Cset I5V=0call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(QYO),Condition(function QUO))call FWE(g)if I5V<Q1O thenif IsUnitIllusion(QYO)==false and QZO<=(Q2O+2*Q0O)thenset MIE=CreateUnit(GetOwningPlayer(QYO),1697656901,GetUnitX(QYO),GetUnitY(QYO),0)call GKE(MIE,1093682244)call IssueTargetOrderById(MIE,$D0132,QYO)endifif IsUnitIllusion(QYO) and QZO<=(1+2*Q0O)and Q0O>0 thenset MIE=CreateUnit(GetOwningPlayer(QYO),1697656901,GetUnitX(QYO),GetUnitY(QYO),0)call GKE(MIE,1093682244)call IssueTargetOrderById(MIE,$D0132,QYO)endifendifset QYO=nullset g=nullset MIE=nullendfunctionfunction PO takes nothing returns nothingset dU=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(dU,Condition(function QTO))call TriggerAddAction(dU,function QWO)endfunctionfunction Q3O takes nothing returns booleanlocal unit Q4O=GetSummonedUnit()local unit oAlocal unit m5if GetUnitAbilityLevel(Q4O,1110456632)>0 thenset oA=GetSummoningUnit()set m5=RME(GetHandleId(oA),"SpiritTarget")call SetUnitX(Q4O,GetUnitX(m5))call SetUnitY(Q4O,GetUnitY(m5))call IssueTargetOrderById(Q4O,$D000F,m5)endifset Q4O=nullset oA=nullset m5=nullreturn falseendfunctionfunction Q5O takes unit p5,unit m5,integer DDE returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitX(m5),0)local integer Q6Ocall O8E(GetHandleId(oA),"SpiritTarget",m5)if DDE==1 thenset Q6O=1093742664elseif DDE==2 thenset Q6O=1093742663elseif DDE==3 thenset Q6O=1093742665elseset Q6O=1093742662endifcall GKE(oA,Q6O)call IssueTargetOrderById(oA,$D0132,p5)set oA=nullendfunctionfunction Q7O takes unit p5,unit m5,integer DDE,boolean Q8O,boolean Q9O returns nothinglocal real SVO=50+50*DDElocal unit oAif Q9O thenset oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093742659)call SetUnitAbilityLevel(oA,1093742659,DDE)call IssueTargetOrderById(oA,$D00DD,m5)call MNE(oA,m5,1,SVO)if Q8O thencall Q5O(p5,m5,DDE)endifendifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",m5,"origin"))set oA=nullendfunctionfunction SEO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local boolean Q9O=R3E(IAE,"damage")local unit IJ=RME(IAE,"Projectile")local real x=GetUnitX(IJ)local real y=GetUnitY(IJ)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)local real Ik=$3E8*.035local real IK=H4E(x,y,hN,ho)local real Il=x+Ik*Cos(IK*bj_DEGTORAD)local real IL=y+Ik*Sin(IK*bj_DEGTORAD)call SetUnitX(IJ,Il)call SetUnitY(IJ,IL)call SetUnitFacing(IJ,IK)if E4E(hN,ho,Il,IL)<=Ik thencall Q7O(p5,m5,DDE,true,Q9O)call KillUnit(IJ)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullset IJ=nullreturn falseendfunctionfunction SXO takes unit p5,integer DDE,unit m5,boolean Q9O returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit IJ=CreateUnit(GetOwningPlayer(p5),1747990092,GetUnitX(p5),GetUnitY(p5),H4E(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O7E(IAE,"damage",Q9O)call O8E(IAE,"Projectile",IJ)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,.035,true)call TriggerAddCondition(t,Condition(function SEO))set t=nullset IJ=nullendfunctionfunction SOO takes nothing returns booleanif IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall SXO(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093742660),GetSpellTargetUnit(),false)endifreturn falseendfunctionfunction SRO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093742660)local unit m5=GetSpellTargetUnit()local group g=FYE()local boolean SIO=FUE(GetSpellTargetUnit())call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),700,Condition(function SOO))if SIO thencall SXO(FLE,DDE,m5,false)elsecall SXO(FLE,DDE,m5,true)endifcall FWE(g)set FLE=nullset m5=nullset g=nullendfunctionfunction SAO takes nothing returns booleanif IsUnitIllusion(GetFilterUnit()) and GetUnitTypeId(GetFilterUnit())==1332179560 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall SetUnitFacing(GetFilterUnit(),I6V)call SetUnitAnimation(GetFilterUnit(),"spell")endifreturn falseendfunctionfunction SNO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local group g=FYE()set I6V=H4E(GetUnitX(FLE),GetUnitY(FLE),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),700,Condition(function SAO))call FWE(g)set FLE=nullset g=nullendfunctionfunction SBO takes nothing returns booleanif GetSpellAbilityId()==1093742660 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall SRO()elsecall SNO()endifendifreturn falseendfunctionfunction T5E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SBO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function SBO))call HCE(1093742659)call HCE(1093742664)call HCE(1093742663)call HCE(1093742665)call HCE(1093742662)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function Q3O))set t=nullendfunctionfunction SCO takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(u),1697656901,GetUnitX(u),GetUnitY(u),0)call GKE(oA,1093682243)call IssueTargetOrderById(oA,$D0132,u)set u=nullset oA=nullendfunctionfunction SDO takes nothing returns booleanif GetSpellAbilityId()==1093682231 thencall SCO()endifreturn falseendfunctionfunction T6E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SDO))set t=nullendfunctionfunction SFO takes nothing returns booleanreturn GetSpellAbilityId()==1093678938endfunctionfunction U4 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0)!=nullendfunctionfunction U5 takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697657394,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)call GKE(oA,1093678676)call SetUnitAbilityLevel(oA,1093678676,GetUnitAbilityLevel(FLE,1093678938))call IssueTargetOrderById(oA,$D00CB,GetEnumUnit())set FLE=nullset oA=nullendfunctionfunction SGO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local group P3E=FYE()local boolexpr hP=Condition(function U4)call GroupEnumUnitsInRange(P3E,GetUnitX(FLE),GetUnitY(FLE),650,hP)call ForGroup(P3E,function U5)call DestroyBoolExpr(hP)call FWE(P3E)set FLE=nullset P3E=nullendfunctionfunction T7E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SFO))call TriggerAddAction(t,function SGO)set t=nullendfunctionfunction SHO takes unit p5,integer DDE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)call GKE(MIE,1093748546)call SetUnitAbilityLevel(MIE,1093748546,DDE)call IssueTargetOrderById(MIE,$D0065,p5)call GKE(p5,1093808975)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808975,false)set MIE=nullendfunctionfunction SJO takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1747993172endfunctionfunction SKO takes unit SLO returns booleanlocal group g=FYE()local boolean SMO=falsecall GroupEnumUnitsInRange(g,GetUnitX(SLO),GetUnitY(SLO),375,Condition(function SJO))if FirstOfGroup(g)!=null thenset SMO=trueendifcall FWE(g)set g=nullreturn SMOendfunctionfunction SPO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer MDE=R1E(IAE,"TargetIndex")local unit CEE=BYE(MDE)local integer A7O=R1E(IAE,"Count")local integer DDE=R1E(IAE,"Level")local real H9X=(LoadReal(YX,(IAE),(442)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thenset A7O=A7O+1call O4E(IAE,"Count",A7O)elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093677402 and GetTriggerUnit()==CEE thencall SaveReal(YX,(IAE),(442),(((TimerGetElapsed(K))+1.)*1.))call DisableTrigger(GetTriggeringTrigger())call SHO(CEE,DDE)call EnableTrigger(GetTriggeringTrigger())call O4E(IAE,"Count",0)endifif nA(GetUnitX(CEE),GetUnitY(CEE),375)==false and SKO(CEE)==false thenif H9X<(TimerGetElapsed(K))or GetTriggerEvalCount(t)==1 thencall UnitRemoveAbility(CEE,1110454833)call UnitRemoveAbility(CEE,1093748545)call UnitRemoveAbility(CEE,1093808975)call UnitRemoveAbility(CEE,1110459705)call O1E(IAE)call IRE(t)endifelseif(R3E(IAE,"NaturesGuise|Special")and A7O>($96*DDE))thencall UnitRemoveAbility(CEE,1110454833)call UnitRemoveAbility(CEE,1093748545)call UnitRemoveAbility(CEE,1093808975)call UnitRemoveAbility(CEE,1110459705)call O1E(IAE)call IRE(t)elseif R3E(IAE,"NaturesGuise|Special")and GetUnitAbilityLevel(CEE,1110454833)==0 and GetUnitAbilityLevel(CEE,1093748545)>0 thencall SaveReal(YX,(IAE),(442),(((TimerGetElapsed(K))+1.)*1.))call DisableTrigger(GetTriggeringTrigger())call SHO(CEE,DDE)call EnableTrigger(GetTriggeringTrigger())elseif GetUnitAbilityLevel(CEE,1110454833)==0 thencall UnitRemoveAbility(CEE,1110454833)call UnitRemoveAbility(CEE,1093748545)call UnitRemoveAbility(CEE,1093808975)call UnitRemoveAbility(CEE,1110459705)call O1E(IAE)call IRE(t)elsecall SaveReal(YX,(IAE),(442),(((TimerGetElapsed(K))+1.)*1.))endifset t=nullset CEE=nullreturn falseendfunctionfunction SQO takes nothing returns nothinglocal unit CEE=GetAttacker()local integer CBE=GetHandleId(CEE)local trigger t=RTE(CBE,"Nature|Trg")local integer D6E=GetHandleId(t)if R3E(D6E,"NaturesGuise|Special")and GetAttacker()==CEE thencall UnitRemoveAbility(CEE,1110454833)call UnitRemoveAbility(CEE,1093748545)call O1E(D6E)call IRE(t)endifset CEE=nullset t=nullendfunctionfunction SSO takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1110454833)>0 or GetUnitAbilityLevel(GetAttacker(),1093748545)>0 thencall SQO()endifreturn falseendfunctionfunction STO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()!=EVENT_WIDGET_DEATH thenif GetUnitAbilityLevel(J6E,1110454833)>0 thencall GKE(J6E,1093748545)endifendifcall FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction SUO takes nothing returns nothinglocal trigger tlocal integer IAEset t=CreateTrigger()set IAE=GetHandleId(t)call O4E(IAE,"TargetIndex",B_E(GetSpellTargetUnit()))call O4E(IAE,"Level",GetUnitAbilityLevel(GetTriggerUnit(),1093677402))call O4E(IAE,"Count",0)call SaveReal(YX,(IAE),(442),(((TimerGetElapsed(K))+1.)*1.))call TriggerAddCondition(t,Condition(function SPO))call TriggerRegisterTimerEvent(t,.1,true)call GKE(GetSpellTargetUnit(),1093808975)call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),1093808975,false)if GetTriggerUnit()==GetSpellTargetUnit()thencall O7E(IAE,"NaturesGuise|Special",true)call RVE(GetHandleId(GetSpellTargetUnit()),"Nature|Trg",t)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set t=CreateTrigger()call SaveUnitHandle(YX,(GetHandleId(t)),(2),(GetTriggerUnit()))call TriggerAddCondition(t,Condition(function STO))call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterDeathEvent(t,GetTriggerUnit())endifset t=nullendfunctionfunction SWO takes nothing returns booleanif GetSpellAbilityId()==1093677402 thencall SUO()endifreturn falseendfunctionfunction T8E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SWO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function SSO))set t=nullendfunctionfunction SYO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(686)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or SZO<(TimerGetElapsed(K))or FHE(F3E)thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SaveReal(YX,(GetHandleId(F3E)),(686),((0)*1.))call UnitRemoveAbility(F3E,1093809232)call UnitRemoveAbility(F3E,1093809232)call UnitRemoveAbility(F3E,1093809232)call UnitRemoveAbility(F3E,1093809232)call UnitRemoveAbility(F3E,1110459719)elsecall MNE(J6E,F3E,1,$F+$F*MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction S_O takes unit J6E,unit F3E returns nothinglocal trigger tlocal integer H2Elocal real SZO=(LoadReal(YX,(GetHandleId(F3E)),(686)))local integer MAE=GetUnitAbilityLevel(J6E,1093748535)if SZO>(TimerGetElapsed(K))thencall SaveReal(YX,(GetHandleId(F3E)),(686),(((TimerGetElapsed(K))+4)*1.))elseset t=CreateTrigger()set H2E=GetHandleId(t)call SaveReal(YX,(GetHandleId(F3E)),(686),(((TimerGetElapsed(K))+4)*1.))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function SYO))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",F3E,"overhead")))if MAE==1 thencall GKE(F3E,1093809232)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809232,false)elseif MAE==2 thencall GKE(F3E,1093809232)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809232,false)elseif MAE==3 thencall GKE(F3E,1093809232)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809232,false)elseif MAE==4 thencall GKE(F3E,1093809232)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809232,false)endifendifset t=nullendfunctionfunction Sentinel_FindClosest takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(JUV)and(GetUnitTypeId(GetFilterUnit())==1747993172 or GetUnitTypeId(GetFilterUnit())==1747993173)thenif E4E(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),JWV,JYV)<JZV thenset JTV=GetFilterUnit()set JZV=E4E(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),JWV,JYV)endifendifreturn falseendfunctionfunction S0O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3Elocal group glocal real C5X=(LoadReal(YX,(H2E),(442)))local real xlocal real ylocal integer DAElocal real hplocal integer DZX=(LoadInteger(YX,(H2E),(34)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH thenset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))endifif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenif GetTriggerUnit()==MIE thencall UnitRemoveAbility(MIE,1097886070)call FlushChildHashtable(YX,(H2E))call IRE(t)endifelseif GetUnitTypeId(MIE)==1747993172 thenset I9V=MIEset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(MIE),GetUnitY(MIE),110,Condition(function K3E))set F3E=ENO(g,GetUnitX(MIE),GetUnitY(MIE))call FWE(g)if F3E!=null thencall S_O(J6E,F3E)set x=GetUnitX(MIE)set y=GetUnitY(MIE)set hp=GetUnitState(MIE,UNIT_STATE_LIFE)call ShowUnit(MIE,false)call DisableTrigger(t)call KillUnit(MIE)call EnableTrigger(t)set MIE=CreateUnit(GetOwningPlayer(J6E),1747993173,x,y,0)call SetUnitState(MIE,UNIT_STATE_LIFE,hp)call UnitApplyTimedLife(MIE,1112820806,480-((TimerGetElapsed(K))-C5X))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveReal(YX,(H2E),(411),(((TimerGetElapsed(K))+4)*1.))endifelseif GetUnitTypeId(MIE)==1747993173 and(LoadReal(YX,(H2E),(411)))<(TimerGetElapsed(K))thenset x=GetUnitX(MIE)set y=GetUnitY(MIE)set hp=GetUnitState(MIE,UNIT_STATE_LIFE)call ShowUnit(MIE,false)call DisableTrigger(t)call KillUnit(MIE)call EnableTrigger(t)set MIE=CreateUnit(GetOwningPlayer(J6E),1747993172,x,y,0)call SetUnitState(MIE,UNIT_STATE_LIFE,hp)call UnitApplyTimedLife(MIE,1112820806,480-((TimerGetElapsed(K))-C5X))call SaveUnitHandle(YX,(H2E),(19),(MIE))endifset t=nullset J6E=nullset F3E=nullset MIE=nullset g=nullreturn falseendfunctionfunction S1O takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093748535)local real x=GetSpellTargetX()local real y=GetSpellTargetY()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1747993172,x,y,0)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call UnitApplyTimedLife(MIE,1112820806,480)call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function S0O))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K)))*1.))call SaveInteger(YX,(H2E),(34),(0))set t=nullset J6E=nullset MIE=nullendfunctionfunction S2O takes nothing returns booleanif GetSpellAbilityId()==1093748535 thencall S1O()endifreturn falseendfunctionfunction UVE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S2O))set t=nullendfunctionfunction gg_ForestSentinelHack takes nothing returns nothinglocal unit KGE=GetTriggerUnit()local integer XOE=GetUnitAbilityLevel(KGE,1093748535)local real x=.0local real y=.0local unit S3O=nulllocal trigger t=nulllocal integer FIE=0local unit D9E=nulllocal unit u=nulllocal group g=nulllocal boolexpr b=Condition(function NOE)if((B6E(GetOwningPlayer(KGE))))thenset t=CreateTrigger()set FIE=GetHandleId(t)set g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(KGE),800,Condition(function NOE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(KGE))endloopset D9E=uendifcall DestroyGroup(g)if(D9E!=null)thenset x=GetUnitX(D9E)+GetRandomReal(-10.,10.)set y=GetUnitY(D9E)+GetRandomReal(-10.,10.)elseset x=GetUnitX(KGE)+GetRandomReal(-10.,10.)set y=GetUnitY(KGE)+GetRandomReal(-10.,10.)endifset S3O=CreateUnit(GetOwningPlayer(KGE),1747993172,x,y,0)call UnitApplyTimedLife(S3O,1112820806,480)call TriggerRegisterUnitEvent(t,S3O,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,KGE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function S0O))call SaveUnitHandle(YX,(FIE),(19),(S3O))call SaveUnitHandle(YX,(FIE),(2),(KGE))call SaveReal(YX,(FIE),(442),(((TimerGetElapsed(K)))*1.))call UnitAddAbility(KGE,1093751126)call FVE(KGE,S3O)endifset t=nullset KGE=nullset S3O=nullcall DestroyBoolExpr(b)set D9E=nullset g=nullset u=nullendfunctionfunction S4O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAElocal player pif J6E==null or GME(J6E)thencall UnitRemoveAbility(MIE,1093809230)call UnitRemoveAbility(MIE,1093809229)call UnitRemoveAbility(MIE,1093809460)call UnitRemoveAbility(MIE,1093809459)call UnitRemoveAbility(MIE,1093810009)call UnitRemoveAbility(MIE,1093810224)call UnitRemoveAbility(MIE,1093810010)call UnitRemoveAbility(MIE,1093810225)elseif(B2E(GetOwningPlayer(J6E)) and B2E(GetOwningPlayer(MIE))==false)or(B2E(GetOwningPlayer(J6E))==false and B2E(GetOwningPlayer(MIE)))thenif B2E(GetOwningPlayer(J6E))thenset p=RX[0]elseset p=GX[0]endifcall SetUnitOwner(MIE,p,false)endifset MAE=GetUnitAbilityLevel(J6E,1093809231)if HXE()thencall UnitRemoveAbility(MIE,1093809230)call UnitRemoveAbility(MIE,1093809229)call UnitRemoveAbility(MIE,1093809460)call UnitRemoveAbility(MIE,1093809459)call UnitAddAbility(MIE,1093810224)call UnitAddAbility(MIE,1093810009)call UnitAddAbility(MIE,1093810225)call UnitAddAbility(MIE,1093810010)call SetUnitAbilityLevel(MIE,1093810224,MAE)call SetUnitAbilityLevel(MIE,1093810009,MAE)call SetUnitAbilityLevel(MIE,1093810225,MAE)call SetUnitAbilityLevel(MIE,1093810010,MAE)elsecall UnitRemoveAbility(MIE,1093810009)call UnitRemoveAbility(MIE,1093810224)call UnitRemoveAbility(MIE,1093810010)call UnitRemoveAbility(MIE,1093810225)call UnitAddAbility(MIE,1093809229)call UnitAddAbility(MIE,1093809230)call UnitAddAbility(MIE,1093809459)call UnitAddAbility(MIE,1093809460)call SetUnitAbilityLevel(MIE,1093809229,MAE)call SetUnitAbilityLevel(MIE,1093809230,MAE)call SetUnitAbilityLevel(MIE,1093809459,MAE)call SetUnitAbilityLevel(MIE,1093809460,MAE)endifcall SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))endifset t=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction S5O takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local player plocal unit MIEif B2E(GetOwningPlayer(J6E))thenset p=RX[0]elseset p=GX[0]endifset MIE=CreateUnit(p,1697657174,0,0,0)call GKE(J6E,1093810483)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function S4O))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullset MIE=nullendfunctionfunction S6O takes nothing returns booleanif GetLearnedSkill()==1093809231 and GetUnitAbilityLevel(GetTriggerUnit(),1093809231)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall S5O()endifreturn falseendfunctionfunction T9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function S6O))call HCE(1093809229)call HCE(1093809459)call HCE(1093810224)call HCE(1093810225)call HCE(1093809230)call HCE(1093809460)call HCE(1093810009)call HCE(1093810010)set t=nullendfunctionfunction S7O takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal real S8O=(LoadReal(YX,(H2E),(21)))call SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+S8O)set J6E=nullset F3E=nullendfunctionfunction S9O takes nothing returns nothinglocal trigger t=JLE(S3V,GetEnumUnit(),1747993656,"S7O",400)local integer H2E=GetHandleId(t)call SaveReal(YX,(H2E),(21),((S4V)*1.))set t=nullendfunctionfunction TVO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local group gif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093809971)call UnitRemoveAbility(F3E,1110459724)elseif GetTriggerEvalCount(t)>3 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093809971)call UnitRemoveAbility(F3E,1110459724)endifcall DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",F3E,"origin"))set I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),525,Condition(function LCE))set S3V=F3Eset S4V=$F+$F*MAEcall ForGroup(g,function S9O)call FWE(g)call MNE(J6E,F3E,1,S4V)endifset t=nullset J6E=nullset F3E=nullset g=nullreturn falseendfunctionfunction TEO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093809742)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call GKE(F3E,1093809971)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809971,false)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function TVO))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K)))*1.))call SaveInteger(YX,(H2E),(5),(MAE))set t=nullset J6E=nullendfunctionfunction LeechSeed takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call JLE(J6E,F3E,1747993657,"TEO",600)set J6E=nullset F3E=nullendfunctionfunction TXO takes nothing returns booleanif GetSpellAbilityId()==1093809742 and FUE(GetSpellTargetUnit())==false thencall TEO()endifreturn falseendfunctionfunction UEE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TXO))set t=nullendfunctionfunction TOO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local integer A7O=R1E(IAE,"Count")if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and A7O<(4+DDE)thenset A7O=A7O+1call O4E(IAE,"Count",A7O)call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-5-5*DDE)call MNE(p5,m5,1,$A+$A*DDE)elseif A7O>=(4+DDE)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750095 and GetSpellAbilityId()!=1093747504 and GetSpellAbilityId()!=1093753417 and GetSpellAbilityId()!=1093810265 and QIE(GetSpellAbilityId())==false and(DOE(GetSpellAbilityId())or GetSpellAbilityId()==1093678667))thencall DestroyEffect(RWE(IAE,"FX"))call UnitRemoveAbility(m5,1093750867)call UnitRemoveAbility(m5,1110459217)call O1E(IAE)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction TRO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer DDE=GetUnitAbilityLevel(p5,1093743692)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GKE(m5,1093750867)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function TOO))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",m5,"overhead"))call O4E(IAE,"Level",DDE)call O4E(IAE,"Count",0)set p5=nullset m5=nullset t=nullendfunctionfunction TIO takes nothing returns nothinglocal group g=FYE()local location l=GetSpellTargetLoc()set I9V=GetTriggerUnit()set oZ=GetTriggerUnit()call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function L0E))call ForGroup(g,function TRO)call H1E("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)call FWE(g)call RemoveLocation(l)set g=nullset l=nullendfunctionfunction TAO takes nothing returns booleanif GetSpellAbilityId()==1093743692 thencall TIO()endifreturn falseendfunctionfunction UXE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TAO))set t=nullendfunctionfunction TNO takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),1110455640)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093684314)>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),1110455640)set d=(.15+.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(),1093684314)))*GetHeroInt(GetEventDamageSource(),true)call H7E("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,$D8,$D8,$D8)call DisableTrigger(GetTriggeringTrigger())call MNE(GetEventDamageSource(),GetTriggerUnit(),3,d)call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction TBO takes nothing returns nothinglocal trigger tlocal unit F3Elocal unit J6Eif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset F3E=GetSpellTargetUnit()set J6E=GetTriggerUnit()elseset F3E=GetTriggerUnit()set J6E=GetAttacker()endifif IsUnitIllusion(J6E)==false thenset t=CreateTrigger()call O8E(GetHandleId(t),"Source",J6E)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function TNO))endifset t=nullset F3E=nullset J6E=nullendfunctionfunction ve takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),1093684314)>0 and(R3E(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")thencall TBO()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==$D011F)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==$D0120)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093684314 thencall TBO()endifreturn falseendfunctionfunction TCO takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function ve))call O8E(GetHandleId(t),"Hero",FLE)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction TDO takes nothing returns booleanif GetLearnedSkill()==1093684314 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684314)==1 thencall TCO(GetTriggerUnit(),false)endifreturn falseendfunctionfunction UOE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function TDO))set t=nullendfunctionfunction TFO takes nothing returns booleanreturn GetSpellAbilityId()==1093684275endfunctionfunction TGO takes nothing returns booleancall IRE(GetTriggeringTrigger())call VolumeGroupReset()return falseendfunctionfunction THO takes nothing returns nothinglocal location GRX=GetUnitLoc(GetTriggerUnit())local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093684275)+2,false)call TriggerAddCondition(t,Condition(function TGO))call CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLifeBJ(5.,1112820806,bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,1093684274)call SetUnitAbilityLevelSwapped(1093684274,bj_lastCreatedUnit,GetUnitAbilityLevel(GetTriggerUnit(),1093684275))call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D0270,GRX)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)call RemoveLocation(GRX)set t=nullset GRX=nullendfunctionfunction GS takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TFO))call TriggerAddAction(t,function THO)set t=nullendfunctionfunction TJO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093684547)call FlushChildHashtable(YX,(H2E))call IRE(t)if GME(J6E)==false and GME(F3E)==false thenendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction TKO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093684547)call FlushChildHashtable(YX,(H2E))call IRE(t)if GME(J6E)==false and GME(F3E)==false thencall GKE(MIE,1093684307)call SetUnitAbilityLevel(MIE,1093684307,MAE)call IssueTargetOrderById(MIE,$D02BC,F3E)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerAddCondition(t,Condition(function TJO))call TriggerRegisterTimerEvent(t,.01,false)call SaveUnitHandle(YX,(GetHandleId(t)),(2),(J6E))call SaveUnitHandle(YX,(GetHandleId(t)),(17),(F3E))call SaveInteger(YX,(GetHandleId(t)),(5),(MAE))endifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction TLO takes integer id returns booleanreturn id==1093682265 or id==1093752642 or id==1093677622 or id==1093679446 or id==1095263841 or id==1093684314 or id==1093685582 or id==1093685065endfunctionfunction TMO takes nothing returns booleanlocal unit F3E=GetTriggerUnit()local unit J6E=(LoadUnitHandle(YX,(GetHandleId(GetTriggeringTrigger())),(2)))local trigger tif GetUnitAbilityLevel(GetTriggerUnit(),1110455638)>0 and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 and QIE(GetSpellAbilityId())==false and GetSpellAbilityId()!=1095328363 and GetSpellAbilityId()!=1093678426 and GetSpellAbilityId()!=1093682768 and GetSpellAbilityId()!=1093685593 and GetSpellAbilityId()!=1093678680 and GetSpellAbilityId()!=1093681489 and GetSpellAbilityId()!=1093808472 and GetSpellAbilityId()!=1093808471 and GetSpellAbilityId()!=1093808470 and GetSpellAbilityId()!=1093743191 and GetSpellAbilityId()!=1093678667 and GetSpellAbilityId()!=1097163124 and GetSpellAbilityId()!=1093683801 and GetSpellAbilityId()!=1093682767 and GetSpellAbilityId()!=1093750345 and GetSpellAbilityId()!=1093750089 and GetSpellAbilityId()!=1093751096 and GetSpellAbilityId()!=1093751361 and GetSpellAbilityId()!=1093751126 and GetSpellAbilityId()!=1093808473 and GetSpellAbilityId()!=1093748565 and(GetSpellAbilityId()!=1093753177)and TLO(GetSpellAbilityId())==false thenif IsUnitEnemy(F3E,GetOwningPlayer(J6E)) and QOE(GetSpellAbilityId())==false thenif((LoadInteger(YX,(GetHandleId((F3E))),((4305))))==1)==false thenset t=CreateTrigger()call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function TKO))call SaveUnitHandle(YX,(GetHandleId(t)),(2),(J6E))call SaveUnitHandle(YX,(GetHandleId(t)),(17),(F3E))set t=nullendifendifendifset F3E=nullset J6E=nullreturn falseendfunctionfunction TPO takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=AVVlocal real C4O=(LoadReal(YX,(H2E),(20)))call SetHeroInt(J6E,GetHeroInt(J6E,false)+1,true)call H7E("+1 "+GetObjectName(1848658512),3,J6E,.023,0,$FF,0,$E6)set J6E=nullendfunctionfunction TQO takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=AVVlocal real C4O=(LoadReal(YX,(H2E),(20)))call SetHeroInt(J6E,GetHeroInt(J6E,false)+2,true)call H7E("+2 "+GetObjectName(1848658512),3,J6E,.023,0,$FF,0,$E6)set J6E=nullendfunctionfunction TSO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit GSE=GetTriggerUnit()if IsUnitType(GSE,UNIT_TYPE_HERO) and GetUnitTypeId(GSE)!=1211117642 and IsUnitIllusion(GSE)==false and IsUnitInRange(J6E,GSE,850)and GME(J6E)==false and IsUnitAlly(J6E,GetOwningPlayer(GSE))==false thenif J6E==GetKillingUnit()thenset H4V[GetPlayerId(GetOwningPlayer(J6E))]=H4V[GetPlayerId(GetOwningPlayer(J6E))]+2call H7E("-2 "+GetObjectName(1848658512),3,GSE,.023,$FF,0,0,$E6)call SetHeroInt(GSE,GetHeroInt(GSE,false)-2,true)call JLE(GSE,J6E,1747993424,"TQO",450)elseset H4V[GetPlayerId(GetOwningPlayer(J6E))]=H4V[GetPlayerId(GetOwningPlayer(J6E))]+1call H7E("-1 "+GetObjectName(1848658512),3,GSE,.023,$FF,0,0,$E6)call SetHeroInt(GSE,GetHeroInt(GSE,false)-1,true)call JLE(GSE,J6E,1747993424,"TPO",450)endifendifset t=nullset J6E=nullset GSE=nullreturn falseendfunctionfunction TTO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TMO))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=CreateTrigger()set H2E=GetHandleId(t)call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TSO))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction TUO takes nothing returns booleanif GetLearnedSkill()==1093684547 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093684547)==1 thencall TTO()endifreturn falseendfunctionfunction TWO takes nothing returns booleanlocal integer TYO=H4V[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(QV[GetPlayerId(GetTriggerPlayer())])==1311781185 and TYO>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetObjectName(1848657997)+" "+I2S(TYO))endifreturn falseendfunctionfunction URE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function TUO))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function TWO))set t=nullendfunctionfunction TZO takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall MNE(YS,GetEnumUnit(),1,ET)call IssueTargetOrderById(VT,$D006B,GetEnumUnit())elsecall MNE(YS,GetEnumUnit(),1,ET/ 3)call IssueTargetOrderById(VT,$D006B,GetEnumUnit())endifendfunctionfunction T_O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local unit MIE=RME(H2E,"Caster")local integer MAE=R1E(H2E,"Level")local real x=R2E(H2E,"x")local real y=R2E(H2E,"y")local group g=FYE()local real dlocal real alocal real x2local real y2set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,375,Condition(function L1E))set YS=J6Eset ET=MAE*$Cset VT=MIEcall ForGroup(g,function TZO)call FWE(g)call DestroyEffect(RWE(H2E,"FX0"))call DestroyEffect(RWE(H2E,"FX1"))call DestroyEffect(RWE(H2E,"FX2"))call DestroyEffect(RWE(H2E,"FX3"))call DestroyEffect(RWE(H2E,"FX4"))call DestroyEffect(RWE(H2E,"FX5"))call DestroyEffect(RWE(H2E,"FX6"))call DestroyEffect(RWE(H2E,"FX7"))call DestroyEffect(RWE(H2E,"FX8"))if GetTriggerEvalCount(t)==8 thencall O1E(H2E)call IRE(t)elseset d=0set a=0set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX0",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=$96set a=45set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX1",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=90set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX2",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=$96set a=$87set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX3",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=$B4set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX4",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=$96set a=$E1set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX5",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=270set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX6",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=$96set a=305set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX7",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=360set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call O9E(H2E,"FX8",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))endifset t=nullset J6E=nullset MIE=nullset g=nullreturn falseendfunctionfunction T0O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=GetUnitAbilityLevel(p5,1093678644)local real x1=R2E(IAE,"x")local real y1=R2E(IAE,"y")local unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)local real x2local real y2local real dlocal real alocal integer icall GKE(MIE,1093744966)call SetUnitAbilityLevel(MIE,1093744966,DDE)if GetTriggerEvalCount(t)==1 thenset i=1loopexitwhen i>$Aset d=GetRandomReal(0,450)set a=GetRandomReal(0,360)set x2=x1+d*Cos(a*bj_DEGTORAD)set y2=y1+d*Sin(a*bj_DEGTORAD)set MIE=CreateUnit(GetOwningPlayer(p5),1697656906,GetUnitX(p5),GetUnitY(p5),90)call IssuePointOrderById(MIE,$D0010,x2,y2)call UnitApplyTimedLife(MIE,1112820806,.5)set i=i+1endloopelsecall O1E(IAE)call IRE(t)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call O5E(IAE,"x",(x1)*1.)call O5E(IAE,"y",(y1)*1.)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function T_O))call TriggerEvaluate(t)endifset p5=nullset MIE=nullset t=nullreturn falseendfunctionfunction T1O takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call TriggerRegisterTimerEvent(t,.4,true)call TriggerAddCondition(t,Condition(function T0O))call O8E(IAE,"Source",p5)call O5E(IAE,"x",(x)*1.)call O5E(IAE,"y",(y)*1.)call RemoveLocation(l)set t=nullset p5=nullset l=nullendfunctionfunction T2O takes nothing returns booleanif GetSpellAbilityId()==1093678644 thencall T1O()endifreturn falseendfunctionfunction UIE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T2O))call HCE(1093744966)set t=nullendfunctionfunction T3O takes nothing returns booleanreturn GetLearnedSkill()==1093677909endfunctionfunction T4O takes nothing returns nothingcall SetPlayerTechResearchedSwap(1378889781,GetUnitAbilityLevelSwapped(1093677909,GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))endfunctionfunction Pv takes nothing returns nothingset dX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dX,Condition(function T3O))call TriggerAddAction(dX,function T4O)endfunctionfunction T5O takes nothing returns booleanreturn GetLearnedSkill()==1093677130 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction T6O takes nothing returns nothingif(GetUnitAbilityLevel(GetTriggerUnit(),1093684546)==0)thencall GKE(GetTriggerUnit(),1093684546)endifcall SetUnitAbilityLevel(GetTriggerUnit(),1093684546,GetUnitAbilityLevel(GetTriggerUnit(),1093677130))endfunctionfunction Pw takes nothing returns nothingset dY=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dY,Condition(function T5O))call TriggerAddAction(dY,function T6O)endfunctionfunction T7O takes nothing returns nothinglocal unit J6E=GetAttacker()local unit F3E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093682266)local boolean T8O=R3E(GetHandleId(J6E),"Backstab|Free")local real d=RAbsBJ(GetUnitFacing(F3E)-GetUnitFacing(J6E))if d>$B4 thenset d=360-dendifif d<=105 or T8O thencall O7E(GetHandleId(J6E),"Backstab|Free",false)if GetUnitAbilityLevel(F3E,1093678162)==0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",F3E,"chest"))call MNE(J6E,F3E,2,GetHeroAgi(J6E,true)*(.25*MAE+.25))endifendifset J6E=nullset F3E=nullendfunctionfunction T9O takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093682266)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false thencall T7O()endifreturn falseendfunctionfunction UNE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function T9O))set t=nullendfunctionfunction UVO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656883,x,y,0)local integer DDE=GetUnitAbilityLevel(FLE,1093685831)local real vr=(83+17*DDE)*.01call SetUnitVertexColor(oA,$FF,$FF,$FF,$96)call UnitApplyTimedLife(oA,1112820806,6)call SetUnitScale(oA,vr,vr,vr)if B3E(GetOwningPlayer(FLE))thencall GKE(oA,1093677369)call SetUnitAbilityLevel(oA,1093677369,DDE)elsecall GKE(oA,1093682487)call SetUnitAbilityLevel(oA,1093682487,DDE)endifcall IssuePointOrderById(oA,$D01F9,x,y)call RemoveLocation(l)set FLE=nullset l=nullset oA=nullendfunctionfunction UEO takes nothing returns booleanif GetSpellAbilityId()==1093685831 thencall UVO()endifreturn falseendfunctionfunction UBE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UEO))set t=nullendfunctionfunction UXO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real HUE=30*GetUnitAbilityLevel(p5,1093684025)local trigger tlocal integer IAElocal real x=GetUnitX(m5)-75*Cos(GetUnitFacing(m5)*bj_DEGTORAD)local real y=GetUnitY(m5)-75*Sin(GetUnitFacing(m5)*bj_DEGTORAD)call SetUnitX(p5,x)call SetUnitY(p5,y)call SetUnitFacing(p5,GetUnitFacing(m5))call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))if IsUnitEnemy(m5,GetOwningPlayer(p5))thencall MNE(p5,m5,1,HUE)call O7E(GetHandleId(p5),"Backstab|Free",true)call IssueTargetOrderById(p5,$D000F,m5)if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)thencall EYE(.01)call IssueTargetOrderById(p5,$D000F,m5)endifendifset p5=nullset m5=nullset t=nullendfunctionfunction UOO takes nothing returns booleanif GetSpellAbilityId()==1093684025 thencall UXO()endifreturn falseendfunctionfunction URO takes nothing returns booleanif GetSpellAbilityId()==1093684025 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifreturn falseendfunctionfunction UCE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UOO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function URO))set t=nullendfunctionfunction UAO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call SetUnitAnimationByIndex(J6E,8)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction UNO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SetUnitAnimationByIndex(J6E,7)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function UAO))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction UBO takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())==1311788336 thencall UNO()endifreturn falseendfunctionfunction OYX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function UBO))set t=nullendfunctionfunction UCO takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call MNE(HAV,GetEnumUnit(),1,HNV)endfunctionfunction UDO takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer UFO=GetHandleId(t2)local trigger t1=RTE(UFO,"t1")local integer UGO=GetHandleId(t1)local unit UHO=RME(UFO,"Remnant")local group glocal integer MAE=R1E(UFO,"Level")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall ShowUnit(UHO,false)call KillUnit(UHO)call O1E(UGO)call IRE(t1)call O1E(UFO)call IRE(t2)elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(UHO)) and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 thenset g=FYE()set I9V=UHOset HAV=UHOset HNV=100+40*MAEcall GroupEnumUnitsInRange(g,GetUnitX(UHO),GetUnitY(UHO),285,Condition(function K3E))call ForGroup(g,function UCO)call FWE(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(UHO),GetUnitY(UHO)))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(UHO),GetUnitY(UHO)))call ShowUnit(UHO,false)call KillUnit(UHO)call O1E(UGO)call IRE(t1)call O1E(UFO)call IRE(t2)endifset t1=nullset t2=nullset UHO=nullset g=nullreturn falseendfunctionfunction UJO takes nothing returns booleanlocal trigger t1=GetTriggeringTrigger()local integer UKO=GetHandleId(t1)local trigger t2local integer CXOlocal unit ULOlocal integer DDElocal real x=R2E(UKO,"x")local real y=R2E(UKO,"y")local real UMOlocal integer CGX=GetTriggerEvalCount(t1)if CGX==1 thencall DestroyEffect(RWE(UKO,"FX1"))elseif CGX==2 thencall DestroyEffect(RWE(UKO,"FX2"))set t2=CreateTrigger()set CXO=GetHandleId(t2)set DDE=R1E(UKO,"Level")set UMO=R2E(UKO,"Facing")set ULO=CreateUnit(GetOwningPlayer(RME(UKO,"Source")),1747990342,x,y,UMO)call SetUnitVertexColor(ULO,$FF,$FF,$FF,100)call UnitApplyTimedLife(ULO,1112820806,$C)call O8E(UKO,"Remnant",ULO)call O8E(CXO,"Remnant",ULO)call RVE(CXO,"t1",t1)call O4E(CXO,"Level",DDE)call TriggerRegisterUnitInRange(t2,ULO,$EB,Condition(function BUE))call TriggerRegisterUnitEvent(t2,ULO,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function UDO))call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",ULO,"origin"))elseif CGX>2 thenset ULO=RME(UKO,"Remnant")call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",ULO,"origin"))endifset t1=nullset t2=nullset ULO=nullreturn falseendfunctionfunction UPO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t1=CreateTrigger()local integer UKO=GetHandleId(t1)local real x=GetUnitX(p5)local real y=GetUnitY(p5)call TriggerRegisterTimerEvent(t1,.5,true)call TriggerAddCondition(t1,Condition(function UJO))call O5E(UKO,"x",(x)*1.)call O5E(UKO,"y",(y)*1.)call O4E(UKO,"Level",GetUnitAbilityLevel(p5,1093743696))call O8E(UKO,"Source",p5)call O5E(UKO,"Facing",GetUnitFacing(p5)*1.)call O9E(UKO,"FX1",AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y))call O9E(UKO,"FX2",AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y))set p5=nullset t1=nullendfunctionfunction UQO takes nothing returns booleanif GetSpellAbilityId()==1093743696 thencall UPO()endifreturn falseendfunctionfunction V4X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UQO))set t=nullendfunctionfunction USO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real RK=R2E(IAE,"Angle")local real x=GetUnitX(m5)-5*Cos(RK)local real y=GetUnitY(m5)-5*Sin(RK)local integer DDE=R1E(IAE,"Level")local real UTO=R2E(IAE,"x")local real UUO=R2E(IAE,"y")if((UTO-x)*(UTO-x))+((UUO-y)*(UUO-y))<100 thenset x=UTOset y=UUOendifcall SetUnitX(m5,x)call SetUnitY(m5,y)if GetTriggerEvalCount(t)==($A+$A*DDE)thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction UWO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit oA=CreateUnit(GetOwningPlayer(p5),1966092376,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))local integer DDE=GetUnitAbilityLevel(p5,1093743698)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function USO))call O8E(IAE,"Target",m5)call O5E(IAE,"Angle",Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5)))call O4E(IAE,"Level",DDE)call O5E(IAE,"x",GetUnitX(p5))call O5E(IAE,"y",GetUnitY(p5))call GKE(oA,1093743697)call SetUnitAbilityLevel(oA,1093743697,DDE)call IssueTargetOrderById(oA,$D0200,m5)if not B6E(GetOwningPlayer(p5))thencall UnitApplyTimedLife(oA,1112820806,.5+.5*DDE)endifset oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call GKE(oA,1093743699)call IssueTargetOrderById(oA,$D006B,p5)set p5=nullset m5=nullset oA=nullset t=nullendfunctionfunction UYO takes nothing returns booleanif GetSpellAbilityId()==1093743698 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and FUE(GetSpellTargetUnit())==false thencall UWO()endifreturn falseendfunctionfunction V5X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UYO))set t=nullendfunctionfunction UZO takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(FZ),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(oA,1093686069)call IssueTargetOrderById(oA,$D006B,GetEnumUnit())call MNE(FZ,GetEnumUnit(),1,gZ)set oA=nullendfunctionfunction U_O takes unit p5,unit m5 returns nothinglocal integer IAE=GetHandleId(p5)local group g=FYE()call DestroyEffect(RWE(IAE,"OverloadFX1"))call DestroyEffect(RWE(IAE,"OverloadFX2"))call IXE(p5,"OverloadActive")set I9V=p5set FZ=p5set gZ=GetUnitAbilityLevel(p5,1093685591)*20+$Acall GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),300,Condition(function K3E))call ForGroup(g,function UZO)call FWE(g)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(m5),GetUnitY(m5)))set g=nullendfunctionfunction U0O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and R8E(p5,"OverloadActive")thencall DisableTrigger(t)call U_O(p5,m5)call O1E(IAE)call IRE(t)endifelsecall O1E(IAE)call IRE(t)endifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction U1O takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function U0O))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)set t=nullset m5=nullset p5=nullendfunctionfunction U2O takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093685591)>0 and R8E(GetAttacker(),"OverloadActive")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false thencall U1O()endifreturn falseendfunctionfunction U3O takes nothing returns nothinglocal trigger t=CreateTrigger()local unit p5=GetTriggerUnit()local integer IAE=GetHandleId(p5)local string fx=""if IsUnitAlly(p5,GetLocalPlayer())or FJE(GetLocalPlayer())thenset fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"endifcall O9E(IAE,"OverloadFX1",AddSpecialEffectTarget(fx,p5,"right hand"))call O9E(IAE,"OverloadFX2",AddSpecialEffectTarget(fx,p5,"left hand"))set t=nullset p5=nullendfunctionfunction U4O takes nothing returns booleanif((GetSpellAbilityId()==1093743695 or GetSpellAbilityId()==1093743696 or GetSpellAbilityId()==1093743698)or(GetUnitPointValue(GetTriggerUnit())==500)and DOE(GetSpellAbilityId()))and R8E(GetTriggerUnit(),"OverloadActive")==false thencall IVE(GetTriggerUnit(),"OverloadActive")call U3O()endifreturn falseendfunctionfunction U5O takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U4O))if CEO thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function U2O))if CEO thenset Aj[GetPlayerId(GetOwningPlayer(p5))]=tendifset p5=nullset t=nullendfunctionfunction U6O takes nothing returns booleanif GetLearnedSkill()==1093685591 and GetUnitAbilityLevel(GetTriggerUnit(),1093685591)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall U5O(GetTriggerUnit(),false)endifreturn falseendfunctionfunction V6X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function U6O))set t=nullendfunctionfunction U7O takes nothing returns nothingif(LoadBoolean(YX,jZ,GetHandleId(GetEnumUnit()))==false)thencall SaveBoolean(YX,jZ,GetHandleId(GetEnumUnit()),true)call MNE(LZ,GetEnumUnit(),1,mZ*(JZ*4+4)/ 100)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))endifendfunctionfunction U8O takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DDE=R1E(IAE,"Level")local unit oA=RME(IAE,"Caster")local unit p5=RME(IAE,"Source")local unit U9O=RME(IAE,"Fake")local integer u3=R1E(IAE,"Remaining")local real hN=R2E(IAE,"x")local real ho=R2E(IAE,"y")local real u4=GetUnitX(p5)local real u5=GetUnitY(p5)local real RK=Atan2(ho-u5,hN-u4)local real Il=u4+(25+25*DDE)*Cos(RK)local real IL=u5+(25+25*DDE)*Sin(RK)local lightning V8O=RYE(IAE,"Light")local real WVO=R2E(IAE,"lx")local real WEO=R2E(IAE,"ly")local real NWX=GetUnitState(p5,UNIT_STATE_MANA)local real WXO=(25+25*DDE)*($A+.01*GetUnitState(p5,UNIT_STATE_MAX_MANA))/ 100local group g=FYE()local real WOO=R2E(IAE,"Traveled")set WOO=WOO+25+25*DDEcall O5E(IAE,"Traveled",WOO)if GetTriggerEvalCount(t)>25 thenset WVO=WVO+(25+25*DDE)*Cos(RK)set WEO=WEO+(25+25*DDE)*Sin(RK)call O5E(IAE,"lx",WVO)call O5E(IAE,"ly",WEO)endifcall SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(NWX-WXO,0))call MoveLightning(V8O,true,WVO,WEO,Il,IL)call SetUnitX(p5,Il)call SetUnitY(p5,IL)call SetUnitPosition(oA,Il,IL)call SetUnitPosition(U9O,Il,IL)set I9V=p5set LZ=p5set jZ=IAEset JZ=DDEset mZ=WOOcall GroupEnumUnitsInRange(g,Il,IL,75+75*DDE,Condition(function K3E))call ForGroup(g,function U7O)call FWE(g)set u3=u3-1call O4E(IAE,"Remaining",u3)call SetUnitVertexColor(p5,$FF,$FF,$FF,0)if u3==0 or GetUnitState(p5,UNIT_STATE_MANA)<1 thencall DestroyLightning(V8O)call JRE(Il,IL,75)call DestroyEffect(RWE(IAE,"FX"))call RemoveUnit(oA)call RemoveUnit(U9O)call SetUnitVertexColor(p5,$FF,$FF,$FF,$FF)call SetUnitPathing(p5,true)call SetUnitInvulnerable(p5,false)call O1E(IAE)call IRE(t)elsecall JRE(Il,IL,75)endifset t=nullset oA=nullset p5=nullset V8O=nullset g=nullset U9O=nullreturn falseendfunctionfunction WRO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real iN=GetUnitX(p5)local real io=GetUnitY(p5)local unit oAlocal unit U9Olocal location llocal real xlocal real ylocal trigger tlocal integer IAElocal lightning V8Olocal integer DDE=GetUnitAbilityLevel(p5,1093743695)local real NWX=GetUnitState(p5,UNIT_STATE_MANA)local real WXO=$F+.07*GetUnitState(p5,UNIT_STATE_MAX_MANA)call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(NWX-WXO,0))if GetUnitState(p5,UNIT_STATE_MANA)>$A thenset t=CreateTrigger()set IAE=GetHandleId(t)set oA=CreateUnit(GetOwningPlayer(p5),1865429296,iN,io,0)set U9O=CreateUnit(GetOwningPlayer(p5),1211119431,iN,io,0)set V8O=AddLightning("FORK",true,iN,io,iN,io)if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)elseset x=GetUnitX(GetSpellTargetUnit())set y=GetUnitY(GetSpellTargetUnit())endifcall SetUnitVertexColor(p5,$FF,$FF,$FF,0)call SetUnitVertexColor(U9O,$FF,$FF,$FF,0)call SetUnitPathing(p5,false)call SetUnitPathing(oA,false)call SetUnitInvulnerable(p5,true)call O8E(IAE,"Caster",oA)call O8E(IAE,"Source",p5)call O8E(IAE,"Fake",U9O)call REE(IAE,"Light",V8O)call O4E(IAE,"Level",DDE)call O5E(IAE,"x",x)call O5E(IAE,"y",y)call O5E(IAE,"lx",iN)call O5E(IAE,"ly",io)call O5E(IAE,"Traveled",0)call O4E(IAE,"Remaining",HPE(R2I(SquareRoot((x-iN)*(x-iN)+(y-io)*(y-io))/(25+25*DDE)),1))call O9E(IAE,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",U9O,"origin"))call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function U8O))call ShowUnit(p5,false)call ShowUnit(p5,true)call SelectUnitAddForPlayer(p5,GetOwningPlayer(p5))endifset p5=nullset oA=nullset U9O=nullset l=nullset t=nullset V8O=nullendfunctionfunction WIO takes nothing returns booleanif GetSpellAbilityId()==1093743695 thencall WRO()endifreturn falseendfunctionfunction WAO takes nothing returns booleanif GetSpellAbilityId()==1093743695 thenif GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<($F+.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848657720))endifendifreturn falseendfunctionfunction V7X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WIO))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function WAO))set t=nullendfunctionfunction WNO takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))endfunctionfunction WBO takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())==1211117651 thencall WNO()endifreturn falseendfunctionfunction V8X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WBO))set t=nullendfunctionfunction WCO takes nothing returns nothinglocal integer IAE=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local unit WDO=RME(IAE,"BearItemHolder")local unit WFO=RME(IAE,"MyBear")if WDO!=null and Q==false and HFV==false thencall UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,0))call UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,1))call UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,2))call UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,3))call UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,4))call UnitAddItem(WFO,UnitRemoveItemFromSlot(WDO,5))endifset WDO=nullset WFO=nullendfunctionfunction WGO takes nothing returns booleanreturn GetSpellAbilityId()==1093681461endfunctionfunction WHO takes nothing returns booleanif GME(GetFilterUnit())thenreturn falseendifif((GetUnitTypeId(GetFilterUnit())==1848652103))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())==1848652099))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())==1848652088))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())==1848651828))thenreturn trueendifreturn falseendfunctionfunction HGv takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local player j8=GetOwningPlayer(FLE)local location POX=GetUnitLoc(FLE)local boolexpr WJO=Condition(function WHO)local group P3E=FYE()local integer DDE=GetUnitAbilityLevel(FLE,1093681461)local integer IAE=GetHandleId(j8)local boolean WKOcall GroupEnumUnitsOfPlayer(P3E,GetOwningPlayer(FLE),WJO)set WKO=CountUnitsInGroup(P3E)==0if WKO==false thencall XIE(FLE)call HEE(j8,(GetObjectName((1848652621))))endifcall FWE(P3E)call RemoveLocation(POX)call DestroyBoolExpr(WJO)set FLE=nullset j8=nullset P3E=nullset WJO=nullset POX=nullendfunctionfunction WLO takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1848652103)or(GetUnitTypeId(GetFilterUnit())==1848652099)or(GetUnitTypeId(GetFilterUnit())==1848652088)or(GetUnitTypeId(GetFilterUnit())==1848651828)endfunctionfunction WMO takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit WFOlocal unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)local integer DDE=GetUnitAbilityLevel(p5,GetSpellAbilityId())local group g=FYE()call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(p5),Condition(function WLO))set WFO=FirstOfGroup(g)call FWE(g)if GetSpellAbilityId()==1093748038 thencall GKE(MIE,1093681473)call SetUnitAbilityLevel(MIE,1093681473,DDE)elseif GetSpellAbilityId()==1093748037 thencall GKE(MIE,1093681474)call SetUnitAbilityLevel(MIE,1093681474,DDE)elseif GetSpellAbilityId()==1093748040 thencall GKE(MIE,1093681475)call SetUnitAbilityLevel(MIE,1093681475,DDE)elseif GetSpellAbilityId()==1093748041 thencall GKE(MIE,1093681476)call SetUnitAbilityLevel(MIE,1093681476,DDE)elseif GetSpellAbilityId()==1093748039 thencall GKE(MIE,1093681477)call SetUnitAbilityLevel(MIE,1093681477,DDE)endifcall IssueTargetOrderById(MIE,$D0085,p5)if WFO!=null and GME(WFO)==false thencall IssueTargetOrderById(MIE,$D0085,WFO)endifset g=nullset p5=nullset WFO=nullset MIE=nullendfunctionfunction WPO takes nothing returns booleanif GetSpellAbilityId()==1093748038 or GetSpellAbilityId()==1093748037 or GetSpellAbilityId()==1093748040 or GetSpellAbilityId()==1093748041 or GetSpellAbilityId()==1093748039 thencall WMO()endifreturn falseendfunctionfunction UDE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WPO))set t=nullendfunctionfunction WQO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit H4X=(LoadUnitHandle(YX,(H2E),(2)))local real WSOif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and B4E(GetOwningPlayer(GetEventDamageSource()))thencall SaveReal(YX,(H2E),(714),(((TimerGetElapsed(K)))*1.))endifendifset WSO=(LoadReal(YX,(H2E),(714)))if WSO+3<(TimerGetElapsed(K))thenif(LoadInteger(YX,(H2E),(34)))==2 thencall SaveInteger(YX,(H2E),(34),(1))call SetPlayerAbilityAvailable(GetOwningPlayer(H4X),1093681463,true)endifelseif(LoadInteger(YX,(H2E),(34)))==1 thencall SaveInteger(YX,(H2E),(34),(2))call SetPlayerAbilityAvailable(GetOwningPlayer(H4X),1093681463,false)endifendifset t=nullset H4X=nullreturn falseendfunctionfunction WTO takes unit H4X returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.2,true)call TriggerRegisterUnitEvent(t,H4X,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,H4X,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WQO))call SaveUnitHandle(YX,(H2E),(2),(H4X))call SaveReal(YX,(H2E),(714),((0)*1.))call SaveInteger(YX,(H2E),(34),(1))call SetPlayerAbilityAvailable(GetOwningPlayer(H4X),1093681463,true)set t=nullendfunctionfunction WUO takes nothing returns nothinglocal unit AJO=GetTriggerUnit()local player j8=GetOwningPlayer(AJO)local location GRX=GetUnitLoc(AJO)local boolexpr WJO=Condition(function WHO)local group C7O=FYE()local integer MAE=GetUnitAbilityLevel(AJO,1093681461)local integer H2E=GetHandleId(j8)local boolean WKOlocal unit H4Xcall GroupEnumUnitsOfPlayer(C7O,GetOwningPlayer(AJO),WJO)set WKO=CountUnitsInGroup(C7O)==0if(MAE==1 and WKO)thencall CreateNUnitsAtLoc(1,1848651828,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call O8E(H2E,"MyBear",bj_lastCreatedUnit)call WCO()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif(MAE==2 and WKO)thencall CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call O8E(H2E,"MyBear",bj_lastCreatedUnit)call WCO()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif(MAE==3 and WKO)thencall CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call O8E(H2E,"MyBear",bj_lastCreatedUnit)call WCO()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif(MAE==4 and WKO)thencall CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call O8E(H2E,"MyBear",bj_lastCreatedUnit)call WCO()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif WKO==false thenset H4X=FirstOfGroup(C7O)call AddSpecialEffectTargetUnitBJ("chest",H4X,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call SetUnitState(H4X,UNIT_STATE_LIFE,GetUnitState(H4X,UNIT_STATE_MAX_LIFE))call SetUnitPosition(H4X,GetUnitX(AJO),GetUnitY(AJO))set H4X=nullendifcall SetUnitAbilityLevel(bj_lastCreatedUnit,1093679449,MAE)call FWE(C7O)call RemoveLocation(GRX)call DestroyBoolExpr(WJO)set WJO=nullset AJO=nullset j8=nullset GRX=nullset C7O=nullset H4X=nullendfunctionfunction UGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WGO))call TriggerAddAction(t,function WUO)set t=nullendfunctionfunction WWO takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110459185)>0)!=nullendfunctionfunction WYO takes nothing returns nothingcall MNE(D2,GetEnumUnit(),2,30)endfunctionfunction WZO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit W_O=RME(IAE,"Bear")local group g=FYE()set I9V=W_Oset D2=W_Ocall GroupEnumUnitsInRange(g,GetUnitX(W_O),GetUnitY(W_O),$7D0,Condition(function WWO))call ForGroup(g,function WYO)call FWE(g)set t=nullset g=nullset W_O=nullreturn falseendfunctionfunction W0O takes nothing returns nothinglocal unit W_O=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function WZO))call O8E(IAE,"Bear",W_O)set W_O=nullset t=nullendfunctionfunction VF takes nothing returns booleanreturn GetLearnedSkill()==1093681461 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction Vg takes nothing returns booleanif GME(GetFilterUnit())thenreturn falseendifif((GetUnitTypeId(GetFilterUnit())==1848652099))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())==1848652088))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())==1848651828))thenreturn trueendifreturn falseendfunctionfunction W1O takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local player j8=GetOwningPlayer(FLE)local location GRX=GetUnitLoc(FLE)local boolexpr hP=Condition(function Vg)local group P3E=FYE()local integer MAE=GetUnitAbilityLevel(FLE,1093681461)local integer H2E=GetHandleId(j8)local integer Vhlocal unit H4Xlocal real HUOcall GroupEnumUnitsOfPlayer(P3E,GetOwningPlayer(FLE),hP)call DestroyBoolExpr(hP)if(MAE==1)thencall W0O()endifset Vh=CountUnitsInGroup(P3E)if(Vh==1)thenset H4X=FirstOfGroup(P3E)set HUO=GetUnitLifePercent(H4X)set GRX=GetUnitLoc(H4X)call ShowUnit(H4X,false)call KillUnit(H4X)if(MAE==2)thencall CreateNUnitsAtLoc(1,1848652088,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif(MAE==3)thencall CreateNUnitsAtLoc(1,1848652099,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)elseif(MAE==4)thencall CreateNUnitsAtLoc(1,1848652103,GetOwningPlayer(GetTriggerUnit()),GRX,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call WTO(bj_lastCreatedUnit)endifcall SetUnitLifePercentBJ(bj_lastCreatedUnit,HUO)call O8E(H2E,"MyBear",bj_lastCreatedUnit)call WCO()endifcall FWE(P3E)set FLE=nullset j8=nullset GRX=nullset hP=nullset P3E=nullset H4X=nullendfunctionfunction UJE takes nothing returns nothingset dZ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dZ,Condition(function VF))call TriggerAddAction(dZ,function W1O)endfunctionfunction W2O takes nothing returns booleanreturn GetUnitTypeId(GetAttacker())==1848652103 or GetUnitTypeId(GetAttacker())==1848652099 or GetUnitTypeId(GetAttacker())==1848652088 or GetUnitTypeId(GetAttacker())==1848651828endfunctionfunction W3O takes nothing returns nothinglocal unit VD=GetAttacker()local unit VI=QV[GetPlayerId(GetOwningPlayer(VD))]if((GetUnitX(VI)-GetUnitX(VD))*(GetUnitX(VI)-GetUnitX(VD))+(GetUnitY(VI)-GetUnitY(VD))*(GetUnitY(VI)-GetUnitY(VD))>=($127690))thencall IssueImmediateOrderById(VD,$D0004)elseif(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)thenif((GetHeroLevel(VI)<$C)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>150.)and((GetOwningPlayer(GetTriggerUnit())==RX[0])or(GetOwningPlayer(GetTriggerUnit())==GX[0]))and(eY[GetPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(Bz>hq[$F0+GetPlayerId(GetOwningPlayer(GetAttacker()))]))thencall TriggerSleepAction(.1)call jW(GetAttacker(),$D0012,h9[GetPlayerId(GetOwningPlayer(GetAttacker()))])endifendifset VD=nullset VI=nullendfunctionfunction UFE takes nothing returns nothingset d0=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(d0,Condition(function W2O))call TriggerAddAction(d0,function W3O)endfunctionfunction W4O takes nothing returns booleanreturn GetSpellAbilityId()==1093681463endfunctionfunction W5O takes nothing returns nothinglocal unit VD=GetTriggerUnit()local unit VI=QV[GetPlayerId(GetOwningPlayer(VD))]call SetUnitX(VD,GetUnitX(VI)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))call SetUnitY(VD,GetUnitY(VI)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))set VD=nullset VI=nullendfunctionfunction UHE takes nothing returns nothingset I_V=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(I_V,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(I_V,Condition(function W4O))call TriggerAddAction(I_V,function W5O)endfunctionfunction W6O takes nothing returns booleanreturn GetLearnedSkill()==1093681464 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction W7O takes nothing returns nothingcall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889776,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889776,true)+1)call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1378889777,GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),1378889777,true)+1)endfunctionfunction qb takes nothing returns nothingset I0V=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(I0V,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(I0V,Condition(function W6O))call TriggerAddAction(I0V,function W7O)endfunctionfunction W8O takes item XJE returns booleanreturn XGE(XJE)==VSV or XGE(XJE)==VTV or XGE(XJE)==GY or XGE(XJE)==HYendfunctionfunction W9O takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())==1848652103 or GetUnitTypeId(GetTriggerUnit())==1848652099 or GetUnitTypeId(GetTriggerUnit())==1848652088 or GetUnitTypeId(GetTriggerUnit())==1848651828)and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction YVO takes nothing returns nothinglocal location YEOif B2E(GetOwningPlayer(GetTriggerUnit()))thenset YEO=GetRectCenter(BA)elseset YEO=GetRectCenter(NA)endifif W8O(GetEnumItem())==false thencall SetItemPositionLoc(GetEnumItem(),YEO)endifcall RemoveLocation(YEO)set YEO=nullendfunctionfunction YXO takes nothing returns nothinglocal integer IAE=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local unit m7=RME(IAE,"BearItemHolder")local unit VD=RME(IAE,"MyBear")local integer xlocal integer yif m7==null thenif B2E(GetOwningPlayer(VD))thenset x=-6390set y=-5615elseset x=5875set y=5000endifset m7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657158,x,y,0)call O8E(IAE,"BearItemHolder",m7)endifif W8O(GetEnumItem())==false thencall UnitAddItem(m7,GetEnumItem())endifcall ShowUnit(m7,true)set m7=nullset VD=nullendfunctionfunction VL takes nothing returns nothinglocal integer HKX=XGE(GetEnumItem())if GetWidgetLife(GetEnumItem())>0 and HKX!=VAV thenif Q or HFV thencall YVO()elsecall YXO()endifendifendfunctionfunction YOO takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local rect YRO=RectFromCenterSizeBJ(Mk,400.,400.)local unit VI=QV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]call SetHeroXP(VI,(GetHeroXP(VI)-(GetHeroXP(VI)/(125-(25*GetUnitAbilityLevel(VI,1093681461))))),false)call UnitDamageTargetBJ(GetKillingUnit(),VI,(100.*I2R(GetUnitAbilityLevel(VI,1093681461))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)call EnumItemsInRectBJ(YRO,function VL)call RemoveLocation(Mk)call RemoveRect(YRO)set Mk=nullset VI=nullset YRO=nullendfunctionfunction qB takes nothing returns nothingset d3=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(d3,Condition(function W9O))call TriggerAddAction(d3,function YOO)endfunctionfunction YIO takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())==1311781171 or GetUnitTypeId(GetTriggerUnit())==1311781199 or GetUnitTypeId(GetTriggerUnit())==1311781173 or GetUnitTypeId(GetTriggerUnit())==1311781172)and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction YAO takes nothing returns nothinglocal unit VD=RME(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MyBear")call KillUnit(VD)set VD=nullendfunctionfunction qc takes nothing returns nothingset d4=CreateTrigger()call ky(d4,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(d4,Condition(function YIO))call TriggerAddAction(d4,function YAO)endfunctionfunction YNO takes nothing returns booleanreturn(GetLearnedSkill()==1093681483 or GetLearnedSkill()==1093748313)and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction YBO takes nothing returns nothingif(GetUnitAbilityLevel(GetTriggerUnit(),1093681483)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093748313)==1)thencall GKE(GetTriggerUnit(),1093752646)endifendfunctionfunction qC takes nothing returns nothingset d5=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(d5,Condition(function YNO))call TriggerAddAction(d5,function YBO)endfunctionfunction YCO takes nothing returns booleanif(GetSpellAbilityId()==1093681485 or GetSpellAbilityId()==1093681459 or GetSpellAbilityId()==1093681460 or GetSpellAbilityId()==1093677652 or GetSpellAbilityId()==1093748314 or GetSpellAbilityId()==1093752646)thenreturn trueelseif GetSpellAbilityId()==1093681483 or GetSpellAbilityId()==1093748313 thenif GetUnitAbilityLevel(GetTriggerUnit(),1093752646)==0 thencall GKE(GetTriggerUnit(),1093752646)endifendifreturn falseendfunctionfunction YDO takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))!=nullendfunctionfunction YFO takes nothing returns nothingcall IssueImmediateOrderById(GetEnumUnit(),$D024C)endfunctionfunction Vq takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction VQ takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction Vr takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction YGO takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction YHO takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==MLV and GetUnitTypeId(GetFilterUnit())==MKV and GME(GetFilterUnit())==falseendfunctionfunction YJO takes player p,integer DAE,real x,real y returns nothinglocal group g=FYE()set MLV=pset MKV=DAEcall GroupEnumUnitsInRange(g,x,y,716,Condition(function YHO))call ForGroup(g,function YFO)call FWE(g)set g=nullendfunctionfunction YKO takes nothing returns nothinglocal real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local group P3Ecall DisableTrigger(I1V)set V0=trueif(GetSpellAbilityId()==1093681485)thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call JBE(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,425,Condition(function YDO))call ForGroup(P3E,function Vq)call RemoveUnit(GetTriggerUnit())call FWE(P3E)elseif(GetSpellAbilityId()==1093681459)thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call JBE(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,435,Condition(function YDO))call ForGroup(P3E,function VQ)call RemoveUnit(GetTriggerUnit())call FWE(P3E)elseif(GetSpellAbilityId()==1093681460)thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call JBE(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,450,Condition(function YDO))call ForGroup(P3E,function Vr)call RemoveUnit(GetTriggerUnit())call FWE(P3E)elseif(GetSpellAbilityId()==1093748314)thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call JBE(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,450,Condition(function YDO))call ForGroup(P3E,function YGO)call RemoveUnit(GetTriggerUnit())call FWE(P3E)elseif(GetSpellAbilityId()==1093677652)thenset P3E=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),1865429304)call ForGroup(P3E,function YFO)call DestroyGroup(P3E)set P3E=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),1865429042)call ForGroup(P3E,function YFO)call DestroyGroup(P3E)set P3E=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),1865429058)call ForGroup(P3E,function YFO)call DestroyGroup(P3E)set P3E=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),1865429314)call ForGroup(P3E,function YFO)call DestroyGroup(P3E)endifif(GetSpellAbilityId()==1093752646)thenset x=GetSpellTargetX()set y=GetSpellTargetY()call YJO(GetOwningPlayer(GetTriggerUnit()),1865429304,x,y)call YJO(GetOwningPlayer(GetTriggerUnit()),1865429042,x,y)call YJO(GetOwningPlayer(GetTriggerUnit()),1865429058,x,y)call YJO(GetOwningPlayer(GetTriggerUnit()),1865429314,x,y)endifset V0=falsecall EnableTrigger(I1V)set P3E=nullendfunctionfunction YLO takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())local real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local group P3Eif id==1865429304 thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,425,Condition(function YDO))call ForGroup(P3E,function Vq)call FWE(P3E)endifif id==1865429042 thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,435,Condition(function YDO))call ForGroup(P3E,function VQ)call FWE(P3E)endifif id==1865429058 thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,450,Condition(function YDO))call ForGroup(P3E,function Vr)call FWE(P3E)endifif id==1865429314 thencall H1E("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set P3E=FYE()call GroupEnumUnitsInRange(P3E,x,y,450,Condition(function YDO))call ForGroup(P3E,function YGO)call FWE(P3E)endifset P3E=nullendfunctionfunction YMO takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())if id==1865429304 or id==1865429042 or id==1865429058 or id==1865429314 thencall YLO()endifreturn falseendfunctionfunction qD takes nothing returns nothinglocal trigger t=CreateTrigger()call EEO("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function YKO)call TriggerAddCondition(t,Condition(function YCO))set I1V=CreateTrigger()call JEE(I1V,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(I1V,Condition(function YMO))set t=nullendfunctionfunction YPO takes nothing returns booleanif((GetUnitTypeId(GetTriggerUnit())==1848651855))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())==1848651856))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())==1848651857))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())==1848651854))thenreturn trueendifif GetUnitTypeId(GetTriggerUnit())==1865429304 or GetUnitTypeId(GetTriggerUnit())==1865429042 or GetUnitTypeId(GetTriggerUnit())==1865429058 or GetUnitTypeId(GetTriggerUnit())==1865429314 thenif Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]thenendifendifreturn falseendfunctionfunction YQO takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))and((GetUnitTypeId(GetFilterUnit())==1848651855)or(GetUnitTypeId(GetFilterUnit())==1848651856)or(GetUnitTypeId(GetFilterUnit())==1848651857)or(GetUnitTypeId(GetFilterUnit())==1848651854)))endfunctionfunction YSO takes rect r,boolexpr YTO returns groupset CB=FYE()call GroupEnumUnitsInRect(CB,r,YTO)call DestroyBoolExpr(YTO)return CBendfunctionfunction YUO takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1211117637 or GetUnitTypeId(GetFilterUnit())==1211117639 or GetUnitTypeId(GetFilterUnit())==1211117638 or GetUnitTypeId(GetFilterUnit())==1160786000 or GetUnitTypeId(GetFilterUnit())==1311780930 or GetUnitTypeId(GetFilterUnit())==1430468144 or GetUnitTypeId(GetFilterUnit())==1162032951 or GetUnitTypeId(GetFilterUnit())==1429221456 or GetUnitTypeId(GetFilterUnit())==1160786510 or GetUnitTypeId(GetFilterUnit())==1160786511 or GetUnitTypeId(GetFilterUnit())==1328558390 or GetUnitTypeId(GetFilterUnit())==1328558391 or GetUnitTypeId(GetFilterUnit())==1160786502 or GetUnitTypeId(GetFilterUnit())==1211122767)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I9V))endfunctionfunction YWO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit YYO=RME(H2E,"Mine")local group gif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(YYO),GetUnitY(YYO)))call O1E(H2E)call IRE(t)elseset g=FYE()set I9V=YYOcall GroupEnumUnitsInRange(g,GetUnitX(YYO),GetUnitY(YYO),$C8,Condition(function YUO))if FirstOfGroup(g)!=null thencall O1E(H2E)call IRE(t)call SetUnitExploded(YYO,true)call KillUnit(YYO)endifcall FWE(g)endifset t=nullset YYO=nullset g=nullreturn falseendfunctionfunction YZO takes nothing returns nothinglocal integer H2E=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local group P3E=YSO(bj_mapInitialPlayableArea,Condition(function YQO))local integer Vu=R1E(H2E,"GMCount")local integer VU=0local unit Vvlocal integer VVlocal unit SDElocal integer Vwlocal integer T8local integer U8local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.4,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function YWO))call O8E(GetHandleId(t),"Mine",GetTriggerUnit())set Vu=(Vu+1)call StartTimerBJ(RSE(H2E,"MineTimer"+I2S(Vu)),false,15000.)call O8E(H2E,"GMUnit"+I2S(Vu),GetTriggerUnit())set VU=CountUnitsInGroup(P3E)if(VU>20)thenset VV=99999set T8=1set U8=Vuloopexitwhen T8>U8set SDE=RME(H2E,"GMUnit"+I2S(T8))set Vw=R2I(TimerGetRemaining(RSE(H2E,"MineTimer"+I2S(T8))))if(GetUnitState(SDE,UNIT_STATE_LIFE)>0 and Vw<VV)thenset Vv=SDEset VV=Vwendifset T8=T8+1endloopcall ExplodeUnitBJ(Vv)elsecall H7E(I2S(VU),1,GetTriggerUnit(),.027,$82,$82,$82,$D8)endifcall O4E(H2E,"GMCount",Vu)call FWE(P3E)set t=nullset P3E=nullset Vv=nullset SDE=nullendfunctionfunction Y_O takes nothing returns booleanif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.5 and(GetUnitTypeId(GetFilterUnit())==1848651855 or GetUnitTypeId(GetFilterUnit())==1848651856 or GetUnitTypeId(GetFilterUnit())==1848651857 or GetUnitTypeId(GetFilterUnit())==1848651854)thenset n0=n0+1endifreturn falseendfunctionfunction Y0O takes nothing returns booleanlocal group g=FYE()set n0=0call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function Y_O))if n0>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848657475)))+": "+I2S(n0))endifcall FWE(g)set g=nullreturn falseendfunctionfunction qe takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function Y0O))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function YPO))call TriggerAddAction(t,function YZO)set t=nullendfunctionfunction Y1O takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit MIE=CreateUnit(GetOwningPlayer(F2E),1697656901,GetUnitX(F2E),GetUnitY(F2E),0)local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer i=0local real a=0local real r=0local integer MAE=GetUnitAbilityLevel(F2E,1093681745)call GKE(MIE,1093678406)call SetUnitAbilityLevel(MIE,1093678406,MAE)loopexitwhen i>40exitwhen IssuePointOrderById(MIE,$D0271,x+r*Cos(a),y+r*Sin(a))set i=i+1set a=a+.4set r=r+$Aendloopcall RemoveLocation(l)set F2E=nullset MIE=nullset l=nullendfunctionfunction Y2O takes nothing returns booleanif GetSpellAbilityId()==1093681745 thencall Y1O()endifreturn falseendfunctionfunction UKE takes nothing returns nothingset d8=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(d8,Condition(function Y2O))endfunctionfunction Y3O takes nothing returns booleanreturn GetSpellAbilityId()==1093678137 and FUE(GetSpellTargetUnit())==falseendfunctionfunction Y4O takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),1093678137)*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endfunctionfunction ULE takes nothing returns nothingset d9=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(d9,Condition(function Y3O))call TriggerAddAction(d9,function Y4O)endfunctionfunction Y5O takes unit u returns booleanreturn GetUnitTypeId(u)==1211117638 or GetUnitTypeId(u)==1211117637 or GetUnitTypeId(u)==1211117639 or GetUnitTypeId(u)==1328558391endfunctionfunction Y6O takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE) thencall MNE(RU,GetEnumUnit(),1,IU/3)elsecall MNE(RU,GetEnumUnit(),1,IU)endifendfunctionfunction Y7O takes unit J6E,real x,real y,real r,real d returns nothinglocal group g=FYE()set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,r,Condition(function L1E))set RU=J6Eset IU=dcall ForGroup(g,function Y6O)call FWE(g)set g=nullendfunctionfunction Y8O takes nothing returns booleanreturn(LOE()and XDE(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction Y9O takes unit FLE returns unitlocal unit p5=nulllocal group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),275,Condition(function Y8O))call GroupRemoveUnit(g,FLE)set p5=GroupPickRandomUnit(g)call FWE(g)set I9V=p5set p5=nullset g=nullreturn I9Vendfunctionfunction ZVO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit FLE=RME(IAE,"Hero")local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real ZEO=R2E(IAE,"Tossx0")local real ZXO=R2E(IAE,"Tossy0")local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetUnitX(m5)local real y2=GetUnitY(m5)local real RKlocal real ZOOlocal real ZROlocal real ZIOlocal real Illocal real ILlocal location lif E4E(ZEO,ZXO,x2,y2)>$3E8 thenset x2=ZEOset y2=ZXOendifset RK=H4E(x1,y1,x2,y2)set ZOO=E4E(x1,y1,x2,y2)set ZRO=ZOO/(51-iX)set ZIO=(iX-25)*(iX-25)set Il=x1+ZRO*Cos(RK*bj_DEGTORAD)set IL=y1+ZRO*Sin(RK*bj_DEGTORAD)if iX<51 thenif Y5O(p5)==false thencall SetUnitFlyHeight(p5,775-ZIO,0)endifcall SetUnitPosition(p5,Il,IL)elseif Y5O(p5)==false thencall SetUnitFlyHeight(p5,GetUnitDefaultFlyHeight(p5),0)endifcall PauseUnit(p5,false)call SetUnitPathing(p5,true)call SetUnitPosition(p5,x2,y2)call IXE(p5,"Tossed")set l=Location(x2,y2)call TerrainDeformationRippleBJ(.2,true,l,1.,300.,96.,1,64.)call RemoveLocation(l)call DestroyEffect(RWE(IAE,"FX"))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(p5),GetUnitY(p5)))if IsUnitAlly(p5,GetOwningPlayer(FLE))thenelseif(OAE((FLE),BU[RSV])!=null)thencall MNE(FLE,p5,1,(.2+.15*(GetUnitAbilityLevel(FLE,1093682009)+1))*75*GetUnitAbilityLevel(FLE,1093681754))elsecall MNE(FLE,p5,1,(.2+.15*GetUnitAbilityLevel(FLE,1093682009))*75*GetUnitAbilityLevel(FLE,1093681754))endifendifcall JRE(x2,y2,300)call Y7O(FLE,x2,y2,300,75*GetUnitAbilityLevel(FLE,1093681754))call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullset p5=nullset m5=nullset l=nullreturn falseendfunctionfunction ZAO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit p5=LGVlocal unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call SetUnitAnimationByIndex(FLE,4)call PauseUnit(p5,true)call SetUnitPathing(p5,false)if Y5O(p5)==false thencall GKE(p5,1097691750)call UnitRemoveAbility(p5,1097691750)endifcall IVE(p5,"Tossed")call O8E(IAE,"Hero",FLE)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",p5,"origin"))call O5E(IAE,"Tossx0",GetUnitX(m5))call O5E(IAE,"Tossy0",GetUnitY(m5))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function ZVO))set FLE=nullset p5=nullset m5=nullset t=nullendfunctionfunction ZNO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit p5=Y9O(FLE)local unit m5=GetSpellTargetUnit()set LGV=p5if p5==null thencall XIE(FLE)call HEE(GetOwningPlayer(FLE),D1E(1848656961))elseif GetOwningPlayer(m5)==GetOwningPlayer(FLE)thencall XIE(FLE)call HEE(GetOwningPlayer(FLE),D1E(1848656729))endifset FLE=nullset p5=nullset m5=nullendfunctionfunction ZBO takes nothing returns booleanif GetSpellAbilityId()==1093681754 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall ZNO()elsecall ZAO()endifendifreturn falseendfunctionfunction USE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZBO))set t=nullendfunctionfunction ZCO takes nothing returns nothinglocal unit J6E=GetTriggerUnit()call ECO(1093815115)endfunctionfunction ZDO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local integer DZXif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E and GetEventDamage()>20. thenset DZX=R1E(GetHandleId(J6E),"WarClub_Count")if R8E(J6E,"WarClubState")==false thencall IBE(J6E,"WarClubState",.1)call O4E(GetHandleId(J6E),"WarClub_Count",(DZX+1))endifcall FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall FlushChildHashtable(YX,(H2E))call IRE(t)endifset J6E=nullset t=nullreturn falseendfunctionfunction ZFO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer CBE=GetHandleId(t)local unit M8E=RME(CBE,"Source")local integer ZGO=R1E(GetHandleId(M8E),"WarClub_Count")call O4E(CBE,"WarClub_Cooldown",1)call UnitRemoveAbility(M8E,1093752391)if(OAE(M8E,BU[RSV])!=null)thencall GKE(M8E,1093752392)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(M8E),1093752392,true)if ZGO>5 thencall FlushChildHashtable(YX,CBE)call IRE(t)endifset M8E=nullset t=nullreturn falseendfunctionfunction ZHO takes nothing returns nothinglocal trigger tlocal unit M8E=GetAttacker()local integer CBE=GetHandleId(M8E)local integer ZGO=R1E(CBE,"WarClub_Count")if ZGO<6 thenif not R8E(M8E,"WarClubState")thenset t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.,false)call TriggerAddCondition(t,Condition(function ZDO))call O8E(GetHandleId(t),"Source",M8E)endifelsecall O4E(CBE,"WarClub_Count",(0))call UnitRemoveAbility(M8E,1093752625)if(R1E(CBE,"WarClub_Cooldown"))==1 thenset t=RTE(CBE,"WarClub_EndTrig")call FlushChildHashtable(YX,GetHandleId(t))call IRE(t)endifendifset M8E=nullset t=nullendfunctionfunction ZJO takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093752625)>0 thencall ZHO()endifreturn falseendfunctionfunction WarClub_Animation takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEvalCount(t)==1 thencall SetUnitTimeScalePercent(J6E,$FA)elsecall SetUnitTimeScalePercent(J6E,100)call SetUnitAnimationByIndex(J6E,$C)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction ZKO takes nothing returns booleanlocal trigger tif GetSpellAbilityId()==1093752392 thencall IBE(GetTriggerUnit(),"WarClubCastState",29.9)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752392,false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752391,true)call GKE(GetTriggerUnit(),1093752391)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093752625,false)call GKE(GetTriggerUnit(),1093752625)call IssueTargetOrderById(GetTriggerUnit(),$D021F,GetSpellTargetDestructable())set t=CreateTrigger()call TriggerRegisterTimerEvent(t,30,false)call TriggerAddCondition(t,Condition(function ZFO))call O8E(GetHandleId(t),"Source",GetTriggerUnit())call RVE(GetHandleId(GetTriggerUnit()),"WarClub_EndTrig",t)call O4E(GetHandleId(GetTriggerUnit()),"WarClub_Cooldown",(0))call O4E(GetHandleId(GetTriggerUnit()),"WarClub_Count",(0))set t=nullelseif GetSpellAbilityId()==1093815105 thencall RemoveDestructable(GetSpellTargetDestructable())call ShowUnit(GetTriggerUnit(),false)call ShowUnit(GetTriggerUnit(),true)call UnitRemoveAbility(GetTriggerUnit(),1097625443)call UnitAddAbility(GetTriggerUnit(),1093815106)call UnitRemoveAbility(GetTriggerUnit(),1093815106)call UnitAddAbility(GetTriggerUnit(),1093815107)call UnitRemoveAbility(GetTriggerUnit(),1093815107)call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)endifreturn falseendfunctionfunction WarClub_Scan takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if(OAE((J6E),BU[RSV])!=null)thenif R8E(J6E,"WarClubCastState")==false thenif GetUnitAbilityLevel(J6E,1093752392)==0 and GetUnitAbilityLevel(J6E,1093752391)==0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093752392,true)call GKE(J6E,1093752392)endifendifelsecall UnitRemoveAbility(J6E,1093752392)call UnitRemoveAbility(J6E,1093752391)endifset t=nullset J6E=nullreturn falseendfunctionfunction Z5X takes nothing returns nothinglocal unit p5=B2local unit m5=C2local unit MIE=RME(GetHandleId(p5),"GrowCaster")call O8E(GetHandleId(m5),"GrowCaster",MIE)call SetUnitOwner(MIE,GetOwningPlayer(m5),true)set p5=nullset m5=nullset MIE=nullendfunctionfunction F_X takes nothing returns nothinglocal unit FLE=AOVlocal unit MIE=RME(GetHandleId(FLE),"GrowCaster")if MIE!=null and GetUnitTypeId(MIE)==1697657174 thencall RemoveUnit(MIE)endifset FLE=nullset MIE=nullendfunctionfunction ZLO takes nothing returns booleanreturn GetLearnedSkill()==1093682009 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction ZMO takes nothing returns nothinglocal unit ZPO=RME(GetHandleId(GetTriggeringTrigger()),"Tiny")local integer DDE=GetUnitAbilityLevel(ZPO,1093682009)if GetUnitState(ZPO,UNIT_STATE_LIFE)>1 thencall SetUnitScale(ZPO,.5+.25*DDE,.5+.25*DDE,.5+.25*DDE)endifset ZPO=nullendfunctionfunction ZQO takes nothing returns booleanlocal integer DDEif IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())==1432580716 or GetUnitTypeId(GetTriggerUnit())==1429221720)thenset DDE=GetUnitAbilityLevel(RME(GetHandleId(GetTriggeringTrigger()),"Tiny"),1093682009)call SetUnitScale(GetTriggerUnit(),.5+.25*DDE,.5+.25*DDE,.5+.25*DDE)endifreturn falseendfunctionfunction ZSO takes nothing returns nothinglocal trigger tlocal unit ZTO=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(ZTO,1093682009)local unit MIElocal unit F2E=GetTriggerUnit()local region ZUOif MAE==1 thenset MIE=CreateUnit(GetOwningPlayer(F2E),1697657174,0,0,0)call GKE(MIE,1093742658)call O8E(GetHandleId(F2E),"GrowCaster",MIE)elseset MIE=RME(GetHandleId(F2E),"GrowCaster")endifif MAE==2 thencall UnitRemoveAbility(MIE,1093742658)call GKE(MIE,1093742657)elseif MAE==3 thencall UnitRemoveAbility(MIE,1093742658)call UnitRemoveAbility(MIE,1093742657)call GKE(MIE,1093687891)endifcall SetPlayerTechResearched(GetOwningPlayer(ZTO),1378889797,MAE)if MAE==1 thenset t=CreateTrigger()call TriggerAddAction(t,function ZMO)call TriggerRegisterTimerEvent(t,2.,true)call O8E(GetHandleId(t),"Tiny",ZTO)call SetUnitScale(ZTO,.5+.25*MAE,.5+.25*MAE,.5+.25*MAE)set t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,GetWorldBounds())call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function ZQO))call O8E(GetHandleId(t),"Tiny",ZTO)set t=nullset ZUO=nullendifset ZTO=nullset F2E=nullset MIE=nullendfunctionfunction UPE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZLO))call TriggerAddAction(t,function ZSO)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZKO))call ZCO()set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function ZJO))set t=nullendfunctionfunction ZWO takes nothing returns booleanif R8E(GetFilterUnit(),"Tossed")thencall MNE(gB,GetFilterUnit(),1,lB)endifreturn falseendfunctionfunction ZYO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,x,y,0)local integer DDE=GetUnitAbilityLevel(FLE,1093684300)local group g=FYE()call GKE(oA,1093742666)call SetUnitAbilityLevel(oA,1093742666,DDE)set gB=FLEif DDE==1 thenset lB=25elseif DDE==2 thenset lB=45elseif DDE==3 thenset lB=65elseif DDE==4 thenset lB=75endifcall GroupEnumUnitsInRange(g,x,y,275+24,Condition(function ZWO))call FWE(g)if GetTriggerEvalCount(t)>6 thencall O1E(IAE)call IRE(t)endifset t=nullset FLE=nullset oA=nullset g=nullreturn falseendfunctionfunction ZZO takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local location l=GetSpellTargetLoc()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)local integer DDE=GetUnitAbilityLevel(FLE,1093684300)call GKE(oA,1093742669)call SetUnitAbilityLevel(oA,1093742669,DDE)call IssuePointOrderById(oA,$D02AC,GetLocationX(l),GetLocationY(l))call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function ZYO))call O8E(IAE,"Hero",FLE)call O5E(IAE,"x",GetLocationX(l))call O5E(IAE,"y",GetLocationY(l))call TriggerEvaluate(t)call RemoveLocation(l)set FLE=nullset l=nullset t=nullset oA=nullendfunctionfunction Z_O takes nothing returns booleanif GetSpellAbilityId()==1093684300 thencall ZZO()endifreturn falseendfunctionfunction UQE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Z_O))set t=nullendfunctionfunction Z0O takes nothing returns booleanlocal unit J6E=GetTriggerUnit()local unit F3E=GetAttacker()local integer MAE=GetUnitAbilityLevel(J6E,1093744977)local unit MIEif GetRandomInt(1,100)<=MAE*6 and E3E(J6E,F3E)<325 thenset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093681750)call SetUnitAbilityLevel(MIE,1093681750,MAE)call IssueTargetOrderById(MIE,$D007F,F3E)set MIE=nullendifset J6E=nullset F3E=nullreturn falseendfunctionfunction Z1O takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function Z0O))if CEO thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction Z2O takes nothing returns booleanif GetLearnedSkill()==1093744977 and GetUnitAbilityLevel(GetTriggerUnit(),1093744977)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall Z1O(GetTriggerUnit(),false)endifreturn falseendfunctionfunction UTE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Z2O))set t=nullendfunctionfunction Z3O takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),1093685040)>0 and R8E(GetAttacker(),"BeastRageTrigger")==falseendfunctionfunction Z4O takes nothing returns nothinglocal unit Z5O=GetAttacker()local unit F3E=GetTriggerUnit()local integer H2E=GetHandleId(Z5O)local unit Z6O=RME(H2E,"BeastRage|PreviousTarget")local integer Z7O=HPE(R1E(H2E,"BeastRage|Counter"),0)local integer MAE=GetUnitAbilityLevel(Z5O,1093685040)if Z6O!=F3E thenset Z7O=1elseset Z7O=HME(Z7O+1,2+MAE)endifcall HLE(Z5O,1093684826,Z7O)call O4E(H2E,"BeastRage|Counter",Z7O)call O8E(H2E,"BeastRage|PreviousTarget",F3E)call IBE(Z5O,"BeastRageTrigger",.4)set Z5O=nullset F3E=nullset Z6O=nullendfunctionfunction U6E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function Z3O))call TriggerAddAction(t,function Z4O)call HCE(1093684826)set t=nullendfunctionfunction Z8O takes unit J6E,unit F3E,unit MIE,integer MAE returns nothingcall SetUnitOwner(MIE,GetOwningPlayer(F3E),false)call SetUnitAbilityLevel(MIE,1093808463,MAE)call IssueTargetOrderById(MIE,$D00DE,F3E)call MNE(J6E,F3E,1,75+50*MAE)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",F3E,"overhead"))endfunctionfunction Z9O takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),SBV)==false thencall GroupAddUnit(SBV,GetEnumUnit())call Z8O(SIV,GetEnumUnit(),SAV,SCV)endifendfunctionfunction VVR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit VER=(LoadUnitHandle(YX,(H2E),(675)))local unit VXR=(LoadUnitHandle(YX,(H2E),(676)))local real a=(LoadReal(YX,(H2E),($D)))local real d=(LoadReal(YX,(H2E),(433)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local group g=FYE()if GetTriggerEvalCount(t)<=50 thenset a=a+20set d=d+7call SaveReal(YX,(H2E),($D),((a)*1.))call SaveReal(YX,(H2E),(433),((d)*1.))elseif GetTriggerEvalCount(t)<=100 thenset a=a+20set d=d-7call SaveReal(YX,(H2E),($D),((a)*1.))call SaveReal(YX,(H2E),(433),((d)*1.))endifcall SetUnitX(VER,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VER,HIE(y+d*Sin(a*bj_DEGTORAD)))set a=a+$B4call SetUnitX(VXR,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VXR,HIE(y+d*Sin(a*bj_DEGTORAD)))set I9V=J6Eset SIV=J6Eset SAV=MIEset SBV=PLOset SCV=MAEcall GroupEnumUnitsInRange(g,GetUnitX(VER),GetUnitY(VER),125,Condition(function K3E))call ForGroup(g,function Z9O)set I9V=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(VXR),GetUnitY(VXR),125,Condition(function K3E))call ForGroup(g,function Z9O)call FWE(g)if GetTriggerEvalCount(t)>100 thencall KillUnit(VER)call KillUnit(VXR)call KillUnit(MIE)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset VER=nullset VXR=nullset MIE=nullreturn falseendfunctionfunction VOR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit VER=CreateUnit(GetOwningPlayer(J6E),1697657433,x,y,0)local unit VXR=CreateUnit(GetOwningPlayer(J6E),1697657433,x,y,0)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)call UnitAddAbility(MIE,1093808463)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveUnitHandle(YX,(H2E),(675),(VER))call SaveUnitHandle(YX,(H2E),(676),(VXR))call SaveReal(YX,(H2E),($D),((0)*1.))call SaveReal(YX,(H2E),(433),((0)*1.))call SaveInteger(YX,(H2E),(5),(GetUnitAbilityLevel(J6E,1093808462)))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function VVR))set J6E=nullset VER=nullset VXR=nullset t=nullset MIE=nullendfunctionfunction VRR takes unit J6E,unit F3E,unit MIE,integer MAE returns nothingcall SetUnitOwner(MIE,GetOwningPlayer(F3E),false)call SetUnitAbilityLevel(MIE,1093808464,MAE)call IssueTargetOrderById(MIE,$D006B,F3E)call MNE(J6E,F3E,1,75)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",F3E,"overhead"))endfunctionfunction VIR takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),SBV)==false and SNV!=null and GME(SNV)==false thencall GroupAddUnit(SBV,GetEnumUnit())call VRR(SIV,GetEnumUnit(),SAV,SCV)endifendfunctionfunction VAR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local unit VER=(LoadUnitHandle(YX,(H2E),(393)))local unit VXR=(LoadUnitHandle(YX,(H2E),(394)))local unit VNR=(LoadUnitHandle(YX,(H2E),(395)))local unit VBR=(LoadUnitHandle(YX,(H2E),(396)))local unit VCR=(LoadUnitHandle(YX,(H2E),(397)))local real a=(LoadReal(YX,(H2E),($D)))-12.5local real d=(LoadReal(YX,(H2E),(433)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local unit BNOlocal group glocal group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))set d=d+900/20.call SaveReal(YX,(H2E),(433),((d)*1.))call SetUnitX(VER,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VER,HIE(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(VXR,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VXR,HIE(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(VNR,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VNR,HIE(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(VBR,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VBR,HIE(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(VCR,HRE(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(VCR,HIE(y+d*Sin(a*bj_DEGTORAD)))set SIV=J6Eset SAV=MIEset SBV=PLOset SCV=MAEset BNO=VERif BNO!=null and GME(BNO)==false thenset x=GetUnitX(BNO)set y=GetUnitY(BNO)set SNV=BNOset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function K3E))call ForGroup(g,function VIR)call FWE(g)endifset BNO=VXRif BNO!=null and GME(BNO)==false thenset x=GetUnitX(BNO)set y=GetUnitY(BNO)set SNV=BNOset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function K3E))call ForGroup(g,function VIR)call FWE(g)endifset BNO=VNRif BNO!=null and GME(BNO)==false thenset x=GetUnitX(BNO)set y=GetUnitY(BNO)set SNV=BNOset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function K3E))call ForGroup(g,function VIR)call FWE(g)endifset BNO=VBRif BNO!=null and GME(BNO)==false thenset x=GetUnitX(BNO)set y=GetUnitY(BNO)set SNV=BNOset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function K3E))call ForGroup(g,function VIR)call FWE(g)endifset BNO=VCRif BNO!=null and GME(BNO)==false thenset x=GetUnitX(BNO)set y=GetUnitY(BNO)set SNV=BNOset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function K3E))call ForGroup(g,function VIR)call FWE(g)endifif GetTriggerEvalCount(t)>20 thencall KillUnit(VER)call KillUnit(VXR)call KillUnit(VNR)call KillUnit(VBR)call KillUnit(VCR)call KillUnit(MIE)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset VER=nullset VXR=nullset VNR=nullset VBR=nullset VCR=nullset MIE=nullreturn falseendfunctionfunction VDR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x0=GetUnitX(J6E)local real y0=GetUnitY(J6E)local real x1=GetSpellTargetX()local real y1=GetSpellTargetY()local real a=H4E(x0,y0,x1,y1)local unit VER=CreateUnit(GetOwningPlayer(J6E),1697657434,x0,y0,a-12.5)local unit VXR=CreateUnit(GetOwningPlayer(J6E),1697657434,x0,y0,a-6.25)local unit VNR=CreateUnit(GetOwningPlayer(J6E),1697657434,x0,y0,a)local unit VBR=CreateUnit(GetOwningPlayer(J6E),1697657434,x0,y0,a+6.25)local unit VCR=CreateUnit(GetOwningPlayer(J6E),1697657434,x0,y0,a+12.5)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x0,y0,0)call UnitAddAbility(MIE,1093808464)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveUnitHandle(YX,(H2E),(393),(VER))call SaveUnitHandle(YX,(H2E),(394),(VXR))call SaveUnitHandle(YX,(H2E),(395),(VNR))call SaveUnitHandle(YX,(H2E),(396),(VBR))call SaveUnitHandle(YX,(H2E),(397),(VCR))call SaveReal(YX,(H2E),(6),((x0)*1.))call SaveReal(YX,(H2E),(7),((y0)*1.))call SaveReal(YX,(H2E),(433),((0)*1.))call SaveReal(YX,(H2E),($D),((a)*1.))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call SaveInteger(YX,(H2E),(5),(GetUnitAbilityLevel(J6E,1093808461)))call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function VAR))set J6E=nullset VER=nullset VXR=nullset VNR=nullset VBR=nullset VCR=nullset t=nullset MIE=nullendfunctionfunction VFR takes nothing returns booleanif GetSpellAbilityId()==1093808461 thencall VDR()elseif GetSpellAbilityId()==1093808462 thencall VOR()endifreturn falseendfunctionfunction VGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093808460)local player p=(LoadPlayerHandle(YX,(H2E),(54)))if GetUnitTypeId(J6E)==1311781175 or GetUnitTypeId(J6E)==1311781442 thenif((LoadInteger(YX,(GetHandleId((J6E))),((4416))))==1)==false or p!=GetOwningPlayer(J6E)thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808462,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808461,false)call SaveInteger(YX,(GetHandleId((J6E))),((4416)),(1))call SaveInteger(YX,(GetHandleId((J6E))),((4417)),(2))if p!=GetOwningPlayer(J6E)thencall SavePlayerHandle(YX,(H2E),(54),(GetOwningPlayer(J6E)))endifendifif GetUnitAbilityLevel(J6E,1093808462)!=MAE thencall SetUnitAbilityLevel(J6E,1093808462,MAE)endifelseif GetUnitTypeId(J6E)==1311781174 thenif((LoadInteger(YX,(GetHandleId((J6E))),((4417))))==1)==false or p!=GetOwningPlayer(J6E)thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808462,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808461,true)call SaveInteger(YX,(GetHandleId((J6E))),((4417)),(1))call SaveInteger(YX,(GetHandleId((J6E))),((4416)),(2))if p!=GetOwningPlayer(J6E)thencall SavePlayerHandle(YX,(H2E),(54),(GetOwningPlayer(J6E)))endifendifif GetUnitAbilityLevel(J6E,1093808461)!=MAE thencall SetUnitAbilityLevel(J6E,1093808461,MAE)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction VHR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call GKE(J6E,1093808462)call GKE(J6E,1093808461)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808462,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808461,false)call SaveInteger(YX,(GetHandleId((J6E))),((4416)),(2))call SaveInteger(YX,(GetHandleId((J6E))),((4417)),(2))call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function VGR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SavePlayerHandle(YX,(H2E),(54),(GetOwningPlayer(J6E)))set t=nullset J6E=nullendfunctionfunction VJR takes nothing returns booleanif GetLearnedSkill()==1093808460 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808460)==1 thencall VHR()endifreturn falseendfunctionfunction U7E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function VJR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VFR))set t=nullendfunctionfunction VKR takes nothing returns nothingif GetEnumUnit()==GetTriggerUnit()thencall KNE(GetEnumUnit(),1093687365,D0,C0*2,1110454338)elsecall KNE(GetEnumUnit(),1093687365,D0,C0,1110454338)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093687365,false)endfunctionfunction VLR takes nothing returns nothinglocal group g=FYE()set D0=GetUnitAbilityLevel(GetTriggerUnit(),1093748042)set C0=5call GroupEnumUnitsInRange(g,0,0,9999,Condition(function L3E))call ForGroup(g,function VKR)call FWE(g)set g=nullendfunctionfunction VMR takes nothing returns booleanif GetSpellAbilityId()==1093748042 thencall VLR()endifreturn falseendfunctionfunction U8E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VMR))set t=nullendfunctionfunction VPR takes nothing returns booleanreturn GetSpellAbilityId()==1093681733endfunctionfunction VQR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitAbilityLevel(J6E,1093679429,GetUnitAbilityLevel(J6E,1093681733))call UnitRemoveAbility(J6E,1110456665)set t=nullset J6E=nullreturn falseendfunctionfunction VSR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function VQR))set t=nullset J6E=nullendfunctionfunction U4E takes nothing returns nothingset Dc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Dc,Condition(function VPR))call TriggerAddAction(Dc,function VSR)endfunctionfunction VTR takes nothing returns booleanreturn GetLearnedSkill()==1093681733 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction VUR takes nothing returns nothingcall SetUnitAbilityLevel(GetTriggerUnit(),1093679429,GetUnitAbilityLevel(GetTriggerUnit(),1093681733))endfunctionfunction U5E takes nothing returns nothingset DC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DC,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(DC,Condition(function VTR))call TriggerAddAction(DC,function VUR)endfunctionfunction VWR takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit VYR=RME(GetHandleId(t),"MeldTarget")call UnitRemoveAbility(VYR,1093685827)call O1E(GetHandleId(t))call DestroyTimer(t)set VYR=nullset t=nullendfunctionfunction VZR takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local timer t2=nulllocal integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit VYR=GetTriggerUnit()if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==FLE thencall DestroyTrigger(t)call MNE(FLE,VYR,2,50*GetUnitAbilityLevel(FLE,1093685846))call H7E(I2S(50*GetUnitAbilityLevel(FLE,1093685846)),1.,VYR,.03,$FF,0,0,$FF)set t2=CreateTimer()call GKE(VYR,1093685827)call SetUnitAbilityLevel(VYR,1093685827,GetUnitAbilityLevel(FLE,1093685846))call O8E(GetHandleId(t2),"MeldTarget",VYR)call TimerStart(t2,$A,false,function VWR)endifelsecall DestroyTrigger(t)endifset VYR=nullset FLE=nullset t2=nullset t=nullendfunctionfunction V_R takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local trigger t2=nulllocal integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local unit V0R=nulllocal real jUv=9999local unit VYR=GetOrderTargetUnit()if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER and IsUnitEnemy(GetOrderTargetUnit(),GetOwningPlayer(FLE))and(GetIssuedOrderId()==851983or GetIssuedOrderId()==$D0003)thenif E4E(x,y,GetUnitX(VYR),GetUnitY(VYR))<($91+50*GetUnitAbilityLevel(FLE,1093685839))thencall UnitRemoveAbility(FLE,1110456395)call D4E(t)if IsUnitType(GetOrderTargetUnit(),UNIT_TYPE_STRUCTURE)==false thenset t2=CreateTrigger()call TriggerRegisterUnitEvent(t2,VYR,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t2,2,false)set IAE=GetHandleId(t2)call O8E(IAE,"Hero",FLE)call TriggerAddAction(t2,function VZR)endifendifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(FLE,1110456395)call D4E(t)elseif x!=GetUnitX(FLE)or y!=GetUnitY(FLE)thencall UnitRemoveAbility(FLE,1110456395)call D4E(t)endifendifset V0R=nullset FLE=nullset t2=nullset t=nullset VYR=nullendfunctionfunction V1R takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",F2E,"origin"))call JAE(aO,GetUnitX(F2E),GetUnitY(F2E))call TriggerRegisterTimerEvent(t,.2,true)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_SPELL_CAST)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddAction(t,function V_R)call O8E(IAE,"Hero",F2E)call O5E(IAE,"x",GetUnitX(F2E))call O5E(IAE,"y",GetUnitY(F2E))call IssueImmediateOrderById(F2E,$D0019)set t=nullset F2E=nullendfunctionfunction V2R takes nothing returns booleanif GetSpellAbilityId()==1093685846 thencall V1R()endifreturn falseendfunctionfunction V9X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function V2R))set t=nullendfunctionfunction V3R takes nothing returns booleanlocal unit FLE=GetTriggerUnit()local integer IAE=GetHandleId(FLE)local integer V4R=R1E(IAE,"RefractionPrevent_Remaining")if V4R>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH thenif GetEventDamage()>5 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",FLE,"right hand"))call HWE(FLE,GetEventDamage())call O4E(IAE,"RefractionPrevent_Remaining",V4R-1)endifelsecall UnitRemoveAbility(FLE,1093685838)call UnitRemoveAbility(FLE,1110456394)call O4E(IAE,"RefractionPrevent_Remaining",0)endifset FLE=nullreturn falseendfunctionfunction V5R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit F2E=RME(GetHandleId(t),"Hero")local integer H2E=GetHandleId(F2E)local integer GPX=R1E(H2E,"RefractionDamage_Remaining")if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==F2E and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)thenif GetTriggerEventId()!=EVENT_UNIT_DEATH and GPX>0 and GetEventDamage()>0 thencall O4E(H2E,"RefractionDamage_Remaining",GPX-1)elsecall UnitRemoveAbility(F2E,1093685830)call UnitRemoveAbility(F2E,1093685837)call UnitRemoveAbility(F2E,1110456393)call O4E(H2E,"RefractionDamage_Remaining",0)endifendifset t=nullset F2E=nullreturn falseendfunctionfunction V6R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit F2E=RME(GetHandleId(t),"Hero")local integer H2E=GetHandleId(F2E)call O4E(H2E,"RefractionPrevent_Remaining",0)call O4E(H2E,"RefractionDamage_Remaining",0)call UnitRemoveAbility(F2E,1093685830)call UnitRemoveAbility(F2E,1093685837)call UnitRemoveAbility(F2E,1093685838)call O1E(GetHandleId(t))call IRE(t)set t=nullset F2E=nullreturn falseendfunctionfunction V7R takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local integer H2E=GetHandleId(F2E)local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,17,false)call TriggerAddCondition(t,Condition(function V6R))call O8E(GetHandleId(t),"Hero",F2E)call JAE(LL,GetUnitX(F2E),GetUnitY(F2E))call GKE(F2E,1093685838)call O4E(H2E,"RefractionPrevent_Remaining",GetUnitAbilityLevel(F2E,1093748033)+2)call GKE(F2E,1093685830)call SetUnitAbilityLevel(F2E,1093685830,GetUnitAbilityLevel(F2E,1093748033))call GKE(F2E,1093685837)call O4E(H2E,"RefractionDamage_Remaining",GetUnitAbilityLevel(F2E,1093748033)+2)set F2E=nullset t=nullendfunctionfunction V8R takes unit F2E,boolean CEO returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function V3R))call O4E(GetHandleId(F2E),"RefractionPrevent_Remaining",0)if CEO thenset rj[GetPlayerId(GetOwningPlayer(F2E))]=tendifset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function V5R))call O8E(GetHandleId(t),"Hero",F2E)call O4E(GetHandleId(F2E),"RefractionDamage_Remaining",0)if CEO thenset Ej[GetPlayerId(GetOwningPlayer(F2E))]=tendifset t=nullset F2E=nullendfunctionfunction V9R takes nothing returns booleanif GetLearnedSkill()==1093748033 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748033)==1 thencall V8R(GetTriggerUnit(),false)endifreturn falseendfunctionfunction EVR takes nothing returns booleanif GetSpellAbilityId()==1093748033 thencall V7R()endifreturn falseendfunctionfunction EVX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EVR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function V9R))set t=nullendfunctionfunction EER takes unit u,real wP,real wq,real wQ,real wr,real wR returns booleanlocal real ws=wQ-wPlocal real wS=wr-wqlocal real wt=GetUnitX(u)-wPlocal real wT=GetUnitY(u)-wqreturn wR>=RAbsBJ(ws*wT-wS*wt)/ RAbsBJ(Pow(Pow(ws,2)+Pow(wS,2),.5))endfunctionfunction EXR takes unit p5,unit m5,real HUE,real wU,real wv returns nothinglocal integer MAE=GetUnitAbilityLevel(p5,1093685839)local real wV=(300+20*MAE)*2local real ww=80+25local unit wWlocal real dxlocal real dylocal real wxlocal real xlocal real ylocal group g=FYE()local boolean wXlocal boolean wyset dx=GetUnitX(m5)-GetUnitX(p5)set dy=GetUnitY(m5)-GetUnitY(p5)set wx=Pow(Pow(dx,2)+Pow(dy,2),.5)set x=GetUnitX(m5)+(wV/ 2-25)*(dx/ wx)set y=GetUnitY(m5)+(wV/ 2-25)*(dy/ wx)set I9V=p5set I6V=HUEcall GroupEnumUnitsInRange(g,x,y,Pow(Pow(wV/ 2,2)+Pow(ww/ 2,2),.5),Condition(function K3E))call GroupRemoveUnit(g,m5)set wW=FirstOfGroup(g)loopexitwhen wW==nullset wX=EER(wW,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),ww/ 2)set wy=EER(wW,x,y,x-100,y+100*x*Pow(y,-1),.01+wV/ 2)if wX and wy thencall MNE(p5,wW,3,HUE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",wW,"chest"))endifcall GroupRemoveUnit(g,wW)set wW=FirstOfGroup(g)endloopcall FWE(g)set wW=nullset g=nullendfunctionfunction EOR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and GetEventDamage()>1 thencall DisableTrigger(t)call EXR(p5,m5,GetEventDamage(),R2E(IAE,"InitX"),R2E(IAE,"InitY"))call O1E(IAE)call IRE(t)endifelsecall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction ERR takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function EOR))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call O5E(IAE,"InitX",GetUnitX(p5))call O5E(IAE,"InitY",GetUnitY(p5))set m5=nullset p5=nullset t=nullendfunctionfunction EIR takes nothing returns nothinglocal unit p5=GetAttacker()if R8E(p5,"VorpalCooldown")==false thencall IBE(p5,"VorpalCooldown",.4)call ERR()endifset p5=nullendfunctionfunction EAR takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093685839)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")thencall EIR()endifreturn falseendfunctionfunction ENR takes nothing returns nothinglocal trigger tif GetUnitAbilityLevel(GetTriggerUnit(),1093685839)==1 thenset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function EAR))call O8E(GetHandleId(t),"Hero",GetTriggerUnit())endifcall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),1382379618,GetUnitAbilityLevel(GetTriggerUnit(),1093685839))set t=nullendfunctionfunction EBR takes nothing returns booleanif GetLearnedSkill()==1093685839 and IsUnitIllusion(GetTriggerUnit())==false thencall ENR()endifreturn falseendfunctionfunction EEX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EBR))set t=nullendfunctionfunction ECR takes unit u returns nothinglocal unit FLE=QV[GetPlayerId(GetOwningPlayer(u))]local integer IAE=GetHandleId(FLE)local integer w3local integer ilocal integer xlocal unit w4if GetUnitTypeId(FLE)!=1160786265 thenreturnendifset w3=R1E(IAE,"TrapMax")set i=1loopexitwhen i>w3set w4=RME(IAE,"Trap"+I2S(i))if w4==u thenset x=iloopexitwhen x==w3call O8E(IAE,"Trap"+I2S(x),RME(IAE,"Trap"+I2S(x+1)))set x=x+1endloopset i=w3endifset i=i+1endloopcall O4E(IAE,"TrapMax",w3-1)set w4=nullset FLE=nullendfunctionfunction EDR takes unit u returns nothinglocal unit FLE=QV[GetPlayerId(GetOwningPlayer(u))]local integer IAE=GetHandleId(FLE)local integer w3=R1E(IAE,"TrapMax")set w3=w3+1call O8E(IAE,"Trap"+I2S(w3),u)call O4E(IAE,"TrapMax",w3)if Ab[GetPlayerId(GetOwningPlayer(FLE))]thencall SelectUnitAddForPlayer(u,GetOwningPlayer(FLE))endifset FLE=nullendfunctionfunction EFR takes nothing returns nothingcall ECR(GetTriggerUnit())endfunctionfunction EGR takes unit u returns nothinglocal integer w8=GetUnitAbilityLevel(u,1093685840)*3+2local integer IAE=GetHandleId(u)local integer w3=R1E(IAE,"TrapMax")local unit w4=RME(IAE,"Trap1")if w3==w8 thencall ECR(w4)call RemoveUnit(w4)endifset w4=nullendfunctionfunction EHR takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(oA,1093685845)call IssueTargetOrderById(oA,$D006B,GetEnumUnit())set oA=nullendfunctionfunction EJR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=FYE()call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))call GroupEnumUnitsInRange(g,x,y,400,Condition(function LRE))call ForGroup(g,function EHR)call FWE(g)call ECR(p5)call RemoveUnit(p5)set g=nullset p5=nullendfunctionfunction EKR takes unit u returns nothingcall IssueImmediateOrderById(u,$D024C)endfunctionfunction ELR takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==AXV and GetUnitTypeId(GetFilterUnit())==1697657392endfunctionfunction EMR takes nothing returns nothinglocal real Wc=E4E(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),I6V,I7V)local real WC=E4E(GetUnitX(I9V),GetUnitY(I9V),I6V,I7V)if Wc<WC thenset I9V=GetEnumUnit()endifendfunctionfunction EPR takes nothing returns nothinglocal group g=FYE()set AXV=GetOwningPlayer(GetTriggerUnit())call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function ELR))set I9V=FirstOfGroup(g)set I6V=GetUnitX(GetTriggerUnit())set I7V=GetUnitY(GetTriggerUnit())call ForGroup(g,function EMR)call EKR(I9V)call FWE(g)set g=nullendfunctionfunction EQR takes nothing returns nothingcall GKE(GetTriggerUnit(),1093685844)endfunctionfunction ESR takes nothing returns nothinglocal location l=GetSpellTargetLoc()call GKE(GetTriggerUnit(),1093685844)call EGR(GetTriggerUnit())call EDR(CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697657392,GetLocationX(l),GetLocationY(l),0))call RemoveLocation(l)set l=nullendfunctionfunction ETR takes nothing returns booleanif GetSpellAbilityId()==1093685840 thencall ESR()endifif GetSpellAbilityId()==1093685844 thencall EPR()endifreturn falseendfunctionfunction EUR takes nothing returns booleanif GetSpellAbilityId()==1093685841 thencall EJR()endifreturn falseendfunctionfunction EWR takes nothing returns booleanif GetLearnedSkill()==1093685840 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685840)==1 thencall EQR()endifreturn falseendfunctionfunction EYR takes nothing returns booleanif GetUnitTypeId(GetDyingUnit())==1697657392 thencall EFR()endifreturn falseendfunctionfunction EXX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ETR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EYR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EUR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EWR))set t=nullendfunctionfunction EZR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(p5,1093750323)call UnitRemoveAbility(p5,1093750326)call UnitRemoveAbility(p5,1093750327)call UnitRemoveAbility(p5,1110459208)call O1E(IAE)call IRE(t)elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetTriggerUnit()==p5 and GetSpellAbilityId()==1093750324 and TimerGetElapsed(K)>R2E(IAE,"OriginalTime")thencall O1E(IAE)call IRE(t)elseif HNX(GetSpellAbilityId())and p5==GetSpellTargetUnit()thencall UnitRemoveAbility(p5,1093750323)call UnitRemoveAbility(p5,1093750326)call UnitRemoveAbility(p5,1093750327)call UnitRemoveAbility(p5,1110459208)call O1E(IAE)call IRE(t)endifelsecall UnitRemoveAbility(p5,1093750323)call UnitRemoveAbility(p5,1093750326)call UnitRemoveAbility(p5,1093750327)call UnitRemoveAbility(p5,1110459208)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullreturn falseendfunctionfunction E_R takes nothing returns nothinglocal unit p5=GetAttacker()local integer IAE=GetHandleId(p5)local integer DDE=GetUnitAbilityLevel(p5,1093750324)local integer A7O=R1E(IAE,"Count")local integer E0R=2+DDElocal trigger t=nullset A7O=A7O+1call O4E(IAE,"Count",A7O)if A7O>=E0R thencall UnitRemoveAbility(p5,1093750323)call UnitRemoveAbility(p5,1093750326)call UnitRemoveAbility(p5,1093750327)call UnitRemoveAbility(p5,1110459208)set t=RTE(IAE,"OverpowerEndTrig")call O1E(GetHandleId(t))call IRE(t)set t=nullendifset p5=nullendfunctionfunction E1R takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1110459208)>0 thencall E_R()endifreturn falseendfunctionfunction E2R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093750324)call GKE(p5,1093750323)call GKE(p5,1093750326)call GKE(p5,1093750327)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750326,false)call TriggerRegisterTimerEvent(t,$F,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EZR))call RVE(GetHandleId(p5),"OverpowerEndTrig",t)call O4E(GetHandleId(p5),"Count",0)call O8E(IAE,"Source",p5)call O5E(IAE,"OriginalTime",(TimerGetElapsed(K)+1)*1.)set t=nullset p5=nullendfunctionfunction E3R takes nothing returns booleanif GetSpellAbilityId()==1093750324 thencall E2R()endifreturn falseendfunctionfunction UUE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E3R))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function E1R))call HCE(1093750323)set t=nullendfunctionfunction E4R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local integer MAE=GetUnitAbilityLevel(J6E,1093684291)local integer WDXlocal integer E5Rif GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(J6E,1110454856)==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and J6E==GetSpellTargetUnit()and HNX(GetSpellAbilityId()))thencall O1E(H2E)call IRE(t)call UnitRemoveAbility(J6E,1110454856)call MHE(J6E,0)elseset WDX=R2I(GetUnitState(J6E,UNIT_STATE_LIFE)*(.04+.01*MAE))set E5R=R1E(H2E,"LastBonus")if WDX!=E5R thencall O4E(H2E,"LastBonus",WDX)call MHE(J6E,WDX)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction E6R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.25,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E4R))call O8E(IAE,"Source",GetTriggerUnit())call O4E(IAE,"LastBonus",0)set t=nullendfunctionfunction E7R takes nothing returns booleanif GetSpellAbilityId()==1093684291 thencall E6R()endifreturn falseendfunctionfunction E8R takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1110454856)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 thenendifreturn falseendfunctionfunction UWE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E7R))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function E8R))set t=nullendfunctionfunction E9R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real XVR=R2E(IAE,"rRealX1")local real x2=R2E(IAE,"x2")local real XER=R2E(IAE,"rRealY1")local real y2=R2E(IAE,"y2")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",p5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",m5,"origin"))call SetUnitPosition(p5,x2,y2)call IBE(m5,"4407",1)call SetUnitPosition(m5,XVR,XER)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction XXR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real XVR=GetUnitX(p5)local real XER=GetUnitY(p5)local real x2=GetUnitX(m5)local real y2=GetUnitY(m5)local trigger tlocal integer IAEif IsUnitAlly(p5,GetOwningPlayer(m5)) or FUE(GetSpellTargetUnit())==false thenset t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O5E(IAE,"rRealX1",(XVR)*1.)call O5E(IAE,"x2",(x2)*1.)call O5E(IAE,"rRealY1",(XER)*1.)call O5E(IAE,"y2",(y2)*1.)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function E9R))call H6E("SPLK",XVR,XER,x2,y2,.5,0,1,1,.3)call JRE(XVR,XER,300)call JRE(x2,y2,300)endifset p5=nullset m5=nullset t=nullendfunctionfunction XOR takes nothing returns booleanif GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 thencall XXR()endifreturn falseendfunctionfunction XRR takes nothing returns nothingif(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652610))))endifendfunctionfunction XIR takes nothing returns booleanif GetSpellAbilityId()==1093683534 or GetSpellAbilityId()==1093747031 thencall XRR()endifreturn falseendfunctionfunction UYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XOR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function XIR))set t=nullendfunctionfunction XAR takes unit MIE,real x,real y,integer DDE returns nothingcall SetUnitPosition(MIE,x,y)if GetPlayerController(GetOwningPlayer(MIE))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(MIE,1093681488)call SetUnitAbilityLevel(MIE,1093681488,DDE)endifcall IssueImmediateOrderById(MIE,$D026C)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))set MIE=nullendfunctionfunction XNR takes nothing returns booleanif(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),p0)==false thencall GroupAddUnit(p0,GetFilterUnit())if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>s0 thencall SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)-(s0*.75))elsecall MNE(Q0,GetFilterUnit(),1,s0)endifendifreturn falseendfunctionfunction XBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local real l4=R2E(IAE,"Angle")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local integer DDE=R1E(IAE,"Level")local group BIO=RUE(IAE,"AlreadyDamaged")local group gif GetTriggerEvalCount(t)>$A thencall FWE(BIO)call O1E(IAE)call IRE(t)elseset p0=BIOset Q0=p5set s0=DDE*25set I9V=p5set g=FYE()call GroupEnumUnitsInRange(g,x,y,325,Condition(function XNR))call FWE(g)set g=nullcall XAR(MIE,x,y,DDE)if ModuloInteger(GetTriggerEvalCount(t),2)==0 thencall KillUnit(CreateUnit(GetOwningPlayer(p5),1697657409,x,y,0))endifset x=HRE(x+$C8*Cos(l4*bj_DEGTORAD))set y=HIE(y+$C8*Sin(l4*bj_DEGTORAD))call O5E(IAE,"x",x*1.)call O5E(IAE,"y",y*1.)endifset t=nullset p5=nullset MIE=nullset BIO=nullreturn falseendfunctionfunction XCR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real l4=H4E(x1,y1,x2,y2)local integer DDE=GetUnitAbilityLevel(p5,1093744463)local unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x1,y1,0)call GKE(MIE,1093681488)call SetUnitAbilityLevel(MIE,1093681488,DDE)call RemoveLocation(l)call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call O4E(IAE,"Level",DDE)call O5E(IAE,"x",x1*1.)call O5E(IAE,"y",y1*1.)call O5E(IAE,"Angle",l4*1.)call RAE(IAE,"AlreadyDamaged",FYE())call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function XBR))set t=nullset p5=nullset l=nullset MIE=nullendfunctionfunction XDR takes nothing returns booleanif GetSpellAbilityId()==1093744463 thencall XCR()endifreturn falseendfunctionfunction UZE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XDR))set t=nullendfunctionfunction XFR takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))endfunctionfunction XGR takes nothing returns booleanif GetSpellAbilityId()==1093677633 thencall XFR()endifreturn falseendfunctionfunction U_E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function XGR))call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)set t=nullendfunctionfunction XHR takes nothing returns booleanreturn(GetSpellAbilityId()==(1093683779)or GetSpellAbilityId()==(1093677616)or GetSpellAbilityId()==(1093810503)or GetSpellAbilityId()==(1093810504)or(GetUnitPointValue(GetTriggerUnit())==500))and GetUnitAbilityLevel(GetTriggerUnit(),(1093684789))>0endfunctionfunction XJR takes nothing returns nothinglocal real XKR=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)local real XLR=.03+.02*GetUnitAbilityLevel(GetTriggerUnit(),1093684789)local real C4O=XKR*XLRcall UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),C4O,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))endfunctionfunction XMR takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)!=nullendfunctionfunction XPR takes nothing returns nothinglocal location GRX=GetUnitLoc(GetTriggerUnit())local group C7O=FYE()local real x=GetLocationX(GRX)local real y=GetLocationY(GRX)local boolexpr XQR=Condition(function XMR)call GroupEnumUnitsInRange(C7O,x,y,$401,XQR)call ForGroup(C7O,function XJR)call RemoveLocation(GRX)call FWE(C7O)call DestroyBoolExpr(XQR)set GRX=nullset C7O=nullset XQR=nullendfunctionfunction U0E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XHR))call TriggerAddAction(t,function XPR)set t=nullendfunctionfunction XSR takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and GetUnitTypeId(GetFilterUnit())!=1211117642 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(YVV)))!=nullendfunctionfunction XTR takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local unit OJE=CreateUnit(GetOwningPlayer(YVV),1697656880,x,y,0)call UnitAddAbility(OJE,1093678419)call SetUnitAbilityLevel(OJE,1093678419,YEV)call IssueTargetOrderById(OJE,$D0097,GetEnumUnit())call UnitApplyTimedLife(OJE,1112820806,3)call UnitAddAbility(OJE,1097625443)if(GetPlayerController(GetOwningPlayer(OJE))==MAP_CONTROL_COMPUTER)thencall IssueTargetOrderById(OJE,$D0097,GetEnumUnit())endifset OJE=nullendfunctionfunction XUR takes nothing returns nothinglocal group g=FYE()set YVV=GetTriggerUnit()if GetSpellAbilityId()==1093810503 thenset YEV=GetUnitAbilityLevel(GetTriggerUnit(),1093810503)+4elseset YEV=GetUnitAbilityLevel(GetTriggerUnit(),1093810504)+7endifcall GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function XSR))call ForGroup(g,function XTR)call FWE(g)set g=nullendfunctionfunction XWR takes nothing returns booleanif GetSpellAbilityId()==1093810503 or GetSpellAbilityId()==1093810504 thencall XUR()endifreturn falseendfunctionfunction U1E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XWR))set t=nullendfunctionfunction XYR takes nothing returns booleanreturn GetSpellAbilityId()==1093683779 and FUE(GetSpellTargetUnit())==falseendfunctionfunction XZR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656880,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093678419)call SetUnitAbilityLevel(oA,1093678419,GetUnitAbilityLevel(FLE,1093683779))call IssueTargetOrderById(oA,$D0097,m5)call UnitApplyTimedLife(oA,1112820806,3)call SetUnitPathing(oA,false)call GKE(oA,1097625443)if(GetPlayerController(GetOwningPlayer(oA))==MAP_CONTROL_COMPUTER)thencall EYE(.01)call IssueTargetOrderById(oA,$D0097,m5)endifset FLE=nullset m5=nullset oA=nullendfunctionfunction U2E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XYR))call TriggerAddAction(t,function XZR)set t=nullendfunctionfunction X_R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")call SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))if GetTriggerEvalCount(t)>80 thencall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset MIE=nullreturn falseendfunctionfunction X0R takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(p5),1697657411,GetUnitX(p5),GetUnitY(p5),0)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GKE(MIE,1093748301)call SetUnitAbilityLevel(MIE,1093748301,GetUnitAbilityLevel(p5,1093677616))call IssueTargetOrderById(MIE,$D0097,m5)call UnitApplyTimedLife(MIE,1112820806,$A)call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function X_R))set p5=nullset m5=nullset MIE=nullset t=nullendfunctionfunction X1R takes nothing returns booleanif GetSpellAbilityId()==1093677616 and FUE(GetSpellTargetUnit())==false thencall X0R()endifreturn falseendfunctionfunction U3E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function X1R))call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set t=nullendfunctionfunction X2R takes nothing returns booleanreturn GetSpellAbilityId()==(1093683507)and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or FUE(GetSpellTargetUnit())==false)endfunctionfunction WU takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real HUE=R2E(IAE,"Damage")call UnitDamageTarget(FLE,FLE,HUE,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call O1E(IAE)call PauseTimer(t)call DestroyTimer(t)set t=nullset FLE=nullendfunctionfunction X3R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real HUE=25+25*GetUnitAbilityLevel(FLE,1093683507)local timer t=CreateTimer()local integer IAE=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",m5,"origin"))if IsUnitAlly(m5,GetOwningPlayer(FLE))and GetUnitState(m5,UNIT_STATE_LIFE)>1. thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+2*HUE)elsecall UnitDamageTarget(FLE,m5,2*HUE,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endifcall O8E(IAE,"Hero",FLE)call O5E(IAE,"Damage",HUE)call TimerStart(t,0,false,function WU)set FLE=nullset m5=nullset t=nullendfunctionfunction ZFE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X2R))call TriggerAddAction(t,function X3R)set t=nullendfunctionfunction WV takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(MB),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(oA,1093684554)call SetUnitAbilityLevel(oA,1093684554,I5V)call IssueTargetOrderById(oA,$D026B,GetEnumUnit())set oA=nullendfunctionfunction X4R takes unit p5,unit m5,integer DDE returns nothinglocal group g=FYE()set I9V=p5set I5V=DDEset MB=p5call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),700,Condition(function LIE))call ForGroup(g,function WV)call FWE(g)set g=nullendfunctionfunction WW takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local real X5R=R2E(H2E,"Life")local unit J6Elocal unit F3E=RME(H2E,"Target")local integer MAEif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif R8E(GetTriggerUnit(),"BorrowedTime|Active")==false thenif X5R<GetEventDamage()thenset J6E=RME(H2E,"Source")set MAE=R1E(H2E,"Level")call DestroyEffect(RWE(H2E,"FX"))call O7E(GetHandleId(F3E),"AphoticShield|Active",false)call O1E(H2E)call IRE(t)call HWE(GetTriggerUnit(),X5R)call X4R(J6E,GetTriggerUnit(),MAE)set GZ[256+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseelseif GetEventDamage()>0 thencall HWE(GetTriggerUnit(),GetEventDamage())call O5E(H2E,"Life",X5R-GetEventDamage())endifendifelseset J6E=RME(H2E,"Source")set MAE=R1E(H2E,"Level")call O7E(GetHandleId(F3E),"AphoticShield|Active",false)set GZ[256+GetPlayerId(GetOwningPlayer(RME(H2E,"AphTarg")))]=falsecall DestroyEffect(RWE(H2E,"FX"))call O1E(H2E)call IRE(t)call X4R(J6E,F3E,MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction X6R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F3E=GetSpellTargetUnit()local unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093684550)local integer UFO=GetHandleId(F3E)local real X5Rif R3E(UFO,"AphoticShield|Active") thencall TriggerEvaluate(RTE(UFO,"AphoticShield|Trigger"))endifcall UnitRemoveBuffs(F3E,false,true)call HOX(F3E,0,0)if MAE==1 thenset X5R=110elseif MAE==2 thenset X5R=$8Celseif MAE==3 thenset X5R=$AAelseset X5R=$C8endifcall O5E(H2E,"Life",X5R)call O9E(H2E,"FX",AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",F3E,"chest"))call O8E(H2E,"Source",J6E)call O4E(H2E,"Level",MAE)call O8E(H2E,"Target",F3E)set GZ[256+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]=truecall TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,$F,false)call TriggerAddCondition(t,Condition(function WW))call RVE(UFO,"AphoticShield|Trigger",t)call O7E(UFO,"AphoticShield|Active",true)set t=nullset F3E=nullset J6E=nullendfunctionfunction X7R takes nothing returns booleanif GetSpellAbilityId()==1093684550 thencall X6R()endifreturn falseendfunctionfunction WY takes nothing returns nothingif GetUnitAbilityLevel(GetSpellTargetUnit(),1112433775)>0 thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),D1E(1848652617))endifendfunctionfunction X8R takes nothing returns booleanif GetSpellAbilityId()==1093684550 thencall WY()endifreturn falseendfunctionfunction s7 takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function X8R))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X7R))set t=nullendfunctionfunction X9R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrderById(FLE,$D00A1)thencall O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction OVR takes unit FLE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function X9R))call O8E(IAE,"Hero",FLE)set t=nullendfunctionfunction OER takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit F2E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(F2E,1093684819)local integer OXRlocal real NWXif MAE==0 thenset MAE=GetUnitAbilityLevel(F2E,1093747777)+2endifset OXR=2+MAEif GetTriggerEventId()==EVENT_UNIT_DAMAGED and R8E(F2E,"BorrowedTime|Active")thencall HWE(F2E,GetEventDamage())call HWE(F2E,GetEventDamage())elseif(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093684819 or GetSpellAbilityId()==1093747777))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and R8E(F2E,"BorrowedTime|CD")==false and GetUnitState(F2E,UNIT_STATE_LIFE)<400)thencall TimerStart(CLV[GetPlayerId(GetOwningPlayer(F2E))],60,false,null)call IBE(F2E,"BorrowedTime|Active",OXR)call IBE(F2E,"BorrowedTime|CD",60)call UnitRemoveBuffs(F2E,false,true)call HOX(F2E,0,0)if GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall DisableTrigger(t)set YXV=trueif IssueImmediateOrderById(F2E,$D00A1)==false thencall OVR(F2E)endifset YXV=falsecall EnableTrigger(t)endifcall H0E("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",F2E,"origin",OXR)endifset t=nullset F2E=nullreturn falseendfunctionfunction OOR takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OER))if CEO thenset Vj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction ORR takes nothing returns booleanif(GetLearnedSkill()==1093684819 or GetLearnedSkill()==1093747777)and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),1093684819)==1 or GetUnitAbilityLevel(GetTriggerUnit(),1093747777)==1)thencall OOR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction ZHE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ORR))set t=nullendfunctionfunction OIR takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),(1110455862))>0 or GetUnitAbilityLevel(GetAttacker(),(1093684551))>0endfunctionfunction OAR takes nothing returns nothinglocal unit NHX=GetAttacker()local unit m5=GetTriggerUnit()local unit ONRlocal integer DDE=GetUnitAbilityLevel(NHX,(1093684551))local unit MIE=CreateUnit(GetOwningPlayer(NHX),1697656901,GetUnitX(NHX),GetUnitY(NHX),0)if DDE>0 thencall O4E(GetHandleId(m5),"MarkOfTheAbyss|Level",DDE)elseset DDE=R1E(GetHandleId(m5),"MarkOfTheAbyss|Level")endifif IsUnitEnemy(m5,GetOwningPlayer(NHX)) thencall GKE(MIE,(1093684552))call SetUnitAbilityLevel(MIE,(1093684552),DDE)call IssueTargetOrderById(MIE,$D0085,NHX)endifset NHX=nullset m5=nullset ONR=nullset MIE=nullendfunctionfunction ZGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function OIR))call TriggerAddAction(t,function OAR)set t=nullendfunctionfunction OBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local integer DZX=(LoadInteger(YX,(H2E),(34)))local real C4Olocal integer OXRlocal unit DCXif MAE==1 thenset C4O=$Fset OXR=$Aelseif MAE==2 thenset C4O=21set OXR=$Delseif MAE==3 thenset C4O=27set OXR=16elseif MAE==4 thenset C4O=33set OXR=19endifif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093686065 and FUE(GetSpellTargetUnit())==false and F3E==GetSpellTargetUnit()thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenset DCX=GetKillingUnit()if PAE(DCX)thenset DCX=(QV[GetPlayerId(GetOwningPlayer((DCX)))])endifif GetTriggerUnit()==F3E or DCX==F3E thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093752627)call UnitRemoveAbility(F3E,1110459471)endifelseset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))if DZX==OXR thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093752627)call UnitRemoveAbility(F3E,1110459471)endifcall MNE(J6E,F3E,1,C4O)endifset t=nullset J6E=nullset F3E=nullset DCX=nullreturn falseendfunctionfunction OCR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093686065)local real ODRlocal real JNIcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",F3E,"overhead"))call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093752627,false)call GKE(F3E,1093752627)call TriggerRegisterTimerEvent(t,1,true)call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OBR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),(34),(0))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",F3E,"overhead")))set J6E=nullset F3E=nullset t=nullendfunctionfunction OFR takes nothing returns nothingif GetUnitAbilityLevel(GetEnumUnit(),1110459471)>0 thenset ZWV=ZWV+1endifendfunctionfunction OGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group g=FYE()set I9V=J6Eset ZWV=0call GroupEnumUnitsInRange(g,0,0,9999,Condition(function K3E))call ForGroup(g,function OFR)call FWE(g)if ZWV==0 thenif GetUnitAbilityLevel(J6E,1110459738)>0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)endifelseif ZWV==1 thenif GetUnitAbilityLevel(J6E,1093812562)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812562)endifelseif ZWV==2 thenif GetUnitAbilityLevel(J6E,1093812563)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812563)endifelseif ZWV==3 thenif GetUnitAbilityLevel(J6E,1093812565)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812565)endifelseif ZWV==4 thenif GetUnitAbilityLevel(J6E,1093812564)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812564)endifelseif ZWV==5 thenif GetUnitAbilityLevel(J6E,1093812561)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812561)endifelseif ZWV>=6 thenif GetUnitAbilityLevel(J6E,1093812560)==0 thencall UnitRemoveAbility(J6E,1093812562)call UnitRemoveAbility(J6E,1093812563)call UnitRemoveAbility(J6E,1093812565)call UnitRemoveAbility(J6E,1093812564)call UnitRemoveAbility(J6E,1093812561)call UnitRemoveAbility(J6E,1093812560)call UnitRemoveAbility(J6E,1110459738)call UnitAddAbility(J6E,1093812560)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction OHR takes nothing returns booleanif GetSpellAbilityId()==1093686065 and FUE(GetSpellTargetUnit())==false thencall OCR()endifreturn falseendfunctionfunction OJR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function OGR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812562,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812563,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812565,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812564,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812561,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812560,false)set t=nullendfunctionfunction OKR takes nothing returns booleanif GetLearnedSkill()==1093686065 and GetUnitAbilityLevel(GetTriggerUnit(),1093686065)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall OJR()endifreturn falseendfunctionfunction U9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OHR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function OKR))set t=nullendfunctionfunction xb takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call MNE(GetTriggerUnit(),GetEnumUnit(),2,GetUnitAbilityLevel(GetTriggerUnit(),1093681974)*30+70)endfunctionfunction OLR takes nothing returns nothinglocal group g=FYE()local unit FLE=GetTriggerUnit()call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),300,Condition(function jF))call ForGroup(g,function xb)call SetUnitAnimation(FLE,"spin")call JZE(FLE,.6)call IBE(FLE,"OLR",.7-.05*GetUnitAbilityLevel(GetTriggerUnit(),1093681974))call FWE(g)set g=nullset FLE=nullendfunctionfunction OMR takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),1110455120)>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetRandomReal(0,100)<17 and R8E(GetTriggerUnit(),"OLR")==false thencall OLR()endifreturn falseendfunctionfunction WVE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function OMR))set t=nullendfunctionfunction xC takes nothing returns booleanreturn LRE()and GetUnitAbilityLevel(GetFilterUnit(),1110454328)==0 and GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0endfunctionfunction xd takes integer H2E,integer OPR returns nothinglocal integer i=1loopexitwhen i>OPRcall DestroyEffect((LoadEffectHandle(YX,(H2E),($A8C+i))))set i=i+1endloopendfunctionfunction OQR takes nothing returns nothingif((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER))thenset hq[640+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))set hq[832+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),1093683510))call IssueTargetOrderById(GetEnumUnit(),$D0003,YRV)elsecall IssueTargetOrderById(GetEnumUnit(),$D000F,YRV)endifendfunctionfunction xE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local group g=LoadGroupHandle(YX,(H2E),($DC))local unit F2E=LoadUnitHandle(YX,(H2E),($E))local integer OPR=LoadInteger(YX,(H2E),(365))local integer MAE=(LoadInteger(YX,(H2E),(5)))local integer DZX=(LoadInteger(YX,(H2E),(34)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER thenset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))if DZX==(4+2*MAE)thencall UnitRemoveAbility(F2E,1093683509)call FWE(g)call xd(H2E,OPR)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall DisableTrigger(t)set YRV=F2Ecall ForGroup(g,function OQR)call EnableTrigger(t)endifelseif IsUnitInGroup(GetTriggerUnit(),g) and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1110454328)==0 and GetIssuedOrderId()!=$D0005 and YXV==false thencall DisableTrigger(t)if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))thencall DisableTrigger(GZV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])call IssueTargetOrderById(GetTriggerUnit(),$D0003,F2E)call EnableTrigger(GZV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])elsecall IssueTargetOrderById(GetTriggerUnit(),$D000F,F2E)endifcall EnableTrigger(t)endifendifset t=nullset g=nullset F2E=nullreturn falseendfunctionfunction xf takes nothing returns nothingset I5V=I5V+1call SaveEffectHandle(YX,(tl),($A8C+I5V),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))endfunctionfunction xF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F2E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(F2E,1093683510)local group g=FYE()call GKE(F2E,1093683509)call SetUnitAbilityLevel(F2E,1093683509,MAE)set I9V=F2Eset YRV=F2Eset I5V=0set tl=H2Ecall GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),300,Condition(function xC))call ForGroup(g,function xf)call ForGroup(g,function OQR)call SaveInteger(YX,(H2E),(365),I5V)call SaveUnitHandle(YX,(H2E),($E),F2E)call SaveGroupHandle(YX,(H2E),($DC),g)call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),(34),(0))call TriggerRegisterTimerEvent(t,.25,true)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function xE))set t=nullset g=nullset F2E=nullendfunctionfunction OSR takes nothing returns booleanif GetSpellAbilityId()==1093683510 thencall xF()endifreturn falseendfunctionfunction WEE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OSR))set t=nullendfunctionfunction OTR takes nothing returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093814595,false)call KNE(GetEnumUnit(),1093814595,1,6,1110459990)endfunctionfunction OUR takes nothing returns booleanreturn GetSpellAbilityId()==1093682482 or GetSpellAbilityId()==1093750098endfunctionfunction OWR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local real X5R=GetUnitState(F3E,UNIT_STATE_LIFE)local integer MAE=GetUnitAbilityLevel(FLE,1093682482)local unit MIElocal boolean OYR=falselocal group gif MAE==0 thenset MAE=GetUnitAbilityLevel(FLE,1093750098)set OYR=trueendifif(X5R<=300 and MAE==1)or(X5R<=450 and MAE==2)or(X5R<=625 and MAE==3)thenif OYR thenendifcall PlaySoundOnUnitBJ(AL,100,F3E)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",F3E,"overhead"))set MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,0,0,0)call UnitRemoveBuffs(F3E,true,true)call UnitRemoveAbility(F3E,1097167980)call UnitDamageTarget(MIE,F3E,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",FLE,"origin"))set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),625,Condition(function LUE))call ForGroup(g,function OTR)call FWE(g)set g=nullendifset FLE=nullset F3E=nullset MIE=nullendfunctionfunction WXE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OUR))call TriggerAddAction(t,function OWR)set t=nullendfunctionfunction OZR takes nothing returns booleanreturn GetSpellAbilityId()==1093683019 and FUE(GetSpellTargetUnit())==falseendfunctionfunction O_R takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),1093683019))endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))endfunctionfunction xI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")local player p=RQE(IAE,"p")local integer DDE=R1E(IAE,"Level")local unit oAif GetUnitAbilityLevel(m5,1110454854)==0 thencall O1E(IAE)call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED and GetTriggerUnit()==m5 thenif((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER))thencall IssuePointOrderById(GetAttacker(),$D0012,GetUnitX(GetAttacker())+GetRandomReal(0,150.)-75.,GetUnitY(GetAttacker())+GetRandomReal(0,150.)-75.)elsecall UnitRemoveAbility(m5,1110454854)set oA=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093678169)call SetUnitAbilityLevel(oA,1093678169,DDE)call IssueTargetOrderById(oA,$D0103,GetAttacker())call O1E(IAE)call IRE(t)endifelseif GetTriggerEventId()!=EVENT_UNIT_ATTACKED thenif GetUnitState(m5,UNIT_STATE_LIFE)>21 thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-20)elsecall UnitRemoveAbility(m5,1110454854)call MNE(p5,m5,1,50)call O1E(IAE)call IRE(t)endifendifset t=nullset p=nullset oA=nullset m5=nullset p5=nullreturn falseendfunctionfunction xj takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)set IAE=GetHandleId(t)call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call RRE(IAE,"p",GetOwningPlayer(p5))call O4E(IAE,"Level",GetUnitAbilityLevel(p5,1093678169))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function xI))set L7V=truecall MNE(p5,m5,2,0)set L7V=falseset p5=nullset m5=nullset t=nullendfunctionfunction O0R takes nothing returns booleanif GetSpellAbilityId()==1093678169 and XDE(GetSpellTargetUnit())==false thencall xj()endifreturn falseendfunctionfunction O1R takes nothing returns booleanif GetSpellAbilityId()==1093678169 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) thenif GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))endifendifreturn falseendfunctionfunction WOE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O0R))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function O1R))set t=nullendfunctionfunction O2R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit p5=RME(H2E,"Source")local unit m5=RME(H2E,"Target")local real NWXlocal integer DZX=6local fogmodifier O3R=(LoadFogModifierHandle(YX,(H2E),(42)))if GetUnitAbilityLevel(p5,1093747769)>0 thenset DZX=7endifif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall FogModifierStop(O3R)call DestroyFogModifier(O3R)call O1E(H2E)call IRE(t)elseif GetTriggerEvalCount(t)>DZX thencall FogModifierStop(O3R)call DestroyFogModifier(O3R)call O1E(H2E)call IRE(t)call XIE(p5)elseset NWX=RMinBJ(.05*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))if GetUnitAbilityLevel(p5,1093747769)>0 thenset NWX=RMinBJ(.1*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))endifif NWX>0 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+NWX)call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-NWX)endifendifset t=nullset p5=nullset m5=nullset O3R=nullreturn falseendfunctionfunction O4R takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local fogmodifier O3R=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,GetUnitX(m5),GetUnitY(m5),350,true,true)call FogModifierStart(O3R)call UnitRemoveAbility(m5,1110454854)call UnitRemoveAbility(m5,1112896368)call UnitRemoveAbility(m5,1114993524)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function O2R))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call SaveFogModifierHandle(YX,(IAE),(42),(O3R))set p5=nullset m5=nullset t=nullset O3R=nullendfunctionfunction O5R takes nothing returns booleanif GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769 thencall O4R()endifreturn falseendfunctionfunction WRE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O5R))set t=nullendfunctionfunction O6R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetUnitAbilityLevel(F3E,1110454852)==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093808689)call UnitRemoveAbility(F3E,1093808691)call UnitRemoveAbility(F3E,1093808692)call UnitRemoveAbility(F3E,1093808690)endifset t=nullset F3E=nullreturn falseendfunctionfunction O7R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093678166)if MAE==1 thencall GKE(F3E,1093808689)call UnitRemoveAbility(F3E,1093808691)call UnitRemoveAbility(F3E,1093808692)call UnitRemoveAbility(F3E,1093808690)elseif MAE==2 thencall GKE(F3E,1093808691)call UnitRemoveAbility(F3E,1093808689)call UnitRemoveAbility(F3E,1093808692)call UnitRemoveAbility(F3E,1093808690)elseif MAE==3 thencall GKE(F3E,1093808692)call UnitRemoveAbility(F3E,1093808689)call UnitRemoveAbility(F3E,1093808691)call UnitRemoveAbility(F3E,1093808690)elseif MAE==4 thencall GKE(F3E,1093808690)call UnitRemoveAbility(F3E,1093808689)call UnitRemoveAbility(F3E,1093808691)call UnitRemoveAbility(F3E,1093808692)endifcall TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O6R))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullendfunctionfunction O8R takes nothing returns booleanif GetSpellAbilityId()==1093678166 and FUE(GetSpellTargetUnit())==false thencall O7R()endifreturn falseendfunctionfunction WAE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O8R))set t=nullendfunctionfunction O9R takes unit J6E,unit F3E,real RVR returns nothingcall SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)+GetUnitState(F3E,UNIT_STATE_MAX_LIFE)*RVR)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",J6E,"overhead"))endfunctionfunction RER takes nothing returns booleanif GME(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093684293)>0 and IsUnitEnemy(QVV,GetOwningPlayer(GetFilterUnit()))thencall O9R(GetFilterUnit(),QVV,GetUnitAbilityLevel(GetFilterUnit(),1093684293)*.1*.5)endifreturn falseendfunctionfunction RXR takes unit J6E,unit F3E,integer MAE returns nothinglocal group g=FYE()set QVV=F3Ecall GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),$FA,Condition(function RER))call FWE(g)set QVV=nullset g=nullendfunctionfunction ROR takes nothing returns booleanlocal unit J6E=GetKillingUnit()local unit F3E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093684293)if IsUnitIllusion(F3E)==false and IsUnitType(F3E,UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(F3E)!=1848651852 thenif IsUnitType(F3E,UNIT_TYPE_HERO)==false thenif MAE>0 thencall O9R(J6E,F3E,MAE*.05+.05)endifelseif MAE>0 thencall O9R(J6E,F3E,MAE*.1)elsecall RXR(J6E,F3E,MAE)endifendifendifset J6E=nullset F3E=nullreturn falseendfunctionfunction WNE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ROR))set t=nullendfunctionfunction xn takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local real xN=R2E(IAE,"LastX")local real xo=R2E(IAE,"LastY")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))local real RRR=.2*DDE*dlocal integer QI=R1E(IAE,"Iteration")if d>$514 thenset RRR=0endifif RRR>5 thencall DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"origin"))endifif RRR>0 and GME(m5)==false thencall MNE(p5,m5,3,RRR)endifcall O5E(IAE,"LastX",x)call O5E(IAE,"LastY",y)call O4E(IAE,"Iteration",QI+1)if GME(m5)thencall O1E(IAE)call IRE(t)elseif QI>4*(6+DDE)thencall UnitRemoveAbility(m5,1093683528)call UnitRemoveAbility(m5,1110456396)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction xp takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093684296)call GKE(m5,1093683528)call SetUnitAbilityLevel(m5,1093683528,DDE)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"chest"))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call O5E(IAE,"LastX",GetUnitX(m5))call O5E(IAE,"LastY",GetUnitY(m5))call O4E(IAE,"Iteration",0)call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function xn))call MNE(p5,m5,3,50+100*DDE)set p5=nullset m5=nullset t=nullendfunctionfunction RIR takes nothing returns booleanif GetSpellAbilityId()==1093684296 and FUE(GetSpellTargetUnit())==false thencall xp()endifreturn falseendfunctionfunction WBE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RIR))set t=nullendfunctionfunction RAR takes nothing returns nothinglocal unit MIEif K4E(GetEnumUnit())==false thencall UnitRemoveAbility(GetEnumUnit(),1110459737)call UnitShareVision(GetEnumUnit(),GetOwningPlayer(QDV),true)elsecall UnitShareVision(GetEnumUnit(),GetOwningPlayer(QDV),true)if GetUnitAbilityLevel(GetEnumUnit(),1110459737)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454356)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110454348)==0 thenset MIE=CreateUnit(GetOwningPlayer(QDV),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UnitAddAbility(MIE,1093812552)call IssueTargetOrderById(MIE,$D00B5,GetEnumUnit())set MIE=nullendifendifendfunctionfunction RNR takes nothing returns nothingif GME(QDV) or IsUnitInGroup(GetEnumUnit(),QCV)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>.4 or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>.2 and K4E(GetEnumUnit()))thencall GroupRemoveUnit(QBV,GetEnumUnit())call UnitShareVision(GetEnumUnit(),GetOwningPlayer(QDV),false)call UnitRemoveAbility(GetEnumUnit(),1110459737)endifendfunctionfunction RBR takes nothing returns nothingif GME(QDV)==false and IsUnitInGroup(GetEnumUnit(),QBV)==false and IsUnitIllusion(GetEnumUnit())==false thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<.4 and K4E(GetEnumUnit())==false thencall GroupAddUnit(QBV,GetEnumUnit())elseif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<.2 thencall GroupAddUnit(QBV,GetEnumUnit())endifendifendfunctionfunction RCR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group RDR=(LoadGroupHandle(YX,(H2E),(22)))local group g=FYE()local integer MAE=GetUnitAbilityLevel(J6E,1093683512)set I9V=J6Eset QDV=J6Eset QBV=RDRset QFV=MAEcall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),25+$5DC*MAE,Condition(function LPE))call ForGroup(g,function RBR)set QCV=gcall ForGroup(QBV,function RNR)call ForGroup(QBV,function RAR)if FirstOfGroup(QBV)==null thencall UnitRemoveAbility(J6E,QNV[1])call UnitRemoveAbility(J6E,QNV[2])call UnitRemoveAbility(J6E,QNV[3])call UnitRemoveAbility(J6E,QNV[4])call UnitRemoveAbility(J6E,1093808436)elseif MAE==1 thencall UnitRemoveAbility(J6E,QNV[2])call UnitRemoveAbility(J6E,QNV[3])call UnitRemoveAbility(J6E,QNV[4])call UnitRemoveAbility(J6E,1110459701)call UnitRemoveAbility(J6E,1110459700)call UnitRemoveAbility(J6E,1110459702)elseif MAE==2 thencall UnitRemoveAbility(J6E,QNV[1])call UnitRemoveAbility(J6E,QNV[3])call UnitRemoveAbility(J6E,QNV[4])call UnitRemoveAbility(J6E,1110455634)call UnitRemoveAbility(J6E,1110459700)call UnitRemoveAbility(J6E,1110459702)elseif MAE==3 thencall UnitRemoveAbility(J6E,QNV[1])call UnitRemoveAbility(J6E,QNV[2])call UnitRemoveAbility(J6E,QNV[4])call UnitRemoveAbility(J6E,1110455634)call UnitRemoveAbility(J6E,1110459701)call UnitRemoveAbility(J6E,1110459702)elseif MAE==4 thencall UnitRemoveAbility(J6E,QNV[1])call UnitRemoveAbility(J6E,QNV[2])call UnitRemoveAbility(J6E,QNV[3])call UnitRemoveAbility(J6E,1110455634)call UnitRemoveAbility(J6E,1110459701)call UnitRemoveAbility(J6E,1110459700)endifcall GKE(J6E,QNV[MAE])call GKE(J6E,1093808436)call UnitMakeAbilityPermanent(J6E,true,QNV[MAE])call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),QNV[MAE],false)endifcall FWE(g)set t=nullset J6E=nullset g=nullset RDR=nullreturn falseendfunctionfunction RFR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function RCR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveGroupHandle(YX,(H2E),(22),(FYE()))set t=nullset J6E=nullendfunctionfunction RGR takes nothing returns booleanif GetLearnedSkill()==1093683512 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683512)==1 thencall RFR()endifreturn falseendfunctionfunction WDE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RGR))set QNV[1]=1093808432set QNV[2]=1093808433set QNV[3]=1093808434set QNV[4]=1093808435set t=nullendfunctionfunction RHR takes nothing returns booleanif GetSpellAbilityId()==1093682499 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))endifreturn falseendfunctionfunction WCE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function RHR))set t=nullendfunctionfunction RJR takes nothing returns booleanreturn GetUnitTypeId(GetSummonedUnit())==1865429043endfunctionfunction RKR takes nothing returns nothinglocal unit xU=GetSummonedUnit()local unit xv=GetSummoningUnit()local integer IAE=GetHandleId(xv)local integer DDE=GetUnitAbilityLevel(xv,1093681735)local integer xV=R1E(IAE,"TotalWebs")local unit xw=RME(IAE,"Web1")local integer x=1set xV=xV+1call SetUnitVertexColorBJ(xU,100,100,100,80)call GKE(xU,1097625443)call O8E(IAE,"Web"+I2S(xV),xU)if(xV>DDE*2)thencall KillUnit(xw)loopexitwhen x==xVcall O8E(IAE,"Web"+I2S(x),RME(IAE,"Web"+I2S(x+1)))set x=x+1endloopset xV=xV-1endifcall O4E(IAE,"TotalWebs",xV)call SetUnitAbilityLevel(xU,1093681734,DDE)set xU=nullset xv=nullset xw=nullendfunctionfunction WFE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function RJR))call TriggerAddAction(t,function RKR)set t=nullendfunctionfunction RLR takes unit xv returns nothinglocal integer IAE=GetHandleId(xv)local integer DDE=GetUnitAbilityLevel(xv,1093681735)local integer xV=R1E(IAE,"TotalWebs")local integer x=1local unit VXloopexitwhen x>xVset VX=RME(IAE,"Web"+I2S(x))call SetUnitAbilityLevel(VX,1093681734,DDE)set x=x+1endloopset VX=nullendfunctionfunction RMR takes nothing returns nothinglocal unit RPR=RME(GetHandleId(GetTriggeringTrigger()),"Spider")if RPR==null thencall FlushChildHashtable(YX,(GetHandleId(GetTriggeringTrigger())))call IRE(GetTriggeringTrigger())elseif IsUnitType(RPR,UNIT_TYPE_HERO) thenif GetUnitAbilityLevel(RPR,1110454595)>0 thencall GKE(RPR,1093677617)elsecall UnitRemoveAbility(RPR,1093677617)endifelseif GetUnitAbilityLevel(RPR,1110454595)>0 thencall GKE(RPR,1093810499)elsecall UnitRemoveAbility(RPR,1093810499)endifendifendifset RPR=nullendfunctionfunction RQR takes unit J6E returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,1.5)call TriggerAddAction(t,function RMR)call O8E(GetHandleId(t),"Spider",J6E)set t=nullendfunctionfunction RSR takes nothing returns booleanif GetUnitTypeId(GetSummonedUnit())==1848652101 or GetUnitTypeId(GetSummonedUnit())==1848652089 thencall RQR(GetSummonedUnit())endifreturn falseendfunctionfunction RTR takes unit FLE,boolean CEO returns nothinglocal trigger tif(GetUnitAbilityLevel(FLE,1093681735)==1 or CEO)thencall RQR(FLE)elsecall RLR(FLE)endifif CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction RUR takes nothing returns booleanif GetLearnedSkill()==1093681735 and IsUnitIllusion(GetTriggerUnit())==false thencall RTR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction WGE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RUR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function RSR))set t=nullendfunctionfunction RWR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and HNX(GetSpellAbilityId())and GetSpellTargetUnit()==FLE)thenif GME(FLE)==false thencall UnitRemoveAbility(FLE,1093687122)call UnitRemoveAbility(FLE,1110454597)endifcall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction RYR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()call TriggerRegisterTimerEvent(t,$E,false)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RWR))call O8E(IAE,"Hero",FLE)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",FLE,"origin"))call GKE(FLE,1093687122)call SetUnitAbilityLevel(FLE,1093687122,GetUnitAbilityLevel(FLE,1093687121))call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093687122,false)set t=nullset FLE=nullendfunctionfunction RZR takes nothing returns booleanif GetSpellAbilityId()==1093687121 thencall RYR()endifreturn falseendfunctionfunction WHE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RZR))set t=nullendfunctionfunction R_R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEvalCount(t)>300 thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetUnitAbilityLevel(F3E,1110459703)>0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call MNE(J6E,F3E,1,GetUnitAbilityLevel(J6E,1093681736)*75)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction R0R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function R_R))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullendfunctionfunction R1R takes nothing returns booleanif GetSpellAbilityId()==1093681736 thencall R0R()endifreturn falseendfunctionfunction WJE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R1R))set t=nullendfunctionfunction R2R takes nothing returns booleanreturn GetSpellAbilityId()==1093678389endfunctionfunction R3R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real C4O=(LoadReal(YX,(H2E),(20)))call MNE(J6E,F3E,1,C4O)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction R4R takes nothing returns nothinglocal location GRX=GetUnitLoc(GetSpellTargetUnit())local integer MAE=GetUnitAbilityLevel(GetTriggerUnit(),1093678389)local integer R5R=GetRandomInt(1,MAE+1)local unit AJO=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local real C4O=GetRandomReal(1,$C8)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local texttag tt=CreateTextTag()if MAE==2 thenset C4O=GetRandomReal(50,$E1)elseif MAE==3 thenset C4O=GetRandomReal(75,$FA)elseif MAE==4 thenset C4O=GetRandomReal(100,275)endifcall TriggerRegisterTimerEvent(t,E3E(AJO,F3E)/$5DC,false)call TriggerAddCondition(t,Condition(function R3R))call SaveUnitHandle(YX,(H2E),(2),(AJO))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),(20),((C4O)*1.))if(MAE==4)thenset R5R=GetRandomInt(2,4)endifcall CreateNUnitsAtLoc(1,1697656901,GetOwningPlayer(AJO),GRX,bj_UNIT_FACING)call GKE(bj_lastCreatedUnit,1093678165)call SetUnitAbilityLevel(bj_lastCreatedUnit,1093678165,R5R)call IssueTargetOrderById(bj_lastCreatedUnit,$D007F,F3E)call H7E(I2S(R5R),R5R,F3E,.03,$7F,$7F,$FF,$FF)call SetTextTagText(tt,"+"+I2S(R2I(C4O)),.025)call SetTextTagPosUnit(tt,F3E,$A)call SetTextTagColor(tt,$FF,0,0,$FF)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,2)if IsUnitVisible(F3E,GetLocalPlayer())or FJE(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset t=nullset tt=nullendfunctionfunction WLE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R2R))call TriggerAddAction(t,function R4R)endfunctionfunction R6R takes nothing returns booleanreturn GetLearnedSkill()==1095263841 and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction R7R takes nothing returns nothingif(UnitHasBuffBJ(GetTriggerUnit(),1112504171))thencall UnitRemoveAbility(GetTriggerUnit(),1112504171)endifcall DisableTrigger(DF)endfunctionfunction ZCE takes nothing returns nothingset DF=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DF,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(DF,Condition(function R6R))call TriggerAddAction(DF,function R7R)endfunctionfunction R8R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KGE=(LoadUnitHandle(YX,(FIE),(2)))local real R9R=GetUnitState(KGE,UNIT_STATE_LIFE)call UnitRemoveAbility(KGE,1093751344)call UnitRemoveAbility(KGE,1110459445)call MHE(KGE,0)call MKE(KGE,0)call SetUnitState(KGE,UNIT_STATE_LIFE,R9R)call FlushChildHashtable(YX,(FIE))call IRE(t)set t=nullset KGE=nullreturn falseendfunctionfunction IVR takes nothing returns nothinglocal unit KGE=GetTriggerUnit()local unit KDE=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer FIE=GetHandleId(t)local integer XOE=GetUnitAbilityLevel(KGE,1093678161)local real IER=GetUnitState(KDE,UNIT_STATE_LIFE)local real R9R=GetUnitState(KGE,UNIT_STATE_LIFE)local integer IXR=R2I((.035+.015*XOE)*IER)local integer IOR=R2I((.35+.15*XOE)*IER)call MHE(KGE,IXR)call MKE(KGE,IOR)call GKE(KGE,1093751344)call SetUnitState(KDE,UNIT_STATE_LIFE,1)call MNE(KGE,KDE,2,20)call MNE(KGE,KDE,1,20)call MNE(KGE,KDE,3,20)call SetUnitState(KGE,UNIT_STATE_LIFE,R9R+IOR)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",KDE,"chest"))call SaveUnitHandle(YX,(FIE),(2),(KGE))call TriggerRegisterUnitEvent(t,KGE,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,35,false)call TriggerAddCondition(t,Condition(function R8R))set KGE=nullset KDE=nullset t=nullendfunctionfunction IRR takes nothing returns booleanif GetSpellAbilityId()==1093678161 and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>.5 and XDE(GetSpellTargetUnit())==false thencall IVR()endifreturn falseendfunctionfunction ZDE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IRR))set t=nullendfunctionfunction IIR takes integer x returns booleanreturn x==1093808454 or x==1093808455 or x==1093743695 or x==1093684805 or x==1093743695 or x==1093747504 or x==1093686082endfunctionfunction IAR takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1110455896)>0 and(DOE(GetSpellAbilityId())or GetSpellAbilityId()==1093685065)and IIR(GetSpellAbilityId())==false and QIE(GetSpellAbilityId())==falseendfunctionfunction INR takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit FLE=GetTriggerUnit()local unit x9=RME(IAE,"Destroyer")local integer sr=GetUnitAbilityLevel(x9,1093683526)if GetRandomInt(1,100)<=sr*$A and m9(FLE,x9,$578)thencall SetUnitState(FLE,UNIT_STATE_MANA,GetUnitState(FLE,UNIT_STATE_MANA)+.25*GetUnitState(FLE,UNIT_STATE_MAX_MANA))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",FLE,"overhead"))endifset FLE=nullset x9=nullendfunctionfunction IBR takes unit FLE,boolean CEO returns nothinglocal integer sr=GetUnitAbilityLevel(FLE,1093683526)local trigger tif(sr==1 or CEO)thenset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IAR))call TriggerAddAction(t,function INR)call O8E(GetHandleId(t),"Destroyer",FLE)if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tendifendifif CEO thencall UnitAddAbility(FLE,1093685068)if sr>1 thencall UnitAddAbility(FLE,1093685069)endifif sr>2 thencall UnitAddAbility(FLE,1093685070)endifif sr>3 thencall UnitAddAbility(FLE,1093685064)endifelseif(sr==1)thencall GKE(FLE,1093685068)elseif(sr==2)thencall GKE(FLE,1093685069)elseif(sr==3)thencall GKE(FLE,1093685070)elseif(sr==4)thencall GKE(FLE,1093685064)endifendifset t=nullendfunctionfunction ICR takes nothing returns booleanif GetLearnedSkill()==1093683526 and IsUnitIllusion(GetTriggerUnit())==false thencall IBR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction ZWE takes nothing returns nothingset RJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RJ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(RJ,Condition(function ICR))endfunctionfunction XA takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),1110455897)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093685065)>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),1110455897)set d=.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),1093685065))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!=1848651828 and GetUnitTypeId(GetTriggerUnit())!=1848652088 and GetUnitTypeId(GetTriggerUnit())!=1848652099 and GetUnitTypeId(GetTriggerUnit())!=1848652103 and GetUnitTypeId(GetTriggerUnit())!=1848651861 and GetUnitTypeId(GetTriggerUnit())!=1848651865 and GetUnitTypeId(GetTriggerUnit())!=1848651866 thenset d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),1093685065)endifcall H7E("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,$BF,64,$FF,$D8)if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),1093683526)*$A)and(R3E(GetHandleId(GetTriggeringTrigger()),"DoneViaSpell")==false)thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))endifcall DisableTrigger(GetTriggeringTrigger())call MNE(GetEventDamageSource(),GetTriggerUnit(),3,d)call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction Xb takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thencall O7E(GetHandleId(t),"DoneViaSpell",true)elsecall O7E(GetHandleId(t),"DoneViaSpell",false)endifcall O8E(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function XA))endifset t=nullset m5=nullset p5=nullendfunctionfunction XB takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),1093685065)>0 and(R3E(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")thencall Xb()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==$D011F)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==$D0120)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685065 thencall Xb()endifreturn falseendfunctionfunction IDR takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function XB))call O8E(GetHandleId(t),"Hero",FLE)if CEO thenset rj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction IFR takes nothing returns booleanif GetLearnedSkill()==1093685065 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093685065)==1 thencall IDR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction ZYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function IFR))set t=nullendfunctionfunction IGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer IHR=R1E(IAE,"StolenInt")call SetHeroInt(m5,GetHeroInt(m5,false)+IHR,true)call SetHeroInt(p5,GetHeroInt(p5,false)-IHR,true)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction IJR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")call IXE(m5,"AstralImprisonmentState")call DestroyEffect(RWE(IAE,"FX"))call SetUnitInvulnerable(m5,false)call PauseUnit(m5,false)call ShowUnit(m5,true)call ClearSelectionForPlayer(GetOwningPlayer(m5))call SelectUnitAddForPlayer(m5,GetOwningPlayer(m5))call O2E(GetHandleId(p5),"748")call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction IKR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093685066)local integer ILR=HME(GetHeroInt(F3E,false),MAE*2)local trigger tlocal integer H2Elocal unit MIE=CreateUnit(GetOwningPlayer(F3E),1865429305,GetUnitX(F3E),GetUnitY(F3E),0)call UnitApplyTimedLife(MIE,1112820806,MAE+1)if(IsUnitEnemy(F3E,GetOwningPlayer(J6E)))==false or FUE(GetSpellTargetUnit())==false thencall IVE(F3E,"AstralImprisonmentState")set t=CreateTrigger()set H2E=GetHandleId(t)call SelectUnitRemoveForPlayer(F3E,GetOwningPlayer(F3E))call SetUnitInvulnerable(F3E,true)call PauseUnit(F3E,true)call ShowUnit(F3E,false)call O9E(H2E,"FX",AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(F3E),GetUnitY(F3E)))call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)call TriggerRegisterTimerEvent(t,MAE,false)call TriggerAddCondition(t,Condition(function IJR))if(IsUnitEnemy(F3E,GetOwningPlayer(J6E))) thencall O8E(GetHandleId(J6E),"748",F3E)call SetHeroInt(F3E,GetHeroInt(F3E,false)-ILR,true)call SetHeroInt(J6E,GetHeroInt(J6E,false)+ILR,true)set t=CreateTrigger()set H2E=GetHandleId(t)call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)call O4E(H2E,"StolenInt",ILR)call TriggerRegisterTimerEvent(t,60,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function IGR))endifendifset MIE=nullset J6E=nullset F3E=nullset t=nullendfunctionfunction IMR takes nothing returns booleanif GetSpellAbilityId()==1093685066 thencall IKR()endifreturn falseendfunctionfunction IPR takes nothing returns nothingif IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and GetSpellTargetUnit()!=GetTriggerUnit()thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652600))))endifendfunctionfunction IQR takes nothing returns booleanif GetSpellAbilityId()==1093685066 thencall IPR()endifreturn falseendfunctionfunction ZZE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IMR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function IQR))set t=nullendfunctionfunction ISR takes nothing returns booleanreturn GetSpellAbilityId()==1093685067 or GetSpellAbilityId()==1093752407endfunctionfunction ITR takes nothing returns nothinglocal unit F3E=GetEnumUnit()local unit IUR=GetTriggerUnit()local integer IWR=GetHeroInt(IUR,true)-GetHeroInt(F3E,true)local integer array IYRlocal integer MAE=GetUnitAbilityLevel(IUR,1093685067)local integer IZR=7+1*MAEif MAE==0 thenset MAE=GetUnitAbilityLevel(IUR,1093752407)set IZR=7+1*MAE+1endifset IYR[1]=$Aset IYR[2]=30set IYR[3]=50if(IWR>0)thencall UnitDamageTarget(IUR,F3E,IWR*IZR,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call H7E(I2S(R2I(IWR*IZR)),3,F3E,.023,$D8,30,30,$D8)if(IWR<IYR[MAE])thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",F3E,"overhead"))call SetUnitState(F3E,UNIT_STATE_MANA,GetUnitState(F3E,UNIT_STATE_MANA)*.25)endifendifset F3E=nullset IUR=nullendfunctionfunction I_R takes nothing returns booleanif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))thenif(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))thenreturn trueendifendifreturn falseendfunctionfunction I0R takes nothing returns nothinglocal unit AJO=GetTriggerUnit()local integer DDO=GetUnitAbilityLevel(AJO,1093685067)local real x=GetLocationX(GetSpellTargetLoc())local real y=GetLocationY(GetSpellTargetLoc())local group C7O=FYE()local integer RBO=0local unit I1R=(RME(GetHandleId(AJO),"748"))if DDO==0 thenset DDO=GetUnitAbilityLevel(AJO,1093752407)endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))loopexitwhen RBO>=360call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+($C8+DDO*50)*Cos(RBO*bj_DEGTORAD),y+($C8+DDO*50)*Sin(RBO*bj_DEGTORAD)))set RBO=RBO+45endloopcall GroupEnumUnitsInRange(C7O,x,y,300+DDO*100,Condition(function I_R))if I1R!=null and E4E(x,y,GetUnitX(I1R),GetUnitY(I1R))<(300+DDO*100)thencall SetUnitInvulnerable(I1R,false)call GroupAddUnit(C7O,I1R)endifcall ForGroup(C7O,function ITR)if I1R!=null and GME(I1R)==false thencall SetUnitInvulnerable(I1R,true)endifcall FWE(C7O)set AJO=nullset C7O=nullendfunctionfunction Z_E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ISR))call TriggerAddAction(t,function I0R)set t=nullendfunctionfunction I3R takes nothing returns nothingcall MNE(HHV,GetEnumUnit(),1,HJV)endfunctionfunction I4R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=RME(H2E,"Target")local unit J6E=RME(H2E,"Source")local group glocal integer DZX=R1E(H2E,"Count")if GetTriggerEvalCount(t)>$C8 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093685575 and GetSpellTargetUnit()==F3E)thencall DestroyEffect(RWE(H2E,"Effect"))call O1E(H2E)call IRE(t)elseset DZX=DZX+1call O4E(H2E,"Count",DZX)set g=FYE()set I9V=J6Eset HHV=J6Eset HJV=1.+2.*GetUnitAbilityLevel(J6E,1093685575)call GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),275,Condition(function K3E))call GroupRemoveUnit(g,F3E)call ForGroup(g,function I3R)call FWE(g)endifset F3E=nullset t=nullset J6E=nullset g=nullreturn falseendfunctionfunction I5R takes nothing returns nothinglocal trigger t=CreateTrigger()local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")local integer H2E=GetHandleId(t)call JAE(DL,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call O8E(H2E,"Source",GetTriggerUnit())call O8E(H2E,"Target",GetSpellTargetUnit())call O9E(H2E,"Effect",fx)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I4R))set t=nullset fx=nullendfunctionfunction I6R takes nothing returns booleanif GetSpellAbilityId()==1093685575 thencall I5R()endifreturn falseendfunctionfunction VKX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I6R))set t=nullendfunctionfunction I7R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local integer DDElocal unit p5local unit m5local real x1local real y1local real dlocal real aif GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)elseset m5=RME(IAE,"Target")set d=R2E(IAE,"d")set x=R2E(IAE,"x")set y=R2E(IAE,"y")set a=R2E(IAE,"a")set x1=GetUnitX(m5)+d/ $F*Cos(a)set y1=GetUnitY(m5)+d/ $F*Sin(a)if IsUnitType(m5,UNIT_TYPE_HERO) thencall SetUnitPosition(m5,x1,y1)elsecall SetUnitX(m5,x1)call SetUnitY(m5,y1)endifif GetTriggerEvalCount(t)>$F thenset p5=RME(IAE,"Source")set DDE=R1E(IAE,"Level")call O1E(IAE)call IRE(t)call MNE(p5,m5,1,DDE*40)set p5=nullendifset m5=nullendifset t=nullreturn falseendfunctionfunction I8R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function I7R))call O5E(IAE,"x",(j0)*1.)call O5E(IAE,"y",(K0)*1.)call O5E(IAE,"d",(E4E(j0,K0,GetUnitX(m5),GetUnitY(m5)))*1.)call O5E(IAE,"a",(Atan2(K0-GetUnitY(m5),j0-GetUnitX(m5)))*1.)call O4E(IAE,"Level",l0)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)set t=nullset p5=nullset m5=nullendfunctionfunction I9R takes nothing returns nothinglocal group g=FYE()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer DDE=GetUnitAbilityLevel(GetTriggerUnit(),1093685573)local real r=$C8+100*DDEset I9V=GetTriggerUnit()call JAE(LL,x,y)call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,r,Condition(function LAE))set j0=xset K0=yset l0=DDEcall ForGroup(g,function I8R)call JRE(x,y,$C8)call RemoveLocation(l)call FWE(g)set l=nullset g=nullendfunctionfunction AVR takes nothing returns booleanif GetSpellAbilityId()==1093685573 thencall I9R()endifreturn falseendfunctionfunction AER takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)if JIE(x,y)==false or(IsPointInRegion(ARV,((x)*1.),((y)*1.)))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848652619))))endifcall RemoveLocation(l)set l=nullendfunctionfunction AXR takes nothing returns booleanif GetSpellAbilityId()==1093685573 thencall AER()endifreturn falseendfunctionfunction VJX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AVR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AXR))set t=nullendfunctionfunction Xq takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")call UnitRemoveAbility(m5,1110456151)call UnitRemoveAbility(m5,1113746543)call UnitRemoveAbility(m5,1110455858)call UnitRemoveAbility(m5,1110455861)call UnitRemoveAbility(m5,1113813619)call UnitRemoveAbility(m5,1110454582)call UnitRemoveAbility(m5,1110455634)set t=nullset m5=nullreturn falseendfunctionfunction XQ takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),1093685815)*1.5+.5,false)call TriggerAddCondition(t,Condition(function Xq))call O8E(GetHandleId(t),"Target",GetSpellTargetUnit())call JAE(bR,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))set t=nullendfunctionfunction AOR takes nothing returns booleanif GetSpellAbilityId()==1093685815 thencall XQ()endifreturn falseendfunctionfunction tU takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AOR))set t=nullendfunctionfunction ARR takes boolean AIR returns booleanlocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit AAR=RME(IAE,"Wall")local unit m5=GetTriggerUnit()local unit XS=CreateUnit(GetOwningPlayer(AAR),1697657171,GetUnitX(m5),GetUnitY(m5),0)local unit F2E=QV[GetPlayerId(GetOwningPlayer(AAR))]local integer MAE=GetUnitAbilityLevel(F2E,1093685579)if MAE==0 thenset MAE=GetUnitAbilityLevel(F2E,1093808465)endifcall SetUnitAbilityLevel(AAR,1093685580,MAE)set FDV=GetUnitX(m5)set FFV=GetUnitY(m5)set FGV=m5if AIR thencall SetUnitAbilityLevel(AAR,1093685580,3+MAE)call IssueTargetOrderById(AAR,$D0132,m5)call MNE(AAR,m5,1,$96)elsecall IssueTargetOrderById(AAR,$D0132,m5)call MNE(AAR,m5,1,$96)endifcall UnitApplyTimedLife(XS,1112820806,.5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(m5),GetUnitY(m5)))set AAR=nullset m5=nullset XS=nullreturn falseendfunctionfunction ANR takes nothing returns booleanlocal group gif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(RME(GetHandleId(GetTriggeringTrigger()),"Wall")))and(GetUnitTypeId((GetFilterUnit()))==1211117642)==false thenset g=RUE(GetHandleId(GetTriggeringTrigger()),"g1")if IsUnitInGroup(GetFilterUnit(),g)==false thencall GroupAddUnit(g,GetFilterUnit())call ARR(false)endifendifset g=nullreturn falseendfunctionfunction ABR takes nothing returns booleanlocal group gif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(RME(GetHandleId(GetTriggeringTrigger()),"Wall")))and(GetUnitTypeId((GetFilterUnit()))==1211117642)==false thenset g=RUE(GetHandleId(GetTriggeringTrigger()),"g1")if IsUnitInGroup(GetFilterUnit(),g)==false thencall GroupAddUnit(g,GetFilterUnit())call ARR(true)endifendifset g=nullreturn falseendfunctionfunction WallOfReplica_FindSource takes nothing returns nothingif GetPlayerId(GetOwningPlayer(GetEnumUnit()))==I5V thencall GroupAddUnit(AEV,GetEnumUnit())endifendfunctionfunction ACR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)call GroupRemoveUnit(RUE(H2E,"g1"),RME(H2E,"imagesource"))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))call O1E(H2E)call DisableTrigger(t)set t=nullreturn falseendfunctionfunction ADR takes nothing returns booleanlocal unit AAR=GetSummoningUnit()local unit DAX=GetSummonedUnit()local integer H2E=GetHandleId(AAR)local integer AFR=R1E(H2E,"NumOfImages")local trigger t=CreateTrigger()call SetUnitVertexColor(DAX,$FF,$FF,$FF,100)call TriggerRegisterUnitEvent(t,DAX,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ACR))call RAE(GetHandleId(t),"g1",RUE(H2E,"g1"))call O8E(GetHandleId(t),"imagesource",FGV)set AFR=AFR+1call O4E(H2E,"NumOfImages",AFR)call O8E(H2E,"Illusion"+I2S(AFR),DAX)call RVE(H2E,"IllusionTrig"+I2S(AFR),t)call SetUnitX(DAX,FDV)call SetUnitY(DAX,FFV)set AAR=nullset DAX=nullset t=nullreturn falseendfunctionfunction AGR takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Xw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer v5=GetHandleId(t)local trigger XW=RTE(v5,"mastert")local integer tK=GetHandleId(XW)local trigger v7=RTE(tK,"DetectTrig")local group Xx=RUE(tK,"g1")local group XX=RUE(tK,"g2")local unit AHR=RME(tK,"Wall")local integer Xy=GetHandleId(AHR)local integer Xv=R1E(Xy,"NumOfImages")local integer ilocal unit ucall ForGroup(XX,function AGR)set i=1loopexitwhen i>Xvset u=RME(Xy,"Illusion"+I2S(i))call O1E(GetHandleId(RTE(Xy,"IllusionTrig"+I2S(i))))call IRE(RTE(Xy,"IllusionTrig"+I2S(i)))if IsUnitIllusion(u)thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))call RemoveUnit(u)endifset i=i+1endloopcall O1E(v5)call O1E(tK)call O1E(Xy)call RemoveUnit(AHR)call FWE(Xx)call FWE(XX)call IRE(XW)call IRE(v7)call IRE(t)set t=nullset XW=nullset v7=nullset Xx=nullset XX=nullset AHR=nullset u=nullreturn falseendfunctionfunction AJR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real AKR=GetUnitFacing(FLE)-45local unit AHR=CreateUnit(GetOwningPlayer(FLE),1747988559,x,y,AKR)local unit ulocal real N6Olocal real N7Olocal integer ilocal real Xklocal trigger t=CreateTrigger()local group g1=FYE()local integer IAE=GetHandleId(t)local group g2=FYE()local trigger XW=tlocal integer MAE=GetUnitAbilityLevel(FLE,1093685579)local boolean AIR=falseif MAE==0 thenset AIR=trueset MAE=GetUnitAbilityLevel(FLE,1093808465)endifcall SetUnitAbilityLevel(AHR,1093685580,MAE)call JAE(hR,x,y)call RAE(IAE,"g1",g1)call RAE(GetHandleId(AHR),"g1",g1)call RAE(IAE,"g2",g2)call O8E(IAE,"Wall",AHR)call O4E(GetHandleId(AHR),"NumOfImages",0)set i=0loopexitwhen i>39set N6O=x+(500-25*i)*Cos((AKR-45)*bj_DEGTORAD)set N7O=y+(500-25*i)*Sin((AKR-45)*bj_DEGTORAD)set u=CreateUnit(GetOwningPlayer(FLE),1747988560,N6O,N7O,AKR)call GroupAddUnit(g2,u)call TriggerRegisterUnitInRange(t,u,17,Condition(function BUE))set i=i+1endloopif AIR thencall TriggerAddCondition(t,Condition(function ABR))elsecall TriggerAddCondition(t,Condition(function ANR))endifset t=CreateTrigger()call TriggerRegisterUnitEvent(t,AHR,EVENT_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function ADR))call RVE(IAE,"DetectTrig",t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,$F*MAE,false)call TriggerAddCondition(t,Condition(function Xw))call RVE(GetHandleId(t),"mastert",XW)call RemoveLocation(l)set FLE=nullset l=nullset u=nullset t=nullset XW=nullset g1=nullset g2=nullset AHR=nullendfunctionfunction ALR takes nothing returns booleanif GetSpellAbilityId()==1093685579 or GetSpellAbilityId()==1093808465 thencall AJR()endifreturn falseendfunctionfunction VLX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ALR))set t=nullendfunctionfunction AMR takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),SOV)==false and FHE(GetEnumUnit())==false thencall GroupAddUnit(SOV,GetEnumUnit())call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),SRV,false)call KNE(GetEnumUnit(),SRV,1,3,1110455633)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))endifendfunctionfunction APR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))local real x2=(LoadReal(YX,(H2E),(66)))local real y2=(LoadReal(YX,(H2E),(67)))local real a=(LoadReal(YX,(H2E),($89)))local integer DZX=GetTriggerEvalCount(t)local real x=GetUnitX(F2E)local real y=GetUnitY(F2E)local real N0O=(LoadReal(YX,(H2E),(23)))local real N1O=(LoadReal(YX,(H2E),(24)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local group g=FYE()local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local integer MAE=GetUnitAbilityLevel(F2E,1093684299)if E4E(x,y,x2,y2)<=OU thenset x=x2set y=y2elseset x=N0O+65*Cos(a*bj_DEGTORAD)set y=N1O+65*Sin(a*bj_DEGTORAD)endifif MAE==1 thenset SRV=1093810497elseif MAE==2 thenset SRV=1093810489elseif MAE==3 thenset SRV=1093810498elseif MAE==4 thenset SRV=1093810488endifset I9V=F2Eset SOV=PLOcall GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))call ForGroup(g,function AMR)call FWE(g)call SaveReal(YX,(H2E),(23),((x)*1.))call SaveReal(YX,(H2E),(24),((y)*1.))call SetUnitPosition(F2E,x,y)if(x==x2 and y==y2)or DZX>40 thencall SetUnitX(MIE,x)call SetUnitY(MIE,y)call IssueImmediateOrderById(MIE,$D0080)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitAnimation(F2E,"stand")call SetUnitPathing(F2E,true)call SetUnitInvulnerable(F2E,false)if GetUnitTypeId(F2E)==1160786520 thencall SetUnitVertexColor(F2E,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(F2E,0,$FF,$96,$FF)endifcall IXE(F2E,"TimeWalk|Active")endifset t=nullset F2E=nullset MIE=nullreturn falseendfunctionfunction AQR takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local location llocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real x1=GetUnitX(F2E)local real y1=GetUnitY(F2E)local real x2local real y2local real alocal unit MIE=CreateUnit(GetOwningPlayer(F2E),1697656901,x1,y1,0)if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()elseset l=GetUnitLoc(GetSpellTargetUnit())endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=H4E(x1,y1,x2,y2)call RemoveLocation(l)call SetUnitAnimationByIndex(F2E,0)call SetUnitPathing(F2E,false)call SetUnitInvulnerable(F2E,true)call SetUnitVertexColor(F2E,0,0,0,$FF)call IVE(F2E,"TimeWalk|Active")call SaveReal(YX,(H2E),(66),((x2)*1.))call SaveReal(YX,(H2E),(67),((y2)*1.))call SaveReal(YX,(H2E),(23),((x1)*1.))call SaveReal(YX,(H2E),(24),((y1)*1.))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveUnitHandle(YX,(H2E),($E),(F2E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call GKE(MIE,1093684289)call SetUnitAbilityLevel(MIE,1093684289,GetUnitAbilityLevel(F2E,1093684299))call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function APR))set F2E=nullset l=nullset t=nullset MIE=nullendfunctionfunction ASR takes nothing returns booleanif GetSpellAbilityId()==1093684299 thencall AQR()endifreturn falseendfunctionfunction WME takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ASR))set t=nullendfunctionfunction X6 takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real HUE=GetEventDamage()if(HUE>0)and GetUnitState(FLE,UNIT_STATE_LIFE)>1 thenif(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(FLE,1093682010))))thencall SetUnitState(FLE,UNIT_STATE_LIFE,GetUnitState(FLE,UNIT_STATE_LIFE)+HUE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",FLE,"hand,left"))endifendifset FLE=nullendfunctionfunction ATR takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddAction(t,function X6)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction AUR takes nothing returns booleanif GetLearnedSkill()==1093682010 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682010)==1 thencall ATR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction WQE takes nothing returns nothingset I2V=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(I2V,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(I2V,Condition(function AUR))endfunctionfunction AWR takes nothing returns booleanreturn GetSpellAbilityId()==1093683761 or GetSpellAbilityId()==1093747767endfunctionfunction AYR takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit ya=RME(IAE,"Caster")call SetUnitTimeScale(ya,0)call PauseTimer(t)call O1E(IAE)call DestroyTimer(t)set t=nullset ya=nullendfunctionfunction AZR takes unit S4 returns booleanlocal integer ID=GetUnitTypeId(S4)return ID==1869836340 or ID==1865429048 or ID==1865429049 or ID==1700946284 or ID==1697657398 or ID==1970107511 or ID==1966092370endfunctionfunction A_R takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(ZX)and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or AZR(GetFilterUnit()))endfunctionfunction A0R takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)call SetUnitTimeScale(GetEnumUnit(),0)call UnitRemoveAbility(GetEnumUnit(),1112896364)call UnitRemoveAbility(GetEnumUnit(),1112896368)call UnitRemoveAbility(GetEnumUnit(),1112896372)call SaveInteger(YX,(GetHandleId((GetEnumUnit()))),((4306)),(1))endfunctionfunction A1R takes nothing returns nothingcall SaveInteger(YX,(GetHandleId((GetEnumUnit()))),((4306)),(2))call PauseUnit(GetEnumUnit(),false)call SetUnitTimeScale(GetEnumUnit(),1)endfunctionfunction A2R takes nothing returns nothinglocal unit CQE=GetEnumUnit()if(IsUnitType(CQE,UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(CQE,GetOwningPlayer(hx)))and(IsUnitVisible(CQE,GetOwningPlayer(hx)))and(hS==null))thenset hS=CQEelseif(IsUnitType(CQE,UNIT_TYPE_HERO)and(IsUnitEnemy(CQE,GetOwningPlayer(hx)))and(IsUnitVisible(CQE,GetOwningPlayer(hx)))and((hS==null)or(IsUnitType(hS,UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS)>GetUnitLifePercent(CQE))))thenset hS=CQEendifset CQE=nullendfunctionfunction A3R takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit A4R=RME(IAE,"Caster")local unit FLE=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")local group A5R=RUE(IAE,"Group")local integer T8=R1E(IAE,"Counter")local real Y5=GetUnitX(A4R)local real Z5=GetUnitY(A4R)local boolexpr WJO=Condition(function A_R)local group P3E=FYE()local integer O5=GetPlayerId(GetOwningPlayer(FLE))local integer OXR=35+DDE*5if GetUnitAbilityLevel(FLE,1093747767)>0 thenset OXR=30+DDE*$Aendifcall ForGroup(A5R,function A1R)set ZX=FLEcall GroupEnumUnitsInRange(P3E,Y5,Z5,425,WJO)call GroupClear(A5R)call GroupAddGroup(P3E,A5R)call ForGroup(P3E,function A0R)if(GetPlayerController(GetOwningPlayer(FLE))==MAP_CONTROL_COMPUTER)thenif(h4[16+O5]==null)thenset hS=nullset hx=FLEcall ForGroup(P3E,function A2R)set h4[16+O5]=hSendifif(h4[16+O5]!=null)thenif((IsUnitAliveBJ(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454854)==0))thenif((not IsUnitInRange(FLE,h4[16+O5],300.))and(IsUnitType(h4[16+O5],UNIT_TYPE_HERO)))thenif(not IssueTargetOrderById(FLE,$D00FA,h4[16+O5]))thencall IssueTargetOrderById(FLE,$D000F,h4[16+O5])endifelseif(not jP(FLE,BU[C8]))thencall IssueTargetOrderById(FLE,$D000F,h4[16+O5])endifelseset h4[16+O5]=nullendifendifendifcall FWE(P3E)set T8=T8+1call O4E(IAE,"Counter",T8)if T8>OXR thenset GZ[384+O5]=falseset h4[16+O5]=nullif NI==false thencall ForGroup(A5R,function A1R)endifcall RemoveUnit(A4R)call FWE(A5R)call PauseTimer(t)call O1E(IAE)call DestroyTimer(t)endifset t=nullset A4R=nullset FLE=nullset A5R=nullcall DestroyBoolExpr(WJO)set WJO=nullset P3E=nullendfunctionfunction A6R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,(1093683761))local location m5=GetSpellTargetLoc()local real Y5=GetLocationX(m5)local real Z5=GetLocationY(m5)local unit A4R=CreateUnit(GetOwningPlayer(FLE),(1966092364),Y5,Z5,0)local timer t=CreateTimer()local integer IAE=GetHandleId(t)local group A5R=FYE()local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if DDE==0 thenset DDE=GetUnitAbilityLevel(FLE,1093747767)endifset GZ[384+O5]=trueset h4[16+O5]=nullset hq[512+O5]=Bz+2.+(DDE)call O8E(GetHandleId(t),"Caster",A4R)call TimerStart(t,.8,false,function AYR)set t=CreateTimer()set IAE=GetHandleId(t)call O8E(IAE,"Caster",A4R)call O8E(IAE,"Hero",FLE)call RAE(IAE,"Group",A5R)call O4E(IAE,"Counter",0)call O4E(IAE,"Level",DDE)call TimerStart(t,.1,true,function A3R)call RemoveLocation(m5)set FLE=nullset m5=nullset A4R=nullset t=nullset A5R=nullendfunctionfunction WSE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AWR))call TriggerAddAction(t,function A6R)set t=nullendfunctionfunction A7R takes unit u,real A8R returns nothinglocal integer d=R2I(A8R)local integer array blocal integer a=dlocal integer c=1local integer i=0local integer A9Rlocal real differenceset ULV[0]=1093808968set ULV[1]=1093808971set ULV[2]=1093808972set ULV[3]=1093808970set ULV[4]=1093808969set ULV[5]=1093808973if d<1 thencall UnitRemoveAbility(u,ULV[0])call UnitRemoveAbility(u,ULV[1])call UnitRemoveAbility(u,ULV[2])call UnitRemoveAbility(u,ULV[3])call UnitRemoveAbility(u,ULV[4])call UnitRemoveAbility(u,ULV[5])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset A9R=5set i=0loopexitwhen i>A9Rif b[i]==1 thencall GKE(u,ULV[i])call SetPlayerAbilityAvailable(GetOwningPlayer(u),ULV[i],false)elsecall UnitRemoveAbility(u,ULV[i])endifset i=i+1endloopendfunctionfunction NVR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093808967)local real H9X=(LoadReal(YX,(GetHandleId(F3E)),(682)))local integer DZX=(LoadInteger(YX,(GetHandleId(F3E)),(683)))-1call A7R(F3E,DZX*MAE)call SaveInteger(YX,(GetHandleId(F3E)),(683),(DZX))call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction NER takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093808967)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer DZX=(LoadInteger(YX,(GetHandleId(F3E)),(683)))+1call A7R(F3E,DZX*MAE)call SaveInteger(YX,(GetHandleId(F3E)),(683),(DZX))call SaveReal(YX,(GetHandleId(F3E)),(682),(((TimerGetElapsed(K))+UMV-.01)*1.))call TriggerRegisterTimerEvent(t,UMV,false)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function NVR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",F3E,"origin"))set t=nullendfunctionfunction NXR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer NMO=(LoadInteger(YX,(H2E),(30)))local unit F3E=BYE(NMO)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall DisableTrigger(t)if GetUnitAbilityLevel(F3E,1093678162)==0 thencall NER(J6E,F3E)endifcall BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction NOR takes nothing returns nothinglocal trigger t=CreateTrigger()local unit F3E=GetTriggerUnit()local unit J6E=GetAttacker()local integer H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function NXR))call SaveInteger(YX,(H2E),(30),(B_E(F3E)))call SaveUnitHandle(YX,(H2E),(2),(J6E))set F3E=nullset J6E=nullset t=nullendfunctionfunction NRR takes nothing returns nothinglocal unit J6E=GetAttacker()if((LoadInteger(YX,(GetHandleId((J6E))),((4307))))==1)==false thencall IBE(J6E,"4307",.3)call NOR()endifendfunctionfunction NIR takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093808967)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(YX,(GetHandleId(GetTriggeringTrigger())),($E)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall NRR()endifreturn falseendfunctionfunction NAR takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function NIR))call SaveUnitHandle(YX,(GetHandleId(t)),($E),(GetTriggerUnit()))set t=nullendfunctionfunction NNR takes nothing returns booleanif GetLearnedSkill()==1093808967 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093808967)==1 thencall NAR()endifreturn falseendfunctionfunction WTE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NNR))set t=nullendfunctionfunction NBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(p5,1110459186)==0 thencall O1E(IAE)call IRE(t)call SetUnitTimeScale(p5,1)call O4E(GetHandleId(p5),"TimeLocked",2)elsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))endifset t=nullset p5=nullreturn falseendfunctionfunction NCR takes unit p5 returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call SetUnitTimeScale(p5,0)call O4E(GetHandleId(p5),"TimeLocked",1)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NBR))call O8E(IAE,"Source",p5)set t=nullendfunctionfunction NDR takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),1110459186)>0 and(R1E(GetHandleId(GetFilterUnit()),"TimeLocked")==1)==false thencall NCR(GetFilterUnit())endifreturn falseendfunctionfunction NFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local group g=FYE()set P2=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),450,Condition(function NDR))call FWE(g)set t=nullset p5=nullset g=nullreturn falseendfunctionfunction NGR takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function NFR))call O8E(IAE,"Source",p5)if CEO thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction NHR takes nothing returns booleanif GetLearnedSkill()==1093679153 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093679153)==1 thencall NGR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction WPE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NHR))set t=nullendfunctionfunction NJR takes unit V_E returns booleanreturn(GetUnitTypeId(V_E)==1211117641 or GetUnitTypeId(V_E)==1211117642 or GetUnitTypeId(V_E)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(V_E,UNIT_STATE_LIFE)>.5 and GetOwningPlayer(V_E)==GetOwningPlayer(GetTriggerUnit())endfunctionfunction NKR takes nothing returns booleanreturn GetSpellAbilityId()==1093684792endfunctionfunction NLR takes nothing returns booleanreturn NJR(GetFilterUnit())endfunctionfunction NMR takes nothing returns nothinglocal unit NPR=GetEnumUnit()local real yg=HYE(NPR,UI)if yg<JO thenset JO=ygset ZX=NPRendifset NPR=nullendfunctionfunction NQR takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)!=nullendfunctionfunction NSR takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),JO,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)endfunctionfunction NTR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local location HXOlocal real xlocal real ylocal real H7O=GetUnitX(p5)local real H8O=GetUnitY(p5)local group C7Olocal boolexpr XQRlocal boolean NUR=falseif F3E!=null and NJR(F3E)thenset x=GetUnitX(F3E)set y=GetUnitY(F3E)set NUR=trueelseset XQR=Condition(function NLR)set C7O=FYE()call GroupEnumUnitsInRange(C7O,0,0,$F423F,XQR)if F3E!=null thenset HXO=GetUnitLoc(F3E)elseset HXO=GetSpellTargetLoc()endifset ZX=FirstOfGroup(C7O)if ZX!=null thenset NUR=truecall GroupRemoveUnit(C7O,ZX)set JO=HYE(ZX,HXO)set UI=HXOcall ForGroup(C7O,function NMR)set F3E=ZXset x=GetUnitX(F3E)set y=GetUnitY(F3E)endifcall FWE(C7O)call DestroyBoolExpr(XQR)call RemoveLocation(HXO)endifif NUR thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",H7O,H8O))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))call SetUnitX(p5,x)call SetUnitY(p5,y)set JO=60+GetUnitAbilityLevel(GetTriggerUnit(),(1093684792))*20set XQR=Condition(function NQR)set C7O=FYE()call GroupEnumUnitsInRange(C7O,H7O,H8O,400,XQR)call ForGroup(C7O,function NSR)call FWE(C7O)set C7O=FYE()call GroupEnumUnitsInRange(C7O,x,y,400,XQR)call ForGroup(C7O,function NSR)call FWE(C7O)call DestroyBoolExpr(XQR)endifcall DestroyBoolExpr(XQR)set p5=nullset F3E=nullset HXO=nullset C7O=nullset XQR=nullendfunctionfunction yj takes nothing returns nothingcall SetUnitAnimationByIndex(RME(GetHandleId(GetExpiredTimer()),"UnitVar"),2)endfunctionfunction NWR takes nothing returns nothinglocal timer t=CreateTimer()call SetUnitAnimationByIndex(GetTriggerUnit(),2)call O8E(GetHandleId(t),"UnitVar",GetTriggerUnit())call TimerStart(t,1,false,function yj)set t=nullendfunctionfunction VRX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function NKR))call TriggerAddAction(t,function NWR)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NKR))call TriggerAddAction(t,function NTR)set t=nullendfunctionfunction NYR takes nothing returns booleanreturn GetSpellAbilityId()==1093684802endfunctionfunction yK takes nothing returns booleanreturn(FHE(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(ZX))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitTypeId(GetFilterUnit())!=1848651852)!=nullendfunctionfunction NZR takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(ZX),1697656901,JO,Co,0)call GKE(oA,1093684803)call IssueTargetOrderById(oA,$D008A,GetEnumUnit())set oA=nullendfunctionfunction yL takes unit IJ,real x,real y returns nothinglocal boolexpr hP=Condition(function yK)local group P3E=FYE()set ZX=IJcall GroupEnumUnitsInRange(P3E,x,y,$F5,hP)set JO=xset Co=ycall ForGroup(P3E,function NZR)call FWE(P3E)call DestroyBoolExpr(hP)set hP=nullset P3E=nullendfunctionfunction ym takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit IJ=RME(IAE,"Projectile")local real hN=R2E(IAE,"TargetX")local real ho=R2E(IAE,"TargetY")local real RK=R2E(IAE,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real Il=GetUnitX(IJ)+30*Cos(RK)local real IL=GetUnitY(IJ)+30*Sin(RK)if(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<$4B0 thencall SetUnitX(IJ,hN)call SetUnitY(IJ,ho)call yL(IJ,hN,ho)call PauseTimer(t)call O1E(IAE)call KillUnit(IJ)call DestroyTimer(t)elsecall SetUnitX(IJ,Il)call SetUnitY(IJ,IL)endifset t=nullset IJ=nullendfunctionfunction N_R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location sy=GetSpellTargetLoc()local real hN=HRE(GetLocationX(sy))local real ho=HIE(GetLocationY(sy))local real iN=HRE(GetUnitX(FLE))local real io=HIE(GetUnitY(FLE))local unit IJ=CreateUnit(GetOwningPlayer(FLE),1747988547,iN,io,0)local real RK=Atan2(ho-io,hN-iN)local timer t=CreateTimer()local integer IAE=GetHandleId(t)call SetUnitScale(IJ,2,2,2)call O8E(IAE,"Projectile",IJ)call O5E(IAE,"TargetX",hN)call O5E(IAE,"TargetY",ho)call O5E(IAE,"Angle",RK)call TimerStart(t,.035,true,function ym)call RemoveLocation(sy)set sy=nullset IJ=nullset FLE=nullset t=nullendfunctionfunction VIX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NYR))call TriggerAddAction(t,function N_R)set t=nullendfunctionfunction N0R takes unit u returns booleanreturn GetUnitTypeId(u)==1211117641 or GetUnitTypeId(u)==1211117642endfunctionfunction N1R takes unit V_E returns booleanreturn GetUnitTypeId(V_E)==1211117641 or GetUnitTypeId(V_E)==1211117642endfunctionfunction DoubleTrouble_IsKoboldCondition takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(ZX)and GetFilterUnit()!=ZX and(GetUnitTypeId(GetFilterUnit())==1211117641 or GetUnitTypeId(GetFilterUnit())==1211117642)endfunctionfunction DoubleTrouble_UnshareXPCondition takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(ZX))and N1R(GetFilterUnit())==false)!=nullendfunctionfunction DoubleTrouble_UnshareXPGive takes nothing returns nothingcall AddHeroXP(GetEnumUnit(),pe,true)endfunctionfunction N2R takes nothing returns nothinglocal integer yp=GetHandleId(GetTriggeringTrigger())local player j8=RQE(yp,"PlayerVar")local integer yP=GetHandleId(j8)local unit Q9E=RME(yP,"Kobold0")local unit SVE=RME(yP,"Kobold1")local unit SEE=RME(yP,"Kobold2")local unit SXE=RME(yP,"Kobold3")local unit SOE=RME(yP,"Kobold4")local integer yq=GetUnitAbilityLevel(Q9E,1096904043)*2local integer yQ=GetHeroAgi(Q9E,false)local integer yr=GetHeroAgi(Q9E,true)-yQ-yqlocal integer yR=GetHeroStr(Q9E,false)local integer ys=GetHeroStr(Q9E,true)-yR-yqlocal integer yS=GetHeroInt(Q9E,false)local integer yt=GetHeroInt(Q9E,true)-yS-yqlocal real yT=.25local integer yu=R2I(yQ+yr*yT)local integer yU=R2I(yR+ys*yT)local integer yv=R2I(yS+yt*yT)if GetUnitState(Q9E,UNIT_STATE_LIFE)>1 thenif SVE!=null thencall SetHeroAgi(SVE,yu,false)call SetHeroStr(SVE,yU,false)call SetHeroInt(SVE,yv,false)endifif SEE!=null thencall SetHeroAgi(SEE,yu,false)call SetHeroStr(SEE,yU,false)call SetHeroInt(SEE,yv,false)endifif SXE!=null thencall SetHeroAgi(SXE,yu,false)call SetHeroStr(SXE,yU,false)call SetHeroInt(SXE,yv,false)endifif SOE!=null thencall SetHeroAgi(SOE,yu,false)call SetHeroStr(SOE,yU,false)call SetHeroInt(SOE,yv,false)endifendifset j8=nullset Q9E=nullset SVE=nullset SEE=nullset SXE=nullendfunctionfunction N3R takes nothing returns nothinglocal integer N4R=GetHandleId(GetTriggeringTrigger())local player N5R=RQE(N4R,"PlayerVar")local integer N6R=GetHandleId(N5R)local unit Q9E=RME(N6R,"Kobold0")local unit SVE=RME(N6R,"Kobold1")local unit SEE=RME(N6R,"Kobold2")local unit SXE=RME(N6R,"Kobold3")local unit SOE=RME(N6R,"Kobold4")local integer N7R=GetHandleId(Q9E)local integer N8R=GetHandleId(SVE)local integer N9R=GetHandleId(SEE)local integer BVR=GetHandleId(SXE)local integer BER=GetHandleId(SOE)local integer BXR=R1E(N7R,"XPEarned")local integer BOR=R1E(N7R,"XPGiven")local integer BRR=R1E(N8R,"XPEarned")local integer BIR=R1E(N8R,"XPGiven")local integer BAR=R1E(N9R,"XPEarned")local integer BNR=R1E(N9R,"XPGiven")local integer BBR=R1E(BVR,"XPEarned")local integer BCR=R1E(BVR,"XPGiven")local integer BDR=R1E(BER,"XPEarned")local integer BFR=R1E(BER,"XPGiven")local integer BGR=GetHeroXP(Q9E)local integer BHR=GetHeroXP(SVE)local integer BJR=GetHeroXP(SEE)local integer BKR=GetHeroXP(SXE)local integer BLR=GetHeroXP(SOE)local integer BMR=BGR-BXR-BORlocal integer BPR=BHR-BRR-BIRlocal integer BQR=BJR-BAR-BNRlocal integer BSR=BKR-BBR-BCRlocal integer BTR=BLR-BDR-BFRif GetUnitState(Q9E,UNIT_STATE_LIFE)>1 thenset BXR=BXR+BMRset BRR=BRR+BPRset BAR=BAR+BQRset BBR=BBR+BSRset BDR=BDR+BTRif Q9E!=null thencall AddHeroXP(SVE,BMR,false)if GetHeroXP(SVE)!=BHR thenset BIR=BIR+BMRendifcall AddHeroXP(SEE,BMR,false)if GetHeroXP(SEE)!=BJR thenset BNR=BNR+BMRendifcall AddHeroXP(SXE,BMR,false)if GetHeroXP(SXE)!=BKR thenset BCR=BCR+BMRendifcall AddHeroXP(SOE,BMR,false)if GetHeroXP(SOE)!=BLR thenset BFR=BFR+BMRendifendifif SVE!=null thencall AddHeroXP(Q9E,BPR,false)if GetHeroXP(Q9E)!=BGR thenset BOR=BOR+BPRendifcall AddHeroXP(SEE,BPR,false)if GetHeroXP(SEE)!=BJR thenset BNR=BNR+BPRendifcall AddHeroXP(SXE,BPR,false)if GetHeroXP(SXE)!=BKR thenset BCR=BCR+BPRendifcall AddHeroXP(SOE,BPR,false)if GetHeroXP(SOE)!=BLR thenset BFR=BFR+BPRendifendifif SEE!=null thencall AddHeroXP(SVE,BQR,false)if GetHeroXP(SVE)!=BHR thenset BIR=BIR+BQRendifcall AddHeroXP(Q9E,BQR,false)if GetHeroXP(Q9E)!=BGR thenset BOR=BOR+BQRendifcall AddHeroXP(SXE,BQR,false)if GetHeroXP(SXE)!=BKR thenset BCR=BCR+BQRendifcall AddHeroXP(SOE,BQR,false)if GetHeroXP(SOE)!=BLR thenset BFR=BFR+BQRendifendifif SXE!=null thencall AddHeroXP(SVE,BSR,false)if GetHeroXP(SVE)!=BHR thenset BIR=BIR+BSRendifcall AddHeroXP(SEE,BSR,false)if GetHeroXP(SEE)!=BJR thenset BNR=BNR+BSRendifcall AddHeroXP(Q9E,BSR,false)if GetHeroXP(Q9E)!=BGR thenset BOR=BOR+BSRendifcall AddHeroXP(SOE,BSR,false)if GetHeroXP(SOE)!=BLR thenset BFR=BFR+BSRendifendifif SOE!=null thencall AddHeroXP(SVE,BTR,false)if GetHeroXP(SVE)!=BHR thenset BIR=BIR+BTRendifcall AddHeroXP(SEE,BTR,false)if GetHeroXP(SEE)!=BJR thenset BNR=BNR+BTRendifcall AddHeroXP(Q9E,BTR,false)if GetHeroXP(Q9E)!=BGR thenset BOR=BOR+BTRendifcall AddHeroXP(SXE,BTR,false)if GetHeroXP(SXE)!=BKR thenset BCR=BCR+BTRendifendifcall O4E(N7R,"XPEarned",BXR)call O4E(N7R,"XPGiven",BOR)call O4E(N8R,"XPEarned",BRR)call O4E(N8R,"XPGiven",BIR)call O4E(N9R,"XPEarned",BAR)call O4E(N9R,"XPGiven",BNR)call O4E(BVR,"XPEarned",BBR)call O4E(BVR,"XPGiven",BCR)call O4E(BER,"XPEarned",BDR)call O4E(BER,"XPGiven",BFR)endifset N5R=nullset Q9E=nullset SVE=nullset SEE=nullset SXE=nullendfunctionfunction BUR takes nothing returns booleanreturn N1R(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction BWR takes nothing returns nothinglocal unit CZX=GetTriggerUnit()local integer IAE=GetHandleId(GetOwningPlayer(CZX))local unit Q9E=RME(IAE,"Kobold0")local unit SVE=RME(IAE,"Kobold1")local unit SEE=RME(IAE,"Kobold2")local unit SXE=RME(IAE,"Kobold3")local unit SOE=RME(IAE,"Kobold4")local boolean XFv=falsecall DisableTrigger(GQ)if Q9E!=null and Q9E!=CZX thencall KillUnit(Q9E)endifif SVE!=null and SVE!=CZX thencall KillUnit(SVE)endifif SEE!=null and SEE!=CZX thencall KillUnit(SEE)endifif SXE!=null and SXE!=CZX thencall KillUnit(SXE)endifif SOE!=null and SOE!=CZX thencall KillUnit(SOE)endifcall EnableTrigger(GQ)set CZX=nullset Q9E=nullset SVE=nullset SEE=nullset SXE=nullset SOE=nullendfunctionfunction BYR takes nothing returns booleanreturn N1R(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction BZR takes unit B_R,unit F2E returns nothinglocal trigger t=RTE(GetHandleId(GetOwningPlayer(F2E)),"Kobold|ItemTrigger")local integer i=0local boolean B0R=falselocal boolean B1R=falselocal boolean B2R=falselocal boolean B3R=falselocal boolean B4R=falselocal boolean B5R=falselocal boolean B6R=falselocal boolean B7R=falselocal boolean B8R=falsecall DisableTrigger(t)call DisableTrigger(R3V)loopexitwhen i>5if GetItemTypeId(UnitItemInSlot(F2E,i))==BU[QU]thenset B0R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[A7]thenset B1R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[D7]thenset B2R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[C7]thenset B3R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[B7]thenset B4R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[EJV]thenset B5R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==BU[X6V]thenset B6R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==(BU[D4])thenset B7R=trueendifif GetItemTypeId(UnitItemInSlot(F2E,i))==(BU[P4])thenset B8R=trueendifset i=i+1endloopif B8R thencall UnitAddItem(B_R,CreateItem((BU[P4]),0,0))elseif B7R thencall UnitAddItem(B_R,CreateItem((BU[D4]),0,0))elseif B6R thencall UnitAddItem(B_R,CreateItem(BU[X6V],0,0))elseif B5R thencall UnitAddItem(B_R,CreateItem(BU[EJV],0,0))elseif B4R thencall UnitAddItem(B_R,CreateItem(BU[B7],0,0))elseif B3R thencall UnitAddItem(B_R,CreateItem(BU[C7],0,0))elseif B2R thencall UnitAddItem(B_R,CreateItem(BU[D7],0,0))elseif B1R thencall UnitAddItem(B_R,CreateItem(BU[A7],0,0))elseif B0R thencall UnitAddItem(B_R,CreateItem(BU[QU],0,0))endifcall EnableTrigger(t)call EnableTrigger(R3V)set t=nullendfunctionfunction B9R takes nothing returns nothinglocal unit SRE=GetTriggerUnit()local integer i=0local boolean B0R=falselocal boolean B1R=falselocal boolean B2R=falselocal boolean B3R=falselocal boolean B4R=falselocal boolean B5R=falselocal boolean B6R=falselocal boolean B7R=falselocal boolean B8R=falselocal integer N6R=GetHandleId(GetOwningPlayer(SRE))local unit Q9E=RME(N6R,"Kobold0")local unit SVE=RME(N6R,"Kobold1")local unit SEE=RME(N6R,"Kobold2")local unit SXE=RME(N6R,"Kobold3")local unit SOE=RME(N6R,"Kobold4")local integer CVRlocal boolean CER=falselocal integer CXR=0local integer COR=0local integer CRR=0local integer CIR=0local integer CAR=0local integer CNR=0local integer CBR=0local integer CCR=0local integer CDR=0call DisableTrigger(GetTriggeringTrigger())if GetUnitTypeId(SRE)==1211117642 thencall UnitRemoveItemFromSlot(SRE,0)call EnableTrigger(GetTriggeringTrigger())returnendifif not(GetItemTypeId(GetManipulatedItem())==BU[QU]or GetItemTypeId(GetManipulatedItem())==BU[A7]or GetItemTypeId(GetManipulatedItem())==BU[D7]or GetItemTypeId(GetManipulatedItem())==BU[C7]or GetItemTypeId(GetManipulatedItem())==BU[B7]or GetItemTypeId(GetManipulatedItem())==BU[EJV]or GetItemTypeId(GetManipulatedItem())==BU[X6V]or GetItemTypeId(GetManipulatedItem())==(BU[D4])or GetItemTypeId(GetManipulatedItem())==(BU[P4]))thencall EnableTrigger(GetTriggeringTrigger())returnendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenset CER=trueendifloopexitwhen i>5set CVR=GetItemTypeId(UnitItemInSlot(SRE,i))if CVR==BU[QU]thenset CXR=CXR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CXR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B0R=trueendifendifif CVR==BU[A7]thenset COR=COR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(COR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B1R=trueendifendifif CVR==BU[D7]thenset CRR=CRR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CRR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B2R=trueendifendifif CVR==BU[C7]thenset CIR=CIR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CIR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B3R=trueendifendifif CVR==BU[B7]thenset CAR=CAR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CAR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B4R=trueendifendifif CVR==BU[EJV]thenset CNR=CNR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CNR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B5R=trueendifendifif CVR==(BU[X6V])thenset CBR=CBR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CBR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B6R=trueendifendifif CVR==(BU[D4])thenset CCR=CCR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CCR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B7R=trueendifendifif CVR==(BU[P4])thenset CDR=CDR+1if(not(CER and CVR==GetItemTypeId(GetManipulatedItem())))or(CDR>1 and CVR==GetItemTypeId(GetManipulatedItem()))thenset B8R=trueendifendifset i=i+1endloopcall RemoveItem(UnitRemoveItemFromSlot(SVE,0))if SEE!=null thencall RemoveItem(UnitRemoveItemFromSlot(SEE,0))endifif SXE!=null thencall RemoveItem(UnitRemoveItemFromSlot(SXE,0))endifif SOE!=null thencall RemoveItem(UnitRemoveItemFromSlot(SOE,0))endifif B8R thencall UnitAddItem(SVE,CreateItem((BU[P4]),0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem((BU[P4]),0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem((BU[P4]),0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[P4]),0,0))endifelseif B7R thencall UnitAddItem(SVE,CreateItem((BU[D4]),0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem((BU[D4]),0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem((BU[D4]),0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[D4]),0,0))endifelseif B6R thencall UnitAddItem(SVE,CreateItem((BU[X6V]),0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem((BU[X6V]),0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem((BU[X6V]),0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[X6V]),0,0))endifelseif B5R thencall UnitAddItem(SVE,CreateItem(BU[EJV],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[EJV],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[EJV],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[EJV]),0,0))endifelseif B4R thencall UnitAddItem(SVE,CreateItem(BU[B7],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[B7],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[B7],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[B7]),0,0))endifelseif B3R thencall UnitAddItem(SVE,CreateItem(BU[C7],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[C7],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[C7],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[C7]),0,0))endifelseif B2R thencall UnitAddItem(SVE,CreateItem(BU[D7],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[D7],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[D7],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[D7]),0,0))endifelseif B1R thencall UnitAddItem(SVE,CreateItem(BU[A7],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[A7],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[A7],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[A7]),0,0))endifelseif B0R thencall UnitAddItem(SVE,CreateItem(BU[QU],0,0))if SEE!=null thencall UnitAddItem(SEE,CreateItem(BU[QU],0,0))endifif SXE!=null thencall UnitAddItem(SXE,CreateItem(BU[QU],0,0))endifif SOE!=null thencall UnitAddItem(SOE,CreateItem((BU[QU]),0,0))endifendifcall EnableTrigger(GetTriggeringTrigger())set SRE=nullset Q9E=nullset SVE=nullset SEE=nullset SXE=nullendfunctionfunction CFR takes unit CGR,integer CHR returns nothinglocal integer yP=GetHandleId(GetOwningPlayer(CGR))local unit Q9E=RME(yP,"Kobold0")local unit SVE=RME(yP,"Kobold1")local unit SEE=RME(yP,"Kobold2")local unit SXE=RME(yP,"Kobold3")local unit SOE=RME(yP,"Kobold4")if Q9E!=null and Q9E!=CGR thencall SelectHeroSkill(Q9E,CHR)endifif SVE!=null and SVE!=CGR thencall SelectHeroSkill(SVE,CHR)endifif SEE!=null and SEE!=CGR thencall SelectHeroSkill(SEE,CHR)endifif SXE!=null and SXE!=CGR thencall SelectHeroSkill(SXE,CHR)endifif SOE!=null and SOE!=CGR thencall SelectHeroSkill(SOE,CHR)endifset Q9E=nullset SVE=nullset SEE=nullset SXE=nullset SOE=nullendfunctionfunction CJR takes integer N7,unit qf,unit qF returns nothinglocal integer T8=1local integer U8=GetUnitAbilityLevel(qf,N7)loopexitwhen T8>U8call SelectHeroSkill(qF,N7)set T8=T8+1endloopendfunctionfunction CKR takes unit B_R,unit CLR returns nothingcall AddHeroXP(B_R,GetHeroXP(CLR),false)call O4E(GetHandleId(B_R),"XPGiven",GetHeroXP(CLR))call O4E(GetHandleId(B_R),"XPEarned",0)call CJR(1093684792,CLR,B_R)call CJR(1093684802,CLR,B_R)call CJR(1093684791,CLR,B_R)call CJR(1096904043,CLR,B_R)call CJR(1093684567,CLR,B_R)call CJR(1093809987,CLR,B_R)endfunctionfunction CMR takes unit SVE,unit SEE,integer YJ,integer Yg,integer YG returns nothingif Yg>YG thencall SelectHeroSkill(SEE,YJ)elseif YG>Yg thencall SelectHeroSkill(SVE,YJ)endifendfunctionfunction CPR takes unit SVE,unit SEE returns nothinglocal integer y8=GetHeroXP(SVE)local integer y9=GetHeroXP(SEE)local integer yW=GetHandleId(SVE)local integer yx=GetHandleId(SEE)local integer yZ=R1E(yW,"XPGiven")local integer y4=R1E(yx,"XPGiven")local integer VXif y8>y9 thenset VX=y8-y9call AddHeroXP(SEE,VX,true)if y9!=GetHeroXP(SEE)thencall O4E(yx,"XPGiven",y4+VX)endifelseif y8<y9 thenset VX=y9-y8call AddHeroXP(SVE,VX,true)if y8!=GetHeroXP(SVE)thencall O4E(yW,"XPGiven",yZ+VX)endifendifendfunctionfunction CQR takes unit SVE,unit SEE returns nothinglocal integer CSR=GetUnitAbilityLevel(SVE,1093684792)local integer CTR=GetUnitAbilityLevel(SVE,1093684802)local integer CUR=GetUnitAbilityLevel(SVE,1093684791)local integer CWR=GetUnitAbilityLevel(SVE,1093684567)local integer CYR=GetUnitAbilityLevel(SVE,1096904043)local integer CZR=GetUnitAbilityLevel(SVE,1093809987)local integer C_R=GetUnitAbilityLevel(SEE,1093684792)local integer C0R=GetUnitAbilityLevel(SEE,1093684802)local integer C1R=GetUnitAbilityLevel(SEE,1093684791)local integer C2R=GetUnitAbilityLevel(SEE,1093684567)local integer C3R=GetUnitAbilityLevel(SEE,1096904043)local integer C4R=GetUnitAbilityLevel(SEE,1093809987)call CPR(SVE,SEE)call CMR(SVE,SEE,1093684792,CSR,C_R)call CMR(SVE,SEE,1093684802,CTR,C0R)call CMR(SVE,SEE,1093684791,CUR,C1R)call CMR(SVE,SEE,1093684567,CWR,C2R)call CMR(SVE,SEE,1093809987,CZR,C4R)call CMR(SVE,SEE,1096904043,CYR,C3R)endfunctionfunction C5R takes unit SVE,unit SEE returns nothingif SVE!=null and SEE!=null thencall CQR(SVE,SEE)endifendfunctionfunction C6R takes nothing returns nothinglocal integer N6R=GetHandleId(RQE(GetHandleId(GetTriggeringTrigger()),"PlayerVar"))local unit Q9E=RME(N6R,"Kobold0")local unit SVE=RME(N6R,"Kobold1")local unit SEE=RME(N6R,"Kobold2")local unit SXE=RME(N6R,"Kobold3")local unit SOE=RME(N6R,"Kobold4")call DisableTrigger(FHV)call C5R(Q9E,SVE)call C5R(Q9E,SEE)call C5R(Q9E,SXE)call C5R(Q9E,SOE)call C5R(SVE,SEE)call C5R(SVE,SXE)call C5R(SVE,SOE)call C5R(SEE,SXE)call C5R(SEE,SOE)call C5R(SXE,SOE)call EnableTrigger(FHV)set Q9E=nullset SVE=nullset SEE=nullset SXE=nullset SOE=nullendfunctionfunction C7R takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddAction(t,function C6R)call RRE(GetHandleId(t),"PlayerVar",GetOwningPlayer(GetTriggerUnit()))set t=nullendfunctionfunction C8R takes unit J6E returns nothinglocal trigger tcall O8E(GetHandleId(GetOwningPlayer(J6E)),"Kobold0",J6E)call O4E(GetHandleId(J6E),"XPEarned",GetHeroXP(J6E))call O4E(GetHandleId(J6E),"XPGiven",0)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddAction(t,function N3R)call RRE(GetHandleId(t),"PlayerVar",GetOwningPlayer(J6E))call RVE(GetHandleId(GetOwningPlayer(J6E)),"Kobold|XPTrigger",t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.3,true)call TriggerAddAction(t,function N2R)call RRE(GetHandleId(t),"PlayerVar",GetOwningPlayer(J6E))call RVE(GetHandleId(GetOwningPlayer(J6E)),"Kobold|AttributesTrigger",t)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function BWR)call TriggerAddCondition(t,Condition(function BUR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddAction(t,function B9R)call TriggerAddCondition(t,Condition(function BYR))call RVE(GetHandleId(GetOwningPlayer(J6E)),"Kobold|ItemTrigger",t)call ExecuteFunc("C7R")set t=nullendfunctionfunction C9R takes unit J6E,boolean DVR returns nothinglocal player N5R=GetOwningPlayer(J6E)local integer H2E=GetHandleId(N5R)local unit B_Rset TOV=TOV+1if TOV==1 thencall C8R(J6E)endifcall TriggerExecute(RTE(GetHandleId(GetOwningPlayer(J6E)),"Kobold|XPTrigger"))call TriggerExecute(RTE(GetHandleId(GetOwningPlayer(J6E)),"Kobold|AttributesTrigger"))if DVR==false thencall CFR(J6E,1093684567)call CFR(J6E,1093809987)endifset B_R=CreateUnit(GetOwningPlayer(J6E),1211117642,GetUnitX(J6E),GetUnitY(J6E),0)call CKR(B_R,J6E)call BZR(B_R,J6E)call O8E(H2E,"Kobold"+I2S(TOV),B_R)set B_R=nullendfunctionfunction DER takes nothing returns nothingif TRV==false thenset TRV=truecall DisableTrigger(FHV)call C9R(I9V,true)call EnableTrigger(FHV)endifendfunctionfunction DXR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(J6E)and N0R(GetTriggerUnit())thenif GetLearnedSkill()==1093684567 or GetLearnedSkill()==1093809987 thencall DisableTrigger(GetTriggeringTrigger())call C9R(GetTriggerUnit(),false)call EnableTrigger(GetTriggeringTrigger())elseif GetLearnedSkill()==1096904043 or GetLearnedSkill()==1093684792 or GetLearnedSkill()==1093684802 or GetLearnedSkill()==1093684791 thencall TriggerExecute(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|XPTrigger"))call TriggerExecute(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|AttributesTrigger"))call DisableTrigger(GetTriggeringTrigger())call CFR(GetTriggerUnit(),GetLearnedSkill())call EnableTrigger(GetTriggeringTrigger())endifendifset J6E=nullreturn falseendfunctionfunction DOR takes nothing returns nothinglocal unit J6E=I9Vlocal integer H2Eset TXV=CreateTrigger()set FHV=TXVset H2E=GetHandleId(TXV)call JEE(TXV,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(TXV,Condition(function DXR))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullendfunctionfunction Yu takes nothing returns booleanreturn IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false and HEX(GetFilterUnit())==false)endfunctionfunction YU takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")local group glocal unit ulocal real dlocal real alocal real DRRlocal real DIRlocal unit MIE=RME(IAE,"Caster")if GetTriggerEvalCount(t)>32 thencall O1E(IAE)call IRE(t)elseset g=FYE()set I9V=FLEcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),500,Condition(function Yu))set u=GroupPickRandomUnit(g)if u==null thenset d=GetRandomReal($AF,400)set a=GetRandomReal(0,6)set DRR=GetUnitX(FLE)+d*Cos(a)set DIR=GetUnitY(FLE)+d*Sin(a)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",DRR,DIR))elsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))call MNE(MIE,u,5,12.5*DDE)endifcall FWE(g)endifset u=nullset g=nullset t=nullset FLE=nullreturn falseendfunctionfunction Yv takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local unit MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",FLE,"hand right"))call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",MIE)call O4E(IAE,"Level",GetUnitAbilityLevel(FLE,1093808212))call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function YU))set t=nullset FLE=nullendfunctionfunction DAR takes nothing returns booleanif GetSpellAbilityId()==1093808212 thencall Yv()endifreturn falseendfunctionfunction WUE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DAR))set t=nullendfunctionfunction DNR takes nothing returns nothinglocal unit J6E=QIVlocal unit F3E=GetEnumUnit()call MNE(J6E,F3E,1,QAV)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",F3E,"origin"))set J6E=nullset F3E=nullendfunctionfunction DBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit J6E=RME(IAE,"Source")local integer MAE=GetUnitAbilityLevel(J6E,1093808454)local group gif MAE!=0 thenif MAE==1 thenset QAV=66elseif MAE==2 thenset QAV=100elseset QAV=$90endifelseset MAE=GetUnitAbilityLevel(J6E,1093808455)if MAE==1 thenset QAV=88elseif MAE==2 thenset QAV=$85elseset QAV=$B1endifendifif GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(J6E,UNIT_STATE_MANA)<20*MAE or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093808456 or GetSpellAbilityId()==1093809992))thenif(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093808454 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808454,true)endifif(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093808455 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808455,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808456,false)call O1E(IAE)call IRE(t)call IXE(J6E,"AI|PulseNova")elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MANA)-20*MAE)set I9V=J6Eset QIV=J6Eset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),475,Condition(function K3E))call ForGroup(g,function DNR)call FWE(g)set g=nullendifset t=nullreturn falseendfunctionfunction DCR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",J6E,"origin"))call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808454,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808455,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808456,true)call UnitAddAbility(J6E,1093808456)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DBR))call O8E(IAE,"Source",J6E)call TriggerEvaluate(t)call IVE(J6E,"AI|PulseNova")set J6E=nullset t=nullendfunctionfunction Yy takes nothing returns booleanif GetSpellAbilityId()==1093808454 or GetSpellAbilityId()==1093808455 thencall DCR()endifreturn falseendfunctionfunction WWE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Yy))set t=nullendfunctionfunction DDR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit KUO=(LoadUnitHandle(YX,(H2E),(374)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local integer DFR=(LoadInteger(YX,(H2E),($E9)))local integer DGR=(LoadInteger(YX,(H2E),($C)))local unit MIElocal group glocal real alocal real xlocal real ylocal integer DHR=(LoadInteger(YX,(H2E),(720)))if DHR>0 thenset DHR=DHR-1call SaveInteger(YX,(H2E),(720),(DHR))return falseendifif E4E(GetUnitX(KUO),GetUnitY(KUO),GetUnitX(F3E),GetUnitY(F3E))>20 thenset a=H4E(GetUnitX(KUO),GetUnitY(KUO),GetUnitX(F3E),GetUnitY(F3E))call SetUnitFacing(KUO,a)set x=GetUnitX(KUO)+13.5*Cos(a*bj_DEGTORAD)set y=GetUnitY(KUO)+13.5*Sin(a*bj_DEGTORAD)call SetUnitX(KUO,x)call SetUnitY(KUO,y)elseif GME(F3E)==false thenset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093679409)call SetUnitAbilityLevel(MIE,1093679409,MAE)call IssueTargetOrderById(MIE,$D0102,F3E)endifif DFR>DGR thencall RemoveUnit(KUO)call FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),600,Condition(function LIE))call GroupRemoveUnit(g,F3E)set F3E=GroupPickRandomUnit(g)call FWE(g)if F3E==null thencall RemoveUnit(KUO)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall SaveInteger(YX,(H2E),(720),($A))call SaveInteger(YX,(H2E),($E9),(DFR+1))call SaveUnitHandle(YX,(H2E),(17),(F3E))endifendifendifset t=nullset J6E=nullset F3E=nullset KUO=nullset MIE=nullset g=nullreturn falseendfunctionfunction DJR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093678420)local integer DGR=7local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit KUOif GetSpellAbilityId()==1093679176 thenset MAE=GetUnitAbilityLevel(J6E,1093679176)+1set DGR=7endifset KUO=CreateUnit(GetOwningPlayer(J6E),1697656889,GetUnitX(J6E),GetUnitY(J6E),0)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(374),(KUO))call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),($E9),(1))call SaveInteger(YX,(H2E),($C),(DGR))call SaveInteger(YX,(H2E),(720),(0))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function DDR))set J6E=nullset F3E=nullset KUO=nullset t=nullendfunctionfunction DKR takes nothing returns booleanif GetSpellAbilityId()==1093678420 or GetSpellAbilityId()==1093679176 thencall DJR()endifreturn falseendfunctionfunction WZE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DKR))set t=nullendfunctionfunction DLR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(p5,1093679412)local integer DMR=GetHeroLevel(m5)if ModuloInteger(DMR,7-DDE)==0 or DMR==25 thencall MNE(p5,m5,1,275)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",m5,"chest"))endifset p5=nullset m5=nullendfunctionfunction DPR takes nothing returns booleanif GetSpellAbilityId()==1093679412 thencall DLR()endifreturn falseendfunctionfunction W_E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DPR))set t=nullendfunctionfunction DQR takes unit J6E returns nothingcall UnitRemoveAbility(J6E,1093750609)call UnitRemoveAbility(J6E,1093750610)call UnitRemoveAbility(J6E,1093750611)call UnitRemoveAbility(J6E,1093750612)call UnitRemoveAbility(J6E,1093750613)call UnitRemoveAbility(J6E,1093750614)call UnitRemoveAbility(J6E,1093750615)call UnitRemoveAbility(J6E,1093750616)call UnitRemoveAbility(J6E,1093750617)call UnitRemoveAbility(J6E,1395667021)call UnitRemoveAbility(J6E,1093750618)call UnitRemoveAbility(J6E,1395667022)call UnitRemoveAbility(J6E,1093750832)call UnitRemoveAbility(J6E,1093750833)call UnitRemoveAbility(J6E,1093750839)call UnitRemoveAbility(J6E,1093750849)call UnitRemoveAbility(J6E,1093750835)call UnitRemoveAbility(J6E,1093750836)call UnitRemoveAbility(J6E,1093750837)call UnitRemoveAbility(J6E,1093750838)call UnitRemoveAbility(J6E,1093812551)endfunctionfunction DSR takes unit J6E,unit F3E returns nothinglocal integer DTR=GetUnitTypeId(F3E)local integer DUR=0local integer DWR=0if DTR==1848658008 thenset DUR=1093750609elseif DTR==1852796263 thenset DUR=1093750610elseif DTR==1852207221 thenset DUR=1093750611elseif DTR==1853060204 thenset DUR=1093750612elseif DTR==1853055348 thenset DUR=1093750613elseif DTR==1853060200 thenset DUR=1093750614set DWR=1093750615elseif DTR==1848651859 thenset DUR=1093750616set DWR=1093750617elseif DTR==1852534636 thenset DUR=1395667021elseif DTR==1852207976 thenset DUR=1093750618set DWR=1093812551elseif DTR==1852010091 thenset DUR=1395667022set DWR=1093750832elseif DTR==1852272243 thenset DUR=1093750833elseif DTR==1852270641 thenset DUR=1093750839set DWR=1093750849elseif DTR==1852798821 thenset DUR=1093750835set DWR=1093750836elseif DTR==1852077175 thenset DUR=1093750837set DWR=1093750838elseif DTR==1853320295 thenset DUR=1093750617endifif DUR!=0 thencall DQR(J6E)call GKE(J6E,DUR)endifif DWR!=0 thencall GKE(J6E,DWR)endifendfunctionfunction DYR takes real DZR returns stringlocal string c1="|c00ff0303"local string c="||"local string p=" "local string s=c1+c+"|r"local string D_Rif DZR>85 thenset D_R=s+p+s+p+s+p+s+p+s+p+s+p+selseif DZR>70 thenset D_R=s+p+s+p+s+p+s+p+s+p+s+p+celseif DZR>55 thenset D_R=s+p+s+p+s+p+s+p+s+p+c+p+celseif DZR>40 thenset D_R=s+p+s+p+s+p+s+p+c+p+c+p+celseif DZR>25 thenset D_R=s+p+s+p+s+p+c+p+c+p+c+p+celseif DZR>$A thenset D_R=s+p+s+p+c+p+c+p+c+p+c+p+celseif DZR>0 thenset D_R=s+p+c+p+c+p+c+p+c+p+c+p+celseset D_R=c+p+c+p+c+p+c+p+c+p+c+p+cendifreturn D_Rendfunctionfunction D0R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")local integer D1R=R1E(IAE,"TypeID")local real HP=R2E(IAE,"HP")local texttag tt=RPE(IAE,"tt")local integer iX=GetTriggerEvalCount(t)local real D2R=HTE(HP-iX,0)local boolean D3R=truecall SetTextTagText(tt,DYR(100*D2R/ HP),.018)call SetTextTagPosUnit(tt,FLE,0)if IsUnitVisible(FLE,GetLocalPlayer())==false and FJE(GetLocalPlayer())==false thenset D3R=falseendifcall SetTextTagVisibility(tt,D3R)if D2R==0 thencall J_E(GetOwningPlayer(FLE),FLE,20+20*DDE)endifif D2R==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093742674,true)call UnitRemoveAbility(FLE,1093742675)call O1E(IAE)call IRE(t)call DestroyTextTag(tt)endifset t=nullset FLE=nullreturn falseendfunctionfunction D4R takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(F2E,1093742674)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real HP=GetUnitState(F3E,UNIT_STATE_LIFE)local integer D5R=GetUnitLevel(F3E)local integer D1R=GetUnitTypeId(F3E)local texttag tt=CreateTextTag()local boolean D3R=truelocal unit MIE=CreateUnit(GetOwningPlayer(F2E),1697656901,0,0,0)call H6E("SPLK",GetUnitX(F2E),GetUnitY(F2E),GetUnitX(F3E),GetUnitY(F3E),.1,.1,.2,.9,.5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(F3E),GetUnitY(F3E)))if IsUnitVisible(F2E,GetLocalPlayer())==false thenset D3R=falseendifcall DSR(F2E,F3E)call SetTextTagText(tt,DYR(100),.018)call SetTextTagPosUnit(tt,F2E,0)call SetTextTagVisibility(tt,D3R)call SetTextTagPermanent(tt,true)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093742674,false)call GKE(F2E,1093742675)call O8E(IAE,"Hero",F2E)call RCE(IAE,"tt",tt)call O4E(IAE,"TypeID",D1R)call O4E(IAE,"Level",DDE)call O5E(IAE,"HP",HP)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function D0R))call ShowUnit(F3E,false)call UnitRemoveBuffs(F3E,true,true)call UnitRemoveAbility(F3E,1097167980)call UnitDamageTarget(MIE,F3E,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set t=nullset F2E=nullset F3E=nullset MIE=nullendfunctionfunction D6R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093742674)local integer D5R=GetUnitLevel(m5)if(GetOwningPlayer(m5)!=RX[0]and GetOwningPlayer(m5)!=GX[0])and((DDE==1 and D5R>2)or(DDE==2 and D5R>4)or(DDE==3 and D5R>5)or(DDE==4 and D5R>6))thencall XIE(FLE)call HEE(GetOwningPlayer(FLE),D1E(1848656728))endifset FLE=nullset m5=nullendfunctionfunction D7R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer id=R1E(IAE,"Count")call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction D8R takes nothing returns nothinglocal integer id=GetSpellAbilityId()local trigger tlocal integer IAEif id==1093750609 or id==1093750610 or id==1093750611 or id==1093750612 or id==1093750613 or id==1093750614 or id==1093750615 or id==1093750616 or id==1093750617 or id==1395667021 or id==1093750618 or id==1395667022 or id==1093750832 or id==1093750833 or id==1093750834 or id==1093750835 or id==1093750836 or id==1093750837 or id==1093750838 thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function D7R))call O8E(IAE,"Source",GetTriggerUnit())call O4E(IAE,"Count",id)set t=nullendifendfunctionfunction D9R takes nothing returns booleanif GetSpellAbilityId()==1093742674 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall D6R()elsecall D4R()endifelseif GetUnitTypeId(GetTriggerUnit())==1430467634 thencall D8R()endifreturn falseendfunctionfunction W0E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function D9R))set t=nullendfunctionfunction FVR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call UnitRemoveAbility(p5,1093750604)call UnitRemoveAbility(p5,1093750606)call UnitRemoveAbility(p5,1093750607)call UnitRemoveAbility(p5,1093750605)call UnitRemoveAbility(p5,1110455370)call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction FER takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093750608)if MAE==1 thencall GKE(J6E,1093750604)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750604,false)elseif MAE==2 thencall GKE(J6E,1093750606)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750606,false)elseif MAE==3 thencall GKE(J6E,1093750607)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750607,false)elseif MAE==4 thencall GKE(J6E,1093750605)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750605,false)endifcall TriggerRegisterTimerEvent(t,8+2*MAE,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FVR))call O8E(H2E,"Source",J6E)set J6E=nullset t=nullendfunctionfunction FXR takes nothing returns booleanif GetSpellAbilityId()==1093750608 thencall FER()endifreturn falseendfunctionfunction W1E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FXR))set t=nullendfunctionfunction FOR takes nothing returns booleanlocal real xlocal real yif(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))thenset x=A2+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)set y=N2+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)call SetUnitPosition(GetFilterUnit(),x,y)endifreturn falseendfunctionfunction FRR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=FYE()local unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)local integer MAE=GetUnitAbilityLevel(p5,1093810508)set A2=GetUnitX(p5)+100*Cos(GetUnitFacing(p5)*bj_DEGTORAD)set N2=GetUnitY(p5)+100*Sin(GetUnitFacing(p5)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function FOR))call FWE(g)call GKE(MIE,1093678662)call SetUnitAbilityLevel(MIE,1093678662,MAE)call IssueImmediateOrderById(MIE,$D009F)set p5=nullset g=nullendfunctionfunction FIR takes nothing returns booleanif GetSpellAbilityId()==1093810508 thencall FRR()endifreturn falseendfunctionfunction W2E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FIR))set t=nullendfunctionfunction FAR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KDE=(LoadUnitHandle(YX,(FIE),(17)))if GetUnitAbilityLevel(KDE,1110454357)==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(KDE,1093751088)call UnitRemoveAbility(KDE,1093751089)call UnitRemoveAbility(KDE,1093751090)call UnitRemoveAbility(KDE,1093751091)call FlushChildHashtable(YX,(FIE))call IRE(t)endifset t=nullset KDE=nullreturn falseendfunctionfunction FNR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer FIE=GetHandleId(t)local unit KGE=GetTriggerUnit()local unit KDE=GetSpellTargetUnit()local integer XOE=GetUnitAbilityLevel(KGE,1093677879)local integer FBRif XOE==1 thenset FBR=1093751088elseif XOE==2 thenset FBR=1093751089elseif XOE==3 thenset FBR=1093751090elseif XOE==4 thenset FBR=1093751091endifcall SetPlayerAbilityAvailable(GetOwningPlayer(KDE),FBR,false)call GKE(KDE,FBR)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,KDE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FAR))call SaveUnitHandle(YX,(FIE),(17),(KDE))set t=nullset KGE=nullset KDE=nullendfunctionfunction FCR takes nothing returns booleanif GetSpellAbilityId()==1093677879 thencall FNR()endifreturn falseendfunctionfunction W3E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FCR))set t=nullendfunctionfunction FDR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KDE=(LoadUnitHandle(YX,(FIE),(17)))call UnitRemoveAbility(KDE,1093751094)call UnitRemoveAbility(KDE,1110459224)call FlushChildHashtable(YX,(FIE))call IRE(t)set t=nullset KDE=nullreturn falseendfunctionfunction FFR takes unit KGE,unit KDE,integer XOE returns nothinglocal trigger t=CreateTrigger()local integer FIE=GetHandleId(t)call SetUnitPathing(KDE,true)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterUnitEvent(t,KDE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FDR))call SaveUnitHandle(YX,(FIE),(17),(KDE))call GKE(KDE,1093751094)call UnitMakeAbilityPermanent(KDE,true,1093751094)call SetPlayerAbilityAvailable(GetOwningPlayer(KDE),1093751094,false)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",KDE,"chest"))call MNE(KGE,KDE,1,70*XOE)set t=nullendfunctionfunction FGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KGE=(LoadUnitHandle(YX,(FIE),(2)))local unit FHR=(LoadUnitHandle(YX,(FIE),(393)))local unit FJR=(LoadUnitHandle(YX,(FIE),(394)))local unit FKR=(LoadUnitHandle(YX,(FIE),(395)))local unit FLR=(LoadUnitHandle(YX,(FIE),(396)))local integer XOE=(LoadInteger(YX,(FIE),(5)))local real KKE=(LoadReal(YX,(FIE),(47)))local real KLE=(LoadReal(YX,(FIE),(48)))local real FMR=(LoadReal(YX,(FIE),($D)))local real FPR=(LoadReal(YX,(FIE),(6)))local real FQR=(LoadReal(YX,(FIE),(7)))local real KQE=HAE(FPR+19*Cos(FMR))local real KSE=HBE(FQR+19*Sin(FMR))local group glocal integer FSR=(LoadInteger(YX,(FIE),($C)))local location lcall SetUnitPosition(KGE,KQE,KSE)call SetUnitFacing(KGE,FMR*bj_RADTODEG)call SaveReal(YX,(FIE),(6),((KQE)*1.))call SaveReal(YX,(FIE),(7),((KSE)*1.))if ModuloInteger(GetTriggerEvalCount(t),4)==0 thencall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",KQE,KSE))endifif GetTriggerEvalCount(t)==2 thencall SetUnitAnimationByIndex(KGE,3)endifif FHR==null or FJR==null or FKR==null or FLR==null thenset I9V=KGEset g=FYE()call GroupEnumUnitsInRange(g,KQE,KSE,120,Condition(function K3E))if FirstOfGroup(g)!=null thenif FHR!=null thencall GroupRemoveUnit(g,FHR)endifif FJR!=null thencall GroupRemoveUnit(g,FJR)endifif FKR!=null thencall GroupRemoveUnit(g,FKR)endifif FirstOfGroup(g)!=null thenif FHR==null thenset FHR=FirstOfGroup(g)call SetUnitPathing(FHR,false)call IBE(FHR,"4404",5)elseif FJR==null and XOE>1 thenset FJR=FirstOfGroup(g)call SetUnitPathing(FJR,false)call IBE(FJR,"4404",5)elseif FKR==null and XOE>2 thenset FKR=FirstOfGroup(g)call SetUnitPathing(FKR,false)call IBE(FKR,"4404",5)elseif FLR==null and XOE>3 thenset FLR=FirstOfGroup(g)call SetUnitPathing(FLR,false)call IBE(FLR,"4404",5)endifendifendifcall FWE(g)set g=nullendifcall SaveUnitHandle(YX,(FIE),(393),(FHR))call SaveUnitHandle(YX,(FIE),(394),(FJR))call SaveUnitHandle(YX,(FIE),(395),(FKR))call SaveUnitHandle(YX,(FIE),(396),(FLR))if FHR!=null thencall SetUnitPosition(FHR,KQE,KSE)endifif FJR!=null thencall SetUnitPosition(FJR,KQE,KSE)endifif FKR!=null thencall SetUnitPosition(FKR,KQE,KSE)endifif FLR!=null thencall SetUnitPosition(FLR,KQE,KSE)endifif ModuloInteger(GetTriggerEvalCount(t),3)==0 thencall JRE(KQE,KSE,$C8)endifif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>FSR thencall DestroyEffect((LoadEffectHandle(YX,(FIE),($AF))))call SetUnitAnimationByIndex(KGE,0)call SetUnitTimeScale(KGE,1.)call SetUnitPathing(KGE,true)call FlushChildHashtable(YX,(FIE))call IRE(t)if FHR!=null thenif IsPointInRegion(ARV,GetUnitX(FHR),GetUnitY(FHR)) thenset l=HXX(GetUnitX(FHR),GetUnitY(FHR))call SetUnitX(FHR,HAE(GetLocationX(l)))call SetUnitY(FHR,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall FFR(KGE,FHR,XOE)call JRE(GetUnitX(FHR),GetUnitY(FHR),300)endifif FJR!=null thenif IsPointInRegion(ARV,GetUnitX(FJR),GetUnitY(FJR)) thenset l=HXX(GetUnitX(FJR),GetUnitY(FJR))call SetUnitX(FJR,HAE(GetLocationX(l)))call SetUnitY(FJR,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall FFR(KGE,FJR,XOE)call JRE(GetUnitX(FJR),GetUnitY(FJR),300)endifif FKR!=null thenif IsPointInRegion(ARV,GetUnitX(FKR),GetUnitY(FKR)) thenset l=HXX(GetUnitX(FKR),GetUnitY(FKR))call SetUnitX(FKR,HAE(GetLocationX(l)))call SetUnitY(FKR,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall FFR(KGE,FKR,XOE)call JRE(GetUnitX(FKR),GetUnitY(FKR),300)endifif FLR!=null thenif IsPointInRegion(ARV,GetUnitX(FLR),GetUnitY(FLR)) thenset l=HXX(GetUnitX(FLR),GetUnitY(FLR))call SetUnitX(FLR,HAE(GetLocationX(l)))call SetUnitY(FLR,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall FFR(KGE,FLR,XOE)call JRE(GetUnitX(FLR),GetUnitY(FLR),300)endifif FHR!=null and GME(FHR)==false thencall IssueTargetOrderById(KGE,$D000F,FHR)elseif FJR!=null and GME(FJR)==false thencall IssueTargetOrderById(KGE,$D000F,FJR)elseif FKR!=null and GME(FKR)==false thencall IssueTargetOrderById(KGE,$D000F,FKR)elseif FLR!=null and GME(FLR)==false thencall IssueTargetOrderById(KGE,$D000F,FLR)endifcall JRE(KQE,KSE,375)if IsPointInRegion(ARV,GetUnitX(KGE),GetUnitY(KGE)) thenset l=HXX(GetUnitX(KGE),GetUnitY(KGE))call SetUnitX(KGE,HAE(GetLocationX(l)))call SetUnitY(KGE,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifendifset t=nullset KGE=nullset FHR=nullset FJR=nullset FKR=nullset FLR=nullreturn falseendfunctionfunction FTR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer FIE=GetHandleId(t)local real KKE=HAE(GetSpellTargetX())local real KLE=HBE(GetSpellTargetY())local unit KGE=GetTriggerUnit()local real ODR=GetUnitX(KGE)local real FUR=GetUnitY(KGE)local integer XOE=GetUnitAbilityLevel(KGE,1093751364)local real a=H4E(ODR,FUR,KKE,KLE)*bj_DEGTORADif E4E(ODR,FUR,KKE,KLE)>825 thenset KKE=HAE(ODR+825*Cos(a))set KLE=HBE(FUR+825*Sin(a))endifcall SetUnitPathing(KGE,false)call SetUnitAnimationByIndex(KGE,3)call SetUnitTimeScale(KGE,1.5)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,KGE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FGR))call SaveUnitHandle(YX,(FIE),(2),(KGE))call SaveInteger(YX,(FIE),(5),(XOE))call SaveUnitHandle(YX,(FIE),(393),(null))call SaveUnitHandle(YX,(FIE),(394),(null))call SaveUnitHandle(YX,(FIE),(395),(null))call SaveUnitHandle(YX,(FIE),(396),(null))call SaveReal(YX,(FIE),(47),((KKE)*1.))call SaveReal(YX,(FIE),(48),((KLE)*1.))call SaveReal(YX,(FIE),(6),((ODR)*1.))call SaveReal(YX,(FIE),(7),((FUR)*1.))call SaveReal(YX,(FIE),($D),((Atan2(KLE-FUR,KKE-ODR))*1.))call SaveInteger(YX,(FIE),($C),(R2I(E4E(ODR,FUR,KKE,KLE)/19.)))call SaveEffectHandle(YX,(FIE),($AF),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",KGE,"head")))set t=nullset KGE=nullendfunctionfunction FWR takes nothing returns booleanif GetSpellAbilityId()==1093751364 thencall FTR()endifreturn falseendfunctionfunction FYR takes nothing returns booleanif GetSpellAbilityId()==1093751364 thencall SetUnitAnimationByIndex(GetTriggerUnit(),7)endifreturn falseendfunctionfunction W4E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FWR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function FYR))set t=nullendfunctionfunction FZR takes nothing returns booleanif GetSpellAbilityId()==1093747504 thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748052,false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748051,false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748049,false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093748050,false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093808966,false)endifreturn falseendfunctionfunction W5E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FZR))set t=nullendfunctionfunction F_R takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(iZ)) and IsUnitInGroup(GetFilterUnit(),nZ)==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(aZ)) thenset d=E4E(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(iZ),GetUnitY(iZ))if d<VZ thenset rZ=GetFilterUnit()set VZ=dendifendifreturn falseendfunctionfunction F0R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local integer DDE=R1E(IAE,"Level")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local group F1R=RUE(IAE,"AlreadyHit")local real F2R=R2E(IAE,"StolenMana")local real F3R=R2E(IAE,"ManaCounter")local real F4R=R2E(IAE,"DmgCounter")local real NWXlocal group glocal real alocal real xlocal real yset a=Atan2(GetUnitY(m5)-GetUnitY(MIE),GetUnitX(m5)-GetUnitX(MIE))if p5==m5 thenset x=GetUnitX(MIE)+25*Cos(a)set y=GetUnitY(MIE)+25*Sin(a)elseset x=GetUnitX(MIE)+$F*Cos(a)set y=GetUnitY(MIE)+$F*Sin(a)endifcall SetUnitX(MIE,x)call SetUnitY(MIE,y)if E4E(x,y,GetUnitX(m5),GetUnitY(m5))<60 thencall SetUnitX(MIE,GetUnitX(m5))call SetUnitY(MIE,GetUnitY(m5))if p5==m5 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+F2R)call KillUnit(MIE)call FWE(F1R)call O1E(IAE)call IRE(t)elseif IsUnitVisible(m5,GetOwningPlayer(MIE)) thencall MNE(p5,m5,1,(40+40*DDE)+.2*F4R*(40+40*DDE))set F4R=F4R+1if GetUnitState(m5,UNIT_STATE_MANA)>0 thenset NWX=RMinBJ(GetUnitState(m5,UNIT_STATE_MANA),($A+$A*DDE)+.2*F3R*($A+$A*DDE))call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-NWX)call JAE(oI,GetUnitX(m5),GetUnitY(m5))set F2R=F2R+NWXset F3R=F3R+1endifendifcall O5E(IAE,"StolenMana",(F2R)*1.)call O5E(IAE,"DmgCounter",(F4R)*1.)call O5E(IAE,"ManaCounter",(F3R)*1.)set g=FYE()set rZ=nullset iZ=m5set nZ=F1Rset VZ=99999set aZ=p5call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),500,Condition(function F_R))call FWE(g)if rZ==null or F4R==(2+DDE)thencall O4E(IAE,"TargetIndex",B_E(p5))elsecall O4E(IAE,"TargetIndex",B_E(rZ))call GroupAddUnit(F1R,rZ)endifendifcall BWE(MDE)endifset t=nullset p5=nullset m5=nullset g=nullset MIE=nullset F1R=nullreturn falseendfunctionfunction F5R takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(p5,1093682994)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local group g=FYE()local real F4R=0local real F3R=0local real NWX=0local real F2R=0local unit MIE=CreateUnit(GetOwningPlayer(p5),1747990832,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call JAE(eI,GetUnitX(p5),GetUnitY(p5))call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function F0R))call RAE(IAE,"AlreadyHit",g)call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call O4E(IAE,"Level",DDE)call O4E(IAE,"TargetIndex",B_E(m5))call O4E(IAE,"Count",0)call O5E(IAE,"StolenMana",(F2R)*1.)call O5E(IAE,"DmgCounter",(F4R)*1.)call O5E(IAE,"ManaCounter",(F3R)*1.)call GroupAddUnit(g,m5)set p5=nullset m5=nullset t=nullset g=nullset MIE=nullendfunctionfunction F6R takes nothing returns booleanif GetSpellAbilityId()==1093682994 thencall F5R()endifreturn falseendfunctionfunction W6E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function F6R))set t=nullendfunctionfunction F7R takes nothing returns nothingcall GroupAddUnit(G7V,GetEnumUnit())call IssueTargetOrderById(G5V,$D008F,GetEnumUnit())endfunctionfunction F8R takes unit J6E,unit F3E returns booleanlocal real a=H3E(F3E,J6E)local real F9R=GetUnitFacing(F3E)local real c1local real c2local real d1=-1.local real d2=-1.local real e1local real e2local real f1=-1.local real f2=-1.if IsUnitVisible(J6E,GetOwningPlayer(F3E))==false thenreturn falseendifset c1=RMaxBJ(F9R-75,0)set c2=F9Rif F9R-75<=0 thenset d1=360-(75-(c2-c1))set d2=360endifset e1=F9Rset e2=RMinBJ(F9R+75,360)if F9R+75>=360 thenset f1=0set f2=0+(75-(e2-e1))endifif a<0 thenset a=a+360elseif a>360 thenset a=a-360endifif(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)thenreturn trueendifreturn falseendfunctionfunction GVR takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),G7V)==false and F8R(I9V,GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),1110458961)==0)!=nullendfunctionfunction GER takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local integer MAE=GetUnitAbilityLevel(J6E,1093747028)local unit MIE=RME(H2E,"Caster")local group g=FYE()local group PLO=RUE(H2E,"AlreadyHit")set G5V=MIEset G6V=J6Eset I9V=J6Eset G7V=PLOcall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),825,Condition(function GVR))call ForGroup(g,function F7R)call FWE(g)call DestroyEffect(RWE(H2E,"FX"))if GetTriggerEvalCount(t)>100 thencall IRE(t)call O1E(H2E)call FWE(PLO)elsecall O9E(H2E,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",J6E,"chest"))endifset J6E=nullset MIE=nullset g=nullset t=nullset PLO=nullreturn falseendfunctionfunction GXR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function GER))call O8E(H2E,"Source",GetTriggerUnit())call O8E(H2E,"Caster",MIE)call GKE(MIE,1093677654)call RAE(H2E,"AlreadyHit",FYE())call O9E(H2E,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest"))call SetUnitAbilityLevel(MIE,1093677654,GetUnitAbilityLevel(GetTriggerUnit(),1093747028))call TriggerEvaluate(t)set t=nullset MIE=nullendfunctionfunction GOR takes nothing returns booleanif GetSpellAbilityId()==1093747028 thencall GXR()endifreturn falseendfunctionfunction W7E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GOR))set t=nullendfunctionfunction zS takes nothing returns nothingif I5V<=tl thenset I5V=I5V+1call GroupAddUnit(AEV,GetEnumUnit())endifendfunctionfunction zt takes unit p5,unit m5 returns nothingcall H6E("SPLK",GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),.1,.6,.44,.9,.6)endfunctionfunction zT takes nothing returns nothingcall SetUnitState(I9V,UNIT_STATE_LIFE,GetUnitState(I9V,UNIT_STATE_LIFE)+25)if GetUnitTypeId(GetEnumUnit())!=1848657461 thencall J9E(GetEnumUnit(),25)endifcall zt(GetEnumUnit(),I9V)endfunctionfunction zu takes nothing returns nothingcall MNE(AVV,I9V,1,25)if GetUnitTypeId(GetEnumUnit())!=1848657461 thencall J9E(GetEnumUnit(),25)endifcall zt(GetEnumUnit(),I9V)endfunctionfunction zU takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local group g=FYE()local integer zv=GetUnitAbilityLevel(FLE,1093685813)*5set AEV=FYE()set I5V=0set tl=zvset I9V=FLEcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),$3E8,Condition(function ny))call GroupRemoveUnit(g,FLE)call GroupRemoveUnit(g,GetSpellTargetUnit())call ForGroup(g,function zS)call FWE(g)set g=AEVset I9V=GetSpellTargetUnit()set AVV=FLEif IsUnitAlly(I9V,GetOwningPlayer(FLE))thencall ForGroup(g,function zT)elsecall ForGroup(g,function zu)endifcall FWE(g)set FLE=nullset g=nullendfunctionfunction GRR takes nothing returns booleanif GetSpellAbilityId()==1093685813 and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))thencall zU()endifreturn falseendfunctionfunction V2X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GRR))set t=nullendfunctionfunction GIR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer GAR=R1E(IAE,"Last")if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(R3E(IAE,"SourceDone")==false and GetTriggerUnit()==RME(IAE,"Source"))thencall O7E(IAE,"SourceDone",true)call SetHeroStr(RME(IAE,"Source"),GetHeroStr(RME(IAE,"Source"),false)-GAR,true)elseif(R3E(IAE,"TargetDone")==false and GetTriggerUnit()==RME(IAE,"Target"))thencall O7E(IAE,"TargetDone",true)call SetHeroStr(RME(IAE,"Target"),GetHeroStr(RME(IAE,"Target"),false)+GAR,true)endifelseif(R3E(IAE,"SourceDone")==false)thencall O7E(IAE,"SourceDone",true)call SetHeroStr(RME(IAE,"Source"),GetHeroStr(RME(IAE,"Source"),false)-GAR,true)endifif(R3E(IAE,"TargetDone")==false)thencall O7E(IAE,"TargetDone",true)call SetHeroStr(RME(IAE,"Target"),GetHeroStr(RME(IAE,"Target"),false)+GAR,true)endifcall O1E(IAE)call IRE(t)endifset t=nullreturn falseendfunctionfunction GNR takes nothing returns nothinglocal unit p5=sZlocal unit m5=GetEnumUnit()local integer GARlocal integer DDE=tZlocal trigger tlocal integer IAEif IsUnitType(m5,UNIT_TYPE_HERO) and GetUnitTypeId(m5)!=1211117642 thenset GAR=IMinBJ(GetHeroStr(m5,false)-1,4)set t=CreateTrigger()set IAE=GetHandleId(t)call SetHeroStr(p5,GetHeroStr(p5,false)+GAR,true)call SetHeroStr(m5,GetHeroStr(m5,false)-GAR,true)call TriggerRegisterTimerEvent(t,18+3*DDE,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function GIR))call O7E(IAE,"SourceDone",false)call O7E(IAE,"TargetDone",false)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Last",GAR)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",p5,"origin"))endifcall MNE(p5,m5,1,40*DDE)set p5=nullset m5=nullset t=nullendfunctionfunction GBR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local group g=FYE()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093743955)local unit oA=CreateUnit(GetOwningPlayer(p5),1747990346,x,y,0)call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))call RemoveLocation(l)set I9V=p5set sZ=p5set tZ=DDEcall GroupEnumUnitsInRange(g,x,y,325,Condition(function K9E))call ForGroup(g,function GNR)call FWE(g)call KillUnit(oA)set p5=nullset l=nullset g=nullset t=nullset oA=nullendfunctionfunction GCR takes nothing returns booleanif GetSpellAbilityId()==1093743955 thencall GBR()endifreturn falseendfunctionfunction V0X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GCR))set t=nullendfunctionfunction GDR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local unit GFR=RME(IAE,"Zombie")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall BWE(MDE)call O1E(IAE)call IRE(t)if GetTriggerUnit()==m5 thencall KillUnit(GFR)endifelseif NI thencall BWE(MDE)call O1E(IAE)call IRE(t)call PauseUnit(GFR,true)elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thencall DisableTrigger(t)call IssueTargetOrderById(GFR,$D000F,m5)call EnableTrigger(t)elseif GetUnitState(m5,UNIT_STATE_LIFE)<(100*UZ)and GetUnitAbilityLevel(GFR,1110458702)==0 thencall IssueTargetOrderById(wZ[GetPlayerId(GetOwningPlayer(GFR))],$D0085,GFR)elseif IsUnitVisible(m5,GetOwningPlayer(GFR))==false thenif(R3E(IAE,"VisionBuffer1")) thenif(R3E(IAE,"VisionBuffer2")) thenif(R3E(IAE,"VisionBuffer3")) thencall O1E(IAE)call IRE(t)call KillUnit(GFR)elsecall O7E(IAE,"VisionBuffer3",true)endifelsecall O7E(IAE,"VisionBuffer2",true)endifelsecall O7E(IAE,"VisionBuffer1",true)endifelsecall O7E(IAE,"VisionBuffer1",false)call O7E(IAE,"VisionBuffer2",false)call O7E(IAE,"VisionBuffer3",false)endifset t=nullset m5=nullset GFR=nullreturn falseendfunctionfunction GGR takes nothing returns booleanlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit m5=GetEnumUnit()local unit GFR=CreateUnit(TZ,1848657461,GetUnitX(m5),GetUnitY(m5),0)call IssueTargetOrderById(GFR,$D000F,m5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,GFR,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,GFR,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,GFR,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,GFR,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function GDR))call O4E(IAE,"TargetIndex",B_E(m5))call O8E(IAE,"Zombie",GFR)call O4E(IAE,"Level",UZ)set t=nullset m5=nullset GFR=nullreturn falseendfunctionfunction GHR takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==1848657461 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction GJR takes player p returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,p,Condition(function GHR))call FWE(g)set g=nullendfunctionfunction GKR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit GLR=RME(IAE,"Acolyte1")local unit GMR=RME(IAE,"Acolyte2")local unit GPR=RME(IAE,"Acolyte3")local integer DDE=R1E(IAE,"Level")local group glocal player GQRif B2E(GetOwningPlayer(p5))thenset GQR=GX[0]elseset GQR=RX[0]endifif GetTriggerEventId()==EVENT_UNIT_DEATH thenif(R3E(IAE,"NeedsFix"))thencall JBE(GQR,.4,GetUnitX(p5),GetUnitY(p5),600)endifcall O1E(IAE)call IRE(t)call ShowUnit(p5,false)call RemoveUnit(GLR)call RemoveUnit(GMR)call RemoveUnit(GPR)call GJR(GetOwningPlayer(p5))elseif IsUnitVisible(p5,GQR)thencall O7E(IAE,"NeedsFix",true)endifset g=FYE()set I9V=p5set TZ=GetOwningPlayer(p5)set UZ=DDEcall GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),25+$C8+$C8*DDE,Condition(function LIE))if NI==false thencall ForGroup(g,function GGR)endifcall FWE(g)set g=nullendifset t=nullset p5=nullset GLR=nullset GMR=nullset GPR=nullset GQR=nullreturn falseendfunctionfunction GSR takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit p5local real N6Olocal real N7Olocal real GTRlocal unit GLRlocal unit GMRlocal unit GPRlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(GetTriggerUnit(),1093743958)local integer idif DDE==1 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657482,x,y,0)elseif DDE==2 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657481,x,y,0)elseif DDE==3 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657462,x,y,0)elseset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1848657480,x,y,0)endifcall JAE(Q7V,x,y)set id=GetPlayerId(GetOwningPlayer(p5))if wZ[id]==null thenset wZ[id]=CreateUnit(GetOwningPlayer(p5),1697657174,x,y,0)call GKE(wZ[id],1093744438)endifcall SetUnitPosition(p5,HRE(x),HIE(y))call UnitApplyTimedLife(p5,1112820806,$A+5*DDE)call RemoveLocation(l)call JRE(x,y,300)set N6O=x+$C8*Cos(0*bj_DEGTORAD)set N7O=y+$C8*Sin(0*bj_DEGTORAD)set GTR=H4E(N6O,N7O,x,y)set GLR=CreateUnit(GetOwningPlayer(p5),1747990344,N6O,N7O,GTR)call SetUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")call QueueUnitAnimation(GLR,"Stand Work Gold")set N6O=x+$C8*Cos(120*bj_DEGTORAD)set N7O=y+$C8*Sin(120*bj_DEGTORAD)set GTR=H4E(N6O,N7O,x,y)set GMR=CreateUnit(GetOwningPlayer(p5),1747990344,N6O,N7O,GTR)call SetUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")call QueueUnitAnimation(GMR,"Stand Work Gold")set N6O=x+$C8*Cos($F0*bj_DEGTORAD)set N7O=y+$C8*Sin($F0*bj_DEGTORAD)set GTR=H4E(N6O,N7O,x,y)set GPR=CreateUnit(GetOwningPlayer(p5),1747990344,N6O,N7O,GTR)call SetUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call QueueUnitAnimation(GPR,"Stand Work Gold")call SetUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,3,true)call TriggerAddCondition(t,Condition(function GKR))call O8E(IAE,"Source",p5)call O8E(IAE,"Acolyte1",GLR)call O8E(IAE,"Acolyte2",GMR)call O8E(IAE,"Acolyte3",GPR)call O4E(IAE,"Level",DDE)call O7E(IAE,"NeedsFix",false)call TriggerEvaluate(t)set p5=nullset GLR=nullset GMR=nullset GPR=nullset l=nullset t=nullendfunctionfunction GUR takes nothing returns booleanif GetSpellAbilityId()==1093743958 thencall GSR()endifreturn falseendfunctionfunction V1X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GUR))set t=nullendfunctionfunction GWR takes unit P5O returns booleanreturn(OAE(P5O,BU[OUV])!=null)endfunctionfunction GYR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=GetUnitAbilityLevel(p5,1093743946)call SetUnitAbilityLevel(p5,1093743947,DDE)call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction GZR takes nothing returns nothingif IsUnitType(I9V,UNIT_TYPE_HERO) thenif GWR(AVV)thencall SetUnitState(AVV,UNIT_STATE_LIFE,GetUnitState(AVV,UNIT_STATE_LIFE)+GetUnitState(AVV,UNIT_STATE_MAX_LIFE)*.1)elsecall SetUnitState(AVV,UNIT_STATE_LIFE,GetUnitState(AVV,UNIT_STATE_LIFE)+GetUnitState(AVV,UNIT_STATE_MAX_LIFE)*.06)endifelseif GWR(AVV)thencall SetUnitState(AVV,UNIT_STATE_LIFE,GetUnitState(AVV,UNIT_STATE_LIFE)+GetUnitState(AVV,UNIT_STATE_MAX_LIFE)*.03)elsecall SetUnitState(AVV,UNIT_STATE_LIFE,GetUnitState(AVV,UNIT_STATE_LIFE)+GetUnitState(AVV,UNIT_STATE_MAX_LIFE)*.02)endifendifendfunctionfunction G_R takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer CXO=GetHandleId(t2)local trigger t1=RTE(CXO,"t1")local integer UKO=GetHandleId(t1)local unit p5=RME(CXO,"Source")local unit m5local real dlocal real alocal boolean G0R=R3E(CXO,"IgnorePlague")if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==p5)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)thencall O1E(UKO)call O1E(CXO)call IRE(t1)call IRE(t2)elseif GetTriggerEventId()==EVENT_UNIT_DEATH thenif IsUnitIllusion(GetDyingUnit())==false thencall JLE(GetDyingUnit(),p5,1747990361,"GZR",600)endifelseif G0R==false thenset m5=GetTriggerUnit()set d=E3E(p5,m5)if d<775 and GetEventDamage()>4 thenif GWR(p5)thenset a=20+5*WZelseset a=$F+5*WZendifif d>$C8 thenset a=a-$F*((d-$96)/(775-$96))endifcall O7E(CXO,"IgnorePlague",true)call MNE(GetEventDamageSource(),GetTriggerUnit(),3,GetEventDamage()*a/ 100)call O7E(CXO,"IgnorePlague",false)endifendifset t2=nullset t1=nullset p5=nullset m5=nullreturn falseendfunctionfunction G1R takes nothing returns booleanlocal trigger t1=GetTriggeringTrigger()local integer UKO=GetHandleId(t1)local trigger t2=RTE(UKO,"t2")local integer CXO=GetHandleId(t2)local unit m5=GetTriggerUnit()local unit p5=RME(UKO,"Source")if IsUnitEnemy(p5,GetOwningPlayer(m5)) and IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(m5,1093678162)==0 thenif R3E(CXO,"Registered"+I2S(GetHandleId(m5)))==false thencall TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DEATH)call O7E(CXO,"Registered"+I2S(GetHandleId(m5)),true)endifendifset t1=nullset t2=nullset m5=nullset p5=nullreturn falseendfunctionfunction G2R takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t1=CreateTrigger()local integer UKO=GetHandleId(t1)local trigger t2=CreateTrigger()local integer CXO=GetHandleId(t2)local trigger t3=CreateTrigger()local integer G3R=GetHandleId(t3)local integer DDE=GetUnitAbilityLevel(p5,1093743946)set WZ=DDEcall TriggerRegisterUnitInRange(t1,p5,750,Condition(function BUE))call TriggerAddCondition(t1,Condition(function G1R))call RVE(UKO,"t2",t2)call O8E(UKO,"Source",p5)call TriggerRegisterTimerEvent(t2,30,false)call TriggerRegisterUnitEvent(t2,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function G_R))call RVE(CXO,"t1",t1)call O8E(CXO,"Source",p5)call O7E(CXO,"IgnorePlague",false)call TriggerRegisterTimerEvent(t3,.01,false)call TriggerAddCondition(t3,Condition(function GYR))call O8E(G3R,"Source",p5)set p5=nullset t1=nullset t2=nullset t3=nullendfunctionfunction G4R takes nothing returns booleanif GetSpellAbilityId()==1093743946 and GetUnitTypeId(GetTriggerUnit())==1211117650 thencall G2R()endifreturn falseendfunctionfunction V3X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G4R))call HCE(1093743947)set t=nullendfunctionfunction G5R takes nothing returns nothinglocal unit F3E=GetEnumUnit()local unit J6E=HCVlocal real G6R=GetUnitState(F3E,UNIT_STATE_LIFE)local real G7R=GetUnitState(F3E,UNIT_STATE_MAX_LIFE)local real G8R=((.004+.002*HDV)*G7R)/2if G6R<G8R thencall SetUnitState(F3E,UNIT_STATE_LIFE,1)call MNE(J6E,F3E,3,100)call MNE(J6E,F3E,1,100)call MNE(J6E,F3E,2,100)elsecall SetUnitState(F3E,UNIT_STATE_LIFE,HTE(GetUnitState(F3E,UNIT_STATE_LIFE)-G8R,1))endifset F3E=nullset J6E=nullendfunctionfunction G9R takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),1113815395)>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),1110456372)>0)!=nullendfunctionfunction HVR takes nothing returns booleanlocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit p5=RME(IAE,"Source")local group gif GME(p5)==false thenset g=FYE()set I9V=p5set HCV=p5set HDV=GetUnitAbilityLevel(p5,1093677390)call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),$401,Condition(function G9R))call ForGroup(g,function G5R)call FWE(g)endifset g=nullset p5=nullreturn falseendfunctionfunction HER takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function HVR))call O8E(GetHandleId(t),"Source",FLE)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction HXR takes nothing returns booleanif GetLearnedSkill()==1093677390 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677390)==1 thencall HER(GetTriggerUnit(),false)endifreturn falseendfunctionfunction YEE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function HXR))set t=nullendfunctionfunction HOR takes nothing returns booleanreturn(UnitHasBuffBJ(GetKillingUnit(),1110454866))endfunctionfunction HRR takes nothing returns nothinglocal real HIRlocal integer MAEcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",GetKillingUnit(),"origin"))if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitAbilityLevel(GetKillingUnit(),1093678640)==4 thencall SetUnitState(GetKillingUnit(),UNIT_STATE_MANA,GetUnitState(GetKillingUnit(),UNIT_STATE_MANA)+600)elseset MAE=GetUnitAbilityLevelSwapped(1093678640,GetKillingUnit())set HIR=$C*MAEif MAE==4 thenset HIR=60endifcall SetUnitManaBJ(GetKillingUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetKillingUnit())+HIR))endifendfunctionfunction W8E takes nothing returns nothingset Dk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Dk,Condition(function HOR))call TriggerAddAction(Dk,function HRR)endfunctionfunction HAR takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal real C4O=R2E(H2E,"Damage")local real S8O=R2E(H2E,"Heal")if IsUnitAlly(F3E,GetOwningPlayer(J6E))thencall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+S8O)elsecall MNE(J6E,F3E,1,C4O)endifset J6E=nullset F3E=nullendfunctionfunction HNR takes nothing returns nothinglocal trigger t=JLE(I9V,GetEnumUnit(),1747988567,"HAR",400)local integer IAE=GetHandleId(t)call O5E(IAE,"Damage",I6V)call O5E(IAE,"Heal",I7V)set t=nullendfunctionfunction HBR takes nothing returns nothingif IsUnitVisible(GetEnumUnit(),GetOwningPlayer(I9V))thencall HNR()endifendfunctionfunction HCR takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local group g=FYE()local integer MAE=GetUnitAbilityLevel(F2E,FJV)local real rlocal real C4Olocal real S8Oif MAE==1 thenset C4O=75set S8O=50set r=500elseif MAE==2 thenset C4O=125set S8O=75set r=500elseif MAE==3 thenset C4O=$C8set S8O=100set r=500elseif MAE==4 thenset C4O=275set S8O=$82set r=500endifset I9V=F2Eset I6V=C4Oset I7V=S8Ocall GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),r,Condition(function LSE))call GroupRemoveUnit(g,F2E)call ForGroup(g,function HBR)call FWE(g)call SetUnitState(F2E,UNIT_STATE_LIFE,GetUnitState(F2E,UNIT_STATE_LIFE)+S8O)set F2E=nullset g=nullendfunctionfunction HDR takes nothing returns booleanif GetSpellAbilityId()==FJV thencall HCR()endifreturn falseendfunctionfunction W9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HDR))set t=nullendfunctionfunction HFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real H4O=(LoadReal(YX,(H2E),(680)))call FlushChildHashtable(YX,(H2E))call IRE(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",F3E,"origin"))call MNE(J6E,F3E,1,H4O*(GetUnitState(F3E,UNIT_STATE_MAX_LIFE)-GetUnitState(F3E,UNIT_STATE_LIFE)))set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction HGR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer HHR=GetUnitAbilityLevel(J6E,1093678647)local integer HJR=GetUnitAbilityLevel(J6E,1093679184)local real H4Oif HHR==1 thenset H4O=.4elseif HHR==2 or HJR==1 thenset H4O=.6elseif HHR==3 or HJR==2 thenset H4O=.9elseif HJR==3 thenset H4O=1.2endifcall SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),(680),((H4O)*1.))call TriggerRegisterTimerEvent(t,1.,false)call TriggerAddCondition(t,Condition(function HFR))set t=nullset J6E=nullset F3E=nullendfunctionfunction HKR takes nothing returns booleanif(GetSpellAbilityId()==1093678647 or GetSpellAbilityId()==1093679184)and FUE(GetSpellTargetUnit())==false thencall HGR()endifreturn falseendfunctionfunction YVE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HKR))set t=nullendfunctionfunction HLR takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=AVVlocal unit F3E=I9Vlocal integer HMR=GetUnitAbilityLevel(J6E,1093682001)local integer HPRlocal integer MAE=GetUnitAbilityLevel(J6E,1093681746)if MAE==1 thenset HPR=$Celseif MAE==2 thenset HPR=20elseif MAE==3 thenset HPR=28elseset HPR=36endifset HPR=HPR+1if IsUnitType(F3E,UNIT_TYPE_HERO)==false thenset HMR=HMR+1elseset HMR=HMR+6endifset HMR=IMinBJ(HPR,HMR)call SetUnitAbilityLevel(J6E,1093682001,HMR)call SaveInteger(YX,(GetHandleId(J6E)),(710),(HMR))set J6E=nullendfunctionfunction HQR takes nothing returns nothinglocal integer HMRlocal integer MAElocal integer HPRlocal trigger tlocal integer H2Elocal unit J6E=GetKillingUnit()if GetUnitTypeId(J6E)==1697656899 thenset J6E=QV[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]endifset HMR=GetUnitAbilityLevel(J6E,1093682001)set MAE=GetUnitAbilityLevel(J6E,1093681746)if MAE==1 thenset HPR=$Celseif MAE==2 thenset HPR=20elseif MAE==3 thenset HPR=28elseset HPR=36endifif HMR<=HPR thenset t=JLE(GetTriggerUnit(),J6E,1747993426,"HLR",500)set H2E=GetHandleId(t)set t=nullcall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifset J6E=nullendfunctionfunction HSR takes nothing returns nothingcall SaveInteger(YX,(GetHandleId(GetTriggerUnit())),(710),(R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*.5)+1))call SetUnitAbilityLevel(GetTriggerUnit(),1093682001,R2I(GetUnitAbilityLevel(GetTriggerUnit(),1093682001)*.5)+1)endfunctionfunction HTR takes nothing returns booleanif GetUnitAbilityLevel(GetKillingUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false thencall HQR()elseif GetUnitAbilityLevel(QV[GetPlayerId(GetOwningPlayer(GetKillingUnit()))],1093681746)>0 and GetUnitTypeId(GetKillingUnit())==1697656899 thencall HQR()endifif GetUnitAbilityLevel(GetTriggerUnit(),1093681746)>0 and IsUnitIllusion(GetTriggerUnit())==false thencall HSR()endifreturn falseendfunctionfunction HUR takes nothing returns booleanlocal unit F2E=QV[GetPlayerId(GetTriggerPlayer())]local integer HWR=GetUnitAbilityLevel(F2E,1093682001)-1local integer HYR=0local integer MAE=GetUnitAbilityLevel(F2E,1093681746)if MAE==1 thenset HYR=$Celseif MAE==2 thenset HYR=20elseif MAE==3 thenset HYR=28elseif MAE==4 thenset HYR=36endifset HWR=IMaxBJ(IMinBJ(HWR,HYR),0)if GetUnitTypeId(F2E)==1315334514 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetObjectName(1848658757)+" "+I2S(HWR)+"/"+I2S(HYR))endifset F2E=nullreturn falseendfunctionfunction YXE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HTR))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function HUR))set t=nullendfunctionfunction HZR takes nothing returns booleanreturn GetSpellAbilityId()==1093682521 or GetSpellAbilityId()==1093682760 or GetSpellAbilityId()==1093682736endfunctionfunction H_R takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)!=1)!=nullendfunctionfunction H0R takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)endfunctionfunction H1R takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit MIElocal group C7O=FYE()local boolexpr XQR=Condition(function H_R)local real GNE=GetUnitFacing(F2E)local real xlocal real yif GetSpellAbilityId()==1093682521 thenset x=GetUnitX(F2E)+$C8*Cos(GNE*bj_DEGTORAD)set y=GetUnitY(F2E)+$C8*Sin(GNE*bj_DEGTORAD)set MIE=CreateUnit(GetOwningPlayer(F2E),1697656886,x,y,0)call UnitApplyTimedLife(MIE,1112820806,2.)call GroupEnumUnitsInRange(C7O,x,y,275.,XQR)call ForGroup(C7O,function H0R)call GroupClear(C7O)elseif GetSpellAbilityId()==1093682760 thenset x=GetUnitX(F2E)+450*Cos(GNE*bj_DEGTORAD)set y=GetUnitY(F2E)+450*Sin(GNE*bj_DEGTORAD)set MIE=CreateUnit(GetOwningPlayer(F2E),1697656886,x,y,0)call UnitApplyTimedLife(MIE,1112820806,2.)call GroupEnumUnitsInRange(C7O,x,y,275.,XQR)call ForGroup(C7O,function H0R)call GroupClear(C7O)elseif GetSpellAbilityId()==1093682736 thenset x=GetUnitX(F2E)+700*Cos(GNE*bj_DEGTORAD)set y=GetUnitY(F2E)+700*Sin(GNE*bj_DEGTORAD)set MIE=CreateUnit(GetOwningPlayer(F2E),1697656886,x,y,0)call UnitApplyTimedLife(MIE,1112820806,2.)call GroupEnumUnitsInRange(C7O,x,y,275.,XQR)call ForGroup(C7O,function H0R)call GroupClear(C7O)endifcall FWE(C7O)call DestroyBoolExpr(XQR)set F2E=nullset MIE=nullset C7O=nullset XQR=nullendfunctionfunction YOE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function H1R)call TriggerAddCondition(t,Condition(function HZR))set t=nullendfunctionfunction H2R takes nothing returns nothingif(GetLearnedSkill()==1093682521)thenif(GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit())==1)thencall UnitAddAbility(GetTriggerUnit(),1093682736)call UnitAddAbility(GetTriggerUnit(),1093682760)elsecall SetUnitAbilityLevelSwapped(1093682736,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))call SetUnitAbilityLevelSwapped(1093682760,GetTriggerUnit(),GetUnitAbilityLevelSwapped(1093682521,GetTriggerUnit()))endifendifif(GetLearnedSkill()==1093681746)thenif(GetUnitAbilityLevelSwapped(1093681746,GetTriggerUnit())==1)thencall UnitAddAbility(GetTriggerUnit(),1093682001)endifendifendfunctionfunction RM takes nothing returns nothingset DK=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DK,EVENT_PLAYER_HERO_SKILL)call TriggerAddAction(DK,function H2R)endfunctionfunction H3R takes nothing returns booleanreturn GetSpellAbilityId()==1093810506 or GetSpellAbilityId()==1093750096endfunctionfunction H4R takes nothing returns nothinglocal integer z5=(LoadInteger(YX,(GetHandleId(GetTriggerUnit())),(710)))local integer Zdlocal integer U8local unit FLE=GetTriggerUnit()local location Mk=GetUnitLoc(GetTriggerUnit())local location sAlocal integer DDE=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())if DDE==0 thenset DDE=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())+1endifset z5=z5/2set Zd=1set U8=z5loopexitwhen Zd>U8set sA=XNE(Mk,50.,(I2R(Zd)*(360/z5)))call CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(FLE),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093683271)call SetUnitAbilityLevelSwapped(1093683271,bj_lastCreatedUnit,DDE)call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,$D00FA,sA)call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,1097625443)call RemoveLocation(sA)set Zd=Zd+1endloopcall RemoveLocation(Mk)set Mk=nullset FLE=nullset sA=nullendfunctionfunction YRE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H3R))call TriggerAddAction(t,function H4R)set t=nullendfunctionfunction H5R takes nothing returns booleanreturn(( not(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)))and( not(GetUnitAbilityLevelSwapped(1093678162,GetFilterUnit())==1))and( not(IsUnitAliveBJ(GetFilterUnit())==false))and( not(GetUnitTypeId(GetFilterUnit())==1865429043))and( not(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false))and( not(GetTriggerUnit()==GetFilterUnit()))and( not(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)))!=nullendfunctionfunction ZE takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location Mk=GetUnitLoc(FLE)local integer DDE=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())if DDE==0 thenset DDE=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(FLE),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093683272)call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,DDE)call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,1097625443)call RemoveLocation(Mk)set Mk=nullset FLE=nullendfunctionfunction Zf takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location Mk=GetUnitLoc(FLE)local integer DDE=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())if DDE==0 thenset DDE=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(FLE),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093683272)call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,DDE)call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,1097625443)call RemoveLocation(Mk)set Mk=nullset FLE=nullendfunctionfunction ZF takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location Mk=GetUnitLoc(FLE)local integer DDE=GetUnitAbilityLevelSwapped(1093810506,GetTriggerUnit())if DDE==0 thenset DDE=GetUnitAbilityLevelSwapped(1093750096,GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,1697656899,GetOwningPlayer(FLE),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,1093683272)call SetUnitAbilityLevelSwapped(1093683272,bj_lastCreatedUnit,DDE)call UnitApplyTimedLifeBJ(2.,1112820806,bj_lastCreatedUnit)call IssueTargetOrderById(bj_lastCreatedUnit,$D00DD,GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,1097625443)call RemoveLocation(Mk)set Mk=nullset FLE=nullendfunctionfunction Zg takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local unit FLE=GetTriggerUnit()local group P3Eset P3E=FYE()call GroupEnumUnitsInRangeOfLoc(P3E,Mk,700,Condition(function H5R))call ForGroup(P3E,function ZE)call FWE(P3E)set P3E=FYE()call GroupEnumUnitsInRangeOfLoc(P3E,Mk,400,Condition(function H5R))call ForGroup(P3E,function Zf)call FWE(P3E)set P3E=FYE()call GroupEnumUnitsInRangeOfLoc(P3E,Mk,$C8,Condition(function H5R))call ForGroup(P3E,function ZF)call FWE(P3E)call RemoveLocation(Mk)set Mk=nullset FLE=nullset P3E=nullendfunctionfunction Rm takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H3R))call TriggerAddAction(t,function Zg)set t=nullendfunctionfunction H6R takes nothing returns booleanreturn GetSpellAbilityId()==1093677640endfunctionfunction H7R takes nothing returns nothinglocal unit oAif(HXE()==false)thenset oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)call GKE(oA,1093677650)call IssueTargetOrderById(oA,$D006B,GetSpellTargetUnit())elseset oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)call GKE(oA,1093748785)call IssueTargetOrderById(oA,$D006B,GetSpellTargetUnit())endifset oA=nullendfunctionfunction YAE takes nothing returns nothingset Dm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Dm,Condition(function H6R))call TriggerAddAction(Dm,function H7R)endfunctionfunction H8R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KGE=(LoadUnitHandle(YX,(FIE),(2)))local unit H9R=(LoadUnitHandle(YX,(FIE),(19)))call ResetUnitAnimation(KGE)call RemoveUnit(H9R)call FlushChildHashtable(YX,(FIE))call IRE(t)set KGE=nullset H9R=nullset t=nullreturn falseendfunctionfunction JVR takes nothing returns nothinglocal unit KGE=GetTriggerUnit()local unit H9R=CreateUnit(GetOwningPlayer(KGE),1966092617,GetUnitX(KGE),GetUnitY(KGE),GetUnitFacing(KGE))local trigger t=CreateTrigger()local integer FIE=GetHandleId(t)call TriggerRegisterUnitEvent(t,KGE,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function H8R))call SaveUnitHandle(YX,(FIE),(2),(KGE))call SaveUnitHandle(YX,(FIE),(19),(H9R))call SetUnitVertexColorBJ(H9R,0,0,0,75)call SetUnitAnimation(H9R,"spell third")set KGE=nullset H9R=nullset t=nullendfunctionfunction JER takes nothing returns booleanif GetSpellAbilityId()==1093679171 and GetUnitAbilityLevel(GetTriggerUnit(),1093679171)<5 thencall JVR()endifreturn falseendfunctionfunction YNE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function JER))set t=nullendfunctionfunction JXR takes nothing returns booleanlocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit JOR=RME(H2E,"NightStalker")local unit JRR=RME(H2E,"VisionUnit")if JOR==null or GME(JOR)or HXE()or(OAE(JOR,BU[O9V])==null and OAE(JOR,BU[RLV])==null)thencall ShowUnit(JRR,false)elsecall ShowUnit(JRR,true)call SetUnitX(JRR,GetUnitX(JOR))call SetUnitY(JRR,GetUnitY(JOR))endifif GetOwningPlayer(JRR)!=GetOwningPlayer(JOR)thencall SetUnitOwner(JRR,GetOwningPlayer(JOR),true)endifset JOR=nullset JRR=nullreturn falseendfunctionfunction JIR takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit JOR=RME(IAE,"NightStalker")if JOR!=null and HXE()and GME(JOR)==false thencall UnitRemoveAbility(JOR,1093742902)call UnitRemoveAbility(JOR,1093742903)call SetUnitAbilityLevel(JOR,1395667009,5)call SetUnitAbilityLevel(JOR,1093679171,5)elseif JOR!=null and HXE()==false and GME(JOR)==false thencall GKE(JOR,1093742902)call GKE(JOR,1093742903)call SetUnitAbilityLevel(JOR,1395667009,GetUnitAbilityLevel(JOR,1093679158))call SetUnitAbilityLevel(JOR,1093679171,GetUnitAbilityLevel(JOR,1093679173))endifset JOR=nullendfunctionfunction JAR takes unit JOR,boolean CEO,integer JNR returns nothinglocal integer H2E=GetHandleId(JOR)local trigger tif R3E(H2E,"NightStalkerAlreadyLearned")==false or CEO thencall O7E(H2E,"NightStalkerAlreadyLearned",true)set t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,2.)call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.)call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.)call TriggerAddAction(t,function JIR)call O8E(GetHandleId(t),"NightStalker",JOR)if CEO thenif JNR==1093679173 thenset aj[GetPlayerId(GetOwningPlayer(JOR))]=telseif JNR==1093679158 thenset nj[GetPlayerId(GetOwningPlayer(JOR))]=tendifendifset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function JXR))call O8E(H2E,"NightStalker",JOR)call O8E(H2E,"VisionUnit",CreateUnit(GetOwningPlayer(JOR),1865429313,GetUnitX(JOR),GetUnitY(JOR),0))if CEO thenif JNR==1093679173 thenset Rj[GetPlayerId(GetOwningPlayer(JOR))]=telseif JNR==1093679158 thenset Aj[GetPlayerId(GetOwningPlayer(JOR))]=tendifendifendifif(JNR==1093679158)thencall GKE(JOR,1395667009)if(HXE())thencall SetUnitAbilityLevel(JOR,1395667009,5)elsecall SetUnitAbilityLevel(JOR,1395667009,GetUnitAbilityLevel(JOR,1093679158))endifendifif(JNR==1093679173)thencall UnitAddAbility(JOR,1093679171)if(HXE())thencall SetUnitAbilityLevel(JOR,1093679171,5)elsecall SetUnitAbilityLevel(JOR,1093679171,GetUnitAbilityLevel(JOR,1093679173))endifendifset t=nullendfunctionfunction JBR takes nothing returns booleanif(GetLearnedSkill()==1093679158 or GetLearnedSkill()==1093679173)and IsUnitIllusion(GetTriggerUnit())==false thencall JAR(GetTriggerUnit(),false,GetLearnedSkill())endifreturn falseendfunctionfunction YIE takes nothing returns nothingset NJ=CreateTrigger()call JEE(NJ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(NJ,Condition(function JBR))endfunctionfunction JCR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)call UnitRemoveAbility(p5,1093747535)call O1E(IAE)call IRE(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction JDR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(p5,1093685324)local trigger tlocal integer IAEcall DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(p5),GetUnitY(p5)))call SetUnitX(p5,GetUnitX(m5))call SetUnitY(p5,GetUnitY(m5))if IsUnitAlly(p5,GetOwningPlayer(m5))==false thenset t=CreateTrigger()set IAE=GetHandleId(t)call GKE(p5,1093747535)call O4E(GetHandleId(p5),"Count",0)call O8E(GetHandleId(p5),"Target",m5)call IssueTargetOrderById(p5,$D000F,m5)if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)thencall EYE(.01)call IssueTargetOrderById(p5,$D000F,m5)endifcall TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JCR))call O8E(IAE,"Source",p5)call O4E(IAE,"TargetIndex",B_E(m5))endifset p5=nullset m5=nullset t=nullendfunctionfunction JFR takes nothing returns booleanif GetSpellAbilityId()==1093685324 thencall JDR()endifreturn falseendfunctionfunction JGR takes unit p5 returns nothinglocal integer IAE=GetHandleId(p5)local unit m5=RME(IAE,"Target")local integer A7O=R1E(IAE,"Count")if GetTriggerUnit()!=m5 or A7O>=4 thencall UnitRemoveAbility(p5,1093747535)call O1E(IAE)elseset A7O=A7O+1call O4E(IAE,"Count",A7O)endifset m5=nullendfunctionfunction JHR takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093747535)>0 thencall JGR(GetAttacker())endifreturn falseendfunctionfunction YDE takes nothing returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JFR))call JEE(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t2,Condition(function JHR))set t=nullset t2=nullendfunctionfunction JJR takes unit J6E,boolean JKR returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093677904)if JKR==false thencall UnitRemoveAbility(J6E,1093743430)call UnitRemoveAbility(J6E,1110458674)elsecall GKE(J6E,1093743430)endifendfunctionfunction JLR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group glocal integer DZX=(LoadInteger(YX,(H2E),(34)))local boolean JMR=(LoadBoolean(YX,(H2E),(674)))set DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))if J6E!=null and GME(J6E)==false and GetUnitAbilityLevel(J6E,1093677904)>0 thenset I9V=J6Eset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$659,Condition(function K5E))if FirstOfGroup(g)==null thenif JMR and DZX>$F thenset JMR=falsecall SaveBoolean(YX,(H2E),(674),(JMR))set DZX=0call SaveInteger(YX,(H2E),(34),(DZX))endifif JMR==false thenset DZX=0call SaveInteger(YX,(H2E),(34),(DZX))call SaveInteger(YX,(GetHandleId((J6E))),((4302)),(2))call JJR(J6E,false)call SetUnitVertexColorBJ(J6E,100,100,100,0)if GetUnitAbilityLevel(J6E,1093808211)==0 thencall UnitSetUsesAltIcon(J6E,false)endifendifelseif JMR==false and DZX>$F thenset JMR=trueset DZX=0call SaveBoolean(YX,(H2E),(674),(JMR))call SaveInteger(YX,(H2E),(34),(DZX))endifif JMR thenset DZX=0call SaveInteger(YX,(H2E),(34),(DZX))call SaveInteger(YX,(GetHandleId((J6E))),((4302)),(1))call JJR(J6E,true)call SetUnitVertexColorBJ(J6E,100,100,100,75)if IsPlayerEnemy(GetOwningPlayer(J6E),GetLocalPlayer()) and FJE(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(J6E,true)elsecall UnitSetUsesAltIcon(J6E,false)endifendifendifcall FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction JPR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function JLR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(0))call SaveBoolean(YX,(H2E),(674),(false))set t=nullset J6E=nullendfunctionfunction JQR takes nothing returns booleanif GetLearnedSkill()==1093677904 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093677904)==1 thencall JPR()endifreturn falseendfunctionfunction YBE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function JQR))set t=nullendfunctionfunction JSR takes nothing returns nothinglocal unit MIEif IsUnitInGroup(GetEnumUnit(),AEV)==false thencall GroupAddUnit(AEV,GetEnumUnit())set MIE=CreateUnit(GetOwningPlayer(STV),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(MIE,1093685833)call SetUnitAbilityLevel(MIE,1093685833,GetUnitAbilityLevel(STV,1093685825))call IssueTargetOrderById(MIE,$D008A,GetEnumUnit())call MNE(STV,GetEnumUnit(),1,100)endifset MIE=nullendfunctionfunction JTR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer ilocal group g=RUE(IAE,"g")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local group JUR=FYE()local unit AJO=RME(IAE,"UnitVar")set I9V=AJOset STV=AJOcall GroupEnumUnitsInRange(JUR,x,y,300,Condition(function K3E))set AEV=gcall ForGroup(JUR,function JSR)call FWE(JUR)if GetTriggerEvalCount(t)>SQV*$A thenset i=1loopexitwhen i>16call DestroyEffect(RWE(IAE,"Effect"+I2S(i)))set i=i+1endloopcall FWE(g)call O1E(IAE)call IRE(t)endifset t=nullset g=nullset JUR=nullset AJO=nullreturn falseendfunctionfunction JWR takes nothing returns nothinglocal integer i=1local location l=GetSpellTargetLoc()local real JYR=GetLocationX(l)local real JZR=GetLocationY(l)local real xlocal real ylocal integer J_R=16local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local group g=FYE()call JBE(GetOwningPlayer(GetTriggerUnit()),SQV,JYR,JZR,SSV+500)call JAE(RL,JYR,JZR)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function JTR))call RAE(H2E,"g",g)call O8E(H2E,"UnitVar",GetTriggerUnit())call O5E(H2E,"x",JYR)call O5E(H2E,"y",JZR)call CreateCorpse(GetOwningPlayer(GetTriggerUnit()),1969711215,JYR,JZR,0)loopexitwhen i>J_Rset x=JYR+SSV*Cos(i*360/J_R*bj_DEGTORAD)set y=JZR+SSV*Sin(i*360/J_R*bj_DEGTORAD)call O9E(H2E,"Effect"+I2S(i),AddSpecialEffect(fx,x,y))if i==1 or i==5 or i==9 or i==$D thenset x=JYR+275*Cos(i*360/J_R*bj_DEGTORAD)set y=JZR+275*Sin(i*360/J_R*bj_DEGTORAD)call CreateCorpse(GetOwningPlayer(GetTriggerUnit()),1969711215,x,y,0)endifset i=i+1endloopcall RemoveLocation(l)set l=nullset t=nullset g=nullendfunctionfunction J0R takes nothing returns booleanif GetSpellAbilityId()==1093685825 thencall JWR()endifreturn falseendfunctionfunction VWX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J0R))set t=nullendfunctionfunction J1R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit p5=RME(H2E,"Source")local unit MIE=RME(H2E,"DarkRiftFXUnit")local integer DDE=R1E(H2E,"Level")local integer J2R=90local integer CGX=GetTriggerEvalCount(t)if DDE==1 thenset J2R=$A0elseif DDE==2 thenset J2R=120endifcall SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))if CGX>J2R thencall KillUnit(MIE)call IRE(t)call O1E(H2E)elseif CGX>30 thencall ShowUnit(MIE,true)endifset t=nullset MIE=nullset p5=nullreturn falseendfunctionfunction J3R takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call IBE(GetEnumUnit(),"4406",1)call SetUnitPosition(GetEnumUnit(),I6V,I7V)call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),I6V,I7V,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call CZE(GetEnumUnit())endfunctionfunction J4R takes unit p5,unit m5 returns nothinglocal group g=FYE()call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(p5),GetUnitY(p5)))call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(m5),GetUnitY(m5)))set I6V=GetUnitX(m5)set I7V=GetUnitY(m5)set I9V=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),475,Condition(function LTE))call ForGroup(g,function J3R)call FWE(g)set g=nullendfunctionfunction J5R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit p5=RME(H2E,"Source")local unit m5=RME(H2E,"Target")call DestroyEffect(RWE(H2E,"FX"))if GetTriggerEventId()==EVENT_UNIT_DEATH or m5==null or GME(m5)thencall HEE(GetOwningPlayer(p5),GetObjectName(1848652614))elseif p5==null or GME(p5)thencall HEE(GetOwningPlayer(p5),GetObjectName(1848652615))elsecall J4R(p5,m5)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction J6R takes nothing returns booleanlocal real dif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),1093678162)>0 or GetOwningPlayer(GetFilterUnit())==Player($F)thenreturn falseendifif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(I5V>0 and TFX(GetFilterUnit()))thenset d=E4E(I7V,I8V,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<I6V thenset I6V=dset I9V=GetFilterUnit()endifendifreturn falseendfunctionfunction J7R takes unit p5 returns unitlocal location llocal group glocal real xlocal real yset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)set g=FYE()set I5V=GetUnitAbilityLevel(p5,1093685808)set I9V=nullset I6V=9999set I7V=xset I8V=ycall GroupEnumUnitsInRange(g,x,y,$FA0,Condition(function J6R))call FWE(g)call RemoveLocation(l)set l=nullset g=nullreturn I9Vendfunctionfunction J8R takes unit p5 returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit uif m5==null thenset m5=J7R(p5)endifif m5==null thencall HEE(GetOwningPlayer(p5),GetObjectName(1848652616))returnendifcall TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(p5,1093685808),false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function J5R))call O9E(H2E,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",m5,"overhead"))call O8E(H2E,"Source",p5)call O8E(H2E,"Target",m5)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function J1R))call O4E(H2E,"Level",GetUnitAbilityLevel(p5,1093685808))call O8E(H2E,"Source",p5)set u=CreateUnit(GetOwningPlayer(p5),1747990840,GetUnitX(p5),GetUnitY(p5),0)call O8E(H2E,"DarkRiftFXUnit",u)call ShowUnit(u,false)set t=nullset m5=nullset u=nullendfunctionfunction J9R takes nothing returns nothinglocal unit F3E=GetSpellTargetUnit()local unit F2E=GetTriggerUnit()if F3E!=null thenif IsUnitAlly(F3E,GetOwningPlayer(F2E))==false thencall XIE(F2E)call HEE(GetOwningPlayer(F2E),GetObjectName(1848652849))elseif GetUnitAbilityLevel(F2E,1093685808)>0 and TFX(F3E)==false thencall XIE(F2E)call HEE(GetOwningPlayer(F2E),GetObjectName(1848652849))endifendifif F3E==null thenset F3E=J7R(F2E)endifif F3E==null thencall XIE(F2E)call HEE(GetOwningPlayer(F2E),GetObjectName(1848652848))endifset F3E=nullset F2E=nullendfunctionfunction KVR takes nothing returns booleanif GetSpellAbilityId()==1093685808 thencall J9R()endifreturn falseendfunctionfunction KER takes nothing returns booleanif GetSpellAbilityId()==1093685808 thencall J8R(GetTriggerUnit())endifreturn falseendfunctionfunction VTX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function KVR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KER))set t=nullcall GWE(1747990836)call GWE(1747990837)call GWE(1747990838)endfunctionfunction KXR takes nothing returns nothingcall MNE(SWV,GetEnumUnit(),1,SUV)endfunctionfunction KOR takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+SUV*.5)endfunctionfunction KRR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=RME(H2E,"Hero")local real x=R2E(H2E,"x")local real y=R2E(H2E,"y")local group g=FYE()local real r1=600local real r2=600local unit KIRset x=GetUnitX(F2E)set y=GetUnitY(F2E)call GroupEnumUnitsInRange(g,x,y,r1,Condition(function LYE))set KIR=FirstOfGroup(g)call FWE(g)if KIR==null thenif R3E(H2E,"NoCorpse1")and R3E(H2E,"NoCorpse2")thencall UnitRemoveAbility(F2E,1093810227)call O1E(H2E)call IRE(t)elseif R3E(H2E,"NoCorpse1")==false thencall O7E(H2E,"NoCorpse1",true)elsecall O7E(H2E,"NoCorpse2",true)endifendifelseset x=GetUnitX(KIR)set y=GetUnitY(KIR)call O7E(H2E,"NoCorpse1",false)call O7E(H2E,"NoCorpse2",false)call O1E(GetHandleId(KIR))call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))call RemoveUnit(KIR)set g=FYE()set I9V=F2Eset SWV=F2Eset SUV=20*GetUnitAbilityLevel(F2E,1093810232)call GroupEnumUnitsInRange(g,x,y,r2,Condition(function K3E))call ForGroup(g,function KXR)set I9V=F2Ecall GroupEnumUnitsInRange(g,x,y,r2,Condition(function LCE))call ForGroup(g,function KOR)call FWE(g)endifset g=nullset F2E=nullset KIR=nullset t=nullreturn falseendfunctionfunction KAR takes nothing returns nothinglocal real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call JAE(SVV,x,y)call TriggerRegisterTimerEvent(t,1.5,true)call TriggerAddCondition(t,Condition(function KRR))call GKE(GetTriggerUnit(),1093810227)call O8E(H2E,"Hero",GetTriggerUnit())call O5E(H2E,"x",x)call O5E(H2E,"y",y)call O7E(H2E,"NoCorpse1",false)call O7E(H2E,"NoCorpse2",false)set t=nullendfunctionfunction KNR takes nothing returns booleanif GetSpellAbilityId()==1093810232 thencall KAR()endifreturn falseendfunctionfunction VUX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KNR))set t=nullendfunctionfunction KBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit MIE=(RME(H2E,"Caster"))if GetSpellAbilityId()==1093809743 thencall KillUnit(MIE)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset MIE=nullreturn falseendfunctionfunction KCR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer MAE=GetUnitAbilityLevel(J6E,1093809743)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function KBR))call O8E(H2E,"Source",J6E)call O8E(H2E,"Caster",MIE)call GKE(MIE,1093809744)call SetUnitAbilityLevel(MIE,1093809744,MAE)call IssuePointOrderById(MIE,$D010E,x,y)set J6E=nullset MIE=nullendfunctionfunction KDR takes nothing returns booleanif GetSpellAbilityId()==1093809743 thencall KCR()endifreturn falseendfunctionfunction VYX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KDR))set t=nullendfunctionfunction KFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093809233)local integer KGRlocal real KHRlocal real KJR=3+MAEif GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*KJR thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1093809242)call UnitRemoveAbility(F3E,1093809456)call UnitRemoveAbility(F3E,1093809240)call UnitRemoveAbility(F3E,1093809457)call UnitRemoveAbility(F3E,1093809241)call UnitRemoveAbility(F3E,1110459720)elseset KHR=100*GetUnitState(F3E,UNIT_STATE_LIFE)/GetUnitState(F3E,UNIT_STATE_MAX_LIFE)if KHR<20 thenset KGR=5elseif KHR<40 thenset KGR=4elseif KHR<60 thenset KGR=3elseif KHR<80 thenset KGR=2elseset KGR=1endifif KGR==1 thenif GetUnitAbilityLevel(F3E,1093809242)==0 thencall UnitRemoveAbility(F3E,1093809456)call UnitRemoveAbility(F3E,1093809240)call UnitRemoveAbility(F3E,1093809457)call UnitRemoveAbility(F3E,1093809241)call UnitRemoveAbility(F3E,1110459720)call UnitAddAbility(F3E,1093809242)endifelseif KGR==2 thenif GetUnitAbilityLevel(F3E,1093809456)==0 thencall UnitRemoveAbility(F3E,1093809242)call UnitRemoveAbility(F3E,1093809240)call UnitRemoveAbility(F3E,1093809457)call UnitRemoveAbility(F3E,1093809241)call UnitRemoveAbility(F3E,1110459720)call UnitAddAbility(F3E,1093809456)endifelseif KGR==3 thenif GetUnitAbilityLevel(F3E,1093809240)==0 thencall UnitRemoveAbility(F3E,1093809242)call UnitRemoveAbility(F3E,1093809456)call UnitRemoveAbility(F3E,1093809457)call UnitRemoveAbility(F3E,1093809241)call UnitRemoveAbility(F3E,1110459720)call UnitAddAbility(F3E,1093809240)endifelseif KGR==4 thenif GetUnitAbilityLevel(F3E,1093809457)==0 thencall UnitRemoveAbility(F3E,1093809242)call UnitRemoveAbility(F3E,1093809456)call UnitRemoveAbility(F3E,1093809240)call UnitRemoveAbility(F3E,1093809241)call UnitRemoveAbility(F3E,1110459720)call UnitAddAbility(F3E,1093809457)endifelseif KGR==5 thenif GetUnitAbilityLevel(F3E,1093809241)==0 thencall UnitRemoveAbility(F3E,1093809242)call UnitRemoveAbility(F3E,1093809456)call UnitRemoveAbility(F3E,1093809240)call UnitRemoveAbility(F3E,1093809457)call UnitRemoveAbility(F3E,1110459720)call UnitAddAbility(F3E,1093809241)endifendifcall MNE(J6E,F3E,1,.01*4*.25*GetUnitState(F3E,UNIT_STATE_MAX_LIFE))if ModuloInteger(GetTriggerEvalCount(t),4)==0 thencall CreateCorpse(GetOwningPlayer(J6E),1969711215,GetUnitX(F3E),GetUnitY(F3E),0)endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction KKR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093809233)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",F3E,"chest")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call TriggerRegisterTimerEvent(t,.25,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function KFR))call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809242,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809456,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809240,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809457,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809241,false)set J6E=nullset F3E=nullset t=nullendfunctionfunction KLR takes nothing returns booleanif GetSpellAbilityId()==1093809233 and FUE(GetSpellTargetUnit())==false thencall KKR()endifreturn falseendfunctionfunction VZX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KLR))set t=nullendfunctionfunction KMR takes unit J6E,integer KPR returns nothingcall SaveInteger(YX,(GetHandleId(J6E)),(687),(KPR))call UnitRemoveAbility(J6E,1093809496)call UnitRemoveAbility(J6E,1093809497)call UnitRemoveAbility(J6E,1093809498)call UnitRemoveAbility(J6E,1093809492)call UnitRemoveAbility(J6E,1093809494)call UnitRemoveAbility(J6E,1093809493)call UnitRemoveAbility(J6E,1093809491)call UnitRemoveAbility(J6E,1093809490)call UnitRemoveAbility(J6E,1093809495)call UnitRemoveAbility(J6E,1093809712)call UnitRemoveAbility(J6E,1093809741)call UnitRemoveAbility(J6E,1093809740)call UnitRemoveAbility(J6E,1093809735)call UnitRemoveAbility(J6E,1093809736)call UnitRemoveAbility(J6E,1093809734)call UnitRemoveAbility(J6E,1093809733)call UnitRemoveAbility(J6E,1093809462)call UnitRemoveAbility(J6E,1093809737)call UnitRemoveAbility(J6E,1093809738)call UnitRemoveAbility(J6E,1093809739)call UnitRemoveAbility(J6E,1093809732)if KPR==0 thencall UnitAddAbility(J6E,1093809741)endifif KPR==1 thencall GKE(J6E,1093809496)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809496,false)call UnitAddAbility(J6E,1093809740)elseif KPR==2 thencall GKE(J6E,1093809497)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809497,false)call UnitAddAbility(J6E,1093809735)elseif KPR==3 thencall GKE(J6E,1093809498)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809498,false)call UnitAddAbility(J6E,1093809736)elseif KPR==4 thencall GKE(J6E,1093809492)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809492,false)call UnitAddAbility(J6E,1093809734)elseif KPR==5 thencall GKE(J6E,1093809494)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809494,false)call UnitAddAbility(J6E,1093809733)elseif KPR==6 thencall GKE(J6E,1093809493)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809493,false)call UnitAddAbility(J6E,1093809462)elseif KPR==7 thencall GKE(J6E,1093809491)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809491,false)call UnitAddAbility(J6E,1093809737)elseif KPR==8 thencall GKE(J6E,1093809490)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809490,false)call UnitAddAbility(J6E,1093809738)elseif KPR==9 thencall GKE(J6E,1093809495)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809495,false)call UnitAddAbility(J6E,1093809739)elseif KPR==$A thencall GKE(J6E,1093809712)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809712,false)call UnitAddAbility(J6E,1093809732)endifendfunctionfunction KQR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer KPR=(LoadInteger(YX,(GetHandleId(J6E)),(687)))local group glocal unit KIRlocal integer MAE=GetUnitAbilityLevel(J6E,1093809713)local integer KSR=2+2*MAEif KPR<KSR and GME(J6E)==false thenset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),925,Condition(function LYE))set KIR=FirstOfGroup(g)call FWE(g)if KIR!=null thenset KPR=KPR+1call KMR(J6E,KPR)call JLE((KIR),(J6E),1747993654,"CorpseCollector_FX_Nothing",400)call RemoveUnit(KIR)endifendifset t=nullset J6E=nullset KIR=nullreturn falseendfunctionfunction KTR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,4,true)call TriggerAddCondition(t,Condition(function KQR))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction KUR takes nothing returns nothingcall MNE(SYV,GetEnumUnit(),1,SZV)endfunctionfunction KWR takes unit J6E,integer MAE,real JDE,real JFE,integer KPR,boolean WDX returns nothinglocal group g=FYE()set SYV=J6Eset SZV=30*KPRif WDX thenset SZV=SZV+$A*KPRendifset I9V=J6Ecall GroupEnumUnitsInRange(g,JDE,JFE,350,Condition(function K3E))call ForGroup(g,function KUR)call FWE(g)endfunctionfunction KYR takes unit J6E,real N2O,real N3O returns booleanlocal real JDE=(LoadReal(YX,(GetHandleId(J6E)),(690)))local real JFE=(LoadReal(YX,(GetHandleId(J6E)),(691)))if JDE==0 and JFE==0 thenreturn falseendifif E4E(N2O,N3O,JDE,JFE)<425 thenreturn trueendifreturn falseendfunctionfunction KZR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer KPR=(LoadInteger(YX,(H2E),(34)))local integer MAE=GetUnitAbilityLevel(J6E,1093809713)local integer i=1local unit MIElocal real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local real xlocal real ylocal real a=(LoadReal(YX,(H2E),($89)))local boolean WDX=(LoadBoolean(YX,(H2E),(688)))local boolean K_R=(LoadBoolean(YX,(H2E),(689)))local real K0R=(LoadReal(YX,(H2E),(549)))local real K1R=(LoadReal(YX,(H2E),(567)))set K0R=HRE(K0R+$A*Cos(a))set K1R=HIE(K1R+$A*Sin(a))call SaveReal(YX,(H2E),(549),((K0R)*1.))call SaveReal(YX,(H2E),(567),((K1R)*1.))if WDX==false thenset WDX=KYR(J6E,K0R,K1R)if WDX thencall SaveBoolean(YX,(H2E),(688),(WDX))endifendifif WDX and K_R==false thenset K_R=truecall SaveBoolean(YX,(H2E),(689),(K_R))loopexitwhen i>KPRset MIE=(LoadUnitHandle(YX,(H2E),(393+i)))call SaveEffectHandle(YX,(H2E),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",MIE,"origin")))set i=i+1endloopendifset i=1if E4E(K0R,K1R,JDE,JFE)<$F thenloopexitwhen i>KPRif WDX thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(609+i))))endifcall KillUnit((LoadUnitHandle(YX,(H2E),(393+i))))set i=i+1endloopcall FlushChildHashtable(YX,(H2E))call IRE(t)call KWR(J6E,MAE,JDE,JFE,KPR,WDX)elseloopexitwhen i>KPRset MIE=(LoadUnitHandle(YX,(H2E),(393+i)))set x=(LoadReal(YX,(H2E),(549+i)))set y=(LoadReal(YX,(H2E),(567+i)))set x=HRE(x+$A*Cos(a))set y=HIE(y+$A*Sin(a))call SaveReal(YX,(H2E),(549+i),((x)*1.))call SaveReal(YX,(H2E),(567+i),((y)*1.))call SetUnitX(MIE,x)call SetUnitY(MIE,y)set i=i+1endloopendifset t=nullset MIE=nullset J6E=nullreturn falseendfunctionfunction K2R takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real JDE=GetSpellTargetX()local real JFE=GetSpellTargetY()local integer MAE=GetUnitAbilityLevel(J6E,1093809713)local integer KPR=(LoadInteger(YX,(GetHandleId(J6E)),(687)))local integer i=1local unit MIElocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)*bj_DEGTORADcall SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(KPR))call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveReal(YX,(H2E),(549),((x)*1.))call SaveReal(YX,(H2E),(567),((y)*1.))call SaveBoolean(YX,(H2E),(688),(false))call SaveBoolean(YX,(H2E),(689),(false))loopexitwhen i>KPRset MIE=CreateUnit(GetOwningPlayer(J6E),1747993655,x+GetRandomInt(-$C8,$C8),y+GetRandomInt(-$C8,$C8),0)call SaveUnitHandle(YX,(H2E),(393+i),(MIE))call SaveReal(YX,(H2E),(549+i),((GetUnitX(MIE))*1.))call SaveReal(YX,(H2E),(567+i),((GetUnitY(MIE))*1.))set i=i+1endloopcall TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function KZR))call KMR(J6E,0)set J6E=nullset t=nullset MIE=nullendfunctionfunction K3R takes nothing returns booleanif GetSpellAbilityId()==1093809713 thencall K2R()endifreturn falseendfunctionfunction K4R takes nothing returns booleanif GetLearnedSkill()==1093809713 and GetUnitAbilityLevel(GetTriggerUnit(),1093809713)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall KTR()endifreturn falseendfunctionfunction V_X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K3R))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function K4R))set t=nullendfunctionfunction K5R takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),1093678667)>0endfunctionfunction K6R takes nothing returns nothingif(GetIssuedOrderId()==$D00D1)thenif(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)thencall GKE(GetTriggerUnit(),1093681498)elsecall EYE(.1)if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)>0)thencall UnitAddAbility(GetTriggerUnit(),1093681498)endifendifelseif(GetIssuedOrderId()==$D00D2)thenif(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)thencall UnitRemoveAbility(GetTriggerUnit(),1093681498)elsecall EYE(.1)if(GetUnitAbilityLevel(GetTriggerUnit(),1110454868)==0)thencall UnitRemoveAbility(GetTriggerUnit(),1093681498)endifendifendifendfunctionfunction YFE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function K5R))call TriggerAddAction(t,function K6R)set t=nullendfunctionfunction K7R takes nothing returns nothinglocal integer H2E=GetHandleId(GetEnumUnit())if GetTriggerUnit()!=GetEnumUnit()thencall SaveInteger(YX,(H2E),(672),((LoadInteger(YX,(H2E),(672)))+1))endifendfunctionfunction K8R takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1429221446 and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction K9R takes nothing returns booleanlocal group gif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and GetUnitTypeId(GetTriggerUnit())!=1211117642 and IsUnitIllusion(GetTriggerUnit())==false thenset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function K8R))if GetUnitTypeId(GetKillingUnit())==1429221446 thencall GroupAddUnit(g,GetKillingUnit())endifcall ForGroup(g,function K7R)call FWE(g)set g=nullendifreturn falseendfunctionfunction LVR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEvalCount(t)==1 thencall ShowUnit(p5,false)elseif GetTriggerEvalCount(t)>80 thencall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset p5=nullreturn falseendfunctionfunction LER takes nothing returns booleanlocal unit MIElocal unit p5local unit GSElocal trigger tlocal integer H2Eif GetUnitTypeId(GetTriggerUnit())==1429221446 thenset p5=GetTriggerUnit()set GSE=GetKillingUnit()if p5==GSE thenset MIE=CreateUnit(GetOwningPlayer(p5),1747993154,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitTimeScale(MIE,.75)call UnitApplyTimedLife(MIE,1112820806,1.)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",MIE,"origin"))set MIE=nullcall SetSoundPosition(SM,GetUnitX(p5),GetUnitY(p5),50)call SetSoundVolumeBJ(SM,100)call PlaySoundBJ(SM)call SetSoundPosition(TM,GetUnitX(p5),GetUnitY(p5),50)call SetSoundVolumeBJ(TM,100)call PlaySoundBJ(TM)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function LVR))call SaveUnitHandle(YX,(H2E),(2),(p5))set t=nullendifset p5=nullset GSE=nullendifreturn falseendfunctionfunction LXR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit J6E=(LoadUnitHandle(YX,(GetHandleId(t)),(2)))local integer H2E=GetHandleId(J6E)local integer LOR=(LoadInteger(YX,(H2E),(672)))local integer LRR=(LoadInteger(YX,(H2E),(673)))local integer MAE=GetUnitAbilityLevel(J6E,1093678660)local integer LIR=R2I(I2R(LOR)*(.6+.3*MAE))if LIR>LRR thencall ModifyHeroStat(0,J6E,bj_MODIFYMETHOD_ADD,LIR-LRR)call SaveInteger(YX,(H2E),(673),(LIR))call H7E("+"+I2S(LIR-LRR)+" "+GetObjectName(1848659274),3,J6E,.023,0,$FF,0,$E6)endifset t=nullset J6E=nullreturn falseendfunctionfunction LAR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function LXR))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction LNR takes nothing returns booleanif GetLearnedSkill()==1093678660 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678660)==1 thencall LAR()endifreturn falseendfunctionfunction LBR takes nothing returns booleanif GetUnitTypeId(QV[GetPlayerId(GetTriggerPlayer())])==1429221446 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,GetObjectName(1848654162)+" "+I2S((LoadInteger(YX,(GetHandleId(QV[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName(1848654163))endifreturn falseendfunctionfunction YGE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function LNR))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function LBR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function LER))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function K9R))set t=nullendfunctionfunction LCR takes unit J6E,unit F3E returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local unit LDR=CreateUnit(GetOwningPlayer(J6E),1697657409,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093685338)call IssueTargetOrderById(MIE,$D007F,F3E)call UnitApplyTimedLife(MIE,1112820806,1)call UnitApplyTimedLife(LDR,1112820806,1)set MIE=nullset LDR=nullendfunctionfunction LFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer LGR=R1E(IAE,"LinkNumber")local boolean LHR=R3E(IAE,"FoundTarget")local unit m5local unit LJR=RME(IAE,"Link"+I2S(LGR))if LHR thenset m5=RME(IAE,"Target")call SetUnitX(m5,GetUnitX(LJR))call SetUnitY(m5,GetUnitY(LJR))endifcall RemoveUnit(LJR)set LGR=LGR-1call O4E(IAE,"LinkNumber",LGR)if LGR==0 thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullset LJR=nullreturn falseendfunctionfunction LKR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer LGR=R1E(IAE,"LinkNumber")local integer DDE=R1E(IAE,"Level")local real l4=R2E(IAE,"Angle")local unit FLE=RME(IAE,"Hero")local trigger LLR=RTE(IAE,"RetractTrigger")local integer LMR=GetHandleId(LLR)local group glocal unit ulocal real xlocal real yif LGR<$A+5*DDE thenset LGR=LGR+1call O4E(IAE,"LinkNumber",LGR)set x=GetUnitX(FLE)+LGR*40*Cos(l4*bj_DEGTORAD)set y=GetUnitY(FLE)+LGR*40*Sin(l4*bj_DEGTORAD)call O8E(LMR,"Link"+I2S(LGR),CreateUnit(GetOwningPlayer(FLE),1966092360,x,y,l4))set g=FYE()call GroupEnumUnitsInRange(g,x,y,125,Condition(function LQE))call GroupRemoveUnit(g,FLE)set u=GroupPickRandomUnit(g)call FWE(g)if u!=null thencall O1E(IAE)call IRE(t)call TriggerRegisterTimerEvent(LLR,.03,true)call TriggerAddCondition(LLR,Condition(function LFR))call O4E(LMR,"LinkNumber",LGR)call O7E(LMR,"FoundTarget",true)call O8E(LMR,"Target",u)if IsUnitEnemy(u,GetOwningPlayer(FLE))thenif IsUnitType(u,UNIT_TYPE_HERO) thencall PGE("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(FLE))),G3V[GetPlayerId(GetOwningPlayer(FLE))])set G3V[GetPlayerId(GetOwningPlayer(FLE))]=G3V[GetPlayerId(GetOwningPlayer(FLE))]+1call IBE(FLE,"4400",1.5)endifset G4V[GetPlayerId(GetOwningPlayer(FLE))]=G4V[GetPlayerId(GetOwningPlayer(FLE))]+1call PGE("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(FLE))),G4V[GetPlayerId(GetOwningPlayer(FLE))])call LCR(FLE,u)call MNE(FLE,u,3,90*DDE)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))endifendifelsecall O1E(IAE)call IRE(t)set G4V[GetPlayerId(GetOwningPlayer(FLE))]=G4V[GetPlayerId(GetOwningPlayer(FLE))]+1call TriggerRegisterTimerEvent(LLR,.03,true)call TriggerAddCondition(LLR,Condition(function LFR))call O4E(LMR,"LinkNumber",LGR)call O7E(LMR,"FoundTarget",false)endifset t=nullset FLE=nullset LLR=nullset g=nullset u=nullreturn falseendfunctionfunction LPR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real l4=H4E(GetUnitX(FLE),GetUnitY(FLE),GetLocationX(l),GetLocationY(l))local integer DDE=GetUnitAbilityLevel(FLE,1093678665)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call O4E(IAE,"Level",DDE)call O5E(IAE,"Angle",l4*1.)call O4E(IAE,"LinkNumber",0)call RVE(IAE,"RetractTrigger",CreateTrigger())call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function LKR))call RemoveLocation(l)set FLE=nullset l=nullset t=nullendfunctionfunction LQR takes nothing returns booleanif GetSpellAbilityId()==1093678665 thencall LPR()endifreturn falseendfunctionfunction LSR takes nothing returns booleanlocal integer L2O=G3V[GetPlayerId(GetTriggerPlayer())]local integer D5=G4V[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(QV[GetPlayerId(GetTriggerPlayer())])==1429221446 and D5>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,BI,10.,(GetObjectName((1848657228)))+" "+R2S(I2R(L2O)/ I2R(D5)*100)+"% ("+I2S(L2O)+"/"+I2S(D5)+")")endifreturn falseendfunctionfunction YHE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LQR))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,RX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-st",true)call TriggerAddCondition(t,Condition(function LSR))set t=nullendfunctionfunction LTR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local real HUE=(25+50*DDE)+(.75)*GetHeroStr(p5,true)local integer CGX=R1E(IAE,"Count")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()==1093747544)thencall O1E(IAE)call IRE(t)endifelseif GetTriggerEvalCount(t)>4 thencall O1E(IAE)call IRE(t)call XIE(p5)elseif DDE>0 thenset CGX=CGX+1if(CGX<4 and IsUnitType(m5,UNIT_TYPE_HERO))or(CGX<8 and IsUnitType(m5,UNIT_TYPE_HERO)==false)thencall SetUnitState(p5,UNIT_STATE_LIFE,GetUnitState(p5,UNIT_STATE_LIFE)+HUE)call MNE(p5,m5,1,HUE)endifcall O4E(IAE,"Count",CGX)endifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction LUR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(p5,1093747544)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function LTR))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call O4E(IAE,"Count",0)call TriggerEvaluate(t)set t=nullset p5=nullset m5=nullendfunctionfunction LWR takes nothing returns booleanif GetSpellAbilityId()==1093747544 and FUE(GetSpellTargetUnit())==false thencall LUR()endifreturn falseendfunctionfunction YJE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LWR))set t=nullendfunctionfunction LYR takes nothing returns booleanreturn((GetUnitTypeId(GetSummonedUnit())==1865429068)or(GetUnitTypeId(GetSummonedUnit())==1865429069)or(GetUnitTypeId(GetSummonedUnit())==1865429070)or(GetUnitTypeId(GetSummonedUnit())==1865429071))endfunctionfunction LZR takes nothing returns nothingcall SetUnitAbilityLevelSwapped(1093679188,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))call SetUnitAbilityLevelSwapped(1093681990,GetSummonedUnit(),GetUnitAbilityLevelSwapped(1093679428,GetSummoningUnit()))call IssueImmediateOrderById(GetSummonedUnit(),$D0220)endfunctionfunction R4 takes nothing returns nothingset Do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(Do,Condition(function LYR))call TriggerAddAction(Do,function LZR)endfunctionfunction L_R takes unit p5,unit m5 returns nothinglocal real L0R=20+20*T0local real L1R=35+35*T0local real HUE=L0R+(L1R-L0R)*w0/ 700call MNE(p5,m5,1,HUE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",m5,"chest"))endfunctionfunction L2R takes nothing returns nothinglocal unit m5=GetEnumUnit()local group BIO=t0local unit p5=U0if IsUnitInGroup(m5,BIO)==false thencall GroupAddUnit(BIO,m5)call L_R(p5,m5)endifset m5=nullset BIO=nullset p5=nullendfunctionfunction L3R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local group BIO=RUE(IAE,"AlreadyDamaged")local effect fxlocal integer A7O=GetTriggerEvalCount(t)local real xlocal real x0=GetUnitX(p5)local real ylocal real y0=GetUnitY(p5)local integer ilocal integer dlocal group g=FYE()call SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))set t0=BIOset U0=p5set T0=GetUnitAbilityLevel(p5,1093748023)if A7O>20 thenset d=21*36+(20-A7O)*36set w0=dset i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I9V=p5call GroupEnumUnitsInRange(g,x,y,100,Condition(function K8E))call ForGroup(g,function L2R)set i=i+1endloopelseset d=A7O*36set w0=dset i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I9V=p5call GroupEnumUnitsInRange(g,x,y,100,Condition(function K8E))call ForGroup(g,function L2R)set i=i+1endloopendifcall FWE(g)if A7O==40 thencall KillUnit(MIE)call FWE(BIO)call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseif A7O==20 thencall GroupClear(BIO)set fx=nullendifset t=nullset MIE=nullset BIO=nullset p5=nullset g=nullreturn falseendfunctionfunction L4R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local unit MIE=CreateUnit(GetOwningPlayer(FLE),1747990834,x,y,0)local integer i=0local group BIO=FYE()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O9E(IAE,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",FLE,"origin"))call RAE(IAE,"AlreadyDamaged",BIO)call O8E(IAE,"Source",FLE)call O8E(IAE,"Caster",MIE)call TriggerRegisterTimerEvent(t,.06,true)call TriggerAddCondition(t,Condition(function L3R))set t=nullset MIE=nullset FLE=nullset BIO=nullendfunctionfunction L5R takes nothing returns booleanif GetSpellAbilityId()==1093748023 thencall L4R()endifreturn falseendfunctionfunction VDX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L5R))set t=nullendfunctionfunction L6R takes integer L7R returns booleanreturn L7R!=1093679446 and L7R!=1093677622 and L7R!=1093684314 and L7R!=1093685582 and L7R!=1093685065 and L7R!=1093682265 and L7R!=1093752642 and L7R!=1095263841endfunctionfunction L8R takes unit L9R,unit p5,unit m5,integer DDE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(L9R),1697656901,GetUnitX(p5),GetUnitY(p5),0)call GKE(MIE,1093747019)call SetUnitAbilityLevel(MIE,1093747019,DDE)call IssueTargetOrderById(MIE,$D0097,m5)call GKE(MIE,1093744708)call SetUnitAbilityLevel(MIE,1093744708,DDE)call IssueTargetOrderById(MIE,$D008F,m5)set MIE=nullendfunctionfunction MVR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDEif GetSpellTargetUnit()==p5 and L6R(GetSpellAbilityId()) and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(p5))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) thenset DDE=GetUnitAbilityLevel(p5,1093748022)call L8R(p5,p5,GetTriggerUnit(),DDE)endifset t=nullset p5=nullreturn falseendfunctionfunction MER takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MVR))call O8E(IAE,"Source",p5)if CEO thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset p5=nullset t=nullendfunctionfunction MXR takes nothing returns booleanif GetLearnedSkill()==1093748022 and GetUnitAbilityLevel(GetTriggerUnit(),1093748022)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall MER(GetTriggerUnit(),false)endifreturn falseendfunctionfunction VFX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function MXR))set t=nullendfunctionfunction MOR takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MQEif d<1 thencall UnitRemoveAbility(u,W0[0])call UnitRemoveAbility(u,W0[1])call UnitRemoveAbility(u,W0[2])call UnitRemoveAbility(u,W0[3])call UnitRemoveAbility(u,W0[4])call UnitRemoveAbility(u,W0[5])call UnitRemoveAbility(u,W0[6])call UnitRemoveAbility(u,W0[7])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MQE=iset i=0loopexitwhen i>MQEif b[i]==1 thencall GKE(u,W0[i])elsecall UnitRemoveAbility(u,W0[i])endifset i=i+1endloopendfunctionfunction MRR takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MQEif d<1 thencall UnitRemoveAbility(u,z0[0])call UnitRemoveAbility(u,z0[1])call UnitRemoveAbility(u,z0[2])call UnitRemoveAbility(u,z0[3])call UnitRemoveAbility(u,z0[4])call UnitRemoveAbility(u,z0[5])call UnitRemoveAbility(u,z0[6])call UnitRemoveAbility(u,z0[7])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MQE=iset i=0loopexitwhen i>MQEif b[i]==1 thencall GKE(u,z0[i])elsecall UnitRemoveAbility(u,z0[i])endifset i=i+1endloopendfunctionfunction MIR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH thenif GetTriggerUnit()==p5 thencall MOR(p5,0)call O8E(IAE,"Source",null)elsecall MRR(m5,0)call O8E(IAE,"Target",null)endifelseif p5!=null thencall MOR(p5,0)endifif m5!=null thencall MRR(m5,0)endifcall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction MAR takes unit J6E,unit F3E,unit AKO returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)if AKO==null thencall TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)elseif AKO==F3E thencall MRR(F3E,0)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",null)elsecall MOR(J6E,0)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call O8E(H2E,"Source",null)call O8E(H2E,"Target",F3E)endifcall TriggerRegisterTimerEvent(t,18,false)call TriggerAddCondition(t,Condition(function MIR))set t=nullendfunctionfunction MNR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local unit F3E=RME(H2E,"Target")local lightning MBR=RYE(H2E,"Light")local integer MAE=R1E(H2E,"Level")local integer DZX=GetTriggerEvalCount(t)local unit MIE=RME(H2E,"Caster")call MoveLightning(MBR,true,GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))call SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))if E4E(GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH or IsUnitVisible(F3E,GetOwningPlayer(J6E))==false thencall DestroyLightning(MBR)call KillUnit(MIE)if GetTriggerEventId()==EVENT_UNIT_DEATH thencall MAR(J6E,F3E,GetTriggerUnit())elsecall MAR(J6E,F3E,null)endifcall O1E(H2E)call IRE(t)elseif DZX>$A0 thencall DestroyLightning(MBR)call KillUnit(MIE)call MAR(J6E,F3E,null)call O1E(H2E)call IRE(t)elseif ModuloInteger(DZX,20)==0 or DZX==1 thencall MOR(J6E,(MAE*7)*R2I(DZX/ 20))call MRR(F3E,(MAE*7)*R2I(DZX/ 20))endifset t=nullset J6E=nullset F3E=nullset MBR=nullset MIE=nullreturn falseendfunctionfunction MCR takes unit p5,unit m5,lightning MDR,unit MIE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093747792)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function MNR))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call REE(IAE,"Light",MDR)call O8E(IAE,"Caster",MIE)set t=nullendfunctionfunction MFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local lightning MDR=RYE(IAE,"Light")local unit MIE=RME(IAE,"Caster")local real MGR=GetUnitX(p5)local real MHR=GetUnitY(p5)local real XVR=R2E(IAE,"rRealX1")local real XER=R2E(IAE,"rRealY1")local real a=R2E(IAE,"a")local unit m5=nulllocal group g=FYE()set XVR=HRE(XVR+25*Cos(a))set XER=HIE(XER+25*Sin(a))call O5E(IAE,"rRealX1",XVR*1.)call O5E(IAE,"rRealY1",XER*1.)call MoveLightning(MDR,true,MGR,MHR,XVR,XER)call SetUnitX(MIE,XVR)call SetUnitY(MIE,XER)set I9V=p5call GroupEnumUnitsInRange(g,XVR,XER,$E1,Condition(function L4E))set m5=FirstOfGroup(g)call FWE(g)if m5!=null thencall MCR(p5,m5,MDR,MIE)call O1E(IAE)call IRE(t)elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyLightning(MDR)call KillUnit(MIE)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset MDR=nullset m5=nullset g=nullset MIE=nullreturn falseendfunctionfunction MJR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger tlocal integer IAElocal location llocal lightning MDR=AddLightning("CLSB",true,GetUnitX(p5),GetUnitY(p5),GetUnitX(p5),GetUnitY(p5))local unit MIE=CreateUnit(GetOwningPlayer(p5),1747990584,GetUnitX(p5),GetUnitY(p5),0)call SetLightningColor(MDR,.3,.5,1,1)if m5==null thenset l=GetSpellTargetLoc()set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function MFR))call O8E(IAE,"Source",p5)call REE(IAE,"Light",MDR)call O8E(IAE,"Caster",MIE)call O5E(IAE,"a",(Atan2(GetLocationY(l)-GetUnitY(p5),GetLocationX(l)-GetUnitX(p5)))*1.)call O5E(IAE,"rRealX1",(GetUnitX(p5))*1.)call O5E(IAE,"rRealY1",(GetUnitY(p5))*1.)call RemoveLocation(l)set l=nullset t=nullelsecall MCR(p5,m5,MDR,MIE)endifset m5=nullset p5=nullset l=nullset t=nullset MIE=nullendfunctionfunction MKR takes nothing returns booleanif GetSpellAbilityId()==1093747792 thencall MJR()endifreturn falseendfunctionfunction VGX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MKR))set t=nullset W0[0]=1093747798set W0[1]=1093747793set W0[2]=1093747794set W0[3]=1093747795set W0[4]=1093747796set W0[5]=1093747797set W0[6]=1093747799set W0[7]=1093747800set z0[0]=1093748020set z0[1]=1093748019set z0[2]=1093748018set z0[3]=1093748017set z0[4]=1093748016set z0[5]=1093748021set z0[6]=1093747802set z0[7]=1093747801endfunctionfunction MLR takes integer IAE returns nothinglocal integer i=1local integer MMR=R1E(IAE,"MaxIndex")local unit m5local integer MDEif MMR==0 thenreturnendifloopexitwhen i>MMRset MDE=R1E(IAE,"Target_"+I2S(i))set m5=BYE(MDE)call BWE(MDE)call UnitRemoveAbility(m5,n1[0])call UnitRemoveAbility(m5,n1[1])call UnitRemoveAbility(m5,n1[2])call UnitRemoveAbility(m5,n1[3])call UnitRemoveAbility(m5,n1[4])call UnitRemoveAbility(m5,n1[5])set i=i+1endloopset m5=nullendfunctionfunction MPR takes unit m5,integer IAE returns nothinglocal integer MDE=B_E(m5)local integer MMR=R1E(IAE,"MaxIndex")set MMR=MMR+1call O4E(IAE,"MaxIndex",MMR)call O4E(IAE,"Target_"+I2S(MMR),MDE)endfunctionfunction MQR takes unit u returns integerreturn GetUnitAbilityLevel(u,n1[0])*1+GetUnitAbilityLevel(u,n1[1])*2+GetUnitAbilityLevel(u,n1[2])*4+GetUnitAbilityLevel(u,n1[3])*8+GetUnitAbilityLevel(u,n1[4])*16endfunctionfunction MSR takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer MQEif d<1 thencall UnitRemoveAbility(u,n1[0])call UnitRemoveAbility(u,n1[1])call UnitRemoveAbility(u,n1[2])call UnitRemoveAbility(u,n1[3])call UnitRemoveAbility(u,n1[4])call UnitRemoveAbility(u,n1[5])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset MQE=iset i=0loopexitwhen i>MQEif b[i]==1 thencall GKE(u,n1[i])elsecall UnitRemoveAbility(u,n1[i])endifset i=i+1endloopendfunctionfunction MTR takes unit u,integer d returns nothingif IsUnitType(u,UNIT_TYPE_STRUCTURE)==false thencall MSR(u,d+MQR(u))call MPR(u,a1)endifendfunctionfunction MUR takes unit p5,unit MIE,unit m5,integer DDE returns nothingcall IssueTargetOrderById(MIE,$D0097,m5)call MFE(p5,m5,2,(50+25*DDE)/ 2,.3)call MTR(m5,1)endfunctionfunction MWR takes nothing returns booleanif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1848651852 thenif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 thenset o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)set HKV=GetFilterUnit()endifendifreturn falseendfunctionfunction MYR takes nothing returns booleanif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V))and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!=1701670775 and GetUnitTypeId(GetFilterUnit())!=1970956647 and GetUnitTypeId(GetFilterUnit())!=1848651852 thenif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 thenset o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)set HKV=GetFilterUnit()endifendifreturn falseendfunctionfunction MZR takes unit p5,unit MIE,integer DDE returns nothinglocal group g=FYE()set HKV=nullset o1=$F423Fset Z0=30+30*DDEset v1=p5set I9V=p5if GetUnitAbilityLevel(p5,1093752150)>0 thencall GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function MYR))elsecall GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function MWR))endifcall FWE(g)if HKV!=null thencall MUR(p5,MIE,HKV,DDE)endifset g=nullendfunctionfunction M_R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local integer DDE=R1E(IAE,"Level")local integer CGX=GetTriggerEvalCount(t)local integer M0Rif GetTriggerEventId()==EVENT_UNIT_DEATH thencall MLR(IAE)call O1E(IAE)call IRE(t)if GetTriggerUnit()==p5 thencall KillUnit(MIE)endifelseif GetUnitAbilityLevel(p5,1093752150)>0 thenif DDE==1 thenset M0R=$Eelseif DDE==2 thenset M0R=$Celseset M0R=$Aendifelseif DDE==1 thenset M0R=17elseif DDE==2 thenset M0R=$Felseset M0R=$Cendifendifif ModuloInteger(CGX,M0R)==0 or CGX==1 thenset a1=IAEcall MZR(p5,MIE,DDE)endifcall SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))endifset t=nullset p5=nullset MIE=nullreturn falseendfunctionfunction M1R takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093747023)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(p5),1747990577,GetUnitX(p5),GetUnitY(p5),0)if DDE==0 thenset DDE=GetUnitAbilityLevel(p5,1093752150)endifcall UnitApplyTimedLife(MIE,1112820806,$F+5*DDE)call SetUnitAbilityLevel(MIE,1093747786,DDE)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function M_R))call O8E(IAE,"Caster",MIE)call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)set p5=nullset t=nullset MIE=nullendfunctionfunction M2R takes nothing returns booleanif GetSpellAbilityId()==1093747023 or GetSpellAbilityId()==1093752150 thencall M1R()endifreturn falseendfunctionfunction VHX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M2R))set t=nullset n1[0]=1093747787set n1[1]=1093747788set n1[2]=1093747790set n1[3]=1093747789set n1[4]=1093747791endfunctionfunction M3R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer M4R=GetTriggerEvalCount(t)local real y=(M4R-$D)*(M4R-$D)if M4R<26 thenif Y5O(FLE)==false thencall SetUnitFlyHeight(FLE,375-y,0)endifelsecall PauseUnit(FLE,false)if Y5O(FLE)==false thencall SetUnitFlyHeight(FLE,GetUnitDefaultFlyHeight(FLE),0)endifcall MNE(RME(IAE,"Source"),FLE,1,R2E(IAE,"Damage"))call MRE(RME(IAE,"Source"),FLE,R2E(IAE,"Duration"))call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction M5R takes unit FLE,unit p5,real Hk,real M6R,real M7R returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call PauseUnit(FLE,true)if Y5O(FLE)==false thencall UnitAddAbility(FLE,1097691750)call UnitRemoveAbility(FLE,1097691750)endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(FLE),GetUnitY(FLE)))call O8E(IAE,"Hero",FLE)call O8E(IAE,"Source",p5)call O5E(IAE,"Damage",M6R)call O5E(IAE,"Duration",Hk)call TriggerRegisterTimerEvent(t,.02/ .52*M7R,true)call TriggerAddCondition(t,Condition(function M3R))set t=nullendfunctionfunction M8R takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false and FHE(GetEnumUnit())==false and R8E(GetEnumUnit(),"Omnislashing")==false thencall GroupAddUnit(AEV,GetEnumUnit())call M5R(GetEnumUnit(),I9V,I7V,I6V,I8V)endifendfunctionfunction M9R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local real M6R=R2E(IAE,"damage")local real Hk=R2E(IAE,"duration")local real x1=R2E(IAE,"x1")local real y1=R2E(IAE,"y1")local real x2=R2E(IAE,"x2")local real y2=R2E(IAE,"y2")local real w=R2E(IAE,"w")local real PVR=R2E(IAE,"TempReal")local real a=Atan2(y2-y1,x2-x1)local group g=RUE(IAE,"g")local group PER=FYE()local real M7R=PVR*.0625local real PXR=R2E(IAE,"LastFX_x")local real POR=R2E(IAE,"LastFX_y")local real PRR=R2E(IAE,"FX_Interval")local real PIR=R2E(IAE,"airtime")if M7R>E4E(x1,y1,x2,y2)thenset x1=x2set y1=y2elseset x1=x1+M7R*Cos(a)set y1=y1+M7R*Sin(a)endifset I9V=p5set I6V=M6Rset I7V=Hkset I8V=PIRset AEV=gcall GroupEnumUnitsInRange(PER,x1,y1,w,Condition(function K3E))call ForGroup(PER,function M8R)call FWE(PER)if E4E(x1,y1,PXR,POR)>=PRR thencall O5E(IAE,"LastFX_x",x1)call O5E(IAE,"LastFX_y",y1)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))endifcall O5E(IAE,"x1",x1)call O5E(IAE,"y1",y1)if x1==x2 and y1==y2 thenif R3E(IAE,"destroyGroup") thencall FWE(g)endifcall O1E(IAE)call IRE(t)endifset g=nullset PER=nullset p5=nullset t=nullreturn falseendfunctionfunction PAR takes real PNR,real PBR returns integerif PNR/ PBR-R2I(PNR/ PBR)>=.5 thenreturn R2I(PNR/ PBR)+1endifreturn R2I(PNR/ PBR)endfunctionfunction PCR takes unit p5,unit m5,real M6R,real Hk,real PIR,real x1,real y1,real x2,real y2,real w,group PDR,boolean PFR,real PVR returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real PGR=E4E(x1,y1,x2,y2)local integer PHR=PAR(PGR,ON)local real PRR=PGR/ PHRlocal group gcall O8E(IAE,"Source",p5)call O5E(IAE,"damage",M6R)call O5E(IAE,"duration",Hk)call O5E(IAE,"airtime",PIR)call O5E(IAE,"x1",x1)call O5E(IAE,"y1",y1)call O5E(IAE,"x2",x2)call O5E(IAE,"y2",y2)call O5E(IAE,"w",w)call O5E(IAE,"TempReal",PVR)if PDR==null thenset g=FYE()if m5!=null and IsUnitIllusion(m5)==false thencall GroupAddUnit(g,m5)endifcall RAE(IAE,"g",g)call O7E(IAE,"destroyGroup",PFR)elsecall RAE(IAE,"g",PDR)call O7E(IAE,"destroyGroup",PFR)endifcall O5E(IAE,"FX_Interval",PRR)call O5E(IAE,"LastFX_x",x1)call O5E(IAE,"LastFX_y",y1)call TriggerRegisterTimerEvent(t,.0625,true)call TriggerAddCondition(t,Condition(function M9R))set t=nullset g=nullendfunctionfunction PJR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")call SetUnitPosition(FLE,x,y)call SetUnitAnimation(FLE,"morph ALTERNATE")call O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction PKR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093678671)local location llocal real PLRlocal real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local real PMRlocal real PPRlocal real PQRlocal real PSRlocal real CasterXlocal real CasterYlocal integer BurrowstrikeTempIntlocal unit oAlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real HUElocal real Hk=1.65local unit m5=nullif DDE==1 thenset HUE=100elseif DDE==2 thenset HUE=$A0elseif DDE==3 thenset HUE=$DCelseif DDE==4 thenset HUE=280endifif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset PMR=GetLocationX(l)set PPR=GetLocationY(l)call RemoveLocation(l)set PLR=H4E(x,y,PMR,PPR)call O8E(IAE,"Hero",FLE)call O5E(IAE,"x",PMR)call O5E(IAE,"y",PPR)call TriggerRegisterTimerEvent(t,E4E(x,y,PMR,PPR)/ $7D0,false)call TriggerAddCondition(t,Condition(function PJR))if E4E(x,y,PMR,PPR)<$96 thenset PMR=x+$96*Cos(PLR*bj_DEGTORAD)set PPR=y+$96*Sin(PLR*bj_DEGTORAD)endifif GetSpellTargetUnit()!=null and FUE(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall PCR(FLE,m5,HUE,Hk,.52,x,y,PMR,PPR,$AF,null,true,$640)set oA=nullset l=nullset FLE=nullset t=nullset m5=nullendfunctionfunction PTR takes nothing returns booleanif GetSpellAbilityId()==1093678671 thencall PKR()endifreturn falseendfunctionfunction YLE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PTR))set t=nullendfunctionfunction PUR takes nothing returns nothingcall MNE(e0,GetEnumUnit(),1,110)if GetPlayerController(GetOwningPlayer(o0))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(o0,1093744450)endifcall IssueTargetOrderById(o0,$D006B,GetEnumUnit())endfunctionfunction PWR takes unit p5,real x,real y,integer DDE,integer PYR returns nothinglocal group g=FYE()local real rlocal string fxif PYR==8 thenset r=675elseif PYR==9 thenset r=700elseif PYR==$A thenset r=725elseset r=$FA+50*PYRendifif PYR<4 thenset fx="war3mapImported\\EpiPulse_1_4.mdx"elseif PYR<8 thenset fx="war3mapImported\\EpiPulse_5_8.mdx"elseset fx="war3mapImported\\EpiPulse_9_12.mdx"endifcall DestroyEffect(AddSpecialEffect(fx,x,y))set I9V=p5set e0=p5set o0=v0[GetPlayerId(GetOwningPlayer(p5))]call GroupEnumUnitsInRange(g,x,y,r,Condition(function K3E))call ForGroup(g,function PUR)call FWE(g)call nm(.03,false,x,y,$96+100*PYR,$96+100*PYR,72,.03,512)set g=nullendfunctionfunction PZR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local unit FLE=RME(IAE,"Hero")local real P_R=R2E(IAE,"LastX")local real P0R=R2E(IAE,"LastY")local boolean P6O=R3E(IAE,"Scepter")local integer DDE=R1E(IAE,"Level")local integer PYR=R1E(IAE,"Iteration")local integer P1R=4+DDE*2local real x=P_Rlocal real y=P0Rif P6O thenset P1R=P1R+2endifif PYR>P1R thencall O1E(IAE)call IRE(t)elseif FLE!=null and GME(FLE)==false thenset x=GetUnitX(FLE)set y=GetUnitY(FLE)endifcall PWR(FLE,x,y,DDE,PYR)call O4E(IAE,"Iteration",PYR+1)call O5E(IAE,"LastX",(x)*1.)call O5E(IAE,"LastY",(y)*1.)endifset t=nullset p=nullset FLE=nullreturn falseendfunctionfunction P2R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local player p=GetOwningPlayer(FLE)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(FLE,1093678674)local boolean P6O=falseif DDE==0 thenset P6O=trueset DDE=GetUnitAbilityLevel(FLE,1093747252)endifif B2E(p)thenset v0[GetPlayerId(p)]=CreateUnit(GX[0],1697656901,GetUnitX(FLE),GetUnitY(FLE),0)elseset v0[GetPlayerId(p)]=CreateUnit(RX[0],1697656901,GetUnitX(FLE),GetUnitY(FLE),0)endifcall GKE(v0[GetPlayerId(p)],1093744450)call O8E(IAE,"Hero",FLE)call RRE(IAE,"p",GetOwningPlayer(FLE))call O5E(IAE,"LastX",(GetUnitX(FLE))*1.)call O5E(IAE,"LastY",(GetUnitY(FLE))*1.)call O4E(IAE,"Level",DDE)call O4E(IAE,"Iteration",2)call O7E(IAE,"Scepter",P6O)call TriggerRegisterTimerEvent(t,.35,true)call TriggerAddCondition(t,Condition(function PZR))call PWR(FLE,GetUnitX(FLE),GetUnitY(FLE),DDE,1)set FLE=nullset p=nullset t=nullendfunctionfunction P3R takes nothing returns booleanif GetSpellAbilityId()==1093678674 or GetSpellAbilityId()==1093747252 thencall P2R()endifreturn falseendfunctionfunction YME takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(t,Condition(function P3R))call HCE(1093744450)set t=nullendfunctionfunction P4R takes nothing returns booleanreturn(GetSpellAbilityId()==1093683248)endfunctionfunction P5R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),bj_UNIT_FACING)call GKE(oA,1093683279)call SetUnitAbilityLevel(oA,1093683279,GetUnitAbilityLevel(FLE,1093683248))call IssueTargetOrderById(oA,$D0065,FLE)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset oA=nullreturn falseendfunctionfunction P6R takes nothing returns nothinglocal unit P7Rlocal unit P8R=GetTriggerUnit()local unit array P9Rlocal integer Rdlocal trigger t=CreateTrigger()call IVE(P8R,"Sandstorm")set P7R=CreateUnit(GetOwningPlayer(P8R),1697656913,GetUnitX(P8R),GetUnitY(P8R),bj_UNIT_FACING)call SetUnitPathing(P7R,false)call SetUnitInvulnerable(P7R,true)call UnitAddAbility(P7R,1097625443)call UnitAddAbility(P7R,1093683277)call SetUnitAbilityLevelSwapped(1093683277,P7R,GetUnitAbilityLevelSwapped(1093683248,P8R))call IssueImmediateOrderById(P7R,$D00D1)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function P5R))call O8E(GetHandleId(t),"Hero",P8R)set Rd=1set P9R[Rd]=CreateUnit(GetOwningPlayer(P8R),1697656913,GetUnitX(P8R)+$96,GetUnitY(P8R)+$96,bj_UNIT_FACING)call SetUnitTimeScalePercent(P9R[Rd],.0)call SetUnitPathing(P9R[Rd],false)call SetUnitInvulnerable(P9R[Rd],true)call UnitAddAbility(P9R[Rd],1097625443)set Rd=2set P9R[Rd]=CreateUnit(GetOwningPlayer(P8R),1697656913,GetUnitX(P8R)+$96,GetUnitY(P8R)-$96,bj_UNIT_FACING)call SetUnitTimeScalePercent(P9R[Rd],.0)call SetUnitPathing(P9R[Rd],false)call SetUnitInvulnerable(P9R[Rd],true)call UnitAddAbility(P9R[Rd],1097625443)set Rd=3set P9R[Rd]=CreateUnit(GetOwningPlayer(P8R),1697656913,GetUnitX(P8R)-$96,GetUnitY(P8R)+$96,bj_UNIT_FACING)call SetUnitTimeScalePercent(P9R[Rd],.0)call SetUnitPathing(P9R[Rd],false)call SetUnitInvulnerable(P9R[Rd],true)call UnitAddAbility(P9R[Rd],1097625443)set Rd=4set P9R[Rd]=CreateUnit(GetOwningPlayer(P8R),1697656913,GetUnitX(P8R)-$96,GetUnitY(P8R)-$96,bj_UNIT_FACING)call SetUnitTimeScalePercent(P9R[Rd],.0)call SetUnitPathing(P9R[Rd],false)call SetUnitInvulnerable(P9R[Rd],true)call UnitAddAbility(P9R[Rd],1097625443)if B5E(GetOwningPlayer(P8R))thencall UnitApplyTimedLife(P9R[1],1112820806,20*GetUnitAbilityLevel(P8R,1093683248))call UnitApplyTimedLife(P9R[2],1112820806,20*GetUnitAbilityLevel(P8R,1093683248))call UnitApplyTimedLife(P9R[3],1112820806,20*GetUnitAbilityLevel(P8R,1093683248))call UnitApplyTimedLife(P9R[4],1112820806,20*GetUnitAbilityLevel(P8R,1093683248))endifset t=nullset P7R=nullset P8R=nullendfunctionfunction sa takes nothing returns nothingset DO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(DO,Condition(function P4R))call TriggerAddAction(DO,function P6R)endfunctionfunction QVR takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1697656913)endfunctionfunction ScarabsFilter takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1966092594)or(GetUnitTypeId(GetFilterUnit())==1966092595)endfunctionfunction FilterEidolons takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1752654196)or(GetUnitTypeId(GetFilterUnit())==1752658994)or(GetUnitTypeId(GetFilterUnit())==1752658995)or(GetUnitTypeId(GetFilterUnit())==1747988534)endfunctionfunction QER takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction QXR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local group g=RUE(IAE,"g")local unit F2E=RME(IAE,"Hero")if R8E(F2E,"Sandstorm")==false thencall UnitRemoveAbility(F2E,1110455378)endifcall ForGroup(g,function QER)call DestroyGroup(g)call O1E(IAE)call IRE(t)set t=nullset g=nullset F2E=nullreturn falseendfunctionfunction Trig_Sand_Storm_Turn_Off_Func005001002 takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1429221451)endfunctionfunction QOR takes nothing returns nothinglocal unit P8R=GetTriggerUnit()local group P3Elocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call IXE(P8R,"Sandstorm")set P3E=GetUnitsOfPlayerMatching(GetOwningPlayer(P8R),Condition(function QVR))call RAE(IAE,"g",P3E)call O8E(IAE,"Hero",P8R)call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(P8R,1093683248)*.3,false)call TriggerAddCondition(t,Condition(function QXR))set t=nullset P8R=nullset P3E=nullendfunctionfunction sB takes nothing returns nothingset Dp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dp,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call TriggerAddCondition(Dp,Condition(function P4R))call TriggerAddAction(Dp,function QOR)endfunctionfunction QRR takes nothing returns nothingcall MNE(m0,GetEnumUnit(),2,50*M0)endfunctionfunction QIR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)local group g=FYE()local integer DDE=GetUnitAbilityLevel(p5,1093810507)call GKE(MIE,1093684537)call SetUnitAbilityLevel(MIE,1093684537,DDE)call IssueImmediateOrderById(MIE,$D0080)call GKE(MIE,1093677399)call SetUnitAbilityLevel(MIE,1093677399,DDE)call IssueImmediateOrderById(MIE,$D009F)set m0=p5set M0=DDEcall GroupEnumUnitsInRange(g,x,y,350+25,Condition(function LRE))call ForGroup(g,function QRR)call FWE(g)set p5=nullset MIE=nullset g=nullendfunctionfunction QAR takes nothing returns booleanif GetSpellAbilityId()==1093810507 thencall QIR()endifreturn falseendfunctionfunction YPE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QAR))set t=nullendfunctionfunction QNR takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"UnitVar")local unit QBR=RME(IAE,"Owner")local unit MIElocal real KBE=R2E(IAE,"Duration")local integer DDE=GetUnitAbilityLevel(QBR,(1093683287))local real QCR=R2E(IAE,"x")local real QDR=R2E(IAE,"y")local real J7O=GetUnitX(FLE)local real J8O=GetUnitY(FLE)if(J7O-QCR)*(J7O-QCR)+(J8O-QDR)*(J8O-QDR)>900 thenset MIE=CreateUnit(GetOwningPlayer(QBR),(1747988530),GetUnitX(FLE),GetUnitY(FLE),0)call SetUnitAbilityLevel(MIE,(1093683506),DDE)call SetUnitAbilityLevel(MIE,(1093683289),DDE)call UnitApplyTimedLife(MIE,1112820806,7)call O5E(IAE,"x",(J7O)*1.)call O5E(IAE,"y",(J8O)*1.)endifset KBE=KBE+.2call O5E(IAE,"Duration",(KBE)*1.)if KBE>7 or GetUnitState(FLE,UNIT_STATE_LIFE)<1 thencall PauseTimer(t)call O1E(IAE)endifset t=nullset FLE=nullset QBR=nullset MIE=nullendfunctionfunction QFR takes nothing returns nothinglocal unit m5=GetEnumUnit()local sound JNElocal timer tlocal integer IAEcall UnitDamageTarget(ZX,m5,JO,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call GroupAddUnit(ZO,m5)if IsUnitType(m5,UNIT_TYPE_HERO) thenset t=CreateTimer()set IAE=GetHandleId(t)set JNE=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,$A,$A,"DefaultEAXON")call SetSoundPosition(JNE,GetUnitX(m5),GetUnitY(m5),0)call SetSoundDistanceCutoff(JNE,700)call StartSound(JNE)call KillSoundWhenDone(JNE)call O8E(IAE,"UnitVar",m5)call O8E(IAE,"Owner",ZX)call O5E(IAE,"x",(GetUnitX(m5))*1.)call O5E(IAE,"y",(GetUnitY(m5))*1.)call TimerStart(t,.2,true,function QNR)endifset m5=nullset t=nullset JNE=nullendfunctionfunction QGR takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and IsUnitInGroup(GetFilterUnit(),ZO)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=nullendfunctionfunction QHR takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local group BIO=RUE(IAE,"AlreadyDamaged")local group P3E=FYE()local boolexpr WJO=Condition(function QGR)local unit FLE=RME(IAE,"Hero")local unit L9E=RME(IAE,"Projectile")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real t5=GetUnitX(L9E)local real w5=GetUnitY(L9E)local real l4=Atan2(Z5-w5,Y5-t5)local real J7O=HRE(GetUnitX(L9E)+30*Cos(l4))local real J8O=HIE(GetUnitY(L9E)+30*Sin(l4))local unit MIElocal integer DDE=GetUnitAbilityLevel(FLE,(1093683287))if R3E(IAE,"TrailNext")thencall O7E(IAE,"TrailNext",false)set MIE=CreateUnit(GetOwningPlayer(FLE),(1747988530),t5,w5,0)call SetUnitAbilityLevel(MIE,(1093683506),DDE)call SetUnitAbilityLevel(MIE,(1093683289),DDE)call UnitApplyTimedLife(MIE,1112820806,$C)elsecall O7E(IAE,"TrailNext",true)endifcall SetUnitX(L9E,J7O)call SetUnitY(L9E,J8O)call SetUnitFacing(L9E,l4*bj_RADTODEG)set ZO=BIOset ZX=FLEset JO=50*GetUnitAbilityLevel(FLE,(1093683287))call GroupEnumUnitsInRange(P3E,J7O,J8O,$96,WJO)call ForGroup(P3E,function QFR)call FWE(P3E)if(J7O-Y5)*(J7O-Y5)+(J8O-Z5)*(J8O-Z5)<$640 thencall PauseTimer(t)call BWE(MDE)call O1E(IAE)call KillUnit(L9E)call FWE(BIO)endifset t=nullset BIO=nullset P3E=nullcall DestroyBoolExpr(WJO)set WJO=nullset FLE=nullset L9E=nullset m5=nullset MIE=nullendfunctionfunction QJR takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local group BIO=RUE(IAE,"AlreadyDamaged")local group P3E=FYE()local boolexpr WJO=Condition(function QGR)local unit FLE=RME(IAE,"Hero")local unit L9E=RME(IAE,"Projectile")local real Y5=R2E(IAE,"TargetX")local real Z5=R2E(IAE,"TargetY")local real t5=GetUnitX(L9E)local real w5=GetUnitY(L9E)local real l4=R2E(IAE,"Angle")local real J7O=HRE(GetUnitX(L9E)+30*Cos(l4))local real J8O=HIE(GetUnitY(L9E)+30*Sin(l4))local unit MIElocal integer DDE=GetUnitAbilityLevel(FLE,(1093683287))if R3E(IAE,"TrailNext")thencall O7E(IAE,"TrailNext",false)set MIE=CreateUnit(GetOwningPlayer(FLE),(1747988530),t5,w5,0)call SetUnitAbilityLevel(MIE,(1093683506),DDE)call SetUnitAbilityLevel(MIE,(1093683289),DDE)call UnitApplyTimedLife(MIE,1112820806,$C)elsecall O7E(IAE,"TrailNext",true)endifcall SetUnitX(L9E,J7O)call SetUnitY(L9E,J8O)set ZO=BIOset ZX=FLEset JO=50*GetUnitAbilityLevel(FLE,(1093683287))call GroupEnumUnitsInRange(P3E,J7O,J8O,$96,WJO)call ForGroup(P3E,function QFR)call FWE(P3E)if(J7O-Y5)*(J7O-Y5)+(J8O-Z5)*(J8O-Z5)<$640 thencall PauseTimer(t)call O1E(IAE)call KillUnit(L9E)call FWE(BIO)endifset t=nullset BIO=nullset P3E=nullcall DestroyBoolExpr(WJO)set WJO=nullset FLE=nullset L9E=nullset MIE=nullendfunctionfunction QKR takes unit FLE,integer D5 returns booleanreturn(GetItemTypeId(UnitItemInSlot(FLE,D5))==1886613604)or(GetItemTypeId(UnitItemInSlot(FLE,D5))==1868983399)endfunctionfunction QLR takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real KBE=R2E(IAE,"Duration")local integer T8=0loopexitwhen T8>5if QKR(FLE,T8)thenif GetUnitAbilityLevel(FLE,(1110455351))==0 thencall SetItemDropOnDeath(UnitItemInSlot(FLE,T8),true)if GetItemTypeId(UnitItemInSlot(FLE,T8))==1868983399 thencall SetItemDroppable(UnitItemInSlot(FLE,T8),true)endifelsecall SetItemDropOnDeath(UnitItemInSlot(FLE,T8),false)if GetItemTypeId(UnitItemInSlot(FLE,T8))==1868983399 thencall SetItemDroppable(UnitItemInSlot(FLE,T8),false)endifendifendifset T8=T8+1endloopset KBE=KBE+.2call O5E(IAE,"Duration",(KBE)*1.)if GetUnitAbilityLevel(FLE,(1110455351))==0 thencall SetUnitPathing(FLE,true)elsecall SetUnitPathing(FLE,false)endifif KBE>30 thencall PauseTimer(t)call O1E(IAE)call SetUnitPathing(FLE,true)set T8=0loopexitwhen T8>5if QKR(FLE,T8)thencall SetItemDropOnDeath(UnitItemInSlot(FLE,T8),true)if GetItemTypeId(UnitItemInSlot(FLE,T8))==1868983399 thencall SetItemDroppable(UnitItemInSlot(FLE,T8),true)endifendifset T8=T8+1endloopendifset t=nullset FLE=nullendfunctionfunction QMR takes nothing returns booleanreturn GetSpellAbilityId()==(1093683287)endfunctionfunction QPR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real t5=HRE(GetUnitX(FLE))local real w5=HIE(GetUnitY(FLE))local unit L9E=CreateUnit(GetOwningPlayer(FLE),(1747988531),t5,w5,0)local timer t=CreateTimer()local integer IAE=GetHandleId(t)local group BIO=FYE()local location QQRlocal real l4local real Y5local real Z5call SetUnitPathing(L9E,false)call RAE(IAE,"AlreadyDamaged",BIO)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Projectile",L9E)if m5!=null thencall O4E(IAE,"TargetIndex",B_E(m5))call TimerStart(t,.035,true,function QHR)elseset QQR=GetSpellTargetLoc()set Y5=GetLocationX(QQR)set Z5=GetLocationY(QQR)set l4=Atan2(Z5-w5,Y5-t5)call SetUnitFacing(L9E,l4*bj_RADTODEG)set Y5=HRE(t5+$834*Cos(l4))set Z5=HIE(w5+$834*Sin(l4))call O5E(IAE,"TargetX",(Y5)*1.)call O5E(IAE,"TargetY",(Z5)*1.)call O5E(IAE,"Angle",l4*1.)call TimerStart(t,.035,true,function QJR)endifset t=CreateTimer()set IAE=GetHandleId(t)call SetUnitPathing(FLE,false)call O8E(IAE,"Hero",FLE)call TimerStart(t,.2,true,function QLR)set FLE=nullset m5=nullset L9E=nullset t=nullset BIO=nullcall RemoveLocation(QQR)set QQR=nullendfunctionfunction ZJE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QMR))call TriggerAddAction(t,function QPR)call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,$A,$A,"DefaultEAXON")call HCE(1093683506)call HCE(1093683289)set t=nullendfunctionfunction QSR takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetUnitAbilityLevel(GetAttacker(),1093682776)>0)!=nullendfunctionfunction QTR takes nothing returns booleanreturn(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)!=nullendfunctionfunction QUR takes nothing returns nothinglocal unit NHX=GetAttacker()local unit sE=GetTriggerUnit()local group P3E=FYE()local boolexpr hP=Condition(function QTR)local integer IAEcall GroupEnumUnitsInRange(P3E,GetUnitX(sE),GetUnitY(sE),350,hP)call GroupRemoveUnit(P3E,sE)if FirstOfGroup(P3E)==null thenset IAE=GetHandleId(NHX)if R8E(NHX,"Desolate")==false thencall UnitDamageTarget(NHX,sE,$A+$A*GetUnitAbilityLevel(NHX,1093682776),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",sE,"overhead"))call IBE(NHX,"Desolate",.3)endifendifcall FWE(P3E)call DestroyBoolExpr(hP)set NHX=nullset sE=nullset P3E=nullset hP=nullendfunctionfunction ZKE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function QSR))call TriggerAddAction(t,function QUR)set t=nullendfunctionfunction aDx takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction aDX takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)local real HUE=JOcall UnitAddAbility(oA,1093684814)call IssueTargetOrderById(oA,$D007F,m5)call UnitDamageTarget(FLE,m5,HUE,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)set FLE=nullset m5=nullset oA=nullendfunctionfunction QWR takes nothing returns nothinglocal real d=E3E(GetTriggerUnit(),GetEnumUnit())-25local real QYR=0if d<300 thenset QYR=1elseif d<$3E8 thenset QYR=($3E8-d)/700endifif QYR>0 thenset L8V[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=truecall MNE(GetTriggerUnit(),GetEnumUnit(),3,FS*QYR)set L8V[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=falsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction QZR takes nothing returns booleanlocal unit F2E=GetTriggerUnit()local real C4O=GetEventDamage()local integer MAE=GetUnitAbilityLevel(F2E,1093684801)local group gif PNE(C4O)thenset g=FYE()set FS=C4O*(.06+.04*MAE)call HWE(F2E,FS)call GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),$401,Condition(function LRE))call ForGroup(g,function QWR)call FWE(g)endifset F2E=nullset g=nullreturn falseendfunctionfunction Q_R takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function QZR))if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction Q0R takes nothing returns booleanif GetLearnedSkill()==1093684801 and GetUnitAbilityLevel(GetTriggerUnit(),1093684801)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall Q_R(GetTriggerUnit(),false)endifreturn falseendfunctionfunction ZLE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Q0R))set t=nullendfunctionfunction Q1R takes nothing returns booleanreturn GetSpellAbilityId()==1093683257endfunctionfunction Q2R takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit FLE=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(m5),GetUnitY(m5),0)call O8E(GetHandleId(oA),"HauntTarget",m5)call GKE(oA,1093684793)call SetUnitAbilityLevel(oA,1093684793,GetUnitAbilityLevel(FLE,1093683257))call IssueTargetOrderById(oA,$D0132,FLE)set m5=nullset FLE=nullset oA=nullendfunctionfunction Q3R takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))!=nullendfunctionfunction Q4R takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit XU=RME(IAE,"HauntImage")local unit m5=RME(IAE,"HauntTarget")local integer Q5R=R1E(IAE,"HauntPhase")if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER thenset Q5R=Q5R+1call O4E(IAE,"HauntPhase",Q5R)endifif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DisableTrigger(GetTriggeringTrigger())call O1E(GetHandleId(GetTriggeringTrigger()))call O4E(IAE,"HauntPhase",Q5R)if m5==GetTriggerUnit()thencall KillUnit(XU)endifelseif IsUnitPaused(XU)==false thenif Q5R==2 thencall SetUnitVertexColor(XU,$FF,$FF,$FF,$FF)endifif Q5R>1 thencall DisableTrigger(GetTriggeringTrigger())call IssueTargetOrderById(XU,$D000F,m5)call EnableTrigger(GetTriggeringTrigger())elsecall DisableTrigger(GetTriggeringTrigger())call IssueTargetOrderById(XU,$D0012,m5)call EnableTrigger(GetTriggeringTrigger())endifendifset XU=nullset m5=nullendfunctionfunction Q6R takes nothing returns booleanreturn GetUnitAbilityLevel(GetSummonedUnit(),1110455884)>0endfunctionfunction Q7R takes nothing returns nothinglocal unit oA=GetSummoningUnit()local unit XU=GetSummonedUnit()local unit m5=RME(GetHandleId(oA),"HauntTarget")local trigger t=CreateTrigger()call SaveUnitHandle(YX,GetHandleId(QV[GetPlayerId(GetOwningPlayer(oA))]),StringHash("HauntTarget")+GetHandleId(XU),m5)call SetUnitPathing(XU,false)call SetUnitMoveSpeed(XU,400)call SetUnitX(XU,GetUnitX(m5))call SetUnitY(XU,GetUnitY(m5))call IssueTargetOrderById(XU,$D0012,m5)call SetUnitVertexColor(XU,$FF,$FF,$FF,50)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function Q4R)call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(XU),GetUnitY(XU)))call O8E(GetHandleId(t),"HauntTarget",m5)call O8E(GetHandleId(t),"HauntImage",XU)call O4E(GetHandleId(t),"HauntPhase",0)if(RUE(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp")!=null)thencall GroupAddUnit(RUE(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp"),GetSummonedUnit())call SetUnitUserData(GetSummonedUnit(),GetPlayerId(GetOwningPlayer(RME(GetHandleId(oA),"HauntTarget"))))endifcall O1E(GetHandleId(oA))set t=nullset m5=nullset XU=nullset oA=nullendfunctionfunction Q8R takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local group P3E=FYE()local boolexpr hP=Condition(function Q3R)local sound HTcall GKE(GetTriggerUnit(),(1093683265))if(RUE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp")!=null)thencall GroupClear(RUE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp"))endifcall SetUnitPathing(F2E,false)call GroupEnumUnitsInRect(P3E,bj_mapInitialPlayableArea,hP)call ForGroup(P3E,function Q2R)call SetUnitPathing(F2E,true)if FirstOfGroup(P3E)!=null thenset HT=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,$A,$A,"DefaultEAXON")call StartSound(HT)call KillSoundWhenDone(HT)endifcall DestroyBoolExpr(hP)call FWE(P3E)set F2E=nullset P3E=nullset hP=nullendfunctionfunction Q9R takes nothing returns booleanreturn GetLearnedSkill()==1093683257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093683257)==1endfunctionfunction SVR takes nothing returns nothingcall GKE(GetTriggerUnit(),1093683265)endfunctionfunction ZME takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q1R))call TriggerAddAction(t,function Q8R)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function Q6R))call TriggerAddAction(t,function Q7R)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Q9R))call TriggerAddAction(t,function SVR)call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,$A,$A,"DefaultEAXON")call HCE(1093684793)set t=nullendfunctionfunction SER takes nothing returns booleanreturn GetSpellAbilityId()==1093683265endfunctionfunction SXR takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),1110455884)>0endfunctionfunction SOR takes nothing returns nothinglocal unit FLElocal real in=HYE(GetEnumUnit(),GetSpellTargetLoc())if in<JO thenset ZX=GetEnumUnit()set JO=inendifset FLE=nullendfunctionfunction SRR takes nothing returns unitlocal group P3E=FYE()local boolexpr hP=Condition(function SXR)set ZX=nullset JO=$98967Fcall GroupEnumUnitsOfPlayer(P3E,GetOwningPlayer(GetTriggerUnit()),hP)call ForGroup(P3E,function SOR)set Zz=P3Ecall DestroyBoolExpr(hP)set P3E=nullset hP=nullreturn ZXendfunctionfunction SIR takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction SAR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=SRR()local unit SNR=LoadUnitHandle(YX,GetHandleId(FLE),StringHash("HauntTarget")+GetHandleId(m5))local real hNlocal real hoif m5==null thencall HEE(GetOwningPlayer(FLE),"Cannot find any of your Haunting illusions")elseset hN=GetUnitX(m5)set ho=GetUnitY(m5)call ForGroup(Zz,function SIR)call FWE(Zz)set Zz=nullcall SetUnitX(FLE,hN)call SetUnitY(FLE,ho)if E4E(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(m5),GetUnitY(m5))>$578 thencall PanCameraToTimedForPlayer(GetOwningPlayer(FLE),hN,ho,0)endifcall IssueTargetOrderById(FLE,$D000F,SNR)endifset FLE=nullset m5=nullset SNR=nullendfunctionfunction Reality_CheckValid takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=SRR()if m5==null thencall XIE(FLE)call HEE(GetOwningPlayer(FLE),"Cannot find any of your Haunting illusions")endifset FLE=nullset m5=nullendfunctionfunction ZPE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SER))call TriggerAddAction(t,function SAR)set t=nullendfunctionfunction SBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=GetUnitAbilityLevel(p5,1093682515)local integer ASOlocal integer SCRif DDE>0 and GME(p5)==false thenset ASO=R2I(GetUnitMoveSpeed(p5)*.04*DDE)set SCR=R1E(IAE,"LastBonus")if ASO!=SCR thencall O4E(IAE,"LastBonus",ASO)call MHE(p5,ASO)endifendifset t=nullset p5=nullreturn falseendfunctionfunction SDR takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function SBR))call O8E(IAE,"Source",FLE)call O4E(IAE,"LastBonus",0)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction SFR takes nothing returns booleanif GetLearnedSkill()==1093682515 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093682515)==1 thencall SDR(GetTriggerUnit(),false)endifreturn falseendfunctionfunction YSE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function SFR))set t=nullendfunctionfunction SGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real SZO=(LoadReal(YX,(GetHandleId(J6E)),(685)))call FlushChildHashtable(YX,(H2E))call IRE(t)if SZO<(TimerGetElapsed(K))or GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SaveReal(YX,(GetHandleId(J6E)),(685),((0)*1.))call UnitRemoveAbility(J6E,1093809224)call UnitRemoveAbility(J6E,1110459715)endifset t=nullset J6E=nullreturn falseendfunctionfunction SHR takes unit J6E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call GKE(J6E,1093809224)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809224,false)call SaveReal(YX,(GetHandleId(J6E)),(685),(((TimerGetElapsed(K))+QWV-.01)*1.))call TriggerRegisterTimerEvent(t,QWV,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function SGR))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullendfunctionfunction SJR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real BEO=(LoadReal(YX,(H2E),($D)))local real x=GetUnitX(F3E)local real y=GetUnitY(F3E)local integer DZX=GetTriggerEvalCount(t)local real RVR=(LoadReal(YX,(H2E),($C1)))local integer DGR=(LoadInteger(YX,(H2E),($C)))if DZX>35 thencall SaveReal(YX,(H2E),($C1),((RVR*.98)*1.))endifif GetTriggerEventId()==EVENT_UNIT_DEATH or DZX>DGR thencall FlushChildHashtable(YX,(H2E))call IRE(t)elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))call JRE(x,y,$96)set x=HRE(x+RVR*Cos(BEO))set y=HIE(y+RVR*Sin(BEO))if(IsPointInRegion(ARV,((x)*1.),((y)*1.)))==false thencall SetUnitX(F3E,x)call SetUnitY(F3E,y)endifif DZX==1 and(LoadBoolean(YX,(H2E),(698)))==false thencall IssueTargetOrderById(J6E,$D000F,F3E)endifendifset t=nullset F3E=nullset J6E=nullreturn falseendfunctionfunction SKR takes unit J6E,unit F3E,boolean SLR,boolean SMR returns nothinglocal trigger tlocal integer H2Elocal real BEO=Atan2(GetUnitY(F3E)-GetUnitY(J6E),GetUnitX(F3E)-GetUnitX(J6E))local integer MAE=GetUnitAbilityLevel(J6E,1093682997)local unit MIEif SLR thenendifif MAE>0 thenset MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093752657)call SetUnitAbilityLevel(MIE,1093752657,MAE)if IssueTargetOrderById(MIE,$D007F,F3E)thenset t=CreateTrigger()set H2E=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",J6E,"weapon"))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),($D),((BEO)*1.))call SaveReal(YX,(H2E),($C1),((2)*1.))call SaveBoolean(YX,(H2E),(698),(SMR))call SaveInteger(YX,(H2E),($C),(75+20*MAE))call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function SJR))call MNE(J6E,F3E,1,25*MAE)call SHR(J6E)endifif SMR==false thencall IBE(J6E,"pIv",1.5)endifendifset t=nullset J6E=nullset F3E=nullset MIE=nullendfunctionfunction SPR takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093682997)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and R8E(GetAttacker(),"pIv")==false thencall SKR(GetAttacker(),GetTriggerUnit(),false,false)endifreturn falseendfunctionfunction YTE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function SPR))set t=nullendfunctionfunction SQR takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),Q1V)==false thencall GroupAddUnit(Q1V,GetEnumUnit())call SKR(QZV,GetEnumUnit(),false,true)endifendfunctionfunction SSR takes integer id returns booleanreturn(id==1093750840 or id==1093682515 or id==1093682996 or id==1093747768 or id==1093682997 or id==1096904043)or(id==$D0022 or id==$D0023 or id==$D0024 or id==$D0025 or id==$D0026 or id==$D0027)or(id>$F4240)endfunctionfunction SUR takes nothing returns booleanif(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(QZV)) thenif E3E(Q_V,GetFilterUnit())<Q0V thenset Q0V=E3E(Q_V,GetFilterUnit())set QYV=GetFilterUnit()endifendifreturn falseendfunctionfunction SWR takes unit J6E,unit F3E returns unitlocal group g=FYE()set I9V=J6Eset QZV=J6Eset QYV=nullset Q0V=$F423Fset Q_V=F3Ecall GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),$FA0,Condition(function SUR))call FWE(g)set g=nullreturn QYVendfunctionfunction SYR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real SZR=(350+75*MAE)*.02local real N0O=(LoadReal(YX,(H2E),(23)))local real N1O=(LoadReal(YX,(H2E),(24)))local real xlocal real ylocal real alocal real dlocal string fxlocal group gif(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==J6E)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or G4X(J6E)or(LoadReal(YX,(H2E),(442)))<(TimerGetElapsed(K))thenif(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and SSR(GetIssuedOrderId())==false)thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call UnitRemoveAbility(F3E,1093809228)call UnitRemoveAbility(F3E,1110459716)call FWE((LoadGroupHandle(YX,(H2E),($BB))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitTimeScale(J6E,1)call KillUnit(MIE)call SetUnitPathing(J6E,true)call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call UnitRemoveAbility(J6E,1093744441)call JRE(GetUnitX(J6E),GetUnitY(J6E),$C8)if GetTriggerEventId()!=EVENT_WIDGET_DEATH thencall ResetUnitAnimation(J6E)endifendifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==F3E thenset fx=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E))or FJE(GetLocalPlayer())thenset fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"endifcall UnitRemoveAbility(F3E,1093809228)call UnitRemoveAbility(F3E,1110459716)set F3E=SWR(J6E,F3E)if F3E!=null thencall SaveUnitHandle(YX,(H2E),(17),(F3E))call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget(fx,F3E,"overhead")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget(fx,F3E,"overhead")))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K))+50)*1.))call TriggerRegisterDeathEvent(t,F3E)elsecall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call UnitRemoveAbility(F3E,1093809228)call UnitRemoveAbility(F3E,1110459716)call FWE((LoadGroupHandle(YX,(H2E),($BB))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitTimeScale(J6E,1)call KillUnit(MIE)call SetUnitPathing(J6E,true)call ResetUnitAnimation(J6E)call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call UnitRemoveAbility(J6E,1093744441)call SetUnitPosition(J6E,GetUnitX(J6E),GetUnitY(J6E))call JRE(GetUnitX(J6E),GetUnitY(J6E),500)endifelseset d=E4E(GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))if d<100 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call UnitRemoveAbility(F3E,1093809228)call UnitRemoveAbility(F3E,1110459716)call FWE((LoadGroupHandle(YX,(H2E),($BB))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitTimeScale(J6E,1)call KillUnit(MIE)set MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093683027)call SetUnitAbilityLevel(MIE,1093683027,MAE)call IssueTargetOrderById(MIE,$D007F,F3E)call SetUnitPathing(J6E,true)call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call UnitRemoveAbility(J6E,1093744441)call SetUnitPosition(J6E,GetUnitX(J6E),GetUnitY(J6E))call JRE(GetUnitX(J6E),GetUnitY(J6E),$C8)set Q2V=MAEcall IssueTargetOrderById(J6E,$D000F,F3E)if B6E(GetOwningPlayer(J6E))thenset hq[832+GetPlayerId(GetOwningPlayer(J6E))]=0endifelseif GetTriggerEvalCount(t)==1 thencall DisableTrigger(t)call IssueImmediateOrderById(J6E,$D0019)call EnableTrigger(t)endifif ModuloInteger(GetTriggerEvalCount(t),65)==0 thenif GetUnitTypeId(J6E)==1160786520 thencall SetUnitAnimationByIndex(J6E,1)elsecall SetUnitAnimationByIndex(J6E,2)endifendifset a=H3E(J6E,F3E)*bj_DEGTORADcall SetUnitFacing(J6E,a*bj_RADTODEG)set x=N0O+SZR*Cos(a)set y=N1O+SZR*Sin(a)call SetUnitX(J6E,x)call SetUnitY(J6E,y)call SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))call SaveReal(YX,(H2E),(23),((x)*1.))call SaveReal(YX,(H2E),(24),((y)*1.))set Q1V=(LoadGroupHandle(YX,(H2E),($BB)))set g=FYE()set I9V=J6Eset QZV=J6Ecall GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))call GroupRemoveUnit(g,F3E)set Q2V=MAEcall ForGroup(g,function SQR)call FWE(g)set g=nullif d<$BB8 and GetUnitAbilityLevel(F3E,1093809228)==0 thencall GKE(F3E,1093809228)endifif B6E(GetOwningPlayer(J6E))thenset hq[832+GetPlayerId(GetOwningPlayer(J6E))]=Bz+1endifendifendifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction S_R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1865429073,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093750840)local string fx=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E))or FJE(GetLocalPlayer())thenset fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"call PingMinimapEx(GetUnitX(F3E),GetUnitY(F3E),2,$FF,$FF,$FF,false)endifcall IssueTargetOrderById(J6E,$D0012,F3E)call SetUnitPathing(J6E,false)if GetUnitTypeId(J6E)==1160786520 thencall SetUnitAnimationByIndex(J6E,1)elsecall SetUnitAnimationByIndex(J6E,2)endifcall SetUnitTimeScale(J6E,2.5)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093744441,false)call SetUnitVertexColor(J6E,$FF,$FF,$FF,100)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveInteger(YX,(H2E),(5),(MAE))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K))+50)*1.))call SaveReal(YX,(H2E),(23),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(J6E))*1.))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget(fx,F3E,"overhead")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget(fx,F3E,"overhead")))call SaveEffectHandle(YX,(H2E),($B1),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",J6E,"origin")))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function SYR))set t=nullset J6E=nullset F3E=nullset MIE=nullendfunctionfunction S0R takes nothing returns booleanif GetSpellAbilityId()==1093750840 and FUE(GetSpellTargetUnit())==false thencall S_R()endifreturn falseendfunctionfunction YQE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S0R))set t=nullcall HCE(1093687350)endfunctionfunction S1R takes unit J6E,unit F3E returns nothinglocal trigger tlocal integer H2Elocal real l4=Atan2(GetUnitY(F3E)-GetUnitY(J6E),GetUnitX(F3E)-GetUnitX(J6E))local integer MAE=4call SKR(J6E,F3E,true,true)set t=nullendfunctionfunction S3R takes nothing returns nothingcall S1R(MDV,GetEnumUnit())endfunctionfunction S4R takes unit J6E,unit F3E returns nothinglocal group g=FYE()set I9V=J6Eset MDV=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),275,Condition(function K3E))call ForGroup(g,function S3R)call FWE(g)set g=nullendfunctionfunction S5R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=GetTriggerEvalCount(t)local integer S6Rlocal integer MAElocal real BEOlocal real N0O=(LoadReal(YX,(H2E),(23)))local real N1O=(LoadReal(YX,(H2E),(24)))local real x=GetUnitX(F3E)local real y=GetUnitY(F3E)local real d=E4E(x,y,N0O,N1O)call SaveReal(YX,(H2E),(23),((x)*1.))call SaveReal(YX,(H2E),(24),((y)*1.))if GetTriggerEventId()==EVENT_UNIT_DEATH or DZX==$C8 or d>$708 thencall SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call UnitShareVision(F3E,GetOwningPlayer(J6E),false)call UnitRemoveAbility(J6E,1093744441)call FlushChildHashtable(YX,(H2E))call IRE(t)elseif DZX<100 thenset S6R=DZXelseset S6R=$C8-DZXendifcall SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF*(100-S6R)/100)if DZX==100 thenset MAE=(LoadInteger(YX,(H2E),(5)))set BEO=Atan2(GetUnitY(F3E)-GetUnitY(J6E),GetUnitX(F3E)-GetUnitX(J6E))call SetUnitPosition(J6E,GetUnitX(F3E)+80*Cos(BEO),GetUnitY(F3E)+80*Sin(BEO))call SetUnitAnimation(J6E,"attack")call IssueTargetOrderById(J6E,$D000F,F3E)if GetUnitAbilityLevel(J6E,1093682996)>0 thencall S1R(J6E,F3E)elsecall S4R(J6E,F3E)endifcall MNE(J6E,F3E,1,50+100*MAE)endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction S7R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093682996)if MAE==0 thenset MAE=GetUnitAbilityLevel(J6E,1093747768)endifcall UnitShareVision(F3E,GetOwningPlayer(J6E),true)call IssueImmediateOrder(J6E,"halt")call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveReal(YX,(H2E),(23),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(F3E))*1.))call TriggerRegisterTimerEvent(t,.01,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function S5R))call GKE(J6E,1093744441)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093744441,false)set t=nullset J6E=nullset F3E=nullendfunctionfunction S8R takes nothing returns booleanif(GetSpellAbilityId()==1093682996 or GetSpellAbilityId()==1093747768)and FUE(GetSpellTargetUnit())==false thencall S7R()endifreturn falseendfunctionfunction YUE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S8R))set t=nullendfunctionfunction S9R takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093809973)if MAE==1 thencall GKE(J6E,1093809974)elseif MAE==2 thencall UnitRemoveAbility(J6E,1093809974)call GKE(J6E,1093809977)elseif MAE==3 thencall UnitRemoveAbility(J6E,1093809974)call UnitRemoveAbility(J6E,1093809977)call GKE(J6E,1093809975)elseif MAE==4 thencall UnitRemoveAbility(J6E,1093809974)call UnitRemoveAbility(J6E,1093809977)call UnitRemoveAbility(J6E,1093809975)call GKE(J6E,1093809976)endifset J6E=nullendfunctionfunction TVR takes nothing returns booleanif GetLearnedSkill()==1093809973 and IsUnitIllusion(GetTriggerUnit())==false thencall S9R()endifreturn falseendfunctionfunction YZE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function TVR))set t=nullendfunctionfunction TER takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real TXR=R2E(IAE,"SourceLifePercent")local real TOR=R2E(IAE,"TargetLifePercent")local integer DDE=GetUnitAbilityLevel(p5,1093678929)local real TRR=.33if DDE==2 thenset TRR=.28elseif DDE==3 thenset TRR=.23endifif GetSpellTargetUnit()==p5 thencall SetUnitState(p5,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(p5,UNIT_STATE_MAX_LIFE)*TOR*.01,GetUnitState(p5,UNIT_STATE_MAX_LIFE)*TRR))endifif GetSpellTargetUnit()==m5 thencall SetUnitLifePercentBJ(m5,TXR)if GetUnitLifePercent(m5)<33. and DDE==1 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,33.)endifif GetUnitLifePercent(m5)<28. and DDE==2 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,28.)endifif GetUnitLifePercent(m5)<23. and DDE==3 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,23.)endifendifif GetTriggerEvalCount(t)==2 thencall O1E(IAE)call IRE(t)endifset p5=nullset m5=nullset t=nullendfunctionfunction TIR takes nothing returns booleanif GetSpellAbilityId()==1093678930 thencall TER()endifreturn falseendfunctionfunction TAR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit MIEcall O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O5E(IAE,"SourceLifePercent",(GetUnitLifePercent(p5))*1.)call O5E(IAE,"TargetLifePercent",(GetUnitLifePercent(m5))*1.)call TriggerAddCondition(t,Condition(function TIR))set MIE=CreateUnit(GetOwningPlayer(m5),1697656921,GetUnitX(m5),GetUnitY(m5),0)call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_SPELL_EFFECT)call GKE(MIE,1093678930)call IssueTargetOrderById(MIE,$D007F,p5)call ShowUnit(MIE,false)call SetUnitPathing(MIE,false)call SetUnitInvulnerable(MIE,true)call UnitApplyTimedLife(MIE,1112820806,.2)set MIE=CreateUnit(GetOwningPlayer(p5),1697656921,GetUnitX(p5),GetUnitY(p5),0)call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_SPELL_EFFECT)call GKE(MIE,1093678930)call IssueTargetOrderById(MIE,$D007F,m5)call ShowUnit(MIE,false)call SetUnitPathing(MIE,false)call SetUnitInvulnerable(MIE,true)call UnitApplyTimedLife(MIE,1112820806,.2)set t=nullset p5=nullset m5=nullset MIE=nullendfunctionfunction TNR takes nothing returns booleanif GetSpellAbilityId()==1093678929 thencall TAR()endifreturn falseendfunctionfunction YWE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TNR))set t=nullendfunctionfunction TBR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit DAX=(LoadUnitHandle(YX,(H2E),(335)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerUnit()!=DAX thencall KillUnit(DAX)endifelsecall IssueTargetOrderById(DAX,$D000F,F3E)endifset t=nullset DAX=nullset F3E=nullreturn falseendfunctionfunction TCR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit DAXif GetSummoningUnit()==MIE thencall FlushChildHashtable(YX,(H2E))call IRE(t)set DAX=GetSummonedUnit()set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterDeathEvent(t,DAX)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function TBR))call SaveUnitHandle(YX,(H2E),(335),(DAX))call SaveUnitHandle(YX,(H2E),(17),(F3E))call UnitAddAbility(DAX,1097625443)call SetUnitPosition(DAX,GetUnitX(F3E)+100,GetUnitY(F3E)+100)call IssueTargetOrderById(DAX,$D000F,F3E)call SetUnitMoveSpeed(DAX,522)call SetUnitVertexColorBJ(DAX,100,100,100,60)endifset t=nullset F3E=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction TDR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093809985)local integer idlocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)local trigger tlocal integer H2Eif MAE==1 thenset id=1093809752elseif MAE==2 thenset id=1093809750elseif MAE==3 thenset id=1093809753elseif MAE==4 thenset id=1093809751endifcall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)if G9X(F3E)==false thencall KNE(F3E,id,1,4,1110459722)endifset t=CreateTrigger()set H2E=GetHandleId(t)call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function TCR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call GKE(MIE,1093809227)call SetUnitAbilityLevel(MIE,1093809227,MAE)call IssueTargetOrderById(MIE,$D0132,F3E)set J6E=nullset F3E=nullset MIE=nullset t=nullendfunctionfunction TFR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call JBE(GetOwningPlayer(J6E),2.5,x,y,400)call GroupEnumUnitsInRange(g,x,y,375,Condition(function LRE))call ForGroup(g,function TDR)call FWE(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackChakraExplosion.mdx",x,y))call JAE(Q4V,x,y)set g=nullset J6E=nullendfunctionfunction TGR takes nothing returns booleanif GetSpellAbilityId()==1093809985 thencall TFR()endifreturn falseendfunctionfunction YYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TGR))set t=nullendfunctionfunction THR takes nothing returns nothinglocal unit J6E=GetSummoningUnit()local unit DAX=GetSummonedUnit()call SelectUnitAddForPlayer(DAX,GetOwningPlayer(J6E))set J6E=nullset DAX=nullendfunctionfunction TJR takes nothing returns booleanif GetUnitAbilityLevel(GetSummonedUnit(),1110459721)>0 thencall THR()endifreturn falseendfunctionfunction TKR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIElocal integer MAE=GetUnitAbilityLevel(J6E,1093751369)if MAE>1 thenset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call GKE(MIE,1093679185)call SetUnitAbilityLevel(MIE,1093679185,MAE)call IssueTargetOrderById(MIE,$D0132,J6E)if MAE==4 thencall IssueTargetOrderById(MIE,$D0132,J6E)endifendifcall FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction TLR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.2,false)call TriggerAddCondition(t,Condition(function TKR))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))set t=nullendfunctionfunction TMR takes nothing returns booleanif GetSpellAbilityId()==1093751369 and GetUnitTypeId(GetTriggerUnit())==1164277353 thencall TLR()endifreturn falseendfunctionfunction Y1E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TMR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function TJR))set t=nullendfunctionfunction TPR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local integer MAE=(LoadInteger(YX,(H2E),(5)))if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+MAE))or FHE(F3E)or E3E(J6E,F3E)>700 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call KillUnit(MIE)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetTriggerEvalCount(t)>1 and GetSpellAbilityId()==1093751361 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093751361)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750856,true)call KillUnit(MIE)endifelseif IsUnitVisible(F3E,GetOwningPlayer(J6E))==false thenif(LoadInteger(YX,(H2E),(34)))==1 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call KillUnit(MIE)elsecall SaveInteger(YX,(H2E),(34),(1))endifelsecall SaveInteger(YX,(H2E),(34),(0))if IsUnitAlly(J6E,GetOwningPlayer(F3E))==false thencall SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)+MAE*25./4.)elsecall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+MAE*50./4.)endifendifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction TQR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(J6E,1093751361)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750856,true)call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEvalCount(t)==1 thencall IssueImmediateOrderById(J6E,$D0019)endifif IsUnitAlly(J6E,GetOwningPlayer(F3E))==false thencall SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))elsecall SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))endifendifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction TSR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093750856)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIEif IsUnitAlly(J6E,GetOwningPlayer(F3E))==false thenset MIE=CreateUnit(GetOwningPlayer(J6E),1966092615,0,0,0)call GKE(MIE,1093678156)call SetUnitAbilityLevel(MIE,1093678156,MAE)call SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))call IssueTargetOrderById(MIE,$D0207,F3E)elsecall GKE(J6E,1093751361)call UnitMakeAbilityPermanent(J6E,true,1093751361)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093750856,false)set MIE=CreateUnit(SX,1966092615,0,0,0)call GKE(MIE,1093678156)call SetUnitAbilityLevel(MIE,1093678156,MAE)call SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))call IssueTargetOrderById(MIE,$D0207,J6E)endifcall TriggerRegisterTimerEvent(t,.25,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TPR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),(34),(0))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,true)call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TQR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))set J6E=nullset F3E=nullset t=nullendfunctionfunction TTR takes nothing returns booleanif GetSpellAbilityId()==1093750856 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or FUE(GetSpellTargetUnit())==false)thencall TSR()endifreturn falseendfunctionfunction Y0E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TTR))endfunctionfunction TUR takes nothing returns booleanreturn GetSpellAbilityId()==1093683252endfunctionfunction TWR takes nothing returns nothinglocal unit AJO=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(AJO,1093683252)local unit MIE=CreateUnit(GetOwningPlayer(AJO),1697656901,GetUnitX(AJO),GetUnitY(AJO),0)call UnitAddAbility(MIE,1093814862)call SetUnitAbilityLevel(MIE,1093814862,MAE)call IssueTargetOrderById(MIE,$D0132,AJO)endfunctionfunction Y_E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TUR))call TriggerAddAction(t,function TWR)endfunctionfunction TYR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=GetEventDamageSource()local real d=GetEventDamage()local real I5X=R2E(IAE,"KrakenShell|Damage")local real TZR=R2E(IAE,"KrakenShell|LastTime")if B4E(GetOwningPlayer(m5))thenif(TZR+M2)<(XRE())thenset I5X=0endifset TZR=(XRE())set I5X=I5X+dif I5X>p2 and GetUnitAbilityLevel(p5,1112433775)==0 thenset I5X=0call HAX(p5)call HOX(p5,0,0)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",p5,"origin"))endifcall O5E(IAE,"KrakenShell|Damage",I5X)call O5E(IAE,"KrakenShell|LastTime",TZR)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction T_R takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function TYR))call O8E(IAE,"Source",p5)call O5E(IAE,"KrakenShell|Damage",0)call O5E(IAE,"KrakenShell|LastTime",XRE())if CEO thenset aj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullendfunctionfunction T0R takes nothing returns booleanif GetLearnedSkill()==1093678149 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093678149)==1 thencall T_R(GetTriggerUnit(),false)endifreturn falseendfunctionfunction Y2E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function T0R))set t=nullendfunctionfunction T1R takes nothing returns booleanreturn GetSpellAbilityId()==1093678134 and FUE(GetSpellTargetUnit())==falseendfunctionfunction T2R takes nothing returns nothinglocal unit t=GetSpellTargetUnit()local real T3R=(60.+(50.*I2R(GetUnitAbilityLevelSwapped(1093678134,GetTriggerUnit()))))call UnitDamageTargetBJ(GetTriggerUnit(),t,T3R,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))set t=nullendfunctionfunction Y3E takes nothing returns nothingset DQ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DQ,Condition(function T1R))call TriggerAddAction(DQ,function T2R)endfunctionfunction T4R takes nothing returns booleanreturn GetSpellAbilityId()==1093685074endfunctionfunction T5R takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)!=nullendfunctionfunction T6R takes nothing returns nothingcall MNE(ZX,GetEnumUnit(),2,JO)endfunctionfunction T7R takes unit J6E,unit F3E,real C4O returns nothinglocal group C7O=FYE()local boolexpr XQR=Condition(function T5R)set ZX=J6Eset JO=C4Ocall GroupEnumUnitsInRange(C7O,GetUnitX(F3E),GetUnitY(F3E),$C3,XQR)call ForGroup(C7O,function T6R)call DestroyBoolExpr(XQR)call FWE(C7O)set C7O=nullset XQR=nullendfunctionfunction T8R takes nothing returns booleanreturn(IsUnitInGroup(GetFilterUnit(),ZO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false and GetFilterUnit()!=YOV)!=nullendfunctionfunction T9R takes group UVR,unit UER,unit J6E,unit pzv returns unitlocal group C7O=FYE()local boolexpr XQR=Condition(function T8R)local unit UXR=nulllocal unit UORset ZO=UVRset ZX=J6Ecall GroupEnumUnitsInRange(C7O,GetUnitX(UER),GetUnitY(UER),500,XQR)set UOR=FirstOfGroup(C7O)set UXR=UORloopexitwhen UOR==nullif GetUnitState(UOR,UNIT_STATE_LIFE)!=GetUnitState(UOR,UNIT_STATE_MAX_LIFE)thenif UOR!=J6E and IsUnitType(UOR,UNIT_TYPE_HERO) and IsUnitType(UXR,UNIT_TYPE_HERO)==false thenset UXR=UORelseif UOR!=J6E and GetUnitState(UOR,UNIT_STATE_LIFE)<GetUnitState(UXR,UNIT_STATE_LIFE)and IsUnitType(UOR,UNIT_TYPE_HERO) and IsUnitType(UXR,UNIT_TYPE_HERO) thenset UXR=UORelseif UOR!=J6E and IsUnitType(UXR,UNIT_TYPE_HERO)==false and GetUnitState(UOR,UNIT_STATE_LIFE)<GetUnitState(UXR,UNIT_STATE_LIFE)thenset UXR=UORelseif UOR==J6E thenset UXR=UORendifendifcall GroupRemoveUnit(C7O,UOR)set UOR=FirstOfGroup(C7O)endloopcall FWE(C7O)call DestroyBoolExpr(XQR)set C7O=nullset XQR=nullset UOR=nullset YAV=UXRreturn YAVendfunctionfunction URR takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local string UIR="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"local string UAR="origin"local unit array UNRlocal integer xlocal integer i=1local integer MAE=GetUnitAbilityLevel(F2E,1093685074)local real C4O=60+MAE*20local group UVR=FYE()local integer UBRlocal boolean UCR=falseset YOV=F2Eif MAE==3 thenset UBR=4elseif MAE==4 thenset UBR=5elseset UBR=3endifcall SetUnitState(F2E,UNIT_STATE_LIFE,GetUnitState(F2E,UNIT_STATE_LIFE)+C4O)call T7R(F2E,F2E,C4O)call GroupAddUnit(UVR,F2E)call H0E(UIR,F2E,UAR,2)if F3E==F2E thenset UNR[i]=T9R(UVR,F2E,F2E,F3E)elseset UNR[i]=F3Eendifif UNR[i]==null thencall FWE(UVR)returnendifcall SetUnitState(UNR[i],UNIT_STATE_LIFE,GetUnitState(UNR[i],UNIT_STATE_LIFE)+C4O)call T7R(F2E,UNR[i],C4O)call GroupAddUnit(UVR,UNR[i])call H0E(UIR,UNR[i],UAR,2)call H6E("SPLK",GetUnitX(F2E),GetUnitY(F2E),GetUnitX(UNR[i]),GetUnitY(UNR[i]),.3,.5,.9,1.,.7)set i=2loopexitwhen i>UBR or UCRset UNR[i]=T9R(UVR,UNR[i-1],F2E,F3E)if UNR[i]==null thenset UCR=trueelsecall GroupAddUnit(UVR,UNR[i])call H0E(UIR,UNR[i],UAR,2)call SetUnitState(UNR[i],UNIT_STATE_LIFE,GetUnitState(UNR[i],UNIT_STATE_LIFE)+C4O)call T7R(F2E,UNR[i],C4O)call H6E("SPLK",GetUnitX(UNR[i-1]),GetUnitY(UNR[i-1]),GetUnitX(UNR[i]),GetUnitY(UNR[i]),.3,.5,.9,1.,.7)set i=i+1endifendlooploopset i=i-1set UNR[i]=nullexitwhen i<2endloopcall FWE(UVR)set F2E=nullset F3E=nullset UVR=nullendfunctionfunction VAX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T4R))call TriggerAddAction(t,function URR)set t=nullendfunctionfunction UDR takes nothing returns booleanreturn GetSpellAbilityId()==(1093684817)and FUE(GetSpellTargetUnit())==falseendfunctionfunction UFR takes unit p5,unit m5,integer DDE returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093684810)call SetUnitAbilityLevel(oA,1093684810,DDE)call IssueTargetOrderById(oA,$D006B,m5)set oA=nullendfunctionfunction UGR takes unit p5,unit m5 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093684811)call IssueTargetOrderById(oA,$D007F,m5)set oA=nullendfunctionfunction UHR takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local unit F3E=RME(H2E,"Target")local integer MAE=GetUnitAbilityLevel(J6E,1093684817)local integer UJR=GetTriggerExecCount(t)local real C4O=8*MAElocal unit MIE=RME(H2E,"Caster")if MAE==1 thencall GKE(F3E,1093685079)call MNE(MIE,F3E,2,C4O)if UJR==8 thencall UnitRemoveAbility(F3E,1093685079)call O1E(H2E)call IRE(t)endifendifif MAE==2 thenif UJR==1 thencall UFR(J6E,F3E,2)endifif UJR>1 thencall GKE(F3E,1093685079)call MNE(MIE,F3E,2,C4O)endifif UJR==9 thencall UnitRemoveAbility(F3E,1093685079)call O1E(H2E)call IRE(t)endifendifif MAE==3 thenif UJR==1 thencall UFR(J6E,F3E,2)endifif UJR==2 thencall UGR(J6E,F3E)endifif UJR>2 thencall GKE(F3E,1093685079)call MNE(MIE,F3E,2,C4O)endifif UJR==$A thencall UnitRemoveAbility(F3E,1093685079)call O1E(H2E)call IRE(t)endifendifif MAE==4 thenif UJR==1 thencall UFR(J6E,F3E,2)endifif UJR==2 thencall UGR(J6E,F3E)endifif UJR>2 thencall GKE(F3E,1093685079)call MNE(MIE,F3E,2,C4O)endifif UJR==$A thencall UnitRemoveAbility(F3E,1093685079)call O1E(H2E)call IRE(t)endifendifset t=nullset MIE=nullset J6E=nullset F3E=nullendfunctionfunction UKR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(GetTriggerUnit()),1697656901,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddAction(t,function UHR)call O8E(IAE,"Source",GetTriggerUnit())call O8E(IAE,"Target",GetSpellTargetUnit())call O8E(IAE,"Caster",(MIE))call UFR(GetTriggerUnit(),GetSpellTargetUnit(),1)set t=nullset MIE=nullendfunctionfunction VNX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UDR))call TriggerAddAction(t,function UKR)call HCE(1093684810)call HCE(1093684811)set t=nullendfunctionfunction ULR takes string H9E,unit F3E,unit F2E returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,H9E,.033)call SetTextTagPosUnit(tt,F3E,64)call SetTextTagColor(tt,$A0,0,$FF,$FF)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,.65)if IsUnitAlly(F2E,GetLocalPlayer())or FJE(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction UMR takes real OXR returns stringif OXR>4.5 thenreturn"5.0"elseif OXR>4. thenreturn"4.5"elseif OXR>3.5 thenreturn"4.0"elseif OXR>3. thenreturn"3.5"elseif OXR>2.5 thenreturn"3.0"elseif OXR>2. thenreturn"2.5"elseif OXR>1.5 thenreturn"2.0"elseif OXR>1. thenreturn"1.5"elseif OXR>.5 thenreturn"1.0"elseif OXR>.0 thenreturn"0.5"elsereturn"0.0"endifreturn" "endfunctionfunction UPR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=RME(H2E,"Target")local integer DZX=GetTriggerEvalCount(t)if DZX>$B thencall FlushChildHashtable(YX,(H2E))call IRE(t)elsecall ULR(UMR(5.5-.5*DZX),F3E,F3E)endifset t=nullset F3E=nullreturn falseendfunctionfunction UQR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real SVO=R2E(IAE,"Damage")local real USR=HTE(GetUnitState(m5,UNIT_STATE_LIFE)-SVO,1)local real UTR=R2E(GetHandleId(m5),"ShallowGrave|FakeLife")call SetUnitState(m5,UNIT_STATE_LIFE,USR)call O5E(GetHandleId(m5),"ShallowGrave|FakeLife",UTR-SVO)call O1E(IAE)call IRE(t)set t=nullset m5=nullreturn falseendfunctionfunction UUR takes unit m5,real SVO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real UTR=R2E(GetHandleId(m5),"ShallowGrave|FakeLife")call O8E(IAE,"Target",m5)call O5E(IAE,"Damage",SVO)call O5E(GetHandleId(m5),"ShallowGrave|FakeLife",UTR+SVO)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function UQR))set t=nullendfunctionfunction UWR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5local real Wxlocal real SVOlocal integer iX=GetTriggerEvalCount(t)local real UTRlocal real UYR=R2E(IAE,"LastFrame")local real UZR=R2E(IAE,"FrameDamage")if UYR!=XRE()thenset UYR=XRE()set UZR=0call O5E(IAE,"LastFrame",UYR)call O5E(IAE,"FrameDamage",UZR)endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset m5=GetTriggerUnit()set UTR=R2E(GetHandleId(m5),"ShallowGrave|FakeLife")set Wx=GetUnitState(m5,UNIT_STATE_LIFE)set SVO=GetEventDamage()if((Wx-UTR-UZR)-SVO)<1 thencall SetUnitState(m5,UNIT_STATE_LIFE,Wx+SVO+UZR)call UUR(m5,SVO)elseset UZR=UZR+SVOcall O5E(IAE,"FrameDamage",UZR)endifelsecall IXE(RME(IAE,"Target"),"ShallowGrave|Active")call DestroyEffect(RWE(IAE,"FX"))call UnitRemoveAbility((RME(IAE,"Target")),1093808457)call UnitRemoveAbility((RME(IAE,"Target")),1110456132)call O1E(IAE)call IRE(t)endifset m5=nullset t=nullreturn falseendfunctionfunction U_R takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit p5=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call GKE(F3E,1093808457)call TriggerRegisterTimerEvent(t,5,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function UWR))call O9E(H2E,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",F3E,"overhead"))call O5E(GetHandleId(F3E),"ShallowGrave|FakeLife",0)call O5E(H2E,"LastFrame",XRE())call O5E(H2E,"FrameDamage",0)call O8E(H2E,"Target",F3E)call IVE(F3E,"ShallowGrave|Active")set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function UPR))call O8E(H2E,"Target",F3E)set t=nullset p5=nullset F3E=nullendfunctionfunction U0R takes nothing returns booleanif GetSpellAbilityId()==1093742668 thencall U_R()endifreturn falseendfunctionfunction VBX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U0R))set t=nullendfunctionfunction U1R takes nothing returns nothinglocal unit m5=GetEnumUnit()if GME(m5)==false thencall UnitRemoveAbility(m5,1093684821)call UnitRemoveAbility(m5,1093684823)elseif IsUnitType(m5,UNIT_TYPE_HERO) thencall JPE(m5,1093684821,5.1)call JPE(m5,1093684823,5.1)endifset m5=nullendfunctionfunction U2R takes nothing returns nothinglocal unit m5=GetEnumUnit()if GME(m5)==false thenif IsUnitAlly(m5,AXV)==false thenif I5V==0 thencall GKE(m5,1093684821)elsecall SetUnitAbilityLevel(m5,1093684821,I5V+1)endifelseif I5V==0 thencall GKE(m5,1093684823)elsecall SetUnitAbilityLevel(m5,1093684823,I5V+1)endifendifendifset m5=nullendfunctionfunction U3R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local group g=RUE(IAE,"g")local player p=RQE(IAE,"p")local integer CGX=GetTriggerEvalCount(t)local integer KBE=R1E(IAE,"Duration")set AXV=pset I5V=CGXif CGX==KBE thencall ForGroup(g,function U1R)call FWE(g)call O1E(IAE)call IRE(t)elsecall ForGroup(g,function U2R)endifset t=nullset g=nullset p=nullreturn falseendfunctionfunction U4R takes nothing returns nothingcall H0E(OL,GetEnumUnit(),"chest",3)call H0E(OL,GetEnumUnit(),"chest",3)call H0E(OL,GetEnumUnit(),"right hand",3)call H0E(OL,GetEnumUnit(),"left hand",3)endfunctionfunction U5R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local group g=FYE()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(FLE,1093742673)local integer KBE=6+6*DDElocal real x=GetLocationX(l)local real y=GetLocationY(l)local unit MIE=CreateUnit(GetOwningPlayer(FLE),1747988535,x,y,0)local boolean P6O=falseif DDE==0 thenset DDE=GetUnitAbilityLevel(FLE,1093747778)set KBE=6+6*DDE+6set P6O=trueendifcall RemoveLocation(l)set OL="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"call SetUnitVertexColor(MIE,$FF,$FF,$FF,$FF)call UnitApplyTimedLife(MIE,1112820806,5)if P6O thencall GroupEnumUnitsInRange(g,x,y,800,Condition(function LWE))elsecall GroupEnumUnitsInRange(g,x,y,600,Condition(function LWE))endifcall ForGroup(g,function U4R)call RAE(IAE,"g",g)call RRE(IAE,"p",GetOwningPlayer(FLE))call O4E(IAE,"Duration",KBE)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function U3R))call TriggerEvaluate(t)set FLE=nullset l=nullset g=nullset t=nullset MIE=nullendfunctionfunction U6R takes nothing returns booleanif GetSpellAbilityId()==1093742673 or GetSpellAbilityId()==1093747778 thencall U5R()endifreturn falseendfunctionfunction VCX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U6R))call HCE(1093684821)call HCE(1093684823)set t=nullendfunctionfunction U7R takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false thenset vZ=CreateUnit(GetOwningPlayer(I9V),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call GKE(vZ,1093744462)call SetUnitAbilityLevel(vZ,1093744462,eZ)call IssueTargetOrderById(vZ,$D022F,GetEnumUnit())call GroupAddUnit(AEV,GetEnumUnit())endifendfunctionfunction U8R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local group g=RUE(IAE,"g")local unit oA=RME(IAE,"Caster")local integer DDE=R1E(IAE,"Level")local real RK=R2E(IAE,"Angle")local group P3Elocal real xlocal real ylocal real U9R=30set eZ=DDEif GetTriggerEvalCount(t)>28 thencall FWE(g)call O1E(IAE)call IRE(t)call ShowUnit(oA,false)call KillUnit(oA)elseset x=GetUnitX(oA)set y=GetUnitY(oA)set P3E=FYE()set AEV=gset I9V=oAset I6V=DDE*70call GroupEnumUnitsInRange(P3E,x,y,$96,Condition(function L_E))call ForGroup(P3E,function U7R)call FWE(P3E)call SetUnitX(oA,HRE(x+U9R*Cos(RK*bj_DEGTORAD)))call SetUnitY(oA,HIE(y+U9R*Sin(RK*bj_DEGTORAD)))endifset t=nullset g=nullset P3E=nullset oA=nullreturn falseendfunctionfunction WVR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local group g=FYE()local unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real RK=H4E(x1,y1,x2,y2)local integer DDE=GetUnitAbilityLevel(FLE,1093744435)local unit oA=CreateUnit(GetOwningPlayer(FLE),1747990347,x1,y1,RK)call JAE(QR,x1,y1)call O8E(IAE,"Caster",oA)call O4E(IAE,"Level",DDE)call RAE(IAE,"g",g)call O5E(IAE,"Angle",RK)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function U8R))call RemoveLocation(l)set t=nullset oA=nullset g=nullset FLE=nullset l=nullendfunctionfunction WER takes nothing returns booleanif GetSpellAbilityId()==1093744435 thencall WVR()endifreturn falseendfunctionfunction Y6E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WER))set t=nullendfunctionfunction WXR takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(I9V),1865429065,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UnitApplyTimedLife(oA,1112820806,2)set oA=nullendfunctionfunction WOR takes nothing returns booleanreturn K3E()and GetUnitAbilityLevel(GetFilterUnit(),1110454840)==0endfunctionfunction PoisonNova_Iterate takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer WRR=R1E(IAE,"NovaLevel")local real r=R2E(IAE,"r")local group gif GetTriggerEvalCount(t)>$D thencall O1E(IAE)call IRE(t)elseset r=r+53call O5E(IAE,"r",r)set g=FYE()set I9V=FLEset I5V=WRRcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),r,Condition(function WOR))call ForGroup(g,function WXR)call FWE(g)endifset t=nullset FLE=nullset g=nullreturn falseendfunctionfunction WIR takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer WRRlocal integer i=1local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local unit oAif GetSpellAbilityId()==1093677363 thenset WRR=GetUnitAbilityLevel(FLE,1093677363)elseset WRR=GetUnitAbilityLevel(FLE,1093681462)+1endifloopexitwhen i>18set oA=CreateUnit(GetOwningPlayer(FLE),1697657143,x,y,0)if(GetPlayerController(GetOwningPlayer(FLE))==MAP_CONTROL_COMPUTER)thencall RemoveGuardPosition(oA)endifcall GKE(oA,1093678391)call SetUnitAbilityLevel(oA,1093678391,WRR)call IssuePointOrderById(oA,$D0012,x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))call UnitApplyTimedLife(oA,1112820806,1.15)set i=i+1endloopset FLE=nullset oA=nullendfunctionfunction WAR takes nothing returns booleanif GetSpellAbilityId()==1093677363 or GetSpellAbilityId()==1093681462 thencall WIR()endifreturn falseendfunctionfunction Y7E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WAR))set t=nullendfunctionfunction WNR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call MHE(p5,0)call IXE(p5,"WNR")set t=nullset p5=nullreturn falseendfunctionfunction WBR takes unit NHX,unit m5 returns nothinglocal real M5X=100*GetUnitState(m5,UNIT_STATE_LIFE)/ GetUnitState(m5,UNIT_STATE_MAX_LIFE)local integer WCR=2*GetUnitAbilityLevel(NHX,1093746995)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call IVE(NHX,"WNR")call TriggerRegisterTimerEvent(t,.35,false)call TriggerAddCondition(t,Condition(function WNR))call O8E(IAE,"Source",NHX)if IsUnitType(m5,UNIT_TYPE_HERO)==false thenset WCR=WCR/ 2endifif M5X>80 thencall MHE(NHX,WCR)elseif M5X>60 thencall MHE(NHX,WCR*2)elseif M5X>40 thencall MHE(NHX,WCR*2*2)elseif M5X>20 thencall MHE(NHX,WCR*2*2*2)elsecall MHE(NHX,WCR*2*2*2*2)endifset t=nullendfunctionfunction WDR takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thenif GetSpellAbilityId()==1093679446 and GetUnitAbilityLevel(GetTriggerUnit(),1093746995)>0 thencall WBR(GetTriggerUnit(),GetSpellTargetUnit())endifelseif GetUnitAbilityLevel(GetAttacker(),1093746995)>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit())) and R8E(GetAttacker(),"WNR")==false thencall WBR(GetAttacker(),GetTriggerUnit())endifendifreturn falseendfunctionfunction Y8E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function WDR))set t=nullendfunctionfunction WFR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(684)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or SZO<(TimerGetElapsed(K))or FHE(F3E)thencall FlushChildHashtable(YX,(H2E))call IRE(t)call SaveReal(YX,(GetHandleId(F3E)),(684),((0)*1.))call UnitRemoveAbility(F3E,1093808983)call UnitRemoveAbility(F3E,1093808981)call UnitRemoveAbility(F3E,1093808982)call UnitRemoveAbility(F3E,1093808984)call UnitRemoveAbility(F3E,1110459713)elsecall MNE(J6E,F3E,1,5+5*MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction WGR takes nothing returns nothinglocal trigger tlocal integer H2Elocal unit J6E=GetTriggerUnit()local unit F3E=GetAttacker()local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(684)))local integer MAE=GetUnitAbilityLevel(J6E,1093684557)if SZO>(TimerGetElapsed(K))thencall SaveReal(YX,(GetHandleId(F3E)),(684),(((TimerGetElapsed(K))+3)*1.))elseset t=CreateTrigger()set H2E=GetHandleId(t)call SaveReal(YX,(GetHandleId(F3E)),(684),(((TimerGetElapsed(K))+3)*1.))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function WFR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))if G9X(F3E)==false thenif MAE==1 thencall GKE(F3E,1093808983)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093808983,false)elseif MAE==2 thencall GKE(F3E,1093808981)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093808981,false)elseif MAE==3 thencall GKE(F3E,1093808982)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093808982,false)elseif MAE==4 thencall GKE(F3E,1093808984)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093808984,false)endifendifendifset t=nullset J6E=nullset F3E=nullendfunctionfunction WHR takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),1093684557)>0 and GetUnitAbilityLevel(GetAttacker(),1093678162)==0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and FHE(GetAttacker())==false thencall WGR()endifreturn falseendfunctionfunction Y9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function WHR))set t=nullendfunctionfunction WJR takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()call UnitRemoveAbility(m5,1111847784)call UnitRemoveAbility(m5,1110458705)set m5=nullendfunctionfunction WKR takes nothing returns booleanif GetSpellAbilityId()==1093679152 or GetSpellAbilityId()==1093752154 thencall WJR()endifreturn falseendfunctionfunction ZVE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WKR))set t=nullendfunctionfunction WLR takes nothing returns booleanreturn GetSpellAbilityId()==1093679192endfunctionfunction WMR takes nothing returns nothinglocal location POX=GetUnitLoc(GetSpellAbilityUnit())call CreateNUnitsAtLocFacingLocBJ(1,1697656901,GetOwningPlayer(GetSpellAbilityUnit()),POX,POX)call RemoveLocation(POX)call UnitAddAbility(bj_lastCreatedUnit,1093679427)call SetUnitAbilityLevelSwapped(1093679427,bj_lastCreatedUnit,GetUnitAbilityLevelSwapped(1093679192,GetSpellAbilityUnit()))call IssueTargetOrderById(bj_lastCreatedUnit,$D0085,GetSpellAbilityUnit())endfunctionfunction ZXE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WLR))call TriggerAddAction(t,function WMR)set t=nullendfunctionfunction WPR takes unit p5,integer DDE,integer WQR returns nothingcall UnitRemoveAbility(p5,1093749586)call UnitRemoveAbility(p5,1093749587)call UnitRemoveAbility(p5,1093749585)call UnitRemoveAbility(p5,1093749584)call UnitRemoveAbility(p5,1093749553)call UnitRemoveAbility(p5,1093749591)call UnitRemoveAbility(p5,1093749592)call UnitRemoveAbility(p5,1093749593)call UnitRemoveAbility(p5,1093749812)call UnitRemoveAbility(p5,1093749811)call UnitRemoveAbility(p5,1093749810)call UnitRemoveAbility(p5,1093749809)call UnitRemoveAbility(p5,1093749816)call UnitRemoveAbility(p5,1093749815)call UnitRemoveAbility(p5,1093749817)call UnitRemoveAbility(p5,1093749826)if DDE==1 thenif WQR==1 thencall GKE(p5,1093749586)elseif WQR==2 thencall GKE(p5,1093749587)elseif WQR==3 thencall GKE(p5,1093749585)elseif WQR==4 thencall GKE(p5,1093749584)endifelseif DDE==2 thenif WQR==1 thencall GKE(p5,1093749553)elseif WQR==2 thencall GKE(p5,1093749591)elseif WQR==3 thencall GKE(p5,1093749592)elseif WQR==4 thencall GKE(p5,1093749593)endifelseif DDE==3 thenif WQR==1 thencall GKE(p5,1093749812)elseif WQR==2 thencall GKE(p5,1093749811)elseif WQR==3 thencall GKE(p5,1093749810)elseif WQR==4 thencall GKE(p5,1093749809)endifelseif DDE==4 thenif WQR==1 thencall GKE(p5,1093749816)elseif WQR==2 thencall GKE(p5,1093749815)elseif WQR==3 thencall GKE(p5,1093749817)elseif WQR==4 thencall GKE(p5,1093749826)endifendifendfunctionfunction WSR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer WTR=R1E(IAE,"ShellCache")local unit p5=RME(WTR,"Source")local integer WQR=R1E(WTR,"ShellCounter")local integer DDE=GetUnitAbilityLevel(p5,1093686872)set WQR=HME(WQR+1,4)call O4E(WTR,"ShellCounter",WQR)call WPR(p5,DDE,WQR)call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction WUR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer WQR=R1E(IAE,"ShellCounter")local integer DDE=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and B4E(GetOwningPlayer(GetEventDamageSource()))thenif WQR>0 thenendifset WQR=HPE(WQR-1,0)call O4E(IAE,"ShellCounter",WQR)call WPR(p5,DDE,WQR)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,$E-DDE,false)call TriggerAddCondition(t,Condition(function WSR))call O4E(IAE,"ShellCache",GetHandleId(GetTriggeringTrigger()))endifset t=nullset p5=nullreturn falseendfunctionfunction WWR takes nothing returns nothinglocal trigger tlocal integer IAElocal unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(GetTriggerUnit(),1093686872)if DDE==1 thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function WUR))call O8E(IAE,"Source",p5)call O4E(IAE,"ShellCounter",4)endifcall WPR(p5,DDE,4)set t=nullset p5=nullendfunctionfunction WYR takes nothing returns booleanif GetLearnedSkill()==1093686872 and IsUnitIllusion(GetTriggerUnit())==false thencall WWR()endifreturn falseendfunctionfunction WZR takes player p returns nothingcall SetPlayerAbilityAvailable(p,1093749586,false)call SetPlayerAbilityAvailable(p,1093749587,false)call SetPlayerAbilityAvailable(p,1093749585,false)call SetPlayerAbilityAvailable(p,1093749584,false)call SetPlayerAbilityAvailable(p,1093749589,false)call SetPlayerAbilityAvailable(p,1093749590,false)call SetPlayerAbilityAvailable(p,1093749553,false)call SetPlayerAbilityAvailable(p,1093749591,false)call SetPlayerAbilityAvailable(p,1093749592,false)call SetPlayerAbilityAvailable(p,1093749593,false)call SetPlayerAbilityAvailable(p,1093749594,false)call SetPlayerAbilityAvailable(p,1093749588,false)call SetPlayerAbilityAvailable(p,1093749812,false)call SetPlayerAbilityAvailable(p,1093749811,false)call SetPlayerAbilityAvailable(p,1093749810,false)call SetPlayerAbilityAvailable(p,1093749809,false)call SetPlayerAbilityAvailable(p,1093749808,false)call SetPlayerAbilityAvailable(p,1093749813,false)call SetPlayerAbilityAvailable(p,1093749816,false)call SetPlayerAbilityAvailable(p,1093749815,false)call SetPlayerAbilityAvailable(p,1093749817,false)call SetPlayerAbilityAvailable(p,1093749826,false)call SetPlayerAbilityAvailable(p,1093749825,false)call SetPlayerAbilityAvailable(p,1093749814,false)call SetPlayerAbilityAvailable(p,1093749832,false)call SetPlayerAbilityAvailable(p,1093750067,false)call SetPlayerAbilityAvailable(p,1093750068,false)call SetPlayerAbilityAvailable(p,1093750083,false)call SetPlayerAbilityAvailable(p,1093750071,false)call SetPlayerAbilityAvailable(p,1093750072,false)call SetPlayerAbilityAvailable(p,1093750073,false)call SetPlayerAbilityAvailable(p,1093750081,false)call SetPlayerAbilityAvailable(p,1093750069,false)call SetPlayerAbilityAvailable(p,1093750082,false)call SetPlayerAbilityAvailable(p,1093750070,false)endfunctionfunction ZRE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function WYR))loopexitwhen i>5call WZR(RX[i])call WZR(GX[i])set i=i+1endloopset t=nullendfunctionfunction W_R takes nothing returns nothinglocal integer MAElocal unit J6E=GetTriggerUnit()local unit MIEif GetUnitTypeId(J6E)==1966092599 or GetUnitTypeId(J6E)==1966092601 or GetUnitTypeId(J6E)==1966092600 or GetUnitTypeId(J6E)==1966092609 or GetUnitTypeId(J6E)==1966092610 or GetUnitTypeId(J6E)==1966092611 or GetUnitTypeId(J6E)==1966092629 or GetUnitTypeId(J6E)==1966092630 or GetUnitTypeId(J6E)==1966092631 thenreturnendifset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)if GetUnitTypeId(J6E)==1966092596 or GetUnitTypeId(J6E)==1966092612 or GetUnitTypeId(J6E)==1966092626 thenset MAE=1elseif GetUnitTypeId(J6E)==1966092597 or GetUnitTypeId(J6E)==1966092613 or GetUnitTypeId(J6E)==1966092627 thenset MAE=2elseset MAE=3endifcall GKE(MIE,1093750342)call SetUnitAbilityLevel(MIE,1093750342,MAE)call IssueImmediateOrderById(MIE,$D009F)set J6E=nullset MIE=nullendfunctionfunction W0R takes unit W1R,integer GPX,integer MAE returns nothinglocal integer W2Rif MAE==1 thenset W2R=8elseif MAE==2 thenset W2R=$Eelseif MAE==3 thenset W2R=22endifcall MHE(W1R,GPX*W2R)endfunctionfunction W3R takes nothing returns booleanlocal integer GPXlocal integer CBElocal integer MAElocal unit W1R=GetAttacker()local integer id=GetUnitTypeId(W1R)if id==1966092596 or id==1966092597 or id==1966092598 or id==1966092612 or id==1966092613 or id==1966092614 or id==1966092626 or id==1966092627 or id==1966092628 thenset CBE=GetHandleId(W1R)set MAE=R1E(CBE,"Level")set GPX=R1E(CBE,"Remaining")set GPX=IMaxBJ(GPX-1,0)call O4E(CBE,"Remaining",GPX)call W0R(W1R,GPX,MAE)endifset W1R=nullreturn falseendfunctionfunction W4R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit W1R=RME(H2E,"Source")local unit J6E=W1Rlocal integer MAE=R1E(H2E,"Level")local integer Z7O=R1E(H2E,"Counter")local integer GPX=R1E(GetHandleId(W1R),"Remaining")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(H2E)call IRE(t)elseset Z7O=Z7O+1call O4E(H2E,"Counter",Z7O)if ModuloInteger(Z7O,$F)==0 thenset GPX=IMinBJ(GPX+1,7)call O4E(GetHandleId(W1R),"Remaining",GPX)endifif GetUnitTypeId(J6E)==1966092599 or GetUnitTypeId(J6E)==1966092601 or GetUnitTypeId(J6E)==1966092600 or GetUnitTypeId(J6E)==1966092609 or GetUnitTypeId(J6E)==1966092610 or GetUnitTypeId(J6E)==1966092611 or GetUnitTypeId(J6E)==1966092629 or GetUnitTypeId(J6E)==1966092630 or GetUnitTypeId(J6E)==1966092631 thenset GPX=7call O4E(GetHandleId(W1R),"Remaining",GPX)endifcall W0R(W1R,GPX,MAE)if GetUnitTypeId(W1R)==1966092599 or GetUnitTypeId(W1R)==1966092601 or GetUnitTypeId(W1R)==1966092600 or GetUnitTypeId(W1R)==1966092609 or GetUnitTypeId(W1R)==1966092610 or GetUnitTypeId(W1R)==1966092611 or GetUnitTypeId(W1R)==1966092629 or GetUnitTypeId(W1R)==1966092630 or GetUnitTypeId(W1R)==1966092631 thencall SetUnitState(W1R,UNIT_STATE_LIFE,GetUnitState(W1R,UNIT_STATE_LIFE)+31.25+18.75*MAE)endifendifset t=nullset W1R=nullreturn falseendfunctionfunction W5R takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==1966092596 or GetUnitTypeId(GetFilterUnit())==1966092597 or GetUnitTypeId(GetFilterUnit())==1966092598 or GetUnitTypeId(GetFilterUnit())==1966092612 or GetUnitTypeId(GetFilterUnit())==1966092613 or GetUnitTypeId(GetFilterUnit())==1966092614 or GetUnitTypeId(GetFilterUnit())==1966092626 or GetUnitTypeId(GetFilterUnit())==1966092627 or GetUnitTypeId(GetFilterUnit())==1966092628 or GetUnitTypeId(GetFilterUnit())==1966092599 or GetUnitTypeId(GetFilterUnit())==1966092601 or GetUnitTypeId(GetFilterUnit())==1966092600 or GetUnitTypeId(GetFilterUnit())==1966092609 or GetUnitTypeId(GetFilterUnit())==1966092610 or GetUnitTypeId(GetFilterUnit())==1966092611 or GetUnitTypeId(GetFilterUnit())==1966092629 or GetUnitTypeId(GetFilterUnit())==1966092630 or GetUnitTypeId(GetFilterUnit())==1966092631 thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction W6R takes nothing returns nothinglocal group g=FYE()local unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local integer MAE=GetUnitAbilityLevel(J6E,1093750341)local unit W7Rlocal unit W8Rlocal unit W9Rlocal trigger tlocal integer H2Elocal boolean OYR=falsecall GroupEnumUnitsOfPlayer(g,GetOwningPlayer(J6E),Condition(function W5R))call FWE(g)if MAE==0 thenset MAE=GetUnitAbilityLevel(J6E,1093814599)set OYR=trueendifif MAE==1 thenset W7R=CreateUnit(GetOwningPlayer(J6E),1966092596,x+75,y+75,GetUnitFacing(J6E))set W8R=CreateUnit(GetOwningPlayer(J6E),1966092612,x-75,y-75,GetUnitFacing(J6E))elseif MAE==2 thenset W7R=CreateUnit(GetOwningPlayer(J6E),1966092597,x+75,y+75,GetUnitFacing(J6E))set W8R=CreateUnit(GetOwningPlayer(J6E),1966092613,x-75,y-75,GetUnitFacing(J6E))elseif MAE==3 thenset W7R=CreateUnit(GetOwningPlayer(J6E),1966092598,x+75,y+75,GetUnitFacing(J6E))set W8R=CreateUnit(GetOwningPlayer(J6E),1966092614,x-75,y-75,GetUnitFacing(J6E))endifcall SelectUnitAddForPlayer(W7R,GetOwningPlayer(J6E))call SelectUnitAddForPlayer(W8R,GetOwningPlayer(J6E))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",W7R,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",W8R,"origin"))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,W7R,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function W4R))call O8E(H2E,"Source",W7R)call O4E(H2E,"Level",MAE)call O4E(H2E,"Counter",0)call O4E(GetHandleId(W7R),"Remaining",7)call O4E(GetHandleId(W7R),"Level",MAE)call W0R(W7R,7,MAE)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,W8R,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function W4R))call O8E(H2E,"Source",W8R)call O4E(H2E,"Level",MAE)call O4E(H2E,"Counter",0)call O4E(GetHandleId(W8R),"Remaining",7)call O4E(GetHandleId(W8R),"Level",MAE)call W0R(W8R,7,MAE)if OYR thenif MAE==1 thenset W9R=CreateUnit(GetOwningPlayer(J6E),1966092626,x+75,y,GetUnitFacing(J6E))elseif MAE==2 thenset W9R=CreateUnit(GetOwningPlayer(J6E),1966092627,x+75,y,GetUnitFacing(J6E))elseif MAE==3 thenset W9R=CreateUnit(GetOwningPlayer(J6E),1966092628,x+75,y,GetUnitFacing(J6E))endifcall SelectUnitAddForPlayer(W9R,GetOwningPlayer(J6E))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",W9R,"origin"))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,W9R,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function W4R))call O8E(H2E,"Source",W9R)call O4E(H2E,"Level",MAE)call O4E(H2E,"Counter",0)call O4E(GetHandleId(W9R),"Remaining",7)call O4E(GetHandleId(W9R),"Level",MAE)call W0R(W9R,7,MAE)endifset g=nullset J6E=nullset W7R=nullset W8R=nullset W9R=nullendfunctionfunction YVR takes nothing returns booleanif GetSpellAbilityId()==1093750341 or GetSpellAbilityId()==1093814599 thencall W6R()elseif GetSpellAbilityId()==1093750338 or GetSpellAbilityId()==1093750339 or GetSpellAbilityId()==1093750340 or GetSpellAbilityId()==1093750348 or GetSpellAbilityId()==1093750349 or GetSpellAbilityId()==1093750350 or GetSpellAbilityId()==1093814618 or GetSpellAbilityId()==1093814832 or GetSpellAbilityId()==1093814833 thencall W_R()endifreturn falseendfunctionfunction ZEE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YVR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function W3R))set t=nullendfunctionfunction YER takes unit J6E,integer YXR,integer YOR returns nothinglocal string c1="|c0000cc00"local string c="||"local string p=" "local string s=c1+"|||r"local string YRRlocal boolean YIR=falselocal texttag tt=RPE(GetHandleId(J6E),"SoulAssumption|Text")if YXR==0 thenset YRR=" "elseif YOR==1 thenif YXR==0 thenset YRR=c+p+c+p+celseif YXR==1 thenset YRR=s+p+c+p+celseif YXR==2 thenset YRR=s+p+s+p+celseif YXR==3 thenset YRR=s+p+s+p+sendifelseif YOR==2 thenif YXR==0 thenset YRR=c+p+c+p+c+p+celseif YXR==1 thenset YRR=s+p+c+p+c+p+celseif YXR==2 thenset YRR=s+p+s+p+c+p+celseif YXR==3 thenset YRR=s+p+s+p+s+p+celseif YXR==4 thenset YRR=s+p+s+p+s+p+sendifelseif YOR==3 thenif YXR==0 thenset YRR=c+p+c+p+c+p+c+p+celseif YXR==1 thenset YRR=s+p+c+p+c+p+c+p+celseif YXR==2 thenset YRR=s+p+s+p+c+p+c+p+celseif YXR==3 thenset YRR=s+p+s+p+s+p+c+p+celseif YXR==4 thenset YRR=s+p+s+p+s+p+s+p+celseif YXR==5 thenset YRR=s+p+s+p+s+p+s+p+sendifelseif YOR==4 thenif YXR==0 thenset YRR=c+p+c+p+c+p+c+p+c+p+celseif YXR==1 thenset YRR=s+p+c+p+c+p+c+p+c+p+celseif YXR==2 thenset YRR=s+p+s+p+c+p+c+p+c+p+celseif YXR==3 thenset YRR=s+p+s+p+s+p+c+p+c+p+celseif YXR==4 thenset YRR=s+p+s+p+s+p+s+p+c+p+celseif YXR==5 thenset YRR=s+p+s+p+s+p+s+p+s+p+celseif YXR==6 thenset YRR=s+p+s+p+s+p+s+p+s+p+sendifendifcall SetTextTagText(tt,YRR,.023)if GetOwningPlayer(J6E)==GetLocalPlayer()thenset YIR=trueendifif GME(J6E)thenset YIR=falseendifcall SetTextTagPosUnit(tt,J6E,0)call SetTextTagVisibility(tt,YIR)call SetTextTagPermanent(tt,true)endfunctionfunction YAR takes unit FLE,integer DDE returns nothinglocal integer YNR=GetUnitAbilityLevel(FLE,1093750337)call YER(FLE,DDE,YNR)if DDE==0 or R8E(FLE,"SoulAssumptionState") thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call GKE(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)call UnitRemoveAbility(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)elseif DDE==1 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093750577)call GKE(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)call GKE(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)elseif DDE==2 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call GKE(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)call UnitRemoveAbility(FLE,1093684306)call GKE(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)elseif DDE==3 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call GKE(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)if YNR==1 thencall GKE(FLE,1093750583)elsecall GKE(FLE,1093750329)endifelseif DDE==4 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call GKE(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)if YNR==2 thencall GKE(FLE,1093750584)elsecall GKE(FLE,1093750361)endifelseif DDE==5 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call GKE(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)call UnitRemoveAbility(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call GKE(FLE,1093684806)call UnitRemoveAbility(FLE,1093684548)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call UnitRemoveAbility(FLE,1093750579)if YNR==3 thencall GKE(FLE,1093750585)elsecall GKE(FLE,1093750576)endifelseif DDE==6 thencall UnitRemoveAbility(FLE,1093750583)call UnitRemoveAbility(FLE,1093750584)call UnitRemoveAbility(FLE,1093750585)call UnitRemoveAbility(FLE,1093750577)call UnitRemoveAbility(FLE,1093750578)call UnitRemoveAbility(FLE,1093750362)call UnitRemoveAbility(FLE,1093750329)call UnitRemoveAbility(FLE,1093750361)call UnitRemoveAbility(FLE,1093750576)call GKE(FLE,1093750579)call UnitRemoveAbility(FLE,1093684306)call UnitRemoveAbility(FLE,1093687632)call UnitRemoveAbility(FLE,1093685063)call UnitRemoveAbility(FLE,1093687631)call UnitRemoveAbility(FLE,1093684806)call GKE(FLE,1093684548)endifif(GetUnitAbilityLevel(FLE,1093750337)+2)==DDE thencall GKE(FLE,1093750346)elsecall UnitRemoveAbility(FLE,1093750346)endifendfunctionfunction YBR takes unit p5,real HUE returns nothinglocal integer DDE=0local real YCR=110if HUE>YCR*6 thenset DDE=6elseif HUE>YCR*5 thenset DDE=5elseif HUE>YCR*4 thenset DDE=4elseif HUE>YCR*3 thenset DDE=3elseif HUE>YCR*2 thenset DDE=2elseif HUE>YCR*1 thenset DDE=1endifset DDE=HME(DDE,2+GetUnitAbilityLevel(p5,1093750337))call O4E(GetHandleId(p5),"Level",DDE)call YAR(p5,DDE)endfunctionfunction YDR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=GetUnitAbilityLevel(p5,1093750337)call YER(p5,R1E(GetHandleId(p5),"Level"),DDE)call YBR(p5,R2E(GetHandleId(p5),"RecentDamage"))set t=nullset p5=nullreturn falseendfunctionfunction YFR takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit p5=I9Vlocal unit m5=AVVlocal real HUE=R2E(IAE,"Damage")if IsUnitAlly(m5,GetOwningPlayer(p5))==false thenset f3=truecall MNE(p5,m5,1,HUE)set f3=falseelsecall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+HUE)endifset p5=nullset m5=nullendfunctionfunction YGR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call YBR(p5,R2E(GetHandleId(p5),"RecentDamage"))call O1E(IAE)call IRE(t)set t=nullset p5=nullreturn falseendfunctionfunction YHR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=R1E(GetHandleId(p5),"Level")local trigger t=JLE(p5,m5,1747993157,"YFR",$3E8)local integer IAE=GetHandleId(t)call O5E(IAE,"Damage",(20+DDE*60)*1.)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",p5,"chest"))call O5E(GetHandleId(p5),"RecentDamage",0*1.)call YBR(p5,0)call IBE(p5,"SoulAssumptionState",4)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerAddCondition(t,Condition(function YGR))call TriggerRegisterTimerEvent(t,4,false)call O8E(IAE,"Source",p5)set p5=nullset m5=nullset t=nullendfunctionfunction YJR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local real HUE=R2E(IAE,"Damage")if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750337)thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall O5E(GetHandleId(p5),"RecentDamage",(R2E(GetHandleId(p5),"RecentDamage")-HUE)*1.)endifcall YBR(p5,R2E(GetHandleId(p5),"RecentDamage"))call O1E(IAE)call IRE(t)endifset t=nullset p5=nullreturn falseendfunctionfunction YKR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer IAE=GetHandleId(p5)local texttag tt=CreateTextTag()local boolean YIR=falselocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function YDR))call O8E(GetHandleId(t),"Source",p5)if GetOwningPlayer(p5)==GetLocalPlayer()thenset YIR=trueendifcall SetTextTagText(tt," ",.023)call SetTextTagPosUnit(tt,p5,0)call SetTextTagVisibility(tt,YIR)call SetTextTagPermanent(tt,true)set D3[GetPlayerId(GetOwningPlayer(p5))]=p5call O5E(IAE,"RecentDamage",0*1.)call YBR(p5,0)call RCE(IAE,"SoulAssumption|Text",tt)set p5=nullset t=nullset tt=nullendfunctionfunction YLR takes unit YMR,unit YPR returns nothinglocal real HUE=GetEventDamage()local integer DDE=GetUnitAbilityLevel(YMR,1093750337)local real YQR=R2E(GetHandleId(YMR),"RecentDamage")local trigger tlocal integer IAEif E3E(YMR,YPR)<$578 and f3==false thenif PNE(HUE)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(B4E(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())==1848651852)thenset YQR=YQR+HUEcall O5E(GetHandleId(YMR),"RecentDamage",YQR*1.)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",YMR)call O5E(IAE,"Damage",HUE*1.)call TriggerRegisterTimerEvent(t,6,false)call TriggerRegisterUnitEvent(t,YMR,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,YMR,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YJR))call YBR(YMR,YQR)endifendifset t=nullendfunctionfunction YSR takes nothing returns nothinglocal integer i=0loopexitwhen i>$Cif D3[i]!=null thencall YLR(D3[i],GetTriggerUnit())endifset i=i+1endloopendfunctionfunction YTR takes nothing returns booleanif GetLearnedSkill()==1093750337 and GetUnitAbilityLevel(GetTriggerUnit(),1093750337)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall YKR()endifreturn falseendfunctionfunction YUR takes nothing returns booleanif GetSpellAbilityId()==1093750337 thencall YHR()endifreturn falseendfunctionfunction ZOE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function YTR))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YUR))set t=nullcall NLX("YSR")endfunctionfunction YWR takes nothing returns booleanreturn GetSpellAbilityId()==1093678672endfunctionfunction YYR takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(ZX))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1)!=nullendfunctionfunction YZR takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(ZX),1697656899,GetUnitX(m5),GetUnitY(m5),0)call GKE(oA,1093683781)call SetUnitAbilityLevel(oA,1093683781,pe)call IssueTargetOrderById(oA,$D006B,m5)call UnitApplyTimedLifeBJ(2.,1112820806,oA)call UnitAddAbility(oA,1097625443)set oA=nullset m5=nullendfunctionfunction Y_R takes unit MIE,unit FLE returns nothinglocal group P3E=FYE()local boolexpr hP=Condition(function YYR)set ZX=FLEcall GroupEnumUnitsInRange(P3E,GetUnitX(MIE),GetUnitY(MIE),675,hP)call ForGroup(P3E,function YZR)call FWE(P3E)call DestroyBoolExpr(hP)set P3E=nullset hP=nullendfunctionfunction Y0R takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLElocal unit oA=RME(IAE,"Caster")if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall KillUnit(oA)call O1E(IAE)call IRE(t)elseif GetTriggerEvalCount(t)>22 thencall KillUnit(oA)call O1E(IAE)call IRE((t))call XIE(RME(IAE,"Hero"))elsecall SetUnitAnimation(oA,"birth")set FLE=RME(IAE,"Hero")set pe=GetTriggerExecCount(t)*GetUnitAbilityLevel(FLE,1093678672)/2call Y_R(oA,FLE)endifset t=nullset oA=nullset FLE=nullendfunctionfunction Y1R takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location Mk=GetSpellTargetLoc()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)local unit oA=CreateUnit(GetOwningPlayer(FLE),1697657159,x,y,0)call RemoveLocation(Mk)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function Y0R)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",oA)set FLE=nullset Mk=nullset t=nullset oA=nullendfunctionfunction Z6E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function Y1R)call TriggerAddCondition(t,Condition(function YWR))call HCE(1093683781)set t=nullendfunctionfunction Y2R takes nothing returns booleanreturn GetSpellAbilityId()==1093683765endfunctionfunction Y3R takes nothing returns nothingcall GKE(GetEnumUnit(),1093685298)endfunctionfunction Y4R takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),1093685298)endfunctionfunction Y5R takes unit Y6R,unit Y7R returns nothingif Y6R!=null and Y7R!=null thencall H6E("CLPB",GetUnitX(Y6R),GetUnitY(Y6R),GetUnitX(Y7R),GetUnitY(Y7R),.7,.1,.9,1,.3)endifendfunctionfunction Y8R takes nothing returns nothinglocal unit FLE=RME(GetHandleId(GetTriggeringTrigger()),"Hero")local real HUE=.2*GetEventDamage()set HUE=HSE(HUE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<HUE thencall MNE(FLE,GetEnumUnit(),3,HUE)elsecall J9E(GetEnumUnit(),HUE)endifendifset FLE=nullendfunctionfunction Y9R takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local group P3E=RUE(IAE,"Group")if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall ForGroup(P3E,function Y4R)call O1E(IAE)call FWE(P3E)call IRE(t)elseif GetEventDamage()>$A and GetEventDamage()<6000 thencall DisableTrigger(t)call ForGroup(P3E,function Y8R)call EnableTrigger(t)endifset t=nullset P3E=nullendfunctionfunction ZVR takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1)!=nullendfunctionfunction ZER takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local group P3E=FYE()local integer DDE=GetUnitAbilityLevel(FLE,1093683765)local boolexpr hP=Condition(function ZVR)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer i=2local group ZXR=FYE()local unit array ZORlocal string ZRR="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"call O8E(IAE,"Hero",FLE)call Y5R(FLE,m5)call H0E(ZRR,m5,"overhead",25)set ZOR[1]=m5call O8E(IAE,"Unit1",ZOR[1])call TriggerRegisterUnitEvent(t,ZOR[1],EVENT_UNIT_DAMAGED)call GroupEnumUnitsInRange(P3E,GetUnitX(m5),GetUnitY(m5),600,hP)call GroupRemoveUnit(P3E,m5)call GroupAddUnit(ZXR,m5)call RAE(IAE,"Group",ZXR)loopexitwhen i>(2+DDE)or FirstOfGroup(P3E)==nullset ZOR[i]=FirstOfGroup(P3E)call Y5R(ZOR[i-1],ZOR[i])call TriggerRegisterUnitEvent(t,ZOR[i],EVENT_UNIT_DAMAGED)call GroupAddUnit(ZXR,ZOR[i])call GroupRemoveUnit(P3E,ZOR[i])call H0E(ZRR,ZOR[i],"overhead",25)set i=i+1endloopcall O4E(IAE,"FXCount",i-1)set pe=GetUnitAbilityLevel(FLE,1093683765)call ForGroup(ZXR,function Y3R)call TriggerRegisterTimerEvent(t,25,false)call TriggerAddAction(t,function Y9R)call DestroyBoolExpr(hP)set FLE=nullset m5=nullcall FWE(P3E)set P3E=nullset hP=nullset t=nullset ZXR=nullendfunctionfunction Z7E takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Y2R))call TriggerAddAction(t,function ZER)call HCE(1093683769)set t=nullendfunctionfunction ZIR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer MAE=GetUnitAbilityLevel(p5,1093681491)if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(RWE(IAE,"FX"))call UnitRemoveAbility(m5,1093744459)call UnitRemoveAbility(m5,1110458704)call O1E(IAE)call IRE(t)elsecall MNE(p5,m5,1,MAE*$A)endifset p5=nullset m5=nullset t=nullreturn falseendfunctionfunction ZAR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=GetUnitAbilityLevel(p5,1093681491)if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(RWE(IAE,"FX"))call UnitRemoveAbility(m5,1093685296)call UnitRemoveAbility(m5,1110456115)call O1E(IAE)call IRE(t)elsecall MK(m5,DDE*$A)endifset p5=nullset m5=nullset t=nullreturn falseendfunctionfunction ZNR takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)if IsUnitAlly(m5,GetOwningPlayer(p5))thencall TriggerAddCondition(t,Condition(function ZAR))call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",m5,"chest"))call GKE(m5,1093685296)elseif FUE(GetSpellTargetUnit())==false thencall TriggerAddCondition(t,Condition(function ZIR))call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",m5,"overhead"))call GKE(m5,1093744459)endifset p5=nullset m5=nullset t=nullendfunctionfunction ZBR takes nothing returns booleanif GetSpellAbilityId()==1093681491 thencall ZNR()endifreturn falseendfunctionfunction Z8E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZBR))call HCE(1093685296)call HCE(1093744459)set t=nullendfunctionfunction ZCR takes nothing returns nothingcall MNE(MBV,GetEnumUnit(),1,20+$A*MCV)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))endfunctionfunction ZDR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAElocal integer DAE=GetUnitTypeId(J6E)local group gif DAE==1848651861 or DAE==1848658773 thenset MAE=1elseif DAE==1848651865 or DAE==1848658774 thenset MAE=2elseif DAE==1848651866 or DAE==1848658775 thenset MAE=3endifif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseset I9V=J6Eset MBV=J6Eset MCV=MAEset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),275,Condition(function K3E))call ForGroup(g,function ZCR)call FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction ZFR takes unit u returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ZDR))call SaveUnitHandle(YX,(H2E),(2),(u))set t=nullendfunctionfunction ZGR takes nothing returns booleanlocal integer DAE=GetUnitTypeId(GetTriggerUnit())if DAE==1848651861 or DAE==1848658773 or DAE==1848651865 or DAE==1848658774 or DAE==1848651866 or DAE==1848658775 thencall ZFR(GetTriggerUnit())endifreturn falseendfunctionfunction ZHR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local real ZJR=(LoadReal(YX,(H2E),($BF)))local real ZKR=(LoadReal(YX,(H2E),($C0)))local integer MAE=GetUnitAbilityLevel(J6E,1395667029)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,ZJR,ZKR,0)call GKE(MIE,1395667029)call SetUnitAbilityLevel(MIE,1395667029,MAE)call IssuePointOrderById(MIE,$D0100,x,y)call FlushChildHashtable(YX,(H2E))call IRE(t)set J6E=nullset MIE=nullset t=nullreturn falseendfunctionfunction ZLR takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.3,false)call TriggerAddCondition(t,Condition(function ZHR))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((GetSpellTargetX())*1.))call SaveReal(YX,(H2E),(7),((GetSpellTargetY())*1.))call SaveReal(YX,(H2E),($BF),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),($C0),((GetUnitY(J6E))*1.))set J6E=nullset t=nullendfunctionfunction ZMR takes nothing returns booleanif GetSpellAbilityId()==1395667029 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) thencall ZLR()endifreturn falseendfunctionfunction Z9E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZMR))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetEntireMapRect())call TriggerAddCondition(t,Condition(function ZGR))set t=nullendfunctionfunction ZPR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetUnitAbilityLevel(FLE,1112041075)==0 thencall UnitRemoveAbility(FLE,1093681977)call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction ZQR takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()call GKE(FLE,1093681977)call SetUnitAbilityLevel(FLE,1093681977,GetUnitAbilityLevel(FLE,1093681985))call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function ZPR))set FLE=nullset t=nullendfunctionfunction ZSR takes nothing returns booleanif GetSpellAbilityId()==1093681985 thencall ZQR()endifreturn falseendfunctionfunction ZIE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZSR))set t=nullendfunctionfunction ZTR takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)call SetUnitState(RME(IAE,"Unit"),UNIT_STATE_MANA,R2E(IAE,"Mana"))call O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction ZUR takes unit u,real ZWR returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function ZTR))call O8E(IAE,"Unit",u)call O5E(IAE,"Mana",ZWR)set t=nullendfunctionfunction ZYR takes nothing returns booleanreturn GetSpellAbilityId()==1093682004endfunctionfunction ZZR takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggerUnit())local real Wx=HTE(R2E(IAE,"TLLife1"),1)local real Tw=HTE(R2E(IAE,"TLMana1"),1)local real x=R2E(IAE,"TLX1")local real y=R2E(IAE,"TLY1")local unit FLE=GetTriggerUnit()if R2E(IAE,"TLLife1")>1 and GetUnitState(FLE,UNIT_STATE_LIFE)>1 thencall AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(FLE),GetUnitY(FLE))call SetUnitX(FLE,x)call SetUnitY(FLE,y)call SetUnitState(FLE,UNIT_STATE_LIFE,Wx)call SetUnitState(FLE,UNIT_STATE_MANA,Tw)call UnitRemoveBuffs(FLE,false,true)call HAX(FLE)call ZUR(FLE,Tw)endifset FLE=nullendfunctionfunction ZAE takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZYR))call TriggerAddAction(t,function ZZR)set t=nullendfunctionfunction Z_R takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit FLE=RME(GetHandleId(t),"UnitVar")local integer IAE=GetHandleId(FLE)local integer T8=1local integer U8=$Aloopexitwhen T8>U8call O5E(IAE,"TLX"+I2S(T8-1),R2E(IAE,"TLX"+I2S(T8)))call O5E(IAE,"TLY"+I2S(T8-1),R2E(IAE,"TLY"+I2S(T8)))call O5E(IAE,"TLLife"+I2S(T8-1),R2E(IAE,"TLLife"+I2S(T8)))call O5E(IAE,"TLMana"+I2S(T8-1),R2E(IAE,"TLMana"+I2S(T8)))set T8=T8+1endloopcall O5E(IAE,"TLX10",GetUnitX(FLE))call O5E(IAE,"TLY10",GetUnitY(FLE))call O5E(IAE,"TLLife10",GetUnitState(FLE,UNIT_STATE_LIFE))call O5E(IAE,"TLMana10",GetUnitState(FLE,UNIT_STATE_MANA))set t=nullset FLE=nullendfunctionfunction Z0R takes nothing returns nothinglocal unit AJO=I9Vlocal trigger tset t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,.5)call TriggerAddAction(t,function Z_R)call O8E(GetHandleId(t),"UnitVar",AJO)set t=nullendfunctionfunction ZNE takes nothing returns nothingendfunctionfunction Z1R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(FIE),(2)))local unit F3E=(LoadUnitHandle(YX,(FIE),(17)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(F3E,1093751130)call SaveInteger(YX,(GetHandleId((F3E))),((4290)),(2))call FlushChildHashtable(YX,(FIE))call IRE(t)if GetTriggerUnit()==F3E thencall KillUnit(J6E)endifelseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall SetUnitAbilityLevel(F3E,1093751130,GetUnitAbilityLevel(F3E,1093751130)+1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",F3E,"chest"))endifelsecall SetUnitX(J6E,GetUnitX(F3E)-40)call SetUnitY(J6E,GetUnitY(F3E)-40)if K4E(F3E)and IsUnitVisible(F3E,GetOwningPlayer(J6E))==false thencall KillUnit(J6E)elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 thencall IssueTargetOrderById(J6E,$D000F,F3E)endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction Z2R takes unit Z3R,unit F3E,integer MAE returns nothinglocal trigger t=CreateTrigger()local integer FIE=GetHandleId(t)call UnitRemoveAbility(Z3R,1098282348)call SaveUnitHandle(YX,(FIE),(2),(Z3R))call SaveUnitHandle(YX,(FIE),(17),(F3E))call GKE(F3E,1093751130)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,Z3R,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function Z1R))call TriggerEvaluate(t)call UnitApplyTimedLife(Z3R,1112820806,4+4*MAE)set t=nullendfunctionfunction Z4R takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and((LoadInteger(YX,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V)) or K4E(GetFilterUnit())==false))!=nullendfunctionfunction Z5R takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local group glocal integer i=1local unit KGE=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local real a=(LoadReal(YX,(H2E),($89)))local unit Z6Rlocal unit KDElocal real KKE=(LoadReal(YX,(H2E),(47)))local real KLE=(LoadReal(YX,(H2E),(48)))set x=HRE(x+18*Cos(a))set y=HIE(y+18*Sin(a))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))if GetTriggerEvalCount(t)>$A6 thenloopexitwhen i>$Cif(LoadBoolean(YX,(H2E),(511+i-1)))==false thencall KillUnit((LoadUnitHandle(YX,(H2E),(393+i-1))))endifset i=i+1endloopcall FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=KGEcall GroupEnumUnitsInRange(g,x,y,400,Condition(function Z4R))loopexitwhen i>$Cif(LoadBoolean(YX,(H2E),(511+i-1)))==false thenset Z6R=(LoadUnitHandle(YX,(H2E),(393+i-1)))set x=(LoadReal(YX,(H2E),(549+i-1)))set y=(LoadReal(YX,(H2E),(567+i-1)))set x=HRE(x+18*Cos(a))set y=HIE(y+18*Sin(a))call SaveReal(YX,(H2E),(549+i-1),((x)*1.))call SaveReal(YX,(H2E),(567+i-1),((y)*1.))call SetUnitX(Z6R,x)call SetUnitY(Z6R,y)set KDE=FirstOfGroup(g)if KDE!=null thencall GroupRemoveUnit(g,KDE)call SaveInteger(YX,(GetHandleId((KDE))),((4290)),(1))call SaveBoolean(YX,(H2E),(511+i-1),(true))call Z2R(Z6R,KDE,GetUnitAbilityLevel(KGE,1093751127))endifendifset i=i+1endloopcall FWE(g)set g=nullset Z6R=nullset KDE=nullendifset t=nullset KGE=nullreturn falseendfunctionfunction Z7R takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real Z8R=GetLocationX(l)local real Z9R=GetLocationY(l)local unit KGE=GetTriggerUnit()local real x=GetUnitX(KGE)local real y=GetUnitY(KGE)local real a=H4E(x,y,Z8R,Z9R)*bj_DEGTORADlocal unit S3Olocal real KQE=HRE(x+$BB8*Cos(a))local real KSE=HIE(y+$BB8*Sin(a))local integer i=1local trigger t=CreateTrigger()local integer FIE=GetHandleId(t)local real TYOlocal integer XOE=GetUnitAbilityLevel(KGE,1093751127)local integer VVIcall RemoveLocation(l)if XOE==1 thenset VVI=1966092619elseif XOE==2 thenset VVI=1966092616elseif XOE==3 thenset VVI=1966092618elseif XOE==4 thenset VVI=1966092620endifloopexitwhen i>$Cset S3O=CreateUnit(GetOwningPlayer(KGE),VVI,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)call SaveUnitHandle(YX,(FIE),(393+i-1),(S3O))call SaveBoolean(YX,(FIE),(511+i-1),(false))call SaveReal(YX,(FIE),(549+i-1),((GetUnitX(S3O))*1.))call SaveReal(YX,(FIE),(567+i-1),((GetUnitY(S3O))*1.))set i=i+1endloopcall TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function Z5R))call SaveUnitHandle(YX,(FIE),(2),(KGE))call SaveReal(YX,(FIE),(6),((x)*1.))call SaveReal(YX,(FIE),(7),((y)*1.))call SaveReal(YX,(FIE),($89),((a)*1.))call SaveReal(YX,(FIE),(47),((KQE)*1.))call SaveReal(YX,(FIE),(48),((KSE)*1.))set KGE=nullset S3O=nullset l=nullset t=nullendfunctionfunction VXI takes nothing returns booleanif GetSpellAbilityId()==1093751127 thencall Z7R()endifreturn falseendfunctionfunction ZBE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VXI))call GWE(1966092619)call GWE(1966092616)call GWE(1966092618)call GWE(1966092620)call HCE(1093751130)set t=nullendfunctionfunction VOI takes unit p5,unit NY,unit VRI,integer DDE,boolean VII returns reallocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(NY),GetUnitY(NY),0)if VII thencall GKE(oA,1093687129)elsecall GKE(oA,1093684812)endifcall IssueTargetOrderById(oA,$D007F,VRI)if IsUnitType(VRI,UNIT_TYPE_HERO)==false thencall MGE(p5,VRI,1,50+25*DDE,.4)elsecall MGE(p5,VRI,1,50,.4)endifif VII thenreturn((GetUnitX(VRI)-GetUnitX(NY))*(GetUnitX(VRI)-GetUnitX(NY))+(GetUnitY(VRI)-GetUnitY(NY))*(GetUnitY(VRI)-GetUnitY(NY)))/$F4240endifset oA=nullreturn((GetUnitX(VRI)-GetUnitX(NY))*(GetUnitX(VRI)-GetUnitX(NY))+(GetUnitY(VRI)-GetUnitY(NY))*(GetUnitY(VRI)-GetUnitY(NY)))/$57E40endfunctionfunction VNI takes unit p5,unit NY returns unitlocal group g=FYE()set I9V=p5call GroupEnumUnitsInRange(g,GetUnitX(NY),GetUnitY(NY),600,Condition(function LIE))call GroupRemoveUnit(g,NY)set I9V=GroupPickRandomUnit(g)call FWE(g)set g=nullreturn I9Vendfunctionfunction VGI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local unit NY=RME(IAE,"Old")local integer iX=R1E(IAE,"Count")local unit VRIlocal real Hkcall O1E(IAE)call IRE(t)if iX<(DDE*2+1)thenset VRI=VNI(p5,NY)if VRI!=null thenset Hk=VOI(p5,NY,VRI,DDE,false)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)call O8E(IAE,"Old",VRI)call O4E(IAE,"Count",iX+1)call TriggerRegisterTimerEvent(t,Hk+.4,false)call TriggerAddCondition(t,Condition(function VGI))endifendifset t=nullset p5=nullset NY=nullset VRI=nullreturn falseendfunctionfunction VHI takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit VJI=GetSpellTargetUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093684813)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real Hk=VOI(FLE,FLE,VJI,DDE,true)call O8E(IAE,"Source",FLE)call O4E(IAE,"Level",DDE)call O8E(IAE,"Old",VJI)call O4E(IAE,"Count",1)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function VGI))set FLE=nullset VJI=nullset t=nullendfunctionfunction VKI takes nothing returns booleanif GetSpellAbilityId()==1093684813 and FUE(GetSpellTargetUnit())==false thencall VHI()endifreturn falseendfunctionfunction ZQE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VKI))set t=nullendfunctionfunction VLI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=GetUnitAbilityLevel(FLE,1093684805)call UnitRemoveAbility(FLE,1093684805)call GKE(FLE,1093684805)call SetUnitAbilityLevel(FLE,1093684805,DDE)call O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction VQI takes unit m5,integer DDE returns nothinglocal real VUI=(8+DDE*8)/ 3call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+VUI)endfunctionfunction VWI takes nothing returns booleanif ji()thencall VQI(GetFilterUnit(),I5V)endifreturn falseendfunctionfunction VYI takes unit FLE returns nothinglocal integer DDE=GetUnitAbilityLevel(FLE,1093684805)local group g=FYE()set I9V=FLEset I5V=DDEcall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),375,Condition(function VWI))call FWE(g)set g=nullendfunctionfunction VZI takes unit FLE returns nothinglocal integer MAE=GetUnitAbilityLevel(FLE,1093684805)local real V_I=2+6*MAEcall SetUnitState(FLE,UNIT_STATE_MANA,GetUnitState(FLE,UNIT_STATE_MANA)-(V_I/3))if GetUnitState(FLE,UNIT_STATE_MANA)<V_I thenif R8E(FLE,"DeathWardOn")==false thencall IssueImmediateOrderById(FLE,$D00D2)endifendifendfunctionfunction V2I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==$D00D2 thencall O1E(IAE)call IRE(t)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function VLI))endifelsecall VYI(FLE)call VZI(FLE)endifset t=nullset FLE=nullreturn falseendfunctionfunction V3I takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.33,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function V2I))set FLE=nullset t=nullendfunctionfunction V4I takes nothing returns booleanif GetSpellAbilityId()==1093684805 thencall V3I()endifreturn falseendfunctionfunction ZTE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function V4I))set t=nullendfunctionfunction V5I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=GetUnitAbilityLevel(p5,1093684815)local integer iX=GetTriggerEvalCount(t)local real V6I=R2E(IAE,"StartingHP")local real V7I=0if GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseif iX==4 or iX==8 or iX==$C thencall DestroyEffect(RWE(IAE,"FX"))if iX==$C thencall O1E(IAE)call IRE(t)elseif iX==4 or iX==8 thencall O9E(IAE,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))endifset V7I=DDE*.1*HTE(V6I-GetUnitState(m5,UNIT_STATE_LIFE),0)if V7I>0 thencall H7E("+"+I2S(R2I(V7I)),2,m5,.023,68,0,$BB,$D8)endifendifcall MNE(p5,m5,1,DDE*5+V7I)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction EVI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function V5I))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call O5E(IAE,"StartingHP",GetUnitState(m5,UNIT_STATE_LIFE))call O9E(IAE,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))set t=nullset p5=nullset m5=nullendfunctionfunction EEI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local group g=FYE()local integer DDE=GetUnitAbilityLevel(p5,1093684815)call GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LLE))call ForGroup(g,function EVI)call FWE(g)call RemoveLocation(l)set l=nullset g=nullset p5=nullendfunctionfunction EXI takes nothing returns booleanif GetSpellAbilityId()==1093684815 thencall EEI()endifreturn falseendfunctionfunction ZSE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EXI))set t=nullendfunctionfunction EOI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call O1E(IAE)call IRE(t)if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST thencall XIE(p5)endifset p5=nullset t=nullreturn falseendfunctionfunction ERI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,$A,false)call TriggerAddCondition(t,Condition(function EOI))set t=nullset p5=nullendfunctionfunction EII takes nothing returns booleanif GetSpellAbilityId()==1093684820 or GetSpellAbilityId()==1093684824 thencall ERI()endifreturn falseendfunctionfunction EAI takes nothing returns booleanif GetUnitTypeId(GetSummonedUnit())==1865429040 or GetUnitTypeId(GetSummonedUnit())==1865429041 or GetUnitTypeId(GetSummonedUnit())==1865429057 or GetUnitTypeId(GetSummonedUnit())==1865429080 thencall IBE(GetSummoningUnit(),"DeathWardOn",8)endifreturn falseendfunctionfunction ZUE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function EAI))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EII))set t=nullendfunctionfunction ENI takes nothing returns booleanlocal integer id=0local unit m5local real M2E=(TimerGetElapsed(K))local real mplocal real hploopexitwhen id>$Cset m5=QV[id]if m5!=null and GetUnitAbilityLevel(m5,1110459204)>0 thenif w2[id]>M2E and GME(m5)==false thenif IsUnitInRegion(N3,m5) thenset hp=GetUnitState(m5,UNIT_STATE_LIFE)set mp=GetUnitState(m5,UNIT_STATE_MANA)set W2[id]=hpset Z2[id]=mpelseset hp=GetUnitState(m5,UNIT_STATE_LIFE)set mp=GetUnitState(m5,UNIT_STATE_MANA)if hp<W2[id]thenset W2[id]=hpendifif mp<Z2[id]thenset Z2[id]=mpendifcall SetUnitState(m5,UNIT_STATE_LIFE,W2[id])endifset e3[id]=e3[id]+1if e3[id]==$A thenset e3[id]=0if o3[id]==1 thencall MNE(v3[id],m5,1,12.5)elseif o3[id]==2 thencall MNE(v3[id],m5,1,20)elseif o3[id]==3 thencall MNE(v3[id],m5,1,32)endifendifelseif w2[id]>M2E and GME(m5) thenset w2[id]=0set W2[id]=9999set Z2[id]=9999endifif GetUnitAbilityLevel(m5,1110459204)>0 and w2[id]<M2E thencall UnitRemoveAbility(m5,1093749313)call UnitRemoveAbility(m5,1110459204)call UnitRemoveAbility(m5,1093749828)endifendifset id=id+1endloopset m5=nullreturn falseendfunctionfunction EBI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit F3E=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local unit MIEif GetUnitAbilityLevel(F3E,1110459204)==0 thencall O1E(IAE)call IRE(t)elseif GetOwningPlayer(F3E)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(F3E,UNIT_STATE_MAX_LIFE)*(.09+.01*DDE)>GetUnitState(F3E,UNIT_STATE_LIFE)and R8E(F3E,"ShallowGrave|Active")==false thencall O1E(IAE)call IRE(t)call UnitRemoveAbility(F3E,1093749313)call UnitRemoveAbility(F3E,1110459204)call UnitRemoveAbility(F3E,1093749828)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"overhead"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"origin"))set MIE=CreateUnit(GetOwningPlayer(GetEventDamageSource()),1697656901,0,0,0)call UnitRemoveBuffs(F3E,true,true)call UnitRemoveAbility(F3E,1097167980)call UnitDamageTarget(MIE,F3E,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set MIE=nullendifset t=nullset F3E=nullreturn falseendfunctionfunction ECI takes unit p5,unit m5 returns nothinglocal integer DDE=GetUnitAbilityLevel(p5,1093750089)local integer id=GetPlayerId(GetOwningPlayer(m5))local trigger tlocal integer IAEif DDE>0 and IsUnitType(m5,UNIT_TYPE_HERO) and IsUnitIllusion(m5)==false and GetUnitTypeId(m5)!=1211117642 thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function EBI))call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call GKE(m5,1093749313)call GKE(m5,1093749828)set w2[id]=(TimerGetElapsed(K))+7+DDEset W2[id]=GetUnitState(m5,UNIT_STATE_LIFE)set Z2[id]=GetUnitState(m5,UNIT_STATE_MANA)set v3[id]=p5set o3[id]=DDEendifset t=nullendfunctionfunction XKX takes nothing returns nothinglocal trigger t=CreateTrigger()local integer id=0local integer i=0local player pcall TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function ENI))loopexitwhen id>$Cset W2[id]=9999set Z2[id]=9999set id=id+1endlooploopexitwhen i>5set p=RX[i]call SetPlayerAbilityAvailable(p,1093749828,false)set p=GX[i]call SetPlayerAbilityAvailable(p,1093749828,false)set i=i+1endloopset t=nullset p=nullendfunctionfunction EDI takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),1093748826)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093748826)call UnitRemoveAbility(GetEnumUnit(),1110459189)endifif GetUnitAbilityLevel(GetEnumUnit(),1093749044)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093749044)call UnitRemoveAbility(GetEnumUnit(),1110459189)endifif GetUnitAbilityLevel(GetEnumUnit(),1093749043)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093749043)call UnitRemoveAbility(GetEnumUnit(),1110459189)endifif GetUnitAbilityLevel(GetEnumUnit(),1093749046)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093749046)call UnitRemoveAbility(GetEnumUnit(),1110459189)endifendfunctionfunction EFI takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif FHE(GetEnumUnit())==false thenif a3==1 thenif GetUnitAbilityLevel(GetEnumUnit(),1093748826)==0 thencall UnitRemoveAbility(GetEnumUnit(),1110459189)call GKE(GetEnumUnit(),1093748826)endifelseif a3==2 thenif GetUnitAbilityLevel(GetEnumUnit(),1093749044)==0 thencall UnitRemoveAbility(GetEnumUnit(),1110459189)call GKE(GetEnumUnit(),1093749044)endifelseif a3==3 thenif GetUnitAbilityLevel(GetEnumUnit(),1093749043)==0 thencall UnitRemoveAbility(GetEnumUnit(),1110459189)call GKE(GetEnumUnit(),1093749043)endifelseif a3==4 thenif GetUnitAbilityLevel(GetEnumUnit(),1093749046)==0 thencall UnitRemoveAbility(GetEnumUnit(),1110459189)call GKE(GetEnumUnit(),1093749046)endifendifendifendfunctionfunction EGI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local group EHI=RUE(IAE,"ActiveGroup")local real x=GetUnitX(MIE)local real y=GetUnitY(MIE)local group g=FYE()local group g2if GetTriggerEventId()==EVENT_UNIT_DEATH thencall ForGroup(EHI,function EDI)call FWE(g)call FWE(EHI)call O1E(IAE)call IRE(t)call ShowUnit(MIE,false)set t=nullset p5=nullset MIE=nullset EHI=nullreturn falseendifset n3=p5set a3=GetUnitAbilityLevel(p5,1093748819)set I9V=p5call GroupEnumUnitsInRange(g,x,y,300,Condition(function K3E))call GroupRemoveGroup(g,EHI)call ForGroup(EHI,function EDI)call ForGroup(g,function EFI)call RAE(IAE,"ActiveGroup",g)call FWE(EHI)set t=nullset p5=nullset MIE=nullset EHI=nullset g=nullreturn falseendfunctionfunction EJI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer DDE=GetUnitAbilityLevel(p5,1093748819)local unit MIE=CreateUnit(GetOwningPlayer(p5),1848658001,x,y,0)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call UnitApplyTimedLife(MIE,1112820806,$C)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EGI))call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call RAE(IAE,"ActiveGroup",FYE())set p5=nullcall RemoveLocation(l)set l=nullset MIE=nullset t=nullendfunctionfunction EKI takes nothing returns booleanif GetSpellAbilityId()==1093748819 thencall EJI()endifreturn falseendfunctionfunction XGX takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0local player pcall JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EKI))set t=nullloopexitwhen i>5set p=RX[i]call SetPlayerAbilityAvailable(p,1093748826,false)call SetPlayerAbilityAvailable(p,1093749044,false)call SetPlayerAbilityAvailable(p,1093749043,false)call SetPlayerAbilityAvailable(p,1093749046,false)set p=GX[i]call SetPlayerAbilityAvailable(p,1093748826,false)call SetPlayerAbilityAvailable(p,1093749044,false)call SetPlayerAbilityAvailable(p,1093749043,false)call SetPlayerAbilityAvailable(p,1093749046,false)set i=i+1endloopset p=nullendfunctionfunction ELI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local integer DDE=R1E(IAE,"Level")local unit MIElocal real HUE=(100+50*DDE)/ 4if GetTriggerEventId()==EVENT_UNIT_DEATH or E4E(x,y,GetUnitX(m5),GetUnitY(m5))>765 or GetUnitAbilityLevel(m5,1110459203)==0 thencall DestroyEffect(RWE(IAE,"FX"))call DestroyEffect(RWE(IAE,"fx2"))call UnitRemoveAbility(m5,1093749305)call UnitRemoveAbility(m5,1110459203)call O1E(IAE)call IRE(t)elseif GetTriggerEvalCount(t)==($A*.8)thencall DestroyEffect(RWE(IAE,"FX"))call O9E(IAE,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call MNE(p5,m5,1,HUE)elseif GetTriggerEvalCount(t)==($A*1.6)thencall DestroyEffect(RWE(IAE,"FX"))call O9E(IAE,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call MNE(p5,m5,1,HUE)elseif GetTriggerEvalCount(t)==($A*2.5)thencall DestroyEffect(RWE(IAE,"FX"))call O9E(IAE,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call MNE(p5,m5,1,HUE)elseif GetTriggerEvalCount(t)==($A*3.4)thencall DestroyEffect(RWE(IAE,"FX"))call MNE(p5,m5,1,HUE)elseif GetTriggerEvalCount(t)>($A*3.9)thencall DestroyEffect(RWE(IAE,"fx2"))call UnitRemoveAbility(m5,1093749305)call UnitRemoveAbility(m5,1110459203)call O1E(IAE)call IRE(t)set MIE=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(MIE,1093750090)call SetUnitAbilityLevel(MIE,1093750090,DDE)call IssueTargetOrderById(MIE,$D007F,m5)set MIE=nullendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction EMI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093750087)local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"if GetLocalPlayer()==GetOwningPlayer(m5)thenendifcall GKE(m5,1093749305)call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O5E(IAE,"x",GetUnitX(m5)*1.)call O5E(IAE,"y",GetUnitY(m5)*1.)call O4E(IAE,"Level",DDE)call O9E(IAE,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call O9E(IAE,"fx2",AddSpecialEffect(s,GetUnitX(m5),GetUnitY(m5)))call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ELI))set p5=nullset m5=nullset t=nullendfunctionfunction EPI takes nothing returns booleanif GetSpellAbilityId()==1093750087 and FUE(GetSpellTargetUnit())==false thencall EMI()endifreturn falseendfunctionfunction XHX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EPI))set t=nullendfunctionfunction EQI takes nothing returns nothinglocal unit p5=E3local unit m5=GetEnumUnit()local integer DDE=V3call ECI(p5,m5)call MNE(p5,m5,1,$96+100*DDE)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",m5,"chest"))set p5=nullset m5=nullendfunctionfunction ETI takes nothing returns nothinglocal unit p5=E3local unit m5=GetEnumUnit()local integer DDE=V3call ECI(p5,m5)set p5=nullset m5=nullendfunctionfunction EUI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit L9E=RME(IAE,"Projectile")local real Y5=R2E(IAE,"TargetX")local real Z5=R2E(IAE,"TargetY")local real l4=R2E(IAE,"Angle")local real EWI=R2E(IAE,"AOE")local unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local real x=GetUnitX(L9E)+30*Cos(l4)local real y=GetUnitY(L9E)+30*Sin(l4)local group glocal fogmodifier EZIif E4E(x,y,Y5,Z5)<35 or x!=HRE(x)or y!=HIE(y)thenset x=Y5set y=Z5call SetUnitX(L9E,x)call SetUnitY(L9E,y)call DestroyEffect(RWE(IAE,"FX"))set EZI=RKE(IAE,"Fog")call FogModifierStop(EZI)call DestroyFogModifier(EZI)set EZI=nullif WKV thenset bj_forLoopAIndex=0set bj_forLoopAIndexEnd=R1E(IAE,"FUN|EffNum")loopexitwhen bj_forLoopAIndex>=bj_forLoopAIndexEndcall DestroyEffect(RWE(IAE,"FUN|Eff"+I2S(bj_forLoopAIndex)))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifcall O1E(IAE)call IRE(t)call KillUnit(L9E)set I9V=p5set E3=p5set V3=DDEset g=FYE()call GroupEnumUnitsInRange(g,x,y,EWI+25,Condition(function K3E))call ForGroup(g,function EQI)call FWE(g)set g=nullelsecall SetUnitX(L9E,x)call SetUnitY(L9E,y)set I9V=p5set E3=p5set V3=DDEset g=FYE()call GroupEnumUnitsInRange(g,x,y,300,Condition(function K3E))call ForGroup(g,function ETI)call FWE(g)set g=nullendifset t=nullset L9E=nullset p5=nullreturn falseendfunctionfunction E_I takes unit p5,real x,real y,real E0I,effect FX,fogmodifier EZI returns nothinglocal real l4=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit L9E=CreateUnit(GetOwningPlayer(p5),1747993142,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)local integer DDE=GetUnitAbilityLevel(p5,1093750089)local real EWI=HSE($E1+25*E0I*2,$3E8)local real GTR=E4E(GetUnitX(p5),GetUnitY(p5),x,y)if IsUnitEnemy(L9E,GetLocalPlayer())and FJE(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(L9E,true)endifcall TriggerRegisterTimerEvent(t,HSE(2./(GTR/ 30),.04),true)call TriggerAddCondition(t,Condition(function EUI))call O8E(IAE,"Projectile",L9E)call O5E(IAE,"TargetX",x*1.)call O5E(IAE,"TargetY",y*1.)call O5E(IAE,"Angle",l4*1.)call O5E(IAE,"AOE",EWI*1.)call O4E(IAE,"Level",DDE)call O8E(IAE,"Source",p5)call RXE(IAE,"Fog",EZI)call O9E(IAE,"FX",FX)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,true)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)if WKV thenset WAV=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(p5))thenset WAV="Doodads\\Icecrown\\Water\\BubbleGeyserSteam\\BubbleGeyserSteam.mdx"endifset bj_forLoopAIndex=0set bj_forLoopAIndexEnd=R2I(EWI/100)+$Aloopexitwhen bj_forLoopAIndex>=bj_forLoopAIndexEndset WNV=I2R(bj_forLoopAIndex)*(6.2831853/I2R(bj_forLoopAIndexEnd))call O9E(IAE,"FUN|Eff"+I2S(bj_forLoopAIndex),AddSpecialEffect(WAV,x+Cos(WNV)*EWI,y+Sin(WNV)*EWI))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall O4E(IAE,"FUN|EffNum",bj_forLoopAIndexEnd)endifset t=nullset L9E=nullendfunctionfunction E2I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit L9E=RME(IAE,"Projectile")local unit p5=RME(IAE,"Source")local real l4=R2E(IAE,"Angle")local real xlocal real ylocal real E0I=TimerGetElapsed(K)-R2E(IAE,"CastTime")local string slocal fogmodifier EZIlocal effect FXlocal real E3I=GetUnitX(L9E)+30*Cos(l4)local real E4I=GetUnitY(L9E)+30*Sin(l4)local boolean J4local integer iset x=HRE(E3I)set y=HIE(E4I)call SetUnitX(L9E,x)call SetUnitY(L9E,y)if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093750094)or x!=E3I or y!=E4I thencall O1E(IAE)call IRE(t)call RemoveUnit(L9E)set s=""if IsPlayerAlly(GetOwningPlayer(p5),GetLocalPlayer())or FJE(GetLocalPlayer())thenset s="war3mapImported\\IceWindGroundFX.mdl"endifset EZI=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,x,y,500,true,true)call FogModifierStart(EZI)set FX=AddSpecialEffect(s,x,y)call E_I(p5,x,y,E0I,FX,EZI)set EZI=nullset FX=nullelseif B6E(GetOwningPlayer(p5))thenset WNV=E4E(x,y,R2E(IAE,"AI|TgtX"),R2E(IAE,"AI|TgtY"))if WNV>R2E(IAE,"AI|MaxDist")or R3E(IAE,"AI|Blast")thenif XSE(p5)thencall OTE(p5,$D022E,1093750094)elsecall O7E(IAE,"AI|Blast",true)endifelsecall O5E(IAE,"AI|MaxDist",WNV)if Bz>R2E(IAE,"AI|NextUp")thencall O5E(IAE,"AI|NextUp",Bz+1)set J4=falseset i=R1E(GetHandleId(p5),"AI|IBClose")if(i==1)thenset J4=(F7E(p5,RME(GetHandleId(p5),"AI|IBTgt"),500.,.02,1500.)!=null)elseif(i==0)thenset J4=(F7E(p5,RME(GetHandleId(p5),"AI|IBTgt"),1500.,2.02,99999.)!=null)elseif(i==2)thencall jv(RME(GetHandleId(p5),"AI|IBTgt"))call MoveLocation(YIV,GetLocationX(HA),GetLocationY(HA))endifif J4 thencall O5E(IAE,"AI|TgtX",GetLocationX(YIV))call O5E(IAE,"AI|TgtY",GetLocationY(YIV))call O5E(IAE,"AI|MaxDist",99999.)endifendifendifendifset t=nullset L9E=nullset p5=nullreturn falseendfunctionfunction E5I takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit L9E=CreateUnit(GetOwningPlayer(p5),1211122232,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)if IsUnitEnemy(L9E,GetLocalPlayer())and FJE(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(L9E,true)endifcall O8E(IAE,"Projectile",L9E)call O8E(IAE,"Source",p5)call O5E(IAE,"Angle",a*1.)call O5E(IAE,"CastTime",TimerGetElapsed(K)*1.)if B6E(GetOwningPlayer(p5))thencall O5E(IAE,"AI|TgtX",x)call O5E(IAE,"AI|TgtY",y)call O5E(IAE,"AI|MaxDist",99999.)call O5E(IAE,"AI|NextUp",Bz+1)endifcall TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function E2I))call SetUnitColor(L9E,GetPlayerColor(Player($E)))call RemoveLocation(l)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750089,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,true)call GKE(p5,1093750094)if B6E(GetOwningPlayer(p5))thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093750094,false)endifset p5=nullset l=nullset t=nullset L9E=nullendfunctionfunction E6I takes nothing returns booleanif GetSpellAbilityId()==1093750089 thencall E5I()endifreturn falseendfunctionfunction XJX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E6I))set t=nullendfunctionfunction E7I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local integer E8I=R1E(GetHandleId(p5),"ChillingCounter")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and GetEventDamage()>1 thencall DisableTrigger(t)if E8I>0 thencall O4E(GetHandleId(p5),"ChillingCounter",E8I-1)call H7E("+"+I2S(30+$A*DDE),1,p5,.024,100,$C8,$FF,$FF)call MNE(p5,m5,1,30+$A*DDE)endifcall O1E(IAE)call IRE(t)endifelsecall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction E9I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=X3if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenset p5=GetAttacker()endifif GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(R1E(GetHandleId(p5),"ChillingCounter")==0 and GetUnitAbilityLevel(p5,1093748814)>0)thencall DestroyEffect(RWE(GetHandleId(p5),"fx1"))call DestroyEffect(RWE(GetHandleId(p5),"fx2"))call O4E(GetHandleId(p5),"ChillingCounter",0)call O1E(IAE)if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED thencall IRE(t)endifcall UnitRemoveAbility(p5,1093748814)call UnitRemoveAbility(p5,1110459210)call UnitRemoveAbility(p5,1093749072)elseif GetUnitAbilityLevel(p5,1093748814)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and R8E(p5,"ChillingTouchState")==false thencall IBE(p5,"ChillingTouchState",.4)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function E7I))call O8E(IAE,"Target",GetTriggerUnit())call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)endifset t=nullset p5=nullreturn falseendfunctionfunction XVI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093748817)set X3=DDEcall GKE(m5,1093748814)call GKE(m5,1093749072)call O4E(GetHandleId(m5),"ChillingCounter",1+DDE)call O8E(IAE,"Source",m5)call O9E(GetHandleId(m5),"fx1",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"right,hand"))call O9E(GetHandleId(m5),"fx2",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"left,hand"))call TriggerRegisterTimerEvent(t,40,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function E9I))set p5=nullset m5=nullset t=nullendfunctionfunction XEI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=FYE()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call RemoveLocation(l)call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))call GroupEnumUnitsInRange(g,x,y,475,Condition(function L5E))call ForGroup(g,function XVI)call FWE(g)set p5=nullset g=nullset l=nullendfunctionfunction XXI takes nothing returns booleanif GetSpellAbilityId()==1093748817 thencall XEI()endifreturn falseendfunctionfunction XLX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XXI))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function E9I))set t=nullendfunctionfunction XOI takes nothing returns nothingcall MNE(A3,GetEnumUnit(),1,(GetUnitAbilityLevel(A3,1093749069)*75)/$A)endfunctionfunction XRI takes unit J6E returns nothinglocal real XII=(GetUnitAbilityLevel(J6E,1093749069)*75)/2set XII=XII/10.if GetUnitState(J6E,UNIT_STATE_LIFE)<=XII*.75 thenset XII=GetUnitState(J6E,UNIT_STATE_LIFE)/.75-$Aendifcall MNE(J6E,J6E,1,XII)endfunctionfunction XAI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit J6E=RME(IAE,"Source")local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local group glocal real HUElocal unit MIElocal integer DDE=0local integer DZX=GetTriggerEvalCount(t)if GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)return falseelseif GetTriggerEvalCount(t)==1 thenset MIE=CreateUnit(GetOwningPlayer(J6E),1747993138,x,y,0)call UnitApplyTimedLife(MIE,1112820806,1)set MIE=nullcall TriggerRegisterTimerEvent(t,.1,true)set g=FYE()set A3=J6Eset I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,350,Condition(function K3E))call ForGroup(g,function XOI)call XRI(J6E)call FWE(g)elseif DZX==$A thencall O1E(IAE)call IRE(t)endifset g=FYE()set A3=J6Eset I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,350,Condition(function K3E))call ForGroup(g,function XOI)call XRI(J6E)call FWE(g)call HAX(J6E)call HOX(J6E,0,0)endifendifset t=nullset g=nullset J6E=nullreturn falseendfunctionfunction XNI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local real HUE=(GetUnitAbilityLevel(p5,1093749069)*75)/ 2call TriggerRegisterTimerEvent(t,1.5,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function XAI))call O8E(IAE,"Source",p5)set t=nullset p5=nullendfunctionfunction XBI takes nothing returns booleanif GetSpellAbilityId()==1093749069 thencall XNI()endifreturn falseendfunctionfunction XSX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XBI))set t=nullendfunctionfunction XCI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local player XDIlocal integer DDE=GetUnitAbilityLevel(p5,1093749070)local integer MainLevel=GetUnitAbilityLevel(p5,1093749070)local real M2E=TimerGetElapsed(K)local real XFI=R2E(IAE,"Buffer1")local real XGI=R2E(IAE,"Buffer2")if GME(p5)thenset t=nullset p5=nullreturn falseendifif B2E(GetOwningPlayer(p5))thenset XDI=GX[1]elseset XDI=RX[1]endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==SX thenif GetUnitAbilityLevel(p5,1093749061)>0 thencall UnitRemoveAbility(p5,1093749061)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749062)>0 thencall UnitRemoveAbility(p5,1093749062)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749063)>0 thencall UnitRemoveAbility(p5,1093749063)call UnitRemoveAbility(p5,1110459193)endifcall O5E(IAE,"NightcrawlerTime",(M2E+2)*1.)set t=nullset p5=nullreturn falseendifif R2E(IAE,"NightcrawlerTime")>M2E thenset t=nullset p5=nullreturn falseendifif IsUnitVisible(p5,XDI)or GetUnitAbilityLevel(p5,1112433775)>0 thenset XGI=0if GetUnitAbilityLevel(p5,1093749061)>0 or GetUnitAbilityLevel(p5,1093749062)>0 or GetUnitAbilityLevel(p5,1093749063)>0 thenset XFI=XFI+.1if XFI>.4 thenset XFI=0if GetUnitAbilityLevel(p5,1093749061)>0 thencall UnitRemoveAbility(p5,1093749061)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749062)>0 thencall UnitRemoveAbility(p5,1093749062)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749063)>0 thencall UnitRemoveAbility(p5,1093749063)call UnitRemoveAbility(p5,1110459193)endifendifendifcall O5E(IAE,"Buffer1",XFI*1.)call O5E(IAE,"Buffer2",XGI*1.)elseif IsUnitVisible(p5,XDI)==false thenset XFI=0if(DDE==1 and GetUnitAbilityLevel(p5,1093749061)==0)or(DDE==2 and GetUnitAbilityLevel(p5,1093749062)==0)or(DDE==3 and GetUnitAbilityLevel(p5,1093749063)==0)thenset XGI=XGI+.1if XGI>.6 thenset XGI=0if DDE==1 thenif GetUnitAbilityLevel(p5,1093749061)==0 thencall GKE(p5,1093749061)endifendifif DDE==2 thenif GetUnitAbilityLevel(p5,1093749061)>0 thencall UnitRemoveAbility(p5,1093749061)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749062)==0 thencall GKE(p5,1093749062)endifendifif DDE==3 thenif GetUnitAbilityLevel(p5,1093749061)>0 thencall UnitRemoveAbility(p5,1093749061)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749062)>0 thencall UnitRemoveAbility(p5,1093749062)call UnitRemoveAbility(p5,1110459193)endifif GetUnitAbilityLevel(p5,1093749063)==0 thencall GKE(p5,1093749063)endifendifendifendifcall O5E(IAE,"Buffer1",XFI*1.)call O5E(IAE,"Buffer2",XGI*1.)endifset t=nullset p5=nullset XDI=nullreturn falseendfunctionfunction XHI takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O5E(IAE,"Buffer1",0*1.)call O5E(IAE,"Buffer2",0*1.)call O5E(IAE,"NightcrawlerTime",TimerGetElapsed(K)*1.)call O8E(IAE,"Source",FLE)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function XCI))call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749061,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749062,false)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093749063,false)set t=nullendfunctionfunction XJI takes nothing returns booleanif GetLearnedSkill()==1093749070 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093749070)==1 thencall XHI(GetTriggerUnit(),false)endifreturn falseendfunctionfunction XQX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function XJI))set t=nullendfunctionfunction XKI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=GetDyingUnit()if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(J6E)and IsUnitType(F3E,UNIT_TYPE_HERO) and IsUnitIllusion(F3E)==false thenendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction XLI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer XMI=(LoadInteger(YX,(H2E),(422)))local integer XPI=(LoadInteger(YX,(H2E),(423)))local integer ILR=(LoadInteger(YX,(H2E),(424)))if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(LoadBoolean(YX,(H2E),(276)))==false and GetTriggerUnit()==J6E thencall SaveBoolean(YX,(H2E),(276),(true))call SetHeroAgi(J6E,GetHeroAgi(J6E,false)-XMI-XPI-ILR,true)elseif(LoadBoolean(YX,(H2E),(277)))==false and GetTriggerUnit()==F3E thencall SaveBoolean(YX,(H2E),(277),(true))call SetHeroAgi(F3E,GetHeroAgi(F3E,false)+XMI,true)call SetHeroStr(F3E,GetHeroStr(F3E,false)+XPI,true)call SetHeroInt(F3E,GetHeroInt(F3E,false)+ILR,true)endifelseif(LoadBoolean(YX,(H2E),(276)))==false thencall SaveBoolean(YX,(H2E),(276),(true))call SetHeroAgi(J6E,GetHeroAgi(J6E,false)-XMI-XPI-ILR,true)endifif(LoadBoolean(YX,(H2E),(277)))==false thencall SaveBoolean(YX,(H2E),(277),(true))call SetHeroAgi(F3E,GetHeroAgi(F3E,false)+XMI,true)call SetHeroStr(F3E,GetHeroStr(F3E,false)+XPI,true)call SetHeroInt(F3E,GetHeroInt(F3E,false)+ILR,true)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction XQI takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093748818)local integer XSI=FKE(F3E)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer XMIlocal integer XPIlocal integer ILRlocal real OXRif XSI==2 thenset XMI=IMinBJ(GetHeroAgi(F3E,false)-1,1)set XPI=IMinBJ(GetHeroStr(F3E,false)-1,1)set ILR=IMinBJ(GetHeroInt(F3E,false)-1,1)elseif XSI==3 thenset XMI=IMinBJ(GetHeroAgi(F3E,false)-1,1)set XPI=IMinBJ(GetHeroStr(F3E,false)-1,1)set ILR=IMinBJ(GetHeroInt(F3E,false)-1,1)elseif XSI==1 thenset XMI=IMinBJ(GetHeroAgi(F3E,false)-1,1)set XPI=IMinBJ(GetHeroStr(F3E,false)-1,1)set ILR=IMinBJ(GetHeroInt(F3E,false)-1,1)endifcall SetHeroAgi(J6E,GetHeroAgi(J6E,false)+XMI+ILR+XPI,true)call SetHeroAgi(F3E,GetHeroAgi(F3E,false)-XMI,true)call SetHeroStr(F3E,GetHeroStr(F3E,false)-XPI,true)call SetHeroInt(F3E,GetHeroInt(F3E,false)-ILR,true)call SaveInteger(YX,(H2E),(422),(XMI))call SaveInteger(YX,(H2E),(424),(ILR))call SaveInteger(YX,(H2E),(423),(XPI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveBoolean(YX,(H2E),(276),(false))call SaveBoolean(YX,(H2E),(277),(false))if MAE==1 thenset OXR=$Felseif MAE==2 thenset OXR=30elseif MAE==3 thenset OXR=60elseif MAE==4 thenset OXR=120endifcall TriggerRegisterTimerEvent(t,OXR,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function XLI))set t=nullendfunctionfunction XTI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall XQI(J6E,F3E)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction XUI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer NMO=(LoadInteger(YX,(H2E),(30)))local unit F3E=BYE(NMO)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall DisableTrigger(t)call BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function XTI))call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))endifelsecall BWE(NMO)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction XWI takes nothing returns nothinglocal trigger t=CreateTrigger()local unit F3E=GetTriggerUnit()local unit J6E=GetAttacker()local integer H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function XUI))call SaveInteger(YX,(H2E),(30),(B_E(F3E)))call SaveUnitHandle(YX,(H2E),(2),(J6E))set F3E=nullset J6E=nullset t=nullendfunctionfunction XYI takes nothing returns nothinglocal unit J6E=GetAttacker()if R8E(J6E,"CooldownState")==false thencall IBE(J6E,"CooldownState",.45-GetUnitAbilityLevel(GetAttacker(),1093748818)*.05)call XWI()endifendfunctionfunction XZI takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093748818)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(YX,(GetHandleId(GetTriggeringTrigger())),($E)))and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall XYI()endifreturn falseendfunctionfunction X_I takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2Ecall JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function XZI))call SaveUnitHandle(YX,(GetHandleId(t)),($E),(GetTriggerUnit()))set t=CreateTrigger()set H2E=GetHandleId(t)call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function XKI))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))set t=nullendfunctionfunction X0I takes nothing returns booleanif GetLearnedSkill()==1093748818 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093748818)==1 thencall X_I()endifreturn falseendfunctionfunction XMX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function X0I))set t=nullendfunctionfunction X1I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local integer DDE=R1E(IAE,"Level")if GetTriggerEvalCount(t)>5.5/.03 thencall KillUnit(MIE)call O1E(IAE)call IRE(t)elsecall SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))endifset t=nullset p5=nullset MIE=nullreturn falseendfunctionfunction X2I takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093749070)local real d=5.5local unit MIE=CreateUnit(GetOwningPlayer(p5),1747993137,GetUnitX(p5),GetUnitY(p5),0)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call KOE(p5,1093748823,1,d)call KOE(p5,1093748824,1,d)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function X1I))call O8E(IAE,"Caster",MIE)call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)set p5=nullset MIE=nullset t=nullendfunctionfunction X3I takes nothing returns booleanif GetSpellAbilityId()==1093749070 thencall X2I()endifreturn falseendfunctionfunction XPX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X3I))set t=nullendfunctionfunction X4I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer A7O=GetTriggerEvalCount(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local lightning X5I=RYE(IAE,"Lightning")local integer DDE=R1E(IAE,"Level")local real t5=R2E(IAE,"SourceX")local real w5=R2E(IAE,"SourceY")local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real OVIlocal real OEIlocal real P_R=R2E(IAE,"LastX")local real P0R=R2E(IAE,"LastY")local real l4local real GTR=E4E(P_R,P0R,Y5,Z5)call O5E(IAE,"LastX",Y5)call O5E(IAE,"LastY",Z5)if GTR>100 or A7O>(3.5/ .03)or FHE(m5) thencall DestroyLightning(X5I)call O1E(IAE)call IRE(t)elsecall MoveLightning(X5I,true,t5,w5,Y5,Z5)if E4E(t5,w5,Y5,Z5)>325 thenset l4=Atan2(Z5-w5,Y5-t5)set OVI=t5+(325)*Cos(l4)set OEI=w5+(325)*Sin(l4)call SetUnitX(m5,OVI)call SetUnitY(m5,OEI)endifendifset t=nullset p5=nullset m5=nullset X5I=nullreturn falseendfunctionfunction OXI takes unit J6E,unit F3E,integer MAE returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local lightning MBR=AddLightning("PONC",true,GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))call SetLightningColor(MBR,1,1,1,1)call SaveLightningHandle(YX,(H2E),StringHash("Lightning"),(MBR))call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)call O4E(H2E,"Level",MAE)call O5E(H2E,"SourceX",GetUnitX(J6E)*1.)call O5E(H2E,"SourceY",GetUnitY(J6E)*1.)call O5E(H2E,"LastX",GetUnitX(F3E)*1.)call O5E(H2E,"LastY",GetUnitY(F3E)*1.)call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function X4I))call MNE(J6E,F3E,1,70*MAE)call IssueTargetOrderById(J6E,$D000F,F3E)set t=nullset MBR=nullendfunctionfunction OOI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer DZX=GetTriggerEvalCount(t)local integer MAE=R1E(H2E,"Level")local unit J6E=RME(H2E,"Source")local real BEO=R2E(H2E,"Angle")local real ZJR=R2E(H2E,"SourceX")local real ZKR=R2E(H2E,"SourceY")local real JDE=R2E(H2E,"TargetX")local real JFE=R2E(H2E,"TargetY")local real JJE=ZJR+(30*(20+4*2)/30)*DZX*Cos(BEO*bj_DEGTORAD)local real JKE=ZKR+(30*(20+4*2)/30)*DZX*Sin(BEO*bj_DEGTORAD)local real ORI=SquareRoot((JJE-JDE)*(JJE-JDE)+(JKE-JFE)*(JKE-JFE))local real OII=700local real OAI=$AFlocal real ONI=(1-ORI/ OII)*OAI*2local group g=FYE()local unit F3Eif DZX==1 thencall SetUnitAnimationByIndex(J6E,5)call SetUnitTimeScale(J6E,1.5)endifif ONI>OAI thencall SetUnitAnimationByIndex(J6E,5)set ONI=OAI*2-ONIendifcall SetUnitFlyHeight(J6E,HTE(ONI,0),0)call SetUnitX(J6E,HRE(JJE))call SetUnitY(J6E,HIE(JKE))call SetUnitFacing(J6E,BEO)set I9V=J6Ecall GroupEnumUnitsInRange(g,JJE,JKE,120,Condition(function LFE))set F3E=FirstOfGroup(g)call FWE(g)if ORI<30 or F3E!=null or GetTriggerEvalCount(t)>75 thencall SetUnitFlyHeight(J6E,0,0)call SetUnitFacing(J6E,BEO)call SetUnitTimeScale(J6E,1)call SetUnitAnimation(J6E,"stand")call SetUnitPathing(J6E,true)call UnitRemoveAbility(J6E,1093749302)call JRE(GetUnitX(J6E),GetUnitY(J6E),100)if F3E!=null and FHE(F3E)==false thencall IBE(F3E,"4408",5)call OXI(J6E,F3E,MAE)endifcall O1E(H2E)call IRE(t)endifset t=nullset J6E=nullset F3E=nullset g=nullreturn falseendfunctionfunction OBI takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093749303)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real OCI=700local real BEO=GetUnitFacing(J6E)local real H7O=GetUnitX(J6E)local real H8O=GetUnitY(J6E)local real JDE=HRE(H7O+OCI*Cos(BEO*bj_DEGTORAD))local real JFE=HIE(H8O+OCI*Sin(BEO*bj_DEGTORAD))call GKE(J6E,1097691750)call UnitRemoveAbility(J6E,1097691750)call SetUnitPathing(J6E,false)call GKE(J6E,1093749302)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function OOI))call O8E(H2E,"Source",J6E)call O4E(H2E,"Level",MAE)call O5E(H2E,"Angle",BEO*1.)call O5E(H2E,"SourceX",H7O*1.)call O5E(H2E,"SourceY",H8O*1.)call O5E(H2E,"TargetX",JDE*1.)call O5E(H2E,"TargetY",JFE*1.)set J6E=nullset t=nullendfunctionfunction ODI takes nothing returns booleanif GetSpellAbilityId()==1093749303 thencall OBI()endifreturn falseendfunctionfunction XTX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ODI))set t=nullendfunctionfunction OFI takes nothing returns nothinglocal integer IAE=GetHandleId(GetTriggeringTrigger())local unit p5=I9Vlocal unit m5=AVVlocal real HUE=R2E(IAE,"Damage")call MNE(p5,m5,1,HUE)set p5=nullset m5=nullendfunctionfunction OGI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local trigger t=JLE(p5,m5,1747993168,"OFI",700)local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(p5,1093678145)local real C4Oif MAE==1 thenset C4O=85elseif MAE==2 thenset C4O=$A5elseif MAE==3 thenset C4O=$E1elseif MAE==4 thenset C4O=300endifcall O5E(H2E,"Damage",C4O)set p5=nullset m5=nullset t=nullendfunctionfunction OHI takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local integer MAE=GetUnitAbilityLevel(J6E,1093678145)call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),500,Condition(function LRE))call ForGroup(g,function OGI)call FWE(g)call PlaySoundOnUnitBJ(UM,100,J6E)set J6E=nullset g=nullendfunctionfunction OJI takes nothing returns booleanif GetSpellAbilityId()==1093678145 thencall OHI()endifreturn falseendfunctionfunction XUX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OJI))set t=nullendfunctionfunction OKI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall O1E(IAE)call IRE(t)elsecall O1E(IAE)call IRE(t)call XIE(p5)endifset t=nullset p5=nullreturn falseendfunctionfunction OLI takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093677136)call TriggerRegisterTimerEvent(t,1+1.75+.75*DDE,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function OKI))call O8E(IAE,"Source",p5)set p5=nullset t=nullendfunctionfunction OMI takes nothing returns booleanif GetSpellAbilityId()==1093677136 thencall OLI()endifreturn falseendfunctionfunction XWX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OMI))set t=nullendfunctionfunction OPI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=(LoadInteger(YX,(H2E),(5)))if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>($F+5*MAE)or FHE(J6E)thencall IXE(J6E,"IcarusDive|Disarmed")call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))if R8E(J6E,"SunRay|Disarmed")==false thencall UnitRemoveAbility(J6E,1096971630)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction OQI takes unit J6E,integer MAE returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call UnitAddAbility(J6E,1096971630)call UnitMakeAbilityPermanent(J6E,true,1096971630)call IVE(J6E,"IcarusDive|Disarmed")call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OPI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",J6E,"overhead")))set t=nullendfunctionfunction OSI takes nothing returns booleanif IsUnitInGroup(GetEnumUnit(),M6V)==false and FHE(GetEnumUnit())==false thencall GroupAddUnit(M6V,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))call MNE(M8V,GetEnumUnit(),1,50+50*M7V)if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall OQI(GetEnumUnit(),M7V)endifendifreturn falseendfunctionfunction OTI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer DZX=(LoadInteger(YX,(H2E),(34)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real H7O=(LoadReal(YX,(H2E),($BD)))local real H8O=(LoadReal(YX,(H2E),($BE)))local real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local real a=(LoadReal(YX,(H2E),($D)))local real OUI=(1-I2R(DZX)/50)*bj_PIlocal real OWI=M9V/2*Cos(OUI)local real OYI=500/2*Sin(OUI)local real x=HRE(JDE+OWI*Cos(a)-OYI*Sin(a))local real y=HIE(JFE+OWI*Sin(a)+OYI*Cos(a))local group BCO=(LoadGroupHandle(YX,(H2E),($85)))local group glocal integer MAE=GetUnitAbilityLevel(J6E,1093751370)if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and DZX>0)or DZX>100 or G4X(J6E)thencall JRE(x,y,300)call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093751370 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093751370,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808206,false)call SetUnitPathing(J6E,true)call FWE(BCO)call FlushChildHashtable(YX,(H2E))call IRE(t)elseif ModuloInteger(DZX,$A)==0 thencall JRE(x,y,$C8)endifcall SaveInteger(YX,(H2E),(34),(DZX+1))call SetUnitX(J6E,x)call SetUnitY(J6E,y)call SetUnitFacing(J6E,(a+OUI-bj_PI/2)*bj_RADTODEG)set g=FYE()set M6V=BCOset I9V=J6Eset M8V=J6Eset M7V=GetUnitAbilityLevel(J6E,1093751370)call GroupEnumUnitsInRange(g,x,y,325,Condition(function K9E))call ForGroup(g,function OSI)call FWE(g)endifset t=nullset J6E=nullset g=nullset BCO=nullreturn falseendfunctionfunction OZI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real H7O=GetUnitX(J6E)local real H8O=GetUnitY(J6E)local real a=H4E(H7O,H8O,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal real JDE=H7O+$578/2*Cos(a)local real JFE=H8O+$578/2*Sin(a)call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)-GetUnitState(J6E,UNIT_STATE_LIFE)*.1)call IBE(J6E,"DashState1",2)call IBE(J6E,"DashState2",2)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OTI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),($BD),((H7O)*1.))call SaveReal(YX,(H2E),($BE),((H8O)*1.))call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))call SaveReal(YX,(H2E),($D),((a)*1.))call SaveGroupHandle(YX,(H2E),($85),(FYE()))call SetUnitPathing(J6E,false)call SetUnitVertexColor(J6E,$FF,$FF,$FF,50)call GKE(J6E,1093808206)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093751370,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808206,true)set t=nullset J6E=nullendfunctionfunction O_I takes nothing returns booleanif GetSpellAbilityId()==1093751370 thencall OZI()endifreturn falseendfunctionfunction XYX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O_I))set t=nullendfunctionfunction O0I takes nothing returns nothinglocal unit J6E=PBVlocal unit F3E=GetEnumUnit()call MNE(J6E,F3E,1,40+20*PCV)call H0E("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",F3E,"origin",1)set J6E=nullset F3E=nullendfunctionfunction O1I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093751371)local group gif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseset I9V=J6Eset PBV=J6Eset PCV=MAEset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$401,Condition(function K3E))call ForGroup(g,function O0I)call FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction O2I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit O3I=(LoadUnitHandle(YX,(H2E),(589)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif IsUnitIllusion(GetEventDamageSource()) thencall HWE(O3I,GetEventDamage())endifelseif GetUnitX(O3I)!=x or GetUnitY(O3I)!=y thencall SetUnitPosition(O3I,x,y)endifif GetUnitY(J6E)!=x or GetUnitY(J6E)!=y thencall SetUnitPosition(J6E,x,y)endifendifif GetTriggerEvalCount(t)==1 thencall PauseUnit(J6E,true)endifset t=nullset O3I=nullset J6E=nullreturn falseendfunctionfunction O4I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit O5I=(LoadUnitHandle(YX,(H2E),(588)))local unit O3I=(LoadUnitHandle(YX,(H2E),(589)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local unit O6I=(LoadUnitHandle(YX,(H2E),($EF)))local integer MAE=GetUnitAbilityLevel(J6E,1093751371)local group glocal unit MIEif GetTriggerEventId()==EVENT_UNIT_DEATH thencall StopSound(LRV,false,false)call ShowUnit(O5I,false)call ShowUnit(O6I,false)call FlushChildHashtable(YX,(H2E))call IRE(t)call ShowUnit(J6E,true)call UnitRemoveAbility(J6E,1093678162)call SetUnitInvulnerable(J6E,false)call PauseUnit(J6E,false)if GetLocalPlayer()==GetOwningPlayer(J6E)thencall ClearSelection()call SelectUnit(J6E,true)endifcall SetUnitState(J6E,UNIT_STATE_LIFE,1)set MIE=CreateUnit(GetOwningPlayer(GetKillingUnit()),1697656901,0,0,0)call UnitRemoveBuffs(J6E,true,true)call UnitRemoveAbility(J6E,1097167980)call UnitDamageTarget(MIE,J6E,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set MIE=nullelseif GetTriggerEvalCount(t)==1 thencall SetUnitFlyHeight(O3I,0,$C8)elseif GetTriggerEvalCount(t)==2 thencall PauseUnit(O3I,false)call UnitApplyTimedLife(O3I,1112820806,.1)call StopSound(LRV,false,false)call StartSound(LIV)call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(O5I),GetUnitY(O5I)))call FlushChildHashtable(YX,(H2E))call IRE(t)call ShowUnit(J6E,true)call UnitRemoveAbility(J6E,1093678162)call SetUnitInvulnerable(J6E,false)call SetUnitAnimationByIndex(J6E,8)call QueueUnitAnimation(J6E,"idle")call PauseUnit(J6E,false)if GetLocalPlayer()==GetOwningPlayer(J6E)thencall ClearSelection()call SelectUnit(J6E,true)endifcall ShowUnit(O5I,false)call ShowUnit(O6I,false)call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_MAX_LIFE))call SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MAX_MANA))set MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call GKE(MIE,1093753428)call SetUnitAbilityLevel(MIE,1093753428,MAE)call IssueImmediateOrderById(MIE,$D009F)set MIE=nullendifendifset t=nullset J6E=nullset O5I=nullset O6I=nullset O3I=nullreturn falseendfunctionfunction O7I takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit O5Ilocal unit O3Ilocal unit O6I=CreateUnit(GetOwningPlayer(J6E),1747993420,GetUnitX(J6E),GetUnitY(J6E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093751371)local unit MIEset O5I=CreateUnit(GetOwningPlayer(J6E),1747993176,x,y,0)if MAE==1 thenset O3I=CreateUnit(GetOwningPlayer(J6E),1747993430,x,y,0)elseif MAE==2 thenset O3I=CreateUnit(GetOwningPlayer(J6E),1747993432,x,y,0)elseif MAE==3 thenset O3I=CreateUnit(GetOwningPlayer(J6E),1747993431,x,y,0)endifcall AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",O5I,"origin")if GetLocalPlayer()==GetOwningPlayer(J6E)thencall ClearSelection()call SelectUnit(O3I,true)endifcall JRE(x,y,400)call ShowUnit(J6E,false)call GKE(J6E,1093678162)call HOX(J6E,0,0)call SetUnitInvulnerable(J6E,true)call UnitRemoveBuffs(J6E,true,true)call StartSound(LRV)call UnitRemoveAbility(O3I,1098015094)call UnitApplyTimedLife(O5I,1112820806,6.1)call UnitApplyTimedLife(O6I,1112820806,6.1)call UnitApplyTimedLife(O3I,1112820806,6.1)call TriggerRegisterTimerEvent(t,5.2,false)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function O4I))call TriggerRegisterUnitEvent(t,O3I,EVENT_UNIT_DEATH)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(588),(O5I))call SaveUnitHandle(YX,(H2E),(589),(O3I))call SaveUnitHandle(YX,(H2E),($EF),(O6I))call SaveReal(YX,(H2E),(6),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(J6E))*1.))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,O3I,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O1I))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,O3I,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,O3I,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function O2I))call SaveUnitHandle(YX,(H2E),(589),(O3I))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(J6E))*1.))set t=nullset J6E=nullset O5I=nullset O3I=nullendfunctionfunction O8I takes nothing returns booleanif GetSpellAbilityId()==1093751371 thencall O7I()endifreturn falseendfunctionfunction X2X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O8I))call HCE(1093687350)call HCE(1093753428)set t=nullendfunctionfunction O9I takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+S5V)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))endfunctionfunction RVI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local group glocal integer MAE=GetUnitAbilityLevel(J6E,1093809986)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))call FlushChildHashtable(YX,(H2E))call IRE(t)set g=FYE()set S5V=50+75*MAEset I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,425,Condition(function LCE))call ForGroup(g,function O9I)call FWE(g)set t=nullset J6E=nullset g=nullreturn falseendfunctionfunction REI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call TriggerRegisterTimerEvent(t,3,false)call TriggerAddCondition(t,Condition(function RVI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))if IsPlayerAlly(GetOwningPlayer(J6E),GetLocalPlayer())or FJE(GetLocalPlayer())thencall SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))elsecall SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("",x,y)))endifif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E))or FJE(GetLocalPlayer())thencall PingMinimapEx(x,y,3,$FF,0,0,false)call JAE(M2V,x,y)endifcall JBE(GetOwningPlayer(J6E),4,x,y,500)call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)*.9)set t=nullset J6E=nullendfunctionfunction RXI takes nothing returns booleanif GetSpellAbilityId()==1093809986 thencall REI()endifreturn falseendfunctionfunction XZX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RXI))set t=nullendfunctionfunction ROI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall UnitRemoveAbility(F3E,1093809968)call UnitRemoveAbility(F3E,1110459723)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEvalCount(t)>4 thencall UnitRemoveAbility(F3E,1093809968)call UnitRemoveAbility(F3E,1110459723)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call MNE(J6E,F3E,1,16+$C*MAE)elsecall MNE(J6E,F3E,1,16+$C*MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction RRI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real N0O=(LoadReal(YX,(H2E),(23)))local real N1O=(LoadReal(YX,(H2E),(24)))local real a=(LoadReal(YX,(H2E),($89)))local real x=N0O+$C*Cos(a)local real y=N1O+$C*Sin(a)call SetUnitX(F3E,x)call SetUnitY(F3E,y)call SaveReal(YX,(H2E),(23),((x)*1.))call SaveReal(YX,(H2E),(24),((y)*1.))if GetTriggerEvalCount(t)>25 thencall JRE(x,y,100)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction RII takes unit J6E,unit F3E,real x,real y,real a returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093809969)call SetUnitPosition(F3E,GetUnitX(F3E),GetUnitY(F3E))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),($89),((a*bj_DEGTORAD)*1.))call SaveReal(YX,(H2E),(23),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(F3E))*1.))call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function RRI))set t=CreateTrigger()set H2E=GetHandleId(t)call SaveInteger(YX,(H2E),(5),(MAE))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",F3E,"chest")))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function ROI))call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093809968,false)call GKE(F3E,1093809968)set t=nullendfunctionfunction RAI takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),S6V)==false thenif E3E(S8V,GetEnumUnit())<24 or RAbsBJ(Cos(H3E(S8V,GetEnumUnit())-TEV))<.26 thencall GroupAddUnit(S6V,GetEnumUnit())if Sin((H3E(S8V,GetEnumUnit())-TEV)*bj_DEGTORAD)<0 thencall RII(S7V,GetEnumUnit(),S9V,TVV,TEV-90)elsecall RII(S7V,GetEnumUnit(),S9V,TVV,TEV+90)endifendifendifendfunctionfunction RNI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local real a=(LoadReal(YX,(H2E),($89)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local group gif GetTriggerEvalCount(t)>125 thencall KillUnit(JCE)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)elseset x=x+8*Cos(a)set y=y+8*Sin(a)call SetUnitX(JCE,x)call SetUnitY(JCE,y)call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))set I9V=J6Eset S9V=xset TVV=yset TEV=a*bj_RADTODEGset S6V=PLOset S7V=J6Eset S8V=JCEset g=FYE()call GroupEnumUnitsInRange(g,x,y,$E1,Condition(function K3E))call ForGroup(g,function RAI)call FWE(g)endifset t=nullset J6E=nullreturn falseendfunctionfunction RBI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real JDE=GetSpellTargetX()local real JFE=GetSpellTargetY()local real BEO=Atan2(JFE-GetUnitY(J6E),JDE-GetUnitX(J6E))local integer MAE=GetUnitAbilityLevel(J6E,1093809969)local unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993665,GetUnitX(J6E),GetUnitY(J6E),BEO*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function RNI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveReal(YX,(H2E),($89),((BEO)*1.))call SaveReal(YX,(H2E),(6),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(J6E))*1.))call SaveInteger(YX,(H2E),(5),(MAE))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))set t=nullset J6E=nullendfunctionfunction RCI takes nothing returns booleanif GetSpellAbilityId()==1093809969 thencall RBI()endifreturn falseendfunctionfunction X1X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RCI))set t=nullendfunctionfunction RDI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer JTE=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(JTE),(2)))local real RFI=(LoadReal(YX,(GetHandleId(J6E)),(681)))call FlushChildHashtable(YX,(JTE))call IRE(t)if((TimerGetElapsed(K))-RFI<.249)==false or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(J6E,1093753396)call UnitRemoveAbility(J6E,1093753409)call UnitRemoveAbility(J6E,1093753410)call UnitRemoveAbility(J6E,1093753401)call UnitRemoveAbility(J6E,1110459478)endifset t=nullset J6E=nullreturn falseendfunctionfunction RGI takes unit J6E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer RHIcall TriggerRegisterTimerEvent(t,.25,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function RDI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(GetHandleId(J6E)),(681),(((TimerGetElapsed(K)))*1.))if PRV==1 thenset RHI=1093753396call UnitRemoveAbility(J6E,1093753409)call UnitRemoveAbility(J6E,1093753410)call UnitRemoveAbility(J6E,1093753401)elseif PRV==2 thenset RHI=1093753409call UnitRemoveAbility(J6E,1093753396)call UnitRemoveAbility(J6E,1093753410)call UnitRemoveAbility(J6E,1093753401)elseif PRV==3 thenset RHI=1093753410call UnitRemoveAbility(J6E,1093753396)call UnitRemoveAbility(J6E,1093753409)call UnitRemoveAbility(J6E,1093753401)elseif PRV==4 thenset RHI=1093753401call UnitRemoveAbility(J6E,1093753396)call UnitRemoveAbility(J6E,1093753409)call UnitRemoveAbility(J6E,1093753410)endifcall GKE(J6E,RHI)call UnitMakeAbilityPermanent(J6E,true,RHI)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),RHI,false)set t=nullendfunctionfunction RJI takes nothing returns nothinglocal unit F3E=GetEnumUnit()local real C4O=($F*PRV+.06*GetUnitState(F3E,UNIT_STATE_MAX_LIFE))/5if PIV==F3E thenelseif IsUnitType(F3E,UNIT_TYPE_HERO)==false thencall MNE(PIV,F3E,3,C4O)elsecall MNE(PIV,F3E,3,C4O)if FHE(F3E)==false thencall RGI(F3E)endifcall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",F3E,"origin"))call JBE(GetOwningPlayer(F3E),2,GetUnitX(PIV),GetUnitY(PIV),500)endifset F3E=nullendfunctionfunction RKI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer RLI=(LoadInteger(YX,(H2E),(34)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real RMI=GetUnitFacing(J6E)local real a=RMI*bj_DEGTORADlocal location l1=GetUnitLoc(J6E)local real RPI=GetLocationZ(l1)local location l2=Location(GetUnitX(J6E)+PVV*Cos(a),GetUnitY(J6E)+PVV*Sin(a))local real RQI=GetLocationZ(l2)local lightning RSI=(LoadLightningHandle(YX,(H2E),(676)))local lightning RTI=(LoadLightningHandle(YX,(H2E),(677)))local lightning RUI=(LoadLightningHandle(YX,(H2E),(678)))local lightning RWI=(LoadLightningHandle(YX,(H2E),(679)))local lightning RYI=(LoadLightningHandle(YX,(H2E),(680)))local real RZI=1local real H7Olocal real H8Olocal real R_Ilocal real R0Ilocal real R1Ilocal real R3Ilocal real R4Ilocal real R5Ilocal real R6Ilocal real R7Ilocal real R8Ilocal real R9Ilocal real IVIlocal real IEIlocal real IXIlocal real IOIlocal real IRIlocal real IIIlocal real IAIlocal real INIlocal real IBIlocal real ICIlocal real IDIlocal real IFIlocal real IGIlocal real IHIlocal real IJIlocal real IKIlocal real ILIlocal real IMIlocal real IPIlocal real IQIlocal real ISIlocal group glocal real xlocal real ylocal integer ilocal real ITIlocal real IUIlocal real IWIlocal boolean IYI=FALSElocal boolean IZI=falselocal unit I_I=(LoadUnitHandle(YX,(H2E),(17)))local unit I0I=nulllocal unit DriftTarget=nulllocal real I1Ilocal real I2Ilocal real I3Ilocal real I4I=(LoadReal(YX,(H2E),(688)))local boolean I5I=(LoadBoolean(YX,(H2E),(689)))local boolean I6I=(LoadBoolean(YX,(H2E),(672)))local real I7Ilocal ubersplat I8Ilocal real O32=(LoadReal(YX,(H2E),(23)))local real O42=(LoadReal(YX,(H2E),(24)))if GetUnitCurrentOrder(J6E)==$D0021 thencall DisableTrigger(t)call XIE(J6E)call EnableTrigger(t)endifcall RemoveLocation(l1)call RemoveLocation(l2)if IsUnitPaused(J6E)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)thenset H7O=GetUnitX(J6E)set H8O=GetUnitY(J6E)if GetIssuedOrderId()!=$D020A and GetIssuedOrderId()!=$D00D9 and GetIssuedOrderId()!=$D0278 thencall DisableTrigger(t)call XIE(J6E)call EnableTrigger(t)endifif GetIssuedOrderId()==$D0003 thenif GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thenset x=GetUnitX(GetOrderTargetUnit())set y=GetUnitY(GetOrderTargetUnit())elseset x=GetOrderPointX()set y=GetOrderPointY()endifset ITI=H4E(x,y,H7O,H8O)if ITI<0 thenset ITI=ITI+360endifset IWI=RMI-ITIif IWI<0 thenset IWI=IWI+360endifif IWI<$B4 thenset IYI=trueset IUI=RMI+6elseset IZI=trueset IUI=RMI-6endifset I4I=H4E(x,y,H7O,H8O)+$B4call SaveReal(YX,(H2E),(688),((I4I)*1.))endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(J6E,UNIT_STATE_MANA)<$A or G3X(J6E)or DVE(J6E)or IsUnitPaused(J6E)or DYE(J6E)or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==-1 thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()==1093753395 or GetSpellAbilityId()==1093751371 or GetSpellAbilityId()==1093809992))thencall IXE(J6E,"SunRay|Disarmed")if R8E(J6E,"IcarusDive|Disarmed")==false thencall UnitRemoveAbility(J6E,1096971630)endifcall SetUnitPathing(J6E,true)call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093808181)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753395,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808181,false)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093753177 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753177,true)endifcall DestroyLightning(RSI)call DestroyLightning(RTI)call DestroyLightning(RUI)call DestroyLightning(RWI)call DestroyLightning(RYI)call StopSound(M1V,false,true)endifif GetUnitState(J6E,UNIT_STATE_LIFE)<50 thenendifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==852177thenset I5I=trueendifif GetIssuedOrderId()==852178thenset I5I=falseendifcall SaveBoolean(YX,(H2E),(689),(I5I))elseset ITI=RMI-I4Iif ITI<-$B4 thenset ITI=ITI+360elseif ITI>$B4 thenset ITI=ITI-360endifset I7I=1if RLI<35 and I6I thenset I7I=7endifif ITI<(-1*I7I)thenset RMI=RMI+I7Ielseif ITI>I7I thenset RMI=RMI-I7Ielseset I6I=falsecall SaveBoolean(YX,(H2E),(672),(I6I))set RMI=I4Iendifif R8E(J6E,"DashState1")==false thencall SetUnitFacing(J6E,RMI)endifset a=RMI*bj_DEGTORADset RLI=RLI+1call SaveInteger(YX,(H2E),(34),(RLI))set R_I=PVVset H7O=GetUnitX(J6E)+50*Cos(a)set H8O=GetUnitY(J6E)+50*Sin(a)call JRE(H7O,H8O,$C8)set PAV=FYE()set I9V=J6Eset i=0loopexitwhen i*50>PVV or I0I!=nullset x=H7O+i*50*Cos(a)set y=H8O+i*50*Sin(a)set g=FYE()call GroupEnumUnitsInRange(g,x,y,100,Condition(function K3E))call GroupAddGroup(g,PAV)call GroupEnumUnitsInRange(g,x,y,100,Condition(function LPE))set I0I=FirstOfGroup(g)call FWE(g)if ModuloInteger(RLI,$A)==0 thenif ModuloInteger(i,3)==0 thencall JBE(GetOwningPlayer(J6E),2,x,y,$E1)endifendifset i=i+1endloopif I5I and K1E(J6E)==false thenset I3I=aset I1I=HRE(GetUnitX(J6E)+5*Cos(I3I))set I2I=HIE(GetUnitY(J6E)+5*Sin(I3I))call JRE(I1I,I2I,$C8)call SetUnitX(J6E,I1I)call SetUnitY(J6E,I2I)endifset PIV=J6Eset PRV=GetUnitAbilityLevel(J6E,1093753177)call RemoveSavedHandle(YX,(H2E),(17))set I_I=I0Iif I_I!=null thencall SaveUnitHandle(YX,(H2E),(17),(I_I))endifset PNV=($A+5*PRV)+(2+2*PRV)*GetHeroLevel(J6E)set PNV=PNV/5if ModuloInteger(RLI,$A)==0 thencall SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MANA)-(.04*GetUnitState(J6E,UNIT_STATE_MAX_MANA)/5.))if I_I!=null thenset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(I_I),GetUnitY(I_I),$C8,Condition(function K3E))call GroupAddGroup(g,PAV)call FWE(g)endifcall ForGroup(PAV,function RJI)endifcall FWE(PAV)set g=nullset PAV=nullif GME(J6E)==false thenif I_I!=null thenset R_I=E3E(J6E,I_I)endifset R0I=H7Oset R1I=H8Oset R3I=RPI+$C8set R4I=R0I+R_I*Cos(a)set R5I=R1I+R_I*Sin(a)set R6I=RQIset R7I=H7O+PEV*Cos((RMI-90)*bj_DEGTORAD)set R8I=H8O+PXV*Cos((RMI-90)*bj_DEGTORAD)set R9I=RPI+$C8set IVI=R7I+R_I*Cos(a)set IEI=R8I+R_I*Sin(a)set IXI=RQIset IOI=H7O+PEV*Cos((RMI+90)*bj_DEGTORAD)set IRI=H8O+PXV*Cos((RMI+90)*bj_DEGTORAD)set III=RPI+$C8set IAI=IOI+R_I*Cos(a)set INI=IRI+R_I*Sin(a)set IBI=RQIset ICI=H7Oset IDI=H8Oset IFI=RPI+$C8+POVset IGI=ICI+R_I*Cos(a)set IHI=IDI+R_I*Sin(a)set IJI=RQIset IKI=H7Oset ILI=H8Oset IMI=RPI+$C8-POVset IPI=IKI+R_I*Cos(a)set IQI=ILI+R_I*Sin(a)set ISI=RQIif ModuloInteger(RLI,$A)==0 and R_I==PVV thenset x=GetUnitX(J6E)+(PVV)*Cos(a)set y=GetUnitY(J6E)+(PVV)*Sin(a)call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))endifif ModuloInteger(RLI,$A)==0 thencall SetSoundPosition(M1V,GetUnitX(J6E),GetUnitY(J6E),100)set x=GetUnitX(J6E)+(R_I)*Cos(a)set y=GetUnitY(J6E)+(R_I)*Sin(a)set I8I=CreateUbersplat(x,y,"SRAY",$FF,$FF,$FF,$FF,false,false)call SetUbersplatRenderAlways(I8I,true)call EIO(I8I,$A)set I8I=nullendifcall MoveLightningEx(RSI,false,R0I,R1I,R3I,R4I,R5I,R6I)call MoveLightningEx(RTI,false,R7I,R8I,R9I,IVI,IEI,IXI)call MoveLightningEx(RUI,false,IOI,IRI,III,IAI,INI,IBI)call MoveLightningEx(RWI,false,ICI,IDI,IFI,IGI,IHI,IJI)call MoveLightningEx(RYI,false,IKI,ILI,IMI,IPI,IQI,ISI)if FJE(GetLocalPlayer())thenset RZI=1endifcall SetLightningColor(RSI,1.,1.,1.,RZI)call SetLightningColor(RTI,1.,1.,1.,RZI)call SetLightningColor(RUI,1.,1.,1.,RZI)call SetLightningColor(RWI,1.,1.,1.,RZI)call SetLightningColor(RYI,1.,1.,1.,RZI)endifendifset t=nullset J6E=nullset RSI=nullset RTI=nullset RUI=nullset RWI=nullset RYI=nullset l1=nullset l2=nullreturn falseendfunctionfunction I9I takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal real JDE=HRE(GetUnitX(J6E)+PVV*Cos(a))local real JFE=HIE(GetUnitY(J6E)+PVV*Sin(a))local lightning RSI=AddLightning("SRAY",false,GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)local lightning RTI=AddLightning("SRAY",false,GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)local lightning RUI=AddLightning("SRAY",false,GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)local lightning RWI=AddLightning("SRAY",false,GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)local lightning RYI=AddLightning("SRAY",false,GetUnitX(J6E),GetUnitY(J6E),JDE,JFE)call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)-GetUnitState(J6E,UNIT_STATE_LIFE)*.2)call SetUnitFacing(J6E,a*bj_RADTODEG)call StartSound(M1V)call SetSoundPosition(M1V,GetUnitX(J6E),GetUnitY(J6E),100)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RKI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),($D),((a)*1.))call SaveReal(YX,(H2E),(688),((a*bj_RADTODEG)*1.))call SaveLightningHandle(YX,(H2E),(676),(RSI))call SaveLightningHandle(YX,(H2E),(677),(RTI))call SaveLightningHandle(YX,(H2E),(678),(RUI))call SaveLightningHandle(YX,(H2E),(679),(RWI))call SaveLightningHandle(YX,(H2E),(680),(RYI))call SaveBoolean(YX,(H2E),(689),(false))call SaveBoolean(YX,(H2E),(672),(true))call SaveReal(YX,(H2E),(688),((a*bj_RADTODEG)*1.))call SaveReal(YX,(H2E),(23),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(J6E))*1.))call GKE(J6E,1096971630)call IVE(J6E,"SunRay|Disarmed")call SetUnitPathing(J6E,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753395,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808181,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753177,false)call GKE(J6E,1093753395)call UnitMakeAbilityPermanent(J6E,true,1093753395)call GKE(J6E,1093808181)call UnitMakeAbilityPermanent(J6E,true,1093808181)call TriggerEvaluate(t)set t=nullset J6E=nullset J6E=nullset RSI=nullset RTI=nullset RUI=nullset RWI=nullset RYI=nullendfunctionfunction AVI takes nothing returns booleanif GetSpellAbilityId()==1093753177 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thenelsecall I9I()endifendifreturn falseendfunctionfunction X0X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AVI))call EBO(1093753396)call EBO(1093753409)call EBO(1093753410)call EBO(1093753401)set t=nullendfunctionfunction AEI takes nothing returns nothingcall MNE(PDV,GetEnumUnit(),1,PGV)endfunctionfunction AXI takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+PGV*.5)endfunctionfunction AOI takes unit J6E,unit JCE,real KHR,unit MIE,unit F3E returns nothinglocal group g=FYE()local group g1=FYE()local group g2=FYE()local real x=GetUnitX(JCE)local real y=GetUnitY(JCE)set PDV=J6Eset PFV=MIEset PGV=(GetUnitAbilityLevel(J6E,1093753176)*20+$A)*KHRset I9V=J6Ecall GroupEnumUnitsInRange(g1,x,y,425,Condition(function K3E))if J6E!=F3E thencall GroupEnumUnitsInRange(g2,GetUnitX(J6E),GetUnitY(J6E),425,Condition(function K3E))endifcall GroupAddGroup(g1,g)call GroupAddGroup(g2,g)call ForGroup(g,function AEI)call GroupClear(g)call GroupClear(g1)call GroupClear(g2)set I9V=J6Ecall GroupEnumUnitsInRange(g1,x,y,425,Condition(function LCE))if J6E!=F3E thencall GroupEnumUnitsInRange(g2,GetUnitX(J6E),GetUnitY(J6E),425,Condition(function LCE))endifcall GroupAddGroup(g1,g)call GroupAddGroup(g2,g)call ForGroup(g,function AXI)call FWE(g)call FWE(g1)call FWE(g2)call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))if J6E!=F3E thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",GetUnitX(J6E),GetUnitY(J6E)))endifcall KillUnit(JCE)call ShowUnit(JCE,false)set g=nullset g1=nullset g2=nullendfunctionfunction ARI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer DZX=(LoadInteger(YX,(H2E),(34)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit AII=(LoadUnitHandle(YX,(H2E),(393)))local real KHR=(LoadReal(YX,(H2E),(685)))local real JDElocal real JFElocal real xlocal real ylocal real alocal real r=18local integer MAE=GetUnitAbilityLevel(J6E,1093753176)if GetTriggerEventId()==EVENT_UNIT_DEATH thenset JDE=GetUnitX(F3E)set JFE=GetUnitY(F3E)call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))call RemoveSavedHandle(YX,(H2E),(17))call SaveUnitHandle(YX,(H2E),(17),(null))elseif F3E==null thenset JDE=(LoadReal(YX,(H2E),(47)))set JFE=(LoadReal(YX,(H2E),(48)))elseset JDE=GetUnitX(F3E)set JFE=GetUnitY(F3E)endifset a=H4E(GetUnitX(AII),GetUnitY(AII),JDE,JFE)call SetUnitFacing(AII,a)set x=GetUnitX(AII)+r*Cos(a*bj_DEGTORAD)set y=GetUnitY(AII)+r*Sin(a*bj_DEGTORAD)call SetUnitX(AII,x)call SetUnitY(AII,y)if E4E(x,y,JDE,JFE)<r*2 thencall AOI(J6E,AII,KHR,MIE,F3E)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullset AII=nullset MIE=nullreturn falseendfunctionfunction AAI takes unit J6E,unit AII,unit F3E,real KHR,unit MIE returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local group glocal unit NewTargetcall SetUnitVertexColor(AII,$FF,$FF,$FF,$FF)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ARI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(393),(AII))call SaveReal(YX,(H2E),(47),((GetSpellTargetX())*1.))call SaveReal(YX,(H2E),(48),((GetSpellTargetY())*1.))call SaveReal(YX,(H2E),(685),((KHR)*1.))call SaveUnitHandle(YX,(H2E),(19),(MIE))set t=nullendfunctionfunction ANI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer DZX=(LoadInteger(YX,(H2E),(34)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real H7O=GetUnitX(J6E)local real H8O=GetUnitY(J6E)local unit ABI=(LoadUnitHandle(YX,(H2E),(393)))local unit ACI=(LoadUnitHandle(YX,(H2E),(394)))local unit ADI=(LoadUnitHandle(YX,(H2E),(395)))local unit AGI=(LoadUnitHandle(YX,(H2E),(396)))local integer MAE=GetUnitAbilityLevel(J6E,1093753176)local real a=GetUnitFacing(J6E)local real xlocal real ylocal group glocal group g2local real SZR=-1*360*.02/4local real a2local real RBOlocal real KHR=(LoadReal(YX,(H2E),(685)))local real AHIlocal unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local integer AJI=GetHandleId(J6E)local player pl=GetOwningPlayer(J6E)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093753394 thencall AAI(J6E,ABI,GetSpellTargetUnit(),KHR,MIE)call RemoveSavedHandle(YX,(H2E),(393))call AAI(J6E,ACI,GetSpellTargetUnit(),KHR,MIE)call RemoveSavedHandle(YX,(H2E),(394))call AAI(J6E,ADI,GetSpellTargetUnit(),KHR,MIE)call RemoveSavedHandle(YX,(H2E),(395))call AAI(J6E,AGI,GetSpellTargetUnit(),KHR,MIE)call RemoveSavedHandle(YX,(H2E),(396))if(B6E(pl))thencall O2E(AJI,"Bird4")endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753394,false)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093753176 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753176,true)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetSpellAbilityId()==1093751371 thenif ABI!=null and GME(ABI)==false thencall AAI(J6E,ABI,J6E,KHR,MIE)endifif ACI!=null and GME(ACI)==false thencall AAI(J6E,ACI,J6E,KHR,MIE)endifif ADI!=null and GME(ADI)==false thencall AAI(J6E,ADI,J6E,KHR,MIE)endifif AGI!=null and GME(AGI)==false thencall AAI(J6E,AGI,J6E,KHR,MIE)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753394,false)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093753176 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753176,true)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)if(B6E(pl))thencall O2E(AJI,"Bird4")call O4E(AJI,"BirdsCounter",0)endifendifelseset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))if(B6E(pl))thencall O4E(AJI,"BirdsCounter",DZX)endifif ABI!=null and GME(ABI)==false thenset RBO=360*4/4.set a2=RBO+SZR*DZXset x=HRE(H7O+$C8*Cos(a2*bj_DEGTORAD))set y=HIE(H8O+$C8*Sin(a2*bj_DEGTORAD))call SetUnitFacing(ABI,a2-90)call SetUnitX(ABI,x)call SetUnitY(ABI,y)endifif ACI!=null and GME(ACI)==false thenset RBO=360*3/4.set a2=RBO+SZR*DZXset x=HRE(H7O+$C8*Cos(a2*bj_DEGTORAD))set y=HIE(H8O+$C8*Sin(a2*bj_DEGTORAD))call SetUnitFacing(ACI,a2-90)call SetUnitX(ACI,x)call SetUnitY(ACI,y)endifif ADI!=null and GME(ADI)==false thenset RBO=360*2/4.set a2=RBO+SZR*DZXset x=HRE(H7O+$C8*Cos(a2*bj_DEGTORAD))set y=HIE(H8O+$C8*Sin(a2*bj_DEGTORAD))call SetUnitFacing(ADI,a2-90)call SetUnitX(ADI,x)call SetUnitY(ADI,y)endifif AGI!=null and GME(AGI)==false thenset RBO=360*1/4.set a2=RBO+SZR*DZXset x=HRE(H7O+$C8*Cos(a2*bj_DEGTORAD))set y=HIE(H8O+$C8*Sin(a2*bj_DEGTORAD))call SetUnitFacing(AGI,a2-90)call SetUnitX(AGI,x)call SetUnitY(AGI,y)endifif DZX>625 or GetTriggerEventId()==EVENT_UNIT_DEATH thenif ABI!=null and GME(ABI)==false thencall AAI(J6E,ABI,J6E,KHR,MIE)endifif ACI!=null and GME(ACI)==false thencall AAI(J6E,ACI,J6E,KHR,MIE)endifif ADI!=null and GME(ADI)==false thencall AAI(J6E,ADI,J6E,KHR,MIE)endifif AGI!=null and GME(AGI)==false thencall AAI(J6E,AGI,J6E,KHR,MIE)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753394,false)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093753176 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753176,true)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)if(B6E(pl))thencall O2E(AJI,"Bird4")call O4E(AJI,"BirdsCounter",0)endifelseset KHR=RMinBJ(.25+.75*(I2R(DZX)/500.),1)call SaveReal(YX,(H2E),(685),((KHR)*1.))set AHI=.25+(KHR-.2)*2.5call SetUnitScale(ABI,AHI,AHI,AHI)call SetUnitScale(ACI,AHI,AHI,AHI)call SetUnitScale(ADI,AHI,AHI,AHI)call SetUnitScale(AGI,AHI,AHI,AHI)if DZX==450 thencall J2E(M2V,GetOwningPlayer(J6E))endifif DZX>425 thenif ModuloInteger(DZX,$A)==0 or ModuloInteger(DZX,$A)==1 or ModuloInteger(DZX,$A)==2 or ModuloInteger(DZX,$A)==3 or ModuloInteger(DZX,$A)==4 thencall SetUnitVertexColor(ABI,$FF,0,0,$FF)call SetUnitVertexColor(ACI,$FF,0,0,$FF)call SetUnitVertexColor(ADI,$FF,0,0,$FF)call SetUnitVertexColor(AGI,$FF,0,0,$FF)elsecall SetUnitVertexColor(ABI,$FF,$FF,$FF,$FF)call SetUnitVertexColor(ACI,$FF,$FF,$FF,$FF)call SetUnitVertexColor(ADI,$FF,$FF,$FF,$FF)call SetUnitVertexColor(AGI,$FF,$FF,$FF,$FF)endifendifendifendifset t=nullset J6E=nullset ABI=nullset ACI=nullset ADI=nullset AGI=nullset MIE=nullreturn falseendfunctionfunction AKI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real H7O=GetUnitX(J6E)local real H8O=GetUnitY(J6E)local real xlocal real ylocal unit ABIlocal unit ACIlocal unit ADIlocal unit AGIlocal real a=GetUnitFacing(J6E)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,H7O,H8O,0)local integer AJI=GetHandleId(J6E)local player pl=GetOwningPlayer(J6E)call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)-GetUnitState(J6E,UNIT_STATE_LIFE)*.1)call GKE(J6E,1093753394)call UnitMakeAbilityPermanent(J6E,true,1093753394)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753394,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093753176,false)set x=GetUnitX(J6E)+$C8*Cos(bj_DEGTORAD*360*4/4.*-1.)set y=GetUnitY(J6E)+$C8*Sin(bj_DEGTORAD*360*4/4.*-1.)set ABI=CreateUnit(GetOwningPlayer(J6E),1747993429,x,y,360*4/4.*-1.)set x=GetUnitX(J6E)+$C8*Cos(bj_DEGTORAD*360*3/4.*-1.)set y=GetUnitY(J6E)+$C8*Sin(bj_DEGTORAD*360*3/4.*-1.)set ACI=CreateUnit(GetOwningPlayer(J6E),1747993429,x,y,360*3/4.*-1.)set x=GetUnitX(J6E)+$C8*Cos(bj_DEGTORAD*360*2/4.*-1.)set y=GetUnitY(J6E)+$C8*Sin(bj_DEGTORAD*360*2/4.*-1.)set ADI=CreateUnit(GetOwningPlayer(J6E),1747993429,x,y,360*2/4.*-1.)set x=GetUnitX(J6E)+$C8*Cos(bj_DEGTORAD*360*1/4.*-1.)set y=GetUnitY(J6E)+$C8*Sin(bj_DEGTORAD*360*1/4.*-1.)set AGI=CreateUnit(GetOwningPlayer(J6E),1747993429,x,y,360*1/4.*-1.)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ANI))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(393),(ABI))call SaveUnitHandle(YX,(H2E),(394),(ACI))call SaveUnitHandle(YX,(H2E),(395),(ADI))call SaveUnitHandle(YX,(H2E),(396),(AGI))call SaveUnitHandle(YX,(H2E),(19),(MIE))if(B6E(pl))thencall O8E(AJI,"Bird4",AGI)endifset J6E=nullset ABI=nullset ACI=nullset ADI=nullset AGI=nullset MIE=nullendfunctionfunction ALI takes nothing returns booleanif GetSpellAbilityId()==1093753176 thencall AKI()endifreturn falseendfunctionfunction X_X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ALI))set t=nullendfunctionfunction AMI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit hn=RME(IAE,"Hero")call O1E(IAE)call IRE(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))call UnitRemoveAbility(hn,1093687875)call UnitRemoveAbility(hn,1110454358)set t=nullset hn=nullreturn falseendfunctionfunction API takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit hn=RME(IAE,"Hero")call O1E(IAE)call IRE(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,18-.1,false)call TriggerAddCondition(t,Condition(function AMI))call O8E(IAE,"Hero",hn)set t=nullset hn=nullreturn falseendfunctionfunction AQI takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit hn=GetTriggerUnit()local unit ASI=CreateUnit(GetOwningPlayer(hn),1697657174,0,0,0)local real ATI=18call GKE(ASI,1093687875)call UnitApplyTimedLife(ASI,1112820806,ATI)call G1E(hn,ATI,$AF)call TriggerRegisterTimerEvent(t,.1,false)call TriggerAddCondition(t,Condition(function API))call O8E(IAE,"Hero",hn)set t=nullset ASI=nullset hn=nullendfunctionfunction AUI takes nothing returns booleanif GetSpellAbilityId()==1093679411 and GetUnitTypeId(GetTriggerUnit())==1429221432 thencall AQI()endifreturn falseendfunctionfunction E_X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AUI))set t=nullendfunctionfunction Z4X takes nothing returns nothinglocal unit p5=B2local unit m5=C2local unit MIE=RME(GetHandleId(p5),"FeralHeartCaster")call O8E(GetHandleId(m5),"FeralHeartCaster",MIE)call SetUnitOwner(MIE,GetOwningPlayer(m5),true)set p5=nullset m5=nullset MIE=nullendfunctionfunction FZX takes nothing returns nothinglocal unit F2E=AOVlocal unit MIE=RME(GetHandleId(F2E),"FeralHeartCaster")if MIE!=null and GetUnitTypeId(MIE)==1697657174 thencall RemoveUnit(MIE)endifset F2E=nullset MIE=nullendfunctionfunction AWI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if MIE!=null and GetUnitTypeId(MIE)==1697657174 thenif GME(J6E)==false thencall SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))endifendifset t=nullset MIE=nullset J6E=nullreturn falseendfunctionfunction AYI takes unit F2E,boolean CEO returns nothinglocal integer MAE=GetUnitAbilityLevel(F2E,1093677893)local unit MIElocal trigger tlocal integer H2Eif MAE==1 or CEO thenset MIE=CreateUnit(GetOwningPlayer(F2E),1697657174,0,0,0)call GKE(MIE,1093687882)call O8E(GetHandleId(F2E),"FeralHeartCaster",MIE)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerAddCondition(t,Condition(function AWI))call TriggerRegisterTimerEvent(t,.2,true)call SaveUnitHandle(YX,(H2E),(2),(F2E))call SaveUnitHandle(YX,(H2E),(19),(MIE))elseset MIE=RME(GetHandleId(F2E),"FeralHeartCaster")endifif MAE==2 thencall UnitRemoveAbility(MIE,1093687882)call GKE(MIE,1093687881)elseif MAE==3 thencall UnitRemoveAbility(MIE,1093687882)call UnitRemoveAbility(MIE,1093687881)call GKE(MIE,1093687880)elseif MAE==4 thencall UnitRemoveAbility(MIE,1093687882)call UnitRemoveAbility(MIE,1093687881)call UnitRemoveAbility(MIE,1093687880)call GKE(MIE,1093687879)endifset MIE=nullendfunctionfunction AZI takes nothing returns booleanif GetLearnedSkill()==1093677893 and IsUnitIllusion(GetTriggerUnit())==false thencall AYI(GetTriggerUnit(),false)endifreturn falseendfunctionfunction E0X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function AZI))set t=nullendfunctionfunction A_I takes nothing returns nothinglocal unit hn=GetTriggerUnit()local unit ASIlocal integer i=1local boolean A0I=B2E(GetOwningPlayer(hn))local player plocal integer A1Ilocal integer A2Ilocal integer A3I=GetUnitAbilityLevel(hn,1093687878)if A3I==1 thenset A1I=1093742644set A2I=1093742647elseif A3I==2 thenset A1I=1093742641set A2I=1093742646elseif A3I==3 thenset A1I=1093742642set A2I=1093742645elseif A3I==4 thenset A1I=1093742643set A2I=1093742648endifloopexitwhen i>5if A0I thenset p=RX[i]elseset p=GX[i]endifset ASI=CreateUnit(p,1697657174,0,0,0)call GKE(ASI,A1I)call GKE(ASI,A2I)call UnitApplyTimedLife(ASI,1112820806,$C)set i=i+1endloopset hn=nullset ASI=nullset p=nullendfunctionfunction A4I takes nothing returns booleanif GetSpellAbilityId()==1093687878 thencall A_I()endifreturn falseendfunctionfunction E1X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A4I))set t=nullendfunctionfunction A5I takes nothing returns nothingcall GYX()call G_X()endfunctionfunction ZRX takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=XTE(S2I(SubString(VH,3,StringLength(VH))))if((pl!=null)and(B7E(pl))and(IsPlayerInForce(pl,GLV)))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r creepstats:   K: "+I2S(RE[GetPlayerId(pl)])+"   D: "+I2S(KE[GetPlayerId(pl)]))endifset pl=nullendfunctionfunction ZIX takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=XTE(S2I(SubString(VH,3,StringLength(VH))))if((pl!=null)and(B7E(pl))and(IsPlayerInForce(pl,GLV)))thenif(QV[GetPlayerId(pl)]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r movespeed is "+I2S(R2I(GetUnitMoveSpeed(QV[GetPlayerId(pl)]))))endifendifset pl=nullendfunctionfunction A6I takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))and(not IsUnitIllusion(GetFilterUnit()))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not X1E(GetFilterUnit()))and(XSE(GetFilterUnit())))!=nullendfunctionfunction A7I takes nothing returns nothinglocal unit it=GetEnumUnit()local unit m5=QV[GetPlayerId(GetTriggerPlayer())]local integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local boolean J4set GZ[64+GetPlayerId(GetOwningPlayer(it))]=trueif(i1==1430466609)thenset J4=(IsUnitInRange(it,m5,300.))and(OTE(it,$D022E,1093678145))elseif(i1==1430467634)thenset J4=(OVE(500.,m5,Condition(function k8))>0)and(OTE(it,$D022E,1093750608))elseif(i1==1211117653)thenset J4=(IsUnitInRange(it,m5,650.))and CLE(it,T9V,T9V,UVV,1093686865)and OME(it,$D020A,1093686865,m5)elseif(i1==1160786505)thenset J4=(IsUnitInRange(it,m5,560.))and(IssueImmediateOrderById(it,$D0272))elseif(i1==1164666213)thenset J4=(IsUnitInRange(it,m5,500.))and(OVE(500.,m5,Condition(function k8))>0)and(OTE(it,$D0272,1093808212))elseif((i1==1164277353)or(i1==1164277357))thenset J4=((GetUnitLifePercent(it)-30.)>GetUnitLifePercent(m5))and(OME(it,$D00DD,1093678929,m5))elseif(i1==1433168227)thenset J4=OME(it,$D0101,1093679186,m5)elseif(i1==1430466865)thenset J4=OME(it,$D0062,1093677879,m5)elseif(i1==1429221432)thenset J4=(IsUnitInRange(it,m5,500.))and(OTE(it,$D0278,1093687878))elseif(i1==1432642913)thenset J4=(IssueTargetOrderById(it,$D0097,m5))or(IssueTargetOrderById(it,$D02B6,m5))elseif(i1==1332766568)thenset J4=(IsUnitInRange(it,m5,400.))and(OVE(400.,m5,Condition(function k8))>0)and(IssueImmediateOrderById(it,$D0080))elseif(i1==1429221445)thenset J4=(IsUnitInRange(it,m5,500.))and(OTE(it,$D022E,1093678422))elseif(i1==1211117617)thenset J4=(IsUnitInRange(it,m5,430.))and(OTE(it,$D022E,1093814611))elseif(i1==1311787088)thenset J4=(IsUnitInRange(it,m5,760.))and(OME(it,$D0084,1093748817,m5))elseif(i1==1211117640)thenset J4=(IsUnitInRange(it,m5,400.))and(OVE(400.,m5,Condition(function k8))>0)and(IssuePointOrderById(it,$D0079,GetUnitX(m5),GetUnitY(m5)))elseif(i1==1160786241)thenif((GetUnitManaPercent(it)>50.)and(IsUnitInRange(it,m5,300.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093684805,true)set J4=(GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,$D00D1))endifelseif(i1==1160786243)thenset J4=IssueTargetOrderById(it,$D0118,m5)elseif(i1==1311781207)thenset J4=((GetUnitLifePercent(it)<40.)and(IssueTargetOrderById(it,$D0238,m5)))or(IssueTargetOrderById(it,$D0105,m5))elseif((i1==1211117650)or(i1==1211119433))thenset I9V=itset J4=(OVE(1000.,it,Condition(function ny))>2)and(IssueTargetOrderById(it,$D02DB,m5))elseif(i1==1211117646)thenset J4=(OME(it,$D0085,1093685815,m5))or((OVE(350.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,$D007F,m5)))elseif(i1==1211117624)thenset J4=(IsUnitInRange(it,m5,500.))and(OVE(500.,m5,Condition(function k8))>0)and(OTE(it,$D022E,1093683024))elseif(i1==1433631084)thenset J4=(OVE(500.,m5,Condition(function k8))>0)and(OME(it,$D0079,1093678644,m5))elseif(i1==1214345830)thenset J4=OME(it,$D0101,1093679182,m5)elseif(i1==1215723364)thenset J4=(IsUnitInRange(it,m5,500.))and(OVE(500.,m5,Condition(function k8))>0)and(OME(it,$D02BD,1093744463,m5))elseif(i1==1164799855)thenset J4=(IsUnitInRange(it,m5,500.))and(OTE(it,$D024C,1093677378))elseif(i1==1433105516)thenset J4=(OVE(500.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,$D0278,m5))elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenset J4=OME(it,$D00D9,1093742898,m5)elseif(i1==1212363833)thenset J4=(IsUnitInRange(it,m5,500.))and(OVE(500.,m5,Condition(function k8))>0)and(OTE(it,$D009B,1093678643))elseif(i1==1212365106)thenset J4=(OVE(500.,m5,Condition(function k8))>0)and(OME(it,$D0079,1093685831,m5))elseif(i1==1211117633)thenset J4=(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(it,$D0278))elseif(i1==1211117620)thenset J4=(OVE(150.,m5,Condition(function k6))>0)and(OME(it,$D0108,1093677623,m5))elseif(i1==1432580716)thenset J4=(OVE(400.,m5,Condition(function k8))>0)and(OME(it,$D0079,1093684300,m5))elseif(i1==1214344551)thenset J4=((K6(m5))and(IssueTargetOrderById(it,$D0065,m5)))elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenset J4=(OVE(400.,m5,Condition(function k8))>0)and(OME(it,$D0079,1093683532,m5))elseif(i1==1211117649)thenset J4=(GetUnitLifePercent(m5)<95.)and(IssueTargetOrderById(it,$D007F,m5))endifif(not J4)thenif(OXE(it,BU[G8]))thenset J4=(IsUnitInRange(it,m5,300.))and(UnitUseItem(it,OAE(it,BU[G8])))elseif(OXE(it,BU[X6V]))thenset J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,OAE(it,BU[X6V])))elseif(OXE(it,BU[EVV]))thenset J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,OAE(it,BU[EVV])))elseif(OXE(it,BU[E7]))thenset J4=(IsUnitInRange(it,m5,500.))and(UnitUseItem(it,OAE(it,BU[E7])))endifendifif((not J4)and(GetHeroLevel(it)>5))thenset m5=X8E(800.,jv(m5),Condition(function k6))if(m5!=null)thenif(i1==1160786506)and(IsUnitInRange(it,m5,895.))thenif(H5E(it,m5))or(not IsUnitInRange(m5,it,800))thencall GVE(it,m5,1.2,900)elsecall MoveLocation(YIV,GetUnitX(m5),GetUnitY(m5))endifset J4=(EWE(O5)and(J8(O5,IssuePointOrderByIdLoc(it,$D0079,YIV))))endifif(not J4)thencall IssueTargetOrderById(it,$D000F,m5)endifif(h4[GetPlayerId(GetOwningPlayer(it))]==null)thenset h4[GetPlayerId(GetOwningPlayer(it))]=m5endifendifendifset GZ[64+GetPlayerId(GetOwningPlayer(it))]=falseset m5=nullset it=nullendfunctionfunction ZAX takes nothing returns nothingif((QV[GetPlayerId(GetTriggerPlayer())]!=null)and(XZE(QV[GetPlayerId(GetTriggerPlayer())])))thencall ju(GetUnitsInRangeOfLocMatching(1100.,jv(QV[GetPlayerId(GetTriggerPlayer())]),Condition(function A6I)),function A7I)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,8.,"AI Allies nearby will assist you")set hq[464+GetPlayerId(GetTriggerPlayer())]=Bz+5.endifendfunctionfunction A8I takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction A9I takes nothing returns nothingif(GetWidgetLife(GetEnumUnit())>.405)thencall SetWidgetLife(GetEnumUnit(),GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+8.)elsecall GroupRemoveUnit(ij,GetEnumUnit())endifendfunctionfunction NVI takes nothing returns nothingcall ForGroup(ij,function A9I)call SetWidgetLife(ASV,GetUnitState(ASV,UNIT_STATE_LIFE)+12.)call SetWidgetLife(NAV,GetUnitState(NAV,UNIT_STATE_LIFE)+12.)endfunctionfunction X4O takes nothing returns nothinglocal trigger t=CreateTrigger()local boolexpr Ig=Condition(function A8I)set ij=FYE()call GroupEnumUnitsInRect(ij,bj_mapInitialPlayableArea,Ig)call TriggerRegisterTimerEventPeriodic(t,1.)call TriggerAddAction(t,function NVI)set JT=truecall DestroyBoolExpr(Ig)set Ig=nullendfunctionfunction X5O takes nothing returns nothingset KT=truecall EnableTrigger(GSV)endfunctionfunction NEI takes nothing returns booleanreturn GetDyingUnit()==QV[GetPlayerId(GetTriggerPlayer())]endfunctionfunction NXI takes nothing returns nothinglocal integer O5=1local integer ilocal integer aloopexitwhen O5>$Bif B6E(Player(O5))thenset a=UT[O5]-QRV[64+O5]if a>0 thenset i=1loopexitwhen i>aset QRV[96+O5]=R2I(Bz+WEV)if QT thencall SetPlayerHandicapXPBJ(Player(O5),QRV[16+O5]+(GetPlayerHandicapXPBJ(Player(O5))-QRV[16+O5])*.75)endifif TT thenset QRV[48+O5]=QRV[32+O5]+R2I((QRV[48+O5]-QRV[32+O5])*.75)endifset i=i+1endloopset QRV[64+O5]=UT[O5]endifendifset O5=O5+1endloopendfunctionfunction NOI takes nothing returns nothinglocal player p=GetOwningPlayer(GetDyingUnit())local player pl=GetOwningPlayer(GetKillingUnit())if IsUnitInForce(GetDyingUnit(),GLV)and GetDyingUnit()!=GetKillingUnit()thenset QRV[96+GetPlayerId(p)]=R2I(Bz+WEV)if QT thenif GetPlayerHandicapXP(p)*100<QRV[16+GetPlayerId(p)]thencall SetPlayerHandicapXP(p,QRV[16+GetPlayerId(p)]*.01)elsecall SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+.3)if GetPlayerHandicapXP(p)*100>(QRV[16+GetPlayerId(p)]+2.*100)thencall SetPlayerHandicapXP(p,(QRV[16+GetPlayerId(p)])*.01+2.)endifendifendifif TT thenif QRV[48+GetPlayerId(p)]<QRV[32+GetPlayerId(p)]thenset QRV[48+GetPlayerId(p)]=QRV[32+GetPlayerId(p)]elseset QRV[48+GetPlayerId(p)]=QRV[48+GetPlayerId(p)]+4if QRV[48+GetPlayerId(p)]>72 thenset QRV[48+GetPlayerId(p)]=72endifendifendifendifif GetKillingUnit()!=null and IsUnitInForce(GetKillingUnit(),GLV)and GetDyingUnit()!=GetKillingUnit()thenset QRV[96+GetPlayerId(pl)]=R2I(Bz+WEV)if QT thencall SetPlayerHandicapXPBJ(pl,QRV[16+GetPlayerId(pl)]+(GetPlayerHandicapXPBJ(pl)-QRV[16+GetPlayerId(pl)])*.5)endifif TT thenset QRV[48+GetPlayerId(pl)]=QRV[32+GetPlayerId(pl)]+R2I((QRV[48+GetPlayerId(pl)]-QRV[32+GetPlayerId(pl)])*.5)endifendifcall TimerStart(U9V,.5,false,function NXI)set p=nullset pl=nullendfunctionfunction NRI takes nothing returns nothinglocal integer O5=1local player pif Bz<300+WEV+F7V thenreturnendifloopexitwhen O5>$Bif O5==6 thenset O5=7endifif IsPlayerInForce(Player(O5),GLV)thenif(Bz>QRV[96+O5])thenset p=Player(O5)if QT thenif GetPlayerHandicapXP(p)*100<QRV[16+GetPlayerId(p)]thencall SetPlayerHandicapXP(p,QRV[16+GetPlayerId(p)]*.01)elsecall SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+.3/2)if GetPlayerHandicapXP(p)*100>(QRV[16+GetPlayerId(p)]+2.*100)thencall SetPlayerHandicapXP(p,(QRV[16+GetPlayerId(p)])/100+2.)endifendifendifif TT thenif QRV[48+GetPlayerId(p)]<QRV[32+GetPlayerId(p)]thenset QRV[48+GetPlayerId(p)]=QRV[32+GetPlayerId(p)]elseset QRV[48+GetPlayerId(p)]=QRV[48+GetPlayerId(p)]+4/2if QRV[48+GetPlayerId(p)]>72 thenset QRV[48+GetPlayerId(p)]=72endifendifendifset QRV[96+O5]=R2I(Bz+WEV)endifendifset O5=O5+1endloopendfunctionfunction NII takes nothing returns nothinglocal integer ilocal integer mlocal integer nlocal trigger t=nullset U8V=CreateTrigger()call ky(U8V,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(U8V,Condition(function NEI))call TriggerAddAction(U8V,function NOI)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddAction(t,function NRI)set t=nullset U9V=CreateTimer()endfunctionfunction X6O takes nothing returns nothingif U8V==null thencall NII()endifset QT=trueendfunctionfunction X7O takes nothing returns nothingif U8V==null thencall NII()endifset TT=trueendfunctionfunction NAI takes integer NNI,integer NBI,integer NCI,integer NDI,integer NFI,integer NGI,integer NHI,integer NJI,integer NKI,integer NLI,integer NMI,integer NPI,integer NQI,integer NSI,integer NTI,integer NUI,integer NWI returns nothingcall SaveInteger(WXV,NNI,0,NBI)call SaveInteger(WXV,NNI,1,NCI)call SaveInteger(WXV,NNI,2,NDI)call SaveInteger(WXV,NNI,3,NFI)call SaveInteger(WXV,NNI,4,NGI)call SaveInteger(WXV,NNI,5,NHI)call SaveInteger(WXV,NNI,6,NJI)call SaveInteger(WXV,NNI,7,NKI)call SaveInteger(WXV,NNI,8,NLI)call SaveInteger(WXV,NNI,9,NMI)call SaveInteger(WXV,NNI,$A,NPI)call SaveInteger(WXV,NNI,$B,NQI)call SaveInteger(WXV,NNI,$C,NSI)call SaveInteger(WXV,NNI,$D,NTI)call SaveInteger(WXV,NNI,$E,NUI)call SaveInteger(WXV,NNI,$F,NWI)if(bj_forLoopBIndex<=2)thenset eY[336+16*bj_forLoopBIndex+bj_forLoopAIndex]=NNIendifset bj_forLoopBIndex=bj_forLoopBIndex+1endfunctionfunction NYI takes unit V_E,integer NNI,integer NZI returns integerset bj_forLoopBIndex=GetUnitAbilityLevel(V_E,NNI)if bj_forLoopBIndex==0 thenreturn 0endifreturn LoadInteger(WXV,NNI,NZI+bj_forLoopBIndex-1)endfunctionfunction N_I takes integer N0I returns nothingset bj_forLoopBIndex=0if N0I==1215723364 thencall NAI(1093677633,$A,$A,$A,$A,110,120,$82,$8C,500,500,500,500,0,0,0,0)call NAI(1093744463,$F,$F,$F,$F,40,40,40,40,$6A4,$6A4,$6A4,$6A4,0,0,0,0)call NAI(1094934883,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093683534,45,45,45,$B,100,$96,$C8,110,600,900,$4B0,600,125,125,125,125)call NAI(1093747031,$A,$A,$A,$B,100,$96,$C8,110,600,900,$4B0,600,125,125,125,125)elseif N0I==1215128178 thencall NAI(1093677616,2,2,2,2,65,70,75,80,700,700,700,700,500,500,500,500)call NAI(1093683779,6,6,6,6,75,95,115,$87,700,700,700,700,0,0,0,0)call NAI(1093684789,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093810503,120,120,120,0,$E1,325,450,0,0,0,0,0,0,0,0,0)call NAI(1093810504,120,120,120,0,$E1,325,450,0,0,0,0,0,0,0,0,0)elseif N0I==1164799855 thencall NAI(1093682263,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682264,30,25,20,$F,65,65,65,65,700,700,700,700,0,0,0,0)call NAI(1093677378,45,45,45,45,125,$8C,$9B,$AA,0,0,0,0,300,300,300,300)call NAI(1093682265,0,0,0,0,55,60,65,0,550,550,550,0,0,0,0,0)call NAI(1093752642,0,0,0,0,55,60,65,0,715,715,715,0,0,0,0,0)elseif N0I==1328558160 thencall NAI(1093682766,$B,$B,$B,$B,$8C,$9B,$A0,$A5,$3E8,$3E8,$3E8,$3E8,0,0,0,0)call NAI(1093682998,$A,$A,$A,$A,100,100,100,100,600,700,800,900,0,0,0,0)call NAI(1093684056,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093683000,80,80,80,0,25,25,25,0,700,$44C,$5DC,0,$C8,$C8,$C8,0)elseif N0I==1214931305 thencall NAI(1093748025,$F,$F,$F,$F,100,120,$8C,$A0,700,700,700,700,400,400,400,400)call NAI(1093678147,$A,$A,$A,$A,115,125,$8C,$96,500,500,500,500,0,0,0,0)call NAI(1095262562,0,0,0,0,0,0,0,0,0,0,0,0,99999,99999,99999,99999)call NAI(1093677906,$96,120,90,0,$C8,400,600,0,500,500,500,500,0,0,0,0)call NAI(1093681494,$96,120,90,0,$C8,400,600,0,500,500,500,500,0,0,0,0)elseif N0I==1211117617 thencall NAI(1093744944,$F,$F,$F,$F,$8C,$8C,$8C,$8C,600,600,600,600,$FF,$FF,$FF,$FF)call NAI(1093677387,0,0,0,0,0,0,0,0,0,0,0,0,$C8,$C8,$C8,$C8)call NAI(1093814611,36,30,24,18,25,25,25,25,0,0,0,0,0,0,0,0)call NAI(1093752648,80,80,80,30,100,$96,$C8,25,0,0,0,0,0,0,0,0)elseif N0I==1212363833 thencall NAI(1093678643,40,40,40,40,70,80,90,100,$80,$80,$80,$80,$3E8,$3E8,$3E8,$3E8)call NAI(1093809220,$E,$E,$E,$E,75,85,95,115,650,650,650,650,0,0,0,0)call NAI(1093815125,$A,$A,$A,$A,80,90,100,110,0,0,0,0,0,0,0,0)call NAI(1093678933,$B4,120,60,0,100,100,100,0,500,500,500,500,0,0,0,0)elseif N0I==1333027688 thencall NAI(1093686091,$F,$F,$F,$F,125,$8C,$9B,$AA,$4B0,$4B0,$4B0,$4B0,0,0,0,0)call NAI(1093682252,7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093682250,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682248,$96,$82,110,9,$91,$CD,265,100,0,0,0,0,500,500,500,475)call NAI(1093750594,$96,$82,110,9,$91,$CD,265,100,0,0,0,0,500,500,500,475)elseif N0I==1212365106 thencall NAI(1093685831,$D,$D,$D,$D,75,80,85,90,425,425,425,425,$FA,275,300,325)call NAI(1093684025,20,$F,$A,5,50,50,50,50,700,700,700,700,0,0,0,0)call NAI(1093682266,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677130,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1311781199 thencall NAI(1093681461,$B4,$A0,$8C,120,75,75,75,75,0,0,0,0,$C8,$C8,$C8,$C8)call NAI(1093748038,30,30,30,30,50,50,50,50,0,0,0,0,400,450,475,500)call NAI(1093681464,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093681479,0,0,0,0,25,25,25,0,0,0,0,0,0,0,0,0)elseif N0I==1211117620 thencall NAI(1093677382,9,9,9,9,90,105,125,$8C,800,800,800,800,275,275,275,275)call NAI(1093677623,7,7,7,7,90,100,110,125,600,600,600,600,$E1,$E1,$E1,$E1)call NAI(1093744728,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677392,120,90,55,9,280,420,680,120,600,600,600,700,0,0,0,500)call NAI(1093679450,120,90,55,9,280,420,640,120,900,900,900,700,0,0,0,500)elseif N0I==1315070563 thencall NAI(1093678407,30,28,26,24,110,110,110,110,0,0,0,0,$FA,$FA,$FA,$FA)call NAI(1093678135,60,60,60,60,80,100,120,$8C,350,350,350,350,0,0,0,0)call NAI(1093677131,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684529,$82,120,110,9,$C8,275,350,75,450,450,450,600,0,0,0,0)call NAI(1093747032,110,100,90,9,$C8,275,350,75,450,450,450,600,0,0,0,0)elseif N0I==1311781185 thencall NAI(1093743692,20,18,16,$E,75,95,115,$87,800,800,800,800,350,350,350,350)call NAI(1093684314,0,0,0,0,$F,$F,$F,$F,600,600,600,600,0,0,0,0)call NAI(1093684547,0,0,0,0,0,0,0,0,0,0,0,0,750,750,750,750)call NAI(1093684275,$A0,$A0,$A0,0,$FA,350,450,0,500,500,500,500,0,0,0,0)elseif N0I==1214344551 thencall NAI(1093677402,$A,8,6,4,90,80,70,60,300,300,300,300,0,0,0,0)call NAI(1093809742,18,16,$E,$C,$8C,$8C,$8C,$8C,350,350,350,350,0,0,0,0)call NAI(1093809231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678938,115,105,95,0,$96,$AF,$C8,0,500,500,500,500,0,0,0,0)elseif N0I==1433105516 thencall NAI(1093683511,$F,$F,$F,$F,110,$82,$96,$A0,600,600,600,600,0,0,0,0)call NAI(1093744688,35,35,35,35,$AA,$AA,$AA,$AA,700,700,700,700,0,0,0,0)call NAI(1093681713,25,25,25,25,95,110,125,$8C,500,500,500,500,400,400,400,400)call NAI(1093747288,$C8,$BE,$B4,0,$C8,300,400,0,$FA,$FA,$FA,500,375,375,375,0)elseif N0I==1214409837 thencall NAI(1093679157,$A,$A,$A,$A,$96,$96,$96,$96,800,800,800,800,0,0,0,0)call NAI(1093742680,18,18,18,18,75,75,75,75,550,700,850,$3E8,0,0,0,0)call NAI(1093742898,19,18,17,16,40,55,70,85,900,900,900,900,0,0,0,0)call NAI(1093742932,80,70,60,120,100,100,100,$96,0,0,0,0,0,0,0,0)elseif N0I==1215657064 thencall NAI(1093677913,6,6,6,6,75,75,75,75,0,0,0,0,385,385,385,385)call NAI(1093750324,$A,$A,$A,$A,45,55,65,75,0,0,0,0,0,0,0,0)call NAI(1095657827,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684291,25,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1215130471 thencall NAI(1093678167,$C,$C,$C,$C,75,85,95,105,600,600,600,600,0,0,0,0)call NAI(1093677361,$F,$F,$F,$F,95,105,115,125,700,700,700,700,0,0,0,0)call NAI(1093679155,20,20,20,20,75,75,75,75,600,600,600,600,0,0,0,0)call NAI(1093679160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093815121,20,$F,$F,0,400,$8C,$9B,0,600,$4B0,$4B0,500,0,0,0,0)call NAI(1093679172,6,6,6,6,$B9,$C3,$CD,$D7,600,600,600,600,0,0,0,0)call NAI(1093679169,8,8,8,8,$91,$9B,$A5,$AF,600,600,600,600,0,0,0,0)call NAI(1093679161,$A,$A,$A,$A,105,115,125,$87,600,600,600,600,0,0,0,0)call NAI(1093677126,$F,$F,$F,$F,95,105,115,125,700,700,700,700,450,450,450,450)call NAI(1093677396,$F,$F,$F,$F,95,105,115,125,700,700,700,700,300,300,300,300)call NAI(1093677111,$F,$F,$F,$F,95,105,115,125,700,700,700,700,$96,$96,$96,$96)call NAI(1093679177,5,5,5,5,75,75,75,75,600,600,600,600,0,0,0,0)call NAI(1093679175,$A,$A,$A,$A,75,75,75,75,600,600,600,600,0,0,0,0)call NAI(1093679174,$F,$F,$F,$F,75,75,75,75,600,600,600,600,0,0,0,0)elseif N0I==1316252014 thencall NAI(1093678137,$E,$E,$E,$E,95,120,$91,$AA,550,550,550,550,0,0,0,0)call NAI(1093678405,25,25,25,25,120,$8C,$A0,$B4,0,0,0,0,$9C4,$9C4,$9C4,$9C4)call NAI(1093681745,35,35,35,35,$91,$96,$A5,$BE,300,300,300,300,300,300,300,300)call NAI(1093678645,0,0,0,0,$96,$FA,350,0,500,500,500,500,0,0,0,0)elseif N0I==1164799603 thencall NAI(1093808453,$B,$A,9,8,100,120,$8C,$A0,600,600,600,600,110,110,110,110)call NAI(1093677391,50,40,30,20,50,50,50,50,99999,99999,99999,99999,0,0,0,0)call NAI(1095067246,37,37,37,37,$A0,$A0,$A0,$A0,750,750,750,750,$96,$E1,300,375)call NAI(1093752632,90,75,60,0,$96,$C8,$FA,0,99999,99999,99999,500,0,0,0,0)call NAI(1093752633,90,75,60,0,$96,$C8,$FA,0,99999,99999,99999,500,0,0,0,0)elseif N0I==1332179560 thencall NAI(1093742660,7,7,7,7,125,$82,$87,$8C,750,750,750,750,0,0,0,0)call NAI(1093682231,30,25,20,$F,$96,120,90,60,0,0,0,0,0,0,0,0)call NAI(1093682242,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093687627,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1432580716 thencall NAI(1093684300,17,17,17,17,120,120,120,120,600,600,600,600,275,275,275,275)call NAI(1093681754,$A,$A,$A,$A,120,120,120,120,700,900,$44C,$514,300,300,300,300)call NAI(1093744977,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682009,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,900)elseif N0I==1211117643 thencall NAI(1093678410,25,20,$F,$C,125,$96,$AF,$CD,100,100,100,100,$C8,$C8,$C8,$C8)call NAI(1093678664,20,16,$D,$A,80,110,$8C,$A0,$96,$96,$96,$96,0,0,0,0)call NAI(1093678658,$B4,$AA,$A0,$96,100,125,$96,$AF,0,0,0,0,0,0,0,0)call NAI(1093681483,$A,$A,$A,7,$C8,$F0,300,30,500,500,500,500,0,0,0,0)call NAI(1093748313,$A,$A,$A,7,$C8,$F0,300,30,700,700,700,500,0,0,0,0)elseif N0I==1211117633 thencall NAI(1093684045,$E,$E,$E,$E,100,100,100,100,600,600,600,600,0,0,0,0)call NAI(1093684310,24,24,24,24,$AF,$AF,$AF,$AF,600,600,600,600,0,0,0,0)call NAI(1093810260,30,26,22,18,100,100,100,100,900,900,900,900,0,0,0,0)call NAI(1093684308,120,120,120,0,$C8,300,400,0,500,500,500,500,0,0,0,0)call NAI(1093747539,30,30,30,0,$C8,300,400,0,500,500,500,500,0,0,0,0)elseif N0I==1160785973 thencall NAI(1093678130,6,6,6,6,90,100,110,120,800,800,800,800,0,0,0,0)call NAI(1093678129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678642,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093678388,$A0,$96,$8C,0,$96,$C8,$FA,0,500,500,500,500,0,0,0,0)call NAI(1093677141,$A0,$96,$8C,0,$96,$C8,$FA,0,500,500,500,500,0,0,0,0)elseif N0I==1433631084 thencall NAI(1093678644,$F,$F,$F,$F,120,120,120,120,$4B0,$4B0,$4B0,$4B0,350,350,350,350)call NAI(1093677907,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677909,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678160,20,$F,$A,9,$AF,275,375,75,$5DC,$7D0,$9C4,600,0,0,0,0)elseif N0I==1311781174 thencall NAI(1093681733,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093808461,20,20,20,20,50,50,50,50,900,900,900,900,0,0,0,0)call NAI(1093685040,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093748042,20,20,20,9,75,75,75,100,0,0,0,0,400,450,475,475)call NAI(1093808462,$C,$C,$C,$C,50,50,50,50,700,700,700,700,0,0,0,0)elseif N0I==1332898670 thencall NAI(1093677360,8,8,8,8,95,105,$87,$A0,600,600,600,600,$C8,$C8,$C8,$C8)call NAI(1093685848,$D,$D,$D,$D,110,$8C,$AA,$C8,500,500,500,500,0,0,0,0)call NAI(1093677136,16,16,16,16,110,$82,$9B,$B9,400,400,400,400,0,0,0,0)call NAI(1093677128,110,110,110,7,$C8,350,600,30,550,550,550,500,0,0,0,0)call NAI(1093681457,110,110,110,7,$C8,350,600,30,600,600,600,500,0,0,0,0)elseif N0I==1211117624 thencall NAI(1093682775,2,2,2,2,30,30,30,30,600,600,600,600,0,0,0,0)call NAI(1093683024,3,3,3,3,35,35,35,35,0,0,0,0,700,700,700,700)call NAI(1093684531,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682774,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1315988077 thencall NAI(1093678669,$C,$C,$C,$C,90,105,$82,$96,0,0,0,0,400,400,400,400)call NAI(1097032808,8,8,8,8,50,50,50,50,850,850,850,850,$A,$A,$A,$A)call NAI(1093684568,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684561,$B4,$A0,$8C,$B4,125,$96,$AF,$96,0,0,0,0,$80,$80,$80,$80)call NAI(1093747254,$A0,$8C,120,$B4,125,$96,$AF,$96,0,0,0,0,$80,$80,$80,$80)elseif N0I==1211117616 thencall NAI(1093677139,$D,$D,$D,$D,85,100,115,$82,0,0,0,0,315,315,315,315)call NAI(1093677132,8,8,8,8,0,0,0,0,$96,$96,$96,$96,0,0,0,0)call NAI(1093677142,0,0,0,0,0,0,0,0,0,0,0,0,$3E8,$3E8,$3E8,$3E8)call NAI(1093677388,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1315007329 thencall NAI(1093677108,$A,$A,$A,$A,90,115,$87,$9B,650,650,650,650,0,0,0,0)call NAI(1093749073,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678913,$F,$F,$F,$F,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093681716,$A,7,5,0,70,60,50,0,900,$41A,$4B0,0,0,0,0,0)elseif N0I==1215063922 thencall NAI(1093677894,$C,$C,$C,$C,100,110,120,$82,500,500,500,500,$96,$96,$96,$96)call NAI(1093681490,9,9,9,9,100,100,100,75,$96,$96,$96,600,0,0,0,0)call NAI(1093681996,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677895,115,115,115,$B4,50,50,50,$96,0,0,0,0,0,0,0,0)elseif N0I==1164207469 thencall NAI(1093677618,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1095066220,$C,9,7,5,60,60,60,60,99999,99999,99999,99999,0,0,0,0)call NAI(1093684057,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682483,70,70,70,9,125,$C8,275,75,600,600,600,600,0,0,0,0)elseif N0I==1315074670 thencall NAI(1093677622,0,0,0,0,$C,$C,$C,$C,625,625,625,625,0,0,0,0)call NAI(1093685570,$F,$F,$F,$F,90,90,90,90,900,900,900,900,300,300,300,300)call NAI(1093677625,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093686851,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1214345830 thencall NAI(1093679182,$C,$C,$C,$C,100,120,$8C,$A0,400,500,600,700,0,0,0,0)call NAI(1093679190,$E,$E,$E,$E,50,50,50,50,500,500,500,500,0,0,0,0)call NAI(1093678657,0,0,0,0,0,0,0,0,0,0,0,0,300,300,300,300)call NAI(1093682514,$96,$96,$96,25,125,$AF,$FA,50,0,0,0,0,600,600,600,650)elseif N0I==1211117636 thencall NAI(1093685041,$D,$D,$D,$D,120,120,120,120,$514,$514,$514,$514,100,100,100,100)call NAI(1093685071,40,40,40,40,25,25,25,25,0,0,0,0,$C8,$C8,$C8,$C8)call NAI(1093681732,0,0,0,0,0,0,0,0,0,0,0,0,$3E8,$3E8,$3E8,$3E8)call NAI(1093685042,80,75,70,9,$96,$AF,$C8,75,600,600,600,600,0,0,0,0)call NAI(1093810233,45,45,45,9,$96,$AF,$C8,75,950,950,950,600,0,0,0,0)elseif N0I==1160786000 thencall NAI(1093685047,$A,$A,$A,$A,$87,$8C,$9B,$AA,500,500,500,500,0,0,0,0)call NAI(1093685046,$C,$B,$A,9,75,75,75,75,$44C,$44C,$44C,$44C,0,0,0,0)call NAI(1093685048,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093685045,60,60,60,8,$DC,330,440,100,850,850,850,700,0,0,0,125)call NAI(1093747249,60,60,60,8,$DC,330,440,100,$47E,$47E,$47E,700,0,0,0,125)elseif N0I==1311781193 thencall NAI(1093683532,22,22,22,22,$A0,$A0,$A0,$A0,900,900,900,900,625,625,625,625)call NAI(1093750345,16,16,16,16,120,120,120,120,0,0,0,0,0,0,0,0)call NAI(1093685043,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1095656306,45,45,45,30,50,100,$96,25,0,0,0,0,0,0,0,0)elseif N0I==1311781206 thencall NAI(1093684054,$C,$C,$C,$C,100,120,$8C,$A0,500,500,500,500,0,0,0,0)call NAI(1093684280,25,25,25,25,100,100,100,100,$BB8,$BB8,$BB8,$BB8,0,0,0,0)call NAI(1093684302,30,26,22,18,40,35,30,20,0,0,0,0,0,0,0,0)call NAI(1093684053,$A0,$8C,120,0,$AF,$AF,$AF,0,500,500,500,500,0,0,0,0)elseif N0I==1211117651 thencall NAI(1093743696,4,4,4,4,70,80,90,100,0,0,0,0,400,450,475,500)call NAI(1093743698,20,20,20,20,100,110,120,$82,300,300,300,300,500,500,500,500)call NAI(1093685591,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093743695,0,0,0,0,0,0,0,0,99999,99999,99999,0,0,0,0,0)elseif N0I==1211117649 thencall NAI(1093685584,25,25,25,25,$AA,$AA,$AA,$AA,400,400,400,400,0,0,0,0)call NAI(1093685582,0,0,0,0,0,0,0,0,450,450,450,450,0,0,0,0)call NAI(1093685585,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093685586,45,30,$F,0,0,0,0,0,550,550,550,500,0,0,0,0)call NAI(1093747251,24,16,8,0,0,0,0,0,550,550,550,500,0,0,0,0)elseif N0I==1160786265 thencall NAI(1093748033,17,17,17,17,75,75,75,75,0,0,0,0,0,0,0,0)call NAI(1093685846,7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093685839,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093685840,$B,9,7,0,$F,$F,$F,0,$7D0,$7D0,$7D0,500,300,300,300,0)elseif N0I==1311780930 thencall NAI(1093686073,$D,$D,$D,$D,$96,$96,$96,$96,$BB8,$BB8,$BB8,$BB8,0,0,0,0)call NAI(1093686083,16,16,16,16,100,110,120,$82,500,500,500,500,0,0,0,0)call NAI(1093686082,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093686072,85,85,85,6,100,$96,$C8,75,750,750,750,800,375,375,375,$C8)call NAI(1093751120,85,85,85,6,100,$96,$C8,75,750,750,750,800,375,375,375,$C8)elseif N0I==1211117652 thencall NAI(1093687860,32,28,24,20,75,75,75,75,500,500,500,500,0,0,0,0)call NAI(1093687861,$F,$F,$F,$F,50,60,70,80,500,500,500,500,0,0,0,0)call NAI(1093687862,20,18,16,$E,50,50,50,50,99999,99999,99999,99999,575,575,575,575)call NAI(1093687864,70,55,40,0,$96,$96,$96,0,$7D0,$9C4,$BB8,500,0,0,0,0)call NAI(1093747542,$F,$F,$F,0,$96,$96,$96,0,$7D0,$9C4,$BB8,500,0,0,0,0)elseif N0I==1211119187 thencall NAI(1093743414,$C,$C,$C,$C,120,120,120,120,$5DC,$5DC,$5DC,$5DC,$D7,$D7,$D7,$D7)call NAI(1093743444,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093742926,16,16,16,16,80,90,100,110,500,650,800,950,0,0,0,0)call NAI(1093742923,90,80,70,0,$96,$C8,$FA,0,$3E8,$3E8,$3E8,500,0,0,0,0)elseif N0I==1311786311 thencall NAI(1093743178,$C,$C,$C,$C,90,100,110,120,800,800,800,800,500,500,500,500)call NAI(1093743179,9,9,9,9,90,100,110,120,$6A4,$6A4,$6A4,$6A4,0,0,0,0)call NAI(1093743689,$F,$F,$F,$F,100,100,100,100,0,0,0,0,400,450,475,500)call NAI(1093743184,60,60,60,0,$C8,300,400,0,600,600,600,500,0,0,0,0)call NAI(1093747766,$F,$F,$F,0,$C8,300,400,0,600,600,600,500,0,0,0,0)elseif N0I==1164277353 thencall NAI(1093809985,20,20,20,20,75,75,75,75,600,600,600,600,350,350,350,350)call NAI(1093809973,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1)call NAI(1093751369,70,70,70,70,100,100,100,100,0,0,0,0,0,0,0,0)call NAI(1093678929,$A0,110,60,0,$C8,100,0,0,$FA,$FA,$FA,0,0,0,0,0)elseif N0I==1164666213 thencall NAI(1093678679,9,9,9,9,100,125,$8C,$A0,750,750,750,750,$96,$AF,$C8,$E1)call NAI(1093808212,22,22,22,22,95,120,$87,$9B,0,0,0,0,0,0,0,0)call NAI(1093678678,6,6,6,6,100,115,$82,$91,700,700,700,700,650,650,650,650)call NAI(1093808454,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)call NAI(1093808455,1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)elseif N0I==1433168227 thencall NAI(1093678918,9,9,9,8,125,$96,$AA,$BE,600,600,600,600,$C8,$C8,$C8,$C8)call NAI(1093679186,5,5,5,5,50,50,50,50,800,800,800,800,0,0,0,0)call NAI(1093678387,35,30,25,20,25,25,25,25,400,400,400,400,0,0,0,0)call NAI(1093678420,$91,115,60,6,$C8,325,500,50,750,750,750,800,0,0,0,0)call NAI(1093679176,$91,115,60,6,$C8,325,500,50,850,850,850,800,0,0,0,0)elseif N0I==1430468406 thencall NAI(1093677645,8,8,8,8,105,120,$8C,$A5,600,600,600,600,110,110,110,110)call NAI(1093685302,$F,$F,$F,$F,80,80,80,80,900,900,900,900,$C8,275,350,350)call NAI(1093677635,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678899,100,100,100,$B4,$C8,300,400,$96,0,0,0,0,700,700,700,800)call NAI(1093678904,4,4,4,4,80,95,115,$8C,600,600,600,600,110,110,110,110)call NAI(1093678900,5,5,5,5,85,100,120,$91,600,600,600,600,110,110,110,110)call NAI(1093678898,6,6,6,6,90,105,125,$96,600,600,600,600,110,110,110,110)call NAI(1093678670,7,7,7,7,95,110,$82,$9B,600,600,600,600,110,110,110,110)call NAI(1093678925,$B,$B,$B,$B,55,55,55,55,900,900,900,900,$C8,275,350,350)call NAI(1093678922,$C,$C,$C,$C,60,60,60,60,900,900,900,900,$C8,275,350,350)call NAI(1093678921,$D,$D,$D,$D,65,65,65,65,900,900,900,900,$C8,275,350,350)call NAI(1093678920,$E,$E,$E,$E,70,70,70,70,900,900,900,900,$C8,275,350,350)call NAI(1093678158,100,100,100,$B4,$C8,300,400,$96,0,0,0,0,700,700,700,800)call NAI(1093678157,100,100,100,$B4,$C8,300,400,$96,0,0,0,0,700,700,700,800)call NAI(1093678154,100,100,100,$B4,$C8,300,400,$96,0,0,0,0,700,700,700,800)call NAI(1093677898,100,100,100,$B4,$C8,300,400,$96,0,0,0,0,700,700,700,800)elseif N0I==1430466872 thencall NAI(1093687349,$C,$C,$C,$C,100,120,$91,$AA,500,500,500,500,0,0,0,0)call NAI(1093684558,$F,$F,$F,$F,125,$96,$AF,$C8,500,500,500,500,0,0,0,0)call NAI(1093677646,25,20,$F,$A,$A,$A,$A,$A,600,650,700,750,800,800,800,800)call NAI(1093679413,$96,90,55,9,$C8,420,650,120,700,700,700,700,500,500,500,500)call NAI(1093679447,$96,90,50,9,$C8,420,625,120,700,700,700,700,500,500,500,500)elseif N0I==1162032439 thencall NAI(1093744435,22,22,22,22,90,105,120,$87,800,800,800,800,0,0,0,0)call NAI(1093684569,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684563,5,5,5,5,20,20,20,20,850,850,850,850,0,0,0,0)call NAI(1093677363,$8C,120,100,40,$C8,300,400,125,0,0,0,0,$C8,$C8,$C8,$C8)call NAI(1093681462,$8C,120,60,40,$C8,300,400,125,0,0,0,0,$C8,$C8,$C8,$C8)elseif N0I==1430466865 thencall NAI(1093677651,$B,$A,9,8,90,90,90,90,500,500,500,500,$96,$96,$96,$96)call NAI(1093677879,$C,$C,$C,$A,40,40,40,40,800,800,800,800,0,0,0,0)call NAI(1093751364,30,30,30,30,80,80,80,80,99999,99999,99999,99999,100,100,100,100)call NAI(1093810508,120,110,100,0,$C8,$FA,300,0,0,0,0,0,0,0,0,0)elseif N0I==1430468144 thencall NAI(1093679192,$A,$A,$A,$A,70,80,90,100,700,700,700,700,0,0,0,0)call NAI(1093750337,4,4,4,4,$AA,$A0,$96,$8C,$3E8,$3E8,$3E8,$3E8,0,0,0,0)call NAI(1093686872,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093750341,$B4,$A0,$8C,9,$96,$96,$96,100,0,0,0,0,0,0,0,475)call NAI(1093814599,$B4,$A0,$8C,9,$96,$96,$96,100,0,0,0,0,0,0,0,475)elseif N0I==1429221441 thencall NAI(1093678389,$A,$A,$A,$A,$8C,$8C,$8C,$8C,500,500,500,500,0,0,0,0)call NAI(1093685847,24,18,$C,6,70,70,70,70,550,600,650,700,0,0,0,0)call NAI(1093677902,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677903,$8C,$8C,$8C,3,125,$C8,275,$96,$80,$80,$80,$80,$3E8,$3E8,$3E8,$3E8)elseif N0I==1429221432 thencall NAI(1093677892,30,30,30,30,125,125,125,125,800,800,800,800,$C8,$C8,$C8,$C8)call NAI(1093687878,50,45,40,35,$F,20,25,30,500,500,500,500,0,0,0,0)call NAI(1093677893,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093679411,100,70,40,$B4,100,100,100,$96,0,0,0,0,0,0,0,0)elseif N0I==1429221430 thencall NAI(1093681736,$A,$A,$A,$A,120,120,120,120,700,700,700,700,0,0,0,0)call NAI(1093681735,30,30,30,30,50,50,50,50,600,600,600,600,650,650,650,650)call NAI(1093681739,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093687121,45,45,45,0,100,100,100,0,500,500,500,500,0,0,0,0)elseif N0I==1165451634 thencall NAI(1093687629,8,8,8,8,30,25,20,$F,$4B0,$4B0,$4B0,$4B0,0,0,0,0)call NAI(1093685324,$E,$B,8,5,50,50,50,50,$3E8,$3E8,$3E8,$3E8,0,0,0,0)call NAI(1093677904,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677905,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1211117654 thencall NAI(1093747504,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682994,$B,$B,$B,$B,$8C,$96,$A0,$AA,800,800,800,800,500,500,500,500)call NAI(1093684560,0,0,0,0,0,0,0,0,$80,$80,$80,$80,0,0,0,0)call NAI(1093747028,$8C,110,80,0,$C8,100,0,0,500,500,500,500,0,0,0,0)elseif N0I==1432646245 thencall NAI(1093677640,8,8,8,8,80,90,100,110,525,525,525,525,0,0,0,0)call NAI(1093679173,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)call NAI(1093679158,0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)call NAI(1093677899,$B4,$96,120,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093747248,$B4,$96,120,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1313026096 thencall NAI(1095267426,8,8,8,8,$8C,$8C,$8C,$8C,525,525,525,525,0,0,0,0)call NAI(1096114550,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1095721842,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677401,260,$A0,60,$F0,$8C,$8C,$8C,0,0,0,0,0,0,0,0,0)elseif N0I==1430467634 thencall NAI(1093742674,60,55,50,45,60,60,60,60,300,300,300,300,0,0,0,0)call NAI(1093750608,60,55,50,45,60,65,70,75,0,0,0,0,0,0,0,0)call NAI(1093679412,8,8,8,8,110,110,110,110,600,600,600,600,0,0,0,0)call NAI(1093684565,110,110,110,120,$96,$C8,$FA,125,550,550,550,400,0,0,0,0)call NAI(1093681458,110,110,110,120,$96,$C8,$FA,125,550,550,550,400,0,0,0,0)elseif N0I==1429221424 thencall NAI(1093687351,$B,$B,$B,$B,95,115,$87,$9B,500,500,500,500,0,0,0,0)call NAI(1093748789,28,20,$C,4,90,110,$82,$96,600,600,600,600,0,0,0,0)call NAI(1093815119,$A,$A,$A,$A,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093679445,70,60,50,5,$A0,$D2,260,75,0,0,0,0,0,0,0,0)elseif N0I==1430468913 thencall NAI(1093678403,40,40,40,40,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093810507,8,8,8,8,80,95,105,115,0,0,0,0,0,0,0,0)call NAI(1093683786,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093677876,$A,$A,$A,0,25,25,25,0,700,700,700,0,0,0,0,0)elseif N0I==1430466609 thencall NAI(1093685559,20,16,$C,8,80,100,120,$8C,400,400,400,400,0,0,0,0)call NAI(1093684549,$C,$A,8,6,60,60,60,60,99999,99999,99999,99999,0,0,0,0)call NAI(1093678145,7,7,7,7,110,120,$82,$8C,0,0,0,0,500,500,500,500)call NAI(1093810258,$87,$87,$87,8,$FA,360,500,100,700,700,700,700,100,100,100,125)call NAI(1093810259,100,70,40,8,$FA,360,500,100,700,700,700,700,100,100,100,125)elseif N0I==1160785972 thencall NAI(1093677872,60,50,40,30,90,90,90,90,0,0,0,0,0,0,0,0)call NAI(1095263841,0,0,0,0,8,8,8,8,600,600,600,600,0,0,0,0)call NAI(1093677621,20,20,20,20,75,75,75,75,0,0,0,0,0,0,0,0)call NAI(1093678161,45,45,45,0,100,100,100,0,400,400,400,0,0,0,0,0)elseif N0I==1162032181 thencall NAI(1093684299,19,17,$F,$D,120,120,120,120,700,900,$44C,$514,0,0,0,0)call NAI(1093682010,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093679153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093683761,120,110,100,6,$96,$AF,$C8,70,600,600,600,800,400,400,400,$C8)call NAI(1093747767,60,60,60,6,$96,$AF,$C8,70,600,600,600,800,400,400,400,$C8)elseif N0I==1162032951 thencall NAI(1093679446,4,3,0,0,20,20,20,20,600,600,600,600,0,0,0,0)call NAI(1093746995,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684557,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093679152,80,50,30,8,125,$AF,$FA,65,500,500,500,300,0,0,0,0)call NAI(1093752154,$C,$C,$C,8,125,125,125,65,800,800,800,300,0,0,0,0)elseif N0I==1160785970 thencall NAI(1093748023,$E,$E,$E,$E,125,125,125,125,0,0,0,0,0,0,0,0)call NAI(1093747792,25,25,25,25,20,30,40,50,600,600,600,600,0,0,0,0)call NAI(1093748022,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093747023,80,70,60,0,100,$96,$C8,0,600,600,600,500,0,0,0,0)call NAI(1093752150,80,70,60,0,100,$96,$C8,0,600,600,600,500,0,0,0,0)elseif N0I==1429221443 thencall NAI(1093686322,$F,$F,$F,$F,75,75,75,75,0,0,0,0,0,0,0,0)call NAI(1093686099,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093744948,24,20,16,$C,110,110,110,110,700,700,700,700,500,500,500,500)call NAI(1093686103,100,100,100,0,50,50,50,0,$96,$96,$96,500,0,0,0,0)elseif N0I==1211117640 thencall NAI(1093684564,6,6,6,6,85,105,125,$91,400,400,400,400,400,400,400,400)call NAI(1093681989,$D,$B,9,7,100,100,100,100,700,700,700,700,0,0,0,0)call NAI(1093679428,35,35,35,35,80,80,80,80,0,0,0,0,100,100,100,100)call NAI(1093681987,22,22,22,8,125,$AF,$E1,75,850,850,850,500,850,850,850,800)call NAI(1093677658,0,0,0,8,125,$AF,$E1,75,900,900,900,500,900,900,900,800)elseif N0I==1332109682 thencall NAI(1093678134,$C,$C,$C,$C,120,120,120,120,700,700,700,700,0,0,0,0)call NAI(1093678149,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093808694,7,6,5,4,30,40,50,60,0,0,0,0,0,0,0,0)call NAI(1093810505,$96,$96,$96,$C,$96,$E1,325,75,0,0,0,0,0,0,0,500)elseif N0I==1332963428 thencall NAI(1093678166,$C,$C,$C,$C,95,105,115,125,$3E8,$3E8,$3E8,$3E8,0,0,0,0)call NAI(1093683019,$E,$E,$E,$E,125,$96,$AF,$C8,600,600,600,600,500,500,500,500)call NAI(1093678169,$F,$F,$F,$F,$A5,$A5,$A5,$A5,500,550,600,650,0,0,0,0)call NAI(1093677649,100,100,100,0,$C8,300,400,0,625,625,625,0,0,0,0,0)call NAI(1093747769,100,100,100,0,$C8,300,400,0,625,625,625,0,0,0,0,0)elseif N0I==1429221445 thencall NAI(1093678422,8,7,6,5,125,$91,$A5,$B9,0,0,0,0,400,450,475,500)call NAI(1093677390,0,0,0,0,0,0,0,0,0,0,0,0,$3E8,$3E8,$3E8,$3E8)call NAI(1093678640,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093678647,100,85,70,9,$AF,340,500,75,600,600,600,600,0,0,0,0)call NAI(1093679184,70,70,70,9,$96,340,500,75,600,600,600,600,0,0,0,0)elseif N0I==1429221446 thencall NAI(1093678665,$E,$D,$C,$B,110,120,$82,$8C,600,800,$3E8,$4B0,0,0,0,0)call NAI(1093678667,0,0,0,0,0,0,0,0,0,0,0,0,$FA,$FA,$FA,$FA)call NAI(1093678660,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682764,30,30,30,0,100,$82,$AA,0,$A0,$A0,$A0,0,0,0,0,0)call NAI(1093747544,30,30,30,0,100,$82,$AA,0,$A0,$A0,$A0,0,0,0,0,0)elseif N0I==1328558154 thencall NAI(1093750840,35,35,35,35,100,100,100,100,99999,99999,99999,99999,0,0,0,0)call NAI(1093682515,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093682997,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682996,75,75,75,0,125,$96,$AF,0,400,550,700,500,0,0,0,0)call NAI(1093747768,20,20,20,0,125,$96,$AF,0,550,700,850,500,0,0,0,0)elseif N0I==1432510828 thencall NAI(1093751127,36,33,30,27,100,100,100,100,$BB8,$BB8,$BB8,$BB8,0,0,0,0)call NAI(1093681985,$C,$A,8,6,60,60,60,60,0,0,0,0,0,0,0,0)call NAI(1093681991,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682004,60,50,40,0,$96,75,0,0,0,0,0,500,0,0,0,0)elseif N0I==1315334514 thencall NAI(1093682521,$A,$A,$A,$A,75,75,75,75,0,0,0,0,0,0,0,0)call NAI(1093681746,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093682773,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093810506,120,110,100,0,$96,$AF,$C8,0,0,0,0,0,0,0,0,0)call NAI(1093682736,$A,$A,$A,$A,75,75,75,75,0,0,0,0,0,0,0,0)call NAI(1093682760,$A,$A,$A,$A,75,75,75,75,0,0,0,0,0,0,0,0)elseif N0I==1429221451 thencall NAI(1093678671,$B,$B,$B,$B,110,120,$82,$8C,350,450,550,650,0,0,0,0)call NAI(1093683248,40,30,20,$A,60,50,40,30,500,500,500,500,0,0,0,0)call NAI(1093682753,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093678674,$8C,120,100,0,$AF,$FA,325,0,500,500,500,500,0,0,0,0)call NAI(1093747252,120,100,80,0,$AF,$FA,325,0,500,500,500,500,0,0,0,0)elseif N0I==1332766568 thencall NAI(1093683510,$A,$A,$A,$A,80,90,100,110,500,500,500,500,0,0,0,0)call NAI(1093686065,20,$F,$A,5,75,85,95,105,900,900,900,900,0,0,0,0)call NAI(1093681974,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093682482,75,65,55,9,120,$A0,$C8,120,$96,$96,$96,700,$96,$96,$96,500)call NAI(1093750098,6,6,6,9,120,$A0,$C8,120,$96,$96,$96,700,$96,$96,$96,500)elseif N0I==1215722344 thencall NAI(1093682499,$C,$A,8,6,80,80,80,80,800,800,800,800,0,0,0,0)call NAI(1093684293,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093683512,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684296,70,60,50,0,$96,$C8,$FA,0,$3E8,$3E8,$3E8,500,0,0,0,0)elseif N0I==1432642913 thencall NAI(1093683507,6,6,6,6,75,75,75,75,800,800,800,800,0,0,0,0)call NAI(1093684550,$E,$C,$A,8,100,105,110,115,500,500,500,500,1,1,1,1)call NAI(1093684551,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684819,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)call NAI(1093747777,60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)elseif N0I==1160786242 thencall NAI(1093683287,16,16,16,16,$82,$8C,$96,$A0,$7D0,$7D0,$7D0,$7D0,0,0,0,0)call NAI(1093682776,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684801,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093683257,120,120,120,0,$96,$96,$96,0,0,0,0,500,0,0,0,0)elseif N0I==1160786241 thencall NAI(1093684813,20,18,16,$E,110,120,$82,$8C,700,700,700,700,500,500,500,500)call NAI(1093684805,0,0,0,0,$F,40,65,90,0,0,0,0,340,340,340,340)call NAI(1093684815,35,35,35,35,120,120,120,120,400,400,400,400,$96,$96,$96,$96)call NAI(1093684820,90,90,90,120,$C8,$C8,$C8,$96,300,350,400,700,0,0,0,0)call NAI(1093684824,90,90,90,120,$C8,$C8,$C8,$96,300,350,400,700,0,0,0,0)elseif N0I==1429221456 thencall NAI(1093685065,0,0,0,0,100,100,100,100,450,450,450,450,0,0,0,0)call NAI(1093685066,18,16,$E,$C,120,$8C,$A0,$B4,550,550,550,550,500,500,500,500)call NAI(1093683526,0,0,0,0,0,0,0,0,0,0,0,0,$3E8,$3E8,$3E8,$3E8)call NAI(1093685067,$A0,$A0,$A0,0,$AF,$FA,325,0,600,650,700,0,375,475,575,0)call NAI(1093752407,$A0,$A0,$A0,0,$AF,$FA,325,0,700,750,800,0,375,475,575,0)elseif N0I==1160786243 thencall NAI(1093683765,25,25,25,25,120,120,120,120,800,800,800,800,0,0,0,0)call NAI(1093681491,20,20,20,20,90,110,$82,$96,500,500,500,500,0,0,0,0)call NAI(1093678672,50,50,50,50,100,110,120,$82,700,700,700,700,650,650,650,650)call NAI(1395667000,$A5,$A5,$A5,30,$C8,$FA,300,100,$4B0,$4B0,$4B0,900,600,600,600,$FA)call NAI(1395667029,$A5,$A5,$A5,30,$C8,$FA,300,100,$4B0,$4B0,$4B0,900,600,600,600,$FA)elseif N0I==1211117641 thencall NAI(1093684802,20,16,$C,8,100,100,100,100,500,750,$3E8,$4E2,$DC,$DC,$DC,$DC)call NAI(1093684792,$E,$C,$A,8,80,80,80,80,99999,99999,99999,99999,0,0,0,0)call NAI(1093684791,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093684567,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093809987,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1311781207 thencall NAI(1093684817,$F,$D,$B,9,100,115,$82,$91,600,600,600,600,0,0,0,0)call NAI(1093742668,60,45,30,$F,$8C,$82,120,110,400,600,800,$3E8,0,0,0,0)call NAI(1093685074,$C,$A,8,6,80,90,100,110,900,900,900,900,0,0,0,0)call NAI(1093742673,40,40,40,0,100,100,100,0,$7D0,$7D0,$7D0,0,575,575,575,0)call NAI(1093747778,40,40,40,0,100,100,100,0,$7D0,$7D0,$7D0,0,775,775,775,0)elseif N0I==1311780946 thencall NAI(1093809743,16,16,16,16,100,110,120,$82,775,775,775,775,450,450,450,450)call NAI(1093685825,24,21,18,$F,100,115,$82,$91,750,750,750,750,275,275,275,275)call NAI(1093810232,18,18,18,18,125,$87,$91,$9B,0,0,0,0,0,0,0,0)call NAI(1093685808,$82,$82,$82,0,75,$96,$E1,0,99999,99999,99999,500,0,0,0,0)elseif N0I==1211117650 thencall NAI(1093743955,$A,8,6,4,70,90,110,$82,625,625,625,625,300,300,300,300)call NAI(1093685813,25,20,$F,$A,50,75,100,125,650,650,650,650,0,0,0,0)call NAI(1093743958,60,60,60,60,120,$82,$8C,$96,600,600,600,600,0,0,0,0)call NAI(1093743946,75,75,75,$B4,100,100,100,$96,0,0,0,0,0,0,0,0)elseif N0I==1211117646 thencall NAI(1093685573,16,16,16,16,100,$82,$A0,$BE,550,550,550,550,275,375,475,575)call NAI(1093685575,$A,$A,$A,$A,70,90,110,$82,600,600,600,600,0,0,0,0)call NAI(1093685815,$C,$B,$A,9,20,30,40,50,600,600,600,600,0,0,0,0)call NAI(1093685579,100,100,100,0,$C8,300,400,0,500,900,$514,500,300,300,300,0)call NAI(1093808465,100,100,100,0,$C8,300,400,0,500,900,$514,500,300,300,300,0)elseif N0I==1211117653 thencall NAI(1093808471,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093808472,0,0,0,9,0,0,0,100,0,0,0,0,0,0,0,475)call NAI(1093808470,0,0,0,25,0,0,0,50,0,0,0,0,0,0,0,650)call NAI(1093808473,22,17,$C,5,20,40,60,80,0,0,0,0,0,0,0,0)call NAI(1093748565,16,8,4,2,0,0,0,0,0,0,0,0,0,0,0,0)elseif N0I==1311787088 thencall NAI(1093750087,$F,$D,$B,9,$96,$96,$96,$96,700,700,700,700,0,0,0,0)call NAI(1093748819,6,6,6,6,80,90,100,110,$5DC,$5DC,$5DC,$5DC,$FA,$FA,$FA,$FA)call NAI(1093748817,50,46,42,38,$8C,$8C,$8C,$8C,800,800,800,800,450,450,450,450)call NAI(1093750089,45,45,45,0,100,125,$96,0,99999,99999,99999,500,0,0,0,0)elseif N0I==1328558389 thencall NAI(1093747009,$F,$F,$F,$F,100,115,$82,$91,500,500,500,500,0,0,0,0)call NAI(1093747000,16,16,16,16,110,110,110,110,$4B0,$4B0,$4B0,$4B0,0,0,0,0)call NAI(1093747524,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093746993,100,100,100,0,$AF,$AF,$AF,0,$640,$640,$640,500,0,0,0,0)elseif N0I==1211119409 thencall NAI(1093749069,$A,9,8,7,55,50,45,40,0,0,0,0,0,0,0,0)call NAI(1093749303,20,16,$C,8,75,75,75,75,500,500,500,500,0,0,0,0)call NAI(1093748818,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093749070,25,25,25,5,120,120,120,75,0,0,0,0,0,0,0,0)elseif N0I==1328558390 thencall NAI(1093748044,3,3,3,3,20,20,20,20,700,700,700,700,375,375,375,375)call NAI(1093744982,$B,$B,$B,$B,80,100,120,$8C,$5DC,$5DC,$5DC,$5DC,375,375,375,375)call NAI(1093744986,40,40,40,40,100,100,100,100,0,0,0,0,-1,-1,-1,-1)call NAI(1093744975,90,70,50,9,$96,$96,$96,120,$AF,$AF,$AF,700,500,500,500,500)elseif N0I==1160786505 thencall NAI(1093753167,18,16,$E,$C,120,120,120,120,$5DC,$5DC,$5DC,$5DC,0,0,0,0)call NAI(1093751607,28,28,28,28,75,75,75,75,$4E2,$4E2,$4E2,$4E2,0,0,0,0)call NAI(1093753170,50,50,50,50,75,75,75,75,0,0,0,0,100,100,100,100)call NAI(1093753169,30,24,18,9,50,75,100,100,0,0,0,0,0,0,0,475)elseif N0I==1160786510 thencall NAI(1093751631,7,7,6,6,90,90,90,90,500,500,500,500,0,0,0,0)call NAI(1093751633,20,17,$E,$B,120,$82,$8C,$96,$41A,$41A,$41A,$41A,500,500,500,500)call NAI(1093808697,20,20,20,20,50,50,50,50,0,0,0,0,0,0,0,0)call NAI(1093751861,55,50,45,6,125,125,125,75,$3E8,$3E8,$3E8,800,400,400,400,$C8)call NAI(1093808949,55,50,45,6,125,125,125,75,99999,99999,99999,800,400,400,400,$C8)elseif N0I==1160786506 thencall NAI(1093751894,16,16,16,16,$82,$82,$82,$82,800,800,800,800,0,0,0,0)call NAI(1093751639,60,50,40,30,$A0,$82,100,70,600,$3E8,$578,$708,500,500,500,500)call NAI(1093751637,$E,$E,$E,$E,70,70,70,70,900,900,900,900,300,300,300,300)call NAI(1093752118,85,85,85,0,125,$AF,$E1,0,800,800,800,500,375,375,375,0)elseif N0I==1328558406 thencall NAI(1093751873,$C,$C,$C,$C,40,40,40,40,$708,$708,$708,$708,1,1,1,1)call NAI(1093751864,20,18,16,$E,120,$82,$8C,$96,0,0,0,0,0,0,0,0)call NAI(1093810257,2,2,2,2,0,0,0,0,$80,$80,$80,$80,0,0,0,0)call NAI(1093751874,90,75,60,0,100,100,100,0,99999,99999,99999,500,0,0,0,0)elseif N0I==1160786504 thencall NAI(1093751608,25,22,19,16,120,120,120,120,600,600,600,600,500,500,500,500)call NAI(1093751618,$D,$D,$D,$D,50,50,50,50,600,600,600,600,500,500,500,500)call NAI(1093751604,3,3,3,3,50,50,50,50,$5DC,$5DC,$5DC,$5DC,0,0,0,0)call NAI(1093751617,50,50,50,0,$C8,$C8,$C8,0,800,800,800,0,0,0,0,0)elseif N0I==1160786502 thencall NAI(1093751370,25,25,25,25,100,100,100,100,99999,99999,99999,99999,0,0,0,0)call NAI(1093753176,30,30,30,30,75,75,75,75,$4B0,$4B0,$4B0,$4B0,0,0,0,0)call NAI(1093753177,0,0,0,0,$A,20,30,40,$7D0,$7D0,$7D0,$7D0,0,0,0,0)call NAI(1093751371,110,110,110,0,$C8,$C8,$C8,0,700,700,700,500,0,0,0,0)elseif N0I==1160786520 thencall NAI(1093809990,18,18,18,18,120,120,120,120,550,575,600,625,0,0,0,0)call NAI(1093809991,16,$E,$C,$A,$96,$96,$96,$96,800,800,800,800,0,0,0,0)call NAI(1093810006,0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call NAI(1093809992,20,18,16,0,25,25,25,0,$3E8,$3E8,$3E8,500,0,0,0,0)elseif N0I==1311788336 thencall NAI(1093814323,$E,$C,$A,8,110,110,110,110,0,0,0,0,0,0,0,0)call NAI(1093814320,30,22,$E,6,50,50,50,50,700,700,700,700,$FA,350,450,550)call NAI(1093814355,35,35,35,35,80,90,100,110,$4B0,$4B0,$4B0,$4B0,0,0,0,0)call NAI(1093814859,0,0,0,0,0,0,0,0,$5DC,$5DC,$5DC,500,0,0,0,0)elseif N0I==1160786507 thencall NAI(1093814850,18,18,18,18,100,100,100,100,$3E8,$3E8,$3E8,$3E8,315,315,315,315)call NAI(1093814834,$F,$F,$F,$F,80,90,100,110,800,800,800,800,0,0,0,0)call NAI(1093813593,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093813065,50,50,50,0,75,75,75,0,100,100,100,500,0,0,0,0)elseif N0I==1211122767 thencall NAI(1093812805,5,4,3,2,70,70,70,70,800,800,800,800,500,500,500,500)call NAI(1093814612,20,19,18,17,110,110,110,110,0,0,0,0,0,0,0,0)call NAI(1093814350,$B,$B,$B,$B,80,90,100,110,700,700,700,700,0,0,0,0)call NAI(1093812807,60,40,20,0,350,575,800,0,$4B0,$4B0,$4B0,500,$AA,$AA,$AA,0)elseif N0I==1160786738 thencall NAI(1093813835,8,8,8,8,70,80,90,100,0,0,0,0,0,0,0,0)call NAI(1093813555,4,4,4,4,60,70,80,90,800,$3E8,$4B0,$578,0,0,0,0)call NAI(1093813556,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call NAI(1093813557,8,8,8,0,125,$96,$AF,0,$4B0,$4B0,$4B0,500,$C8,$C8,$C8,0)endifendfunctionfunction N1I takes integer O5,integer o6,integer n6,integer N2I,integer N3I,integer N4I,integer N5I,integer N6I returns nothingset eY[$80+O5]=o6set eY[$90+O5]=n6set eY[$A0+O5]=N2Iset eY[$AC+O5]=N3Iset eY[$BC+O5]=N4Iset hG[$90+O5]=N5Iset hG[$A0+O5]=N6Iendfunctionfunction N7I takes unit it returns booleanlocal integer i1=GetUnitTypeId(it)return((i1==1211117636)or(i1==1333027688)or(i1==1311787088)or(i1==1211117653)or(i1==1315988077)or(i1==1211117617)or(i1==1432580716)or(i1==1214344551)or(i1==1215063922)or(i1==1429221451)or(i1==1328558154)or(i1==1332109682)or(i1==1332766568)or(i1==1429221441)or(i1==1429221443)or(i1==1432642913)or(i1==1313026096)or(i1==1430468913)or(i1==1160785970)or(i1==1215657064)or(i1==1429221430)or(i1==1429221424)or(i1==1162032439)or(i1==1162032951)or(i1==1311780930)or(i1==1211117620)or(i1==1430468144)or(i1==1215130471)or(i1==1160786000)or(i1==1211117646)or(i1==1430468406)or(i1==1430466872)or(i1==1433105516)or(i1==1433168227)or(i1==1429221445)or(i1==1160786243))endfunctionfunction N8I takes integer O5,unit it,integer i1 returns nothingif(i1==1211117654)thencall N1I(O5,1093684560,1093682994,1093747504,1093747028,0,$C,$D)elseif(i1==1429221443)thencall N1I(O5,1093686322,1093686099,1093744948,1093686103,0,101,101)elseif(i1==1162032951)thencall N1I(O5,1093684557,1093679446,1093746995,1093679152,1093752154,7,3)elseif(i1==1162032181)thencall N1I(O5,1093682010,1093679153,1093684299,1093683761,1093747767,9,9)elseif(i1==1429221424)thencall N1I(O5,1093687351,1093748789,1093815119,1093679445,0,21,17)elseif(i1==1160785972)thencall N1I(O5,1095263841,1093677872,1093677621,1093678161,0,9,$B)elseif(i1==1432646245)thencall N1I(O5,1093679158,1093677640,1093679173,1093677899,1093747248,1,$B)elseif(i1==1430466609)thencall N1I(O5,1093678145,1093685559,1093684549,1093810258,1093810259,$D,20)elseif(i1==1430468913)thencall N1I(O5,1093678403,1093810507,1093683786,1093677876,0,8,1)elseif(i1==1430467634)thencall N1I(O5,1093742674,1093679412,1093750608,1093684565,1093681458,$F,16)elseif(i1==1313026096)thencall N1I(O5,1095267426,1096114550,1095721842,1093677401,0,$B,6)elseif((i1==1164277353)or(i1==1164277357))thencall N1I(O5,1093809985,1093809973,1093751369,1093678929,0,$A,$D)elseif(i1==1164666213)thencall N1I(O5,1093678678,1093678679,1093808212,1093808454,1093808455,102,23)elseif(i1==1433168227)thencall N1I(O5,1093678918,1093678387,1093679186,1093678420,1093679176,25,25)elseif(i1==1429221430)thencall N1I(O5,1093681736,1093681735,1093681739,1093687121,0,$E,16)elseif(i1==1430466872)thencall N1I(O5,1093687349,1093684558,1093677646,1093679413,1093679447,23,17)elseif(i1==1162032439)thencall N1I(O5,1093744435,1093684569,1093684563,1093677363,1093681462,8,8)elseif(i1==1430466865)thencall N1I(O5,1093677651,1093677879,1093751364,1093810508,0,8,$B)elseif(i1==1430468144)thencall N1I(O5,1093679192,1093750337,1093686872,1093750341,1093814599,107,107)elseif(i1==1429221432)thencall N1I(O5,1093677893,1093677892,1093687878,1093679411,0,1,6)elseif(i1==1429221441)thencall N1I(O5,1093678389,1093685847,1093677902,1093677903,0,$A,1)elseif(i1==1165451634)thencall N1I(O5,1093687629,1093685324,1093677904,1093677905,0,3,$B)elseif(i1==1432642913)thencall N1I(O5,1093684550,1093683507,1093684551,1093684819,1093747777,4,4)elseif(i1==1215722344)thencall N1I(O5,1093684293,1093683512,1093682499,1093684296,0,1,$B)elseif(i1==1432510828)thencall N1I(O5,1093751127,1093681985,1093681991,1093682004,0,6,6)elseif(i1==1332766568)thencall N1I(O5,1093681974,1093686065,1093683510,1093682482,1093750098,104,4)elseif(i1==1429221451)thencall N1I(O5,1093678671,1093682753,1093683248,1093678674,1093747252,8,$B)elseif(i1==1315334514)thencall N1I(O5,1093681746,1093682521,1093682773,1093810506,0,7,8)elseif(i1==1328558154)thencall N1I(O5,1093750840,1093682515,1093682997,1093682996,1093747768,1,1)elseif(i1==1429221446)thencall N1I(O5,1093678665,1093678667,1093678660,1093682764,1093747544,103,4)elseif(i1==1429221445)thencall N1I(O5,1093678422,1093678640,1093677390,1093678647,1093679184,21,25)elseif(i1==1332963428)thencall N1I(O5,1093683019,1093678169,1093678166,1093677649,1093747769,18,17)elseif(i1==1332109682)thencall N1I(O5,1093678134,1093678149,1093808694,1093810505,0,$B,$F)elseif(i1==1211117640)thencall N1I(O5,1093684564,1093681989,1093679428,1093681987,1093677658,21,21)elseif(i1==1430468406)thencall N1I(O5,0,1093677635,0,0,0,25,25)elseif(i1==1160786242)thencall N1I(O5,1093683287,1093682776,1093684801,1093683257,0,$A,6)elseif(i1==1160786241)thencall N1I(O5,1093684813,1093684815,1093684805,1093684820,1093684824,105,23)elseif(i1==1429221456)thencall N1I(O5,1093683526,1093685065,1093685066,1093685067,1093752407,23,22)elseif(i1==1160786243)thenif(OWE(not IsPlayerAlly(Player(O5),RX[0]))>2)thencall N1I(O5,1093681491,1093678672,1093683765,1395667000,1395667029,17,20)elsecall N1I(O5,1093681491,1093683765,1093678672,1395667000,1395667029,17,20)endifelseif(i1==1211117641)thencall N1I(O5,1093684791,1093684792,1093684802,1093684567,1093809987,106,106)elseif(i1==1311781207)thencall N1I(O5,1093685074,1093742668,1093684817,1093742673,1093747778,17,18)elseif(i1==1311780946)thencall N1I(O5,1093809743,1093685825,1093810232,1093685808,0,$F,16)elseif(i1==1211117650)thencall N1I(O5,1093743955,1093685813,1093743958,1093743946,0,5,5)elseif(i1==1211117646)thencall N1I(O5,1093685575,1093685573,1093685815,1093685579,1093808465,5,5)elseif(i1==1211117624)thencall N1I(O5,1093684531,1093682775,1093683024,1093682774,0,4,4)elseif(i1==1160785973)thencall N1I(O5,1093678642,1093678129,1093678130,1093678388,1093677141,$9A,$9A)elseif(i1==1315988077)thencall N1I(O5,1093678669,1093684568,1097032808,1093684561,1093747254,6,$A)elseif(i1==1211117616)thencall N1I(O5,1093677139,1093677132,1093677142,1093677388,0,6,$A)elseif(i1==1315074670)thencall N1I(O5,1093677622,1093677625,1093685570,1093686851,0,9,7)elseif(i1==1215063922)thencall N1I(O5,1093677894,1093812553,1093681996,1093677895,0,$F,6)elseif(i1==1164207469)thencall N1I(O5,1093677618,1093684057,1095066220,1093682483,0,9,3)elseif(i1==1433631084)thencall N1I(O5,1093677907,1093677909,1093678644,1093678160,0,3,$D)elseif(i1==1214345830)thencall N1I(O5,1093679182,1093679190,1093678657,1093682514,0,18,5)elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thencall N1I(O5,1093681733,1093808460,1093685040,1093748042,0,$C,9)elseif(i1==1315007329)thencall N1I(O5,1093677108,1093749073,1093678913,1093681716,0,1,3)elseif(i1==1332898670)thencall N1I(O5,1093677136,1093677360,1093685848,1093677128,1093681457,17,23)elseif(i1==1215723364)thencall N1I(O5,1093677633,1094934883,1093744463,1093683534,1093747031,$E,4)elseif(i1==1215128178)thencall N1I(O5,1093683779,1093677616,1093684789,1093810503,1093810504,16,20)elseif(i1==1164799855)thencall N1I(O5,1093682263,1093682264,1093677378,1093682265,1093752642,26,22)elseif(i1==1433105516)thencall N1I(O5,1093683511,1093744688,1093681713,1093747288,0,18,25)elseif(i1==1214409837)thencall N1I(O5,1093679157,1093742898,1093742680,1093742932,0,19,19)elseif(i1==1316252014)thencall N1I(O5,1093678405,1093678137,1093681745,1093678645,0,$9D,19)elseif(i1==1164799603)thencall N1I(O5,1093808453,1095067246,1093677391,1093752632,1093752633,18,19)elseif(i1==1328558160)thencall N1I(O5,1093682766,1093682998,1093684056,1093683000,0,1,$C)elseif(i1==1212363833)thencall N1I(O5,1093678643,1093809220,1093815125,1093678933,0,$A,9)elseif(i1==1315070563)thencall N1I(O5,1093678407,1093677131,1093678135,1093684529,1093747032,1,$B)elseif(i1==1214931305)thencall N1I(O5,1093748025,1093678147,1095262562,1093677906,1093681494,8,17)elseif(i1==1212365106)thencall N1I(O5,1093682266,1093684025,1093685831,1093677130,0,1,$A)elseif(i1==1211117617)thencall N1I(O5,1093744944,1093677387,1093814611,1093752648,0,$B,4)elseif(i1==1211117633)thencall N1I(O5,1093810260,1093684045,1093684310,1093684308,1093747539,$99,$99)elseif(i1==1211117620)thencall N1I(O5,1093677382,1093677623,1093744728,1093677392,1093679450,16,23)elseif(i1==1432580716)thencall N1I(O5,1093681754,1093684300,1093744977,1093682009,0,$F,16)elseif(i1==1333027688)thencall N1I(O5,1093686091,1093682250,1093682252,1093682248,1093750594,$F,16)if IsPlayerAlly(Player(O5),RX[0])thenset YBV=trueelseset YCV=trueendifelseif(i1==1311781185)thencall N1I(O5,1093743692,1093684314,1093684547,1093684275,0,26,22)elseif(i1==1211117643)thencall N1I(O5,1093678410,1093678658,1093678664,1093681483,1093748313,$97,$97)elseif(i1==1215657064)thencall N1I(O5,1095657827,1093750324,1093677913,1093684291,0,$9C,$9C)elseif(i1==1332179560)thencall N1I(O5,1093682242,1093742660,1093682231,1093687627,0,$A,9)elseif(i1==1214344551)thencall N1I(O5,1093677402,1093809742,1093809231,1093678938,0,$98,20)elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thencall N1I(O5,1093681461,1093681464,0,1093681479,0,3,$B)elseif(i1==1215130471)thencall N1I(O5,0,0,0,1093679160,0,16,23)elseif(i1==1211117636)thencall N1I(O5,1093685041,1093685071,1093681732,1093685042,1093810233,$9B,16)elseif(i1==1160786000)thencall N1I(O5,1093685046,1093685047,1093685048,1093685045,1093747249,19,25)elseif(i1==1311781193)thencall N1I(O5,1093685043,1093750345,1093683532,1095656306,0,6,$B)elseif(i1==1311781206)thencall N1I(O5,1093684054,1093684280,1093684302,1093684053,0,$E,$C)elseif(i1==1211117649)thencall N1I(O5,1093685584,1093685582,1093685585,1093685586,1093747251,$B,$B)elseif(i1==1160786265)thencall N1I(O5,1093685839,1093748033,1093685846,1093685840,0,9,$A)elseif(i1==1311780930)thencall N1I(O5,1093686073,1093686083,1093686082,1093686072,1093751120,$D,18)elseif(i1==1311787088)thencall N1I(O5,1093750087,1093748819,1093748817,1093750089,48,1,1)elseif(i1==1211119409)thencall N1I(O5,1093749069,1093749303,1093748818,1093749070,48,1,1)elseif(i1==1160785970)thencall N1I(O5,1093748023,1093747792,1093748022,1093747023,1093752150,1,1)elseif(i1==1160786506)thencall N1I(O5,1093751894,1093751639,1093751637,1093752118,48,1,1)elseif(i1==1160786505)thencall N1I(O5,1093753167,1093751607,1093753170,1093753169,48,1,1)elseif(i1==1160786502)thencall N1I(O5,1093751370,1093753176,1093753177,1093751371,48,1,1)elseif(i1==1160786520)thencall N1I(O5,1093809990,1093809991,1093810006,1093809992,48,1,1)if B6E(Player(O5))thenset YNV=trueendifelseif(i1==1211117652)thencall N1I(O5,1093687860,1093687861,1093687862,1093687864,1093747542,1,1)elseif(i1==1211117653)thencall N1I(O5,1093808471,1093808472,1093808470,1093808473,1093748565,1,1)elseif(i1==1311786311)thencall N1I(O5,1093743178,1093743179,1093743689,1093743184,1093747766,1,1)elseif(i1==1160786510)thencall N1I(O5,1093751631,1093751633,1093808697,1093751861,1093808949,1,1)elseif(i1==1328558406)thencall N1I(O5,1093751873,1093751864,1093810257,1093751874,0,1,1)elseif(i1==1211117651)thencall N1I(O5,1093743696,1093743698,1093685591,1093743695,0,1,1)elseif(i1==1328558390)thencall N1I(O5,1093748044,1093744982,1093744986,1093744975,0,1,1)elseif(i1==1160786504)thencall N1I(O5,1093751608,1093751618,1093751604,1093751617,0,1,1)elseif(i1==1311788336)thencall N1I(O5,1093814323,1093814320,1093814355,1093814859,0,1,1)elseif(i1==1160786507)thencall N1I(O5,1093814850,1093814834,1093813593,1093813065,0,1,1)elseif(i1==1211122767)thencall N1I(O5,1093812805,1093814612,1093814350,1093812807,0,1,1)elseif(i1==1160786738)thencall N1I(O5,1093813835,1093813555,1093813556,1093813557,0,1,1)elsecall N1I(O5,IXV[GetUnitPointValue(it)],IOV[GetUnitPointValue(it)],IRV[GetUnitPointValue(it)],IIV[GetUnitPointValue(it)],IAV[GetUnitPointValue(it)],1,1)endifset bj_forLoopAIndex=O5call N_I(i1)endfunctionfunction N9I takes nothing returns nothingcall TZX(GetTriggerUnit())if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)thenif(GetUnitTypeId(GetTriggerUnit())!=1211117642)thencall ExecuteFunc("UD")elsecall ExecuteFunc("xh")endifelseif(GetUnitTypeId(GetTriggerUnit())!=1211117642)thenif not(((GPV!=null)and(IsTriggerEnabled(GPV)))and(((GetOwningPlayer(GetTriggerUnit())==GGV)and(GJV!=null))or((GetOwningPlayer(GetTriggerUnit())==GHV)and(GKV!=null))))thenset bj_lastLoadedUnit=GetTriggerUnit()call N8I(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)),bj_lastLoadedUnit,GetUnitTypeId(bj_lastLoadedUnit))call ExecuteFunc("BVI")endifendifendfunctionfunction BEI takes integer O5,integer EAE returns nothinglocal integer BXI=0local real xlocal real ylocal integer BOI=BBVlocal integer BRI=BFVlocal integer kg=0local player pl=Player(O5)local integer i=0if(B7E(pl)and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(QV[GetPlayerId(pl)]==null))thenif(((B2E(pl))and(not W))or((W)and(GetRandomInt(1,2)==1)))thenset BOI=BBVset BRI=BCVelseset BOI=BDVset BRI=BFVendifif(B2E(pl))thenset x=GetRandomReal(GetRectMinX(BA),GetRectMaxX(BA))set y=GetRandomReal(GetRectMinY(BA),GetRectMaxY(BA))elseset x=GetRandomReal(GetRectMinX(NA),GetRectMaxX(NA))set y=GetRandomReal(GetRectMinY(NA),GetRectMaxY(NA))endifset eY[GetPlayerId(pl)]=0loopset BXI=GetRandomInt(BOI,BRI)if((not v[BXI])and(EIE(BAV[BXI],EAE)or i>20))thenset QV[GetPlayerId(pl)]=CreateUnit(pl,BAV[BXI],x,y,bj_UNIT_FACING)endifset i=i+1exitwhen(QV[GetPlayerId(pl)]!=null)endloopif(not(T or U or ZR or IQV))thencall AdjustPlayerStateBJ(-$FA,pl,PLAYER_STATE_RESOURCE_GOLD)endifendifset pl=nullendfunctionfunction SEv takes nothing returns nothingif(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))thenif(GetUnitTypeId(GetEnumUnit())==1429221430)thencall ExecuteFunc("D3X")endifelseif((GetUnitTypeId(GetEnumUnit())==1848651828)or(GetUnitTypeId(GetEnumUnit())==1848652088)or(GetUnitTypeId(GetEnumUnit())==1848652099)or(GetUnitTypeId(GetEnumUnit())==1848652103))thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction BII takes player pl,boolean BAI returns nothinglocal integer BOIlocal integer BRIlocal integer BXIlocal integer O5=GetPlayerId(pl)local integer EAE=R1E(GetHandleId(pl),"AI|Class")local integer i=0if(((B2E(pl))and(not W))or((W)and(GetRandomInt(1,2)==1)))thenset BOI=BBVset BRI=BCVelseset BOI=BDVset BRI=BFVendifif(BAI)thenif W or GR thenset NV=100endifcall AdjustPlayerStateBJ(-1*NV,pl,PLAYER_STATE_RESOURCE_GOLD)endifcall GroupClear(H8)set bj_groupEnumOwningPlayer=plcall GroupEnumUnitsInRect(H8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(H8,function ZTX)call HKE(QV[O5])set QV[O5]=nullset I[O5]=trueloopset BXI=GetRandomInt(BOI,BRI)if(v[BXI]==false and(EIE(BAV[BXI],EAE)or i>20))thenset v[BXI]=trueif(B2E(pl))thenset QV[O5]=CreateUnit(pl,BAV[BXI],GetRectCenterX(WA),GetRectCenterY(WA),bj_UNIT_FACING)elseset QV[O5]=CreateUnit(pl,BAV[BXI],GetRectCenterX(QA),GetRectCenterY(QA),bj_UNIT_FACING)endifcall C_E(BAV[BXI])endifset i=i+1exitwhen QV[O5]!=nullendloopendfunctionfunction BNI takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=XTE(S2I(SubString(VH,9,StringLength(VH))))if((pl!=null)and(B7E(pl))and(IsPlayerInForce(pl,GLV)))thenif((IsPlayerAlly(GetTriggerPlayer(),pl))or(O_E(not IsPlayerAlly(GetTriggerPlayer(),RX[0]))==null))thenif((I[GetPlayerId(pl)])or(QV[GetPlayerId(pl)]==null))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot repick")elseif(Bz>60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Too late to repick")elsecall BII(pl,false)endifelsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot force repick on enemies with human ally")endifendifset pl=nullendfunctionfunction BBI takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local integer BCI=1local boolean O6=IsPlayerAlly(GetTriggerPlayer(),RX[0])local boolean BDIif((B)and((VH=="-pa")or(VH=="-pe")))thenset Gs=trueif(VH=="-pa")thenset BDI=O6elseset BDI=not O6endifloopif(B6E(OZE(BCI,BDI))and QV[GetPlayerId(OZE(BCI,BDI))]==null)thenexitwhen trueendifset BCI=BCI+1exitwhen(BCI>5)endloopif((BCI<=5)and(O0E(O6)==null))thenif((QV[GetPlayerId(O_E(O6))]==null)and(not oo[GetPlayerId(O_E(O6))]))thenif(O6)thenset GJV=OZE(BCI,BDI)elseset GKV=OZE(BCI,BDI)endifif(not W)thencall SetUnitOwner(h4[512+GetPlayerId(O_E(O6))],O0E(O6),false)call SetUnitOwner(h4[512+GetPlayerId(O0E(O6))],O_E(O6),false)if VH=="-pe" thenset nc=CreateUnitAtLoc(O_E(O6),1848651843,GetRectCenter(pr),0)set Vc=CreateUnitAtLoc(O_E(O6),1848651843,GetRectCenter(qr),0)if not W thencall C2E(GetTriggerPlayer())endifendifendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Pick a hero for "+C[GetPlayerId(O0E(O6))]+GetPlayerName(O0E(O6))+"|r. Type "+"|c00dd8dff"+"-px|r to cancel.")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"You should pick heroes for the AI before choosing your own hero. Randomized instead.")call BEI(GetPlayerId(OZE(BCI,BDI)),0)endifelseif(O0E(O6)!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Already picking for "+C[GetPlayerId(O0E(O6))]+GetPlayerName(O0E(O6))+"|r")endifelseif(VH=="-px")thenif not W thencall C3E(GetTriggerPlayer())endifif(O0E(O6)!=null)thencall SetUnitOwner(h4[512+GetPlayerId(O_E(O6))],O_E(O6),false)call SetUnitOwner(h4[512+GetPlayerId(O0E(O6))],O0E(O6),false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullif(O6)thenset GJV=nullelseset GKV=nullendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Picking cancelled")endifelseif((not B)and((VH=="-pa")or(VH=="-pe")))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"|c00888888Too early to pick a hero.|r")endifendfunctionfunction BFI takes nothing returns booleanlocal integer O5=1loopexitwhen O5>5if(B5E(RX[O5])and(QV[GetPlayerId(RX[O5])]==null))thenreturn trueelseif(B5E(GX[O5])and(QV[GetPlayerId(GX[O5])]==null))thenreturn trueendifset O5=O5+1endloopreturn falseendfunctionfunction BGI takes nothing returns nothinglocal integer O5=1local boolean array BHIlocal integer ilocal integer jif(Bz<68.)thenif(((OR)or(not Gs))and(Bz>43.))thenelseif(BFI()or Bz<30.)thenreturnelsecall EYE(1.)endifendifcall DestroyTrigger(GetTriggeringTrigger())call DisableTrigger(GPV)if(GJV!=null)thencall DisplayTimedTextToPlayer(GGV,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(GGV)],GGV,false)call SetUnitOwner(h4[512+GetPlayerId(GJV)],GJV,false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset GJV=nullendifif(GKV!=null)thencall DisplayTimedTextToPlayer(GHV,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(GHV)],GHV,false)call SetUnitOwner(h4[512+GetPlayerId(GKV)],GKV,false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset GKV=nullendifif((T)or(ZR)or(U)or(IQV)or(D3V)or(GI)or(HFV)or(H0V))thenreturnendifset O5=1loopexitwhen O5>5if QV[GetPlayerId(RX[O5])]!=null thenset BHI[EOE(GetUnitTypeId(QV[GetPlayerId(RX[O5])]))]=trueendifif QV[GetPlayerId(GX[O5])]!=null thenset BHI[6+EOE(GetUnitTypeId(QV[GetPlayerId(GX[O5])]))]=trueendifset O5=O5+1endloopif IMV<=4 thenset BHI[3]=trueendifif IMV<=3 thenif GetRandomInt(0,2)==0 thenset BHI[4]=trueelseset BHI[5]=trueendifendifif IMV<=2 thenif BHI[4]thenset BHI[5]=trueelseset BHI[4]=trueendifendifif IPV<=4 thenset BHI[6+3]=trueendifif IPV<=3 thenif GetRandomInt(0,2)==0 thenset BHI[6+4]=trueelseset BHI[6+5]=trueendifendifif IPV<=2 thenif BHI[4]thenset BHI[6+5]=trueelseset BHI[6+4]=trueendifendifset O5=1loopexitwhen O5>5if(B6E(RX[O5])and(QV[GetPlayerId(RX[O5])]==null))thenset j=0loopexitwhen j>5set i=GetRandomInt(1,5)if BHI[i]thenset i=0elseexitwhen trueendifset j=j+1endloopif i==0 thenset i=5loopexitwhen(not BHI[i])or i==0set i=i-1endloopendifcall BEI(GetPlayerId(RX[O5]),i)if not(i==0 or EIE(GetUnitTypeId(QV[GetPlayerId(RX[O5])]),i))thenset i=EOE(GetUnitTypeId(QV[GetPlayerId(RX[O5])]))endifset BHI[i]=truecall O4E(GetHandleId(RX[O5]),"AI|Class",i)call EYE(1.)endifif(B6E(GX[O5])and(QV[GetPlayerId(GX[O5])]==null))thenset j=0loopexitwhen j>5set i=GetRandomInt(1,5)if BHI[6+i]thenset i=0elseexitwhen trueendifset j=j+1endloopif i==0 thenset i=5loopexitwhen(not BHI[6+i])or i==0set i=i-1endloopendifcall BEI(GetPlayerId(GX[O5]),i)if not(i==0 or EIE(GetUnitTypeId(QV[GetPlayerId(GX[O5])]),i))thenset i=EOE(GetUnitTypeId(QV[GetPlayerId(GX[O5])]))endifset BHI[6+i]=truecall O4E(GetHandleId(GX[O5]),"AI|Class",i)call EYE(1.)endifset O5=O5+1endloopendfunctionfunction BJI takes unit it,integer BKI returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(it),BKI,true)call SelectHeroSkill(it,BKI)endfunctionfunction BLI takes integer i1 returns booleanreturn(((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))endfunctionfunction BMI takes integer i1 returns booleanreturn((i1==1430468406)or(i1==1316252014)or(i1==1429221456)or(i1==1432646245)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1215657064)or(i1==1311781207)or(i1==1311780946)or(i1==1315074670)or(i1==1164666213)or(i1==1429221441))endfunctionfunction BPI takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer BQI=0local integer BSI=0local integer BUI=0local integer BWI=0local integer kt=0local integer UPlocal player BYI=GetOwningPlayer(it)local integer BZI=0if(QRV[GetPlayerId(BYI)]==1)thenset BZI=1elseif(QRV[GetPlayerId(BYI)]==3)thenset BZI=2elseif(QRV[GetPlayerId(BYI)]==5)thenset BZI=3endifloopcall TriggerSleepAction(.1)set BUI=GetHeroSkillPoints(it)exitwhen((BQI>$A)or(BUI==0)or(BSI>25)or(not XZE(it)))set kt=GetHeroLevel(it)+1-BUIif((kt<=$E)and(BQI<7))thenset BWI=GetRandomInt(0,2)elseset BWI=GetRandomInt(0,4)endifif(BQI==0)thenset BWI=0if((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseif(kt>=$F)thenset BWI=4endifendifif(BWI==3)thenif((BMI(i1))and(kt<$A))thenset BWI=GetRandomInt(0,1)elseif((i1==1311781199)and(kt<$E))thenset BWI=GetRandomInt(0,2)endifelseif(BQI==0)thenif((BMI(i1))and(kt==$A))thenset BWI=3elseif((i1==1311781199)and((kt==$E)or(kt==$F)))thenset BWI=3endifendifif((BWI==2)and(kt<$A))thenset BWI=GetRandomInt(0,1)endifif(((i1==1215722344)or(i1==1311781207))and(BQI<2))thenif((kt==2)or(kt==5))thenset BWI=2elseif(((kt==$A)or(kt==$C))and(BWI==2))thenset BWI=GetRandomInt(0,1)endifelseif(((i1==1430466609)or(i1==1164207469)or(i1==1162032181)or(i1==1429221456)or(i1==1164799603)or(i1==1212365106)or(i1==1311781206)or(i1==1311780930))and(BQI<2))thenif(kt==1)thenset BWI=2elseif((kt==$A)and(BWI==2))thenset BWI=GetRandomInt(0,1)endifelseif((i1==1432642913)and(kt==2)and(BQI<3))thenset BWI=2endifif((i1==1160786241)and(BQI<3))thenif((kt<=16)and(BWI==2))thenset BWI=4elseif(((kt==17)or(kt==18)or(kt==19)or(kt==20))and(BWI==4))thenset BWI=2endifelseif((i1==1432510828)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==8)or(kt==$C))thenset BWI=0elseif((kt==2)or(kt==5)or(kt==9)or(kt==$D))thenset BWI=1elseif((kt==3)or(kt==7)or(kt==$A)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1332179560)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==17))thenset BWI=2elseif((kt==9)or(kt==$B)or(kt==16))thenset BWI=3elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseset BWI=4endifelseif((i1==1429221430)and(BQI<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==$A)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==4)or(kt==8)or(kt==9)or(kt==$C))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117641)and(BQI<3))thenif((kt==1)or(kt==8)or(kt==$A)or(kt==18))thenset BWI=0elseif((kt==3)or(kt==$F)or(kt==19)or(kt==25))thenset BWI=2elseif((kt==7)or(kt==9)or(kt==$C)or(kt==$D))thenset BWI=1elseif((kt<=$E)and(BWI!=3))thenset BWI=4endifelseif((i1==1214344551)and(BQI<3))thenif((kt==3)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==1)or(kt==5)or(kt==8)or(kt==$A))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1165451634)and(BQI<3))thenif((kt==1)or(kt==23)or(kt==24)or(kt==25))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==7)or(kt==8))thenset BWI=1elseif((kt==$D)or(kt==$E)or(kt==$F)or(kt==17))thenset BWI=2elseif((kt<=17)and(BWI!=3))thenset BWI=4endifelseif((i1==1160785972)and(BQI<3))thenif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==1)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1313026096)and(BQI<3))thenif((kt==$C)or(kt==$D)or(kt==$E)or(kt==$F))thenset BWI=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset BWI=2elseif((kt<=$C)and(BWI!=3)and(BWI!=0))thenset BWI=4endifelseif((i1==1430468913)and(BQI<3))thenif((kt==$A)or(kt==$B)or(kt==$C)or(kt==$D))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3endifelseif((i1==1215657064)and(BQI<3))thenif((kt==2)or(kt==8)or(kt==9)or(kt==25))thenset BWI=1elseif((kt==4)or(kt==$A)or(kt==$B)or(kt==$C))thenset BWI=2elseif((kt==6)or(kt==$F)or(kt==16))thenset BWI=3elseif((kt<=20)and(BWI!=0))thenset BWI=4endifelseif((i1==1160785973)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1332766568)and(BQI<3))thenif(BZI==1)thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==21)or(kt==22)or(kt==23)or(kt==24))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(BZI==2)thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(BZI==3)thenif((kt==2)or(kt==8)or(kt==9)or(kt==$C))thenset BWI=0elseif((kt==3)or(kt==5)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((kt==2)or(kt==8)or(kt==9)or(kt==$C))thenset BWI=0elseif((kt==3)or(kt==5)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifendifelseif((i1==1328558160)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==8))thenset BWI=0elseif((kt==$A)or(kt==16)or(kt==17)or(kt==18))thenset BWI=1elseif((kt==$C)or(kt==23)or(kt==24)or(kt==25))thenset BWI=2elseif((kt==$B)or(kt==19)or(kt==20))thenset BWI=3elseset BWI=4endifelseif((i1==1214931305)and(BQI<3))thenif((kt==4)or(kt==18)or(kt==19)or(kt==20))thenset BWI=0elseif((kt==1)or(kt==$D)or(kt==$E)or(kt==$F))thenset BWI=1elseif((kt==2)or(kt==3)or(kt==6)or(kt==9))thenset BWI=2elseif((kt==$B)or(kt==16)or(kt==17))thenset BWI=3elseset BWI=4endifelseif((i1==1162032439)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==9)or(kt==$C)or(kt==$E))thenset BWI=1elseif((kt==4)or(kt==8)or(kt==$A)or(kt==$D))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1311781185)and(BQI<3))thenif((kt==1)or(kt==8)or(kt==9)or(kt==$E))thenset BWI=0elseif((kt==4)or(kt==$A)or(kt==$C)or(kt==$D))thenset BWI=1elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1162032181)and(BQI<3))thenif((kt==3)or(kt==5)or(kt==7)or(kt==9))thenset BWI=0elseif((kt==$C)or(kt==$D)or(kt==$E)or(kt==$F))thenset BWI=1elseif((kt==1)or(kt==17)or(kt==18)or(kt==19))thenset BWI=2elseif((kt==$A)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==$A))thenset BWI=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset BWI=2elseif((kt==$B)or(kt==$C)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1215128178)and(BQI<3))thenif((kt==3)or(kt==4)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==18)or(kt==19)or(kt==20))thenset BWI=1elseif((kt==8)or(kt==9)or(kt==$A)or(kt==17))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))and(BQI<3)thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==4)or(kt==7)or(kt==$B))thenset BWI=1elseif((kt==4)or(kt==8)or(kt==$C)or(kt==$D))thenset BWI=2elseif((kt==6)or(kt==$F)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))and(BQI<3))thenif((kt==4)or(kt==5)or(kt==$C)or(kt==$D))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))thenset BWI=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221446)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==7)or(kt==$D))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==$C))thenset BWI=1elseif((kt==8)or(kt==9)or(kt==$A)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117643)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset BWI=0elseif((kt==3)or(kt==$D)or(kt==$F)or(kt==17))thenset BWI=1elseif((kt==2)or(kt==18)or(kt==20)or(kt==22))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1311787088)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$C)or(kt==17)or(kt==18)or(kt==19))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117653)and(BQI<3))thenif((kt==4)or(kt==$E)or(kt==$F)or(kt==16)or(kt==18)or(kt==20)or(kt==21))thenset BWI=0elseif((kt==6)or(kt==$A)or(kt==19)or(kt==22)or(kt==23)or(kt==24)or(kt==25))thenset BWI=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==8)or(kt==9)or(kt==$B)or(kt==$D))thenset BWI=2elseif((kt==2)or(kt==7)or(kt==$C)or(kt==17))thenset BWI=3endifelseif(((i1==1211117620)or(i1==1160786505))and(BQI<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211119409)and(BQI<3))thenif((kt==3)or(kt==4)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==2)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786502)and(BQI<3))thenif((kt==1)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(((i1==1211119187)or(i1==1211117636))and(BQI<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1433105516)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117616)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==8)or(kt==9)or(kt==$C)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==$A)or(kt==$D))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1333027688)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1214345830)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==4)or(kt==8)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==9)or(kt==$A)or(kt==$C))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1315988077)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==8)or(kt==9)or(kt==$A)or(kt==$C))thenset BWI=1elseif((kt==$D)or(kt==$E)or(kt==$F)or(kt==17))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117617)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==8)or(kt==9)or(kt==$A)or(kt==$C))thenset BWI=1elseif((kt==2)or(kt==$D)or(kt==$E)or(kt==$F))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1432580716)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==6)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1328558389)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1162032951)and(BQI<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117649)and(BQI<3))thenif((kt==9)or(kt==$B)or(kt==$C)or(kt==$D))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$F)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221445)and(BQI<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==9)or(kt==$A)or(kt==$C))thenset BWI=1elseif((kt==4)or(kt==8)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1315074670)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==8)or(kt==$A))thenset BWI=0elseif((kt==5)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1315007329)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==3)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==1)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1433631084)and(BQI<3))thenif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset BWI=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1311780946)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))thenset BWI=1elseif((kt==5)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221441)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==8))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==$C)or(kt==$D)or(kt==$E)or(kt==$F))thenset BWI=2elseif((kt==$A)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1315070563)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==$A)or(kt==$D)or(kt==$F)or(kt==17))thenset BWI=1elseif((kt==8)or(kt==9)or(kt==$C)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221451)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1332963428)and(BQI<3))thenif((kt==4)or(kt==8)or(kt==$A)or(kt==$D))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==2)or(kt==9)or(kt==$C)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117646)and(BQI<3))thenif((kt==2)or(kt==6)or(kt==8)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1430468406)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==6)or(kt==8))thenset BWI=2elseif((kt==9)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221424)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==4)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==2)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1215723364)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786242)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==4)or(kt==9)or(kt==$C)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==8)or(kt==$A)or(kt==$D))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1430466865)and(BQI<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1430468144)and(BQI<3))thenif((kt==2)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==4)or(kt==7))thenset BWI=1elseif((kt==5)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(((i1==1211117650)or(i1==1211119433))and(BQI<3))thenif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset BWI=1elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((((i1==1311781174)or(i1==1311781175)or(i1==1311781442)))and(BQI<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==$C))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==9)or(kt==$A)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786506)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160785970)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1429221443)and(BQI<3))thenif((kt==2)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==4)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1328558154)and(BQI<3))thenif((kt==4)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==2)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1164799855)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=0elseif((kt==9)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1430467634)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==8)or(kt==9))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786520)and(BQI<3))thenif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif(((i1==1164277353)or(i1==1164277357))and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==4)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==2)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1212363833)and(BQI<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==2)or(kt==$B)or(kt==$C)or(kt==$D))thenset BWI=0elseif((kt==4)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$E)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117652)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset BWI=0elseif((kt==$A)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1211117651)and(BQI<3))thenif((kt==3)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=1elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1328558390)and(BQI<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset BWI=1elseif((kt==3)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786504)and(BQI<3))thenif((kt==2)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=0elseif((kt==3)or(kt==5)or(kt==8)or(kt==$A))thenset BWI=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1160786510)and(BQI<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==$A))thenset BWI=0elseif((kt==1)or(kt==$C)or(kt==$E)or(kt==17))thenset BWI=1elseif((kt==3)or(kt==4)or(kt==7)or(kt==9))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1328558406)and(BQI<3))thenif((kt==1)or(kt==19)or(kt==21)or(kt==23))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==9)or(kt==$B)or(kt==$D)or(kt==16))thenset BWI=2elseif((kt==6)or(kt==$E)or(kt==17))thenset BWI=3elseset BWI=4endifelseif(((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))and(BQI<3))thenif((kt==4)or(kt==8)or(kt==9)or(kt==$A))thenset BWI=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset BWI=1elseif((kt==1)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseset BWI=4endifelseif((i1==1311788336)and(BQI<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==$C))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseif((kt==1)or(kt==4)or(kt==7)or(kt==$A))thenset BWI=1elseif((kt==3)or(kt==9)or(kt==$D)or(kt==$E))thenset BWI=0elseset BWI=4endifelseif((i1==1160786507)and(BQI<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==$C))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseif((kt==1)or(kt==4)or(kt==7)or(kt==$A))thenset BWI=1elseif((kt==3)or(kt==9)or(kt==$D)or(kt==$E))thenset BWI=0elseset BWI=4endifelseif((i1==1211122767)and(BQI<3))thenif((kt==3)or(kt==7)or(kt==$A)or(kt==$E))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseif((kt==2)or(kt==5)or(kt==9)or(kt==$D))thenset BWI=1elseif((kt==1)or(kt==4)or(kt==8)or(kt==$C))thenset BWI=0elseset BWI=4endifelseif((i1==1160786738)and(BQI<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==$A))thenset BWI=2elseif((kt==6)or(kt==$B)or(kt==16))thenset BWI=3elseif((kt==3)or(kt==$C)or(kt==$D)or(kt==$E))thenset BWI=1elseif((kt==1)or(kt==5)or(kt==7)or(kt==9))thenset BWI=0elseset BWI=4endifendifif(i1==1430468406)thenif(BWI==0)thencall BJI(it,kT(it))elseif(BWI==1)thencall SelectHeroSkill(it,1093677635)elseif(BWI==2)thencall BJI(it,kS(it))elseif(BWI==3)thencall BJI(it,AZE(it))endifelseif(i1==1215130471)thenif(BWI==0)thencall BJI(it,A_E(it))elseif(BWI==1)thencall BJI(it,A0E(it))elseif(BWI==2)thencall BJI(it,A1E(it))elseif(BWI==3)thencall SelectHeroSkill(it,1093679160)endifelseif(BWI==0)thencall BJI(it,eY[$80+O5])if(i1==1315007329)thenset UP=GetUnitAbilityLevel(it,1093677108)if(UP<=2)thenset hq[272+O5]=I2R(75*UP)elseset hq[272+O5]=I2R($F+(57*UP))endifendifelseif(BWI==1)thenif(i1==1315334514)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682760,true)call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682736,true)endifcall BJI(it,eY[$90+O5])if(i1==1214344551)thenset UP=GetUnitAbilityLevel(it,1093748535)if(UP==1)thenset hq[272+O5]=85.elseif(UP==2)thenset hq[272+O5]=70.elseif(UP==3)thenset hq[272+O5]=55.elseset hq[272+O5]=40.endifendifelseif(BWI==2)thenif((i1==1311781199)or(i1==1311781171))or((i1==1311781172)or(i1==1311781173))thencall SelectHeroSkill(it,1093748039)call SelectHeroSkill(it,1093748041)call SelectHeroSkill(it,1093748040)call SelectHeroSkill(it,1093748037)call SelectHeroSkill(it,1093748038)elseif(BLI(i1))thencall SelectHeroSkill(it,1096904043)elsecall BJI(it,eY[$A0+O5])endifelseif(BWI==3)thencall BJI(it,eY[$AC+O5])if(eY[$BC+O5]!=0)thencall BJI(it,eY[$BC+O5])endifif(i1==1214931305)thenset UP=GetUnitAbilityLevel(it,1093677906)if(UP==0)thenset UP=GetUnitAbilityLevel(it,1093681494)endifif(UP<=2)thenset hq[272+O5]=I2R($C8+(100*UP))elseset hq[272+O5]=600.endifelseif(i1==1332963428)thenset hq[272+O5]=I2R(85+(GetUnitAbilityLevel(it,1093677649)*$87))elseif(i1==1332898670)thenset UP=GetUnitAbilityLevel(it,1093677128)if(UP==0)thenset UP=GetUnitAbilityLevel(it,1093681457)endifif(UP<=2)thenset hq[272+O5]=I2R(50+($96*UP))elseset hq[272+O5]=610.endifelseif(i1==1162032951)thenset UP=GetUnitAbilityLevel(it,1093679152)if(UP==0)thenset UP=GetUnitAbilityLevel(it,1093752154)set hq[272+O5]=125.elseif(UP<=2)thenset hq[272+O5]=I2R(105+(30*UP))elseset hq[272+O5]=250.endifendifelseif(i1==1328558154)thenset UP=GetUnitAbilityLevel(it,1093682996)if(UP>0)thenif(UP==1)thenset J5V[64+O5]=400.elseif(UP==2)thenset J5V[64+O5]=550.elseset J5V[64+O5]=700.endifelseset UP=GetUnitAbilityLevel(it,1093747768)if(UP>0)thenif(UP==1)thenset J5V[64+O5]=550.elseif(UP==2)thenset J5V[64+O5]=700.elseset J5V[64+O5]=850.endifendifendifendifendifendifif(BWI==4)thenif((i1==1315334514)or(i1==1328558160)or(i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173)or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or(i1==1211117643)or(i1==1160786502)or(i1==1328558406)or(i1==1160786520)or(i1==1211122243)or(i1==1211119191)or(i1==1211119192)or(i1==1211119193)or(i1==1328558390)or(i1==1328558391)or(i1==1430468144)or(i1==1430467634)or(i1==1328558160)or(i1==1211117650)or(i1==1211119433))thencall SelectHeroSkill(it,1093684818)elseif((BLI(i1))and(kt>21))thencall BJI(it,eY[$A0+O5])call SelectHeroSkill(it,1096904043)elsecall SelectHeroSkill(it,1096904043)endifendifset BQI=BQI+1set BSI=BSI+1if(BUI!=GetHeroSkillPoints(it))thenset BQI=0endifendloopif(i1==1430468406)thenset eY[336+O5]=kT(it)set eY[368+O5]=kS(it)set eY[$AC+O5]=AZE(it)elseif(i1==1215130471)thenset eY[336+O5]=A_E(it)set eY[352+O5]=A0E(it)set eY[368+O5]=A1E(it)endifset it=nullset BYI=nullendfunctionfunction B_I takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if((i1==1214344551)or(i1==1429221430)or(OXE(it,1952936552))or(OXE(it,1227894833))or(OXE(it,1868983399)))thenreturn 2elseif((i1==1215722344)or(i1==1315007329)or(i1==1430468913)or(i1==1311781185))thenreturn 1endifreturn 0endfunctionfunction B0I takes unit it returns stringif(IsUnitAlly(it,RX[0]))thenreturn"Sent"elsereturn"Scrg"endifendfunctionfunction B1I takes unit it returns booleanlocal integer O5=1local integer UPlocal integer B2I=0local boolean J4=falselocal boolean B3I=falselocal integer Izloopif(IsUnitAlly(it,RX[0]))thenset UP=GetPlayerId(RX[O5])elseset UP=GetPlayerId(GX[O5])endifif((IsPlayerInForce(Player(UP),GLV))and(QV[UP]!=null))thenset Iz=B_I(QV[UP])if(Iz==2)thenset B2I=B2I+1set J4=trueelseif(Iz==1)thenset B2I=B2I+1endifset B3I=(B3I)or((Iz==0)and(OXE(QV[UP],1953265005))and(not OOE(QV[UP])))endifset O5=O5+1exitwhen O5>5endloopif((B3I)and(not OXE(QV[UP],1953265005)))thenreturn falseendifif(OWE(IsUnitAlly(it,RX[0]))==1)thenreturn((B2I==0)and(R3E(G2V,B0I(it)+"|G")))elsereturn(((not J4)and(R3E(G2V,B0I(it)+"|G")))or(B2I<R2I(OWE(IsUnitAlly(it,RX[0]))/2)))endifendfunctionfunction B4I takes integer i1 returns booleanreturn((i1==GY or i1==HY)or i1==Y0 or i1==R1 or i1==R0 or i1==Q1 or i1==H6 or(i1>=U1 and i1<=C3)or(i1==VSV or i1==VTV))endfunctionfunction B5I takes integer HKX returns booleanreturn HKX==B5 or HKX==C5 or HKX==G5 or HKX==L5endfunctionfunction B6I takes integer i1 returns booleanreturn((i1==X1)or(i1==ZU)or(i1==EW)or(i1==V1)or(i1==U3)or(i1==SU)or(i1==RW)or(i1==O0)or(i1==Y3)or(i1==EZ)or(i1==J1)or(i1==HW))or((i1==J5 or i1==L5)or(i1==H3)or(i1==R1)or(i1==D1 or i1==F1)or(i1==Y0)or(i1==R0)or(i1==HZ)or(i1==SY)or(i1==AZ)or(i1==YW)or(i1==QU)or(i1==X4V))endfunctionfunction B7I takes integer O5,unit it returns booleanlocal integer i=0local integer i1=0loopexitwhen i>5set i1=GetItemTypeId(UnitItemInSlot(it,i))if(i1==BU[W5])or(i1==BU[G5])or(i1==BU[GY])or(i1==BU[HY])thenreturn trueelseif(i1==FU[W5])or(i1==FU[G5])or(i1==FU[GY])or(i1==FU[HY])thenreturn trueendifset i1=GetItemTypeId(UnitItemInSlot(N7V[O5],i))if(i1==BU[W5])or(i1==BU[G5])or(i1==BU[GY])or(i1==BU[HY])thenreturn trueelseif(i1==FU[W5])or(i1==FU[G5])or(i1==FU[GY])or(i1==FU[HY])thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction B8I takes integer O5,unit it,item XJE,integer i1,boolean B9I returns integerset bj_forLoopAIndex=R1E(1128887405,"Prio|"+I2S(GetHandleId(QV[O5]))+I2S(i1))if bj_forLoopAIndex!=0 thenreturn bj_forLoopAIndexendifif(i1==VAV)or(i1==VSV or i1==VTV)or(JU[i1]==JU[OFV])thenreturn 101elseif(XJE!=null)and(GetItemPlayer(XJE)!=Player(O5))and(i1!=Z8V[O5]and i1!=Z8V[16+O5])and(B9I or(HLX(i1)==false and B4I(i1)==false))thenreturn-1elseif(not B9I)and(i1==Z8V[O5]or i1==Z8V[16+O5])and(IsUnitType(it,UNIT_TYPE_HERO))thenreturn 97elseif(i1==N6)or(i1==Y7 or i1==Z7)or(i1==V8)or(i1==E8 or i1==EEV)or(i1>=X8 and i1<=A8)or(i1==C8)or(i1==V2V)or(i1==D8)or(i1==F8)or(i1==L8)or(i1==W8)or(i1==Y8)or(i1>=VVV and i1<=VIV)or(i1==VNV or i1==VBV)or(i1==VCV)or(i1>=VDV and i1<=VJV)or(i1==VKV or i1==VLV or i1==VMV)or(i1==VPV or i1==VQV)or(i1==VUV)or(i1==VWV or i1==VYV)or(i1==VZV or i1==V_V)or(i1==V0V or i1==V1V)or(i1==V3V or i1==V4V)or(i1==V5V)or(i1==V6V)or(i1==V7V)or(i1==EOV)or(i1==ERV)or(i1==EIV)or(i1==EAV)or(i1==ENV or i1==EBV or i1==ECV or i1==EDV)or(i1==EFV or i1==EGV)or(i1==EHV)or(i1==ELV)or(i1==EMV)or(i1==EUV)or(i1==X3V)or(i1==T4)or(i1==F6)or(i1==G6)thenreturn 100elseif(i1==EZ or i1==XZ)or(i1==Z8)or(i1==N8 or i1==B8)thenreturn 99elseif(i1==A7 or i1==B7 or i1==C7 or i1==D7 or i1==EJV or i1==D4 or i1==P4 or i1==X6V)thenif Z7V[304+O5]!=null and GetWidgetLife(Z7V[304+O5])>0 and Z9V[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)thenreturn-1elsereturn 100endifelseif(i1==QU)thenif Z7V[304+O5]!=null and Z9V[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)thenreturn-1elsereturn 99endifelseif(i1==J5 or i1==L5)thenif B9I or VVE[64+O5]thenreturn 1elsereturn 98endifelseif(i1==V8V or i1==V9V)thenreturn 23elseif(i1==GY or i1==HY)thenif B9I thenreturn 2elsereturn 22endifelseif(i1==F5)or(i1==G5)or(i1==W5)or(i1==E6)thenif B9I thenreturn 1elsereturn $Fendifelseif(i1==E1)thenreturn 21elseif(i1==UW)or(i1==NZ)or(i1==CZ)thenreturn 20elseif(i1==H6)thenreturn 19elseif(i1==F7 or i1==G7)or(i1==G8)or(i1==ESV or i1==ETV)thenreturn 18elseif(i1==U7 or i1==W7)thenreturn 17elseif(i1==TW)or(i1==UY)or(i1==J1)thenreturn 16elseif(i1==E4 or i1==X4)thenreturn $Felseif(i1==HZ)thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)thenreturn $Aelsereturn $Fendifelseif(i1>=U1 and i1<=H2)thenreturn $Eelseif(i1==A6)thenreturn $Delseif(i1==BZ)or(i1==T1)or(i1==Y3)or(i1==L7)thenreturn $Celseif(i1==QW)or(i1==E0)thenreturn $Belseif(i1==NW)or(i1==X0)thenreturn $Aelseif(i1==YW)or(i1==P1)or(i1==R0)or(i1==Q1)thenreturn 9elseif(i1==H3)or(i1==EKV)or(i1==X2V)thenif(GetUnitState(it,UNIT_STATE_MAX_MANA)>500.)thenreturn 8elsereturn $Cendifelseif(i1==OW)or(i1==DZ)or(i1==A1)or(i1==SY)or(i1==AZ)or(i1==O0)or(i1==Y4 or i1==R5)thenreturn 9elseif(i1==U3)or(i1==X7 or i1==O7)or(i1==EPV or i1==EQV)thenreturn 8elseif(i1==X4V or i1==X5V)thenreturn 7elseif(i1==M7 or i1==P7 or i1==T7)thenreturn 6elseif(i1==W6)or(i1==E7)thenreturn 5elseif(i1==SU)or(i1==ZU)or(i1==EW)or(i1==V1)or(i1==RW)or(i1==HW)thenreturn 4elseif(i1==W3)or(i1==Y0)or(i1==R1)or(i1==D1 or i1==F1)thenreturn 3elseif(i1==VW)or(i1==ZW)or(i1==RZ)or(i1==X1)or(i1==J0)thenreturn 2elseif(i1==A5)or(i1==B5)or(i1==C5)or(i1==M5)or(i1==S5)or(i1==EXV)thenreturn 1elseif(i1==ZY)thenreturn 0elseif(i1>=EWV and i1<=OXV)thenreturn-1elseif(i1==Z3 or i1==V4)or(i1==N5)or(i1==T5)or(i1==V6)or(i1==EVV)thenreturn-1endifreturn-1endfunctionfunction CVI takes integer O5,unit it,boolean CRI returns integerlocal integer i=0local integer j=0local item XJE=nullloopexitwhen i>5set XJE=UnitItemInSlot(it,i)if XJE==null thenset j=j+1elseif CRI thenif(B8I(O5,it,XJE,XGE(XJE),false)<99)thenset j=j+1endifendifset i=i+1endloopset XJE=nullreturn jendfunctionfunction CII takes integer O5,unit it,item XJE,integer i1 returns booleancall DisableTrigger(R3V)if(IsItemPowerup(XJE))thenif i1==0 thenset i1=XGE(XJE)endifset bj_lastCreatedItem=CreateItem(BU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(bj_lastCreatedItem,false)call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)call SetItemCharges(bj_lastCreatedItem,GetItemCharges(XJE))call RemoveItem(XJE)set XJE=bj_lastCreatedItemendifset WDV=UnitAddItem(it,XJE)call EnableTrigger(R3V)return WDVendfunctionfunction CNI takes nothing returns nothinglocal item IOX=GetEnumItem()local unit u=DSVlocal player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(IOX)>0 and GetItemPlayer(IOX)==p thencall SetItemPosition(IOX,N8V[id],N9V[id])call SetItemVisible(IOX,false)call CII(id,N7V[id],IOX,0)endifset IOX=nullset u=nullset p=nullendfunctionfunction CDI takes nothing returns booleanreturn XBE(GetFilterUnit())or XCE(GetFilterUnit())endfunctionfunction CGI takes integer O5 returns nothinglocal integer i=0local unit u=nulllocal item XJE=nullcall GroupEnumUnitsInRange(H8,GetUnitX(N7V[O5]),GetUnitY(N7V[O5]),$514,Condition(function CDI))loopset u=FirstOfGroup(H8)exitwhen u==nullcall GroupRemoveUnit(H8,u)set i=0loopexitwhen i>5set XJE=UnitItemInSlot(u,i)if XJE!=null and GetItemPlayer(XJE)==Player(O5)thencall DisableTrigger(R3V)call UnitRemoveItem(u,XJE)call SetItemPosition(XJE,N8V[O5],N9V[O5])if not UnitAddItem(N7V[O5],XJE)thencall SetItemVisible(XJE,false)endifcall EnableTrigger(R3V)endifset i=i+1endloopendloopset DSV=N7V[O5]if IsPlayerAlly(Player(O5),RX[0])thencall EnumItemsInRect(ZA,Condition(function BUE),function CNI)elsecall EnumItemsInRect(BN,Condition(function BUE),function CNI)endifset u=nullset XJE=nullendfunctionfunction CHI takes integer O5,integer j returns nothinglocal integer iset i=0loopexitwhen i>23if Z7V[O5*24+i]!=null thencall SetItemUserData(Z7V[O5*24+i],j)endifset i=i+1endloopendfunctionfunction CJI takes nothing returns nothinglocal integer ilocal integer jlocal integer i1local unit it=VDElocal integer O5=VFEif it==null thenset it=QV[O5]endifset i=$Cset j=CVI(O5,N7V[O5],false)set eY[512+O5]=1loopexitwhen(i>=Z8V[$80+O5])or(j<=0)if(Z7V[O5*24+i]!=null)thenif(GetWidgetLife(Z7V[O5*24+i])>0)and(not IsItemOwned(Z7V[O5*24+i]))thencall CII(O5,N7V[O5],Z7V[O5*24+i],Z9V[O5*24+i])set j=j-1endifset Z7V[O5*24+i]=nullendifset i=i+1endloopset i=0loopexitwhen i>5set Z7V[O5*24+i]=UnitItemInSlot(it,i)set Z9V[O5*24+i]=XGE(Z7V[O5*24+i])if(Z7V[304+O5]==null or GetWidgetLife(Z7V[304+O5])<=0)and(Z9V[O5*24+i]==QU or Z9V[O5*24+i]==B7 or Z9V[O5*24+i]==C7 or Z9V[O5*24+i]==D7 or Z9V[O5*24+i]==EJV or Z9V[O5*24+i]==D4 or Z9V[O5*24+i]==P4 or Z9V[O5*24+i]==X6V or Z9V[O5*24+i]==A7)and(IsUnitType(it,UNIT_TYPE_HERO))thenset Z7V[304+O5]=Z7V[O5*24+i]set Z9V[304+O5]=Z9V[O5*24+i]endifset Z7V[O5*24+6+i]=UnitItemInSlot(N7V[O5],i)set Z9V[O5*24+6+i]=XGE(Z7V[O5*24+6+i])set i=i+1endloopset i=$Cset j=$Cloopexitwhen i>23if Z7V[O5*24+i]!=null thenif i!=j thenset Z7V[O5*24+j]=Z7V[O5*24+i]set Z9V[O5*24+j]=Z9V[O5*24+i]set Z7V[O5*24+i]=nullendifset j=j+1endifset i=i+1endloopif j<$C thenset Z8V[$80+O5]=$Celseset Z8V[$80+O5]=jendifset it=nullendfunctionfunction CKI takes integer O5,unit it returns nothingset VDE=itset VFE=O5call ExecuteFunc("CJI")endfunctionfunction CLI takes integer O5 returns integerlocal integer i=0local integer j=6call CKI(O5,QV[O5])loopexitwhen(i>=Z8V[$80+O5])if(Z7V[O5*24+i]!=null)and(GetWidgetLife(Z7V[O5*24+i])>0)and(B8I(O5,QV[O5],Z7V[O5*24+i],Z9V[O5*24+i],false)>=99)thenset j=j-1endifset i=i+1endloopreturn jendfunctionfunction CMI takes unit it,integer i1 returns booleanreturn((i1==E8 or i1==EEV)or(i1>=X8 and i1<=A8)or(i1==N8 or i1==B8)or(i1==C8)or(i1==V2V)or(i1==W8)or((i1==V3V or i1==V4V)and IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))or(i1==U3 or i1==W3))endfunctionfunction CPI takes unit it,integer i1 returns booleanreturn((i1>=X8 and i1<=A8)or(i1==W8)or(i1==V3V or i1==V4V)or(i1==X4V or i1==X5V))endfunctionfunction CQI takes integer O5,unit it,integer i1 returns booleanlocal boolean CSI=CMI(it,i1)local boolean CTI=CPI(it,i1)local integer i=GetUnitTypeId(it)if(i==1162032951)or(i==1160785972)or(i==1429221456)or(i==1315074670)or(i==1164799855)or(i==1311781185)or(i==1211117649)or(i==1429221430 or i==1429221451 or i==1215657064)thenreturn(not(CSI or CTI))elseif(i==1164207469 or i==1432510828)thenreturn(not(CSI))elseif(i==1432642913 or i==1211117641)thenreturn(not(CTI))elseif(VVE[16+O5]and CSI)thenreturn falseelseif(VVE[32+O5]and CTI)thenreturn falseelseif(i1==EZ or i1==XZ)and(i==1215723364 or i==1429221446)thenreturn falseelseif(i1==U3 or i1==W3)and(i==1211119187)thenreturn falseelseif CSI and R3E(1128887405,"Orb|"+I2S(GetHandleId(it)))thenreturn falseelseif CTI and R3E(1128887405,"Buff|"+I2S(GetHandleId(it)))thenreturn falseendifreturn trueendfunctionfunction CUI takes integer i1 returns booleanreturn((i1==N6)or(i1==VKV or i1==VLV or i1==VMV)or(i1==VZV or i1==V_V)or(i1==EOV)or(i1==ERV)or(i1==EFV or i1==EGV)or(i1==EMV)or(i1==G8)or(i1==ESV or i1==ETV))endfunctionfunction CYI takes integer i1 returns booleanreturn((i1==Y8))endfunctionfunction CZI takes integer O5,integer i1 returns booleanif(i1==V8V or i1==V9V)thenreturn trueelseif(i1==F5)or(i1==G5)or(i1==GY or i1==HY)or(i1==J5 or i1==L5)or(i1==W5)or(i1==E6)or(i1==A5)or(i1==B5)or(i1==C5)or(i1==M5)or(i1==S5)or(i1==EXV)thenif(i1==Z8V[O5]or i1==Z8V[16+O5])thenelsereturn trueendifelseif(i1==F7 or i1==G7)or(i1==G8)or(i1==ESV or i1==ETV)thenreturn trueelseif(i1==E4 or i1==X4)thenreturn trueelseif(i1>=U1 and i1<=H2)thenreturn trueelseif(i1==A6)thenreturn trueelseif(i1==H3)or(i1==EKV)or(i1==X2V)thenreturn trueelseif(i1==U3 or i1==W3)or(i1==EPV or i1==EQV)thenreturn trueelseif(i1==M7 or i1==P7 or i1==T7)thenreturn trueendifreturn falseendfunctionfunction C_I takes unit it,boolean C0I returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(it))local unit uif(not VVE[112+O5])thenreturn nullendifset u=RME(GetHandleId(Player(O5)),"MyBear")if C0I thenif(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thencall SelectHeroSkill(it,1093681461)call EYE(.1)if IssueImmediateOrderById(it,$D0272)thencall EYE(1.)set u=RME(GetHandleId(Player(O5)),"MyBear")endifelseif GetUnitTypeId(u)!=1848651828 thencall SetUnitX(u,GetUnitX(it))call SetUnitY(u,GetUnitY(it))endifcall IssueTargetOrderById(u,$D0012,it)endifif(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thenset u=RME(GetHandleId(Player(O5)),"BearItemHolder")if u==null thenif B2E(GetOwningPlayer(it))thenset u=CreateUnit(Player(O5),1697657158,-6390,-5615,0)elseset u=CreateUnit(Player(O5),1697657158,5875,5000,0)endifcall O8E(GetHandleId(Player(O5)),"BearItemHolder",u)endifendifset bj_lastReplacedUnit=uset u=nullreturn bj_lastReplacedUnitendfunctionfunction C1I takes integer O5,unit it,boolean DVI returns unitlocal unit V_Elocal unit uif(not VVE[112+O5])thenreturn nullendifset V_E=RME(GetHandleId(Player(O5)),"aiBearDummy")if(V_E==null)thenif B2E(GetOwningPlayer(it))thenset V_E=CreateUnit(Player(O5),1697657158,-6390,-5615,0)elseset V_E=CreateUnit(Player(O5),1697657158,5875,5000,0)endifcall O8E(GetHandleId(Player(O5)),"aiBearDummy",V_E)call ShowUnit(V_E,true)endifif not(VVE[48+O5])thenset u=C_I(it,DVI)if not(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thencall SetUnitPosition(V_E,GetUnitX(u),GetUnitY(u))endifendifset bj_lastReplacedUnit=V_Eset u=nullset V_E=nullreturn bj_lastReplacedUnitendfunctionfunction DEI takes integer O5,unit it returns nothinglocal unit u=C_I(it,false)local item XJElocal integer i=0if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 thenloopexitwhen i>5set bj_lastCreatedItem=UnitItemInSlot(it,i)if bj_lastCreatedItem!=null thenset XJE=UnitItemInSlot(u,i)if XJE==null or GetItemTypeId(bj_lastCreatedItem)!=GetItemTypeId(XJE)thencall RemoveItem(XJE)call DisableTrigger(R3V)set XJE=CreateItem(GetItemTypeId(bj_lastCreatedItem),GetUnitX(u),GetUnitY(u))call SetItemVisible(XJE,false)call SetItemPlayer(XJE,Player(O5),false)call SetItemCharges(XJE,GetItemCharges(bj_lastCreatedItem))call SetItemUserData(XJE,0)call UnitAddItem(u,XJE)call EnableTrigger(R3V)endifelsecall RemoveItem(UnitItemInSlot(u,i))endifset i=i+1endloopendifset u=nullset XJE=nullendfunctionfunction DXI takes integer O5,unit it returns nothinglocal unit ulocal integer i=0if(not VVE[$C0+O5])or(VVE[48+O5])thenreturnendifif(it!=null)thenif GetUnitTypeId(it)==1697657158 thenset u=RME(GetHandleId(Player(O5)),"MyBear")if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 thencall SetUnitPosition(it,GetUnitX(u),GetUnitY(u))endifendifelseset u=RME(GetHandleId(Player(O5)),"aiBearDummy")if B2E(Player(O5))thencall SetUnitPosition(u,-6390,-5615)elsecall SetUnitPosition(u,5875,5000)endifcall DEI(O5,u)endifset u=nullendfunctionfunction DOI takes integer O5,boolean DRI,boolean DII returns integerlocal integer i=999local integer DAI=5local integer j=0local integer EJE=0local integer DNI=0local integer i1if not DRI thenset DAI=23endifloopexitwhen(j>DAI)if(Z7V[O5*24+j]!=null)thenif(Z9V[O5*24+j]==EKV and Z8V[$90+O5]!=2)thenelseset DNI=B8I(O5,QV[O5],Z7V[O5*24+j],Z9V[O5*24+j],false)if(DNI<=i)and(DNI!=-1)and(DNI<99)and(not R3E(1128887405,"NoSell|"+I2S(GetHandleId(QV[O5]))+I2S(Z9V[O5*24+j])))and(LoadInteger(WXV,Z8V[$E0+O5],GetHandleId(Z7V[O5*24+j]))==0)and(not LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+j])))thenset i=DNIset EJE=jendifendifendifset j=j+1endloopif i<99 and((not DII)or(CZI(O5,Z9V[O5*24+EJE])))thenreturn EJEendifreturn-1endfunctionfunction DBI takes integer O5,boolean DCI returns integerlocal integer i=0local integer j=0local integer k=0local item XJE=nullloopexitwhen i>23set XJE=Z7V[O5*24+i]set k=Z9V[O5*24+i]if XJE==null or(GetWidgetLife(XJE)<=0)thenset XJE=nullset k=0if i<=5 thenset XJE=UnitItemInSlot(QV[O5],i)elseif i<=$B thenset XJE=UnitItemInSlot(N7V[O5],i-6)endifendifif(XJE!=null)and(DCI or(not HLX(k)))and(LoadInteger(WXV,Z8V[$E0+O5],GetHandleId(Z7V[O5*24+i]))==0)and(not LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+i])))thenset j=j+1endifset i=i+1endloopset XJE=nullreturn jendfunctionfunction DDI takes integer O5,unit it returns integerlocal integer i=0local integer DAI=0local integer j=0local integer EJE=999local item XJEloopexitwhen i>5set XJE=UnitItemInSlot(it,i)if XJE!=null thenset j=B8I(O5,null,null,XGE(XJE),false)if j<99 and j<EJE thenset EJE=jset DAI=iendifelseset bj_lastCreatedItem=nullset bj_forLoopBIndexEnd=-2set XJE=nullreturn iendifset i=i+1endloopset XJE=nullif EJE<999 thenset bj_lastCreatedItem=UnitItemInSlot(it,DAI)set bj_forLoopBIndexEnd=EJEreturn DAIendifreturn-1endfunctionfunction DFI takes integer O5,unit it returns booleanlocal boolean OFE=falselocal boolean J4set bj_lastCreatedItem=nullif(Z8V[O5]!=0)and(B8I(O5,it,null,Z8V[O5],true)>B8I(O5,it,null,Z8V[16+O5],true))thenreturn OXE(it,BU[Z8V[O5]])elseif(Z8V[16+O5]!=0)thenreturn OXE(it,BU[Z8V[16+O5]])endifreturn falseendfunctionfunction DJI takes integer O5,unit it,integer i1,item XJE,boolean DKI,boolean DLI,boolean DPI returns integerlocal integer ilocal integer DAI=B8I(O5,it,XJE,i1,false)local integer j=0local integer EJE=0local integer k=0local integer DNI=0local item DQI=nulllocal boolean OFE=falseset DNI=0set i=999set WHV=nullloopexitwhen(j>5)set DQI=Z7V[O5*24+j+k]if GetWidgetLife(DQI)<=0 thenset DQI=nullendifif(DQI!=null)thenif(UnitHasItem(it,DQI))thenset DNI=B8I(O5,QV[O5],DQI,Z9V[O5*24+j+k],(not DLI))if(DNI<=i)thenset i=DNIset WHV=DQIset EJE=j+kendifendifelseif UnitItemInSlot(it,j+k)==null thenset EJE=j+kset WHV=nullset DKI=trueexitwhen trueendifendifset j=j+1endloopset DQI=nullcall VJE(O5,"UnitAddItem "+GetItemName(XJE)+" "+I2S(DAI)+" vs "+GetItemName(WHV)+" "+I2S(i))if(DAI>i)or DKI thenset DAI=GetItemTypeId(XJE)set DQI=WHVif DQI!=null thenset Z7V[O5*24+Z8V[$80+O5]]=DQIset Z9V[O5*24+Z8V[$80+O5]]=XGE(DQI)set Z8V[$80+O5]=Z8V[$80+O5]+1set Z7V[O5*24+EJE]=nullendifcall DXI(O5,it)call DisableTrigger(R3V)if DQI!=null thencall UnitRemoveItem(it,DQI)call SetItemPosition(DQI,GetUnitX(N7V[O5]),GetUnitY(N7V[O5]))call SetItemVisible(DQI,false)if not IsUnitType(it,UNIT_TYPE_HERO)thencall SaveBoolean(WXV,Z8V[256+O5],GetHandleId(DQI),true)endifendifif(not DPI)thenif(DAI!=NU[i1])and((i1!=HY)and(i1!=G7)and(i1!=B8)and(i1!=ECV and i1!=EDV)and(i1!=EGV)and(not HLX(i1)))thencall UnitAddItem(it,XJE)set OFE=trueelseset DPI=trueendifendifcall EnableTrigger(R3V)if DPI thenif DAI!=NU[i1]thenset bj_lastCreatedItem=CreateItem(NU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(bj_lastCreatedItem,false)call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)call SetItemCharges(bj_lastCreatedItem,GetItemCharges(XJE))call RemoveItem(XJE)set XJE=bj_lastCreatedItemendifset eY[512+O5]=0call UnitAddItem(it,XJE)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(.1)endloopif not IsUnitType(it,UNIT_TYPE_HERO)thencall SaveBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[288+O5]),true)endifif(eY[512+O5]==1)thenset OFE=trueelseif(eY[512+O5]==2)or(eY[512+O5]==3)thenloopif eY[512+O5]==3 thenset XJE=Z7V[288+O5]exitwhen trueendifcall TriggerSleepAction(.1)endloopendifendifendifif OFE thenreturn EJEelseset bj_forLoopAIndex=GetItemUserData(XJE)call SetItemPosition(XJE,GetUnitX(N7V[O5]),GetUnitY(N7V[O5]))call SetItemUserData(XJE,bj_forLoopAIndex)call SetItemVisible(XJE,false)set Z7V[O5*24+Z8V[$80+O5]]=XJEset Z9V[O5*24+Z8V[$80+O5]]=XGE(XJE)set Z8V[$80+O5]=Z8V[$80+O5]+1endifreturn-1endfunctionfunction DSI takes integer O5,unit it,item XJE,integer i1 returns nothingif HLX(i1)thencall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+(GetItemCharges(XJE)/HPX(i1))*(IEV[i1]/2))elsecall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+IEV[i1]/2)endifcall RemoveItem(XJE)call DestroyEffect(AddSpecialEffectTarget("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",it,"overhead"))endfunctionfunction DTI takes integer O5,unit it,integer i1,boolean DKI returns booleanlocal player RFX=Player(O5)local boolean OFE=falselocal item XJE=nulllocal integer ilocal integer j=IEV[i1]if(i1==B5 or i1==C5 or i1==L5)and(QRV[O5]>=3)thenset j=j/2endifif GetPlayerState(RFX,PLAYER_STATE_RESOURCE_GOLD)>=j thencall SetPlayerState(RFX,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(RFX,PLAYER_STATE_RESOURCE_GOLD)-j)if VVE[48+O5]thenset Z8V[$C0+O5]=Z8V[$C0+O5]+jendifset XJE=CreateItem(NU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(XJE,false)call SetItemPlayer(XJE,Player(O5),false)if HLX(i1)thencall SetItemCharges(XJE,HPX(i1))elseif i1==W5 thencall SetItemCharges(XJE,2)endifcall DXI(O5,it)set eY[512+O5]=0call UnitAddItem(it,XJE)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(.1)endloopif(eY[512+O5]==1)thenset OFE=trueelseif(eY[512+O5]==2)or(eY[512+O5]==3)thenloopif eY[512+O5]==3 thenset OFE=(DJI(O5,it,i1,Z7V[288+O5],DKI,false,false)!=-1)exitwhen trueendifcall TriggerSleepAction(.1)endloopendifset Z8V[96+O5]=0endifset RFX=nullset XJE=nullreturn OFEendfunctionfunction DUI takes integer O5 returns nothinglocal integer jlocal integer EJElocal integer klocal unit ulocal player RFX=Player(O5)call CKI(O5,null)if VVE[48+O5]thenreturnendifset j=6set k=Z8V[$80+O5]-1loopexitwhen j>kif Z7V[O5*24+j]!=null and((not VVE[$C0+O5])or(not LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+j]))))thenif IsItemOwned(Z7V[O5*24+j])thencall DisableTrigger(R3V)call UnitRemoveItem(N7V[O5],Z7V[O5*24+j])call EnableTrigger(R3V)endifset EJE=DJI(O5,QV[O5],Z9V[O5*24+j],Z7V[O5*24+j],false,true,false)if EJE!=-1 and EJE<6 thenset Z7V[O5*24+EJE]=Z7V[O5*24+j]if(Z7V[O5*24+EJE]==null)or(GetWidgetLife(Z7V[O5*24+EJE])<=0)thenset Z7V[O5*24+EJE]=Z7V[288+O5]endifset Z9V[O5*24+EJE]=Z9V[O5*24+j]endifcall SetItemVisible(Z7V[O5*24+j],false)set Z7V[O5*24+j]=nullendifset j=j+1endloopif VVE[$C0+O5]thenset j=GetUnitTypeId(QV[O5])if(j==1311781199 or j==1311781171 or j==1311781172 or j==1311781173)thenset u=C1I(O5,QV[O5],false)endifif u!=null thencall CKI(O5,u)set j=6set k=Z8V[$80+O5]-1loopexitwhen j>kif Z7V[O5*24+j]!=null and(LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+j])))thenset EJE=DJI(O5,u,Z9V[O5*24+j],Z7V[O5*24+j],false,true,false)if EJE!=-1 and EJE<6 thenset Z7V[O5*24+EJE]=Z7V[O5*24+j]if(Z7V[O5*24+EJE]==null)or(GetWidgetLife(Z7V[O5*24+EJE])<=0)thenset Z7V[O5*24+EJE]=Z7V[288+O5]endifset Z9V[O5*24+EJE]=Z9V[O5*24+j]endifcall SetItemVisible(Z7V[O5*24+j],false)set Z7V[O5*24+j]=nullendifset j=j+1endloopendifset u=nullendifcall CKI(O5,null)set j=$Cloopexitwhen j>Z8V[$80+O5]-1if Z7V[O5*24+j]!=null thencall DSI(O5,QV[O5],Z7V[O5*24+j],Z9V[O5*24+j])set Z7V[O5*24+j]=nullendifset j=j+1endloopset RFX=nullset u=nullendfunctionfunction DWI takes integer O5,unit it,integer DYI,integer i1 returns booleanlocal integer ilocal integer jlocal integer DAIlocal integer DZI=0local item XJE=nulllocal boolean OFE=truelocal integer D_Ilocal boolean D0I=falselocal boolean D1I=IsUnitType(it,UNIT_TYPE_HERO)if(it==null)or((not XZE(it))and(not VVE[48+O5]))thenreturn falseelseif(VVE[48+O5])and OOE(N7V[O5])thenset VVE[$80+O5]=truereturn falseendifif(VVE[$E0+O5])and(OOE(it)and Z8V[320+O5]<=0)thenset Z8V[96+O5]=i1return falseendifif(not IsUnitType(it,UNIT_TYPE_HERO))thenset DZI=PUif false thenset VVE[288+O5]=trueif(VVE[$E0+O5])thenreturn falseendifendifendifif DYI>=0 or DYI==-2 thencall VJE(O5,"Item Buy "+I2S(DYI)+" "+GetObjectName(BU[i1])+" "+I2S(Z8V[32+O5])+"/"+I2S(Z8V[48+O5])+" S="+VPE(VVE[48+O5]))elsecall VJE(O5,"    "+GetObjectName(BU[i1]))endifif(DYI==-1)thenset Z8V[64+O5]=Z8V[64+O5]+1elseset Z8V[64+O5]=0endifset D_I=Z8V[64+O5]if(VVE[112+O5])thenif(D_I==0)thencall CKI(O5,it)call CHI(O5,0)endifset i=0loopexitwhen(i>23)if(Z7V[O5*24+i]!=null)thenset OFE=falseif(Z9V[O5*24+i]==i1)thenset OFE=trueelseif OBE(i1,Z9V[O5*24+i],false)thenset OFE=trueendifif OFE thenset DAI=LoadInteger(WXV,Z8V[368+O5],i1+DZI)if(D_I==0)and(DAI==0)thenset DAI=LoadInteger(WXV,Z8V[352+O5],i1+DZI)if DAI==0 thenset DAI=1endifcall SaveInteger(WXV,Z8V[368+O5],i1+DZI,DAI)endifset DAI=LoadInteger(WXV,Z8V[$E0+O5],GetHandleId(Z7V[O5*24+i]))if DAI==0 thenset DAI=Z8V[48+O5]endifcall VJE(O5,"        Found "+VME(GetHandleId(Z7V[O5*24+i]))+VME(i)+GetItemName(Z7V[O5*24+i])+" "+I2S(DAI)+"/"+VME(Z8V[48+O5])+VPE(GetItemPlayer(Z7V[O5*24+i])==Player(O5))+VPE(not VVE[48+O5])+VPE(DAI==Z8V[48+O5])+VPE(not LoadBoolean(WXV,Z8V[$D0+O5],GetHandleId(Z7V[O5*24+i])))+VPE(not VVE[$C0+O5])+VPE(D1I==(not LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+i])))))if(GetItemPlayer(Z7V[O5*24+i])==Player(O5))and((not VVE[48+O5])or((DAI==Z8V[48+O5])and(not LoadBoolean(WXV,Z8V[$D0+O5],GetHandleId(Z7V[O5*24+i])))))thenif(D_I==0)thencall SaveInteger(WXV,Z8V[368+O5],i1+DZI,LoadInteger(WXV,Z8V[368+O5],i1+DZI)-1)endifif(D_I!=0)or(LoadInteger(WXV,Z8V[368+O5],i1+DZI)<=0)thenset XJE=Z7V[O5*24+i]exitwhen((not VVE[$C0+O5])or(D1I==(not LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+i])))))endifendifendifendifset i=i+1endloopif XJE!=null and VVE[48+O5]thencall SaveBoolean(WXV,Z8V[$D0+O5],GetHandleId(XJE),true)call SaveInteger(WXV,Z8V[$E0+O5],GetHandleId(XJE),Z8V[48+O5])endifset OFE=trueif(D_I==0)thenset VVE[272+O5]=trueif(not VVE[96+O5])and(VVE[48+O5]or(Z8V[32+O5]>=Z8V[48+O5]))thenif CUI(i1)thenif IsPlayerAlly(Player(O5),RX[0])thencall O4E(1128887405,"Sent|"+I2S(i1),R1E(1128887405,"Sent|"+I2S(i1))+1)call VJE(O5,"---- Sentinel's shared item: "+GetObjectName(BU[i1])+" "+I2S(R1E(1128887405,"Sent|"+I2S(i1))))elsecall O4E(1128887405,"Scrg|"+I2S(i1),R1E(1128887405,"Scrg|"+I2S(i1))+1)endifendifcall O4E(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1),R1E(1128877176,I2S(GetHandleId(it))+"|"+I2S(i1))+1)if CMI(it,i1)thencall O7E(1128887405,"Orb|"+I2S(GetHandleId(it)),true)endifif CPI(it,i1)thencall O7E(1128887405,"Buff|"+I2S(GetHandleId(it)),true)endifset VVE[96+O5]=trueendifendifendifif Z8V[64+O5]<99 thenif XJE!=null thencall SetItemUserData(XJE,1)if(not UnitHasItem(it,XJE))thenset VVE[272+O5]=falseif(not VVE[48+O5])and(not VVE[$E0+O5])thencall DJI(O5,it,i1,XJE,true,false,true)endifelseset i=0loopexitwhen i>5if Z7V[O5*24+i]==XJE thenset Z7V[O5*24+i]=nullexitwhen trueendifset i=i+1endloopif not VVE[48+O5]thencall DisableTrigger(R3V)call UnitRemoveItem(it,XJE)call EnableTrigger(R3V)set eY[512+O5]=0call UnitAddItem(it,XJE)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(.1)endloopset XJE=Z7V[288+O5]if(not D1I)thencall SaveBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[288+O5]),true)endifendifendifelseset i=1loopexitwhen(i>ODV or OCV[i]==i1)if i1==O7 and OCV[i]==X7 thenexitwhen trueelseif i1==VNV and OCV[i]==VBV thenexitwhen trueendifset i=i+1endloopif i<=ODV thenif OFE and(ORV[i]!=0)thenset OFE=(DWI(O5,it,-1,ORV[i]))endifif OFE and(OIV[i]!=0)thenset OFE=(DWI(O5,it,-1,OIV[i]))endifif OFE and(OAV[i]!=0)thenset OFE=(DWI(O5,it,-1,OAV[i]))endifif OFE and(ONV[i]!=0)thenset OFE=(DWI(O5,it,-1,ONV[i]))endifif OFE and(OBV[i]!=0)thenset OFE=(DWI(O5,it,-1,OBV[i]))endifif OFE thenif(VVE[48+O5])thencall SaveBoolean(WXV,Z8V[$D0+O5],GetHandleId(Z7V[288+O5]),true)elseif(i1==O7)thencall UnitUseItem(it,Z7V[288+O5])endifendifif DYI==-1 thenset VVE[$90+O5]=trueendifendifset D0I=trueelseif(VVE[112+O5])thenif VVE[48+O5]thenset OFE=DTI(O5,N7V[O5],i1,false)if OFE thencall SaveInteger(WXV,Z8V[$E0+O5],GetHandleId(Z7V[288+O5]),Z8V[48+O5])endifelseif(VVE[$E0+O5])thenif(not B6I(i1))thenset OFE=falseelseif(Z8V[320+O5]>0)and IsUnitType(it,UNIT_TYPE_HERO)and OOE(it)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=IEV[i1])and OXE(it,BU[ZY])thencall DSI(O5,it,bj_lastCreatedItem,ZY)set Z8V[320+O5]=Z8V[320+O5]-1endifset OFE=DTI(O5,it,i1,true)elseset OFE=DTI(O5,it,i1,true)endifif not OFE thenset Z8V[96+O5]=i1endifendifendifif OFE and(not D1I)thencall SaveBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[288+O5]),true)endifendifif D_I==0 thenif(not OFE)thenset Z8V[112+O5]=i1elseif(not(Z8V[32+O5]<Z8V[48+O5]))or(VVE[48+O5])thenset Z8V[112+O5]=0endifendifif(not VVE[$80+O5])and(VVE[48+O5])and OOE(N7V[O5])thenset VVE[$80+O5]=trueendifif D_I==0 and OFE thenif not(Z8V[$90+O5]==0)thenif(not VVE[48+O5])and((not VVE[$E0+O5])or(VVE[272+O5]))thenset Z8V[32+O5]=Z8V[32+O5]+1elseif D0I thenset VVE[$80+O5]=truecall O4E(1128887405,I2S(GetHandleId(it))+"|s"+I2S(Z8V[48+O5]),i1)endifset Z8V[48+O5]=Z8V[48+O5]+1endifendifset VVE[96+O5]=falseif(not VVE[48+O5])and D1I thenif(i1==A7)thenset VVE[64+O5]=truecall CKI(O5,it)set i=0loopexitwhen(i>23)set DAI=Z9V[O5*24+i]if(DAI==QU or DAI==B7 or DAI==C7 or DAI==D7 or DAI==EJV or DAI==D4 or DAI==P4 or DAI==X6V)thencall DSI(O5,it,Z7V[O5*24+i],DAI)if OXE(it,BU[L5])thencall DSI(O5,it,bj_lastCreatedItem,L5)endifif OXE(N7V[O5],BU[L5])thencall DSI(O5,it,bj_lastCreatedItem,L5)endifexitwhen trueendifset i=i+1endloopelseif Z8V[336+O5]!=0 thenset i=0loopexitwhen(i>23)if(Z9V[O5*24+i]==Z8V[336+O5])thencall DSI(O5,it,Z7V[O5*24+i],Z8V[336+O5])exitwhen trueendifset i=i+1endloopset Z8V[336+O5]=0endifendifif(VVE[112+O5])and(not VVE[48+O5])and D1I thenset DAI=DBI(O5,false)-6loopset i=DOI(O5,false,false)exitwhen(i==-1)or(DAI<=0)call DSI(O5,it,Z7V[O5*24+i],Z9V[O5*24+i])set Z7V[O5*24+i]=nullset DAI=DAI-1endloopendifif(not VVE[$80+O5])and(VVE[48+O5])and(B8I(O5,it,null,i1,true)>=99)thenset VVE[$80+O5]=trueendifif(VVE[$C0+O5])and(not VVE[48+O5])and(GetUnitTypeId(it)==1697657158)thencall DEI(O5,it)endifendifendifif(not VVE[112+O5])thenreturn trueendifif(D_I==0)and(not VVE[80+O5])and OFE and(DYI==Z8V[$F0+O5])thenif(not VVE[48+O5])thenset Z8V[$90+O5]=2elseset VVE[$A0+O5]=trueendifendifreturn OFEendfunctionfunction D2I takes nothing returns nothinglocal integer i=GetHandleId(GetTriggeringTrigger())local integer O5=R1E(i,"p")set VVE[$D0+O5]=DWI(O5,RME(i,"u"),R1E(i,"i"),R1E(i,"id"))set Z8V[272+O5]=0endfunctionfunction D3I takes integer O5,unit it,integer DYI,integer i1 returns booleanlocal integer ilocal integer DZI=0if(not VVE[112+O5])thenif DYI>=0 and(Z8V[$F0+O5]<=DYI)thenset Z8V[$F0+O5]=DYIendifif(not IsUnitType(it,UNIT_TYPE_HERO))thenset DZI=PUendifcall SaveInteger(WXV,Z8V[352+O5],i1+DZI,LoadInteger(WXV,Z8V[352+O5],i1+DZI)+1)return trueendifif(VVE[112+O5])and(DYI>=0)and(((not VVE[48+O5])and(Z8V[32+O5]!=DYI))or((VVE[48+O5])and(Z8V[48+O5]!=DYI)))thenreturn falseendifif Bz<Z8V[272+O5]thenset i=R2I(Bz)+$Aloopcall TriggerSleepAction(1)exitwhen(Bz>i or Bz>Z8V[272+O5])endloopif Bz<Z8V[272+O5]thenreturn falseendifendifset i=GetHandleId(GZV[112+O5])call O8E(i,"u",it)call O4E(i,"i",DYI)if(i1==L8)and(R3E(G2V,B0I(it)+"|D"))and(IsUnitType(it,UNIT_TYPE_HERO))thencall O4E(i,"id",F6)elsecall O4E(i,"id",i1)endifset Z8V[272+O5]=R2I(Bz)+$Fset VVE[$D0+O5]=falsecall TriggerExecute(GZV[112+O5])loopcall TriggerSleepAction(.2)exitwhen Bz>Z8V[272+O5]endloopreturn VVE[$D0+O5]endfunctionfunction D4I takes integer O5,unit it,integer i1,boolean D5I returns booleanlocal boolean D6I=OXE(it,BU[i1])or OXE(N7V[O5],BU[i1])if R3E(1129146739,I2S(GetHandleId(it))+"|"+I2S(i1))thenset D5I=falseendifif D5I and(IsItemOwned(bj_lastCreatedItem)or(not OOE(it)))thenif not((Z8V[O5]==i1 or Z8V[16+O5]==i1)and D6I)thenif Z8V[O5]==0 and Z8V[16+O5]!=i1 thenset Z8V[O5]=i1elseif Z8V[16+O5]==0 and Z8V[O5]!=i1 thenset Z8V[16+O5]=i1endifif not D6I thenreturn DTI(O5,it,i1,true)endifendifelseif D6I thenif(Z8V[O5]==i1)thenset Z8V[O5]=0elseif(Z8V[16+O5]==i1)thenset Z8V[16+O5]=0endifendifendifreturn falseendfunctionfunction D7I takes integer O5 returns nothinglocal integer i=0local item XJE=nulllocal integer i1loopexitwhen i>5set XJE=UnitItemInSlot(N7V[O5],i)if XJE!=null thenset bj_forLoopAIndex=GetItemTypeId(XJE)set i1=-1if(bj_forLoopAIndex==BU[Z8V[O5]])thenset i1=Z8V[O5]set Z8V[O5]=0elseif(bj_forLoopAIndex==BU[Z8V[16+O5]])thenset i1=Z8V[16+O5]set Z8V[16+O5]=0elseif(bj_forLoopAIndex==BU[L5])thencall DSI(O5,QV[O5],XJE,L5)endifif i1!=-1 thencall O7E(1129146739,I2S(GetHandleId(QV[O5]))+"|"+I2S(i1),true)call DSI(O5,QV[O5],XJE,i1)endifendifset i=i+1endloopset XJE=nullendfunctionfunction D8I takes integer O5,unit it,boolean D9I returns nothinglocal integer i1=GetUnitTypeId(it)local integer array FEIlocal boolean OFE=falselocal boolean FXI=falselocal boolean FOI=falselocal boolean J4=falselocal string FRIlocal integer ilocal integer DAIlocal integer jlocal integer EJElocal integer FIIlocal integer klocal integer DNIlocal unit uif(not(Bz>=Z8V[$A0+O5]))or GZ[$C0+O5]thenreturnendifif(not VVE[112+O5])thenset Z8V[$90+O5]=1elseset Z8V[$A0+O5]=R2I(Bz)+30call CKI(O5,it)endifset VVE[48+O5]=D9Iset VVE[$A0+O5]=(D9I and VVE[$B0+O5])set i=Z8V[$90+O5]if(Z8V[$90+O5]==0)and(not D9I)thenif(FSV)thencall D4I(O5,it,C5,true)elsecall D4I(O5,it,B5,true)endifendifset DAI=R1E(GetHandleId(Player(O5)),"AI|Class")set FEI[$A]=V0Vif(Z8V[$90+O5]==0)and(not D9I)thenset EJE=FKE(it)if DAI==4 thencall D3I(O5,it,-2,C5)elseif IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)thencall DTI(O5,it,D1,false)if i1!=1211119187 thencall DTI(O5,it,U3,false)endifelsecall DTI(O5,it,J0,false)if EJE==1 thencall D3I(O5,it,-2,T7)elseif EJE==2 thencall D3I(O5,it,-2,P7)elsecall D3I(O5,it,-2,M7)endifendifendifset Z8V[$90+O5]=1set Z8V[112+O5]=0endifif(i1==1211117636)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,V8V)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VMV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vendifelseif(i1==1211122767)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,T4)call D3I(O5,it,4,VDV)call D3I(O5,it,5,ELV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V7Vset FEI[2]=VJVendifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,N8)call D3I(O5,it,4,L8)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVset FEI[1]=V2Vset FEI[2]=V5Vendifelseif(i1==1214345830)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,G8)call D3I(O5,it,3,ESV)call D3I(O5,it,4,E4)call D3I(O5,it,5,D8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V7Vset FEI[2]=L8endifelseif(i1==1315007329)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,L8)call D3I(O5,it,4,E4)call D3I(O5,it,5,VWV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V5Vset FEI[1]=V2Vset FEI[2]=VUVendifelseif(i1==1429221456)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,ELV)call D3I(O5,it,4,EHV)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=OFVset FEI[1]=V7Vendifelseif(i1==1316252014)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EHV)call D3I(O5,it,4,VBV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ELVset FEI[1]=V7Vendifelseif(i1==1432646245)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EBV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,N8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=VUVset FEI[2]=VVVendifelseif(i1==1160785972)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,EHV)call D3I(O5,it,4,VPV)call D3I(O5,it,5,VWV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVset FEI[1]=VVVendifelseif(i1==1429221443)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EBV)call D3I(O5,it,3,Y7)call D3I(O5,it,4,L8)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVset FEI[1]=G6endifelseif(i1==1311781185)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,E4)call D3I(O5,it,4,EHV)call D3I(O5,it,5,VPV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VVVendifelseif(i1==1215657064)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,V8V)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVset FEI[1]=G6endifelseif(i1==1164277353)or(i1==1164277357)or(i1==1160786518)or(i1==1160786519)or(i1==1160786517)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,R5)call D3I(O5,it,2,EKV)call D3I(O5,it,3,E4)call D3I(O5,it,4,L8)call D3I(O5,it,5,VNV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VWVset FEI[1]=V2Vendifelseif(i1==1211117651)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EHV)call D3I(O5,it,3,VPV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VJVendifelseif(i1==1430466609)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EHV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VPV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vendifelseif(i1==1164799855)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EHV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vendifelseif(i1==1211117620)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VDV)call D3I(O5,it,3,EHV)call D3I(O5,it,4,E4)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V4Vset FEI[1]=VJVendifelseif(i1==1160786520)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VDV)call D3I(O5,it,3,VKV)call D3I(O5,it,4,EHV)call D3I(O5,it,5,T4)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=V4Vset FEI[2]=VJVendifelseif(i1==1311787088)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,ELV)call D3I(O5,it,5,T4)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=EFVset FEI[2]=VJVendifelseif(i1==1315334514)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,VCV)call D3I(O5,it,4,VPV)call D3I(O5,it,5,VBV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=V5Vendifelseif(i1==1315074670)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,VCV)call D3I(O5,it,4,N8)call D3I(O5,it,5,VBV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=VUVset FEI[2]=V5Vendifelseif(i1==1311780946)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,E4)call D3I(O5,it,4,V8V)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VZVset FEI[1]=V7Vendifelseif(i1==1429221446)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,V8V)call D3I(O5,it,4,EAV)call D3I(O5,it,5,ELV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=OFVset FEI[2]=VZVendifelseif(i1==1429221451)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,OFV)call D3I(O5,it,5,ELV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=VZVendifelseif(i1==1430466865)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,N8)call D3I(O5,it,4,E4)call D3I(O5,it,5,EZ)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVset FEI[1]=V2Vset FEI[2]=V0Vendifelseif(i1==1211117650)or(i1==1211119433)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,V8V)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVendifelseif(i1==1215723364)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,E4)call D3I(O5,it,4,ELV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VCVset FEI[1]=VBVendifelseif(i1==1332109682)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,N8)call D3I(O5,it,4,EZ)call D3I(O5,it,5,EAV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V6Vset FEI[2]=V2Vset FEI[3]=EMVendifelseif(i1==1211117641)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,G8)call D3I(O5,it,3,EAV)call D3I(O5,it,4,E4)call D3I(O5,it,5,EOV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=OFVendifelseif(i1==1432642913)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EOV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VNV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVendifelseif(i1==1429221432)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,E4)call D3I(O5,it,4,Y7)call D3I(O5,it,5,L8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vset FEI[1]=G6endifelseif(i1==1429221430)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EOV)call D3I(O5,it,4,EHV)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVendifelseif(i1==1215128178)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,ELV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=D8set FEI[2]=VJVendifelseif(i1==1328558160)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VPV)call D3I(O5,it,3,N8)call D3I(O5,it,4,VBV)call D3I(O5,it,5,X3V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=V4Vendifelseif(i1==1214931305)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D4)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,D8)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=VJVendifelseif(i1==1211117617)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,E4)call D3I(O5,it,4,N8)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vset FEI[1]=V2Vset FEI[2]=VUVendifelseif(i1==1212363833)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,E4)call D3I(O5,it,4,X8)call D3I(O5,it,5,VNV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=VWVendifelseif(i1==1212365106)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,X8)call D3I(O5,it,4,U7)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=VNVset FEI[2]=V5Vset FEI[3]=G6endifelseif(i1==1333027688)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,ELV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V6Vendifelseif(i1==1332179560)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,X8)call D3I(O5,it,4,VNV)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=VZVset FEI[2]=G6endifelseif(i1==1315070563)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,N8)call D3I(O5,it,4,VCV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VNVset FEI[1]=V2Vset FEI[2]=V5Vendifelseif(i1==1214344551)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,VKV)call D3I(O5,it,4,VZV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=V6Vendifelseif(i1==1160785973)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,N8)call D3I(O5,it,3,VCV)call D3I(O5,it,4,VBV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=VUVendifelseif(i1==1433631084)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,N8)call D3I(O5,it,3,VCV)call D3I(O5,it,4,VBV)call D3I(O5,it,5,VUV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=V4Vendifelseif(i1==1215130471)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,EIV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VJVendifelseif(i1==1164799603)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VCV)call D3I(O5,it,3,VKV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=VBVendifelseif(i1==1432580716)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,VDV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=ERVset FEI[2]=VJVendifelseif(i1==1214409837)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D4)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,VCV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,VKV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=VJVset FEI[2]=V7Vendifelseif(i1==1433105516)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,ELV)call D3I(O5,it,5,VPV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=VZVendifelseif(i1==1211117643)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,ELV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,D8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V7Vendifelseif(i1==1211117633)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,G8)call D3I(O5,it,3,ELV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VKV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=D8endifelseif(i1==1332898670)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,D8)call D3I(O5,it,3,ELV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VKV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V6Vset FEI[1]=VMVendifelseif(i1==1211117624)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,ELV)call D3I(O5,it,4,L8)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVendifelseif(i1==1315988077)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EZ)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VNVendifelseif(i1==1211117616)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,EZ)call D3I(O5,it,4,VZV)call D3I(O5,it,5,EAV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=ERVendifelseif(i1==1215063922)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,N8)call D3I(O5,it,4,L8)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVset FEI[1]=V2Vendifelseif(i1==1164207469)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,VNV)call D3I(O5,it,4,Y7)call D3I(O5,it,5,Z8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VUVset FEI[1]=V5Vset FEI[2]=G6endifelseif(i1==1160786000)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,VKV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVset FEI[1]=VJVset FEI[2]=EFVendifelseif(i1==1311781206)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VBV)call D3I(O5,it,3,X8)call D3I(O5,it,4,L8)call D3I(O5,it,5,VWV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=V5Vendifelseif(i1==1311781193)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,Y8)call D3I(O5,it,4,L8)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vendifelseif(i1==1162032439)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,VCV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VBV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=V7Vendifelseif(i1==1430466872)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,EIV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=VJVendifelseif(i1==1430468406)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,EIV)call D3I(O5,it,4,EAV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=V0Vendifelseif(i1==1164666213)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,EIV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vendifelseif(i1==1433168227)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D4)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,EIV)call D3I(O5,it,5,V6V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vendifelseif(i1==1311786311)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EHV)call D3I(O5,it,3,ELV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,X8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=VWVendifelseif(i1==1160786265)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,Y4)call D3I(O5,it,3,EZ)call D3I(O5,it,4,V9V)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVset FEI[1]=VUVendifelseif(i1==1311780930)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,OFV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VPVendifelseif(i1==1211117649)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EBV)call D3I(O5,it,4,N8)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=ERVset FEI[2]=VVVendifelseif(i1==1211119187)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,VCV)call D3I(O5,it,4,Y8)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vset FEI[1]=ERVendifelseif(i1==1429221446)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,V8V)call D3I(O5,it,4,EAV)call D3I(O5,it,5,ELV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=EFVset FEI[2]=OFVendifelseif(i1==1211117652)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,V8V)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVset FEI[1]=ERVendifelseif(i1==1313026096)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EBV)call D3I(O5,it,3,VCV)call D3I(O5,it,4,W8)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVendifelseif(i1==1328558154)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EBV)call D3I(O5,it,4,N8)call D3I(O5,it,5,L8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=OFVendifelseif(i1==1429221441)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,EOV)call D3I(O5,it,3,X8)call D3I(O5,it,4,VNV)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=ERVset FEI[2]=G6endifelseif(i1==1211117654)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,N8)call D3I(O5,it,3,VBV)call D3I(O5,it,4,V4V)call D3I(O5,it,5,VWV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=V5Vendifelseif(i1==1162032951)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VCV)call D3I(O5,it,3,VBV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,X3V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V5Vendifelseif(i1==1160785970)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VCV)call D3I(O5,it,3,VBV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVendifelseif(i1==1160786510)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VCV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,X8)call D3I(O5,it,5,VBV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=V5Vendifelseif(i1==1432510828)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VPV)call D3I(O5,it,3,VBV)call D3I(O5,it,4,VZV)call D3I(O5,it,5,V5V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V4Vendifelseif(i1==1165451634)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,N8)call D3I(O5,it,3,Y8)call D3I(O5,it,4,VNV)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=VWVset FEI[2]=G6endifelseif(i1==1162032181)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,N8)call D3I(O5,it,3,VNV)call D3I(O5,it,4,Z8)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=Y8set FEI[2]=VUVendifelseif(i1==1215722344)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VCV)call D3I(O5,it,3,L8)call D3I(O5,it,4,N8)call D3I(O5,it,5,Z8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=VUVset FEI[2]=VZVendifelseif(i1==1160786242)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,X8)call D3I(O5,it,4,VNV)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=O8set FEI[1]=V5Vendifelseif(i1==1311788336)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,R5)call D3I(O5,it,3,L8)call D3I(O5,it,4,Y8)call D3I(O5,it,5,VZV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVset FEI[1]=V0Vendifelseif(i1==1211119409)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,N8)call D3I(O5,it,4,L8)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V2Vset FEI[1]=ERVset FEI[2]=G6endifelseif(i1==1332766568)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,EZ)call D3I(O5,it,4,V8)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVendifelseif(i1==1160786738)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,V8V)call D3I(O5,it,4,Y8)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVendifelseif(i1==1160786507)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,L8)call D3I(O5,it,4,Y8)call D3I(O5,it,5,Y7)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vset FEI[1]=G6endifelseif(i1==1430467634)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,EJV)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,VCV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVendifelseif(i1==1160786505)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,VCV)call D3I(O5,it,4,L8)call D3I(O5,it,5,Y8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EFVendifelseif(i1==1430468913)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,EZ)call D3I(O5,it,4,L8)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V0Vendifelseif(i1==1328558389)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,C7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,E4)call D3I(O5,it,3,ELV)call D3I(O5,it,4,W8)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vendifelseif(i1==1211117646)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VZV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=ERVendifelseif(i1==1429221424)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,VDV)call D3I(O5,it,3,VKV)call D3I(O5,it,4,L8)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VMVset FEI[2]=VJVendifelseif(i1==1160786502)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,VDV)call D3I(O5,it,4,VKV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VMVset FEI[2]=VJVendifelseif(i1==1328558406)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,EAV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=EMVset FEI[2]=VJVendifelseif(i1==1429221445)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,V8V)call D3I(O5,it,3,EAV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,OFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VZVset FEI[1]=EMVset FEI[2]=VJVendifelseif(i1==1211117640)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VKV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VMVset FEI[2]=VJVendifelseif(i1==1311781207)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,G8)call D3I(O5,it,2,ELV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,T4)call D3I(O5,it,5,EAV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVendifelseif(i1==1160786241)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,X6V)call D3I(O5,it,1,ELV)call D3I(O5,it,2,VDV)call D3I(O5,it,3,VCV)call D3I(O5,it,4,OFV)call D3I(O5,it,5,VVV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VJVendifelseif(i1==1160786243)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,ELV)call D3I(O5,it,2,OFV)call D3I(O5,it,3,VKV)call D3I(O5,it,4,V6V)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VMVendifelseif(i1==1332963428)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,ELV)call D3I(O5,it,2,VKV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VDV)call D3I(O5,it,5,V7V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VJVset FEI[1]=VMVendifelseif(i1==1430468144)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,ESV)call D3I(O5,it,2,V9V)call D3I(O5,it,3,OFV)call D3I(O5,it,4,VZV)call D3I(O5,it,5,EFV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVendifelseif(i1==1160786506)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,ESV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,T4)call D3I(O5,it,5,V7V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V4Vset FEI[1]=VJVendifelseif(i1==1160786504)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,ESV)call D3I(O5,it,2,ELV)call D3I(O5,it,3,VDV)call D3I(O5,it,4,T4)call D3I(O5,it,5,W8)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=V7Vset FEI[1]=VJVendifelseif(i1==1328558390)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,EZ)call D3I(O5,it,4,V9V)call D3I(O5,it,5,VDV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=EMVset FEI[1]=V7Vset FEI[2]=VJVendifelseif(i1==1211117653)thenif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,D7)call D3I(O5,it,1,EKV)call D3I(O5,it,2,ESV)call D3I(O5,it,3,OFV)call D3I(O5,it,4,EHV)call D3I(O5,it,5,V7V)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=VVVset FEI[1]=VMVendifelseif(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)thenif VVE[112+O5]thenset u=C1I(O5,it,(not D9I))set VVE[$C0+O5]=trueelseset u=nullendifif(Z8V[$90+O5]==1)and(not VVE[$A0+O5])thencall D3I(O5,it,0,B7)call D3I(O5,u,1,EJV)call D3I(O5,it,2,EKV)call D3I(O5,it,3,E4)call D3I(O5,u,4,EOV)call D3I(O5,it,5,V8V)call EYE(1.)call D3I(O5,u,6,VZV)call D3I(O5,it,7,Y7)call D3I(O5,u,8,ERV)call D3I(O5,it,9,L8)call D3I(O5,u,$A,L8)call D3I(O5,u,$B,VWV)endifif(Z8V[$90+O5]==2)or(VVE[$A0+O5])thenset FEI[0]=W8set FEI[1]=G6endifset u=nullelseset J4=trueendifif(not VVE[112+O5])thenset VVE[112+O5]=trueset Z8V[32+O5]=0set Z8V[$90+O5]=0set GZV[112+O5]=CreateTrigger()call TriggerAddAction(GZV[112+O5],function D2I)call O4E(GetHandleId(GZV[112+O5]),"p",O5)returnendifif(not J4)and((Z8V[$90+O5]==2)or(VVE[$A0+O5]))and(XZE(it))thenif D9I thenset VVE[$B0+O5]=trueelseif not VVE[80+O5]thencall DUI(O5)set VVE[80+O5]=trueset VVE[$B0+O5]=trueendifendifif Z8V[112+O5]==0 thenif IsPlayerAlly(Player(O5),RX[0])thenset FRI="Sent|"elseset FRI="Scrg|"endifset FOI=falseloopset FXI=falseset DAI=1if VVE[64+O5]thenset DAI=0endifset OFE=trueloopset i=CLI(O5)exitwhen((i<=DAI)or(OFE==false))set k=0set i=0set EJE=0set FII=0loopexitwhen i>9if FEI[i]!=0 thenset EJE=i+1endifif FEI[$A+i]!=0 thenset FII=i+1endifset i=i+1endloopset i=0set OFE=falseloopexitwhen(((not VVE[64+O5])and(i>=EJE+EJE))or(i>=EJE+EJE+FII+FII))if i<EJE thenset j=GetRandomInt(0,EJE)elseif i<EJE+EJE thenset j=i-EJEelseif i<EJE+EJE+FII thenset j=$A+GetRandomInt(0,FII)elseset j=$A+(i-(EJE+EJE+FII))endifif FEI[j]!=0 thenset k=R1E(1128887405,FRI+I2S(FEI[j]))set DNI=R1E(1128877176,I2S(GetHandleId(it))+"|"+I2S(FEI[j]))if(k>=1)or(((not CYI(FEI[j]))and(DNI>0))or(DNI>1))or(not CQI(O5,it,FEI[j]))thenset FEI[j]=0elseset OFE=D3I(O5,it,-2,FEI[j])exitwhen trueendifendifset i=i+1endloopendloopcall DUI(O5)if Z8V[112+O5]==0 and(not FOI)thenset FOI=trueset OFE=trueloopexitwhen OFE==falseset i=0set j=0set EJE=0set k=0set DNI=-1set OFE=falseloopexitwhen(i>5)set bj_lastCreatedItem=UnitItemInSlot(it,i)set DAI=XGE(bj_lastCreatedItem)set j=0if(LoadInteger(WXV,Z8V[$E0+O5],GetHandleId(bj_lastCreatedItem))!=0)or(R3E(1129085013,I2S(GetHandleId(it))+"|"+I2S(DAI)))thenelseif(DAI==HZ)thenset j=$Aelseif(DAI==EAV)thenif(R1E(1128887405,FRI+I2S(EMV))<=1)thenset j=$Aelseset j=1endifelseif(DAI==N8)thenset j=8elseif((DAI==E4 or DAI==X4)and(not OXE(it,BU[ERV]))and(R1E(1128887405,FRI+I2S(ERV))<=1))thenset j=8elseif(DAI==VKV or DAI==VLV)thenset j=7elseif(DAI==VDV or DAI==VFV or DAI==VGV or DAI==VHV)thenset j=6elseif((DAI==X8 and GetItemCharges(bj_lastCreatedItem)<=3)or DAI==R8)or(DAI==ENV or DAI==EBV)or(DAI==V8V or DAI==V9V)thenset j=5elseif(DAI==Z8)thenset j=4elseif(DAI==Y7)thenset j=4elseif(DAI==QU or DAI==B7 or DAI==C7 or DAI==D7 or DAI==EJV or DAI==D4 or DAI==P4 or DAI==X6V)and(not VVE[64+O5])thenset j=3endifif j>EJE thenset EJE=jset k=iset DNI=DAIendifset i=i+1endloopif EJE!=0 thenif D9I thencall SaveInteger(WXV,Z8V[$E0+O5],GetHandleId(bj_lastCreatedItem),Z8V[48+O5])endifcall O7E(1129085013,I2S(GetHandleId(it))+"|"+I2S(DNI),true)call CKI(O5,it)if(DNI==HZ)thenset OFE=D3I(O5,it,-2,EAV)elseif(DNI==EAV)and(R1E(1128887405,FRI+I2S(EMV))<=1)thenset OFE=D3I(O5,it,-2,EMV)elseif(DNI==N8)thenset OFE=D3I(O5,it,-2,V2V)elseif(DNI==VKV or DNI==VLV)thenset OFE=D3I(O5,it,-2,VMV)elseif(DNI==VDV or DNI==VFV or DNI==VGV or DNI==VHV)thenset OFE=D3I(O5,it,-2,VJV)elseif(DNI==X8 or DNI==R8)thenset OFE=D3I(O5,it,-2,O8)elseif(DNI==Z8)thenset OFE=D3I(O5,it,-2,VUV)elseif(DNI==Y7)thenset OFE=D3I(O5,it,-2,G6)elseif(DNI==QU or DNI==B7 or DNI==C7 or DNI==D7 or DNI==EJV or DNI==D4 or DNI==P4 or DNI==X6V)thenset OFE=D3I(O5,it,-2,A7)if OFE thenset FXI=trueendifelseif(DNI==EAV)thenset OFE=D3I(O5,it,-2,EMV)elseif(DNI==E4 or DNI==X4)thenset Z8V[336+O5]=DNIset OFE=D3I(O5,it,-2,ERV)elseif(DNI==ENV or DNI==EBV)or(DAI==V8V or DAI==V9V)thenset Z8V[336+O5]=DNIset OFE=D3I(O5,it,-2,V0V)endifendifendloopendifexitwhen(not FXI)endloopendifendifif(not J4)and(i!=0)and(not VVE[64+O5])and(not D9I)and(not OXE(it,BU[L5]))and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=IEV[L5])thenset DAI=DBI(O5,false)-5if DAI>0 thenset j=DOI(O5,false,false)if j!=-1 thencall DSI(O5,it,Z7V[O5*24+j],Z9V[O5*24+j])endifendifendifif(not J4)and(i==0)thencall DUI(O5)set DAI=CVI(O5,it,false)if GetHeroLevel(it)>=6 and VVE[64+O5]==false thenset DAI=DAI-1endifif DAI>0 and true thencall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+IEV[Y0])call DTI(O5,it,Y0,false)set DAI=DAI-1endifset Z8V[320+O5]=DAIloopexitwhen(DAI<=0)call DTI(O5,it,ZY,false)set DAI=DAI-1endloopendifset VVE[48+O5]=falseif not D9I thenif Z8V[48+O5]<Z8V[32+O5]thenset Z8V[48+O5]=Z8V[32+O5]endifif VVE[$C0+O5]thencall DXI(O5,null)endifcall FlushChildHashtable(WXV,Z8V[$E0+O5])endifcall FlushChildHashtable(WXV,Z8V[$D0+O5])call FlushChildHashtable(WXV,Z8V[368+O5])call VJE(O5,"------------------------Buy End -")set Z8V[$A0+O5]=0endfunctionfunction FAI takes unit it returns nothinglocal integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal integer ilocal integer jlocal item XJE=nulllocal boolean OFE=truelocal boolean FNI=falseif GZ[$C0+O5]thenset GZ[$C0+O5]=falseset Z8V[O5]=0set Z8V[16+O5]=0set Z8V[32+O5]=0set Z8V[48+O5]=0set Z8V[96+O5]=0set Z8V[112+O5]=0set Z8V[$90+O5]=0set VVE[16+O5]=falseset VVE[32+O5]=falseset VVE[64+O5]=falseset VVE[80+O5]=falseset VVE[96+O5]=falseset VVE[$80+O5]=trueset VVE[$A0+O5]=falseset VVE[$B0+O5]=falseif QV[O5]!=null thenset UP=0loopexitwhen UP>5call RemoveItem(UnitItemInSlot(QV[O5],UP))call RemoveItem(UnitItemInSlot(N7V[O5],UP))set UP=UP+1endloopendifendifif not((Bz>=F7V-30.)and(Bz>Z8V[$B0+O5])and(i1!=1211117642))thenreturnendifset Z8V[$B0+O5]=R2I(Bz)+30set hq[592+O5]=Bz+180.set G0[320+O5]=falseif(GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>.8)==false and Z8V[96+O5]!=0 thenif(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=IEV[Z8V[96+O5]])thencall D8I(O5,it,true)endifendifloopexitwhen GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>.8if GetUnitState(it,UNIT_STATE_LIFE)<=.405 or I4V[O5]thenset Z8V[$B0+O5]=0returnendifcall TriggerSleepAction(1.)endloopif(J8V and KXV[O5])thenif(UnitHasItem(it,KRV[O5]))thencall DisableTrigger(R3V)call UnitRemoveItem(it,KRV[O5])call RemoveItem(KRV[O5])call SetItemVisible(KRV[O5],false)call EnableTrigger(R3V)endifif(KOV[O5]!=null)thencall EYE(.2)call UnitAddItem(it,KOV[O5])endifset KRV[O5]=nullset KOV[O5]=nullendifif(KNV[O5])thenif(OXE(it,BU[L5]))thenset KAV[O5]=bj_lastCreatedItemcall DisableTrigger(R3V)call UnitRemoveItem(it,KAV[O5])call SetItemPosition(KAV[O5],9999,-9999)call SetItemVisible(KAV[O5],false)call EnableTrigger(R3V)set KAV[O5]=nullendifif(KIV[O5]!=null)thencall EYE(.2)call UnitAddItem(it,KIV[O5])endifset KNV[O5]=falseset KIV[O5]=nullendifif(OXE(it,BU[ENV])and(R8E(it,"ArmletOfMordigan|Active")))thencall UnitUseItem(it,bj_lastCreatedItem)endifloopcall TriggerSleepAction(.1)exitwhen Bz>Z8V[$A0+O5]if GetWidgetLife(it)<.405 thenset XJE=nullset Z8V[$B0+O5]=0returnendifendloopif((EV)and(hG[$80+O5]>0))thenset UP=GetPlayerState(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD)if(UP>=hG[$80+O5])thencall SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,UP-hG[$80+O5])set hG[$80+O5]=0elsecall SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,0)set hG[$80+O5]=hG[$80+O5]-UPendifendifset UP=0set WGV=nullloopset XJE=UnitItemInSlot(it,UP)set i=GetPlayerId(GetItemPlayer(XJE))if((XJE!=null)and((i!=O5))and(i!=$F))thenif IsUnitEnemy(it,Player(i))thenset i=O5elseif WGV==null thenset WGV=CreateForce()call ForceEnumAllies(WGV,Player(O5),null)endifset bj_forLoopAIndex=GetPlayerId(GetItemPlayer(XJE))call I4E(it,WGV,"Returning "+C[bj_forLoopAIndex]+GetPlayerName(Player(bj_forLoopAIndex))+"|r's |c00ffcc00"+GetItemName(XJE)+"|r in Circle.")endifcall SetItemPosition(XJE,GetUnitX(N7V[i]),GetUnitY(N7V[i]))call UnitRemoveItem(it,XJE)call SetItemVisible(XJE,true)endifset UP=UP+1exitwhen(UP>=bj_MAX_INVENTORY)endloopif WGV!=null thencall DestroyForce(WGV)set WGV=nullendifcall TriggerSleepAction(.1)set VVE[48+O5]=falseset Z7V[304+O5]=nullif OFE and(Z8V[32+O5]<Z8V[48+O5])thenloopset UP=R1E(1128887405,I2S(GetHandleId(it))+"|s"+I2S(Z8V[32+O5]))if UP!=0 thenif Z8V[32+O5]>Z8V[$F0+O5]thenset i=-2elseset i=Z8V[32+O5]endifset OFE=D3I(O5,it,i,UP)endifexitwhen Z8V[32+O5]==Z8V[48+O5]or UP==0 or(not OFE)endloopendifcall CGI(O5)set Z8V[320+O5]=0if OFE and Z8V[96+O5]!=0 and(not VVE[$90+O5])thenset OFE=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=IEV[Z8V[96+O5]])endifif OFE and Z8V[112+O5]!=0 and Z8V[$90+O5]!=1 thenset OFE=D3I(O5,it,-2,Z8V[112+O5])call DUI(O5)endifif((R3E(G2V,B0I(it)+"|W"))and(GetHeroLevel(it)>6))and(not B7I(O5,it))thenif((OXE(it,BU[A7]))or(i1==1164799603)or(i1==1160786242)or(i1==1211117641)or(i1==1311780946)or(B1I(it)))thenif(R3E(G2V,B0I(it)+"|G"))and(GetHeroLevel(it)>$B)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)and(Bz>=R2E(G2V,B0I(it)+"|GTimer"))and(D4I(O5,it,GY,true))thencall O5E(G2V,B0I(it)+"|GTimer",Bz+480.)elseif((i1!=1315007329)and(i1!=1215722344)and(i1!=1430468913)and(i1!=1311781185))thenif(EOE(i1)<=2 or GetRandomInt(1,3)==1)thencall D4I(O5,it,W5,true)elsecall D4I(O5,it,G5,true)endifendifendifendifif(not FNI)and((not VVE[64+O5])and((GetHeroLevel(it)>$A)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>$3E8))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))thenif not(OXE(it,BU[L5])or OXE(N7V[O5],BU[L5]))and(not OOE(it))thencall DTI(O5,it,L5,true)set FNI=trueendifendifcall D4I(O5,it,HZ,(((GetHeroLevel(it)<17)and(R3E(G2V,B0I(it)+"|X"))and(i1!=1429221446)and(i1!=1164207469)and(i1!=1162032951))and((not OXE(it,BU[EAV]))and(not OXE(it,BU[EMV])))))if OFE or(Z8V[32+O5]<Z8V[48+O5])thencall D8I(O5,it,false)endifset Z8V[$C0+O5]=0set VVE[$80+O5]=falseset VVE[$90+O5]=falsecall DUI(O5)set Z7V[304+O5]=nullif(not FNI)and((not VVE[64+O5])and((GetHeroLevel(it)>$A)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>$3E8))and(i1!=1164799603)and(i1!=1160786242)and(i1!=1211117641)and(i1!=1311780946))and(not OOE(it))thenif not(OXE(it,BU[L5])or OXE(N7V[O5],BU[L5]))and(not OOE(it))thencall DTI(O5,it,L5,true)set FNI=trueendifendifif(FSV)thencall D4I(O5,it,C5,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<$3E8))elsecall D4I(O5,it,B5,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<$3E8))endifcall CHI(O5,1)if OXE(it,BU[L5])and GetItemCharges(bj_lastCreatedItem)==1 thencall DTI(O5,it,L5,false)endifif OXE(it,BU[G5])and GetItemCharges(bj_lastCreatedItem)==1 thencall DTI(O5,it,G5,false)endifif OXE(it,BU[C5])and GetItemCharges(bj_lastCreatedItem)==1 thencall DTI(O5,it,C5,false)endifif OXE(it,BU[B5])and GetItemCharges(bj_lastCreatedItem)==1 thencall DTI(O5,it,B5,false)endifif OXE(it,BU[X4])thencall DTI(O5,it,X7V,false)endifcall CHI(O5,0)call CGI(O5)call D7I(O5)call CKI(O5,it)call DXI(O5,null)set Z8V[$B0+O5]=0set it=nullset XJE=nullendfunctionfunction FBI takes nothing returns nothinglocal unit ulocal integer jlocal integer EJElocal integer klocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)thencall FAI(GetTriggerUnit())elseif false and(Bz>=Z8V[$A0+O5])and(Bz>Z8V[$B0+O5])and(LVE(GetTriggerUnit()))thenset u=GetTriggerUnit()set Z8V[$A0+O5]=R2I(Bz)+30call CKI(O5,u)set j=6set k=Z8V[$80+O5]-1loopexitwhen j>kif Z7V[O5*24+j]!=null and(LoadBoolean(WXV,Z8V[256+O5],GetHandleId(Z7V[O5*24+j])))thenset EJE=DJI(O5,u,Z9V[O5*24+j],Z7V[O5*24+j],false,true,false)if EJE!=-1 and EJE<6 thenset Z7V[O5*24+EJE]=Z7V[O5*24+j]set Z9V[O5*24+EJE]=Z9V[O5*24+j]endifcall SetItemVisible(Z7V[O5*24+j],false)set Z7V[O5*24+j]=nullendifset j=j+1endloopset u=nullset Z8V[$A0+O5]=0endifendfunctionfunction FCI takes nothing returns nothinglocal integer O5=1local integer FDI=$Blocal boolean OFE=falselocal boolean J4=truelocal integer i=R2I(Bz)+30loopexitwhen O5>FDIif O5==6 thenset O5=7endifset OFE=trueset J4=falseif B6E(Player(O5))and QV[O5]!=null and(Bz>Z8V[$A0+O5])and(Bz>Z8V[$B0+O5])thenif OFE and Z8V[96+O5]!=0 thenset OFE=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=IEV[Z8V[96+O5]])endifif((OFE)and(Z8V[96+O5]!=0)and(Z8V[$90+O5]==1)and(eY[O5]==1)and(eY[80+O5]==1 or eY[80+O5]==2)and(Z8V[32+O5]==Z8V[48+O5])and(B6I(Z8V[96+O5]))and(not GZ[$A0+O5])and((not OOE(QV[O5]))or(Z8V[320+O5]>0)))and(not VVE[288+O5])thenset VVE[$F0+O5]=trueset OFE=falseelseif VVE[$F0+O5]thenset VVE[$F0+O5]=falseset bj_forLoopAIndex=GetUnitUserData(h8[O5])if bj_forLoopAIndex>100 thencall CZE(QV[O5])endifendifif OFE and Z8V[112+O5]!=0 and Z8V[$90+O5]!=1 thenset Z8V[$A0+O5]=iset Z8V[$B0+O5]=iset VVE[48+O5]=trueset OFE=D3I(O5,QV[O5],-2,Z8V[112+O5])if OFE thenset Z8V[112+O5]=0endifset Z8V[$A0+O5]=0set Z8V[$B0+O5]=0set VVE[48+O5]=falseset J4=trueendifif OFE thenset Z8V[$B0+O5]=icall D8I(O5,QV[O5],true)set Z8V[$B0+O5]=0elseif J4 thencall FlushChildHashtable(WXV,Z8V[$D0+O5])endifif(Z8V[$C0+O5]>VOE)and(VVE[$90+O5])thenset VVE[$80+O5]=trueendifendifset O5=O5+1endloopendfunctionfunction FFI takes nothing returns nothingif(not B7E(GetOwningPlayer(GetTriggerUnit())))thenif((GetItemPlayer(GetManipulatedItem())!=null)and(GetItemPlayer(GetManipulatedItem())!=Player($F))and(GetItemPlayer(GetManipulatedItem())!=GetOwningPlayer(GetTriggerUnit()))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(E3E(GetTriggerUnit(),OUE(GetTriggerUnit()))<=2000.)))thencall UnitAddItem(QV[GetPlayerId(GetItemPlayer(GetManipulatedItem()))],GetManipulatedItem())elseif((GetItemPlayer(GetManipulatedItem())==null)or(GetItemPlayer(GetManipulatedItem())==Player($F)))thencall SetItemPlayer(GetManipulatedItem(),GetOwningPlayer(GetTriggerUnit()),false)endifendifendfunctionfunction FGI takes integer O5,real x,real y returns nothinglocal unit it=CreateUnit(Player($F),1697656899,x,y,270.)local texttag t=nullcall UnitAddAbility(it,1097625443)call UnitAddAbility(it,1093678162)call UnitAddAbility(it,1093685300)call SetUnitUserData(it,O5)set h7[O5]=itcall SetUnitX(it,x)call SetUnitY(it,y)if(((O5>$A)and(O5<18))or((O5>30)and(O5<40))or((O5>50)and(O5<60)))thencall GroupAddUnit(ii,it)endifset it=nullendfunctionfunction FHI takes integer O5,integer CTE,integer CUE,real x,real y returns nothingcall FGI(O5,x,y)set hj[O5]=CTEset hj[256+O5]=CUEendfunctionfunction FJI takes integer i,boolean EGE,real FKI returns integerif i>5 and i<$B thenset i=$Belseif i>17 and i<25 thenset i=17elseif i>25 and i<31 thenset i=31elseif i>39 and i<45 thenset i=39elseif i>45 and i<51 thenset i=51elseif i>59 and i<100 thenset i=59endifif FKI>$7D0 thenreturn iendifif i>=$B and i<=17 thenif EGE thenif i>$F and F1V==0 thenset i=$Felseif i>16 and F1V<=1 thenset i=16endifelseif i<$D and FZV==0 thenset i=$Delseif i<$C and FZV<=1 thenset i=$Cendifendifelseif i>=31 and i<=39 thenif EGE thenif i>35 and F2V==0 thenset i=35elseif i>37 and F2V<=1 thenset i=37endifelseif i<34 and F_V==0 thenset i=34elseif i<33 and F_V<=1 thenset i=33endifendifelseif i>=51 and i<=59 thenif EGE thenif i>57 and F3V==0 thenset i=57elseif i>58 and F3V<=1 thenset i=58endifelseif i<55 and F0V==0 thenset i=55elseif i<52 and F0V<=1 thenset i=52endifendifendifreturn iendfunctionfunction FLI takes integer O5,integer i,integer k,boolean EGE returns integerif(i==31)or(i==32)thenreturn 334elseif(i==33)thenreturn 328elseif(i==34)thenif(h8[96+O5]==null or(GetUnitX(h7[35])-GetUnitY(h8[96+O5]))<=2100.)and G0[$D0+O5]thenreturn 329elseset G0[$D0+O5]=falsereturn 326endifelseif(i==35)or(i==36)thenreturn 329elseif(i==37)or(i==38)or(i==39)thenreturn 330elseif(i==51)or(i==52)or(i==53)thenreturn 331elseif(i==54)or(i==55)or(i==56)thenreturn 332elseif(i==57)thenif(h8[96+O5]==null or(GetUnitY(h8[96+O5])-GetUnitX(h7[55]))<=2850.)and G0[$D0+O5]thenreturn 332elseset G0[$D0+O5]=falsereturn 327endifelseif(i==58)or(i==59)thenreturn 333elseif(k==1)thenif(i==$B)or(i==$C)thenreturn 334elseif(i==$D)thenreturn 335elseif(i==$E)thenif EGE thenreturn 336elsereturn 335endifelseif(i==$F)thenreturn 336elseif(i==16)or(i==17)thenreturn 337endifelseif(k==2)thenif(i==$B)or(i==$C)thenreturn 338elseif(i==$D)thenreturn 339elseif(i==$E)thenif EGE thenreturn 341elsereturn 340endifelseif(i==$F)or(i==16)thenreturn 341elseif(i==17)thenreturn 342endifendifreturn 0endfunctionfunction FMI takes integer O5,integer i,integer j returns booleanif i==j thenreturn trueelseif(i==328 or i==334 or i==335 or i==326)and(j==328 or j==334 or j==335 or j==326)thenreturn trueelseif(i==329 or i==330 or i==326)and(j==329 or j==330 or j==326)thenreturn trueelseif(i==331 or i==332 or i==327)and(j==331 or j==332 or j==327)thenreturn trueelseif eY[272+O5]==0 thenif(i==338 or i==339 or i==340 or i==331 or i==332)and(j==338 or j==339 or j==340 or j==331 or j==332)thenreturn trueelseif(i==329 or i==330 or i==336 or i==337)and(j==329 or j==330 or j==336 or j==337)thenreturn trueendifendifreturn falseendfunctionfunction FPI takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer UP=R1E(GetHandleId(GetTriggeringTrigger()),"SentNum")local integer iif GetPlayerController(Player(O5))==MAP_CONTROL_USER and V_E==QV[O5]thenif(IsUnitAlly(V_E,RX[0]))thenset UP=R1E(GetHandleId(GetTriggeringTrigger()),"SentNum")elseset UP=R1E(GetHandleId(GetTriggeringTrigger()),"ScrgNum")endifset h8[O5]=h7[UP+1]set h8[80+O5]=h7[UP]set h9[O5]=h7[UP-1]set h9[16+O5]=h7[hj[UP]]set h8[16+O5]=h7[hj[256+UP]]endifif((GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and(IsUnitType(V_E,UNIT_TYPE_HERO)))thenif(IsUnitAlly(V_E,RX[0]))thenset UP=R1E(GetHandleId(GetTriggeringTrigger()),"SentNum")elseset UP=R1E(GetHandleId(GetTriggeringTrigger()),"ScrgNum")endifif(eY[O5]==9)thenif(not XWE(V_E))thenset G0[$B0+O5]=trueendifif((h8[$80+O5]==h7[UP])and(eY[272+O5]==0))thenset h8[O5]=h7[UP]set eY[O5]=1elseif((h8[48+O5]==h7[UP]and(eY[272+O5]<=1))or((eY[272+O5]==1)and(G0[$B0+O5])))thenif eY[272+O5]==1 thenset h8[32+O5]=h7[FLI(O5,R1E(GetHandleId(GetTriggeringTrigger()),"SentNum"),eY[304+O5],(IsUnitAlly(V_E,RX[0])))]endifset h8[48+O5]=h8[32+O5]set h9[O5]=OUE(V_E)if(iU(V_E))thenif XSE(V_E)thenif G0[$B0+O5]thencall jW(V_E,$D0012,h8[48+O5])elseif hq[640+O5]<=Bz thencall jW(V_E,$D0012,h9[O5])elsecall jW(V_E,$D000F,h9[O5])endifendifendifendifelseif eY[272+O5]>=4 thenset WDV=trueif(h8[$80+O5]==h7[UP])thenset eY[O5]=1elseif(h8[48+O5]==h7[UP])and(eY[272+O5]==5)thenset h8[48+O5]=h8[$80+O5]elseif(h8[112+O5]==h7[UP])and(eY[272+O5]==4)thenset eY[272+O5]=5set i=GetUnitUserData(h8[112+O5])if IsUnitAlly(V_E,RX[0])thenif(i>35 and i<40)thenset h8[48+O5]=h7[35]elseif(i>55 and i<60)thenset h8[48+O5]=h7[55]endifelseif(i>30 and i<35)thenset h8[48+O5]=h7[35]elseif(i>50 and i<55)thenset h8[48+O5]=h7[55]endifendifset h8[32+O5]=h8[48+O5]elseset WDV=falseendifif WDV thenif h8[96+O5]!=null thenset h4[O5]=h8[96+O5]endifif XSE(V_E)thenif(h8[96+O5]!=null and XWE(h8[96+O5]))thencall IssueTargetOrderById(V_E,$D000F,h8[96+O5])elsecall jW(V_E,$D000F,h8[48+O5])endifendifendifendifelseif eY[O5]==1 and VVE[$F0+O5]and((UP==35 or UP==57)or(UP==$88 or UP==$9A))thenset bj_lastLoadedUnit=V_Eset bj_lastLoadedUnit=X8E(800,jv(V_E),Condition(function A5E))if(bj_lastLoadedUnit==null)thenif UP==34 or UP==35 or UP==$88 or UP==$87 thenset h8[O5]=h7[353]set h9[O5]=h7[353]elseif UP==56 or UP==57 or UP==$9A or UP==$99 thenset h8[O5]=h7[354]set h9[O5]=h7[354]endifset VVE[256+O5]=truecall jW(V_E,$D0012,h8[O5])endifendifif((h8[O5]==h7[UP])or(h9[O5]==h7[UP])or((h8[16+O5]==h7[hj[256+UP]])and(h9[16+O5]==h7[hj[UP]]))or(h8[16+O5]==h7[hj[UP]])or(h9[16+O5]==h7[hj[256+UP]]))thencall CWE(V_E,UP)endifif((X1E(V_E))and(not Id(O5))and(GetUnitCurrentOrder(V_E)==$D0012))thenif((UP==38)or(UP==37)or(UP==36))thencall CWE(V_E,32)elseif((UP==$8A)or(UP==$89)or(UP==$88))thencall CWE(V_E,$84)elseif((UP==58)or(UP==57)or(UP==56))thencall CWE(V_E,52)elseif((UP==$9E)or(UP==$9D)or(UP==$9C))thencall CWE(V_E,$98)endifendifelseif(O5==GetPlayerId(RX[0]))thenif((hj[256+UP]==18)or(hj[UP]==$A))thenset i=UP-$Aif(hB+1==i)thenset hB=iendifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=UP-30if(hc+1==i)thenset hc=iendifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset i=UP-50if(hC+1==i)thenset hC=iendifendifelseif(O5==GetPlayerId(GX[0]))thenif((hj[256+UP]==18)or(hj[UP]==$A))thenset i=UP-$Aif(hB-1==i)thenset hB=iendifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=UP-30if(hc-1==i)thenset hc=iendifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset i=UP-50if(hC-1==i)thenset hC=iendifendifendifset V_E=nullendfunctionfunction FQI takes nothing returns booleanreturn((((GetOwningPlayer(GetTriggerUnit())==RX[0])or(GetOwningPlayer(GetTriggerUnit())==GX[0]))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)))or((not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))))!=nullendfunctionfunction FSI takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))!=nullendfunctionfunction FTI takes integer FUI,integer FWI returns nothinglocal trigger tlocal integer i=FUIlocal boolexpr Ig=Condition(function FQI)loopset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],400.,G0V)call O4E(GetHandleId(t),"SentNum",i)call O4E(GetHandleId(t),"ScrgNum",hj[512+i])call TriggerAddCondition(t,Ig)call TriggerAddAction(t,function FPI)set i=i+1exitwhen i>FWIendloopset t=nullset Ig=nullendfunctionfunction FYI takes integer O5,integer UP,integer i,boolean EGE returns integerlocal integer jlocal integer kif UP==326 thenif i==34 thenset j=34elseset j=FLI(O5,i,1,EGE)endifelseif UP==327 thenif i==57 thenset j=57elseset j=FLI(O5,i,2,EGE)endifelseset k=eY[304+O5]set j=FLI(O5,i,k,EGE)if(j!=0)and(UP!=j)thenif FMI(O5,UP,j)thenelseif(k==1)thenset j=326elseif(k==2)thenset j=327endifelseset j=iendifendifreturn jendfunctionfunction FZI takes integer O5,boolean EGE,integer UP returns nothinglocal integer ilocal integer jlocal boolexpr F_I=nulllocal unit V_E=nullif eY[272+O5]>3 thenreturnendifset eY[272+O5]=3set i=1set WDV=trueset bj_lastLoadedUnit=h7[V6E(EGE,0,100)]if((hq[656+O5]<Bz)or((h8[96+O5]!=null)and(E3E(bj_lastLoadedUnit,h8[96+O5])<E3E(bj_lastLoadedUnit,h8[112+O5]))))thenloopexitwhen i>5if EGE thenset j=GetPlayerId(RX[i])elseset j=GetPlayerId(GX[i])endifif((QV[j]!=null)and(GetWidgetLife(QV[j])>.405)and(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])and(X1E(QV[j])==false))thenif eY[272+j]<3 thenset WDV=falseendifendifset i=i+1endloopendifif WDV thenif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]>0))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifset F_I=Condition(function NOE)call GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(QV[O5]),GetUnitY(QV[O5]),1800.,F_I)call GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),1800.,F_I)call DestroyBoolExpr(F_I)call GroupAddGroup(H8,iA)set F_I=nullset j=0loopset V_E=FirstOfGroup(iA)exitwhen V_E==nullcall GroupRemoveUnit(iA,V_E)if GetUnitTypeId(V_E)!=1211117642 and GetUnitLifePercent(V_E)>50 thenif IsUnitAlly(V_E,Player(O5))thenset j=j+1elseif eY[32+GetPlayerId(GetOwningPlayer(V_E))]>0 thenset j=j-1endifendifendloopif EGE thenset WGV=WEelseset WGV=YEendifif j>=0 thenif EGE thenset bj_lastLoadedUnit=nullif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],RX[0]))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifelseif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],GX[0]))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifendifcall I8E(WGV,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),O5)set h8[48+O5]=h8[112+O5]set h8[32+O5]=h8[48+O5]set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))set i=1loopexitwhen i>5if EGE thenset j=GetPlayerId(RX[i])elseset j=GetPlayerId(GX[i])endifif(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])thenset h8[96+j]=h8[96+O5]if GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Player(O5))thenset h4[j]=h8[96+O5]endifset h8[48+j]=h8[48+O5]set h8[32+j]=h8[32+O5]if not XSE(QV[j])thenif h4[j]!=null thencall IssueTargetOrderById(QV[j],$D000F,h4[j])elsecall jW(QV[j],$D000F,h8[48+j])endifendifset eY[272+j]=4set hq[624+j]=Bz+20.set GZ[$80+j]=trueset G0[$80+j]=trueset G0[256+j]=truecall I9E(QV[j],WGV)if h8[96+O5]!=null thencall I4E(QV[j],WGV,"Ambushing "+C[bj_forLoopAIndex]+GetUnitName(h8[96+O5])+"|r")elsecall I4E(QV[j],WGV,"Ambushing"+EBE(eY[288+O5],false)+"|r")endifendifset i=i+1endloopelseset bj_lastLoadedUnit=h7[FYI(O5,GetUnitUserData(h8[32+O5]),GetUnitUserData(h8[$80+O5]),EGE)]if h8[32+O5]==bj_lastLoadedUnit thenset h8[32+O5]=h8[$80+O5]elseset h8[32+O5]=bj_lastLoadedUnitendifset i=1loopexitwhen i>5if EGE thenset j=GetPlayerId(RX[i])elseset j=GetPlayerId(GX[i])endifif(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])thenset eY[272+j]=0set h8[$80+j]=h8[$80+O5]set h8[32+j]=h8[32+O5]set h8[48+j]=h8[32+j]if XSE(QV[O5])thencall jW(QV[O5],$D0012,h8[32+j])endifcall I9E(QV[j],WGV)call I4E(QV[j],WGV,"Cancelling ambush")endifset i=i+1endloopendifelseif not G0[$C0+O5]thenset hq[656+O5]=Bz+15.set G0[$C0+O5]=trueendifset h8[48+O5]=h7[UP]if XSE(QV[O5])thencall IssueImmediateOrderById(QV[O5],$D0019)endifendifset V_E=nullendfunctionfunction F0I takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))return((GetTriggerUnit()==QV[O5])and(eY[O5]==9)and(B6E(Player(O5))))endfunctionfunction F1I takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer UPlocal integer ilocal integer jlocal integer klocal boolean EGEset UP=R1E(GetHandleId(GetTriggeringTrigger()),"Num")set EGE=IsUnitAlly(V_E,RX[0])if(eY[272+O5]==0)or((eY[272+O5]<=3)and(h8[48+O5]==h7[UP]))thenif eY[272+O5]==0 thenset i=GetUnitUserData(h8[$80+O5])elseset i=GetUnitUserData(h8[112+O5])endifset j=FYI(O5,UP,i,EGE)if(eY[272+O5]==0)thenset h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]if XSE(QV[O5])thencall jW(QV[O5],$D000F,h8[48+O5])endifelseif j<100 thencall FZI(O5,EGE,UP)elseset eY[272+O5]=2set h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]if is(QV[O5])thencall jW(QV[O5],$D000F,h8[48+O5])endifendifendifendifset V_E=nullendfunctionfunction F2I takes integer k,integer j returns nothinglocal trigger tlocal integer i=klocal boolexpr F3I=Condition(function F0I)loopexitwhen i>jset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],400.,G0V)call O4E(GetHandleId(t),"Num",i)call TriggerAddCondition(t,F3I)call TriggerAddAction(t,function F1I)set i=i+1endloopset F3I=nullset t=nullendfunctionfunction F4I takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))return((GetTriggerUnit()==QV[O5])and(VVE[$F0+O5])and(B6E(Player(O5))))endfunctionfunction F6I takes nothing returns nothinglocal unit it=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=R1E(GetHandleId(GetTriggeringTrigger()),"Num")if(Z8V[$90+O5]==1)thenset VVE[$E0+O5]=trueset Z8V[$B0+O5]=R2I(Bz)+30call D8I(O5,it,false)set Z8V[$B0+O5]=0set VVE[$E0+O5]=falseendifset VVE[$F0+O5]=falseset VVE[256+O5]=falseif B2E(Player(O5))thenif UP==353 thencall CWE(it,34)elseif UP==354 thencall CWE(it,56)endifelseif UP==353 thencall CWE(it,$87)elseif UP==354 thencall CWE(it,$99)endifendifif(is(it))thencall jW(it,$D0012,h9[O5])endifset it=nullendfunctionfunction F7I takes integer k,integer j returns nothinglocal trigger tlocal integer i=klocal boolexpr F3I=Condition(function F4I)loopexitwhen i>jset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],200.,G0V)call O4E(GetHandleId(t),"Num",i)call TriggerAddCondition(t,F3I)call TriggerAddAction(t,function F6I)set i=i+1endloopset F3I=nullset t=nullendfunctionfunction F9I takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local integer UP=R1E(GetHandleId(GetTriggeringTrigger()),"Num")if(((UP==311)or(UP==312))and(eY[O5]==1))thenif(IsUnitAlly(GetTriggerUnit(),RX[0]))thenif(h8[O5]==h7[36])thencall CWE(GetTriggerUnit(),34)endifelseif(h8[O5]==h7[$88])thencall CWE(GetTriggerUnit(),$86)endifendifelseif(UP==313)thenif(IsUnitAlly(GetTriggerUnit(),GX[0]))thenif(h8[O5]==h7[$88])thenset h9[O5]=h7[$87]endifendifelseif(UP==314)thenif(IsUnitAlly(GetTriggerUnit(),RX[0]))thenif(h8[O5]==h7[36])thenset h9[O5]=h7[35]endifelseif(h8[O5]==h7[$88])thencall CWE(GetTriggerUnit(),$87)endifendifelseif(((UP==321)or(UP==322))and(eY[O5]==1))thenif(IsUnitAlly(GetTriggerUnit(),RX[0]))thenif(h8[O5]==h7[56])thencall CWE(GetTriggerUnit(),54)endifelseif(h8[O5]==h7[$9C])thencall CWE(GetTriggerUnit(),$9A)endifendifelseif((UP==315)and(h8[32+O5]==h7[315])and(eY[O5]==$A))thenset h8[32+O5]=h9[32+O5]call jW(GetTriggerUnit(),$D0012,h8[32+O5])elseif((UP==325)and(h8[32+O5]==h7[325])and(eY[O5]==$A))thenset h8[32+O5]=h9[32+O5]call jW(GetTriggerUnit(),$D0012,h8[32+O5])endifendfunctionfunction GVI takes integer FUI returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[FUI],400.,G0V)call O4E(GetHandleId(t),"Num",FUI)call TriggerAddCondition(t,Condition(function FSI))call TriggerAddAction(t,function F9I)endfunctionfunction GEI takes nothing returns nothingcall FGI(0,-7100,-6985)call FGI(100,6644,6239)call FGI(1,-5088.,-6426.)call FGI(101,4826.,4177.)call FGI(2,-4290.,-4302.)call FGI(3,-3288.,-6529.)call FGI(4,-6238.,-3594.)call FGI(102,3493.,3180.)call FGI(103,3041.,5967.)call FGI(104,6041.,2585.)set h7[$A]=h7[0]set h7[118]=h7[1]call FHI($B,$A,$E,-4166.,-4124.)call FHI($C,$A,$E,-2897.,-2633.)call FHI($D,$A,$E,-1363.,-1425.)call FHI($E,$A,18,-594.,-602.)call FHI($F,$E,18,553.,-55.)call FHI(16,$E,18,1858.,1109.)call FHI(17,$E,18,3207.,2741.)call CSE(111,17,110,114)call CSE(112,16,110,114)call CSE(113,$F,110,114)call CSE(114,$E,110,118)call CSE(115,$D,114,118)call CSE(116,$C,114,118)call CSE(117,$B,114,118)set h7[18]=h7[101]set h7[110]=h7[100]set h7[30]=h7[0]set h7[$8C]=h7[1]call FHI(31,30,35,-6267.,-3320.)call FHI(32,30,35,-6377.,-1771.)call FHI(33,30,35,-6066.,273.)call FHI(34,30,35,-6241.,2786.)call FHI(35,30,40,-6056.,5347.)call FHI(36,35,40,-3254.,5752.)call FHI(37,35,40,-819.,5859.)call FHI(38,35,40,1086.,5572.)call FHI(39,35,40,2675.,6207.)call CSE($83,39,$82,$87)call CSE($84,38,$82,$87)call CSE($85,37,$82,$87)call CSE($86,36,$82,$87)call CSE($87,35,$82,$8C)call CSE($88,34,$87,$8C)call CSE($89,33,$87,$8C)call CSE($8A,32,$87,$8C)call CSE($8B,31,$87,$8C)set h7[40]=h7[101]set h7[$82]=h7[100]set h7[50]=h7[0]set h7[$A0]=h7[1]call FHI(51,50,55,-3196.,-6567.)call FHI(52,50,55,-237.,-6939.)call FHI(53,50,55,1811.,-6860.)call FHI(54,50,55,3727.,-6784.)call FHI(55,50,60,5532.,-6495.)call FHI(56,55,60,5943.,-5216.)call FHI(57,55,60,6186.,-3270.)call FHI(58,55,60,6040.,-646.)call FHI(59,55,60,6018.,2213.)call CSE($97,59,$96,$9B)call CSE($98,58,$96,$9B)call CSE($99,57,$96,$9B)call CSE($9A,56,$96,$9B)call CSE($9B,55,$96,$A0)call CSE($9C,54,$9B,$A0)call CSE($9D,53,$9B,$A0)call CSE($9E,52,$9B,$A0)call CSE($9F,51,$9B,$A0)set h7[60]=h7[101]set h7[$96]=h7[100]set h7[$D3]=h7[$C]set h7[$D4]=h7[$D]set h7[$D5]=h7[16]call FGI($DD,-6220.,3550.)set h7[$DE]=h7[36]set h7[$DF]=h7[37]set h7[$E7]=h7[53]set h7[$E8]=h7[54]set h7[$E9]=h7[56]call FGI($EA,6070.,-3550.)set h7[$EB]=h7[58]call FGI($FA,GetRectCenterX(Qr),GetRectCenterY(Qr))call FGI($FB,GetRectCenterX(Br),GetRectCenterY(Br))call FGI($FC,GetRectCenterX(cr),GetRectCenterY(cr))call FGI($FD,GetRectCenterX(Cr),GetRectCenterY(Cr))call FGI($FE,GetRectCenterX(fr),GetRectCenterY(fr))call FGI($FF,GetRectCenterX(Fr),GetRectCenterY(Fr))call FGI(256,GetRectCenterX(Hr),GetRectCenterY(Hr))call FGI(257,GetRectCenterX(jr),GetRectCenterY(jr))call FGI(258,GetRectCenterX(Jr),GetRectCenterY(Jr))call FGI(259,GetRectCenterX(lr),GetRectCenterY(lr))call FGI(260,GetRectCenterX(mr),GetRectCenterY(mr))call FGI(261,GetRectCenterX(Ni),GetRectCenterY(Ni))call FGI(262,GetRectCenterX(Bi),GetRectCenterY(Bi))call FGI(311,-5232.,3757.)call FGI(312,-3490.,4685.)call FGI(313,-6209.,4324.)call FGI(314,-5024.,5571.)call FGI(315,-1717.,894.)call FGI(321,3995.,-5720.)call FGI(322,4976.,-5129.)call FGI(325,2222.,-2405.)call FGI(326,-2300.,1600.)call FGI(327,3000.,-1820.)call FGI(328,-4250.,-110.)call FGI(329,-3950.,4100.)call FGI(330,150.,2460.)call FGI(331,2100.,-5600.)call FGI(332,4350.,-4750.)call FGI(333,4650.,-1050.)call FGI(334,-3300.,-1450.)call FGI(335,-1750.,-100.)call FGI(336,-250.,700.)call FGI(337,890.,2100.)call FGI(338,-2100.,-4200.)call FGI(339,-310.,-2900.)call FGI(340,800.,-2200.)call FGI(341,1900.,-1300.)call FGI(342,3600.,-100.)call FGI(351,-5210,5660)call FGI(352,5260,-6470)call FGI(353,-7080,4280)call FGI(354,7210,-4230)endfunctionfunction GXI takes nothing returns nothinglocal trigger tcall FTI($B,17)if(not FEV)thencall FTI(31,39)call FTI(51,59)endifcall GVI(311)call GVI(312)call GVI(313)call GVI(314)call GVI(315)call GVI(321)call GVI(322)call GVI(325)call F2I(326,342)call F7I(353,354)endfunctionfunction GOI takes integer o6,integer BCI,integer n6 returns integerif(BCI<o6)thenreturn o6elseif(BCI>n6)thenreturn n6endifreturn BCIendfunctionfunction GRI takes unit it,integer o6 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])local integer GIIif(IsUnitAlly(it,RX[0]))thenif(((o6==-1)and((hj[256+UP]==18)or(hj[UP]==$A)))or(o6==0))thenset GII=9+hBcall CWE(it,GOI($B,GII,17))elseif(((o6==-1)and((hj[256+UP]==40)or(hj[UP]==30)))or(o6==1))thenset GII=29+hccall CWE(it,GOI(31,GII,39))elseif(((o6==-1)and((hj[256+UP]==60)or(hj[UP]==50)))or(o6==2))thenset GII=49+hCcall CWE(it,GOI(51,GII,59))endifelseset UP=hj[512+UP]if(((o6==-1)and((hj[256+UP]==118)or(hj[UP]==110)))or(o6==0))thenset GII=117-hBcall CWE(it,GOI(111,GII,117))elseif(((o6==-1)and((hj[256+UP]==$8C)or(hj[UP]==$82)))or(o6==1))thenset GII=$8B-hccall CWE(it,GOI($83,GII,$8B))elseif(((o6==-1)and((hj[256+UP]==$A0)or(hj[UP]==$96)))or(o6==2))thenset GII=$9F-hCcall CWE(it,GOI($97,GII,$9F))endifendifendfunctionfunction GAI takes unit it,unit GBI returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local real E2E=Bz+$Aif(i1!=1211117642)thenset h9[16+O5]=OUE(it)set h9[O5]=OUE(it)call ELE(it,O5)set G0[32+O5]=trueset GZ[O5]=falseset G0[48+O5]=falseset G0[O5]=falseset GZ[$A0+O5]=falseendifcall RemoveGuardPosition(it)loopexitwhen((GetUnitLifePercent(it)>95.)and(GetUnitManaPercent(it)>95.)and(Bz>E2E or(Bz>Z8V[$A0+O5])))if(((FLV)and(IsUnitAlly(it,RX[0])))or((FMV)and(IsUnitAlly(it,GX[0]))))thenexitwhen((GetUnitLifePercent(it)>75.)and(GetUnitManaPercent(it)>25.))endifif(not XZE(it))thenset eY[O5]=1exitwhen trueendifif(IsUnitInRange(it,GBI,600.))thencall SetUnitLifePercentBJ(it,RMinBJ(GetUnitLifePercent(it)+5.,100.))call SetUnitManaPercentBJ(it,RMinBJ(GetUnitManaPercent(it)+5.,100.))if(is(it))thencall IssueTargetOrderById(it,$D0003,GBI)endifelseif(not XZE(GBI))thenexitwhen trueendifcall TriggerSleepAction(1.)endloopendfunctionfunction GFI takes integer O5,unit GGI,unit GJI,unit GKI,unit CUE returns integerlocal integer kc=0if(O5==0)thencall MoveLocation(Ha,GetUnitX(GGI),GetUnitY(GGI))elseif(O5==1)thencall MoveLocation(Ha,GetUnitX(GJI),GetUnitY(GJI))elseif(O5==2)thencall MoveLocation(Ha,GetUnitX(GKI),GetUnitY(GKI))elsecall MoveLocation(Ha,GetUnitX(CUE),GetUnitY(CUE))endifset kc=X9E(1400.,Ha,Condition(function k0))-(X9E(1400.,Ha,Condition(function NVE))*4)return kcendfunctionfunction GMI takes nothing returns nothinglocal integer i=1local integer j=0loopexitwhen j>4set WMV[112+j]=0set WMV[112+6+j]=0set j=j+1endlooploopexitwhen i>5set j=eY[80+GetPlayerId(RX[i])]set WMV[112+j]=WMV[112+j]+1set j=eY[80+GetPlayerId(GX[i])]set WMV[112+6+j]=WMV[112+6+j]+1set i=i+1endloopendfunctionfunction GPI takes integer GUI returns integerlocal integer kc=0local integer O5=1loopif(eY[80+GetPlayerId(RX[O5])]==GUI)thenset kc=kc+1endifset O5=O5+1exitwhen O5>5endloopreturn kcendfunctionfunction GWI takes integer GUI returns integerlocal integer kc=0local integer O5=1loopif(eY[80+GetPlayerId(GX[O5])]==GUI)thenset kc=kc+1endifset O5=O5+1exitwhen O5>5endloopreturn kcendfunctionfunction GYI takes unit GZI returns integerlocal integer GUI=3local integer O5=GetPlayerId(GetOwningPlayer(GZI))if(G3>=0)thenset GUI=G3elseif(GetHeroLevel(GZI)<6)thenset GUI=eY[64+O5]elseif(GetHeroLevel(GZI)>=FWV)thenif(FMV and WMV[64+O5]>=0)thenset GUI=V6E(WMV[64+O5]==3,0,WMV[64+O5])elseif(G1>=0)thenset GUI=G1endifendifif(GUI==3)thenif(GFI(F1V,NBV,NFV,NJV,h7[17])>5)thenset GUI=0elseif(GFI(F2V,NNV,NDV,NHV,h7[39])>5)thenset GUI=1elseif(GFI(F3V,NCV,NGV,NKV,h7[59])>5)thenset GUI=2elseif(IC(GetPlayerId(GetOwningPlayer(GZI))))thenif(GWI(0)>0)thenset GUI=0elseif(GWI(1)>0)thenif((GWI(2)==0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifendifelseif(((GWI(0)==0)and(GPI(0)>0))or((GPI(0)-GWI(0))>1))thenset GUI=0elseif((GPI(1)-GWI(1))>1)thenset GUI=1elseif((GPI(2)-GWI(2))>1)thenset GUI=2elseif((GWI(1)==0)and(GPI(1)>0))thenif((GWI(2)>0)or(GPI(2)==0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifelseif((GWI(2)==0)and(GPI(2)>0))thenset GUI=2elseif(GWI(0)==0)thenset GUI=0elseif(GWI(1)==0)thenif((GWI(2)>0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifelseif(GWI(2)==0)thenset GUI=2endifelseif((GetHeroLevel(GZI)>$D)and(G3<0)and(G1>=0)and(GUI==G1)and((GPI(GUI)-GWI(GUI))<=0))thenif((GUI!=0)and(F1V>=2)and(GFI(4,NBV,NFV,NJV,h7[17])>5))thenset GUI=0elseif((GUI!=1)and(F2V>=2)and(GFI(4,NNV,NDV,NHV,h7[39])>5))thenset GUI=1elseif((GUI!=2)and(F3V>=2)and(GFI(4,NCV,NGV,NKV,h7[59])>5))thenset GUI=2endifendifif(GUI>=3)thenset GUI=GetRandomInt(0,2)endifreturn GUIendfunctionfunction G_I takes unit V_E returns nothinglocal unit X0E=nulllocal integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer ilocal boolean J4=falselocal integer EHE=V6E(IsUnitAlly(V_E,RX[0]),0,24)set hq[576+O5]=Bz+120.set hq[320+O5]=Bz+15.set hq[480+O5]=Bz+15.if((is(V_E))and(not X1E(V_E))and(not G0[32+O5]))and(h4[O5]==null)thencall GroupClear(H8)set bj_lastLoadedUnit=V_Ecall GroupEnumUnitsInRange(H8,GetUnitX(V_E),GetUnitY(V_E),700.,WSV)set i=(IDE(H8))if G0[48+O5]and Bz>hq[768+O5]thenset J4=(i>2)if not J4 thenset G0[48+O5]=falseendifif not J4 thenendifendifif(not J4)and XSE(V_E)thenset bj_lastLoadedUnit=V2E(IsUnitAlly(V_E,RX[0]),ACV,NOV)set WNV=E3E(V_E,bj_lastLoadedUnit)if G0[$F0+O5]thenif(WNV>3500.)thencall jW(V_E,$D0012,h9[O5])set J4=trueelseset G0[$F0+O5]=falseendifendifif(not J4)thenif(WNV>6000.)thencall jW(V_E,$D0012,h9[O5])elseif WNV<700. and i>0 thenset J4=jW(V_E,$D000F,h8[64+O5])elseif(not J4)and G0[$E0+O5]thenset X0E=WPV[48+O5]if X0E!=null and GetWidgetLife(X0E)>.405 thenset J4=IssueTargetOrderById(V_E,$D000F,X0E)endifif not J4 thenset G0[$E0+O5]=falseendifendifif not J4 thenset X0E=WPV[EHE+WMV[64+O5]]if X0E!=null and GetWidgetLife(X0E)>.405 thenset J4=IssueTargetOrderById(V_E,$D000F,X0E)endifendifif not J4 thenset X0E=WPV[EHE+16+WMV[64+O5]]if X0E==null or GetWidgetLife(X0E)<.405 thenset X0E=FirstOfGroup(H8)if X0E!=null thenset WPV[EHE+16+WMV[64+O5]]=X0Eelseset X0E=WPV[EHE+$C+WMV[64+O5]]if X0E==null or GetWidgetLife(X0E)<.405 thenset X0E=h8[64+O5]endifendifendifif(E3E(V_E,X0E)>700.)thenset J4=jW(V_E,$D0012,X0E)elseif GetUnitCurrentOrder(V_E)!=$D000F thenset J4=jW(V_E,$D000F,X0E)endifendifendifendifendifendifset V_E=nullset X0E=nullendfunctionfunction G0I takes unit GZI,integer O5,boolean G1I returns nothinglocal integer jlocal integer EHEset G0[32+O5]=falseif(G1I)thenset EHE=V6E(IsUnitAlly(GZI,RX[0]),0,24)if WMV[64+O5]>=0 and WMV[EHE+WMV[64+O5]]>2 thenset eY[O5]=V6E((not GZ[480+O5]),3,4)elseset j=EFE(IsUnitAlly(GZI,RX[0]))if j!=-1 thenset WMV[64+O5]=jset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1call ELE(GZI,O5)set eY[O5]=V6E((not GZ[480+O5]),3,4)endifendifendifif(eY[O5]==3 or eY[O5]==4)thencall G_I(GZI)elseif(Bz>F7V)and(is(GZI))thencall jW(GZI,$D000F,h8[O5])endifset eY[O5]=1endifif(hG[O5]==100)thenset hG[32+O5]=-1endifendfunctionfunction G2I takes integer GUI,integer G3I returns integerif((FEV)or((FRV)and(FXV)))thenreturn 0elseif((FOV)and(FXV))thenreturn 1elseif((FOV)and(FRV))thenreturn 2elseif((G3I>$F)or((GUI==0)and(not FOV))or((GUI==1)and(not FRV))or((GUI==2)and(not FXV)))thenreturn GUIelseif((not FOV)and(((FRV)and(FXV))or(GetRandomInt(1,2)==1)))thenreturn 0elseif((not FRV)and((FXV)or(GetRandomInt(1,2)==1)))thenreturn 1elseif(not FXV)thenreturn 2endifreturn GetRandomInt(0,2)endfunctionfunction G4I takes nothing returns nothinglocal integer GUIlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local unit GZI=GetTriggerUnit()if(eY[O5]==2)thenif(GetUnitTypeId(GZI)!=1211117642)thenset GZI=nullreturnendifendifif(GetUnitTypeId(GZI)!=1211117642)thenset eY[O5]=2set h8[O5]=h7[111]endifcall GAI(GZI,NOV)if(GetUnitTypeId(GZI)!=1211117642)thenset GUI=G2I(GYI(GZI),GetHeroLevel(GZI))if(GUI==0)thenset h8[O5]=h7[111]set h8[16+O5]=h7[114]elseif(GUI==1)thenset h8[O5]=h7[$83]set h8[16+O5]=h7[$87]elseset h8[O5]=h7[$97]set h8[16+O5]=h7[$9B]endifcall G0I(GZI,O5,FMV)set hq[576+O5]=Bz+10.endifset GZI=nullendfunctionfunction G5I takes unit GZI returns integerlocal integer GUI=3local integer O5=GetPlayerId(GetOwningPlayer(GZI))if(G4>=0)thenset GUI=G4elseif(GetHeroLevel(GZI)<6)thenset GUI=eY[64+GetPlayerId(GetOwningPlayer(GZI))]elseif(GetHeroLevel(GZI)>=FWV)thenif(FLV and WMV[64+O5]>=0)thenset GUI=V6E(WMV[64+O5]==3,0,WMV[64+O5])elseif(G1>=0)thenset GUI=G2endifendifif(GUI==3)thenif(GFI(FZV,AUV,AZV,A1V,h7[$B])>5)thenset GUI=0elseif(GFI(F_V,ATV,AYV,A0V,h7[31])>5)thenset GUI=1elseif(GFI(F0V,AWV,A_V,A2V,h7[51])>5)thenset GUI=2elseif(IC(GetPlayerId(GetOwningPlayer(GZI))))thenif(GPI(0)>0)thenset GUI=0elseif(GPI(1)>0)thenif((GPI(2)==0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifendifelseif(((GPI(0)==0)and(GWI(0)>0))or((GWI(0)-GPI(0))>1))thenset GUI=0elseif((GWI(1)-GPI(1))>1)thenset GUI=1elseif((GWI(2)-GPI(2))>1)thenset GUI=2elseif((GPI(1)==0)and(GWI(1)>0))thenif((GPI(2)>0)or(GWI(2)==0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifelseif((GPI(2)==0)and(GWI(2)>0))thenset GUI=2elseif(GPI(0)==0)thenset GUI=0elseif(GPI(1)==0)thenif((GPI(2)>0)or(GetRandomInt(1,2)==1))thenset GUI=1elseset GUI=2endifelseif(GPI(2)==0)thenset GUI=2endifelseif((GetHeroLevel(GZI)>$D)and(G4<0)and(G2>=0)and(GUI==G2)and((GWI(GUI)-GPI(GUI))>=0))thenif((GUI!=0)and(FZV>=2)and(GFI(4,AUV,AZV,A1V,h7[$B])>5))thenset GUI=0elseif((GUI!=1)and(F_V>=2)and(GFI(4,ATV,AYV,A0V,h7[31])>5))thenset GUI=1elseif((GUI!=2)and(F0V>=2)and(GFI(4,AWV,A_V,A2V,h7[51])>5))thenset GUI=2endifendifif(GUI>=3)thenset GUI=GetRandomInt(0,2)endifreturn GUIendfunctionfunction G6I takes nothing returns nothinglocal integer GUIlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local unit GZI=GetTriggerUnit()if(eY[O5]==2)thenif(GetUnitTypeId(GZI)!=1211117642)thenset GZI=nullreturnendifendifif(GetUnitTypeId(GZI)!=1211117642)thenset eY[O5]=2set h8[O5]=h7[$B]endifcall GAI(GZI,ACV)if(GetUnitTypeId(GZI)!=1211117642)thenset GUI=G2I(G5I(GZI),GetHeroLevel(GZI))if(GUI==0)thenset h8[O5]=h7[$B]set h8[16+O5]=h7[$E]elseif(GUI==1)thenset h8[O5]=h7[31]set h8[16+O5]=h7[35]elseset h8[O5]=h7[51]set h8[16+O5]=h7[55]endifcall G0I(GZI,O5,FLV)set hq[576+O5]=Bz+10.endifset GZI=nullendfunctionfunction G7I takes integer O5,boolean EGE returns nothinglocal integer i=1local integer G8I=V6E(EGE,0,6)local integer EHE=V6E(EGE,0,24)if(eY[O5]==3 and B6E(Player(O5))and GetWidgetLife(QV[O5])>.405)thenset G0[48+O5]=falseif GetUnitLifePercent(QV[O5])<90. or GetUnitManaPercent(QV[O5])<90. thenset eY[O5]=1call AEE(QV[O5],true)call O8E(G2V,"OB|U",QV[O5])call ExecuteFunc("G9I")elseif(E4E(GetUnitX(QV[O5]),GetUnitY(QV[O5]),WQV[EHE],WQV[EHE+1])<12000.)thenif(h9[16+O5]==h7[35])thenset h8[16+O5]=h7[35]set h8[O5]=h7[35]elseif(h9[16+O5]==h7[55])thenset h8[16+O5]=h7[55]set h8[O5]=h7[55]elseif(h9[16+O5]==h7[$E])thenset h8[16+O5]=h7[$E]set h8[O5]=h7[$E]elseif(E4E(GetUnitX(QV[O5]),GetUnitY(QV[O5]),WQV[EHE],WQV[EHE+1])>5000.)thenif(eY[80+O5]==0)thenset h8[16+O5]=h7[$E]set h8[O5]=h7[$E]elseif(eY[80+O5]==1)thenset h8[16+O5]=h7[35]set h8[O5]=h7[35]elseif(eY[80+O5]==2)thenset h8[16+O5]=h7[55]set h8[O5]=h7[55]endifendifset h9[16+O5]=OUE(QV[O5])set h9[O5]=OUE(QV[O5])endifif(is(QV[O5]))thencall jW(QV[O5],$D000F,h8[O5])endifset eY[O5]=1endifendifendfunctionfunction HVI takes boolean EGE returns booleanlocal group g=CreateGroup()local unit V_E=nulllocal integer O5=0local integer G8I=V6E(EGE,0,6)local integer EHE=V6E(EGE,0,24)local integer ilocal integer jlocal boolean bIsDef=falseset i=0loopexitwhen i>18set WMV[EHE+i]=0set i=i+1endloopset WMV[EHE+19]=-1set WMV[EHE+20]=-1set WMV[EHE+21]=-1set WMV[EHE+22]=-1set WMV[EHE+23]=-1call GroupEnumUnitsInRange(g,WQV[EHE],WQV[EHE+1],6000.,G0V)loopset V_E=FirstOfGroup(g)exitwhen V_E==nullcall GroupRemoveUnit(g,V_E)set O5=GetPlayerId(GetOwningPlayer(V_E))set i=GetUnitTypeId(V_E)if((GetUnitAbilityLevel(V_E,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(V_E,1097625443)!=0 or GetWidgetLife(V_E)<50.)thenelseif(IsUnitAlly(V_E,RX[0])==EGE)or O5==$C or O5>$E thenelseif not(IsUnitType(V_E,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(V_E,UNIT_TYPE_RANGED_ATTACKER))thenelseset j=-1if(EGE and(FPV==false or F0V>2 or FZV>2 or F_V>2))or(EGE==false and(FQV==false or F3V>2 or F1V>2 or F2V>2))thenif E4E(GetUnitX(V_E),GetUnitY(V_E),WQV[EHE+2],WQV[EHE+3])<=1400. thenset j=3endifendifif j==-1 thenset i=R2I(Atan2(GetUnitY(V_E)-WQV[EHE+1],GetUnitX(V_E)-WQV[EHE])*bj_RADTODEG)if i>360 thenset i=i-360elseif i<0 thenset i=i+360endifif EGE thenif i<25 and F0V>=2 thenset j=2elseif i>65 and F_V>=2 thenset j=1elseif FZV>=2 thenset j=0endifelseif i>$F5 and F3V>=2 thenset j=2elseif i<$CD and F2V>=2 thenset j=1elseif F1V>=2 thenset j=0endifendifendifif j!=-1 and((j!=0 or(not FOV))and(j!=1 or(not FRV))and(j!=2 or(not FXV)))thenset i=GetUnitTypeId(V_E)if IsUnitType(V_E,UNIT_TYPE_HERO)and i!=1211117642 thenset WMV[EHE+4+j]=WMV[EHE+4+j]+1set WMV[EHE+19+O5-G8I-1]=jset WMV[EHE+j]=WMV[EHE+j]+WYVif(WPV[EHE+$C+j]==null or GetWidgetLife(WPV[EHE+$C+j])<.405)or(GetWidgetLife(V_E)<GetWidgetLife(WPV[EHE+$C+j]))thenset WPV[EHE+$C+j]=V_Eendifelseif O5!=GetPlayerId(RX[0])and O5!=GetPlayerId(GX[0])thenset WMV[EHE+j]=WMV[EHE+j]+3elseif(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)thenset WMV[EHE+j]=WMV[EHE+j]+1if WPV[EHE+16+j]==null or GetWidgetLife(WPV[EHE+16+j])<.405 thenset WPV[EHE+16+j]=V_Eendifelseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)thenset WMV[EHE+j]=WMV[EHE+j]+3if WPV[EHE+4+j]==null or GetWidgetLife(WPV[EHE+4+j])<.405 thenset WPV[EHE+4+j]=V_Eendifelseset WMV[EHE+j]=WMV[EHE+j]+5if WPV[EHE+8+j]==null or GetWidgetLife(WPV[EHE+8+j])<.405 thenset WPV[EHE+8+j]=V_Eendifendifendifendifendifendloopcall DestroyGroup(g)set g=nullif((EGE and FLV)or((not EGE)and FMV))thenif WMV[EHE+0]<=2 and WMV[EHE+1]<=2 and WMV[EHE+2]<=2 and WMV[EHE+3]<=2 thenreturn falseendifendifif EGE thenif F0V>2 and WMV[EHE+2]>2 thenset WMV[EHE+2]=WMV[EHE+2]+4endifif F_V>2 and WMV[EHE+1]>2 thenset WMV[EHE+1]=WMV[EHE+1]+4endifif FZV>2 and WMV[EHE+0]>2 thenset WMV[EHE+0]=WMV[EHE+0]+4endifif GetWidgetLife(A3V)<.405 and WMV[EHE+3]>2 thenset WMV[EHE+3]=WMV[EHE+3]+4endifif GetWidgetLife(A4V)<.405 and WMV[EHE+3]>2 thenset WMV[EHE+3]=WMV[EHE+3]+4endifelseif F3V>2 and WMV[EHE+2]>2 thenset WMV[EHE+2]=WMV[EHE+2]+4endifif F2V>2 and WMV[EHE+1]>2 thenset WMV[EHE+1]=WMV[EHE+1]+4endifif F1V>2 and WMV[EHE+0]>2 thenset WMV[EHE+0]=WMV[EHE+0]+4endifif GetWidgetLife(NLV)<.405 and WMV[EHE+3]>2 thenset WMV[EHE+3]=WMV[EHE+3]+4endifif GetWidgetLife(NMV)<.405 and WMV[EHE+3]>2 thenset WMV[EHE+3]=WMV[EHE+3]+4endifendifif WMV[EHE+0]<=8 and WMV[EHE+1]<=8 and WMV[EHE+2]<=8 and WMV[EHE+3]<=8 thenreturn falseendifset j=0set i=0loopexitwhen j>4set WMV[EHE+8+j]=WMV[EHE+4+j]if GetWidgetLife(WPV[EHE+$C+j])>.405 thenelseif GetWidgetLife(WPV[EHE+8+j])>.405 thenset WPV[EHE+j]=WPV[EHE+8+j]elseif GetWidgetLife(WPV[EHE+4+j])>.405 thenset WPV[EHE+j]=WPV[EHE+4+j]elseif GetWidgetLife(WPV[EHE+$C+j])>.405 thenset WPV[EHE+j]=WPV[EHE+$C+j]elseset WPV[EHE+j]=nullendifendifset j=j+1endloopif EGE thenif WMV[EHE+1]>2 and WMV[EHE+9]==0 thenset WMV[EHE+9]=1endifif WMV[EHE+0]>2 and WMV[EHE+8]==0 thenset WMV[EHE+8]=1endifif WMV[EHE+2]>2 and WMV[EHE+$A]==0 thenset WMV[EHE+$A]=1endifset hD=IMaxBJ(1,WMV[EHE+4]+WMV[EHE+5]+WMV[EHE+6]+WMV[EHE+7])elseif WMV[EHE+1]>2 and WMV[EHE+9]==0 thenset WMV[EHE+9]=1endifif WMV[EHE+0]>2 and WMV[EHE+8]==0 thenset WMV[EHE+8]=1endifif WMV[EHE+2]>2 and WMV[EHE+$A]==0 thenset WMV[EHE+$A]=1endifset hE=IMaxBJ(1,WMV[EHE+4]+WMV[EHE+5]+WMV[EHE+6]+WMV[EHE+7])endifif WMV[EHE+3]>2 and WMV[EHE+$B]==0 thenset WMV[EHE+$B]=1endifset i=1loopexitwhen i>5set O5=WMV[80+G8I+i]if(O5!=-1)and(eY[O5]==2 or eY[O5]==3 or eY[O5]==4)==false and(X1E(QV[O5])or GetWidgetLife(QV[O5])<.405)==false thenset WMV[48+G8I+i]=WMV[80+G8I+i]elseset WMV[48+G8I+i]=-1endifset WMV[96+O5]=0set i=i+1endloopset i=1loopexitwhen i>5set O5=WMV[80+G8I+i]if(O5!=-1)and QV[O5]!=null thenif(eY[O5]==3 or eY[O5]==4)and WMV[64+O5]!=-1 and(X1E(QV[O5])or GetWidgetLife(QV[O5])<.405)==false thenif WMV[EHE+8+WMV[64+O5]]>0 thenset WMV[48+G8I+i]=-1set WMV[EHE+8+WMV[64+O5]]=WMV[EHE+8+WMV[64+O5]]-1set WMV[EHE+$C+WMV[64+O5]]=WMV[EHE+$C+WMV[64+O5]]+1elseset WMV[48+G8I+i]=O5endifendifendifset i=i+1endloopif WMV[EHE+$B]>0 and WMV[EHE+$F]==0 thenset i=1loopexitwhen i>$Aif i>5 thenset j=j-5elseset j=iendifset O5=WMV[80+G8I+j]if(O5!=-1)and(WMV[48+G8I+j]==-1)thenif(eY[O5]==3 or eY[O5]==4)and((WMV[48+G8I+j]!=-1)or(WMV[64+O5]==-1)or(WMV[EHE+8+WMV[64+O5]]<=0)or((WMV[EHE+$C+WMV[64+O5]]>1)or(i>5)))thenset WMV[64+O5]=3set WMV[EHE+$B]=WMV[EHE+$B]-1set WMV[EHE+$F]=WMV[EHE+$F]+1set WMV[96+O5]=1endifendifset WMV[96+O5]=0set i=i+1endloopendifset i=1loopexitwhen i>5set O5=WMV[48+G8I+i]if O5!=-1 and(eY[O5]==3 or eY[O5]==4)thenset j=EFE(EGE)if j==-1 thenset bj_forLoopAIndex=0set bj_forLoopBIndex=2loopexitwhen bj_forLoopAIndex>3if WMV[EHE+bj_forLoopAIndex]>bj_forLoopBIndex and WMV[EHE+8+j]>-1 thenset bj_forLoopBIndex=WMV[EHE+bj_forLoopAIndex]set j=bj_forLoopAIndexendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif j!=-1 thenif j!=WMV[64+O5]thenset G0[$F0+O5]=trueset WMV[96+O5]=1set WMV[64+O5]=jendifset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1set WMV[48+G8I+i]=-1elsecall G7I(O5,EGE)endifendifset i=i+1endloopif WMV[EHE+8]<=0 and WMV[EHE+9]<=0 and WMV[EHE+$A]<=0 and WMV[EHE+$B]<=0 thenreturn trueendifset i=1loopexitwhen i>5set O5=WMV[48+G8I+i]if(O5!=-1)thenset j=E6E(QV[O5])if WMV[EHE+8+j]+WMV[EHE+$C+j]>0 thenset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1set WMV[64+O5]=jset WMV[96+O5]=1set WMV[48+G8I+i]=-1endifendifset i=i+1endloopset i=1loopexitwhen i>5 or(WMV[EHE+8]<=0 and WMV[EHE+9]<=0 and WMV[EHE+$A]<=0 and WMV[EHE+$B]<=0)set O5=WMV[48+G8I+i]if(O5!=-1)thenif Bz>hq[528+O5]thenset WNV=E4E(GetUnitX(QV[O5]),GetUnitY(QV[O5]),WQV[EHE],WQV[EHE+1])if WNV<=$2EE0 thenset j=EFE(EGE)if j!=-1 thenif WNV>5000 thenset G0[$F0+O5]=trueendifset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1set WMV[64+O5]=jset WMV[96+O5]=1set WMV[48+G8I+i]=-1endifendifendifendifset i=i+1endloopset i=1loopexitwhen i>5 or(WMV[EHE+8]<=0 and WMV[EHE+9]<=0 and WMV[EHE+$A]<=0 and WMV[EHE+$B]<=0)set O5=WMV[48+G8I+i]if(O5!=-1)thenif E4E(GetUnitX(QV[O5]),GetUnitY(QV[O5]),WQV[V6E(EGE,24,0)],WQV[V6E(EGE,25,1)])>6000 thenset j=EFE(EGE)if j!=-1 thenset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1set WMV[64+O5]=jset WMV[96+O5]=1set WMV[48+G8I+i]=-1endifendifendifset i=i+1endloopset bj_forLoopAIndex=WMV[EHE+4]+WMV[EHE+5]+WMV[EHE+6]+WMV[EHE+7]if(bj_forLoopAIndex>=V6E(EGE,IPV,IMV)-1 and bj_forLoopAIndex>=3)thenset i=1loopexitwhen i>5set O5=WMV[80+G8I+i]if(O5!=-1)and QV[O5]!=null thenif GetWidgetLife(QV[O5])<.405 thenif((TimerGetRemaining(G[O5])>20.)and(TimerGetElapsed(G[O5])>4.))thenset j=0loopexitwhen C_V[j]==GetEnumUnit()or j>C2Vset j=j+1endloopif C_V[j]!=null and GetUnitAbilityLevel(N7V[O5],1093808213)==0 thenif IssueImmediateOrderById(N7V[O5],PI[O5])thenset j=EFE(EGE)if j!=-1 thenset WMV[EHE+8+j]=WMV[EHE+8+j]-1set WMV[EHE+$C+j]=WMV[EHE+$C+j]+1set WMV[64+O5]=jset WMV[96+O5]=1endifendifendifendifendifendifset i=i+1endloopendifif EGE thenset WGV=WEelseset WGV=YEendifset i=1loopexitwhen i>5if EGE thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i])endifif B6E(Player(O5))and WMV[96+O5]!=0 thencall ELE(QV[O5],O5)call J3(QV[O5],XSE(QV[O5]))call I9E(QV[O5],WGV)if eY[O5]==3 or eY[O5]==4 thencall I4E(QV[O5],WGV,"Defending change area"+EBE(WMV[64+O5],true))elsecall I4E(QV[O5],WGV,"Defending"+EBE(WMV[64+O5],true))endifset eY[O5]=3set WMV[96+O5]=0endifset i=i+1endloopset V_E=nullset WGV=nullreturn trueendfunctionfunction HEI takes boolean EGE returns booleanlocal unit V_E=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer G8I=V6E(EGE,0,6)local integer EHE=V6E(EGE,0,24)local integer ilocal integer jif((EGE and F_V<2 and FZV<2 and F0V<2)or(EGE==false and F2V<2 and F1V<2 and F3V<2))thenreturn falseelseif O5!=GetPlayerId(RX[0])and O5!=GetPlayerId(GX[0])thenreturn falseelseif(IsUnitAlly(V_E,RX[0])==EGE)or ASE(V_E)==false thenreturn falseendifset i=R2I(Atan2(GetUnitY(V_E)-WQV[EHE+1],GetUnitX(V_E)-WQV[EHE])*bj_RADTODEG)set j=-1if i>360 thenset i=i-360elseif i<0 thenset i=i+360endifif EGE thenif i<25 and F0V>=2 thenset j=2elseif i>65 and F_V>=2 thenset j=1elseif FZV>=2 thenset j=0endifelseif i>$F5 and F3V>=2 thenset j=2elseif i<$CD and F2V>=2 thenset j=1elseif F1V>=2 thenset j=0endifendifif j==-1 thenreturn falseendifreturn HVI(EGE)endfunctionfunction HXI takes boolean EGE returns nothinglocal integer i=1local integer O5loopexitwhen i>5if EGE thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i])endifcall G7I(O5,EGE)set i=i+1endloopendfunctionfunction HOI takes nothing returns booleanif HEI(false)thencall DisableTrigger(GUV)call EnableTrigger(GYV)set FMV=trueendifreturn falseendfunctionfunction HRI takes nothing returns booleanif not HVI(false)thencall EnableTrigger(GUV)call DisableTrigger(GYV)set FMV=falsecall HXI(false)endifreturn falseendfunctionfunction HII takes nothing returns booleanif HEI(true)thencall DisableTrigger(GTV)call EnableTrigger(GWV)set FLV=trueendifreturn falseendfunctionfunction HAI takes nothing returns booleanif not HVI(true)thencall EnableTrigger(GTV)call DisableTrigger(GWV)set FLV=falsecall HXI(true)endifreturn falseendfunctionfunction TRv takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),RX[0]))and(kn(GetFilterUnit()))and((IsUnitVisible(GetFilterUnit(),RX[0]))or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetUnitLifePercent(GetFilterUnit())>30.))thenset hD=hD+1endifreturn trueendifreturn falseendfunctionfunction HBI takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(GetWidgetLife(GetFilterUnit())>.405)and(ASE(GetFilterUnit())))!=nullendfunctionfunction HCI takes real K1,unit u returns unitlocal unit CQE=nulllocal unit HDI=nulllocal boolexpr Ig=Condition(function HBI)local real IW=E3E(u,h9[16+GetPlayerId(GetOwningPlayer(u))])local real HFIcall GroupClear(iE)call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)loopset CQE=FirstOfGroup(iE)exitwhen(CQE==null)if((IsUnitVisible(CQE,GetOwningPlayer(u)))and(CQE!=u))thenset HFI=E3E(CQE,h9[16+GetPlayerId(GetOwningPlayer(u))])if(HFI<IW)thenset HDI=CQEset IW=HFIendifendifcall GroupRemoveUnit(iE,CQE)endloopcall DestroyBoolExpr(Ig)set Ig=nullset CQE=nullset hr=HDIset HDI=nullreturn hrendfunctionfunction HGI takes nothing returns booleanreturn((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit()))endfunctionfunction HHI takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if((i1==1164207469)or(i1==1332766568)or(i1==1328558160)or(i1==1211117616)or(i1==1212363833)or(i1==1315988077)or(i1==1332179560)or(i1==1429221441)or(OXE(it,BU[V0V]))or(OXE(it,BU[VNV])))thenreturn 3elseif(kq(i1))thenreturn 2elsereturn 1endifendfunctionfunction HPI takes real K1,unit u returns unitlocal unit CQE=nulllocal unit HDI=nulllocal boolexpr Ig=Condition(function HGI)local real HQI=0local real HSI=0call GroupClear(iE)call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)loopset CQE=FirstOfGroup(iE)exitwhen(CQE==null)set HQI=GetUnitState(CQE,UNIT_STATE_LIFE)if(GetUnitLifePercent(CQE)<60.)thenelseif((HDI==null)or(HHI(CQE)>HHI(HDI)))thenset HDI=CQEset HSI=HQIelseif((HHI(CQE)==HHI(HDI))and(HSI<HQI))thenset HDI=CQEset HSI=HQIendifcall GroupRemoveUnit(iE,CQE)endloopcall DestroyBoolExpr(Ig)set Ig=nullset CQE=nullset hr=HDIset HDI=nullreturn hrendfunctionfunction HTI takes unit it,boolean J2 returns booleanlocal integer kt=GetUnitAbilityLevel(it,1093684302)local real kl=GetUnitFacing(it)*bj_DEGTORADlocal real HUI=GetUnitX(it)+(350.+I2R(50*kt))*Cos(kl)local real HWI=GetUnitY(it)+(350.+I2R(50*kt))*Sin(kl)if((kJ(HUI,HWI))and((J2)or(E4E(HUI,HWI,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<E3E(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))thenset GZ[GetPlayerId(GetOwningPlayer(it))]=truereturn J8(GetPlayerId(GetOwningPlayer(it)),OTE(it,$D00A1,1093684302))endifreturn falseendfunctionfunction HZI takes unit it,boolean J2 returns booleanlocal integer kt=GetUnitAbilityLevel(it,1093749303)local real kl=GetUnitFacing(it)*bj_DEGTORADlocal real HUI=GetUnitX(it)+(300.+I2R(100*kt))*Cos(kl)local real HWI=GetUnitY(it)+(300.+I2R(100*kt))*Sin(kl)if((kJ(HUI,HWI))and((J2)or(E4E(HUI,HWI,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<E3E(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))thenset GZ[GetPlayerId(GetOwningPlayer(it))]=truereturn J8(GetPlayerId(GetOwningPlayer(it)),IssueImmediateOrderById(it,$D0278))endifreturn falseendfunctionfunction H_I takes unit it returns booleanlocal integer i1=GetUnitTypeId(it)local boolean J4=falselocal location b5=nulllocal unit m5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueendifif(i1==1162032181)thenset b5=kk(it,I2R(400+($C8*GetUnitAbilityLevel(it,1093684299))),h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,$D00FA,b5))elseif((i1==1430466609)or(i1==1164207469))thenset b5=kk(it,800.,h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,$D022D,b5))elseif((i1==1165451634)or(i1==1212365106))thenif(i1==1165451634)thenset WNV=600+GetUnitAbilityLevel(it,1093685324)*100elseset WNV=700.endifset m5=HCI(WNV,it)if((m5!=null)and(it!=m5))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,400.))and(IssueTargetOrderById(it,$D0278,m5))endifelseif(i1==1429221451)thenset b5=kk(it,I2R(280+(100*GetUnitAbilityLevel(it,1093678671))),h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,$D00FA,b5))elseif(i1==1328558160)thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)set GZ[O5]=trueif(GetUnitLifePercent(it)<48.)thenset J4=J8(O5,IssuePointOrderByIdLoc(it,$D00FA,b5))endifendifelseif(i1==1430466865)thenset b5=kk(it,800.,h9[16+O5])if(b5!=null)and(Bz>J5V[32+O5])thenset J4=OPE(it,$D00FA,1093751364,b5)endifelseif(i1==1311781206)thenset J4=HTI(it,false)elseif(i1==1160786502)thenset b5=kk(it,550.,h9[16+O5])if(b5!=null)thenif(GetUnitLifePercent(it)<35.)thenset GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(it,$D0278,b5))endifendifif((not J4)and(GetUnitLifePercent(it)<35.))thenset J4=IssueImmediateOrderById(it,$D02B6)endifelseif(i1==1211117651)thenif(GetUnitManaPercent(it)>15.)thenset b5=kk(it,1200.,h9[16+O5])if(b5!=null)thenset J4=OPE(it,$D00FA,1093743695,b5)endifif not J4 thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thenset J4=OPE(it,$D00FA,1093743695,b5)endifendifif J4 thenset h9[O5]=h9[16+O5]endifendifelseif(i1==1311788336)thenif(GetUnitState(it,UNIT_STATE_MANA)>100.)and(LoadInteger(YX,GetHandleId(it),(747))>0)and(not R8E(it,"AI|EmberEscape"))thenset b5=kk(it,1500.,h9[16+O5])if(b5!=null)thenset J4=IssuePointOrderByIdLoc(it,$D020A,b5)endifif not J4 thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thenset J4=IssuePointOrderByIdLoc(it,$D020A,b5)endifendifif J4 thenset h9[O5]=h9[16+O5]call IVE(it,"AI|EmberEscape")endifendifelseif(i1==1160786738)thenif GetUnitAbilityLevel(it,1093813555)!=0 thenset b5=kk(it,600+$C8*GetUnitAbilityLevel(it,1093813555),h9[16+O5])if(b5!=null)and(BPE(b5,300))thenset J4=IssuePointOrderById(it,$D02B6,GetDestructableX(L9V),GetDestructableY(L9V))endifif(not J4)thenset b5=kk(it,800.,h9[16+O5])if(b5!=null)and(BPE(b5,300))thenset J4=IssuePointOrderById(it,$D02B6,GetDestructableX(L9V),GetDestructableY(L9V))endifendifendifelseif(i1==1211119409)thenset J4=HZI(it,false)elseif(i1==1328558406)thenset m5=HCI(1800.,it)if((m5!=null)and(it!=m5))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,1000.))and(OME(it,$D0097,1093751873,m5))endifendifif(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)thenset G0[288+O5]=trueset J4=H_I(it)set G0[304+O5]=falseendifif(not J4)and(not G0[304+O5])thenset bj_lastLoadedUnit=itif(not J4)and((OXE(it,BU[VNV]))and(X1E(it))and(OVE(800.,it,Condition(function A5E))>0))thenset GZ[$E0+O5]=trueset J4=(i1!=1164277357)and(UnitUseItem(it,bj_lastCreatedItem))set GZ[$E0+O5]=falseendifif(not J4)and(OXE(it,BU[EZ]))thenset b5=kk(it,700.,h9[16+O5])set J4=(b5!=null)and(UnitUseItemPointLoc(it,bj_lastCreatedItem,b5))endifif(not J4)and(OXE(it,BU[ELV]))thenif E0E(it,h9[16+O5],20)thenset b5=kk(it,600.,h9[16+O5])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))if J4 thenset h9[O5]=h9[16+O5]endifelseif(E0E(it,h9[O5],20))and(h9[O5]!=h9[16+O5])thenset b5=kk(it,600.,h9[O5])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifendifendifset b5=nullset m5=nullreturn J4endfunctionfunction H0I takes nothing returns booleanif(((GetOwningPlayer(GetFilterUnit())==RX[0])or(GetOwningPlayer(GetFilterUnit())==GX[0]))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hr)))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(true))thenset hF=hF+1endifreturn trueendifreturn falseendfunctionfunction H1I takes real H2I,unit it,boolean H3I,boolean H4I returns integerlocal real H6Ilocal real H7Ilocal real HUI=GetUnitX(it)local real HWI=GetUnitY(it)local integer kc=0local integer UP=0local integer O5=GetPlayerId(GetOwningPlayer(it))if(H2I>0)thenset H6I=Bz+H2Iloopset H7I=H6I-Bzexitwhen H7I<=0call TriggerSleepAction(.5)set hr=itif((GetWidgetLife(it)<=.405)or(GetUnitCurrentOrder(it)==$D000F)or(not is(it)))thenset H6I=Bzelseif(not H4I)thenset YDV=LoadUnitHandle(YX,(GetHandleId(it)),(652))set YFV=RME((GetHandleId(it)),"AI|TetherSource")if XSE(it)and(not X1E(it))thenif(YDV!=null)and(not IsUnitInRange(it,YDV,700)and(IsUnitType(YDV,UNIT_TYPE_HERO)))thencall jW(it,$D0012,YDV)elseif(YFV!=null)and(not IsUnitInRange(it,YFV,700))thencall jW(it,$D0012,YFV)elsecall jW(it,$D0012,h9[O5])endifendifset hF=0set UP=OVE(700.,it,Condition(function H0I))if((H2I-H7I>1.)and(hF>0))thenset H6I=Bzset kc=2elseif((H3I)and(H2I-H7I>1.)and(UP>1))thenset H6I=Bzset kc=1elseif(((H2I-H7I>2.)or((H2I-H7I>1.)and(H3I))))thencall MoveLocation(Ha,HUI,HWI)if(X9E(700.,Ha,Condition(function H0I))>1)thenset H6I=Bzset kc=3endifelseif((H2I-H7I>=2.)and(iy(it)))thenset H6I=Bzset kc=1endifendifendloopendifreturn kcendfunctionfunction H8I takes nothing returns nothinglocal unit it=RME(GetHandleId(GetTriggeringTrigger()),"Unit")local integer O5=GetPlayerId(GetOwningPlayer(it))local boolean H9I=GZ[512+O5]local integer JVIif X2E(O5)thenreturnendifset G0[48+O5]=trueif(XSE(it))thencall jW(it,$D0012,h9[O5])endifif(GetUnitTypeId(it)==1211117642)thencall TriggerSleepAction(1.)set JVI=0elseif eY[O5]==$B thenset JVI=H1I(1.,it,true,false)elseif(H9I)thenset JVI=H1I(5.,it,true,false)elseset JVI=H1I(3.,it,false,false)endifset G0[48+O5]=falseif((GetWidgetLife(it)<=.405)or(not is(it)))thenelseif(not XSE(it))thenelseif((JVI==2)and(not X1E(it))and(not G0[32+O5]))thencall IssueImmediateOrderById(it,$D0019)elseif((H9I)or(JVI==3))thenif((not X1E(it))and(not G0[32+O5])and(G0[$80+O5]))thencall jW(it,$D000F,h8[O5])elsecall AEE(it,false)endifendifset it=nullendfunctionfunction JEI takes unit it,boolean H9I returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))set GZ[512+O5]=H9Iif(GZV[64+O5]!=null)thencall TriggerExecute(GZV[64+O5])endifendfunctionfunction JOI takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])local integer GII=0local real CPE=.0if(IsUnitAlly(it,RX[0]))thenif((hj[256+UP]==18)or(hj[UP]==$A))thenset GII=$B+hBif(UP>GII)thencall GRI(it,0)endifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset GII=31+hcif(UP>GII)thencall GRI(it,1)endifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset GII=51+hCif(UP>GII)thencall GRI(it,2)endifendifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset GII=119-hBif(UP>GII)thencall GRI(it,0)endifelseif((hj[256+UP]==$8C)or(hj[UP]==$82))thenset GII=$8D-hcif(UP>GII)thencall GRI(it,1)endifelseif((hj[256+UP]==$A0)or(hj[UP]==$96))thenset GII=$A1-hCif(UP>GII)thencall GRI(it,2)endifendifendifif((eY[O5]==1)and(h4[O5]!=null)and((not Id(O5))or(GetUnitLifePercent(it)<70.)))thenset CPE=E3E(it,h8[O5])if(((CPE>2000.)and(E3E(it,OUE(it))>E3E(h8[O5],OUE(it))))or((CPE>1400.)and((GZ[400+O5])and(Bz>hq[544+O5]))))thenset h4[O5]=nullcall jW(it,$D0012,h9[O5])call JEI(it,true)endifendifendfunctionfunction JRI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>$D0020))!=nullendfunctionfunction JAI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))set GZ[16+O5]=trueset eY[256+O5]=GetIssuedOrderId()set hq[448+O5]=Bz+3.endfunctionfunction JBI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction JCI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction JDI takes unit V_E,unit X0E returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer UPlocal integer jlocal integer klocal integer GUI=E5E(GetUnitUserData(X0E))local boolean EGE=IsUnitAlly(V_E,RX[0])set h4[$90+O5]=nullset G0[32+O5]=falseset G0[$A0+O5]=falseset G0[$B0+O5]=falseset h4[O5]=nullset GZ[$80+O5]=falseset eY[272+O5]=0set UP=GetUnitUserData(X0E)if IsUnitAlly(V_E,RX[0])thenset UP=UP-1elseset UP=UP+1endifset UP=FJI(UP,IsUnitAlly(V_E,RX[0]),VZE(V_E))set k=E6E(V_E)if(E3E(V_E,OUE(V_E))<5000.)thenif(GUI==0)thenset h8[O5]=h7[$E]set h8[16+O5]=h7[$E]elseif(GUI==1)thenset h8[O5]=h7[35]set h8[16+O5]=h7[35]elseset h8[O5]=h7[55]set h8[16+O5]=h7[55]endifset eY[O5]=1set h9[O5]=OUE(V_E)set h9[16+O5]=OUE(V_E)set hq[576+O5]=Bz+W7Vif XSE(V_E)thencall jW(V_E,$D000F,h8[O5])endifreturnendifset h8[$80+O5]=h7[UP]set eY[288+O5]=GUIif eY[288+O5]!=0 thenset eY[304+O5]=eY[288+O5]elseset eY[304+O5]=kif eY[304+O5]==0 thenset eY[304+O5]=GetRandomInt(1,2)endifendifset UP=FJI(GetUnitUserData(h9[O5]),IsUnitAlly(V_E,RX[0]),VZE(V_E))set h8[48+O5]=h7[UP]set UP=FLI(O5,UP,eY[304+O5],EGE)set h8[32+O5]=h7[UP]if((hG[32+O5]!=-1)and((hG[32+O5]-GetPlayerState(GetOwningPlayer(V_E),PLAYER_STATE_RESOURCE_GOLD))<600))thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(V_E),PLAYER_STATE_RESOURCE_GOLD)+300endifset eY[O5]=9set hq[576+O5]=Bz+W7Vset hq[592+O5]=Bz+180.set G0[$B0+O5]=((not XWE(V_E))and(h8[48+O5]==h8[32+O5]))set eY[$D0+O5]=GetUnitUserData(X0E)set h8[$90+O5]=X0Eif XSE(V_E)thenif h8[48+O5]!=h8[32+O5]or G0[$B0+O5]thencall jW(V_E,$D000F,h8[48+O5])elsecall jW(V_E,$D000F,h9[O5])endifendifendfunctionfunction JFI takes unit V_E,unit X0E returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer ARE=GetPlayerId(GetOwningPlayer(X0E))local boolean EGE=IsUnitAlly(V_E,RX[0])local integer UPlocal integer JGIlocal integer GUI=E5E(GetUnitUserData(X0E))local integer icall JEI(QV[O5],false)set G0[$A0+O5]=trueset h4[$90+O5]=QV[ARE]set G0[32+O5]=falseset h4[O5]=nullset GZ[$80+O5]=falseset G0[$C0+O5]=falseset G0[$D0+O5]=trueset hq[640+O5]=Bz+10.set h8[96+O5]=X0Eset h8[$A0+O5]=h8[80+ARE]set eY[288+O5]=E6E(X0E)if eY[288+O5]!=0 thenset eY[304+O5]=eY[288+O5]elseset eY[304+O5]=E6E(V_E)if eY[304+O5]==0 thenset eY[304+O5]=GetRandomInt(1,2)endifendifset eY[272+O5]=1set JGI=FJI(GetUnitUserData(h8[80+ARE])+V6E(EGE,1,-1),EGE,VZE(V_E))set h8[112+O5]=h7[JGI]set UP=GetUnitUserData(h8[80+O5])set JGI=FLI(O5,UP,eY[304+O5],EGE)set h8[32+O5]=h7[JGI]set h8[48+O5]=h8[32+O5]set UP=E6E(V_E)set i=V6E(IsUnitAlly(V_E,RX[0]),-1,1)if(UP==0)thenif(E3E(V_E,OUE(V_E))>E3E(h7[$E],OUE(V_E)))thenset h8[48+O5]=h7[$E+i]endifelseif(UP==1)thenif(E3E(V_E,OUE(V_E))>E3E(h7[34],OUE(V_E)))thenset h8[48+O5]=h7[34+i]endifelseif(UP==2)thenif(E3E(V_E,OUE(V_E))>E3E(h7[57],OUE(V_E)))thenset h8[48+O5]=h7[57+i]endifendifset UP=GetUnitUserData(h8[112+O5])if(EGE)thenif((hj[256+UP]==18)or(hj[UP]==$A))thenset i=IMaxBJ($A+hB,$B)elseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=IMaxBJ(30+hc,31)elseset i=IMaxBJ(50+hC,51)endifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset i=IMaxBJ(118-hB,111)elseif((hj[256+UP]==$8C)or(hj[UP]==$82))thenset i=IMaxBJ($8C-hc,$83)elseset i=IMaxBJ($A0-hC,$97)endifendifset h8[$80+O5]=h7[i]if((hG[32+O5]!=-1)and((hG[32+O5]-GetPlayerState(GetOwningPlayer(V_E),PLAYER_STATE_RESOURCE_GOLD))<600))thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(V_E),PLAYER_STATE_RESOURCE_GOLD)+300endifset eY[O5]=9set hq[576+O5]=Bz+W7Vset hq[592+O5]=Bz+180.set G0[$B0+O5]=((not XWE(V_E))and(h8[48+O5]==h8[32+O5]))if XSE(V_E)and GetUnitCurrentOrder(V_E)==$D000F thenif h8[48+O5]!=h8[32+O5]or G0[$B0+O5]thencall jW(V_E,$D000F,h8[48+O5])elsecall jW(V_E,$D000F,h9[O5])endifendifendfunctionfunction JHI takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local real JJI=GetUnitX(it)local real JKI=GetUnitY(it)if(i1==1211117642)thenif(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)thencall J3(it,false)endifreturnendifif(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)thenif((GetHeroSkillPoints(it)>0)and(Bz>F7V)and(XSE(it)))thencall ExecuteFunc("BPI")endifif((E3E(it,h8[O5])<150.)and(h8[O5]!=h7[1])and(h8[O5]!=h7[101]))thenif(IsUnitAlly(it,RX[0]))thenset hF=GetUnitUserData(h8[O5])elseset hF=hj[512+GetUnitUserData(h8[O5])]endifif(hF>0)thencall CWE(it,hF)elseif(h8[O5]!=h9[O5])thenset h8[O5]=h9[O5]elseset h8[O5]=OUE(it)endifelseif(eY[O5]==1)thencall JOI(it)endifif(FEV)thenset hF=GetUnitUserData(h8[O5])if(((hF>30)and(hF<40))or((hF>50)and(hF<60)))thencall GRI(it,0)endifendifif((h4[80+O5]!=null)and(GetWidgetLife(h4[80+O5])<=.405))thenset h4[80+O5]=nullendifif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])<=.405))thenset h4[96+O5]=nullendifif((h4[$80+O5]!=null)and((GetWidgetLife(h4[$80+O5])<=.405)))thenset h4[$80+O5]=nullendifif((h4[$A0+O5]!=null)and((GetWidgetLife(h4[$A0+O5])<=.405)or(not IsUnitInRange(it,h4[$A0+O5],1000.))))thenset h4[$A0+O5]=nullendifif((h4[48+O5]!=null)and(((eY[O5]!=3)and(eY[O5]!=4))or(GetWidgetLife(h4[48+O5])<=.405)))thenset h4[48+O5]=nullendifif((E4E(JJI,JKI,GetLocationX(HC[32+O5]),GetLocationY(HC[32+O5]))<20.)and(Bz>F7V))thenset G0[48+O5]=falseif(eY[O5]!=2)thenif((GZ[$90+O5])and(XSE(it))and(OVE(700.,it,Condition(function KX))==0)and(((eY[O5]!=9 or eY[272+O5]!=3)and eY[O5]!=$A and eY[O5]!=$B)or(OVE(700.,it,Condition(function KA))==0)))thencall ExecuteFunc("JLI")elseset GZ[$90+O5]=trueif((eY[O5]==3)or(eY[O5]==4))thencall ELE(it,O5)endifif(iU(it))thencall J3(it,true)endifendifelseif((GetUnitLifePercent(it)>90)and(GetUnitManaPercent(it)>90))thenif(GZ[$90+O5])thenif(IsUnitAlly(it,RX[0]))thencall G0I(it,O5,FLV)elsecall G0I(it,O5,FMV)endifelseset GZ[$90+O5]=trueendifendifelseif(GZ[$90+O5])thenset GZ[$90+O5]=falseendifcall MoveLocation(HC[32+O5],JJI,JKI)if((eY[O5]==$A)and(hq[432+O5]<Bz))thenset eY[O5]=1set h4[64+O5]=nullendifif((GZ[480+O5])and(eY[O5]!=4)and(eY[O5]!=2))thenset GZ[480+O5]=falseendifif((GZ[16+O5])and(hq[448+O5]<Bz)and(eY[256+O5]==GetUnitCurrentOrder(it)))thencall J3(it,true)set GZ[16+O5]=falseendifelseif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_NONE)and(IsUnitInForce(it,GLV)))thenif((is(it))and(GetUnitCurrentOrder(it)!=$D000F))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1097690998,true)call SetPlayerController(GetOwningPlayer(it),MAP_CONTROL_COMPUTER)call J3(it,true)endifendifset GZ[32+O5]=falseset GZ[400+O5]=falseendfunctionfunction JMI takes nothing returns nothinglocal integer O5=1local integer IJElocal integer i=0local integer j=0local integer k=0local real JPIlocal real JQIlocal boolean JSI=falselocal string JTI=""local boolean JYI=(Bz>F7V)local boolean JZI=(Bz>F7V)set O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thencall GroupClear(iE)call GroupEnumUnitsOfPlayer(iE,Player(O5),ip)call ForGroup(iE,function JHI)if QV[O5]!=null thenset JPI=2+GetHeroAgi(QV[O5],true)*.14set JQI=1set i=0loopexitwhen i>5set j=GetItemTypeId(UnitItemInSlot(QV[O5],i))if((j==BU[HW])or(j==BU[V8])or(j==BU[E7])or(j==BU[G8])or(j==BU[SY])or(j==BU[N6])or(j==BU[N8])or(j==BU[V2V])or(j==BU[ENV])or(j==BU[EBV]))thenset JPI=JPI+5elseif((j==BU[E0])or(j==BU[ERV])or(j==BU[EFV]))thenset JPI=JPI+$Aelseif(j==BU[Y3])thenset JQI=JQI+.25elseif(j==BU[V5V])thenset JQI=JQI+.3endifset i=i+1endloopset JPI=(.06*JPI)/(1.+.06*JPI)set hq[752+O5]=(1/(1-JPI))*(JQI)endifif QV[O5]!=null and GetHeroLevel(QV[O5])<$B thenif IsPlayerAlly(Player(O5),RX[0])thenset JZI=falseelseset JYI=falseendifendifset eY[80+O5]=E7E(O5)endifset O5=O5+1endloopif JYI and(not U2V)thenset U2V=trueset WDV=falseset O5=1loopexitwhen O5>5if B6E(RX[O5])thenset WDV=trueendifset O5=O5+1endloopif WDV thenset O5=1loopexitwhen O5>5set IJE=GetPlayerId(RX[O5])if U1V[16+IJE]thenset U1V[16+IJE]=falsecall IKE(ACV,"AI missing hero report is automatically turned |c00ff9090off|r.
Use "+"|c00dd8dff"+"-aimsgmiss|r to re-enable.",RX[O5])endifset O5=O5+1endloopendifendifif JZI and(not U3V)thenset U3V=trueset WDV=falseset O5=1loopexitwhen O5>5if B6E(GX[O5])thenset WDV=trueendifset O5=O5+1endloopif WDV thenset O5=1loopexitwhen O5>5set IJE=GetPlayerId(GX[O5])if U1V[16+IJE]thenset U1V[16+IJE]=falsecall IKE(NOV,"AI missing hero report is automatically turned |c00ff9090off|r.
Use "+"|c00dd8dff"+"-aimsgmiss|r to re-enable.",GX[O5])endifset O5=O5+1endloopendifendifif((G1==0)and(not Ev)and(not Av))thenset G1=GetRandomInt(1,2)elseif((G1==1)and(not Rv)and(not av))thenif((Nv)or(Ov))thenset G1=2elseset G1=-1endifelseif((G1==2)and(not Nv)and(not Ov))thenif((Rv)or(av))thenset G1=1elseset G1=-1endifendifif((G2==0)and(not Bv)and(not Dv))thenset G2=GetRandomInt(1,2)elseif((G2==1)and(not bv)and(not Cv))thenif((cv)or(fv))thenset G2=2elseset G2=-1endifelseif((G2==2)and(not cv)and(not fv))thenif((bv)or(Cv))thenset G2=1elseset G2=-1endifendifset W7V=120.-.05*Bzif W7V<60. thenset W7V=60.endifcall GMI()if FTV and G4==-1 thenset WGV=WEset i=1loopexitwhen i>5set O5=WMV[80+i]if O5!=-1 and QV[O5]!=null and GetWidgetLife(QV[O5])>.405 and(not X1E(QV[O5]))and eY[O5]==1 and h4[O5]==null and(Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5])and(GetHeroLevel(QV[O5])<FWV)and(GetHeroLevel(QV[O5])>=6)thenif(((eY[80+O5]==1 or eY[80+O5]==2)and WMV[112+eY[80+O5]]>2)or(eY[80+O5]==0 and WMV[112+eY[80+O5]]>1))and(WMV[112+eY[80+O5]]-WMV[118+eY[80+O5]]>=0)thenset j=0set k=-1loopexitwhen j>2if WMV[112+j]==0 thenset k=jexitwhen trueelseif WMV[112+j]==1 thenif k==-1 or GetRandomInt(1,2)==1 thenset k=jendifendifset j=j+1endloopif(k!=-1 and k!=eY[80+O5]and((k==0)or(eY[80+O5]==0)))and((k!=0 or(not FOV))and(k!=1 or(not FRV))and(k!=2 or(not FXV))and((k==0)or(not FEV)))thenif(k==1)thencall JDI(QV[O5],h7[29+hc])call I4E(QV[O5],WGV,"Heading left (auto)")elseif(k==2)thencall JDI(QV[O5],h7[49+hC])call I4E(QV[O5],WGV,"Heading right (auto)")elsecall JDI(QV[O5],h7[9+hB])call I4E(QV[O5],WGV,"Heading mid (auto)")endifcall I9E(QV[O5],WGV)set WMV[112+eY[80+O5]]=WMV[112+eY[80+O5]]-1set eY[80+O5]=kset WMV[112+eY[80+O5]]=WMV[112+eY[80+O5]]+1endifendifendifset i=i+1endloopendifif FUV and G3==-1 thenset WGV=YEset i=1loopexitwhen i>5set O5=WMV[86+i]if O5!=-1 and QV[O5]!=null and GetWidgetLife(QV[O5])>.405 and(not X1E(QV[O5]))and eY[O5]==1 and h4[O5]==null and Bz>hq[576+O5]and(GetHeroLevel(QV[O5])<FYV)and(GetHeroLevel(QV[O5])>=6)thenif(((eY[80+O5]==1 or eY[80+O5]==2)and WMV[118+eY[80+O5]]>2)or(eY[80+O5]==0 and WMV[118+eY[80+O5]]>1))and(WMV[118+eY[80+O5]]-WMV[112+eY[80+O5]]>=0)thenset j=0set k=-1loopexitwhen j>2if WMV[118+j]==0 thenset k=jexitwhen trueelseif WMV[118+j]==1 thenif k==-1 or GetRandomInt(1,2)==1 thenset k=jendifendifset j=j+1endloopif k!=-1 and k!=eY[80+O5]and((k==0)or(eY[80+O5]==0))and((k!=0 or(not FOV))and(k!=1 or(not FRV))and(k!=2 or(not FXV))and((k==0)or(not FEV)))thenif(k==1)thencall JDI(QV[O5],h7[$8B-hc])call I4E(QV[O5],WGV,"Heading left (auto)")elseif(k==2)thencall JDI(QV[O5],h7[$9F-hC])call I4E(QV[O5],WGV,"Heading right (auto)")elsecall JDI(QV[O5],h7[117-hB])call I4E(QV[O5],WGV,"Heading mid (auto)")endifset WMV[118+eY[80+O5]]=WMV[118+eY[80+O5]]-1set eY[80+O5]=kset WMV[118+eY[80+O5]]=WMV[118+eY[80+O5]]+1endifendifendifset i=i+1endloopendifset O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thenset JSI=falseif QV[O5]!=null and GetWidgetLife(QV[O5])>.405 thenif XWE(QV[O5])thenif h4[$B0+O5]==null or E3E(QV[O5],h4[$B0+O5])>3000. or GetWidgetLife(h4[$B0+O5])>0 thenset W2V=nullset i=1loopexitwhen W2V!=null or i>5if IsPlayerAlly(Player(O5),RX[0])thenset IJE=GetPlayerId(GX[i])elseset IJE=GetPlayerId(RX[i])endifif QV[IJE]!=null and GetWidgetLife(QV[IJE])>.405 and B6E(Player(IJE))thenif E3E(QV[IJE],QV[O5])<1800. thenset W2V=QV[IJE]endifendifset i=i+1endloopif W2V!=null thenset h4[$B0+O5]=W2Vendifendifset WQV[48+O5]=GetUnitX(QV[O5])set WQV[64+O5]=GetUnitY(QV[O5])set eY[336+O5]=eY[80+O5]if eY[$F0+O5]<R2I(Bz)thenset W2V=h4[$B0+O5]if W2V==null thenset W2V=h4[$C0+O5]endifif W2V!=null thenset IJE=GetPlayerId(GetOwningPlayer(W2V))set JSI=trueset JTI="|r"+C[IJE]+BXV[IJE]+"|r: Sighted"+EBE(eY[80+O5],true)+" - "+C[O5]+GetUnitName(QV[O5])+"|r"set h4[$C0+O5]=nullendifendifset eY[$F0+O5]=R2I(Bz)+20elseif eY[$F0+O5]<R2I(Bz)and h4[$B0+O5]!=null thenset IJE=GetPlayerId(GetOwningPlayer(h4[$B0+O5]))set JSI=trueset JTI="|r"+C[IJE]+BXV[IJE]+"|r: Missing"+EBE(eY[336+IJE],true)+" - "+C[O5]+GetUnitName(QV[O5])+"|r"set h4[$C0+O5]=h4[$B0+O5]set h4[$B0+O5]=nullendifelseset h4[$B0+O5]=nullendifif JSI thencall TriggerSleepAction(.4)if IsPlayerAlly(Player(O5),RX[0])thenset WGV=YEelseset WGV=WEendifif U1V[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),WGV)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,JTI)call I8E(WGV,WQV[48+O5],WQV[64+O5],IJE)endifendifendifset O5=O5+1endloopset WGV=nullendfunctionfunction J_I takes nothing returns nothinglocal unit V_E=RME(GetHandleId(GetTriggeringTrigger()),"Unit")local unit J1I=nulllocal boolean EGE=IsUnitAlly(V_E,RX[0])local integer O5=0local integer j=0local integer i=0local integer k=0local integer DNI=0local integer UPlocal boolean OFE=falselocal real J2I=0if(GetWidgetLife(V_E)<.405 or HEX(V_E))or((not((EGE and FTV)or((not EGE)and FUV))))or(FEV)or(V_E==null)or(R2E(GetHandleId(V_E),"DefCD")>Bz)thenset V_E=nullreturnendifif((V_E==AUV)or(V_E==AZV)or(V_E==NBV)or(V_E==NFV))and(not FOV)thenset j=0elseif((V_E==ATV)or(V_E==AYV)or(V_E==NNV)or(V_E==NDV))and(not FRV)thenset j=1elseif(V_E==AWV)or(V_E==A_V)or(V_E==NCV)or(V_E==NGV)and(not FXV)thenset j=2elseset V_E=nullreturnendifcall O5E(GetHandleId(V_E),"DefCD",Bz+1.)set WDV=falseset bj_lastLoadedUnit=nullset J2I=$98967Fcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(V_E),GetUnitY(V_E),1800.,G0V)loopset J1I=FirstOfGroup(H8)exitwhen J1I==nullcall GroupRemoveUnit(H8,J1I)set O5=GetPlayerId(GetOwningPlayer(J1I))set i=GetUnitTypeId(J1I)if((GetUnitAbilityLevel(J1I,1093678162)!=0 and((i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398))==false)or GetUnitAbilityLevel(J1I,1097625443)!=0 or GetWidgetLife(J1I)<50.)thenelseif O5==$C or O5>$E thenelseif not(IsUnitType(J1I,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(J1I,UNIT_TYPE_RANGED_ATTACKER))thenelseset i=GetUnitTypeId(J1I)set UP=0if IsUnitType(J1I,UNIT_TYPE_HERO)and i!=1211117642 thenif(IsUnitAlly(J1I,RX[0])==EGE)thenset WDV=trueset WNV=E3E(V_E,J1I)if WNV<J2I and B6E(Player(O5))thenset bj_lastLoadedUnit=J1Iset J2I=WNVendifelseset k=k+1endifelseif O5!=GetPlayerId(RX[0])and O5!=GetPlayerId(GX[0])thenset UP=3elseif(i==1969711215 or i==1970169187)or(i==1966092337 or i==1966092338)or(i==1702061422 or i==1701081721)or(i==1697656918 or i==1697656919)thenset UP=1elseif(i==1970107511 or i==1966092370)or(i==1700946284 or i==1697657398)thenset UP=3elseset UP=5endifendifif(IsUnitAlly(J1I,RX[0])==EGE)thenset DNI=DNI-UPelseset DNI=DNI+UPendifendifendloopset DNI=DNI+IMaxBJ(600-R2I(GetWidgetLife(V_E)),0)/30if(not WDV)and(k==0)and(DNI>8)thenset k=k+1endifcall GMI()set k=k-WMV[112+V6E(EGE,0,6)+j]if k<=0 thenset V_E=nullreturnendifif bj_lastLoadedUnit!=null and GetWidgetLife(V_E)<425 thenif Bz>R2E(GetHandleId(V_E),"PingCD")thencall O5E(GetHandleId(V_E),"PingCD",Bz+30.)if EGE thencall I8E(WE,GetUnitX(V_E),GetUnitY(V_E),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))elsecall I8E(YE,GetUnitX(V_E),GetUnitY(V_E),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))endifendifendifif(V_E==NBV)thenset J1I=h7[$E]elseif(V_E==NNV)thenset J1I=h7[35]elseif(V_E==NCV)thenset J1I=h7[57]elseif(V_E==NFV)thenset J1I=h7[16]elseif(V_E==NDV)thenset J1I=h7[37]elseif(V_E==NGV)thenset J1I=h7[58]elseif(V_E==NJV)thenset J1I=h7[17]elseif(V_E==NHV)thenset J1I=h7[39]elseif(V_E==NKV)thenset J1I=h7[59]elseif(V_E==AUV)thenset J1I=h7[$E]elseif(V_E==ATV)thenset J1I=h7[34]elseif(V_E==AWV)thenset J1I=h7[55]elseif(V_E==AZV)thenset J1I=h7[$C]elseif(V_E==AYV)thenset J1I=h7[33]elseif(V_E==A_V)thenset J1I=h7[52]elseif(V_E==A1V)thenset J1I=h7[$B]elseif(V_E==A0V)thenset J1I=h7[31]elseif(V_E==A2V)thenset J1I=h7[51]endifset i=1set DNI=V6E(EGE,0,6)set OFE=falseloopexitwhen(i>5)set O5=WMV[80+DNI+i]if O5!=-1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER thenset WMV[96+O5]=0set UP=E6E(QV[O5])set bj_lastLoadedUnit=QV[O5]if(QV[O5]==null)or((eY[O5]!=1 or(GetUnitCurrentOrder(QV[O5])==$D0012 and G0[48+O5]==false))and eY[O5]!=$A)or(GetWidgetLife(QV[O5])<.405)or(X1E(QV[O5]))thenelseif(UP==j)thenset h4[$90+O5]=V_Eset hq[320+O5]=Bz+10.set hq[480+O5]=Bz+45.set hq[576+O5]=Bz+10.set h9[64+O5]=V_Eelseif(Bz<hq[320+O5])or(Bz<hq[528+O5])or(h4[O5]!=null)or(UP!=0 and j!=0)or(QRV[O5]==1)or(GetHeroLevel(QV[O5])<6)or(GetUnitLifePercent(QV[O5])<50.)thenelseset WMV[96+O5]=1endifendifset i=i+1endlooploopexitwhen(i>$F or k==0)if i>5 thenset O5=WMV[80+DNI+i-5]elseif i>$A thenset O5=WMV[80+DNI+i-$A]elseset O5=WMV[80+DNI+i]endifif O5!=-1 and WMV[96+O5]==1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER thenif(i<5)and(Bz>hq[576+O5])thenelseif(i<=$A)and((EGE and((WMV[112+UP]-WMV[118+UP]<0)or(WMV[112+UP]<=1)))or((not EGE)and((WMV[118+UP]-WMV[112+UP]<0)or(WMV[118+UP]<=1))))thenelseset WMV[96+O5]=1set bj_lastCreatedUnit=X8E(1200.,jv(QV[O5]),Condition(function OEE))if((bj_lastCreatedUnit==null)or(GetWidgetLife(bj_lastCreatedUnit)>300.))thenset WDV=falseset hq[320+O5]=Bz+1.set hq[480+O5]=Bz+1.set hq[576+O5]=Bz+1.if OVE(1500.,QV[O5],Condition(function A5E))==0 thenset WDV=ANE(QV[O5],V_E)if WDV thencall JDI(QV[O5],J1I)endifendifif not WDV thenif(j==0)thenset WDV=(UP!=0)elseif(j==1)thenset WDV=(UP!=1)elseset WDV=(UP!=2)endifif(WDV)thencall JDI(QV[O5],J1I)set h8[$90+O5]=V_Eendifendifif(WDV)thenset k=k-1set h4[$90+O5]=V_Eset hq[528+O5]=Bz+10.set hq[320+O5]=Bz+10.set hq[576+O5]=Bz+10.set hq[480+O5]=Bz+60.set h9[64+O5]=V_Eset WMV[112+DNI+UP]=WMV[112+DNI+UP]-1if eY[O5]==$A thenset eY[O5]=1endifset OFE=trueendifendifendifendifset i=i+1endloopif OFE thencall O5E(GetHandleId(V_E),"DefCD",Bz+15.)endifset V_E=nullset J1I=nullendfunctionfunction J3I takes nothing returns booleanreturn((GetWidgetLife(GetTriggerUnit())>50.)and(ASE(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),RX[0])))endfunctionfunction J4I takes nothing returns booleanreturn((GetWidgetLife(GetTriggerUnit())>50.)and(ASE(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),GX[0])))endfunctionfunction J6I takes unit V_E returns triggerlocal trigger t=CreateTrigger()if GetOwningPlayer(V_E)==RX[0]thencall TriggerRegisterUnitInRange(t,V_E,1200.,Condition(function J3I))elsecall TriggerRegisterUnitInRange(t,V_E,1200.,Condition(function J4I))endifcall TriggerAddAction(t,function J_I)call O8E(GetHandleId(t),"Unit",V_E)return tendfunctionfunction J7I takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer k=0local integer i=0local boolean J8I=falselocal unit V_E=nulllocal player pl=GetOwningPlayer(it)local boolean J9I=falselocal integer KVIlocal boolean KEI=falselocal boolean OFE=falselocal boolean KXI=IsUnitInRange(it,OUE(it),5000.)local boolean KOI=falseset i=GetUnitTypeId(it)if B6E(pl)and((i==1211117650)or(i==1211119433)or(i==1429221430)or(i==1433105516))thenset KOI=trueset GZ[O5]=trueendifset i=0call GroupClear(H8)call GroupClear(iA)call GroupClear(H9)call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1800.,null)loopset V_E=FirstOfGroup(iA)exitwhen V_E==nullcall GroupRemoveUnit(iA,V_E)if not IsUnitIllusion(V_E)thencall GroupAddUnit(H8,V_E)endifif(not J9I)and IsUnitType(V_E,UNIT_TYPE_HERO)and IsUnitEnemy(V_E,pl)and GetWidgetLife(V_E)>.405 and eY[32+GetPlayerId(GetOwningPlayer(V_E))]>0 thenset J9I=truecall GroupEnumUnitsInRange(H9,GetUnitX(V_E),GetUnitY(V_E),1200.,null)call GroupAddGroup(H9,H8)endifendloopset h4[304+O5]=nullloopset V_E=FirstOfGroup(H8)exitwhen(V_E==null)if(GetWidgetLife(V_E)<=.405)thenelseif X1E(V_E)thenelseif(IsUnitType(V_E,UNIT_TYPE_HERO))thenif(IsUnitEnemy(V_E,pl))thenif((not IsUnitInRange(it,V_E,600.))or(kD(V_E)))and(eY[32+GetPlayerId(GetOwningPlayer(V_E))]==0)thenelseif(GetUnitTypeId(V_E)!=1211117642)thenset k=k-1set OFE=trueif(KOI)and(GetUnitTypeId(V_E)==1333027688)thenset GZ[O5]=falseendifelseif(not KEI)thenset KEI=trueendifelseif IsUnitInRange(V_E,it,1200.)or KXI thenif((GetUnitTypeId(V_E)!=1211117642)and(V_E!=it)and(not X1E(V_E)))thenset k=k+1set i=i+1endifendifelseif((IsUnitType(V_E,UNIT_TYPE_STRUCTURE)and IsUnitType(V_E,UNIT_TYPE_RANGED_ATTACKER))and(E3E(V_E,it)<1000.)and(VZE(it)<2000.))thenif(IsUnitEnemy(V_E,pl))thenset k=k-1set h4[304+O5]=V_Eelseif IsUnitAlly(V_E,pl)thenset k=k+1endifendifcall GroupRemoveUnit(H8,V_E)endloopif(KEI)thenset k=k-1set J8I=trueendifset eY[320+O5]=kif not OFE thenset h4[304+O5]=nullendifset OFE=IsUnitAlly(it,RX[0])set k=1loopexitwhen k>5if OFE thenset V_E=QV[GetPlayerId(RX[k])]elseset V_E=QV[GetPlayerId(GX[k])]endifif V_E!=null and GetWidgetLife(V_E)>.405 thenset i=i-1endifset k=k+1endloopset GZ[$D0+O5]=(i>=-1)return J8Iendfunctionfunction KRI takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer kc=0local boolean J4=falselocal boolean J8I=falselocal player pl=GetOwningPlayer(it)local integer UPset J8I=J7I(it)if X2E(O5)thenset pl=nullreturn falseendifif(E3E(it,OUE(it))<600.)thenset kc=0elseset kc=-eY[320+O5]if(not G0[$80+O5])thenset kc=kc+1endifif((GetUnitLifePercent(it)<70.)or(IC(O5)))thenset kc=kc+1endifif(eY[O5]==3 or eY[O5]==4)thenset kc=kc-1endifendifset G0[$90+O5]=J8Iif(kc>2)and(eY[O5]<9)and(h4[O5]==null or(not X_E(h4[O5],it)))thenset h4[O5]=nullset GZ[$80+O5]=falseset G0[$80+O5]=falseset G0[256+O5]=falseset hq[496+O5]=Bz+3.if(is(it))thencall jW(it,$D0012,h9[O5])endifset J4=trueelseif kc>1 thenset G0[256+O5]=falseelseset G0[$80+O5]=trueset G0[256+O5]=trueendifset pl=nullreturn J4endfunctionfunction KII takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(ASE(GetFilterUnit())))!=nullendfunctionfunction KAI takes nothing returns nothinglocal unit it=RME(GetHandleId(GetTriggeringTrigger()),"Unit")local unit m5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal string JTIif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset UP=OVE(1250.,m5,Condition(function KII))if(eY[O5]==9)thencall CZE(it)endifif((GetHeroLevel(it)<6)or((not Id(O5))and(Bz>hq[512+O5])))thenif((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*40)))and(UP<3))thenset h4[O5]=nullset GZ[$80+O5]=falsecall JEI(it,false)elseif((GetUnitLifePercent(m5)>20.)and((UP<1)or(((ATE(it))or(GetHeroLevel(it)<$A))and(UP<2))))thencall JEI(it,true)endifelseif(X1E(it))thenset h4[O5]=nullset GZ[$80+O5]=falsecall JEI(it,false)endifif(GetUnitAbilityLevel(m5,1098282348)>0)thencall GRI(it,-1)elseset h4[$80+O5]=m5endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,Player(O5)))thencall KRI(it)if(iy(it))thenset h4[$A0+O5]=m5endifset UP=GetPlayerId(GetOwningPlayer(m5))if(B6E(Player(O5)))and(eY[$F0+UP]<R2I(Bz))thenset JTI="|r"+C[O5]+BXV[O5]+"|r: Sighted"+EBE(E7E(O5),true)+" - "+C[UP]+GetUnitName(m5)+"|r"set h4[$C0+UP]=nullset eY[$F0+UP]=R2I(Bz)+20call TriggerSleepAction(.4)if IsUnitAlly(it,RX[0])thenset WGV=WEelseset WGV=YEendifif U1V[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),WGV)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,JTI)call I8E(WGV,GetUnitX(m5),GetUnitY(m5),O5)endifendifendifset it=nullset m5=nullendfunctionfunction KNI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(XZE(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),RX[0])))!=nullendfunctionfunction KCI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(XZE(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),GX[0])))!=nullendfunctionfunction KDI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(XZE(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==RX[0])and((GetUnitTypeId(GetTriggerUnit())==1697656914)or(GetUnitTypeId(GetTriggerUnit())==1697657137)or(GetUnitTypeId(GetTriggerUnit())==1697656915)or(GetUnitTypeId(GetTriggerUnit())==1697657145)))!=nullendfunctionfunction KFI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(XZE(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==GX[0])and((GetUnitTypeId(GetTriggerUnit())==1966092365)or(GetUnitTypeId(GetTriggerUnit())==1966092356)or(GetUnitTypeId(GetTriggerUnit())==1966092366)or(GetUnitTypeId(GetTriggerUnit())==1966092372)))!=nullendfunctionfunction KGI takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if(GZV[32+O5]!=null)thencall O1E(GetHandleId(GZV[32+O5]))call DestroyTrigger(GZV[32+O5])endifset GZV[32+O5]=CreateTrigger()call O8E(GetHandleId(GZV[32+O5]),"Unit",it)if(IsUnitAlly(it,RX[0]))thencall TriggerRegisterUnitInRange(GZV[32+O5],it,1000.,Condition(function KCI))call TriggerRegisterUnitInRange(GZV[32+O5],it,1000.,Condition(function KFI))elsecall TriggerRegisterUnitInRange(GZV[32+O5],it,1000.,Condition(function KNI))call TriggerRegisterUnitInRange(GZV[32+O5],it,1000.,Condition(function KDI))endifcall TriggerAddAction(GZV[32+O5],function KAI)if(GZV[64+O5]!=null)thencall O1E(GetHandleId(GZV[64+O5]))call DestroyTrigger(GZV[64+O5])endifset GZV[64+O5]=CreateTrigger()call O8E(GetHandleId(GZV[64+O5]),"Unit",it)call TriggerAddAction(GZV[64+O5],function H8I)endfunctionfunction KHI takes nothing returns nothingcall J7I(RME(GetHandleId(GetTriggeringTrigger()),"Unit"))endfunctionfunction BVI takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(V_E))if(GZV[32+O5]!=null)thencall O1E(GetHandleId(GZV[32+O5]))call DestroyTrigger(GZV[32+O5])endifset GZV[32+O5]=CreateTrigger()call O8E(GetHandleId(GZV[32+O5]),"Unit",V_E)if(IsUnitAlly(V_E,RX[0]))thencall TriggerRegisterUnitInRange(GZV[32+O5],V_E,1000.,Condition(function KCI))elsecall TriggerRegisterUnitInRange(GZV[32+O5],V_E,1000.,Condition(function KNI))endifcall TriggerAddAction(GZV[32+O5],function KHI)set V_E=nullendfunctionfunction xh takes nothing returns nothinglocal trigger t=CreateTrigger()local unit it=GetTriggerUnit()call O8E(GetHandleId(t),"Unit",it)if(IsUnitAlly(it,RX[0]))thencall TriggerRegisterUnitInRange(t,it,1000.,Condition(function KCI))call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KFI))elsecall TriggerRegisterUnitInRange(t,it,1000.,Condition(function KNI))call TriggerRegisterUnitInRange(t,it,1000.,Condition(function KDI))endifcall TriggerAddAction(t,function KAI)set it=nullendfunctionfunction KJI takes player KKI,string kf returns nothingif(RTE(GetHandleId(KKI),kf)!=null)thencall O1E(GetHandleId(RTE(GetHandleId(KKI),kf)))call DestroyTrigger(RTE(GetHandleId(KKI),kf))call O8E(GetHandleId(KKI),kf,null)endifendfunctionfunction KLI takes unit it returns nothinglocal player pl=GetOwningPlayer(it)local integer kg=1local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer KMI=0local boolean KPI=falsecall N8I(O5,it,i1)if(i1==1211117654)or(i1==1162032951)or(i1==1160785972)or(i1==1429221456)or(i1==1315074670)or(i1==1164799855)or(i1==1311781185)or(i1==1211117649)thencall ExecuteFunc("KQI")elseif(i1==1160786242)thencall RAE(GetHandleId(GetOwningPlayer(it)),"MGrp",CreateGroup())elseif(i1==1211117641)thencall ExecuteFunc("KSI")elseif(i1==1214409837)thencall ExecuteFunc("KTI")elseif(i1==1328558160)thencall ExecuteFunc("KUI")elseif(i1==1211117633)thencall ExecuteFunc("KWI")elseif(i1==1214344551)thenset HC[$F0+O5]=Location(.0,.0)elseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thenset hG[256+O5]=0call ExecuteFunc("KYI")endifif false thenif(i1==1333027688)thencall HFE(it,1093686091)endifif(i1==1214409837)thencall HFE(it,1093679157)endifif(i1==1164799603)thencall HFE(it,1093752632)endifif(i1==1430466872)thencall HFE(it,1093687349)endifif(i1==1429221424)thencall HFE(it,1093687351)endifif(i1==1160785970)thencall HFE(it,1093747792)endifif(i1==1429221446)thencall HFE(it,1093678665)endifif(i1==1429221451)thencall HFE(it,1093678671)endifif(i1==1160786242)thencall HFE(it,1093683287)endifif(i1==1211117641)thencall HFE(it,1093684792)endifif(i1==1311780946)thencall HFE(it,1093685808)endifendifif(i1==1211117653)or(i1==1215723364)thenset EU[O5]=GetRandomInt(1,3)endifcall O4E(GetHandleId(Player(O5)),"AI|Class",EOE(i1))set VVE[O5]=trueset VVE[112+O5]=falsecall D8I(O5,it,false)if((not Q)and GetUnitName(it)!="Bloodrune")thenif(J7V==false)thenif(not T7V)thenset BXV[GetPlayerId(pl)]=I2S(i5(pl))+V0E(pl)+FCE(it)call SetPlayerName(pl,D0E(pl))endifelseif(SubString(BXV[GetPlayerId(pl)],3,$B)=="Computer" or SubString(BXV[GetPlayerId(pl)],4,$C)=="Computer")thenloopif(N7I(it))thenset KMI=GetRandomInt(1,25)elseset KMI=GetRandomInt(26,119)endifif(J6V[KMI]!="")thenset BXV[GetPlayerId(pl)]="+"+J6V[KMI]call SetPlayerName(pl,D0E(pl)+" ("+FBE(it)+")")set J6V[KMI]=""set KPI=trueendifexitwhen(KPI)endloopendifendifelseif(Bz<150.)and GetUnitName(it)!="Bloodrune" thenset BXV[GetPlayerId(pl)]=I2S(i5(pl))+V0E(pl)+" Computer"call SetPlayerName(pl,D0E(pl)+" ("+FBE(QV[GetPlayerId(pl)])+")")elseset pl=nullreturnendifif(B2E(pl))thenloopexitwhen(TV[kg]==pl)or(kg>5)set kg=kg+1endloopcall MultiboardSetItemValueBJ(XV,1,(kg+2),(C[GetPlayerId(pl)]+(D0E(pl)+"|r")))elseloopexitwhen(UV[kg]==pl)or(kg>5)set kg=kg+1endloopcall MultiboardSetItemValueBJ(XV,1,(kg+3+IMV),(C[GetPlayerId(pl)]+(D0E(pl)+"|r")))endifset pl=nullendfunctionfunction UD takes nothing returns nothinglocal unit CQE=GetTriggerUnit()call KJI(GetOwningPlayer(CQE),"HasAtkM")call KJI(GetOwningPlayer(CQE),"HasMM")call KJI(GetOwningPlayer(CQE),"HasAM")call KJI(GetOwningPlayer(CQE),"HasOrb")call KLI(CQE)call KGI(CQE)set CQE=nullendfunctionfunction Uf takes nothing returns nothinglocal unit CQE=RME(G2V,"AIHSwap|U")call KJI(GetOwningPlayer(CQE),"HasAtkM")call KJI(GetOwningPlayer(CQE),"HasMM")call KJI(GetOwningPlayer(CQE),"HasAM")call KJI(GetOwningPlayer(CQE),"HasOrb")call KLI(CQE)call KGI(CQE)set CQE=nullendfunctionfunction KZI takes nothing returns booleanlocal integer O5=1local unit m5=nullif not IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)thenreturn falseendifset m5=GetDyingUnit()loopexitwhen O5>$Bif O5==6 thenset O5=7endifif B6E(Player(O5))thenif h4[O5]==m5 thenset h4[O5]=nullif GZ[$D0+O5]thenset h4[O5]=BOE(800.,QV[O5])endifcall J3(h4[O5],false)endifendifset O5=O5+1endloopset m5=nullreturn falseendfunctionfunction K_I takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(IsUnitInForce(GetTriggerUnit(),GLV))and(GetUnitTypeId(GetAttacker())!=1970107511)and(GetUnitTypeId(GetAttacker())!=1700946284)and(GetUnitTypeId(GetAttacker())!=1966092370)and(GetUnitTypeId(GetAttacker())!=1697657398)and(ASE(GetTriggerUnit())))!=nullendfunctionfunction K0I takes nothing returns nothinglocal unit m5=GetTriggerUnit()local unit ABE=GetAttacker()local integer O5=GetPlayerId(GetOwningPlayer(m5))local integer i1=GetUnitTypeId(m5)if X2E(O5)thenset m5=nullset ABE=nullreturnendifif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(not G0[O5])and(i1!=1211117642))thenif(((GetUnitLifePercent(ABE)>10.)or(OVE(800.,ABE,Condition(function k0))>1)or(R2I(GetWidgetLife(m5))<(500+(GetHeroLevel(m5)*30)))or(not Id(O5)))and(not X2E(O5)))thenif((eY[320+O5]>=0)and(hq[720+O5]>-.05))thenelseif((not XSE(m5))and(((i1!=1214409837)and(i1!=1332898670))or(GetUnitCurrentOrder(m5)!=$D0278))and((i1!=1160786243)or(GetUnitCurrentOrder(m5)!=$D0079))and((i1!=1430466872)or(GetUnitCurrentOrder(m5)!=$D0207)))thenelseif(((VZE(m5)>1500.)and(hq[720+O5]>-.05)and(GetHeroLevel(m5)>$A))or(((i1==1162032181)or(i1==1429221451))and(GZ[384+O5])and(not X1E(m5)))or(GZ[256+O5]))thenelseif((GetHeroLevel(m5)>6)and(GetUnitAbilityLevel(ABE,1098282348)==0)and(Id(O5))and(GetUnitState(m5,UNIT_STATE_LIFE)>500+(GetHeroLevel(m5)*30)))thenelseif(h4[O5]!=null and X1E(h4[O5])and(hq[720+O5]>-.1)and G0[256+O5])thenelsecall jW(m5,$D0012,h9[O5])if((h4[O5]!=null)and((GetHeroLevel(m5)<6)or(X1E(m5))or(not Id(O5))))thenset h4[O5]=nullendifset G0[O5]=truecall TriggerSleepAction(1.)if((XZE(m5))and(XZE(ABE))and(IsUnitInRange(m5,ABE,1200.))and(G0[O5]))thencall TriggerSleepAction(1.)endifset G0[O5]=falseif((XZE(m5))and(XZE(ABE))and(GetUnitCurrentOrder(m5)==$D0012)and(not IsUnitInRange(m5,ABE,1300.))and(OVE(800.,ABE,Condition(function k5))>1))thencall J3(m5,true)endifendifelseif((not Id(O5))and(XSE(m5)))thencall IssueTargetOrderById(m5,$D000F,ABE)endifelseif((i1==1211117642)or(i1==1966092596)or(i1==1966092597)or(i1==1966092598)or(i1==1966092612)or(i1==1966092613)or(i1==1966092614)or(i1==1697656907)or(i1==1697656905)or(i1==1697656908)or(i1==1848652343)or((GetUnitTypeId(QV[O5])==1211117633)and(i1!=1211117633)))thencall jW(m5,$D0012,h9[16+O5])set G0[16+O5]=truecall EYE(1.)if((XZE(m5))and(XZE(ABE))and(IsUnitInRange(m5,ABE,1300.)))thencall jW(m5,$D0012,h9[16+O5])endifset G0[16+O5]=falseendifset m5=nullset ABE=nullendfunctionfunction K1I takes nothing returns booleanreturn((IsUnitInForce(GetTriggerUnit(),GLV))and(IsUnitAlly(GetTriggerUnit(),RX[0]))and(ASE(GetTriggerUnit())))endfunctionfunction K2I takes nothing returns booleanreturn((IsUnitInForce(GetTriggerUnit(),GLV))and(IsUnitAlly(GetTriggerUnit(),GX[0]))and(ASE(GetTriggerUnit())))endfunctionfunction K4I takes unit GBI returns nothingloopcall jW(GetTriggerUnit(),$D0012,h9[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])call TriggerSleepAction(.3)exitwhen((not XZE(GetTriggerUnit()))or(not XZE(GBI))or(not IsUnitInRange(GetTriggerUnit(),GBI,1200.)))endloopendfunctionfunction K5I takes nothing returns nothingif((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))thenset GZ[$80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseset h4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=nullif(IsUnitAlly(GetTriggerUnit(),GX[0]))thencall K4I(ACV)elsecall K4I(NOV)endifelseif(not IsUnitIllusion(GetTriggerUnit()))thencall jW(GetTriggerUnit(),$D0012,h9[16+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endifendfunctionfunction K6I takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(GetUnitCurrentOrder(GetTriggerUnit())!=$D0012)and(not IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))!=nullendfunctionfunction K7I takes nothing returns nothinglocal unit it=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPif((Bz<hq[288+O5])or(not is(it))or((G0[$E0+O5]or Bz<hq[672+O5])and X1E(it)==false))thenset it=nullreturnelseif X2E(O5)thenset it=nullreturnendifset hq[288+O5]=Bz+1.set hq[496+O5]=Bz+1.5call MoveLocation(Ha,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))set bj_lastLoadedUnit=V2E(IsUnitAlly(it,RX[0]),ACV,NOV)set WNV=E3E(it,bj_lastLoadedUnit)if X9E(150.,Ha,Condition(function k0))>6 thencall JEI(it,true)elseif(WNV<900. and WNV+EKE(it)>650.)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))thencall jW(it,$D0012,bj_lastLoadedUnit)elseif(((eY[O5]==3)or(eY[O5]==4))and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))and(not GZ[$80+O5])and(h4[O5]==null)and(GetUnitCurrentOrder(it)==$D000F)and(not GZ[48+O5])and(E3E(it,OUE(it))<6500.))thenif((Bz<hq[784+O5])or(hq[720+O5]<-.1)or((X9E(1000.,Ha,Condition(function A3E))==0)and(X9E(700.,Ha,Condition(function k5))==0)and(X9E(600.,Ha,Condition(function k0))>3)))thencall jW(it,$D0012,bj_lastLoadedUnit)set G0[48+O5]=trueset hq[768+O5]=Bz+1.set hq[784+O5]=Bz+5.endifendifif((not(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)))and(not GZ[$80+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))thenif(not X1E(it))thenif((eY[O5]<$A)and((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(550+(GetHeroLevel(it)*40)))or((GetHeroLevel(it)<$A)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)))))thencall JEI(it,true)endifelsecall AEE(it,false)endifelseif((IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))and(not GZ[$80+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))thenif(not X1E(it))thenif((eY[O5]<$A)and(GetUnitLifePercent(it)<60.)and((OVE(300.,GetTriggerUnit(),Condition(function k5))<3)))thenif(not(OXE(it,BU[V2V]))and(not(OXE(it,BU[N8])))and(not(OXE(it,BU[C8])))and((GetUnitAbilityLevel(it,1112891766)==0)or(GetUnitAbilityLevel(it,1110454838)==0)or(GetUnitAbilityLevel(it,1110454597)==0))and((OVE(1000.,it,Condition(function A3E))>0)or(OVE(900.,it,Condition(function A9E))>0)))thencall JEI(it,true)endifendifelsecall AEE(it,false)endifelseif((X1E(it))and(not Id(O5)))thencall AEE(it,true)elseif((GetHeroLevel(it)<6)or((GetUnitLifePercent(it)<60.)and(R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*50)))and((h4[O5]==null)or(GetUnitState(h4[O5],UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)+(15.*GetHeroLevel(it)))))))thenif((GetHeroLevel(it)<3)or(OVE(500.,GetTriggerUnit(),Condition(function k0))>2))thenset GZ[$80+O5]=falsecall JEI(it,true)endifelseif(GetUnitTypeId(it)==1211117643)and(h4[O5]==null)and(E3E(it,h9[48+O5])>700)thenset UP=GetUnitCurrentOrder(it)if(UP==$D0136 or UP==$D0092 or UP==$D0218)thencall JEI(it,true)endifendifendifset it=nullendfunctionfunction K8I takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetAttacker()))if(B6E(Player(O5)))and(GetUnitAbilityLevel(GetAttacker(),1110455884)>0)and(Bz>J5V[64+O5])and(h4[O5]==GetTriggerUnit())thencall IssuePointOrderById(QV[O5],$D00D9,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))endifendfunctionfunction K9I takes nothing returns booleanif not((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))thenreturn falseelseif IsUnitIllusion(GetAttacker())thencall K8I()return falseendifendifreturn(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))!=nullendfunctionfunction LVI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hz)))and(hZ!=GetFilterUnit())and(hz!=GetFilterUnit())and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not X1E(GetFilterUnit())))!=nullendfunctionfunction LEI takes nothing returns nothingif((not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(kn(GetEnumUnit()))and(GetUnitCurrentOrder(GetEnumUnit())!=$D0012)and(IsUnitInRange(GetEnumUnit(),hz,1200.)))thencall IssueTargetOrderById(GetEnumUnit(),$D000F,hz)endifendfunctionfunction LXI takes unit V_E,unit LOI returns nothinglocal integer IJE=GetPlayerId(GetOwningPlayer(V_E))local integer O5local unit J1I=nulllocal boolean J4=falselocal integer i=0local integer G8I=0local integer j=0local integer k=0local boolean LRI=falselocal unit LII=nulllocal boolean OFE=falselocal boolean EGEif((GetWidgetLife(LOI)>1.)and(V_E!=null)and(Bz>hq[416+IJE]or(Bz+2.>hq[416+IJE]and(X1E(V_E)or X2E(IJE)))))thenset hq[416+IJE]=Bz+5.set k=GetRandomInt(-1,1)if k<0 thenset k=0endifif X1E(V_E)thenset k=k+1endifset EGE=IsUnitAlly(V_E,RX[0])set G8I=V6E(EGE,0,6)set LII=V2E(EGE,ACV,NOV)set LRI=IsUnitInRange(V_E,LII,6000.)set i=1loopexitwhen(i>5)set O5=WMV[80+G8I+i]if(O5!=-1)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)thenset J1I=QV[O5]set bj_lastLoadedUnit=J1Iset hq[416+O5]=Bz+2.set J4=falseset OFE=falseif(J1I==null)or(X1E(J1I))or GetWidgetLife(J1I)<.405 thenelseif((G0[O5])or(hq[480+O5]>Bz))or(h4[O5]!=null and h4[O5]!=LOI and(E3E(V_E,h4[O5])+300<E3E(V_E,LOI)))thenelseif(not LRI)and(eY[O5]==3 or eY[O5]==4 or Bz<hq[528+O5])thenelseif(LRI and eY[O5]!=2 and IsUnitInRange(J1I,LII,6000.))thenset J4=trueelseif((IsUnitInRange(V_E,J1I,3000.))or(eY[80+O5]==eY[80+IJE]))and((hq[624+IJE]>Bz)or(GetUnitLifePercent(V_E)<60.))thenset J4=trueelseif(Bz>hq[320+O5]and(eY[O5]!=9 or(GetUnitLifePercent(V_E)<70.)))and(eY[320+IJE]+j<=k)and(GetHeroLevel(J1I)>=6)and(E3E(V_E,J1I)>$BB8)and(GetUnitLifePercent(J1I)>80.)and(GetUnitManaPercent(J1I)>50.)and((QRV[O5]==3 and GetRandomInt(1,3)==1)or(QRV[O5]==5))and(Bz+(5-i)*10.>hq[576+O5])and(eY[O5]!=1 or(GetUnitCurrentOrder(J1I)!=$D0012 and G0[48+O5]==false))thenif(not OFE)and((GetUnitAbilityLevel(J1I,1093677391)>0)and(Bz>J5V[32+O5]))thenset OFE=IssuePointOrderById(J1I,$D022D,GetUnitX(V_E)+GetRandomReal(-200.,200.),GetUnitY(V_E)+GetRandomReal(-200.,200.))endifif(not OFE)and(GetUnitAbilityLevel(J1I,1093683257)>0 and(Bz>J5V[O5]))thenset OFE=IssueImmediateOrderById(J1I,$D020A)endifif(not OFE)and(GetUnitAbilityLevel(J1I,1093685808)>0 and(Bz>J5V[O5]))thenset OFE=IssuePointOrderById(J1I,$D0278,GetUnitX(V_E),GetUnitY(V_E))endifif(not OFE)and(GetUnitAbilityLevel(J1I,1093751874)>0 and(Bz>J5V[O5]))thenif(Bz>J5V[16+O5])thenset bj_lastReplacedUnit=N2E(1800.,J1I,false)if bj_lastReplacedUnit!=null thenset OFE=OME(J1I,$D0097,1093751873,bj_lastReplacedUnit)set h8[$A0+O5]=V_Eendifendifif(not OFE)thenset OFE=IssuePointOrderById(J1I,$D02B6,GetUnitX(V_E)+GetRandomReal(-200.,200.),GetUnitY(V_E)+GetRandomReal(-200.,200.))endifendifif(not OFE)and(GetPlayerController(GetOwningPlayer(V_E))==MAP_CONTROL_COMPUTER)and(XSE(V_E))and(XSE(J1I))and((GetUnitTypeId(V_E)==1214409837 and OTE(V_E,$D00D4,1093742932))or((GetUnitAbilityLevel(V_E,1093742938)+GetUnitAbilityLevel(V_E,1093742677)+GetUnitAbilityLevel(V_E,1093742937))>0))and(OVE(800.,J1I,Condition(function A5E))==0)thenif(IssueTargetOrderById(V_E,$D0118,J1I))thenset OFE=truecall JEI(J1I,true)endifendifif(not OFE)and(eY[$E0+O5]<R2I(Bz)and GetUnitState(J1I,UNIT_STATE_MANA)>75)thenset J4=ANE(J1I,V_E)endifendifif J4 thenif(h4[O5]==LOI)thenif((GetUnitAbilityLevel(LOI,1110454854)==0)and(is(J1I))and(GetUnitCurrentOrder(J1I)!=$D000F))thencall IssueTargetOrderById(J1I,$D000F,LOI)set OFE=trueendifelseif((h4[O5]==null)or(hq[464+GetPlayerId(GetOwningPlayer(V_E))]>Bz)or((GetUnitLifePercent(LOI)+10.)<GetUnitLifePercent(h4[O5])and(GetWidgetLife(LOI)<GetWidgetLife(h4[O5]))))thenset h4[O5]=LOIif((is(J1I))and(GetUnitAbilityLevel(LOI,1110454854)==0))thencall IssueTargetOrderById(J1I,$D000F,LOI)set OFE=trueendifendifif(hq[624+IJE]>Bz)thenset hq[624+O5]=Bz+20.endifendifif OFE thenset h4[O5]=LOIset j=j+1set hq[576+O5]=Bz+10.set hq[480+O5]=Bz+15.set hq[320+O5]=Bz+10.if eY[O5]==9 or eY[O5]==$A thencall CYE(J1I,V_E)set eY[O5]=1endifendifendifset i=i+1endloopif(IsUnitInForce(V_E,GLV))thencall GroupClear(iH)call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(V_E),G0V)call ForGroup(iH,function LEI)endifif eY[320+IJE]+j<0 and Bz>hq[800+IJE]and B6E(Player(IJE))and X1E(V_E)thenif EGE thenset WGV=WEelseset WGV=YEendifcall I8E(WGV,GetUnitX(V_E),GetUnitY(V_E),GetPlayerId(GetOwningPlayer(V_E)))set hq[800+IJE]=Bz+15.endifendifset WGV=nullendfunctionfunction LAI takes nothing returns nothinglocal unit Z5O=GetAttacker()local unit LNI=GetTriggerUnit()if(not IsUnitInForce(Z5O,GLV))thencall TriggerSleepAction(.2)call LXI(Z5O,LNI)endifif(not IsUnitInForce(LNI,GLV))thencall TriggerSleepAction(.2)call LXI(LNI,Z5O)endifset Z5O=nullset LNI=nullendfunctionfunction LBI takes nothing returns booleanreturn((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(not IsUnitInForce(GetSpellTargetUnit(),GLV)))!=nullendfunctionfunction LCI takes nothing returns nothingcall LXI(GetSpellTargetUnit(),GetTriggerUnit())endfunctionfunction LDI takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local unit LOI=GetAttacker()local unit J1I=nulllocal player pl=nulllocal integer IJElocal integer i=0local integer jlocal integer k=0local real LFIlocal integer O5set IJE=GetPlayerId(GetOwningPlayer(LOI))if IJE==GetPlayerId(RX[0])or IJE==GetPlayerId(GX[0])thenset j=-1if((V_E==A0V)or(V_E==A5V)or(V_E==A8V))or((V_E==NHV)or(V_E==NPV)or(V_E==NTV))thenset j=1elseif((V_E==A1V)or(V_E==A6V)or(V_E==A9V))or((V_E==NJV)or(V_E==NQV)or(V_E==NUV))thenset j=0elseif((V_E==A2V)or(V_E==A7V)or(V_E==NVV))or((V_E==NKV)or(V_E==NSV)or(V_E==NWV))thenset j=2elseif((V_E==A3V)or(V_E==A3V)or(V_E==ASV))or((V_E==NLV)or(V_E==NLV)or(V_E==NAV))thenset j=3endifif(j!=-1 or GetWidgetLife(V_E)<=W1V)thenset WDV=IsUnitAlly(V_E,RX[0])set pl=Player(IJE)if(R2E(GetHandleId(V_E),"AI|Glyph|CD")>Bz)thenelseif(Bz>R2E(G2V,"AI|Glyph|"+V9E(WDV,"Sent","Scrg")))thencall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(V_E),GetUnitY(V_E),900.,null)loopset J1I=FirstOfGroup(H8)exitwhen J1I==nullcall GroupRemoveUnit(H8,J1I)if GetWidgetLife(J1I)<.405 thenelseif IsUnitType(J1I,UNIT_TYPE_HERO)and GetUnitTypeId(J1I)!=1211117642 thenif IsUnitAlly(J1I,pl)thenset k=k+1elseset k=k-1endifelseif V_E!=J1I and ASE(J1I)and IsUnitInRange(J1I,V_E,300.)thenif IsUnitAlly(J1I,pl)thenset k=GetUnitTypeId(J1I)if(k==1969711215 or k==1970169187)or(k==1966092337 or k==1966092338)or(k==1702061422 or k==1701081721)or(k==1697656918 or k==1697656919)thenset i=i+1elseif(k==1970107511 or k==1966092370)or(k==1700946284 or k==1697657398)thenset i=i+2elseset i=i+2endifelseset i=-99999endifendifendloopif((WDV and WZV)or((not WDV)and W_V))thenset bj_forLoopAIndex=425elseset bj_forLoopAIndex=W1Vendifif(i>0 and i+k*3>8-IMaxBJ(bj_forLoopAIndex-R2I(GetWidgetLife(V_E)),-100)/25)thenif WDV thenset WGV=WEelseset WGV=YEendifset i=1set k=-1set LFI=99999.loopexitwhen i>5if WDV thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i])endifif B6E(Player(O5))thenif((WDV and WZV)or((not WDV)and W_V))thencall IssueImmediateOrderById(N7V[O5],$D0114)exitwhen trueelseif k==-1 thenset k=O5if QV[O5]!=null and GetWidgetLife(QV[O5])>.405 thenset LFI=E3E(V_E,QV[O5])endifelseif QV[O5]!=null and GetWidgetLife(QV[O5])>.405 thenset WNV=E3E(V_E,QV[O5])if WNV<LFI thenset k=O5set LFI=WNVendifelseif LFI==99999. and GetRandomInt(1,i)==1 thenset k=O5endifendifendifendifset i=i+1endloopif k!=-1 thencall I4E(QV[k],WGV,"Requesting |c00ffcc00Glyph of Fortification|r")call I8E(WGV,GetUnitX(V_E),GetUnitY(V_E),k)call O5E(GetHandleId(V_E),"AI|Glyph|CD",Bz+60.)endifendifendifendifset O5=GetUnitTypeId(LOI)if j!=-1 and((O5==1969711215 or O5==1970169187)or(O5==1966092337 or O5==1966092338)or(O5==1702061422 or O5==1701081721)or(O5==1697656918 or O5==1697656919))thenset i=1set WNV=99999.set bj_forLoopAIndex=-1loopexitwhen i>5if IJE==GetPlayerId(RX[0])thenset O5=GetPlayerId(GX[i])elseset O5=GetPlayerId(RX[i])endifif((QV[O5]!=null)and(not X1E(QV[O5]))and(GetWidgetLife(QV[O5])>400.)and(eY[O5]==3 or eY[O5]==4)and(WMV[64+O5]==j)and(Bz>hq[672+O5]))thenset LFI=E3E(QV[O5],V_E)if LFI<WNV thenset WNV=LFIset bj_forLoopAIndex=O5endifendifset i=i+1endloopif bj_forLoopAIndex!=-1 thenset O5=bj_forLoopAIndexset G0[$E0+O5]=trueset WPV[48+O5]=GetAttacker()if XSE(QV[O5])thencall IssueTargetOrderById(QV[O5],$D000F,WPV[48+O5])endifendifendifendifset V_E=nullset LOI=nullset J1I=nullset pl=nullendfunctionfunction LGI takes nothing returns booleanlocal real LHI=.0local integer O5if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)thenset O5=GetPlayerId(GetOwningPlayer(GetAttacker()))if G0[$E0+O5]and GetTriggerUnit()==WPV[48+O5]thenset G0[$E0+O5]=falseset hq[672+O5]=Bz+2.endifelseif IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)and Bz>W0V thenset W0V=Bz+1.call LDI()endifif(Bz<600.)thenset LHI=130.elseif(Bz<1200.)thenset LHI=140.elseif(Bz>1200.)thenset LHI=150.endifreturn((not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetTriggerUnit())<LHI))!=nullendfunctionfunction LJI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))set h4[96+O5]=GetTriggerUnit()call DisableTrigger(GZV[O5])call IssueTargetOrderById(GetEnumUnit(),$D000F,GetTriggerUnit())call EnableTrigger(GZV[O5])endfunctionfunction LKI takes nothing returns booleanlocal integer O5if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))thenset O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))if((X2E(O5))or((h4[304+O5]!=null)and(EKE(GetFilterUnit())+E3E(GetTriggerUnit(),h4[304+O5])<E3E(GetFilterUnit(),h4[304+O5]))))thenelseif((iU(GetFilterUnit()))and(not Id(O5))and(not X1E(GetFilterUnit()))and((h4[96+O5]==null)or(not XZE(h4[96+O5]))or((h4[96+O5]!=null)and(XZE(h4[96+O5]))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(h4[96+O5]))))))thenreturn((Jw(GetFilterUnit()))and(G0[$80+O5])and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(Bz>hq[496+O5])and((not ATE(GetFilterUnit()))or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),500.)))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))or(GetHeroLevel(GetFilterUnit())<$F)))endifendifreturn falseendfunctionfunction LLI takes nothing returns nothingcall GroupClear(iG)call GroupEnumUnitsInRange(iG,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,G1V)call ForGroup(iG,function LJI)endfunctionfunction LMI takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetKillingUnit()))if GetKillingUnit()==QV[O5]and(eY[O5]==3 or eY[O5]==4)thencall G_I(QV[O5])endifreturn falseendfunctionfunction LPI takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==Player($C))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction LQI takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player($C))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852010091))endfunctionfunction LSI takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player($C))and(GetWidgetLife(GetFilterUnit())>.405)and(i1==1852534636))endfunctionfunction LTI takes nothing returns nothingif((h0==null)or(GetUnitLevel(GetEnumUnit())>GetUnitLevel(h0))or((GetUnitLevel(GetEnumUnit())==GetUnitLevel(h0))and(GetUnitState(h0,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))))thenset h0=GetEnumUnit()endifendfunctionfunction LUI takes unit CUE returns unitlocal boolexpr Ig=Condition(function LPI)set h0=nullcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(CUE),GetUnitY(CUE),600.,Ig)call ForGroup(H8,function LTI)call DestroyBoolExpr(Ig)set Ig=nullreturn h0endfunctionfunction LWI takes unit CUE,integer EQE,integer LYI returns unitlocal boolexpr Ig=nullif(LYI==1852010091)thenset Ig=Condition(function LQI)elseif(LYI==1852534636)thenset Ig=Condition(function LSI)elseset Ig=Condition(function LQI)endifset h0=nullcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(CUE),GetUnitY(CUE),600.,Ig)call ForGroup(H8,function LTI)call DestroyBoolExpr(Ig)set Ig=nullreturn h0endfunctionfunction LZI takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(eY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(GetHeroLevel(GetTriggerUnit())>3)and(not X1E(GetTriggerUnit()))and(not IsUnitIllusion(GetTriggerUnit()))and(GetUnitAbilityLevel(GetTriggerUnit(),1110454874)==0))!=nullendfunctionfunction L_I takes unit CUE returns booleanlocal integer O5=1local boolean O6=IsUnitAlly(GetTriggerUnit(),RX[0])local boolean L0I=falselocal integer L1I=0local integer L2I=0if((O6)and(GetHeroLevel(GetTriggerUnit())>$F)and(G2>=0))thenset L2I=OVE(1200.,GetTriggerUnit(),Condition(function NVE))set L0I=L2I>0elseif((not O6)and(GetHeroLevel(GetTriggerUnit())>$F)and(G1>=0))thenset L2I=OVE(1200.,GetTriggerUnit(),Condition(function NVE))set L0I=L2I>0endifloopif((eY[GetPlayerId(RX[O5])]==$A)and(h8[48+GetPlayerId(RX[O5])]==CUE))thenreturn trueendifif((eY[GetPlayerId(GX[O5])]==$A)and(h8[48+GetPlayerId(GX[O5])]==CUE))thenreturn trueendifif((L0I)and(eY[80+GetPlayerId(OZE(O5,not O6))]==eY[80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))thenset L1I=L1I+1endifset O5=O5+1exitwhen O5>5endloopif(L0I)thenreturn L1I>=L2Iendifreturn falseendfunctionfunction L3I takes unit it returns booleanlocal integer L4I=0local boolean J4=truelocal unit CQE=nulllocal player pl=GetOwningPlayer(it)call GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),1600.,G0V)loopset CQE=FirstOfGroup(H8)exitwhen((CQE==null)or(not J4))if((not XZE(CQE))or(not kn(CQE)))thenelseif(IsUnitEnemy(CQE,pl))thenif((IsUnitType(CQE,UNIT_TYPE_HERO))or(IsUnitType(CQE,UNIT_TYPE_STRUCTURE)))thenset J4=falseelseif(((GetOwningPlayer(CQE)==RX[0])or(GetOwningPlayer(CQE)==GX[0]))and(IsUnitInRange(CQE,it,1200.)))thenset L4I=L4I+1set J4=L4I<=3endifendifcall GroupRemoveUnit(H8,CQE)endloopset pl=nullreturn J4endfunctionfunction L5I takes unit L7I,unit CEE returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(CEE))if(L7I==h7[$D3]or L7I==h7[$D4])thenif(GetHeroLevel(CEE)>7)thenif(LWI(h7[262],O5,1852010091)!=null)thenreturn h7[262]elseif(LWI(h7[260],O5,1852010091)!=null)thenreturn h7[260]elseif(LWI(h7[$FD],O5,1852010091)!=null)thenreturn h7[$FD]elseif(LWI(h7[258],O5,1852010091)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852010091)!=null)thenreturn h7[256]elsereturn h7[262]endifelseif(LWI(h7[262],O5,1852534636)!=null)thenreturn h7[262]elseif(LWI(h7[260],O5,1852534636)!=null)thenreturn h7[260]elseif(LWI(h7[$FD],O5,1852534636)!=null)thenreturn h7[$FD]elseif(LWI(h7[258],O5,1852534636)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852534636)!=null)thenreturn h7[256]elsereturn h7[260]endifendifelseif(L7I==h7[$D5])thenif(GetHeroLevel(CEE)>7)thenif(LWI(h7[257],O5,1852010091)!=null)thenreturn h7[257]elseif(LWI(h7[259],O5,1852010091)!=null)thenreturn h7[259]elseif(LWI(h7[261],O5,1852010091)!=null)thenreturn h7[261]elsereturn h7[257]endifelseif(LWI(h7[261],O5,1852534636)!=null)thenreturn h7[261]elseif(LWI(h7[259],O5,1852534636)!=null)thenreturn h7[259]elsereturn h7[261]endifendifelseif((L7I==h7[$DD])or(L7I==h7[$DE]))thenif(GetHeroLevel(CEE)>7)thenif(LWI(h7[$FE],O5,1852010091)!=null)thenreturn h7[$FE]elseif(LWI(h7[$FF],O5,1852010091)!=null)thenreturn h7[$FF]elsereturn h7[$FE]endifelseif(LWI(h7[$FE],O5,1852534636)!=null)thenreturn h7[$FE]elseif(LWI(h7[$FF],O5,1852534636)!=null)thenreturn h7[$FF]elsereturn h7[$FE]endifendifelseif(L7I==h7[$DF])thenif(GetHeroLevel(CEE)>7)thenif((IsUnitAlly(CEE,GX[0])))thenif(LWI(h7[$FE],O5,1852010091)!=null)thenreturn h7[$FE]elseif(LWI(h7[$FF],O5,1852010091)!=null)thenreturn h7[$FF]elsereturn h7[$FF]endifendifelseif((IsUnitAlly(CEE,GX[0])))thenif(LWI(h7[$FE],O5,1852534636)!=null)thenreturn h7[$FE]elseif(LWI(h7[$FF],O5,1852534636)!=null)thenreturn h7[$FF]elsereturn h7[$FF]endifendifendifelseif(L7I==h7[$E7])thenif(GetHeroLevel(CEE)>7)thenif((IsUnitAlly(CEE,RX[0])))thenif(LWI(h7[$FD],O5,1852010091)!=null)thenreturn h7[$FD]elseif(LWI(h7[258],O5,1852010091)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852010091)!=null)thenreturn h7[256]elsereturn h7[$FD]endifendifelseif((IsUnitAlly(CEE,RX[0])))thenif(LWI(h7[$FD],O5,1852534636)!=null)thenreturn h7[$FD]elseif(LWI(h7[258],O5,1852534636)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852534636)!=null)thenreturn h7[256]elsereturn h7[$FD]endifendifendifelseif((L7I==h7[$E8])or(L7I==h7[$E9]))thenif(GetHeroLevel(CEE)>7)thenif((IsUnitAlly(CEE,RX[0])))thenif(LWI(h7[256],O5,1852010091)!=null)thenreturn h7[256]elseif(LWI(h7[258],O5,1852010091)!=null)thenreturn h7[258]elsereturn h7[256]endifendifelseif((IsUnitAlly(CEE,RX[0])))thenif(LWI(h7[256],O5,1852534636)!=null)thenreturn h7[256]elseif(LWI(h7[258],O5,1852534636)!=null)thenreturn h7[258]elsereturn h7[256]endifendifendifelseif(L7I==h7[$EA])thenif(GetHeroLevel(CEE)>7)thenif(LWI(h7[258],O5,1852010091)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852010091)!=null)thenreturn h7[256]elsereturn h7[258]endifelseif(LWI(h7[258],O5,1852534636)!=null)thenreturn h7[258]elseif(LWI(h7[256],O5,1852534636)!=null)thenreturn h7[256]elsereturn h7[258]endifendifendifreturn nullendfunctionfunction L8I takes unit it,unit L9I,integer j returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer UPlocal unit MVI=nulllocal unit m5=nulllocal boolean MEI=falselocal boolean MXI=falselocal boolean MOI=(i1==1211117633)or(i1==1429221443)or(i1==1332766568)or(i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194)or(i1==1430467634)if X1E(it)or((Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5]))==false thenreturn falseendifcall MoveLocation(Ha,GetUnitX(it),GetUnitY(it))if((not iy(it))or(not L3I(it))or((GetHeroLevel(it)<7)and(i1!=1429221443)and(i1!=1332766568)and(i1!=1164277353)and(i1!=1164277357)and(i1!=1430467634)))thenset MEI=falseelseif(i1==1211117633)thenset UP=IH(GetOwningPlayer(it),Condition(function DKO))set MEI=(Bz>hq[O5])and(GetUnitManaPercent(it)>20.)and(UP<(GetUnitAbilityLevel(it,1093810260)-1))set MXI=(UP>0)and(GetHeroLevel(it)>$C)and(GetUnitLifePercent(it)>75.)elseif(((IsUnitAlly(it,RX[0]))and(not Gv))or((IsUnitAlly(it,GX[0]))and(not Gw))or(Bz<hq[528+O5]))thenset MEI=falseelseif(i1==1429221443)thenif(GetHeroLevel(it)<18)thenset MEI=trueelseset MEI=(GetRandomInt(1,6)==1 or(j!=0))endifset MXI=GetHeroLevel(it)>$Aelseif((i1==1432646245)and(not HXE()))thenset MEI=falseelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenset MEI=(GetUnitManaPercent(it)>50.)and(Bz>hq[O5])elseif(OXE(it,BU[F7]))thenset MEI=(Bz>hq[$90+O5])and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)if((not MEI)and(i1==1164799855))thenif(GetHeroLevel(it)<18)thenset MEI=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])elseset MEI=(GetRandomInt(1,8)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])endifendifelseif((i1==1160786241)or(i1==1211117643)or(i1==1332963428)or(i1==1433105516)or(QRV[GetPlayerId(GetOwningPlayer(it))]==1)or((GetHeroLevel(it)>20)and(Bz>2700.))or(GetHeroLevel(it)>=25))thenset MEI=falseelseif(i1==1164799855)thenif(GetHeroLevel(it)<18)thenset MEI=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])elseset MEI=(GetRandomInt(1,$A)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])endifelseif(i1==1430467634)thenif(((GetUnitAbilityLevel(it,1093750832)==0)and(GetHeroLevel(it)>7))or(((GetUnitAbilityLevel(it,1395667021)==0)and(GetHeroLevel(it)<8))))thenset MEI=trueelseif(GetHeroLevel(it)<$D)thenset MEI=(GetRandomInt(1,3)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)elseif(GetHeroLevel(it)<16)thenset MEI=(GetRandomInt(1,5)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)elseset MEI=(GetRandomInt(1,$A)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)endifendifif((MEI)and(Bz<J5V[16+O5])or((J5V[16+O5]-Bz)>5))thenset MEI=falseendifelseif(i1==1214409837)thenset MEI=(GetHeroLevel(it)<$F)and(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(Bz>hq[O5])and(GetUnitLifePercent(it)>85.)elseif(i1==1164666213)thenif(GetHeroLevel(it)<18)thenset MEI=(GetRandomInt(1,2)==1 or(j!=0))and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])elseset MEI=(GetRandomInt(1,$A)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])endifelseif((i1==1215722344)or(i1==1164277353)or(i1==1164277357)or(i1==1215657064)or((i1==1313026096)and(GetHeroLevel(it)>$B))or(OXE(it,BU[N8]))or(OXE(it,BU[V2V]))or(OXE(it,BU[C8]))or(OXE(it,BU[EOV])))thenif(GetHeroLevel(it)<18)thenset MEI=(GetRandomInt(1,2)==1 or(j!=0))elseset MEI=(GetRandomInt(1,6)==1 or(j!=0))endifset MXI=(GetHeroLevel(it)>$A)and(i1!=1164277353)and(i1!=1164277357)elseif((GetHeroLevel(it)>8)and(GetUnitLifePercent(it)>90.)and(GetUnitManaPercent(it)>50.))thenif(GetHeroLevel(it)>=18)thenset MEI=falseelseif(((kq(i1))and(i1!=1160786242)and(i1!=1433631084)and(i1!=1212365106)and(i1!=1332179560))or(i1==1211117640)or(i1==1429221445))thenset MEI=(GetRandomInt(1,3)==1 or(j!=0))elseset MEI=(GetHeroLevel(it)>$B)and(GetRandomInt(1,5)==1 or(j!=0))endifendifif(MEI)thenif(j!=0)thenset MVI=h7[j]elseif(L9I==h7[$D3])thenif((IsUnitAlly(it,RX[0]))or(MOI))thenset MVI=h7[262]endifelseif(L9I==h7[$D4])thenif(((MXI)and(GetHeroLevel(it)>$F))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.)))thenset MXI=trueset MVI=h7[$FC]set m5=LUI(MVI)if(m5==null)thenset MVI=h7[260]endifelseif((IsUnitAlly(it,RX[0]))or(MOI))thenset MVI=h7[260]endifelseif(L9I==h7[$D5])thenif((IsUnitAlly(it,GX[0]))or(MOI))thenset MVI=h7[261]set m5=LUI(MVI)if(m5==null)thenset MVI=h7[259]endifendifelseif((L9I==h7[$DD])or(L9I==h7[$DE]))thenset MVI=h7[$FE]elseif(L9I==h7[$DF])thenif((IsUnitAlly(it,GX[0]))or(MOI))thenset MVI=h7[257]set m5=LUI(MVI)if((m5==null)or((not MXI)and((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))))thenset MVI=h7[$FF]endifendifelseif(L9I==h7[$E7])thenif((IsUnitAlly(it,RX[0]))or(MOI))thenset MVI=h7[$FD]endifelseif((L9I==h7[$E8])or(L9I==h7[$E9]))thenset MVI=h7[256]elseif(L9I==h7[$EA])thenif((IsUnitAlly(it,GX[0]))or(MOI))thenset MVI=h7[258]endifelseif(L9I==h7[$EB])thenset MVI=h7[$FB]set MXI=((MXI)and(GetHeroLevel(it)>$F))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.))elseset MVI=nullendifif((i1==1430467634)and(((GetHeroLevel(it)>7)and(GetUnitAbilityLevel(it,1093750832)==0))or((GetHeroLevel(it)<8)and(GetUnitAbilityLevel(it,1395667021)==0))))thenset MVI=L5I(L9I,it)endifset m5=LUI(MVI)if((m5==null)or(L_I(MVI)))thenset MEI=falseelseif((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))thenset MEI=MXIendifset MEI=((MVI!=null)and(MEI))if MEI thenset h8[48+O5]=MVIset h8[32+O5]=L9Iset h4[64+O5]=m5call AVE(it,"Jungling")set eY[O5]=$Aset hq[432+O5]=Bz+40.if j==0 thenif GetRandomInt(0,1)==0 thenset eY[384+O5]=-1elseset eY[384+O5]=1endifendifendifendifset it=nullset L9I=nullset m5=nullset MVI=nullreturn MEIendfunctionfunction MRI takes nothing returns nothingcall L8I(GetTriggerUnit(),RME(GetHandleId(GetTriggeringTrigger()),"CrpRect"),0)endfunctionfunction MII takes integer FUI returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[FUI],400.,G0V)call O8E(GetHandleId(t),"CrpRect",h7[FUI])call TriggerAddCondition(t,Condition(function LZI))call TriggerAddAction(t,function MRI)endfunctionfunction MAI takes nothing returns nothingcall MII($D3)call MII($D4)call MII($D5)call MII($DD)call MII($DE)call MII($DF)call MII($E7)call MII($E8)call MII($E9)call MII($EA)call MII($EB)endfunctionfunction MNI takes nothing returns nothinglocal item XJE=GetEnumItem()local integer i1if(GetWidgetLife(XJE)<=.405)thenelseset WFV=GetItemPlayer(XJE)set i1=XGE(XJE)if(not IsVisibleToPlayer(GetItemX(XJE),GetItemY(XJE),Player(VCE)))and(i1!=VAV and i1!=VSV and i1!=VTV and i1!=GY)thenelseif IsPlayerAlly(WFV,Player(VCE))and((IsUnitInRangeLoc(h9[16+VCE],jv(XJE),700)and(i1!=VSV and i1!=VTV and i1!=GY))or(IsUnitInRangeLoc(N7V[GetPlayerId(WFV)],jv(XJE),100))or((WFV!=Player(VCE))and(not I4V[GetPlayerId(WFV)])and(IsUnitInRangeXY(QV[GetPlayerId(WFV)],GetItemX(XJE),GetItemY(XJE),700))))thenelseif IsUnitInRangeLoc(VNE,jv(XJE),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))thenelseset WBV=E3E(QV[VCE],XJE)if(Hu==null)or(i1==VAV or i1==VSV or i1==VTV)or(WBV<WNV and(VBE!=VAV and VBE!=VSV and VBE!=VTV))thenset Hu=XJEset VBE=i1set WNV=WBVendifendifendifset XJE=nullendfunctionfunction MBI takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean J4=falselocal boolean MCI=falselocal integer i1if eY[528+O5]>3 or Bz<Z8V[$A0+O5]thenset Z7V[336+O5]=nullset eY[528+O5]=0return falseelseif((Z7V[336+O5]!=null)and((not IsItemVisible(Z7V[336+O5]))or(GetWidgetLife(Z7V[336+O5])<=.405)or(not IsUnitInRangeXY(it,GetItemX(Z7V[336+O5]),GetItemY(Z7V[336+O5]),800.))))thenset Z7V[336+O5]=nullendifif Z7V[320+O5]!=null and GetWidgetLife(Z7V[320+O5])<=0 thenset Z7V[320+O5]=nullendifif(Z7V[336+O5]==null)thenset eY[528+O5]=1if Z7V[320+O5]==null thencall SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set Hu=nullset bj_lastCreatedUnit=itset VCE=O5set VBE=0set WNV=$F423Fif IsUnitAlly(it,RX[0])thenset VNE=NOVelseset VNE=ACVendifcall EnumItemsInRect(He,G0V,function MNI)set Z7V[336+O5]=Huelseset Hu=Z7V[320+O5]endifelseset Hu=Z7V[336+O5]set eY[528+O5]=eY[528+O5]+1endifif((Hu!=null)and(iU(it)))thenset i1=VBEset bj_forLoopAIndex=GetItemTypeId(Hu)set WFV=GetItemPlayer(Hu)if((bj_forLoopAIndex==1227894859)or(bj_forLoopAIndex==1227894838)or(bj_forLoopAIndex==1227894840)or(bj_forLoopAIndex==1227894858)or(bj_forLoopAIndex==1227894839))thenelseif Hu==Z7V[320+O5]thenset MCI=trueelseif(i1==VAV or i1==VSV or i1==VTV)and(DDI(O5,it)!=-1 and bj_forLoopBIndexEnd<100)thenelseif IsPlayerEnemy(Player(O5),WFV)and(not HLX(i1))and(i1!=GY and i1!=HY)thenset MCI=trueelseif WFV!=Player(O5)and(not HLX(i1))and(not B4I(i1))and(IEV[i1]<500)thenset MCI=trueelseif(i1==GY or i1==HY)and(ODE(it,BU[GY]))thenset MCI=trueelseif(not OOE(it))thenelseif(DDI(O5,it)!=-1)thenif(B8I(O5,null,Hu,i1,false)<B8I(O5,null,bj_lastCreatedItem,XGE(bj_lastCreatedItem),false))thenset MCI=trueendifelseif DFI(O5,it)thenelseset MCI=trueendifif(not MCI)thenif IsUnitInRangeLoc(VNE,jv(Hu),700)thenelseset J4=(IssueTargetOrderById(it,$D0003,Hu))set Z8V[288+O5]=i1endifelseif IsUnitInRangeLoc(VNE,jv(Hu),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))thenelseset J4=(IssueTargetOrderById(it,$D000F,Hu))endifendifif J4 thenset hq[832+O5]=Bz+(E4E(GetUnitX(it),GetUnitY(it),GetItemX(Hu),GetItemY(Hu))/GetUnitMoveSpeed(it))+1.endifif(not J4)thenset Z7V[336+O5]=nullendifendifset Hu=nullreturn J4endfunctionfunction MDI takes nothing returns nothingif((H0==null)and(GetWidgetLife(GetEnumDestructable())>.5))thenset H0=GetEnumDestructable()endifendfunctionfunction MFI takes unit it returns booleanset H0=nullcall SetRect(He,GetUnitX(it)-450.,GetUnitY(it)-450.,GetUnitX(it)+450.,GetUnitY(it)+450.)call EnumDestructablesInRect(He,Condition(function K8),function MDI)return((H0!=null)and(UnitUseItemTarget(it,OAE(it,BU[C5]),H0)))endfunctionfunction MGI takes integer O5,boolean O6 returns nothingif(not O6)thenif(h8[32+O5]==h7[$D5])thenset h8[32+O5]=h7[17]elseif(h8[32+O5]==h7[$D4])thenif(h8[48+O5]==h7[$FC])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[$F]elseset h8[32+O5]=h7[325]set h9[32+O5]=h7[$F]endifelseif(h8[32+O5]==h7[$D3])thenset h8[32+O5]=h7[$D]elseif(h8[32+O5]==h7[$DF])thenset h8[32+O5]=h7[38]elseif(h8[32+O5]==h7[$DE])thenset h8[32+O5]=h7[37]elseif(h8[32+O5]==h7[$DD])thenset h8[32+O5]=h7[36]call CWE(GetEnumUnit(),$87)elseif(h8[32+O5]==h7[$EB])thenset h8[32+O5]=h7[59]elseif(h8[32+O5]==h7[$EA])thenset h8[32+O5]=h7[325]set h9[32+O5]=h7[58]elseif(h8[32+O5]==h7[$E9])thenset h8[32+O5]=h7[$EA]elseif(h8[32+O5]==h7[$E8])thenset h8[32+O5]=h7[56]call CWE(GetEnumUnit(),$9B)elseif(h8[32+O5]==h7[$E7])thenset h8[32+O5]=h7[54]endifelseif(O6)thenif(h8[32+O5]==h7[$D5])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[$D]elseif(h8[32+O5]==h7[$D4])thenset h8[32+O5]=h7[$C]elseif(h8[32+O5]==h7[$D3])thenset h8[32+O5]=h7[$B]elseif(h8[32+O5]==h7[$DF])thenset h8[32+O5]=h7[36]elseif(h8[32+O5]==h7[$DE])thenset h8[32+O5]=h7[$DD]call CWE(GetEnumUnit(),35)elseif(h8[32+O5]==h7[$DD])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[33]elseif(h8[32+O5]==h7[$EB])thenset h8[32+O5]=h7[325]set h9[32+O5]=h7[56]elseif(h8[32+O5]==h7[$EA])thenset h9[32+O5]=h7[56]elseif(h8[32+O5]==h7[$E9])thenset h8[32+O5]=h7[54]call CWE(GetEnumUnit(),55)elseif(h8[32+O5]==h7[$E8])thenset h8[32+O5]=h7[53]elseif(h8[32+O5]==h7[$E7])thenset h8[32+O5]=h7[52]endifendifendfunctionfunction MHI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not kD(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))!=nullendfunctionfunction MJI takes location b5 returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local unit m5=h4[64+O5]local integer i1local boolean J4=falselocal integer MKI=0local integer ilocal integer jlocal integer klocal integer MLIif(OVE(900.,h8[32+O5],Condition(function MHI))>0)thencall MGI(O5,IsUnitAlly(it,RX[0]))endifif((X1E(it))or(X9E(900.,b5,Condition(function k6))>0))thenset eY[O5]=1set hq[544+O5]=Bz+30.set h4[64+O5]=nullcall MGI(O5,IsUnitAlly(it,RX[0]))call J3(it,false)if((not X1E(it))and(h4[O5]==null)and(G0[$80+O5]))thenset h4[O5]=X8E(900.,b5,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(it,$D000F,h4[O5])endifendifset it=nullset m5=nullreturnendifset MKI=OVE(600.,h8[48+O5],Condition(function LPI))if MKI==0 thenset i1=GetUnitTypeId(it)set j=GetHeroLevel(it)if EIE(i1,1)or EIE(i1,2)thenif j<$C thenset i=0elseset i=GetRandomInt(0,(j-$C)/2)endifelseif EIE(i1,3)thenset i=GetRandomInt(0,2)elseset i=GetRandomInt(0,3)endifif i==0 thenset i=0loopexitwhen(i>9)or(h8[48+O5]==h7[WTV[i]])set i=i+1endloopset MLI=iset j=0set k=eY[384+O5]loopif i==0 or i==4 or i==5 or i==9 thenset k=-kset eY[384+O5]=kset i=MLIendifset i=i+kexitwhen(j>5)or(L8I(it,h8[48+O5],WTV[i]))set j=j+1endloopset MKI=OVE(600.,h8[48+O5],Condition(function LPI))endifendifif(MKI==0)thenif(h8[48+O5]!=h8[32+O5])thenset h8[48+O5]=h8[32+O5]call J3(it,false)endifif(E3E(h8[32+O5],it)<400.)thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)endifelseif(h8[48+O5]!=h8[32+O5])and(E3E(h8[48+O5],it)<400.)thenset bj_lastLoadedUnit=X8E(600.,jv(h8[48+O5]),Condition(function LPI))if UnitIsSleeping(bj_lastLoadedUnit)thencall IssueTargetOrderById(it,$D000F,bj_lastLoadedUnit)set J4=trueendifendifif(MKI==0)or J4 thenelseif((m5!=null)and(XZE(m5))and(GetOwningPlayer(m5)==GetOwningPlayer(it)))thenif(is(it))thencall jW(it,$D000F,h8[48+O5])endifcall jW(m5,$D000F,h8[48+O5])elseif(GetUnitTypeId(GetEnumUnit())==1211117633)thenif((m5==null)or(not XZE(m5)))thencall jW(it,$D000F,h8[48+O5])elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))thenset J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,$D0003,m5)))or(OME(it,$D00A3,1093810260,m5))or(jW(it,$D000F,h8[48+O5]))endifelseif(GetUnitTypeId(GetEnumUnit())==1164799855)thenif((m5==null)or(not XZE(m5)))thencall jW(it,$D000F,h8[48+O5])elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))thenset J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,$D0003,m5)))or(OME(it,$D006B,1093682264,m5)or(jW(it,$D000F,h8[48+O5])))endifelseif(is(it))thenif((h4[64+O5]==null)or(not XZE(h4[64+O5]))or(not IsUnitInRange(it,h4[64+O5],800.)))thenset h4[64+O5]=X6E(800.,b5,Condition(function LPI))endifset m5=h4[64+O5]if((m5!=null)and(GetWidgetLife(m5)>.405)and(OXE(it,BU[N8])))thenset i1=GetUnitTypeId(m5)set J4=(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(UnitUseItemTarget(it,OAE(it,BU[N8]),m5)))elseif((m5!=null)and(GetWidgetLife(m5)>.405)and(OXE(it,BU[F7])))thenset i1=GetUnitTypeId(m5)set J4=((i1!=1852534626)and(i1!=1852272243)and(i1!=1852534644)and(UnitUseItemTarget(it,OAE(it,BU[F7]),m5)))endifif(not J4)thenset J4=((m5!=null)and(IssueTargetOrderById(it,$D000F,m5)))or(jW(it,$D000F,h8[48+O5]))endifendifset it=nullset m5=nullendfunctionfunction MMI takes unit u returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(u))local integer UP=0if(X1E(u))thenif XSE(u)thencall jW(u,$D0012,h9[O5])endifelseif(E3E(u,OUE(u))<12000.)thenif(not IsUnitAlly(u,RX[0]))thenset UP=100endifif(h9[16+O5]==h7[35])thenset h8[16+O5]=h7[35+UP]set h8[O5]=h7[35+UP]elseif(h9[16+O5]==h7[55])thenset h8[16+O5]=h7[55+UP]set h8[O5]=h7[55+UP]elseif(h9[16+O5]==h7[$E])thenset h8[16+O5]=h7[$E+UP]set h8[O5]=h7[$E+UP]endifset h9[O5]=OUE(u)set h9[16+O5]=OUE(u)endifif XSE(u)thencall jW(u,$D000F,h8[O5])endifset eY[O5]=1set G0[32+O5]=falseset hq[528+O5]=Bz+60.set hq[592+O5]=Bz+180.if(hG[32+O5]!=-1)thenif((hG[32+O5]-GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD))<$3E8)thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)+$3E8endifendifendifendfunctionfunction MPI takes nothing returns nothingif(GetItemTypeId(GetEnumItem())==NU[VAV])and(GetWidgetLife(GetEnumItem())>.405)thenset Hu=GetEnumItem()endifendfunctionfunction MQI takes nothing returns nothinglocal real E2E=Bz+3.local unit m5=nulllocal integer i=1local integer jlocal integer EJElocal integer klocal integer O5=0local unit V_E=nulllocal unit J1I=nulllocal item XJE=nulllocal player pl=nulllocal boolean OFE=truelocal boolean J4=trueif not(GetUnitTypeId(GetDyingUnit())==1848651852)thenreturnendifset V_E=GetKillingUnit()set pl=GetOwningPlayer(V_E)set m5=GetDyingUnit()loopset i=1loopexitwhen i>$Aif i<=5 thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i-5])endifif(QV[O5]!=null)and(GetWidgetLife(QV[O5])>.405)and(IsUnitInRange(QV[O5],m5,1200.))thenif(IsUnitEnemy(QV[O5],pl))and(IsUnitVisible(QV[O5],pl))thenset E2E=.1exitwhen trueendifendifset i=i+1endloopexitwhen Bz>E2Ecall TriggerSleepAction(.3)endloopcall SetRect(He,GetUnitX(m5)-600.,GetUnitY(m5)-600.,GetUnitX(m5)+600.,GetUnitY(m5)+600.)set Hu=nullcall EnumItemsInRect(He,G0V,function MPI)if Hu!=null thenset V_E=nullset J1I=nullset j=0set EJE=0set k=0set i=1loopexitwhen i>$Aif i<=5 thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i-5])endifif(QV[O5]!=null)and(GetWidgetLife(QV[O5])>.405)and(B6E(Player(O5)))and(IsUnitInRange(QV[O5],m5,1000.)and(IsVisibleToPlayer(GetItemX(Hu),GetItemY(Hu),Player(O5))))thenset EJE=D[O5]+UT[O5]if(IsUnitAlly(QV[O5],pl))thenif V_E==null or(j>EJE)thenif(not OOE(QV[O5]))or(DFI(O5,QV[O5]))thenset OFE=falseset V_E=QV[O5]set j=EJEelseif OFE thenset V_E=QV[O5]set j=EJEendifendifelseif J1I==null or(k>EJE)thenif(not OOE(QV[O5]))or(DFI(O5,QV[O5]))thenset J4=falseset J1I=QV[O5]set k=EJEelseif J4 thenset J1I=QV[O5]set k=EJEendifendifendifendifset i=i+1endloopendifset i=1loopexitwhen i>$Aif i<=5 thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i-5])endifif eY[O5]==$B thencall MMI(QV[O5])endifset i=i+1endloopif Hu!=null thenset Z7V[336+GetPlayerId(GetOwningPlayer(V_E))]=Huset Z7V[336+GetPlayerId(GetOwningPlayer(J1I))]=Huset YGV=Bz+3.loopexitwhen IsItemOwned(Hu)or GetWidgetLife(Hu)<.405 or((V_E!=null and GetWidgetLife(V_E)<.405)and(J1I!=null and GetWidgetLife(J1I)<.405))if V_E!=null and GetWidgetLife(V_E)>.405 thenif OFE thencall IssueTargetOrderById(V_E,$D000F,Hu)elsecall IssueTargetOrderById(V_E,$D0003,Hu)endifendifif J1I!=null and GetWidgetLife(J1I)>.405 thenif J4 thencall IssueTargetOrderById(J1I,$D000F,Hu)elsecall IssueTargetOrderById(J1I,$D0003,Hu)endifendifcall TriggerSleepAction(.5)endloopendifset m5=nullset V_E=nullset J1I=nullset XJE=nullset pl=nullendfunctionfunction MSI takes location b5 returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))set hq[544+O5]=Bz+30.if((X1E(it))or(X9E(900.,b5,Condition(function k6))>0))thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)if((not X1E(it))and(h4[O5]==null)and(G0[$80+O5]))thenset h4[O5]=X8E(900.,b5,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(it,$D000F,h4[O5])endifendifelseif GetWidgetLife(OV)<.405 and Bz>YGV thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)elseif((j1(it,Qr)>2000.)or(G0[O5]))thenif((IsUnitAlly(it,GX[0]))or(GetUnitX(it)>2300.))thencall jW(it,$D0012,h7[$FA])elsecall IssuePointOrderById(it,$D0012,2736.,-2656.)endifelseif G0[48+O5]thenelseif hq[704+O5]<-.05 thencall JEI(it,false)elseif not IsUnitInRegion(ow,it)thencall jW(it,$D0012,h7[$FA])elseif IsUnitInRange(it,OV,700.)thencall IssueTargetOrderById(it,$D000F,OV)elsecall jW(it,$D000F,h7[$FA])endifendifset it=nullendfunctionfunction MTI takes nothing returns booleanset WFV=GetOwningPlayer(GetFilterUnit())return(WFV==RX[0]or WFV==GX[0])and IsUnitEnemy(bj_lastLoadedUnit,WFV)and GetWidgetLife(GetFilterUnit())>.405 and((GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0))endfunctionfunction MUI takes unit V_E returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(V_E))local boolean MWI=h8[32+O5]==h8[$80+O5]local boolean MYI=truelocal integer UPlocal integer ARElocal integer ilocal integer DAIlocal integer jlocal integer klocal boolean EGE=IsUnitAlly(V_E,RX[0])if X1E(V_E)thenset eY[O5]=1call CZE(V_E)call AEE(V_E,true)endifset hq[544+O5]=Bz+30.if(eY[272+O5]!=0)thenset UP=GetUnitUserData(h8[112+O5])elseset UP=GetUnitUserData(h8[$80+O5])endifif(EGE)thenif((hj[256+UP]==18)or(hj[UP]==$A))thenset DAI=IMaxBJ($A+hB-1,$B)elseif((hj[256+UP]==40)or(hj[UP]==30))thenset DAI=IMaxBJ(30+hc-1,31)elseset DAI=IMaxBJ(50+hC-1,51)endifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset DAI=IMaxBJ(118-hB-1,111)elseif((hj[256+UP]==$8C)or(hj[UP]==$82))thenset DAI=IMaxBJ($8C-hc-1,$83)elseset DAI=IMaxBJ($A0-hC-1,$97)endifendifset i=DAIif eY[272+O5]==0 thenif(EGE)thenif(UP>i)thenset h8[$80+O5]=h7[i]elseset MYI=falseendifif((h8[$80+O5]==h7[$F])and(XZE(NBV)))thenset h8[$80+O5]=h7[$E]endifelseif(UP>i)thenset h8[$80+O5]=h7[i]elseset MYI=falseendifif((h8[$80+O5]==h7[$D])and(XZE(AUV)))thenset h8[$80+O5]=h7[$E]endifendifelseif(EGE)thenset h8[$80+O5]=h7[i]if((h8[$80+O5]==h7[$F])and(XZE(NBV)))thenset h8[$80+O5]=h7[$E]endifelseset h8[$80+O5]=h7[i]if((h8[$80+O5]==h7[$D])and(XZE(AUV)))thenset h8[$80+O5]=h7[$E]endifendifset j=eY[288+O5]if(h8[96+O5]!=null)thenset ARE=GetPlayerId(GetOwningPlayer(h8[96+O5]))set j=E5E(GetUnitUserData(h8[80+ARE]))endifif((h8[96+O5]==null)or(GetWidgetLife(h8[96+O5])<.405)or(j!=eY[288+O5])or(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]<=0)or(not IsUnitInRange(h8[96+O5],h8[$A0+O5],2000.)))thenset bj_lastCreatedUnit=h8[96+O5]set bj_lastLoadedUnit=V_Eset bj_forLoopBIndex=eY[288+O5]set h8[96+O5]=nullif eY[272+O5]>=4 thenset h8[96+O5]=BAE(3000.,V_E,Condition(function A4E))endifif h8[96+O5]==null thenset h8[96+O5]=BAE(3000.,h7[i],Condition(function A4E))endifif(bj_lastCreatedUnit!=null and h8[96+O5]!=bj_lastCreatedUnit)thenset ARE=GetPlayerId(GetOwningPlayer(h8[96+O5]))set k=1loopexitwhen k>$Bif((IsPlayerAlly(Player(k),Player(O5)))and(eY[k]==9)and(eY[272+k]!=0)and(h8[96+k]==bj_lastCreatedUnit))thenset h8[96+k]=h8[96+O5]endifset k=k+1endloopendifendifif(h8[96+O5]!=null and eY[32+ARE]>0)thenset h8[$A0+O5]=h8[80+ARE]set i=GetUnitUserData(h8[ARE])if(E3E(h8[96+O5],h9[ARE])<E3E(h8[80+ARE],h9[ARE]))or(E3E(h8[96+O5],h8[80+ARE])<300)thenif EGE thenset i=i+1elseset i=i-1endifendifset i=FJI(i,EGE,VZE(V_E))set j=GetUnitUserData(h8[112+O5])if(((EGE)and(i>j or j-i>1))or((not EGE)and(i<j or i-j>1)))and(E3E(V_E,h8[112+O5])>$7D0)thenset h8[112+O5]=h7[i]endifelseif(EGE)thenif(UP<i)thenset bj_lastLoadedUnit=h8[112+O5]set h8[112+O5]=h7[i]endifif((h8[112+O5]==h7[$F])and(XZE(NBV)))thenset h8[112+O5]=h7[$E]endifelseif(UP<i)thenset bj_lastLoadedUnit=h8[112+O5]set h8[112+O5]=h7[i-1]endifif((h8[112+O5]==h7[$D])and(XZE(AUV)))thenset h8[112+O5]=h7[$E]endifendifif h8[32+O5]==bj_lastLoadedUnit thenset h8[32+O5]=h8[112+O5]endifif h8[48+O5]==bj_lastLoadedUnit thenset h8[48+O5]=h8[112+O5]endifendifif eY[272+O5]==2 or eY[272+O5]==3 thenset i=GetUnitUserData(h8[112+O5])set k=E5E(GetUnitUserData(h8[80+O5]))if k==0 thenset k=E5E(GetUnitUserData(h8[112+O5]))endifset UP=GetUnitUserData(h8[48+O5])set j=FLI(O5,i,k,EGE)if(j!=0)and(UP!=j)thenif FMI(O5,UP,j)thenelseif(k==1)thenset j=326elseif(k==2)thenset j=327endifset bj_lastLoadedUnit=h8[48+O5]set h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]set eY[272+O5]=2endifendifendifif((MWI)and(MYI))thenset h8[32+O5]=h8[$80+O5]set h8[48+O5]=h8[$80+O5]endifif((h4[$90+O5]!=null)and((Bz+4.)>hq[512+O5]))thenset hq[512+O5]=Bz+4.endifset bj_lastLoadedUnit=X8E(700.,jv(V_E),Condition(function k6))if((not G0[$A0+O5])and((bj_lastLoadedUnit!=null)or((h4[O5]!=null)and(eY[272+O5]!=4))))thenset eY[O5]=1if(eY[272+O5]>=4)thenset h8[96+O5]=bj_lastLoadedUnitset h4[O5]=bj_lastLoadedUnitcall CZE(V_E)set hq[624+O5]=Bz+20.set hq[416+O5]=0call LXI(V_E,h8[96+O5])elseif((h4[$90+O5]!=null)and((Bz+6.)>hq[512+O5]))thenset hq[512+O5]=Bz+6.endifif(h8[$80+O5]==h8[48+O5])thenif(E3E(V_E,h8[$80+O5])<E3E(V_E,h8[O5]))thenif(IsUnitAlly(V_E,RX[0]))thencall CWE(V_E,GetUnitUserData(h8[$80+O5]))elsecall CWE(V_E,hj[512+GetUnitUserData(h8[$80+O5])])endifendifelseif(E3E(V_E,h8[$80+O5])<E3E(V_E,h8[48+O5]))thenset i=GetUnitUserData(h8[$80+O5])elseset i=GetUnitUserData(h8[48+O5])endifif i>100 thenset i=DAIelseif(not EGE)thenset i=hj[512+i]endifcall CWE(V_E,i)endifif((h4[O5]==null)and(G0[$80+O5]))thenset h4[O5]=X7E(1000.,V_E,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(V_E,$D000F,h4[O5])endifendifendifelseif eY[272+O5]==3 thencall FZI(O5,EGE,UP)elseif(eY[272+O5]>=4)thenif(h8[96+O5]!=null and E3E(V_E,h8[96+O5])<1000.)thenset eY[O5]=1call CZE(V_E)set hq[624+O5]=Bz+20.set hq[416+O5]=0call LXI(V_E,h8[96+O5])elseif(E3E(V_E,h8[$80+O5])<1000.)and(h8[96+O5]==null or IsUnitVisible(h8[96+O5],Player(O5))==false)thenset eY[O5]=1call CZE(V_E)elseif(E3E(V_E,h8[48+O5])<1000.)and(eY[272+O5]==5)thenset h8[48+O5]=h8[$80+O5]elseif(E3E(V_E,h8[112+O5])<1000.)and(eY[272+O5]==4)thenset eY[272+O5]=5call CZE(V_E)set i=GetUnitUserData(h8[112+O5])if EGE thenif(i>35 and i<40)thenset h8[48+O5]=h7[35]elseif(i>55 and i<60)thenset h8[48+O5]=h7[55]endifelseif(i>30 and i<35)thenset h8[48+O5]=h7[35]elseif(i>50 and i<55)thenset h8[48+O5]=h7[55]endifendifset h8[32+O5]=h8[48+O5]endifif h8[96+O5]!=null thenset h4[O5]=h8[96+O5]endifif XSE(V_E)thenif(h8[96+O5]!=null and XWE(h8[96+O5]))thencall IssueTargetOrderById(V_E,$D000F,h8[96+O5])elsecall jW(V_E,$D0012,h8[48+O5])endifendifelseif(E3E(V_E,h8[$80+O5])<1000.)and(eY[272+O5]==0)thenset eY[O5]=1if XSE(V_E)thencall jW(V_E,$D000F,h8[48+O5])endifcall CZE(V_E)elseif(h8[48+O5]!=h8[32+O5])and(E3E(V_E,h8[48+O5])<1000.)and(eY[272+O5]<=1)thenset h8[48+O5]=h8[32+O5]if(E3E(V_E,h8[48+O5])<500. and(not XWE(V_E)))thenset G0[$B0+O5]=trueendifif XSE(V_E)thenif G0[$B0+O5]thencall J3(V_E,false)elseif hq[640+O5]<=Bz thencall jW(V_E,$D0012,h9[O5])elseif GetUnitCurrentOrder(V_E)==$D000F thencall jW(V_E,$D000F,h9[O5])endifendifendifelseif((not G0[$B0+O5])and(h8[48+O5]==h8[32+O5]))and(eY[272+O5]<=1)thenif XSE(V_E)thenif hq[640+O5]<=Bz thencall jW(V_E,$D0012,h9[O5])elseif GetUnitCurrentOrder(V_E)==$D000F thencall jW(V_E,$D000F,h9[O5])endifendifelseif((is(V_E))and((OVE(700.,V_E,Condition(function k6))==0)))thencall jW(V_E,$D0012,h8[48+O5])endifset hq[576+O5]=Bz+60.set V_E=nullendfunctionfunction MZI takes real M_I,location b5 returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local integer UP=0local integer GII=0local unit m5=nulllocal unit CQE=nullif(GetUnitCurrentOrder(GetEnumUnit())==$D000F)thencall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),RMaxBJ(M_I,500.),G0V)loopset CQE=FirstOfGroup(H8)exitwhen(CQE==null)if((not XZE(CQE))or(not kn(CQE))or(IsUnitType(CQE,UNIT_TYPE_STRUCTURE)))thenelseif((GetOwningPlayer(CQE)==RX[0])or(GetOwningPlayer(CQE)==GX[0]))thenif(IsUnitEnemy(CQE,GetOwningPlayer(GetEnumUnit())))thenset UP=UP+1set GII=GII+1elseset UP=UP-1endifelseif((m5==null)and(IsHeroUnitId(GetUnitTypeId(CQE)))and(IsUnitEnemy(CQE,GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(CQE,GetOwningPlayer(GetEnumUnit()))))thenset m5=CQEendifcall GroupRemoveUnit(H8,CQE)endloopif((GII<5)and(UP<0)and(m5!=null)and(IsHeroUnitId(GetUnitTypeId(m5))))thenset J4=IssueTargetOrderById(GetEnumUnit(),$D000F,m5)set GZ[48+O5]=falseendifset m5=nullendifreturn J4endfunctionfunction M1I takes real j4,real Ja,location b5 returns booleanlocal unit M2I=nulllocal unit M3I=nulllocal unit CQE=nulllocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local boolean J4=falselocal unit V_E=nullif(X2E(O5))thenreturn falseelseif((Id(O5))or((GZ[$80+O5])and(X9E(800.,b5,Condition(function k6))>0)))thenreturn falseelseif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])>.405)and(IsUnitInRange(GetEnumUnit(),h4[96+O5],800.)))thencall IssueTargetOrderById(GetEnumUnit(),$D000F,h4[96+O5])return trueendifset V_E=GetEnumUnit()if(GetUnitLifePercent(V_E)<70.)thenset j4=j4-150.set Ja=Ja-150.endifcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(V_E),GetUnitY(V_E),RMaxBJ(j4,Ja),G0V)loopset CQE=FirstOfGroup(H8)exitwhen((CQE==null)or((M2I!=null)and(M3I!=null)))if((not XZE(CQE))or(not kn(CQE)))thenelseif((GetOwningPlayer(CQE)==RX[0])or(GetOwningPlayer(CQE)==GX[0]))thenif((h4[304+O5]!=null)and(EKE(V_E)+E3E(CQE,h4[304+O5])<E3E(V_E,h4[304+O5])))thenelseif(IsUnitEnemy(CQE,GetOwningPlayer(V_E)))thenif((M3I==null)and(GetUnitState(CQE,UNIT_STATE_LIFE)<150.)and(GetUnitLifePercent(CQE)<25.)and(IsUnitInRange(CQE,V_E,Ja)))thenset M3I=CQEendifelseif((M2I==null)and(GetUnitState(CQE,UNIT_STATE_LIFE)<150.)and(((not IsUnitType(CQE,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(CQE)<25.))or(GetUnitLifePercent(CQE)<5.)))thenset M2I=CQEif IsUnitType(M2I,UNIT_TYPE_STRUCTURE)and(JT or IsUnitType(M2I,UNIT_TYPE_RANGED_ATTACKER)==false)thenif OVE(1800.,M2I,Condition(function k6))==0 thenset M2I=nullendifendifendifendifendifcall GroupRemoveUnit(H8,CQE)endloopset CQE=nullif((M2I!=null)and((IsUnitType(M2I,UNIT_TYPE_STRUCTURE))or(GetHeroLevel(V_E)<=20)or(GetUnitAbilityLevel(V_E,1093686064)>0)))thenset h4[96+O5]=M2Icall DisableTrigger(GZV[O5])set J4=IssueTargetOrderById(V_E,$D000F,M2I)call EnableTrigger(GZV[O5])elseif(M3I!=null)thenset h4[96+O5]=M3Icall DisableTrigger(GZV[O5])set J4=IssueTargetOrderById(V_E,$D000F,M3I)call EnableTrigger(GZV[O5])endifset V_E=nullset M2I=nullset M3I=nullreturn J4endfunctionfunction M4I takes location b5 returns booleanlocal unit CQE=nulllocal integer kc=0local real j4=E3E(GetEnumUnit(),h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])local boolean M5I=falselocal boolean M6I=falseif(ke(GetEnumUnit()))thenreturn trueendifcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),1500.,G0V)loopset CQE=FirstOfGroup(H8)exitwhen(CQE==null)if((not XZE(CQE))or(not kn(CQE)))thenelseif(IsUnitEnemy(CQE,GetOwningPlayer(GetEnumUnit())))thenif((not M5I)and(GetOwningPlayer(CQE)!=Player($C)))thenif((IsUnitVisible(CQE,GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(CQE)==RX[0])or(GetOwningPlayer(CQE)==GX[0]))thenset M5I=trueelseif((IsUnitType(CQE,UNIT_TYPE_HERO))and(eY[32+GetPlayerId(GetOwningPlayer(CQE))]>0)or((not kD(CQE))and(IsUnitInRange(CQE,GetEnumUnit(),600.))))thenset M5I=trueendifendifelseif((GetOwningPlayer(CQE)==RX[0])or(GetOwningPlayer(CQE)==GX[0]))thenif(E3E(CQE,h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])<j4)thenif(IsUnitInRange(CQE,GetEnumUnit(),700.))thenset kc=kc+1endifset M6I=trueelseif((IsUnitType(CQE,UNIT_TYPE_STRUCTURE))and(IsUnitInRange(CQE,GetEnumUnit(),900.)))thenset M6I=trueendifendifcall GroupRemoveUnit(H8,CQE)endloopreturn((kc>1)or((not M5I)and(M6I)))endfunctionfunction M7I takes location b5 returns nothinglocal unit M8I=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(M8I))local real kllocal boolean OFE=falseif X2E(O5)thenreturnendifset OFE=((R3E(GetHandleId(M8I),"WaterSword|Active"))and(X9E(1200.,jv(M8I),Condition(function k6))>=1)and(G0[256+O5]))if((eY[O5]==1)and((GetHeroLevel(M8I)<9)or(GetUnitLifePercent(M8I)<75.))and(GetUnitCurrentOrder(M8I)==$D000F)and(not G0[48+O5])and(not G0[O5])and(not GZ[$80+O5])and(not G0[32+O5]))thenif OFE thenelseif((not GZ[48+O5])and(X9E(300.,b5,Condition(function Kv))==0)and(X9E(600.,b5,Condition(function Kv))>1))thencall IssueImmediateOrderById(M8I,$D0019)endifendifif((GetHeroLevel(M8I)>8)and(GetUnitLifePercent(M8I)>65.))thenif((not X1E(M8I))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(M8I))and(not MZI(300.,b5))and(not M1I(650.,650.,b5))and((GetUnitCurrentOrder(M8I)==$D0012)or(GetUnitCurrentOrder(M8I)==$D0019))and(not G0[32+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(M4I(b5)))thencall jW(M8I,$D000F,h8[O5])endifelseif((not X1E(M8I))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(M8I))and(not M1I(650.,550.,b5)))thenif((GetUnitCurrentOrder(M8I)==$D000F)and(not GZ[48+O5])and(not OFE))thenif((GetHeroLevel(M8I)<8)and((X9E(300.,b5,Condition(function Kv))>0)or(X9E(500.,b5,Condition(function Kw))>0)))thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(M8I),GetUnitX(h9[O5])-GetUnitX(M8I))call IssuePointOrderById(M8I,$D0012,GetUnitX(M8I)+200.*Cos(kl),GetUnitY(M8I)+200.*Sin(kl))elseif(X9E(400.,b5,Condition(function Kv))>1)thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(M8I),GetUnitX(h9[O5])-GetUnitX(M8I))call IssuePointOrderById(M8I,$D0012,GetUnitX(M8I)+250.*Cos(kl),GetUnitY(M8I)+250.*Sin(kl))endifelseif(((GetUnitCurrentOrder(M8I)==$D0012)or(GetUnitCurrentOrder(M8I)==$D0019))and(not G0[32+O5])and(not G0[48+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(M4I(b5)))thencall jW(M8I,$D000F,h8[O5])endifendifset M8I=nullendfunctionfunction M9I takes location b5 returns nothinglocal unit PVI=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(PVI))local real klif((not X1E(PVI))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(PVI))and(not MZI(550.,b5))and(not M1I(900.,800.,b5)))thenif(((GetUnitCurrentOrder(PVI)==$D0012)or(GetUnitCurrentOrder(PVI)==$D0019))and(not G0[32+O5])and(Bz>hq[496+O5])and(M4I(b5)))thencall jW(PVI,$D000F,h8[O5])elseif((GetUnitCurrentOrder(PVI)==$D000F)and(not GZ[48+O5]))thenif eY[O5]==3 or eY[O5]==4 thenelseif(((GetHeroLevel(PVI)<6)or(GetUnitLifePercent(PVI)<75.))and(X9E(300.,b5,Condition(function Kv))>1))thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(PVI),GetUnitX(h9[O5])-GetUnitX(PVI))call IssuePointOrderById(PVI,$D0012,GetUnitX(PVI)+250.*Cos(kl),GetUnitY(PVI)+250.*Sin(kl))elseif((GetHeroLevel(PVI)<7)and(Bz>hq[496+O5])and((h4[80+O5]==null)or(GetOwningPlayer(h4[80+O5])==RX[0])or(GetOwningPlayer(h4[80+O5])==GX[0]))and(X9E(800.,b5,Condition(function Kv))>0))thenset kl=GetRandomReal(.0,360.)*bj_DEGTORADcall IssuePointOrderById(PVI,$D0012,GetUnitX(PVI)+GetRandomReal(50.,90.)*Cos(kl),GetUnitY(PVI)+GetRandomReal(50.,90.)*Sin(kl))endifendifendifset PVI=nullendfunctionfunction PEI takes location b5 returns nothinglocal unit PXI=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(PXI))local unit m5=nullif(not iU(PXI))thenelseif((IsUnitVisible(PXI,RX[0]))and(IsUnitVisible(PXI,GX[0])))thenif(((X9E(1000.,b5,Condition(function NDE)))>0)and((X9E(1000.,b5,Condition(function k6)))>0)and((X9E(900.,b5,Condition(function Kd)))<3))thencall jW(PXI,$D0012,h9[O5])elsecall M7I(b5)endifelseif((X9E(1200.,b5,Condition(function k6)))==0)thenif(GetUnitCurrentOrder(PXI)==$D000F)thenset m5=X6E(400.,b5,Condition(function KA))if(m5==null)thenset m5=X6E(700.,b5,Condition(function Ka))endifif(m5!=null)thencall IssueTargetOrderById(PXI,$D000F,m5)endifendifelseif(((X9E(1000.,b5,Condition(function Kd)))<2)and(X9E(1000.,b5,Condition(function k8))>1)and(X9E(500.,b5,Condition(function N_E))==0))thencall jW(PXI,$D0012,h9[O5])elseif((not G0[O5])and(not G0[64+O5])and(iU(PXI))and(not M1I(750.,650.,b5)))thenif(X9E(250.,b5,Condition(function k8))==0)thencall IssueImmediateOrderById(PXI,$D0019)elsecall IssuePointOrderById(PXI,$D0012,GetUnitX(m5)+GetRandomReal(0,200.)-100.,GetUnitY(m5)+GetRandomReal(0,200.)-100.)endifendifendifset m5=nullset PXI=nullendfunctionfunction POI takes unit it,integer O5,location b5 returns booleanlocal unit m5=nulllocal real PRI=bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))local real PIIcall MoveLocation(Ha,GetUnitX(it)+300.*Cos(PRI*bj_DEGTORAD),GetUnitY(it)+300.*Sin(PRI*bj_DEGTORAD))if(X9E(500.,Ha,Condition(function Kd))>2)thenset m5=X8E(500.,Ha,Condition(function Kd))if(m5!=null)thenset PII=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))elsereturn falseendifif(RAbsBJ(PII-PRI)>20)thenset m5=nullreturn falseelseif(PII>PRI)thenset PRI=PRI-20.elseset PRI=PRI+20.endifcall IssuePointOrderById(it,$D0012,GetUnitX(it)+600.*Cos(bj_DEGTORAD*PRI),GetUnitY(it)+600.*Sin(bj_DEGTORAD*PRI))set m5=nullreturn trueelsereturn falseendifendfunctionfunction PAI takes nothing returns nothingcall ExecuteFunc("PNI")endfunctionfunction PNI takes nothing returns nothinglocal unit it=GetEnumUnit()local unit L9I=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))local location b5local integer UPlocal real PBI=E3E(it,OUE(it))local boolean J4=falseif(GetUnitTypeId(it)!=1211117642)thenset b5=HC[16+O5]elseif(RZE(GetHandleId(it),"MCSLoc")!=null)thenset b5=RZE(GetHandleId(it),"MCSLoc")elseset b5=GetUnitLoc(it)call RDE(GetHandleId(it),"MCSLoc",b5)endifendifcall MoveLocation(b5,GetUnitX(it),GetUnitY(it))if((X1E(it))and(is(it))and(not Id(O5))and(GetUnitAbilityLevel(it,1093685334)==0)and(GetUnitAbilityLevel(it,1110454874)==0))thenif(not POI(it,O5,b5))thenif(PBI<$3E8)or(not H_I(it))thenif((PBI+100.)<E3E(h9[O5],OUE(it)))thencall jW(it,$D0012,h9[16+O5])elsecall jW(it,$D0012,h9[O5])endifendifendifendifset J4=KRI(it)if false and(eY[O5]==1 or eY[O5]==9)and(not VVE[$F0+O5])thenset UP=-1if((E3E(it,h8[O5])<400)and(GetUnitCurrentOrder(it)==$D000F))thenset UP=GetUnitUserData(h8[O5])elseif((E3E(it,h9[O5])<400)and(GetUnitCurrentOrder(it)==$D0012))thenset UP=GetUnitUserData(h9[O5])endifif(UP>=$B and UP<=17)or(UP>=31 and UP<=39)or(UP>=51 and UP<=59)thenif B3E(Player(O5))thenset UP=hj[512+UP]endifcall CWE(it,UP)endifendifif((eY[O5]==2)and(not J4)and(is(it))and(PBI>500.))thenif(IsUnitAlly(it,RX[0]))thencall G0I(it,O5,FLV)elsecall G0I(it,O5,FMV)endifendifif((eY[O5]==1)and(not J4)and(is(it))and(GetUnitAbilityLevel(it,1110459478)>0))thenset J4=jW(it,$D0012,h9[16+O5])set G0[64+O5]=trueendifif((not J4)and(PBI>4500.)and(is(it)))thenif(GetUnitAbilityLevel(it,1110459204)==0)thenif(not J4)and(OXE(it,BU[C5]))thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+175.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)if((eY[O5]==1)and(UP<100)and(UP>50)and(Bz>hq[256+O5]))thenset J4=(h4[O5]==null)and(X9E(1000.,b5,Condition(function BEE))==0)and(X9E(1000.,b5,Condition(function NDE))==0)and(iy(it))and(MFI(it))endifendifif(not J4)and(OXE(it,BU[D4]))thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)elseset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)endifif(eY[O5]==1)and(UP<100)and(UP>45)thenset J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(X9E(1100.,b5,Condition(function KX))==0)and(X9E(700.,b5,Condition(function KA))==0)and(UnitUseItem(it,bj_lastCreatedItem))endifendifif(not J4)and(OXE(it,BU[B5]))thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)elseset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)endifif((eY[O5]==1)and(UP<100)and(UP>45)and(GetUnitAbilityLevel(it,1110454874)==0))thenset J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(X9E(1100.,b5,Condition(function KX))==0)and(X9E(700.,b5,Condition(function KA))==0)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifendifendifif((not J4)and(PBI>6000.)and(not G0[O5]))thenif eY[$D0+O5]!=0 thenif eY[O5]!=1 or E3E(it,h7[eY[$D0+O5]])<3000. thenset eY[$D0+O5]=0endifendifif(eY[O5]==1)thenif((hG[32+O5]!=-1)and(Bz>hq[592+O5])and(GetHeroLevel(it)>5)and(VVE[$80+O5])and(h4[O5]==null)and(X8E(1200.,b5,Condition(function KX))==null)and((GetHeroLevel(it)<$C)or((E3E(it,JX(it))>6000.)and(X9E(1200.,b5,Condition(function NSE))==0))))thenset G0[320+O5]=truecall AEE(it,true)if(IsUnitAlly(it,RX[0]))thenset J4=ANE(it,ACV)elseset J4=ANE(it,NOV)endifelseif(eY[$D0+O5]!=0 and X9E(800.,b5,Condition(function k6))==0)thenif h8[$90+O5]!=null thenset J4=ANE(it,h8[$90+O5])elseset J4=ANE(it,h7[eY[$D0+O5]])endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenif(X9E(800.,b5,Condition(function k6))>0)thenelseif(X1E(it))thenelseif(IsUnitAlly(it,RX[0]))thenif(WMV[64+O5]==0)thenif(FZV<3)thenset J4=ANE(it,A1V)elseif(GetWidgetLife(A6V)>.405)thenset J4=ANE(it,A6V)elseif(GetWidgetLife(A9V)>.405)thenset J4=ANE(it,A9V)elseif(GetWidgetLife(A3V)>.405)thenset J4=ANE(it,A3V)elseif(GetWidgetLife(A4V)>.405)thenset J4=ANE(it,A4V)elseif(GetWidgetLife(ASV)>.405)thenset J4=ANE(it,ASV)endifelseif(WMV[64+O5]==1)thenif(F_V<3)thenset J4=ANE(it,A0V)elseif(GetWidgetLife(A5V)>.405)thenset J4=ANE(it,A5V)elseif(GetWidgetLife(A8V)>.405)thenset J4=ANE(it,A8V)elseif(GetWidgetLife(A3V)>.405)thenset J4=ANE(it,A3V)elseif(GetWidgetLife(A4V)>.405)thenset J4=ANE(it,A4V)elseif(GetWidgetLife(ASV)>.405)thenset J4=ANE(it,ASV)endifelseif(WMV[64+O5]==2)thenif(F0V<3)thenset J4=ANE(it,A2V)elseif(GetWidgetLife(A7V)>.405)thenset J4=ANE(it,A7V)elseif(GetWidgetLife(NVV)>.405)thenset J4=ANE(it,NVV)elseif(GetWidgetLife(A3V)>.405)thenset J4=ANE(it,A3V)elseif(GetWidgetLife(A4V)>.405)thenset J4=ANE(it,A4V)elseif(GetWidgetLife(ASV)>.405)thenset J4=ANE(it,ASV)endifelseif(WMV[64+O5]==3)thenif(GetWidgetLife(ASV)>.405)thenset J4=ANE(it,ASV)endifendifif(not J4)thenset J4=ANE(it,ACV)endifelseif(WMV[64+O5]==0)thenif(F1V<3)thenset J4=ANE(it,NJV)elseif(GetWidgetLife(NQV)>.405)thenset J4=ANE(it,NQV)elseif(GetWidgetLife(NUV)>.405)thenset J4=ANE(it,NUV)elseif(GetWidgetLife(NLV)>.405)thenset J4=ANE(it,NLV)elseif(GetWidgetLife(NMV)>.405)thenset J4=ANE(it,NMV)elseif(GetWidgetLife(NAV)>.405)thenset J4=ANE(it,NAV)endifelseif(WMV[64+O5]==1)thenif(F2V<3)thenset J4=ANE(it,NHV)elseif(GetWidgetLife(NPV)>.405)thenset J4=ANE(it,NPV)elseif(GetWidgetLife(NTV)>.405)thenset J4=ANE(it,NTV)elseif(GetWidgetLife(NLV)>.405)thenset J4=ANE(it,NLV)elseif(GetWidgetLife(NMV)>.405)thenset J4=ANE(it,NMV)elseif(GetWidgetLife(NAV)>.405)thenset J4=ANE(it,NAV)endifelseif(WMV[64+O5]==2)thenif(F3V<3)thenset J4=ANE(it,NKV)elseif(GetWidgetLife(NSV)>.405)thenset J4=ANE(it,NSV)elseif(GetWidgetLife(NWV)>.405)thenset J4=ANE(it,NWV)elseif(GetWidgetLife(NLV)>.405)thenset J4=ANE(it,NLV)elseif(GetWidgetLife(NMV)>.405)thenset J4=ANE(it,NMV)elseif(GetWidgetLife(NAV)>.405)thenset J4=ANE(it,NAV)endifelseif(WMV[64+O5]==3)thenif(GetWidgetLife(NAV)>.405)thenset J4=ANE(it,NAV)endifendifif(not J4)thenset J4=ANE(it,NOV)endifendifendifendifif((not J4)and(PBI>8500.)and(eY[O5]!=$B))thenset L9I=h4[$80+O5]if((L9I!=null)and(XZE(L9I))and(IsUnitInRange(it,L9I,1000.)))thenif((GetUnitTypeId(it)==1966092372)or(GetUnitTypeId(it)==1697657145))thenset UP=OVE(1000.,L9I,Condition(function KC))if((UP==0)and(not Id(O5))and(GetUnitState(it,UNIT_STATE_LIFE)<1600.)and(Bz>hq[512+O5]))thenset h4[O5]=nullset J4=jW(it,$D0012,h9[O5])endifelseif(((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(400+(GetHeroLevel(it)*50)))and(GetHeroLevel(it)>=6))or(hq[512+O5]>Bz))thenif((E3E(it,JX(it)))<(E3E(L9I,JX(it))-200.))thenset h4[O5]=nullset J4=jW(it,$D0012,h9[O5])set hq[512+O5]=.0endifelseif((GetHeroLevel(it)<$B)and((E3E(it,JX(it)))<(E3E(L9I,JX(it))+I2R(500-(GetHeroLevel(it)*20))))and(not iy(it))and(h4[80+O5]!=L9I))thenset h4[O5]=nullset J4=jW(it,$D0012,h9[O5])set hq[512+O5]=.0elseif((Bz>hq[512+O5])and((h4[O5]==null)or((not Id(O5))and((GetHeroLevel(it)<16)or(GetUnitState(it,UNIT_STATE_LIFE)<1300.)))))thenset UP=OVE(1000.,L9I,Condition(function KC))set J4=((E3E(it,JX(it))<(E3E(L9I,JX(it))-200.))or(UP==0)or((GetUnitState(it,UNIT_STATE_LIFE)<1300.)and(UP<2)))and(jW(it,$D0012,h9[O5]))set hq[512+O5]=.0endifif((not J4)and(iy(it))and(eY[O5]==1)and(GetHeroLevel(it)>$A)and(GetUnitCurrentOrder(it)==$D000F)and(not G0[O5]))thenset UP=OVE(900.,L9I,Condition(function KC))if((UP>1)and(GetUnitLifePercent(it)>60.))thencall IssueTargetOrderById(it,$D000F,L9I)endifendifif((not J4)and(GetUnitLifePercent(L9I)<20.)and(eY[O5]==1)and(GetHeroLevel(it)>$A)and(h4[O5]==null)and(not G0[O5])and(iU(it))and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))thenset J4=IssueTargetOrderById(it,$D000F,L9I)endifelseif((PBI>12000.)and(not G0[O5])and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))or(h4[O5]!=null)))thenset L9I=X8E(1000.,b5,Condition(function KB))if(L9I!=null)thenif((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(500+(GetHeroLevel(it)*30)))and(GetHeroLevel(it)>=6))thenif((E3E(it,JX(it)))<(E3E(L9I,JX(it))-350.))thenset h4[O5]=nullset J4=jW(it,$D0012,h9[O5])endifelseif(h4[O5]==null)thenset J4=(iU(it))and((GetUnitLifePercent(L9I)<10.)or(X9E(700.,b5,Condition(function KX))<4))and(IssueTargetOrderById(it,$D000F,L9I))elseif((kA(it,h4[O5],200.))or((E3E(it,JX(it)))<(E3E(L9I,JX(it))-250.)))thenset h4[O5]=nullset J4=((X9E(700.,b5,Condition(function KX))<4)and(IssueTargetOrderById(it,$D000F,L9I)))or(jW(it,$D0012,h9[O5]))endifendifendifendifendifif((eY[O5]!=2)and(not J4)and(is(it)))thenset UP=GetUnitCurrentOrder(it)if((UP==0)or(UP==$D0004))thencall J3(it,true)elseif((G0[32+O5])and(eY[O5]==1)and(UP!=$D0012)and(GetUnitAbilityLevel(it,1110454874)==0)and(X9E(900.,b5,Condition(function k8))==0))thencall AEE(it,false)endifif((h4[O5]==null)and(PBI>2800.))thenset J4=(j1(it,BA)>2000.)and(j1(it,NA)>2000.)and(MBI(it))set h4[O5]=X8E(800.,b5,Condition(function K4))if((not J4)and(h4[O5]!=null)and(not X1E(it)))thencall IssueTargetOrderById(it,$D000F,h4[O5])endifendifif((not J4)and(not Id(O5)))thenif((eY[O5]!=1)or(PBI<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>$F)and(GetWidgetLife(it)>1600.))or((h4[O5]!=null)and((GetUnitLifePercent(h4[O5])+15.)<GetUnitLifePercent(it))and(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(h4[O5],UNIT_STATE_LIFE))))thenelseif(((UP==$D000F)or(UP==$D0019))and((not GZ[48+O5])or(GetHeroLevel(it)<6))and(X9E(700.,b5,Condition(function N_E))==0)and(PBI>3500.))thenif(GetHeroLevel(it)<$A)thenset UP=X9E(900.,b5,Condition(function Kd))elseset UP=X9E(900.,b5,Condition(function KC))endifif((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))thenset J4=(UP==0)and(X9E(900.,b5,Condition(function Ky))>1)and(jW(it,$D0012,h9[O5]))if((not J4)and(((h4[$80+O5]==null)or(not IsUnitInRange(it,h4[$80+O5],1800.)))and(((not ATE(it))and(GetHeroLevel(it)>9))or(GetHeroLevel(it)>$E))))thenset L9I=X8E(600.,b5,Condition(function KV))if((L9I!=null)and(h4[80+O5]!=L9I))thencall IssueTargetOrderById(it,$D000F,L9I)endifendifelseset J4=(UP<=2)and(X9E(900.,b5,Condition(function Ky))>((UP*2)+1))and(jW(it,$D0012,h9[O5]))endifelseif((UP==$D0012)and(not G0[64+O5])and(XSE(it)))thenif((GetUnitAbilityLevel(it,1110454874)>0)and(GetUnitLifePercent(it)<95.))thenset L9I=X6E(400.,b5,Condition(function N_E))if(L9I!=null)thenset J4=((OVE(1200.,L9I,Condition(function k8))==0)and(E3E(h9[16+O5],L9I)>E3E(h9[16+O5],it)+500.)and(jW(it,$D000F,h8[O5])))endifelseif((not G0[32+O5])and(not X1E(it)))thenset L9I=X8E(400.,b5,Condition(function N_E))if(L9I!=null)thenset UP=OVE(1200.,L9I,Condition(function k8))set J4=((UP<2)or((UP<4)and(OVE(1200.,L9I,Condition(function k6))==0))and(E3E(h9[16+O5],L9I)>E3E(h9[16+O5],it)+500.)and(jW(it,$D000F,h8[O5])))endifendifendifendifif((J4)or(not is(it)))thenelseif(eY[O5]==1)thenif VVE[256+O5]and(h8[O5]!=h7[353])and(h8[O5]!=h7[354])thenset VVE[256+O5]=falseendifif(GetUnitAbilityLevel(it,1110459478)>0)thencall jW(it,$D0012,h9[O5])set G0[64+O5]=trueelseif VVE[256+O5]thenelseif(ATE(it))thenif((GetUnitAbilityLevel(it,1093677130)==0)or(h4[O5]!=null))thencall M7I(b5)elsecall PEI(b5)endifelsecall M9I(b5)endifif h9[64+O5]!=null thenif(GetUnitState(h9[64+O5],UNIT_STATE_LIFE)<.45)or(E3E(h9[64+O5],it)>$BB8)or(X8E(3000.,jv(h9[64+O5]),Condition(function k6))==null)thenset h9[64+O5]=nullelseset hq[320+O5]=Bz+10.endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenif(PBI<6000.)thencall G_I(it)elseset J4=H_I(it)endifelseif(eY[O5]==9)thencall MUI(it)elseif(eY[O5]==$A)thencall MJI(b5)elseif(eY[O5]==$B)thencall MSI(b5)endifendifset it=nullset L9I=nullset b5=nullendfunctionfunction PCI takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if(i1==1211117653)thenreturn 19elseif(i1==1311787088)thenreturn 18elseif(i1==1160785970)thenreturn 17elseif(i1==1430467634)thenreturn 16elseif(i1==1215128178)thenreturn $Felseif(i1==1430468406)thenreturn $Eelseif(i1==1164666213)thenreturn $Delseif(i1==1211117640)thenreturn $Celseif(i1==1433168227)thenreturn $Belseif(i1==1430466872)thenreturn $Aelseif(i1==1211117620)thenreturn 9elseif(i1==1332898670)thenreturn 8elseif(i1==1316252014)thenreturn 7elseif(i1==1429221445)thenreturn 6elseif(i1==1311780930)thenreturn 5elseif(i1==1315334514)thenreturn 4elseif(i1==1162032951)thenreturn 3elseif(i1==1162032439)thenreturn 2elseif(i1==1211117654)thenreturn 1elsereturn 0endifendfunctionfunction PDI takes nothing returns booleanreturn((not FEV)and(not FOV)and(not FRV)and(not FXV))endfunctionfunction PFI takes nothing returns nothinglocal integer iZ=1local integer PGI=1local integer PHI=1local unit PJI=nulllocal unit PKI=nullloopexitwhen iZ>5if(B6E(RX[iZ]))thenif((PJI==null)or(((PCI(QV[GetPlayerId(RX[iZ])]))>(PCI(PJI)))or((PCI(PJI)==0)and((EKE(QV[GetPlayerId(RX[iZ])])>EKE(PJI))or((EKE(QV[GetPlayerId(RX[iZ])])==EKE(PJI))and(GetHeroStr(QV[GetPlayerId(RX[iZ])],false)>=GetHeroAgi(QV[GetPlayerId(RX[iZ])],false))and(GetHeroStr(QV[GetPlayerId(RX[iZ])],false)>=GetHeroInt(QV[GetPlayerId(RX[iZ])],false)))))))thenset PJI=QV[GetPlayerId(RX[iZ])]set eY[64+GetPlayerId(RX[iZ])]=0endifendifif(B6E(GX[iZ]))thenif((PKI==null)or(((PCI(QV[GetPlayerId(GX[iZ])]))>(PCI(PKI)))or((PCI(PKI)==0)and((EKE(QV[GetPlayerId(GX[iZ])])>EKE(PKI))or((EKE(QV[GetPlayerId(GX[iZ])])==EKE(PKI))and(GetHeroStr(QV[GetPlayerId(GX[iZ])],false)>=GetHeroAgi(QV[GetPlayerId(GX[iZ])],false))and(GetHeroStr(QV[GetPlayerId(GX[iZ])],false)>=GetHeroInt(QV[GetPlayerId(GX[iZ])],false)))))))thenset PKI=QV[GetPlayerId(GX[iZ])]set eY[64+GetPlayerId(GX[iZ])]=0endifendifset iZ=iZ+1endloopset iZ=1loopexitwhen iZ>5if((B6E(RX[iZ]))and(RX[iZ]!=GetOwningPlayer(PJI)))thenif(PGI<3)thenset eY[64+GetPlayerId(RX[iZ])]=PGIelseset eY[64+GetPlayerId(RX[iZ])]=PGI-2endifset PGI=PGI+1endifif((B6E(GX[iZ]))and(GX[iZ]!=GetOwningPlayer(PKI)))thenif(PHI<3)thenset eY[64+GetPlayerId(GX[iZ])]=PHIelseset eY[64+GetPlayerId(GX[iZ])]=PHI-2endifset PHI=PHI+1endifset iZ=iZ+1endloopset iZ=1loopexitwhen iZ>5set PHI=GetPlayerId(RX[iZ])if(eY[64+PHI]==0)thenset h8[PHI]=h7[$B]set h8[16+PHI]=h7[$E]elseif(eY[64+PHI]==1)thenset h8[PHI]=h7[31]set h8[16+PHI]=h7[35]elseset h8[PHI]=h7[51]set h8[16+PHI]=h7[55]endifset PHI=GetPlayerId(GX[iZ])if(eY[64+PHI]==0)thenset h8[PHI]=h7[111]set h8[16+PHI]=h7[114]elseif(eY[64+PHI]==1)thenset h8[PHI]=h7[$83]set h8[16+PHI]=h7[$87]elseset h8[PHI]=h7[$97]set h8[16+PHI]=h7[$9B]endifset iZ=iZ+1endloopset PJI=nullset PKI=nullendfunctionfunction PLI takes nothing returns nothinglocal integer O5=1if Bz<F7V thenreturnendifloopexitwhen O5>$Bif(IsPlayerInForce(Player(O5),GLV))thencall GroupClear(iC)call GroupEnumUnitsOfPlayer(iC,Player(O5),iL)call ForGroup(iC,function PAI)endifif(IsPlayerInForce(Player(O5),WE))thenif((QV[O5]!=null)and(GetWidgetLife(QV[O5])>.405))thenif(IsUnitVisible(QV[O5],GX[0]))thenset eY[32+O5]=4elseif(eY[32+O5]>0)thenset eY[32+O5]=eY[32+O5]-1endifendifelseif(IsPlayerInForce(Player(O5),YE))thenif((QV[O5]!=null)and(GetWidgetLife(QV[O5])>.405))thenif(IsUnitVisible(QV[O5],RX[0]))thenset eY[32+O5]=4elseif(eY[32+O5]>0)thenset eY[32+O5]=eY[32+O5]-1endifendifendifset O5=O5+1endloopendfunctionfunction PMI takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))if not XSE(it)thenelseif(Bz<=F7V-23.)thenif E3E(it,OUE(it))<600. and eY[O5]!=0 thenif iU(it)thencall IssueImmediateOrderById(it,$D0019)endifelsecall jW(it,$D0012,OUE(it))endifelseif(eY[O5]==2)or(not(Bz>Z8V[$A0+O5]))thenelseif(IsUnitAlly(it,GX[0]))thenif(h8[16+O5]==h7[$E])thencall IssueTargetOrderById(it,$D0003,NJV)elseif(h8[16+O5]==h7[35])thencall IssueTargetOrderById(it,$D0003,NHV)elsecall IssueTargetOrderById(it,$D0003,NKV)endifelseif(h8[16+O5]==h7[$E])thencall IssueTargetOrderById(it,$D0003,A1V)elseif(h8[16+O5]==h7[35])thencall IssueTargetOrderById(it,$D0003,A0V)elsecall IssueTargetOrderById(it,$D0003,A2V)endifendifset it=nullendfunctionfunction PPI takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer O5=R1E(GetHandleId(t),"pID")call FAI(QV[O5])set GZV[80+O5]=nullcall O1E(GetHandleId(t))call DestroyTrigger(t)set t=nullendfunctionfunction PQI takes nothing returns nothinglocal integer O5local integer ilocal integer jlocal integer kif T7V thenreturnendifif(Bz<(F7V+2.))thenif(Bz==F7V-30.)thenif(PDI())thencall ExecuteFunc("PFI")endifif(not WOV)thenset WOV=trueset O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifif B6E(Player(O5))and QV[O5]!=null thenset GZV[80+O5]=CreateTrigger()call TriggerRegisterTimerEvent(GZV[80+O5],.1,false)call TriggerAddAction(GZV[80+O5],function PPI)call O4E(GetHandleId(GZV[80+O5]),"pID",O5)endifset O5=O5+1endloopendifendifcall GroupClear(G_V)call GroupEnumUnitsInRect(G_V,bj_mapInitialPlayableArea,iL)call ForGroup(G_V,function PMI)elsecall DestroyTrigger(GetTriggeringTrigger())call DestroyTrigger(GPV)set GPV=nullcall DestroyTrigger(Ho)call EnableTrigger(GQV)call EnableTrigger(WJV)call EnableTrigger(GUV)call EnableTrigger(GTV)call EnableTrigger(GMV)if(GJV!=null)thencall DisplayTimedTextToPlayer(GGV,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(GGV)],GGV,false)call SetUnitOwner(h4[512+GetPlayerId(GJV)],GJV,false)set GJV=nullendifif(GKV!=null)thencall DisplayTimedTextToPlayer(GHV,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(GHV)],GHV,false)call SetUnitOwner(h4[512+GetPlayerId(GKV)],GKV,false)set GKV=nullendifset O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifset WDV=IsPlayerAlly(Player(O5),RX[0])set j=V6E(WDV,0,6)if B6E(Player(O5))and QV[O5]!=null thenset bj_forLoopBIndex=ENE(GetUnitTypeId(QV[O5]))set i=1loopexitwhen i>5if WMV[48+j+i]==-1 thenset WMV[48+j+i]=O5exitwhen trueelseif ENE(GetUnitTypeId(QV[WMV[48+j+i]]))>bj_forLoopBIndex thenset k=5loopexitwhen k==iset WMV[48+j+k]=WMV[48+j+k-1]set k=k-1endloopset WMV[48+j+i]=O5exitwhen trueendifset i=i+1endloopendifset O5=O5+1endloopset WAV=""set i=1loopexitwhen i>5set WMV[80+i]=WMV[48+i]set WMV[86+i]=WMV[54+i]set i=i+1endloopendifendfunctionfunction PSI takes nothing returns nothinglocal integer O5=1local integer UP=0local integer PTI=0local integer PUI=0local integer PWI=0loopexitwhen O5>5if((QV[GetPlayerId(RX[O5])]==null)and(GetPlayerSlotState(RX[O5])==PLAYER_SLOT_STATE_PLAYING))thenreturnelseif(not B7E(RX[O5]))thenelseif(GetPlayerController(RX[O5])==MAP_CONTROL_COMPUTER)thenif(h8[16+GetPlayerId(RX[O5])]==h7[$E])thenset PWI=PWI+1elseif(h8[16+GetPlayerId(RX[O5])]==h7[35])thenset PTI=PTI+1elseset PUI=PUI+1endifelseset UP=GetPlayerId(RX[O5])if(IsUnitInRange(QV[UP],A1V,700.))thenset PWI=PWI+1elseif(IsUnitInRange(QV[UP],A0V,700.))thenset PTI=PTI+1elseif(IsUnitInRange(QV[UP],A2V,700.))thenset PUI=PUI+1elseif((j1(QV[UP],BA)<4000.)or(RectContainsUnit(Cz,QV[UP])))thenelseif(RAbsBJ(GetUnitX(QV[UP])-GetUnitY(QV[UP]))<1500.)thenset PWI=PWI+1elseif(((GetUnitY(QV[UP])>5000.)and(GetUnitY(QV[UP])<6700.))or((GetUnitX(QV[UP])>-7000.)and(GetUnitX(QV[UP])<-5500.)))thenset PTI=PTI+1elseif(((GetUnitY(QV[UP])>-7500.)and(GetUnitY(QV[UP])<-6300.))or((GetUnitX(QV[UP])>5000.)and(GetUnitX(QV[UP])<6700.)))thenset PUI=PUI+1endifendifset O5=O5+1endloopif(IMV<=3)thenset UP=1elseset UP=2endifif((FEV)or((FOV)and(FRV))or((FOV)and(FXV))or((FRV)and(FXV)))thenset UP=5endifset O5=1loopexitwhen O5>5if((B7E(RX[O5]))and(GetPlayerController(RX[O5])==MAP_CONTROL_COMPUTER))thenif(h8[16+GetPlayerId(RX[O5])]==h7[$E])thenif(((PWI>1)and(PDI()))or((PWI>UP)and(not(PDI()))))thenif((not FRV)and(PTI<UP))thenset h8[16+GetPlayerId(RX[O5])]=h7[35]set h8[GetPlayerId(RX[O5])]=h7[32]set eY[64+GetPlayerId(RX[O5])]=1set PTI=PTI+1set PWI=PWI-1elseif((not FXV)and(PUI<UP))thenset h8[16+GetPlayerId(RX[O5])]=h7[55]set h8[GetPlayerId(RX[O5])]=h7[52]set eY[64+GetPlayerId(RX[O5])]=2set PUI=PUI+1set PWI=PWI-1endifendifelseif(h8[16+GetPlayerId(RX[O5])]==h7[35])thenif(PTI>UP)thenif((not FOV)and(((PWI<1)and(PDI()))or((PWI<UP)and(not(PDI())))))thenset h8[16+GetPlayerId(RX[O5])]=h7[$E]set h8[GetPlayerId(RX[O5])]=h7[$C]set eY[64+GetPlayerId(RX[O5])]=0set PWI=PWI+1set PTI=PTI-1elseif((not FXV)and(PUI<UP))thenset h8[16+GetPlayerId(RX[O5])]=h7[55]set h8[GetPlayerId(RX[O5])]=h7[52]set eY[64+GetPlayerId(RX[O5])]=2set PUI=PUI+1set PTI=PTI-1endifendifelseif(PUI>UP)thenif((not FOV)and(((PWI<1)and(PDI()))or((PWI<UP)and(not(PDI())))))thenset h8[16+GetPlayerId(RX[O5])]=h7[$E]set h8[GetPlayerId(RX[O5])]=h7[$C]set eY[64+GetPlayerId(RX[O5])]=0set PWI=PWI+1set PUI=PUI-1elseif((not FRV)and(PTI<UP))thenset h8[16+GetPlayerId(RX[O5])]=h7[35]set h8[GetPlayerId(RX[O5])]=h7[32]set eY[64+GetPlayerId(RX[O5])]=1set PTI=PTI+1set PUI=PUI-1endifendifendifendifset O5=O5+1endloopendfunctionfunction PYI takes nothing returns nothinglocal integer O5=1local integer UP=0local integer PTI=0local integer PUI=0local integer PWI=0loopexitwhen O5>5if((QV[GetPlayerId(GX[O5])]==null)and(GetPlayerSlotState(GX[O5])==PLAYER_SLOT_STATE_PLAYING))thenreturnelseif(not B7E(GX[O5]))thenelseif(GetPlayerController(GX[O5])==MAP_CONTROL_COMPUTER)thenif(h8[16+GetPlayerId(GX[O5])]==h7[114])thenset PWI=PWI+1elseif(h8[16+GetPlayerId(GX[O5])]==h7[$87])thenset PTI=PTI+1elseset PUI=PUI+1endifelseset UP=GetPlayerId(GX[O5])if(IsUnitInRange(QV[UP],NJV,700.))thenset PWI=PWI+1elseif(IsUnitInRange(QV[UP],NHV,700.))thenset PTI=PTI+1elseif(IsUnitInRange(QV[UP],NKV,700.))thenset PUI=PUI+1elseif((j1(QV[UP],NA)<4000.)or(RectContainsUnit(cz,QV[UP])))thenelseif(RAbsBJ(GetUnitX(QV[UP])-GetUnitY(QV[UP]))<1500.)thenset PWI=PWI+1elseif(((GetUnitY(QV[UP])>5000.)and(GetUnitY(QV[UP])<6700.))or((GetUnitX(QV[UP])>-7000.)and(GetUnitX(QV[UP])<-5500.)))thenset PTI=PTI+1elseif(((GetUnitY(QV[UP])>-7500.)and(GetUnitY(QV[UP])<-6300.))or((GetUnitX(QV[UP])>5000.)and(GetUnitX(QV[UP])<6700.)))thenset PUI=PUI+1endifendifset O5=O5+1endloopif(IPV<=3)thenset UP=1elseset UP=2endifif((FEV)or((FOV)and(FRV))or((FOV)and(FXV))or((FRV)and(FXV)))thenset UP=5endifset O5=1loopexitwhen O5>5if((B7E(GX[O5]))and(GetPlayerController(GX[O5])==MAP_CONTROL_COMPUTER))thenif(h8[16+GetPlayerId(GX[O5])]==h7[114])thenif(((PWI>1)and(PDI()))or((PWI>UP)and(not(PDI()))))thenif((not FRV)and(PTI<UP))thenset h8[16+GetPlayerId(GX[O5])]=h7[$87]set h8[GetPlayerId(GX[O5])]=h7[$84]set eY[64+GetPlayerId(GX[O5])]=1set PTI=PTI+1set PWI=PWI-1elseif((not FXV)and(PUI<UP))thenset h8[16+GetPlayerId(GX[O5])]=h7[$9B]set h8[GetPlayerId(GX[O5])]=h7[$98]set eY[64+GetPlayerId(GX[O5])]=2set PUI=PUI+1set PWI=PWI-1endifendifelseif(h8[16+GetPlayerId(GX[O5])]==h7[$87])thenif(PTI>UP)thenif((not FOV)and(((PWI<1)and(PDI()))or((PWI<UP)and(not(PDI())))))thenset h8[16+GetPlayerId(GX[O5])]=h7[114]set h8[GetPlayerId(GX[O5])]=h7[112]set eY[64+GetPlayerId(GX[O5])]=0set PWI=PWI+1set PTI=PTI-1elseif((not FXV)and(PUI<UP))thenset h8[16+GetPlayerId(GX[O5])]=h7[$9B]set h8[GetPlayerId(GX[O5])]=h7[$98]set eY[64+GetPlayerId(GX[O5])]=2set PUI=PUI+1set PTI=PTI-1endifendifelseif(PUI>UP)thenif((not FOV)and(((PWI<1)and(PDI()))or((PWI<UP)and(not(PDI())))))thenset h8[16+GetPlayerId(GX[O5])]=h7[114]set h8[GetPlayerId(GX[O5])]=h7[112]set eY[64+GetPlayerId(GX[O5])]=0set PWI=PWI+1set PUI=PUI-1elseif((not FRV)and(PTI<UP))thenset h8[16+GetPlayerId(GX[O5])]=h7[$87]set h8[GetPlayerId(GX[O5])]=h7[$84]set eY[64+GetPlayerId(GX[O5])]=1set PTI=PTI+1set PUI=PUI-1endifendifendifendifset O5=O5+1endloopendfunctionfunction PZI takes nothing returns nothingif((Bz>26.)and((not FEV)or((FOV)and(FRV))or((FOV)and(FXV))or((FRV)and(FXV)))and((Bz<=F7V-30)or(Bz>=F7V-18)))thenif(GGV!=null)thencall PSI()endifif(GHV!=null)thencall PYI()endifendifendfunctionfunction P_I takes nothing returns nothinglocal unit it=RME(GetHandleId(GetTriggeringTrigger()),"Hero")local integer kiif((GetUnitAbilityLevel(it,1093684056)>0)and(GetUnitLifePercent(it)>90.)and(not IsUnitHidden(it))and(iU(it)))thenset ki=GetHandleId(GetOwningPlayer(it))if((GetHeroStr(it,true)>(30+(4*GetHeroLevel(it))))and(GetHeroStr(it,false)>($F+GetHeroLevel(it))))thenif(IsTriggerEnabled(RTE(ki,"MorphStr")))thencall IssueImmediateOrderById(it,$D0243)elseif(not IsTriggerEnabled(RTE(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,$D0245)endifelseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it)))))thenif(IsTriggerEnabled(RTE(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,$D0246)elseif(not IsTriggerEnabled(RTE(ki,"MorphStr")))thencall IssueImmediateOrderById(it,$D0242)endifelseif(IsTriggerEnabled(RTE(ki,"MorphStr")))thencall IssueImmediateOrderById(it,$D0243)elseif(IsTriggerEnabled(RTE(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,$D0246)endifendifset it=nullendfunctionfunction KUI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM",t)call O8E(GetHandleId(t),"Hero",GetTriggerUnit())call TriggerRegisterTimerEventPeriodic(t,1.)call TriggerAddAction(t,function P_I)elseset t=RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")call O8E(GetHandleId(t),"Hero",GetTriggerUnit())endifendfunctionfunction P0I takes unit it,integer X5 returns nothingif((it!=null)and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),800.))and(GetUnitLifePercent(it)>50.))thencall IssuePointOrderById(it,X5,GetOrderPointX(),GetOrderPointY())endifendfunctionfunction P1I takes nothing returns nothinglocal integer X5=GetIssuedOrderId()local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if((X5<$D0020)and(X5!=$D0005)and(X5!=$D0006)and((not G0[16+O5])or(X5==$D0012)))thencall P0I(QV[16+O5],X5)call P0I(QV[32+O5],X5)call P0I(QV[48+O5],X5)endifendfunctionfunction KSI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM",t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerAddAction(t,function P1I)endifendfunctionfunction P2I takes nothing returns booleanreturn(GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero"))endfunctionfunction P3I takes unit it,integer P4I,boolean P5I returns nothingset GZ[304+GetPlayerId(GetOwningPlayer(it))]=P5Icall SetPlayerAbilityAvailable(GetOwningPlayer(it),P4I,P5I)endfunctionfunction P6I takes nothing returns nothinglocal unit IB=GetAttacker()local unit m5=GetTriggerUnit()local integer i1=GetUnitTypeId(IB)local integer O5=GetPlayerId(GetOwningPlayer(IB))local integer ktlocal integer P4Ilocal real P7I=.0local real P8I=.0local integer UPlocal boolean J4local integer X5=0if((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif((IsUnitType(m5,UNIT_TYPE_HERO)or IsUnitType(m5,UNIT_TYPE_STRUCTURE)))thenset J4=(i1!=1211117654)and(OTE(IB,$D00AB,1093747504))elseset J4=(i1==1211117654)and(OTE(IB,$D00AA,1093747504))endifelseif(i1==1162032951)thenset J4=((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])or((Bz+30.)<hq[O5])))call P3I(IB,1093679446,J4)set X5=$D011Fset P4I=1093679446elseif(i1==1160785972)thenset P7I=37+(GetHeroLevel(IB)*2.88)set P8I=$A+$A*(GetUnitAbilityLevel(IB,1095263841))call P3I(IB,1095263841,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>100.)or(X1E(m5))))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>P7I)and(GetWidgetLife(m5)<P7I+P8I)))set X5=$D00CEset P4I=1095263841elseif(i1==1429221456)thenset P7I=49+(GetHeroLevel(IB)*2.68)set P8I=GetUnitState(IB,UNIT_STATE_MANA)*(.05+.01*(GetUnitAbilityLevel(IB,1093685065)))call P3I(IB,1093685065,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(X1E(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>P7I)and(GetWidgetLife(m5)<P7I+P8I)))set X5=$D011Fset P4I=1093685065elseif(i1==1315074670)thencall P3I(IB,1093677622,(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(X1E(m5))))set P4I=1093677622set X5=$D0114elseif(i1==1164799855)thenset P7I=47+(GetHeroLevel(IB)*2.68)set UP=GetUnitAbilityLevel(IB,1093682265)if(UP==0)thenset UP=GetUnitAbilityLevel(IB,1093752642)if(UP>0)thenset P8I=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(.1+.05*(GetUnitAbilityLevel(IB,1093752642)))call P3I(IB,1093752642,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(X1E(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>68.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>P7I)and(GetWidgetLife(m5)<P7I+P8I)))set P4I=1093752642endifelseset P8I=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(.1+.05*(GetUnitAbilityLevel(IB,1093682265)))call P3I(IB,1093682265,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(X1E(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>P7I)and(GetWidgetLife(m5)<P7I+P8I)))set P4I=1093682265endifset X5=$D011Felseif(i1==1311781185)thenset P8I=GetHeroInt(IB,true)*.15*(GetUnitAbilityLevel(IB,1093684314))call P3I(IB,1093684314,((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(X1E(m5))))or((GetHeroLevel(IB)>$A)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>P7I)and(GetWidgetLife(m5)<P7I+P8I)))set P4I=1093684314set X5=$D011Felseif(i1==1211117649)thencall P3I(IB,1093685582,(GetUnitState(IB,UNIT_STATE_LIFE)>100.)and((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(IB)>60.)or(X1E(m5))))or((GetHeroLevel(IB)>$E)and(GetUnitLifePercent(IB)>70.)))set P4I=1093685582set X5=$D011Fendifif((GZ[304+O5])and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset kt=GetUnitAbilityLevel(IB,P4I)if((DVE(IB))or(hq[32+O5]>Bz)or(kt==0)or(GetUnitAbilityLevel(IB,1110455638)>0))thenset GZ[304+O5]=falseelseif(i1==1162032951)thenif(kt<=2)thenset hq[32+O5]=Bz+5.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>20.elseif(i1==1160785972)thenif(kt<=2)thenset hq[32+O5]=Bz+5.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>8.elseif(i1==1429221456)thenif(kt<=3)thenset hq[32+O5]=Bz+8.-(2.*kt)endifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>100.elseif(i1==1315074670)thenset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>12.elseif(i1==1164799855)thenif(kt<=3)thenset hq[32+O5]=Bz+7.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>35.+(5.*kt)elseif(i1==1311781185)thenif(kt<=3)thenset hq[32+O5]=Bz+4.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>15.elseif(i1==1211117649)thenset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_LIFE)>101.endifendifif IssueImmediateOrderById(IB,X5)thencall IssueTargetOrderById(IB,$D000F,m5)endifset IB=nullset m5=nullendfunctionfunction KQI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb",t)call O8E(GetHandleId(t),"Hero",GetTriggerUnit())if(B2E(GetOwningPlayer(GetTriggerUnit())))thencall TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call c6(t,EVENT_PLAYER_UNIT_ATTACKED)elsecall TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call B6(t,EVENT_PLAYER_UNIT_ATTACKED)endifcall TriggerRegisterPlayerUnitEvent(t,SX,EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function P2I))call TriggerAddAction(t,function P6I)endifendfunctionfunction P9I takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())==1848652103)or(GetUnitTypeId(GetTriggerUnit())==1848652099)or(GetUnitTypeId(GetTriggerUnit())==1848652088)or(GetUnitTypeId(GetTriggerUnit())==1848651828))and(IsUnitInForce(GetTriggerUnit(),GLV)))endfunctionfunction QVI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if((h4[O5]==null)and(not GZ[272+O5])and((GetUnitLifePercent(GetTriggerUnit())<50.)or((QV[O5]!=null)and(GetHeroLevel(QV[O5])<$A))))thenset GZ[272+O5]=truecall TriggerSleepAction(.2)call jW(GetTriggerUnit(),$D0012,h9[O5])call TriggerSleepAction(1.)set GZ[272+O5]=falseendifendfunctionfunction KYI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function P9I))call TriggerAddAction(t,function QVI)endifendfunctionfunction QEI takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),1097167976)==1)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(GetTriggerUnit(),GLV)))!=nullendfunctionfunction QXI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if(((h4[O5]==null)or(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<400.)or(GetRandomInt(1,$A)>4))and(GetUnitCurrentOrder(GetTriggerUnit())!=$D0012))thencall TriggerSleepAction(.5)call jW(GetTriggerUnit(),$D0012,h9[O5])endifendfunctionfunction KWI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function QEI))call TriggerAddAction(t,function QXI)endifendfunctionfunction QOI takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())==1697656907)or(GetUnitTypeId(GetTriggerUnit())==1697656905)or(GetUnitTypeId(GetTriggerUnit())==1697656908))and(IsUnitInForce(GetTriggerUnit(),GLV)))endfunctionfunction QRI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call TriggerSleepAction(.5)call jW(GetTriggerUnit(),$D0012,h9[512+O5])if(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<200.)thencall jW(GetTriggerUnit(),$D022D,OUE(GetTriggerUnit()))endifendfunctionfunction KTI takes nothing returns nothinglocal trigger tif(RTE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function QOI))call TriggerAddAction(t,function QRI)endifendfunctionfunction QII takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))!=nullendfunctionfunction QAI takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))or(GetUnitAbilityLevel(GetFilterUnit(),1110455378)>0))and(GetUnitAbilityLevel(GetFilterUnit(),1113815395)==0)and(GetUnitAbilityLevel(GetFilterUnit(),1113815346)==0))!=nullendfunctionfunction QNI takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player(bj_forLoopAIndexEnd))and((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction QBI takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),GetUnitUserData(GetEnumUnit())+1)call GroupAddUnit(iA,GetEnumUnit())endfunctionfunction QCI takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),0)endfunctionfunction QDI takes nothing returns nothinglocal integer O5=1local group jU=RUE(GetHandleId(GetTriggeringTrigger()),"MGrp")local boolexpr CQE=R6E(GetHandleId(GetTriggeringTrigger()),"MFilt")local unit V_E=nullloopif O5==6 thenset O5=7endifexitwhen O5>$Bif(GetUnitTypeId(QV[O5])==1211117643)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and((QRV[O5]!=1)or(GetRandomInt(1,$A)<=7))thencall GroupClear(jU)call GroupClear(iA)set bj_forLoopAIndexEnd=O5set bj_lastLoadedUnit=QV[O5]call GroupEnumUnitsOfPlayer(jU,Player(O5),CQE)loopset V_E=FirstOfGroup(jU)exitwhen V_E==nullcall GroupRemoveUnit(jU,V_E)if(OVE(400.,V_E,Condition(function QAI))>0)thencall IssueImmediateOrderById(V_E,$D024C)elseif((GetUnitUserData(GetEnumUnit())<2)and(OVE(400.,V_E,Condition(function NBE))>3)and(OVE(1200.,V_E,Condition(function QAI))==0))thencall IssueImmediateOrderById(V_E,$D024C)call GroupClear(H9)call GroupEnumUnitsInRange(H9,GetUnitX(V_E),GetUnitY(V_E),400.,CQE)call ForGroup(H9,function QBI)endifendloopcall ForGroup(iA,function QCI)endifset O5=O5+1endloopset jU=nullset CQE=nullset V_E=nullendfunctionfunction QFI takes nothing returns booleanreturn(((GetLearnedSkill()==1093681483)or((GetLearnedSkill()==1093748313)))and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Uzv takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetTriggerUnit())return(((i1==1865429304)or(i1==1865429042)or(i1==1865429058)or(i1==1865429314))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction UZv takes nothing returns nothingif(hq[$F0+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>Bz)thencall SetUnitUserData(GetTriggerUnit(),1)endifendfunctionfunction QGI takes nothing returns nothinglocal trigger t=CreateTrigger()call DisableTrigger(GetTriggeringTrigger())call TriggerRegisterTimerEventPeriodic(t,1.5)call TriggerAddAction(t,function QDI)set Hc=Location(.0,.0)call RAE(GetHandleId(t),"MGrp",CreateGroup())call RFE(GetHandleId(t),"MFilt",Condition(function QNI))call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction qg takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function QFI))call TriggerAddAction(t,function QGI)endfunctionfunction QHI takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())==1697657392)and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction QJI takes nothing returns nothingif((GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER)and((QRV[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]!=1)or(GetRandomInt(1,$A)<=7)))thencall MoveLocation(Hc,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))if((X9E(400.,Hc,Condition(function QII))>0)and(X9E(1100.,Hc,Condition(function NSE))>0))thencall IssueImmediateOrderById(GetEnumUnit(),$D024C)endifendifendfunctionfunction QKI takes nothing returns nothinglocal integer O5=1local group jU=RUE(GetHandleId(GetTriggeringTrigger()),"MGrp")local boolexpr CQE=R6E(GetHandleId(GetTriggeringTrigger()),"MFilt")loopif((GetPlayerController(RX[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(QV[GetPlayerId(RX[O5])])==1160786265))thencall GroupClear(jU)call GroupEnumUnitsOfPlayer(jU,RX[O5],CQE)call ForGroup(jU,function QJI)endifif((GetPlayerController(GX[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(QV[GetPlayerId(GX[O5])])==1160786265))thencall GroupClear(jU)call GroupEnumUnitsOfPlayer(jU,GX[O5],CQE)call ForGroup(jU,function QJI)endifset O5=O5+1endloopset jU=nullset CQE=nullendfunctionfunction QLI takes nothing returns booleanreturn((GetLearnedSkill()==1093685840)and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction QMI takes nothing returns nothinglocal trigger t=CreateTrigger()call DisableTrigger(GetTriggeringTrigger())call TriggerRegisterTimerEventPeriodic(t,1.5)call TriggerAddAction(t,function QKI)set Hc=Location(.0,.0)call RAE(GetHandleId(t),"MGrp",CreateGroup())call RFE(GetHandleId(t),"MFilt",Condition(function QHI))call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction EOX takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function QLI))call TriggerAddAction(t,function QMI)endfunctionfunction QPI takes unit F3E returns locationcall MoveLocation(HA,(LoadReal(YX,(GetHandleId(F3E)),(7400))),(LoadReal(YX,(GetHandleId(F3E)),(7500))))return HAendfunctionfunction QQI takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(XZE(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))thencall QPI(GetFilterUnit())return((E4E(GetLocationX(HA),GetLocationY(HA),GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))>3000.)endifreturn falseendfunctionfunction QSI takes nothing returns nothinglocal unit QTI=GetTriggerUnit()local player pl=GetOwningPlayer(QTI)local integer O5=GetPlayerId(GetOwningPlayer(QTI))local integer UP=0call SetPlayerAbilityAvailable(pl,1093687351,false)call SetPlayerAbilityAvailable(pl,1093748789,false)set h4[80+GetPlayerId(pl)]=nullif(h4[288+O5]==null)thenset h4[288+O5]=BOE(1500.,QTI)endifif(X1E(QTI))thencall jW(QTI,$D0012,h9[O5])elseif(h4[288+O5]!=null)thencall IssueTargetOrderById(QTI,$D000F,h4[288+O5])set hq[512+O5]=Bz+5.+I2R($F*GetUnitAbilityLevel(QTI,1093679445))elsecall jW(QTI,$D000F,h8[O5])set hq[512+O5]=Bz+5.+I2R($F*GetUnitAbilityLevel(QTI,1093679445))endifloopcall EYE(.5)exitwhen(GetUnitAbilityLevel(QTI,1110454347)==0)if(not G0[$80+O5])thenset h4[288+O5]=nullelseif((h4[288+O5]==null)or(not XZE(h4[288+O5]))or(AQE(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],pl))))thenset h4[288+O5]=BOE(1500.,QTI)endifif((X1E(QTI))or(not G0[$80+O5])or(G0[64+O5])or(G0[O5]))thencall jW(QTI,$D0012,h9[O5])elseif(h4[288+O5]!=null)thencall IssueTargetOrderById(QTI,$D000F,h4[288+O5])elsecall J3(QTI,true)endifendloopif((h4[288+O5]!=null)and(XZE(h4[288+O5]))and(IsUnitInRange(QTI,h4[288+O5],1200.)))thenset h4[O5]=h4[288+O5]endifcall SetPlayerAbilityAvailable(pl,1093687351,true)set hq[512+O5]=Bz+3.set h4[288+O5]=nullset QTI=nullset pl=nullendfunctionfunction QUI takes nothing returns booleanreturn((A3E())and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))endfunctionfunction QWI takes nothing returns booleanreturn((k3())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetUnitAbilityLevel(GetFilterUnit(),1113812327)==0))!=nullendfunctionfunction QYI takes nothing returns nothinglocal unit QTI=GetTriggerUnit()local unit QZI=nulllocal integer O5=GetPlayerId(GetOwningPlayer(QTI))local real klif(X1E(QTI))thencall jW(QTI,$D0012,h9[O5])elseif(h4[288+O5]!=null)thencall jW(QTI,$D0003,h4[288+O5])set hq[512+O5]=Bz+5.elsecall jW(QTI,$D000F,h8[O5])set hq[512+O5]=Bz+5.endifloopcall EYE(.3)exitwhen(GetUnitAbilityLevel(QTI,1112041075)==0)if(not G0[$80+O5])thenset h4[288+O5]=nullelseif((h4[288+O5]==null)or(not XZE(h4[288+O5]))or(AQE(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QTI)))))thenset h4[288+O5]=X6E(1000.,jv(QTI),Condition(function QUI))endifif((h4[288+O5]!=null)and(OVE(800.,h4[288+O5],Condition(function A9E))>0)and((not X1E(h4[288+O5]))or(not IsUnitInRange(h4[288+O5],QTI,400.))))thenset h4[288+O5]=nullendifif((X1E(QTI))or(G0[O5])or(not G0[$80+O5])or(G0[64+O5]))thencall jW(QTI,$D0012,h9[O5])elseif(h4[288+O5]!=null)thenset QZI=nullif(GetUnitAbilityLevel(h4[288+O5],1113812327)==0)thenset kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QTI),GetUnitX(h4[288+O5])-GetUnitX(QTI))call IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))elseif(GetUnitAbilityLevel(h4[288+O5],1113812327)>0)thenif((GetUnitLifePercent(h4[288+O5])<45.)or((GetHeroLevel(QTI)>$A)and(h4[O5]==h4[288+O5])and(GetUnitLifePercent(h4[288+O5])<65.)))thenif(IsUnitInRange(QTI,h4[288+O5],200.))thencall UnitRemoveAbility(QTI,1112041075)call IssueTargetOrderById(QTI,$D000F,h4[288+O5])elseset kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(QTI),GetUnitX(h4[288+O5])-GetUnitX(QTI))call IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))endifelseset h4[288+O5]=nullendifendifelseif((QZI!=null)and(GetUnitAbilityLevel(QZI,1113812327)>0))thenset QZI=nullendifif((QZI==null)and(GetHeroLevel(QTI)>$A)and(OVE(800.,QTI,Condition(function A3E))<=1))thenset QZI=X8E(600.,jv(QTI),Condition(function QWI))endifif(QZI!=null)thencall IssuePointOrderById(QTI,$D0012,GetUnitX(QZI),GetUnitY(QZI))elsecall jW(QTI,$D0012,h9[O5])endifendifendloopset hq[512+O5]=Bz+3.set h4[288+O5]=nullset QTI=nullset QZI=nullendfunctionfunction Q_I takes nothing returns nothinglocal unit QTI=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(QTI))local real CPElocal boolean J4if(GetUnitTypeId(QTI)==1315334514)thenset CPE=150.elseif(GetUnitTypeId(QTI)==1162032439)thenset CPE=350.endifset h4[288+O5]=BOE(1500.,QTI)if(h4[288+O5]!=null)thencall IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)elsecall jW(QTI,$D000F,h8[O5])endifset hq[512+O5]=Bz+30.loopcall EYE(.4)exitwhen((GetUnitAbilityLevel(QTI,1110456148)==0)or(X1E(QTI)))if((h4[288+O5]!=null)and(IsUnitInRange(h4[288+O5],QTI,CPE)))thenif(GetUnitTypeId(QTI)==1315334514)thenif(GetUnitCurrentOrder(QTI)!=$D0131)thencall OTE(QTI,$D0131,1093810506)endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(QTI),1093681462,true)set GZ[O5]=truecall J8(O5,OTE(QTI,$D0272,1093677363))endifelseif(XSE(QTI))thenset J4=(G0[O5])or(G0[64+O5])or(not G0[$80+O5])if((h4[288+O5]!=null)and((J4)or(not XZE(h4[288+O5]))or(AQE(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QTI))))))thenset h4[288+O5]=nullcall jW(QTI,$D0012,h9[O5])endifif((h4[288+O5]==null)and(not J4))thenset h4[288+O5]=BOE(1200.,QTI)endifif((h4[288+O5]!=null)and(not J4)and(not X1E(QTI)))thencall IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)elseif((X1E(QTI))or(J4))thencall jW(QTI,$D0012,h9[O5])endifendifendloopset hq[512+O5]=Bz+3.set h4[288+O5]=nullset GZ[272+O5]=falseset QTI=nullendfunctionfunction Q0I takes nothing returns nothinglocal unit QTI=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(QTI))local integer Q1Ilocal integer UPif(X1E(QTI))thencall jW(QTI,$D0012,h9[O5])set QTI=nullreturnendifif(GetUnitTypeId(QTI)==1315007329)thenset Q1I=1110455864call SetPlayerAbilityAvailable(GetOwningPlayer(QTI),1093677108,false)elseif(GetUnitTypeId(QTI)==1160785972)thenset Q1I=1110456118elseset Q1I=1110456148endifset h4[288+O5]=BOE(1500.,QTI)if(h4[288+O5]!=null)thencall IssueTargetOrderById(QTI,$D000F,h4[288+O5])elsecall J3(QTI,true)endifset hq[512+O5]=Bz+30.loopcall EYE(.5)exitwhen((GetUnitAbilityLevel(QTI,Q1I)==0)or(X1E(QTI)))if((h4[288+O5]!=null)and((G0[O5])or(G0[64+O5])or(not G0[$80+O5])or(not XZE(h4[288+O5]))or(AQE(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(QTI))))))thenset h4[288+O5]=nullcall jW(QTI,$D0012,h9[O5])endifif((h4[288+O5]!=null)and(not X1E(QTI)))thenif((Q1I!=1110455864)and(IsUnitInRange(QTI,h4[288+O5],300.)))thencall UnitRemoveAbility(QTI,Q1I)set GZ[O5]=trueif((GetUnitTypeId(QTI)!=1160785972)or(not OTE(QTI,$D0084,1093677872)))thencall IssueTargetOrderById(QTI,$D000F,h4[288+O5])endifset GZ[O5]=falseelseif(Q1I==1110455864)thencall IssueTargetOrderById(QTI,$D000F,h4[288+O5])elsecall IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)endifelseif((h4[288+O5]==null)and(not X1E(QTI))and(not G0[O5])and(not G0[64+O5])and(G0[$80+O5]))thenset h4[288+O5]=BOE(1500.,QTI)if(h4[288+O5]!=null)thencall IssuePointOrderById(QTI,$D0003,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)endifelsecall jW(QTI,$D0012,h9[O5])endifendloopif(GetTriggerEventId()==EVENT_PLAYER_UNIT_USE_ITEM)thenset GZ[272+O5]=falseendifset hq[512+O5]=Bz+3.set h4[288+O5]=nullset QTI=nullendfunctionfunction AIChargeOfDarknessWait takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local integer O5=GetPlayerId(pl)call SetPlayerController(pl,MAP_CONTROL_NONE)call EYE(1.)loopcall EYE(.5)exitwhen((GetUnitAbilityLevel(j5,1110454618)==0)or(not XZE(m5))or(X1E(j5))or(AQE(m5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)call EYE(.1)if((XZE(m5))and(IsUnitInRange(j5,m5,350.))and((not X1E(j5))or(X1E(m5)))and(J5V[O5]>Bz))thenset h4[O5]=m5call IssueTargetOrderById(j5,$D000F,m5)elseif((XZE(m5))and(IsUnitInRange(j5,m5,J5V[64+O5]))and((not X1E(j5))or(X1E(m5)))and(J5V[O5]<Bz))thenset h4[O5]=m5call IssueTargetOrderById(j5,$D0118,m5)elsecall J3(j5,true)endifcall CZE(j5)set m5=nullset j5=nullset pl=nullendfunctionfunction Q2I takes nothing returns booleanreturn((GetSpellAbilityId()==1093677391)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Q3I takes nothing returns nothinglocal unit j5=GetTriggerUnit()call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call EYE(.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call EYE(.0)call J3(j5,false)call EYE(1.)if(E3E(j5,OUE(j5))<1500.)thenset h9[GetPlayerId(GetOwningPlayer(j5))]=OUE(j5)call AEE(j5,true)elsecall CZE(j5)endifset j5=nullendfunctionfunction po takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Q2I))call TriggerAddAction(t,function Q3I)endfunctionfunction Q4I takes nothing returns booleanreturn((GetSpellAbilityId()==1093682764)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Q5I takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real Q6I=.0call SetPlayerController(pl,MAP_CONTROL_NONE)call LXI(j5,m5)set Q6I=Bzloopcall EYE(.5)exitwhen((GetUnitAbilityLevel(m5,1110455113)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+30.if((IsUnitAliveBJ(m5))and(not X1E(j5)))thencall IssueTargetOrderById(j5,$D000F,m5)elsecall J3(j5,false)endifset m5=nullset j5=nullset pl=nullendfunctionfunction YKE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Q4I))call TriggerAddAction(t,function Q5I)endfunctionfunction Q7I takes nothing returns booleanreturn((GetSpellAbilityId()==1093677649 or GetSpellAbilityId()==1093747769)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Q8I takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real Q6I=.0call SetPlayerController(pl,MAP_CONTROL_NONE)call LXI(j5,m5)set Q6I=Bzloopcall EYE(.5)exitwhen((GetUnitAbilityLevel(m5,1110455362)==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+120.if((not IsUnitDeadBJ(m5))and(not X1E(j5))and(not OME(j5,$D0097,1093683019,m5)))thencall IssueTargetOrderById(j5,$D000F,m5)elsecall J3(j5,false)endifset m5=nullset j5=nullset pl=nullendfunctionfunction WIE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Q7I))call TriggerAddAction(t,function Q8I)endfunctionfunction Q9I takes nothing returns booleanreturn((GetSpellAbilityId()==1093747288)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction SVI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal player pl=GetOwningPlayer(j5)local real Q6I=.0call SetPlayerController(pl,MAP_CONTROL_NONE)set Q6I=Bzset m5=K2(400.,HC[GetPlayerId(pl)])if(m5!=null)thencall LXI(j5,m5)endifloopcall EYE(.5)exitwhen((GetUnitCurrentOrder(j5)!=$D00DC)or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+210.-(GetUnitAbilityLevel(j5,1093747288)*10.)call J3(j5,false)set j5=nullset m5=nullset pl=nullendfunctionfunction TCE takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Q9I))call TriggerAddAction(t,function SVI)endfunctionfunction SEI takes nothing returns booleanreturn((GetSpellAbilityId()==1093678160)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction SXI takes nothing returns nothinglocal unit j5=GetTriggerUnit()call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call EYE(.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call EYE(.0)if(GetSpellTargetUnit()!=null)thencall LXI(j5,GetSpellTargetUnit())endifset j5=nullendfunctionfunction PV takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function SEI))call TriggerAddAction(t,function SXI)endfunctionfunction SOI takes nothing returns booleanreturn((GetSpellAbilityId()==1093684561 or GetSpellAbilityId()==1093747254)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction SRI takes unit it,integer O5 returns nothingif(E3E(h9[O5],it)<400.)thenset h8[O5]=h9[O5]set h9[O5]=OUE(it)elseif(E3E(h8[O5],it)<400.)thenset h9[O5]=h8[O5]if(IsUnitAlly(it,RX[0]))thenset h8[O5]=h7[18]elseset h8[O5]=h7[118]endifendifendfunctionfunction SII takes unit it,integer O5,boolean J4 returns nothinglocal unit m5=nullif(not J4)thenif((eY[O5]!=3)and(eY[O5]!=4))thencall jW(it,$D000F,h8[O5])elseset m5=X6E(1200.,jv(it),Condition(function k8))set J4=((m5!=null)and(IssuePointOrderById(it,$D000F,GetUnitX(m5),GetUnitY(m5))))or(jW(it,$D000F,h8[O5]))endifendifset m5=nullendfunctionfunction SAI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))set GZ[O5]=falseset GZ[272+O5]=X1E(j5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call EYE(.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call EYE(1.5)set h8[512+O5]=h8[16+O5]set h9[512+O5]=h9[16+O5]set h8[528+O5]=h8[16+O5]set h9[528+O5]=h9[16+O5]loopexitwhen(not IsUnitHidden(j5))call EYE(1.)endloopif(XZE(j5))thencall CZE(j5)endifset j5=nullendfunctionfunction OHX takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function SOI))call TriggerAddAction(t,function SAI)endfunctionfunction SNI takes nothing returns booleanlocal integer X5=GetIssuedOrderId()local integer i=GetUnitTypeId(GetTriggerUnit())if(X5!=$D024D)and(X5!=$D0011)and(X5!=$D024E)and(not IsUnitInRange(GetTriggerUnit(),QV[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],50.))thenif i==1966092359 or i==1966092361 thencall DisableTrigger(GetTriggeringTrigger())call IssueImmediateOrderById(GetTriggerUnit(),$D024D)call EnableTrigger(GetTriggeringTrigger())endifendifreturn falseendfunctionfunction aiExorcismFilter takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1966092359 and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))endfunctionfunction SBI takes nothing returns nothinglocal unit V_E=GetEnumUnit()local player pl=GetOwningPlayer(V_E)local trigger t=RTE(GetHandleId(pl),"ExorTrig")local integer i=GetUnitCurrentOrder(V_E)if E3E(V_E,bj_lastLoadedUnit)>750. thencall DisableTrigger(t)call IssuePointOrderById(V_E,$D0012,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))call EnableTrigger(t)elseif((i==0)or(i==$D0012 and E3E(V_E,bj_lastLoadedUnit)<450.))thencall IssueImmediateOrderById(V_E,$D024D)endifset V_E=nullset t=nullset pl=nullendfunctionfunction SCI takes nothing returns nothinglocal unit V_E=GetEnumUnit()local player pl=GetOwningPlayer(V_E)local trigger t=RTE(GetHandleId(pl),"NAttTrig")local integer i=GetUnitCurrentOrder(V_E)if E3E(V_E,bj_lastLoadedUnit)>350. thencall DisableTrigger(t)call IssuePointOrderById(V_E,$D0012,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))call EnableTrigger(t)elseif((i==0)or(i==$D0012 and E3E(V_E,bj_lastLoadedUnit)<200.))thencall IssueImmediateOrderById(V_E,$D024D)endifset V_E=nullset t=nullset pl=nullendfunctionfunction SDI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real H6I=Bz+29.5local trigger t=RTE(GetHandleId(pl),"ExorTrig")local integer SFI=GetSpellAbilityId()local group SGI=RUE(GetHandleId(pl),"ExorG")set hq[GetPlayerId(pl)]=Bz+120.call RemoveGuardPosition(j5)if(t==null)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerAddCondition(t,Condition(function SNI))call RVE(GetHandleId(pl),"ExorTrig",t)set SGI=CreateGroup()call RAE(GetHandleId(pl),"ExorG",SGI)elsecall EnableTrigger(t)call GroupClear(SGI)endifloopcall TriggerSleepAction(.5)if((iU(j5))and(GetUnitCurrentOrder(j5)!=$D000F)and(OVE(750.,j5,Condition(function k0))==0)and(not X1E(j5))and((GetUnitLifePercent(j5)>90.)or(not G0[GetPlayerId(GetOwningPlayer(j5))])))thencall jW(j5,$D000F,h8[GetPlayerId(GetOwningPlayer(j5))])endifexitwhen((Bz>H6I)or(not XZE(j5)))set bj_lastLoadedUnit=j5call ForGroup(SGI,function SBI)endloopcall DisableTrigger(t)set t=nullset j5=nullendfunctionfunction SHI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real H6I=Bz+9.5local trigger t=RTE(GetHandleId(pl),"NAttTrig")local integer SFI=GetSpellAbilityId()local group SGI=RUE(GetHandleId(pl),"NAttG")call RemoveGuardPosition(j5)if(t==null)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerAddCondition(t,Condition(function SNI))call RVE(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"NAttTrig",t)set SGI=CreateGroup()call RAE(GetHandleId(pl),"NAttG",SGI)elsecall EnableTrigger(t)call GroupClear(SGI)endifloopcall TriggerSleepAction(.3)exitwhen((Bz>H6I)or(not XZE(j5)))set bj_lastLoadedUnit=j5call ForGroup(SGI,function SCI)endloopcall DisableTrigger(t)set t=nullset j5=nullendfunctionfunction SJI takes nothing returns booleanreturn((GetSpellAbilityId()==1093685846)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction SKI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal real H6I=Bz+.5local integer O5=GetPlayerId(GetOwningPlayer(j5))call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call TriggerSleepAction(.01)loopif((h4[O5]!=null)and(XZE(h4[O5]))and(IsUnitInRange(j5,h4[O5],$91+(40*GetUnitAbilityLevel(j5,1093685839)))))thenset m5=h4[O5]elseset m5=X8E(I2R($91+(40*GetUnitAbilityLevel(j5,1093685839))),jv(j5),Condition(function A3E))endifif(m5!=null)thencall UnitRemoveAbility(j5,1110456395)call IssueTargetOrderById(j5,$D000F,m5)endifexitwhen((not G0[$80+O5])or(GetUnitAbilityLevel(j5,1110456395)==0)or(not XZE(j5))or(Bz>=H6I))call EYE(.5)endloopcall SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call J3(j5,false)set j5=nullset m5=nullendfunctionfunction ERX takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SJI))call TriggerAddAction(t,function SKI)endfunctionfunction SLI takes nothing returns booleanreturn((GetSpellAbilityId()==1093677402)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))!=nullendfunctionfunction SMI takes nothing returns nothinglocal real IWlocal real JDlocal real Jelocal integer O5=GetPlayerId(GetOwningPlayer(hr))if((GetDestructableTypeId(GetEnumDestructable())==1465152372)or(GetDestructableTypeId(GetEnumDestructable())==1230271587)or(GetDestructableTypeId(GetEnumDestructable())==1230271607)or(GetDestructableTypeId(GetEnumDestructable())==1314157687)or(GetDestructableTypeId(GetEnumDestructable())==1096053874))thenset JD=GetUnitX(h9[16+O5])set Je=GetUnitY(h9[16+O5])set IW=E4E(GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()),JD,Je)if(((E4E(GetUnitX(hr),GetUnitY(hr),JD,Je)-150.)>IW)and((GetLocationX(HC[$F0+O5])==.0)or(((E4E(GetLocationX(HC[$F0+O5]),GetLocationY(HC[$F0+O5]),JD,Je)-150.)>IW))and(E4E(GetLocationX(HC[$F0+O5]),GetLocationY(HC[$F0+O5]),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))>250.)))thencall MoveLocation(HC[$F0+O5],GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))endifendifendfunctionfunction SPI takes nothing returns nothinglocal unit SQI=GetSpellTargetUnit()local integer O5=GetPlayerId(GetOwningPlayer(SQI))local integer ki=GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))local location SSI=nullcall EYE(.5)set GZ[272+O5]=falseif(HC[$F0+O5]==null)thenset HC[$F0+O5]=Location(.0,.0)endifloopcall SetRect(He,GetUnitX(SQI)-600.,GetUnitY(SQI)-600.,GetUnitX(SQI)+600.,GetUnitY(SQI)+600.)set hr=SQIcall EnumDestructablesInRect(He,G0V,function SMI)set SSI=HC[$F0+O5]if(GetLocationX(SSI)!=.0)thencall IssuePointOrderByIdLoc(SQI,$D0012,SSI)elsecall jW(SQI,$D0012,h9[O5])endifcall EYE(.8)exitwhen((GetUnitAbilityLevel(SQI,1110454833)==0)or(GZ[272+O5])or((OVE(1200.,SQI,Condition(function A3E))==0)and(iy(SQI))))if((GetLocationX(SSI)!=.0)and(IsUnitInRangeLoc(SQI,SSI,150.)))thencall MoveLocation(SSI,.0,.0)endifendloopif(SSI!=null)thencall MoveLocation(SSI,.0,.0)endifset SSI=nullset SQI=nullendfunctionfunction Pr takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SLI))call TriggerAddAction(t,function SPI)endfunctionfunction STI takes real HUI,real HWI,boolean SUI returns booleanlocal boolean J4=falselocal unit SWI=nulllocal unit it=GetEnumUnit()if E4E(GetUnitX(it),GetUnitY(it),HUI,HWI)>$BB8 thenif(SUI)thencall AIE(it)set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,$D022D,HUI,HWI)))or((GetUnitTypeId(it)==1311780946)and(((IsUnitAlly(it,RX[0]))and(IssueTargetOrderById(it,$D0278,ACV)))or((IsUnitAlly(it,GX[0]))and(IssueTargetOrderById(it,$D0278,NOV)))))elsecall MoveLocation(HB,HUI,HWI)set SWI=X6E(1200.,HB,Condition(function Kd))if((SWI!=null)and(OVE(1000.,SWI,Condition(function Kd))>3)and(OVE(1200.,SWI,Condition(function k6))<2)and(E3E(SWI,OUE(it))>4000.)and(kJ(GetUnitX(SWI),GetUnitY(SWI))))thencall AIE(it)set J4=((GetUnitTypeId(it)==1164799603)and(IssuePointOrderById(it,$D022D,GetUnitX(SWI),GetUnitY(SWI))))or((GetUnitTypeId(it)==1311780946)and(IssueTargetOrderById(it,$D0278,SWI)))or((OXE(it,BU[A7]))and(UnitUseItemTarget(it,bj_lastCreatedItem,SWI)))endifendifendifset SWI=nullset it=nullreturn J4endfunctionfunction SYI takes integer SZI returns booleanlocal unit u=GetEnumUnit()local boolean J4=falseif(SZI==0)thenif(IsUnitAlly(u,GX[0]))thenset J4=(STI(Tm,Um,false))or(STI(Jm,lm,false))or(STI(cm,Cm,false))or(STI(Zq,vQ,false))elseset J4=(STI(bQ,BQ,false))or(STI(aQ,EQ,false))or(STI(Zq,vQ,false))or(STI(cm,Cm,false))endifelseif(SZI==1)thenif(IsUnitAlly(u,GX[0]))thenset J4=(STI(-6240.,-3808.,false))or(STI(-6112.,-1312.,false))or(STI(-6112.,1504.,false))or(STI(3169.,5920.,false))elseset J4=(STI(-4704.,5920.,false))or(STI(32.,5856.,false))or(STI(3169.,5920.,false))or(STI(-6112.,1504.,false))endifelseif(SZI==2)thenif(IsUnitAlly(u,GX[0]))thenset J4=(STI(-3424.,-6560.,false))or(STI(-544.,-6688.,false))or(STI(4960.,-6752.,false))or(STI(6044.,2874.,false))elseset J4=(STI(6048.,-2080.,false))or(STI(6112.,-96.,false))or(STI(6044.,2874.,false))or(STI(4960.,-6752.,false))endifelseif(SZI==3)thenset J4=STI(GetUnitX(OUE(u)),GetUnitY(OUE(u)),true)endifset u=nullreturn J4endfunctionfunction S_I takes unit it returns integerif(GetUnitAbilityLevel(it,1093810259)==0)thenreturn $96+($96*GetUnitAbilityLevel(it,1093810258))elsereturn $A0+($B4*GetUnitAbilityLevel(it,1093810259))endifendfunctionfunction S0I takes unit it returns integerlocal integer kt=GetHeroLevel(it)if(Q or HFV)thenreturn(45*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<5)thenreturn(30*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<$B)thenreturn(40*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<$F)thenreturn(55*kt)elsereturn(70*kt)endifendfunctionfunction S1I takes unit it returns integerlocal integer kc=GetUnitAbilityLevel(it,1093684565)if((kc==0)and(GetUnitAbilityLevel(it,1093681458)>0))thenreturn GetUnitAbilityLevel(it,1093681458)endifreturn kcendfunctionfunction S3I takes unit it returns integerif(GetUnitAbilityLevel(it,1093679447)==0)thenreturn $EC+($96*GetUnitAbilityLevel(it,1093679413))elsereturn 350+($96*GetUnitAbilityLevel(it,1093679447))endifendfunctionfunction S4I takes unit it returns integerif(GetUnitAbilityLevel(it,1093679450)==0)thenreturn $EC+($96*GetUnitAbilityLevel(it,1093677392))elsereturn 332+($96*GetUnitAbilityLevel(it,1093679450))endifendfunctionfunction S5I takes unit it returns realif((it==AUV)or(it==AZV)or(it==A1V)or(it==A4V)or(it==A3V)or(it==AWV))thenreturn 50.elseif((it==ATV)or(it==AYV)or(it==A0V))thenreturn 100.elseif((it==A_V)or(it==A2V))thenreturn 10.elseif((it==NFV)or(it==NJV)or(it==NLV)or(it==NMV))thenreturn 230.elseif((it==NCV)or(it==NGV)or(it==NKV))thenreturn 270.elseif(it==NHV)thenreturn 150.elsereturn 180.endifendfunctionfunction S6I takes unit it returns reallocal real S7I=HTE(R2E(GetHandleId(it),"TLLife1"),1.)-GetUnitState(it,UNIT_STATE_LIFE)local real S8I=GetUnitState(it,UNIT_STATE_MAX_LIFE)if(S8I==0)thenreturn .0elsereturn(S7I/S8I)*100.endifendfunctionfunction S9I takes unit it,real M_I,integer X5,integer o6 returns booleancall MoveLocation(Ha,GetUnitX(it)+M_I*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+M_I*Sin(GetUnitFacing(it)*bj_DEGTORAD))return((X9E(260.,Ha,Condition(function k6))>0)and(OTE(it,X5,o6)))endfunctionfunction TVI takes unit it,real M_I,boolexpr Ig returns booleancall MoveLocation(Ha,GetUnitX(it)+M_I*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+M_I*Sin(GetUnitFacing(it)*bj_DEGTORAD))return X9E(260.,Ha,Ig)>0endfunctionfunction TEI takes unit j5,unit m5 returns booleanif((GetUnitAbilityLevel(j5,1093678665)!=0)and(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))]))thenset WNV=$C8+($C8*GetUnitAbilityLevel(j5,1093678665))return((F7E(j5,m5,40/.03,0,WNV)!=null)and(F1E(j5,m5,GetLocationX(YIV),GetLocationY(YIV),125,Condition(function LQE)))and(IssuePointOrderByIdLoc(j5,$D0278,YIV)))endifreturn falseendfunctionfunction TXI takes unit j5,unit m5 returns booleanif((GetUnitAbilityLevel(j5,1093684280)!=0)and(Bz>hq[32+GetPlayerId(GetOwningPlayer(j5))]))thenreturn((F7E(j5,m5,30/.035,0,3000.)!=null)and(F1E(j5,m5,GetLocationX(YIV),GetLocationY(YIV),$8C,Condition(function uj)))and(IssuePointOrderByIdLoc(j5,$D02B6,YIV)))endifreturn falseendfunctionfunction TOI takes unit j5,unit m5 returns booleanlocal integer I8=0local item jalocal boolean jR=falseloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(AYE(GetItemTypeId(ja))))thenset jR=UnitUseItemTarget(j5,ja,m5)set I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn jRendfunctionfunction TRI takes unit it returns booleanlocal integer I8=0local item jaloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(ks(GetItemTypeId(ja))))thenset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction TII takes unit j5 returns booleanlocal integer I8=0local item jalocal boolean jR=falseloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(ks(GetItemTypeId(ja))))thenset GZ[$E0+GetPlayerId(GetOwningPlayer(j5))]=trueset jR=UnitUseItem(j5,ja)set GZ[$E0+GetPlayerId(GetOwningPlayer(j5))]=falseset I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn jRendfunctionfunction TAI takes unit j5,unit m5 returns booleanlocal integer I8=0local item ja=nulllocal location TNI=nulllocal boolean jR=falseif(AQE(m5))thenreturn falseendifloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(GetItemTypeId(ja)==BU[EZ]))thenset TNI=kL(j5,m5,100.)if(TNI!=null)thenset jR=UnitUseItemPointLoc(j5,ja,TNI)if((jR)and(hq[512+GetPlayerId(GetOwningPlayer(j5))]<Bz))thenset hq[512+GetPlayerId(GetOwningPlayer(j5))]=Bz+1.endifendifset I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset TNI=nullset ja=nullreturn jRendfunctionfunction TBI takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0))thenreturn(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<=WNV)endifreturn falseendfunctionfunction TCI takes unit it,unit m5 returns nothingif((it!=null)and(it!=GetTriggerUnit())and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),1200.))and(GetUnitLifePercent(it)>50.))thenif(not IssuePointOrderById(it,$D0249,GetUnitX(m5)+5.,GetUnitY(m5)+5.))thencall IssueTargetOrderById(it,$D000F,m5)endifendifendfunctionfunction TDI takes unit it,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))if(hq[$F0+O5]<Bz)thenset GZ[O5]=trueif(F7E(it,m5,30/.035,0,(GetUnitAbilityLevel(it,1093684802)+1)*$FA)!=null)and(J8(O5,OPE(it,$D0079,1093684802,YIV)))thenset hq[$F0+O5]=Bz+1.5return trueendifendifreturn falseendfunctionfunction TFI takes nothing returns nothingcall CZE(GetEnumUnit())endfunctionfunction TGI takes unit it,unit m5,boolean THI returns booleanlocal integer i1=GetUnitTypeId(it)local boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(it))if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif(i1==1211117653)thenset J4=(((GetUnitState(it,UNIT_STATE_MANA))>290)and(CAE(it,1093686861)or(Bz>J5V[O5]))and(CLE(it,T8V,T9V,UVV,1093686861)and IssuePointOrderById(it,$D00F7,GetUnitX(m5),GetUnitY(m5))))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(CAE(it,1093686859)or(Bz>J5V[O5]))and(Bz>J5V[96+O5])and CLE(it,T9V,T9V,T8V,1093686859)and IssuePointOrderById(it,$D020B,GetUnitX(m5),GetUnitY(m5)))elseif(i1==1160786505)thenset J4=(IssueTargetOrderById(it,$D00D9,m5))elseif(i1==1429221424)thenset J4=OME(it,$D024B,1093687351,m5)elseif(i1==1432646245)thenset J4=((i2(m5))or(THI))and(OME(it,$D007F,1093677640,m5))elseif(i1==1430468913)thenset J4=(IsUnitInRange(it,m5,200.))and(OTE(it,$D009F,1093810507))elseif(i1==1430467634)thenset J4=((i2(m5))or(THI))and(OME(it,$D0107,1093679412,m5))elseif(i1==1313026096)thenset J4=OME(it,$D007F,1095267426,m5)elseif(i1==1211117617)thenset J4=OME(it,$D02B6,1093744944,m5)elseif(i1==1430466872)thenset J4=(OME(it,$D024B,1093687349,m5))or((not THI)and(OME(it,$D0216,1093684558,m5)))elseif(i1==1164666213)thenset J4=OME(it,$D0100,1093678679,m5)elseif(i1==1430466865)thenset J4=(IsUnitInRange(it,m5,300.))and(OTE(it,$D009F,1093810508))elseif(i1==1429221441)thenset J4=OME(it,$D0107,1093678389,m5)elseif(i1==1332766568)thenset J4=(not THI)and(i2(m5))and(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,$D0278))elseif(i1==1429221451)thenset J4=IssueTargetOrderById(it,$D00FA,m5)elseif(i1==1429221446)thenset J4=((IsUnitInRange(it,m5,300.))and(OQE(it,$D0200,1093682764,1093747544,m5)))or(((i2(m5))or(THI))and(TEI(it,m5)))elseif(i1==1429221445)thenset J4=(GetUnitLifePercent(m5)<60.)and(OQE(it,$D007F,1093678647,1093679184,m5))elseif(i1==1160786241)thenset J4=OME(it,$D00FA,1093684813,m5)elseif(i1==1429221456)thenset J4=(i2(m5))and(OME(it,$D0097,1093685066,m5))elseif(i1==1430468406)thenset J4=(not THI)and(i2(m5))and(OME(it,$D0270,kS(it),m5))elseif(i1==1311780946)thenset J4=OME(it,$D0208,1093685825,m5)elseif(i1==1211117646)thenset J4=(i2(m5))and(OME(it,$D010E,1093685573,m5))elseif(i1==1160785973)thenset J4=((i2(m5))or(THI))and(OME(it,$D0107,1093678130,m5))elseif(i1==1332963428)thenset J4=((not THI)and(OME(it,$D0103,1093678169,m5)))or((GetUnitState(it,UNIT_STATE_MANA)>hq[272+GetPlayerId(GetOwningPlayer(it))])and(OME(it,$D0200,1093677649,m5)))elseif(i1==1332109682)thenset J4=(IsUnitInRange(it,m5,500.))and(OTE(it,$D026C,1093810505))elseif(i1==1315988077)thenset J4=(IsUnitInRange(it,m5,200.))and(OTE(it,$D0080,1093678669))elseif(i1==1211117616)thenset J4=((IsUnitInRange(it,m5,200.))and(OTE(it,$D009F,1093677139)))or((i2(m5))and(OME(it,$D0107,1093677132,m5)))elseif(i1==1315074670)thenset J4=(not THI)and(i2(m5))and(OME(it,$D0270,1093685570,m5))elseif(i1==1215063922)thenset J4=(IsUnitInRange(it,m5,300.))and(OME(it,$D007F,1093681490,m5))elseif(i1==1315007329)thenset J4=((i2(m5))or(THI))and(OME(it,$D007F,1093677108,m5))elseif(i1==1332898670)thenset J4=(OME(it,$D0216,1093685848,m5))or((IsUnitInRange(it,m5,400)or G5X(m5))and(OME(it,$D0200,1093677136,m5)))elseif(i1==1215128178)thenset J4=(i2(m5))and(OME(it,$D007F,1093683779,m5))elseif(i1==1215723364)thenset J4=OME(it,$D007F,1093677633,m5)elseif(i1==1433105516)thenset J4=IssueTargetOrderById(it,$D02B6,m5)elseif(i1==1212363833)thenset J4=(not THI)and(((i2(m5))and(IssueImmediateOrderById(it,$D0278)))or(OME(it,$D007F,1093809220,m5)))elseif(i1==1214931305)thenset J4=OME(it,$D00CB,1093678147,m5)elseif(i1==1311787088)thenset J4=OME(it,$D0278,1093750087,m5)elseif(i1==1212365106)thenset J4=(i2(m5))and(OME(it,$D0079,1093685831,m5))elseif(i1==1211117620)thenset J4=OME(it,$D0108,1093677623,m5)elseif(i1==1333027688)thenset J4=OME(it,$D0278,1093686091,m5)elseif(i1==1332179560)thenset J4=((i2(m5))or(THI))and(OME(it,$D02B6,1093742660,m5))elseif(i1==1432580716)thenset J4=OME(it,$D0079,1093684300,m5)elseif(i1==1215130471)thenset J4=OME(it,$D007F,A_E(it),m5)or(R3E(GetHandleId(it),"AI|Magi2Blast")and OME(it,$D0278,1093815121,m5))elseif(i1==1160786000)thenset J4=OME(it,$D0264,1093685046,m5)elseif(i1==1311781206)thenset J4=TXI(it,m5)elseif(i1==1311780930)thenset J4=(i2(m5))and((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,$D0278)))elseif(i1==1211119187)thenset J4=OME(it,$D0079,1093743414,m5)elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenset J4=(R8E(it,"AlcheBrew"))and(IssueTargetOrderById(it,$D0278,m5))elseif(i1==1211117651)thenset J4=(OME(it,$D0097,1093743698,m5))elseif(i1==1311786311)thenset J4=(not XSE(m5))and(OME(it,$D0097,1093743178,m5))elseif(i1==1328558390)thenset J4=(OME(it,$D0097,1093744975,m5))or(OME(it,$D00FA,1093744982,m5))elseif(i1==1160786504)thenset J4=OME(it,$D0097,1093751608,m5)elseif(i1==1160786520)thenset J4=OME(it,$D00F6,1093809990,m5)elseif(i1==1160786507)thenset J4=(not THI)and(IssueTargetOrderById(it,$D007F,m5))endifif(not J4)thenif(not J4)and(OXE(it,BU[D8]))thenset J4=(not THI)and((i2(m5))or(X1E(it)))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(it,BU[V7V]))thenset J4=(not THI)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(it,BU[G6]))thenset J4=(not THI)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(it,BU[EHV])and(G3X(m5)==false)and(DVE(m5)==false))thenset J4=(not THI)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(it,BU[EFV]))thenset J4=(not THI)and(UnitUseItem(it,bj_lastCreatedItem))endifendifif(i1==1160786520)and(not J4)and(hq[816+O5]>Bz)thenset G0[288+O5]=trueset J4=TGI(it,m5,THI)endifreturn J4endfunctionfunction TJI takes unit TKI,unit TMI returns booleanlocal integer i1=GetUnitTypeId(TKI)local integer O5=GetPlayerId(GetOwningPlayer(TKI))local boolean J4=falseif(i1==1211117653)thenset J4=((Bz>J5V[16+O5])and CLE(TKI,T8V,T8V,T8V,1093686874)and(OME(TKI,$D0219,1093686874,TMI)))or(((GetUnitState(TKI,UNIT_STATE_MANA))>400)and(Bz>J5V[112+O5])and CLE(TKI,T8V,T9V,UVV,1093686861)and IssuePointOrderById(TKI,$D00F7,GetUnitX(TMI),GetUnitY(TMI)))elseif(i1==1160786505)thenset J4=(IssuePointOrderById(TKI,$D02B6,GetUnitX(TMI),GetUnitY(TMI)))elseif(i1==1160785970)thenset J4=(IsUnitInRange(TKI,TMI,650.))and(GetUnitManaPercent(TKI)>60.)and(Bz>J5V[16+O5])and(OTE(TKI,$D022E,1093748023))elseif(i1==1160786506)thenset J4=(IsUnitInRange(TKI,TMI,795.))and(GetUnitAbilityLevel(TKI,1093751894)<3)and(GetUnitManaPercent(TKI)>70.)and(IssueTargetOrderById(TKI,$D007F,TMI))if(not J4)thenset J4=(IsUnitInRange(TKI,TMI,795.))and(GetUnitAbilityLevel(TKI,1093752118)>0)and(GetUnitAbilityLevel(TKI,1093751894)>=3)and(((Bz>J5V[48+O5])and(GetUnitManaPercent(TKI)>55.)and(EPE(O5,TKI,1093751894,1093751637))and(IssueTargetOrderById(TKI,$D007F,TMI)))or((GetUnitManaPercent(TKI)>20.)and(IssueTargetOrderById(TKI,$D007F,BOE(795.,TKI)))))endifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenset J4=OME(TKI,$D0097,1093682994,TMI)elseif(i1==1429221424)thenset J4=(OME(TKI,$D024B,1093687351,TMI))or(OME(TKI,$D0118,1093748789,TMI))elseif(i1==1430466609)thenset J4=OME(TKI,$D022F,1093685559,TMI)elseif(i1==1162032439)thenset J4=OME(TKI,$D02BD,1093744435,TMI)elseif(i1==1165451634)thenset J4=OME(TKI,$D02B6,1093687629,TMI)elseif(i1==1433168227)thenset J4=OME(TKI,$D0102,1093678918,TMI)elseif(i1==1430466865)thenset J4=OME(TKI,$D009D,1093677651,TMI)elseif(i1==1432642913)thenset J4=IssueTargetOrderById(TKI,$D02B6,TMI)elseif(i1==1429221445)thenset J4=(IsUnitInRange(TKI,TMI,400.))and(OTE(TKI,$D022E,1093678422))elseif(i1==1332963428)thenset J4=OME(TKI,$D0097,1093683019,TMI)elseif(i1==1332109682)thenset J4=OME(TKI,$D02B6,1093678134,TMI)elseif(i1==1211117640)thenset J4=(IsUnitInRange(TKI,TMI,500.))and(IssueTargetOrderById(TKI,$D0079,TMI))elseif(i1==1430468406)thenset J4=OME(TKI,$D00FA,kT(TKI),TMI)elseif(i1==1215063922)thenset J4=(OME(TKI,$D0264,1093677894,TMI))or(OME(TKI,$D007F,1093681490,TMI))elseif(i1==1160786242)thenset J4=IssueTargetOrderById(TKI,$D02B6,TMI)elseif(i1==1311780946)thenset J4=OME(TKI,$D010E,1093809743,TMI)elseif((i1==1211117650)or(i1==1211119433))thenset I9V=TKIset J4=(OVE(1000.,TKI,Condition(function ny))>3)and(IssueTargetOrderById(TKI,$D02DB,TMI))elseif(i1==1211117646)thenset J4=OME(TKI,$D010E,1093685573,TMI)elseif(i1==1211117624)thenset J4=(IsUnitInRange(TKI,TMI,400.))and(OTE(TKI,$D022E,1093683024))elseif(i1==1211117616)thenset J4=((IsUnitInRange(TKI,TMI,200.))and(OTE(TKI,$D009F,1093677139)))or(OME(TKI,$D0107,1093677132,TMI))elseif(i1==1433631084)thenset J4=IssueTargetOrderById(TKI,$D0079,TMI)elseif(i1==1332898670)thenset J4=OME(TKI,$D026B,1093677360,TMI)elseif(i1==1215128178)thenset J4=(OME(TKI,$D007F,1093683779,TMI))or(OME(TKI,$D0097,1093677616,TMI))elseif(i1==1316252014)thenset J4=(OTE(TKI,$D022E,1093678405))or(OME(TKI,$D0269,1093678137,TMI))elseif(i1==1328558160)thenset J4=(OME(TKI,$D00FA,1093682766,TMI))or(IssueTargetOrderById(TKI,$D02B6,TMI))elseif(i1==1214931305)thenset J4=OME(TKI,$D0079,1093748025,TMI)elseif(i1==1211117633)thenset J4=OME(TKI,$D007F,1093684310,TMI)elseif(i1==1211117620)thenset J4=(OME(TKI,$D009D,1093677382,TMI))or(OME(TKI,$D0108,1093677623,TMI))elseif(i1==1311781185)thenset J4=IssueTargetOrderById(TKI,$D02B6,TMI)elseif(i1==1160786000)thenset J4=OME(TKI,$D00FA,1093685047,TMI)elseif(i1==1311781206)thenset J4=(IsUnitInRange(TKI,TMI,500.))and(IssueImmediateOrderById(TKI,$D0278))elseif(i1==1311780930)thenset J4=((IsUnitInRange(TKI,TMI,350.))and(IssueImmediateOrderById(TKI,$D0278)))or(IssuePointOrderById(TKI,$D02B6,GetUnitX(TMI),GetUnitY(TMI)))elseif(i1==1311781174)thenset J4=OME(TKI,$D00FA,1093808461,TMI)elseif(i1==1311781175 or i1==1311781442)thenset J4=(IsUnitInRange(TKI,TMI,400.)and(OTE(TKI,$D0080,1093808462)))elseif(i1==1160786520)thenset J4=OME(TKI,$D00D8,1093809991,TMI)elseset J4=TGI(TKI,TMI,true)endifreturn J4endfunctionfunction TPI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((G0[32+O5])or(not G0[$80+O5])or(G0[O5]))thenelseif(h4[O5]==null)thenset h4[O5]=hzif(XSE(GetEnumUnit()))thencall TJI(GetEnumUnit(),hz)endifelseif(XSE(GetEnumUnit()))thencall TJI(GetEnumUnit(),hz)endifendfunctionfunction TQI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((G0[32+O5])or(not G0[$80+O5])or(G0[O5])or(GT))thenelseif(h4[O5]==null)thenset h4[O5]=hzif(XSE(GetEnumUnit()))thenset GT=TGI(GetEnumUnit(),hz,true)endifelseif(XSE(GetEnumUnit()))thenset GT=TGI(GetEnumUnit(),hz,true)endifendfunctionfunction TSI takes unit TKI,unit TMI returns nothingset hZ=TKIset hz=TMIif(GetWidgetLife(TMI)>1.)thencall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(TKI),GetUnitY(TKI),1200.,iP)call ForGroup(iA,function TPI)endifendfunctionfunction TTI takes unit TKI,unit TMI returns nothingset hZ=TKIset hz=TMIif(GetWidgetLife(TMI)>1.)thencall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(TKI),GetUnitY(TKI),1200.,iP)set GT=falsecall ForGroup(iA,function TQI)endifendfunctionfunction TUI takes unit IB,unit m5,boolean TWI returns nothingif((m5==null)or(not XZE(m5))or(not IsUnitType(m5,UNIT_TYPE_HERO))or(IsUnitAlly(m5,GetOwningPlayer(IB))))thenreturnendifset h4[GetPlayerId(GetOwningPlayer(IB))]=m5call LXI(IB,m5)if((not IsUnitInForce(IB,GLV))or(not XSE(IB)))thenelseif((TWI)and(G0[$80+GetPlayerId(GetOwningPlayer(IB))])and((not X1E(IB))or(X1E(m5))))thencall IssueTargetOrderById(IB,$D000F,m5)elseif((X1E(IB))and(not X5E(m5,IB)))thencall jW(IB,$D0012,h9[GetPlayerId(GetOwningPlayer(IB))])endifendfunctionfunction TYI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(j5))local real E2E=Bz+4.5local real TZI=Bz+7.5local real J2I=775local boolean OFE=falselocal boolean T_I=B6E(Player(O5))set hq[O5]=Bz+120.if T_I thencall IVE(j5,"AlcheBrew")if h4[O5]!=null thenset J2I=E3E(j5,h4[O5])endifendifloopcall TriggerSleepAction(.5)if T_I thenif h4[O5]!=null thenif(not IsUnitInRange(j5,h4[O5],600))thenexitwhen trueendifelseset bj_lastLoadedUnit=j5if OVE(600,j5,Condition(function A5E))==0 thenexitwhen trueendifendifendifexitwhen((not XZE(j5))or(Bz>E2E))endloopif not B6E(Player(O5))thencall TTI(j5,j5)set j5=nullreturnendifif(XZE(j5))thenset m5=h4[O5]if(m5==null)or(not XZE(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenset m5=BRE(775.,j5)endifloopexitwhen(Bz>TZI)if(m5==null)or(not XZE(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenset m5=BRE(775.,j5)endifif m5!=null and IssueTargetOrderById(j5,$D0278,m5)thenset h4[O5]=m5exitwhen trueendifif m5==null and OFE==false and Bz+2.>=TZI thencall JEI(j5,true)set OFE=trueendifcall TriggerSleepAction(.25)endloopendifcall IXE(j5,"AlcheBrew")set j5=nullset m5=nullendfunctionfunction T0I takes integer O5,unit j5 returns nothinglocal integer UP=0loopexitwhen(h4[O5]==null)or(not XZE(j5))or(X1E(j5))or(not XZE(h4[O5]))or(not R8E(j5,"SunRay|Disarmed"))or(UP>9)or G0[48+O5]or G0[32+O5]or(not IsUnitInRange(j5,h4[O5],$47E))or(not G0[256+O5])call TriggerSleepAction(.15)set I9V=j5if(not F1E(j5,h4[O5],GetUnitX(h4[O5]),GetUnitY(h4[O5]),75,Condition(function K3E)))thenset UP=UP+1elseset UP=0endifif(not IsUnitInRange(j5,h4[O5],700))thencall IssueImmediateOrderById(j5,$D00D1)elseif(IsUnitInRange(j5,h4[O5],500))thencall IssueImmediateOrderById(j5,$D00D2)endifcall IssueTargetOrderById(j5,$D0003,h4[O5])endloopcall IssueImmediateOrderById(j5,$D00F9)endfunctionfunction T1I takes nothing returns booleanlocal unit j5=GetTriggerUnit()local unit m5=GetOrderTargetUnit()local integer i1=GetUnitTypeId(GetTriggerUnit())local location b5=nulllocal boolean J4=falseif((i1==1162032181)and(GetUnitLifePercent(m5)<55.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not AQE(m5))and(OVE(800.,m5,Condition(function A3E))<2)and(OVE(800.,m5,Condition(function A9E))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset b5=kL(j5,m5,150.)set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,$D00FA,b5))elseif((i1==1164207469)and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,800.))and(not AQE(m5))and(OVE(800.,m5,Condition(function A3E))<2)and(OVE(800.,m5,Condition(function A9E))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset b5=kL(j5,m5,200.)set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,$D022D,b5))elseif(((i1==1429221441)or(i1==1165451634)or(i1==1212365106))and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not AQE(m5))and(OVE(800.,m5,Condition(function A3E))<2)and(OVE(800.,m5,Condition(function A9E))==0)and(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset J4=IssueTargetOrderById(j5,$D0278,m5)elseif((i1==1328558154)and(not IsUnitInRange(m5,j5,700.))and(((OVE(900.,m5,Condition(function A3E))<=2)and(OXE(j5,BU[N8]))or(OXE(j5,BU[V2V])))or((OVE(900.,m5,Condition(function A3E))<2)))and(GetUnitLifePercent(m5)<70.))thenset J4=OME(j5,$D0278,1093750840,m5)elseif((i1==1429221446)and(GetUnitLifePercent(m5)<80.)and(not IsUnitInRange(j5,m5,300.)))thenset J4=(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))])and(TEI(j5,m5))elseif((i1==1430466865)and(GetUnitAbilityLevel(j5,1110454357)==0)and((hq[416+GetPlayerId(GetOwningPlayer(j5))]>Bz)or(h4[GetPlayerId(GetOwningPlayer(j5))]==m5))and(not IsUnitInRange(j5,m5,200.)))thenset J4=OME(j5,$D0062,1093677879,j5)endifif((not J4)and(ATE(j5))and(OXE(j5,BU[EZ]))and(not IC(GetPlayerId(GetOwningPlayer(j5))))and(GetUnitLifePercent(m5)<50.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(OVE(800.,m5,Condition(function A3E))<2)and(OVE(800.,m5,Condition(function A9E))==0))thenset J4=TAI(j5,m5)endifset j5=nullset m5=nullset b5=nullreturn J4endfunctionfunction T2I takes integer O5,unit j5,boolean T3I returns nothingcall DisableTrigger(GZV[O5])call DisableTrigger(GZV[16+O5])if(T3I)thencall PauseUnit(j5,true)call IssueImmediateOrderById(j5,$D0004)call PauseUnit(j5,false)endifset G0[272+O5]=truecall J3(j5,true)set G0[272+O5]=falsecall EnableTrigger(GZV[O5])call EnableTrigger(GZV[16+O5])endfunctionfunction T4I takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if O5==0 or O5==6 or O5>$B thenreturn falseendifset eY[464+O5]=GetIssuedOrderId()set h4[336+O5]=nullset eY[480+O5]=0set eY[496+O5]=0if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER thenset h4[336+O5]=GetOrderTargetUnit()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER thenset eY[480+O5]=R2I(GetOrderPointX())set eY[496+O5]=R2I(GetOrderPointY())endifreturn falseendfunctionfunction T5I takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and((GetIssuedOrderId()>$D0020)or(GetIssuedOrderId()==$D000F)))!=nullendfunctionfunction T6I takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal integer X5=GetIssuedOrderId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))local boolean T7I=falselocal integer T8Ilocal boolean J4if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)thenset m5=GetOrderTargetUnit()if(m5!=null)thenif(not XZE(m5))thencall T2I(O5,j5,false)set T7I=trueelseif((X5==$D009D)or(X5==$D024B)or(X5==$D0079)or(X5==$D00FA)or(X5==$D02AC))thenif((GetUnitAbilityLevel(m5,1113815395)>0)or(GetUnitAbilityLevel(m5,1113815346)>0))thencall T2I(O5,j5,false)set T7I=trueendifelseif((X5==$D0278)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(AQE(m5)))thencall T2I(O5,j5,false)set T7I=trueelseif((X5==$D000F)and(GetUnitAbilityLevel(m5,1110454854)>0))thencall T2I(O5,j5,false)set T7I=trueendifif((not T7I)and(X5>=$D0020))thenif((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and((h4[O5]==null)or(IsUnitAlly(m5,GetOwningPlayer(j5)))or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall T2I(O5,j5,false)set T7I=trueelseif((GetUnitAbilityLevel(j5,1110454607)>0)and(X1E(j5)))thencall T2I(O5,j5,false)set T7I=trueendifendifif((not T7I)and(X5==$D000F)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))call DisableTrigger(GZV[O5])set T7I=(GetHeroLevel(j5)>5)and(G0[$80+O5])and(GetUnitAbilityLevel(j5,1112045413)==0)and(T1I())call EnableTrigger(GZV[O5])endifelseset T7I=trueendifif((X5==$D000F)and(not T7I))thenset GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)set h4[80+O5]=m5set T7I=trueendifif(T7I)thenset m5=nullset j5=nullreturnendifcall MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))elseif((X5>=$D0028)and(X5<=$D002D))thenset T8I=GetItemTypeId(UnitItemInSlot(j5,X5-$D0028))if((T8I==BU[L5])or(T8I==BU[J5])or(T8I==BU[A7]))thenset T7I=trueendifelseif(X5==$D000F)thenset T7I=trueset GZ[48+O5]=falseelseif(X5>=$D0020)thenif((GetUnitAbilityLevel(j5,1110455126)>0)and(GetUnitManaPercent(j5)>40.)and(h4[O5]==null))thencall T2I(O5,j5,false)set T7I=trueelseif((GetUnitAbilityLevel(j5,1110454607)>0)and(X1E(j5)))thencall T2I(O5,j5,false)set T7I=trueendifendifif(T7I)thenset m5=nullset j5=nullreturnendifcall MoveLocation(HC[48+O5],GetOrderPointX(),GetOrderPointY())endifif((X5>=$D0028)and(X5<=$D002D))thenset X5=AUE(j5)set J4=trueif((X5==BU[EZ])or(X5==BU[A7])or(X5==BU[F7])or(X5==BU[L5])or(X5==BU[J5])or(X5==BU[G5])or((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))))thenif((X5==BU[D8])and((not X1E(j5))or((UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)>0)))and(not i2(m5))and(GetUnitAbilityLevel(m5,1110454329)==0)and(GetUnitAbilityLevel(m5,1110454338)==0)and(GetUnitAbilityLevel(m5,1110454597)==0)and(GetUnitAbilityLevel(m5,1110454608)==0))thenset J4=falseelseif(AYE(X5))thenif((((i1!=1429221445)and(GetUnitLifePercent(m5)>50.))or(GetUnitLifePercent(m5)>75.))and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitAbilityLevel(m5,1110455624)==0))thenset J4=falseelseif((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))thenset J4=falseendifelseif((X5==BU[B5])and((GetUnitAbilityLevel(m5,1110454874)>0)or(m5!=j5)or(E3E(j5,OUE(j5))<4500.)or(OVE(1200.,m5,Condition(function k0))>0)))thenset J4=falseelseif((X5==BU[EZ])and(GetUnitAbilityLevel(j5,1110455863)>0))thenset J4=falseendifelseif((X5==BU[X8])or(X5==BU[N8]))thenif((GetOwningPlayer(m5)==RX[0])or(GetOwningPlayer(m5)==GX[0]))thenset J4=falseelseif(GetOwningPlayer(m5)==Player($C))thenset X5=GetUnitTypeId(m5)if((X5!=1852796263)and(X5!=1852207203)and(X5!=1853060200)and(X5!=1852010091))thenset J4=falseendifelseset X5=GetUnitTypeId(m5)if((X5==1966092339)or(X5==1966092341)or(X5==1966092345))thenset J4=falseendifendifelseset J4=falseendifif not J4 thencall PauseUnit(j5,true)call IssueImmediateOrderById(j5,$D0004)call PauseUnit(j5,false)call APE(O5,j5,0)endifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif((X5==$D008F)and((GetUnitAbilityLevel(j5,1110455126)>0)or((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_SUMMONED)))))thencall APE(O5,j5,1093747028)endifelseif(i1==1160786506)thenif((X5==$D0079)and(not GZ[O5]))thencall APE(O5,j5,1093751637)endifelseif(i1==1429221443)thenif((X5==$D0097)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093744948)elseif(X5==$D0278)thenendifelseif(i1==1162032951)thenif((X5==$D022F)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not X1E(j5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(400*GetUnitAbilityLevel(j5,1093679152)))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(460*GetUnitAbilityLevel(j5,1093752154)))))))thencall J6(O5,j5,1093679152,1093752154)endifelseif(i1==1162032181)thenif((X5==$D02AC)and((not GZ[O5])or(X9E(380.,HC[48+O5],Condition(function A3E))==0)))thencall APE(O5,j5,1093683761)endifelseif(i1==1429221424)thenif((X5==$D0118)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<($C8+(50*GetUnitAbilityLevel(j5,1093679445))))and(not X1E(m5)))or(GetUnitState(m5,UNIT_STATE_MANA)<100.)or(GetUnitAbilityLevel(j5,1110454347)>0)))thencall APE(O5,j5,1093748789)elseif(X5==$D024B)thenif(((not GZ[O5])or(GetUnitAbilityLevel(j5,1110454347)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and((X9E(1500.,HC[48+O5],Condition(function A3E))>0)or(GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6)))thencall APE(O5,j5,1093687351)endifendifelseif(i1==1432646245)thenif((X5==$D007F)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((HXE())and(GetUnitLifePercent(m5)>80.))))thencall APE(O5,j5,1093677640)elseif((X5==$D0269)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093679171)endifelseif(i1==1430466609)thenif((X5==$D009D)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(X9E(600.,HC[48+O5],Condition(function k3))<6))thencall J6(O5,j5,1093810258,1093810259)elseif((X5==$D022F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093685559)elseif(X5==$D022D)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1==1430468913)thenif((X5==$D00B5)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093677876)endifelseif(i1==1430467634)thenif((X5==$D0107)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<($C8+(50*S1I(j5))))and(not i2(m5))and(not X1E(m5)))))thencall APE(O5,j5,1093679412)elseif((X5==$D0267)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not X1E(j5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(350+(350*S1I(j5)))))))thencall J6(O5,j5,1093684565,1093681458)elseif((X5==$D0278)and(GetUnitManaPercent(j5)<45.))thencall APE(O5,j5,1093742674)endifelseif(i1==1313026096)thenif((X5==$D007F)and(not X1E(m5))and(not X1E(j5))and((GetUnitAbilityLevel(j5,1110455126)>0)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<($FA+(50*GetUnitAbilityLevel(j5,1093677401))))))thencall APE(O5,j5,1095267426)endifelseif((i1==1164277353)or(i1==1164277357))thenif((X5==$D00DD)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(j5)+10.>GetUnitLifePercent(m5))))thencall APE(O5,j5,1093678929)elseif(X5==$D00DD)thencall RemoveGuardPosition(j5)endifelseif(i1==1164666213)thenif(X5==$D0100)thencall APE(O5,j5,1093678679)elseif(X5==$D0097)thencall APE(O5,j5,1093678678)endifelseif(i1==1433168227)thenif((X5==$D0062)and((GetUnitLifePercent(m5)<50.)or(GetUnitManaPercent(j5)>80.)))thencall APE(O5,j5,1093678387)elseif((X5==$D0103)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall J6(O5,j5,1093678420,1093679176)elseif((X5==$D0101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093679186)endifelseif(i1==1429221430)thenif(X5==$D0100)thencall APE(O5,j5,1093681735)elseif(X5==$D0279)thencall APE(O5,j5,1093681736)endifelseif(i1==1430466872)thenif((X5==$D0216)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093684558)elseif((X5==$D0097)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall J6(O5,j5,1093679413,1093679447)elseif((X5==$D0207)and((IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)>70.)))thencall APE(O5,j5,1093677646)endifelseif(i1==1162032439)thenif((X5==$D02BD)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093744435)endifelseif(i1==1430466865)thenif((X5==$D0062)and(not kQ(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitAbilityLevel(m5,1110454357)>0)or(X9E(800.,HC[48+O5],Condition(function k3))==0)or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<($8C+(GetUnitAbilityLevel(j5,1093810508)*100)))))thencall APE(O5,j5,1093677879)elseif(X5==$D00FA)and(not GZ[O5])thencall APE(O5,j5,1093751364)endifelseif(i1==1430468144)thenif((X5==$D00DD)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093679192)endifelseif(i1==1429221441)thenif((X5==$D0107)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678389)elseif(X5==$D0278)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1==1165451634)thenif((X5==$D02B6)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093687629)elseif(X5==$D0278)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1==1215722344)thenif((X5==$D02BC)and(j5!=m5)and(not(EIE(GetUnitTypeId(m5),5))))thencall APE(O5,j5,1093682499)elseif((X5==$D0107)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall APE(O5,j5,1093684296)endifelseif(i1==1332766568)thenif((X5==$D0097)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>($96+($96*GetUnitAbilityLevel(j5,1093682482))))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>($96+($96*GetUnitAbilityLevel(j5,1093750098)))))))thencall J6(O5,j5,1093682482,1093750098)endifelseif(i1==1328558154)thenif((X5==$D0278))thenset hq[O5]=Bz+41.call EYE(1.)endifelseif(i1==1160786502)thenif(X5==$D0278)thenset KGV[O5]=trueendifelseif(i1==1429221446)thenif((X5==$D0200)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J6(O5,j5,1093682764,1093747544)endifelseif(i1==1429221445)thenif((X5==$D007F)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>60.)))thencall J6(O5,j5,1093678647,1093679184)endifelseif(i1==1332963428)thenif((X5==$D0103)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678169)elseif((X5==$D0097)and(not kQ(j5))and(GetUnitLifePercent(j5)>70.)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thenif((GetUnitLifePercent(j5)>90.)or(X9E(1200.,HC[48+O5],Condition(function A3E))>0)or(GetUnitManaPercent(j5)<70.))thencall APE(O5,j5,1093683019)endifelseif((X5==$D0062)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678166)elseif((X5==$D0200)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093677649)endifelseif(i1==1332109682)thenif((X5==$D02B6)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678134)endifelseif(i1==1211117640)thenif((X5==$D0206)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093681989)elseif((X5==$D0207)and(((not IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(j5)>70.))or(not IsUnitInRange(j5,m5,500.))))thencall J6(O5,j5,1093681987,1093677658)endifelseif(i1==1430468406)thenif((X5==$D0270)and(X9E(250.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,kS(j5))endifelseif(i1==1160786241)thenif((X5==$D0097)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(X9E(200.,HC[48+O5],Condition(function A3E))==0))thenif((X9E(1200.,HC[48+O5],Condition(function A3E))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))thencall APE(O5,j5,1093684813)endifelseif((X5==$D0079)and(X9E(100.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,1093684815)elseif((X5==$D0275)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(X9E(400.,HC[48+O5],Condition(function A3E))==0))thencall J6(O5,j5,1093684820,1093684824)endifelseif(i1==1429221456)thenif((X5==$D0097)and(not GZ[O5])and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not X1E(j5))and(not i2(m5)))))thencall APE(O5,j5,1093685066)elseif((X5==$D0079)and(GetUnitAbilityLevel(j5,1093685067)>0)and(X9E($FA+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function A3E))==0))thencall J6(O5,j5,1093685067,1093752407)elseif((X5==$D0079)and(GetUnitAbilityLevel(j5,1093752407)>0)and(X9E(350+(100*GetUnitAbilityLevel(j5,1093685067)),HC[48+O5],Condition(function A3E))==0))thencall J6(O5,j5,1093685067,1093752407)endifelseif(i1==1160786243)thenif((X5==$D0079)and(not GZ[O5]))thencall APE(O5,j5,1093678672)elseif((X5==$D0100)and(not GZ[O5]))thencall APE(O5,j5,1395667000)endifelseif((i1==1211117641)or(i1==1211117642))thenif((X5==$D0079)and(not GZ[O5]))thencall APE(O5,j5,1093684802)endifelseif(i1==1311781207)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093684817)endifelseif(i1==1311780946)thenif((X5==$D0208)and(not GZ[O5]))thencall APE(O5,j5,1093685825)elseif((X5==$D022E)and(not GZ[O5]))thencall APE(O5,j5,1093810232)endifelseif(i1==1211117646)thenif((X5==$D0085)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093685815)endifelseif(i1==1160785973)thenif((X5==$D0107)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678130)endifelseif(i1==1315988077)thenif((X5==$D0269)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1097032808)endifelseif(i1==1211117616)thenif((X5==$D0107)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(40+(125*(GetUnitAbilityLevel(j5,1093677132)))))))thencall APE(O5,j5,1093677132)endifelseif(i1==1315074670)thenif((X5==$D0270)and(X9E(250.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,1093685570)endifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093681490)endifelseif(i1==1164207469)thenif((X5==$D007F)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitManaPercent(m5)>15.)and(GetUnitState(m5,UNIT_STATE_LIFE)>((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(j5,1093682483))*.25)))))))thencall APE(O5,j5,1093682483)elseif(X5==$D022D)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1==1433631084)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678160)endifelseif(i1==1214345830)thenif((X5==$D0101)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitLifePercent(m5)>80.)and(not GZ[64+O5]))))thenif((GetUnitLifePercent(m5)>95.)or(X9E(1500.,HC[48+O5],Condition(function A3E))>0)or(GetUnitManaPercent(j5)<70.))thencall APE(O5,j5,1093679182)endifelseif((X5==$D00DA)and(not GZ[O5])and((GetUnitLifePercent(m5)>75.)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitState(m5,UNIT_STATE_LIFE)>GetUnitState(j5,UNIT_STATE_LIFE))))thencall APE(O5,j5,1093679190)endifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenif(X5==$D00FA)thencall APE(O5,j5,1093808461)endifelseif(i1==1315007329)thenif((X5==$D007F)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)<40.)))thencall APE(O5,j5,1093677108)elseif((X5==$D00B5)and(GetUnitLifePercent(m5)>60.)and(not X1E(j5)))thencall APE(O5,j5,1093681716)endifelseif(i1==1332898670)thenif((X5==$D0216)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093685848)elseif((X5==$D0200)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall APE(O5,j5,1093677136)elseif((X5==$D0218)and(not GZ[O5]))thencall J6(O5,j5,1093677128,1093681457)endifelseif(i1==1215723364)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093677633)elseif((X5==$D026B)and((not GZ[O5])or(AQE(m5))))thencall J6(O5,j5,1093683534,1093747031)endifelseif(i1==1215128178)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093683779)endifelseif(i1==1164799855)thenif((X5==$D006B)and((GetOwningPlayer(m5)==RX[0])or(GetOwningPlayer(m5)==GX[0])))thencall APE(O5,j5,1093682264)endifelseif(i1==1433105516)thenif((X5==$D00DC)and(X9E(400.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,0)endifelseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenif((X5==$D02B6)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093742680)elseif((X5==$D00D9)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093742898)endifelseif(i1==1316252014)thenif((X5==$D0269)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678137)endifelseif(i1==1164799603)thenif((X5==$D00FA)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093808453)elseif((X5==$D0097)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thenif((X9E(1200.,HC[48+O5],Condition(function A3E))>0)or(GetUnitManaPercent(j5)<40.))thencall J6(O5,j5,1093752632,1093752633)endifendifelseif(i1==1328558160)thenif((X5==$D00FA)and(not GZ[O5])and(not X1E(j5))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093682766)elseif((X5==$D0132)and(((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(m5!=h4[O5]))or(GetUnitAbilityLevel(j5,1093683011)>0)))thencall APE(O5,j5,1093683000)endifelseif(i1==1212363833)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J7(O5,j5,1093809220)endifelseif(i1==1315070563)thenif((X5==$D007F)and(not X1E(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((X9E(600.,HC[48+O5],Condition(function A3E))*2)<X9E(600.,HC[48+O5],Condition(function k3)))))thencall J6(O5,j5,1093684529,1093747032)endifelseif(i1==1214931305)thenif((X5==$D00CB)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093678147)endifelseif(i1==1212365106)thenif((X5==$D0079)and(not GZ[64+O5])and(X9E($C8+(50*GetUnitAbilityLevel(j5,1093685831)),HC[48+O5],Condition(function A3E))==0))thenif((GetUnitManaPercent(j5)<70.)or(GetHeroLevel(j5)<6)or(X9E(1500.,HC[48+O5],Condition(function A3E))>0))thencall APE(O5,j5,1093685831)endifelseif(X5==$D0278)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1==1211117617)thenif((X5==$D02B6)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093744944)endifelseif(i1==1211117633)thenif((X5==$D007F)and((GetOwningPlayer(m5)==RX[0])or(GetOwningPlayer(m5)==GX[0])or((IsUnitAlly(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))))thencall APE(O5,j5,1093684310)elseif((X5==$D00A3)and((GetOwningPlayer(m5)==RX[0])or(GetOwningPlayer(m5)==GX[0])))thenif((GetHeroLevel(j5)<20)or(IH(GetOwningPlayer(j5),Condition(function DKO))>0))thencall APE(O5,j5,1093810260)endifelseif((X5==$D0269)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093684045)endifelseif(i1==1211117620)thenif((X5==$D0108)and(not GZ[64+O5])and(X9E(150.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,1093677623)elseif((X5==$D0097)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>80.)))thencall J6(O5,j5,1093677392,1093679450)endifelseif(i1==1333027688)thenif((X5==$D0278)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and(X9E(200.,HC[48+O5],Condition(function A3E))==0))thenif((X9E(1500.,HC[48+O5],Condition(function A3E))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))thencall APE(O5,j5,1093686091)endifendifelseif(i1==1211117643)thenif(X5==$D0136)thencall APE(O5,j5,1093678410)elseif(X5==$D0092)thencall APE(O5,j5,1093678664)elseif(X5==$D0048)thencall APE(O5,j5,1093678658)elseif(X5==$D0218)thencall J6(O5,j5,1093681483,1093748313)elseif(X5==$D0097)thencall APE(O5,j5,1093752646)endifelseif(i1==1215130471)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,A_E(j5))elseif((X5==$D0278)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093815121)elseif((X5==$D0085)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,A1E(j5))endifelseif(i1==1332179560)thenif((X5==$D02B6)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093742660)endifelseif(i1==1214344551)thenif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093809742)endifelseif(i1==1211117636)thenif((X5==$D00FA)and(not GZ[O5])and((GetUnitManaPercent(j5)<30.)or(IsUnitInRangeLoc(j5,HC[48+O5],600.)))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall APE(O5,j5,1093685041)elseif((X5==$D007F)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J6(O5,j5,1093685042,1093810233)endifelseif(i1==1160786000)thenif((X5==$D00FA)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093685047)elseif((X5==$D0264)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(X9E(200.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,1093685046)elseif((X5==$D009D)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093685045)endifelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenif((X5==$D0079)and(GetUnitManaPercent(j5)<40.)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall APE(O5,j5,1093683532)endifelseif(i1==1211117651)thenif((X5==$D00FA))thencall APE(O5,j5,1093743695)elseif((X5==$D0097))thencall APE(O5,j5,1093743698)endifelseif(i1==1311780930)thenif((X5==$D0079)and(not GZ[O5]))thencall J6(O5,j5,1093686072,1093751120)endifelseif((i1==1164277353)or(i1==1164277357))thenif((X5==$D0079)and(not GZ[O5]))thencall APE(O5,j5,1093809985)endifelseif((i1==1211117650)or(i1==1211119433))thenif(X5==$D0079)thencall APE(O5,j5,1093743955)endifelseif(i1==1211119187)thenif(X5==$D0079)thencall APE(O5,j5,1093743414)elseif(X5==$D02B6)thencall APE(O5,j5,1093742923)endifelseif(i1==1311786311)thenif(X5==$D0097)thencall APE(O5,j5,1093743178)endifelseif(i1==1328558390)thenif(X5==$D0079)thencall APE(O5,j5,1093748044)elseif(X5==$D0097)thencall APE(O5,j5,1093744975)elseif(X5==$D00FA)thencall APE(O5,j5,1093744982)endifelseif(i1==1160786510)thenif(X5==$D0097)thencall APE(O5,j5,1093751633)elseif(X5==$D0079)thencall J6(O5,j5,1093751861,1093808949)endifelseif(i1==1160786504)thenif(X5==$D0097)thencall APE(O5,j5,1093751608)elseif(X5==$D0079)thencall APE(O5,j5,1093751618)elseif(X5==$D008F)thencall APE(O5,j5,1093751617)endifelseif(i1==1328558406)thenif(X5==$D0097)thencall APE(O5,j5,1093751873)endifelseif(i1==1160786520)thenif((X5==$D00D8)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall APE(O5,j5,1093809991)elseif((X5==$D00F6)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(X9E(200.,HC[48+O5],Condition(function A3E))==0))thencall APE(O5,j5,1093809990)endifelseif(i1==1311781185)thenif(X5==$D0079)thencall APE(O5,j5,1093743692)endifelseif(i1==1311788336)thenif(X5==$D0079)thencall APE(O5,j5,1093814320)endifelseif(i1==1160786507)thenif(X5==$D0079)thencall APE(O5,j5,1093814850)endifelseif(i1==1211122767)thenif(X5==$D0097)thencall APE(O5,j5,1093812805)elseif(X5==$D02BC)thencall APE(O5,j5,1093814350)endifendifset j5=nullset m5=nullendfunctionfunction T9I takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>$D0020))!=nullendfunctionfunction UVI takes nothing returns nothinglocal integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)thencall MoveLocation(HC[i],GetUnitX(GetOrderTargetUnit()),GetUnitY(GetOrderTargetUnit()))set i=GetIssuedOrderId()-$D0028if((i>=0)and(i<6)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_NONE)and(IsUnitInForce(GetTriggerUnit(),GLV)))thenset i=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),i))if((i==BU[D8])or(i==BU[X8])or(i==BU[O8])or(i==BU[R8])or(i==BU[A8]))thencall IssueTargetOrderById(GetTriggerUnit(),$D000F,GetOrderTargetUnit())endifendifelsecall MoveLocation(HC[i],GetOrderPointX(),GetOrderPointY())endifendfunctionfunction UEI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer X5=GetIssuedOrderId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))if((X5>=$D0020)and(X5<$D07F0))thenif((GetUnitAbilityLevel(j5,1110454607)>0)and(X1E(j5)))thencall J3(j5,true)set j5=nullreturnendifendifcall MoveLocation(HC[48+O5],GetUnitX(j5),GetUnitY(j5))if((X5>=$D0028)and(X5<=$D002D))thenset X5=AUE(j5)if((X5==BU[C8])and(Bz>hq[64+O5])and(not GZ[$E0+O5]))thencall T2I(O5,j5,true)elseif((X5==BU[V6V])and((Bz+20.)>hq[O5])and(Bz>hq[48+O5]))thencall T2I(O5,j5,true)elseif((X5==BU[G8])and(not GZ[64+O5])and((R3E(GetHandleId(j5),"Mekansm"))or(GetUnitLifePercent(j5)>80.)))thencall T2I(O5,j5,true)elseif((X5==BU[EFV])and(X9E(900.,HC[48+O5],Condition(function A3E))==0))thencall T2I(O5,j5,true)elseif((X5==BU[V8])and(J3V==false))thencall T2I(O5,j5,true)elseif((X5==BU[EKV]or X5==BU[H3])and(GetUnitState(j5,UNIT_STATE_LIFE)>$96)and(GetItemCharges(UnitItemInSlot(j5,GetIssuedOrderId()-$D0028))<8))thencall T2I(O5,j5,true)elseif((X5==BU[E7])and(not GZ[64+O5])and((GetUnitAbilityLevel(j5,1113875814)>0)or(GetUnitManaPercent(j5)<75.)or(GetHeroLevel(j5)<3)))thencall T2I(O5,j5,true)elseif((ONE(X5))and(not GZ[$E0+O5])and(G0[$80+O5]))thencall T2I(O5,j5,true)elseif(((X5==BU[VKV])or(X5==BU[VLV])or(X5==BU[VMV])or(X5==BU[VNV])))thenif((i1==1429221424)and(GetUnitAbilityLevel(j5,1110454347)>0))thencall T2I(O5,j5,true)elseif((not GZ[$E0+O5])and(GetHeroLevel(j5)<$D)and(iy(j5))and(eY[O5]==1)and(not G0[32+O5]))thencall T2I(O5,j5,true)endifelseif((X5==BU[EMV])and((J4V==false)and(h4[O5]==null)))thencall T2I(O5,j5,true)endifelseif(i1==1160785970)thenif((X5==$D022E)and((not GZ[O5])or(X9E(789.,HC[48+O5],Condition(function A3E))==0)))thencall J7(O5,j5,1093748023)endifelseif(i1==1429221443)thenif((X5==$D0131)and(X9E(800.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093686322)endifelseif(i1==1162032951)thenif((X5==$D0084)and((not GZ[O5])or(GetUnitLifePercent(j5)<50.))and((X9E(1500.,HC[48+O5],Condition(function A3E))>0)or(GetUnitManaPercent(j5)<70.)or(GetUnitLifePercent(j5)<80.)))thencall J7(O5,j5,1093678404)endifelseif(i1==1429221424)thenif((X5==$D00A1)and(not GZ[O5]))thencall J7(O5,j5,1093679445)elseif(X5==$D022E)thencall J7(O5,j5,1093815119)endifelseif(i1==1430468913)thenif((X5==$D0084)and(not GZ[O5]))thencall J7(O5,j5,1093678403)elseif(X5==$D00C4)thencall J7(O5,j5,1093810507)endifelseif(i1==1164277353)thenif((X5==$D02B7)and(not GZ[O5]))thencall J7(O5,j5,1093751369)endifelseif(i1==1164666213)thenif(X5==$D0084)thencall J6(O5,j5,1093808454,1093808455)call J7(O5,j5,1093808456)elseif(X5==$D022E)thencall J7(O5,j5,1093808212)endifelseif(i1==1429221430)thenif((X5==$D00C4)and(not X1E(j5))and(X9E(400.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093687121)endifelseif(i1==1162032439)thenif((X5==$D0272)and(not GZ[O5]))thencall J7(O5,j5,1093681462)call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093677363,false)endifelseif(i1==1430466865)thenif((X5==$D009F)and(X9E(420.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093810508)endifelseif((i1==1429221432)or(i1==1160786229))thenif((X5==$D009E)and(GetUnitManaPercent(j5)<65.)and(X9E(500.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093677892)elseif((X5==$D00D4)and(X9E(800.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093679411)endifelseif(i1==1429221441)thenif((X5==$D009B)and(X9E(350.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093677903)endifelseif(i1==1315334514)thenif((X5==$D00C4)and(not TVI(j5,200.,Condition(function k3))))thencall J7(O5,j5,1093682521)elseif((X5==$D026C)and(not TVI(j5,450.,Condition(function k3))))thencall J7(O5,j5,1093682760)elseif((X5==$D0277)and(not TVI(j5,700.,Condition(function k3))))thencall J7(O5,j5,1093682736)elseif((X5==$D0131)and(X9E(350.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093810506)endifelseif(i1==1429221446)thenif((X5==$D00D1)and(((GetUnitLifePercent(j5)<50.)or(X9E(300.,HC[48+O5],Condition(function k3))==0)))and(not kQ(j5)))thencall J7(O5,j5,1093678667)endifelseif(i1==1332109682)thenif((X5==$D026C)and(X9E(650.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093810505)endifelseif(i1==1211117640)thenif((X5==$D0272)and(not GZ[O5]))thencall J7(O5,j5,1093679428)endifelseif(i1==1315988077)thenif((X5==$D026A)and(X9E(800.,HC[48+O5],Condition(function A3E))==0)and(not GZ[O5]))thencall J7(O5,j5,1093684561)endifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif((X5==$D00D4)and(X9E(800.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093677895)endifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenif((X5==$D022E)and(not GZ[O5]))thencall J7(O5,j5,1093748042)endifif((X5==$D0080)and((h4[O5]==null)or(not IsUnitInRange(j5,h4[O5],400.))))thencall J7(O5,j5,1093808462)endifif(X5==$D00AA or X5==$D00AB)thencall J7(O5,j5,1093681733)endifelseif(i1==1215723364)thenif((X5==$D02BD)and(GetUnitManaPercent(j5)<60.)and(not GZ[64+O5]))thencall J7(O5,j5,1093744463)endifelseif(i1==1215128178)thenif((X5==$D00C4)and(not GZ[O5]))thencall J7(O5,j5,1093810503)call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093810504,false)endifelseif(i1==1164799855)thenif((X5==$D024C)and(GetUnitLifePercent(j5)>80.)and(not GZ[64+O5]))thencall J7(O5,j5,1093677378)endifelseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenif((X5==$D00D4))thencall J7(O5,j5,1093742932)endifelseif(i1==1212363833)thenif((X5==$D009B)and(X9E(600.,HC[48+O5],Condition(function A3E))==0)and(GetUnitManaPercent(j5)<70.))thencall J7(O5,j5,1093678643)elseif(X5==$D022E)thencall J7(O5,j5,1093815125)endifelseif(i1==1315070563)thenif((X5==$D00A0)and((R8E(j5,"Omnislashing"))or((GZ[O5])or((GetUnitManaPercent(j5)<70.)and(X9E(600.,HC[48+O5],Condition(function A3E))==0)))))thencall J7(O5,j5,1093678407)endifelseif(i1==1211117617)thenif((X5==$D02B7)and(X9E(400.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093752648)endifelseif(i1==1211117620)thenif((X5==$D00C4)and((GetUnitAbilityLevel(j5,1110454324)>0)or(GetUnitManaPercent(j5)<60.)or(X9E(800.,HC[48+O5],Condition(function k3))==0)))thencall J7(O5,j5,1093677105)endifelseif(i1==1333027688)thenif((X5==$D00C4)and(X9E(200.,HC[48+O5],Condition(function k2))==0))thencall J7(O5,j5,1093682252)elseif((X5==$D022E)and((X9E(400.,HC[48+O5],Condition(function A3E))==0)or(X9E(500.,HC[48+O5],Condition(function k3))<5)))thencall J7(O5,j5,1093682248)call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093750594,true)endifelseif(i1==1215657064)thenif((X5==$D022E)and(X9E(500.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1093750324)endifelseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thenif(X5==$D00AA or X5==$D00AB)thencall J7(O5,j5,1093681479)endifelseif(i1==1311781193)thenif((X5==$D02B7)and(GetUnitLifePercent(j5)>70.)and(GetUnitManaPercent(j5)<40.)and(X9E(500.,HC[48+O5],Condition(function A3E))==0))thencall J7(O5,j5,1095656306)endifelseif(i1==1311781206)thenif((X5==$D00A1)and(not GZ[O5]))thencall J7(O5,j5,1093684302)endifelseif(i1==1211117651)thenif((X5==$D022E)and(not GZ[O5]))thencall J7(O5,j5,1093743696)endifelseif(i1==1313157191)thenif((X5==$D022E))thencall J7(O5,j5,1093743689)endifelseif((i1==1211117650)or(i1==1211119433))thenif(X5==$D00D4)thencall APE(O5,j5,1093743946)elseif(X5==$D02B6)thencall APE(O5,j5,1093743958)endifelseif(i1==1328558390)thenif(X5==$D00D4)thencall APE(O5,j5,1093744986)endifelseif(i1==1160786510)thenif(X5==$D0278)thencall APE(O5,j5,1093751631)elseif(X5==$D022E)thencall APE(O5,j5,1093808697)endifelseif(i1==1328558406)thenif(X5==$D022E)thencall APE(O5,j5,1093751864)elseif(X5==$D026D)and(not GZ[O5])thencall APE(O5,j5,1093810257)endifelseif(i1==1211119409)thenif X5==$D00A1 thencall APE(O5,j5,1093749070)endifelseif(i1==1311780930)thenif X5==$D0222 and(not X1E(j5))thencall APE(O5,j5,1093686082)endifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif X5==$D00AA or X5==$D00AB thencall APE(O5,j5,1093747504)endifendifset j5=nullendfunctionfunction UXI takes nothing returns nothinglocal unit x6=GetTriggerUnit()local integer Iz=GetItemTypeId(GetManipulatedItem())local integer i1=GetUnitTypeId(x6)local integer O5=GetPlayerId(GetOwningPlayer(x6))local unit m5=nulllocal boolean J4=falseif(Iz==BU[C5])thenset hq[256+O5]=Bz+25.call jW(x6,$D0012,h9[O5])if(X1E(x6))thenset G0[32+O5]=trueloopexitwhen((GetUnitLifePercent(x6)>50.)or(Bz>hq[256+O5]))if(OVE(1000.,x6,Condition(function A3E))>0)thencall jW(x6,$D0012,h9[O5])elsecall IssueImmediateOrderById(x6,$D0019)endifcall EYE(1.)endloopset G0[32+O5]=falsecall J3(x6,true)endifelseif(Iz==BU[B5])thencall EYE(.5)set G0[32+O5]=trueloopexitwhen((GetUnitAbilityLevel(x6,1110454874)==0)or(GetUnitLifePercent(x6)>95.))if(not XSE(x6))thenelseif(OVE(1500.,x6,Condition(function k2))>0)thencall jW(x6,$D0012,h9[O5])elsecall IssueImmediateOrderById(x6,$D0019)endifcall EYE(.5)endloopset G0[32+O5]=falsecall J3(x6,true)elseif(Iz==BU[V6V])thenset hq[O5]=Bzset hq[48+O5]=Bz+160.elseif(Iz==BU[C8])thenset hq[64+O5]=Bz+30.call EYE(.1)set m5=h4[O5]set J4=(m5!=null)and(not X1E(x6))and(IssueTargetOrderById(x6,$D000F,m5))elseif(Iz==BU[EZ])thenset m5=nullset hq[512+O5]=Bz+3.set hq[112+O5]=Bz+25.call TriggerSleepAction(.01)if(not X1E(x6))thenif(i1==1430466865)thenset m5=BOE(350.,x6)set J4=(m5!=null)and((((OVE(400.,x6,Condition(function k6))>1 and GZ[$D0+O5])or X1E(m5))and(OTE(x6,$D00C4,1093810508)))or(OME(x6,$D009D,1093677651,m5)))elseif(i1==1162032439)thenset GZ[O5]=trueset J4=J8(O5,(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(600.,x6,Condition(function A3E))>1))and(OTE(x6,$D0272,1093677363)))elseif(i1==1160785973)thenif(ODE(x6,BU[VVV]))thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(400.,x6,Condition(function A3E))>1))and(jP(x6,BU[VVV]))and(IssueImmediateOrderById(x6,$D0278))if(not(J4))thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(400.,x6,Condition(function A3E))>1))and(IssueImmediateOrderById(x6,$D0278))endifelseset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(400.,x6,Condition(function A3E))>1))and(IssueImmediateOrderById(x6,$D0278))endifelseif(i1==1315988077)thenset m5=BOE(220.,x6)set J4=(m5!=null)and(OTE(x6,$D0080,1093678669))elseif(i1==1211117616)thenset m5=BOE(220.,x6)set J4=(m5!=null)and(OTE(x6,$D009F,1093677139))elseif(i1==1430468406)thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(500.,x6,Condition(function A3E))>1))and(IssueImmediateOrderById(x6,$D024C))elseif(i1==1214931305)thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(OVE(400.,x6,Condition(function A3E))>1))and(((GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5]+50.)and(jP(x6,BU[VVV])))or(OME(x6,$D00CB,1093678147,h4[16+O5]))or(IssueImmediateOrderById(x6,$D0278)))elseif(i1==1432580716)thenset m5=BOE(300.,x6)set J4=(m5!=null)and(OME(x6,$D0079,1093684300,m5))elseif(i1==1333027688)thenset m5=BOE(300.,x6)set J4=(m5!=null)and(((OVE(500.,x6,Condition(function k0))>5)and(OTE(x6,$D022E,1093682248)or OTE(x6,$D022E,1093750594)))or(OTE(x6,$D00C4,1093682252)))elseif(i1==1332766568)thenset m5=BOE(250.,x6)set J4=(m5!=null)and(IssueImmediateOrderById(x6,$D0278))elseif(i1==1315334514)thenset m5=BOE(220.,x6)set J4=(m5!=null)and(OTE(x6,$D009F,1093682521))if(not J4)thenset m5=BOE(600.,x6)set J4=(m5!=null)and(Bz>J5V[O5])and(G0[256+O5])and(OTE(x6,$D0131,1093810506))endifelseif(i1==1215657064)thenset m5=BOE(220.,x6)set J4=(m5!=null)and(OTE(x6,$D0080,1093677913))elseif(i1==1160786243)thenset m5=BOE(300.,x6)if((m5!=null)and(OVE(700.,m5,Condition(function k5))>1))thenset GZ[O5]=trueset J4=J8(O5,OME(x6,$D0079,1093678672,m5))endifelseif(i1==1332109682)thenset m5=BOE(350.,x6)set J4=(m5!=null)and(((OVE(500.,x6,Condition(function k0))>4)and(OTE(x6,$D026C,1093810505)))or(OME(x6,$D02B6,1093678134,m5)))elseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenset m5=BOE(300.,x6)set J4=(m5!=null)and(OME(x6,$D0079,1093683532,m5))elseif(i1==1430468913)thenset m5=BOE(300.,x6)set J4=(m5!=null)and(OTE(x6,$D009F,1093810507))endifif((not J4)and(m5!=null))thencall IssueTargetOrderById(x6,$D000F,m5)endifendifelseif(Iz==BU[V7V])thenset hq[96+O5]=Bz+13.elseif(Iz==BU[EHV])thenset J5V[$F0+O5]=Bz+18.elseif(Iz==BU[EFV])thenset J5V[$B0+O5]=Bz+30.elseif(Iz==BU[ESV])thenset J5V[$E0+O5]=Bz+10.elseif(Iz==BU[E4])thenset J5V[256+O5]=Bz+30.elseif(Iz==BU[EKV])or(Iz==BU[H3])thenset J5V[$C0+O5]=Bz+17.elseif(Iz==BU[X3V])thenset J5V[$D0+O5]=Bz+30.call EYE(1.1)set m5=h4[O5]if(i1==1328558160)thenset J4=(m5!=null)and(IssueTargetOrderById(x6,$D02B6,m5))endifelseif(Iz==BU[V8])thenset J3V=falseelseif(Iz==BU[G8])thenset hq[80+O5]=Bz+45.elseif(Iz==BU[X6V])thenset hq[$80+O5]=Bz+30.elseif(Iz==BU[F7])thenset hq[$90+O5]=Bz+100.elseif((Iz==BU[L5])or(Iz==BU[J5])or(Iz==BU[A7]))thenset Iz=GetUnitCurrentOrder(x6)call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_NONE)loopexitwhen(Iz!=GetUnitCurrentOrder(x6))call EYE(.1)endloopcall EYE(.1)call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_COMPUTER)call EYE(.5)call J3(x6,true)if(E3E(x6,OUE(x6))<1500.)thenset h9[O5]=OUE(x6)call AEE(x6,true)elsecall CZE(x6)endifelseif(Iz==BU[VCV])thenif(GZ[272+O5])thencall EYE(.01)if((i1==1315334514)or(i1==1162032439))thencall ExecuteFunc("Q_I")elseif((i1==1315074670)or(i1==1162032951))thencall ExecuteFunc("Q0I")endifendifelseif((Iz==BU[VNV])or(Iz==BU[VBV]))thenif(not X1E(x6))thencall TriggerSleepAction(1.5)if(i1==1212363833)thenset m5=BOE(400.,x6)set J4=(m5!=null)and(OME(x6,$D007F,1093809220,m5))elseif(i1==1429221441)thenset m5=BOE(400.,x6)set J4=(m5!=null)and(OME(x6,$D0107,1093678389,m5))elseif(i1==1211117653)thenset m5=BOE(400.,x6)set J4=(m5!=null)and((Bz>J5V[64+O5])and CLE(x6,UVV,UVV,T8V,1093686863)and(IssueImmediateOrderById(x6,$D00A4)))if((not J4)and(m5!=null)and(Bz>J5V[64+O5]))thencall SetPlayerAbilityAvailable(GetOwningPlayer(x6),HS[7],true)set J4=IssueImmediateOrderById(x6,$D00A4)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),HS[7],false)endifelseif(i1==1160786242)thenset m5=BOE(400.,x6)set J4=(m5!=null)and(IssueTargetOrderById(x6,$D02B6,m5))elseif(i1==1332963428)thenset m5=BOE(400.,x6)set J4=(m5!=null)and(GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5])and(OME(x6,$D0200,1093677649,m5))elseif(i1==1429221424)thenset m5=BOE(400.,x6)set J4=(m5!=null)and(OME(x6,$D024B,1093687351,m5))endifendifendifset x6=nullset m5=nullendfunctionfunction UOI takes integer SFI,integer ARE returns integerif SFI==eY[$AC+ARE]or SFI==eY[$BC+ARE]thenreturn $Aelseif GetUnitTypeId(QV[ARE])==1211117653 thenreturn 5elseif SFI==1093677391 or SFI==1093677633 or SFI==1093682264 or SFI==1093678147 or SFI==1093744944 or SFI==1093809220 or SFI==1093686091 or SFI==1093685831 or SFI==1093677623 or SFI==1093678135 or SFI==1093677378 or SFI==1093683511 or SFI==1093742680 or SFI==1093678167 or SFI==1093677361 or SFI==1093678137 or SFI==1093678405 or SFI==1093808453 or SFI==1093742660 or SFI==1093684300 or SFI==1093684045 or SFI==1093685848 or SFI==1093677136 or SFI==1093678669 or SFI==1093677139 or SFI==1093678913 or SFI==1093681490 or SFI==1093685570 or SFI==1093679182 or SFI==1093679190 or SFI==1093685071 or SFI==1093685046 or SFI==1093750345 or SFI==1093684280 or SFI==1093743698 or SFI==1093685584 or SFI==1093748033 or SFI==1093686083 or SFI==1093743414 or SFI==1093743178 or SFI==1093743689 or SFI==1093678679 or SFI==1093685302 or SFI==1093687349 or SFI==1093684558 or SFI==1093744435 or SFI==1093679192 or SFI==1093678389 or SFI==1093677892 or SFI==1093677640 or(SFI==1093679173 and HXE()==false)or SFI==1095267426 or SFI==1093687351 or SFI==1093810507 or SFI==1093744948 or SFI==1093681989 or SFI==1093678134 or SFI==1093683019 or SFI==1093678169 or SFI==1093678422 or SFI==1093678665 or SFI==1093750840 or SFI==1093678671 or SFI==1093683510 or SFI==1093684550 or SFI==1093683287 or SFI==1093684813 or SFI==1093684815 or SFI==1093685066 or SFI==1093678672 or SFI==1093684802 or SFI==1093742668 or SFI==1093684817 or SFI==1093685074 or SFI==1093685825 or SFI==1093685813 or SFI==1093685573 or SFI==1093750087 or SFI==1093753167 or SFI==1093751607 or SFI==1093751633 or SFI==1093751637 or SFI==1093751608 thenreturn 2endifreturn 0endfunctionfunction URI takes unit X0E,integer N0I,integer SFI returns nothinglocal integer O5=0local integer ilocal integer jlocal boolean J4=falseif(not XWE(X0E))thenreturnendifloopexitwhen O5==SLVif SFI==SKV[O5]thenreturnendifset O5=O5+1endloopset i=GetPlayerId(GetOwningPlayer(X0E))set j=UOI(SFI,i)if j==0 thenreturnendifset O5=1loopexitwhen O5>$Bif O5==6 thenset O5=7endifset J4=falseif B6E(Player(O5))and IsUnitEnemy(X0E,Player(O5))and QV[O5]!=null and GetUnitTypeId(QV[O5])==1160786520 and GetWidgetLife(QV[O5])>.405 and(not X1E(QV[O5]))and IsUnitInRange(QV[O5],X0E,950.)and Bz>J5V[$A0+O5]and eY[416+O5]!=SFI and((hq[816+O5]<Bz)or((Bz<J5V[O5]-$A)and(j<=eY[432+O5]))or(j>eY[432+O5]))thenset eY[448+O5]=SFIset h4[320+O5]=X0Eendifset O5=O5+1endloopendfunctionfunction UII takes unit V_E,integer SFI,unit X0E returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer IJE=GetPlayerId(GetOwningPlayer(X0E))set eY[336+O5]=0set eY[352+O5]=0set eY[368+O5]=0set eY[$BC+O5]=0set J5V[O5]=0set J5V[16+O5]=0set J5V[32+O5]=0set J5V[48+O5]=0if SFI==eY[336+IJE]thenset eY[336+O5]=SFIelseif SFI==eY[352+IJE]thenset eY[352+O5]=SFIelseif SFI==eY[368+IJE]thenset eY[368+O5]=SFIelseif SFI==eY[$AC+IJE]or SFI==eY[$BC+IJE]thenset eY[$BC+O5]=SFIendifset eY[432+O5]=UOI(SFI,IJE)set eY[400+O5]=GetUnitTypeId(X0E)set eY[416+O5]=SFIset hq[816+O5]=Bz+(GetUnitAbilityLevel(V_E,1093809992)+2)*60endfunctionfunction UAI takes unit it,unit m5 returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1if(QRV[O5]==5)or(QRV[O5]==3 and GetRandomInt(1,3)==1)thenset i1=GetUnitTypeId(it)set bj_lastLoadedUnit=itif i1==1429221451 and(Bz>J5V[32+O5])and(OVE(900.,it,Condition(function OEE))==0)thenset J4=IssueImmediateOrderById(it,$D0217)elseif i1==1311780930 and(Bz>J5V[48+O5])thenset J4=OTE(it,$D0222,1093686082)elseif i1==1429221424 and(Bz>J5V[48+O5])thenset J4=OTE(it,$D022E,1093815119)elseif i1==1160786265 and(Bz>J5V[16+O5])thenset J4=OTE(it,$D022E,1093748033)endifif(not J4)and((GetUnitLifePercent(it)<20)or(X1E(it))or(GetUnitMoveSpeed(it)<$C8))thenif(not J4)and(OXE(it,BU[VCV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(OXE(it,BU[D8]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,it)endifendifif(not J4)and(h4[O5]!=null or X1E(it))thenif(not J4)and(ODE(it,BU[VVV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(ODE(it,BU[VNV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(ODE(it,BU[EMV]))thenset J4V=trueset J4=UnitUseItem(it,bj_lastCreatedItem)set J4V=falseendifendifif J4 thenset h4[352+O5]=m5endifendifreturn J4endfunctionfunction UNI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))local integer P4I=GetSpellAbilityId()local integer i1=GetUnitTypeId(j5)local integer UBI=0local unit m5=nulllocal boolean J4=falselocal boolean UCI=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTERlocal location b5=nulllocal integer UPset m5=GetSpellTargetUnit()if m5!=null and B6E(GetOwningPlayer(m5))and(is(m5))thenset J4=UAI(m5,j5)endifset GZ[16+O5]=falseset h4[32+O5]=nullif(GetSpellTargetUnit()!=null)thenset h4[32+O5]=GetSpellTargetUnit()set m5=GetSpellTargetUnit()endifif i1==1160786520 and P4I!=1093809990 and P4I!=1093809991 and P4I!=1093809992 and P4I!=1093810008 and hq[816+O5]>Bz thenset G0[288+O5]=falseset i1=eY[400+O5]endifif YNV and i1!=1160786520 thencall URI(j5,i1,P4I)endifif(P4I==1097163124)thenif(UCI)thencall EYE(.1)call jW(j5,$D0012,h9[O5])endifelseif(i1==1162032181)thenif((UCI)and(P4I==1093684299))thenset hq[512+O5]=Bz+3.if(m5!=null)thencall EYE(((E4E(GetUnitX(j5),GetUnitX(j5),GetUnitX(m5),GetUnitY(m5))/40.)*.01)+.5)elsecall EYE(((E4E(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/40.)*.01)+.5)endifset m5=BOE(300.,j5)if(((not X1E(j5))or(Id(O5)))and(m5!=null))thenset GZ[O5]=trueif((X1E(j5))or(not J8(O5,(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(S0I(j5)))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.)and(OQE(j5,$D02AC,1093683761,0,m5)))))thencall TUI(j5,m5,true)endifelseif(X1E(j5))thencall jW(j5,$D0012,h9[O5])elsecall J3(j5,true)endifendifelseif(i1==1429221424)thenif(P4I==1093748789)thencall TriggerSleepAction(.05)if((h4[O5]==m5)and(GetUnitLifePercent(m5)<70.))thencall LXI(j5,m5)endifset UBI=$D0118endifelseif(i1==1430466609)thenif(P4I==1093684549)thenset hq[512+O5]=Bz+3.call TriggerSleepAction(.05)if(not X1E(j5))thenset m5=BOE(500.,j5)if(not UCI)thenif((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifelseif(m5!=null)thenset J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S_I(j5))and(OQE(j5,$D009D,1093810258,1093810259,m5)))or((IsUnitInRange(j5,m5,400.))and(OTE(j5,$D022E,1093678145)))or(OQE(j5,$D022F,1093685559,0,m5)))endifelseset J4=(UCI)and(h4[O5]==null)and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(jW(j5,$D0012,h9[O5]))endifset UBI=$D022Delseif(P4I==1093685559)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set J4=(UCI)and(IsUnitInRange(j5,m5,400.))and((OTE(j5,$D022E,1093678145))or((X1E(m5))and(OQE(j5,$D009D,1093810258,1093810259,m5))))set UBI=$D022Felseif(P4I==1093678145)thencall TriggerSleepAction(.05)set hq[16+O5]=Bz+10.set m5=BOE(400.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall LXI(j5,m5)endifif(UCI)thenset J4=(m5!=null)and(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S_I(j5))and(not ke(j5))and(OQE(j5,$D009D,1093810258,1093810259,m5)))or(OQE(j5,$D022F,1093685559,0,m5)))endifset UBI=$D00FAelseif((P4I==1093810258)or(P4I==1093810259))thencall TriggerSleepAction(.05)set UBI=GetUnitAbilityLevel(j5,P4I)if(UBI!=3)thenset hq[O5]=Bz+140.-(UBI*20.)elseset hq[O5]=Bz+75.endifset m5=K2(400.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)endifset UBI=$D009Dendifelseif((i1==1164277353)or(i1==1164277357))thenif(P4I==1093678929)thencall TriggerSleepAction(.5)if(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(j5)))thenset G0[32+O5]=falsecall TUI(j5,GetSpellTargetUnit(),true)call TTI(j5,GetSpellTargetUnit())endifendifelseif(i1==1433168227)thenif(P4I==1093678918)thencall TriggerSleepAction(.05)if((m5!=null)and(X1E(m5)))thencall TUI(j5,m5,true)endifset UBI=$D0102elseif(P4I==1093678387)thencall TriggerSleepAction(.05)set UBI=$D0062elseif(P4I==1093679186)thencall TriggerSleepAction(.05)set UBI=$D0101endifelseif(i1==1429221430)thenif(P4I==1093681736)thencall TriggerSleepAction(.05)set UBI=$D0279elseif(P4I==1093687121)thencall TriggerSleepAction(.05)set hq[512+O5]=Bz+20.call TUI(j5,BOE(500.,j5),true)set UBI=$D00C4endifelseif(i1==1430466872)thenif(P4I==1093684558)thencall TriggerSleepAction(.05)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)if(UCI)thencall EYE(1.)set UBI=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not ke(m5))and(UBI>200.)and(UBI<S3I(j5)))thenset GZ[O5]=trueset J4=J8(O5,OQE(j5,$D0097,1093679413,1093679447,m5))endifendifendifset UBI=$D0216endifelseif(i1==1162032439)thenif(P4I==1093744435)thencall TriggerSleepAction(.05)set hq[O5]=Bz+22.if(IsUnitType(m5,UNIT_TYPE_HERO))thencall TUI(j5,m5,true)if((UCI)and(GetHeroLevel(j5)>5))thenset UBI=GetUnitAbilityLevel(j5,1093677363)if(UBI==0)thenset UBI=GetUnitAbilityLevel(j5,1093681462)endifif((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UBI)))and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093681462,true)set J4=J8(O5,OTE(j5,$D0272,1093677363))endifendifendifset UBI=$D022Fendifelseif(i1==1430466865)thenif(P4I==1093677651)thencall TriggerSleepAction(.05)if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))thenset m5=K2(350.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall LXI(j5,m5)endifset J4=(UCI)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<55.)and(IsUnitInRange(j5,m5,350.))and(R2I(GetUnitState(j5,UNIT_STATE_MANA))<($8C+(GetUnitAbilityLevel(j5,1093810508)*100)))and(OTE(j5,$D00C4,1093810508))set UBI=$D009Delseif(P4I==1093677879)thencall TriggerSleepAction(.05)set m5=h4[O5]set J4=(UCI)and(m5!=null)and(XZE(m5))and(G0[$80+O5])and(IsUnitInRange(j5,m5,800.))and(IssueTargetOrderById(j5,$D000F,m5))set UBI=$D0062endifelseif(i1==1430468144)thenif(P4I==1093679192)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D00DDendifelseif(i1==1429221441)thenif((P4I==1093685847)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)if(UCI)thenif((GetUnitLifePercent(m5)>70.)or((Bz<hq[O5])and(GetUnitCurrentOrder(m5)==$D0005))or(not OQE(j5,$D0107,1093678389,0,m5))or(not OTE(j5,$D009B,1093677903)))thencall TUI(j5,m5,true)endifelsecall LXI(j5,m5)endifelseif(P4I==1093678389)thencall TriggerSleepAction(.05)set hq[O5]=Bz+10.call TUI(j5,m5,true)if((UCI)and(G0[$80+O5]))thenset J4=((not IsUnitInRange(j5,m5,300.))and(GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(j5)>60.)and(IssueTargetOrderById(j5,$D0278,m5)))or((IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(m5)<65.)and(OTE(j5,$D009B,1093677903)))endifset UBI=$D0107elseif(P4I==1093677903)thenset hq[16+O5]=Bz+180.endifelseif(i1==1165451634)thenif((P4I==1093685324)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)if(UCI)thenif(not OQE(j5,$D02B6,1093687629,0,m5))thencall TUI(j5,GetSpellTargetUnit(),true)endifelsecall LXI(j5,m5)endifelseif(P4I==1093687629)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set J4=(UCI)and(not IsUnitInRange(j5,m5,300.))and(IssueTargetOrderById(j5,$D02B6,m5))set UBI=$D02B6endifelseif(i1==1432642913)thenif(P4I==1093684550)thencall TriggerSleepAction(.05)set UBI=$D0097elseif(P4I==1093683507)thencall TriggerSleepAction(.05)if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<50.))thencall TUI(j5,m5,true)endifset UBI=$D02B6endifelseif(i1==1432510828)thenif((UCI)and(P4I==1093681985))thencall ExecuteFunc("QYI")elseif(P4I==1093682004)thenset G0[32+O5]=falseendifelseif(i1==1429221446)thenif((P4I==1093682764)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall LXI(j5,m5)if UCI and IsUnitInRange(j5,m5,$E1)thencall SetPlayerAbilityAvailable(Player(O5),1093678667,true)call IssueImmediateOrderById(j5,$D00D2)endifelseif((P4I==1093678667)and(UCI))thenset m5=BOE(250.,j5)set J4=(m5!=null)and((h4[O5]==m5)or(GetUnitLifePercent(m5)<75.))and(OQE(j5,$D0200,1093682764,1093747544,m5))endifelseif(i1==1332963428)thenif((P4I==1093677649)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall LXI(j5,m5)endifelseif(i1==1211117640)thenif(P4I==1093681989)thencall TriggerSleepAction(.05)if((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset h4[16+O5]=m5call TSI(j5,m5)set J4=(UCI)and(not G0[32+O5])and((TOI(j5,m5))or(IssueTargetOrderById(j5,$D0079,m5)))endifset UBI=$D0206elseif(P4I==1093684564)thencall TriggerSleepAction(.05)set hq[O5]=Bz+6.set UBI=$D0079elseif(P4I==1093679428)thenset hq[16+O5]=Bz+35.elseif(((P4I==1093681987)or(P4I==1093677658))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif(GetUnitAbilityLevel(m5,1110454606)==0)thencall LXI(j5,m5)elsecall TSI(j5,m5)endifendifelseif(i1==1430468406)thenif((P4I==1093677645)or(P4I==1093678670)or(P4I==1093678898)or(P4I==1093678900)or(P4I==1093678904))thencall TriggerSleepAction(.05)set UBI=$D00FAelseif((P4I==1093678899)or(P4I==1093677898)or(P4I==1093678154)or(P4I==1093678157)or(P4I==1093678158))and(UCI)thencall ExecuteFunc("SDI")endifelseif(i1==1432642913)thenif(P4I==1093684819)thenif((UCI)and(GetUnitLifePercent(j5)<50.)and(not Id(O5)))thencall TriggerSleepAction(.5)call AEE(j5,false)endifendifelseif(i1==1160786241)thenif((P4I==1093684820)or(P4I==1093684824))thenset m5=K2(500.,HC[O5])if(m5!=null)thencall LXI(j5,m5)call TSI(j5,m5)endifendifelseif(i1==1160786243)thenif(P4I==1093678672)thenset m5=K2(500.,HC[O5])if(m5!=null)thencall LXI(j5,m5)endifendifelseif(i1==1328558154)thenif(P4I==1093750840)thenelseif(P4I==1093682996 or P4I==1093747768)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall LXI(j5,m5)endifendifelseif(i1==1315988077)thenif(P4I==1093684561)thenset m5=K2(500.,HC[O5])if(m5!=null)thencall LXI(j5,m5)call TTI(j5,m5)endifelseif(P4I==1093684561)thencall TriggerSleepAction(.05)if(GetUnitLifePercent(m5)<50.)thencall TUI(j5,m5,true)endifset UBI=$D0269endifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif(P4I==1093677894)thencall TriggerSleepAction(.05)set UBI=$D0264elseif(P4I==1093681490)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D007Fendifelseif(i1==1164207469)thenif(P4I==1095066220)thenset hq[512+O5]=Bz+3.call TriggerSleepAction(.05)set m5=BOE(200.,j5)if(m5!=null)thencall TUI(j5,m5,true)endifset J4=(UCI)and(h4[O5]==null)and(X1E(j5))and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(jW(j5,$D0012,h9[O5]))set UBI=$D022Dendifelseif(i1==1315007329)thenif(P4I==1093677108)thencall TriggerSleepAction(.05)if(GetUnitLifePercent(m5)<65.)thencall TUI(j5,m5,true)endifset UBI=$D007Felseif(P4I==1093681716)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D00B5endifelseif(i1==1332898670)thenif((P4I==1093677136)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall LXI(j5,m5)elseif(P4I==1093685848)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)if((UCI)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or((Bz>hq[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>(hq[272+O5]+80.+(30.*GetUnitAbilityLevel(j5,1093677136))))))and(GetHeroLevel(j5)>5)and(GetUnitAbilityLevel(m5,1110454344)>0))thenset GZ[O5]=trueset J4=J8(O5,OQE(j5,$D0218,1093677128,1093681457,m5))endifset UBI=$D00B5elseif((P4I==1093677128)or(P4I==1093681457))thencall TriggerSleepAction(.05)set m5=K2(550.,HC[O5])if(m5!=null)thencall TTI(j5,m5)if((UCI)and(Bz>hq[16+O5]))thenset GZ[O5]=trueset J4=(((IsUnitInRange(j5,m5,400)or G5X(m5)))and J8(O5,OME(j5,$D0200,1093677136,m5)))or(OQE(j5,$D0216,1093685848,0,m5))endifendifset hq[O5]=Bz+120.set UBI=$D0218endifelseif(i1==1215723364)thenif(P4I==1093683534)or(P4I==1093747031)thencall TriggerSleepAction(.3)set hq[512+O5]=Bz+2.set hq[O5]=Bz+45.call TUI(j5,m5,true)call TTI(j5,m5)elseif(P4I==1093677633)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set hq[16+O5]=Bz+10.set UBI=$D007Fendifelseif(i1==1433105516)thenif(P4I==1093747288)thenset m5=K2(400.,HC[O5])if(m5!=null)thencall LXI(j5,m5)call TTI(j5,m5)endifendifelseif(i1==1164799603)thenif(P4I==1093808453)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D00FAendifelseif(i1==1328558160)thenif(P4I==1093682766)thenset hq[O5]=Bz+11.if((not X1E(j5))or(Id(O5)))thenset hq[512+O5]=Bz+3.if(GetSpellTargetUnit()!=null)thencall EYE((RMaxBJ(E4E(GetUnitX(j5),GetUnitX(j5),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))/50.,1.)*.04)+.3)elsecall EYE((RMaxBJ(E4E(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/50.,1.)*.04)+.3)endifif(not IsUnitHidden(j5))thencall TUI(j5,BOE(300.,j5),true)if((UCI)and(GetUnitCurrentOrder(j5)==0))thencall J3(j5,true)endifendifendifendifelseif(i1==1212363833)thenif(P4I==1093678643)thenset hq[16+O5]=Bz+60.endifelseif(i1==1315070563)thenif(P4I==1093684529)thenset hq[O5]=Bz+140.-(GetUnitAbilityLevel(j5,P4I)*10.)if(IsUnitType(m5,UNIT_TYPE_HERO))thencall LXI(j5,m5)endifendifelseif(i1==1214931305)thenif(P4I==1093678147)thencall TriggerSleepAction(.05)if UCI thencall IssueTargetOrderById(j5,$D000F,m5)endifset hq[16+O5]=Bz+10.if(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))thencall LXI(j5,m5)if((UCI)and(GetHeroLevel(j5)>5)and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(G0[$80+O5]))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenif(IsUnitInRange(j5,m5,450.))thenset J4=((GetUnitState(j5,UNIT_STATE_MANA)>hq[272+O5]+50.)and(jP(j5,BU[VVV])))or(IssueImmediateOrderById(j5,$D0278))endifendifif((not J4)and(UCI)and(not X1E(j5)))thenset J4=IssueTargetOrderById(j5,$D000F,m5)endifendifendifset UBI=$D00CBelseif(P4I==1093748025)thencall TriggerSleepAction(.05)if UCI thencall IssueTargetOrderById(j5,$D000F,m5)endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(G0[$80+O5]))thenif((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))thencall TUI(j5,m5,true)endifendifset UBI=$D0079elseif((P4I==1093677906)or(P4I==1093681494))thenset m5=K2(600.,jv(j5))if(m5!=null)thencall LXI(j5,m5)call TTI(j5,m5)endifset hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,P4I)*30.)endifelseif(i1==1212365106)thenif((P4I==1093684025)and(UCI)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)call OQE(j5,$D0079,1093685831,0,m5)endifelseif(i1==1211117617)thenif(P4I==1093744944)thencall TriggerSleepAction(.05)set hq[O5]=Bz+8.call TUI(j5,m5,true)set J4=(UCI)and(IsUnitInRange(j5,m5,400.))and(GetUnitLifePercent(m5)<70.)and(OTE(j5,$D02B7,1093752648))set UBI=$D02B6elseif(P4I==1093752648)thencall TriggerSleepAction(.05)set m5=BOE(800.,j5)call TUI(j5,m5,true)set hq[512+O5]=Bz+20.if((UCI)and(m5!=null)and(IsUnitInRange(j5,m5,700.)))thenset J4=(OQE(j5,$D02B6,1093744944,0,m5))or(IssueTargetOrderById(j5,$D000F,m5))endifset UBI=$D02B7endifelseif(i1==1211117633)thenif(P4I==1093684045)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)call TSI(j5,m5)if((UCI)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset J4=OQE(j5,$D007F,1093684310,0,m5)set h4[16+O5]=m5endifset UBI=$D0269endifelseif(i1==1211117620)thenif(P4I==1093677623)thencall TriggerSleepAction(.05)set m5=K2(280.,HC[O5])call TUI(j5,m5,true)if((UCI)and(m5!=null))thencall IssueTargetOrderById(j5,$D000F,m5)call EYE(1.)set J4=((not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S4I(j5))and(OQE(j5,$D0097,1093677392,1093679450,m5)))or(((GetUnitLifePercent(m5)<50.)and(TOI(j5,m5))))or(OQE(j5,$D009D,1093677382,0,m5))or(IssueTargetOrderById(j5,$D000F,m5))endifset UBI=$D0108elseif(P4I==1093677382)thencall TriggerSleepAction(.05)set hq[16+O5]=Bz+8.5if(m5==null)thenset m5=K2(300.,HC[O5])endifset J4=(UCI)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S4I(j5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(OQE(j5,$D0097,1093677392,1093679450,m5))set UBI=$D009Dendifelseif(i1==1215657064)thenif(P4I==1093677913)thencall TriggerSleepAction(.05)set hq[O5]=Bz+7.75set m5=BOE(350.,j5)if((m5!=null)and((not X1E(j5))or(X1E(m5))))thencall TUI(j5,m5,true)set J4=(UCI)and(OTE(j5,$D022E,1093750324))endifset UBI=$D0080elseif(P4I==1093750324)thencall TriggerSleepAction(.05)set m5=BOE(500.,j5)if(m5!=null)thencall TUI(j5,m5,true)endifif(UCI)thenif((GetHeroLevel(j5)>5)and(G0[$80+O5])and(GetUnitLifePercent(j5)>70.)and(not IC(O5)))thenset hq[512+O5]=Bz+6.endifif(m5==null)thenset m5=X8E(500.,jv(j5),Condition(function A9E))endifset J4=(m5!=null)and(not G0[O5])and(G0[$80+O5])and((not X1E(j5))or(X5E(m5,j5)))and(IssueTargetOrderById(j5,$D000F,m5))endifset UBI=$D0251endifelseif(i1==1332179560)thenif(P4I==1093742660)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D02B6endifelseif(i1==1429221443)thenif(P4I==1093744948)thencall TriggerSleepAction(.05)call TUI(j5,m5,true)set UBI=$D0097endifelseif(i1==1215130471)thenif((P4I==1093678167)or(P4I==1093679161)or(P4I==1093679169)or(P4I==1093679172)or(P4I==1093815121))thencall TriggerSleepAction(.05)if((GZ[O5])or(m5==h4[O5])or(GetUnitLifePercent(m5)<55.))thencall TUI(j5,m5,true)elseif(IsUnitType(m5,UNIT_TYPE_HERO))thencall LXI(j5,m5)endifset UBI=$D007Felseif((P4I==1093677361)or(P4I==1093677111)or(P4I==1093677396)or(P4I==1093677126))thencall TriggerSleepAction(.05)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)endifset UBI=$D02B6endifelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenif(P4I==1093750345)thencall ExecuteFunc("TYI")endifelseif(i1==1311781206)thenif((UCI)and(P4I==1093684302))thencall TriggerSleepAction(1.)if(((GetUnitManaPercent(j5)>55.)and(OVE(500.,j5,Condition(function k3))>2))or(OVE(500.,j5,Condition(function A3E))>0))thencall IssueImmediateOrderById(j5,$D0278)endifendifelseif(i1==1164799855)thenif((P4I==1093677378)and(UCI))thencall ExecuteFunc("SHI")endifelseif(i1==1311787088)thenif(P4I==1093750089)and UCI thencall TriggerSleepAction(.05)call IssueImmediateOrderById(j5,$D0004)endifelseif(i1==1211117651)thenif(P4I==1093743698)and UCI thencall EYE(.01)call IssueTargetOrderById(j5,$D000F,m5)endifelseif(i1==1328558406)thenif UCI thenif P4I==1093752114 thencall O7E(GetHandleId(j5),"AI|IoSpiritsFar",true)elseif P4I==1093752115 thencall O7E(GetHandleId(j5),"AI|IoSpiritsFar",false)elseif P4I==1093751864 thencall IBE(j5,"AI|IoSpirits",19)endifendifelseif(i1==1160786506)thenif P4I==1093751637 thenset b5=GetSpellTargetLoc()if UCI thencall J3(j5,true)endifcall EYE(1.2)set m5=BIE(300,j5,GetLocationX(b5),GetLocationY(b5))call TUI(j5,m5,true)if UCI and(m5!=null)thenif(h4[O5]==null or(not IsUnitInRangeLoc(h4[O5],b5,300)))thenset h4[O5]=m5endifset J4=(IssuePointOrderById(j5,$D02B6,GetLocationX(b5),GetLocationY(b5)))endifendifelseif(i1==1211122767)thenif P4I==1093812807 thencall TriggerSleepAction(.05)set m5=K2(250.,HC[O5])call TUI(j5,m5,true)set UBI=$D02B6endifendifif((UCI)and(not J4)and(UBI!=0)and(GetUnitCurrentOrder(j5)==UBI))thencall J3(j5,true)endifset j5=nullset m5=nullset b5=nullendfunctionfunction UDI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer P4I=GetSpellAbilityId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))local unit m5=h4[32+O5]local integer UPlocal location b5=nulllocal boolean J4=falselocal boolean UCI=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTERlocal real UFI=0call TriggerSleepAction(.01)if((not UCI)and(hq[464+O5]>Bz)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall LXI(j5,m5)endifif(m5!=null)and(not XZE(m5))thenset m5=nullendifif(h4[O5]!=null)and(not XZE(h4[O5]))thenset h4[O5]=nullendifif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif((P4I==1093677647)or(P4I==1093679193)or(P4I==1093679194)or(P4I==1093679408)or(P4I==1093679410))thenif(UCI and KXV[O5])thenif(OXE(j5,GetItemTypeId(KRV[O5])))thencall EYE(1.)call DisableTrigger(R3V)call UnitRemoveItem(j5,OAE(j5,GetItemTypeId(KRV[O5])))call RemoveItem(KRV[O5])call EnableTrigger(R3V)endifif(KOV[O5]!=null)thencall EYE(.2)call UnitAddItem(j5,KOV[O5])endifset KEV[O5]=Bz+KVV[KDV]set KXV[O5]=falseset KRV[O5]=nullset KOV[O5]=nullendifcall TUI(j5,m5,true)set J4=(i1==1429221445)and(UCI)and(not ke(m5))and(OQE(j5,$D007F,1093678647,1093679184,m5))elseif((P4I==1094936696)or(P4I==1095331943))thencall TUI(j5,m5,true)elseif(P4I==1095331188)thenif(UCI)thencall EYE(1.)call CZE(j5)endifelseif(i1==1160785970)thenif(P4I==1093748023)thencall TUI(j5,BOE(750.,j5),true)elseif(P4I==1093747792)thencall TUI(j5,BOE(550.,j5),true)if(UCI)thencall EYE(1.)set J4=(m5!=null)and(Bz>J5V[O5])and(((GetUnitAbilityLevel(j5,1093747023)>0)and(OTE(j5,$D0105,1093747023)))or((GetUnitAbilityLevel(j5,1093752150)>0)and(OTE(j5,$D0105,1093752150))))endifelseif((P4I==1093747023)or(P4I==1093752150))thenif(UCI)thenset J4=(IsUnitInRange(j5,m5,440.))and(IssuePointOrderById(j5,$D02B6,GetUnitX(m5)+2,GetUnitY(m5)-2))endifendifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif(P4I==1093747028)thenelseif(P4I==1093682994)thenif(UCI)thenset J4=(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.)and(IsUnitInRange(j5,m5,400.))and(OTE(j5,$D0265,1093747028))elseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall LXI(j5,m5)endifendifendifelseif(i1==1328558154)thenif((m5!=null)and(UCI)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset h4[O5]=m5call IssueTargetOrderById(j5,$D000F,m5)endifelseif(i1==1429221443)thenif(P4I==1093686322)thenset hq[$F0+O5]=Bz+$Fif((not X1E(j5))or(Id(O5)))thenif(m5!=null)thencall TUI(j5,m5,true)set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(j5,P4I)*5.)elsecall TUI(j5,BOE(500.,j5),true)set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(j5,P4I)*5.)endifendifcall TriggerSleepAction(1.)if((UCI)and(IsUnitHidden(j5)))thencall ShowUnitShow(j5)endifendifelseif(i1==1162032951)thenif(P4I==1093678404)thencall TUI(j5,BOE(550.,j5),true)elseif((P4I==1093679152)or(P4I==1093752154))thenset UP=GetUnitAbilityLevel(j5,1093679152)if((UP==0)and(P4I==1093752154))thenset UP=GetUnitAbilityLevel(j5,1093752154)if(UP>0)thenset hq[O5]=Bz+12.endifelseif(P4I==1093679152)thenif(UP==1)thenset hq[O5]=Bz+80.elseif(UP==2)thenset hq[O5]=Bz+50.elseif(UP==3)thenset hq[O5]=Bz+30.elseset hq[O5]=Bz+80.endifelseset hq[O5]=Bz+80.endifcall TUI(j5,m5,true)elseif(P4I==1093679446)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1162032181)thenif(P4I==1093683761)thenset hq[O5]=Bz+180.endifelseif(i1==1160786505)thenif(P4I==1093753167)thenset UP=GetUnitAbilityLevel(j5,1093753167)call LXI(j5,m5)call TUI(j5,m5,true)call TriggerSleepAction(.5)set J4=(UCI)and(m5!=null)and(iU(j5))and(((Bz>J5V[32+O5])and(IsUnitInRange(j5,m5,1000.))and(OVE(900.,m5,Condition(function A9E))==0)and(IssueTargetOrderById(j5,$D00D9,m5)))or((Bz>J5V[48+O5])and(IsUnitInRange(j5,m5,570.))and(IssueImmediateOrderById(j5,$D0272)))or(IssueTargetOrderById(j5,$D000F,m5)))elseif(P4I==1093751607)thenif(m5!=null)thencall LXI(j5,m5)set J4=(UCI)and((Bz>J5V[O5])and(IsUnitInRange(j5,m5,250.))and((GetUnitLifePercent(m5)<47.)or(GetRandomInt(1,3)==1))and(IssueImmediateOrderById(j5,$D022E)))or(IssuePointOrderById(j5,$D02B6,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(j5,$D000F,m5))endifelseif(P4I==1093753169)thenset UP=GetUnitAbilityLevel(j5,1093753169)if(h4[O5]!=null)thencall TUI(j5,m5,true)call TriggerSleepAction(.5)set J4=(UCI)and(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,$D000F,h4[O5]))endifendifelseif(i1==1211117653)thenif(P4I==1093687372)thenset J5V[80+O5]=Bz+60.elseif(P4I==1093686862)thenset J5V[48+O5]=Bz+55.if((UCI)and((GetUnitState(j5,UNIT_STATE_MANA))>$C8)and(GetUnitLevel(j5)>=$A)and((Bz>J5V[O5])or(CAE(j5,1093686861)))and(Bz>J5V[112+O5]))thenset J4=CLE(j5,T8V,T9V,UVV,1093686861)and IssuePointOrderById(j5,$D00F7,GetUnitX(h4[O5]),GetUnitY(h4[O5]))endifelseif(P4I==1093686863)thenif(UCI)thenset GZ[$E0+O5]=trueset J4=(h4[O5]!=null)and(IsUnitInRange(j5,h4[O5],450.))and(IsUnitType(h4[O5],UNIT_TYPE_HERO))and(OXE(j5,BU[VNV]))and(UnitUseItem(j5,OAE(j5,BU[VNV])))set GZ[$E0+O5]=falseendifset J5V[64+O5]=Bz+30.elseif(P4I==1093686874)thenset J5V[16+O5]=Bz+20.elseif(P4I==1093686855)thenset J5V[$90+O5]=Bz+30.elseif(P4I==1093686867)thenset J5V[32+O5]=Bz+25.elseif(P4I==1093686859)thenset J5V[96+O5]=Bz+25.if((UCI)and((GetUnitState(j5,UNIT_STATE_MANA))>$AE)and((Bz>J5V[O5])or(CAE(j5,1093686855)))and(Bz>J5V[$90+O5])and(h4[O5]!=null))thenset UP=GetUnitAbilityLevel(j5,1093808471)if(UP>4)thenif(UP==5)thencall EYE(.6)elseif(UP==6)thencall EYE(.9)elseif(UP==7)thencall EYE(1.1)endifendifset J4=CLE(j5,UVV,UVV,UVV,1093686855)and IssuePointOrderById(j5,$D0079,GetUnitX(h4[O5]),GetUnitY(h4[O5]))endifelseif(P4I==1093686865)thenset J5V[$80+O5]=Bz+15.elseif(P4I==1093686861)thenset J5V[112+O5]=Bz+40.if((UCI)and((GetUnitState(j5,UNIT_STATE_MANA))>110)and((Bz>J5V[O5])or(CAE(j5,1093686874)))and(Bz>J5V[16+O5])and(h4[O5]!=null))thenset J4=CLE(j5,T8V,T8V,T8V,1093686874)and(OME(j5,$D0219,1093686874,h4[O5]))endifif((not J4)and(UCI))thenset J4=OHE(j5,h4[O5])endifelseif(P4I==1093686864)thenset J5V[$A0+O5]=Bz+25.elseif(P4I==1093808473 or P4I==1093748565)thenset UP=GetUnitAbilityLevel(j5,1093808473)if(UP>0)thenif(UP==1)thenset J5V[O5]=Bz+22.elseif(UP==2)thenset J5V[O5]=Bz+17.elseif(UP==3)thenset J5V[O5]=Bz+12.elseset J5V[O5]=Bz+5.endifelseset UP=GetUnitAbilityLevel(j5,1093748565)if(UP>0)thenif(UP==1)thenset J5V[O5]=Bz+16.elseif(UP==2)thenset J5V[O5]=Bz+8.elseif(UP==3)thenset J5V[O5]=Bz+4.elseset J5V[O5]=Bz+2.endifendifendifendifelseif(i1==1160786502)thenif(P4I==1093751370)thenif(UCI)thenif((GetUnitLifePercent(j5)<40.)or(KHV[O5]))thencall EYE(.7)call OTE(j5,$D0114,1093808206)endifset KGV[O5]=falseif((GetUnitLifePercent(j5)<40.))thenset J4=IssueImmediateOrderById(j5,$D02B6)elseset m5=BOE(600.,j5)if(m5!=null)thencall TUI(j5,m5,true)call TriggerSleepAction(.5)set J4=(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,$D000F,h4[O5]))endifendifset KHV[O5]=falseendifelseif(P4I==1093753176)thenelseif(P4I==1093751371)thenset hq[O5]=Bz+110.elseif(P4I==1093753177)thenif UCI and(h4[O5]!=null)thencall T0I(O5,j5)endifendifelseif(i1==1429221424)thenif(P4I==1093687351)thenif(m5==null)thenset m5=K3(600.,j5,Condition(function Kr))endifif(not UCI)thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))thencall LXI(j5,m5)endifelseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,1112560453)>0))thencall TUI(j5,m5,true)set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not X1E(j5))and(OVE(1200.,m5,Condition(function A9E))==0)and(UP<($96+(300*GetUnitAbilityLevel(j5,1093679445))))and(UP>$C8))thenset GZ[O5]=trueset h4[288+O5]=m5set J4=J8(O5,(OTE(j5,$D00A1,1093679445)))endifif((not J4)and((not X1E(j5))or(X5E(m5,j5))))thenset J4=(OQE(j5,$D0118,1093748789,0,m5))or((UP>$96)and(GetUnitLifePercent(m5)<40.)and(TOI(j5,m5)))or(IssueTargetOrderById(j5,$D000F,m5))or(IssueTargetOrderById(j5,$D0012,m5))endifendifelseif(P4I==1093679445)thenif(UCI)thencall ExecuteFunc("QSI")set J4=trueendifendifelseif(i1==1160785972)thenif(P4I==1093677872)thenset m5=BOE(400.,j5)if(m5==null)thenset m5=BOE(700.,j5)endifif(m5!=null)thencall TUI(j5,m5,true)call TriggerSleepAction(.5)set J4=(UCI)and(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,$D000F,h4[O5]))endifelseif((UCI)and(P4I==1093677621))thencall ExecuteFunc("Q0I")set J4=trueelseif(P4I==1095263841)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1432646245)thenif(P4I==1093679171)thencall TUI(j5,m5,true)elseif((P4I==1093677640)and((not HXE())or(X1E(m5))))thenif(not HXE())thenset hq[512+O5]=Bz+5.endifcall TUI(j5,m5,true)elseif(P4I==1093677899)thenset UP=GetUnitAbilityLevel(j5,P4I)if(UP<3)thenset hq[O5]=Bz+300.-(UP*60.)elseset hq[O5]=Bz+125.endifif(not X1E(j5))thenset m5=BOE(500.,j5)call TUI(j5,m5,true)call TriggerSleepAction(.5)set J4=(UCI)and(OQE(j5,$D007F,1093677640,0,m5))endifendifelseif(i1==1430468913)thenif((P4I==1093810507)and(not X1E(j5)))thencall TUI(j5,BOE(320.,j5),true)elseif(P4I==1093678403)thenif(not UCI)thenelseif(X1E(j5))thencall AEE(j5,false)elseset m5=h4[O5]if(m5==null)thenset m5=BOE(500.,j5)endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<50.)and(IssueTargetOrderById(j5,$D000F,m5))endifelseif(P4I==1093677876)thencall TUI(j5,m5,IsUnitInRange(j5,m5,400.))call TTI(j5,m5)set J4=(UCI)and(IsUnitInRange(j5,m5,300.))and(OTE(j5,$D009F,1093810507))endifelseif(i1==1430467634)thenif(P4I==1093679412)thenif(GetUnitLifePercent(m5)<60.)thencall TUI(j5,m5,true)endifelseif(P4I==1093750608)thenset m5=K2(600.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<70.))thencall TUI(j5,m5,true)call TTI(j5,m5)endifset J4=(UCI)and(GetUnitManaPercent(j5)>40.)and(OQE(j5,$D0107,1093679412,0,m5))elseif((P4I==1093684565)or(P4I==1093681458))thenset UP=GetUnitAbilityLevel(j5,P4I)if((P4I==1093681458)and(UP<3))thenset UP=UP+1endifset hq[O5]=Bz+210.-(30.*UP)set J4=(not X1E(j5))or(X1E(m5))call TUI(j5,m5,J4)if((UCI)and(J4))thencall SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093750608,true)set GZ[O5]=trueset J4=J8(O5,(OQE(j5,$D0107,1093679412,0,m5))or(IssueTargetOrderById(j5,$D0208,m5)))endifelseif(P4I==1093742674)thenset UP=GetUnitAbilityLevel(j5,P4I)if(UCI)and(WLV)thenset UP=GetRandomInt(1,2)if(UP==1)thencall H7E("YUMMY CREEP!!!",3.5,j5,.025,100,0,$C8,$D8)elseif(UP==2)thencall H7E("MMM DELICIOUS!!!",3.5,j5,.025,100,0,$C8,$D8)endifendifendifelseif(i1==1313026096)thenif(P4I==1095267426)thencall TUI(j5,m5,true)elseif(P4I==1093677401)thenset GZ[$80+O5]=falseset G0[32+O5]=falseendifelseif((i1==1164277353)or(i1==1164277357))thenif(P4I==1093751369)thenset UP=GetUnitAbilityLevel(j5,P4I)set hq[O5]=Bz+70.if(UCI)thenset J4=((h4[O5]!=null)and(X_E(h4[O5],j5))and(OME(j5,$D0079,1093809985,h4[O5])))if(OXE(j5,BU[V3V]))thencall EYE(.2)call RemoveItem(OAE(j5,BU[V3V]))call UnitAddItemByIdSwapped(BU[V4V],j5)endifendifendifelseif(i1==1164666213)thenif(P4I==1093678679)thencall TUI(j5,K2(125.+(25.*GetUnitAbilityLevel(j5,1093678679)),HC[O5]),true)elseif(P4I==1093808212)thenset hq[O5]=Bz+32.-(2.*GetUnitAbilityLevel(j5,1093808212))set hq[$F0+O5]=Bz+7.set m5=BOE(500.,j5)if(m5!=null)thencall TTI(j5,m5)endifif(UCI)thenset J4=(m5!=null)and(IssueTargetOrderById(j5,$D000F,m5))loopif((iU(j5))and(not G0[O5])and(G0[$80+O5])and(GetUnitLifePercent(j5)>60.))thenif(OVE(450.,j5,Condition(function k3))==0)thenset m5=X6E(800.,jv(j5),Condition(function k3))set J4=((m5!=null)and(IssueTargetOrderById(j5,$D0012,m5)))or(jW(j5,$D000F,h8[O5]))elsecall jW(j5,$D000F,h8[O5])endifendifexitwhen((Bz>hq[$F0+O5])or(not XZE(j5)))call EYE(1.)endloopelseif((m5!=null)and(GetUnitLifePercent(m5)<50.))thencall LXI(j5,m5)endifendifelseif((P4I==1093808454)or(P4I==1093808455))thenset m5=BOE(300.,j5)if(m5!=null)thencall TUI(j5,m5,true)call TTI(j5,m5)set J4=(UCI)and(IssueTargetOrderById(j5,$D0012,m5))endifelseif(P4I==1093678678)and(UCI)and(m5!=null)thenif(GetHeroLevel(j5)>6)or(GetUnitLifePercent(m5)<60.)thencall MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(j5,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(j5,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))if(E4E(GetUnitX(j5),GetUnitY(j5),GetLocationX(HA),GetLocationY(HA))<750)or(G5X(m5))thenset J4=OPE(j5,$D0100,1093678679,HA)endifendifendifelseif(i1==1433168227)thenif((P4I==1093678420)or(P4I==1093679176))thenset UP=GetUnitAbilityLevel(j5,P4I)if(UP!=3)thenset hq[O5]=Bz+175.-(UP*30.)elseset hq[O5]=Bz+60.endifcall TUI(j5,BOE(750.,j5),true)endifelseif(i1==1430466872)thenif(P4I==1093687349)thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)if(UCI)thenset J4=(IssueTargetOrderById(j5,$D000F,m5))or(IssueTargetOrderById(j5,$D0012,m5))call EYE(1.)set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not ke(m5))and(UP>200.)and(UP<S3I(j5)))thenset GZ[O5]=trueset J4=J8(O5,OQE(j5,$D0097,1093679413,1093679447,m5))endifendifendifelseif((P4I==1093679413)or(P4I==1093679447))thenset UP=GetUnitAbilityLevel(j5,P4I)if(UP!=3)thenset hq[O5]=Bz+210.-(UP*60.)elseset hq[O5]=Bz+55.endifcall TUI(j5,m5,true)endifelseif(i1==1162032439)thenif((P4I==1093677363)or(P4I==1093681462))thenset hq[16+O5]=Bz+160.-(20.*GetUnitAbilityLevel(j5,P4I))set m5=BOE(600.,j5)if(m5!=null)thenset J4=(UCI)and(OQE(j5,$D02BD,1093744435,0,m5))if(not J4)thencall TUI(j5,m5,true)endifendifendifelseif(i1==1430466865)thenif(P4I==1093810508)thencall TUI(j5,BOE(150.,j5),true)set hq[O5]=Bz+130.-(10.*GetUnitAbilityLevel(j5,P4I))endifif(P4I==1093751364)thenif UCI thenif((not J4)and(GetHeroLevel(j5)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(300.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(X1E(m5)or GZ[$D0+O5]))thenset J4=(Kz(400.,jv(j5))>1)and(IsUnitInRange(j5,m5,300.))and(OTE(j5,$D00C4,1093810508))endifendifendifendifelseif(i1==1211119409)thenif(P4I==1093749069)thencall TUI(j5,BOE(150.,j5),true)elseif(P4I==1093749070)thenset m5=h4[O5]if m5==null thenset m5=BOE(250.,j5)endifif((UCI)and(m5!=null))thenset J4=(IsUnitInRange(j5,m5,300.))and(IssueImmediateOrderById(j5,$D022E))or(IssueTargetOrderById(j5,$D000F,m5))if h4[O5]==null thenset h4[O5]=m5endifendifendifelseif((i1==1429221432)or(i1==1160786229))thenif(P4I==1093677892)thenset J4=(UCI)and((h4[O5]==null)or(GetUnitManaPercent(j5)>50.))and(OTE(j5,$D0278,1093687878))elseif(P4I==1093679411)thenset hq[O5]=Bz+170.-(10.*GetUnitAbilityLevel(j5,P4I))set m5=h4[O5]if((m5==null)or(not UCI))thenset m5=BOE(500.,j5)set h4[O5]=m5endifif((m5!=null)and((not X1E(j5))or(X1E(m5))))thencall TUI(j5,m5,true)call TTI(j5,m5)endifendifelseif(i1==1215722344)thenif(P4I==1093682499)thenif(m5==j5)thenset m5=h4[O5]if((m5==null)or(not UCI))thenset m5=BOE(600.,j5)endifendifif((m5!=null)and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall TUI(j5,m5,true)endifelseif(P4I==1093684296)thenset hq[O5]=Bz+100.set hq[512+O5]=Bz+6.call TUI(j5,m5,true)call EYE(1.)if(XZE(m5))thencall TUI(j5,m5,true)set J4=(UCI)and(OQE(j5,$D02BC,1093682499,0,j5))endifendifelseif(i1==1332766568)thenif(P4I==1093686065)thencall TUI(j5,m5,true)elseif(P4I==1093683510)thenset hq[O5]=Bz+14.set m5=BOE(250.,j5)if(m5!=null)thencall TUI(j5,m5,true)set J4=(UCI)and(IssueTargetOrderById(j5,$D0118,m5))endifendifelseif(i1==1429221451)thenif(P4I==1093678674)thenset hq[O5]=Bz+160.-(20.*GetUnitAbilityLevel(j5,1093678674))set hq[512+O5]=Bz+3.if(UCI)thenset m5=BOE(300.,j5)if((m5==null)and(OXE(j5,BU[EZ])))thenset m5=BOE(900.,j5)if(m5==null)thenset m5=BOE(1200.,j5)endifif(m5==null)and(Bz>J5V[16+O5])thenset m5=BOE(1300.+GetUnitAbilityLevel(j5,1093678671)*100,j5)endifset J4=(m5!=null)and(UnitUseItemPoint(j5,OAE(j5,BU[EZ]),GetUnitX(m5),GetUnitY(m5)))call EYE(.1)if(m5==null)thenset hq[$F0+O5]=Bz+100.endifendifif((not J4)and(m5!=null)and(XZE(m5)))thenset J4=IssueTargetOrderById(j5,$D000F,m5)endifendifelseif(P4I==1093686067)thenset m5=BOE(180.,j5)if((UCI)and(m5!=null)and(IsUnitInRange(j5,m5,200.))and(GetUnitAbilityLevel(m5,1112560453)>0))thenset J4=IssueImmediateOrderById(j5,$D0265)endifelseif(P4I==1093678671)thenif(not X1E(j5))thenset hq[512+O5]=Bz+3.endifif((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(not IsUnitInRange(j5,m5,200.)))thenset m5=BOE(350.,j5)endifif(m5!=null)thencall LXI(j5,m5)if(not UCI)thenelseif((IsUnitInRange(j5,m5,200.))and(XZE(m5)))thenset h4[O5]=m5set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(IssueTargetOrderById(j5,$D000F,m5)))or((Bz>hq[O5])and(OVE(600.,j5,Condition(function A3E))>1)and(R2I(GetUnitState(j5,UNIT_STATE_MANA))>$96+(75*GetUnitAbilityLevel(j5,1093678674)))and(jP(j5,BU[VVV])))or(IssueImmediateOrderById(j5,$D0265))or(IssueTargetOrderById(j5,$D000F,m5))elseset J4=IssueTargetOrderById(j5,$D000F,m5)endifendifendifelseif(i1==1315334514)thenif(P4I==1093810506)thenset hq[O5]=Bz+130.-(GetUnitAbilityLevel(j5,P4I)*10.)set m5=BOE(150.,j5)if(m5==null)thenset m5=BOE(300.,j5)if(m5==null)thenset m5=BOE(600.,j5)endifendifif(m5!=null)thencall TUI(j5,m5,true)endifelseif((P4I==1093682521)or(P4I==1093682760)or(P4I==1093682736))thenset J4=(UCI)and(GetUnitAbilityLevel(j5,1110456148)==0)and(GetUnitManaPercent(j5)>30)and(GetHeroLevel(j5)>3)and((S9I(j5,200.,$D00C4,1093682521))or(S9I(j5,450.,$D026C,1093682760))or(S9I(j5,700.,$D0277,1093682736)))if(not J4)thenif(P4I==1093682521)thenset UP=$C8elseif(P4I==1093682760)thenset UP=450elseset UP=700endifcall MoveLocation(Ha,GetUnitX(j5)+UP*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+UP*Sin(GetUnitFacing(j5)*bj_DEGTORAD))set m5=K2(250.,Ha)set J4=(UCI)and(m5!=null)and(IssueTargetOrderById(j5,$D000F,m5))endifif((m5!=null)and(GetUnitLifePercent(m5)<50.))thencall LXI(j5,m5)endifendifelseif(i1==1429221446)thenif(P4I==1093678665)thenset hq[16+O5]=Bz+14.if UCI thenset m5=BOE($E1,j5)if m5!=null thenset h4[O5]=m5set J4=OQE(j5,$D0200,1093682764,1093747544,m5)endifendifelseif(P4I==1093682764)thenset hq[O5]=Bz+30.if UCI and GetUnitLifePercent(m5)<30 thenset J4=TEI(j5,m5)endifendifelseif(i1==1429221445)thenif((P4I==1093678647)or(P4I==1093679184))thencall TUI(j5,m5,true)endifelseif(i1==1332963428)thenif(P4I==1093678169)thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall J3(j5,false)loopexitwhen(GetUnitAbilityLevel(m5,1110454854)==0)call EYE(1.)endloopcall TSI(j5,m5)set J4=(UCI)and(G0[$80+O5])and(is(j5))and(OQE(j5,$D0097,1093683019,0,m5))endifelseif(P4I==1093677649)thenset J4=(UCI)and(XZE(m5))and(not X1E(j5))and((OQE(j5,$D0097,1093683019,0,m5))or(IssueTargetOrderById(j5,$D000F,m5)))set hq[O5]=Bz+120.endifelseif(i1==1332109682)thenif(P4I==1093678134)thencall TUI(j5,m5,true)set hq[O5]=Bz+12.elseif(P4I==1093810505)thencall TUI(j5,BOE(550.,j5),true)set hq[16+O5]=Bz+150.endifelseif(i1==1430468406)thenif((P4I==1093678899)or(P4I==1093677898)or(P4I==1093678154)or(P4I==1093678157)or(P4I==1093678158))thenif(not X1E(j5))thenset m5=K2(600.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)call TTI(j5,m5)endifendifendifelseif(i1==1160786242)thenif(P4I==1093683287)thenif((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))thenelseif(GetUnitLifePercent(m5)<60.)thencall TUI(j5,m5,true)if((X1E(m5))and(UCI))thenset J4=IssueImmediateOrderById(j5,$D020A)endifelsecall LXI(j5,m5)endifelseif(P4I==1093683257)thencall TUI(j5,BOE(1000.,j5),true)set hq[$F0+O5]=Bz+2.+(1.5*GetUnitAbilityLevel(j5,1093683257))set hq[16+O5]=Bz+180.-(30.*GetUnitAbilityLevel(j5,1093683257))elseif(P4I==1093683265)thencall TUI(j5,BOE(500.,j5),true)if(UCI)thencall CZE(j5)endifendifelseif(i1==1160786241)thenif(P4I==1093684813)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall TUI(j5,m5,GetUnitLifePercent(j5)>50.)if((UCI)and((GetUnitLifePercent(j5)>50.)or(GetUnitLifePercent(m5)<40.)))thencall EYE(.5)set J4=OQE(j5,$D0079,1093684815,0,m5)endifendifelseif(P4I==1093684815)thenset m5=K2(300.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)set J4=(UCI)and(((not kr(j5))and(OQE(j5,$D0275,1093684820,1093684824,m5)))or(OQE(j5,$D0097,1093684813,0,m5)))endifelseif((P4I==1093684820)or(P4I==1093684824))thenset hq[O5]=Bz+90.endifelseif(i1==1429221456)thenif(P4I==1093685066)thencall EYE(GetUnitAbilityLevel(j5,1093685066)+.6)if((m5!=null)and(XZE(m5))and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,GetOwningPlayer(j5))))thencall TUI(j5,m5,GetUnitLifePercent(j5)>50.)endifelseif((P4I==1093685067)or(P4I==1093752407))thenset hq[O5]=Bz+160.call TUI(j5,K2(500.,HC[O5]),true)elseif(P4I==1093685065)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1160786243)thenif(P4I==1093681491)thenif((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifelseif(P4I==1093683765)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall LXI(j5,m5)call TSI(j5,m5)if(UCI)thenif((GetUnitLifePercent(m5)<80.)or(GZ[O5]))thenset GZ[O5]=trueset J4=J8(O5,OQE(j5,$D0100,1395667000,0,m5))endifset J4=(J4)or(IssueTargetOrderById(j5,$D0118,m5))endifendifelseif(P4I==1395667000)or(P4I==1395667029)thenset hq[O5]=Bz+165.set m5=K2(500.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)call TriggerSleepAction(.7)if((UCI)and(OXE(j5,BU[EZ]))and(not IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(j5)>70.)and(GetUnitAbilityLevel(j5,1093678672)>1)and(Bz>hq[16+O5]))thenset J4=(GetHeroLevel(j5)>5)and(TAI(j5,m5))endifcall TriggerSleepAction(.1)if((UCI)and(P4I==1395667029)and(OXE(j5,BU[V6V]))and(GetUnitState(j5,UNIT_STATE_MANA)>525+50*GetUnitAbilityLevel(j5,1395667029)))thenset J4=(UnitUseItem(j5,bj_lastCreatedItem))if J4 thencall TriggerSleepAction(.1)set J4=OQE(j5,$D0100,1395667000,0,m5)endifendifendifelseif(P4I==1093678672)thenset hq[16+O5]=Bz+20.endifelseif((i1==1211117641)or(i1==1211117642))thenif(P4I==1093684802)thenset m5=K2(200.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)if(UCI)thencall TCI(QV[O5],m5)call TCI(QV[16+O5],m5)call TCI(QV[32+O5],m5)call TCI(QV[48+O5],m5)endifendifelseif(P4I==1093684792)thenset m5=BOE(400.,j5)if((UCI)and(not X1E(j5))and(m5!=null))thencall EYE(.5)set J4=(GetUnitAbilityLevel(m5,1110456120)==0)and(TDI(j5,m5))endifendifelseif(i1==1311781207)thenif(P4I==1093742673)thenif((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)set J4=(UCI)and(OQE(j5,$D007F,1093684817,0,m5))endifelseif(P4I==1093684817)thencall TUI(j5,m5,true)set J4=(UCI)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IssueTargetOrderById(j5,$D0118,m5))elseif(P4I==1093742668)thenset hq[O5]=Bz+300.-(GetUnitAbilityLevel(j5,P4I)*50.)endifelseif(i1==1311780946)thenif(P4I==1093809743)thenset m5=K2(250.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)call TTI(j5,m5)endifelseif(P4I==1093685825)thenset m5=K2(250.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)if((not X1E(j5))and(UCI))thenset J4=OQE(j5,$D010E,1093809743,0,m5)endifendifelseif(P4I==1093685808)thencall EYE(1.)call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Kq),function TFI)if(UCI)thencall CZE(j5)endifendifelseif((i1==1211117650)or(i1==1211119433))thenif(P4I==1093685590)thenset m5=BOE(550.,j5)if(m5!=null)thenif(GetUnitLifePercent(m5)<60.)thencall TTI(j5,m5)endifif((UCI)and((GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(j5)>60.)))thenset I9V=j5set J4=(OVE(1000.,j5,Condition(function ny))>6)and(IssueTargetOrderById(j5,$D02DB,m5))endifendifelseif((P4I==1093685813)or(P4I==1093685811))thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<60))thencall TUI(j5,m5,true)if(P4I==1093685811)thencall TSI(j5,m5)set h4[16+O5]=m5if((UCI)and(not X1E(j5)))thenset I9V=j5set J4=(OTE(j5,1093685590,$D0003))or((OVE(1000.,j5,Condition(function ny))>4)and(IssueTargetOrderById(j5,$D02DB,m5)))endifendifendifendifelseif(i1==1211117646)thenif(P4I==1093685573)thenset m5=K2(250.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)call TTI(j5,m5)endifelseif(P4I==1093685575)thenset UP=R2I(50.+(100.*GetUnitAbilityLevel(j5,1093685573)))if(m5!=null)thenset m5=BOE(I2R(UP),m5)endifif((UCI)and(m5!=null))thenset P4I=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093685573,true)set J4=IssuePointOrderById(j5,$D0079,GetUnitX(m5)+I2R(P4I)*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+I2R(P4I)*Sin(UP*bj_DEGTORAD))endifelseif(P4I==1093685579 or P4I==1093808465)thenset hq[O5]=Bz+100.endifelseif(i1==1211117624)thenif(P4I==1093682775)thencall TUI(j5,m5,true)elseif(P4I==1093683024)thenset m5=BOE(600.,j5)if((m5!=null)and(GetUnitLifePercent(m5)<65.))thencall TUI(j5,m5,true)endifendifelseif(i1==1160785973)thenif((P4I==1093678388)or(P4I==1093677141))thenset UP=GetUnitAbilityLevel(j5,P4I)call TUI(j5,BOE(650.,j5),true)call EYE(5.)if(P4I==1093678388)thenset hq[O5]=Bz+155.-(UP*20.)elseset hq[O5]=Bz+145.-(UP*20.)endifendifelseif(i1==1315988077)thenif(P4I==1093678669)thencall TUI(j5,BOE(250.,j5),true)set hq[O5]=Bz+12.endifelseif(i1==1211117616)thenif(P4I==1093677139)thencall TUI(j5,BOE(300.,j5),true)set hq[O5]=Bz+15.endifelseif(i1==1315074670)thenif(P4I==1093677622)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif(P4I==1093677895)thenset hq[O5]=Bz+135.set m5=h4[O5]if((m5==null)or(not UCI))thenset m5=BOE(700.,j5)set h4[O5]=m5endifif(m5!=null)thencall TUI(j5,m5,true)call TTI(j5,m5)set J4=(UCI)and(((IsUnitInRange(j5,m5,350.))and(OME(j5,$D007F,1093681490,m5)))or(IssueTargetOrderById(j5,$D000F,m5)))endifendifelseif(i1==1164207469)thenif(P4I==1093682483)thencall TUI(j5,m5,true)endifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenset m5=h4[O5]if(P4I==1093748042)thenif m5==null thenset m5=BOE(700.,j5)endifif(m5!=null)thencall TUI(j5,m5,true)call TTI(j5,m5)endifelseif(P4I==1093808461)and(m5!=null)and UCI thenif(m5!=null)and(IsUnitInRange(j5,m5,200.))thenset J4=(i1==1311781174)and(OTE(j5,$D00AA,1093681733))if J4 thenset i1=1311781175endifelseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(VZE(j5)<2000.)))thenelseif(GetHeroLevel(j5)>=6 or h4[O5]!=null)and(ODE(j5,BU[VVV]))thenset J4=(i1==1311781174)and(OTE(j5,$D00AA,1093681733))endifif(not J4)thencall IssueTargetOrderById(j5,$D000F,m5)endifelseif(P4I==1093681733)and(m5!=null)and UCI thencall IssueTargetOrderById(j5,$D000F,m5)if(not J4)and(h4[O5]!=null)thencall TriggerSleepAction(.1)if(i1!=1311781174)thenset J4=OME(j5,$D00FA,1093808461,m5)elseset J4=(IsUnitInRange(j5,m5,400.)and(OTE(j5,$D0080,1093808462)))endifendifendifelseif(i1==1433631084)thenif(P4I==1093678160)thencall LXI(j5,m5)set hq[O5]=Bz+40.-(10.*GetUnitAbilityLevel(j5,1093678160))endifelseif(i1==1315007329)thenif(P4I==1093678913)thenset hq[O5]=Bz+20.if(UCI)thencall ExecuteFunc("Q0I")set J4=trueendifendifelseif(i1==1332898670)thenif(P4I==1093677136)thenset J4=(UCI)and((OQE(j5,$D0216,1093685848,0,m5))or(IssueTargetOrderById(j5,$D000F,m5)))set hq[16+O5]=Bz+16.endifelseif(i1==1215128178)thenif(P4I==1093677616)thenset J4=(UCI)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(OQE(j5,$D007F,1093683779,0,m5))elseif(P4I==1093683779)thenset J4=(UCI)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(OQE(j5,$D0097,1093677616,0,m5))if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifelseif((P4I==1093810503)or(P4I==1093810504))thenset hq[O5]=Bz+120.call TUI(j5,BOE(700.,j5),true)endifelseif(i1==1164799855)thenif(P4I==1093682264)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall TUI(j5,m5,true)endifset hq[O5]=Bz+35.-(GetUnitAbilityLevel(j5,P4I)*5.)elseif(P4I==1093682265 or P4I==1093752642)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1433105516)thenif(P4I==1093683511)thenset hq[16+O5]=Bz+15.call TUI(j5,m5,true)if((UCI)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(j5)>5)or(X1E(m5))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(j5,$D0278,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifelseif(P4I==1093681713)thenset b5=HC[O5]set m5=K2(400.,b5)if(m5!=null)thencall TTI(j5,m5)endifif((UCI)and(not kr(j5)))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<75.)and((OWE(not IsUnitAlly(j5,RX[0]))<=2)or(GetHeroLevel(j5)<$B))and(IssuePointOrderByIdLoc(j5,$D00DC,b5))if(not J4)thenset UP=X9E(400.,b5,Condition(function A3E))set J4=((UP>1)or(UP==OWE(not IsUnitAlly(j5,RX[0])))or((UP>0)and(X9E(700.,b5,Condition(function A3E))>1)and(X9E(700.,b5,Condition(function NVE))>0)))and(IssuePointOrderByIdLoc(j5,$D00DC,b5))endifendifelseif(P4I==1093747288)thenset UP=GetUnitAbilityLevel(j5,P4I)set hq[O5]=Bz+210.-(UP*10.)set m5=BOE(400.,j5)set J4=(UCI)and(m5!=null)and(IssueTargetOrderById(j5,$D000F,m5))endifelseif(i1==1214409837)thenif(P4I==1093679157)thenset hq[O5]=Bz+10.call MoveLocation(Ha,GetUnitX(j5)+400*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+400*Sin(GetUnitFacing(j5)*bj_DEGTORAD))set m5=K2(400.,Ha)if(m5!=null)thencall TTI(j5,m5)endifendifelseif(i1==1316252014)thenif(P4I==1093678137)thenset hq[32+O5]=Bz+14.if(GetUnitLifePercent(m5)<60.)thencall TUI(j5,m5,true)endifelseif(P4I==1093678405)thenset hq[O5]=Bz+25.elseif(P4I==1093681745)thenset hq[16+O5]=Bz+35.set m5=K2(500.,HC[O5])if(m5!=null)thencall TTI(j5,m5)endifif((UCI)and(m5!=null)and(OXE(j5,BU[V7V])))thenset J4=UnitUseItemTarget(j5,bj_lastCreatedItem,m5)endifelseif(P4I==1093678645)thenset hq[O5]=Bzset hq[16+O5]=Bzset hq[32+O5]=Bzset hq[80+O5]=Bzset hq[96+O5]=Bzendifelseif(i1==1328558160)thenif(P4I==1093682998)thenif((UCI)and(GetHeroLevel(j5)>5)and((not X1E(j5))or(Id(O5))))thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(j5,m5,300.)))thenset GZ[O5]=trueset J4=(J8(O5,OQE(j5,$D00FA,1093682766,0,m5)))endifendifelseif(P4I==1093683000)thencall TUI(j5,BOE(700.,j5),true)elseif(P4I==1093683011)thencall TUI(j5,BOE(500.,j5),true)endifelseif(i1==1212363833)thenif(P4I==1093678933)thenset hq[32+O5]=Bz+120.call EYE(.5)set J4=(UCI)and(not X1E(j5))and(OTE(j5,$D009B,1093678643))elseif(P4I==1093809220)thenset hq[O5]=Bz+14.call TUI(j5,m5,true)set J4=(UCI)and(not X1E(j5))and((OME(j5,$D00FA,1093815125,m5))or(OTE(j5,$D009B,1093678643)))elseif(P4I==1093678643)and(UCI and(h4[O5]!=null)and(not X1E(j5)))thenset J4=(GCE(j5,h4[O5]))and(OTE(j5,$D022E,1093815125))endifelseif(i1==1315070563)thenif(P4I==1093678407)thenset hq[$F0+O5]=Bz+5.set m5=BOE(600.,j5)if(m5!=null)thencall TTI(j5,m5)endifif(UCI)thenloopif((m5!=null)and(GetUnitLifePercent(m5)<GetUnitLifePercent(j5)))thencall IssuePointOrderById(j5,$D0012,GetUnitX(m5)+GetRandomReal(0,300.)-150.,GetUnitY(m5)+GetRandomReal(0,300.)-150.)elseif((not G0[O5])and(G0[$80+O5])and(not X1E(j5)))thenif(OVE(200.,j5,Condition(function k3))==0)thencall jW(j5,$D000F,h8[O5])endifendifif(not G0[$80+O5])thenset m5=nullendifexitwhen(Bz>=hq[$F0+O5])call EYE(.5)endloopset m5=BOE(500.,j5)if((m5!=null)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0))thenset UP=OVE(850.,m5,Condition(function A3E))set J4=((UP-(OVE(850.,m5,Condition(function k3))))>=0)and(OQE(j5,$D007F,1093684529,1093747032,m5))endifelsecall LXI(j5,m5)endifendifelseif(i1==1214931305)thenif(P4I==1093686067)thenset m5=BOE(450.,j5)if((UCI)and(m5!=null)and(not X1E(j5)))thenset J4=IssueImmediateOrderById(j5,$D0278)endifelseif((P4I==1093677906)or(P4I==1093681494))thenset hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,P4I)*30.)endifelseif(i1==1212365106)thenif(P4I==1093685831)thenset hq[O5]=Bz+15.set b5=HC[O5]set m5=K2(I2R($FA+(25*GetUnitAbilityLevel(j5,1093685831))),b5)if(m5!=null)thencall TUI(j5,m5,true)set J4=(UCI)and(not X1E(j5))and(G0[$80+O5])and(not IsUnitInRangeLoc(m5,b5,200.))and(IssueTargetOrderById(j5,$D0278,m5))endifendifelseif(i1==1211117617)thenif(P4I==1093686067)thenset m5=BOE(800.,j5)set J4=(UCI)and(m5!=null)and(OTE(j5,$D02B7,1093752648))endifelseif(i1==1211117633)thenif(P4I==1093684310)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)endifelseif(P4I==1093810260)thenset hq[O5]=Bz+30.elseif(P4I==1093684308 or P4I==1093747539)thenset hq[16+O5]=Bz+120.endifelseif(i1==1211117620)thenif((P4I==1093677392)or(P4I==1093679450))thenif(UP!=3)thenset hq[O5]=Bz+210.-(UP*60.)elseset hq[O5]=Bz+55.endifcall TUI(j5,m5,true)endifelseif(i1==1432580716)thenif(P4I==1093684300)thenset b5=HC[O5]set m5=K2(300.,b5)if(m5!=null)thencall TUI(j5,m5,true)call TriggerSleepAction(1.)set J4=(UCI)and(IsUnitInRange(j5,m5,250.))and(X9E(300.,b5,Condition(function k0))<=2)and(IssueTargetOrderById(j5,$D0278,m5))endifelseif(P4I==1093681754)thenset hq[O5]=Bz+15.call EYE(1.2)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifelseif(P4I==1093752391)thenset J5V[64+O5]=Bz+30call EYE(.8)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifendifelseif(i1==1333027688)thenif(P4I==1093682252)thencall TUI(j5,BOE(250.,j5),true)elseif(P4I==1093682248 or P4I==1093750594)thenset hq[O5]=Bz+170.-(GetUnitAbilityLevel(j5,P4I)*20.)call TUI(j5,BOE(500.,j5),true)elseif(P4I==1093686091)thenset m5=K3(900.,j5,Condition(function Kr))if(m5!=null)thencall TUI(j5,m5,true)set J4=(UCI)and(GetUnitLifePercent(j5)>50.)and(GetUnitLifePercent(m5)<60.)and(G0[$80+O5])and(OVE(700.,m5,Condition(function A3E))<=2)and(TAI(j5,m5))endifendifelseif(i1==1311781185)thenif(P4I==1093743692)thenif(GetUnitLifePercent(m5)<60.)thencall TUI(j5,m5,true)endifelseif(P4I==1093684275)thenset hq[O5]=Bz+160.elseif(P4I==1093684314)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1211117643)thenif(P4I==1093678658)thencall TUI(j5,BOE(300.,j5),true)endifif(P4I==1093678410 or P4I==1093678664 or P4I==1093681483 or P4I==1093748313)and UCI thenset b5=HC[O5]if(h9[48+O5]!=null)and(IsUnitInRangeLoc(h9[48+O5],b5,600.))thenset WNV=300call MoveLocation(HA,GetUnitX(h9[48+O5]),GetUnitY(h9[48+O5]))if GetUnitUserData(h9[48+O5])>100 thenset WNV=$96endifelseset WNV=$96call MoveLocation(HA,GetLocationX(b5),GetLocationY(b5))endifif(not J4)and(Bz>J5V[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>NYI(j5,1093678410,4)+NYI(j5,1093678658,4))thencall MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-WNV,WNV),GetLocationY(HA)+GetRandomReal(-WNV,WNV))set J4=(OPE(j5,$D0136,1093678410,HA))endifset bj_lastLoadedUnit=j5if(not J4)and(Bz>J5V[32+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>NYI(j5,1093678664,4)+NYI(j5,1093678658,4))and(X9E(600.,HA,Condition(function N0E))==0)thencall MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-100.,100.),GetLocationY(HA)+GetRandomReal(-100.,100.))set J4=(OPE(j5,$D0092,1093678664,HA))endifif((not J4)and(GetHeroLevel(j5)>5)and(Bz>J5V[O5])and(GetUnitState(j5,UNIT_STATE_MANA)>NYI(j5,1093681483,4)+NYI(j5,1093748313,4)+NYI(j5,1093678658,4))and(X9E(600.,HA,Condition(function KG))<8))thenset hq[$F0+O5]=Bz+5.set J4=(OSE(j5,$D0218,1093681483,1093748313,GetLocationX(HA)+GetRandomReal(-WNV,WNV),GetLocationY(HA)+GetRandomReal(-WNV,WNV)))endifif(not J4)and((P4I==1093678410)or(P4I==1093678664))and UCI thencall JEI(j5,false)endifendifelseif(i1==1215657064)thenif(P4I==1093684291)thenset m5=BOE(550.,j5)set J4=(UCI)and(m5!=null)and(((IsUnitInRange(j5,m5,250.))and(OTE(j5,$D0080,1093677913)))or(IssueTargetOrderById(j5,$D000F,m5)))endifelseif(i1==1214344551)thenif(P4I==1093678938)thenset m5=BOE(700.,j5)call TUI(j5,m5,true)if((UCI)and(m5!=null))thenset J4=TII(j5)call EYE(1.)call IssueTargetOrderById(j5,$D000F,m5)elsecall EYE(1.)endifcall EYE(7.)set hq[O5]=Bz+152.endifelseif(i1==1211117636)thenif(P4I==1093685042 or P4I==1093810233)thenset hq[O5]=Bz+60.call TUI(j5,m5,true)if(UCI)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093685041,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,$D00FA,GetUnitX(j5)+900.*Cos(UP*bj_DEGTORAD),GetUnitY(j5)+900.*Sin(UP*bj_DEGTORAD)))endifelseif(P4I==1093685041)thenif(m5==null)thenset m5=K2(300.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifendifelseif(i1==1160786000)thenif(P4I==1093685047)thenset m5=BOE(500.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)set J4=(UCI)and(OQE(j5,$D0264,1093685046,0,m5))endifelseif(P4I==1093685046)thenset hq[O5]=Bz+16.if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)call EYE(1.5)set J4=(UCI)and(GetUnitLifePercent(m5)<65.)and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(IsUnitType(m5,UNIT_TYPE_STUNNED))and(OQE(j5,$D009D,1093685045,0,m5))endifelseif(P4I==1093685045)thenif(m5==null)thenset m5=K2(650.,HC[O5])endifcall TUI(j5,m5,true)if(m5!=null)thencall TTI(j5,m5)set J4=(UCI)and(OQE(j5,$D0264,1093685046,0,m5))endifendifelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenif(P4I==1093683532)thenset hq[O5]=Bz+22.set m5=K2(600.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)call TTI(j5,m5)endifelseif(P4I==1093750345)thenif((XZE(m5))and(GetUnitLifePercent(m5)<65.))thencall LXI(j5,m5)endifelseif(P4I==1095656306)thenset hq[512+O5]=Bz+6.set m5=BOE(500.,j5)if(m5!=null)thencall TTI(j5,m5)set J4=(UCI)and(not X1E(j5))and(IssueTargetOrderById(j5,$D000F,m5))endifendifelseif(i1==1311781206)thenif(P4I==1093684054)thenset hq[O5]=Bz+12.set m5=BOE(400.,j5)if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)endifelseif(P4I==1093684280)thenset hq[32+O5]=Bz+25.call EYE(.1)if(m5==null)thenset m5=K2(200.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifelseif(P4I==1093684053)thenset hq[16+O5]=Bz+160.endifelseif(i1==1211117651)thenelseif(i1==1211117649)thenif(P4I==1093685586)thencall TUI(j5,m5,true)elseif(P4I==1093685582)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall LXI(j5,m5)endifendifelseif(i1==1160786265)thenif(P4I==1093748033)thencall TUI(j5,BOE(300.,j5),true)endifelseif(i1==1311780930)thenif(P4I==1093686083)thenset hq[16+O5]=Bz+20.set m5=BOE(400.,j5)if(m5!=null)thencall TUI(j5,m5,true)if((UCI)and(GetUnitLifePercent(m5)<60.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(OUE(m5)),GetUnitX(m5)-GetUnitX(OUE(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093686072,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,$D0079,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifendifelseif((P4I==1093686072)or(P4I==1093751120))thenset hq[O5]=Bz+85.set m5=K2(400.,HC[O5])if(m5!=null)thencall TUI(j5,m5,true)set J4=(UCI)and(IsUnitInRange(j5,m5,400.))and(IssueImmediateOrderById(j5,$D0278))endifelseif(P4I==1093686081)thenset m5=BOE(400.,j5)if((m5!=null)and(not X1E(j5)))thencall TUI(j5,m5,true)set J4=(UCI)and(IssueImmediateOrderById(j5,$D0278))if((not J4)and(UCI)and(GetUnitLifePercent(m5)<60.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(OUE(m5)),GetUnitX(m5)-GetUnitX(OUE(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),1093686072,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,$D0079,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifendifif(UCI)thencall EYE(1.)call CZE(j5)endifendifelseif(i1==1311786311)thenif(P4I==1093743178)thenif UCI and GetUnitAbilityLevel(GetSpellTargetUnit(),1112560453)>1 thenset h4[O5]=m5set J4=IssueTargetOrderById(j5,$D0265,m5)endifendifelseif(i1==1211117652)thenif(P4I==1093687864)or(P4I==1093747542)or(P4I==1093687861)and UCI thenset m5=h4[O5]if(m5==null)or(not IsUnitInRange(j5,m5,$AA))thenset m5=BOE(170.,j5)if m5!=null thenset h4[O5]=m5endifendifif(P4I==1093687861)thenif X1E(j5)thenset bj_lastReplacedUnit=h9[16+O5]set J4=trueelseif m5==null thenif h4[O5]!=null thenset bj_lastReplacedUnit=h4[O5]elseset bj_lastReplacedUnit=h8[O5]endifset J4=trueendifif J4 thenset m5=RME(GetHandleId(j5),"AI|Cog1")set bj_lastLoadedUnit=RME(GetHandleId(j5),"AI|Cog2")if E3E(m5,bj_lastReplacedUnit)>E3E(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifset bj_lastLoadedUnit=RME(GetHandleId(j5),"AI|Cog3")if E3E(m5,bj_lastReplacedUnit)>E3E(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifset bj_lastLoadedUnit=RME(GetHandleId(j5),"AI|Cog4")if E3E(m5,bj_lastReplacedUnit)>E3E(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifif m5!=null thenset h4[96+O5]=m5set J4=IssueTargetOrderById(j5,$D000F,m5)if J4 thenset hq[832+O5]=Bz+1.endifloopexitwhen GetWidgetLife(h4[96+O5])<.405set J4=IssueTargetOrderById(j5,$D000F,m5)call EYE(.5)endloopcall J3(j5,false)endifendifendifif(not J4)and(m5!=null)thenif(not J4)and(Bz>J5V[32+O5])and(m5!=null)and(IsUnitInRange(j5,m5,$D2))thenset J4=IssueImmediateOrderById(j5,$D0265)endifif(not J4)and(Bz>J5V[16+O5])and(m5!=null)and(IsUnitInRange(j5,m5,275))thenset J4=IssueImmediateOrderById(j5,$D0278)endifendifendifelseif(i1==1211119187)thenset bj_forLoopAIndex=(GetUnitAbilityLevel(j5,1093742926)-2)if(P4I==1093742926)and(UCI)and(h4[O5]!=null)and(bj_forLoopAIndex>=0)and(Bz>J5V[16+O5])and(not X1E(j5))thenset J5V[16+O5]=Bz+4.set b5=HC[O5]if bj_forLoopAIndex>0 thencall EYE(bj_forLoopAIndex)endifcall OPE(j5,$D0079,1093743414,b5)endifelseif(i1==1328558389)thenif P4I==1093747000 and UCI thenset m5=h4[O5]set b5=HC[O5]if m5==null or((not IsUnitInRange(j5,m5,300))and(not IsUnitInRangeLoc(j5,b5,300)))thenset m5=BRE(300.,j5)set bj_lastReplacedUnit=BIE(300.,j5,GetLocationX(b5),GetLocationY(b5))endifif(Bz>J5V[16+O5])thenset J4=(h4[O5]!=null)if GetUnitLifePercent(bj_lastReplacedUnit)<70. thenset J4=trueelseif GetUnitLifePercent(m5)<70. thenset J4=trueendifset J4=((J4)and(IssueImmediateOrderById(j5,$D0265)))endifif(not J4)thenset J4=IssueImmediateOrderById(j5,$D00F9)endifelseif P4I==1093747009 and UCI thenset m5=h4[O5]set b5=jv(j5)if(HZV[O5]!=null)and(GetWidgetLife(HZV[O5])>.405)thencall MoveLocation(b5,GetUnitX(HZV[O5]),GetUnitY(HZV[O5]))endifset J4=falseif((m5==null or((not IsUnitInRange(j5,m5,475))and(not IsUnitInRangeLoc(m5,b5,475)))))thenif G0[256+O5]thenset m5=BRE(475.,j5)set bj_lastReplacedUnit=BIE(475.,j5,GetLocationX(b5),GetLocationY(b5))if GetUnitLifePercent(m5)<GetUnitLifePercent(bj_lastReplacedUnit)thenset h4[O5]=m5set J4=trueelseset h4[O5]=bj_lastReplacedUnitset m5=bj_lastReplacedUnitset J4=trueendifendifelseset J4=trueendifif((J4)and(Bz>J5V[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(j5)>=6)and(h4[O5]!=null)and(IsUnitInRange(j5,m5,1200.)))thenset J4=(IssuePointOrderByIdLoc(j5,$D0278,jv(m5)))elseset J4=falseendifif(not J4)thenset J4=IssueImmediateOrderById(j5,$D00F9)endifendifelseif(i1==1328558390)thenif P4I==1093744975 thenif UCI thenset J4=OTE(j5,$D00D4,1093744986)if J4 thencall EYE(.1)call jW(j5,$D0012,h9[O5])endifendifendifelseif(i1==1160786504)thenif P4I==1093751608 and UCI thenif(OVE(450,m5,Condition(function NIE))<=1)thenset J4=OME(j5,$D0079,1093751618,m5)endifelseif P4I==1093751618 thenset m5=RME(GetHandleId(j5),"AI|SoulCatcherTgt")if UCI thenif(h4[O5]==null)or(m5!=h4[O5]and GetUnitLifePercent(m5)<GetUnitLifePercent(h4[O5]))thenset h4[O5]=m5endifendifcall TSI(j5,m5)endifelseif(i1==1160786520)thenif(P4I==1093809991)thenset m5=BOE(500.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall TUI(j5,m5,true)set J4=(UCI)and(OQE(j5,$D00F6,1093809990,0,m5))endifelseif(P4I==1093809990)thenset hq[O5]=Bz+18.if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TUI(j5,m5,true)endifif(UCI)thenset U5V=m5set bj_lastLoadedUnit=BOE(600.,m5)set U5V=nullif bj_lastLoadedUnit==null thenif X1E(j5)thenset UFI=Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))set J4=IssuePointOrderById(j5,$D0276,GetUnitX(m5)+375*Cos(UFI),GetUnitY(m5)+375*Sin(UFI))elseif X1E(m5)or(not IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))thenset J4=jW(j5,$D0276,j5)endifelseset J4=jW(j5,$D0276,bj_lastLoadedUnit)endifset bj_lastLoadedUnit=nullendifelseif P4I!=1093809992 and P4I!=1093810008 and hq[816+O5]>Bz and UCI thenset G0[288+O5]=truecall UDI()endifelseif(i1==1160786507)thenif(P4I==1093813065)thencall TUI(j5,m5,true)call TUI(m5,j5,true)endifelseif(i1==1311788336)thenif P4I==1093814860 and UCI thencall EYE(.2)set m5=BOE(350.,j5)set bj_lastCreatedUnit=j5if(m5!=null)and(Bz>J5V[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(OVE(400.,j5,Condition(function NAE))<=2)thenset J4=OTE(j5,$D022E,1093814323)endifendifelseif(i1==1211122767)thenif(m5==null)thenset m5=h4[O5]endifif(not J4)and(UCI)and(Bz>J5V[O5])and(G5X(m5))thenset J4=(m5!=null)and(IssueTargetOrderById(j5,$D02B6,m5))endifif(P4I==1093814350)thenif UCI and(not J4)and(Bz>J5V[16+O5])thenset J4=(m5!=null)and(OME(j5,$D0097,1093812805,m5))endifendifelseif(i1==1160786738)thenif(P4I==1093813557)thenset b5=HC[O5]set m5=K2(300.,b5)if(m5!=null)thencall TTI(j5,m5)endifendifendifif((UCI)and(not J4)and(GetUnitCurrentOrder(j5)==0))thencall J3(j5,true)endifset j5=nullset m5=nullset b5=nullendfunctionfunction UGI takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local integer P4I=GetSpellAbilityId()local integer i1=GetUnitTypeId(V_E)local integer O5=GetPlayerId(GetOwningPlayer(V_E))local integer ilocal boolean J4=falseif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif(FKV)thenset hq[O5]=.0set hq[16+O5]=.0set hq[32+O5]=.0if i1==1211117653 thenset i=1loopexitwhen i>$Aset J5V[i*16+O5]=0set i=i+1endloopendifendifif(not FKV)and i1!=1211117653 thenif i1==1160786520 thenif(P4I==1093809990)thenset J5V[$B0+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==1093809991 thenset J5V[$C0+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==1093809992 thenset J5V[$A0+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I!=1093810008 and hq[816+O5]>Bz thenset G0[288+O5]=truecall UGI()endifelseif(P4I==eY[336+O5])thenset J5V[16+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==eY[352+O5]thenset J5V[32+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==eY[368+O5]thenset J5V[48+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==eY[$AC+O5]or P4I==eY[$BC+O5]thenset bj_forLoopAIndex=0if P4I==eY[$BC+O5]thenset bj_forLoopAIndex=LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I))endifif bj_forLoopAIndex==0 thenset bj_forLoopAIndex=LoadInteger(WXV,eY[$AC+O5],-1+GetUnitAbilityLevel(V_E,P4I))endifset J5V[O5]=Bz+I2R(bj_forLoopAIndex)elseif(P4I==1093682736)thenset J5V[64+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif(P4I==1093682760)thenset J5V[80+O5]=Bz+I2R(LoadInteger(WXV,P4I,-1+GetUnitAbilityLevel(V_E,P4I)))elseif P4I==1093683265 thenset J5V[64+O5]=Bz+8.if B6E(Player(O5))thenif h4[O5]!=null thencall TriggerSleepAction(.5)set J4=(IsUnitInRange(V_E,h4[O5],700))and((IssueTargetOrderById(V_E,$D02B6,h4[O5]))or(IssueTargetOrderById(V_E,$D000F,h4[O5])))endifendifendifendifendfunctionfunction UHI takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetAttacker()))and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))))!=nullendfunctionfunction UJI takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(ASE(GetFilterUnit())))!=nullendfunctionfunction UKI takes unit it returns integerlocal integer kt=GetUnitAbilityLevel(it,1093682248)local integer ULIif(kt<1)thenset kt=GetUnitAbilityLevel(it,1093750594)endifif(kt>0)thenset hr=itset ULI=OVE(500.,it,Condition(function UJI))-1if(ULI<=2)thenreturn 0endifreturn $8C+(50*kt)+((25+($A*kt))*ULI)endifreturn 0endfunctionfunction UMI takes nothing returns nothingcall IssueTargetOrderById(GetEnumUnit(),$D000F,GetTriggerUnit())endfunctionfunction UPI takes nothing returns nothinglocal boolexpr Ig=Condition(function KH)call GroupClear(iH)call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(GetAttacker()),Ig)call ForGroup(iH,function UMI)call DestroyBoolExpr(Ig)set Ig=nullendfunctionfunction UQI takes nothing returns nothinglocal unit IB=GetAttacker()local unit m5=GetTriggerUnit()local integer i1=GetUnitTypeId(IB)local integer O5=GetPlayerId(GetOwningPlayer(IB))local location b5=nulllocal integer UPlocal boolean USIlocal boolean J4=falseset GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)set h4[80+O5]=m5if((not Jw(IB))or(GZ[32+O5]))thenset IB=nullset m5=nullreturnelseset GZ[32+O5]=truecall TriggerSleepAction(.7)if((not XZE(m5))or(not XZE(IB))or(not is(IB)))thenset GZ[32+O5]=falseset IB=nullset m5=nullreturnendifendifif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(((GetUnitCurrentOrder(m5)==$D0005)or(GetUnitLifePercent(m5)<60.))and(Bz>hq[480+O5]))thencall LXI(IB,m5)if(h4[O5]==null)thenset h4[O5]=m5endifendifif(not J4)and(OXE(IB,BU[V7V]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[G6]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[T4]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[F6]))thenset J4=(GetUnitLifePercent(m5)<50.)and(FKE(m5)!=1)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[EFV]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(OXE(IB,BU[EHV])and(Bz>J5V[$F0+O5])and(G3X(m5)==false)and(DVE(m5)==false))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[C8]))thenset J4=(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(IB)>70.)and(Bz>hq[64+O5])and(G0[256+O5])and(jP(IB,BU[C8]))endifif(not J4)and(OXE(IB,BU[V2V]))thenset J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(OXE(m5,BU[V8])and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(GetUnitLifePercent(m5)<90.)and(IsUnitType(IB,UNIT_TYPE_HERO))and(G3X(IB)==false)and((IsUnitInRange(IB,m5,200.)) or(IsUnitInRange(IB,m5,670.)))and(B7E(GetOwningPlayer(IB)))and(B7E(GetOwningPlayer(m5)))and((IsUnitType(IB,UNIT_TYPE_MELEE_ATTACKER))or(IsUnitType(IB,UNIT_TYPE_RANGED_ATTACKER))))thenset J3V=trueset J4=(UnitUseItem(m5,bj_lastCreatedItem))endifif(not J4)and(OXE(IB,BU[X8])or OXE(IB,BU[O8]))thenset J4=(GetUnitLifePercent(m5)<50. or X3E(m5))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(ODE(IB,BU[VNV]))thenset GZ[$E0+O5]=trueset J4=(GetUnitLifePercent(m5)<70.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))set GZ[$E0+O5]=falseendifif(not J4)and(OXE(IB,BU[A6]))thenset J4=(m5!=null)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(OXE(IB,BU[EBV])and(R8E(IB,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(IB)>90.)and(IsUnitInRange(IB,m5,150.)))thenset J4=(m5!=null)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(OXE(IB,BU[ENV])and(R8E(IB,"ArmletOfMordigan|Active"))and((not IsUnitInRange(IB,m5,150.))or(GetUnitLifePercent(IB)<60.)))thenset J4=(UnitUseItem(IB,bj_lastCreatedItem))endifif((h4[O5]!=null)and(TRI(IB)))thenset J4=TII(IB)endifif(i1==1429221424)thenset J4=OTE(IB,$D022E,1093815119)endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenif(OXE(IB,BU[C8]))thenset J4=(GetUnitLifePercent(m5)<20.)and(GetUnitLifePercent(IB)>60.)and(Bz>hq[64+O5])and(iy(IB))and(jP(IB,BU[C8]))elseif(OXE(IB,BU[VNV]))thenset GZ[$E0+O5]=trueset J4=(GetUnitLifePercent(m5)<40.)and(i1!=1164277357)and(UnitUseItem(IB,bj_lastCreatedItem))set GZ[$E0+O5]=falseendifif(i1==1211117653 and(not J4))thenset h4[O5]=m5set J4=((Bz>J5V[64+O5])and(CLE(IB,UVV,UVV,T8V,1093686863)and(IssueImmediateOrderById(IB,$D00A4))))or((Bz>J5V[$80+O5])and(CLE(IB,T9V,T9V,UVV,1093686865))and OME(IB,$D020A,1093686865,IB))endifelseif((GetUnitTypeId(m5)==1848651861)or(GetUnitTypeId(m5)==1848651865)or(GetUnitTypeId(m5)==1848651866))thenif(OXE(IB,BU[X8]))thenset J4=(GetUnitLifePercent(m5)>80.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifendifset USI=(m5==h4[O5])if(J4)thenelseif((IsUnitType(m5,UNIT_TYPE_HERO))and((OHE(IB,m5))or((GetUnitLifePercent(m5)<55.)and(GetRandomInt(1,3)==1)and(not KXV[O5])and(TOI(IB,m5)))))thenif((J8V)and(KXV[O5]))thencall TOI(IB,m5)endifelseif(i1==1160785970)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(IsUnitInRange(IB,m5,400.)and(IssuePointOrderById(IB,$D02B6,GetUnitX(m5)+2,GetUnitY(m5)-2)))thenset J4=trueelseif((Bz>J5V[O5])and(IsUnitInRange(IB,m5,480.))and(GetUnitLifePercent(m5)<40.))thenset J4=(((GetUnitAbilityLevel(IB,1093747023)>0)and(OTE(IB,$D0105,1093747023)))or((GetUnitAbilityLevel(IB,1093752150)>0)and(OTE(IB,$D0105,1093752150))))endifendifelseif(i1==1211117653)thenif((GetUnitLifePercent(IB)<35.)and(GetUnitAbilityLevel(IB,1110456408)==0))thenset J4=(Bz>J5V[80+O5])and CLE(IB,T8V,T8V,T9V,1093687372)and(CFE(IB,T9V,T9V,T9V,false))and(IssueImmediateOrderById(IB,$D00A1))if(not J4)thenset J4=(m5!=null)and(Bz>J5V[$A0+O5])and(CLE(IB,T8V,T8V,UVV,1093686864))and(IssueImmediateOrderById(IB,$D00A6))endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((Bz>J5V[$80+O5])and(CLE(IB,T9V,T9V,UVV,1093686865))and OME(IB,$D020A,1093686865,IB))or((Bz>J5V[64+O5])and(CLE(IB,UVV,UVV,T8V,1093686863)and(IssueImmediateOrderById(IB,$D00A4))))endifendifelseif(i1==1160786505)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(IsUnitInRange(IB,m5,250.)and(Bz>J5V[O5])and(GetUnitLifePercent(m5)<47.))thenset h4[O5]=m5set J4=IssueImmediateOrderById(IB,$D022E)elseif((Bz>J5V[48+O5])and(IsUnitInRange(IB,m5,570.)))thenset J4=IssueImmediateOrderById(IB,$D0272)elseif((Bz>J5V[16+O5])and(IsUnitInRange(IB,m5,570.))and(not IsUnitInRange(IB,m5,200.)))thenset J4=(IssuePointOrderById(IB,$D02B6,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(IB,$D00D9,m5))endifendifelseif(i1==1160786502)thenset J4=(GetUnitLifePercent(IB)>70.)and IssueImmediateOrderById(IB,$D020A)elseif(i1==1160786506)thenif(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<30.)thenset GZ[O5]=trueset UP=GetUnitAbilityLevel(IB,1093751639)set J4=(IsUnitInRange(IB,m5,840.))and(J8(O5,IssuePointOrderById(IB,$D0079,GetUnitX(m5)+2,GetUnitY(m5)-2)))if((not(J4))and(Bz>J5V[32+O5]))thenset m5=BOE(2200.-(UP*400),IB)if((m5!=null)and(GetUnitLifePercent(m5)<15.))thenset J4=(OME(IB,$D0097,1093751639,m5))endifendifendifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093682994)))and(OME(IB,$D0097,1093682994,m5)))or((GetHeroLevel(IB)>5)and(GetUnitAbilityLevel(m5,1114665575)==0)and((USI)or((GetUnitLifePercent(m5)<60.)and(IsUnitInRange(IB,m5,500.))))and(OTE(IB,$D0265,1093747028)))endifelseif(i1==1429221443)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(hq[$F0+O5]<=Bz)and((USI)or(GetUnitLifePercent(m5)<50.))and(OTE(IB,$D0131,1093686322))if((not J4)and((GetUnitLifePercent(m5)<40.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,true)set GZ[O5]=trueset J4=(IssueTargetOrderById(IB,$D0097,m5))set GZ[O5]=falsecall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093744948,false)endifelseif(i1==1162032951)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((Bz>hq[O5])and(UP>$C8)and(UP<(400*GetUnitAbilityLevel(IB,1093679152))or UP<(460*GetUnitAbilityLevel(IB,1093752154)))and(OQE(IB,$D022F,1093679152,1093752154,m5)))thenelseif((GetHeroLevel(IB)>20)and(GetUnitAbilityLevel(IB,1112893542)==0)and(GetUnitLifePercent(IB)>85.)and(GetUnitLifePercent(m5)<45.))thenset GZ[O5]=truecall J8(O5,OTE(IB,$D0084,1093678404))endifendifelseif(i1==1162032181)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((IsUnitInRange(IB,m5,250.))and(UP<S0I(IB))and(UP>300))thenset GZ[O5]=trueset J4=J8(O5,OME(IB,$D02AC,1093683761,m5))endifendifelseif(i1==1429221424)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,1093748789)))and(OME(IB,$D0118,1093748789,m5)))or(OME(IB,$D024B,1093687351,m5))endifif(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(OHE(IB,m5))endifelseif(i1==1160785972)thenif(GetUnitAbilityLevel(IB,1110454355)>0)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(USI)and(GetUnitLifePercent(IB)>50.)and(IssueTargetOrderById(IB,$D000F,m5))elseif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetUnitLifePercent(m5)<65.)and(USI))thenset GZ[O5]=trueset J4=J8(O5,OTE(IB,$D0084,1093677872))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<30.))thenset GZ[O5]=trueset J4=J8(O5,OTE(IB,$D0084,1093677872))endifelseif(i1==1432646245)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=((not HXE())and((OME(IB,$D007F,1093677640,m5))or((USI)and(GetUnitLifePercent(IB)<60.)and(OME(IB,$D0269,1093679171,m5)))))or((HXE())and(GetUnitLifePercent(m5)<50.)and((IssueImmediateOrderById(IB,$D028D))or(OME(IB,$D007F,1093677640,m5))))endifelseif(i1==1430466609)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetHeroLevel(IB)>4)or(X1E(m5)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685559,true)set J4=((IsUnitInRange(IB,m5,375.))and(OTE(IB,$D022E,1093678145)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(70*GetUnitAbilityLevel(IB,1093685559)))and(IssueTargetOrderById(IB,$D022F,m5)))endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>$C)and(GetUnitManaPercent(IB)>60.)and(G0[$80+O5]))thenset UP=OVE(400.,m5,Condition(function Ki))set J4=(UP>5)and(Bz>hq[O5])and(OQE(IB,$D009D,1093810258,1093810259,m5))if((not J4)and(Bz>hq[16+O5])and((UP>2)or((eY[O5]==$A)and(UP>1)))and(OVE(1000.,m5,Condition(function KI))<=1))thenif(not IsUnitInRange(IB,m5,400.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))set hq[$F0+O5]=Bz+3.call IssuePointOrderById(IB,$D0012,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))elseset J4=OTE(IB,$D022E,1093678145)endifendifendifelseif(i1==1430468913)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitAbilityLevel(m5,1110454356)==0)and(GetUnitLevel(IB)>5)and(OME(IB,$D00B5,1093677876,m5)))or(((GetUnitLifePercent(m5)<80.)or(USI))and(GetHeroLevel(IB)>3)and(IsUnitInRange(IB,m5,300.))and(OTE(IB,$D009F,1093810507)))endifelseif(i1==1430467634)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=((UP>$C8)and(UP<=($FA+(300*S1I(IB))))and(OQE(IB,$D0267,1093684565,1093681458,m5)))or(OME(IB,$D0107,1093679412,m5))if((not J4)and(GetHeroLevel(IB)>7)and(GetUnitManaPercent(IB)>70.)and(USI))thenset GZ[O5]=trueset J4=J8(O5,IssueTargetOrderById(IB,$D0208,m5))endifendifelseif(i1==1313026096)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5)))and((GetUnitLifePercent(m5)<80.)or(USI))and(OME(IB,$D007F,1095267426,m5))elseif((i1==1164277353)or(i1==1164277357))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()set J4=((GetHeroLevel(IB)>5)and((GetUnitLifePercent(m5)-GetUnitLifePercent(IB))>25.)and(OME(IB,$D00DD,1093678929,m5)))if((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<50.))thenset GZ[O5]=trueset J4=J8(O5,OTE(IB,$D02B7,1093751369))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1164277353)and(GetUnitLifePercent(m5)<20.))thenset GZ[O5]=trueset J4=J8(O5,OTE(IB,$D02B7,1093751369))endifelseif(i1==1164666213)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(IB,1110454836)>0))thenset J4=(G0[$80+O5])and(GetUnitLifePercent(IB)>60.)and(OVE(300.,IB,Condition(function KI))==0)and(IssueTargetOrderById(IB,$D0012,m5))endifelseif(i1==1429221430)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(55*GetUnitAbilityLevel(IB,1093681736)))and(OME(IB,$D0279,1093681736,m5)))or(((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<65.))and(OTE(IB,$D00C4,1093687121)))if((not J4)and(GetUnitAbilityLevel(IB,1110454597)>0)and(USI))thencall IssueTargetOrderById(IB,$D000F,m5)endifendifelseif(i1==1430466872)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((UP>$96)and(UP<S3I(IB))and(not ke(m5)))thenset GZ[O5]=truecall J8(O5,(OQE(IB,$D0097,1093679413,1093679447,m5))or(OME(IB,$D0216,1093684558,m5))or(OME(IB,$D024B,1093687349,m5)))elseif(((GetUnitLifePercent(m5)<80.)or(USI))and(GetUnitAbilityLevel(m5,1112560453)==0)and(GetUnitAbilityLevel(m5,1110454344)==0))thenset J4=(OME(IB,$D024B,1093687349,m5))or((Bz>hq[O5])and(OME(IB,$D0216,1093684558,m5)))endifendifelseif(i1==1162032439)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[16+O5]))thenset UP=GetUnitAbilityLevel(IB,1093677363)if(UP==0)thenset UP=GetUnitAbilityLevel(IB,1093681462)endifif((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UP)))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((Bz>hq[O5])or(GetUnitAbilityLevel(m5,1111847784)>0)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093681462,true)call J8(O5,(OTE(IB,$D0272,1093677363))or(OME(IB,$D02BD,1093744435,m5)))elsecall OME(IB,$D02BD,1093744435,m5)endifendifelseif(i1==1430466865)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset J4=((GetUnitAbilityLevel(IB,1110454357)==0)and(GetUnitLifePercent(IB)>45.)and(OME(IB,$D0062,1093677879,IB)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(m5)>10.)and(IsUnitInRange(IB,m5,400.))and(R2I(GetUnitState(IB,UNIT_STATE_MANA))<($8C+(GetUnitAbilityLevel(IB,1093810508)*100)))and(OTE(IB,$D009F,1093810508)))or(OME(IB,$D009D,1093677651,m5))elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))thenset UP=OVE(450.,m5,Condition(function Ki))set GZ[O5]=trueset J4=((UP>2)or((eY[O5]==$A)and(UP>1)))and(OME(IB,$D009D,1093677651,m5))set GZ[O5]=falseendifelseif(i1==1430468144)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenif(GetUnitAbilityLevel(m5,1113813609)==0)thencall OME(IB,$D00DD,1093679192,m5)elseif(IsUnitInRange(IB,m5,860.)and(R1E(GetHandleId(IB),"Level")>GetUnitAbilityLevel(IB,1093750337))and(GetUnitManaPercent(IB)>35.)and(GetHeroLevel(IB)>3))thencall IssueTargetOrderById(IB,$D0118,m5)elseif(GetUnitLifePercent(IB)>75.)thencall IssueTargetOrderById(IB,$D000F,m5)endifendifelseif((i1==1429221432)or(i1==1160786229))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thencall UPI()set J4=((i1==1429221432)and((GetUnitLifePercent(m5)<60.)or(X1E(IB)))and(OTE(IB,$D00D4,1093679411)))or(((i1==1160786229)or(R2I(GetUnitState(IB,UNIT_STATE_MANA))>($FA+(25*(GetUnitAbilityLevel(IB,1093679411))))))and((OTE(IB,$D009E,1093677892))or(OTE(IB,$D0278,1093687878))))endifelseif(i1==1429221441)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thencall UPI()set J4=((GetUnitLifePercent(m5)<65.)and((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==$D0005))and(OTE(IB,$D009B,1093677903)))or(OME(IB,$D0107,1093678389,m5))endifelseif(i1==1165451634)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5)))and((USI)or(GetUnitLifePercent(m5)<70.))and(OME(IB,$D02B6,1093687629,m5))elseif(i1==1432642913)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>3)and((GetUnitLifePercent(IB)>70.)or(GetUnitLifePercent(IB)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(IB,$D02B6,m5))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>2))thencall IssueTargetOrderById(IB,$D0097,IB)endifelseif(i1==1215722344)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitLifePercent(IB)>70.)and(EIE(GetUnitTypeId(m5),5))and(GetUnitLifePercent(m5)<50.)and(OME(IB,$D02BC,1093682499,m5)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(IB)>60.)and(OME(IB,$D02BC,1093682499,IB)))endifelseif(i1==1332766568)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if(((UP<($96+($96*GetUnitAbilityLevel(IB,1093682482))))or(UP<($96+($96*GetUnitAbilityLevel(IB,1093750098)))))and(UP>$96))thenset J4=(OQE(IB,$D0097,1093682482,1093750098,m5))or((IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,$D0278)))elseif(R2I(GetUnitState(IB,UNIT_STATE_MANA))>($C3+(40*GetUnitAbilityLevel(IB,1093682482)))or R2I(GetUnitState(IB,UNIT_STATE_MANA))>($C3+(40*GetUnitAbilityLevel(IB,1093750098))))thenset J4=((OVE(400.,m5,Condition(function KJ))>0)and(IssueTargetOrderById(IB,$D0118,m5)))or(((EIE(GetUnitTypeId(m5),5))or(GetUnitLifePercent(m5)<50.))and(IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,$D0278)))elseif(OXE(IB,BU[V2V]))and(OXE(IB,BU[V8]))thenset J3V=trueset J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(IsUnitType(IB,UNIT_TYPE_HERO))and((IsUnitInRange(IB,m5,200.))or(i1==1315074670)or(i1==1160785972)or(i1==1211117654)or(i1==1433631084)or(i1==1164799855))and(UnitUseItem(m5,OAE(m5,BU[V8])))and(UnitUseItem(m5,OAE(m5,BU[V2V])))set J3V=falseendifendifelseif(i1==1315334514)thenif(GetHeroLevel(IB)>2)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(IsUnitInRange(IB,m5,350.))and(GetUnitLifePercent(m5)>15.)and((GetUnitAbilityLevel(IB,1093682001))>(GetUnitAbilityLevel(IB,1093681746)*3))and(OTE(IB,$D0131,1093810506))elseif((GetHeroLevel(IB)>9)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitManaPercent(IB)>65.)and(GetUnitLifePercent(m5)<50.))thenset J4=OVE(200.,m5,Condition(function Ki))<2elseset J4=trueendifif(not J4)thenset UP=R2I(E4E(GetUnitX(IB),GetUnitY(IB),GetUnitX(m5),GetUnitY(m5)))if((UP>=75)and(UP<=325))thenset J4=(TVI(IB,200.,Condition(function Ki)))and(OTE(IB,$D00C4,1093682521))elseif((UP>=325)and(UP<=575))thenset J4=(TVI(IB,450.,Condition(function Ki)))and(OTE(IB,$D026C,1093682760))elseif((UP>=575)and(UP<=825))thenset J4=(TVI(IB,700.,Condition(function Ki)))and(OTE(IB,$D0277,1093682736))endifendifendifelseif(i1==1328558154)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(not ke(m5))and(not IsUnitInRange(IB,m5,250.))and(((OVE(900.,m5,Condition(function Ki))<=2)and(OXE(IB,BU[N8]))or(OXE(IB,BU[V2V])))or((OVE(900.,m5,Condition(function Ki))<2)))and(IssueTargetOrderById(IB,$D0278,m5))elseif(i1==1429221446)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitAbilityLevel(IB,1110454868)==0)and(GetUnitLifePercent(IB)>55.)and((GetHeroLevel(IB)>6)or(X1E(m5)))and(GetUnitState(IB,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and(OTE(IB,$D00D1,1093678667)))or(((GetUnitLifePercent(m5)<60.)or(USI))and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(G0[$80+O5])and(OQE(IB,$D0200,1093682764,1093747544,m5)))endifelseif(i1==1429221445)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset UP=GetUnitAbilityLevel(IB,1093679184)+1if(UP<=1)thenset UP=GetUnitAbilityLevel(IB,1093678647)endifset J4=((UP>0)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<((.2+(I2R(UP)*.2))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(OQE(IB,$D007F,1093678647,1093679184,m5)))or((GetHeroLevel(IB)>2)and(IsUnitInRange(IB,m5,400.))and(OTE(IB,$D022E,1093678422)))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>60.)and(G0[$80+O5]))thenset UP=OVE(400.,m5,Condition(function Ki))if((UP>2)or((eY[O5]==$A)and(UP>1)))thenif(not IsUnitInRange(IB,m5,400.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))set hq[$F0+O5]=Bz+3.call IssuePointOrderById(IB,$D0012,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))elseset J4=OTE(IB,$D022E,1093678422)endifendifendifelseif(i1==1332963428)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenset J4=((X1E(m5))and(GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])and(OME(IB,$D0200,1093677649,m5)))or((GetUnitLifePercent(IB)<90.)and(OME(IB,$D0097,1093683019,m5)))endifelseif(i1==1332109682)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)<50.)and(OTE(IB,$D026C,1093810505)))or((GetUnitManaPercent(IB)>30.)and(OME(IB,$D02B6,1093678134,m5)))endifelseif(i1==1211117640)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>4)and(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(IB,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(OME(IB,$D0206,1093681989,m5)))or((GetHeroLevel(IB)>2)and(USI)and(IssueTargetOrderById(IB,$D0079,m5)))elseif((GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>50.))thenset J4=(OVE(400.,m5,Condition(function Ki))>2)and(OVE(300.,m5,Condition(function Kj))>0)and(IssueTargetOrderById(IB,$D0079,m5))endifelseif(i1==1429221456)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset UP=GetHeroInt(IB,true)-GetHeroInt(m5,true)set J4=((GetHeroLevel(IB)>5)and(UP>9)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<($A*UP))and(OQE(IB,$D0079,1093685067,1093752407,m5)))or((i2(m5))and(OME(IB,$D0097,1093685066,m5)))if((not J4)and(GetUnitManaPercent(IB)>70.)and(GetUnitLifePercent(m5)>60.)and(GetUnitManaPercent(m5)>40.))thenset GZ[O5]=trueset J4=J8(O5,(OVE(700.,m5,Condition(function Kk))==0)and(OME(IB,$D0097,1093685066,m5)))endifendifelseif(i1==1160786243)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>2)and((GetUnitManaPercent(IB)>50.)and(GetUnitLifePercent(m5)<65.))and(IssueTargetOrderById(IB,$D0118,m5))if((not J4)and(GetUnitAbilityLevel(IB,1093683765)>2))thenset J4=(OVE(500.,m5,Condition(function Ki))>3)and((GetUnitManaPercent(IB)>60.)or(GetUnitLifePercent(m5)<65.)or(OVE(500.,m5,Condition(function KJ))>0))and(IssueTargetOrderById(IB,$D007F,m5))endifif((not J4)and(GetUnitLifePercent(m5)<75.)and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))thenset GZ[O5]=trueset J4=J8(O5,OME(IB,$D0100,1395667000,m5))endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenif((GetHeroLevel(IB)>$A)and(GetUnitLifePercent(m5)<40.))thenset GZ[O5]=trueset J4=J8(O5,OME(IB,$D0100,1395667000,m5))endifelseif((not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitAbilityLevel(IB,1093683765)>2)and(GetUnitManaPercent(IB)>60.))thenset J4=(OVE(400.,m5,Condition(function Ki))>3)and(IssueTargetOrderById(IB,$D007F,m5))endifelseif(i1==1430468406)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(m5)>5)and((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(OME(IB,$D0270,kS(IB),m5))if((not J4)and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)>10.)and(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(IB,$D024C)))or(OME(IB,$D00FA,kT(IB),m5))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<25.)and(GetUnitLifePercent(m5)>10.))thenset J4=(OVE(500.,m5,Condition(function Kj))>2)and(IssueImmediateOrderById(IB,$D024C))endifelseif(i1==1160786242)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)and(IssueTargetOrderById(IB,$D02B6,m5)))or((GetUnitLifePercent(m5)<45.)and(IssueImmediateOrderById(IB,$D020A)))endifelseif((i1==1211117641)or(i1==1211117642))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((X1E(m5))and(GetUnitAbilityLevel(m5,1110456120)==0))thencall TDI(IB,m5)endifelseif((i1==1211117641)and(GetHeroLevel(IB)>$B)and(GetUnitManaPercent(IB)>70.))thenset J4=(OVE(400.,IB,Condition(function Ki))>3)and(IssueTargetOrderById(IB,$D0249,IB))endifelseif(i1==1311781207)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(USI)and((GetHeroLevel(IB)>4)or(X1E(m5)))and(IssuePointOrderById(IB,$D0079,GetUnitX(m5),GetUnitY(m5)))elseif((i1==1211117650)or(i1==1211119433))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()endifelseif(i1==1211117646)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=IssueTargetOrderById(IB,$D007F,IB)elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.))thenset J4=(OVE(250.,IB,Condition(function Ki))>2)and(IssueTargetOrderById(IB,$D007F,IB))endifelseif(i1==1211117624)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(X1E(m5)))and((OTE(IB,$D022E,1093683024))or(IssueTargetOrderById(IB,$D0278,m5)))if((not J4)and(GetUnitAbilityLevel(IB,1110455373)>0)and((GetUnitLifePercent(IB)>75.)or(X1E(m5))))thencall IssueTargetOrderById(IB,$D000F,m5)endifelseif((GetHeroLevel(IB)>6)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(m5)<75.)and(GetUnitManaPercent(IB)>75.))thenset J4=(OVE(400.,m5,Condition(function Ki))>2)and(OTE(IB,$D022E,1093683024))endifelseif(i1==1160785973)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset UP=OVE(700.,IB,Condition(function Ki))set J4=((IsUnitInRange(m5,IB,400.))and(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(IB,$D0278)))or((GetHeroLevel(IB)>20)and(GetUnitState(IB,UNIT_STATE_MANA)>450.)and(OME(IB,$D0107,1093678130,m5)))endifelseif(i1==1315988077)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(((GetUnitLifePercent(m5)<75.)or(USI))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenif(((not IsUnitInRange(IB,m5,200.))or(not OTE(IB,$D0080,1093678669)))and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(m5)>15.))thenset h4[O5]=m5call OTE(IB,$D026A,1093684561)endifendifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<20.))thenset GZ[O5]=truecall OTE(IB,$D026A,1093684561)endifelseif(i1==1211117616)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(USI))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=((IsUnitInRange(IB,m5,250.))and(OTE(IB,$D009F,1093677139)))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(40+(125*(GetUnitAbilityLevel(IB,1093677132)))))and(OME(IB,$D0107,1093677132,m5)))endifelseif(i1==1315074670)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(GetUnitLifePercent(m5)>20.)and(IsUnitInRange(IB,m5,400.))and(OME(IB,$D0270,1093685570,m5))if((not J4)and(G0[$80+O5])and(GetUnitAbilityLevel(m5,1113813860)>0)and(USI)and((GetUnitLifePercent(IB)>70.)or(X1E(m5))))thencall IssueTargetOrderById(IB,$D000F,m5)endifendifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(USI))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)and(OTE(IB,$D00D4,1093677895)))or((IsUnitInRange(IB,m5,350.))and(OME(IB,$D007F,1093681490,m5)))endifelseif(i1==1164207469)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(not ke(m5)))thenset J4=(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(IB,1093682483))*.25)))))and(OME(IB,$D007F,1093682483,m5))endifelseif(i1==1433631084)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<($B4+($96*GetUnitAbilityLevel(IB,1093678160))))and(OME(IB,$D007F,1093678160,m5))elseif(i1==1214345830)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>2)and(GetUnitLifePercent(IB)<85.)and(OME(IB,$D0101,1093679182,IB))elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(IB)<90.)and(GetUnitManaPercent(IB)>60.))thenset J4=(OVE(400.,IB,Condition(function Ki))>2)and(OVE(800.,IB,Condition(function Kk))==0)and(OME(IB,$D0101,1093679182,IB))endifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))thenif(GetUnitAbilityLevel(IB,1110454338)==0)thenif((GetUnitLifePercent(m5)<70.)or((USI)and(GetUnitLifePercent(IB)<70.)))thenif((IsUnitInRange(IB,m5,280.)))thenset J4=IssueImmediateOrderById(IB,$D00AA)call IssueTargetOrderById(IB,$D000F,m5)endifset GZ[O5]=truecall J8(O5,OTE(IB,$D0084,1093748042))endifelseif((GetUnitLifePercent(IB)>70.)and(USI))thenif((IsUnitInRange(IB,m5,280.)))thenset J4=IssueImmediateOrderById(IB,$D00AA)call IssueTargetOrderById(IB,$D000F,m5)elseset J4=IssueImmediateOrderById(IB,$D00AB)call IssueTargetOrderById(IB,$D000F,m5)endifendifendifelseif(i1==1315007329)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenset J4=((GetUnitState(m5,UNIT_STATE_LIFE)<(hq[272+O5]))and(OME(IB,$D007F,1093677108,m5)))or((GetUnitLifePercent(m5)<75.)and(GetUnitAbilityLevel(m5,1110454348)==0)and(GetUnitCurrentOrder(m5)!=$D0005)and(OME(IB,$D00B5,1093681716,m5)))endifelseif(i1==1332898670)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenif(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(50*GetUnitAbilityLevel(IB,1093677136)))thenif(IsUnitInRange(IB,m5,400)or G5X(m5))thenset GZ[O5]=truecall J8(O5,OME(IB,$D0200,1093677136,m5))endifelseif((GetHeroLevel(IB)>$A)and(GetUnitLifePercent(m5)<70.))thencall OME(IB,$D0216,1093685848,m5)elseif((GetUnitManaPercent(IB)>60.)or(X1E(m5)))thencall OME(IB,$D026B,1093677360,m5)endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.))thenset UP=OVE(450.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==$A)and(UP>1)))and(OME(IB,$D026B,1093677360,m5))endifelseif(i1==1215723364)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thenif(((GetUnitLifePercent(m5)<70.)or(USI))and(OME(IB,$D007F,1093677633,m5)))thenelseif((X1E(m5))and(kA(IB,m5,400.)))thencall OQE(IB,$D026B,1093683534,1093747031,m5)endifendifelseif(i1==1215128178)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or(USI))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenset J4=(OME(IB,$D007F,1093683779,m5))or(((GetUnitManaPercent(IB)>40.)or(X1E(m5)))and(OME(IB,$D0097,1093677616,m5)))endifelseif(i1==1164799855)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetUnitManaPercent(IB)>50.)and((GetHeroLevel(IB)>3)or(X1E(m5)))and(GetUnitLifePercent(m5)<80.)and(OME(IB,$D006B,1093682264,m5))elseif((GetOwningPlayer(m5)!=RX[0])and(GetOwningPlayer(m5)!=GX[0])and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>60.)and(Bz>hq[O5]))thenset UP=GetUnitTypeId(m5)set J4=(UP!=1848652113)and(UP!=1848652114)and(UP!=1752654196)and(UP!=1752658994)and(UP!=1752658995)and(UP!=1747988534)and(UP!=1966092339)and(UP!=1966092341)and(UP!=1966092345)and(UP!=1969711215)and(UP!=1966092337)and(UP!=1970169187)and(UP!=1966092338)and(UP!=1702061422)and(UP!=1697656918)and(UP!=1701081721)and(UP!=1697656919)and(GetUnitLifePercent(m5)>60.)and(OME(IB,$D006B,1093682264,m5))endifelseif(i1==1433105516)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()if((GetHeroLevel(IB)>5)or(X1E(m5)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(IB),GetUnitX(h8[O5])-GetUnitX(IB)))set J4=(IssuePointOrderById(IB,$D0278,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD)))or((X1E(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<800.)and(not kr(IB))and(IssuePointOrderById(IB,$D00DC,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD))))or(IssueTargetOrderById(IB,$D02B6,m5))endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(((h4[$80+O5]!=null)and(IsUnitInRange(IB,h4[$80+O5],1200.)))or(eY[O5]==$A)))thenset UP=OVE(450.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==$A)and(UP>1)))and(IssuePointOrderById(IB,$D0278,GetUnitX(m5),GetUnitY(m5)))endifelseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenif((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>4)and(Bz>hq[O5])and(GetUnitManaPercent(IB)>30.))thenset b5=HC[16+O5]call MoveLocation(b5,GetUnitX(IB),GetUnitY(IB))if((OVE(600.,m5,Condition(function Ki))>2)and(not IsUnitInRange(IB,m5,150.))and((X9E(600.,b5,Condition(function KI))==0)or(X9E(500.,b5,Condition(function KJ))>0)or(X9E(500.,b5,Condition(function Kk))>0)))thenset UP=IMaxBJ(R2I(E4E(GetUnitX(m5),GetUnitY(m5),GetUnitX(IB),GetUnitY(IB)))-(435+(120*GetUnitAbilityLevel(IB,1093679157))),0)set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))if((RAbsBJ(GetUnitFacing(IB)-I2R(i1))<25.)or(RAbsBJ(GetUnitFacing(IB)-360.-I2R(i1))<25.))thencall IssuePointOrderById(IB,$D0278,GetUnitX(IB)+I2R($96+UP)*Cos(i1*bj_DEGTORAD),GetUnitY(IB)+I2R($96+UP)*Sin(i1*bj_DEGTORAD))endifendifendifelseif(i1==1316252014)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>4)or(X1E(m5)))and((OME(IB,$D0269,1093678137,m5))or(IssuePointOrderById(IB,$D00DE,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD))))elseif((GetHeroLevel(IB)>$A)and(GetUnitManaPercent(IB)>40.))thenset UP=OVE(400.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==$A)and(UP>1)))and(IssuePointOrderById(IB,$D00DE,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD)))endifelseif(i1==1164799603)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thencall UPI()set J4=((GetUnitLifePercent(m5)<70.)and(OQE(IB,$D0097,1093752632,1093752633,m5)))or((not IsUnitInRange(IB,m5,200.))and(IsUnitInRange(IB,m5,600))and(OME(IB,$D00FA,1093808453,m5)))endifelseif(i1==1328558160)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(GetUnitAbilityLevel(IB,1093683011)>0)thencall UPI()endifset J4=((GetHeroLevel(IB)>5)or(GetUnitLifePercent(m5)<60.))and(IssueTargetOrderById(IB,$D02B6,m5))if((not J4)and(G0[$80+O5])and((GetHeroLevel(IB)>3)or(X1E(m5)))and(USI)and(not IsUnitInRange(IB,m5,350.))and(OVE(600.,m5,Condition(function KI))<3)and(not IC(O5)))thenset b5=kL(IB,m5,200.)if(b5!=null)thenif((GetUnitState(m5,UNIT_STATE_LIFE)<400.)and(GetUnitLifePercent(m5)<40.))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(IB,$D00FA,b5))endifendifendifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>$A)and(GetUnitManaPercent(IB)>70.)and(not IsUnitInRange(IB,m5,350.)))thenif((OVE(400.,m5,Condition(function Ki))>2)and(OVE(500.,m5,Condition(function KI))==0)and(kJ(GetUnitX(m5),GetUnitY(m5))))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093682766,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(IB,$D00FA,GetUnitX(m5),GetUnitY(m5)))endifendifelseif(i1==1212363833)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()set UP=R2I(hq[16+O5]-Bz)set J4=((GetHeroLevel(IB)>4)or(X1E(m5)))and((GetUnitLifePercent(m5)<80.)or(USI))and((((UP<=0)or(UP>50))and(OME(IB,$D007F,1093809220,m5)))or((Bz>hq[O5])and(OTE(IB,$D009B,1093678643))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.))thenset J4=(OVE(700.,m5,Condition(function Ki))>4)and(OVE(700.,m5,Condition(function Kj))>3)and(IssueImmediateOrderById(IB,$D0278))endifelseif(i1==1315070563)thenif((not GZ[O5])and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE)))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((OVE(900.,m5,Condition(function KI))*2)>=OVE(900.,m5,Condition(function Ki)))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and(OQE(IB,$D007F,1093684529,1093747032,m5)))or(((GetHeroLevel(IB)>4)or(X1E(m5)))and(not R8E(IB,"Omnislashing"))and(OTE(IB,$D00A0,1093678407)))elseif((GetHeroLevel(IB)>5)and(Bz>hq[O5])and((GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093684529)))or(GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,1093747032))))and(OVE(400.,m5,Condition(function KI))>0))thenset J4=(not R8E(IB,"Omnislashing"))and(OTE(IB,$D00A0,1093678407))endifendifelseif(i1==1212365106)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=(OME(IB,$D0079,1093685831,m5))if((not J4)and(RAbsBJ((GetUnitFacing(m5)-GetUnitFacing(IB)))<=105.)and(GetUnitLifePercent(IB)>(GetUnitLifePercent(m5)+10.)))thencall IssueTargetOrderById(IB,$D000F,m5)endifendifelseif(i1==1211117617)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thenset J4=((GetUnitLifePercent(m5)<80.)or(USI))and((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==$D0005))and(OTE(IB,$D02B7,1093752648)))or(OME(IB,$D02B6,1093744944,m5))or(OTE(IB,$D022E,1093814611)))if((not J4)and(GetUnitAbilityLevel(IB,1110454329)>0)and((not X1E(IB))or(X1E(m5))))thencall IssueTargetOrderById(IB,$D000F,m5)endifendifelseif(i1==1211117633)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(X1E(m5))))thencall UPI()set J4=(OME(IB,$D0269,1093684045,m5))or(((GetUnitAbilityLevel(IB,1110455624)>0)or(GetUnitLifePercent(m5)<60.))and(OME(IB,$D007F,1093684310,m5)))endifelseif(i1==1211117620)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((X1E(m5))or((GetHeroLevel(IB)>3)and((USI)or(GetUnitLifePercent(m5)<70.))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=((UP>$96)and(UP<S4I(IB))and(not ke(m5))and(OQE(IB,$D0097,1093677392,1093679450,m5)))or(OME(IB,$D009D,1093677382,m5))endifelseif(eY[O5]==$A)thenset J4=(GetUnitManaPercent(IB)>60.)and(OME(IB,$D009D,1093677382,m5))endifelseif(i1==1432580716)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(USI)and((GetHeroLevel(IB)>3)or(X1E(m5)))and(((Bz>hq[O5])and(OME(IB,$D0079,1093684300,m5)))or(IssueTargetOrderById(IB,$D0278,m5)))elseif(GetHeroLevel(IB)>5)thenif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(GetUnitLifePercent(m5)<30.)and((OVE(275.,m5,Condition(function Ki))>0)or(OVE(275.,m5,Condition(function Kj))>0))and(IssueTargetOrderById(IB,$D0278,m5))elseset J4=(GetUnitManaPercent(IB)>60.)and(OVE(400.,m5,Condition(function Ki))>2)and(IssueTargetOrderById(IB,$D0278,m5))endifendifelseif(i1==1333027688)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(USI)and((GetHeroLevel(IB)>3)or(X1E(m5)))and(((IsUnitInRange(IB,m5,250.))and(OTE(IB,$D00C4,1093682252)))or(OME(IB,$D0278,1093686091,m5))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UKI(IB))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.)and((OTE(IB,$D022E,1093682248))or(OTE(IB,$D022E,1093750594)))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>$A))thenset J4=((GetUnitLifePercent(m5)<40.)or(OVE(300.,IB,Condition(function Ki))>2))and(OTE(IB,$D00C4,1093682252))endifelseif(i1==1311781185)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(X1E(m5))))thenset J4=(((GetUnitAbilityLevel(m5,1112437609)>0)or(GetUnitManaPercent(m5)<30.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(IB,$D02B6,m5)))or((USI)and(GetUnitAbilityLevel(m5,1112437609)==0)and((EIE(GetUnitTypeId(m5),5))or(GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,$D0278)))endifelseif(i1==1211117643)thenif((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>$A))thenset UP=OVE(300.,m5,Condition(function Ki))set J4=((UP>1)and(GetHeroLevel(IB)>4)and(OVE(800.,m5,Condition(function KI))==0)and(GetUnitManaPercent(IB)>35.)and(OPE(IB,$D0136,1093678410,jv(m5))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>$A)and(GetUnitLifePercent(IB)>70.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))call MoveLocation(HA,GetUnitX(m5)+70.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+70.*Sin(UP*bj_DEGTORAD))if(IsUnitAlly(IB,RX[0]))thenset WNV=E3E(m5,h7[100])elseset WNV=E3E(m5,h7[0])endifset J4=(GetWidgetLife(m5)<450. or WNV>6000)and(OVE(800.,m5,Condition(function KI))==0)and(OVE(300.,m5,Condition(function Kj))>1)and(OPE(IB,$D0136,1093678410,HA))endifelseif(i1==1215130471)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(X1E(m5)))and((OME(IB,$D007F,A_E(IB),m5))or((GetUnitLifePercent(m5)<60)and(R3E(GetHandleId(IB),"AI|Magi2Blast")and OME(IB,$D0278,1093815121,m5)))or(OME(IB,$D02B6,A0E(IB),m5)))elseif((GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>$A))thenset J4=((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(OVE(300.,m5,Condition(function Ki))>2)and(OME(IB,$D02B6,A0E(IB),m5)))or((OVE(400.,m5,Condition(function Kj))>2)and(GetUnitAbilityLevel(IB,1113746543)==0)and(OME(IB,$D0085,A1E(IB),IB)))endifelseif(i1==1215657064)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(GetUnitAbilityLevel(IB,1110454863)==0)thenset J4=((GetHeroLevel(IB)>5)or(X1E(m5)))and(((IsUnitInRange(IB,m5,300.))and(OTE(IB,$D0080,1093677913)))or(OTE(IB,$D0084,1093684291))or(OTE(IB,$D022E,1093750324)))elseif(GetUnitLifePercent(IB)>50.)thenset J4=IssueTargetOrderById(IB,$D000F,m5)endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(GetUnitAbilityLevel(IB,1110454863)==0)and(GetUnitLifePercent(m5)<70.)and(OTE(IB,$D022E,1093750324))endifelseif(i1==1332179560)thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(X1E(m5))))thencall UPI()set J4=(GetUnitLifePercent(m5)<35.)and(OME(IB,$D02B6,1093742660,m5))endifelseif(i1==1214344551)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitLifePercent(m5)<70.)and(GetUnitAbilityLevel(m5,1110459185)==0)and(IssueImmediateOrderById(IB,$D0278)))or((GetUnitAbilityLevel(m5,1110459185)>0)and(IssueTargetOrderById(IB,$D000F,m5)))endifelseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()set hq[$F0+O5]=Bz+4.set J4=(IssueTargetOrderById(IB,$D0085,IB))or(IssueImmediateOrderById(IB,$D0277))elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(IssueTargetOrderById(IB,$D0085,IB))or(IssueImmediateOrderById(IB,$D0277))endifelseif(i1==1211117636)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall UPI()set J4=(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(OQE(IB,$D007F,1093685042,1093810233,m5))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>45.)and(GetUnitLifePercent(m5)<75.))thenif(OVE(550.,m5,Condition(function Ki))>2)thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),1093685041,true)set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))set GZ[O5]=trueset J4=IssuePointOrderById(IB,$D00FA,GetUnitX(IB)+1000.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+1000.*Sin(UP*bj_DEGTORAD))set GZ[O5]=falseendifendifelseif(i1==1160786000)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(X1E(m5)))and((OME(IB,$D00FA,1093685047,m5))or((GetUnitLifePercent(m5)<60.)and(OME(IB,$D0264,1093685046,m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))thenset J4=(OVE(400.,m5,Condition(function Ki))>2)and(OME(IB,$D00FA,1093685047,m5))endifelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(((GetHeroLevel(IB)>3)or(X1E(m5)))and(OME(IB,$D0079,1093683532,m5)))or(((GetUnitLifePercent(m5)<75.)or(GetUnitLifePercent(IB)<65.))and(i1==1311781193)and(OTE(IB,$D02B7,1095656306)))if((not J4)and(i1!=1311781193)and(GetUnitLifePercent(IB)>75.))thencall IssueTargetOrderById(IB,$D000F,m5)endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL)))thenif((Bz>hq[O5])and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>50.))thenset UP=OVE(500.,m5,Condition(function Ki))set J4=((UP>3)or((eY[O5]==$A)and(UP>1)))and(OME(IB,$D0079,1093683532,m5))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1==1311781193)and(GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>$A))thenset J4=(OVE(400.,m5,Condition(function Kj))>2)and(OTE(IB,$D02B7,1095656306))endifelseif(i1==1311781206)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>2)or(X1E(m5)))and(((IsUnitInRange(IB,m5,550.))and((GetUnitManaPercent(IB)>50.)or(GetUnitLifePercent(m5)<60.))and(IssueImmediateOrderById(IB,$D0278)))or(((GetUnitLifePercent(m5)<75.)or(USI))and(TXI(IB,m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>60.))thenset UP=OVE(500.,IB,Condition(function Ki))set J4=((UP>2)or((eY[O5]==$A)and(UP>1)))and(IssueImmediateOrderById(IB,$D0278))endifelseif(i1==1211117651)thenif(((GetHeroLevel(IB)>$B)and(GetUnitState(IB,UNIT_STATE_MANA)>600.))or(IsUnitType(m5,UNIT_TYPE_HERO))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>30.)and(GetUnitTypeId(m5)!=1700946284)and(GetUnitTypeId(m5)!=1970107511)and(GetUnitTypeId(m5)!=1697657398)and(GetUnitTypeId(m5)!=1966092370)))thenif(GetUnitAbilityLevel(IB,1093685594)>0)thenset hq[$F0+O5]=Bz+5.elseset J4=IssueImmediateOrderById(IB,$D00D1)endifendifelseif(i1==1160786265)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((USI)and((GetUnitLifePercent(m5)<80.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,$D022E)))or((IsUnitInRange(IB,m5,$91+(40*GetUnitAbilityLevel(IB,1093685839))))and(OTE(IB,$D00A1,1093685846)))endifelseif(i1==1311780930)thenif((GetHeroLevel(IB)>$A)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB)))thenif(OVE(550.,m5,Condition(function Ki))>2)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))set J4=IssuePointOrderById(IB,$D02B6,GetUnitX(IB)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+200.*Sin(UP*bj_DEGTORAD))set h4[16+O5]=nullendifendifelseif(i1==1311788615)thenif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.)and(GetUnitLevel(IB)>5)and(Bz>J5V[O5]))thenset J4=OQE(IB,$D0265,1093743184,1093747766,m5)endifelseif(i1==1160786520)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(X1E(m5)))and((OME(IB,$D00D8,1093809991,m5))or((GetUnitLifePercent(m5)<60.)and(OME(IB,$D00F6,1093809990,m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))thenset J4=(OVE(400.,m5,Condition(function Ki))>2)and(OME(IB,$D00D8,1093809991,m5))endifendifset GZ[32+O5]=falseset IB=nullset m5=nullset b5=nullendfunctionfunction UTI takes nothing returns booleanreturn((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))!=nullendfunctionfunction UUI takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))!=nullendfunctionfunction UWI takes nothing returns nothinglocal unit itlocal unit LOIlocal integer i1local integer O5local boolean UYIlocal boolean J4local real klif(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)thenset it=GetTriggerUnit()set LOI=GetAttacker()elseif(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT)thenset it=GetSpellTargetUnit()set LOI=GetTriggerUnit()elseset it=GetEnumUnit()set LOI=GetTriggerUnit()endifset O5=GetPlayerId(GetOwningPlayer(it))if((not Jw(it))or(Bz<hq[304+O5]))thenset it=nullset LOI=nullreturnendifif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueelseset G0[304+O5]=falseendifif not G0[304+O5]thenset hq[496+O5]=Bz+1.5set hq[304+O5]=Bz+1.set hq[416+O5]=Bz+5.if((not IsUnitVisible(LOI,GetOwningPlayer(it)))or(eY[32+GetPlayerId(GetOwningPlayer(LOI))]<=2))thencall TriggerSleepAction(.8)elsecall TriggerSleepAction(.2)endifif(Bz>hq[480+O5])thencall LXI(it,LOI)endifset UYI=(X1E(it))if(not G0[256+O5])and(not X_E(LOI,it))thencall JEI(it,false)set it=nullset LOI=nullreturnelseif((GetHeroLevel(it)>$D)and(GetUnitLifePercent(it)>75.)and(GetUnitState(LOI,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE))and(h4[O5]==null))thenset h4[O5]=LOIendifif((XZE(it))and(not UYI)and((GetHeroLevel(it)<6)or((ATE(it))and(GetHeroLevel(it)<$A)))and(iU(it))and(h4[O5]!=LOI))thenif((GetUnitCurrentOrder(it)!=$D000F)or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not AWE(GetSpellAbilityId())))or(GetUnitLifePercent(it)<70.))thencall JEI(it,false)set it=nullset LOI=nullreturnendifendifset i1=GetUnitTypeId(it)endifif((not is(it))or(not XZE(it)))thenif(XZE(it))thenelseif((i1==1214409837))thenset J4=(GetUnitCurrentOrder(it)==$D0278)and(GetUnitLifePercent(it)<80.)and(jW(it,$D0012,h9[O5]))elseif(i1==1160786243)thenset J4=(GetUnitCurrentOrder(it)==$D0079)and(GetUnitLifePercent(it)<50.)and(jW(it,$D0012,h9[O5]))elseif(i1==1430466872)thenset J4=(GetUnitCurrentOrder(it)==$D0207)and(GetUnitLifePercent(it)<80.)and(jW(it,$D0012,h9[O5]))endifset it=nullset LOI=nullreturnendifif((UYI)and((GetUnitState(LOI,UNIT_STATE_LIFE)+200.)>GetUnitState(it,UNIT_STATE_LIFE))and(IsUnitInRange(it,LOI,500.)))thenif(not J4)and((OXE(it,BU[D8])))and((GetUnitLifePercent(it)<40)or(h4[O5]!=LOI))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[V7V]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[G6]))and(GetUnitLifePercent(LOI)<40)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[F6]))and(R1E(GetHandleId(GetOwningPlayer(LOI)),"AI|Class")<=2)and(GetUnitLifePercent(it)<40)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[EFV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(OXE(it,BU[EHV])and(Bz>J5V[$F0+O5])and(G3X(LOI)==false)and(DVE(LOI)==false))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(ODE(it,BU[VDV]))thenset J4=(OHE(it,LOI))endifif(not J4)and((OXE(it,BU[X8])or OXE(it,BU[O8]))and(GetItemCharges(bj_lastCreatedItem)>0))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,LOI,false,false)==0)thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,LOI))endifif(not J4)and(ODE(it,BU[VNV]))and(GetUnitTypeId(it)!=1164277357)thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifendifif((not J4)and(IsUnitInRange(it,LOI,500.))and((GetUnitAbilityLevel(LOI,1110454329)>0)or(GetUnitAbilityLevel(LOI,1110454597)>0)or(GetUnitAbilityLevel(LOI,1110454338)>0)or(GetUnitAbilityLevel(LOI,1110454608)>0)))thenset J4=TGI(it,LOI,false)if(not J4)thenif(not J4)and((OXE(it,BU[D8])))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[V7V]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[G6]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[EFV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(ODE(it,BU[VDV]))thenset J4=(OHE(it,LOI))endifif(not J4)and((OXE(it,BU[X8])or OXE(it,BU[O8]))and(GetItemCharges(bj_lastCreatedItem)>0))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifendifendifif(not J4)and(R1E(GetHandleId(GetOwningPlayer(LOI)),"AI|Class")<=2)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(h4[O5]!=null or(GetUnitLifePercent(it)<30))thenif(not J4)and(OXE(it,BU[EUV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(OXE(it,BU[X3V]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(not J4)and(OXE(it,BU[V8]))thenset J3V=trueset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(OXE(it,BU[F6]))and((h4[O5]==LOI)or(GetUnitLifePercent(it)<70))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,LOI)endifif(i1==1429221424)and(Bz>J5V[48+O5]+4.)thenset J4=OTE(it,$D022E,1093815119)endifendifif(J4)thenelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenset J4=((UYI)or(GetUnitAbilityLevel(LOI,1110454329)>0)or(GetUnitAbilityLevel(LOI,1110454597)>0)or(GetUnitAbilityLevel(LOI,1110454338)>0)or(GetUnitAbilityLevel(LOI,1112433522)>0)or(GetUnitAbilityLevel(LOI,1110454608)>0))and(IsUnitInRange(it,LOI,550.))and(OTE(it,$D0265,1093747028))elseif(i1==1162032951)thenset J4=(UYI)and(((GetUnitAbilityLevel(it,1093679152)>0)and(IsUnitInRange(it,LOI,450.)))or((GetUnitAbilityLevel(it,1093752154)>0)and(IsUnitInRange(it,LOI,780.))))and(OQE(it,$D022F,1093679152,1093752154,LOI))elseif(i1==1160785972)thenset J4=(UYI)and(IssueImmediateOrderById(it,$D00A1))elseif((i1==1162032181)or(i1==1164207469)or(i1==1429221451)or(i1==1430466609))thenset J4=(UYI)and(H_I(it))elseif(i1==1429221424)thenset J4=(UYI)and(IsUnitInRange(it,LOI,400.))and(OME(it,$D024B,1093687351,LOI))if((not J4)and(UYI)and(GetHeroLevel(it)>$F)and(GetUnitLifePercent(it)<20.))thenset GZ[O5]=trueset J4=J8(O5,OTE(it,$D00A1,1093679445))endifelseif(i1==1430468913)thenif(UYI)thenset J4=(IsUnitInRange(LOI,it,300.))and(OTE(it,$D009F,1093810507))elseset J4=((IsUnitInRange(it,LOI,500.))and(OME(it,$D00B5,1093677876,LOI)))or((IsUnitInRange(LOI,it,300.))and(OTE(it,$D009F,1093810507)))endifelseif(i1==1430467634)thenset J4=(UYI)and(IsUnitInRange(it,LOI,500.))and(OQE(it,$D0267,1093684565,1093681458,LOI))elseif(i1==1313026096)thenset J4=(UYI)and(IsUnitInRange(it,LOI,450.))and(OME(it,$D007F,1095267426,LOI))elseif((i1==1164277353)or(i1==1164277357))thenif(GetUnitLifePercent(LOI)>(GetUnitLifePercent(it)+35.))thenset J4=(IsUnitInRange(it,LOI,350.))and(OME(it,$D00DD,1093678929,LOI))endifelseif(i1==1164666213)thenset J4=((IsUnitInRange(LOI,it,300.))and(IssueImmediateOrderById(it,$D00D1)))or((IsUnitInRange(LOI,it,500.))and(OTE(it,$D0272,1093808212)))elseif(i1==1433168227)thenset J4=((UYI)and(IsUnitInRange(it,LOI,500.))and(OME(it,$D0102,1093678918,LOI)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(OME(it,$D0101,1093679186,LOI)))elseif(i1==1430466872)thenset J4=(UYI)and(((IsUnitInRange(it,LOI,450.))and(OME(it,$D0216,1093684558,LOI)))or((IsUnitInRange(it,LOI,350.))and(OME(it,$D024B,1093687349,LOI))))elseif(i1==1162032439)thenset J4=(IsUnitInRange(it,LOI,350.))and(OME(it,$D02BD,1093744435,LOI))elseif(i1==1430468144)thenset J4=(UYI)and((IsUnitInRange(it,LOI,500.))and(OME(it,$D00DD,1093679192,LOI)))or((IsUnitInRange(it,LOI,860.))and(R1E(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,$D0118,LOI)))elseif((i1==1429221432)or(i1==1160786229))thenset J4=(UYI)and(IsUnitInRange(it,LOI,1000.))and(OTE(it,$D00D4,1093679411))elseif(i1==1429221441)thenset J4=(UYI)and(IsUnitInRange(it,LOI,450.))and(OME(it,$D0107,1093678389,LOI))elseif(i1==1165451634)thenset J4=(UYI)and(((IsUnitInRange(it,LOI,350.))and(OME(it,$D02B6,1093687629,LOI)))or(H_I(it)))elseif(i1==1432642913)thenset J4=((GetHeroLevel(it)>5)or(GetUnitLifePercent(it)<60.))and(IssueTargetOrderById(it,$D0097,it))elseif(i1==1215722344)thenset J4=(UYI)and(IsUnitInRange(it,LOI,500.))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(EIE(GetUnitTypeId(LOI),5))and(OME(it,$D02BC,1093682499,LOI))elseif(i1==1432510828)thenset J4=((S6I(it)>30.)and(OTE(it,$D0278,1093682004)))or((GetUnitState(it,UNIT_STATE_MANA)>350.)and(IsUnitType(LOI,UNIT_TYPE_HERO))and(IssuePointOrderById(it,$D02B6,GetUnitX(LOI),GetUnitY(LOI))))or((UYI)and(IssueImmediateOrderById(it,$D00A1)))if((not J4)and(not UYI)and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED))thenset h4[288+O5]=LOIset J4=IssueImmediateOrderById(it,$D00A1)endifelseif(i1==1429221446)thenset J4=(not UYI)and(TEI(it,LOI))elseif(i1==1332963428)thenset J4=(IsUnitInRange(it,LOI,450.))and(((UYI)and(OME(it,$D0103,1093678169,LOI)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(kq(GetUnitTypeId(LOI)))and(OME(it,$D0062,1093678166,LOI)))or((GetUnitLifePercent(it)<90.)and(OME(it,$D0097,1093683019,LOI))))elseif(i1==1332109682)thenset J4=(UYI)and(IsUnitInRange(it,LOI,600.))and(OTE(it,$D026C,1093810505))elseif(i1==1160786241)thenset J4=(UYI)and(IsUnitInRange(it,LOI,550.))and(OME(it,$D0097,1093684813,LOI))elseif(i1==1429221456)thenset J4=(UYI)and(IsUnitInRange(it,LOI,500.))and(OME(it,$D0097,1093685066,LOI))elseif(i1==1430468406)thenset J4=(UYI)and(IsUnitInRange(it,LOI,600.))and(IssueImmediateOrderById(it,$D024C))elseif(i1==1160786242)thenif(UYI)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093683287,true)set J4=(IsUnitInRange(it,LOI,500.))and(IssueTargetOrderById(it,$D02B6,LOI))endifelseif((i1==1211117641)or(i1==1211117642))thenset J4=(UYI)and(IsUnitInRange(it,LOI,600.))and(TDI(it,LOI))elseif(i1==1311781207)thenset J4=(((GetHeroLevel(it)>2)or(UYI))and(GetUnitLifePercent(it)<85.)and(IssueTargetOrderById(it,$D0105,it)))or((GetHeroLevel(it)>$A)and(UYI)and(GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,$D0238,it)))or((UYI)and(IsUnitInRange(it,LOI,500.))and(OME(it,$D007F,1093684817,LOI)))elseif(i1==1311780946)thenset J4=(UYI)and(IsUnitInRange(it,LOI,550.))and(OME(it,$D0208,1093685825,LOI))elseif(i1==1211117624)thenset J4=(UYI)and(IsUnitInRange(it,LOI,550.))and(IssueTargetOrderById(it,$D0278,LOI))elseif(i1==1315988077)thenset J4=((UYI)and((OTE(it,$D026A,1093684561))or((IsUnitInRange(it,LOI,200.))and(OTE(it,$D0080,1093678669)))))or((not UYI)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(IsUnitInRange(it,LOI,500.))and(OME(it,$D0269,1097032808,LOI)))elseif(i1==1211117616)thenset J4=(UYI)and(IsUnitInRange(LOI,it,220.))and(OTE(it,$D009F,1093677139))elseif(i1==1315074670)thenset J4=(EIE(GetUnitTypeId(it),5))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(OTE(it,$D009F,1093677139))elseif(i1==1214345830)thenset J4=((GetUnitLifePercent(it)<70.)and((OME(it,$D0101,1093679182,it))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(OME(it,$D00DA,1093679190,it)))))or((UYI)and(IssueImmediateOrderById(it,$D0277)))elseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenset J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and((((IsUnitInRange(it,LOI,250.))and(IssueImmediateOrderById(it,$D00AA))and(IssueTargetOrderById(it,$D000F,LOI)))or((IsUnitInRange(it,LOI,550.))and(IssueImmediateOrderById(it,$D00AB))and(IssueTargetOrderById(it,$D000F,LOI)))))elseif(i1==1315007329)thenset J4=(UYI)and((IssueImmediateOrderById(it,$D00A1))or((IsUnitInRange(it,LOI,650.))and(IsUnitVisible(it,GetOwningPlayer(LOI)))and(OME(it,$D00B5,1093681716,LOI))))elseif(i1==1332898670)thenset J4=(UYI)and(IsUnitInRange(LOI,it,450.))and(OME(it,$D0216,1093685848,LOI))elseif(i1==1215723364)thenset J4=(UYI)and((H_I(it))or((IsUnitInRange(LOI,it,450.))and(OME(it,$D007F,1093677633,LOI))))elseif(i1==1164799855)thenset J4=((GetUnitLifePercent(it)<70.)and(OTE(it,$D024C,1093677378)))or((IsUnitInRange(LOI,it,600.))and(OME(it,$D006B,1093682264,LOI)))elseif(i1==1433105516)thenset J4=(UYI)and(IsUnitInRange(it,LOI,500.))and(IssueTargetOrderById(it,$D02B6,LOI))elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenset J4=(not UYI)and(GetUnitManaPercent(LOI)>30.)and(IsUnitInRange(it,LOI,600.))and(OME(it,$D02B6,1093742680,LOI))elseif(i1==1164799603)thenset J4=(UYI)and(not IsUnitInRange(it,LOI,200.))and(IsUnitInRange(it,LOI,550.))and(OME(it,$D00FA,1093808453,LOI))elseif(i1==1328558160)thenset J4=(UYI)and((H_I(it))or((GetHeroAgi(it,true)<GetHeroStr(it,true))and(IssueTargetOrderById(it,$D02B6,LOI))))elseif(i1==1430466865)thenset J4=((UYI)and(H_I(it)))or(IsUnitInRange(it,LOI,350.)and(OTE(it,$D009F,1093810508)))elseif(i1==1212363833)thenset J4=(UYI)and((IssueImmediateOrderById(it,$D0278))or((IsUnitInRange(it,LOI,550.))and(OME(it,$D007F,1093809220,LOI)))or(OTE(it,$D009B,1093678643)))elseif(i1==1315070563)thenset J4=(UYI)and((((OXE(it,BU[AZ]))or(OXE(it,BU[EOV])))and(not ke(LOI))and(OQE(it,$D007F,1093684529,1093747032,LOI)))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not GZ[O5])and(not R8E(it,"Omnislashing"))and(OTE(it,$D00A0,1093678407))))elseif(i1==1212365106)thenset J4=(UYI)and(((IsUnitInRange(it,LOI,300.))and(OME(it,$D0079,1093685831,LOI)))or(H_I(it)))elseif(i1==1214931305)thenset J4=(UYI)and(IsUnitInRange(it,LOI,450.))and(OME(it,$D00CB,1093678147,LOI))elseif(i1==1311787088)thenelseif(i1==1211117617)thenset J4=(UYI)and(IsUnitInRange(it,LOI,450.))and((OME(it,$D02B6,1093744944,LOI))or(OTE(it,$D022E,1093814611)))elseif(i1==1211117633)thenset J4=(UYI)and((IssueImmediateOrderById(it,$D0278))or((IsUnitInRange(it,LOI,550.))and(OME(it,$D0269,1093684045,LOI))))elseif(i1==1432580716)thenset J4=(UYI)and(IsUnitInRange(it,LOI,550.))and(OME(it,$D0079,1093684300,LOI))elseif(i1==1333027688)thenset J4=(UYI)and(IsUnitInRange(it,LOI,1000.))and(OME(it,$D0278,1093686091,LOI))elseif(i1==1311781185)thenset J4=(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and((not UYI)or(IsUnitInRange(it,LOI,550.)))and(IssueTargetOrderById(it,$D02B6,LOI))elseif(i1==1211117643)thenif((GetUnitLifePercent(it)<20.)or(GetUnitState(it,UNIT_STATE_LIFE)<150.))thenset GZ[O5]=trueset J4=J8(O5,(IsUnitInRange(it,LOI,400.))and(OME(it,$D0048,1093678658,LOI)))endifelseif(i1==1215130471)thenset J4=(UYI)and(IsUnitInRange(it,LOI,550.))and((OME(it,$D007F,A_E(it),LOI))or((GetUnitLifePercent(LOI)<60)and(R3E(GetHandleId(it),"AI|Magi2Blast")and OME(it,$D0278,1093815121,LOI))))elseif(i1==1214344551)thenif(GetUnitAbilityLevel(it,1110454833)>0)thenset GZ[272+O5]=trueendifif(not UYI)thenset J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(OME(it,$D007F,1093809742,it))elseset J4=(K6(it))and(IssueTargetOrderById(it,$D0065,it))endifelseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thenset h4[16+O5]=RME(GetHandleId(GetOwningPlayer(it)),"MyBear")if((h4[16+O5]!=null)and(GetUnitAbilityLevel(it,1093681461)>1)and(not IsUnitInRange(it,h4[16+O5],800.))and(not GZ[288+O5])and(GetUnitLifePercent(h4[16+O5])>30.))thenendifelseif(i1==1160786000)thenset J4=(UYI)and(IsUnitInRange(it,LOI,1000.))and(OME(it,$D0264,1093685046,LOI))elseif(i1==1311781206)thenset J4=((UYI)and(IssueImmediateOrderById(it,$D020D)))or((IsUnitInRange(it,LOI,400.))and(IssueImmediateOrderById(it,$D0278)))or(((GetUnitLifePercent(LOI)<70.)or(UYI))and(not IsUnitInRange(it,LOI,400.))and(TXI(it,LOI)))elseif(i1==1160786520)thenset J4=(UYI)and(IsUnitInRange(it,LOI,1000.))and(OME(it,$D00F6,1093809990,LOI))if(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall UWI()endifset G0[304+O5]=falseendifif not G0[304+O5]thenif((not J4)and(iU(it)))thenif((UYI)and(GetUnitLifePercent(LOI)>70.))thencall AEE(it,false)elseif((GetHeroLevel(it)>5)and(G0[$80+O5])and((GetUnitLifePercent(it)>80.)or(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(LOI,UNIT_STATE_LIFE)))and(IsUnitInRange(it,LOI,800.))and(GetUnitCurrentOrder(it)!=$D0012))thencall IssueTargetOrderById(it,$D000F,LOI)elseif((GetHeroLevel(it)<6)and(GetUnitLifePercent(LOI)>60.)and(((not IsUnitInRange(it,LOI,300.))and(ATE(it)))or((IsUnitInRange(it,LOI,300.))and(not ATE(it)))))thenset kl=Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))call IssuePointOrderById(it,$D0012,GetUnitX(it)+300.*Cos(kl),GetUnitY(it)+300.*Sin(kl))endifendifif((hq[656+O5]>Bz)and(GetUnitLifePercent(it)<65.))thencall AEE(it,false)endifif((J4)or(not is(it)))thenset hq[304+O5]=.0endifendifset it=nullset LOI=nullendfunctionfunction JLI takes nothing returns nothinglocal unit it=GetEnumUnit()local integer i1=GetUnitTypeId(GetEnumUnit())local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local real kl=Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it))local real CPEset h4[O5]=nullif(OXE(it,BU[EZ]))thenif(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+500.*Cos(kl),GetUnitY(it)+500.*Sin(kl))endifcall UnitUseItemPointLoc(it,OAE(it,BU[EZ]),HB)elseif(i1==1162032181)thenset CPE=I2R(350+($C8*GetUnitAbilityLevel(it,1093684299)))if(kJ(GetUnitX(it)+CPE*Cos(kl),GetUnitY(it)+CPE*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+CPE*Cos(kl),GetUnitY(it)+CPE*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+(CPE-100.)*Cos(kl),GetUnitY(it)+(CPE-100.)*Sin(kl))endifcall IssuePointOrderByIdLoc(it,$D00FA,HB)elseif((i1==1430466609)or(i1==1164207469))thenif(kJ(GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))endifcall IssuePointOrderByIdLoc(it,$D022D,HB)elseif(i1==1429221451)thenset CPE=I2R(280+(100*GetUnitAbilityLevel(it,1093678671)))if(kJ(GetUnitX(it)+CPE*Cos(kl),GetUnitY(it)+CPE*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+CPE*Cos(kl),GetUnitY(it)+CPE*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+(CPE-100.)*Cos(kl),GetUnitY(it)+(CPE-100.)*Sin(kl))endifcall IssuePointOrderByIdLoc(it,$D00FA,HB)elseif(i1==1328558160)thenif(kJ(GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+450.*Cos(kl),GetUnitY(it)+450.*Sin(kl))endifcall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093682766,true)call IssuePointOrderByIdLoc(it,$D00FA,HB)elseif(i1==1311781206)thenset GZ[O5]=truecall J8(O5,OTE(it,$D00A1,1093684302))elseif(i1==1211119409)thenset GZ[O5]=truecall J8(O5,OTE(it,$D0278,1093749303))elseif(i1==1211117651)thenif(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))elseset kl=GetRandomReal(.0,6.28)call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))endifcall IssuePointOrderByIdLoc(it,$D00FA,HB)elsecall H_I(it)endifcall EYE(1.)if E3E(it,h9[O5])<400 thencall jW(it,$D000F,h8[O5])elsecall jW(it,$D0012,h9[O5])endifset it=nullendfunctionfunction UZI takes nothing returns booleanlocal unit it=GetEnumUnit()local integer i1=GetUnitTypeId(GetEnumUnit())local player pl=GetOwningPlayer(GetEnumUnit())local location b5=HC[16+GetPlayerId(pl)]local unit m5=nulllocal boolean J4=falselocal integer U_Ilocal integer UPlocal integer O5=GetPlayerId(pl)if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueelseset G0[304+O5]=falseendifif(not XWE(it))and(XYE(it))thenreturn trueendifif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenset m5=X8E(700.,b5,Condition(function Kn))set J4=(m5!=null)and(OTE(it,$D0265,1093747028))elseif(i1==1160785972)thenset J4=IssueImmediateOrderById(it,$D00A1)if((not J4)and(GetHeroLevel(it)>6)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitState(it,UNIT_STATE_MANA)>350.))thenset m5=X8E(500.,b5,Condition(function KD))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(OME(it,$D0062,1093678161,m5))endifelseif((i1==1162032181)or(i1==1164207469)or(i1==1212365106)or(i1==1429221451)or(i1==1311781206))thenset J4=H_I(it)elseif(i1==1429221424)thenif(not kD(it))thenset m5=X8E(400.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D024B,1093687351,m5))endifif((GetHeroLevel(it)>10.)and(GetUnitLifePercent(it)<30.)and(X9E(700.,b5,Condition(function Kn))>0))thenset GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),OTE(it,$D00A1,1093679445))endifelseif(i1==1432646245)thenif(not HXE())thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D007F,1093677640,m5))endifelseif(i1==1430466609)thenset J4=H_I(it)if(not J4)thenset m5=X8E(450.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D022F,1093685559,m5))endifelseif(i1==1160786502)thenset J4=H_I(it)elseif(i1==1429221443)thenset UP=GetUnitAbilityLevel(it,1093686103)if(UP==1)thenset m5=X8E(250.,jv(it),Condition(function NLE))elseset m5=X8E(250.,jv(it),Condition(function NME))endifset J4=(m5!=null)and(jW(it,$D0012,m5))and(OME(it,$D0278,1093686103,m5))if(not J4)thenset J4=(hq[$F0+GetPlayerId(pl)]<=Bz)and(OTE(it,$D0131,1093686322))endifelseif(i1==1430468913)thenset J4=(X9E(300.,b5,Condition(function k6))>0)and(OTE(it,$D009F,1093810507))if((not J4)and(X1E(it)))thenset GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),OTE(it,$D0084,1093678403))endifelseif(i1==1430467634)thenset b5=kk(it,400.,h9[GetPlayerId(pl)])if(b5!=null)thencall SetPlayerAbilityAvailable(pl,1093750608,true)set GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),IssuePointOrderByIdLoc(it,$D0208,b5))endifset b5=HC[16+GetPlayerId(pl)]elseif(i1==1313026096)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D007F,1095267426,m5))elseif((i1==1164277353)or(i1==1164277357))thenset bj_lastLoadedUnit=itset I9V=nullset AVV=nullset WNV=GetUnitLifePercent(it)+10.set WBV=GetUnitLifePercent(it)+10.call X8E(700.,b5,Condition(function NCE))if I9V!=null thenset m5=I9Velseset m5=AVVendifset J4=(m5!=null)and(OME(it,$D00DD,1093678929,m5))elseif(i1==1430466872)thenset m5=X8E(400.,b5,Condition(function Kn))set J4=(m5!=null)and((OME(it,$D024B,1093687349,m5))or(OME(it,$D0216,1093684558,m5))or(OHE(it,m5)))elseif(i1==1162032439)thenset m5=X8E(450.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D02BD,1093744435,m5))elseif(i1==1430468144)thenset m5=X8E(600.,b5,Condition(function Kn))if((m5!=null)and(OXE(it,BU[EHV]))and(G3X(m5)==false)and(DVE(m5)==false))thenset J4=UnitUseItemTarget(it,OAE(it,BU[EHV]),m5)endifif(not J4)thenset J4=(m5!=null)and(OME(it,$D00DD,1093679192,m5))or((IsUnitInRange(it,m5,860.))and(R1E(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,1093750337))and(IssueTargetOrderById(it,$D0118,m5)))endifelseif(i1==1429221441)thenif(not J4)thenset m5=X8E(550.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0107,1093678389,m5))endifelseif(i1==1165451634)thenset J4=H_I(it)if(not J4)thenset m5=X8E(450.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D02B6,1093687629,m5))endifelseif(i1==1432510828)thenif(GetUnitLifePercent(it)<25.)thenset J4=IssueImmediateOrderById(it,$D00A1)call jW(it,$D0012,OUE(it))endifif(not J4)thenset m5=X8E(1200.,b5,Condition(function k6))set J4=((S6I(it)>30.)and(X9E(900.,b5,Condition(function Kn))>0)and(OTE(it,$D0278,1093682004)))or((m5!=null)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5))))or(IssueImmediateOrderById(it,$D00A1))endifelseif(i1==1429221446)thenset J4=(GetUnitAbilityLevel(it,1110454868)>0)and(IssueImmediateOrderById(it,$D00D2))elseif(i1==1429221445)thenset J4=OTE(it,$D022E,1093678422)elseif(i1==1332963428)thenset m5=X8E(600.,b5,Condition(function k8))set J4=(m5!=null)and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(OME(it,$D0103,1093678169,m5))if(not J4)thenif(m5==null)thenset m5=X8E(500.,b5,Condition(function k8))endifset J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(OME(it,$D0097,1093683019,m5))endifelseif(i1==1332109682)thenset m5=X8E(700.,b5,Condition(function Kn))set J4=((m5!=null)and(OME(it,$D02B6,1093678134,m5)))or((GetHeroLevel(it)>5)and(Bz>hq[16+GetPlayerId(pl)])and(Kz(600.,b5)>1)and(OTE(it,$D026C,1093810505)))elseif(i1==1211117640)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0206,1093681989,m5))if(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(OHE(it,m5))endifelseif(i1==1160786241)thencall SetPlayerAbilityAvailable(pl,1093684805,true)set m5=X8E(700.,b5,Condition(function Kn))set J4=((m5!=null)and(OME(it,$D0097,1093684813,m5)))or((GetUnitAbilityLevel(it,1110455882)==0)and(IssueImmediateOrderById(it,$D00D1)))elseif(i1==1429221456)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0097,1093685066,m5))elseif(i1==1160786243)thenset J4=IssueTargetOrderById(it,$D0118,it)elseif(i1==1160786505)thenset J4=IssueImmediateOrderById(it,$D0272)elseif(i1==1160786242)thencall SetPlayerAbilityAvailable(pl,1093683287,true)set m5=X8E(900.,b5,Condition(function Kn))set J4=(m5!=null)and(IssueTargetOrderById(it,$D02B6,m5))elseif((i1==1211117641)or(i1==1211117642))thenset m5=X8E(550.,b5,Condition(function Kn))set J4=(m5!=null)and(TDI(it,m5))elseif(i1==1311781207)thenset J4=(IssueTargetOrderById(it,$D0105,it))or((GetUnitAbilityLevel(it,1093685078)==0)and(IssueTargetOrderById(it,$D0238,it)))elseif(i1==1311780946)thenset J4=(is(it))and(E3E(it,OUE(it))>5000.)and(X9E(1200.,b5,Condition(function KX))==0)and(SYI(3))if(not J4)thenset m5=X8E(500.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0208,1093685825,m5))endifelseif((i1==1211117650)or(i1==1211119433))thenset I9V=itset J4=(X9E(1000.,b5,Condition(function ny))>3)and(IssueTargetOrderById(it,$D02DB,it))elseif(i1==1211117646)thenset J4=OME(it,$D0085,1093685815,it)elseif(i1==1211117624)thenset m5=X8E(600.,b5,Condition(function k6))set J4=(m5!=null)and(IssueTargetOrderById(it,$D0278,m5))elseif(i1==1160785973)thenif((GetHeroLevel(it)>5)and(Bz>hq[GetPlayerId(pl)]))thenset m5=X8E(400.,b5,Condition(function k6))set J4=(m5!=null)and(X4E(m5))and(GetUnitAbilityLevel(m5,1110454580)==0)and(X9E(700.,b5,Condition(function KA))<(X9E(700.,b5,Condition(function k6))+2))and(IssueImmediateOrderById(it,$D0278))endifelseif(i1==1315988077)thenset m5=X8E(600.,b5,Condition(function k6))if(m5!=null)thenset J4=((IsUnitInRange(it,m5,200.))and(OTE(it,$D0080,1093678669)))or((GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<35.)and(OTE(it,$D026A,1093684561)))endifelseif(i1==1211117616)thenset J4=(X9E(280.,b5,Condition(function k6))>0)and(OTE(it,$D009F,1093677139))elseif(i1==1211117617)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D02B6,1093744944,m5))elseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thenif(i1==1215063922)thenset UP=$FAelseset UP=400endifset m5=X8E(I2R(UP),b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D007F,1093681490,m5))elseif(i1==1214345830)thenset J4=OME(it,$D0101,1093679182,it)elseif((i1==1315007329)or(i1==1332179560))thenset J4=IssueImmediateOrderById(it,$D00A1)if((not J4)and(i1==1315007329)and(GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110455858)==0))thenset m5=X8E(750.,b5,Condition(function k6))set J4=(m5!=null)and(OME(it,$D00B5,1093681716,m5))endifelseif(i1==1211117653)thenif((GetUnitAbilityLevel(it,1110456408)==0))thenset J4=((Bz>J5V[80+GetPlayerId(pl)])and CLE(it,T8V,T8V,T9V,1093687372)and(CFE(it,T9V,T9V,T9V,false))and(IssueImmediateOrderById(it,$D00A1)))if(not J4 and(Bz>J5V[80+GetPlayerId(pl)])and(GetUnitLevel(it)>5))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),HS[4],true)set J4=(IssueImmediateOrderById(it,$D00A1))call SetPlayerAbilityAvailable(GetOwningPlayer(it),HS[4],false)endifif(not J4)thenset m5=X8E(500.,b5,Condition(function k6))set J4=(m5!=null)and(CLE(it,T8V,T8V,UVV,1093686864))and(IssueImmediateOrderById(it,$D00A6))endifelseif((GetUnitAbilityLevel(it,1110456408)>0))thenset U_I=B9E(1215128178,it)if((U_I>0)and(XZE(QV[U_I]))and((Bz>hq[U_I])or((hq[U_I]-Bz)>.0)and((hq[U_I]-Bz)<60.))and((GetUnitAbilityLevel(QV[U_I],1093810503)>0)or(GetUnitAbilityLevel(QV[U_I],1093810504)>0)))thenset UP=GetUnitAbilityLevel(QV[U_I],1093810503)if(UP==0)thenset UP=GetUnitAbilityLevel(QV[U_I],1093810504)set U_I=350+(UP*100)elseset U_I=$AA+(UP*100)endifif((GetUnitState(it,UNIT_STATE_LIFE)>U_I)and(GetUnitAbilityLevel(it,1093808472)<6))thenset J4=(E3E(it,OUE(it))<5900.)and(X9E(1400.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,T9V))endifelseif(B9E(1164799603,it)>0 or B9E(1160786242,it)>0)thenelseset J4=(GetUnitAbilityLevel(it,1093808472)<6)and(X9E(1700.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,T9V))endifendifelseif(i1==1332898670)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0216,1093685848,m5))elseif(i1==1215723364)thenset J4=H_I(it)if(not J4)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D007F,1093677633,m5))endifelseif(i1==1164799855)thenset J4=OTE(it,$D024C,1093677378)if(not J4)thenset m5=X8E(700.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D006B,1093682264,m5))endifelseif(i1==1433105516)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(IssueTargetOrderById(it,$D02B6,m5))elseif(i1==1164666213)thenset m5=X8E(600.,b5,Condition(function Kn))if(GetHeroLevel(it)>=6)thenset J4=(X9E(400.,b5,Condition(function Kn))>0)if not R8E(it,"AI|PulseNova")thenif(J4)thencall SetPlayerAbilityAvailable(Player(O5),1093808455,true)call OTE(it,$D0084,1093808454)call TriggerSleepAction(.1)endifelseif(not J4)thencall OTE(it,$D0084,1093808456)call TriggerSleepAction(.1)endifendifendifif(m5!=null)thencall MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,1093678679)))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))set J4=OPE(it,$D0100,1093678679,HA)endifelseif(i1==1164799603)thenset J4=(is(it))and(E3E(it,OUE(it))>5000.)and(X9E(1200.,b5,Condition(function KX))==0)and(SYI(3))if(not J4)thenset m5=X8E(650.,b5,Condition(function Kn))set J4=(m5!=null)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(OME(it,$D00FA,1093808453,m5))endifelseif(i1==1328558160)thenif((GetUnitAbilityLevel(it,1093684056)>0))thenif(IsTriggerEnabled(RTE(GetHandleId(pl),"MorphAgi")))thencall IssueImmediateOrderById(it,$D0246)elseif(not IsTriggerEnabled(RTE(GetHandleId(pl),"MorphStr")))thencall IssueImmediateOrderById(it,$D0242)endifset G0[32+GetPlayerId(pl)]=trueendifset J4=H_I(it)elseif(i1==1212363833)thenset m5=X8E(750.,jv(it),Condition(function k6))set UP=IDE(H9)if(m5!=null and(UP>1 or GetUnitLifePercent(it)<30.))thenset J4=(GetHeroLevel(it)>5)and(IssueImmediateOrderById(it,$D0278))endifif(not J4)and(m5!=null and UP==1)thenset J4=OME(it,$D007F,1093809220,m5)endifelseif(i1==1214931305)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D00CB,1093678147,m5))elseif(i1==1429221430)thenset m5=X8E(600.,b5,Condition(function Kn))if(not J4)and(m5!=null)and(X9E(1500.,b5,Condition(function KR))==0)and(E3E(it,ACV)>$5DC)and(E3E(it,NOV)>$5DC)thenset J4=OPE(it,$D0100,1093681735,b5)endifelseif(i1==1328558389)thenset m5=X8E(1600.,b5,Condition(function Kn))if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(IsUnitInRange(it,m5,1600.))and(GetUnitLifePercent(m5)<33.))thenset J4=(IssuePointOrderByIdLoc(it,$D0278,GetUnitLoc(m5)))endifif((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))thencall jW(it,$D0012,OUE(it))call EYE(2.)call jW(it,$D0012,OUE(it))endifelseif(i1==1160786506)thenset m5=X8E(800.,b5,Condition(function Kn))set U_I=GetPlayerId(GetOwningPlayer(it))set KCV[U_I]=trueif(m5!=null)thenset J4=(EWE(U_I))and(J8(U_I,IssuePointOrderByIdLoc(it,$D0079,GVE(it,m5,1.2,900))))endifif(not(J4))thenset UP=GetUnitAbilityLevel(it,1093751639)set m5=X8E(2200.-(UP*400),b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0097,1093751639,m5))endifset KCV[U_I]=falseif((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))thencall jW(it,$D0012,OUE(it))call EYE(2.)call jW(it,$D0012,OUE(it))endifelseif(i1==1311787088)thenset m5=X8E(700.,b5,Condition(function Kn))set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE))>(GetUnitState(it,UNIT_STATE_MAX_LIFE)/2.8))and(OME(it,$D0278,1093750087,m5))elseif(i1==1211117633)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=((m5!=null)and(OME(it,$D0269,1093684045,m5)))or((X8E(900.,b5,Condition(function Kn))!=null)and(GetUnitLifePercent(it)<35.)and(IssueImmediateOrderById(it,$D0278)))elseif(i1==1432580716)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0079,1093684300,m5))elseif(i1==1333027688)thenset m5=X8E(1000.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0278,1093686091,m5))elseif(i1==1211117643)thenset m5=BRE(700.,it)if(m5!=null)and(GetWidgetLife(it)<50.)thenset J4=OME(it,$D0048,1093678658,it)elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,700.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))thenset J4=OME(it,$D0048,1093678658,it)endifif(not J4)and(GetUnitLifePercent(it)<35.)thenset m5=X8E(350.,b5,Condition(function k6))if((m5!=null)and((GetUnitLifePercent(it)<20.)or(X9E(350.,b5,Condition(function k6))>1)))thenset J4=OME(it,$D0048,1093678658,m5)endifif((not J4)and(GetUnitLifePercent(it)<20.)and(GetUnitState(it,UNIT_STATE_LIFE)<150.)and(X9E(600.,b5,Condition(function k6))>0))thenset J4=OME(it,$D0048,1093678658,it)endifendifelseif(i1==1211119409)thenset U_I=GetPlayerId(GetOwningPlayer(it))set KCV[U_I]=trueset J4=IssueImmediateOrderById(it,$D00A1)or(OTE(it,$D0278,1093749303))set KCV[U_I]=falseelseif(i1==1215657064)thenset J4=(X9E(320.,b5,Condition(function k6))>0)and(OTE(it,$D0080,1093677913))elseif(i1==1215130471)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and((OME(it,$D0085,A1E(it),m5))or(OME(it,$D02B6,A0E(it),m5))or(OME(it,$D007F,A_E(it),m5))or(R3E(GetHandleId(it),"AI|Magi2Blast")and OME(it,$D0278,1093815121,m5)))elseif(i1==1214344551)thenif((GetUnitAbilityLevel(it,1110454833)==0)and(X9E(900.,b5,Condition(function BEE))>0)and(XSE(it)))thenif(not K6(it))thencall MoveLocation(HC[$F0+GetPlayerId(pl)],.0,.0)call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set hr=itcall EnumDestructablesInRect(He,G0V,function SMI)if(GetLocationX(HC[$F0+GetPlayerId(pl)])!=.0)thenset J4=IssuePointOrderByIdLoc(it,$D0012,HC[$F0+GetPlayerId(pl)])call MoveLocation(HC[$F0+GetPlayerId(pl)],.0,.0)elseset J4=jW(it,$D0012,h9[GetPlayerId(pl)])endifelseset J4=IssueTargetOrderById(it,$D0065,it)endifendifelseif(i1==1160786000)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0264,1093685046,m5))elseif(i1==1311781193)thenset J4=OTE(it,$D02B7,1095656306)elseif(i1==1211117651)thenset m5=X8E(900.,b5,Condition(function k6))set J4=(((m5==null)or(not IsUnitInRange(it,m5,250.)))and(H_I(it)))or((m5!=null)and(OME(it,$D00DA,1093685814,it)))elseif(i1==1211117649)thenset J4=IssueTargetOrderById(it,$D007F,it)elseif(i1==1160786265)thenset J4=IssueImmediateOrderById(it,$D022E)elseif(i1==1311780930)thencall SetPlayerAbilityAvailable(pl,1093686082,true)if(FCV[GetPlayerId(pl)]==null)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(OUE(it))-GetUnitY(it),GetUnitX(OUE(it))-GetUnitX(it)))set h4[16+GetPlayerId(pl)]=itset J4=IssuePointOrderById(it,$D02B6,GetUnitX(it)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(it)+150.*Sin(i1*bj_DEGTORAD))if J4 thencall EYE(.3)call OTE(it,$D0222,1093686082)endifendifelseif(i1==1211119187)thenset m5=X8E(950.,b5,Condition(function Kn))if(not J4)and(Bz>J5V[32+O5])and(m5!=null)and(E3E(it,m5)<350+GetUnitAbilityLevel(it,1093742926)*$96)thenset J4=IssueTargetOrderById(it,$D0265,m5)endifif(not J4)and(Bz>J5V[16+O5])and(m5!=null)thenif GVE(it,m5,2.,1500.)!=null thenset J4=OPE(it,$D0079,1093743414,YIV)endifendifelseif((i1==1211117650)or(i1==1211119433))thenif(not J4)and(Bz>J5V[32+O5])thenset I9V=itset UP=X9E(1000.,jv(it),Condition(function ny))set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,$D02BD,it))endifelseif(i1==1311786311)thenif(not J4)and(Bz>J5V[48+O5])thenset J4=OTE(it,$D022E,1093743689)endifif(not J4)and(Bz>J5V[32+O5])thenset m5=X8E(950.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0097,1093743178,m5))endifelseif(i1==1211117643)thenif(Bz>J5V[16+O5])thenset m5=X8E(400.,b5,Condition(function Kn))if(m5!=null)and(GetUnitLifePercent(m5)<60.)and(eY[320+O5]>=0)thenset m5=X8E(700.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D0136,1093678410,it))endifendifelseif(i1==1211117652)thenset m5=X8E(400.,b5,Condition(function Kn))if(m5!=null)and(Bz>J5V[32+O5])and(E3E(it,m5)>200.)thenset J4=(m5!=null)and(IssueImmediateOrderById(it,$D0265))endifelseif(i1==1160786510)thenset m5=X8E(700.,b5,Condition(function Kn))if(not J4)and(Bz>J5V[O5])thenif((m5!=null))thenif(GetUnitLifePercent(m5)<50.)and(GetUnitLevel(it)>=6)and(not IsUnitIllusion(m5))thenif GVE(it,m5,2,1000.)!=null thenset J4=OSE(it,$D0079,1093751861,1093808949,GetLocationX(YIV),GetLocationY(YIV))endifendifendifendifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and(IsUnitInRange(it,m5,400))thenset J4=OTE(it,$D0278,1093751631)endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])thenset J4=OME(it,$D0097,1093751633,m5)endifelseif(i1==1160786504)thenif(m5==null)thenset m5=X6E(600.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])thenset J4=OME(it,$D0097,1093751608,m5)endifif(not J4)and(m5!=null)and(Bz>J5V[O5])and(GetUnitLifePercent(it)<25.)thenset J4=OME(it,$D008F,1093751617,m5)endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])thenset J4=OME(it,$D0079,1093751618,m5)endifelseif(i1==1328558390)thenif(m5==null)thenset m5=X6E(600.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[48+O5])thencall OTE(it,$D00D4,1093744986)call EYE(.1)endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60)or(R1E(GetHandleId(m5),"StickyNapalm|Count")>3))and(Bz>J5V[32+O5])thenif(F7E(it,m5,900,.2,$5DC)!=null)thenset J4=(OPE(it,$D00FA,1093744982,GIE(YIV,100,H3E(m5,it))))endifendifelseif(i1==1328558406)thenset J4=H_I(it)elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenif(m5==null)thenset m5=X6E(600.,b5,Condition(function k6))endifif((not J4)and(m5!=null)and(Bz>J5V[32+O5]))thenset J4=OME(it,$D02B6,1093742680,m5)endifif((not J4)and(m5!=null)and(i1!=1214409837))thenset WNV=H3E(m5,it)set J4=IssuePointOrderById(it,$D0079,GetUnitX(m5)+200.*Cos(WNV*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(WNV*bj_DEGTORAD))endifif((not J4)and(Bz>J5V[16+O5])and(i1!=1214409837))thenset WNV=H3E(it,h9[O5])set J4=IssuePointOrderById(it,$D0278,GetUnitX(it)+150.*Cos(WNV*bj_DEGTORAD),GetUnitY(it)+150.*Sin(WNV*bj_DEGTORAD))endifelseif(i1==1430466865)thenif(m5==null)thenset m5=X6E(400.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(it)<20 or GZ[$D0+O5]))thenset J4=(OTE(it,$D00C4,1093810508))endifelseif(i1==1160786520)thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(OME(it,$D00F6,1093809990,m5))if(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall UZI()set G0[304+O5]=falseendifelseif(i1==1311788336)thenset m5=X8E(600.,b5,Condition(function Kn))if(not J4)and(Bz>J5V[16+O5])and(m5!=null)and(OVE(400.,it,Condition(function NIE))<=2)thenset J4=OTE(it,$D022E,1093814323)endifif(not J4)and(m5!=null)thenset J4=H_I(it)endifif(not J4)and(Bz>J5V[48+O5])and(m5!=null)thenset J4=IssueImmediateOrderById(it,$D0278)endifelseif(i1==1160786507)thenset m5=X8E(600.,b5,Condition(function Kn))if(not J4)and(Bz>J5V[32+O5])thenset J4=IssueTargetOrderById(it,$D0118,it)endifelseif(i1==1211122767)thenset m5=X8E(600.,b5,Condition(function Kn))if(not J4)and(m5!=null)and(Bz>J5V[32+O5])thenset J4=OTE(it,$D022E,1093814612)endifif(not J4)and(m5!=null)and(Bz>J5V[48+O5])thenset J4=OME(it,$D02BC,1093814350,m5)endifelseif(i1==1160786738)thenset m5=X8E(600.,b5,Condition(function Kn))if(not J4)thenif GetUnitAbilityLevel(it,1093813848)==0 thenset WNV=GetUnitFacing(it)set J4=((m5!=null)and(IssuePointOrderById(it,$D00F8,GetUnitX(it)+20*Cos(WNV*bj_DEGTORAD),GetUnitY(it)+20*Sin(WNV*bj_DEGTORAD))))elseset bj_lastCreatedUnit=RME(GetHandleId(it),"AI|ShredChakram")if(m5==null)or(not IsUnitInRange(it,bj_lastCreatedUnit,400))thenset J4=IssueImmediateOrderById(it,$D00D1)endifendifendifif(not J4)and(Bz>J5V[32+O5])thenset J4=H_I(it)endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and(IsUnitInRange(it,m5,300))thenset J4=OTE(it,$D022E,1093813835)endifendifif(not G0[304+O5])and(not J4)thenif(not J4)and((OXE(it,BU[EZ]))and(Bz>hq[112+GetPlayerId(pl)]))thenset J4=H_I(it)endifif(not J4)and((OXE(it,BU[VCV]))and(X9E(1200.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((OXE(it,BU[EJV]))and(X9E(1200.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((OXE(it,BU[D8]))and(GetUnitLifePercent(it)<35.))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[X8])or OXE(it,BU[O8]))and(GetItemCharges(bj_lastCreatedItem)>0)and(GetUnitLifePercent(it)<35.))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[V7V]))and(Bz>hq[96+GetPlayerId(pl)]))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[G6])))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[F6])))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[T4])))thenset m5=X8E(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((OXE(it,BU[EFV]))and(Bz>J5V[$B0+GetPlayerId(pl)]))thenset m5=X8E(500.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))endifif(not J4)and((OXE(it,BU[G8]))and(not R3E(GetHandleId(it),"Mekansm"))and(Bz>hq[80+GetPlayerId(pl)])and(X9E(800.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((OXE(it,BU[ESV]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>J5V[$E0+GetPlayerId(pl)])and(GetUnitLifePercent(it)<70.))thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifif(not J4)and(OXE(it,BU[ENV])and(R8E(it,"ArmletOfMordigan|Active"))and(GetUnitLifePercent(it)<50.))thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(OGE(it))and(Bz>J5V[$C0+O5]))thenif(GetUnitState(it,UNIT_STATE_LIFE)<$96)or((GetItemCharges(bj_lastCreatedItem)>=8)and(X9E(1000.,jv(it),Condition(function k6))>0)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(E3E(it,h9[16+O5])>600))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifendifif(not J4)and(OXE(it,BU[EHV])and(Bz>J5V[$F0+GetPlayerId(pl)])and(G3X(m5)==false)and(DVE(m5)==false))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)endifif((not J4)and(is(it))and(GetUnitAbilityLevel(it,1110454874)==0)and(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitAbilityLevel(it,1110455864)==0)and(GetUnitAbilityLevel(it,1110454347)==0)and(E3E(it,OUE(it))>6000.)and(X9E(1400.,b5,Condition(function KX))==0))thenif(IsUnitAlly(it,RX[0]))thenset J4=ANE(it,ACV)elseset J4=ANE(it,NOV)endifendifendifset it=nullset pl=nullset b5=nullset m5=nullreturn J4endfunctionfunction U0I takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i=1if((IsUnitType(it,UNIT_TYPE_HERO))and(not IsUnitIllusion(it)))thenif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(it)>.405)and(IsUnitType(it,UNIT_TYPE_DEAD)==false))thencall ExecuteFunc("U1I")elseif I4V[O5]thenset h4[O5]=nullif((TimerGetRemaining(G[O5])>20.)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>5000)and(TimerGetElapsed(G[O5])>4.))thenloopexitwhen C_V[i]==GetEnumUnit()or i>C2Vset i=i+1endloopif C_V[i]!=null and GetUnitAbilityLevel(N7V[O5],1093808213)==0 thencall IssueImmediateOrderById(N7V[O5],PI[O5])endifendifendifelseif((ASE(it))and(GetUnitTypeId(it)!=1852010352)and(XZE(it)))thenset bj_lastLoadedUnit=GetEnumUnit()call ExecuteFunc("U2I")endifset it=nullendfunctionfunction U3I takes nothing returns booleanlocal unit V_E=GetEnteringUnit()local integer i=GetUnitTypeId(V_E)if(i==1966092359 or i==1966092361)and IsPlayerInForce(GetOwningPlayer(GetEnteringUnit()),GLV)thencall RemoveGuardPosition(V_E)call GroupAddUnit(RUE(GetHandleId(GetOwningPlayer(GetEnteringUnit())),V9E(i==1966092359,"ExorG","NAttG")),V_E)call IssueImmediateOrderById(V_E,$D024D)endifif not(B6E(GetOwningPlayer(GetEnteringUnit())))thenset V_E=nullreturn falseendifset bj_lastLoadedUnit=V_Eif(i==1966092594 or i==1966092595)thencall ExecuteFunc("U4I")elseif(i==1865429059)or(i==1865429319)or(i==1865429320)or(i==1865429321)thencall IssueTargetOrderById(V_E,$D0012,QV[GetPlayerId(GetOwningPlayer(V_E))])elseif(i==1747993683)thencall O8E(GetHandleId(QV[GetPlayerId(GetOwningPlayer(V_E))]),"AI|ShredChakram",V_E)elseif(ASE(V_E)and IsUnitType(V_E,UNIT_TYPE_HERO)==false)thencall IssueTargetOrderById(V_E,$D0012,QV[GetPlayerId(GetOwningPlayer(V_E))])set U4V=falsecall ExecuteFunc("U2I")endifset V_E=nullreturn falseendfunctionfunction U5I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer D6E=GetHandleId(t)local integer O5=R1E(D6E,"OwnerPID")local unit m5=QV[O5]local unit U6I=nulllocal string U7I=I2S(R1E(D6E,"famID"))local integer KVIlocal unit it=RME(D6E,"unitFamiliar")local boolean J4=falselocal group g=nulllocal unit u=nullif(GetTriggerEventId()==EVENT_UNIT_DEATH)thencall IXE(QV[O5],"AIFamiliar"+U7I+"|Status")call IVE(QV[O5],"AIFamiliar"+U7I+"|Stone")call FlushChildHashtable(YX,D6E)call IRE(t)call DestroyTrigger(t)elseset KVI=GetUnitTypeId(it)if U7I=="1" thenif(KVI==1966092596 or KVI==1966092597 or KVI==1966092598)thencall IXE(m5,"AIFamiliar"+U7I+"|Stone")elsecall IVE(m5,"AIFamiliar"+U7I+"|Stone")call IXE(m5,"AIFamiliar|CastStone")endifelseif U7I=="2" thenif(KVI==1966092612 or KVI==1966092613 or KVI==1966092614)thencall IXE(m5,"AIFamiliar"+U7I+"|Stone")elsecall IVE(m5,"AIFamiliar"+U7I+"|Stone")call IXE(m5,"AIFamiliar|CastStone")endifelseif U7I=="3" thenif(KVI==1966092626 or KVI==1966092627 or KVI==1966092628)thencall IXE(m5,"AIFamiliar"+U7I+"|Stone")elsecall IVE(m5,"AIFamiliar"+U7I+"|Stone")call IXE(m5,"AIFamiliar|CastStone")endifendifif(GetUnitState(it,UNIT_STATE_LIFE)<.55*($C8+(GetUnitAbilityLevel(m5,1093750341)*100)))thenset J4=IssueImmediateOrderById(it,$D00AA)or IssueImmediateOrderById(it,$D00BB)or IssueImmediateOrderById(it,$D02B0)or IssueImmediateOrderById(it,$D00AB)or IssueImmediateOrderById(it,$D00BC)or IssueImmediateOrderById(it,$D02B1)if not J4 thenset J4=jW(it,$D0012,h9[O5])endifelseif((E3E(it,OUE(m5))<1000.)and(GetUnitLifePercent(it)<98.))thenset J4=(jW(it,$D0012,OUE(m5)))elseif(not XZE(m5))thenset J4=jW(it,$D0012,OUE(m5))elseif(not IsUnitInRange(it,m5,1200.))thenset J4=IssueTargetOrderById(it,$D0012,m5)endifif not J4 thenset m5=nullif GetUnitState(h4[O5],UNIT_STATE_LIFE)>0 thenset m5=h4[O5]endifif m5==null thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(QV[O5]),700,Condition(function NEE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))and(IsUnitVisible(u,GetOwningPlayer(it)))or u==null)endloopset m5=uset u=nullendifcall DestroyGroup(g)endifset g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(QV[O5]),700,Condition(function NHE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))or u==null)endloopset U6I=uset u=nullendifcall DestroyGroup(g)if U6I!=null and m5!=null thenif E3E(it,U6I)<E3E(it,m5)and m5!=h4[O5]thenset m5=nullendifendifif m5!=null thenif(IsUnitInRange(it,m5,250.)and G4X(m5)==false and IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)==false and R8E(QV[O5],"AIFamiliar|CastStone")==false)thenset J4=IssueImmediateOrderById(it,$D00AA)or IssueImmediateOrderById(it,$D00BB)or IssueImmediateOrderById(it,$D02B0)or IssueImmediateOrderById(it,$D00AB)or IssueImmediateOrderById(it,$D00BC)or IssueImmediateOrderById(it,$D02B1)if J4 thencall IVE(QV[O5],"AIFamiliar|CastStone")endifelseset J4=IssueTargetOrderById(it,$D000F,m5)endifendifif U6I!=null and J4==false thenif GetUnitCurrentOrder(QV[O5])==$D0012 thenset J4=IssueTargetOrderById(it,$D0012,QV[O5])elseset J4=IssueTargetOrderById(it,$D000F,U6I)endifendifendifif(not J4)thenif(eY[O5]==$A)thenset J4=jW(it,$D000F,QV[O5])elseset J4=IssueTargetOrderById(it,$D0012,QV[O5])endifendifendifset t=nullset m5=nullset U6I=nullset it=nullset g=nullreturn falseendfunctionfunction U8I takes integer EQE,unit U9I returns nothinglocal trigger t=nulllocal integer FOE=0local string U7Ilocal integer i1=GetUnitTypeId(U9I)if(not((GetPlayerController(GetOwningPlayer(U9I))==MAP_CONTROL_COMPUTER)and(XZE(U9I))))thenreturnendifif((i1==1966092596 or i1==1966092597 or i1==1966092598))thenset U7I="1"elseif((i1==1966092612 or i1==1966092613 or i1==1966092614))thenset U7I="2"elseif((i1==1966092626 or i1==1966092627 or i1==1966092628))thenset U7I="3"elsereturnendifset t=CreateTrigger()set FOE=GetHandleId(t)call TriggerRegisterUnitEvent(t,U9I,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U9I,EVENT_UNIT_SPELL_FINISH)call TriggerRegisterTimerEvent(t,1.4,true)call TriggerRegisterTimerEvent(t,.1,false)call TriggerAddCondition(t,Condition(function U5I))call IVE(QV[EQE],"AIFamiliar"+U7I+"|Status")call O8E(FOE,"unitFamiliar",U9I)call O4E(FOE,"OwnerPID",EQE)call O4E(FOE,"famID",S2I(U7I))set t=nullendfunctionfunction WVI takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer D6E=GetHandleId(t)local unit FXE=RME(D6E,"NinjaScarab")local unit FEE=RME(D6E,"NinjaSummoner")local unit WEI=GetTriggerUnit()if((IsUnitType(WEI,UNIT_TYPE_HERO))and(IsUnitEnemy(WEI,GetOwningPlayer(FEE)))and(IsUnitVisible(WEI,GetOwningPlayer(FEE)))and(not IsUnitIllusion(WEI)))thencall IssueImmediateOrderById(FXE,$D009F)call IRE(t)call DestroyTrigger(t)endifset t=nullset FXE=nullset FEE=nullset WEI=nullendfunctionfunction WXI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer D6E=GetHandleId(t)local unit FEE=RME(D6E,"NAScarabOwner")local unit FXE=RME(D6E,"NAScarabUnit")local unit WOI=nulllocal unit D9E=nulllocal unit u=nulllocal group g=CreateGroup()if((GetTriggerEventId()==EVENT_UNIT_DEATH)or(GetUnitState(FEE,UNIT_STATE_LIFE)<=0))thenif((GetUnitState(FXE,UNIT_STATE_LIFE)>0))thencall jW(FXE,$D0012,OUE(FEE))elsecall FlushChildHashtable(YX,D6E)call IRE(t)call DestroyTrigger(t)endifelsecall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(FXE),700,Condition(function NOE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(FEE))endloopset D9E=uset u=nullendifcall DestroyGroup(g)if(D9E!=null)thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(FXE),$96,Condition(function NRE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)endloopset WOI=uset u=nullendifcall DestroyGroup(g)if(WOI==null)thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(FEE),500,Condition(function NRE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(GetUnitTypeId(u)==1966092594 or GetUnitTypeId(u)==1966092595)endloopset WOI=uendifendifendifif(D9E!=null and WOI!=null and GetUnitState(D9E,UNIT_STATE_LIFE)>0 and IsUnitVisible(D9E,GetOwningPlayer(FEE)))thencall IssueTargetOrderById(WOI,$D0012,D9E)call EYE(3)if((GetUnitState(FXE,UNIT_STATE_LIFE)>0)and(GetUnitCurrentOrder(FXE)!=$D0012))thencall IssueTargetOrderById(FXE,$D0012,FEE)endifelsecall IssueTargetOrderById(FXE,$D0012,FEE)endifendifcall DestroyGroup(g)set t=nullset WOI=nullset FEE=nullset FXE=nullset D9E=nullset u=nullset g=nullreturn falseendfunctionfunction U4I takes nothing returns nothinglocal trigger t=CreateTrigger()local unit FXE=bj_lastLoadedUnitlocal unit FEE=QV[GetPlayerId(GetOwningPlayer(FXE))]local unit D9E=nulllocal unit u=nulllocal group g=CreateGroup()local boolexpr b=Condition(function NOE)local boolean WRI=falsecall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(FXE),700,Condition(function NOE))if(not EME(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(FEE))endloopset D9E=uendifcall DestroyGroup(g)if(D9E!=null and GetUnitState(D9E,UNIT_STATE_LIFE)>0 and IsUnitVisible(D9E,GetOwningPlayer(FEE)))thenif(E3E(FXE,D9E)>250.)thenset WRI=truecall IssueTargetOrderById(FXE,$D0012,FEE)elsecall IssueImmediateOrderById(FXE,$D009F)call IRE(t)call DestroyTrigger(t)endifelseset WRI=truecall IssueTargetOrderById(FXE,$D0012,FEE)endifif(WRI)thencall O8E(GetHandleId(t),"NAScarabOwner",FEE)call O8E(GetHandleId(t),"NAScarabUnit",FXE)call TriggerRegisterUnitEvent(t,FXE,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,2.1,true)call TriggerAddCondition(t,Condition(function WXI))set t=CreateTrigger()call O8E(GetHandleId(t),"NinjaSummoner",FEE)call O8E(GetHandleId(t),"NinjaScarab",FXE)call TriggerRegisterUnitInRange(t,FXE,70,b)call TriggerAddAction(t,function WVI)endifcall DestroyBoolExpr(b)set t=nullset g=nullset u=nullset FXE=nullset FEE=nullset D9E=nullendfunctionfunction U1I takes nothing returns nothinglocal unit it=GetEnumUnit()local unit m5=nulllocal integer i1=GetUnitTypeId(it)local player pl=GetOwningPlayer(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal location b5local location WAI=nulllocal boolean J4=falselocal item WNI=nulllocal boolean WBI=falselocal integer WCIlocal unit WDI=nullcall TriggerSleepAction(.1)if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueendifset G0[64+O5]=falseif(i1!=1211117642)thenset b5=HC[16+O5]elseif(RZE(GetHandleId(it),"MCSLoc")!=null)thenset b5=RZE(GetHandleId(it),"MCSLoc")elseset b5=GetUnitLoc(it)call RDE(GetHandleId(it),"MCSLoc",b5)endifendifcall MoveLocation(b5,GetUnitX(it),GetUnitY(it))if not G0[304+O5]thenif(h4[O5]!=null)and((not XZE(h4[O5]))or(not IsHeroUnitId(GetUnitTypeId(h4[O5])))or((IsUnitIllusion(h4[O5]))and((X9E(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,RX[0])))))or(IsUnitAlly(h4[O5],pl)))thenset h4[O5]=nullif(XSE(it))thencall J3(it,true)endifendifif(i1==1429221451)and(GetUnitCurrentOrder(it)==$D0217)and(OVE(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function NIE))<=2)thenset G0[272+O5]=truecall IssueImmediateOrderById(it,$D0004)call J3(it,false)set G0[272+O5]=falseendifif((G0[O5])or(not XSE(it))or(GetUnitAbilityLevel(it,1110459478)>0))thenset J4=trueif(GetUnitAbilityLevel(it,1110459478)>0)thenset G0[64+O5]=trueendifelseif(((X1E(it))and(not Id(O5)))or((G0[32+O5])and(h4[O5]==null)))thenif(h4[O5]!=null)thencall LXI(it,h4[O5])endifif(eY[O5]!=2)thenif(i1==1211117642)thenset J4=(X1E(it))and(is(it))and(not Id(O5))and(jW(it,$D0012,h9[O5]))elseif(not G0[32+O5])thencall AEE(it,false)elseif(Jw(it))thenif(X1E(it))thenset J4=UZI()endifif(not J4)thencall H_I(it)endifendifendifset J4=trueelseif(h4[O5]==null)thenif((GetHeroLevel(it)>3)and(GetUnitLifePercent(it)>70.)and(G0[$80+O5]))thenif((X9E(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,RX[0]))))thenset m5=X8E(1100.,b5,Condition(function KK))elseset m5=X8E(1100.,b5,Condition(function Kl))endifif(m5!=null)thenif(iy(it))thenset h4[$A0+O5]=m5endifif((KY(750.,jv(m5))<=2)and(not AQE(m5))and((X_E(m5,it))or(OVE(400.,m5,Condition(function NDE))==0)))thenset h4[O5]=m5endifendifendifelseset m5=K3(600.,it,Condition(function k6))if(m5!=h4[O5]and m5!=null)thenif(GetUnitLifePercent(m5)>50.)thenif((GetUnitState(m5,UNIT_STATE_LIFE)+(20.*GetHeroLevel(m5)))<GetUnitState(h4[O5],UNIT_STATE_LIFE))thenset h4[O5]=m5endifelseif(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(h4[O5],UNIT_STATE_LIFE))thenset h4[O5]=m5endifendifif((GetUnitTypeId(h4[O5])==1211117641)and(GetUnitLifePercent(h4[O5])>50.))thenset m5=X8E(700.,b5,Condition(function KL))if(m5!=null)thenset h4[O5]=m5endifendifif((GetHeroLevel(it)<6)and(not X2E(O5)))thenif((not IsUnitInRange(it,h4[O5],750.))or((GetUnitLifePercent(it)-10.)<GetUnitLifePercent(h4[O5]))or((not IsUnitVisible(h4[O5],pl))and(kD(h4[O5]))))thenset h4[O5]=nullcall J3(it,true)endifelseif((((not IsUnitInRange(it,h4[O5],1200.))or((GetUnitLifePercent(it)+30.)<GetUnitLifePercent(h4[O5])))and(not X2E(O5)))or(AQE(h4[O5])))thenset h4[O5]=nullcall J3(it,true)elseif((not IsUnitVisible(h4[O5],pl))and(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),pl))and(not IsUnitHidden(h4[O5])))or((eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]<2)and(kD(h4[O5])))))thenif(not X1E(h4[O5]))thenif((GetUnitTypeId(h4[O5])==1212365106)and(OXE(it,BU[G5]))and(GetItemCharges(bj_lastCreatedItem)>1))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,OAE(it,BU[G5]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseif((GetUnitTypeId(h4[O5])==1211119409)and(OXE(it,BU[G5]))and(GetItemCharges(bj_lastCreatedItem)>1))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,OAE(it,BU[G5]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseset h4[O5]=nullcall J3(it,true)endifelseif(i1==1311781185)thenset J4=IssueImmediateOrderById(it,$D0278)elseif(OXE(it,BU[VMV]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)elseif(OXE(it,BU[W5]))thenset J4=(E3E(it,h4[O5])<=600)and(UnitUseItem(it,bj_lastCreatedItem))elseif(OXE(it,BU[G5]))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseif(not R3E(G2V,B0I(it)+"|W"))thencall O7E(G2V,B0I(it)+"|W",true)endifset h4[O5]=nullcall J3(it,true)endifendifendifendifset m5=h4[O5]if((iy(it))and(m5!=null))thenset h4[$A0+O5]=m5endifset GZ[$80+O5]=(m5!=null)and((GetHeroLevel(it)>5)or(X_E(m5,it)))if(J4)thenelseif(i1==1160785970)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(700.,b5,Condition(function k6))endifset J4=(m5!=null)and((GetHeroLevel(it)>3)or(X_E(m5,it)))and(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>25.)and(Bz>J5V[16+O5])and(OTE(it,$D022E,1093748023))if((not J4)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset J4=(m5!=null)and(IsUnitInRange(it,m5,450.))and(IssuePointOrderById(it,$D02B6,GetUnitX(m5)+2,GetUnitY(m5)-2))endifif((not J4)and(G0[$80+O5])and(GetHeroLevel(it)>5))thenset m5=X6E(450.,b5,Condition(function k6))set J4=(m5!=null)and(Bz>J5V[O5])and(((GetUnitAbilityLevel(it,1093747023)>0)and(OTE(it,$D0105,1093747023)))or((GetUnitAbilityLevel(it,1093752150)>0)and(OTE(it,$D0105,1093752150))))endifelseif(i1==1160786506)thenif(GetHeroLevel(it)>3)thenset m5=X8E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(Bz>J5V[16+O5])and(IsUnitInRange(it,m5,795.))and(((GetUnitAbilityLevel(it,1093751894)<4)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<40.)or(h4[O5]!=null))and(OME(it,$D007F,1093751894,m5))if(not J4)and(m5!=null)and(Bz>J5V[48+O5])and((GetUnitLifePercent(m5)<30.)or((h4[O5]!=null)and((GetUnitLifePercent(m5)<70.)or(eY[320+O5]>0))))thenif(H5E(it,m5))or(not IsUnitInRange(m5,it,800))thencall GVE(it,m5,1.2,900)elsecall MoveLocation(YIV,GetUnitX(m5),GetUnitY(m5))endifset J4=(EWE(O5)and(J8(O5,IssuePointOrderByIdLoc(it,$D0079,YIV))))endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and(H5E(it,m5))and(not IsUnitInRangeLoc(m5,QPI(m5),600))thenset J4=OME(it,$D0097,1093751639,m5)endifif(not J4)and(h4[O5]!=null)and(G5X(m5)or GetUnitLifePercent(it)<80 or GZ[$D0+O5])thenset J4=(m5!=null)and(IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5)))endifif(not J4)and(Bz>J5V[32+O5])thenset m5=X8E(1200.,b5,Condition(function QQI))set J4=(m5!=null)and(OME(it,$D0097,1093751639,m5))endifelseif(i1==1160786502)thenif(KGV[O5])thenset J4=trueendifif((m5==null)and(G0[$80+O5]))thenset m5=X8E(1200.,b5,Condition(function k6))endifif((G0[$80+O5])and(RME(GetHandleId(it),"Bird4")!=null)and(GME(RME(GetHandleId(it),"Bird4"))==false)and(R1E(GetHandleId(it),"BirdsCounter")>300))thenif((GetUnitLifePercent(it)<70.))thenset J4=OME(it,$D00D9,1093753394,it)elseset WDI=X6E(1200.,b5,Condition(function NYE))if(WDI!=null)thenset J4=OME(it,$D00D9,1093753394,WDI)elseif(m5!=null)thenset J4=OME(it,$D00D9,1093753394,m5)and OME(it,$D00D9,1093753394,m5)elseset m5=X6E(650.,b5,Condition(function NJE))if((m5!=null)and(OVE(400.,m5,Condition(function NJE))>1))thenset J4=OME(it,$D00D9,1093753394,m5)endifendifendifendifif(not J4 and(Bz>J5V[16+O5]))thenset KHV[O5]=trueset J4=(m5!=null)and((GetUnitLifePercent(m5)>70.)or(GetUnitLifePercent(m5)<30.)or(GZ[$D0+O5]))and(IssuePointOrderByIdLoc(it,$D0278,GetUnitLoc(m5)))endifif(not J4)thenset J4=(m5!=null)and(GetUnitLifePercent(it)>70.)and IssueImmediateOrderById(it,$D020A)or((GetRandomInt(1,3)==1)and(GetUnitLevel(it)>5)or(GetUnitLifePercent(m5)<30.))and(IssuePointOrderByIdLoc(it,$D0278,GetUnitLoc(m5)))endifif((not J4)and(Bz>hq[O5])and(RME(GetHandleId(it),"Bird4")!=null)and(GME(RME(GetHandleId(it),"Bird4"))==false)and(R1E(GetHandleId(it),"BirdsCounter")>400)and(OVE(600.,it,Condition(function BEE))>=2))thenset J4=IssueImmediateOrderById(it,$D02B6)endifset KHV[O5]=falseset I9V=itif(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>60)and(G0[256+O5])and(not IsUnitInRange(it,m5,600))and(IsUnitInRange(it,m5,900))and(F1E(it,m5,GetUnitX(m5),GetUnitY(m5),75,Condition(function K3E)))thenset J4=IssueTargetOrderById(it,$D00FA,m5)endifelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thenif(GetUnitAbilityLevel(it,1112436083)>0)thenif((GetUnitState(it,UNIT_STATE_MANA)<100.)and(not X1E(it)))thencall IssueImmediateOrderById(it,$D026E)call SetPlayerAbilityAvailable(pl,1093684560,false)endifelseif((GetHeroLevel(it)>3)and((GetUnitState(it,UNIT_STATE_MANA)>250.)or(X1E(it))))thencall SetPlayerAbilityAvailable(pl,1093684560,true)call IssueImmediateOrderById(it,$D026D)endifif((h4[16+O5]!=null)and(G0[$80+O5]))thenif(GetUnitAbilityLevel(h4[16+O5],1114665575)==0)thenset J4=IssueTargetOrderById(it,$D000F,h4[16+O5])elseset h4[16+O5]=nullendifendifcall SetPlayerAbilityAvailable(pl,1093682994,(GetUnitManaPercent(it)>75.)and(GetHeroLevel(it)>8))if((not J4)and(m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=K3(800.,it,Condition(function k6))endifset J4=(m5!=null)and(((GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(m5,1114665575)==0)and(OTE(it,$D0265,1093747028)))or(((GetUnitManaPercent(it)>70.)or(GetUnitLifePercent(m5)<60.))and(OME(it,$D0097,1093682994,m5))))elseif(i1==1429221443)thenif((m5==null)and(G0[$80+O5]))thenset m5=X8E(600.,b5,Condition(function k6))endifif((GetHeroLevel(it)>6)and(m5!=null)and(GetUnitLifePercent(it)>50.))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)if(OXE(it,BU[EBV])and(R8E(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))thenset J4=(m5!=null)and(UnitUseItem(it,OAE(it,BU[EBV])))elseif(OXE(it,BU[ENV])and(R8E(it,"ArmletOfMordigan|Active"))and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,OAE(it,BU[ENV])))elseset J4=(Bz>hq[$F0+O5])and((hq[416+O5]>Bz)or(GetUnitLifePercent(m5)<60.))and((OTE(it,$D0131,1093686322))or(jP(it,BU[VVV])))endifif((not J4)and((GetUnitLifePercent(m5)<50.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,true)set GZ[O5]=trueset J4=(IssueTargetOrderById(it,$D0097,m5))set GZ[O5]=falsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093744948,false)endifendifelseif(i1==1162032951)thenif((GetHeroLevel(it)>20)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))thencall SetPlayerAbilityAvailable(pl,1093678404,true)endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(UP>$C8)and(UP<(400*GetUnitAbilityLevel(it,1093679152))or UP<(460*GetUnitAbilityLevel(it,1093752154)))and(OQE(it,$D022F,1093679152,1093752154,m5))endifif((not J4)and(OXE(it,BU[VCV]))and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>50.)and(G0[$80+O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenset m5=X6E(1500.,b5,Condition(function KK))endifif((m5!=null)and(not IsUnitIllusion(m5))and(not OXE(m5,BU[GY]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.)))thenif((OVE(600.,m5,Condition(function N_E))>0)or((GetUnitLifePercent(m5)<75.)and(OVE(800.,m5,Condition(function NDE))==0)))thenset GZ[272+O5]=trueset J4=UnitUseItem(it,OAE(it,BU[VCV]))set GZ[272+O5]=J4endifendifendifelseif(i1==1162032181)thenif((GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(1000.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(S0I(it)))or(FKV))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))thenset GZ[O5]=trueset J4=J8(O5,(IsUnitInRange(it,m5,250.))and(OME(it,$D02AC,1093683761,m5)))if((not J4)and(IsUnitInRange(it,m5,700.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>270+(25*GetUnitAbilityLevel(it,1093683761))))thenset WAI=kL(it,m5,200.)set J4=(WAI!=null)and(X9E(800.,WAI,Condition(function BEE))<=2)and(IssuePointOrderByIdLoc(it,$D00FA,WAI))endifendifif((not J4)and(GetHeroLevel(it)>$C)and(m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,300.))and(Kz(600.,b5)>1)and(X9E(600.,b5,Condition(function NQE))>0))thenset GZ[O5]=trueset J4=J8(O5,OME(it,$D02AC,1093683761,m5))endifendifif((not J4)and(m5!=null)and(X_E(m5,it))and(not IC(O5))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,I2R(350+($C8*GetUnitAbilityLevel(it,1093684299))))))thenset WAI=kL(it,m5,200.)set J4=(WAI!=null)and(X9E(800.,WAI,Condition(function BEE))<=2)and(IssuePointOrderByIdLoc(it,$D00FA,WAI))endifelseif(i1==1160785972)thencall SetPlayerAbilityAvailable(pl,1093678161,(GetUnitLifePercent(it)<70.)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(120+(80*GetUnitAbilityLevel(it,1093677621)))))call SetPlayerAbilityAvailable(pl,1093677872,(GetHeroLevel(it)>10.)and(iy(it))and(X9E(800.,b5,Condition(function k8))>0)and(GetUnitState(it,UNIT_STATE_MANA)>225.))if((m5==null)and(G0[$80+O5]))thenset m5=X6E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and((not IsUnitInRange(it,m5,550.))and(OME(it,$D00CD,1095263841,m5)))if((GetHeroLevel(it)>8)and(G0[$80+O5])and(GetUnitAbilityLevel(it,1110456118)==0))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5]))))thenset m5=h4[$90+O5]elseset m5=X6E(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(OVE(650.,m5,Condition(function N_E))>0)))thenset h4[288+O5]=m5set J4=(OVE(800.,m5,Condition(function NDE))==0)and(IssueImmediateOrderById(it,$D00A1))endifendifelseif(i1==1429221424)thenif(GetUnitAbilityLevel(it,1110454347)==0)thencall SetPlayerAbilityAvailable(pl,1093748789,(GetHeroLevel(it)>3)and(m5!=null))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(800.,b5,Condition(function k6))endifelseset J4=trueendifif((not J4)and(m5!=null)and(GetHeroLevel(it)>3))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_MANA))set J4=(UP>100.)and((R2I(GetUnitState(it,UNIT_STATE_MANA))>($DC+(50*GetUnitAbilityLevel(it,1093679445))))or((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(UP>$C8)))and(OME(it,$D0118,1093748789,m5))if((not J4)and(GetUnitLifePercent(m5)<70.))thenset GZ[O5]=trueset J4=J8(O5,(OME(it,$D024B,1093687351,m5))or(OME(it,$D0118,1093748789,m5)))endifendifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>70.)and(G0[$80+O5]))thenif(m5==null)thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5]))))thenset m5=h4[$90+O5]elseset m5=X6E(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<75.)and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitVisible(it,GetOwningPlayer(m5)))or(not IsUnitInRange(it,m5,800.)))and(IsUnitInRange(it,m5,1500.))and(not OXE(m5,BU[GY])))thenif(OVE(1000.,m5,Condition(function NDE))==0)thenset GZ[O5]=trueset h4[288+O5]=h4[O5]set J4=J8(O5,OTE(it,$D00A1,1093679445))endifendifendifif((m5==null)and(GetUnitAbilityLevel(it,1110454347)==0)and(GetHeroLevel(it)>9)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>60.))thencall SetPlayerAbilityAvailable(pl,1093687351,true)endifelseif(i1==1432646245)thenif(not HXE())thenif((Bz>hq[O5])and(not(GetFloatGameState(GAME_STATE_TIME_OF_DAY)==.0)))thenset J4=IssueImmediateOrderById(it,$D028D)endifif((m5==null)and(G0[$80+O5]))thenset m5=K3(900.,it,Condition(function k6))if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE)))thenset h4[O5]=m5endifendifset J4=((m5!=null)and((OME(it,$D007F,1093677640,m5))or((kP(GetUnitTypeId(m5)))and(OME(it,$D0269,1093679171,m5)))))elseset J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<65.)and(OME(it,$D007F,1093677640,m5))endifif((not J4)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=X8E(700.,b5,Condition(function KN))if(m5==null)thenset m5=X8E(500.,b5,Condition(function k6))endifset J4=((m5!=null)and(GetUnitManaPercent(m5)>20.)and(OME(it,$D0269,1093679171,m5)))or((m5!=null)and(GetUnitLifePercent(m5)<70.)and(HXE())and(Bz>hq[O5])and(IssueImmediateOrderById(it,$D028D)))endifendifelseif(i1==1430466609)thencall SetPlayerAbilityAvailable(pl,1093678145,(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenset m5=X6E(900.,b5,Condition(function k6))endifif(m5!=null)thenif((not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<50.)and(GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IC(O5))and(not IsUnitInRange(it,m5,400.))and(IsUnitInRange(it,m5,750.)))thenset WAI=kL(it,m5,200.)set J4=(WAI!=null)and((X9E(800.,WAI,Condition(function BEE))-X9E(800.,WAI,Condition(function NSE)))<=1)and(X9E(700.,WAI,Condition(function NDE))==0)and(IssuePointOrderByIdLoc(it,$D022D,WAI))endifif((not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<S_I(it))or(Kz(400.,jv(m5))>1))and(OQE(it,$D009D,1093810258,1093810259,m5)))endifif(not J4)thenset J4=(((GetUnitManaPercent(it)>60.)and(GetHeroLevel(it)>5))or(X_E(m5,it)))and(OME(it,$D022F,1093685559,m5))endifendifif(not J4)thenset J4=((X9E(400.,b5,Condition(function k6))>0)or((hq[$F0+O5]>Bz)and(X9E(400.,b5,Condition(function KA))>1)))and(OTE(it,$D022E,1093678145))endifif((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(X9E(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))thenset WAI=kk(it,800.,h8[O5])set J4=(WAI!=null)and(IssuePointOrderByIdLoc(it,$D022D,WAI))endifelseif(i1==1430468913)thenif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(((GetUnitLifePercent(m5)<60.)or(h4[O5]!=null)or(X9E(800.,b5,Condition(function NSE))>0))and(GetUnitAbilityLevel(m5,1110454356)==0)and(OME(it,$D00B5,1093677876,m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<40.)and((GetUnitState(it,UNIT_STATE_LIFE)>1800.)or(X9E(1000.,b5,Condition(function k6))<=2))and(not IsUnitInRange(it,m5,350.)))thenset GZ[O5]=trueset J4=J8(O5,OTE(it,$D0084,1093678403))endifcall SetPlayerAbilityAvailable(pl,1093810507,(GetHeroLevel(it)>$D)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((not J4)and(m5!=null))thenset J4=((IsUnitInRange(it,m5,275.))and(OTE(it,$D00C4,1093810507)))endifif((not J4)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(1000.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454356)==0)and(OME(it,$D00B5,1093677876,m5))endifendifelseif(i1==1430467634)thenset UP=GetHeroLevel(it)call SetPlayerAbilityAvailable(pl,1093742674,(GetUnitManaPercent(it)>40.)and(Bz>J5V[16+O5]))call SetPlayerAbilityAvailable(pl,1093750608,(UP>$A)and(GetUnitManaPercent(it)>55.))if((m5==null)and(G0[$80+O5])and(UP>4))thenset m5=X6E(900.,b5,Condition(function k6))endifif((m5!=null)and(UP>4))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<($FA+($FA*S1I(it))))and(not IsUnitIllusion(m5))and(OQE(it,$D0267,1093684565,1093681458,m5)))or((((GetHeroLevel(m5)==25)or(ModuloInteger(GetHeroLevel(m5),7-GetUnitAbilityLevel(it,1093679412))==0))or(GetUnitManaPercent(it)>60.)or(X_E(m5,it)))and(OME(it,$D0107,1093679412,m5)))if((not J4)and(GetUnitManaPercent(it)>60.))thenset GZ[O5]=trueset J4=J8(O5,OTE(it,$D022E,1093750608))endifendifif((not J4)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(1000.,it,Condition(function k6))set J4=(m5!=null)and(OQE(it,$D0267,1093684565,1093681458,m5))endifendifif((not J4)and(IsUnitInRange(it,m5,200.)))thenset J4=(m5!=null)and IssueImmediateOrderById(it,$D009F)endifif((not J4)and Bz>J5V[16+O5])thenset m5=X6E(300.,jv(it),Condition(function NKE))set J4=(m5!=null)and(OME(it,$D0278,1093742674,m5))endifelseif(i1==1313026096)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>$A))thenset m5=X8E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>4))or(X_E(m5,it)))and(OME(it,$D007F,1095267426,m5))if((not J4)and(GetHeroLevel(it)>$A)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitCurrentOrder(m5)!=$D0005)and(OVE(600.,m5,Condition(function NSE))>1))thenset J4=OME(it,$D007F,1095267426,m5)endifelseif((i1==1164277353)or(i1==1164277357))thenif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<50.)and(Bz>J5V[O5]))thenset bj_lastLoadedUnit=itset I9V=nullset AVV=nullset WNV=GetUnitLifePercent(it)+20.set WBV=GetUnitLifePercent(it)+30.call X8E(700.,jv(it),Condition(function NCE))if I9V!=null thenset m5=I9Velseset m5=AVVendifset J4=(m5!=null)and(OME(it,$D00DD,1093678929,m5))if J4 thenset h4[O5]=m5endifendifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>75.)and(Bz>J5V[O5]))thenset m5=X6E(600.,b5,Condition(function NWE))if((m5!=null)and(D[GetPlayerId(GetOwningPlayer(m5))]>J[GetPlayerId(GetOwningPlayer(m5))]+3))thenset J4=(OVE(800.,m5,Condition(function k6))>0)and(OME(it,$D00DD,1093678929,m5))endifendifset m5=h4[O5]if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))thenif((not J4)and(i1==1164277353)and(GetUnitLifePercent(m5)<70.))thenset J4=OTE(it,$D02B7,1093751369)endifif((not J4)and((X_E(m5,it))or(GZ[$D0+O5])or(GetUnitLifePercent(m5)<70. and GetUnitManaPercent(it)>70.)))thenset J4=OME(it,$D0079,1093809985,m5)endifendifelseif(i1==1164666213)thenif(GetHeroLevel(it)>=6)thenset J4=(IsUnitInRange(it,h4[O5],400))or((X9E(400.,b5,Condition(function k6))>0)or((GetHeroLevel(it)>18)and(GetUnitManaPercent(it)>70.)and(X9E(400.,b5,Condition(function NIE))>2)))if not R8E(it,"AI|PulseNova")thenif(J4)thencall SetPlayerAbilityAvailable(pl,1093808455,true)call OTE(it,$D0084,1093808454)call TriggerSleepAction(.1)endifelseif(not J4)thencall OTE(it,$D0084,1093808456)call TriggerSleepAction(.1)endifendifcall TriggerSleepAction(.1)set J4=falseendifset UP=GetHeroLevel(it)if(not J4)and(X9E(300.,b5,Condition(function k6))>0)thenif(OTE(it,$D022E,1093808212))thencall TriggerSleepAction(.1)endifendifif((m5==null)and(G0[$80+O5])and(GetUnitManaPercent(it)>70.)and(UP>3))thenset m5=X6E(1000.,b5,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(G5X(m5))and(OME(it,$D0100,1093678679,m5)))endifif((not J4)and(m5!=null))thenset J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(OME(it,$D0097,1093678678,m5)))endifif(not J4)and(m5==null)thenset m5=X6E(1000.,b5,Condition(function NIE))if(not J4)and(m5!=null)and(UP>8)and(GetUnitManaPercent(it)>60.)thenset J4=(OME(it,$D0097,1093678678,m5))endifif(not J4)and(m5!=null)and(UP>$E)and(GetUnitManaPercent(it)>60.)and(OVE(150.,it,Condition(function NIE))>2)thenset J4=(OME(it,$D0100,1093678679,m5))endifif(not J4)and(m5!=null)and((UP>$E)or((UP>$A)and(eY[O5]>9)))and(GetUnitManaPercent(it)>40.)and(OVE(500.,it,Condition(function NIE))>2)thenset J4=(OTE(it,$D022E,1093808212))endifendifset bj_lastLoadedUnit=itif(not J4)and(h4[O5]!=null)and(eY[320+O5]>=0)and(not IsUnitInRange(it,m5,300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(m5)+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(OVE(900,m5,Condition(function OEE))==0)thenset J4=IssuePointOrderById(it,$D02CE,GetUnitX(m5),GetUnitY(m5))endifelseif(i1==1433168227)thencall SetPlayerAbilityAvailable(pl,1093678918,(GetHeroLevel(it)>9)and((GetUnitManaPercent(it)>70.)or(m5!=null)or(X9E(900.,b5,Condition(function k6))>0)))if GetUnitManaPercent(it)>60. thencall SetPlayerAbilityAvailable(pl,1093679186,true)if IssueImmediateOrderById(it,$D01EA)thencall TriggerSleepAction(.1)endifelsecall SetPlayerAbilityAvailable(pl,1093679186,false)endifif((m5==null)and(G0[$80+O5])and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>2))thenset m5=X6E(1000.,b5,Condition(function k6))endifif((m5!=null)and(GetHeroLevel(it)>2))thenif((GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))thenset UP=OVE(550.,m5,Condition(function KA))if((UP>1)and(UP<6)and((UP<=(OVE(550.,m5,Condition(function k6))*2))or((X_E(m5,it))and(GetUnitState(m5,UNIT_STATE_LIFE)<450.))))thenset GZ[O5]=trueset J4=J8(O5,OQE(it,$D0103,1093678420,1093679176,m5))endifendifif(not J4)thenset J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<50.))and(OME(it,$D0102,1093678918,m5))endifendifif((not J4)and(GetUnitManaPercent(it)<75.))thenset m5=X6E(600.,b5,Condition(function KD))set J4=(m5!=null)and(OME(it,$D0062,1093678387,m5))endifelseif(i1==1429221430)thenif(m5==null)thenset m5=X6E(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and((GetUnitState(m5,UNIT_STATE_LIFE)<56.25*GetUnitAbilityLevel(it,1093681736))or(GZ[$D0+O5]))thenset J4=OME(it,$D0279,1093681736,m5)endifif(not J4)and(GetUnitAbilityLevel(it,1110454597)>0)thenif(h4[O5]==null)thenset h4[O5]=m5endifif((GetUnitCurrentOrder(it)==$D0012)and(not G0[O5])and(hq[512+O5]>Bz)and(G0[$80+O5])and(X9E(800.,b5,Condition(function KC))>1))thencall jW(it,$D000F,h8[O5])endifelseif(not J4)and((GetUnitAbilityLevel(it,1110454595)>0)and(GetUnitCurrentOrder(it)==$D0012)and((not IsUnitVisible(it,RX[0]))or(not IsUnitVisible(it,GX[0])))and(((X9E(800.,b5,Condition(function k8))>0)or(X9E(800.,b5,Condition(function KC))>0))))thencall IssueImmediateOrderById(it,$D0019)endifif(not J4)and(m5!=null)and((X9E(1500.,b5,Condition(function KR))==0)and(X9E(400.,b5,Condition(function k6))==0)and(E3E(it,ACV)>$5DC)and(E3E(it,NOV)>$5DC)and(GetUnitState(it,UNIT_STATE_MANA)>250.))thenset J4=OPE(it,$D0100,1093681735,b5)endifif((not J4)and(GetHeroLevel(it)>$D)and(hq[416+O5]>Bz)and(G0[$80+O5])and(GetUnitAbilityLevel(it,1110454597)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenif(((m5==null)or(not IsUnitInRange(it,m5,400.)))and(G0[$80+O5]))thenset m5=X6E(400.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(E3E(it,m5)<300)and(OTE(it,$D00C4,1093687121))endifendifif(not J4)and(h4[O5]==null)and GZ[O5]and((GetUnitState(it,UNIT_STATE_MANA)>300 and GetUnitManaPercent(it)>50))thenset WNV=GetUnitAbilityLevel(it,1093681736)*75.set m5=X6E(600.,b5,Condition(function NPE))set J4=(m5!=null)and(OME(it,$D0279,1093681736,m5))endifelseif(i1==1430466872)thencall SetPlayerAbilityAvailable(pl,1093687349,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.)and(X9E(1200.,b5,Condition(function k6))==0))call SetPlayerAbilityAvailable(pl,1093677646,(GetHeroLevel(it)>$C)and(GetUnitManaPercent(it)<70.)and(iy(it)))if(m5!=null)thenset GZ[O5]=trueset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((Bz>hq[O5])and(not IsUnitIllusion(m5))and(UP>$C8)and(UP<S3I(it)+100))thenset J4=J8(O5,(OME(it,$D0216,1093684558,m5))or(OME(it,$D024B,1093687349,m5))or((not ke(m5))and(OQE(it,$D0097,1093679413,1093679447,m5))))elseif((GetHeroLevel(it)>2)or(X_E(m5,it)))thenset J4=(OME(it,$D024B,1093687349,m5))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(OME(it,$D0216,1093684558,m5)))endifelseif((GetUnitManaPercent(it)>50.)and(G0[$80+O5])and(GetHeroLevel(it)>2))thenset m5=X6E(1000.,b5,Condition(function k6))set J4=(m5!=null)and(OME(it,$D024B,1093687349,m5))endifif((not J4)and(GetHeroLevel(it)>$A)and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>400.)and(iy(it))and(eY[O5]==1))thenset m5=X6E(700.,b5,Condition(function k9))set J4=(m5!=null)and(OME(it,$D0062,1093678387,m5))endifif((not J4)and(GetHeroLevel(it)>$F)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))if(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetUnitLifePercent(m5)<60.)and(UP<$640)and(UP>500)and(not ke(m5))and(OQE(it,$D0097,1093679413,1093679447,m5))endifendifendifelseif(i1==1162032439)thenset J4=GetUnitAbilityLevel(it,1110456148)>0if((not J4)and(m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(900.,b5,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))or(X_E(m5,it)))and(OME(it,$D02BD,1093744435,m5))endifif((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<70.)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>$A)and(Bz>hq[16+O5])and(G0[$80+O5]))thenset UP=Kz(600.,b5)if((UP>1)or((UP>0)and(X9E(800.,b5,Condition(function NSE))>0)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(pl,1093681462,true)set J4=J8(O5,(OTE(it,$D0272,1093677363)))endifendifif((not J4)and(G0[$80+O5])and(OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>$A)and(Bz>hq[16+O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,800.)))thenset h4[16+O5]=m5set J4=TAI(it,m5)endifif(not J4)and(h4[O5]!=null)thenset J4=OME(it,$D0218,1093684563,m5)endifcall SetPlayerAbilityAvailable(pl,1093684563,(not J4)and(((GetHeroLevel(it)>8)and(GetUnitManaPercent(it)>45.))or((GetHeroLevel(it)>$F)and(GetUnitManaPercent(it)>30.))))elseif(i1==1430466865)thenif(m5==null)thenset m5=X6E(800.,b5,Condition(function k6))endifcall SetPlayerAbilityAvailable(pl,1093677651,(GetHeroLevel(it)>$F)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((G0[$80+O5])and(not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<65. or X_E(it,m5)or GZ[$D0+O5]or eY[320+O5]>=0)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.))and((not IC(O5))or(VZE(it)>1600.))and(J5V[32+O5]>Bz))thenif(OXE(it,BU[EZ]))thenset J4=(((Bz>hq[O5])and(GetUnitState(it,UNIT_STATE_MANA)>175.+(GetUnitAbilityLevel(it,1093810508)*100)))or(eY[320+O5]>=1)or(X_E(it,m5)))and(GetUnitState(it,UNIT_STATE_MANA)>400.)and(TAI(it,m5))endifif not J4 thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(X_E(it,m5)))and(OME(it,$D00FA,1093751364,m5))endifendifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[$80+O5]))thenset m5=BOE(800.,it)endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<30 or GZ[$D0+O5]))thenif(Kz(400.,jv(m5))>1 or GetUnitLifePercent(m5)<30)and(((not IsUnitInRange(it,m5,300.))and(TAI(it,m5)))or(IsUnitInRange(it,m5,300.)))thenif(not is(it))thencall EYE(.1)endifset J4=(OTE(it,$D00C4,1093810508))endifendifendifif(not J4)and(IsUnitInRange(it,m5,200.))and(X9E(250.,b5,Condition(function k8))<=1)thenset WNV=H3E(it,m5)set WBV=H3E(it,h9[O5])set WNV=RAbsBJ(WNV-WBV)if WNV<$F thenset WNV=RAbsBJ(GetUnitFacing(it)-WBV)if WNV<$F thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,1093810508)*100))or(X_E(it,m5)))and(OME(it,$D00FA,1093751364,m5))endifendifendifif((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>60.))thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(600.,b5,Condition(function k6))endifif((m5!=null)and(IsUnitInRange(it,m5,600.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,1093677651,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,$D009D,GetUnitX(it)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+300.*Sin(UP*bj_DEGTORAD)))endifendifif((not J4)and(GetHeroLevel(it)>$A)and(X9E(800.,b5,Condition(function k8))>0))thenset J4=(GetUnitAbilityLevel(it,1110454357)==0)and(GetUnitManaPercent(it)>65.)and(OME(it,$D0062,1093677879,it))if((not J4)and(GetUnitAbilityLevel(it,1110454357)>0)and(GetUnitManaPercent(it)>75.))thenset m5=X6E(700.,b5,Condition(function NSE))set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(GetUnitAbilityLevel(m5,1110454357)==0)and(OME(it,$D0062,1093677879,m5))endifendifelseif(i1==1430468144)thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(800.,b5,Condition(function k6))endifset UP=R1E(GetHandleId(it),"Level")if((m5!=null)and(IsUnitInRange(it,m5,860.))and GetUnitState(m5,UNIT_STATE_LIFE)<20+(60*UP))thenset J4=(IssueTargetOrderById(it,$D0118,m5))elseset J4=((IsUnitInRange(it,m5,860.))and(UP>GetUnitAbilityLevel(it,1093750337))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,$D0118,m5)))endifif((not J4)and(m5!=null)and(OXE(it,BU[EHV]))and(Bz>J5V[$F0+O5])and(G3X(m5)==false)and(DVE(m5)==false))thenset J4=UnitUseItemTarget(it,OAE(it,BU[EHV]),m5)endifif(not J4 and m5!=null)thenset J4=(((GetUnitLifePercent(m5)<50.)or(X9E(500.,b5,Condition(function NSE))>0))and((GetHeroLevel(it)>$A)and(OME(it,$D00DD,1093679192,m5))))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>J5V[O5]))thenif(R8E(it,"AIFamiliar1|Status")==false or R8E(it,"AIFamiliar2|Status")==false or(GetUnitAbilityLevel(it,1093814599)!=0 and R8E(it,"AIFamiliar3|Status")==false))thencall SetPlayerAbilityAvailable(pl,1093750341,true)set J4=IssueImmediateOrderById(it,$D022E)elseif(R8E(it,"AIFamiliar1|Stone")and R8E(it,"AIFamiliar2|Stone")and(GetUnitAbilityLevel(it,1093814599)==0 or R8E(it,"AIFamiliar3|Stone")))thencall SetPlayerAbilityAvailable(pl,1093750341,true)set J4=IssueImmediateOrderById(it,$D022E)elsecall SetPlayerAbilityAvailable(pl,1093750341,false)endifendifelseif((i1==1429221432)or(i1==1160786229))thencall SetPlayerAbilityAvailable(pl,1093687878,(GetHeroLevel(it)>$F)and(GetUnitManaPercent(it)>70.))call SetPlayerAbilityAvailable(pl,1093677892,(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[$80+O5]))thenif(i1==1160786229)thenset m5=X6E(1000.,b5,Condition(function k6))elseif(Bz>hq[O5])thenset m5=X8E(600.,b5,Condition(function k6))endifendifif(m5!=null)thenset J4=(Bz>hq[O5])and(i1==1429221432)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<60.)or((GetUnitLifePercent(m5)<75.)and(X9E(2000.,b5,Condition(function NDE))==0)))and(OTE(it,$D00D4,1093679411))if((i1==1160786229)or((not J4)and((GetHeroLevel(it)>4)or(GetUnitLifePercent(m5)<60.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>($FA+(25*(GetUnitAbilityLevel(it,1093679411)))))))thenset J4=(OTE(it,$D0278,1093687878))or(OTE(it,$D009E,1093677892))endifendifif((not J4)and(GetHeroLevel(it)>$C)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(OTE(it,$D00D4,1093679411))endifendifelseif(i1==1429221441)thenset J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(OME(it,$D0107,1093678389,m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(X5E(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(IssueTargetOrderById(it,$D0278,m5))endifif((not J4)and(GetHeroLevel(it)>$E)and(hq[416+O5]>Bz)and(Bz>hq[16+O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(OTE(it,$D009B,1093677903))endifendifif((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[16+O5]))thenset m5=X8E(500.,b5,Condition(function NDE))set J4=(m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(OVE(800.,m5,Condition(function KC))>2)and(OTE(it,$D009B,1093677903))endifelseif(i1==1165451634)thenset J4=(m5!=null)and(((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.))or(X5E(m5,it)))and(OME(it,$D02B6,1093687629,m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(X5E(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(IssueTargetOrderById(it,$D0278,m5))endifelseif(i1==1432642913)thenset J4=(m5!=null)and(GetHeroLevel(it)>5)and((GetUnitLifePercent(it)>75.)or((GetUnitLifePercent(it)-25.)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(it,$D02B6,m5))if(not J4)thenset m5=X6E(800.,b5,Condition(function NWE))if(m5!=null)thenset J4=((OVE(800.,m5,Condition(function k6))>0)and(IssueTargetOrderById(it,$D0097,m5)))or((GetUnitLifePercent(it)>60.)and(IssueTargetOrderById(it,$D02B6,m5)))endifif((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.)and(X9E(600.,b5,Condition(function KA))>0))thenset J4=IssueTargetOrderById(it,$D0097,it)endifendifelseif(i1==1215722344)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset m5=X6E(800.,b5,Condition(function k6))endifif(m5!=null)thenif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))thenif(((IsUnitInRange(it,m5,500.))and(GetUnitLifePercent(m5)<60.))or((OVE(700.,m5,Condition(function NSE))>0)and(GetUnitLifePercent(m5)<80.))or((OVE(700.,m5,Condition(function N_E))>0)and(OVE(700.,m5,Condition(function k8))<4)))thenset GZ[O5]=trueset J4=J8(O5,OME(it,$D0107,1093684296,m5))endifelseset J4=(GetHeroLevel(it)>5)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>70.)and(OME(it,$D02BC,1093682499,it))endifelseif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,1110454616)==0)and(GetUnitManaPercent(it)>70.))thenset J4=(X9E(1200.,b5,Condition(function k6))==0)and(X9E(700.,b5,Condition(function KA))>0)and(OME(it,$D02BC,1093682499,it))elsecall SetPlayerAbilityAvailable(pl,1093682499,false)endifelseif(i1==1432510828)thenset J4=(S6I(it)>35.)and((m5!=null)or(X9E(1000.,b5,Condition(function k6))>0))and(OTE(it,$D0278,1093682004))if(not J4)thenset m5=X6E(1500.,b5,Condition(function k6))if(m5!=null)thenset J4=IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5))set m5=nullendifendifif((not J4)and(G0[$80+O5]))thenif(m5==null)thenset m5=X6E(700.,b5,Condition(function k6))endifif(m5!=null)thenif(OVE(900.,m5,Condition(function NDE))>0)thenif((X5E(m5,it))or((GetHeroLevel(it)>4)and(IsUnitInRange(it,m5,250.))and(not IC(O5))and(GetUnitLifePercent(it)>75.)))thenset h4[288+O5]=m5set J4=IssueImmediateOrderById(it,$D00A1)endifelseif((X5E(m5,it))or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>50.)or(GetHeroLevel(it)>10.))and(OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE))<=1)))thenset h4[288+O5]=m5set J4=IssueImmediateOrderById(it,$D00A1)endifendifendifendifelseif(i1==1332766568)thenif((G0[$80+O5])and(OXE(it,BU[EZ]))and(GetHeroLevel(it)>$C)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifif(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and((UP<($96+($96*GetUnitAbilityLevel(it,1093682482))))or(UP<($96+($96*GetUnitAbilityLevel(it,1093750098)))))and(UP>$96)and(OQE(it,$D0097,1093682482,1093750098,m5))if((not J4)and((GetHeroLevel(it)>3)or(X_E(m5,it)))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>($C3+(40*GetUnitAbilityLevel(it,1093682482)))))thenset J4=IssueTargetOrderById(it,$D0118,m5)endifendifif((not J4)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset J4=(GetUnitLifePercent(it)>70.)and(((UP>1)and(X9E(280.,b5,Condition(function k6))>1))or((UP<=2)and(X9E(280.,b5,Condition(function k6))>0)))and(IssueImmediateOrderById(it,$D0278))endifendifif((not J4)and(GetHeroLevel(it)>3))thenif(m5==null)thenset m5=K3(800.,it,Condition(function k6))endifset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(X5E(m5,it)))and(IssueTargetOrderById(it,$D0118,m5))endifif((not J4)and(X9E(800.,b5,Condition(function NWE))>0))thenset J4=(X9E(280.,b5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D0278))endifelseif(i1==1429221451)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>5))thenset m5=X6E(1000.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitInRange(it,m5,200.))and(GetUnitLifePercent(m5)<50.)and(GetUnitCurrentOrder(it)==$D000F))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))set J4=IssuePointOrderById(it,$D00FA,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>$FA+(75*GetUnitAbilityLevel(it,1093678674))))thenif((Bz>hq[O5])and(Bz>hq[112+O5])and(Bz>hq[$F0+O5])and(OXE(it,BU[EZ]))and(IsUnitInRange(it,m5,900.))and(not IsUnitInRange(it,m5,300.)))thenset UP=X9E(1000.,b5,Condition(function k6))if((not IsUnitVisible(it,GetOwningPlayer(m5)))or((hq[416+O5]>Bz)and((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(800.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1))))thenset J4=(X9E(500.,b5,Condition(function k6))==0)and(IssueImmediateOrderById(it,$D0265))endifendifif(not J4)thenset J4=(Bz>hq[O5])and(IssueTargetOrderById(it,$D00FA,m5))endifif((not J4)and((hq[O5]-Bz)>20.)and(GetUnitLifePercent(it)>70.)and(not IC(O5))and(GetUnitState(it,UNIT_STATE_MANA)>500.)and(IsUnitInRange(it,m5,500.))and(X9E(500.,b5,Condition(function NSE))>0))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))set J4=IssuePointOrderById(it,$D00FA,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifendifif(not J4)and(Bz>J5V[32+O5])and(GetUnitAbilityLevel(it,1093683248)>1)and(G0[256+O5])and(h4[304+O5]==null)and(OVE(GetUnitAbilityLevel(it,1093683248)*50+100,it,Condition(function NIE))>4)thenset J4=IssueImmediateOrderById(it,$D0217)endifelseif(i1==1315334514)thenset J4=(GetUnitAbilityLevel(it,1110456148)==0)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>3)and((S9I(it,200.,$D00C4,1093682521))or(S9I(it,450.,$D026C,1093682760))or(S9I(it,700.,$D0277,1093682736)))if((not G0[$80+O5])or(J4))thenelseif((OXE(it,BU[VCV]))and(GetHeroLevel(it)>$A)and(Bz>hq[O5])and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))thenif(m5==null)thenset m5=X6E(1200.,b5,Condition(function KK))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitTypeId(m5)!=1212365106)and(OVE(800.,m5,Condition(function NDE))==0)and((OVE(600.,m5,Condition(function N_E))>0)or(not IsUnitInRange(it,m5,800.))or(not IsUnitVisible(it,RX[0]))or(not IsUnitVisible(it,GX[0]))))thenset GZ[272+O5]=trueset J4=UnitUseItem(it,OAE(it,BU[VCV]))set GZ[272+O5]=J4endifelseif((OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and(not IC(O5))and(GetHeroLevel(it)>$A)and(Bz>hq[O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,1093682001))>(GetUnitAbilityLevel(it,1093681746)*4)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifif((not J4)and(GetHeroLevel(it)>$C)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5])and(GetRandomInt(1,3)==1))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(X9E(1000.,b5,Condition(function NSE))>0))thenset UP=X9E(650.,b5,Condition(function k6))set J4=((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(OTE(it,$D0131,1093810506))endifendifelseif(i1==1328558154)thenif((GetUnitAbilityLevel(it,1110454618)>0))thenset J4=trueendifif((m5!=null)and(not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(X_E(m5,it)or((GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,600.))))and(((OVE(900.,m5,Condition(function BEE))<=2)and(OXE(it,BU[N8]))or(OXE(it,BU[V2V])))or((OVE(900.,m5,Condition(function BEE))<2))))thenset J4=((not ke(m5))and(X9E(700.,GetUnitLoc(m5),Condition(function NDE))==0)and(IssueTargetOrderById(it,$D0278,m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,J5V[64+O5])))thenset J4=(IssueTargetOrderById(it,$D0118,m5))endifif((not J4)and OXE(it,BU[EBV])and(R8E(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))thenset J4=(m5!=null)and(UnitUseItem(it,OAE(it,BU[EBV])))elseif((not J4)and OXE(it,BU[ENV])and(R8E(it,"ArmletOfMordigan|Active"))and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,OAE(it,BU[ENV])))endifif((not J4)and(GetHeroLevel(it)>$A)and(hq[O5]>Bz))thenif((m5==null)or(IsUnitInRange(it,m5,500.)))thenset m5=K3(1500.,it,Condition(function k6))endifset J4=(m5!=null)and((GetUnitLifePercent(m5)<60.)and((GetUnitState(m5,UNIT_STATE_LIFE)+300.)<GetUnitState(it,UNIT_STATE_LIFE)))and(not IsUnitInRange(it,m5,600.))and(OVE(700.,m5,Condition(function BEE))<=2)and(not AQE(m5))and(X9E(700.,GetUnitLoc(m5),Condition(function NDE))==0)and(IssueTargetOrderById(it,$D0278,m5))endifif((not J4)and(not Id(O5))and(GetHeroLevel(it)>$A)and(hq[O5]>Bz))thenset m5=X8E(1300.,b5,Condition(function NWE))if(m5!=null)thenset m5=X8E(700.,jv(m5),Condition(function k6))set J4=(m5!=null)and(not IsUnitInRange(it,m5,300.))and(IssueTargetOrderById(it,$D0278,m5))endifendifif(not J4 and Bz>J5V[O5])thenset m5=X8E(J5V[64+O5],b5,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<40.)and(IssueTargetOrderById(it,$D0118,m5))endifif(not J4 and(GetUnitAbilityLevel(it,1093747768)>0))thenset m5=X8E(J5V[64+O5],b5,Condition(function k6))set J4=(m5!=null)and(GetRandomInt(1,2)==1)and(((OVE(500.,m5,Condition(function BEE))<=2)and(OXE(it,BU[N8]))or(OXE(it,BU[V2V])))or((OVE(500.,m5,Condition(function BEE))<2)))and(IssueTargetOrderById(it,$D0118,m5))endifif(not J4)and(GetHeroLevel(it)>$A)thenset m5=X8E(2000.,b5,Condition(function k6))set J4=(m5!=null)and(Bz>J5V[16+O5])and(GetUnitLifePercent(it)>90.)and(not AQE(m5))and(not IsUnitInRange(it,m5,700.))and(((OVE(900.,m5,Condition(function BEE))<=1)and(OXE(it,BU[N8]))or(OXE(it,BU[V2V])))or((OVE(900.,m5,Condition(function BEE))<2)))and(OVE(750.,m5,Condition(function NDE))==0)and(IssueTargetOrderById(it,$D0278,m5))endifelseif(i1==1429221446)thenif((GetUnitAbilityLevel(it,1110454868)>0)and(X9E(275.,b5,Condition(function BEE))==0))thenif((m5==null)or(not IsUnitInRange(it,m5,500.)))thenset m5=X8E(500.,b5,Condition(function k6))endifif((m5!=null)and(G0[$80+O5]))thencall IssueTargetOrderById(it,$D000F,m5)elsecall SetPlayerAbilityAvailable(pl,1093678667,true)call IssueImmediateOrderById(it,$D00D2)endifelseif(GetUnitAbilityLevel(it,1110454868)==0)thenif(X9E(225.,b5,Condition(function BEE))==0)thencall SetPlayerAbilityAvailable(pl,1093678667,false)elsecall SetPlayerAbilityAvailable(pl,1093678667,true)call IssueImmediateOrderById(it,$D00D1)endifendifif(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,$E1))and(GetUnitLifePercent(m5)<70)thenset J4=OQE(it,$D0200,1093682764,1093747544,m5)endifif(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<30)thenset J4=TEI(it,m5)endifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitState(it,UNIT_STATE_MANA)>=150.)and(Bz>hq[16+O5]))thenset UP=$C8+($C8*GetUnitAbilityLevel(it,1093678665))if((m5==null)or(IsUnitIllusion(m5))or(IsUnitInRange(it,m5,200.))or(not IsUnitInRange(it,m5,UP)))thenset m5=X6E(UP,b5,Condition(function BEE))endifset J4=(m5!=null)and(not IsUnitInRange(it,m5,200.))and((GetUnitLifePercent(m5)<80.)or(X9E(500.,b5,Condition(function NSE))>0)or(Bz>hq[O5]))and(TEI(it,m5))if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[$80+O5])and(X9E(400.,jv(it),Condition(function k8))==0))thenset UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-$Felseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+$Fendifset J4=IssuePointOrderById(it,$D0012,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1==1429221445)thencall SetPlayerAbilityAvailable(pl,1093678422,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.)or(X9E(400.,b5,Condition(function k6))>0))if((m5!=null)and(not ke(m5))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))thenset UP=GetUnitAbilityLevel(it,1093678647)if(UP==0)thenset UP=GetUnitAbilityLevel(it,1093679184)+1endifset J4=(GetUnitState(m5,UNIT_STATE_LIFE)<((.2+(I2R(UP)*.2))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(OQE(it,$D007F,1093678647,1093679184,m5))endifif((not J4)and(GetHeroLevel(it)>6)and(GetUnitLifePercent(it)<85.)and(GetUnitManaPercent(it)>35.))thenset J4=((X9E(400.,b5,Condition(function KA))>0)or(X9E(400.,b5,Condition(function KC))>0))and(IssueImmediateOrderById(it,$D022E))endifif((not J4)and(hq[$F0+O5]>Bz))thenset J4=(X9E(400.,b5,Condition(function KA))>1)and(OTE(it,$D022E,1093678422))endifif((not J4)and(GetUnitManaPercent(it)>35.)and(GetUnitState(it,UNIT_STATE_MANA)>250.))thenset m5=X6E(400.,b5,Condition(function NQE))set J4=(m5!=null)and(((GetUnitLevel(it)>4)and(GetUnitLifePercent(m5)<80.))or(GetUnitLifePercent(m5)<55.))and(OTE(it,$D022E,1093678422))endifelseif(i1==1332963428)thenif(GetHeroLevel(it)>2)thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(900.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)>60.))thenset J4=((OVE(600.,m5,Condition(function N_E))>0)or((OVE(800.,m5,Condition(function NQE))==0)and(OVE(800.,m5,Condition(function Ko))==0)and(GetUnitManaPercent(it)>65.)))and(OME(it,$D0103,1093678169,m5))endifif((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(it,m5,600.)))thenset J4=(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5])and(X9E(600.,b5,Condition(function NSE))>0)and(OME(it,$D0200,1093677649,m5))endifif((not J4)and(GetHeroLevel(it)>$B)and(m5!=null)and(kq(GetUnitTypeId(m5))))thenset J4=OME(it,$D0062,1093678166,m5)endifif(GetUnitLifePercent(it)<85.)thenif((m5==null)and(GetUnitManaPercent(it)>70.)and(X9E(1200.,b5,Condition(function k6))==0))thenset m5=X6E(600.,b5,Condition(function KA))endifset J4=(m5!=null)and(OME(it,$D0097,1093683019,m5))endifendifelseif(i1==1332109682)thenif((G0[$80+O5])and(OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<70.)or(GetUnitAbilityLevel(m5,1112432994)>0)or(Bz>hq[O5]))and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,700.)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifif(GetHeroLevel(it)>4)thenif((m5==null)and(G0[$80+O5])and(GetUnitManaPercent(it)>40.))thenset m5=X6E(800.,b5,Condition(function k6))endifelsecall SetPlayerAbilityAvailable(pl,1093678134,false)endifif((not J4)and(m5!=null)and((GetHeroLevel(it)>5)or(X1E(m5))))thenset J4=((GetUnitManaPercent(it)>30.)and(OME(it,$D02B6,1093678134,m5)))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(OTE(it,$D026C,1093810505)))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset J4=(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(X9E(600.,b5,Condition(function NQE))>0)and(Kz(600.,b5)>1)and(OTE(it,$D026C,1093810505))if(not J4)thenset m5=X8E(800.,b5,Condition(function NWE))set J4=((m5!=null)and(OVE(600.,it,Condition(function k6))>0)and(OTE(it,$D026C,1093810505)))endifendifif((not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.))and(IsUnitInRange(it,m5,300)))thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093810505,4)+60)or(Bz+$A<J5V[O5]))and(IssueImmediateOrderById(it,$D00C4))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093810505,4)+$96))and(GetUnitAbilityLevel(it,1093808694)>1)and(OVE(400.,it,Condition(function NIE))>3))thenset J4=(IssueImmediateOrderById(it,$D00C4))endifelseif(i1==1211117640)thenif(h4[16+O5]!=null)thenif((XZE(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110454606)>0))thenset J4=(TOI(it,h4[16+O5]))or(IssueTargetOrderById(it,$D0079,h4[16+O5]))call TSI(it,h4[16+O5])elseset h4[16+O5]=nullendifelseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,500.))and((GetHeroLevel(it)>4)))thenset J4=(GetUnitAbilityLevel(m5,1110454606)==0)and(GetUnitState(it,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(OME(it,$D0206,1093681989,m5))endifif((not J4)and(GetHeroLevel(it)>$B)and(Bz>hq[16+O5])and(X9E(I2R(270+($FA*GetUnitAbilityLevel(it,1093679428))),b5,Condition(function k6))>0))thenset GZ[O5]=trueset J4=J8(O5,OTE(it,$D0272,1093679428))endifif((not J4)and(GetHeroLevel(it)>5)and((m5!=null)or(GetUnitLifePercent(it)<70.)))thenif((m5==null)or(IsUnitIllusion(m5)))thenif(X9E(800.,b5,Condition(function k6))==0)thenset m5=X6E(500.,b5,Condition(function KA))set J4=(m5!=null)and(GetUnitLifePercent(m5)>80.)and(OQE(it,$D0207,1093681987,1093677658,m5))endifelseif((IsUnitInRange(it,m5,400.))and((GetUnitLifePercent(m5)<50.)or(GetUnitAbilityLevel(m5,1110454606)>0)))thenset J4=OQE(it,$D0207,1093681987,1093677658,m5)endifif((not J4)and(iy(it)))thencall SetPlayerAbilityAvailable(pl,1093681987,true)call SetPlayerAbilityAvailable(pl,1093677658,true)endifelsecall SetPlayerAbilityAvailable(pl,1093681987,false)call SetPlayerAbilityAvailable(pl,1093677658,false)endifelseif(i1==1430468406)thencall SetPlayerAbilityAvailable(pl,kT(it),(GetHeroLevel(it)>$A)and((GetUnitManaPercent(it)>60.)or(m5!=null)))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(1000.,b5,Condition(function k6))endifif((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(X_E(m5,it))))thenset J4=OME(it,$D00FA,kT(it),m5)endifif((not J4)and(GetHeroLevel(it)>5)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[$80+O5]))thenset J4=(Kz(500.,b5)>1)and(hq[416+O5]>Bz)and(IssueImmediateOrderById(it,$D024C))if((not J4)and(m5!=null)and(OXE(it,BU[EZ]))and(G0[$80+O5])and(GetHeroLevel(it)>$D)and(GetUnitLifePercent(it)>70.)and(GetUnitManaPercent(it)>30.))thenset h4[16+O5]=m5set J4=TAI(it,m5)endifendifelseif(i1==1160786241)thenif(GetUnitManaPercent(it)<50.)thenif(GetUnitAbilityLevel(it,1110455882)>0)thencall IssueImmediateOrderById(it,$D00D2)endifcall SetPlayerAbilityAvailable(pl,1093684805,false)elseif((GetHeroLevel(it)>$C)and(GetUnitManaPercent(it)>70.))thencall SetPlayerAbilityAvailable(pl,1093684805,true)if((GetUnitAbilityLevel(it,1110455882)==0)and(hG[O5]>$E)and(not Q and not HFV))thencall IssueImmediateOrderById(it,$D00D1)endifendifcall SetPlayerAbilityAvailable(pl,1093684813,(m5==null)and(GetHeroLevel(it)>7)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))if(m5!=null)thenset J4=((GetHeroLevel(it)>4)or(X_E(m5,it)))and((((GetUnitCurrentOrder(m5)==$D0005)or(IsUnitInRange(it,m5,200.)))and(not IsUnitIllusion(m5))and(OME(it,$D0079,1093684815,m5)))or((GetUnitLifePercent(m5)<70.)and(OME(it,$D0097,1093684813,m5))))if((not J4)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not kr(it)))thenset UP=Kz(700.,jv(m5))if((UP>2)or((UP>1)and(X9E(700.,b5,Condition(function NQE))>0)))thenset J4=((X9E(700.,b5,Condition(function NQE))>0)and(OME(it,$D0097,1093684813,m5)))or(OQE(it,$D0275,1093684820,1093684824,m5))endifendifendifelseif(i1==1429221456)thenif((m5!=null)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))thenset UP=Kz(700.,jv(m5))if((UP>2)or((UP>1)and(X9E(730.,b5,Condition(function NSE))>0)))thenset J4=OQE(it,$D0079,1093685067,1093752407,m5)endifendifelseif(i1==1160786243)thencall SetPlayerAbilityAvailable(pl,1093678672,GZ[O5])set m5=X6E(600.,b5,Condition(function NWE))if(m5==null)thenset m5=X6E(500.,b5,Condition(function NQE))endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(X9E(900.,b5,Condition(function k6))>0)and(IssueTargetOrderById(it,$D0118,m5))set m5=h4[O5]if((not J4)and(m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.))thenset m5=X6E(800.,b5,Condition(function k6))endifif(not J4)thenset J4=((GetUnitLifePercent(it)<65.)and(IssueTargetOrderById(it,$D0118,it)))or((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))or(X_E(m5,it)))and(IssueTargetOrderById(it,$D0118,m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))thenset UP=Kz(700.,jv(m5))if((UP>2)or(GetUnitLifePercent(m5)<50.)or((UP>1)and(OVE(700.,m5,Condition(function NSE))>0)))thenset GZ[O5]=trueset J4=J8(O5,OME(it,$D0100,1395667000,m5))endifif((not J4)and(X_E(m5,it))and(GetHeroLevel(it)>$A)and(GetUnitLifePercent(it)>60.)and(OVE(700.,m5,Condition(function NSE))>0))thenif((not IsUnitInRange(it,m5,250.))and(OXE(it,BU[EZ]))and(G0[$80+O5])and(Bz>hq[16+O5]))thenset J4=TAI(it,m5)endifif(not J4)thenset GZ[O5]=trueset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(it),GetUnitX(h8[O5])-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,1093678672,true)set J4=J8(O5,IssuePointOrderById(it,$D0079,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))endifendifendifelseif(i1==1160786242)thencall SetPlayerAbilityAvailable(pl,1093683287,(GetHeroLevel(it)>3)or((m5!=null)and(X_E(m5,it))))set J4=(m5!=null)and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(IssueTargetOrderById(it,$D02B6,m5))if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function k7))set J4=(m5!=null)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<50+($F*GetHeroLevel(it)))and(IssueImmediateOrderById(it,$D020A))endifif((not J4)and(Bz<=hq[$F0+O5])and((hq[$F0+O5]-Bz)<2.5)and(not IC(O5))and(not Id(O5)))thenset m5=X8E(2500.,b5,Condition(function k7))set J4=(m5!=null)and(X5E(m5,it))and(not IsUnitInRange(m5,it,800.))and((OVE(800.,m5,Condition(function k6))-OVE(800.,m5,Condition(function NSE))<=1))and(OVE(1000.,m5,Condition(function NDE))==0)and(IssueTargetOrderById(it,$D00D9,m5))endifelseif((i1==1211117641)or(i1==1211117642))thenif(i1==1211117642)thenset J4=((not IsUnitInRange(it,QV[O5],3000.))and(IssueTargetOrderById(it,$D0249,QV[O5])))or(((eY[O5]==2)or(G0[16+O5]))and(jW(it,$D0012,h9[O5])))if((not J4)and(kA(it,QV[O5],800.)))thencall jW(it,$D0012,h9[O5])endifset UP=1elseset UP=0endifif(not J4)and(h4[O5]!=null)and(not G5X(m5))thenset J4=TDI(it,m5)endifif(not J4)and(h4[O5]!=null)and(G5X(m5))and(IsUnitInRange(it,m5,300))thenset J4=IssuePointOrderByIdLoc(it,$D0249,jv(m5))endifif((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456120)==0))thenif((Kz(700.,jv(m5))>1)or(OVE(500.,m5,Condition(function NSE))>UP))thenset J4=TDI(it,m5)endifendifif((not J4)and(GetHeroLevel(it)>2)and(X9E(800.,b5,Condition(function NWE))>0))thenset m5=X6E(800.,b5,Condition(function k6))set J4=(m5!=null)and(TDI(it,m5))endifif(not J4)and(i1==1211117641)and(GetUnitManaPercent(it)>70)and(X9E(300.,jv(it),Condition(function NIE))>2)thenset J4=IssuePointOrderByIdLoc(it,$D0249,jv(m5))endifelseif(i1==1311781207)thenset J4=((GetUnitLifePercent(it)<80.)and(IssueTargetOrderById(it,$D0105,it)))or((m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(OME(it,$D007F,1093684817,m5)))if((not J4)and(GetHeroLevel(it)>3))thenset m5=X6E(800.,b5,Condition(function NWE))if(m5==null)thenset m5=X6E(600.,b5,Condition(function NQE))endifif((m5!=null)and(not IsUnitIllusion(m5)))thenset UP=R2I(GetUnitLifePercent(m5))if((UP<50)and(GetHeroLevel(it)>$A)and(Bz>hq[O5]))thenset J4=(OVE(800.,m5,Condition(function k6))>0)and((IssueTargetOrderById(it,$D0238,m5))or(IssueTargetOrderById(it,$D0105,m5)))elseif(UP<70)thenset J4=(m5!=null)and(IssueTargetOrderById(it,$D0105,m5))endifelseif((GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>75.))thenset m5=X6E(600.,b5,Condition(function Kd))set J4=(m5!=null)and(OVE(300.,m5,Condition(function k8))>1)and(IssueTargetOrderById(it,$D0105,m5))endifendifelseif(i1==1311780946)thencall SetPlayerAbilityAvailable(pl,1093809743,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>55.))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenset m5=X6E(700.,b5,Condition(function k6))endifif(m5!=null)thenset J4=(((GetUnitLifePercent(m5)<50.)or(IsUnitInRange(it,m5,250.)))and(OME(it,$D0208,1093685825,m5)))or((OVE(300.,it,Condition(function LYE))>1)and(OTE(it,$D022E,1093810232)))if((not J4)and((GetUnitCurrentOrder(m5)==$D0005)or(IsUnitInRange(it,m5,300.))or(GetUnitLifePercent(m5)<50.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,1093809743,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,$D010E,GetUnitX(m5)+150.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(UP*bj_DEGTORAD)))endifendifif(not J4)thenset m5=X8E(700.,b5,Condition(function NWE))set J4=(m5!=null)and(OVE(400.,m5,Condition(function k6))>0)and(OME(it,$D0208,1093685825,m5))endifif((not J4)and(GetHeroLevel(it)>9)and((eY[O5]==3)or(eY[O5]==4)or(GetUnitManaPercent(it)>60.)))thenset m5=X8E(700.,b5,Condition(function k8))set J4=(m5!=null)and(OVE(300.,m5,Condition(function k8))>2)and(OVE(400.,it,Condition(function LYE))>2)and(OTE(it,$D022E,1093810232))endifif((not J4)and(is(it))and(GetHeroLevel(it)>9))thenset UP=R2I(E3E(it,OUE(it)))if((UP>$7D0)and(UP<$DAC)and(eY[O5]==1)and(GetUnitAbilityLevel(it,1093685808)>1))thenif(h8[16+O5]==h7[$E])thenset J4=SYI(0)elseif(h8[16+O5]==h7[35])thenset J4=SYI(1)elseif(h8[16+O5]==h7[55])thenset J4=SYI(2)endifelseif(((eY[O5]==3)or(eY[O5]==4))and(UP>5000)and(X9E(1200.,b5,Condition(function k6))==0))thenset J4=SYI(3)endifendifelseif((i1==1211117650)or(i1==1211119433))thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenset m5=X8E(700.,b5,Condition(function k6))endifif((h4[O5]!=null)or X_E(it,m5))and(IsUnitInRange(it,m5,300.))thenset J4=(Bz>J5V[O5])and(OTE(it,$D00D4,1093743946))endifif(not J4)and(Bz>J5V[48+O5])and((GZ[$D0+O5])or(GetUnitState(it,UNIT_STATE_MANA)>300.)or(h4[O5]!=null))thenset I9V=itset bj_forLoopAIndex=X9E(25+$C8+$C8*GetUnitAbilityLevel(it,1093743958),b5,Condition(function LIE))if((bj_forLoopAIndex>4)or(bj_forLoopAIndex>3 and h4[O5]!=null))thenset J4=OPE(it,$D02B6,1093743958,b5)endifendifif(not J4)and(Bz>J5V[32+O5])thenset I9V=itset UP=X9E(1000.,b5,Condition(function ny))if((not J4)and(UP>=4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>50.))thenset m5=h4[O5]set J4=(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(X_E(m5,it)))and(IssueTargetOrderById(it,$D02BD,m5))endifif((not J4)and(UP>=4)and(GetUnitManaPercent(it)>40.))thenset m5=X6E(800.,b5,Condition(function NWE))if(m5==null)thenset m5=X6E(600.,b5,Condition(function NQE))endifset J4=(m5!=null)and(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(X1E(m5)))and(IssueTargetOrderById(it,$D02BD,m5))endifif(not J4)thenset J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,$D02BD,it))endifendifif(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>400)or X1E(m5))and(GetUnitState(it,UNIT_STATE_MANA)>$C8)thenset J4=(Bz>J5V[16+O5])and(OME(it,$D0079,1093743955,h4[O5]))endifelseif(i1==1211119187)thenif(not J4)and(GetUnitLevel(it)>5)and(Bz>J5V[O5])and(h4[O5]!=null)thenif(not J4)and(F7E(it,h4[O5],650.,.5,1300.)!=null)thenif((X_E(it,h4[O5])or GetUnitLifePercent(h4[O5])<50.)and(E4E(GetUnitX(it),GetUnitY(it),GetLocationX(YIV),GetLocationY(YIV))>600.))thenset J4=OPE(it,$D02B6,1093742923,YIV)endifendifif(not J4)thenset m5=BJE(it)if(m5!=null)and(F7E(it,m5,650.,.5,1300.)!=null)and(E4E(GetUnitX(it),GetUnitY(it),GetLocationX(YIV),GetLocationY(YIV))>600.)thenset J4=OPE(it,$D02B6,1093742923,YIV)endifendifif(not J4)thenset m5=h4[O5]if(m5==null)thenset m5=BRE(1500.,it)endifif(m5!=null)and(GZ[$D0+O5]or(GetUnitLifePercent(it)<50.)or((GetUnitLifePercent(m5)<50)and(F7E(it,m5,650.,.5,1300.)!=null)and(E4E(GetUnitX(it),GetUnitY(it),GetLocationX(YIV),GetLocationY(YIV))>600.)))thenset J4=OPE(it,$D02B6,1093742923,jv(m5))if J4 thenset h4[O5]=m5endifendifendifendifset m5=h4[O5]if m5==null thenset m5=BRE(1300.,it)endifif(not J4)and(not IsUnitIllusion(m5))and(Bz>J5V[32+O5])and((Bz>J5V[16+O5])or(GetUnitAbilityLevel(it,1093742926)<=1)or(GetUnitState(it,UNIT_STATE_MANA)<=120.))and((h4[O5]!=null and GetUnitLifePercent(h4[O5])<50.)or((m5!=null)and(X1E(m5))))thenset J4=IssueTargetOrderById(it,$D0265,m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(Bz>J5V[16+O5])and(J5V[32+O5]>Bz+2. or(GetUnitAbilityLevel(it,1093743414)>1 and h4[O5]==null)or(h4[O5]!=null and GetUnitLifePercent(h4[O5])>80.)or(GetUnitAbilityLevel(it,1093742926)<=1))and(m5!=null)and((h4[O5]!=null)or(X_E(m5,it))or((GetUnitManaPercent(it)>50.)and(GetUnitLifePercent(m5)<70. or GetUnitState(it,UNIT_STATE_MANA)>400.)))thenif GVE(it,m5,2.,1500.)!=null thenset J4=OPE(it,$D0079,1093743414,YIV)set h4[16+O5]=m5endifendifelseif(i1==1211117646)thencall SetPlayerAbilityAvailable(pl,1093685573,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>70.)and(X9E(700.,b5,Condition(function k6))==0))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenset m5=X8E(700.,b5,Condition(function k6))endifif((m5!=null)and((GetUnitLifePercent(m5)<60.)or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>60.)or(OVE(600.,m5,Condition(function NQE))>0)))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,1093685573,true)set J4=IssuePointOrderById(it,$D0079,GetUnitX(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+(50.+100.*GetUnitAbilityLevel(it,1093685573))*Sin(UP*bj_DEGTORAD))endifif((not J4)and(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>50.)and(GetRandomInt(1,4)==1))thenset m5=X6E(700.,b5,Condition(function Kd))set J4=(m5!=null)and(GetUnitLifePercent(m5)>65.)and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(OVE(250.,m5,Condition(function k8))>2)and(IssueTargetOrderById(it,$D007F,m5))endifif(not J4)thenset m5=X8E(700.,b5,Condition(function NWE))set J4=(m5!=null)and(OVE(250.,m5,Condition(function k6))>0)and(OME(it,$D0085,1093685815,m5))endifif(not J4)thenset m5=X8E(700.,b5,Condition(function k7))if(m5!=null)thenset m5=X8E(700.,jv(m5),Condition(function NQE))set J4=((m5!=null)and(IsUnitAlly(m5,GetOwningPlayer(it)))and(OME(it,$D0085,1093685815,m5)))or(OME(it,$D0085,1093685815,it))endifendifif((not J4)and(GetHeroLevel(it)>14.)and(Bz>hq[O5])and(hq[416+O5]>Bz))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=X8E(1000.,b5,Condition(function k7))if(m5!=null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(it,$D00DE,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))elseset m5=X8E(1000.,b5,Condition(function k6))if(m5!=null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(m5),GetUnitX(h9[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(it,$D00DE,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))endifendifendifendifelseif(i1==1211117624)thencall SetPlayerAbilityAvailable(pl,1093683024,(GetHeroLevel(it)>$A)and((GetUnitManaPercent(it)>70.)or(m5!=null)))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenset m5=X8E(700.,b5,Condition(function k6))endifset J4=(m5!=null)and((((GetUnitLifePercent(m5)<60.)or((GetUnitAbilityLevel(m5,1110454869)==0)and(hq[416+O5]>Bz)))and(IssueTargetOrderById(it,$D0278,m5)))or((IsUnitInRange(it,m5,600.))and((GetHeroLevel(it)>6)or(X_E(m5,it)))and(OTE(it,$D022E,1093683024))))elseif(i1==1160785973)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(600.,b5,Condition(function k6))if((m5==null)and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>30.)and(OXE(it,BU[EZ])))thenset m5=X6E(1200.,b5,Condition(function k6))endifendifif(m5!=null)thenif((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[$80+O5]))thenif(IsUnitInRange(m5,it,500.))thenset UP=X9E(700.,b5,Condition(function k8))-X9E(700.,b5,Condition(function k6))set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(IssueImmediateOrderById(it,$D0278))if J4 thencall TriggerSleepAction(0)call OME(it,$D0107,1093678130,m5)endifelseif((OXE(it,BU[EZ]))and(G0[$80+O5])and(IsUnitInRange(m5,it,1000.))and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>30.))thenset UP=OVE(700.,m5,Condition(function k8))-OVE(700.,m5,Condition(function k6))set h4[16+O5]=m5set J4=(UP<2)and(GetUnitAbilityLevel(m5,1110454580)==0)and(TAI(it,m5))endifendifif((not J4)and(X_E(m5,it)))thenset J4=(OME(it,$D0107,1093678130,m5))endifif((not J4)and(GetHeroLevel(it)>20))thenset J4=(GetUnitState(it,UNIT_STATE_MANA)>450.)and(OME(it,$D0107,1093678130,m5))endifendifelseif(i1==1315988077)thenif((G0[$80+O5])and(OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>2))thenset J4=((X_E(m5,it))and(OME(it,$D0269,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(OTE(it,$D0080,1093678669)))endifcall SetPlayerAbilityAvailable(pl,1093678669,(GetHeroLevel(it)>$C)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((not J4)and(GetHeroLevel(it)>$C)and(hq[416+O5]>Bz)and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=X8E(800.,b5,Condition(function k6))if(m5!=null)thenset J4=((kq(GetUnitTypeId(m5)))and(OME(it,$D0269,1097032808,m5)))or((IsUnitInRange(it,m5,200.))and(OTE(it,$D0080,1093678669)))endifendifendifelseif(i1==1211117616)thenif((G0[$80+O5])and(OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifif((not J4)and(m5!=null))thenset J4=((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and((GetUnitState(m5,UNIT_STATE_LIFE)+1000.)<GetUnitState(it,UNIT_STATE_LIFE))and(OME(it,$D0107,1093677132,m5)))or((IsUnitInRange(it,m5,200.))and(GetHeroLevel(it)>3)and(OTE(it,$D009F,1093677139)))endifcall SetPlayerAbilityAvailable(pl,1093677139,(GetHeroLevel(it)>$C)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))elseif(i1==1315074670)thenif((m5!=null)and(GetUnitManaPercent(it)>60.)and(kP(GetUnitTypeId(m5)))and(GetUnitCurrentOrder(it)!=$D000F))thenset J4=OME(it,$D0270,1093685570,m5)endifif((m5==null)and(not J4)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(OME(it,$D0113,1093677622,m5))if((not J4)and(OXE(it,BU[VCV]))and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>50.)and(G0[$80+O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5]))))thenset m5=h4[$90+O5]elseset m5=X6E(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(not OXE(m5,BU[GY]))and(GetUnitTypeId(m5)!=1212365106)and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and(OVE(600.,m5,Condition(function N_E))>0)or((GetUnitLifePercent(m5)<75.)and(OVE(1000.,m5,Condition(function NDE))==0)))thenset h4[288+O5]=m5set GZ[272+O5]=trueset J4=UnitUseItem(it,OAE(it,BU[VCV]))set GZ[272+O5]=J4endifendifelseif((i1==1215063922)or(i1==1211117638)or(i1==1211117637)or(i1==1211117639))thencall SetPlayerAbilityAvailable(pl,1093677894,(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[$80+O5]))thenif(i1!=1215063922)thenset m5=X6E(1000.,b5,Condition(function k6))set h4[O5]=m5elseif((GetHeroLevel(it)>3)and(GetUnitManaPercent(m5)>70.))thenset m5=X6E(700.,b5,Condition(function k6))endifendifset J4=(m5!=null)and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))and(OME(it,$D007F,1093681490,m5))set J4=(m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(X1E(m5)))and(OME(it,$D0264,1093677894,m5))if((not J4)and(GetHeroLevel(it)>$C)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(900.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(OTE(it,$D00D4,1093677895))endifendifelseif(i1==1164207469)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>5))thenset m5=X6E(800.,b5,Condition(function k6))endifif((m5!=null)and(GetHeroLevel(it)>5))thenif(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(it,1093682483))*.25)))))thenset J4=(not IsUnitIllusion(m5))and(not ke(m5))and(OME(it,$D007F,1093682483,m5))endifif((not J4)and(GetUnitLifePercent(m5)<70.)and(G0[$80+O5])and(not IsUnitInRange(m5,it,300.))and(GetUnitLifePercent(it)>70.)and(OVE(800.,m5,Condition(function NDE))==0)and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1))thenset WAI=kL(it,m5,200.)set J4=(WAI!=null)and(IssuePointOrderByIdLoc(it,$D022D,WAI))endifendifif((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(X9E(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))thenset WAI=kk(it,800.,h8[O5])set J4=(WAI!=null)and(IssuePointOrderByIdLoc(it,$D022D,WAI))endifelseif(i1==1433631084)thencall SetPlayerAbilityAvailable(pl,1093678644,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>70.))if((GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif(m5==null)thenset m5=X6E(1200.+(500.*GetUnitAbilityLevel(it,1093678160)),b5,Condition(function k7))endifset J4=(m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<($C8+($96*GetUnitAbilityLevel(it,1093678160))))and(OME(it,$D007F,1093678160,m5))if((not J4)and(hq[416+O5]>Bz)and(GetHeroLevel(it)>$A)and(X9E(800.,b5,Condition(function NSE))>0))thenif(m5==null)thenset m5=X6E(1200.,b5,Condition(function k6))endifset J4=(m5!=null)and(not IsUnitIllusion(m5))and(OME(it,$D007F,1093678160,m5))endifendifelseif(i1==1214345830)thencall SetPlayerAbilityAvailable(pl,1093679190,X9E(1000.,b5,Condition(function k6))>0)set m5=X6E(800.,b5,Condition(function NWE))if(m5==null)thenset m5=X6E(600.,b5,Condition(function NQE))endifif((m5!=null)and(GetUnitLifePercent(m5)<70.))thenset J4=(((GetHeroLevel(it)>4)or(X_E(m5,it)))and(OME(it,$D0101,1093679182,m5)))or((GetUnitLifePercent(m5)<40.)and(OVE(600.,m5,Condition(function k6))>0)and(OME(it,$D00DA,1093679190,m5)))endifif((not J4)and(GetHeroLevel(it)>$C)and(hq[416+O5]>Bz)and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(OVE(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D0277))endifendifif(not J4)thenset J4=(GetUnitLifePercent(it)<75.)and(OME(it,$D0101,1093679182,it))endifif((not J4)and(GetHeroLevel(it)>$A))thenset m5=X6E(450.,b5,Condition(function NDE))if((m5!=null)and(GetUnitLifePercent(m5)<30.)and(GetUnitLifePercent(m5)>10.))thenset J4=(X9E(600.,b5,Condition(function KC))>4)and(IssueImmediateOrderById(it,$D0277))endifendifelseif((i1==1311781174)or(i1==1311781175)or(i1==1311781442))thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(700.,b5,Condition(function k6))if(GetUnitAbilityLevel(it,1110454338)>0 or X_E(it,m5))thenset h4[O5]=m5endifendifif(not J4)and(h4[O5]!=null)thenif(i1==1311781174)thenset J4=(IsUnitInRange(it,h4[O5],500.)and(OTE(it,$D022E,1093748042)))elseset J4=(IsUnitInRange(it,h4[O5],200.)and(OTE(it,$D022E,1093748042)))endifendifif(not J4)and(h4[O5]!=null)thenif(i1==1311781174)thenset J4=OME(it,$D00FA,1093808461,m5)elseset J4=(IsUnitInRange(it,h4[O5],400.)and(OTE(it,$D0080,1093808462)))endifendifif(not J4)thenif(m5!=null)and(IsUnitInRange(it,m5,200.))thenif(i1==1311781174)thenset J4=(OTE(it,$D00AA,1093681733))if J4 thenset i1=1311781175endifendifelseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(VZE(it)<2000.)))thenif(i1!=1311781174)thenset J4=(OTE(it,$D00AB,1093681733))if J4 thenset i1=1311781174endifendifelseif(h4[O5]!=null)and(not IsUnitInRange(it,m5,200.))and(Bz>J5V[32+O5])thenif(i1!=1311781174)thenset J4=(OTE(it,$D00AB,1093681733))if J4 thenset i1=1311781174endifendifelseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(ODE(it,BU[VVV]))thenset J4=(i1==1311781174)and(OTE(it,$D00AA,1093681733))elseset J4=(i1!=1311781174)and(OTE(it,$D00AB,1093681733))endifendifelseif(i1==1315007329)thenset J4=GetUnitAbilityLevel(it,1110455864)>0if((m5==null)or(GetUnitLifePercent(m5)>50.))thenset m5=K3(1000.,it,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((GetUnitState(m5,UNIT_STATE_LIFE)<hq[272+O5])or((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>55.)))and(OME(it,$D007F,1093677108,m5)))or((GetUnitAbilityLevel(m5,1110454348)==0)and((GetUnitLifePercent(m5)<75.)or((GetHeroLevel(it)>$B)and(GetUnitState(it,UNIT_STATE_MANA)>250.)))and(not IsUnitIllusion(m5))and(OME(it,$D00B5,1093681716,m5)))endifif((not J4)and(GetHeroLevel(it)>8)and(G0[$80+O5])and(Bz>hq[O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5]))))thenset m5=h4[$90+O5]elseset m5=X8E(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!=1212365106)and((not IsUnitInRange(it,m5,600.))or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(OVE(650.,m5,Condition(function N_E))>0)))thenset h4[288+O5]=m5set J4=(OVE(800.,m5,Condition(function NDE))==0)and(IssueImmediateOrderById(it,$D00A1))endifendifelseif(i1==1332898670)thencall SetPlayerAbilityAvailable(pl,1093677360,(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[$80+O5]))thenset m5=X6E(900.,b5,Condition(function k6))endifif((m5!=null)and((X_E(m5,it))or((GetUnitLifePercent(m5)<70.)and(OVE(500.,m5,Condition(function NQE))>0))))thenset J4=(IsUnitInRange(it,m5,400)or G5X(m5))and(OME(it,$D0200,1093677136,m5))endifif((not J4)and(m5!=null)and((GetHeroLevel(it)>3)or(X_E(m5,it))))thenset J4=((GetUnitLifePercent(m5)<70.)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(OME(it,$D0216,1093685848,m5)))or((GetUnitManaPercent(it)>60.)and(OME(it,$D026B,1093677360,m5)))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)or(GetUnitCurrentOrder(m5)!=$D0005)or(not IsUnitInRange(it,m5,500.)))thenset m5=X6E(900.,b5,Condition(function KM))endifif(m5!=null)thenset GZ[O5]=trueset J4=J8(O5,OQE(it,$D0218,1093677128,1093681457,m5))endifendifif((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[O5]))thenset m5=X8E(900.,b5,Condition(function NDE))if((m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(OVE(800.,m5,Condition(function KC))>2))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))set GZ[O5]=truecall SetPlayerAbilityAvailable(pl,1093677128,true)call SetPlayerAbilityAvailable(pl,1093681457,true)set J4=IssuePointOrderById(it,$D0218,GetUnitX(m5)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300.*Sin(UP*bj_DEGTORAD))set GZ[O5]=falseendifendifelseif(i1==1215723364)thencall SetPlayerAbilityAvailable(pl,1093744463,GetUnitManaPercent(it)>60.)if((m5!=null)and((GetHeroLevel(it)>4)or(X_E(m5,it))))thenset J4=OME(it,$D007F,1093677633,m5)if((not J4)and(GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(kA(it,m5,600.)))thenset J4=OQE(it,$D026B,1093683534,1093747031,m5)endifendifif((not J4)and(Bz>hq[O5])and(Bz>hq[16+O5])and(G0[$80+O5])and(GetHeroLevel(it)>$A)and(GetUnitLifePercent(it)>80.)and(X9E(400.,b5,Condition(function NSE))>0))thenif(m5==null)thenset m5=K3(1000.,it,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(not IsUnitInRange(it,m5,500.)))thenif((OVE(500.,m5,Condition(function k6))<=2)and(X9E(500.,b5,Condition(function k6))==0))thenset J4=OQE(it,$D026B,1093683534,1093747031,m5)endifendifendifif((not J4)and(GetHeroLevel(it)>$C)and(GetUnitLifePercent(it)>60.))thenset J4=(X9E(700.,b5,Condition(function k6))>0)and(X9E(700.,b5,Condition(function NSE))>0)and(OME(it,$D02BD,1093744463,m5))endifelseif(i1==1215128178)thencall SetPlayerAbilityAvailable(pl,1093677616,(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))set UP=GetUnitAbilityLevel(it,1093810503)if(UP==0)thenset UP=GetUnitAbilityLevel(it,1093810504)+1endifset WNV=90+(120*UP)if((GetHeroLevel(it)>5)and(Bz>hq[O5])and((Ie(bj_mapInitialPlayableArea,Condition(function TBI))!=null)or(FKV)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(pl,1093810504,true)set J4=J8(O5,OTE(it,$D00C4,1093810503))endifif((not J4)and(GetHeroLevel(it)>4))thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(1000.,b5,Condition(function k6))endifset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(X_E(m5,it)))and(OME(it,$D007F,1093683779,m5))endifelseif(i1==1164799855)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(800.,b5,Condition(function k6))endifset J4=((GetUnitLifePercent(it)<60.)and(OTE(it,$D024C,1093677378)))or((m5!=null)and(GetUnitLifePercent(m5)<50.)and(OME(it,$D006B,1093682264,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093682265)>0)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(OME(it,$D011E,1093682265,m5)))or((m5!=null)and(GetUnitAbilityLevel(it,1093752642)>0)and(not IsUnitInRange(it,m5,700.))and(GetUnitManaPercent(it)>55.)and(GetRandomInt(1,2)==1)and(OME(it,$D011E,1093752642,m5)))elseif(i1==1433105516)thenif((not J4)and(GetHeroLevel(it)>3))thenset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(X_E(m5,it)))and(IssueTargetOrderById(it,$D02B6,m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>7)and(((GetUnitLifePercent(m5)<75.)and(Bz>hq[O5]))or((GetUnitLifePercent(m5)<50.)and(Bz>hq[16+O5])))and(not kr(it))and(G0[$80+O5]))thenset J4=(Kz(400.,jv(m5))>0)and(IssuePointOrderById(it,$D0278,GetUnitX(m5),GetUnitY(m5)))endifif((not J4)and(GetHeroLevel(it)>10.)and(Bz>hq[O5])and(hq[416+O5]>Bz))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=X8E(800.,b5,Condition(function k6))if(m5!=null)thenset UP=OVE(400.,m5,Condition(function k6))set J4=((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(IssuePointOrderById(it,$D0278,GetUnitX(m5),GetUnitY(m5)))endifendifendifif((not J4)and(GetUnitAbilityLevel(it,1093744688)>0)and(GetUnitManaPercent(it)>50.)and GZ[O5])thenif(GetUnitAbilityLevel(it,1093744688)>1)thenset m5=X6E(600.,b5,Condition(function KD))set J4=(m5!=null)and(IssueTargetOrderById(it,$D007F,m5))elseif(GetUnitManaPercent(it)>70.)thenset m5=X6E(600.,b5,Condition(function KD))set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<150.)and(IssueTargetOrderById(it,$D007F,m5))endifendifif((not J4)and(GetUnitAbilityLevel(it,1093681713)>0)and(GetUnitManaPercent(it)>50.))thenset m5=X8E(500.,b5,Condition(function k6))set J4=(m5!=null)and(OME(it,$D0278,1093681713,m5))endifendifelseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenif(not J4)and((i1==1214409837)and(GetHeroLevel(it)>=6)and(Bz>J5V[O5])and(h4[O5]!=null))thenset J4=OTE(it,$D00D4,1093742932)if J4 thenset i1=1211119192call EYE(.3)set J4=falseendifendifif((not J4)and(GetHeroLevel(it)>5))thenset bj_lastLoadedUnit=m5set m5=Ie(bj_mapInitialPlayableArea,Condition(function NWE))if(m5!=null)and(GetUnitLifePercent(m5)<30)and(XSE(m5))and(E3E(m5,OUE(m5))>E3E(it,OUE(it))+1500.)and(OVE(750.,m5,Condition(function k6))==0)and(not OXE(m5,BU[B5]))thenset J4=(i1!=1214409837 or OTE(it,$D00D4,1093742932))and(IssueTargetOrderById(it,$D0118,m5))if J4 thencall EYE(1.)call JEI(it,true)endifendifset m5=bj_lastLoadedUnitendifif((not J4)and(h4[O5]!=null)and(Bz>J5V[32+O5]))thenset J4=(m5!=null)and(GetUnitManaPercent(m5)>20.)and(GetUnitAbilityLevel(m5,1110455126)==0)and(OME(it,$D02B6,1093742680,m5))endifif((not J4)and(GetUnitManaPercent(it)>40.))thenset m5=X6E(700.,b5,Condition(function NQE))set J4=(m5!=null)and(GetUnitManaPercent(m5)<75.)and(OME(it,$D00D9,1093742898,m5))endifif((not J4)and((GetUnitManaPercent(it)<50.)))thenset J4=OME(it,$D00D9,1093742898,it)endifif((not J4)and(G0[$80+O5])and(GetUnitAbilityLevel(it,1093679157)>1)and((GetUnitManaPercent(it)>30.)or((X9E(1300.,b5,Condition(function k6))<=1)and((GetUnitState(it,UNIT_STATE_MANA)>$96+NYI(it,1093742898,4))and(Bz>J5V[48+O5]))))and(Bz>J5V[16+O5])and((i1!=1214409837)or(((X9E(300.,b5,Condition(function k8))<=2)and(X9E(800.,b5,Condition(function NNE))>2))and((X9E(500.,b5,Condition(function k6))==0)or(X9E(400.,b5,Condition(function N_E))>0)))))thenset m5=h4[O5]if m5==null thenset m5=X6E(1300.,jv(it),Condition(function k6))endifif m5==null thenset m5=X6E(1300.,jv(it),Condition(function NIE))endifif m5!=null thenset WNV=H3E(it,m5)if(IsUnitType(m5,UNIT_TYPE_HERO)and((not XWE(it))or G5X(m5))and GetUnitLifePercent(m5)>30)or(h4[O5]==null)thenset WNV=H3E(it,m5)if(not F1E(it,m5,GetUnitX(it)+1300.*Cos(WNV*bj_DEGTORAD),GetUnitY(it)+1300.*Sin(WNV*bj_DEGTORAD),400,Condition(function k8)))and(bj_forLoopAIndex>2)thenset J4=IssuePointOrderById(it,$D00FA,GetUnitX(it)+150.*Cos(WNV*bj_DEGTORAD),GetUnitY(it)+150.*Sin(WNV*bj_DEGTORAD))endifendifendifendifif((not J4)and(h4[O5]!=null)and(i1!=1214409837))thenset WNV=GetUnitFacing(m5)set J4=(m5!=null)and(IssuePointOrderById(it,$D0079,GetUnitX(m5)+200.*Cos(WNV*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(WNV*bj_DEGTORAD)))endifelseif(i1==1316252014)thencall SetPlayerAbilityAvailable(pl,1093678405,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and((m5!=null)or(X9E(1500.,b5,Condition(function k6))>0)))if(GetHeroLevel(it)>4)thenset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(X_E(m5,it)))and(OME(it,$D0269,1093678137,m5))if(not J4)thenif(m5==null)thenset m5=X6E(2400.,b5,Condition(function k7))endifset J4=(m5!=null)and(OTE(it,$D022E,1093678405))endifendifif((not J4)and(GetHeroLevel(it)>$A)and(GetUnitManaPercent(it)>50.))thenset UP=0if((Bz+10.)<hq[O5])thenset UP=UP+1endifif((Bz+10.)<hq[16+O5])thenset UP=UP+1endifif((Bz+10.)<hq[32+O5])thenset UP=UP+1endifif(((Bz+10.)<hq[80+O5])or((Bz+10.)<hq[96+O5]))thenset UP=UP+1endifif(((UP>1)and(X9E(800.,b5,Condition(function k6))==0))or((UP>2)and(GetUnitLifePercent(it)>50.)))thenset J4=IssueImmediateOrderById(it,$D0278)endifendifelseif(i1==1164799603)thencall SetPlayerAbilityAvailable(pl,1095067246,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.))if(not J4)and(Bz>J5V[O5])and(GetUnitLevel(it)>=6)thenif GetUnitAbilityLevel(it,1093752632)>0 thenset WNV=105+GetUnitAbilityLevel(it,1093752632)*30elseset WNV=116.25+GetUnitAbilityLevel(it,1093752633)*41.25endifset WDV=trueset m5=Ie(bj_mapInitialPlayableArea,Condition(function TBI))if m5==null thenset WDV=falseif h4[O5]!=null thenset U5V=h4[O5]endifset m5=BOE(99999.,it)set U5V=nullif m5==null thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function NIE))endifendifif((m5!=null))thenif(WDV)or((not IsUnitType(m5,UNIT_TYPE_HERO))and((Bz-20>J5V[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.)))or(IsUnitType(m5,UNIT_TYPE_HERO)and((GetUnitLifePercent(m5)<50. or(GZ[$D0+O5]and h4[O5]!=null)or((Bz-$F>J5V[O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)))))thenset J4=OQE(it,$D0097,1093752632,1093752633,m5)endifendifendifif(is(it))thenif((E3E(it,OUE(it))<1500.)and(eY[O5]==1))thenif(h8[16+O5]==h7[$E])thenset J4=SYI(0)elseif(h8[16+O5]==h7[35])thenset J4=SYI(1)elseif(h8[16+O5]==h7[55])thenset J4=SYI(2)endifelseif(((eY[O5]==3)or(eY[O5]==4))and(E3E(it,OUE(it))>6000.)and(X9E(1200.,b5,Condition(function k6))==0))thenset J4=SYI(3)endifendifif(not J4)thenif(((m5==null)or(not X_E(m5,it)))and(G0[$80+O5]))thenset m5=K3(800.,it,Condition(function k7))endifset J4=(m5!=null)and(X_E(m5,it))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(OME(it,$D00FA,1093808453,m5))endifelseif(i1==1328558160)thenif(OXE(it,BU[X3V]))thencall SetPlayerAbilityAvailable(pl,1093682998,false)endifif((GetUnitAbilityLevel(it,1093684056)>0)and(E3E(it,OUE(it))>2000.)and(GetUnitState(it,UNIT_STATE_MANA)>100.))thenif((GetHeroStr(it,true)>(30+(2*GetHeroLevel(it))))and(GetHeroStr(it,false)>($F+GetHeroLevel(it))))thenif(GetUnitLifePercent(it)>75.)thenset J4=IssueImmediateOrderById(it,$D0245)elseset J4=jW(it,$D0012,h9[O5])endifelseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it))))and(IsTriggerEnabled(RTE(GetHandleId(pl),"MorphAgi"))))thenset J4=IssueImmediateOrderById(it,$D0246)endifendifif((not J4)and(m5!=null)and(GetHeroLevel(it)>9)and(Bz>J5V[32+O5])and(OXE(it,BU[X3V]))and(Bz>J5V[$D0+O5])and(GetUnitState(it,UNIT_STATE_MANA)>315.))thenset h4[O5]=m5call SetPlayerAbilityAvailable(pl,1093682998,true)set J4=UnitUseItemTarget(it,OAE(it,BU[X3V]),m5)endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=IssueTargetOrderById(it,$D02B6,m5)if((not J4)and(IsUnitInRange(it,m5,850.))and(not IsUnitInRange(it,m5,400.))and(GetUnitLifePercent(it)>75.)and((not IC(O5))or(GetUnitLifePercent(m5)<55.)))thenset WAI=kL(it,m5,200.)if((WAI!=null)and((X9E(800.,WAI,Condition(function BEE))-X9E(800.,WAI,Condition(function NSE)))<=1)and(X9E(700.,WAI,Condition(function NDE))==0))thencall SetPlayerAbilityAvailable(pl,1093682766,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(it,$D00FA,WAI))endifendifendifif((not J4)and(GetHeroLevel(it)>$F)and(m5!=null)and(GetUnitAbilityLevel(it,1093683011)==0)and((GetUnitLifePercent(m5)<60.)or((X9E(600.,b5,Condition(function k6))>=2)and(X9E(600.,b5,Condition(function NQE))>0))))thenset m5=HPI(800.,it)set J4=(m5!=null)and(OME(it,$D0132,1093683000,m5))endifelseif(i1==1212363833)thencall SetPlayerAbilityAvailable(pl,1093678643,(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))set UP=R2I(hq[16+O5]-Bz)set J4=(m5!=null)and((GetHeroLevel(it)>$D)or((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.)))and((UP<=0)or(UP>50))and(OME(it,$D007F,1093809220,m5))if(not J4)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<30))and(GCE(it,m5))thenset J4=OTE(it,$D022E,1093815125)endifif((not J4)and(GetHeroLevel(it)>$A)and(Bz>hq[32+O5]))thenset m5=X6E(500.,b5,Condition(function NDE))if((m5!=null)and(GetUnitLifePercent(m5)<35.))thenset J4=(OVE(600.,m5,Condition(function k8))>4)and(OVE(700.,m5,Condition(function KC))>3)and(IssueImmediateOrderById(it,$D0278))endifif(not J4)thenset m5=X8E(800.,b5,Condition(function NWE))set J4=(m5!=null)and(OVE(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D0278))endifendifelseif(i1==1315070563)thenif(not GZ[O5])thencall SetPlayerAbilityAvailable(pl,1093678407,(GetHeroLevel(it)>4)and((not iy(it))or(GetHeroLevel(it)>$B))and(GetUnitManaPercent(it)>70.))endifif((GetHeroLevel(it)>5)and(Bz>J5V[O5])and(G0[$80+O5]))thenif(m5==null)thenset m5=X6E(700.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5)))thenset UP=OVE(600.,m5,Condition(function k6))+1if(GetHeroLevel(it)<$B)thenset J4=(GetUnitState(m5,UNIT_STATE_LIFE)<600.)and(UP>=OVE(700.,m5,Condition(function KA)))and(OQE(it,$D007F,1093684529,1093747032,m5))elseif((GetUnitState(m5,UNIT_STATE_LIFE)<1200.)or(UP>2)or((UP>1)and(OVE(600.,m5,Condition(function NQE))>0)))thenset J4=(UP>=OVE(700.,m5,Condition(function KA)))and(OQE(it,$D007F,1093684529,1093747032,m5))endifendifendifelseif(i1==1214931305)thenset UP=GetHeroLevel(it)call SetPlayerAbilityAvailable(pl,1093748025,(UP>9)and((GetUnitManaPercent(it)>55.)or(m5!=null)or(X9E(900.,b5,Condition(function k6))>0)))if((m5==null)and(G0[$80+O5])and(UP>3))thenset m5=X6E(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(it,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(it))))thenif((OXE(it,BU[EZ]))and(not IsUnitIllusion(m5))and(G0[$80+O5])and(GetUnitLifePercent(it)>75.)and(GetHeroLevel(it)>$A)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+120.)and(Bz>hq[O5]))thenset h4[16+O5]=m5set J4=TAI(it,m5)endifif(not J4)thenset J4=((((UP>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+150.))or(GetUnitLifePercent(m5)<50.))and(OME(it,$D00CB,1093678147,m5)))or((((GetUnitManaPercent(it)>55.)and(UP>3))or(X_E(m5,it)))and(GetUnitAbilityLevel(m5,1110454583)==0)and(OME(it,$D0079,1093748025,m5)))endifif((not J4)and(UP>$A)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Bz>hq[O5])and(not kr(it)))thenset J4=(Kz(500.,b5)>1)and((GetUnitAbilityLevel(m5,1110454583)>0)or(X9E(850.,b5,Condition(function NSE))>0))and(((GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+100.)and(jP(it,BU[VVV])))or(IssueImmediateOrderById(it,$D0278)))endifendifendifelseif(i1==1328558389)thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(1500.,b5,Condition(function k6))endifif((not J4)and(Bz>J5V[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.))and((GetUnitLifePercent(m5)<60.)or((G5X(m5)or GZ[$D0+O5])and(GetUnitLifePercent(m5)<80.))))thenif G5X(m5)or(E0E(it,m5,30))thenset J4=(IssuePointOrderByIdLoc(it,$D0278,jv(m5)))endifendifif((not J4)and(m5!=null)and(Bz>J5V[32+O5])and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(it,1093747000)>1)and(((((GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093747000,4)+NYI(it,1093747009,4))and(Bz+$A<J5V[O5]))or(GetUnitState(it,UNIT_STATE_MANA)>430))and(GetUnitLifePercent(m5)>40.))or(GetWidgetLife(m5)<80*GetUnitAbilityLevel(it,1093747000))))thenset J4=(OME(it,$D02BD,1093747000,m5))endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and(not G0[O5])and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<70.)and((GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093747009,4)+NYI(it,1093746993,4))or(Bz+$A<J5V[O5]))thenset J4=(IssueImmediateOrderById(it,$D0265))endifelseif(i1==1328558390)thenif((m5==null))thenset m5=X6E(1200.,b5,Condition(function k6))endifif(not J4)and(h4[O5]!=null)and(Bz>J5V[O5])and(GetUnitLevel(it)>=6)and(GetUnitLifePercent(m5)<60.)thenset J4=(OME(it,$D0097,1093744975,m5))endifif(not J4)and(h4[O5]!=null)and(Bz>J5V[48+O5])and(X1E(m5))and(not IsUnitInRange(it,m5,400.))and(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093744982,4)+100)thencall OTE(it,$D00D4,1093744986)call EYE(.1)endifif(not J4)and(Bz>J5V[16+O5])and(GetUnitLevel(it)>=4)and((GetUnitState(it,UNIT_STATE_MANA)>390.)or((h4[O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>100+NYI(it,1093744982,4)))or(GetUnitLifePercent(m5)<70.))thenset J4=(OME(it,$D0079,1093748044,m5))endifif(not J4)and(Bz>J5V[32+O5])and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.)or(GetUnitState(it,UNIT_STATE_MANA)>=400.))thenif(F7E(it,m5,750,.2,$5DC)!=null)thenset J4=(OPE(it,$D00FA,1093744982,YIV))endifendifif(not J4)and(Bz>J5V[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093744982)>1)and((GetUnitState(it,UNIT_STATE_MANA)>=400.)or(GetUnitLifePercent(m5)<70.))thenif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[$80+O5])and(not G0[48+O5])and(X9E(400.,b5,Condition(function k8))==0))thenset UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,$D0012,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1==1160786510)thenif(not J4)and(Bz>J5V[O5])and(GetUnitLevel(it)>=6)thenif GetUnitAbilityLevel(it,1093808949)>0 thenset WNV=$96+GetUnitAbilityLevel(it,1093808949)*37.5set UP=99999elseif GetUnitAbilityLevel(it,1093751861)>0 thenset WNV=$96+GetUnitAbilityLevel(it,1093751861)*37.5set UP=$3E8elseset UP=0endifif UP!=0 thenset WDV=trueset m5=X6E(UP,GetUnitLoc(it),Condition(function TBI))if m5==null thenset WDV=falseif h4[O5]==null thenset m5=X6E(UP,GetUnitLoc(it),Condition(function k6))elseset m5=h4[O5]endifendifif((m5!=null))thenif(WDV)or((GetUnitLifePercent(m5)<50. or(GZ[$D0+O5]and h4[O5]!=null)or((Bz-20>J5V[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))thenif X1E(m5)or(H5E(it,m5))thenif GVE(it,m5,2,UP)!=null thenset J4=OSE(it,$D0079,1093751861,1093808949,GetLocationX(YIV),GetLocationY(YIV))endifelseset J4=OSE(it,$D0079,1093751861,1093808949,GetUnitX(m5),GetUnitY(m5))endifendifif J4 thencall EYE(.1)set J4=falseendifendifendifendifset m5=h4[O5]if((m5==null))thenset m5=X6E(800.,b5,Condition(function k6))endifif(not J4)and(Bz>J5V[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70.)and(IsUnitInRange(it,m5,400))thenset J4=OTE(it,$D0278,1093751631)endifif(not J4)and(Bz>J5V[32+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or X_E(m5,it))thenset J4=OME(it,$D0097,1093751633,m5)endifset UP=OVE(800.,it,Condition(function k6))if(not J4)and(Bz>J5V[48+O5])and((h4[O5]!=null and UP>1 and IsUnitInRange(it,m5,500))or(UP>2 and GetUnitState(it,UNIT_STATE_MANA)>350)or(GetUnitState(it,UNIT_STATE_MANA)>450 and OVE(800,it,Condition(function NIE))>5))thenset J4=OTE(it,$D022E,1093808697)endifelseif(i1==1328558406)thenif(not J4)and(h4[O5]!=null)and(is(it))and(Bz>J5V[16+O5])thenset m5=N2E(900.,it,false)if m5!=null thenset J4=OME(it,$D0097,1093751873,m5)endifendifif(not J4)and(is(it))and(h8[$A0+O5]!=null)thenset GZ[$E0+O5]=(LoadUnitHandle(YX,(GetHandleId(it)),(652))!=null)set J4=IssuePointOrderById(it,$D02B6,GetUnitX(h8[$A0+O5])+GetRandomReal(-200.,200.),GetUnitY(h8[$A0+O5])+GetRandomReal(-200.,200.))set h8[$A0+O5]=nullendifif(not J4)thenset m5=h4[O5]if(m5==null)thenset m5=X6E(800.,b5,Condition(function k6))endifif(h4[O5]!=null)and(GetUnitLifePercent(it)+10.>GetUnitLifePercent(m5))thencall SetPlayerAbilityAvailable(Player(O5),1093810257,true)set GZ[O5]=trueset J4=(GetUnitAbilityLevel(it,1110456385)==0)and(IssueImmediateOrderById(it,$D026D))elseset GZ[O5]=falseset J4=(GetUnitAbilityLevel(it,1110456385)!=0)and(OTE(it,$D026E,1093810257))endifif J4 thencall EYE(.1)set J4=falseendifif(not J4)and(m5!=null)and(h4[O5]!=null or GetUnitManaPercent(it)>90 or(GetUnitLifePercent(m5)<70 and GetUnitManaPercent(it)>60))thenif R8E(it,"AI|IoSpirits")thenset UP=R2I(E3E(it,m5))if UP<425 thenset J4=(R3E(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,$D00F9))elseset J4=(not R3E(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,$D020A))endifelseif(Bz>J5V[32+O5])thenset J4=OTE(it,$D022E,1093751864)and(IssueImmediateOrderById(it,$D020A))endifendifendifendifelseif(i1==1160786504)thenif(m5==null)thenset m5=X6E(800.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[O5])and((GetUnitLifePercent(m5)<50. and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0))or X3E(m5))thenset J4=OME(it,$D008F,1093751617,m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and(IsUnitInRange(it,m5,600))and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or X_E(m5,it))thenif X9E(450,jv(m5),Condition(function NIE))<=1 thenset J4=OME(it,$D0079,1093751618,m5)endifendifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or X_E(m5,it))and(OVE(450,m5,Condition(function NIE))<=1)thenset J4=OME(it,$D0097,1093751608,m5)endifif(not J4)thenif(m5==null)thenset m5=X6E(1200.,b5,Condition(function k6))endifif(m5!=null)and(Bz>J5V[48+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or X_E(m5,it)or GetUnitManaPercent(it)>50.)and(IsUnitVisible(m5,Player(O5)))thenset J4=IssuePointOrderByIdLoc(it,$D0278,jv(m5))call EYE(.5)endifendifelseif i1==1211119409 thenif((m5==null)and(G0[$80+O5]))thenset m5=X6E(800.,b5,Condition(function k6))endifif((not J4)and(Bz>J5V[32+O5])and(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitInRange(it,m5,200.))or(X1E(m5))))thenif(F7E(it,m5,28/.03,0,(GetUnitAbilityLevel(it,1093749303)+3)*100)!=null)and(F1E(it,m5,GetLocationX(YIV),GetLocationY(YIV),120,Condition(function LFE)))thenset J4=(E0E(it,m5,$F))and(IssueImmediateOrderById(it,$D0278))set h4[O5]=m5endifendifif((not J4)and(Bz>J5V[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>GetUnitLifePercent(m5)+20.)and(G0[256+O5])and((GetUnitState(it,UNIT_STATE_MANA)>200.)or X1E(m5)))thenset J4=IssueImmediateOrderById(it,$D022E)endifif(not J4)and(h4[O5]!=null)and(Bz>J5V[O5])and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,200.))thenset J4=OTE(it,$D00A1,1093749070)endifif(not J4)and(h4[O5]==null)and(Bz>J5V[16+O5])and(OVE(325.,it,Condition(function NJE))>3)and(GetUnitState(it,UNIT_STATE_MANA)>400.)thenset J4=IssueImmediateOrderById(it,$D022E)endifelseif(i1==1211117653)thenif(m5==null and(G0[$80+O5]))thenset m5=X6E(800.,b5,Condition(function k6))endifset UP=(X9E(1200.,b5,Condition(function KX)))set J4=(GetUnitAbilityLevel(it,1110456408)>0)and(UP>0)and(GetUnitLifePercent(it)<70.)if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>$AF)and((Bz>J5V[O5])or(CAE(it,1093686855)))and(Bz>J5V[$90+O5]))thenset WNV=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))set WDI=Ie(bj_mapInitialPlayableArea,Condition(function TBI))set J4=(WDI!=null)and CLE(it,UVV,UVV,UVV,1093686855)and IssuePointOrderByIdLoc(it,$D0079,GVE(it,WDI,1.7,99999))elseif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>$AF)and(Bz>J5V[$90+O5]))thenset WNV=(37.5+(46.87*GetUnitAbilityLevel(it,1093808470)))set WDI=Ie(bj_mapInitialPlayableArea,Condition(function TBI))if(WDI!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),HS[9],true)set J4=IssuePointOrderByIdLoc(it,$D0079,GVE(it,WDI,1.7,99999))call SetPlayerAbilityAvailable(GetOwningPlayer(it),HS[9],false)endifendifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))thenset h4[O5]=m5if(((GetUnitState(it,UNIT_STATE_MANA))>410)and(GetUnitLevel(it)>=$A)and(Bz>J5V[O5])and(Bz>J5V[48+O5])and(Bz>J5V[112+O5])and((CAE(it,1093686862))or(CAE(it,1093686861))))thenset J4=CLE(it,UVV,UVV,T9V,1093686862)and(CFE(it,UVV,UVV,UVV,false))and IssuePointOrderById(it,$D00F8,GetUnitX(m5),GetUnitY(m5))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>350)and(GetUnitLevel(it)>=$E)and(Bz>J5V[O5])and(Bz>J5V[96+O5])and(Bz>J5V[$90+O5])and((CAE(it,1093686859))or(CAE(it,1093686855))))thenset J4=CLE(it,T9V,T9V,T8V,1093686859)and IssuePointOrderById(it,$D020B,GetUnitX(m5),GetUnitY(m5))endifif(not J4 and(GetUnitLevel(it)<$E)and((GetUnitState(it,UNIT_STATE_MANA))>290)and(CAE(it,1093686861)or(Bz>J5V[O5])))thenset J4=(CLE(it,T8V,T9V,UVV,1093686861)and IssuePointOrderById(it,$D00F7,GetUnitX(m5),GetUnitY(m5)))endifif(not J4)thenset J4=(((Bz>J5V[64+O5])and CLE(it,UVV,UVV,T8V,1093686863)and(IssueImmediateOrderById(it,$D00A4)))or((Bz>J5V[16+O5])and CLE(it,T8V,T8V,T8V,1093686874)and(OME(it,$D0219,1093686874,m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(Bz>J5V[112+O5])and CLE(it,T8V,T9V,UVV,1093686861)and IssuePointOrderById(it,$D00F7,GetUnitX(m5),GetUnitY(m5))))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>120))thenset J4=((Bz>J5V[$A0+O5])and(IsUnitInRange(it,m5,106.))and CLE(it,T8V,T8V,UVV,1093686864)and(IssueImmediateOrderById(it,$D00A6)))or((Bz>J5V[48+O5])and CLE(it,UVV,UVV,T9V,1093686862)and IssuePointOrderById(it,$D00F8,GetUnitX(m5),GetUnitY(m5)))or((Bz>J5V[32+O5])and CLE(it,T9V,T9V,T9V,1093686867)and(CFE(it,UVV,UVV,UVV,false))and(IssuePointOrderByIdLoc(it,$D00F9,GetUnitLoc(m5))))endifendifif((GetUnitAbilityLevel(it,1110456408)==0))thenif(not J4 and(Bz>J5V[O5])and(Bz>J5V[48+O5])and(not CAE(it,1093686862))and(GetRandomInt(1,2)==1))thencall CLE(it,UVV,UVV,T9V,1093686862)elseif(not J4 and(GetUnitLevel(it)<$E)and(Bz>J5V[O5])and(Bz>J5V[112+O5])and(not CAE(it,1093686861)))thencall CLE(it,T8V,T9V,UVV,1093686861)elseif(not J4 and(GetUnitLevel(it)>=$E)and(Bz>J5V[O5])and(Bz>J5V[96+O5])and(not CAE(it,1093686859))and(GetRandomInt(1,2)==1))thencall CLE(it,T9V,T9V,T8V,1093686859)elseif(not J4 and(Bz>J5V[O5])and(Bz>J5V[16+O5])and(not CAE(it,1093686874)))thencall CLE(it,T8V,T8V,T8V,1093686874)endifset UP=OVE(1500.,it,Condition(function k8))if((m5!=null and(CIE(it)<3))or((GetUnitLevel(it)<5)and(CIE(it)<3))or((CIE(it)<3)and(UP>1)))thencall CFE(it,UVV,UVV,UVV,false)elseif(m5==null and(not J4)and(GetUnitLevel(it)>5)and(GetUnitAbilityLevel(it,1093808472)>0)and(GetUnitLifePercent(it)>80.)and(CXE(it)<3)and(UP<2))thencall CFE(it,T9V,T9V,T9V,false)elseif(m5==null and(not J4)and(GetUnitAbilityLevel(it,1093808471)>0)and(GetUnitLifePercent(it)<58.)and(CRE(it)<3))thencall CFE(it,T8V,T8V,T8V,false)endifif(not J4)thenset m5=nullset m5=X6E(700.,b5,Condition(function NZE))set J4=(m5!=null)and(GetUnitCurrentOrder(m5)==$D000F)and CLE(it,T9V,T9V,UVV,1093686865)and OME(it,$D020A,1093686865,m5)endifendifelseif(i1==1311787088)thenif(not J4)and(Bz>J5V[O5])and(GetUnitLevel(it)>=6)thenset WNV=100+GetUnitAbilityLevel(it,1093750089)*$96set WDV=trueset m5=Ie(bj_mapInitialPlayableArea,Condition(function TBI))if m5==null thenset WDV=falseif h4[O5]==null thenset m5=X6E(99999.,GetUnitLoc(it),Condition(function k6))elseset m5=h4[O5]endifendifif((m5!=null))thenif(WDV)or((GetUnitLifePercent(m5)<50. or(GZ[$D0+O5]and h4[O5]!=null)or((Bz-20>J5V[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))thenif X1E(m5)or(H5E(it,m5))thenif F7E(it,m5,500.,.02,1500.)!=null thenset J4=IssuePointOrderByIdLoc(it,$D02B6,YIV)if J4 thencall O4E(GetHandleId(it),"AI|IBClose",1)endifelseif F7E(it,m5,1500.,2.02,99999.)!=null thenset J4=IssuePointOrderByIdLoc(it,$D02B6,YIV)if J4 thencall O4E(GetHandleId(it),"AI|IBClose",0)endifendifelseset J4=IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5))if J4 thencall O4E(GetHandleId(it),"AI|IBClose",2)endifendifendifif J4 thencall O8E(GetHandleId(it),"AI|IBTgt",m5)call TriggerSleepAction(.1)set J4=falseendifendifendifif(m5==null)thenset m5=X6E(800.,b5,Condition(function k6))endifif(not J4)and(not IsUnitIllusion(m5)and(IsUnitInRange(it,m5,750.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5)))thenset J4=(m5!=null)and(OME(it,$D0278,1093750087,m5))endifif((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,1500.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5))and((GetUnitLevel(it)>$A)or(GetUnitManaPercent(it)>65.)))thenset J4=(m5!=null)and(OME(it,$D0079,1093748819,m5))endifif((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(GetUnitManaPercent(it)>30.))thenset J4=(m5!=null)and(OME(it,$D0084,1093748817,it))endifif(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(OHE(it,m5))endifelseif(i1==1160786505)thenif(m5==null and(G0[$80+O5]))thenset m5=X6E(1100.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<60.))thenset J4=(IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,$D00D9,m5))endifif((not J4)and(G0[$80+O5])and(Bz>J5V[32+O5])and(Bz>J5V[16+O5])and(GetUnitLevel(it)>6))thenset J4=(m5!=null)and(GetUnitLevel(it)>3)and((GetUnitLifePercent(it)>75.)or(IsUnitInRange(it,m5,300.)))and(not IsUnitIllusion(m5))and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=2)and((X9E(750.,GetUnitLoc(m5),Condition(function NDE))==0)or(GetRandomInt(1,2)==1))and(GetUnitState(it,UNIT_STATE_MANA)>300.)and(IssueTargetOrderById(it,$D00D9,m5))endifif(not J4 and(m5!=null))thenset J4=(not IsUnitIllusion(m5))and(Bz>J5V[O5])and(GetUnitLifePercent(m5)<48.)and(IsUnitInRange(it,m5,200.))and(IssueImmediateOrderById(it,$D022E))endifif(not J4 and(m5!=null))thenset UP=X9E(780.,GetUnitLoc(m5),Condition(function NDE))set WCI=OVE(800.,m5,Condition(function BEE))set J4=((Bz>J5V[32+O5])and(GetUnitLevel(it)>3)and(IsUnitInRange(it,m5,800.))and((WCI-OVE(800.,m5,Condition(function NSE)))<=2)and((UP>0)and(WCI<2)or(UP==0)and(WCI<=2))and(IssueTargetOrderById(it,$D00D9,m5)))or((Bz>J5V[16+O5])and(GetUnitLevel(it)>3)and(GetUnitState(it,UNIT_STATE_MANA)>$96)and(GetUnitLifePercent(m5)<90.)and(IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5))))endifelseif(i1==1212365106)thencall SetPlayerAbilityAvailable(pl,1093685831,(GetHeroLevel(it)>$D)and(X9E(1200.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))if((m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(X5E(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(IssueTargetOrderById(it,$D0278,m5))endifif((not J4)and(GetHeroLevel(it)>$E)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and((OVE(I2R($E1+(25*GetUnitAbilityLevel(it,1093685831))),m5,Condition(function k6))>1)or(GetUnitLifePercent(m5)<80.))and(OME(it,$D0079,1093685831,m5))endifendifelseif(i1==1211117617)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>$A))thenset m5=X6E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(((GetHeroLevel(it)>4)and(not IsUnitInRange(it,m5,300.)))or(X_E(m5,it)))and(OME(it,$D02B6,1093744944,m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(G0[$80+O5])and(GetUnitAbilityLevel(it,1110454329)==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset J4=((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==$D0005))and(IsUnitInRange(it,m5,600.)))or(IsUnitInRange(it,m5,300.)))and((OTE(it,$D022E,1093814611))or(jP(it,BU[VVV]))or(OTE(it,$D02B7,1093752648)))endifendifif(GetUnitAbilityLevel(it,1110454329)>0)thenif(h4[O5]==null)thenset h4[O5]=X6E(700.,b5,Condition(function k6))endifif((GetUnitCurrentOrder(it)==$D0012)and(G0[$80+O5])and(hq[512+O5]>Bz)and(not G0[O5])and(X9E(800.,b5,Condition(function KC))>1))thencall jW(it,$D000F,h8[O5])endifendifelseif(i1==1211117633)thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitIllusion(m5))or(GetUnitLifePercent(m5)>35.))and(OME(it,$D0269,1093684045,m5))if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function NWE))set J4=(m5!=null)and(OVE(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D0278))if((not J4)and(m5!=null)and(IsUnitInRange(it,m5,800.)))thenset J4=(GetUnitLifePercent(m5)<25.)and(not Id(GetPlayerId(GetOwningPlayer(m5))))and(OME(it,$D00A3,1093810260,m5))endifendifif((not J4)and(h4[16+O5]!=null))thenif((XZE(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],1110455624)>0))thenset J4=OME(it,$D007F,1093684310,h4[16+O5])call TSI(it,h4[16+O5])elseset h4[16+O5]=nullendifendifif((E3E(it,OUE(it))<1500.)and(eY[O5]==1)and(GetHeroLevel(it)>5)and(IH(pl,Condition(function DKO))<2))thenif(IsUnitAlly(it,RX[0]))thenif((h8[16+O5]==h7[35])and(G2!=1)and(G4!=1))thenset h8[16+O5]=h7[55]set h8[O5]=h7[51]endifelseif((h8[16+O5]==h7[$9B])and(G1!=2)and(G3!=2))thenset h8[16+O5]=h7[$87]set h8[O5]=h7[$83]endifendifendifif((not J4)and(GetHeroLevel(it)>21)and(IH(pl,Condition(function DKO))==0))thenset m5=X6E(600.,b5,Condition(function k8))set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>800.)and(OME(it,$D00A3,1093810260,m5))endifelseif(i1==1211117620)thencall SetPlayerAbilityAvailable(pl,1093677382,(GetHeroLevel(it)>$A)and(iy(it))and(GetUnitManaPercent(it)>60.))call SetPlayerAbilityAvailable(pl,1093677105,(GetUnitManaPercent(it)>70.)and(GetUnitAbilityLevel(it,1110454324)==0))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(not ke(m5))and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(UP<S4I(it))and(UP>$96)and(OQE(it,$D0097,1093677392,1093679450,m5))endifif((not J4)and((GetUnitManaPercent(it)>40.)or(X_E(m5,it))))thenif(((Bz>hq[16+O5])and(GetHeroLevel(it)>3))or(GetUnitLifePercent(m5)<55.))thencall SetPlayerAbilityAvailable(pl,1093677623,true)set GZ[64+O5]=trueset J4=IssuePointOrderById(it,$D0108,GetUnitX(m5)+175.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+175.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))set GZ[64+O5]=falseendifif(not J4)thenset J4=(Bz>hq[16+O5])and(GetHeroLevel(it)>3)and(GetRandomInt(1,2)==1)and(OME(it,$D009D,1093677382,m5))endifendifendifif((not J4)and(GetHeroLevel(it)>$F)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenif(m5==null)thenset m5=K3(700.,it,Condition(function k6))endifif(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetUnitLifePercent(m5)<60.)and(UP<$640)and(UP>500)and(not ke(m5))and(OQE(it,$D0097,1093677392,1093679450,m5))endifendifendifelseif(i1==1432580716)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>60.))thenset m5=X6E(600.,b5,Condition(function k6))endifif((G0[$80+O5])and(OXE(it,BU[EZ]))and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600.)))thenset J4=((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifcall SetPlayerAbilityAvailable(pl,1093684300,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.))if(not J4)thenset J4=(m5!=null)and((X_E(m5,it))or((GetHeroLevel(it)>7)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(Bz>hq[O5])and(IsUnitInRange(it,m5,220.))))and(OME(it,$D0079,1093684300,m5))endifelseif(i1==1333027688)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.))thenset m5=X6E(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((G0[$80+O5])and(OXE(it,BU[EZ]))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>$A)and(Bz>hq[O5])and(OVE(500.,m5,Condition(function k8))>5))thenset J4=TAI(it,m5)endifif((not J4)and(Bz>hq[O5])and(IsUnitInRange(it,m5,400.))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.))thenset UP=UKI(it)if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UP)or((UP>100)and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))-UP)<GetHeroLevel(it)*30)))thenset J4=OTE(it,$D022E,1093682248)or(OTE(it,$D022E,1093750594))endifendifif((not J4)and(GetUnitCurrentOrder(m5)==$D0012)and(GetUnitLifePercent(m5)<50.))thenset J4=OME(it,$D0278,1093686091,m5)endifif((not J4)and(GetHeroLevel(it)>3))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,1093686091,true)set J4=IssuePointOrderById(it,$D0278,GetUnitX(m5)+50.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+50.*Sin(UP*bj_DEGTORAD))endifendifset m5=X8E(400.,b5,Condition(function k6))if((not J4)and(Bz>hq[O5])and(m5!=null))thenset hr=itset UP=X9E(500.,b5,Condition(function UJI))set J4=(((UP>3)and(X9E(400.,b5,Condition(function k6))>1))or((UP>4)and(GetUnitLifePercent(m5)<60.)))and((OTE(it,$D022E,1093682248))or(OTE(it,$D022E,1093750594)))endifif(not J4)thencall SetPlayerAbilityAvailable(pl,1093686091,(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))set J4=(GetHeroLevel(it)>$A)and(Bz>hq[O5])and(X9E(500.,b5,Condition(function KA))>8)and((OTE(it,$D022E,1093682248))or(OTE(it,$D022E,1093750594)))endifelseif(i1==1311781185)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3))thenset m5=X6E(800.,b5,Condition(function k6))endifif(m5!=null)thenset J4=((GetHeroLevel(it)>$F)and((X_E(m5,it))or(GetUnitManaPercent(m5)<35.)or(GetUnitAbilityLevel(m5,1110454607)>0))and(IssueTargetOrderById(it,$D02B6,m5)))or((m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(OME(it,$D011E,1093684314,m5)))endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitManaPercent(it)>70))thenset J4=OME(it,$D0079,1093743692,m5)endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function NWE))set J4=(m5!=null)and(OVE(700.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D0278))endifelseif(i1==1211117643)thenif m5==null thenset m5=BRE(700.,it)endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,400.))and(GetUnitAbilityLevel(m5,1113815395)==0)and(GetUnitAbilityLevel(m5,1113815346)==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,1093678658)))))thenset J4=OME(it,$D0048,1093678658,m5)endifif(not J4)and(is(it))thenif(h4[O5]!=null)thenif(not J4)and(Bz>J5V[O5])thenset J4=OQE(it,$D0218,1093681483,1093748313,m5)endifif(not J4)and(Bz>J5V[32+O5])and(OVE(600.,it,Condition(function N0E))==0)thenset J4=OME(it,$D0092,1093678664,it)endifif(not J4)thenset WNV=Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5))call MoveLocation(HA,GetUnitX(m5)+Cos(WNV)*$C8,GetUnitY(m5)+Sin(WNV)*$C8)if(not J4)and(Bz>J5V[16+O5])and(GetUnitLifePercent(it)>60.)thenset J4=OPE(it,$D0136,1093678410,HA)endifif(not J4)and(Bz>J5V[32+O5])and(GetUnitLifePercent(it)>60.)and(OVE(600.,m5,Condition(function N0E))==0)thenset J4=OPE(it,$D0092,1093678664,HA)endifendifelseif(eY[O5]==1 or eY[O5]==3 or eY[O5]==4)thenif((not J4)and(is(it))and(eY[O5]==1)and((X9E(400.,b5,Condition(function Ka))>1)or((h4[$80+O5]!=null)and(XZE(h4[$80+O5]))and(IsUnitInRange(it,h4[$80+O5],400.)))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))call IssuePointOrderById(it,$D0012,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))endifif((not J4)and(is(it))and(not AQE(it))and(X9E(1200.,b5,Condition(function NDE))==0)and(not XWE(it)))thenset UP=GetUnitUserData(h8[32+O5])set WNV=300if((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)thenset h9[48+O5]=h8[64+O5]if OVE(600.,it,Condition(function k6))>0 or OVE(600.,h9[48+O5],Condition(function k6))>0 thenset WNV=-1endifelseif(h9[48+O5]==null)or(not IsUnitInRange(it,h9[48+O5],1800.))thenset WDV=IsUnitAlly(it,RX[O5])set UP=FJI(GetUnitUserData(h8[80+O5]),(not WDV),0)if UP==35 thenset UP=351elseif UP==55 thenset UP=352endifif UP!=0 and(OVE(900.,h7[UP],Condition(function NDE))==0)and((WDV and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),GX[0])))or((not WDV)and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),RX[0]))))thenset h9[48+O5]=h7[UP]endifendifif WNV!=-1 thenif(not J4)and(h9[48+O5]!=null)and(Bz>J5V[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093678410,4)+NYI(it,1093678658,4))thencall MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-WNV,WNV),GetUnitY(h9[48+O5])+GetRandomReal(-WNV,WNV))set J4=(OPE(it,$D0136,1093678410,HA))endifset bj_lastLoadedUnit=itif(not J4)and(h9[48+O5]!=null)and(Bz>J5V[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093678664,4)+NYI(it,1093678658,4))and(OVE(600.,h9[48+O5],Condition(function N0E))==0)thencall MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-100.,100.),GetUnitY(h9[48+O5])+GetRandomReal(-100.,100.))set J4=(OPE(it,$D0092,1093678664,HA))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>J5V[O5]))thenset m5=X6E(1800.,b5,Condition(function N_E))set bj_forLoopAIndex=(OVE(600.,m5,Condition(function KG)))if((m5!=null)and(not HEX(m5))and(bj_forLoopAIndex<4))thenset UP=R2I(S5I(m5))set GZ[272+O5]=falseif(bj_forLoopAIndex>0)thenset hq[$F0+O5]=Bz+5.elseset hq[$F0+O5]=.0endifset J4=OSE(it,$D0218,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(400.,450.)*Cos(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.),GetUnitY(m5)+GetRandomReal(400.,450.)*Sin(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.))endifset bj_forLoopAIndex=(OVE(600.,h8[64+O5],Condition(function KG)))if((not J4)and((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)and(IsUnitInRange(it,h8[64+O5],900.))and(bj_forLoopAIndex<6))thenset GZ[272+O5]=falseif(bj_forLoopAIndex>0)thenset hq[$F0+O5]=Bz+5.elseset hq[$F0+O5]=.0endifset J4=OSE(it,$D0218,1093681483,1093748313,GetUnitX(h8[64+O5])+GetRandomReal(-300,300),GetUnitY(h8[64+O5])+GetRandomReal(-300.,300.))endifif(not J4)thenset GZ[272+O5]=trueset m5=X6E(1800.,b5,Condition(function KG))set bj_forLoopAIndex=(OVE(600.,h9[48+O5],Condition(function KG)))if(m5!=null)thenset hq[$F0+O5]=Bz+5.set J4=OSE(it,$D0218,1093681483,1093748313,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.))elseif(h9[48+O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093681483,4)+NYI(it,1093748313,4)+NYI(it,1093678658,4))and(bj_forLoopAIndex<8)thenset hq[$F0+O5]=Bz+5.set J4=(OSE(it,$D0218,1093681483,1093748313,GetUnitX(h9[48+O5])+GetRandomReal(-WNV,WNV),GetUnitY(h9[48+O5])+GetRandomReal(-WNV,WNV)))endifendifendifendifendifif((not J4)and(Bz>J5V[O5])and(G0[256+O5])and(GetUnitManaPercent(it)>50.))thenset m5=X6E(700.,b5,Condition(function k8))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(OVE(400.,m5,Condition(function k8))>2)and(OQE(it,$D0218,1093681483,1093748313,m5))endifif((not J4)and(Bz>J5V[16+O5])and(G0[256+O5])and(GetUnitAbilityLevel(it,1093678410)>1)and(GetUnitManaPercent(it)>50.))thenset m5=X6E(700.,b5,Condition(function NIE))set J4=(m5!=null)and(OVE(500.,m5,Condition(function NIE))>2)and(OPE(it,$D0136,1093678410,jv(m5)))endifendifendifelseif(i1==1215657064)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>$A))thenset m5=X6E(800.,b5,Condition(function k6))endifcall SetPlayerAbilityAvailable(pl,1093677913,(GetHeroLevel(it)>$E)and(X9E(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))call SetPlayerAbilityAvailable(pl,1093750324,false)if(m5!=null)thenset UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))endifif((G0[$80+O5])and(OXE(it,BU[EZ]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))thenset J4=(GetHeroLevel(it)>5)and(UP>$FA)and(UP<700)and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1)and(TAI(it,m5))endifcall SetPlayerAbilityAvailable(pl,1093684291,(GetUnitAbilityLevel(it,1110454856)>0)or(m5!=null))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))thenset J4=((UP<300)and(GetUnitAbilityLevel(it,1110454856)==0)and(OTE(it,$D0084,1093684291)))or((UP<$C8)and(OTE(it,$D022E,1093750324)))or((UP<280)and(OTE(it,$D0080,1093677913)))endifelseif(i1==1332179560)thenset J4=(m5!=null)and((GetUnitLifePercent(m5)<50.)or(i2(m5)))and(OME(it,$D02B6,1093742660,m5))if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>4)and(X9E(800.,b5,Condition(function N_E))>0))thenif((m5==null)or(not IsUnitInRange(it,m5,800.)))thenset m5=X6E(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(OME(it,$D02B6,1093742660,m5))endifelseif(i1==1214344551)thenif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(X9E(700.,b5,Condition(function k6))>1)and(X9E(700.,b5,Condition(function NSE))>0))thenset J4=IssueImmediateOrderById(it,$D0278)endifif(m5!=null)thenset J4=OME(it,$D007F,1093809742,m5)endifif((not J4)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))thenset m5=X6E(1500.,b5,Condition(function N_E))if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<40.)and(GetUnitCurrentOrder(m5)==$D0012))thenset J4=(K6(m5))and(IssueTargetOrderById(it,$D0065,m5))endifendifif((not J4)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(X9E(1000.,b5,Condition(function NSE))>0))thenset m5=X8E(500.,b5,Condition(function k6))if(m5!=null)and(GetUnitLifePercent(m5)<70.)thenset UP=X9E(700.,b5,Condition(function k6))set J4=((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(IssueImmediateOrderById(it,$D0278))endifendifendifelseif((i1==1311781199)or(i1==1311781171)or(i1==1311781172)or(i1==1311781173))thenif((GetHeroLevel(it)>$F)and(GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>2)and(E3E(it,OUE(it))<2000.))thenset J4=OTE(it,$D00AA,1093681479)endifif((GetUnitTypeId(it)==1311781199)and(GetUnitAbilityLevel(it,1093681479)>1))thenset J4=OTE(it,$D00AA,1093681479)endifif((X9E(700.,b5,Condition(function NXE))==0)and(((GetUnitTypeId(it)==1311781171)and(GetUnitAbilityLevel(it,1093681479)>1))or((GetUnitTypeId(it)==1311781172)and(GetUnitAbilityLevel(it,1093681479)>2))))thenset J4=OTE(it,$D00AB,1093681479)endifset m5=RME(GetHandleId(pl),"MyBear")if((m5==null)or(not XZE(m5))or(GetUnitLifePercent(m5)<20 and Bz>J5V[16+O5]))thenset J4=IssueImmediateOrderById(it,$D0272)endifif((not J4)and(IsUnitInRange(it,m5,600.))and(GetUnitAbilityLevel(m5,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>50.)and(X9E(700.,b5,Condition(function KA))>0))))thenset J4=IssueImmediateOrderById(it,$D022E)endifif((not J4)and(GetUnitAbilityLevel(it,1110454582)==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>30.)and(X9E(700.,b5,Condition(function KA))>0))))thenset J4=IssueImmediateOrderById(it,$D022E)endifif(X9E(700.,b5,Condition(function N_E))>0)thenset hq[$F0+O5]=Bz+4.endifif((not J4)and(GetUnitTypeId(it)!=1311781199)and(m5!=null)and(IsUnitInRange(it,m5,600.))and(hq[416+O5]>Bz))thenset J4=IssueImmediateOrderById(it,$D0277)endifelseif(i1==1215130471)thencall SetPlayerAbilityAvailable(pl,A_E(it),(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>40.))call SetPlayerAbilityAvailable(pl,A0E(it),(GetHeroLevel(it)>$C)and(GetUnitManaPercent(it)>70.))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>2))thenset m5=X6E(1000.,b5,Condition(function k6))endifset J4=(m5!=null)and(((((GetUnitManaPercent(it)>40.)and(GetHeroLevel(it)>2))or(X_E(m5,it)))and(OME(it,$D007F,A_E(it),m5)))or((X_E(m5,it))and(OME(it,$D02B6,A0E(it),m5))))if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>$C))thenset J4=(X9E(700.,b5,Condition(function k6))==0)and(X9E(700.,b5,Condition(function k8))>0)and(GetUnitAbilityLevel(it,1113746543)==0)and(OME(it,$D0085,A1E(it),it))if(not J4)thenset m5=X6E(700.,b5,Condition(function NSE))set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(X9E(700.,b5,Condition(function KA))>0)and(GetUnitAbilityLevel(m5,1113746543)==0)and(OME(it,$D0085,A1E(it),m5))endifendifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))thenset J4=(R3E(GetHandleId(it),"AI|Magi2Blast")and OME(it,$D0278,1093815121,m5))endifelseif(i1==1211117636)thenset UP=GetHeroLevel(it)if(UP>7)thencall SetPlayerAbilityAvailable(pl,1093685041,(m5==null)and(GetUnitManaPercent(it)>50.))elsecall SetPlayerAbilityAvailable(pl,1093685041,false)endifif((h4[16+O5]!=null)and(not XZE(h4[16+O5])))thenset h4[16+O5]=nullendifcall SetPlayerAbilityAvailable(pl,1093685071,(UP>9)and(h4[16+O5]==null)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))thenset m5=X6E(800.,b5,Condition(function k6))endifif((m5!=null)and(UP>2)and(GetUnitManaPercent(it)>30.)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,900.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,1093685041,true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,$D00FA,GetUnitX(it)+1100.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+1100.*Sin(UP*bj_DEGTORAD)))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>$A)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if(((UP>1)or(UP==OWE(not IsUnitAlly(it,RX[0]))))and(X9E(1000.,b5,Condition(function NSE))>0))thenset J4=(GetUnitLifePercent(m5)<75.)and(OQE(it,$D007F,1093685042,1093810233,m5))endifendifelseif(i1==1160786000)thencall SetPlayerAbilityAvailable(pl,1093685047,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))if((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=X6E(700.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(X_E(m5,it)))and(OME(it,$D00FA,1093685047,m5))if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(Kz(700.,jv(m5))>1)and((Bz>hq[O5])or(OVE(700.,m5,Condition(function NQE))>0))and(OME(it,$D009D,1093685045,m5))endifelseif((i1==1311781193)or(i1==1311781192)or(i1==1311781204)or(i1==1311781194))thenif(i1==1311781193)thenset J4=(((GetHeroLevel(it)>=6)and(h4[O5]!=null))or((GetHeroLevel(it)>$A)and(GetUnitLifePercent(it)<80.)and(X9E(700.,b5,Condition(function k8))>0)))and(IssueImmediateOrderById(it,$D02B7))elseif((m5==null)and(G0[$80+O5])and(i1!=1311781193))thenset m5=X6E(700.,b5,Condition(function k6))set h4[O5]=m5endifif((not J4)and(G0[$80+O5])and(eY[320+O5]>=-1)and(h4[O5]!=null or GetUnitManaPercent(it)>70)and(GetUnitAbilityLevel(it,1093750345)>1))thenif m5==null thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1000.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5])))and(IsUnitVisible(h4[$90+O5],GetOwningPlayer(it))))thenset m5=h4[$90+O5]elseset m5=X6E(800.,b5,Condition(function k6))endifendifset J4=(m5!=null)and(IsUnitInRange(it,m5,300))and(IssueImmediateOrderById(it,$D022E))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(OVE(700.,m5,Condition(function k6))>1)and(OVE(700.,m5,Condition(function NQE))>0)and(OME(it,$D0079,1093683532,m5))endifif((not J4)and(GetHeroLevel(it)>$B)and(GetUnitManaPercent(it)>55.)and(X9E(500.,b5,Condition(function KA))>2)and(Bz>hq[O5]))thencall SetPlayerAbilityAvailable(pl,1093683532,true)set J4=IssuePointOrderById(it,$D0079,GetUnitX(it)+GetRandomReal(0,200.)-100.,GetUnitY(it)+GetRandomReal(0,200.)-100.)elsecall SetPlayerAbilityAvailable(pl,1093683532,(GetHeroLevel(it)>$B)and(GetUnitManaPercent(it)>50.))endifelseif(i1==1311781206)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>4))thenif((eY[O5]==9)and(h4[$90+O5]!=null)and(XZE(h4[$90+O5]))and(IsUnitInRange(it,h4[$90+O5],1200.))and(not IsUnitVisible(it,GetOwningPlayer(h4[$90+O5]))))thenset m5=h4[$90+O5]elseset m5=X6E(800.,b5,Condition(function k6))endifendifif((m5!=null)and(GetHeroLevel(it)>4))thenif(not IsUnitInRange(it,m5,800.))thenset J4=((eY[O5]==9)or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(TXI(it,m5))elseif(not IsUnitInRange(it,m5,300.))thenset UP=R2I(RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))-GetUnitFacing(it)))set J4=((GetUnitLifePercent(m5)<60.)or(OVE(600.,m5,Condition(function NQE))>0))and((TXI(it,m5))or((Bz>hq[O5])and(UP<50)and(GetUnitState(it,UNIT_STATE_MANA)>230.)and(HTI(it,true))))elseif(GetUnitLifePercent(m5)<40. and IsUnitInRange(it,m5,300.))thenset J4=TXI(it,m5)endifif(not J4)and((GetUnitManaPercent(it)>50.)or(GetUnitLifePercent(m5)<60.))thenset J4=IssueImmediateOrderById(it,$D0278)endifendifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset bj_lastLoadedUnit=m5set m5=Ie(bj_mapInitialPlayableArea,Condition(function NWE))set J4=(m5!=null)and(OVE(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,$D020D))set m5=bj_lastLoadedUnitendifif(not J4)and(Bz>J5V[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093684280)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=230.)thenif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[$80+O5])and(not G0[48+O5])and(X9E(400.,b5,Condition(function k8))==0))thenset UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,$D0012,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1==1211117651)thenif m5==null thenset m5=BRE(450.,it)if m5==null thenset m5=BRE(1000.,it)endifendifif R8E(it,"OverloadActive")thenif(h4[O5]!=null)and(GetUnitLevel(it)>5)and(not IsUnitInRange(it,h4[O5],450.))and(X_E(m5,it))thencall F7E(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)if YIV!=null thenset J4=OPE(it,$D00FA,1093743695,YIV)endifendifif(not J4)thenset J4=IssueTargetOrderById(it,$D000F,m5)endifelseif m5!=null and(GetUnitLevel(it)>3)thenif(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>200.))and((IsUnitInRange(it,m5,300.)or G0[256+O5]))thenset J4=(OME(it,$D0097,1093743698,m5))endifif(not J4)and(IsUnitInRange(it,m5,200.))thenset J4=(OTE(it,$D022E,1093743696))endifif(not J4)and(h4[O5]!=null)thenif(not IsUnitInRange(it,h4[O5],450.))and((X_E(m5,it))or(G0[256+O5]))thencall F7E(it,m5,625*(GetUnitAbilityLevel(it,1093743695)+1),1.,99999)if YIV!=null thenset J4=OPE(it,$D00FA,1093743695,YIV)endifelseif GetUnitState(it,UNIT_STATE_MANA)>300. thenset WNV=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))call MoveLocation(HB,GetUnitX(it)+$96*Cos(WNV),GetUnitY(it)+$96*Sin(WNV))set J4=OPE(it,$D00FA,1093743695,HB)endifendifif(not J4)thenif OVE(200.,it,Condition(function NIE))>2 and(GetUnitState(it,UNIT_STATE_MANA)>500. or GetUnitManaPercent(it)>90.)thenset J4=(OTE(it,$D022E,1093743696))endifendifendifelseif(i1==1211117649)thenif(GetHeroLevel(it)>6)thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE)*.5)>GetUnitState(m5,UNIT_STATE_LIFE))and(IssueTargetOrderById(it,$D0107,m5))endifif(not J4)thenset m5=X6E(800.,b5,Condition(function NWE))if(m5==null)thenset m5=X6E(600.,b5,Condition(function NQE))endifset J4=((m5!=null)and(GetUnitLifePercent(m5)<70.)and((GetHeroLevel(it)>4)or(X_E(m5,it)))and(IssueTargetOrderById(it,$D007F,m5)))or((GetUnitLifePercent(it)<70.)and(IssueTargetOrderById(it,$D007F,it)))endifelseif(i1==1160786265)thencall SetPlayerAbilityAvailable(pl,1093685844,false)call SetPlayerAbilityAvailable(pl,1093685846,false)set J4=(m5!=null)and(IsUnitInRange(it,m5,$91+(40*GetUnitAbilityLevel(it,1093685839))))and(OTE(it,$D00A1,1093685846))if((not J4)and(GetHeroLevel(it)>5)and(X9E(900.,b5,Condition(function NDE))==0))thenset J4=(GetRandomInt(1,3)==1)and(GetUnitManaPercent(it)>60.)and(X9E(800.,b5,Condition(function k8))>2)and(X9E(800.,b5,Condition(function Kh))==0)and(not AQE(it))and(IssuePointOrderById(it,$D00DE,GetUnitX(it)+GetRandomReal(-100.,100.),GetUnitY(it)+GetRandomReal(-100.,100.)))if((not J4)and(m5!=null)and(GetUnitAbilityLevel(m5,1110456397)==0))thenset J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<70.))and(OVE(600.,m5,Condition(function Kh))==0)and(IssuePointOrderById(it,$D00DE,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.)))endifendifelseif(i1==1311780930)thenif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=X6E(1100.,b5,Condition(function k6))endifif((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<60.)))thenset J4=IssuePointOrderById(it,$D02B6,GetUnitX(m5)+150.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))if((GetUnitLifePercent(it)>70.)and((Bz>hq[16+O5])or(X5E(m5,it)))and(G0[$80+O5])and(GetUnitLifePercent(m5)<60.)and(GetUnitState(it,UNIT_STATE_LIFE)>(GetUnitState(m5,UNIT_STATE_LIFE)+(15.*GetHeroLevel(m5))))and((OVE(800.,m5,Condition(function BEE))-OVE(800.,m5,Condition(function NSE)))<=1))thenset h4[16+O5]=m5elseset h4[16+O5]=nullendifset hq[$F0+O5]=Bz+3.endifif((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,700.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(OUE(m5)),GetUnitX(m5)-GetUnitX(OUE(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)set GZ[O5]=truecall J8(O5,IssuePointOrderById(it,$D0079,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifif(not J4)thenset m5=K3(400.,it,Condition(function k6))set J4=(m5!=null)and(IssueImmediateOrderById(it,$D0278))endifif((not J4)and(GetHeroLevel(it)>$D)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[$80+O5]))thenset UP=X9E(1000.,b5,Condition(function k6))if((UP>1)and((X9E(1000.,b5,Condition(function NSE))>0)or(OWE(IsUnitAlly(it,RX[0]))==1)))thenset m5=X6E(800.,b5,Condition(function k6))if(OVE(375.,m5,Condition(function k6))>0)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1093686072,true)set GZ[O5]=truecall J8(O5,IssuePointOrderById(it,$D0079,GetUnitX(m5),GetUnitY(m5)))endifendifendifelseif(i1==1311786311)thenif m5==null thenset m5=X6E(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))thenset WNV=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))if(MXE(it,m5,WNV)!=null)or(L8E(it,m5,WNV)!=null)thenset J4=OME(it,$D0097,1093743178,m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(not F1E(it,m5,GetUnitX(m5),GetUnitY(m5),64,Condition(function LAE)))and(IsUnitInRange(it,bj_lastLoadedUnit,550.))thenset J4=OME(it,$D0097,1093743178,bj_lastLoadedUnit)if J4 thenset h4[O5]=m5endifendifif(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(m5)<20.)thenset J4=OME(it,$D0097,1093743178,m5)endifendifif(not J4)and(Bz>J5V[O5])and(m5!=null)and(G5X(m5)or GetUnitMoveSpeed(m5)<300.)and(IsUnitInRange(it,m5,700.))and((m5==h4[O5])or(GetUnitLifePercent(m5)<70))thenset J4=OQE(it,$D0265,1093743184,1093747766,m5)if J4 thenset h4[O5]=m5endifendifif m5==null thenset m5=X6E(1200.,b5,Condition(function k6))endifset UP=GetUnitAbilityLevel(it,1093743184)if UP==0 thenset UP=GetUnitAbilityLevel(it,1093747766)endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and((GetUnitState(it,UNIT_STATE_MANA)>200.+UP*100.)or(h4[O5]!=null))and((GetUnitLifePercent(m5)>40.)or(GetWidgetLife(m5)<GetUnitAbilityLevel(it,1093743179)*70))and(F7E(it,m5,3000.,1.,1800.)!=null)thenset J4=IssuePointOrderByIdLoc(it,$D02B6,YIV)endifif(not J4)and(Bz>J5V[48+O5])and(((hq[704+O5]<-.1)and(m5!=null))or((hq[704+O5]<-.8)and(GetUnitLifePercent(it)<60.)))thenset J4=OTE(it,$D022E,1093743689)endifif(not J4)and(Bz>J5V[32+O5])and(GetUnitAbilityLevel(it,1093743179)>1)and(GetUnitState(it,UNIT_STATE_MANA)>300.+UP*100.)thenset m5=K3(1500.,it,Condition(function NGE))if(m5!=null)thenset I9V=itcall F1E(it,m5,GetUnitX(m5),GetUnitY(m5),$AF,Condition(function K3E))if bj_forLoopAIndex>2 thenset J4=IssuePointOrderById(it,$D02B6,GetUnitX(m5),GetUnitY(m5))endifendifendifif(not J4)and(Bz>J5V[16+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,1093743178)>1)and(GetUnitState(it,UNIT_STATE_MANA)>=250.)thenif m5==null or(not IsUnitInRange(m5,it,700))thenset m5=X6E(700.,b5,Condition(function k6))endifif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[$80+O5])and(not G0[48+O5])and(X9E(400.,b5,Condition(function k8))==0))thenset UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,$D0012,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1==1211117652)thenif(m5==null)thenset m5=X6E(1200.,b5,Condition(function k6))endifif(not J4)and(GetUnitLevel(it)>5)and(Bz>J5V[O5])and(not IsUnitInRange(it,m5,300))and(h4[O5]!=null)and(GZ[$D0+O5]or((OVE(700.,m5,Condition(function OEE))==0)and(GetUnitLifePercent(m5)<70. or X2E(O5))))thenset UP=GetUnitAbilityLevel(it,1093687864)if UP==0 thenset UP=GetUnitAbilityLevel(it,1093747542)endifif(GVE(it,m5,.5,(UP+3)*500)!=null)thenif(F1E(it,m5,GetLocationX(YIV),GetLocationY(YIV),125,Condition(function LXE)))or(IsUnitInRange(bj_lastReplacedUnit,m5,$AF)and(IsUnitEnemy(bj_lastReplacedUnit,Player(O5))or OXE(it,BU[O4V])))thenset J4=(OSE(it,$D02AC,1093687864,1093747542,GetLocationX(YIV),GetLocationY(YIV)))endifendifif J4 thencall EYE(.1)set J4=falseendifendifif(not J4)and(Bz>J5V[48+O5])and(GetUnitAbilityLevel(it,1093687862)>1)thenif(m5==null)thenset m5=X6E(99999.,GetUnitLoc(it),Condition(function k6))endifif((m5!=null))thenif(GetUnitLifePercent(m5)<50. or GetUnitState(it,UNIT_STATE_MANA)>300.)thenif X_E(m5,it)or GZ[$D0+O5]or h4[O5]!=null thenif F7E(it,m5,1200.,0,99999.)!=null thenset J4=OPE(it,$D0079,1093687862,YIV)endifelseset J4=OPE(it,$D0079,1093687862,jv(m5))endifendifendifendifif(not J4)and(Bz>J5V[32+O5])and(m5!=null)and(VZE(it)>1000.)and(G0[256+O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)and(IsUnitInRange(it,m5,$D2))thenset J4=IssueImmediateOrderById(it,$D0265)endifif(not J4)and(Bz>J5V[16+O5])and(h4[O5]!=null)and(IsUnitInRange(it,m5,275))thenset J4=IssueImmediateOrderById(it,$D0278)endifelseif(i1==1160786520)thencall SetPlayerAbilityAvailable(pl,1093809991,(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))if eY[448+O5]!=0 and XSE(it)thenif(IsUnitInRange(it,h4[320+O5],950.))and(LoadInteger(YX,(GetHandleId(h4[320+O5])),(705))==eY[448+O5])thenset J4=IssueTargetOrderById(it,$D02B9,h4[320+O5])elseset eY[448+O5]=0endifendifif((m5==null)and(G0[$80+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=X6E(700.,b5,Condition(function k6))endifif not J4 thenset J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(X_E(m5,it)))and(OME(it,$D00D8,1093809991,m5))endifif(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall U1I()endifset G0[304+O5]=falseelseif(i1==1311788336)thenif m5==null thenset m5=X6E(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))and(GetUnitState(it,UNIT_STATE_MANA)>100)thenset UP=1loopexitwhen UP>3set bj_lastCreatedUnit=(LoadUnitHandle(YX,GetHandleId(it),($5AA+UP)))exitwhen bj_lastCreatedUnit==nullif(GetWidgetLife(bj_lastCreatedUnit)>0)and(IsUnitInRange(bj_lastCreatedUnit,m5,300))thenset J4=IssuePointOrderById(it,$D00D9,GetUnitX(bj_lastCreatedUnit),GetUnitY(bj_lastCreatedUnit))exitwhen trueendifset UP=UP+1endloopif(not J4)and(not IsUnitInRange(it,m5,400))and(LoadInteger(YX,GetHandleId(it),(747))>0)and(F7E(it,m5,GetUnitMoveSpeed(it)*2.5,.2,1500.)!=null)thenset J4=IssuePointOrderByIdLoc(it,$D020A,YIV)endifif J4 thenset h4[O5]=m5endifendifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(IsUnitInRange(it,m5,350))and(OVE(400.,it,Condition(function NIE))<=2)thenset J4=OTE(it,$D022E,1093814323)endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and((h4[O5]!=null)or(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>$DC))thenset J4=OME(it,$D0079,1093814320,m5)endifif(not J4)and(m5!=null)and(Bz>J5V[48+O5])and(h4[O5]!=null)thenset J4=IssueImmediateOrderById(it,$D0278)endifif(not J4)and(Bz>J5V[32+O5])and(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>400)thenset m5=X6E(700.,b5,Condition(function NIE))if(m5!=null)thenset J4=OME(it,$D0079,1093814320,m5)endifendifelseif(i1==1160786507)thenif m5==null thenset m5=X6E(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and((GetUnitLifePercent(m5)<70.)or(h4[O5]!=null))thenset UP=X9E(315.,jv(m5),Condition(function k8))if(not J4)thenset J4=(UP>=3)and(OME(it,$D0079,1093814850,m5))endifendifif(not J4)and(Bz>J5V[32+O5])and((GetUnitLifePercent(it)<60)or((h4[O5]!=null)and((GetUnitLifePercent(it)<80)or(UnitCountBuffsEx(it,false,true,true,true,false,false,false)>=0))))thenset J4=IssueTargetOrderById(it,$D0118,it)endifif(not J4)and(Bz>J5V[O5])and(G0[256+O5])and((GetUnitLifePercent(m5)<30 and GetUnitLifePercent(it)>GetUnitLifePercent(m5)+25)or(GZ[$D0+O5]and GetUnitLifePercent(m5)<60))thenset J4=IssueTargetOrderById(it,$D007F,m5)endifif(not J4)and(Bz>J5V[32+O5])thenset m5=X6E(800.,b5,Condition(function NWE))set J4=(m5!=null)and(IssueTargetOrderById(it,$D0118,m5))endifelseif(i1==1211122767)thenif m5==null thenset m5=X6E(800.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>J5V[48+O5])and((h4[O5]!=null)or(GetUnitManaPercent(m5)>60 and GetUnitLifePercent(m5)<70))and((Bz<J5V[O5])or(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093812807,4)+100))thenset J4=OME(it,$D02BC,1093814350,m5)endifif(not J4)and(m5!=null)and(Bz>J5V[O5])and((GetUnitLifePercent(m5)<30)or(G5X(m5))or(GetUnitAbilityLevel(m5,1110459993)!=0))thenset J4=(GVE(it,m5,.5,$4B0)!=null)and(IssuePointOrderByIdLoc(it,$D02B6,YIV))endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null))and(OVE(E3E(it,m5),it,Condition(function k6))<=1)thenset J4=OTE(it,$D022E,1093814612)endifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null)or(GetUnitManaPercent(m5)>80))and((Bz<J5V[O5])or(GetUnitState(it,UNIT_STATE_MANA)>NYI(it,1093812807,4)+100))thenset J4=OME(it,$D0097,1093812805,m5)endifelseif(i1==1160786738)thenif m5==null thenset m5=X6E(700.,b5,Condition(function k6))endifif(not J4)thenif GetUnitAbilityLevel(it,1093813848)==0 thenif(h4[O5]!=null)and(not IsUnitInRange(it,m5,400))thenif F7E(it,m5,$3E8,.1,$4B0)!=null thencall IssuePointOrderByIdLoc(it,$D00F8,YIV)endifendifelseif(h4[O5]==null)or(IsUnitInRange(it,m5,400))or(OVE($E1,RME(GetHandleId(it),"AI|ShredChakram"),Condition(function k6))==0)thencall IssueImmediateOrderById(it,$D00D1)endifendifcall TriggerSleepAction(.1)endifif(not J4)and(m5!=null)and(Bz>J5V[32+O5])and((h4[O5]!=null)or(GetUnitLifePercent(it)<70))thenset UP=600+$C8*GetUnitAbilityLevel(it,1093813555)if F7E(it,m5,2*UP,.8,UP)!=null thenif BSE(it,UP)or((L9V!=null)and(bj_enumDestructableRadius==0)and(E3E(L9V,it)>400.))thenset J4=IssuePointOrderByIdLoc(it,$D02B6,YIV)endifendifif(not J4)and(GetUnitLifePercent(m5)<30)thenif BPE(jv(m5),300)and(E3E(L9V,it)>400.)thenset J4=IssuePointOrderById(it,$D02B6,GetDestructableX(L9V),GetDestructableY(L9V))endifendifendifif(not J4)and(m5!=null)and(Bz>J5V[16+O5])and(IsUnitInRange(it,m5,300))thenset J4=OTE(it,$D022E,1093813835)endifendifif not G0[304+O5]thenif((not J4)and(is(it)))thenif(GetUnitAbilityLevel(it,1110454609)>0)thenset m5=X6E(250.,b5,Condition(function k6))if(m5!=null)thencall UnitRemoveAbility(it,1110454609)set J4=IssueTargetOrderById(it,$D000F,m5)elseset m5=X6E(800.,b5,Condition(function k6))set J4=(m5!=null)and(not IsUnitVisible(it,GetOwningPlayer(m5)))and(IssueTargetOrderById(it,$D0012,m5))endifelseif((E3E(it,OUE(it))<1000.)and(eY[O5]==1))thenif(OXE(it,BU[A7]))thenif(h8[16+O5]==h7[$E])thenset J4=SYI(0)elseif(h8[16+O5]==h7[35])thenset J4=SYI(1)elseif(h8[16+O5]==h7[55])thenset J4=SYI(2)endifelseif((GetHeroLevel(it)<$B)and(not OOE(it)))thenset m5=nullif(((i1==1211117641)and(GetHeroLevel(it)>5))or(i1==1211117642))thenelseif((IsPlayerAlly(pl,GX[0]))and(h8[16+O5]==h7[$E])and(F1V<1))thenset m5=NBVelseif((IsPlayerAlly(pl,RX[0]))and(h8[16+O5]==h7[$E])and(FZV<1))thenset m5=AUVelseif((IsPlayerAlly(pl,GX[0]))and(h8[16+O5]==h7[35])and(F2V<1))thenset m5=NNVelseif((IsPlayerAlly(pl,RX[0]))and(h8[16+O5]==h7[35])and(F_V<1))thenset m5=ATVelseif((IsPlayerAlly(pl,GX[0]))and(h8[16+O5]==h7[55])and(F3V<1))thenset m5=NCVelseif((IsPlayerAlly(pl,RX[0]))and(h8[16+O5]==h7[55])and(F0V<1))thenset m5=AWVendifif(m5!=null)thenloopcall TriggerSleepAction(.5)exitwhen(Bz>Z8V[$A0+O5])endloopset J4=ANE(it,m5)if(not J4 or not WBI)thencall DisableTrigger(R3V)call RemoveItem(WNI)call EnableTrigger(R3V)elsecall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)-0))call O4E(StringHash("Stats"+I2S(O5)),"NumOfConsumables",R1E(StringHash("Stats"+I2S(O5)),"NumOfConsumables")+1)endifendifendifendifif((not J4)and(OXE(it,BU[EFV])))thenset m5=X6E(700.,b5,Condition(function KA))if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>100.)and(GetUnitState(m5,UNIT_STATE_LIFE)<400.))thenif(not(IsUnitInRange(m5,it,550)))thencall IssuePointOrderById(it,$D0012,GetUnitX(m5),GetUnitY(m5))call EYE(.5)endifset J4=(OVE(600.,it,Condition(function KA))>3)and(UnitUseItem(it,bj_lastCreatedItem))endifset m5=nullset J4=falseendifif((not J4)and(OXE(it,BU[F7])))thenif((GetRandomInt(1,$A)<=4)and(Bz>hq[$90+O5]))thenset m5=X6E(700.,b5,Condition(function k8))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_HERO))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and OXE(it,BU[A6]))thenset J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and OXE(it,BU[EBV])and(R8E(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,150.)))thenset J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))elseif(OXE(it,BU[ENV])and(R8E(it,"ArmletOfMordigan|Active"))and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and OXE(it,BU[T4]))thenset J4=(m5!=null)and((GetUnitLifePercent(m5)<20)or(GetUnitMoveSpeed(m5)<300))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(OXE(it,BU[ELV])))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<30)and(G0[256+O5]or GZ[$D0+O5])and(E0E(m5,it,30))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(OXE(it,BU[ESV]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>J5V[$E0+O5])and(GetUnitState(m5,UNIT_STATE_LIFE)<120))thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(OXE(it,BU[E4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>J5V[256+O5]))thenset J4=((OVE(900.,it,Condition(function BEE)))>2)and((OVE(900.,it,Condition(function NSE)))>1)and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(OGE(it))and(Bz>J5V[$C0+O5]))thenif(GetUnitState(it,UNIT_STATE_LIFE)<$96)or((GetItemCharges(bj_lastCreatedItem)>=8)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(E3E(it,h9[16+O5])>600))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifendifif((not J4)and(OXE(it,BU[X6V])))thenset J4=(Bz>hq[$80+O5])and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>150.)and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(OXE(it,BU[V6V])))thenset J4=((Bz+20.)<hq[O5]or(Bz+20.)<J5V[O5])and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(OXE(it,BU[V2V])))thenset J4=(GetUnitLifePercent(it)<50)and((h4[O5]!=null)or(G0[256+O5])or(GZ[$D0+O5]))and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(OXE(it,BU[G5])))thenif(R3E(G2V,B0I(it)+"|G"))thenset m5=X8E(700.,b5,Condition(function Km))set J4=(m5!=null)and(GetRandomInt(1,8)==1)and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5)+GetRandomReal(.0,200.)-100.,GetUnitY(m5)+GetRandomReal(.0,200.)-100.))if((not J4)and(GetRandomInt(1,4)==1)and(X8E(1000.,b5,Condition(function NDE))==null)and(X8E(1200.,b5,Condition(function Km))!=null))thenset J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(.0,200.)-100.,GetUnitY(it)+GetRandomReal(.0,200.)-100.))endifendifif((not J4)and(GetRandomInt(1,5)==1)and(E3E(it,OUE(it))>5000.)and(GetItemCharges(bj_lastCreatedItem)>1)and(X8E(800.,b5,Condition(function k8))!=null)and(X8E(1000.,b5,Condition(function NDE))==null)and(X8E(1100.,b5,Condition(function K7))==null))thenset J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(.0,200.)-100.,GetUnitY(it)+GetRandomReal(.0,200.)-100.))endifendifif((not J4)and(OXE(it,BU[L7])))thenif(m5!=null)and(GetUnitLifePercent(m5)<30)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)elseset m5=BDE(500.,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and(OXE(it,BU[EEV])))thenif not((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,Player(O5))))thenset m5=X8E(900.,b5,Condition(function k6))endifif(m5!=null)thenset m5=BBE(900.,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and(OXE(it,BU[F6])))and(h4[O5]!=null)thenset m5=BGE(600,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(OXE(it,BU[ELV])))thenset m5=BNE(800,it)if(X1E(m5))thenset bj_forLoopAIndexEnd=GetPlayerId(GetOwningPlayer(m5))if E0E(m5,h9[16+bj_forLoopAIndexEnd],20)thenset b5=kk(m5,600.,h9[16+bj_forLoopAIndexEnd])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))if J4 thenset h9[bj_forLoopAIndexEnd]=h9[16+bj_forLoopAIndexEnd]endifelseif(E0E(m5,h9[bj_forLoopAIndexEnd],20))and(h9[bj_forLoopAIndexEnd]!=h9[16+bj_forLoopAIndexEnd])thenset b5=kk(m5,600.,h9[bj_forLoopAIndexEnd])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifendifendifif((not J4)and(h4[O5]!=null)and(G0[$80+O5])and(GetHeroLevel(it)>5))thenset UP=GetUnitCurrentOrder(it)set m5=h4[O5]if(((UP==$D000F)or(UP==$D0019))and(IsUnitVisible(m5,pl))and(GetUnitAbilityLevel(m5,1110454854)==0)and(not IC(O5))and((GetUnitLifePercent(it)+15.)>GetUnitLifePercent(m5))and(not G0[48+O5]))thencall IssueTargetOrderById(it,$D000F,m5)elseif((UP==$D0012)and(IsUnitInRange(it,m5,600.)))thencall LXI(it,m5)endifendifendifset it=nullset pl=nullset b5=nullset WAI=nullset m5=nullset WDI=nullendfunctionfunction U2I takes nothing returns nothinglocal unit it=bj_lastLoadedUnitlocal unit m5=nulllocal integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal boolean J4=falseif U4V thencall TriggerSleepAction(GetRandomReal(.2,.4))endifset U4V=trueif((i1==1848651848)or(i1==1848651847)or(i1==1848651851)or(i1==1848651850)or(i1==1848651841)or(i1==1848651830))thenset m5=h4[O5]if(m5==null)thenset m5=X6E(1000.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(QV[O5])>50.)and(GetHeroLevel(QV[O5])>5)and(not G0[O5])and(G0[$80+O5])and(is(QV[O5]))and(IsUnitInRange(QV[O5],m5,800.)))thenset UP=GetUnitTypeId(QV[O5])if(UP==1332963428)thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(GetUnitState(QV[O5],UNIT_STATE_MANA)>hq[272+O5])and(OME(QV[O5],$D0200,1093677649,m5))elseif(UP==1429221446)thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(QV[O5],m5,450.))and(OQE(QV[O5],$D0200,1093682764,1093747544,m5))elseif(UP==1164799855)thencall OME(QV[O5],$D006B,1093682264,m5)elseif(UP==1433105516)thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(not kr(QV[O5]))and(IssueTargetOrderById(QV[O5],$D00DC,m5))elseif(UP==1332898670)thenif(IsUnitInRange(QV[O5],m5,400)or G5X(m5))thenset GZ[O5]=truecall J8(O5,OME(QV[O5],$D0200,1093677136,m5))endifelseif(UP==1214931305)thencall OME(QV[O5],$D00CB,1093678147,m5)elseif(UP==1211117633)thencall OME(QV[O5],$D0269,1093684045,m5)elseif(UP==1211117636)thenset J4=(GetUnitLifePercent(m5)<50.)and(OQE(QV[O5],$D007F,1093685042,1093810233,m5))elseif(UP==1160786243)thenif((GetUnitLifePercent(m5)<50.)and(IsUnitInRange(QV[O5],m5,650.)))thenset GZ[O5]=trueset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(QV[O5]),GetUnitX(h8[O5])-GetUnitX(QV[O5])))call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093678672,true)call J8(O5,IssuePointOrderById(QV[O5],$D0079,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))endifelseif(UP==1311781207)thenset J4=OME(QV[O5],$D007F,1093684817,m5)endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((IssueTargetOrderById(it,$D0118,m5))or(IssueTargetOrderById(it,$D000F,m5)))elseif((i1==1429221441)or(i1==1212363833)or(i1==1164277357)or(i1==1865429047)or(i1==1865429062)or(i1==1752654196)or(i1==1752658994)or(i1==1752658995)or(i1==1747988534)or(GetUnitAbilityLevel(it,1110455088)>0))thenset m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(QV[O5])>50.)and(not G0[O5])and(G0[$80+O5])and(is(QV[O5]))and(IsUnitInRange(QV[O5],m5,800.)))thenset UP=GetUnitTypeId(QV[O5])if(UP==1429221441)thenset J4=(OME(QV[O5],$D0107,1093678389,m5))or(IssueTargetOrderById(QV[O5],$D000F,m5))elseif(UP==1212363833)thenset J4=(OME(QV[O5],$D007F,1093809220,m5))or(IssueTargetOrderById(QV[O5],$D000F,m5))elseif((UP==1160786229)or(UP==1164277357)or(UP==1433105516))thencall IssueTargetOrderById(QV[O5],$D000F,m5)endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5))elseif(i1==1848652343)thenset m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(QV[O5])>50.)and(not G0[O5])and(G0[$80+O5])and(is(QV[O5]))and(IsUnitInRange(QV[O5],m5,800.)))thenset UP=GetUnitTypeId(QV[O5])if(UP==1211117653)thenset J4=((Bz>J5V[16+O5])and CLE(QV[O5],T8V,T8V,T8V,1093686874)and(OME(QV[O5],$D0219,1093686874,m5)))or(IssueTargetOrderById(QV[O5],$D000F,m5))endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and((GetUnitLevel(QV[O5])>16)or(GetUnitLifePercent(m5)<10.))and(GetUnitLifePercent(m5)<25.)and(IssueTargetOrderById(it,$D000F,m5))elseif((i1==1848652103)or(i1==1848652099)or(i1==1848652088)or(i1==1848651828))thenif(((GetUnitLifePercent(it)<25.)or(GZ[288+O5]))and((h4[O5]==null)or(not IsUnitInRange(it,QV[O5],1000.))))thenset J4=jW(it,$D0012,OUE(it))set GZ[288+O5]=GetUnitLifePercent(it)<50.elseif((not GZ[272+O5])and(not G0[16+O5])and(G0[$80+O5]))thenset m5=QV[O5]set J4=(GetUnitLifePercent(it)<90.)and(E3E(OUE(it),it)<400.)and(jW(it,$D0012,OUE(it)))set UP=R2I(E4E(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))call SetPlayerAbilityAvailable(GetOwningPlayer(it),1093681463,UP>800)if(not J4)thenif(UP>$3E8)thenset J4=((UP>$BB8)and(IssueImmediateOrderById(it,$D0272)))or(IssueTargetOrderById(it,$D0003,m5))elseset J4=((not G0[$80+O5])or((GetUnitCurrentOrder(m5)==$D0012)and((E3E(it,h8[O5])+700.)<E3E(m5,h8[O5]))))and(jW(it,$D0012,h9[O5]))endifendifif((not J4)and(GetHeroLevel(QV[O5])<$C)and(Bz>hq[$F0+O5])and(eY[O5]==1))thenset m5=X6E(600.,jv(it),Condition(function KD))if(m5==null)thenset m5=X6E(600.,jv(it),Condition(function Kc))endifset J4=(m5!=null)and(IssueTargetOrderById(it,$D0003,m5))if((not J4)and(X9E(400.,jv(it),Condition(function Ka))>0))thenset m5=X6E(400.,jv(it),Condition(function k6))if(m5==null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))set J4=IssuePointOrderById(it,$D0012,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))elseset J4=IssueTargetOrderById(it,$D0003,m5)endifendifendifelseset J4=jW(it,$D0012,OUE(it))endifelseif(GetUnitTypeId(QV[O5])==1211117633)thenset m5=QV[O5]set J4=(((GetUnitLifePercent(it)<90.)and(E3E(OUE(it),it)<400.))or(not XZE(m5)))and(jW(it,$D0012,OUE(it)))if((not J4)and(GetUnitLifePercent(it)<30.))thenset J4=((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(jW(it,$D0012,OUE(it)))endifif(i1==1852796263)thenif((not J4)and(GetRandomInt(0,5)>1))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,true)set J4=((GetUnitAbilityLevel(m5,1112893025)==0)and(IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,$D0101,m5)))or((GetUnitAbilityLevel(it,1112893025)==0)and(IssueTargetOrderById(it,$D0101,it)))call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,J4)elsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),1094936114,false)endifendifif(not J4)thenif(not IsUnitInRange(it,m5,1000.))thenif((h9[O5]!=OUE(it))and(not IsUnitInRange(it,m5,3000.))and((RAbsBJ(GetUnitX(it)-GetUnitX(m5))>3000.)and(RAbsBJ(GetUnitY(it)-GetUnitY(m5))>3000.)))thenset J4=jW(it,$D000F,h9[O5])elseset J4=IssueTargetOrderById(it,$D0003,m5)endifelseset J4=((not G0[$80+O5])or((GetUnitCurrentOrder(m5)==$D0012)and((E3E(it,h8[O5])+450.)<E3E(m5,h8[O5]))))and(jW(it,$D0012,h9[O5]))endifendifif((GetUnitLifePercent(it)<50.)and(IsUnitInRange(it,m5,600.))and(iU(m5)))thenif(((i1==1852796263)or(i1==1852207203)or(i1==1853060200)or(i1==1852010091))and(E3E(it,OUE(it))>4000.))thencall OME(m5,$D00A3,1093810260,it)endifendifif((not J4)and(h4[O5]!=null))thenset m5=h4[O5]if(i1==1853060200)thenset J4=(IsUnitInRange(it,m5,700.))and(IssueTargetOrderById(it,$D009D,m5))elseif((i1==1852207203)or(i1==1852010091))thenset J4=(IsUnitInRange(it,m5,250.))and(IssueTargetOrderById(it,$D009F,m5))endifendifelseif((i1==1848652113)or(i1==1848652114))thenset J4=((XZE(QV[O5]))and(IssueTargetOrderById(it,$D0012,QV[O5])))elseif((i1==1966092339)or(i1==1966092341)or(i1==1966092345))thenelseif((i1==1966092596)or(i1==1966092597)or(i1==1966092598))thenif(R8E(QV[O5],"AIFamiliar1|Status")==false)thencall U8I(O5,it)endifset J4=trueelseif((i1==1966092612)or(i1==1966092613)or(i1==1966092614))thenif(R8E(QV[O5],"AIFamiliar2|Status")==false)thencall U8I(O5,it)endifset J4=trueelseif((i1==1697656907)or(i1==1697656905)or(i1==1697656908))thenset h4[16+O5]=itif(is(it))thenset J4=(((G0[16+O5])or((GetUnitLifePercent(it)<90.)and(E3E(OUE(it),it)<400.)))and(jW(it,$D0012,OUE(it))))or((GetUnitState(it,UNIT_STATE_LIFE)<175.)and((jW(it,$D022D,OUE(it)))or(jW(it,$D0012,OUE(it)))))if((h8[528+O5]!=null)and(not J4))thenset UP=GetUnitUserData(h8[528+O5])if((UP<$A)or(UP>60))thenset UP=GetUnitUserData(h9[512+O5])endifif((UP>=$A)and(UP<=18))thenset m5=h7[$A+hB]elseif((UP>=30)and(UP<=40))thenset m5=h7[30+hc]elseif((UP>=50)and(UP<=60))thenset m5=h7[50+hC]endifif((Bz>hq[$F0+O5])and(GetRandomInt(1,2)==1))thenif((m5!=h7[$A+hB])and(OVE(900.,h7[$A+hB],Condition(function KC))>4)and(OVE(900.,h7[$A+hB],Condition(function NDE))>0))thenset m5=h7[$A+hB]set hq[$F0+O5]=Bz+30.elseif((m5!=h7[30+hc])and(OVE(900.,h7[30+hc],Condition(function KC))>4)and(OVE(900.,h7[30+hc],Condition(function NDE))>0))thenset m5=h7[30+hc]set hq[$F0+O5]=Bz+30.elseif((m5!=h7[50+hC])and(OVE(900.,h7[50+hC],Condition(function KC))>4)and(OVE(900.,h7[50+hC],Condition(function NDE))>0))thenset m5=h7[50+hC]set hq[$F0+O5]=Bz+30.endifendifif((UP>=$A)and(UP<=60))thenif(IsUnitAlly(it,GX[0]))thenset UP=hj[512+GetUnitUserData(m5)]elseset UP=GetUnitUserData(m5)endifset h8[512+O5]=h7[UP+1]set h8[528+O5]=h7[UP]set h9[512+O5]=h7[UP-1]endifendifif(GZ[O5])thenset J4=IssueImmediateOrderById(it,$D0229)set GZ[O5]=falseelseif(h8[512+O5]!=null)thenset J4=((not IsUnitInRange(it,h8[528+O5],3500.))and(jW(it,$D022D,h8[528+O5])))or(jW(it,$D000F,h8[512+O5]))elseset J4=((QV[O5]!=null)and(not IsUnitInRange(it,QV[O5],400.))and(jW(it,$D000F,QV[O5])))endifendifendifelseif((i1==1697656909)or(i1==1697656910)or(i1==1697656911))thenif((eY[O5]!=3)and(eY[O5]!=4))thenif(((GetUnitY(it)>4000.)and(GetUnitY(it)<7000.))or((GetUnitX(it)>-7500.)and(GetUnitX(it)<-5000.)))thenset m5=h7[30+hc]elseif(((GetUnitY(it)>-8000.)and(GetUnitY(it)<-5500.))or((GetUnitX(it)>4500.)and(GetUnitX(it)<7000.)))thenset m5=h7[50+hC]elseset m5=h7[$A+hB]endifif(IsUnitAlly(it,GX[0]))thenset UP=hj[512+GetUnitUserData(m5)]elseset UP=GetUnitUserData(m5)endifset J4=jW(it,$D000F,h7[UP+1])endifelseif((i1==1848651861)or(i1==1848651865)or(i1==1848651866))thenset m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifset J4=(GetUnitLifePercent(it)<90.)and(GetUnitLifePercent(QV[O5])>50.)and(not G0[O5])and(is(QV[O5]))and(IsUnitInRange(QV[O5],it,800.))and(IssueTargetOrderById(QV[O5],$D0118,it))if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(QV[O5])>50.)and(not G0[O5])and(is(QV[O5]))and(IsUnitInRange(QV[O5],m5,800.)))thenset GZ[O5]=trueset J4=J8(O5,OME(QV[O5],$D0079,1093678672,m5))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5))elseif(GetUnitAbilityLevel(it,1110455105)>0)thenset J4=(GetUnitLifePercent(it)<50.)and(jW(it,$D0012,h9[O5]))elseif((i1==1852862003)or(i1==1852862006)or(i1==1848652080)or(i1==1848657754))thencall SRI(it,16+O5)if(GZ[272+O5])thenset J4=jW(it,$D0012,h9[16+O5])elseset m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and((IssueTargetOrderById(it,$D011C,m5))or(IssueImmediateOrderById(it,$D0228))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5))))endifcall SII(it,16+O5,J4)set J4=trueelseif((i1==1852862002)or(i1==1852862005)or(i1==1848652082)or(i1==1848657969))thencall SRI(it,512+O5)set m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifif(m5!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,true)set J4=(GZ[272+O5])and(IssueTargetOrderById(it,$D00B0,m5))call SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,J4)if(not J4)thenset J4=((UnitCountBuffsExBJ(bj_BUFF_POLARITY_POSITIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)>0)and(IssueTargetOrderById(it,$D0059,m5)))or((GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5)))endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),1094935417,false)endifcall SII(it,512+O5,J4)if(GetUnitLifePercent(it)<25.)thenset J4=IssueImmediateOrderById(it,$D00A1)elseif(GetUnitAbilityLevel(it,1112504171)>0)thenset J4=jW(it,$D0012,h9[16+O5])endifset J4=trueelseif((i1==1852862001)or(i1==1852862004)or(i1==1848652081)or(i1==1848657968))thencall SRI(it,528+O5)set m5=h4[O5]if(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5))call SII(it,528+O5,J4)set J4=trueelseif((i1==1848652109)or(i1==1848652115))thenset m5=h4[O5]set h4[16+O5]=itif(m5==null)thenset m5=X6E(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,1110454854)==0)and(IssueTargetOrderById(it,$D000F,m5))endifif(not J4)thenif h4[O5]!=null thencall IssueTargetOrderById(it,$D000F,h4[O5])elseif((eY[O5]>=9))thencall IssueTargetOrderById(it,$D0016,QV[O5])elseif((eY[O5]!=3)and(eY[O5]!=4))thencall jW(it,$D000F,h8[O5])elseif((XZE(QV[O5]))and(IsUnitInRange(it,QV[O5],1200.)))thenset m5=QV[O5]elseset m5=X6E(1200.,jv(it),Condition(function k8))endifset J4=((m5!=null)and(IssuePointOrderById(it,$D000F,GetUnitX(m5),GetUnitY(m5))))or(jW(it,$D000F,h8[64+O5]))endifendifset it=nullset m5=nullendfunctionfunction WFI takes nothing returns nothinglocal integer O5=1local real E2Eloopexitwhen O5>$Bif(IsPlayerInForce(Player(O5),GLV))thencall GroupClear(G_V)call GroupEnumUnitsOfPlayer(G_V,Player(O5),G0V)call ForGroup(G_V,function U0I)endifif QV[O5]!=null and GetWidgetLife(QV[O5])>.405 thenset E2E=GetUnitState(QV[O5],UNIT_STATE_LIFE)/GetUnitState(QV[O5],UNIT_STATE_MAX_LIFE)set hq[704+O5]=(E2E-hq[688+O5])if(Bz>hq[736+O5])or(hq[720+O5]>hq[704+O5])thenset hq[720+O5]=hq[704+O5]set hq[736+O5]=Bz+10.endifset hq[688+O5]=E2Eendifset O5=O5+1endloopendfunctionfunction WGI takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(not AWE(GetSpellAbilityId())))!=nullendfunctionfunction WHI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)if((X1E(m5))or(not iU(m5)))thenelseif((i1==1430466609)and(GetUnitLifePercent(m5)<40.))thencall OQE(m5,$D009D,1093810258,1093810259,j5)elseif(i1==1429221446)thencall TEI(m5,j5)elseif((i1==1332766568)and(IsUnitInRange(m5,j5,400.)))thencall IssueImmediateOrderById(m5,$D0278)elseif((i1==1332109682)and(IsUnitInRange(m5,j5,500.)))thencall OTE(m5,$D026C,1093810505)elseif(i1==1433105516)thencall IssueTargetOrderById(m5,$D0278,j5)elseif((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))call IssuePointOrderById(m5,$D0278,GetUnitX(m5)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(j5)+150.*Sin(i1*bj_DEGTORAD))elseif(i1==1316252014)thencall IssueTargetOrderById(m5,$D00DE,j5)elseif((i1==1214931305)and(IsUnitInRange(m5,j5,500.))and(GetUnitLifePercent(m5)<50.))thencall IssueImmediateOrderById(m5,$D0278)elseif(i1==1311787088)thenelseif(i1==1211117643)thencall OSE(m5,$D0218,1093681483,1093748313,GetUnitX(j5),GetUnitY(j5))elseif(i1==1311781206)thencall TXI(m5,j5)elseif(i1!=1429221445)thencall TJI(m5,j5)endifset j5=nullset m5=nullendfunctionfunction WJI takes unit u returns booleanlocal real WKI=1.if(J2V)thenif(QRV[GetPlayerId(GetOwningPlayer(u))]==1)thenset WKI=10.-GetRandomReal(0,100)elseif(QRV[GetPlayerId(GetOwningPlayer(u))]==3)thenset WKI=45.-GetRandomReal(0,100)elseif(QRV[GetPlayerId(GetOwningPlayer(u))]==5)thenset WKI=65.-GetRandomReal(0,100)endifelseif(QRV[GetPlayerId(GetOwningPlayer(u))]==1)thenset WKI=.0endifendifreturn(WKI>0)endfunctionfunction WLI takes unit j5,unit WMI,real kl returns nothinglocal real IW=bj_RADTODEG*Atan2(GetUnitY(WMI)-GetUnitY(j5),GetUnitX(WMI)-GetUnitX(j5))if(IW>kl)thenset IW=IW+90elseset IW=IW-90endifif not((GetUnitAbilityLevel(WMI,1311780930)>0)and(OTE(WMI,$D0222,1093686082)))thencall IssuePointOrderById(WMI,$D0012,GetUnitX(WMI)+250.*Cos(IW*bj_DEGTORAD),GetUnitY(WMI)+250.*Sin(IW*bj_DEGTORAD))endifendfunctionfunction WPI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GIV))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(XSE(GetFilterUnit())))!=nullendfunctionfunction WQI takes aidifficulty d returns realif d==AI_DIFFICULTY_NEWBIE thenreturn .2elseif d==AI_DIFFICULTY_NORMAL thenreturn .1endifreturn .05endfunctionfunction WSI takes nothing returns nothinglocal integer WTI=GetHandleId(GetExpiredTimer())local unit ulocal real x0local real y0local real x1local real y1local real rif LoadReal(YX,WTI,7)<TimerGetElapsed(K)thencall FlushChildHashtable(YX,WTI)call DestroyTimer(GetExpiredTimer())elseset u=LoadUnitHandle(YX,WTI,1)set x0=LoadReal(YX,WTI,2)set y0=LoadReal(YX,WTI,3)set x1=LoadReal(YX,WTI,4)set y1=LoadReal(YX,WTI,5)set r=LoadReal(YX,WTI,6)set u=nullendifendfunctionfunction AI_DodgeLineStarter takes nothing returns nothinglocal integer WTIset bj_lastStartedTimer=CreateTimer()set WTI=GetHandleId(bj_lastStartedTimer)call SaveUnitHandle(YX,WTI,1,GetEnumUnit())call SaveReal(YX,WTI,2,F9V)call SaveReal(YX,WTI,3,GVV)call SaveReal(YX,WTI,4,GEV)call SaveReal(YX,WTI,5,GXV)call SaveReal(YX,WTI,6,GOV)call SaveReal(YX,WTI,7,GRV)call TimerStart(bj_lastStartedTimer,WQI(GetAIDifficulty(GetOwningPlayer(GetEnumUnit()))),true,function WSI)endfunctionfunction WUI takes nothing returns nothinglocal unit F2E=GetEnumUnit()local real x1=GetUnitX(F2E)local real y1=GetUnitY(F2E)local real dx=GEV-F9Vlocal real dy=GXV-GVVlocal real r=SquareRoot(dx*dx+dy*dy)local real r1=((x1-F9V)*dx+(y1-GVV)*dy)/rif r1>0 and r1<=r thenset dx=x1-F9V-dx*r1/rset dy=y1-GVV-dy*r1/rset r=SquareRoot(dx*dx+dy*dy)if not((GetUnitAbilityLevel(F2E,1311780930)>0)and(OTE(F2E,$D0222,1093686082)))thenif r==.0 thencall IssuePointOrderById(F2E,$D0012,x1-(y1-GVV)*GOV/r1,y1+(x1-F9V)*GOV/r1)elseif r<GOV thencall IssuePointOrderById(F2E,$D0012,x1+dx*(GOV/r-1),y1+dy*(GOV/r-1))endifendifendifset F2E=nullendfunctionfunction WYv_OLD takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit F2E=GetEnumUnit()local real IWlocal real klset IW=E4E(GetUnitX(j5),GetUnitY(j5),GetUnitX(F2E),GetUnitY(F2E))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((XSE(F2E))and(E4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))thencall WLI(j5,F2E,kl*bj_RADTODEG)if h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=j5endifendifset j5=nullset F2E=nullendfunctionfunction WYv takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit F2E=GetEnumUnit()local real IW=E4E(GetUnitX(j5),GetUnitY(j5),GetUnitX(F2E),GetUnitY(F2E))local real kl=Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5))if((WJI(F2E))and(XSE(F2E))and(E4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))thencall WLI(j5,F2E,kl*bj_RADTODEG)if h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=j5endifendifset j5=nullset F2E=nullendfunctionfunction WWI takes nothing returns nothinglocal unit F2E=GetEnumUnit()local unit j5=GetTriggerUnit()local real IWlocal real klset IW=E4E(GetUnitX(j5),GetUnitY(j5),GetUnitX(F2E),GetUnitY(F2E))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((XSE(F2E))and(((IsUnitInRange(F2E,j5,750.))and(not TGI(F2E,j5,true)))or(not H_I(F2E)))and(E4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))thencall WLI(j5,F2E,kl*bj_RADTODEG)set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=j5endifendifset j5=nullset F2E=nullendfunctionfunction WYI takes nothing returns nothinglocal unit F2E=GetEnumUnit()local unit j5=GetTriggerUnit()local real IWlocal real klset IW=E4E(GetUnitX(j5),GetUnitY(j5),GetUnitX(F2E),GetUnitY(F2E))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((WJI(F2E))and(XSE(F2E))and(E4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))thencall WLI(j5,F2E,kl*bj_RADTODEG)set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=j5endifendifset j5=nullset F2E=nullendfunctionfunction WZv_OLD takes nothing returns nothinglocal unit F2E=GetEnumUnit()local unit IB=nulllocal real klif(XSE(GetEnumUnit()))thenset IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(GetEnumUnit()))))thenset kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(GetEnumUnit())-GetUnitY(IB),GetUnitX(GetEnumUnit())-GetUnitX(IB)))-GetUnitFacing(IB))if(kl<50.)thencall WLI(IB,GetEnumUnit(),GetUnitFacing(IB))set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=GetTriggerUnit()endifendifendifset IB=nullendifset F2E=nullendfunctionfunction WZv takes nothing returns nothinglocal unit F2E=GetEnumUnit()local unit IB=nulllocal real klif((WJI(F2E))and(XSE(F2E)))thenset IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(F2E))))thenset kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(F2E)-GetUnitY(IB),GetUnitX(F2E)-GetUnitX(IB)))-GetUnitFacing(IB))if(kl<50.)thencall WLI(IB,F2E,GetUnitFacing(IB))set G0[64+GetPlayerId(GetOwningPlayer(F2E))]=trueif h4[352+GetPlayerId(GetOwningPlayer(F2E))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(F2E))]=GetTriggerUnit()endifendifendifset IB=nullendifendfunctionfunction WZI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(m5))local real kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))-GetUnitFacing(j5))local real IW=E4E(GetUnitX(m5),GetUnitY(m5),GetUnitX(j5),GetUnitY(j5))local boolean USIlocal boolean J4if(IW>900)thenset USI=kl<140.elseif(IW>600)thenset USI=(GetWidgetLife(m5)<1500.)and(kl<110.)elseif(IW>300)thenset USI=(GetWidgetLife(m5)<1000.)and(kl<80.)elseset USI=(GetWidgetLife(m5)<1000.)and(kl<50.)endifif(not iU(m5))thenelseif(not USI)thenset J4=(IW<700.)and((h4[O5]==null)or(h4[O5]==j5))and((TGI(m5,j5,true))or(IssueTargetOrderById(m5,$D000F,j5)))elseif(IW<600.)thenif(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))>GetUnitFacing(j5))thencall IssuePointOrderById(m5,$D0012,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)+90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)+90.)*bj_DEGTORAD))elsecall IssuePointOrderById(m5,$D0012,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)-90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)-90.)*bj_DEGTORAD))endifelseif((GetWidgetLife(m5)<1200.)or((IW>800.)and(h4[O5]==null)))thenset G0[64+O5]=truecall jW(m5,$D0012,h9[O5])if((GetUnitAbilityLevel(m5,1093681461)>0)and(RME(GetHandleId(GetOwningPlayer(m5)),"MyBear")!=null))thencall jW(RME(GetHandleId(GetOwningPlayer(m5)),"MyBear"),$D0012,h9[O5])endifendifendifset j5=nullset m5=nullendfunctionfunction W_I takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),1097102451)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1097102385)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093684533)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1098150517)>0)or(GetUnitAbilityLevel(GetFilterUnit(),1093683785)>0)))endfunctionfunction W1I takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(GetTriggerUnit()))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))endfunctionfunction W2I takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()local item jp=OAE(m5,BU[G5])if((jp!=null)and((GetUnitLifePercent(j5)<50.)or((h4[GetPlayerId(GetOwningPlayer(m5))]==j5)and(GetUnitLifePercent(j5)<70.))))thenif(IsUnitInRange(j5,m5,1000.))thencall UnitUseItemPoint(m5,jp,GetUnitX(j5),GetUnitY(j5))endifendifset m5=nullset j5=nullset jp=nullendfunctionfunction W3I takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(m5))if(h4[O5]==GetTriggerUnit())thenset j5=X6E(500.,jv(GetTriggerUnit()),Condition(function W1I))if(j5!=null)thenset h4[O5]=j5if(not XSE(m5))thenelseif(not iU(m5))thencall IssueTargetOrderById(m5,$D000F,j5)elsecall J3(m5,false)endifendifendifset m5=nullset j5=nullendfunctionfunction W4I takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return(((i1==1848651848)or(i1==1848651847)or(i1==1848651851))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))endfunctionfunction W5I takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)local unit W6I=X8E(800.,jv(GetTriggerUnit()),Condition(function W4I))if((not XSE(m5))or(W6I==null))thenelseif((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))thencall OTE(m5,$D0265,1093747028)elseif(i1==1164799855)thencall OME(m5,$D006B,1093682264,W6I)elseif(OXE(m5,BU[N8]))thencall UnitUseItemTarget(m5,OAE(m5,BU[N8]),W6I)elseif(OXE(m5,BU[X8]))thencall UnitUseItemTarget(m5,OAE(m5,BU[X8]),W6I)endifset m5=nullset W6I=nullendfunctionfunction W7I takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(m5))if((XSE(m5))and((not IsUnitInRange(j5,m5,500.))or(not TGI(m5,j5,false))))thenif((X1E(j5))and(not X1E(m5))and(IsUnitInRange(j5,m5,500.)))thencall IssueTargetOrderById(m5,$D000F,j5)elseif(OVE(900.,j5,Condition(function k2))<(1+GetUnitAbilityLevel(j5,GetSpellAbilityId())))thencall jW(m5,$D0012,h9[O5])endifendifendifset j5=nullset m5=nullendfunctionfunction W9I takes nothing returns nothingif((GetUnitAbilityLevel(GetEnumUnit(),1110459185)==0)or(not H_I(GetEnumUnit())))thencall ExecuteFunc("UWI")if((GetUnitTypeId(GetEnumUnit())==1315070563)and(GetUnitAbilityLevel(GetEnumUnit(),1110459185)>0)and(not R8E(GetEnumUnit(),"Omnislashing")))thencall OTE(GetEnumUnit(),$D00A0,1093678407)endifendifendfunctionfunction YEI takes nothing returns nothingcall ExecuteFunc("YXI")endfunctionfunction YXI takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)local integer P4I=GetSpellAbilityId()if(not XSE(m5))thenelseif((OXE(m5,BU[VCV]))and(P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and(UnitUseItem(m5,OAE(m5,BU[VCV]))))thenelseif((OXE(m5,BU[VNV]))and(P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and(UnitUseItem(m5,OAE(m5,BU[VNV]))))thenelseif(H_I(m5))thenelseif((P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and((i1==1315007329)or(i1==1160785972)or(i1==1432510828)))thencall IssueImmediateOrderById(m5,$D00A1)elseif((P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and(i1==1429221424))thencall OTE(m5,$D00A1,1093679445)elseif((P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and(i1==1212363833))thencall OTE(m5,$D009B,1093678643)elseif(((P4I!=1093684529)or(P4I!=1093747032))and(i1==1429221443))thencall OTE(m5,$D0131,1093686322)elseif((P4I!=1093678674)and(P4I!=1093677906)and(P4I!=1093681494)and(i1==1429221441))thencall OTE(m5,$D009B,1093677903)elseif(i1==1315988077)thenset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),OTE(m5,$D026A,1093684561))elseif((P4I==1093684529)and(i1==1332963428))thencall OME(m5,$D0103,1093678169,m5)elseif(i1==1214345830)thenif(P4I!=1093684529)thenset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),OME(m5,$D00DA,1093679190,m5))elsecall IssueImmediateOrderById(m5,$D0277)endifelseif(i1==1311781206)thenif((P4I!=1093677906)and(P4I!=1093681494)and(P4I!=1093678674))thencall IssueImmediateOrderById(m5,$D020D)endifendifset m5=nullendfunctionfunction YOI takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer P4Ilocal integer O5=GetPlayerId(GetOwningPlayer(m5))set G0[64+O5]=trueif(XSE(m5))thenif((i2(j5))and(TGI(m5,j5,false)))thenelseif(E3E(m5,h9[O5])<E3E(j5,h9[O5]))thencall jW(m5,$D0012,h9[O5])elsecall jW(m5,$D0012,h8[O5])endifset P4I=GetSpellAbilityId()if((P4I==1093678388)or(P4I==1093677141)or(P4I==1093677906)or(P4I==1093681494)or((P4I==1093678674)and(GZ[GetPlayerId(GetOwningPlayer(j5))])))thencall YEI()endifendifset j5=nullset m5=nullendfunctionfunction YRI takes nothing returns nothinglocal unit m5=GetEnumUnit()if((not iU(m5))and(GetUnitLifePercent(m5)<95.)and(h4[GetPlayerId(GetOwningPlayer(m5))]==null)and(not IsUnitInRange(GetTriggerUnit(),m5,300.)))thencall IssuePointOrderById(m5,$D0012,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))endifset m5=nullendfunctionfunction YAI takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer P4I=GetSpellAbilityId()local integer O5=GetPlayerId(GetOwningPlayer(m5))set G0[64+O5]=trueif((P4I==1093683761)or(P4I==1093747288))thenif(XSE(m5))thenif(E3E(m5,h9[O5])<E4E(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5])))thencall jW(m5,$D0012,h9[O5])elsecall jW(m5,$D0012,h8[O5])endifendifelseif((XSE(m5))and((GetUnitLevel(m5)<6)or(GetUnitLifePercent(m5)<75.)or(not Id(O5))))thenif(((P4I==1093683532)or(P4I==1093681745))and(GetUnitLevel(m5)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>1300.))thenelseif((P4I==1093685825)and(E3E(m5,h9[O5])<E4E(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5]))))thencall jW(m5,$D0012,h9[O5])elsecall jW(m5,$D0012,h9[O5])endifendifendifset m5=nullendfunctionfunction YBI takes nothing returns nothinglocal unit m5=GetEnumUnit()set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueif((is(m5))and((GetUnitLevel(m5)<5)or(GetUnitLifePercent(m5)<75.)or(h4[GetPlayerId(GetOwningPlayer(m5))]==null)))thenif((GetSpellAbilityId()!=1093808212)or(OVE(500.,GetTriggerUnit(),Condition(function k0))<3))thencall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])endifendifset m5=nullendfunctionfunction YCI takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(XSE(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif(not TGI(m5,j5,true))thenset G0[64+GetPlayerId(GetOwningPlayer(m5))]=truecall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])endifendifset m5=nullset j5=nullendfunctionfunction YDI takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(XSE(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif((GetUnitLifePercent(m5)>65.)and(GetUnitLevel(m5)>9)and((OVE(800.,j5,Condition(function NUE))>=2)or(OVE(650.,j5,Condition(function NTE))>=3)or((OVE(800.,j5,Condition(function NUE))>=1)and(OVE(650.,j5,Condition(function NTE))>=2))))thenset j5=X8E(800.,jv(m5),Condition(function NFE))if(j5!=null)thenset h4[GetPlayerId(GetOwningPlayer(m5))]=j5call LXI(m5,j5)call IssueTargetOrderById(m5,$D000F,j5)endifelseif(H_I(m5))thenelseif(E3E(m5,h9[GetPlayerId(GetOwningPlayer(m5))])<E3E(j5,h9[GetPlayerId(GetOwningPlayer(m5))]))thenset G0[64+GetPlayerId(GetOwningPlayer(m5))]=truecall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])elsecall jW(m5,$D0012,h8[GetPlayerId(GetOwningPlayer(m5))])endifendifendifset m5=nullset j5=nullendfunctionfunction YFI takes real YGI,real YJI returns booleanreturn YGI!=null and YJI!=nullendfunctionfunction YKI takes location YLI,real c,real YMI,boolean YQI returns locationlocal real YSI=GetLocationX(YLI)local real YTI=GetLocationY(YLI)local real YGI=HRE(YSI+(Cos(YMI*bj_DEGTORAD)*c))local real YJI=HIE(YTI+(Sin(YMI*bj_DEGTORAD)*c))if((YQI)and(YFI(YGI,YJI)!=true))thenreturn nullendifreturn Location(YGI,YJI)endfunctionfunction YUI takes nothing returns nothinglocal unit OJE=GetTriggerUnit()local unit D9E=GetEnumUnit()local location YWI=GetUnitLoc(OJE)local location YYI=GetUnitLoc(D9E)local real YMI=AngleBetweenPoints(YWI,YYI)local real YZI=DistanceBetweenPoints(YWI,YYI)local real c=YZI+100.local location Y_I=YKI(YWI,c,YMI,true)if((GetPlayerController(GetOwningPlayer(D9E))==MAP_CONTROL_COMPUTER)and(XSE(D9E))and(IsUnitType(D9E,UNIT_TYPE_HERO)))thenif(Y_I!=null)thencall IssuePointOrderByIdLoc(D9E,$D0012,Y_I)endifendifset OJE=nullset D9E=nullcall RemoveLocation(YWI)set YWI=nullcall RemoveLocation(YYI)set YYI=nullcall RemoveLocation(Y_I)set Y_I=nullendfunctionfunction Y0I takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i=0if(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and((OXE(m5,BU[U3])or OXE(m5,BU[C5])))thenset I6V=E3E(WCV,m5)if(I9V==null)or(I6V<WNV)thenset I9V=m5set WNV=I6Vendifendifset m5=nullendfunctionfunction Y1I takes nothing returns nothingcall ExecuteFunc("UWI")endfunctionfunction Y2I takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer Y3I=GetSpellAbilityId()local integer O5=GetPlayerId(GetOwningPlayer(j5))local real JDlocal real Jelocal integer UPlocal real H6Ilocal integer i=1local real x0local real y0local real x1local real y1local real rif(Y3I==1093684296)thenif((GetPlayerController(GetOwningPlayer(m5))!=MAP_CONTROL_USER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset H6I=Bzset UP=3+(2*GetUnitAbilityLevel(j5,Y3I))loopset JD=GetUnitX(m5)set Je=GetUnitY(m5)call EYE(.2)if((GetWidgetLife(m5)<1500.)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(XSE(m5))and((GetUnitX(m5)!=JD)or(GetUnitY(m5)!=Je)))thencall IssueImmediateOrderById(m5,$D0019)endifexitwhen((RAbsBJ(Bz-H6I)>=UP)or(not XZE(m5)))endloopendifelseif(Y3I==1093744975)thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall EYE(.5)loopset i=i+1if((IsUnitInRange(j5,m5,500.))and(is(m5))and(TGI(m5,j5,true)))thenelseif((IsUnitInRange(j5,m5,800.))and(is(m5)))thencall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifexitwhen((i==6)or(not XZE(j5))or(not XZE(m5)))call EYE(.5)endloopendifelseif(Y3I==1093744986)thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif(XSE(m5))thenif(not TGI(m5,j5,true))thencall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifendifset i=i+1exitwhen((i>$F)or(not XZE(m5))or(not XZE(j5)))call EYE(.5)endloopendifelseif(Y3I==1093743692)thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(is(m5)))thencall EYE(1.5)set UP=GetUnitTypeId(m5)if(UP==1429221446)thencall OTE(m5,$D00D1,1093678667)elseif(UP==1430466865)thencall OME(m5,$D0062,1093677879,m5)elseif(UP==1214344551)thencall OME(m5,$D007F,1093809742,m5)elseif(UP==1211117643)thencall OME(m5,$D0136,1093678410,m5)elsecall TJI(m5,j5)endifendifelseif(Y3I==1093750840)thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall EYE(.5)loopif((IsUnitInRange(j5,m5,600.))and(is(m5))and(TGI(m5,j5,true)))thenelseif((X9E(700.,jv(m5),Condition(function A9E))==0)and(X9E(700.,jv(m5),Condition(function KQ))==0)and(IsUnitInRange(j5,m5,1500.))and(is(m5)))thencall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])endifexitwhen((GetUnitAbilityLevel(m5,1110454617)==0)or(not XZE(j5))or(not XZE(m5)))call EYE(.5)endloopendifelseif((Y3I==1093808453)or(Y3I==1093681729)or(Y3I==1093678147))thenset WDV=falseif(Y3I==1093808453)thencall EYE(1)set bj_lastLoadedUnit=j5set m5=X8E($96,HC[O5],Condition(function A5E))if m5!=null thenset WNV=99999set I5V=GetPlayerId(GetOwningPlayer(m5))set WCV=nullif((h4[I5V]!=null)or((G0[256+I5V])and(not X1E(m5))and(GetHeroLevel(m5)>4)))thenif(h4[I5V]!=null)thenset I9V=h4[I5V]elseset I9V=h8[I5V]endifelseset I9V=h9[I5V]endifset UP=1loopexitwhen UP>8set bj_lastCreatedDestructable=RLE(GetHandleId(j5),"AI|SproutTree"+I2S(UP))set I6V=E3E(bj_lastCreatedDestructable,I9V)if I6V<WNV thenset WCV=bj_lastCreatedDestructableset WNV=I6Vendifcall ROE(GetHandleId(j5),"AI|SproutTree"+I2S(UP),null)set UP=UP+1endloopcall DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetWidgetX(WCV),GetWidgetY(WCV)))set WNV=99999set I9V=nullcall IV(GetLocationX(HC[O5]),GetLocationY(HC[O5]),350,Condition(function A5E),function Y0I)set m5=I9Vif(m5!=null)and(OXE(m5,BU[U3])or OXE(m5,BU[C5]))thencall UnitUseItemTarget(m5,bj_lastCreatedItem,WCV)endifendifendifif((Y3I!=1093808453)or(WNV>600))and((m5!=null)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(XSE(m5)))thenif(Y3I!=1093808453)thencall EYE(1)endifset UP=GetUnitTypeId(m5)if((UP==1211117653)and(Bz>J5V[80+GetPlayerId(GetOwningPlayer(m5))])and CLE(m5,T8V,T8V,T9V,1093687372)and(CFE(m5,T9V,T9V,T9V,false)))thencall IssueImmediateOrderById(m5,$D00A1)elseif((UP==1429221441)or(UP==1165451634)or(UP==1212365106))thencall IssueTargetOrderById(m5,$D0278,j5)elseif((Y3I==1093678147)and(UP==1315070563))thenif(not R8E(m5,"Omnislashing"))thencall OTE(m5,$D00A0,1093678407)endifelseif((Y3I==1093808453)and(UP==1164666213))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093678679,true)call IssuePointOrderById(m5,$D0100,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((Y3I==1093808453)and(UP==1211117636))thencall SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685041,true)if((GetUnitLifePercent(m5)>50.)or(GetUnitLifePercent(j5)<50.))thenset H6I=bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5))elseset H6I=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))endifset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),IssuePointOrderById(m5,$D00FA,GetUnitX(m5)+900.*Cos(H6I*bj_DEGTORAD),GetUnitY(m5)+900.*Sin(H6I*bj_DEGTORAD)))elseif((Y3I==1093808453)and(UP==1211117620))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093677623,true)call IssuePointOrderById(m5,$D0108,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((Y3I==1093808453)and(UP==1212365106))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093685831,true)call IssuePointOrderById(m5,$D0079,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((GetUnitLifePercent(j5)<50.)and(kJ(GetUnitX(j5),GetUnitY(j5)))and(GetUnitLifePercent(m5)>50.))thenif(UP==1162032181)thencall IssueTargetOrderById(m5,$D00FA,j5)elseif((UP==1430466609)or(UP==1164207469))thencall IssueTargetOrderById(m5,$D022D,j5)elseif(UP==1429221451)thencall IssueTargetOrderById(m5,$D00FA,j5)elseif(UP==1328558160)thencall OME(m5,$D00FA,1093682766,j5)elseif(OXE(m5,BU[EZ]))thencall UnitUseItemPoint(m5,OAE(m5,BU[EZ]),GetUnitX(j5),GetUnitY(j5))elsecall H_I(m5)endifelsecall H_I(m5)endifendifelseif((Y3I==1093684565)or(Y3I==1093681458)or(Y3I==1093679152)or(Y3I==1093752154))thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(GetWidgetLife(m5)<1200.))thencall AEE(m5,false)endifelseif(Y3I==1093750345)thenelseif(Y3I==1093677646)thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif((iU(m5))and(not X1E(m5)))thencall IssueTargetOrderById(m5,$D000F,j5)endifexitwhen((GetUnitCurrentOrder(j5)!=$D0207)or(not XZE(m5))or(not XZE(j5)))call EYE(.5)endloopendifelseif((Y3I==1093753177)or(Y3I==1093808181))thenif((IsUnitVisible(j5,RX[0]))and(IsUnitVisible(j5,GX[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call EYE(.2)call MoveLocation(Hb,JD,Je)call TriggerSleepAction(.5)loopcall IV(GetUnitX(j5),GetUnitY(j5),1800.,Condition(function N4E),function WWI)call EYE(.8)exitwhen((GetUnitAbilityLevel(m5,1110459478)==0)or(not XZE(m5))or(not XZE(j5)))endloopendifelseif(Y3I==1093751371)thencall EYE(.2)set H6I=Bzloopcall IV(GetUnitX(j5),GetUnitY(j5),1100.,Condition(function N4E),function YDI)call EYE(1.)exitwhen((RAbsBJ(Bz-H6I)>=7.7)or(not XZE(j5)))endloopelseif((Y3I==1093681987)or(Y3I==1093677658)or(Y3I==1093678156))thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif(XSE(m5))thenif(not TGI(m5,j5,true))thencall jW(m5,$D0012,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifendifexitwhen((GetUnitCurrentOrder(j5)!=$D0207)or(not XZE(m5))or(not XZE(j5)))call EYE(.5)endloopendifelseif((Y3I==1093677367)or(Y3I==1093678913)or(Y3I==1093677621)or(Y3I==1093679445)or(Y3I==1093677402))thencall TriggerSleepAction(.5)if((not IsUnitVisible(j5,RX[0]))or(not IsUnitVisible(j5,GX[0])))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function KO),function W2I)endifelseif((Y3I==1093681720)or(Y3I==1093678643)or(Y3I==1093677903))thencall TriggerSleepAction(1.)if((OVE(800.,j5,Condition(function W_I))==0)and(not lA(j5,not IsUnitAlly(j5,RX[0]))))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function N4E),function W3I)endifelseif(Y3I==1093682231)thencall TriggerSleepAction(.5)if((not IsUnitVisible(j5,RX[0]))or(not IsUnitVisible(j5,GX[0])))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function N4E),function W3I)endifelseif((Y3I==1093687351)or(Y3I==1093687349)or(Y3I==1093678671)or(Y3I==1093686091))thenif((IsUnitVisible(j5,RX[0]))and(IsUnitVisible(j5,GX[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set GOV=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))if(Y3I==1093686091)thenset r=1200.elseset r=700.endifset x1=x0+(JD-x0)*r/GOVset y1=y0+(Je-y0)*r/GOVcall EYE(.2)set GIV=GetOwningPlayer(j5)set GOV=250.set F9V=x0set GVV=y0set GEV=x1set GXV=y1call IV(x0,y0,r,Condition(function WPI),function WUI)endifelseif(Y3I==1093686862)thenif(B5E(GetOwningPlayer(j5))or GetRandomInt(1,4)==4)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call IV(JD,Je,1100.,Condition(function N4E),function YUI)endifelseif((Y3I==1093750324)or(Y3I==1093684291))thenif(X9E(1200.,GetUnitLoc(j5),Condition(function A7E))>1)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call IV(JD,Je,1100.,Condition(function N4E),function YCI)endifelseif(Y3I==1093678665)thenset r=400+($C8*GetUnitAbilityLevel(j5,1093678665))set H6I=TimerGetElapsed(K)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set GOV=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/GOVset y1=y0+(Je-y0)*r/GOVset m5=j5loopexitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.3)call GroupClear(iF)set bj_groupEnumTypeId=1966092360call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>1.)endloopcall EYE(.2)loopexitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>1.)set GIV=GetOwningPlayer(j5)set GOV=250.set F9V=GetUnitX(m5)set GVV=GetUnitY(m5)set GEV=x1set GXV=y1call IV(F9V,GVV,r,Condition(function WPI),function WUI)call EYE(.4)endloopelseif(Y3I==1093685041)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call EYE(.1)loopcall GroupClear(iF)set bj_groupEnumTypeId=1697657172call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.3)exitwhen(m5==null)endlooploopcall GroupClear(iF)set bj_groupEnumTypeId=1697657172call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen(m5==null)call MoveLocation(Hb,JD,Je)call IV(JD,Je,1000.,Condition(function N4E),function WYI)call EYE(.5)endloopelseif(Y3I==1093679157)thencall EYE(.1)set H6I=I2R($47E+($FA*GetUnitAbilityLevel(j5,1093679157)))loopcall GroupClear(iF)set bj_groupEnumTypeId=1966092362call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.3)exitwhen((GetUnitCurrentOrder(j5)!=$D0278)or(not XZE(j5)))endlooploopexitwhen((GetUnitCurrentOrder(j5)!=$D0278)or(not XZE(j5)))call IV(GetUnitX(j5),GetUnitY(j5),H6I,Condition(function N4E),function WZI)call EYE(.5)endloopelseif(Y3I==1093684280)thenset H6I=TimerGetElapsed(K)+3.5set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=JD-GetUnitX(j5)set y0=Je-GetUnitY(j5)set r=SquareRoot(x0*x0+y0*y0)set x0=x0*1000./rset y0=y0*1000./rloopset bj_groupEnumTypeId=1747988533call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)loopset m5=FirstOfGroup(iF)exitwhen m5==null or(GetWidgetLife(m5)>.405)call GroupRemoveUnit(iF,m5)endloopset h4[272+O5]=m5exitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.1)exitwhen TimerGetElapsed(K)>H6Iendloopcall EYE(.1)loopexitwhen(TimerGetElapsed(K)>H6I)or(GetWidgetLife(m5)<.405)set GIV=GetOwningPlayer(j5)set F9V=GetUnitX(m5)set GVV=GetUnitY(m5)set GEV=F9V+x0set GXV=GVV+y0set GOV=300.call IV(F9V,GVV,1000.,Condition(function WPI),function WUI)call EYE(.1)endloopelseif(Y3I==1093751604)thenset H6I=TimerGetElapsed(K)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set r=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x0=(JD-GetUnitX(j5))*1000./rset y0=(Je-GetUnitY(j5))*1000./rloopset bj_groupEnumTypeId=1747993394call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.3)exitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>3.5)endloopset h4[272+O5]=m5call EYE(.2)loopexitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>3.5)or(not XZE(m5))set GIV=GetOwningPlayer(j5)set F9V=GetUnitX(m5)set GVV=GetUnitY(m5)set GEV=F9V+x0set GXV=GVV+y0set GOV=200.call IV(F9V,GVV,1000.,Condition(function WPI),function WUI)call EYE(.2)endloopelseif(Y3I==1093677136)thenloopcall EYE(.8)exitwhen((GetUnitAbilityLevel(m5,1110454328)==0)or(GetUnitCurrentOrder(j5)!=$D0200))call LXI(j5,m5)endloopelseif((Y3I==1093684815)or(Y3I==1093686072)or(Y3I==1093685573))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])if(Y3I==1093684815)thenset UP=$B4elseif(Y3I==1093685573)thenset UP=$C8+100*GetUnitAbilityLevel(j5,1093685573)elseset UP=400endifcall IV(JD,Je,UP,Condition(function N4E),function Y1I)elseif((Y3I==1093684564)or(Y3I==1093677623)or(Y3I==1093678644)or(Y3I==1093681754)or(Y3I==1093678679))thenif((IsUnitVisible(j5,RX[0]))and(IsUnitVisible(j5,GX[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])if(Y3I==1093678679)thenset UP=$82+(25*GetUnitAbilityLevel(j5,1093678679))elseif(Y3I==1093677623)thenset UP=$FAelseset UP=500if(Y3I==1093678644)thencall EYE(.5)endifendifset H6I=Bzloopexitwhen(RAbsBJ(Bz-H6I)>=1.5)call IV(JD,Je,UP,Condition(function N4E),function YAI)call EYE(.4)endloopcall EYE(.4)call IV(JD,Je,UP,Condition(function N4E),function Y1I)endifelseif((Y3I==1093678420)or(Y3I==1093679176)or(Y3I==1093684529)or(Y3I==1093747032))thencall EYE(.5)call IV(GetUnitX(m5),GetUnitY(m5),600.,Condition(function N4E),function YEI)elseif((Y3I==1093677382)or(Y3I==1093677651)or(Y3I==1093685047)or(Y3I==1093677645)or(Y3I==1093678670)or(Y3I==1093678898)or(Y3I==1093678900)or(Y3I==1093678904)or(Y3I==1093682766)or(Y3I==1093677894)or(Y3I==1093810258)or(Y3I==1093810259))thencall IV(GetUnitX(j5)+350.*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+350.*Sin(GetUnitFacing(j5)*bj_DEGTORAD),450.,Condition(function N4E),function Y1I)elseif((Y3I==1093678405)or(Y3I==1093810505)or(Y3I==1093677363)or(Y3I==1093681462))thencall EYE(.5)call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function N4E),function Y1I)elseif((Y3I==1093678669)or(Y3I==1093679182)or(Y3I==1093677913)or(Y3I==1093677139)or(Y3I==1093810507)or(Y3I==1093682252)or(Y3I==1093686083))thencall IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function N4E),function Y1I)elseif((Y3I==1093678422)or(Y3I==1093682248)or(Y3I==1093810508)or(Y3I==1093684054))thencall IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function N4E),function Y1I)elseif((Y3I==1093677145)or(Y3I==1093682994)or(Y3I==1093677360)or(Y3I==1093677616))thencall IV(GetUnitX(m5),GetUnitY(m5),450.,Condition(function N4E),function Y1I)elseif(Y3I==1093678938)thencall EYE(1.)call IV(GetUnitX(j5),GetUnitY(j5),950.,Condition(function N4E),function W9I)elseif((Y3I==1093683266)or(Y3I==1093682227)or(Y3I==1093682246))thencall EYE(1.)call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function N4E),function W5I)elseif((Y3I==1093682521)or(Y3I==1093682760)or(Y3I==1093682736))thenif(Y3I==1093682521)thenset H6I=200.elseif(Y3I==1093682760)thenset H6I=450.elseif(Y3I==1093682736)thenset H6I=700.endifcall IV(GetUnitX(j5)+H6I*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+H6I*Sin(GetUnitFacing(j5)*bj_DEGTORAD),350.,Condition(function N4E),function Y1I)elseif((Y3I==1093678388)or(Y3I==1093677141)or(Y3I==1093810506))thencall IV(GetUnitX(j5),GetUnitY(j5),850.,Condition(function N4E),function YOI)elseif((Y3I==1093683248)or(Y3I==1093685846))thencall TriggerSleepAction(.1)loopcall IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function N4E),function WHI)exitwhen(((IsUnitVisible(j5,RX[0]))and(IsUnitVisible(j5,GX[0])))or(not XZE(j5)))call EYE(1.5)endloopelseif(Y3I==1093677378)thenset H6I=Bzloopexitwhen(RAbsBJ(Bz-H6I)>=9.)call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Kq),function YRI)call EYE(.8)endloopelseif(Y3I==1093681713)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=7.5)call IV(JD,Je,550.,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093809743)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=6.5)call IV(JD,Je,300.,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093685825)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=9.)call IV(JD,Je,450.,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093683532)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=10.5)call IV(JD,Je,630.,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093681745)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=7.5)call IV(JD,Je,1000.,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093685831)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set UP=360+(80*GetUnitAbilityLevel(j5,1093685831))set H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=6.5)call IV(JD,Je,UP,Condition(function N4E),function YAI)call EYE(.6)endloopelseif(Y3I==1093678407)thenset H6I=Bzloopexitwhen(RAbsBJ(Bz-H6I)>=4.5)call IV(GetUnitX(j5),GetUnitY(j5),420.,Condition(function N4E),function YBI)call EYE(.6)endloopelseif(Y3I==1093808212)thenset H6I=Bzcall EYE(.5)loopexitwhen(RAbsBJ(Bz-H6I)>=7.5)call IV(GetUnitX(j5),GetUnitY(j5),680.,Condition(function N4E),function YBI)call EYE(.6)endloopelseif(Y3I==1093685045)thenset H6I=Bzset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])loopexitwhen(RAbsBJ(Bz-H6I)>=4.5)call IV(JD,Je,950.,Condition(function N4E),function YAI)call EYE(.5)endloopelseif(Y3I==1093683761)thencall EYE(1.)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set H6I=Bzloopexitwhen((not GZ[384+O5])or(RAbsBJ(Bz-H6I)>=5.))call MoveLocation(Hb,JD,Je)call IV(JD,Je,750.,Condition(function N4E),function YAI)call EYE(.5)endloopset GZ[384+O5]=falseelseif(Y3I==1093678674)thenloopcall EYE(.5)exitwhen((GetUnitCurrentOrder(j5)!=$D0265)or(not XZE(j5)))call IV(GetUnitX(j5),GetUnitY(j5),750.,Condition(function N4E),function YOI)endloopcall EYE(.5)if(GZ[384+O5])thenset UP=0loopexitwhen((not GZ[384+O5])or(UP>$C))call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function N4E),function YOI)call EYE(.6)set UP=UP+1endloopset GZ[384+O5]=falseendifelseif((Y3I==1093684820)or(Y3I==1093684824))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call EYE(.5)loopcall EYE(.6)exitwhen((GetUnitCurrentOrder(j5)!=$D0275)or(not XZE(j5)))call IV(JD,Je,900.,Condition(function N4E),function YOI)endloopelseif((Y3I==1093677906)or(Y3I==1093681494))thencall EYE(.5)loopcall EYE(.6)exitwhen((GetUnitCurrentOrder(j5)!=$D0278)or(not XZE(j5)))call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function N4E),function YOI)endloopelseif((Y3I==1093678899)or(Y3I==1093677898)or(Y3I==1093678154)or(Y3I==1093678157)or(Y3I==1093678158))thenset H6I=Bzloopexitwhen((RAbsBJ(Bz-H6I)>=29.)or(not XZE(j5)))call IV(GetUnitX(j5),GetUnitY(j5),1200.,Condition(function N4E),function W7I)call EYE(.8)endloopelseif(Y3I==1093747288)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])loopcall EYE(.6)exitwhen((GetUnitCurrentOrder(j5)!=$D00DC)or(not XZE(j5)))call MoveLocation(Hb,JD,Je)call IV(JD,Je,1000.,Condition(function N4E),function YAI)endloopelseif((Y3I==1093808454)or(Y3I==1093808455))thenloopcall EYE(1.)exitwhen((GetUnitAbilityLevel(j5,1110454836)==0)or(not XZE(j5)))call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function N4E),function YBI)endloopelseif(Y3I==1093747009)thenif((IsUnitVisible(j5,RX[0]))and(IsUnitVisible(j5,GX[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitX(j5)set H6I=Bzcall TTI(j5,j5)loopexitwhen(RAbsBJ(Bz-H6I)>=1.5)call IV(JD,Je,475,Condition(function N4E),function YAI)call IV(x0,y0,475,Condition(function N4E),function YAI)call EYE(.4)endloopcall EYE(.4)call IV(JD,Je,UP,Condition(function N4E),function Y1I)endifelseif(Y3I==1093746993)thenset r=$960set H6I=TimerGetElapsed(K)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set GOV=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/GOVset y1=y0+(Je-y0)*r/GOVset m5=j5call EYE(1.)loopexitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>3.5)set GIV=GetOwningPlayer(j5)set GOV=350.set F9V=GetUnitX(m5)set GVV=GetUnitY(m5)set GEV=x1set GXV=y1call IV(F9V,GVV,r,Condition(function WPI),function WUI)call EYE(.4)endloopelseif(Y3I==1093678929)thenif GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER thencall RemoveGuardPosition(j5)endifelseif(Y3I==1093678658)thencall TTI(j5,j5)elseif(Y3I==1093813555)thenset r=600+($C8*GetUnitAbilityLevel(j5,1093813555))set H6I=TimerGetElapsed(K)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set GOV=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/GOVset y1=y0+(Je-y0)*r/GOVset m5=j5loopexitwhen((m5!=null)and(IsUnitVisible(m5,RX[0]))and(IsUnitVisible(m5,GX[0])))call EYE(.3)call GroupClear(iF)set bj_groupEnumTypeId=1966092360call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>1.)endloopcall EYE(.2)loopexitwhen(RAbsBJ(TimerGetElapsed(K)-H6I)>1.)set GIV=GetOwningPlayer(j5)set GOV=250.set F9V=GetUnitX(m5)set GVV=GetUnitY(m5)set GEV=x1set GXV=y1call IV(F9V,GVV,r,Condition(function WPI),function WUI)call EYE(.4)endloopelseif(Y3I==YUV[1]or Y3I==YUV[2]or Y3I==YUV[3])and B6E(Player(O5))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set WNV=E4E(GetUnitX(j5),GetUnitY(j5),JD,Je)/(2.5*GetUnitMoveSpeed(j5))-.4if WNV>0 thencall PolledWait(WNV)elsecall PolledWait(.1)endifset bj_lastLoadedUnit=j5call MoveLocation(HA,JD,Je)set WDV=(iU(j5))and((R8E(j5,"AI|EmberEscape")or(X9E(300,HA,Condition(function A5E))!=0))and IssuePointOrderById(j5,$D00D9,JD,Je))call IXE(j5,"AI|EmberEscape")elseif(Y3I==1093751349 or Y3I==1093743415 or Y3I==1093808945)thenset eY[$E0+O5]=R2I(Bz)+67set hq[832+O5]=R2I(Bz)+9endifset j5=nullset m5=nullendfunctionfunction Y4I takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))local integer Y3I=GetSpellAbilityId()local boolean UCI=(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)local unit m5=GetSpellTargetUnit()local integer X5local integer i1local integer UP=1if(Y3I==1093751349 or Y3I==1093743415 or Y3I==1093808945)thenset hq[832+O5]=0endifif(Y3I==1093751349 or Y3I==1093743415)and UCI thencall EYE(.1)if(KIV[O5]!=null)and(not UnitHasItem(j5,KIV[O5]))thenif OXE(j5,BU[L5])thencall RemoveItem(bj_lastCreatedItem)endifif UnitAddItem(j5,KIV[O5])thenset KIV[O5]=nullendifendifendifif(Y3I==1093751349 or Y3I==1093743415)or(Y3I==1093808945)or(Y3I==1093677391)or(Y3I==1093683265)thencall EYE(.1)call CZE(j5)endifif(Y3I==1093751874)thencall EYE(11.)set YDV=LoadUnitHandle(YX,(GetHandleId(j5)),(652))set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(YDV))if(not GZ[$E0+O5])or(h4[bj_forLoopAIndex]!=null)or B5E(Player(bj_forLoopAIndex))thencall IssueImmediateOrderById(j5,$D0278)endifendifcall EYE(2)loopexitwhen UP>$Bif h4[352+UP]==j5 thenset i1=GetUnitTypeId(QV[UP])set X5=GetUnitCurrentOrder(QV[UP])set G0[272+UP]=trueif i1==1429221451 and(X5==$D0217)thencall IssueImmediateOrderById(QV[UP],$D0004)call J3(QV[UP],false)elseif i1==1311780930 and(X5==$D0222)thencall IssueImmediateOrderById(QV[UP],$D0004)call J3(QV[UP],false)endifset G0[272+UP]=falseset h4[352+UP]=nullendifset UP=UP+1endloopset j5=nullendfunctionfunction Y5I takes nothing returns nothingcall MMI(GetEnumUnit())endfunctionfunction Y6I takes unit u returns nothingif(X1E(u))thenif XSE(u)thencall jW(u,$D0012,h9[GetPlayerId(GetOwningPlayer(u))])endifelseif(E3E(u,OUE(u))>5500.)thenif XSE(u)thencall jW(u,$D0012,h9[GetPlayerId(GetOwningPlayer(u))])endifset h4[GetPlayerId(GetOwningPlayer(u))]=nullelseif XSE(u)thencall jW(u,$D000F,JW(u))endifendifif((eY[GetPlayerId(GetOwningPlayer(u))]!=4)and(eY[GetPlayerId(GetOwningPlayer(u))]!=2))thenset eY[GetPlayerId(GetOwningPlayer(u))]=3endifendfunctionfunction Y7I takes unit u returns nothingif(X1E(u))thenif XSE(u)thencall jW(u,$D0012,h9[GetPlayerId(GetOwningPlayer(u))])endifelseif(E3E(u,OUE(u))>5500.)thenif XSE(u)thencall jW(u,$D0012,h9[GetPlayerId(GetOwningPlayer(u))])endifset h4[GetPlayerId(GetOwningPlayer(u))]=nullelseif XSE(u)thencall jW(u,$D000F,JW(u))endifendifset eY[GetPlayerId(GetOwningPlayer(u))]=4set GZ[480+GetPlayerId(GetOwningPlayer(u))]=trueendfunctionfunction Y8I takes nothing returns nothingcall Y6I(GetEnumUnit())endfunctionfunction Y9I takes nothing returns nothingcall Y7I(GetEnumUnit())endfunctionfunction ZVI takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((E3E(GetEnumUnit(),OUE(GetEnumUnit()))<5000.)and(eY[O5]!=4))thenif(IsUnitAlly(GetEnumUnit(),GX[0]))thenif(G3==0)thenset h8[O5]=h7[111]set h8[16+O5]=h7[114]elseif(G3==1)thenset h8[O5]=h7[$83]set h8[16+O5]=h7[$87]elseif(G3==2)thenset h8[O5]=h7[$97]set h8[16+O5]=h7[$9B]endifelseif(IsUnitAlly(GetEnumUnit(),RX[0]))thenif(G4==0)thenset h8[O5]=h7[$B]set h8[16+O5]=h7[$E]elseif(G4==1)thenset h8[O5]=h7[31]set h8[16+O5]=h7[35]elseif(G4==2)thenset h8[O5]=h7[51]set h8[16+O5]=h7[55]endifendifset h9[O5]=OUE(GetEnumUnit())set h9[16+O5]=OUE(GetEnumUnit())if(XSE(GetEnumUnit()))thencall jW(GetEnumUnit(),$D000F,h8[O5])endifset eY[O5]=1elseif((IsUnitAlly(GetEnumUnit(),RX[0]))and(eY[O5]!=9))thenif(((G4==1)and(E6E(GetEnumUnit())==2))or((G4==2)and(E6E(GetEnumUnit())==1)))thenset G0[32+O5]=truecall J3(GetEnumUnit(),true)elseif(G4==0)thencall JDI(GetEnumUnit(),h7[9+hB])elseif(G4==1)thencall JDI(GetEnumUnit(),h7[29+hc])elseif(G4==2)thencall JDI(GetEnumUnit(),h7[49+hC])endifelseif((IsUnitAlly(GetEnumUnit(),GX[0]))and(eY[O5]!=9))thenif(((G3==1)and(E6E(GetEnumUnit())==2))or((G3==2)and(E6E(GetEnumUnit())==1)))thenset G0[32+O5]=truecall J3(GetEnumUnit(),true)elseif(G3==0)thencall JDI(GetEnumUnit(),h7[117-hB])elseif(G3==1)thencall JDI(GetEnumUnit(),h7[$8B-hc])elseif(G3==2)thencall JDI(GetEnumUnit(),h7[$9F-hC])endifendifendfunctionfunction ZEI takes nothing returns nothingset eY[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=$Bset h8[48+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=h7[$FA]endfunctionfunction G9I takes nothing returns nothinglocal unit it=RME(G2V,"OB|U")local integer JVIif(XSE(it))thencall jW(it,$D0012,h9[GetPlayerId(GetOwningPlayer(it))])endifset G0[48+GetPlayerId(GetOwningPlayer(it))]=trueset JVI=H1I(6.,it,false,true)set G0[48+GetPlayerId(GetOwningPlayer(it))]=falseif(GetWidgetLife(it)<=.405)thenelseif((JVI==2)and(not X1E(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))])and(XSE(it)))thencall IssueImmediateOrderById(it,$D0019)elseif(JVI==3)thenif((not X1E(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))]))thenif XSE(it)thencall jW(it,$D000F,h8[GetPlayerId(GetOwningPlayer(it))])endifelsecall AEE(it,false)endifendifendfunctionfunction ZXI takes player ZRI,player ZII,boolean ZAI,string ZNI returns nothingif(ZAI)thencall DisplayTimedTextToPlayer(ZII,0,0,10.,C[GetPlayerId(ZRI)]+GetPlayerName(ZRI)+"|r has learned "+ZNI)elsecall DisplayTimedTextToPlayer(ZII,0,0,10.,C[GetPlayerId(ZRI)]+GetPlayerName(ZRI)+"|r didn't yet learn "+ZNI)endifendfunctionfunction ZBI takes player ZII,unit ZCI,integer ZDI,string ZFI returns nothingcall DisplayTimedTextToPlayer(ZII,0,0,10.,"        - |c0000cc00"+GetAbilityName(ZDI)+"|r "+ZFI+"[|c00ffff00Level "+I2S(GetUnitAbilityLevel(ZCI,ZDI))+"|r]")endfunctionfunction ZGI takes player ZHI,player ZJI returns nothinglocal integer iZ=GetPlayerId(ZHI)local unit it=QV[iZ]local integer ZKIlocal integer ZLI=0local integer array ZMIlocal boolean array ZSIif(it==null)thenreturnendifset ZMI[1]=eY[336+iZ]if(GetUnitAbilityLevel(it,ZMI[1])!=0)thenset ZSI[1]=trueset ZLI=ZLI+1elseset ZSI[1]=falseendifset ZMI[2]=eY[352+iZ]if(GetUnitAbilityLevel(it,ZMI[2])!=0)thenset ZSI[2]=trueset ZLI=ZLI+1elseset ZSI[2]=falseendifset ZMI[3]=eY[368+iZ]if((GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173))thenset ZMI[3]=1093681477endifif(GetUnitAbilityLevel(it,ZMI[3])!=0)thenset ZSI[3]=trueset ZLI=ZLI+1elseset ZSI[3]=falseendifset ZMI[4]=eY[$AC+iZ]if(GetUnitAbilityLevel(it,ZMI[4])!=0)thenset ZSI[4]=trueset ZLI=ZLI+1elseset ZSI[4]=falseendifset ZMI[5]=eY[$BC+iZ]if(GetUnitAbilityLevel(it,ZMI[5])!=0)thenset ZSI[5]=trueset ZLI=ZLI+1elseset ZSI[5]=falseendifset ZMI[6]=1096904043if((GetUnitTypeId(it)==1315334514)or(GetUnitTypeId(it)==1328558160)or(GetUnitTypeId(it)==1311781199)or(GetUnitTypeId(it)==1311781171)or(GetUnitTypeId(it)==1311781172)or(GetUnitTypeId(it)==1311781173)or(GetUnitTypeId(it)==1214409837))thenset ZMI[6]=1093684818endifif(GetUnitAbilityLevel(it,ZMI[6])!=0)thenset ZSI[6]=trueset ZLI=ZLI+1elseset ZSI[6]=falseendifif(ZLI==0)thencall ZXI(ZHI,ZJI,false,"any skill!")returnendifif((ZLI==1))thencall ZXI(ZHI,ZJI,true,"the following skill:")endifif((ZLI>1))thencall ZXI(ZHI,ZJI,true,"the following skills:")endifset ZKI=1loopif(ZSI[ZKI])thenif(GetUnitAbilityLevel(it,ZMI[ZKI])==1)thencall ZBI(ZJI,it,ZMI[ZKI],"")elsecall ZBI(ZJI,it,ZMI[ZKI],"up to ")endifendifexitwhen ZKI>2set ZKI=ZKI+1endloopif(GetUnitAbilityLevel(it,ZMI[4])>=GetUnitAbilityLevel(it,ZMI[5]))thenif(ZSI[4])thenif(GetUnitAbilityLevel(it,ZMI[4])==1)thencall ZBI(ZJI,it,ZMI[4],"")elsecall ZBI(ZJI,it,ZMI[4],"up to ")endifendifelseif(ZSI[5])thenif(GetUnitAbilityLevel(it,ZMI[5])==1)thencall ZBI(ZJI,it,ZMI[5],"")elsecall ZBI(ZJI,it,ZMI[5],"up to ")endifendifif(ZSI[6])thenif(GetUnitAbilityLevel(it,ZMI[6])==1)thencall ZBI(ZJI,it,ZMI[6],"")elsecall ZBI(ZJI,it,ZMI[6],"up to ")endifendifif((ZLI<4))thencall ZXI(ZHI,ZJI,false,"the following skills:")endifif((ZLI==4))thencall ZXI(ZHI,ZJI,false,"the following skill:")endifset ZKI=1loopif(not(ZSI[ZKI]))thencall ZBI(ZJI,it,ZMI[ZKI],"")endifexitwhen ZKI>2set ZKI=ZKI+1endloopif((GetUnitAbilityLevel(it,ZMI[4])==0)and(GetUnitAbilityLevel(it,ZMI[5])==0))thencall ZBI(ZJI,it,ZMI[4],"")endifif(not(ZSI[6]))thencall ZBI(ZJI,it,ZMI[6],"")endifset it=nullendfunctionfunction ZTI takes string VH returns nothinglocal player pl=nulllocal unit m5=nulllocal integer UPlocal integer GII=0local integer kglocal boolean JSI=falselocal string ZWI=""local group ZYI=nulllocal integer i=0if((SubString(VH,0,2)=="-o")or(SubString(VH,0,2)=="-c")or(SubString(VH,0,2)==" c"))thenset VH=SubString(VH,2,StringLength(VH))elsereturnendifset WGV=nullif(VH=="tango")thenif(Bz<60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Tango will be used instead of Salve")set FSV=trueendifelseif(VH=="flask")thenif(Bz<60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Salve will be used instead of Tangoes")set FSV=falseendifelseif(VH=="ld")thenif(J2V==false)thenset J2V=truecall VYE("Low Dodge Mode enabled")elseset J2V=falsecall VYE("Low Dodge Mode disabled")endifelseif(VH=="aen")thenif(GetTriggerPlayer()==GGV and GHV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N8E)),function Y5I)set bj_lastLoadedUnit=NOVset JSI=trueelseif(GetTriggerPlayer()==GHV and GGV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N7E)),function Y5I)set bj_lastLoadedUnit=ACVset JSI=trueendifset ZWI="Resuming in pushing"elseif(VH=="den")thenif(GetTriggerPlayer()==GGV and GHV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N8E)),function Y8I)set bj_lastLoadedUnit=NOVset JSI=trueelseif(GetTriggerPlayer()==GHV and GGV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N7E)),function Y8I)set bj_lastLoadedUnit=ACVset JSI=trueendifset ZWI="Defending base"elseif(VH=="sden")thenif(GetTriggerPlayer()==GGV and GHV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N8E)),function Y9I)set bj_lastLoadedUnit=NOVset JSI=trueelseif(GetTriggerPlayer()==GHV and GGV==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N7E)),function Y9I)set bj_lastLoadedUnit=ACVset JSI=trueendifset ZWI="Staying to defend base"elseif(VH=="roshanen")thenif GetWidgetLife(OV)<.405 thenif(GetTriggerPlayer()==GGV)thenset bj_lastLoadedUnit=NOVelseif(GetTriggerPlayer()==GHV)thenset bj_lastLoadedUnit=ACVendifset JSI=trueset ZWI="Negative (|c00ffcc00Roshan|r has not respawned)"elseif(GetTriggerPlayer()==GGV)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N8E)),function ZEI)set bj_lastLoadedUnit=NOVset JSI=trueelseif(GetTriggerPlayer()==GHV)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N7E)),function ZEI)set bj_lastLoadedUnit=ACVset JSI=trueendifset ZWI="Moving to engage |c00ffcc00Roshan|r"endifelseif(SubString(VH,0,7)=="itemfix")thenset VH=SubString(VH,7,StringLength(VH))set WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())loopcall TriggerSleepAction(.0)set kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifif((pl!=null)and(B6E(pl))and((IsPlayerAlly(pl,RX[0])and(GGV==null or GetTriggerPlayer()==GGV))or(IsPlayerAlly(pl,GX[0])and(GHV==null or GetTriggerPlayer()==GHV))))thenset UP=GetPlayerId(pl)if QV[UP]==null thenelseif GetWidgetLife(QV[UP])>.405 thencall AEE(QV[UP],true)set hq[528+UP]=Bz+30.call O8E(G2V,"OB|U",QV[UP])call ExecuteFunc("G9I")if(eY[UP]>=9)thenset eY[UP]=1endifendifset GZ[$C0+UP]=truecall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,"Fixing itembuild")endifendifexitwhen kg<0endloopcall DestroyForce(WGV)elseif((VH=="neut")or(VH=="neu"))thenif(GetTriggerPlayer()==GGV)thenset bj_lastLoadedUnit=ACVset Gv=not Gvif(Gv)thenset GII=1endifelseset bj_lastLoadedUnit=NOVset Gw=not Gwif(Gw)thenset GII=1endifendifset JSI=trueset ZWI="Neutral creeping is turned "+V9E(GII==1,"|c009090ffon|r","|c00ff9090off|r")elseif(VH=="ui")thencall ExecuteFunc("ZZI")elseif(SubString(VH,0,2)=="sv")thenset VH=SubString(VH,2,StringLength(VH))loopcall TriggerSleepAction(.0)set kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifif((pl!=null)and(B6E(pl)))thencall ZGI(pl,GetTriggerPlayer())endifexitwhen kg<0endloopelseif(SubString(VH,0,1)=="b")thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="b" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset JSI=trueset UP=GetPlayerId(pl)if(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elsecall O8E(G2V,"OB|U",QV[UP])call ExecuteFunc("G9I")if(eY[UP]>=9)thenset eY[UP]=1endifset ZWI="Moving back"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)elseif(SubString(VH,0,1)=="f")thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="f" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset JSI=trueset UP=GetPlayerId(pl)if(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elsecall AEE(QV[UP],true)set hq[528+UP]=Bz+30.call O8E(G2V,"OB|U",QV[UP])call ExecuteFunc("G9I")if(eY[UP]>=9)thenset eY[UP]=1endifset ZWI="Return to fountain"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)elseif((SubString(VH,0,1)=="a")and(VH!="auto"))thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="a" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset JSI=trueset UP=GetPlayerId(pl)if(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elsecall MMI(QV[UP])set ZWI="Pushing"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)elseif(SubString(VH,0,1)=="d")thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="d" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set JSI=trueif(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elsecall Y6I(QV[UP])set ZWI="Defending base"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)elseif(SubString(VH,0,2)=="sd")thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="sd" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,2,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set JSI=trueif(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elsecall Y7I(QV[UP])set ZWI="Stay-defending base"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)elseif(SubString(VH,0,6)=="roshan")thenif GetWidgetLife(OV)<.405 thenif(GetTriggerPlayer()==GGV)thenset bj_lastLoadedUnit=NOVelseif(GetTriggerPlayer()==GHV)thenset bj_lastLoadedUnit=ACVendifset JSI=trueset ZWI="Negative (|c00ffcc00Roshan|r has not respawned)"elseset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if VH=="roshan" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,6,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set JSI=trueif(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elseset eY[UP]=$Bset h8[48+UP]=h7[$FA]set ZWI="Moving to engage |c00ffcc00Roshan|r"endifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifendifexitwhen kg<0endloopset JSI=falsecall DestroyForce(WGV)endifelseif(FEV)thenelseif(VH=="auto")thenif(GetTriggerPlayer()==GGV)thenset FTV=(not FTV)set bj_lastLoadedUnit=ACVset ZWI="Automatic lane changing is turned "+V9E(FTV,"|c009090ffon|r","|c00ff9090off|r")elseset FUV=(not FUV)set bj_lastLoadedUnit=NOVset ZWI="Automatic lane changing is turned "+V9E(FUV,"|c009090ffon|r","|c00ff9090off|r")endifset JSI=trueelseif(VH=="p")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands:
        Type \"-o\",\"-c\" or \" c\" before any of these:
        "+"|c00dd8dff"+"pn|r - let AI choose where to push
        "+"|c00dd8dff"+"pl|r - all AI allies pushes left
        "+"|c00dd8dff"+"pr|r - all AI allies pushes right
        "+"|c00dd8dff"+"pm|r - all AI allies pushes middle")elseif(VH=="pn")thenif(GetTriggerPlayer()==GGV)thenset G4=-1set bj_lastLoadedUnit=ACVelseset G3=-1set bj_lastLoadedUnit=NOVendifset JSI=trueset ZWI="All ally AI are free to choose where to push"elseif((VH=="pl")or(VH=="pr")or(VH=="pm"))thenif(VH=="pl")thenset GII=1elseif(VH=="pr")thenset GII=2elseset GII=0endifif(GetTriggerPlayer()==GGV)thenset G4=GIIcall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N7E)),function ZVI)set bj_lastLoadedUnit=ACVelseset G3=GIIcall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function N8E)),function ZVI)set bj_lastLoadedUnit=NOVendifset JSI=trueif(GII==1)thenset ZWI="All ally AI will push left lane"elseif(GII==2)thenset ZWI="All ally AI will push right lane"elseset ZWI="All ally AI will push mid lane"endifelseif(SubString(VH,0,1)=="t")thenif VH!="t" thenset VH=SubString(VH,1,StringLength(VH))set kg=kE(VH," ")if kg==0 thenset VH=SubString(VH,1,StringLength(VH))set kg=kE(VH," ")endifset bj_lastLoadedUnit=V2E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),ACV,NOV)if(kg>=0)thenset WAV=SubString(VH,kg+1,StringLength(VH))if WAV=="0" thenset GII=$Aelseset GII=S2I(WAV)endifset pl=XTE(GII)set bj_forLoopAIndex=GetPlayerId(pl)if(QV[bj_forLoopAIndex]==null)thenset ZWI="|cffffcc00Invalid target"set GII=0elseif(not XZE(QV[bj_forLoopAIndex]))thenset ZWI="|cffffcc00Target is dead"set GII=0set kg=0elseif(not IsUnitVisible(QV[bj_forLoopAIndex],GetTriggerPlayer()))and(eY[32+bj_forLoopAIndex]<=2)thenset ZWI="|cffffcc00Target is not visible"set GII=0set kg=0elseif(not IsPlayerEnemy(GetTriggerPlayer(),pl))thenset ZWI="|cffffcc00Target is not enemy"set GII=0set kg=0elseset VH=SubString(VH,0,kg+1)set m5=QV[bj_forLoopAIndex]endifset JSI=(GII==0)elseset GII=0set VH="t"endifif(GII>0)thenset GII=E6E(m5)set WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if SubString(VH,0,1)==" " thenset VH=SubString(VH,1,StringLength(VH))endifset kg=kh(VH)if(kg==-1)thenset VH=SubString(VH,0,1)if VH=="a" or VH=="x" thenset VH=V9E(IsPlayerAlly(GetTriggerPlayer(),RX[0]),"1,2,3,4,5","6,7,8,9,0")endifendifloopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B7E(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set JSI=trueif(QV[UP]==null)thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elseif h4[UP]!=null and X1E(h4[UP])thenset ZWI="|cffffcc00Negative (in battle)|r"elseif((((GII==1)and(E6E(QV[UP])==2))or((GII==2)and(E6E(QV[UP])==1)))and E3E(QV[UP],OUE(QV[UP]))>10000.)thenset ZWI="|cffffcc00Negative (too far)|r"elsecall JEI(QV[UP],false)call JFI(QV[UP],m5)set G0[$A0+UP]=trueset h4[$90+UP]=m5set ZWI="Moving to ambush "+C[GetPlayerId(GetOwningPlayer(m5))]+GetPlayerName(GetOwningPlayer(m5))+"|r"endifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifexitwhen kg<0endloopcall DestroyForce(WGV)set JSI=falseendifendifif VH=="t" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"|cffffcc00Commands: Target -|r
Type \"-o\",\"-c\" or \" c\" before any of these.
You can order more than one by using \",\":
    "+"|c00dd8dff"+"t <Player no>[,<Player no2>] <target Player no>|r- ambush target hero
    "+"|c00dd8dff"+"t a <target Player no>|r- All allied bots ambush target hero
    ")endifelseif(VH=="g")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"|cffffcc00Commands: Go -|r
Type \"-o\",\"-c\" or \" c\" before any of these.
You can order more than one by using \",\":
    "+"|c00dd8dff"+"gl<Player no>|r - order bot to go left
    "+"|c00dd8dff"+"gr<Player no>|r - order bot to go right
    "+"|c00dd8dff"+"gm<Player no>|r - order bot to go mid
    ")elseif((SubString(VH,0,2)=="gl")or(SubString(VH,0,2)=="gr")or(SubString(VH,0,2)=="gm"))thenset WGV=CreateForce()call ForceAddPlayer(WGV,GetTriggerPlayer())if(SubString(VH,0,2)=="gl")thenset GII=1elseif(SubString(VH,0,2)=="gr")thenset GII=2elseset GII=0endifset VH=SubString(VH,2,StringLength(VH))set ZYI=CreateGroup()set i=1loopexitwhen i>5if IsPlayerAlly(GetTriggerPlayer(),RX[0])thenset pl=RX[i]elseset pl=GX[i]endifset UP=GetPlayerId(pl)if(B6E(pl)and QV[UP]!=null and XZE(QV[UP])and X1E(QV[UP])==false and E6E(QV[UP])==0)thencall GroupAddUnit(ZYI,QV[UP])endifset i=i+1endlooploopset kg=kh(VH)if(kg>=0)thenset pl=XUE(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=XUE(SubString(VH,0,StringLength(VH)))endifset JSI=falseif((pl!=null)and(B6E(pl))and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set JSI=trueif QV[UP]==null thenset JSI=falseelseif not XZE(QV[UP])thenset ZWI="|cffffcc00Negative (dead)|r"elseif X1E(QV[UP])thenset ZWI="|cffffcc00Negative (low Life)|r"elseif h4[UP]!=null and X1E(h4[UP])thenset ZWI="|cffffcc00Negative (in battle)|r"elseset G0[64+UP]=trueset h4[UP]=nullcall JEI(QV[UP],false)if(GII==E6E(QV[UP]))thenset GII=-1elseif((((GII==1)and(E6E(QV[UP])==2))or((GII==2)and(E6E(QV[UP])==1)))and E3E(QV[UP],OUE(QV[UP]))>10000.)thenif(eY[$E0+UP]<R2I(Bz))thenif(GII==1)thenset eY[$D0+UP]=V6E(GetTriggerPlayer()==GGV,29+hc,$8B-hc)elseif(GII==2)thenset eY[$D0+UP]=V6E(GetTriggerPlayer()==GGV,49+hC,$9F-hC)endifelseset GII=$A+GIIcall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[9+hB],h7[117-hB]))endifelseif(GII==1)thencall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[29+hc],h7[$8B-hc]))elseif(GII==2)thencall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[49+hC],h7[$9F-hC]))elsecall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[9+hB],h7[117-hB]))endifset G0[$A0+UP]=trueset hq[320+UP]=Bz+45.if(GII==1)thenset ZWI="Heading left"elseif(GII==2)thenset ZWI="Heading right"elseif(GII==$B)thenset ZWI="Heading mid (left is too far)"elseif(GII==$C)thenset ZWI="Heading mid (right is too far)"elseif(GII==-1)thenset ZWI="|cffffcc00Already in lane"elseset ZWI="Heading mid"endifendifendifif JSI thencall I9E(QV[UP],WGV)call I4E(QV[UP],WGV,ZWI)endifif(GII>$A)thenset GII=GII-$Aset bj_lastLoadedUnit=FirstOfGroup(ZYI)if bj_lastLoadedUnit!=null thencall GroupRemoveUnit(ZYI,bj_lastLoadedUnit)set UP=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))if(GII==1)thencall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[29+hc],h7[$8B-hc]))call I9E(QV[UP],WGV)call I4E(QV[UP],WGV,"Heading left (substituting)")elseif(GII==2)thencall JDI(QV[UP],V2E(GetTriggerPlayer()==GGV,h7[49+hC],h7[$9F-hC]))call I9E(QV[UP],WGV)call I4E(QV[UP],WGV,"Heading right (substituting)")endifendifendifexitwhen kg<0endloopcall DestroyForce(WGV)call DestroyGroup(ZYI)set JSI=falseendifif JSI and ZWI!="" thencall IKE(bj_lastLoadedUnit,ZWI,GetTriggerPlayer())endifcall DestroyForce(WGV)set pl=nullset m5=nullset WGV=nullset ZYI=nullendfunctionfunction Z_I takes nothing returns nothingif(GetEventPlayerChatString()==" ")thencall ZTI("-oui")elsecall ZTI(GetEventPlayerChatString())endifendfunctionfunction Z0I takes unit V_E returns integerlocal integer i1=GetUnitTypeId(V_E)if i1==1211117643 thenreturn 0endifif(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or(i1==1164277353 or i1==1164277357)or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)thenreturn 0+GetHeroLevel(V_E)/5endifif(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or(i1==1164277353 or i1==1164277357)or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336 or i1==1160786507)thenreturn 3endifif(i1==1211117617 or i1==1214344551 or i1==1432580716 or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786738)thenreturn 2endifif(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or i1==1432580716 or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)thenreturn 3endifif(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)thenreturn 3endifreturn 0endfunctionfunction Z1I takes unit V_E returns integerlocal integer i1=GetUnitTypeId(V_E)if(i1==1212363833 or i1==1212365106 or(i1==1311781199 or i1==1311781171 or i1==1311781172 or i1==1311781173)or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or((i1==1311781174)or(i1==1311781175)or(i1==1311781442))or i1==1315074670 or(i1==1164277353 or i1==1164277357)or i1==1429221430 or i1==1165451634 or i1==1160785972 or i1==1162032181 or i1==1162032951 or i1==1315334514 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409)thenreturn 3endifif(i1==1215723364 or i1==1328558160 or i1==1211117617 or i1==1212363833 or i1==1212365106 or i1==1311781199 or i1==1315070563 or i1==1215657064 or i1==1332179560 or i1==1160785973 or i1==1433631084 or i1==1211117624 or i1==1315007329 or i1==1215063922 or i1==1164207469 or i1==1315074670 or i1==1211117636 or i1==1311781206 or i1==1211117649 or i1==1160786265 or i1==1211117652 or i1==1211119187 or(i1==1164277353 or i1==1164277357)or i1==1162032439 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1429221430 or((i1==1211117654)or(i1==1211119684)or(i1==1211119683)or(i1==1211119668)or(i1==1211119682))or i1==1432646245 or i1==1430467634 or i1==1429221424 or i1==1430468913 or i1==1162032181 or i1==1162032951 or i1==1160785970 or i1==1429221443 or i1==1328558154 or i1==1432510828 or i1==1315334514 or i1==1429221451 or i1==1215722344 or i1==1160786242 or i1==1211117641 or i1==1211119409 or i1==1160786505 or i1==1160786510 or i1==1311788336)thenreturn 2endifif(i1==1211117617 or i1==1214344551 or i1==1432580716 or i1==1211117624 or i1==1315988077 or i1==1211117616 or i1==1215063922 or i1==1311781193 or i1==1211119187 or i1==1430466865 or i1==1429221441 or i1==1429221432 or i1==1313026096 or i1==1429221443 or i1==1332109682 or i1==1429221446 or i1==1332766568 or i1==1432642913 or i1==1211117650 or i1==1328558389 or i1==1328558406 or i1==1160786502 or i1==1160786507 or i1==1160786738)thenreturn 1endifif(i1==1164799855 or i1==1333027688 or i1==1311781185 or i1==1433105516 or((i1==1214409837)or(i1==1211119192)or(i1==1211119193)or(i1==1211119191))or i1==1215130471 or i1==1164799603 or i1==1432580716 or i1==1211117633 or i1==1332898670 or i1==1214345830 or i1==1160786000 or i1==1311780930 or i1==1311786311 or i1==1430466872 or i1==1430468144 or i1==1430466609 or i1==1211117640 or i1==1332963428 or i1==1429221445 or i1==1160786241 or i1==1429221456 or i1==1160786243 or i1==1311781207 or i1==1311780946 or i1==1211117646 or i1==1211117653 or i1==1311787088 or i1==1328558390 or i1==1160786506 or i1==1160786504 or i1==1211122767)thenreturn 1endifif(i1==1215128178 or i1==1164799855 or i1==1214931305 or i1==1211117620 or i1==1215130471 or i1==1316252014 or i1==1211117643 or i1==1160786000 or i1==1211117651 or i1==1164666213 or i1==1433168227 or i1==1430468406 or i1==1430466872 or i1==1211117640 or i1==1332963428 or i1==1160786241 or i1==1429221456 or i1==1211117653 or i1==1160786520)thenreturn 2endifreturn 1endfunctionfunction Z2I takes boolean EGE returns nothinglocal integer O5=0local integer i=1if EGE thenset WGV=WEelseset WGV=YEendifset i=1loopexitwhen i>5if EGE thenset O5=GetPlayerId(RX[i])elseset O5=GetPlayerId(GX[i])endifif QV[O5]!=null and GetUnitLifePercent(QV[O5])>50 and B6E(Player(O5))and eY[O5]!=$B thencall I9E(QV[O5],WGV)call I4E(QV[O5],WGV,"Moving to engage |c00ffcc00Roshan|r")set eY[O5]=$Bset h8[48+O5]=h7[$FA]endifset i=i+1endloopset WGV=nullendfunctionfunction Z3I takes nothing returns nothinglocal integer O5=0local integer ARE=0local integer ilocal integer DAI=-1local integer jlocal integer klocal integer Z4Ilocal integer Z5Ilocal boolean Z6I=falselocal boolean Z7I=falselocal boolean EGElocal real Z8I=0local real Z9I=0if not(WUV>4)thenset WUV=WUV+1returnendifset k=0set i=1loopexitwhen i>5set O5=GetPlayerId(RX[i])if(QV[O5]!=null)thenif GetHeroLevel(QV[O5])>=6 thenset Z6I=trueendifif(GetHeroLevel(QV[O5])>$B and GetUnitLifePercent(QV[O5])>50)thenset Z8I=Z8I+WRVendifendifset O5=GetPlayerId(GX[i])if(QV[O5]!=null)thenif GetHeroLevel(QV[O5])>=6 thenset Z7I=trueendifif(GetHeroLevel(QV[O5])>$B and GetUnitLifePercent(QV[O5])>50)thenset Z9I=Z9I+WIVendifendifset i=i+1endloopset i=1loopexitwhen i>5set O5=GetPlayerId(RX[i])if(eY[O5]==9 and eY[272+O5]!=0)thenset Z6I=falseendifif(QV[O5]!=null and(GetUnitLifePercent(QV[O5])>$A))thenset Z9I=Z9I-WRVendifset O5=GetPlayerId(GX[i])if(eY[O5]==9 and eY[272+O5]!=0)thenset Z7I=falseendifif(QV[O5]!=null and(GetUnitLifePercent(QV[O5])>$A))thenset Z8I=Z8I-WIVendifset i=i+1endloopif(not Z6I)and(not Z7I)thenreturnendifif GetWidgetLife(OV)>.405 thenif(Z8I>=3 and(hB>4 and hc>5 and hC>5))thencall Z2I(true)endifif(Z8I>=3 and(hB<4 and hc<5 and hC<5))thencall Z2I(false)endifendifset i=0set k=0if Z7I thenset i=i+IMVset bj_forLoopAIndex=1elseset bj_forLoopAIndex=6endifif Z6I thenset i=i+IPVset bj_forLoopAIndexEnd=$Aelseset bj_forLoopAIndexEnd=5endifset ARE=-1loopexitwhen((bj_forLoopAIndex>bj_forLoopAIndexEnd)or(ARE!=-1))set O5=GetPlayerId(XTE(bj_forLoopAIndex))set EGE=(bj_forLoopAIndex<6)if(QV[O5]!=null)thenif((GetWidgetLife(QV[O5])>.405)and(not X1E(QV[O5])))thencall GroupClear(H8)set bj_lastLoadedUnit=QV[O5]set j=GetUnitUserData(h8[80+O5])if((ARE==-1)and(OVE(1200.,QV[O5],Condition(function A8E))<=1)and(XWE(QV[O5]))and((GetRandomInt(1,i)==1)and(GetRandomInt(1,$A)<=7+Z1I(QV[O5]))))thenif((j>$B and j<17)or(j==$B and EGE==false)or(j==17 and EGE)or(j>$B and j<17)or(j==$B and EGE==false)or(j==17 and EGE)or(j>31 and j<39)or(j==31 and EGE==false)or(j==39 and EGE)or(j>$B and j<17)or(j==$B and EGE==false)or(j==17 and EGE)or(j>51 and j<59)or(j==51 and EGE==false)or(j==59 and EGE))thenset ARE=O5endifendifendifset i=i-1endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif ARE!=-1 thenset Z5I=E6E(QV[ARE])if(Z5I==0 and FOV)or(Z5I==1 and FRV)or(Z5I==2 and FXV)or(Z5I!=0 and FEV)thenreturnendifset bj_forLoopAIndex=1set i=V6E(EGE,IPV,IMV)set j=0set k=0loopexitwhen((bj_forLoopAIndex>$A)or(eY[320+ARE]+j+k>WWV and k!=0))if bj_forLoopAIndex==6 thenset i=V6E(EGE,IPV,IMV)endifif bj_forLoopAIndex<=5 thenif EGE thenset O5=GetPlayerId(GX[bj_forLoopAIndex])elseset O5=GetPlayerId(RX[bj_forLoopAIndex])endifelseif EGE thenset O5=GetPlayerId(GX[bj_forLoopAIndex-5])elseset O5=GetPlayerId(RX[bj_forLoopAIndex-5])endifendifif(QV[O5]!=null)thenif(GetUnitLifePercent(QV[O5])>70)and(GetUnitManaPercent(QV[O5])>50. and GetUnitState(QV[O5],UNIT_STATE_MANA)>$C8)thenset Z4I=E6E(QV[O5])if(Z4I==Z5I)and(bj_forLoopAIndex<=5)thenset j=j+1if(B6E(Player(O5)))and((DAI==-1)or(GetRandomInt(1,3)<=Z0I(QV[O5])))thenset DAI=O5endifelseif((Z4I!=Z5I)and((Z5I==0)or(Z4I==0)))and(eY[272+O5]!=-1)thenif((B6E(Player(O5)))and(GetHeroLevel(QV[O5])>=6)and(eY[O5]==1)and(h4[O5]==null)and(Bz>hq[528+O5])and(Bz>hq[576+O5])and(Bz>hq[320+O5])and(Bz>hq[480+O5]))thenif(GetRandomInt(1,3)<=Z0I(QV[O5]))and((GetRandomInt(1,i)<=2)or(bj_forLoopAIndex>5))thenset k=k+1set eY[272+O5]=-1endifendifendifendifset i=i-1endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(h4[304+ARE]!=null)thenset k=k-1endifif(j>2)thenset DAI=-1endifif(k>eY[320+ARE]+WWV)thenif EGE thenset WGV=YEelseset WGV=WEendifset O5=1if k==0 and DAI!=-1 thenset O5=DAIendifloopif(eY[272+O5]==-1)or((O5==DAI)and(k==0))thencall I9E(QV[O5],WGV)call I4E(QV[O5],WGV,"Moving to ambush "+C[ARE]+GetUnitName(QV[ARE])+"|r")call JFI(QV[O5],QV[ARE])endifset O5=O5+1exitwhen(O5>$B)or(k==0)endloopset WUV=GetRandomInt(0,2)endifset O5=1loopexitwhen O5>$Bif eY[272+O5]==-1 thenset eY[272+O5]=0endifset O5=O5+1endloopendifset WGV=nullendfunctionfunction VVA takes nothing returns nothinglocal button VEA=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=R4E(ki,"PlHost")local string kf=R4E(ki,"Oid")local integer UP=0if(GetTriggerPlayer()!=GGV)thenset UP=5endifif(VEA==R5E(G2V,VH+"|Btn11"))thencall ZTI(kf+" "+I2S(1+UP))elseif(VEA==R5E(G2V,VH+"|Btn12"))thencall ZTI(kf+" "+I2S(2+UP))elseif(VEA==R5E(G2V,VH+"|Btn13"))thencall ZTI(kf+" "+I2S(3+UP))elseif(VEA==R5E(G2V,VH+"|Btn14"))thencall ZTI(kf+" "+I2S(4+UP))elseif(VEA==R5E(G2V,VH+"|Btn15"))thencall ZTI(kf+" "+I2S(5+UP))elseif(VEA==R5E(G2V,VH+"|Btn1A"))thencall ZTI(kf)endifcall O1E(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set VEA=nullendfunctionfunction VXA takes string ki,boolean J4 returns nothinglocal dialog VOA=DialogCreate()local trigger t=CreateTrigger()local string VH=""local integer O5=1if(GetTriggerPlayer()==GGV)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(VOA,"Order to Whom:")loopif(IsPlayerInForce(OZE(O5,GetTriggerPlayer()==GGV),GLV))thencall RGE(G2V,VH+"|Btn1"+I2S(O5),DialogAddButton(VOA,GetPlayerName(OZE(O5,GetTriggerPlayer()==GGV)),0))endifset O5=O5+1exitwhen O5>5endloopif(J4)thencall RGE(G2V,VH+"|Btn1A",DialogAddButton(VOA,"All Allies",0))endifcall RGE(G2V,VH+"|Btn1X",DialogAddButton(VOA,"Cancel",0))call O6E(GetHandleId(t),"PlHost",VH)call O6E(GetHandleId(t),"Oid",ki)call TriggerRegisterDialogEvent(t,VOA)call TriggerAddAction(t,function VVA)call DialogDisplay(GetTriggerPlayer(),VOA,true)set t=nullendfunctionfunction VRA takes nothing returns nothinglocal button VEA=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=R4E(ki,"PlHost")local string kf=R4E(ki,"Oid")if(VEA==R5E(G2V,VH+"|Btn21"))thencall VXA(kf+"l",false)elseif(VEA==R5E(G2V,VH+"|Btn22"))thencall VXA(kf+"r",false)elseif(VEA==R5E(G2V,VH+"|Btn23"))thencall VXA(kf+"m",false)elseif(VEA==R5E(G2V,VH+"|Btn21X"))thencall ZTI(kf+"l")elseif(VEA==R5E(G2V,VH+"|Btn22X"))thencall ZTI(kf+"r")elseif(VEA==R5E(G2V,VH+"|Btn23X"))thencall ZTI(kf+"m")elseif(VEA==R5E(G2V,VH+"|Btn24"))thencall ZTI(kf+"n")endifcall O1E(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set VEA=nullendfunctionfunction VIA takes string ki,boolean J4 returns nothinglocal dialog VOA=DialogCreate()local trigger t=CreateTrigger()local string VH=""local string kf=""local string VAA=""if(J4)thenset VAA="X"endifif(GetTriggerPlayer()==GGV)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(VOA,"What Lane:")call RGE(G2V,VH+"|Btn21"+VAA,DialogAddButton(VOA,"Left",0))call RGE(G2V,VH+"|Btn22"+VAA,DialogAddButton(VOA,"Right",0))call RGE(G2V,VH+"|Btn23"+VAA,DialogAddButton(VOA,"Middle",0))if(J4)thencall RGE(G2V,VH+"|Btn24",DialogAddButton(VOA,"Anywhere",0))endifcall DialogAddButton(VOA,"Cancel",0)call O6E(GetHandleId(t),"PlHost",VH)call O6E(GetHandleId(t),"Oid",ki)call TriggerRegisterDialogEvent(t,VOA)call TriggerAddAction(t,function VRA)call DialogDisplay(GetTriggerPlayer(),VOA,true)set t=nullendfunctionfunction VNA takes nothing returns nothinglocal button VEA=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=R4E(ki,"PlHost")if(VEA==R5E(G2V,VH+"|Btn61"))thencall VXA("-osd",true)elseif(VEA==R5E(G2V,VH+"|Btn62"))thencall VXA("-oroshan",true)elseif(VEA==R5E(G2V,VH+"|Btn63"))thencall ZTI("-oneut")elseif(VEA==R5E(G2V,VH+"|Btn64"))thencall ZTI("-oauto")endifcall O1E(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set VEA=nullendfunctionfunction VBA takes nothing returns nothinglocal dialog VOA=DialogCreate()local trigger t=CreateTrigger()local string VH=""if(GetTriggerPlayer()==GGV)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(VOA,"AI commands:")call RGE(G2V,VH+"|Btn61",DialogAddButton(VOA,"Stay To Defend",0))call RGE(G2V,VH+"|Btn62",DialogAddButton(VOA,"Attack Roshan",0))if(((GetTriggerPlayer()==GGV)and(Gv))or((GetTriggerPlayer()==GHV)and(Gw)))thencall RGE(G2V,VH+"|Btn63",DialogAddButton(VOA,"Turn Neutral Creeping off",0))elsecall RGE(G2V,VH+"|Btn63",DialogAddButton(VOA,"Turn Neutral Creeping on",0))endifif(FEV)thenelseif(((GetTriggerPlayer()==GGV)and(FTV))or((GetTriggerPlayer()==GHV)and(FUV)))thencall RGE(G2V,VH+"|Btn64",DialogAddButton(VOA,"Turn Auto Lane Changing off",0))elsecall RGE(G2V,VH+"|Btn64",DialogAddButton(VOA,"Turn Auto Lane Changing on",0))endifcall DialogAddButton(VOA,"Cancel",0)call O6E(GetHandleId(t),"PlHost",VH)call TriggerRegisterDialogEvent(t,VOA)call TriggerAddAction(t,function VNA)call DialogDisplay(GetTriggerPlayer(),VOA,true)set t=nullendfunctionfunction VCA takes nothing returns nothinglocal button VEA=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=R4E(ki,"PlHost")if(VEA==R5E(G2V,VH+"|Btn01"))thencall VXA("-oa",true)elseif(VEA==R5E(G2V,VH+"|Btn02"))thencall VXA("-od",true)elseif(VEA==R5E(G2V,VH+"|Btn03"))thencall VXA("-ob",false)elseif(VEA==R5E(G2V,VH+"|Btn04"))thencall VXA("-of",false)elseif(VEA==R5E(G2V,VH+"|Btn05"))thencall VIA("-og",false)elseif(VEA==R5E(G2V,VH+"|Btn06"))thencall VIA("-op",true)elseif(VEA==R5E(G2V,VH+"|Btn07"))thencall VBA()endifcall O1E(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set VEA=nullendfunctionfunction ZZI takes nothing returns nothinglocal dialog VOA=DialogCreate()local trigger t=CreateTrigger()local string VH=""if(GetTriggerPlayer()==GGV)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(VOA,"AI commands:")call RGE(G2V,VH+"|Btn01",DialogAddButton(VOA,"Attack",0))call RGE(G2V,VH+"|Btn02",DialogAddButton(VOA,"Defend",0))call RGE(G2V,VH+"|Btn03",DialogAddButton(VOA,"Retreat",0))call RGE(G2V,VH+"|Btn04",DialogAddButton(VOA,"Fountain",0))if(not FEV)thencall RGE(G2V,VH+"|Btn05",DialogAddButton(VOA,"Change Lane",0))call RGE(G2V,VH+"|Btn06",DialogAddButton(VOA,"Set Mass Push Lane",0))endifcall RGE(G2V,VH+"|Btn07",DialogAddButton(VOA,"Other Commands..",0))call DialogAddButton(VOA,"Cancel",0)call O6E(GetHandleId(t),"PlHost",VH)call TriggerRegisterDialogEvent(t,VOA)call TriggerAddAction(t,function VCA)call DialogDisplay(GetTriggerPlayer(),VOA,true)set t=nullendfunctionfunction VDA takes nothing returns nothinglocal integer VFAlocal integer P4Ilocal integer GUIlocal integer VGA=1local location VHA=nulllocal location VJA=nulllocal string VKA=""local string VLA=""if(Bz<150.)thenset VFA=0elseif(Bz<1200.)thenset VFA=GetRandomInt(1,2)elseset VFA=GetRandomInt(1,3)endifif(VFA==0)thenreturnelseif(VFA==1)thenset P4I=1848651827set VKA="Siege Golems"elseif(VFA==2)thenset P4I=1848651845set VKA="Scary Fish"elseset P4I=1848651844set VKA="Ancient Hydras"endifif(Bz>2400.)thenset VGA=VGA+1endifif FEV thenset GUI=3elseset GUI=GetRandomInt(2,4)endifif(GUI==2)thenset VHA=Wvset VJA=qvset VLA="west"elseif(GUI==3)thenset VHA=Tvset VJA=mvset VLA="middle"elseif(GUI==4)thenset VHA=Uvset VJA=pvset VLA="east"endifcall CreateNUnitsAtLoc(VGA,P4I,RX[0],VHA,bj_UNIT_FACING)call MJX(bj_lastCreatedGroup,GUI)call CreateNUnitsAtLoc(VGA,P4I,GX[0],VJA,bj_UNIT_FACING)call MJX(bj_lastCreatedGroup,GUI)call D2E(bj_FORCE_ALL_PLAYERS,10.,"|c000000ff"+VKA+"|r spawned in the "+VLA+" path!")set VHA=nullset VJA=nullendfunctionfunction VMA takes boolean O6,string VH,integer VPA returns nothinglocal integer VQA=0local integer VSA=0local integer VTA=0local boolean VUA=falselocal boolean VWA=falselocal integer O5=1local integer i1local player plloopset pl=OZE(O5,not O6)if((B7E(pl))and(QV[GetPlayerId(pl)]!=null))thenset i1=GetUnitTypeId(QV[GetPlayerId(pl)])if((i1==1211117643)or(i1==1212365106)or(i1==1211119409))thenset VWA=trueelseif((i1==1315007329)or(i1==1160785972)or(i1==1429221424)or(i1==1332179560)or(i1==1311781206)or(i1==1429221430)or(i1==1214344551))thenset VUA=trueendifif(IsUnitType(QV[GetPlayerId(pl)],UNIT_TYPE_MELEE_ATTACKER))thenset VQA=VQA+1endifif(EIE(i1,5))thenset VSA=VSA+1endifif(EOE(i1)<=2)thenset VTA=VTA+1endifendifset O5=O5+1exitwhen O5>5endloopif(VWA)thencall O7E(G2V,VH+"|G",true)call O7E(G2V,VH+"|W",true)elseif(VUA)thencall O7E(G2V,VH+"|W",true)endifif(VQA!=0)and((VQA==VPA)or((VPA>3)and(VQA>=3)))thencall O7E(G2V,VH+"|M",true)endifif(VSA!=0)and((VSA==VPA)or((VPA>3)and(VSA>=3)))thencall O7E(G2V,VH+"|X",true)endifif(VTA!=0)and((VTA==VPA)or((VPA>3)and(VTA>=3)))thencall O7E(G2V,VH+"|D",true)endifset pl=nullendfunctionfunction VYA takes nothing returns nothingcall DestroyTrigger(GetTriggeringTrigger())call VMA(true,"Sent",IPV)call VMA(false,"Scrg",IMV)endfunctionfunction VZA takes player pl returns nothingif((PT))thenelseif(QRV[GetPlayerId(pl)]==1)thenif(not LT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+20.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+40.))endifelseif(QRV[GetPlayerId(pl)]==3)thenif(not LT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+45.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+70.))endifelseif(not LT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+80.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+110.))endifendifset QRV[16+GetPlayerId(pl)]=R2I(GetPlayerHandicapXPBJ(pl))endfunctionfunction V_A takes player pl,integer O5 returns nothinglocal integer i=0local integer IJE=GetPlayerId(pl)set hG[48+IJE]=GetRandomInt(0,1)if(Q or HFV)thenset hG[48+IJE]=GetRandomInt(0,2)endifset hG[64+IJE]=GetRandomInt(0,2)set hG[80+IJE]=GetRandomInt(0,2)set D1V[IJE]=falsecall ForceRemovePlayer(II,pl)if BV thenset i=i+8endifif(MT)thenset i=i+8endifif((DT)or(O5==0))thenelseif(QRV[IJE]==1)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(100/O5)+($A*(O5-1)))elseif(QRV[IJE]==3)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(300/O5)+($A*(O5-1)))set i=i+4elsecall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(500/O5)+($A*(O5-1)))set i=i+8endifif(MT)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)*1.1))endifset QRV[32+IJE]=iset QRV[48+IJE]=iset QRV[64+IJE]=0endfunctionfunction V0A takes trigger t,boolean O6,boolean V1A,boolean V2A returns nothingif(O_E(O6)!=null)thencall TriggerRegisterPlayerChatEvent(t,O_E(O6),"-o",false)call TriggerRegisterPlayerChatEvent(t,O_E(O6),"-c",false)call TriggerRegisterPlayerChatEvent(t,O_E(O6)," c",false)call TriggerRegisterPlayerChatEvent(t,O_E(O6)," ",true)if(IsTriggerEnabled(GPV))thencall TriggerRegisterPlayerChatEvent(GPV,O_E(O6),"-pa",true)call TriggerRegisterPlayerChatEvent(GPV,O_E(O6),"-px",true)if((O_E(not O6)==null)and(V2A))thenif(V1A)thencall DisplayTimedTextToPlayer(O_E(O6),0,0,10.,"You can choose your AI allies'/opponents' heroes using "+"|c00dd8dff"+"-pa|r/"+"|c00dd8dff"+"-pe|r")elsecall DisplayTimedTextToPlayer(O_E(O6),0,0,10.,"You can choose your AI opponents' heroes using "+"|c00dd8dff"+"-pe|r")endifcall TriggerRegisterPlayerChatEvent(GPV,O_E(O6),"-pe",true)elseif(V1A)thencall DisplayTimedTextToPlayer(O_E(O6),0,0,10.,"You can choose your AI allies' heroes using "+"|c00dd8dff"+"-pa|r")endifendifendifendfunctionfunction V3A takes nothing returns nothinglocal integer i=0loopexitwhen i>$Fif QV[i]!=null and GetPlayerController(Player(i))==MAP_CONTROL_COMPUTER and IsUnitInRange(QV[i],ACV,$3E8)==false and IsUnitInRange(QV[i],NOV,$3E8)==false thenset Z8V[$B0+i]=0endifset i=i+1endloopendfunctionfunction V4A takes nothing returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,NA)call TriggerAddCondition(t,Condition(function N6E))call TriggerAddAction(t,function FBI)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,BA)call TriggerAddCondition(t,Condition(function N5E))call TriggerAddAction(t,function FBI)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,$A,true)call TriggerAddAction(t,function V3A)set t=nullendfunctionfunction V5A takes nothing returns nothinglocal trigger t=nulllocal string VH=GetEventPlayerChatString()local player pl=XTE(S2I(SubString(VH,8,StringLength(VH))))if(pl!=null)and(pl!=GetTriggerPlayer())and B5E(pl)thenif GetTriggerPlayer()==GGV thenif IsPlayerAlly(GetLocalPlayer(),GGV)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,C[0]+"The Sentinel|r's AI Leadership has been granted to "+C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")endifset GGV=plset t=GetTriggeringTrigger()call DestroyTrigger(t)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,GGV,"-aigrant",false)call TriggerAddAction(t,function V5A)call DestroyTrigger(U6V)set U6V=CreateTrigger()call V0A(U6V,true,false,false)call TriggerAddAction(U6V,function Z_I)elseif IsPlayerAlly(GetLocalPlayer(),GHV)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,C[6]+"The Scourge|r's AI Leadership has been granted to "+C[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")endifset GHV=plset t=GetTriggeringTrigger()call DestroyTrigger(t)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,GHV,"-aigrant",false)call TriggerAddAction(t,function V5A)call DestroyTrigger(U7V)set U7V=CreateTrigger()call V0A(U7V,false,false,false)call TriggerAddAction(U7V,function Z_I)endifelsecall HEE(GetTriggerPlayer(),"Invalid Leader Choice")endifendfunctionfunction V6A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local real C4O=R2E(IAE,"Damage")if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),1110455089)==0 thencall DestroyEffect(RWE(IAE,"FX"))call BWE(MDE)call O1E(IAE)call IRE(t)set ZVV=truecall MNE(p5,m5,1,C4O)set ZVV=falseif C4O>0 thencall H7E("+"+I2S(R2I(C4O)),1,m5,.023,$FF,0,0,$D8)endifelseif GetEventDamage()>1 thencall O5E(IAE,"Damage",(C4O+GetEventDamage()*.25)*1.)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction V7A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")call O1E(IAE)call IRE(t)set t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Source",p5)call O4E(IAE,"TargetIndex",B_E(m5))call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",m5,"overhead"))call O5E(IAE,"Damage",(0)*1.)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,5,false)call TriggerAddCondition(t,Condition(function V6A))set t=nullreturn falseendfunctionfunction V8A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function V7A))call O8E(IAE,"Target",GetSpellTargetUnit())call O8E(IAE,"Source",GetTriggerUnit())set t=nullendfunctionfunction V9A takes nothing returns nothingif GetSpellAbilityId()==1093682756 and FUE(GetSpellTargetUnit())==false thencall V8A()endifendfunctionfunction EVA takes nothing returns nothinglocal unit u=GetTriggerUnit()local item IOXlocal integer i=0local real x=GetUnitX(u)local real y=GetUnitY(u)local integer HFXlocal item EEAcall DisableTrigger(R3V)loopexitwhen i>5set IOX=UnitItemInSlot(u,i)set HFX=XGE(IOX)if HFX==H6 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[R0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[Q1],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==X7 or HFX==O7 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[J0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[R1],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==EFV thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[E0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[CZ],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[XUV],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==EGV thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[E0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[CZ],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[XUV],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==EEV thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[UY],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[E8],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[X_V],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==X6V thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[QU],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[YW],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==N8 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[SY],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[AZ],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==B8 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[SY],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[AZ],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==VNV thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[U7],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[J1],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[XAV],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==X3V thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[UW],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[EUV],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==D4 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[QU],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[J0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[Y0],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==L8 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[W7],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[U7],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)elseif HFX==Y4 or HFX==R5 thenset AXV=GetItemPlayer(IOX)call RemoveItem(IOX)set EEA=CreateItem(NU[P7],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)set EEA=CreateItem(NU[X7],x,y)call SetItemPlayer(EEA,AXV,false)call SetItemUserData(EEA,1)endifset i=i+1endloopcall EnableTrigger(R3V)set u=nullset IOX=nullset EEA=nullendfunctionfunction EXA takes nothing returns booleanif GetSpellAbilityId()==1093684021 or GetSpellAbilityId()==1093751366 thencall EVA()endifreturn falseendfunctionfunction EOA takes nothing returns nothinglocal unit m5=GetEnumUnit()local group BIO=pwlocal unit p5=qwif IsUnitInGroup(m5,BIO)==false thencall GroupAddUnit(BIO,m5)call IssueTargetOrderById(Qw,$D006B,m5)set ZVV=truecall MNE(p5,m5,1,$C8)set ZVV=falsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",m5,"origin"))endifset m5=nullset BIO=nullset p5=nullendfunctionfunction ERA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit MIE=RME(IAE,"Caster")local group BIO=RUE(IAE,"AlreadyDamaged")local real dlocal real xlocal real x0=GetUnitX(p5)local real ylocal real y0=GetUnitY(p5)local group g=FYE()local integer A7O=GetTriggerEvalCount(t)local integer icall SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))set pw=BIOset qw=p5set Qw=RME(IAE,"Nuker")if GetTriggerEvalCount(t)>33 thencall KillUnit(MIE)call FWE(BIO)call O1E(IAE)call IRE(t)elseset d=A7O*18set i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I9V=p5call GroupEnumUnitsInRange(g,x,y,$96,Condition(function LIE))call ForGroup(g,function EOA)set i=i+1endloopendifcall FWE(g)set t=nullset MIE=nullset BIO=nullset p5=nullset g=nullreturn falseendfunctionfunction EIA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real x=GetUnitX(FLE)local real y=GetUnitY(FLE)local group BIO=FYE()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(FLE),1747990833,x,y,0)local unit EAA=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call UnitAddAbility(EAA,1093686320)call RAE(IAE,"AlreadyDamaged",BIO)call O8E(IAE,"Caster",MIE)call O8E(IAE,"Nuker",EAA)call O8E(IAE,"Source",FLE)call TriggerRegisterTimerEvent(t,.06,true)call TriggerAddCondition(t,Condition(function ERA))set t=nullset BIO=nullset MIE=nullset EAA=nullset FLE=nullendfunctionfunction ENA takes nothing returns nothingif GetSpellAbilityId()==1093686329 thencall EIA()endifendfunctionfunction EBA takes unit J6E,integer YXR returns nothinglocal integer H2E=GetHandleId(J6E)call SaveInteger(YX,(H2E),(750),(YXR))endfunctionfunction ECA takes nothing returns nothinglocal integer i=0local integer EDA=0local boolean EFA=falseif GetSpellAbilityId()==1093683801 thenloopexitwhen i>5if XHE(UnitItemInSlot(GetTriggerUnit(),i))==H3 or XHE(UnitItemInSlot(GetTriggerUnit(),i))==EKV thenset EDA=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))if EDA>0 thencall SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)call EBA(GetTriggerUnit(),0)if EFA==false thenset EFA=truecall SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+$F*EDA)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+$F*EDA)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))endifendifreturnendifset i=i+1endloopendifendfunctionfunction EGA takes integer id returns booleanlocal integer i=1loopexitwhen i>CIVif id==CRV[i]thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction EHA takes unit EJA,unit p5 returns nothingif IsUnitVisible(EJA,GetOwningPlayer(p5))==false and GetRandomInt(1,100)<$A thencall PlaySoundOnUnitBJ(RI,100,p5)endifendfunctionfunction EKA takes nothing returns nothinglocal unit FLE=GetEnumUnit()local integer i=0loopexitwhen i>5if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit())) thenif XHE(UnitItemInSlot(FLE,i))==H3 or XHE(UnitItemInSlot(FLE,i))==EKV thenif XHE(UnitItemInSlot(FLE,i))==EKV thenif GetItemCharges(UnitItemInSlot(FLE,i))==$F thencall EHA(GetTriggerUnit(),FLE)endifcall EBA(FLE,HME(GetItemCharges(UnitItemInSlot(FLE,i))+1,$F))call SetItemCharges(UnitItemInSlot(FLE,i),HME(GetItemCharges(UnitItemInSlot(FLE,i))+1,$F))elseif GetItemCharges(UnitItemInSlot(FLE,i))==$A thencall EHA(GetTriggerUnit(),FLE)endifcall EBA(FLE,HME(GetItemCharges(UnitItemInSlot(FLE,i))+1,$A))call SetItemCharges(UnitItemInSlot(FLE,i),HME(GetItemCharges(UnitItemInSlot(FLE,i))+1,$A))endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",FLE,"chest"))set i=5endifendifset i=i+1endloopset FLE=nullendfunctionfunction ELA takes nothing returns nothinglocal group g=FYE()local unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)call GroupEnumUnitsInRange(g,x,y,$4C9,Condition(function LLE))call ForGroup(g,function EKA)call FWE(g)set g=nullset p5=nullendfunctionfunction EMA takes nothing returns nothingif EGA(GetSpellAbilityId()) and DOE(GetSpellAbilityId()) and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 and QIE(GetSpellAbilityId())==false thencall ELA()endifendfunctionfunction EPA takes unit p5,unit m5 returns nothinglocal integer DDE=GetUnitAbilityLevel(p5,1093686099)local real HUE=(.03+.01*DDE)*GetUnitState(m5,UNIT_STATE_LIFE)if GetUnitAbilityLevel(m5,1093678162)==0 thencall MNE(p5,m5,2,HUE)call SetUnitState(p5,UNIT_STATE_LIFE,HUE+GetUnitState(p5,UNIT_STATE_LIFE))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",p5,"origin"))endifendfunctionfunction EQA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local unit p5=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 thencall DisableTrigger(t)call EPA(p5,m5)call O1E(IAE)call IRE(t)endifelsecall O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction ESA takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function EQA))call O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)set m5=nullset p5=nullset t=nullendfunctionfunction ETA takes nothing returns nothinglocal unit p5=GetAttacker()if R8E(p5,"CooldownState")==false thencall IBE(p5,"CooldownState",.4)call ESA()endifendfunctionfunction EUA takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093686099)>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Hero")and GetUnitTypeId(GetTriggerUnit())!=1848651852 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall ETA()endifreturn falseendfunctionfunction EWA takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function EUA))call O8E(GetHandleId(t),"Hero",FLE)if CEO thenset aj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullendfunctionfunction EYA takes nothing returns booleanif GetLearnedSkill()==1093686099 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093686099)==1 thencall EWA(GetTriggerUnit(),false)endifreturn falseendfunctionfunction EBX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EYA))set t=nullendfunctionfunction EZA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetUnitTypeId(FLE)==1160786520 thencall SetUnitVertexColor(FLE,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(FLE,100,100,100,$FF)endifcall DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))call UnitRemoveAbility(FLE,1093686098)call UnitRemoveAbility(FLE,1093686100)call O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction E_A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093686322)call SetUnitVertexColor(FLE,0,0,0,$FF)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),1093686100,false)call GKE(FLE,1093686100)call GKE(FLE,1093686098)call SetUnitAbilityLevel(FLE,1093686098,DDE)call HOX(FLE,0,0)call O8E(IAE,"Hero",FLE)call O9E(IAE,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",FLE,"right hand"))call O9E(IAE,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",FLE,"left hand"))call TriggerRegisterTimerEvent(t,1.75+.75*DDE,false)call TriggerAddCondition(t,Condition(function EZA))set FLE=nullset t=nullendfunctionfunction E0A takes nothing returns booleanif GetSpellAbilityId()==1093686322 thencall E_A()endifreturn falseendfunctionfunction ECX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E0A))set t=nullendfunctionfunction Snatch_Damage takes nothing returns nothingcall MNE(T4V,GetEnumUnit(),1,T5V*125+25)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))endfunctionfunction Snatch_Process takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal real C4O=R2E(H2E,"Damage")call MNE(J6E,F3E,1,C4O)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",F3E,"overhead"))set J6E=nullset F3E=nullendfunctionfunction E1A takes nothing returns nothinglocal unit J6E=T4Vlocal unit F3E=GetEnumUnit()local integer MAE=T5Vlocal trigger t=JLE(J6E,F3E,1747993670,"HAR",600)local integer H2E=GetHandleId(t)call O5E(H2E,"Damage",((MAE*125+25)*1.))set J6E=nullset F3E=nullendfunctionfunction E2A takes unit J6E,unit F3E,integer MAE returns nothinglocal group g=FYE()set I9V=J6Eset T4V=J6Eset T5V=MAEcall GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),725,Condition(function K3E))call ForGroup(g,function E1A)call FWE(g)set g=nullendfunctionfunction E3A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer D6E=GetHandleId(t)local integer EQE=R1E(D6E,"HeroPID")local unit E4A=RME(D6E,"ConsumeCaster")call DisableTrigger(GZV[EQE])call IssueImmediateOrderById(E4A,$D0275)call EnableTrigger(GZV[EQE])call O1E(D6E)call IRE(t)set t=nullset E4A=nullreturn falseendfunctionfunction E5A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=RME(H2E,"Target")local unit F2E=RME(H2E,"Hero")local unit MIE=RME(H2E,"Caster")local integer MAE=R1E(H2E,"Level")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitShareVision(F3E,GetOwningPlayer(F2E),false)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(F3E),GetUnitY(F3E)))call SetUnitPosition(F2E,GetUnitX(F3E),GetUnitY(F3E))call PauseUnit(F2E,false)call ShowUnit(F2E,true)call SetUnitPathing(F2E,true)call ClearSelectionForPlayer(GetOwningPlayer(F2E))call SelectUnitForPlayerSingle(F2E,GetOwningPlayer(F2E))call SetUnitInvulnerable(F2E,false)call DestroyEffect(RWE(H2E,"FX"))call DestroyEffect(RWE(H2E,"FX3"))call RemoveUnit(MIE)call O1E(H2E)call IRE(t)call E2A(F2E,F3E,MAE)call SaveInteger(YX,(GetHandleId((F2E))),((4310)),(2))elseif IsUnitType(F3E,UNIT_TYPE_HERO) and IsUnitEnemy(F3E,GetOwningPlayer(F2E)) thencall UnitShareVision(F3E,GetOwningPlayer(F2E),false)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(F3E),GetUnitY(F3E)))call SetUnitPosition(F2E,GetUnitX(F3E),GetUnitY(F3E))call PauseUnit(F2E,false)call ShowUnit(F2E,true)call SetUnitPathing(F2E,true)call ClearSelectionForPlayer(GetOwningPlayer(F2E))call SelectUnitForPlayerSingle(F2E,GetOwningPlayer(F2E))call SetUnitInvulnerable(F2E,false)call DestroyEffect(RWE(H2E,"FX"))call DestroyEffect(RWE(H2E,"FX3"))call RemoveUnit(MIE)call O1E(H2E)call IRE(t)call E2A(F2E,F3E,MAE)call SaveInteger(YX,(GetHandleId((F2E))),((4310)),(2))elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686104 thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(F3E),GetUnitY(F3E)))if IsUnitEnemy(F3E,GetOwningPlayer(F2E))thencall SetUnitState(F2E,UNIT_STATE_LIFE,GetUnitState(F2E,UNIT_STATE_LIFE)+GetUnitState(F3E,UNIT_STATE_LIFE))endifcall UnitShareVision(F3E,GetOwningPlayer(F2E),false)call SetUnitPosition(F2E,GetUnitX(F3E),GetUnitY(F3E))call PauseUnit(F2E,false)call ShowUnit(F2E,true)call SetUnitPathing(F2E,true)call SetUnitAnimation(F2E,"Stand Victory")call JZE(F2E,1.5)call ClearSelectionForPlayer(GetOwningPlayer(F2E))call SelectUnitForPlayerSingle(F2E,GetOwningPlayer(F2E))call SetUnitInvulnerable(F2E,false)call DestroyEffect(RWE(H2E,"FX"))call DestroyEffect(RWE(H2E,"FX3"))call RemoveUnit(MIE)call O1E(H2E)call IRE(t)call E2A(F2E,F3E,MAE)if IsUnitEnemy(F3E,GetOwningPlayer(F2E))thencall UnitRemoveBuffs(F3E,true,true)call HOX(F3E,0,0)call MNE(F2E,F3E,1,$186A0)call MNE(F2E,F3E,2,$186A0)call MNE(F2E,F3E,3,$186A0)endifcall SaveInteger(YX,(GetHandleId((F2E))),((4310)),(2))elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit()==F3E thencall ClearSelectionForPlayer(GetOwningPlayer(F2E))call SelectUnitAddForPlayer(MIE,GetOwningPlayer(F2E))elsecall SetUnitPosition(F2E,GetUnitX(F3E),GetUnitY(F3E))endifset t=nullset F3E=nullset F2E=nullreturn falseendfunctionfunction E6A takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local trigger E7A=CreateTrigger()local unit MIE=CreateUnit(GetOwningPlayer(FLE),1697657136,7260,-7732,0)local string E8A="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"local string E9A="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"local string XVA="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(FLE))and FJE(GetLocalPlayer())==false thenset E8A=""set E9A=""set XVA=""endifcall UnitRemoveBuffs(FLE,true,true)call HOX(FLE,0,0)call SetUnitInvulnerable(MIE,true)call GKE(MIE,1093686104)call ClearSelectionForPlayer(GetOwningPlayer(FLE))call SelectUnitForPlayerSingle(MIE,GetOwningPlayer(FLE))call UnitShareVision(m5,GetOwningPlayer(FLE),true)call SetUnitInvulnerable(FLE,true)call ShowUnit(FLE,false)call PauseUnit(FLE,true)call SetUnitPathing(FLE,false)call DestroyEffect(AddSpecialEffectTarget(E8A,m5,"overhead"))call O8E(IAE,"Target",m5)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",MIE)call O9E(IAE,"FX",AddSpecialEffectTarget(E9A,m5,"overhead"))call O9E(IAE,"FX3",AddSpecialEffectTarget(XVA,m5,"overhead"))call O4E(IAE,"Level",(GetUnitAbilityLevel(FLE,1093686103)))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(FLE),EVENT_PLAYER_UNIT_SELECTED,Condition(function BUE))call TriggerRegisterUnitEvent(t,MIE,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function E5A))call SaveInteger(YX,(GetHandleId((FLE))),((4310)),(1))if B6E(GetOwningPlayer(FLE))thencall O8E(GetHandleId(E7A),"ConsumeCaster",MIE)call O4E(GetHandleId(E7A),"HeroPID",GetPlayerId(GetOwningPlayer(FLE)))call TriggerRegisterTimerEvent(E7A,1.,false)call TriggerAddCondition(E7A,Condition(function E3A))endifset t=nullset E7A=nullset FLE=nullset m5=nullendfunctionfunction XEA takes nothing returns booleanif GetSpellAbilityId()==1093686103 thencall E6A()endifreturn falseendfunctionfunction XXA takes nothing returns booleanif GetSpellAbilityId()==1093686103 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) or IsUnitIllusion(GetSpellTargetUnit()))thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659030))endifreturn falseendfunctionfunction EFX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XEA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function XXA))set t=nullendfunctionfunction XOA takes integer DZX,unit J6E,unit F3E returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)if DZX==0 thencall IssueTargetOrderById(J6E,$D000F,F3E)elseif DZX==1 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,1)call IssueTargetOrderById(MIE,$D006B,F3E)elseif DZX==2 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,1)call IssueTargetOrderById(MIE,$D006B,F3E)elseif DZX==3 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,2)call IssueTargetOrderById(MIE,$D006B,F3E)elseif DZX==4 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,3)call IssueTargetOrderById(MIE,$D006B,F3E)elseif DZX==5 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,4)call IssueTargetOrderById(MIE,$D006B,F3E)elseif DZX==6 thencall GKE(MIE,1093686344)call SetUnitAbilityLevel(MIE,1093686344,5)call IssueTargetOrderById(MIE,$D006B,F3E)endifset MIE=nullendfunctionfunction XRA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer DDE=R1E(IAE,"Level")local integer CGX=R1E(IAE,"Count")local unit p5=RME(IAE,"Source")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local real XIA=(10.+DDE*5.)/ 100.if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thenset CGX=CGX+1call XOA(CGX,p5,m5)if CGX==8 thencall BWE(MDE)call O1E(IAE)call IRE(t)elsecall O4E(IAE,"Count",CGX)endifelseif PNE(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false thenif IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*XIA)elsecall SetUnitState(QV[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(QV[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*XIA)endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction XAA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call XOA(0,p5,m5)call O4E(IAE,"Count",0)call O4E(IAE,"Level",GetUnitAbilityLevel(p5,1093744948))call O8E(IAE,"Source",p5)call O4E(IAE,"TargetIndex",B_E(m5))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterTimerEvent(t,.01,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function XRA))set t=nullset p5=nullset m5=nullendfunctionfunction XNA takes nothing returns booleanif GetSpellAbilityId()==1093744948 and FUE(GetSpellTargetUnit())==false thencall XAA()endifreturn falseendfunctionfunction EDX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XNA))set t=nullcall HCE(1093686344)endfunctionfunction IsUnitHeroFilter takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))!=nullendfunctionfunction XBA takes nothing returns nothinglocal integer i1=GetSpellAbilityId()if(i1==1093681473 or i1==1093748054 or i1==1093686104 or i1==1093683018 or i1==1093683013 or i1==1093683027 or i1==1093681474 or i1==1093748818 or i1==1093751605 or i1==1093749070 or i1==1093751608 or i1==1093681475 or i1==1093681476 or i1==1093681477 or i1==1093747023 or i1==1093752150 or i1==1093747786 or i1==1093752119)or i1==1093751607 or i1==1093687350 or i1==1093810228 or i1==1093683277 or(i1==1093678936 or i1==1093681484)or i1==1093678932 thenelseif i1==1093743697 thencall KillUnit(GetTriggerUnit())elsecall UnitRemoveAbility(GetTriggerUnit(),i1)endifendfunctionfunction XCA takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),1097625443)>0 and GetUnitAbilityLevel(GetTriggerUnit(),1093686104)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093748823)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093748824)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093750342)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093682778)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093748301)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093747786)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1093752119)==0 and GetUnitTypeId(GetTriggerUnit())!=1747993137 and GetUnitTypeId(GetTriggerUnit())!=1697657136 and GetUnitTypeId(GetTriggerUnit())!=1747993395 and GetUnitTypeId(GetTriggerUnit())!=1697657424 and GetUnitTypeId(GetTriggerUnit())!=1747988559 and GetUnitTypeId(GetTriggerUnit())!=1697657412 and GetUnitTypeId(GetTriggerUnit())!=1747990577 and GetUnitTypeId(GetTriggerUnit())!=1865429305 and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER thencall XBA()endifreturn falseendfunctionfunction XDA takes unit V_E,integer HKX returns itemlocal integer OFOlocal item XFAset OFO=0loopexitwhen OFO>5set XFA=UnitItemInSlot(V_E,OFO)if(XFA!=null)and(XGE(XFA)==HKX)thenset XFA=nullreturn UnitItemInSlot(V_E,OFO)endifset OFO=OFO+1endloopset XFA=nullreturn nullendfunctionfunction IRX takes nothing returns nothinglocal unit FLE=I9Vlocal integer i=1local integer XGAif GetUnitTypeId(FLE)!=1211117653 thenreturnendifloopexitwhen i>$Bset XGA=HS[i]call GKE(FLE,XGA)call SetPlayerAbilityAvailable(GetOwningPlayer(FLE),XGA,false)set i=i+1endloopset FLE=nullendfunctionfunction XHA takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())==1211117653 and IsUnitIllusion(GetTriggerUnit())==false thenset I9V=GetTriggerUnit()call IRX()elseif(GetUnitTypeId(GetTriggerUnit())==1432510828 or GetUnitTypeId(GetTriggerUnit())==1160786520)and IsUnitIllusion(GetTriggerUnit())==false thenset I9V=GetTriggerUnit()call ExecuteFunc("Z0R")elseif GetUnitTypeId(GetTriggerUnit())==1211117641 and IsUnitIllusion(GetTriggerUnit())==false thenset I9V=GetTriggerUnit()call ExecuteFunc("DOR")endifreturn falseendfunctionfunction XJA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")call UnitRemoveAbility(m5,1093686858)call UnitRemoveAbility(m5,1093742649)if GetUnitAbilityLevel(m5,1093686858)==0 or GetUnitAbilityLevel(m5,1093742649)==0 thencall O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction XKA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)call UnitRemoveAbility(m5,1093686858)call UnitRemoveAbility(m5,1093742649)if GetUnitAbilityLevel(m5,1093686858)>0 or GetUnitAbilityLevel(m5,1093742649)>0 thenset t=CreateTrigger()set IAE=GetHandleId(t)call O8E(IAE,"Target",m5)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function XJA))endifset t=nullset m5=nullreturn falseendfunctionfunction XLA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local integer XMA=GetHandleId(FLE)local unit m5=GetSpellTargetUnit()local integer XPA=R1E(XMA,"WexLevel")local integer XQA=R1E(XMA,"ExortLevel")call GKE(m5,1093686858)call SetUnitAbilityLevel(m5,1093686858,XPA)call GKE(m5,1093742649)call SetUnitAbilityLevel(m5,1093742649,XQA)call TriggerRegisterTimerEvent(t,9,false)call TriggerAddCondition(t,Condition(function XKA))call O8E(IAE,"Target",m5)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",m5,"origin"))set t=nullset FLE=nullset m5=nullendfunctionfunction XSA takes nothing returns booleanif GetSpellAbilityId()==1093686865 thencall XLA()endifreturn falseendfunctionfunction XTA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XSA))call HHE(1093686858,GetRandomReal(1,25))call HHE(1093742649,GetRandomReal(1,25))set t=nullendfunctionfunction XUA takes unit p5 returns realreturn 400+400.*(R1E(GetHandleId(p5),"WexLevel"))endfunctionfunction XWA takes unit p5,unit m5,integer XPA,integer XYA returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)local unit XZA=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)local real X_A=.5+.3*XYAif XYA==7 thenset X_A=2.5endifcall GKE(oA,1093687371)call SetUnitAbilityLevel(oA,1093687371,XYA)call IssueTargetOrderById(oA,$D00B0,m5)call MGE(XZA,m5,1,70+(XPA+XYA)*20.,X_A)set oA=nullset XZA=nullendfunctionfunction X0A takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false thencall GroupAddUnit(AEV,GetEnumUnit())call XWA(I9V,GetEnumUnit(),I5V,tl)endifendfunctionfunction X1A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit oA=RME(IAE,"Caster")local real x2=R2E(IAE,"x2")local real y2=R2E(IAE,"y2")local real a=R2E(IAE,"a")local integer XPA=R1E(IAE,"WexLevel")local integer XYA=R1E(IAE,"QuasLevel")local group g=RUE(IAE,"g")local real x=GetUnitX(oA)+25*Cos(a)local real y=GetUnitY(oA)+25*Sin(a)local group X2A=FYE()local real X3A=E4E(x,y,x2,y2)if X3A<=30 thenset x=x2set y=y2endifcall SetUnitX(oA,HRE(x))call SetUnitY(oA,HIE(y))set I9V=oAset AEV=gset I5V=XPAset tl=XYAcall GroupEnumUnitsInRange(X2A,x,y,$C8,Condition(function K3E))call ForGroup(X2A,function X0A)call FWE(X2A)if X3A<=30 or GetTriggerEvalCount(t)>125 thencall KillUnit(oA)call O1E(IAE)call IRE(t)endifset t=nullset oA=nullset g=nullset X2A=nullreturn falseendfunctionfunction X4A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local location l=GetSpellTargetLoc()local unit p5=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local unit oAset x=GetUnitX(p5)set y=GetUnitY(p5)set oA=CreateUnit(GetOwningPlayer(p5),1848652117,x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function X1A))call O8E(IAE,"Caster",oA)call O5E(IAE,"x2",x+XUA(p5)*Cos(a))call O5E(IAE,"y2",y+XUA(p5)*Sin(a))call O4E(IAE,"WexLevel",(R1E(GetHandleId(p5),"WexLevel")))call O4E(IAE,"QuasLevel",(R1E(GetHandleId(p5),"QuasLevel")))call O5E(IAE,"a",a)call RAE(IAE,"g",FYE())call RemoveLocation(l)set t=nullset l=nullset p5=nullendfunctionfunction X5A takes nothing returns booleanif GetSpellAbilityId()==1093686859 thencall X4A()endifreturn falseendfunctionfunction X6A takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X5A))call HHE(1093687371,GetRandomReal(1,25))set t=nullendfunctionfunction X7A takes nothing returns nothinglocal real X8A=HTE(HSE(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),pB),0)local real X9A=X8A*.5if FHE(GetEnumUnit())==false and X8A>0 and DYE(GetEnumUnit())==false thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(X9A+.5)thencall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-X9A)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)call MNE(PB,GetEnumUnit(),1,X9A)endifcall SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-X8A)endifendfunctionfunction OVA takes unit p5,integer XPA,integer XQA returns nothinglocal group g=FYE()set PB=p5set I9V=p5set pB=XPA*50+50call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),700,Condition(function K3E))call ForGroup(g,function X7A)call FWE(g)set g=nullendfunctionfunction OEA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit oA=RME(IAE,"Caster")local unit OXAlocal real OOA=XN-.28*R1E(IAE,"WexLevel")local real ORA=VN+(EN-VN)*iX/(OOA/ .05)call SetUnitScale(oA,ORA,ORA,ORA)if iX>(OOA/ .05)thencall OVA(oA,R1E(IAE,"WexLevel"),R1E(IAE,"ExortLevel"))set OXA=CreateUnit(GetOwningPlayer(oA),1697657167,GetUnitX(oA),GetUnitY(oA),0)call SetUnitTimeScale(OXA,.3)call RemoveUnit(oA)call KillUnit(OXA)call O1E(IAE)call IRE(t)endifset t=nullset oA=nullset OXA=nullreturn falseendfunctionfunction OIA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local location l=GetSpellTargetLoc()local unit p5=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local unit oA=CreateUnit(GetOwningPlayer(p5),1697657165,x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function OEA))call O8E(IAE,"Caster",oA)call O4E(IAE,"WexLevel",((R1E(GetHandleId(p5),"WexLevel"))))call O4E(IAE,"QuasLevel",((R1E(GetHandleId(p5),"QuasLevel"))))call O4E(IAE,"ExortLevel",((R1E(GetHandleId(p5),"ExortLevel"))))call RemoveLocation(l)set t=nullset l=nullset p5=nullendfunctionfunction OAA takes nothing returns booleanif GetSpellAbilityId()==1093686867 thencall OIA()endifreturn falseendfunctionfunction ONA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OAA))set t=nullendfunctionfunction OBA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit OCA=RME(IAE,"Caster")local unit hn=RME(IAE,"Hero")if GetUnitAbilityLevel(hn,1110456408)==0 thencall KillUnit(OCA)call O1E(IAE)call IRE(t)elsecall SetUnitAbilityLevel(OCA,1093686856,(R1E(GetHandleId(hn),"QuasLevel")))call SetUnitX(OCA,GetUnitX(hn))call SetUnitY(OCA,GetUnitY(hn))endifset t=nullset OCA=nullset hn=nullreturn falseendfunctionfunction ODA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit hn=GetTriggerUnit()local unit OCA=CreateUnit(GetOwningPlayer(hn),1697657174,GetUnitX(hn),GetUnitY(hn),0)call GKE(OCA,1093686856)call SetUnitAbilityLevel(OCA,1093686856,(R1E(GetHandleId(hn),"QuasLevel")))call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function OBA))call O8E(IAE,"Caster",OCA)call O8E(IAE,"Hero",hn)set t=nullset hn=nullendfunctionfunction OFA takes nothing returns booleanif GetSpellAbilityId()==1093687372 thencall ODA()endifreturn falseendfunctionfunction OGA takes unit hn returns nothingif GetUnitAbilityLevel(hn,1093687372)>0 thencall SetUnitAbilityLevel(hn,1093687372,(R1E(GetHandleId(hn),"WexLevel")))endifendfunctionfunction OHA takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false thencall OGA(GetTriggerUnit())endifreturn falseendfunctionfunction OJA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OFA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function OHA))call HHE(1093686856,GetRandomReal(1,25))set t=nullendfunctionfunction OKA takes unit OLA,unit m5,integer XPA returns nothinglocal unit OMA=CreateUnit(GetOwningPlayer(OLA),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(OMA,1093686868)call SetUnitAbilityLevel(OMA,1093686868,XPA)call IssueTargetOrderById(OMA,$D0269,m5)set OMA=nullendfunctionfunction OPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit OLA=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real OQA=R2E(IAE,"Angle")local real OSA=R2E(IAE,"Rate")local integer XPA=R1E(IAE,"WexLevel")local integer XYA=R1E(IAE,"QuasLevel")local integer OTA=XYA*25/ 3local real xlocal real ylocal integer M4R=GetTriggerEvalCount(t)if M4R>OTA/ 3 thencall O5E(IAE,"Rate",OSA*.98)endifif M4R>OTA or GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall OKA(OLA,m5,XPA)endifelseset x=HRE(GetUnitX(m5)+OSA*Cos(OQA))set y=HIE(GetUnitY(m5)+OSA*Sin(OQA))call JRE(x,y,$96)call SetUnitPosition(m5,x,y)endifset t=nullset OLA=nullset m5=nullreturn falseendfunctionfunction OUA takes unit OLA,unit m5,integer XPA,integer XYA,integer OWA returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real OQA=Atan2(GetUnitY(m5)-GetUnitY(OLA),GetUnitX(m5)-GetUnitX(OLA))call MNE(OLA,m5,1,OWA*40)call O8E(IAE,"Source",OLA)call O8E(IAE,"Target",m5)call O5E(IAE,"Angle",OQA)call O5E(IAE,"Rate",6)call O4E(IAE,"WexLevel",XPA)call O4E(IAE,"QuasLevel",XYA)call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OPA))set t=nullendfunctionfunction OYA takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false and FHE(GetEnumUnit())==false thencall GroupAddUnit(AEV,GetEnumUnit())call OUA(I9V,GetEnumUnit(),I5V,tl,Tl)endifendfunctionfunction OZA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit OMA=RME(IAE,"Caster")local real a=R2E(IAE,"a")local real x2=R2E(IAE,"x2")local real y2=R2E(IAE,"y2")local group g=RUE(IAE,"g")local integer XPA=R1E(IAE,"WexLevel")local integer XYA=R1E(IAE,"QuasLevel")local integer OWA=R1E(IAE,"ExortLevel")local real x=GetUnitX(OMA)local real y=GetUnitY(OMA)local group g2if E4E(x,y,x2,y2)<100 thenset x=x2set y=y2elseset x=x+33*Cos(a)set y=y+33*Sin(a)endifcall SetUnitX(OMA,HRE(x))call SetUnitY(OMA,HIE(y))set g2=FYE()set I9V=OMAset AEV=gset I5V=XPAset tl=XYAset Tl=OWAcall GroupEnumUnitsInRange(g2,x,y,$C8,Condition(function K3E))call ForGroup(g2,function OYA)call FWE(g2)if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 thenset g2=FYE()set I9V=OMAset AEV=gset I5V=XPAset tl=XYAset Tl=OWAcall GroupEnumUnitsInRange(g2,x,y,$FA,Condition(function K3E))call ForGroup(g2,function OYA)call FWE(g2)call O1E(IAE)call IRE(t)call KillUnit(OMA)call FWE(g)endifset t=nullset OMA=nullset g=nullset g2=nullreturn falseendfunctionfunction O_A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local location l=GetSpellTargetLoc()local unit OLA=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(OLA),x-GetUnitX(OLA))local unit OMA=CreateUnit(GetOwningPlayer(OLA),1848652120,GetUnitX(OLA),GetUnitY(OLA),a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function OZA))call O8E(IAE,"Caster",OMA)call O5E(IAE,"a",a)call O5E(IAE,"x2",GetUnitX(OLA)+$3E8*Cos(a))call O5E(IAE,"y2",GetUnitY(OLA)+$3E8*Sin(a))call RAE(IAE,"g",FYE())call O4E(IAE,"WexLevel",(R1E(GetHandleId(OLA),"WexLevel")))call O4E(IAE,"QuasLevel",(R1E(GetHandleId(OLA),"QuasLevel")))call O4E(IAE,"ExortLevel",(R1E(GetHandleId(OLA),"ExortLevel")))call RemoveLocation(l)set t=nullset l=nullset OLA=nullendfunctionfunction O0A takes nothing returns booleanif GetSpellAbilityId()==1093686861 thencall O_A()endifreturn falseendfunctionfunction O1A takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O0A))call HHE(1093686868,GetRandomReal(1,25))set t=nullendfunctionfunction O2A takes unit hn returns reallocal integer O3A=(R1E(GetHandleId(hn),"ExortLevel"))return(80+O3A*35.)/ 2endfunctionfunction O4A takes unit hn returns reallocal integer O5A=(R1E(GetHandleId(hn),"WexLevel"))return 325+O5A*175.endfunctionfunction O6A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit OLA=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local real HUE=R2E(IAE,"Damage")local effect FX=RWE(IAE,"FX")local integer M4R=GetTriggerEvalCount(t)call MNE(OLA,m5,1,HUE)if M4R==3 thencall O1E(IAE)call IRE(t)call DestroyEffect(FX)endifset t=nullset OLA=nullset m5=nullset FX=nullreturn falseendfunctionfunction O7A takes unit OLA,unit m5,real HUE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call O8E(IAE,"Source",OLA)call O8E(IAE,"Target",m5)call O5E(IAE,"Damage",HUE)call O9E(IAE,"FX",AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",m5,"chest"))call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function O6A))set t=nullendfunctionfunction O8A takes nothing returns nothingcall O7A(I9V,GetEnumUnit(),I6V/ 5)call MNE(I9V,GetEnumUnit(),1,I6V)endfunctionfunction O9A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local real a=R2E(IAE,"a")local integer M4R=GetTriggerEvalCount(t)-26local unit OLA=RME(IAE,"Source")local real RVAlocal real REAlocal unit RXAlocal group gif M4R==1 thenset RXA=CreateUnit(GetOwningPlayer(OLA),1697657164,x,y,a*bj_RADTODEG)call O8E(IAE,"Caster",RXA)elseif M4R>1 thenset RXA=RME(IAE,"Caster")endifif M4R>0 thenset RVA=HRE(GetUnitX(RXA)+$F*Cos(a))set REA=HIE(GetUnitY(RXA)+$F*Sin(a))call SetUnitX(RXA,RVA)call SetUnitY(RXA,REA)if(M4R>1 and ModuloInteger(M4R,$A)==0)or M4R==1 thenset g=FYE()set I9V=OLAset I6V=O2A(OLA)call GroupEnumUnitsInRange(g,RVA,REA,300,Condition(function K3E))call ForGroup(g,function O8A)call FWE(g)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",RVA,REA))endifif M4R>O4A(OLA)/ 16.6 thencall O1E(IAE)call IRE(t)call KillUnit(RXA)endifendifset t=nullset g=nullset RXA=nullset OLA=nullreturn falseendfunctionfunction ROA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local location l=GetSpellTargetLoc()local unit OLA=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(OLA),x-GetUnitX(OLA))local unit RRA=CreateUnit(GetOwningPlayer(OLA),1697657163,x,y,a*bj_RADTODEG)call SetUnitTimeScale(RRA,.58)call UnitApplyTimedLife(RRA,1112820806,1.75)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function O9A))call O8E(IAE,"Source",OLA)call O5E(IAE,"x",x)call O5E(IAE,"y",y)call O5E(IAE,"a",a)call RemoveLocation(l)set t=nullset l=nullset OLA=nullendfunctionfunction RIA takes nothing returns booleanif GetSpellAbilityId()==1093686862 thencall ROA()endifreturn falseendfunctionfunction RAA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RIA))set t=nullendfunctionfunction RNA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real RBA=R2E(GetHandleId(m5),"MeltingStrike|Last")if RBA+5<=XRE()thencall UnitRemoveAbility(m5,1093686871)endifcall O1E(IAE)call IRE(t)set t=nullset m5=nullreturn falseendfunctionfunction RCA takes unit m5 returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(m5,1093686871)if DDE==0 thencall GKE(m5,1093686871)endifcall SetUnitAbilityLevel(m5,1093686871,DDE+1)call O8E(IAE,"Target",m5)call O5E(GetHandleId(m5),"MeltingStrike|Last",XRE())call TriggerRegisterTimerEvent(t,5,false)call TriggerAddCondition(t,Condition(function RNA))set t=nullendfunctionfunction RDA takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),1110456625)>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093686870)>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),1110456625)call DisableTrigger(GetTriggeringTrigger())call RCA(GetTriggerUnit())call O1E(GetHandleId(GetTriggeringTrigger()))call IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction RFA takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call O8E(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function RDA))endifset t=nullset m5=nullset p5=nullendfunctionfunction RGA takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),1093686870)>0 and R3E(GetHandleId(GetTriggeringTrigger()),"OrbOn")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==RME(GetHandleId(GetTriggeringTrigger()),"Source")thencall RFA()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==$D011F)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==$D0120)thencall O7E(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093686870 thencall RFA()endifreturn falseendfunctionfunction RHA takes unit p5 returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function RGA))call O8E(GetHandleId(t),"Source",p5)call O7E(GetHandleId(t),"OrbOn",true)set t=nullendfunctionfunction RJA takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction RKA takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())==1848652343)endfunctionfunction RLA takes player p returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,p,Condition(function RKA))call ForGroup(g,function RJA)call FWE(g)set g=nullendfunctionfunction RMA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit oAlocal integer XYA=(R1E(GetHandleId(p5),"QuasLevel"))local integer XQA=(R1E(GetHandleId(p5),"ExortLevel"))call RLA(GetOwningPlayer(p5))set oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitColor(oA,GetPlayerColor(RX[0]))call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")call UnitApplyTimedLife(oA,1112820806,$A+$A*XYA)call SetUnitAbilityLevel(oA,1093686870,XQA)call RHA(oA)if Ab[GetPlayerId(GetOwningPlayer(p5))]thencall SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))endifif XYA>3 and XQA>3 thenset oA=CreateUnit(GetOwningPlayer(p5),1848652343,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitColor(oA,GetPlayerColor(RX[0]))call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")call UnitApplyTimedLife(oA,1112820806,$A+$A*XYA)call SetUnitAbilityLevel(oA,1093686870,XQA)call RHA(oA)if Ab[GetPlayerId(GetOwningPlayer(p5))]thencall SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))endifendifcall SetPlayerTechResearched(GetOwningPlayer(p5),1378889799,XQA)call SetPlayerTechResearched(GetOwningPlayer(p5),1378889800,XYA)set p5=nullset oA=nullendfunctionfunction RPA takes nothing returns booleanif GetSpellAbilityId()==1093686863 thencall RMA()endifreturn falseendfunctionfunction RQA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RPA))call HHE(1093686870,GetRandomReal(1,25))call HHE(1093686871,GetRandomReal(1,25))set t=nullendfunctionfunction RSA takes unit J6E returns integerlocal integer MAE=(R1E(GetHandleId(J6E),"QuasLevel"))if MAE==1 thenreturn 1093808944elseif MAE==2 thenreturn 1093808730elseif MAE==3 thenreturn 1093808729elseif MAE==4 thenreturn 1093808725elseif MAE==5 thenreturn 1093808726elseif MAE==6 thenreturn 1093808727elseif MAE==7 thenreturn 1093808728endifreturn 1093808944endfunctionfunction RTA takes unit F3E returns nothingcall UnitRemoveAbility(F3E,1093808944)call UnitRemoveAbility(F3E,1093808730)call UnitRemoveAbility(F3E,1093808729)call UnitRemoveAbility(F3E,1093808725)call UnitRemoveAbility(F3E,1093808726)call UnitRemoveAbility(F3E,1093808727)call UnitRemoveAbility(F3E,1093808728)call UnitRemoveAbility(F3E,1110456410)endfunctionfunction RUA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(681)))call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerEventId()==EVENT_WIDGET_DEATH or SZO<(TimerGetElapsed(K))thencall RTA(F3E)endifset t=nullset F3E=nullreturn falseendfunctionfunction RWA takes nothing returns nothinglocal unit J6E=I9Vlocal unit F3E=GetEnumUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(681)))if SZO<(TimerGetElapsed(K))thencall GKE(F3E,RSA(J6E))endifcall SaveReal(YX,(GetHandleId(F3E)),(681),(((TimerGetElapsed(K))+2)*1.))call SaveUnitHandle(YX,(H2E),(17),(F3E))call TriggerRegisterTimerEvent(t,2.01,false)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function RUA))set t=nullset J6E=nullendfunctionfunction RYA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real H7O=(LoadReal(YX,(H2E),(6)))local real H8O=(LoadReal(YX,(H2E),(7)))local real a=(LoadReal(YX,(H2E),($89)))local real OXR=(LoadReal(YX,(H2E),(57)))local real xlocal real ylocal integer i=1local integer DZX=GetTriggerEvalCount(t)local group gif DZX*.1>OXR thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Eloopexitwhen i>7set x=H7O+80*i*Cos((a+90)*bj_DEGTORAD)set y=H8O+80*i*Sin((a+90)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,105,Condition(function K9E))call ForGroup(g,function RWA)set x=H7O+80*i*Cos((a-90)*bj_DEGTORAD)set y=H8O+80*i*Sin((a-90)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,105,Condition(function K9E))call ForGroup(g,function RWA)set i=i+1endloopcall FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction RZA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real a=GetUnitFacing(p5)local integer i=1local unit oAlocal real xlocal real ylocal real H7O=GetUnitX(p5)+$E1*Cos(a*bj_DEGTORAD)local real H8O=GetUnitY(p5)+$E1*Sin(a*bj_DEGTORAD)local integer XYA=(R1E(GetHandleId(p5),"QuasLevel"))local integer XQA=(R1E(GetHandleId(p5),"ExortLevel"))local real OXR=1.5+1.5*XYAlocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)loopexitwhen i>7set x=H7O+80*i*Cos((a+90)*bj_DEGTORAD)set y=H8O+80*i*Sin((a+90)*bj_DEGTORAD)set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))call SetUnitAbilityLevel(oA,1395667016,XYA)call SetUnitAbilityLevel(oA,1093687374,XQA)call SetUnitAnimation(oA,"birth")call QueueUnitAnimation(oA,"stand")call UnitApplyTimedLife(oA,1112820806,OXR)set x=H7O+80*i*Cos((a-90)*bj_DEGTORAD)set y=H8O+80*i*Sin((a-90)*bj_DEGTORAD)set oA=CreateUnit(GetOwningPlayer(p5),1966092367,x,y,GetRandomReal(0,360))call SetUnitAbilityLevel(oA,1395667016,XYA)call SetUnitAbilityLevel(oA,1093687374,XQA)call SetUnitAnimation(oA,"birth")call QueueUnitAnimation(oA,"stand")call UnitApplyTimedLife(oA,1112820806,OXR)set i=i+1endloopcall TriggerAddCondition(t,Condition(function RYA))call TriggerRegisterTimerEvent(t,.1,true)call SaveReal(YX,(H2E),(6),((H7O)*1.))call SaveReal(YX,(H2E),(7),((H8O)*1.))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveUnitHandle(YX,(H2E),(2),(p5))call SaveReal(YX,(H2E),(57),((OXR)*1.))set oA=nullset p5=nullset t=nullendfunctionfunction R_A takes nothing returns booleanif GetSpellAbilityId()==1093686864 thencall RZA()endifreturn falseendfunctionfunction R0A takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R_A))call HHE(1395667016,GetRandomReal(1,25))call HHE(1093687374,GetRandomReal(1,25))set t=nullendfunctionfunction R1A takes nothing returns nothingif XDE(GetEnumUnit())==false thencall MNE(I9V,GetEnumUnit(),3,I6V)endifendfunctionfunction R2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit hn=RME(IAE,"Hero")local real HUE=R2E(IAE,"Damage")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local group g=FYE()local integer M4Rset I9V=hncall GroupEnumUnitsInRange(g,x,y,$C8,Condition(function K3E))set M4R=CountUnitsInGroup(g)if M4R<1 thenset M4R=1endifset I6V=HUE/ M4Rcall ForGroup(g,function R1A)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))call FWE(g)call DestroyEffect(RWE(IAE,"Effect"))call O1E(IAE)call IRE(t)set t=nullset hn=nullset g=nullreturn falseendfunctionfunction R3A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit hn=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real HUE=(R1E(GetHandleId(hn),"ExortLevel"))*62.5+12.5+25local string s=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(hn)) or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thenset s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"endifcall JBE(GetOwningPlayer(hn),5.7,x,y,400)call TriggerRegisterTimerEvent(t,1.7,false)call TriggerAddCondition(t,Condition(function R2A))call O8E(IAE,"Hero",hn)call O5E(IAE,"x",x)call O5E(IAE,"y",y)call O5E(IAE,"Damage",HUE)call O9E(IAE,"Effect",AddSpecialEffect(s,x,y))call RemoveLocation(l)set t=nullset hn=nullset l=nullendfunctionfunction R4A takes nothing returns booleanif GetSpellAbilityId()==1093686855 thencall R3A()endifreturn falseendfunctionfunction R5A takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R4A))set t=nullendfunctionfunction R6A takes unit OLA,unit m5 returns nothinglocal unit R7A=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(R7A,1093686857)call IssueTargetOrderById(R7A,$D007F,m5)if FHE(m5)==false thencall MNE(OLA,m5,1,30)endifset R7A=nullendfunctionfunction R8A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local unit OLA=RME(IAE,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>$A and R9E(t,"Cooldown")==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())thencall DisableTrigger(t)call R6A(OLA,m5)call EnableTrigger(t)call ICE(t,"Cooldown",.8-DDE*.0285)endifelsecall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)endifset t=nullset m5=nullset OLA=nullreturn falseendfunctionfunction R9A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit hn=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DDE=(R1E(GetHandleId(hn),"QuasLevel"))call TriggerRegisterTimerEvent(t,2.5+DDE*.5,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function R8A))call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call O8E(IAE,"Source",hn)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"overhead"))call R6A(hn,m5)set t=nullset hn=nullset m5=nullendfunctionfunction IVA takes nothing returns booleanif GetSpellAbilityId()==1093686874 thencall R9A()endifreturn falseendfunctionfunction IEA takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IVA))call HHE(1093686857,GetRandomReal(1,25))set t=nullendfunctionfunction IXA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit hn=RME(IAE,"Hero")local integer DDE=R1E(IAE,"Level")call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+DDE*1)return falseendfunctionfunction IOA takes unit hn,integer DDE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(hn)call O7E(IAE,"Invoker|HasQuas",true)call RVE(IAE,"Invoker|QuasTrigger",t)call O8E(GetHandleId(t),"Hero",hn)call O4E(GetHandleId(t),"Level",DDE)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function IXA))set t=nullendfunctionfunction IRA takes unit hn returns nothinglocal integer IAE=GetHandleId(hn)local boolean IIA=R3E(IAE,"Invoker|HasQuas")local trigger tif IIA thencall O7E(IAE,"Invoker|HasQuas",false)set t=RTE(IAE,"Invoker|QuasTrigger")call O1E(GetHandleId(t))call IRE(t)endifset t=nullendfunctionfunction IAA takes unit hn returns nothinglocal integer IAE=GetHandleId(hn)local integer INA=R1E(IAE,"Invoker|Wex")local integer IBA=R1E(IAE,"Invoker|Quas")local integer ICA=R1E(IAE,"Invoker|Exort")local integer XPA=GetUnitAbilityLevel(hn,1093808472)local integer XYA=GetUnitAbilityLevel(hn,1093808471)local integer XQA=GetUnitAbilityLevel(hn,1093808470)call UnitRemoveAbility(hn,1093687108)call UnitRemoveAbility(hn,1093686853)call IRA(hn)call UnitRemoveAbility(hn,1093686839)if INA>0 thencall GKE(hn,1093687108)call GKE(hn,1093686853)call SetUnitAbilityLevel(hn,1093687108,INA*XPA)call SetUnitAbilityLevel(hn,1093686853,INA*XPA)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),1093687108,false)endifif IBA>0 thencall IOA(hn,IBA*XYA)endifif ICA>0 thencall GKE(hn,1093686839)call SetUnitAbilityLevel(hn,1093686839,ICA*XQA)endifendfunctionfunction IDA takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()==1093808472 or GetLearnedSkill()==1093808471 or GetLearnedSkill()==1093808470)thencall IAA(GetTriggerUnit())if GetLearnedSkill()==1093808472 thencall SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)call O4E((GetHandleId(GetTriggerUnit())),"WexLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808472)))endifif GetLearnedSkill()==1093808471 thencall SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)call O4E((GetHandleId(GetTriggerUnit())),"QuasLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808471)))endifif GetLearnedSkill()==1093808470 thencall SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)call O4E((GetHandleId(GetTriggerUnit())),"ExortLevel",(GetUnitAbilityLevel(GetTriggerUnit(),1093808470)))endifendifreturn falseendfunctionfunction IFA takes unit hn returns nothingif GetUnitAbilityLevel(hn,1093687372)>0 thencall SetUnitAbilityLevel(hn,1093687372,GetUnitAbilityLevel(hn,1093808472))endifendfunctionfunction IGA takes nothing returns nothinglocal integer IHA=0local unit hn=GetTriggerUnit()local integer CBE=GetHandleId(hn)local integer IJA=R1E(CBE,"Invoker|Wex")local integer IKA=R1E(CBE,"Invoker|Quas")local integer ILA=R1E(CBE,"Invoker|Exort")local integer CCE=R1E(CBE,"Invoker|Current1")local integer CDE=R1E(CBE,"Invoker|Current2")if IJA==3 and IKA==0 and ILA==0 thenset IHA=1elseif IJA==2 and IKA==1 and ILA==0 thenset IHA=2elseif IJA==2 and IKA==0 and ILA==1 thenset IHA=3elseif IJA==1 and IKA==2 and ILA==0 thenset IHA=4elseif IJA==1 and IKA==1 and ILA==1 thenset IHA=5elseif IJA==1 and IKA==0 and ILA==2 thenset IHA=6elseif IJA==0 and IKA==1 and ILA==2 thenset IHA=7elseif IJA==0 and IKA==2 and ILA==1 thenset IHA=8elseif IJA==0 and IKA==0 and ILA==3 thenset IHA=9elseif IJA==0 and IKA==3 and ILA==0 thenset IHA=$Aendifif HS[IHA]==CDE thenreturnendifif GetUnitAbilityLevel(hn,1093808473)==1 or GetUnitAbilityLevel(hn,1093748565)==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,false)set CDE=HS[IHA]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,true)elseif CCE!=0 and CDE!=0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),CCE,false)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,false)set CCE=CDEset CDE=HS[IHA]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CCE,true)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,true)elseif CCE==0 and CDE!=0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,false)set CCE=CDEset CDE=HS[IHA]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CCE,true)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,true)elseset CDE=HS[IHA]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),CDE,true)endifendifcall O4E(CBE,"Invoker|Current1",CCE)call O4E(CBE,"Invoker|Current2",CDE)call IFA(hn)set hn=nullendfunctionfunction IMA takes unit F2E,integer IPA,integer IQA,integer ISA returns nothinglocal integer Orb1=0local integer Orb2=0local integer Orb3=0local integer ITAlocal integer IUAlocal integer IWAlocal integer IYAlocal integer IZAlocal integer I_Alocal integer I0Alocal integer I1Alocal integer I2Acall UnitRemoveAbility(F2E,1093682254)call UnitRemoveAbility(F2E,1093682247)call UnitRemoveAbility(F2E,1093683544)call UnitRemoveAbility(F2E,1093683505)call UnitRemoveAbility(F2E,1093683504)call UnitRemoveAbility(F2E,1093683290)call UnitRemoveAbility(F2E,1093683523)call UnitRemoveAbility(F2E,1093683522)call UnitRemoveAbility(F2E,1093683524)call UnitRemoveAbility(F2E,1093808707)call UnitRemoveAbility(F2E,1093808708)call UnitRemoveAbility(F2E,1093808709)call UnitRemoveAbility(F2E,1093808710)call UnitRemoveAbility(F2E,1093808711)call UnitRemoveAbility(F2E,1093808712)call UnitRemoveAbility(F2E,1093808713)call UnitRemoveAbility(F2E,1093808714)call UnitRemoveAbility(F2E,1093808715)if XDA(F2E,ROV)==null thenset ITA=1093682254set IUA=1093682247set IWA=1093683544set IYA=1093683505set IZA=1093683504set I_A=1093683290set I0A=1093683523set I1A=1093683522set I2A=1093683524elseset ITA=1093808707set IUA=1093808708set IWA=1093808709set IYA=1093808710set IZA=1093808711set I_A=1093808712set I0A=1093808713set I1A=1093808714set I2A=1093808715endifif IPA==1 and IQA==0 and ISA==0 thencall GKE(F2E,ITA)elseif IPA==0 and IQA==1 and ISA==0 thencall GKE(F2E,IYA)elseif IPA==0 and IQA==0 and ISA==1 thencall GKE(F2E,I0A)elseif IPA==2 and IQA==0 and ISA==0 thencall GKE(F2E,ITA)call GKE(F2E,IUA)elseif IPA==1 and IQA==1 and ISA==0 thencall GKE(F2E,ITA)call GKE(F2E,IZA)elseif IPA==1 and IQA==0 and ISA==1 thencall GKE(F2E,ITA)call GKE(F2E,I1A)elseif IPA==0 and IQA==2 and ISA==0 thencall GKE(F2E,IYA)call GKE(F2E,IZA)elseif IPA==0 and IQA==1 and ISA==1 thencall GKE(F2E,IYA)call GKE(F2E,I1A)elseif IPA==0 and IQA==0 and ISA==2 thencall GKE(F2E,I0A)call GKE(F2E,I1A)elseif IPA==3 and IQA==0 and ISA==0 thencall GKE(F2E,ITA)call GKE(F2E,IUA)call GKE(F2E,IWA)elseif IPA==2 and IQA==1 and ISA==0 thencall GKE(F2E,ITA)call GKE(F2E,IUA)call GKE(F2E,I_A)elseif IPA==2 and IQA==0 and ISA==1 thencall GKE(F2E,ITA)call GKE(F2E,IUA)call GKE(F2E,I2A)elseif IPA==1 and IQA==2 and ISA==0 thencall GKE(F2E,ITA)call GKE(F2E,IZA)call GKE(F2E,I_A)elseif IPA==1 and IQA==1 and ISA==1 thencall GKE(F2E,ITA)call GKE(F2E,IZA)call GKE(F2E,I2A)elseif IPA==1 and IQA==0 and ISA==2 thencall GKE(F2E,ITA)call GKE(F2E,I1A)call GKE(F2E,I2A)elseif IPA==0 and IQA==1 and ISA==2 thencall GKE(F2E,I0A)call GKE(F2E,I1A)call GKE(F2E,I_A)elseif IPA==0 and IQA==2 and ISA==1 thencall GKE(F2E,IYA)call GKE(F2E,IZA)call GKE(F2E,I2A)elseif IPA==0 and IQA==0 and ISA==3 thencall GKE(F2E,I0A)call GKE(F2E,I1A)call GKE(F2E,I2A)elseif IPA==0 and IQA==3 and ISA==0 thencall GKE(F2E,IYA)call GKE(F2E,IZA)call GKE(F2E,I_A)endifendfunctionfunction I3A takes nothing returns nothinglocal unit F2E=I9Vlocal integer H2E=GetHandleId(F2E)local integer I4A=R1E(H2E,"Invoker|OrbFirst")local integer I5A=R1E(H2E,"Invoker|OrbSecond")local integer I6A=R1E(H2E,"Invoker|OrbThird")local integer IPA=0local integer IQA=0local integer ISA=0if I4A==1093808472 thenset IPA=IPA+1elseif I4A==1093808471 thenset IQA=IQA+1elseif I4A==1093808470 thenset ISA=ISA+1endifif I5A==1093808472 thenset IPA=IPA+1elseif I5A==1093808471 thenset IQA=IQA+1elseif I5A==1093808470 thenset ISA=ISA+1endifif I6A==1093808472 thenset IPA=IPA+1elseif I6A==1093808471 thenset IQA=IQA+1elseif I6A==1093808470 thenset ISA=ISA+1endifcall IMA(F2E,IPA,IQA,ISA)set F2E=nullendfunctionfunction I7A takes nothing returns nothinglocal unit hn=GetTriggerUnit()local integer IAE=GetHandleId(hn)local integer I8A=GetSpellAbilityId()local integer I9A=R1E(IAE,"Invoker|OrbFirst")local integer AVA=R1E(IAE,"Invoker|OrbSecond")local integer AEA=R1E(IAE,"Invoker|OrbThird")local integer INA=0local integer IBA=0local integer ICA=0set I9A=AVAset AVA=AEAset AEA=I8Aif I9A==1093808472 thenset INA=INA+1elseif I9A==1093808471 thenset IBA=IBA+1elseif I9A==1093808470 thenset ICA=ICA+1endifif AVA==1093808472 thenset INA=INA+1elseif AVA==1093808471 thenset IBA=IBA+1elseif AVA==1093808470 thenset ICA=ICA+1endifif AEA==1093808472 thenset INA=INA+1elseif AEA==1093808471 thenset IBA=IBA+1elseif AEA==1093808470 thenset ICA=ICA+1endifcall O4E(IAE,"Invoker|OrbFirst",I9A)call O4E(IAE,"Invoker|OrbSecond",AVA)call O4E(IAE,"Invoker|OrbThird",AEA)call O4E(IAE,"Invoker|Wex",INA)call O4E(IAE,"Invoker|Quas",IBA)call O4E(IAE,"Invoker|Exort",ICA)call IMA(hn,INA,IBA,ICA)call IAA(hn)call IFA(hn)endfunctionfunction AXA takes nothing returns booleanif GetSpellAbilityId()==1093808472 or GetSpellAbilityId()==1093808471 or GetSpellAbilityId()==1093808470 thencall I7A()elseif GetSpellAbilityId()==1093808473 or GetSpellAbilityId()==1093748565 thencall IGA()endifreturn falseendfunctionfunction EGX takes nothing returns nothinglocal trigger t=CreateTrigger()call HCE(HS[1])call HCE(HS[2])call HCE(HS[3])call HCE(HS[4])call HCE(HS[5])call HCE(HS[6])call HCE(HS[7])call HCE(HS[8])call HCE(HS[9])call HCE(HS[$A])call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AXA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function IDA))set t=nullcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.,GetObjectName(1848653383))call HHE(1093687375,GetRandomReal(1,25))call HHE(1093687108,GetRandomReal(1,25))call HHE(1093686853,GetRandomReal(1,25))call HHE(1093686839,GetRandomReal(1,25))call HHE(1093808470,GetRandomReal(1,25))call HHE(1093808472,GetRandomReal(1,25))call HHE(1093808471,GetRandomReal(1,25))call XTA()call X6A()call ONA()call OJA()call O1A()call RAA()call RQA()call R0A()call R5A()call IEA()endfunctionfunction AOA takes nothing returns nothingif GetSpellAbilityId()==1093748304 thencall H0E("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)call KOE(GetTriggerUnit(),1093747534,1,3.5)endifendfunctionfunction ARA takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifcall KNE(GetEnumUnit(),HGV,1,8,1110458966)call UnitMakeAbilityPermanent(GetEnumUnit(),true,HGV)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),HGV,false)endfunctionfunction AIA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093814611)local group g=FYE()if MAE==1 thenset HGV=1093748278elseif MAE==2 thenset HGV=1093748279elseif MAE==3 thenset HGV=1093748275elseif MAE==4 thenset HGV=1093748277endifcall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),725,Condition(function KZE))call ForGroup(g,function ARA)call FWE(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",J6E,"overhead"))set J6E=nullset g=nullendfunctionfunction AAA takes nothing returns booleanif GetSpellAbilityId()==1093814611 thencall AIA()endifreturn falseendfunctionfunction EJX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AAA))set t=nullendfunctionfunction ANA takes nothing returns nothingif GetPlayerController(GetOwningPlayer(B0))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(B0,1093685850)endifcall IssueTargetOrderById(B0,$D007F,GetEnumUnit())endfunctionfunction ABA takes player p,unit m5,integer DDE returns nothinglocal unit MIE=CreateUnit(p,1697656901,GetUnitX(m5),GetUnitY(m5),0)local integer o6local group g=FYE()call GKE(MIE,1093685850)call SetUnitAbilityLevel(MIE,1093685850,DDE)set I9V=QV[GetPlayerId(p)]call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),280,Condition(function K3E))call GroupAddUnit(g,m5)set B0=MIEcall ForGroup(g,function ANA)call FWE(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))set MIE=nullset g=nullendfunctionfunction ACA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local player p=RQE(IAE,"p")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local integer DDE=R1E(IAE,"Level")local unit L9E=RME(IAE,"Projectile")local real x=GetUnitX(L9E)local real y=GetUnitY(L9E)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real F4=$3E8*.035local real l4=H4E(x,y,Y5,Z5)local real J7O=x+F4*Cos(l4*bj_DEGTORAD)local real J8O=y+F4*Sin(l4*bj_DEGTORAD)local boolean JDX=R3E(IAE,"Active")call SetUnitX(L9E,J7O)call SetUnitY(L9E,J8O)call SetUnitFacing(L9E,l4)if E4E(Y5,Z5,J7O,J8O)<=F4 thenif JDX thencall ABA(p,m5,DDE)endifcall KillUnit(L9E)call BWE(MDE)call O1E(IAE)call IRE(t)endifset t=nullset m5=nullset L9E=nullreturn falseendfunctionfunction ADA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(p5,1093744944)local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit L9E=CreateUnit(GetOwningPlayer(p5),1747990353,GetUnitX(p5),GetUnitY(p5),H4E(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))local boolean JDX=FUE(GetSpellTargetUnit())==falsecall O7E(IAE,"Active",JDX)call RRE(IAE,"p",GetOwningPlayer(p5))call O4E(IAE,"TargetIndex",B_E(m5))call O8E(IAE,"Projectile",L9E)call O4E(IAE,"Level",DDE)call TriggerRegisterTimerEvent(t,.035,true)call TriggerAddCondition(t,Condition(function ACA))set t=nullset p5=nullset m5=nullset L9E=nullendfunctionfunction AFA takes nothing returns booleanif GetSpellAbilityId()==1093744944 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))elsecall ADA()endifendifreturn falseendfunctionfunction EHX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AFA))set t=nullendfunctionfunction AGA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=RME(H2E,"Hero")local integer DZX=(R1E(H2E,"Count"))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thenset DZX=DZX+1call O4E(H2E,"Count",DZX)endifif(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and DZX>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and HNX(GetSpellAbilityId())and GetSpellTargetUnit()==F2E)thenif(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and DZX>1)thenif GME(F2E)==false thencall UnitRemoveAbility(F2E,1093687119)call UnitRemoveAbility(F2E,1110454329)call UnitRemoveAbility(F2E,1110459472)endifcall O1E(H2E)call IRE(t)endifelseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",F2E,"overhead"))call GKE(F2E,1093687119)call SetUnitAbilityLevel(F2E,1093687119,GetUnitAbilityLevel(F2E,1093752648))call UnitMakeAbilityPermanent(F2E,true,1093687119)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093687119,false)endifset t=nullset F2E=nullreturn falseendfunctionfunction AHA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F2E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,25,false)call TriggerRegisterTimerEvent(t,.31,false)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AGA))call O8E(H2E,"Hero",F2E)call O4E(H2E,"Count",0)set t=nullset F2E=nullendfunctionfunction AJA takes nothing returns booleanif GetSpellAbilityId()==1093752648 and GetUnitTypeId(GetTriggerUnit())==1211117617 thencall AHA()endifreturn falseendfunctionfunction EKX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AJA))set t=nullendfunctionfunction AKA takes nothing returns nothinglocal location llocal unit FLE=GetTriggerUnit()local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real alocal real x2local real y2local integer DDE=GetUnitAbilityLevel(FLE,1093687349)local real HUElocal real Hklocal unit m5=nullif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=Atan2(y2-y1,x2-x1)set x2=x1+700*Cos(a)set y2=y1+700*Sin(a)if DDE==1 thenset HUE=60set Hk=.5elseif DDE==2 thenset HUE=$82set Hk=1elseif DDE==3 thenset HUE=$C8set Hk=1.5elseif DDE==4 thenset HUE=260set Hk=2endifif GetSpellTargetUnit()!=null and FUE(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall PCR(FLE,m5,HUE,Hk,.52,x1,y1,x2,y2,$96,null,true,$640)call RemoveLocation(l)set l=nullset FLE=nullendfunctionfunction ALA takes nothing returns booleanif GetSpellAbilityId()==1093687349 thencall AKA()endifreturn falseendfunctionfunction ELX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ALA))call HCE(1093687350)set t=nullendfunctionfunction AMA takes nothing returns booleanif(GetSpellAbilityId()==1093679413 or GetSpellAbilityId()==1093679447)and FHE(GetSpellTargetUnit())thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))endifreturn falseendfunctionfunction EMX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AMA))set t=nullendfunctionfunction APA takes nothing returns nothinglocal location llocal unit FLE=GetTriggerUnit()local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real alocal real x2local real y2local integer DDE=GetUnitAbilityLevel(FLE,1093687351)local real HUElocal real Hklocal unit m5=nullif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=Atan2(y2-y1,x2-x1)set x2=x1+700*Cos(a)set y2=y1+700*Sin(a)if DDE==1 thenset HUE=80set Hk=.75elseif DDE==2 thenset HUE=$8Cset Hk=1.25elseif DDE==3 thenset HUE=$C8set Hk=1.75elseif DDE==4 thenset HUE=260set Hk=2.25endifif GetSpellTargetUnit()!=null and FUE(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall PCR(FLE,m5,HUE,Hk,.52,x1,y1,x2,y2,$96,null,true,$640)call RemoveLocation(l)set l=nullset FLE=nullendfunctionfunction AQA takes nothing returns booleanif GetSpellAbilityId()==1093687351 thencall APA()endifreturn falseendfunctionfunction EPX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AQA))call HCE(1093687350)set t=nullendfunctionfunction ASA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real r=GetHeroInt(m5,true)*4local integer ATA=IMinBJ(R2I(r),R2I(GetUnitState(m5,UNIT_STATE_MANA)))call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-ATA)call MNE(p5,m5,1,ATA)call V9O("MBUR",p5,m5,1,1,1,1,.5)call H7E("-"+I2S(ATA),3,m5,.023,82,82,$FF,$FF)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",m5,"chest"))set p5=nullset m5=nullendfunctionfunction AUA takes nothing returns booleanif GetSpellAbilityId()==1093748789 and FUE(GetSpellTargetUnit())==false thencall ASA()endifreturn falseendfunctionfunction EQX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AUA))set t=nullendfunctionfunction AWA takes nothing returns nothingcall IssueTargetOrderById(J1V,$D02BC,GetEnumUnit())endfunctionfunction AYA takes nothing returns nothinglocal unit KGE=GetTriggerUnit()local real x=GetUnitX(KGE)local real y=GetUnitY(KGE)local unit H9R=CreateUnit(GetOwningPlayer(KGE),1697656901,x,y,0)local group g=FYE()set J1V=H9Rcall GKE(H9R,1093748551)call GroupEnumUnitsInRange(g,x,y,325,Condition(function LRE))call ForGroup(g,function AWA)call FWE(g)call KillUnit(KGE)call SetUnitAnimation(KGE,"death")call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))set KGE=nullset H9R=nullset g=nullendfunctionfunction AZA takes nothing returns booleanif GetSpellAbilityId()==1093748808 thencall AYA()endifreturn falseendfunctionfunction ESX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AZA))call HCE(1093748551)set t=nullendfunctionfunction A_A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3Elocal integer MAE=GetUnitAbilityLevel(J6E,1093815119)if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(J6E)) thenif B4E(GetOwningPlayer(GetEventDamageSource()))and PNE(GetEventDamage())thencall HWE(J6E,GetEventDamage())set F3E=QV[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]call UnitRemoveAbility(J6E,1093815120)call FlushChildHashtable(YX,(H2E))call IRE(t)if GME(F3E)==false thencall MRE(J6E,F3E,.6*MAE)call MNE(J6E,F3E,3,GetEventDamage())endifset F3E=nullendifendifelsecall UnitRemoveAbility(J6E,1093815120)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction A0A takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,4.5,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function A_A))call SaveUnitHandle(YX,(H2E),(2),(J6E))call GKE(J6E,1093815120)set J6E=nullset t=nullendfunctionfunction A1A takes nothing returns booleanif GetSpellAbilityId()==1093815119 thencall A0A()endifreturn falseendfunctionfunction ETX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A1A))set t=nullendfunctionfunction A2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer A3A=GetHandleId(t)local group g=RUE(A3A,"g")call FWE(g)call O1E(A3A)call IRE(t)set t=nullset g=nullreturn falseendfunctionfunction A4A takes group g returns nothinglocal trigger t=CreateTrigger()local integer A3A=GetHandleId(t)call RAE(A3A,"g",g)call TriggerRegisterTimerEvent(t,$A,false)call TriggerAddCondition(t,Condition(function A2A))set t=nullendfunctionfunction A5A takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit oAlocal integer i=1local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real x2local real y2local real HUElocal real Hklocal integer DDE=GetUnitAbilityLevel(FLE,1093810505)local group g=FYE()if DDE==1 thenset Hk=1.5set HUE=$FAelseif DDE==2 thenset Hk=1.8set HUE=350elseif DDE==3 thenset Hk=2.25set HUE=450endifloopexitwhen i>16set x2=x1+(500+DDE*100)*Cos(22.5*i*bj_DEGTORAD)set y2=y1+(500+DDE*100)*Sin(22.5*i*bj_DEGTORAD)call PCR(FLE,null,HUE,Hk,.52,x1,y1,x2,y2,$FA,g,false,900)set i=i+1endloopcall A4A(g)set FLE=nullset oA=nullset g=nullendfunctionfunction A6A takes nothing returns booleanif GetSpellAbilityId()==1093810505 thencall A5A()endifreturn falseendfunctionfunction Y4E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A6A))call HCE(1093687350)set t=nullendfunctionfunction A7A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real SZO=(LoadReal(YX,(GetHandleId(F3E)),(715)))call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerEventId()==EVENT_WIDGET_DEATH or SZO<(TimerGetElapsed(K))thencall UnitRemoveAbility(F3E,1093808696)call UnitRemoveAbility(F3E,1110459704)endifset t=nullset F3E=nullreturn falseendfunctionfunction A8A takes unit F3E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call GKE(F3E,1093808696)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function A7A))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(GetHandleId(F3E)),(715),((5.9+(TimerGetElapsed(K)))*1.))set t=nullendfunctionfunction A9A takes nothing returns nothingif G9X(GetEnumUnit())==false thencall A8A(GetEnumUnit())endifcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093808696,false)call MNE(SEV,GetEnumUnit(),2,25+50*SXV)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))endfunctionfunction NVA takes nothing returns nothinglocal group g=FYE()local unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093808694)set I9V=J6Eset SXV=MAEset SEV=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),425,Condition(function K3E))call ForGroup(g,function A9A)call FWE(g)set g=nullset J6E=nullendfunctionfunction NEA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitTimeScale(J6E,1)set t=nullset J6E=nullreturn falseendfunctionfunction NXA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.3,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function NEA))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SetUnitTimeScale(J6E,2)set t=nullset J6E=nullendfunctionfunction NOA takes nothing returns booleanif GetSpellAbilityId()==1093808694 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall NVA()elsecall NXA()endifendifreturn falseendfunctionfunction Y5E takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function NOA))set t=nullendfunctionfunction NRA takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal integer MAE=R1E(H2E,"Level")local real C4O=MAE*50local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093687628)call SetUnitAbilityLevel(MIE,1093687628,MAE)call IssueTargetOrderById(MIE,$D006B,F3E)if IsUnitType(F3E,UNIT_TYPE_HERO) thenset C4O=C4O/2endifcall MNE(J6E,F3E,3,C4O)set J6E=nullset F3E=nullset MIE=nullendfunctionfunction NIA takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=JLE(F2E,F3E,1747988784,"NRA",$4B0)local integer NAA=GetHandleId(t)call O4E(NAA,"Level",GetUnitAbilityLevel(F2E,1093687629))set F2E=nullset F3E=nullset t=nullendfunctionfunction NNA takes nothing returns booleanif GetSpellAbilityId()==1093687629 and FUE(GetSpellTargetUnit())==false thencall NIA()endifreturn falseendfunctionfunction YCE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NNA))set t=nullendfunctionfunction NBA takes nothing returns nothinglocal location l=GetSpellTargetLoc()call H1E("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)call TerrainDeformationRippleBJ(.3,false,l,0,300,100,.4,20)call RemoveLocation(l)set l=nullendfunctionfunction NCA takes nothing returns booleanif GetSpellAbilityId()==1093678679 thencall NBA()endifreturn falseendfunctionfunction WYE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NCA))endfunctionfunction NDA takes itemtype NFA,integer NGA returns nothinglocal group gset bj_stockPickedItemType=NFAset bj_stockPickedItemLevel=NGAset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",bH)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction NHA takes nothing returns nothinglocal integer pickedItemIdlocal itemtype NJAlocal integer NKA=0local integer NLA=0local integer NGAset NGA=1loopif(bj_stockAllowedPermanent[NGA])thenset NLA=NLA+1if(GetRandomInt(1,NLA)==1)thenset NJA=ITEM_TYPE_PERMANENTset NKA=NGAendifendifif(bj_stockAllowedCharged[NGA])thenset NLA=NLA+1if(GetRandomInt(1,NLA)==1)thenset NJA=ITEM_TYPE_CHARGEDset NKA=NGAendifendifif(bj_stockAllowedArtifact[NGA])thenset NLA=NLA+1if(GetRandomInt(1,NLA)==1)thenset NJA=ITEM_TYPE_ARTIFACTset NKA=NGAendifendifset NGA=NGA+1exitwhen NGA>$Aendloopif(NLA==0)thenset NJA=nullreturnendifcall NDA(NJA,NKA)set NJA=nullendfunctionfunction NMA takes nothing returns nothingcall NHA()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function NHA)endfunctionfunction NPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer XKE=R1E(H2E,"itemId")local real x=R2E(H2E,"x")local real y=R2E(H2E,"y")local player p=RQE(H2E,"p")local boolean NQA=R3E(H2E,"consumable")local integer DOX=R1E(H2E,"charges")local item NSA=CreateItem(XKE,x,y)call SetItemPlayer(NSA,p,true)call SetItemUserData(NSA,0)if NQA thencall SetItemCharges(NSA,DOX)endifcall O1E(H2E)call IRE(t)set eY[512+GetPlayerId(p)]=3set Z7V[288+GetPlayerId(p)]=NSAset t=nullset p=nullreturn falseendfunctionfunction NTA takes integer XKE,real x,real y,player p,boolean NQA,integer DOX returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call O4E(H2E,"itemId",XKE)call O5E(H2E,"x",x*1.)call O5E(H2E,"y",y*1.)call RRE(H2E,"p",p)call O7E(H2E,"consumable",NQA)call O4E(H2E,"charges",DOX)call TriggerAddCondition(t,Condition(function NPA))call TriggerRegisterTimerEvent(t,0,false)set eY[512+GetPlayerId(p)]=2set t=nullendfunctionfunction NUA takes player p,unit V_E,integer HKX,item NWA returns itemlocal integer OFOlocal item XFAset OFO=0loopexitwhen OFO>5set XFA=UnitItemInSlot(V_E,OFO)if XFA!=null and XFA!=NWA and XGE(XFA)==HKX and(GetItemPlayer(XFA)==p or HKX==F5 or HKX==G5)thenset XFA=nullreturn UnitItemInSlot(V_E,OFO)endifset OFO=OFO+1endloopset XFA=nullreturn nullendfunctionfunction NYA takes player p,unit V_E,integer HKX returns itemlocal integer OFOlocal item XFAset OFO=0loopexitwhen OFO>5set XFA=UnitItemInSlot(V_E,OFO)if(XFA!=null)and(XGE(XFA)==HKX)and(GetItemPlayer(XFA)==p or HKX==F5 or HKX==G5)thenset XFA=nullreturn UnitItemInSlot(V_E,OFO)endifset OFO=OFO+1endloopset XFA=nullreturn nullendfunctionfunction NZA takes unit S4 returns integerlocal integer i=0local integer n=0local integer MQE=UnitInventorySize(S4)-1loopexitwhen i>MQEif UnitItemInSlot(S4,i)==null thenset n=n+1endifset i=i+1endloopreturn nendfunctionfunction N_A takes item Z4 returns integerlocal integer n5local integer i=1if Z4==null thenreturn-2endifset n5=GetItemTypeId(Z4)loopexitwhen i>PUif FU[i]==n5 thenreturn BU[i]endifset i=i+1endloopreturn-1endfunctionfunction N0A takes item Z4 returns booleanreturn GetItemType(Z4)==ITEM_TYPE_POWERUP or GetItemType(Z4)==ITEM_TYPE_PURCHASABLE or GetItemType(Z4)==ITEM_TYPE_MISCELLANEOUSendfunctionfunction N1A takes unit p5 returns nothinglocal real xlocal real yif B2E(GetOwningPlayer(p5))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifcall IssuePointOrderById(p5,$D0012,x,y)endfunctionfunction N2A takes nothing returns nothinglocal item IOX=GetEnumItem()if GetWidgetLife(IOX)>0 and GetItemPlayer(IOX)==wh and C4==0 thenset C4=C4+1call UnitAddItem(Wh,IOX)endifset IOX=nullendfunctionfunction N3A takes nothing returns nothinglocal item IOX=GetEnumItem()if GetWidgetLife(IOX)>0 and GetItemPlayer(IOX)==wh thencall UnitAddItem(zh,IOX)endifset IOX=nullendfunctionfunction N4A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit QYX=RME(IAE,"Courier")local player p=RQE(IAE,"p")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local rect r=Rect(x-300,y-300,x+300,y+300)if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall O1E(IAE)call IRE(t)set wh=pset Wh=p5set zh=QYXcall EnumItemsInRect(r,Condition(function BUE),function N3A)elseif GetTriggerEvalCount(t)>9 thencall O1E(IAE)call IRE(t)set wh=pset Wh=p5set zh=QYXcall EnumItemsInRect(r,Condition(function BUE),function N3A)elseset wh=pset Wh=p5set C4=0call EnumItemsInRect(r,Condition(function BUE),function N2A)endifendifcall RemoveRect(r)set t=nullset p5=nullset QYX=nullset r=nullreturn falseendfunctionfunction N5A takes unit QYX,unit p5 returns nothinglocal player p=GetOwningPlayer(p5)local integer ilocal item QJElocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real x=GetUnitX(QYX)local real y=GetUnitY(QYX)local integer HKXif IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)thenset x=GetUnitX(p5)set y=GetUnitY(p5)endifcall TriggerRegisterDeathEvent(t,p5)call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function N4A))call O8E(IAE,"Source",p5)call O8E(IAE,"Courier",QYX)call RRE(IAE,"p",p)call O5E(IAE,"x",x*1.)call O5E(IAE,"y",y*1.)set i=0loopexitwhen i>5set QJE=UnitItemInSlot(QYX,i)set HKX=XGE(QJE)if QJE!=null and GetItemPlayer(QJE)==p and TCX(QJE)==false and(HKX!=H2 and HKX!=T2 and HKX!=R3 and HKX!=B3 and HKX!=C3)thencall UnitRemoveItem(QYX,QJE)call SetItemPosition(QJE,x,y)endifset i=i+1endloopset t=nullset QJE=nullendfunctionfunction N6A takes trigger t returns nothinglocal integer H2E=GetHandleId(t)local unit GMX=RME(H2E,"Courier")local unit F2E=RME(H2E,"Source")local real xlocal real ylocal real N7Alocal real N8Alocal real N9Alocal real BVAlocal real BEAlocal real OCIlocal real BXAlocal real BOA=GetUnitX(F2E)local real BRA=GetUnitY(F2E)if(XME(F2E)==false)thenset x=GetUnitX(F2E)set y=GetUnitY(F2E)set BVA=R2E(H2E,"DeliveryTargetX")set BEA=R2E(H2E,"DeliveryTargetY")call O5E(H2E,"DeliveryTargetX",x*1.)call O5E(H2E,"DeliveryTargetY",y*1.)set N9A=Atan2(y-BEA,x-BVA)set N7A=SquareRoot((x-BVA)*(x-BVA)+(y-BEA)*(y-BEA))/.2set N8A=GetUnitMoveSpeed(GMX)set OCI=E4E(GetUnitX(F2E),GetUnitY(F2E),GetUnitX(GMX),GetUnitY(GMX))set BXA=RAbsBJ(N9A*bj_RADTODEG-GetUnitFacing(GMX))if(OCI<N8A-N7A and N8A>N7A)or(OCI<RMaxBJ(N8A,N7A)and BXA>=90)thenelseset BOA=x+N7A*Cos(N9A)set BRA=y+N7A*Sin(N9A)endifendifcall O4E(H2E,"OnDelivery",(1))call IssuePointOrderById(GMX,$D0012,BOA,BRA)set GMX=nullset F2E=nullset t=nullendfunctionfunction BIA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit QYX=RME(H2E,"Courier")local unit J6E=RME(H2E,"Source")local real xlocal real ylocal integer ilocal player p=GetOwningPlayer(J6E)local item QJEif GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()==J6E thencall N1A(QYX)endifcall O1E(H2E)call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER thenif(R1E(H2E,"OnDelivery"))==1 thencall O4E(H2E,"OnDelivery",0)elseif GetIssuedOrderId()!=$D0084 and GetIssuedOrderId()!=$D007A thencall IRE(t)endifelseif E3E(QYX,J6E)<$96 thencall O1E(H2E)call IRE(t)call N5A(QYX,J6E)call N1A(QYX)elsecall N6A(t)endifendifset t=nullset QYX=nullset J6E=nullset QJE=nullreturn falseendfunctionfunction BAA takes unit F2E,boolean BNA returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit GMX=GetSellingUnit()local integer BBA=R1E(GetHandleId(GMX),"DeliveryIndex")if F2E!=null thenif F2E!=RME(GetHandleId(GMX),"DeliveryTarget"+I2S(BBA))and BNA thenset BBA=BBA+1call O4E(GetHandleId(GMX),"DeliveryIndex",BBA)call O8E(GetHandleId(GMX),"DeliveryTarget"+I2S(BBA),(F2E))endifcall O5E(H2E,"DeliveryTargetX",(GetUnitX(F2E)*1.))call O5E(H2E,"DeliveryTargetY",(GetUnitY(F2E)*1.))call IssueTargetOrderById(GMX,$D0012,F2E)call TriggerRegisterDeathEvent(t,GMX)call TriggerRegisterDeathEvent(t,F2E)call TriggerRegisterUnitEvent(t,GMX,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,GMX,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,GMX,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function BIA))call O8E(H2E,"Source",F2E)call O8E(H2E,"Courier",GMX)endifset t=nullset GMX=nullendfunctionfunction BCA takes nothing returns nothinglocal item QJE=GetEnumItem()local unit u=DSVlocal player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(QJE)>0 and GetItemPlayer(QJE)==p thencall SetItemPosition(QJE,N8V[id],N9V[id])call UnitAddItem(DTV,QJE)endifset QJE=nullset u=nullset p=nullendfunctionfunction BDA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit u=(LoadUnitHandle(YX,(H2E),(53)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))set DSV=uset DTV=J6Eif B2E(GetOwningPlayer(u))thencall EnumItemsInRect(ZA,Condition(function BUE),function BCA)elsecall EnumItemsInRect(BN,Condition(function BUE),function BCA)endifif GetTriggerEvalCount(t)==3 thencall KillUnit(u)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset u=nullset J6E=nullreturn falseendfunctionfunction BFA takes unit SLO returns nothinglocal unit u=GetSoldUnit()local integer i=0local item QJElocal integer id=GetPlayerId(GetOwningPlayer(u))local region r=CreateRegion()local trigger tlocal integer H2Elocal unit J6E=GetSellingUnit()if B2E(GetOwningPlayer(u))thencall RegionAddRect(r,ZA)elsecall RegionAddRect(r,BN)endifif IsUnitInRegion(r,J6E)thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function BDA))call SaveUnitHandle(YX,(H2E),(53),(u))call SaveUnitHandle(YX,(H2E),(2),(J6E))loopexitwhen i>5set QJE=UnitItemInSlot(J6E,i)if FNE(XGE(QJE))==false and XGE(QJE)!=VAV and TCX(QJE)==false thencall UnitRemoveItemFromSlot(J6E,i)if IsUnitInRegion(r,J6E)and IsPlayerAlly(GetItemPlayer(QJE),GetOwningPlayer(J6E)) thenset id=GetPlayerId(GetItemPlayer(QJE))call SetItemPosition(QJE,N8V[id],N9V[id])endifendifset i=i+1endloopendifcall RemoveRegion(r)set u=nullset QJE=nullset t=nullset r=nullset J6E=nullendfunctionfunction BGA takes nothing returns nothingif GetUnitTypeId(GetSoldUnit())==1747990581 thenif QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and GME(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false thencall BAA(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)endifcall KillUnit(GetSoldUnit())elseif GetUnitTypeId(GetSoldUnit())==1747993174 thenif QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thencall BFA(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])endifcall KillUnit(GetSoldUnit())elseif GetUnitTypeId(GetSoldUnit())==1747993669 thenif QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thencall BAA(RME(GetHandleId(GetSellingUnit()),("DeliveryTarget"+I2S(R1E(GetHandleId(GetSellingUnit()),"DeliveryIndex")-1))),false)endifcall KillUnit(GetSoldUnit())elseif M_E(GetUnitTypeId(GetSoldUnit()))thenif QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thenif GME(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]) and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and(R8E(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],"JustUseAegis")==false)thencall DVX(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])set W9V=truecall ReviveHero(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)set W9V=falsecall SetUnitState(QV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,$2710)set LDV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,LDV[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-SI[M1E(GetHeroLevel(QV[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])call POE(GetOwningPlayer(GetSoldUnit()))elsecall SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+SI[M1E(GetHeroLevel(QV[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])endifendifcall KillUnit(GetSoldUnit())endifendfunctionfunction BHA takes player p4,unit S4,integer BJA,integer BKA,integer M6O,integer M7O,integer M8O,integer BLA,integer BMA returns nothinglocal item IOXcall DisableTrigger(H7V)if BKA>0 thenset IOX=UnitItemInSlot(S4,0)call XFE(IOX)endifif M6O>0 thenset IOX=UnitItemInSlot(S4,1)call XFE(IOX)endifif M7O>0 thenset IOX=UnitItemInSlot(S4,2)call XFE(IOX)endifif M8O>0 thenset IOX=UnitItemInSlot(S4,3)call XFE(IOX)endifif BLA>0 thenset IOX=UnitItemInSlot(S4,4)call XFE(IOX)endifif BMA>0 thenset IOX=UnitItemInSlot(S4,5)call XFE(IOX)endifset VXE=BJAset VEE=p4set IOX=UnitAddItemById(S4,BU[BJA])call SetItemPlayer(IOX,p4,true)call SetItemUserData(IOX,0)if IsPlayerInForce(p4,GLV)and(S4==RME(GetHandleId(p4),"aiBearDummy"))thenset VGE=RME(GetHandleId(p4),"MyBear")if VGE!=null and GetUnitState(VGE,UNIT_STATE_LIFE)>0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",VGE,"origin"))endifelsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",S4,"origin"))endifif XGE(IOX)==EIV thencall SetItemCharges(IOX,6)endifcall EnableTrigger(H7V)if IsPlayerAlly(GetLocalPlayer(),p4) thenif BJA==G8 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(p4)]+(BXV[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659032)+"|r")elseif BJA==VSV thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(p4)]+(BXV[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName(1848659033)+"|r")endifendifset Z7V[288+GetPlayerId(p4)]=IOXset IOX=nullendfunctionfunction BPA takes player p,unit S4,integer HFX returns booleanlocal integer ilocal integer xlocal integer ylocal integer array BQAlocal boolean array BSAlocal integer array BTAlocal boolean array BUAlocal boolean array BWAlocal integer array BYAlocal player BZAlocal integer B_A=1local integer klocal player array B0Alocal integer mlocal item B1Alocal item B2Alocal item B3Alocal item B4Alocal item B5Alocal item B6Alocal player B7Alocal player B8Alocal player B9Alocal player CVAlocal player CEAlocal player CXAlocal integer COAlocal integer CRAlocal integer CIAlocal integer CAAlocal integer CNAlocal integer CBAlocal integer CCAlocal integer CDAlocal integer CFAlocal integer CGAlocal integer CHAlocal integer CJAlocal boolean CKA=falselocal boolean CLA=trueset B1A=UnitItemInSlot(S4,0)set B2A=UnitItemInSlot(S4,1)set B3A=UnitItemInSlot(S4,2)set B4A=UnitItemInSlot(S4,3)set B5A=UnitItemInSlot(S4,4)set B6A=UnitItemInSlot(S4,5)set B7A=GetItemPlayer(B1A)set B8A=GetItemPlayer(B2A)set B9A=GetItemPlayer(B3A)set CVA=GetItemPlayer(B4A)set CEA=GetItemPlayer(B5A)set CXA=GetItemPlayer(B6A)set COA=GetItemUserData(B1A)set CRA=GetItemUserData(B2A)set CIA=GetItemUserData(B3A)set CAA=GetItemUserData(B4A)set CNA=GetItemUserData(B5A)set CBA=GetItemUserData(B6A)set CCA=XGE(B1A)set CDA=XGE(B2A)set CFA=XGE(B3A)set CGA=XGE(B4A)set CHA=XGE(B5A)set CJA=XGE(B6A)if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)thenset B_A=5set CKA=trueendifset B0A[1]=pif CKA thenset k=2set m=1loopexitwhen k>B_Aif B2E(p)thenif p!=RX[m]thenset B0A[k]=RX[m]set k=k+1endifelseif p!=GX[m]thenset B0A[k]=GX[m]set k=k+1endifendifset m=m+1endloopendifset k=1loopexitwhen k>B_Aset BZA=B0A[k]set i=0if B1A!=null and COA==1 and(B7A==BZA or FNV or(GetPlayerSlotState((B7A))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CCAelseset BQA[i+1]=0endifset i=1if B2A!=null and CRA==1 and(B8A==BZA or FNV or(GetPlayerSlotState((B8A))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CDAelseset BQA[i+1]=0endifset i=2if B3A!=null and CIA==1 and(B9A==BZA or FNV or(GetPlayerSlotState((B9A))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CFAelseset BQA[i+1]=0endifset i=3if B4A!=null and CAA==1 and(CVA==BZA or FNV or(GetPlayerSlotState((CVA))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CGAelseset BQA[i+1]=0endifset i=4if B5A!=null and CNA==1 and(CEA==BZA or FNV or(GetPlayerSlotState((CEA))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CHAelseset BQA[i+1]=0endifset i=5if B6A!=null and CBA==1 and(CXA==BZA or FNV or(GetPlayerSlotState((CXA))==PLAYER_SLOT_STATE_LEFT))thenset BQA[i+1]=CJAelseset BQA[i+1]=0endifset BQA[0]=HFXset i=1loopexitwhen i>(ODV)set BTA[0]=ORV[i]set BTA[1]=OIV[i]set BTA[2]=OAV[i]set BTA[3]=ONV[i]set BTA[4]=OBV[i]if CLA thenset BUA[0]=trueset BUA[1]=trueset BUA[2]=trueset BUA[3]=trueset BUA[4]=trueset BUA[5]=trueset BUA[6]=trueset BSA[0]=trueset BSA[1]=trueset BSA[2]=trueset BSA[3]=trueset BSA[4]=trueset BSA[5]=trueset BSA[6]=trueset BYA[0]=0set BYA[1]=0set BYA[2]=0set BYA[3]=0set BYA[4]=0set BYA[5]=0set BYA[6]=0set CLA=falseendifset BWA[0]=falseset BWA[1]=falseset BWA[2]=falseset BWA[3]=falseset BWA[4]=falseset x=0loopexitwhen x==5if BTA[x]==0 thenset BWA[x]=trueelseset y=0loopexitwhen y==7if BQA[y]==BTA[x]and BSA[y]and BUA[x]thenset BSA[y]=falseset BUA[x]=falseset BWA[x]=trueset BYA[y]=1set y=7set CLA=trueelseset y=y+1endifendloopendifif BWA[x] thenset x=x+1elseset x=5endifendloopif BWA[0]and BWA[1]and BWA[2]and BWA[3]and BWA[4]thencall BHA(BZA,S4,OCV[i],BYA[1],BYA[2],BYA[3],BYA[4],BYA[5],BYA[6])set i=ODV+2elseset i=i+1endifendloopset EL=BYA[0]==1if i==(ODV+2)thenset B1A=nullset B2A=nullset B3A=nullset B4A=nullset B5A=nullset B6A=nullreturn trueendifset k=k+1endloopset B1A=nullset B2A=nullset B3A=nullset B4A=nullset B5A=nullset B6A=nullreturn falseendfunctionfunction CMA takes player p4,unit S4,integer HFX returns booleanlocal boolean JTXset EL=falseset JTX=BPA(p4,S4,HFX)return JTXendfunctionfunction CPA takes nothing returns booleanif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I9V)) and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(I9V),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(I9V)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and GME(GetFilterUnit())==false thenif XDE(GetFilterUnit()) thenset I5V=I5V+1set AVV=GetFilterUnit()endifendifreturn falseendfunctionfunction CQA takes nothing returns booleanif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I9V)) and GetUnitAbilityLevel(GetFilterUnit(),1097625443)==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitIllusion(GetFilterUnit())==false and GME(GetFilterUnit())==false thenif GetOwningPlayer(I9V)==GetOwningPlayer(GetFilterUnit())thenif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) thenif GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 thenset AVV=GetFilterUnit()endifelseif IsUnitType(AVV,UNIT_TYPE_HERO)==false thenset AVV=GetFilterUnit()endifendifendifreturn falseendfunctionfunction CSA takes unit S4,integer CTA returns unitlocal group g=FYE()set I9V=S4set AVV=nullcall GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),$514+CTA,Condition(function CQA))if AVV==null thenset I5V=0call FWE(g)set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),$44C+CTA,Condition(function CPA))if I5V>1 thenset AVV=nullendifendifcall FWE(g)set g=nullreturn AVVendfunctionfunction CUA takes player p4,unit S4,unit CWA,integer HFX,real x,real y,integer EDA,integer CYA returns nothinglocal unit CZAlocal item EEA=nullset eH=CWAif GetUnitPointValue(S4)==$C8 thenset CZA=CSA(S4,0)if CZA==null thenset CZA=CSA(S4,300)endifelseset CZA=S4endifset VXE=HFXset VEE=p4if CZA==null or CMA(p4,CZA,HDX(HFX))==false or EL==false thenif HMX(HDX(HFX))thenif NZA(CZA)==0 or CZA==null thencall NTA(NU[HFX],x,y,p4,true,EDA)elseset EEA=UnitAddItemById(CZA,BU[HFX])call SetItemCharges(EEA,EDA)call SetItemPlayer(EEA,p4,true)call SetItemUserData(EEA,CYA)endifelseif HLX(HDX(HFX))thenif CZA==null or(NZA(CZA)==0 and OAE(CZA,BU[HFX])==null)thencall NTA(NU[HFX],x,y,p4,true,HPX(HFX))elseset EEA=CreateItem(NU[HFX],x,y)call SetItemPlayer(EEA,p4,true)call SetItemUserData(EEA,CYA)call SetItemCharges(EEA,HPX(HFX))call UnitAddItem(CZA,EEA)endifelseif NZA(CZA)==0 or CZA==null thencall NTA(NU[HFX],x,y,p4,false,0)elseset EEA=UnitAddItemById(CZA,BU[HFX])call SetItemPlayer(EEA,p4,true)call SetItemUserData(EEA,0)endifendifendifif EEA!=null thenset Z7V[288+GetPlayerId(p4)]=EEAendifset CZA=nullset EEA=nullendfunctionfunction C_A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit C0A=RME(IAE,"Tower")if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall UnitRemoveAbility(C0A,1093744466)call UnitRemoveAbility(C0A,1093809222)endifcall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)set t=nullset C0A=nullreturn falseendfunctionfunction C1A takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.5 and IsUnitAlly(GetFilterUnit(),Sh) and GetOwningPlayer(GetFilterUnit())!=WX and GetUnitTypeId(GetFilterUnit())!=1852010352 and GetUnitTypeId(GetFilterUnit())!=1848657482 and GetUnitTypeId(GetFilterUnit())!=1848657481 and GetUnitTypeId(GetFilterUnit())!=1848657462 and GetUnitTypeId(GetFilterUnit())!=1848657480)!=nullendfunctionfunction C2A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit S4=GetEnumUnit()local string scall UnitAddAbility(S4,1093744466)call UnitAddAbility(S4,1093809222)if B2E(Sh)thenset s="effects\\GlyphSent.mdx"elseset s="effects\\GlyphScourge.mdx"endifcall O9E(IAE,"FX",AddSpecialEffectTarget(s,S4,"origin"))call O8E(IAE,"Tower",S4)call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function C_A))set t=nullset S4=nullendfunctionfunction C3A takes unit C4A,player p returns nothinglocal integer iif B2E(p)thenset i=1if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=2if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=3if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=4if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=5if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifelseset i=7if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=8if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=9if C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=$Aif C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifset i=$Bif C4A!=N7V[i]thencall IssueImmediateOrderById(N7V[i],$D0114)endifendifendfunctionfunction C5A takes nothing returns nothinglocal group glocal unit C4A=GetTriggerUnit()local player p=GetOwningPlayer(C4A)if(B2E(p)and Th==false)or(B2E(p)==false and Uh==false)thenset g=FYE()set Sh=pcall GroupEnumUnitsInRange(g,0,0,$2EE0,Condition(function C1A))call ForGroup(g,function C2A)call FWE(g)if B2E(p)thenset Th=truecall C3A(C4A,p)set Th=falsecall O5E(G2V,"AI|Glyph|Sent",Bz+300.)elseset Uh=truecall C3A(C4A,p)set Uh=falsecall O5E(G2V,"AI|Glyph|Scrg",Bz+300.)endifendifset g=nullset C4A=nullset p=nullendfunctionfunction C6A takes nothing returns nothingif GetSpellAbilityId()==1093743665 or GetSpellAbilityId()==1093752649 thencall C5A()endifendfunctionfunction C7A takes player p,integer HFX returns nothinglocal integer i=GetPlayerId(p)if HFX==A5 thenset Zh[i]=Zh[i]+1elseif HFX==B5 thenset Zh[i]=Zh[i]+1elseif HFX==C5 thenset Zh[i]=Zh[i]+3elseif HFX==F5 thenset Zh[i]=Zh[i]+2set R1V[i]=R1V[i]+2elseif HFX==G5 thenset Zh[i]=Zh[i]+2set R1V[i]=R1V[i]+2elseif HFX==J5 thenset Zh[i]=Zh[i]+1elseif HFX==L5 thenset Zh[i]=Zh[i]+1elseif HFX==W5 thenset Zh[i]=Zh[i]+2elseif HFX==N5 thenset Zh[i]=Zh[i]+2elseif HFX==V6 thenset Zh[i]=Zh[i]+2endifendfunctionfunction C8A takes unit C9A,unit DVA returns booleanlocal integer HFXif(C9A==NIV or C9A==NRV)and IsUnitAlly(DVA,GX[0])thenreturn falseelseif(C9A==AHV or C9A==ADV)and IsUnitAlly(DVA,RX[0])thenreturn falseendifset HFX=FFE(DVA)if HFX==F5 or HFX==GY or HFX==E6 thenreturn trueendifreturn falseendfunctionfunction DEA takes unit CWA,unit DXA returns realif CWA==ADV or CWA==AFV or CWA==AGV or CWA==AHV or CWA==AJV or CWA==AKV or CWA==ALV or CWA==AMV or CWA==APV or CWA==AQV thenreturn N8V[GetPlayerId(GetOwningPlayer(DXA))]elseif CWA==NRV or CWA==zs or CWA==Zs or CWA==NIV or CWA==eS or CWA==oS or CWA==rS or CWA==aS or CWA==nS or CWA==VS thenreturn N8V[GetPlayerId(GetOwningPlayer(DXA))]elseif CWA==UEV or CWA==URV thenreturn-7133.elseif CWA==UXV or CWA==UOV thenreturn 7207.endifreturn GetUnitX(DXA)endfunctionfunction DOA takes unit CWA,unit DXA returns realif CWA==ADV or CWA==AFV or CWA==AGV or CWA==AHV or CWA==AJV or CWA==AKV or CWA==ALV or CWA==AMV or CWA==APV or CWA==AQV thenreturn N9V[GetPlayerId(GetOwningPlayer(DXA))]elseif CWA==NRV or CWA==zs or CWA==Zs or CWA==NIV or CWA==eS or CWA==oS or CWA==rS or CWA==aS or CWA==nS or CWA==VS thenreturn N9V[GetPlayerId(GetOwningPlayer(DXA))]elseif CWA==UEV or CWA==URV thenreturn 4317.elseif CWA==UXV or CWA==UOV thenreturn-4243.endifreturn GetUnitY(DXA)endfunctionfunction DRA takes unit CWA,unit DXA returns realif CWA==ADV or CWA==AFV or CWA==AGV or CWA==AHV or CWA==AJV or CWA==AKV or CWA==ALV or CWA==AMV or CWA==APV or CWA==AQV thenreturn GetRectCenterX(BA)elseif CWA==NRV or CWA==zs or CWA==Zs or CWA==NIV or CWA==eS or CWA==oS or CWA==rS or CWA==aS or CWA==nS or CWA==VS thenreturn GetRectCenterX(NA)endifreturn GetUnitX(DXA)endfunctionfunction DIA takes unit CWA,unit DXA returns realif CWA==ADV or CWA==AFV or CWA==AGV or CWA==AHV or CWA==AJV or CWA==AKV or CWA==ALV or CWA==AMV or CWA==APV or CWA==AQV thenreturn GetRectCenterY(BA)elseif CWA==NRV or CWA==zs or CWA==Zs or CWA==NIV or CWA==eS or CWA==oS or CWA==rS or CWA==aS or CWA==nS or CWA==VS thenreturn GetRectCenterY(NA)endifreturn GetUnitY(DXA)endfunctionfunction DAA takes nothing returns nothinglocal unit u=GetSoldUnit()local player p=GetOwningPlayer(u)local integer HFX=FFE(u)local real xlocal real yif C8A(GetSellingUnit(),u)thencall HEE(p,(GetObjectName((1848652359))))if IsUnitAlly(u,RX[0])thenset p=GX[0]elseset p=RX[0]endifset x=DRA(GetSellingUnit(),u)set y=DIA(GetSellingUnit(),u)call NTA(NU[FFE(u)],x,y,p,true,HPX(FFE(u)))elsecall C7A(p,HDX(HFX))if BU[HFX]==0 thencall HEE(p,GetObjectName(1848652360))elseset x=DEA(GetSellingUnit(),u)set y=DOA(GetSellingUnit(),u)if HFX==W5 thencall CUA(p,u,GetSellingUnit(),HDX(HFX),x,y,2,0)elsecall CUA(p,u,GetSellingUnit(),HDX(HFX),x,y,0,0)endifendifendifcall UnitAddAbility(u,1097625443)call ShowUnit(u,true)call UnitApplyTimedLife(u,1112820806,2)set u=nullset p=nullendfunctionfunction DNA takes nothing returns booleanif LFV==false thenif GetUnitPointValue(GetSoldUnit())>=$C8 thencall DAA()if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetSoldUnit()))or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thenif GetUnitTypeId(GetSoldUnit())==1747989062 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658005)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747989329 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658759)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747990326 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658767)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747989059 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658768)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747989060 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658769)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747993153 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848658772)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747988807 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659010)+"|r")elseif GetUnitTypeId(GetSoldUnit())==1747993651 thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,$FF,$FF,$FF,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,C[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(BXV[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName(1848659024)+"|r")endifendifelsecall BGA()endifendifreturn falseendfunctionfunction DBA takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id==1164277353 or id==1164277357 or id==1160786518 or id==1160786519 or id==1160786517endfunctionfunction DCA takes unit F2E,item QJE returns nothinglocal unit u=F2Elocal integer M0E=GetUnitTypeId(u)local integer HKX=XHE(QJE)if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER) or IsUnitType(u,UNIT_TYPE_HERO)==false thenif HKX==V4V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[V3V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==W3 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[U3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==F1 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[D1])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==EQV thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[EPV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==V9V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[V8V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==X5V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[X4V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==VBV thenif DBA(u)==false thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[VNV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifelseif HKX==VNV thenif DBA(u) thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[VBV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifelseif HKX==V4 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[Z3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifelseif HKX==V3V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[V4V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==U3 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[W3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==D1 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[F1])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==EPV thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[EQV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==V8V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[V9V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==X4V thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[X5V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==VNV thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[VBV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==Z3 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[V4])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifendifset u=nullendfunctionfunction DDA takes unit F2E,item QJE returns nothinglocal unit u=F2Elocal integer M0E=GetUnitTypeId(u)local integer HKX=XHE(QJE)if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false thenif HKX==V4V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[V3V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==W3 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[U3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==F1 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[D1])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==EQV thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[EPV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==V9V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[V8V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==X5V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[X4V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==VBV thenif DBA(u)==false thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[VNV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifelseif HKX==V4 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[Z3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifelseif HKX==V3V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[V4V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==U3 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[W3])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==D1 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[F1])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==EPV thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[EQV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==V8V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[V9V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==X4V thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[X5V])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==VNV thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[VBV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HKX==Z3 thenset AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=UnitAddItemById(u,BU[V4])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifendifset u=nullendfunctionfunction DFA takes unit F2E returns nothinglocal integer i=0local item QJEcall DisableTrigger(R3V)loopexitwhen i>5set QJE=UnitItemInSlot(F2E,i)if QJE!=null thencall DDA(F2E,QJE)endifset i=i+1endloopcall EnableTrigger(R3V)set QJE=nullendfunctionfunction DGA takes nothing returns booleanif GetSpellAbilityId()==1093751369 or GetSpellAbilityId()==1093681733 thenif GME(GetTriggerUnit())==false thencall DFA(GetTriggerUnit())endifendifreturn falseendfunctionfunction RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothingcall DFA(I9V)endfunctionfunction DHA takes unit F2E,item QJE returns booleanlocal unit u=F2Elocal integer z8=GetUnitTypeId(u)local integer HKX=XGE(QJE)local real xlocal real ylocal boolean DJA=trueset x=GetUnitX(u)set y=GetUnitY(u)set VEE=GetItemPlayer(QJE)if HKX==U1 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))call HVE(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[F2])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif HKX==X8 and GetItemCharges(QJE)==0 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[R8])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif HKX==E4 and GetItemCharges(QJE)==0 thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[X4])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifcall DisableTrigger(R3V)if(HKX==C7 or HKX==B7 or HKX==D7)and(OIE(u,BU[C7],QJE)!=null or OIE(u,BU[B7],QJE)!=null or OIE(u,BU[D7],QJE)!=null)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848652364))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif(HKX==U3)and(OIE(u,BU[U3],QJE)!=null or OIE(u,BU[W3],QJE)!=null)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848657996))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set DJA=falseendifif DJA and(HKX==W3)and(OIE(u,BU[U3],QJE)!=null or OIE(u,BU[W3],QJE)!=null)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848657996))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set DJA=falseendifif(HKX==EBV or HKX==ENV or HKX==EDV or HKX==ECV)and(OIE(u,BU[EBV],QJE)!=null or OIE(u,BU[ENV],QJE)!=null or OIE(u,BU[EDV],QJE)!=null or OIE(u,BU[ECV],QJE)!=null)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848652355))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif(HKX==VSV and IsPlayerEnemy(GetItemPlayer(QJE),GetOwningPlayer(u)))thenset AXV=GetItemPlayer(QJE)call XFE(QJE)set ILV=UnitAddItemById(u,BU[VTV])call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif(HKX==VAV)and(XCE(u)or LVE(u))thenif XCE(u)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848652363))))endifset AXV=GetItemPlayer(QJE)set I5V=GetItemCharges(QJE)call RemoveItem(QJE)if HKX==VAV thenset ILV=CreateItem(NU[HKX],GetRectCenterX(Qr),GetRectCenterY(Qr))endifcall SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)if HKX==VAV thencall SetItemCharges(ILV,I5V)endifendifif HKX==EZ and(z8==1215723364 or z8==1429221446)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848652362))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif DJA and(HKX==U3 or HKX==W3)and(z8==1211119187)thencall HEE(GetOwningPlayer(u),(GetObjectName((1848652362))))set AXV=GetItemPlayer(QJE)call RemoveItem(QJE)set ILV=CreateItem(NU[HKX],x,y)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set DJA=falseendifif(HKX==VVV or HKX==VEV or HKX==VXV or HKX==VOV or HKX==VRV or HKX==VIV)and z8==1429221443 thencall DisplayTimedTextToPlayer(GetOwningPlayer(u),0,BI,$A,"|c00ff0303"+(GetObjectName((1848652368)))+"|r")endifcall EnableTrigger(R3V)if DJA thencall DCA(F2E,QJE)endifset u=nullset QJE=nullreturn falseendfunctionfunction DKA takes integer HKX returns booleanreturn HKX==B8 or HKX==ECV or HKX==EDV or HKX==EGV or HKX==N8 or HKX==ENV or HKX==EBV or HKX==EFV or HKX==GY or HKX==HY or HKX==F7 or HKX==G7endfunctionfunction DLA takes integer HKX returns booleanreturn HKX==GY or HKX==HYendfunctionfunction DMA takes unit FLE,item IOX returns booleanlocal item XJE=IOXlocal integer HKX=XHE(XJE)local integer DPA=0local boolean JTX=falselocal integer DQA=XLE(XJE)local boolean DSA=falseif IsUnitType(FLE,UNIT_TYPE_HERO) thenif HKX==B8 thenset DPA=N8endifif HKX==G7 thenset DPA=F7endifif HKX==ECV thenset DPA=ENVendifif HKX==EDV thenset DPA=EBVendifif HKX==EGV thenset DPA=EFVendifif HKX==HY thenset DPA=GYendifif DQA==HY thenset DPA=GYset DSA=trueendifif DPA!=0 thenset AXV=GetItemPlayer(XJE)call XFE(XJE)if DSA thenset ILV=UnitAddItemById(FLE,FU[DPA])elseset ILV=UnitAddItemById(FLE,BU[DPA])endifcall SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set JTX=trueendifelseif HKX==N8 thenset DPA=B8endifif HKX==F7 thenset DPA=G7endifif HKX==ENV thenset DPA=ECVendifif HKX==EBV thenset DPA=EDVendifif HKX==EFV thenset DPA=EGVendifif HKX==GY thenset DPA=HYendifif DQA==GY thenset DPA=HYset DSA=trueendifif DPA!=0 thenset AXV=GetItemPlayer(XJE)call XFE(XJE)if DSA thenset ILV=UnitAddItemById(FLE,FU[DPA])elseset ILV=UnitAddItemById(FLE,BU[DPA])endifcall SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set JTX=trueendifendifset XJE=nullreturn JTXendfunctionfunction DTA takes unit FLE,item IOX returns booleanif DKA(XHE(IOX))or DLA(XLE(IOX))thenreturn DMA(FLE,IOX)endifreturn falseendfunctionfunction DUA takes unit DWA,integer DYA returns integerlocal integer iif DYA==1 thenif GetUnitAbilityLevel(DWA,1094004784)>0 thenreturn 500endifset i=BBVloopexitwhen i>BFVif GetUnitAbilityLevel(DWA,IXV[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif DYA==2 thenif GetUnitAbilityLevel(DWA,1094004785)>0 thenreturn 500endifset i=BBVloopexitwhen i>BFVif GetUnitAbilityLevel(DWA,IOV[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif DYA==3 thenif GetUnitAbilityLevel(DWA,1094004786)>0 thenreturn 500endifset i=BBVloopexitwhen i>BFVif GetUnitAbilityLevel(DWA,IRV[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif DYA==4 thenif GetUnitAbilityLevel(DWA,1094004787)>0 thenreturn 500endifset i=BBVloopexitwhen i>BFVif GetUnitAbilityLevel(DWA,IIV[i])>0 or GetUnitAbilityLevel(DWA,IAV[i])>0 thenreturn iendifset i=i+1endloopreturn 0endifreturn 0endfunctionfunction DZA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit CZA=RME(IAE,"Unit")local integer D_A=R1E(IAE,"EventType")local integer HFX=R1E(IAE,"indexId")local boolean D0A=R3E(IAE,"Temporary")local item IOXlocal player p=GetOwningPlayer(CZA)local player D1Alocal integer EDAlocal boolean D2A=falselocal item EEAlocal integer n5local integer D3Alocal integer newChargeslocal item Z4local integer targetCountlocal item D4Alocal boolean D5A=falselocal integer JXEcall DisableTrigger(H7V)if D0A thenset D4A=nullset D1A=RQE(IAE,"p")set EDA=R1E(IAE,"charges")elseset IOX=R_E(IAE,"Item")set D4A=IOXset D1A=GetItemPlayer(IOX)set EDA=GetItemCharges(IOX)endifset VXE=HFXset VEE=D1Aset eY[512+GetPlayerId(VEE)]=1if D0A thenset Z7V[288+GetPlayerId(D1A)]=nullelseset Z7V[288+GetPlayerId(D1A)]=IOXendifif D0A==false and IOX==null thencall FlushChildHashtable(YX,(IAE))call IRE(t)call EnableTrigger(H7V)set t=nullset CZA=nullset p=nullreturn falseendifif D_A==1 thenif p!=D1A and GetUnitTypeId(CZA)==1852010352 thenif HLX(HDX(HFX))or HMX(HDX(HFX))thenset D2A=trueendifif IsPlayerEnemy(p,D1A)thencall NTA(NU[HFX],N8V[GetPlayerId(p)],N9V[GetPlayerId(p)],D1A,D2A,EDA)elsecall NTA(NU[HFX],N8V[GetPlayerId(D1A)],N9V[GetPlayerId(D1A)],D1A,D2A,EDA)endifcall HEE(p,(GetObjectName((1848656978))))if D0A==false thenset D5A=truecall XFE(IOX)endifelseif FNV==false and D0A==false and GetItemType(IOX)==ITEM_TYPE_CAMPAIGN and N_A(IOX)!=0 and(p==D1A or(GetPlayerSlotState((D1A))==PLAYER_SLOT_STATE_LEFT))thenif HMX(HFX)thenset D2A=trueelseset D2A=falseendifif(GetPlayerSlotState((D1A))==PLAYER_SLOT_STATE_LEFT)and FNE(HFX)thenelsecall XFE(IOX)set D5A=trueset EEA=UnitAddItemById(CZA,BU[HFX])set D4A=EEAcall SetItemPlayer(EEA,D1A,false)call SetItemUserData(EEA,0)if D2A thencall SetItemCharges(EEA,EDA)endifendifelseif FNV==false and D0A==false and GetItemType(IOX)==ITEM_TYPE_PERMANENT and p!=D1A and FU[XGE(IOX)]!=0 and(GetPlayerSlotState((D1A))==PLAYER_SLOT_STATE_LEFT)==false thenif HMX(HFX)thenset D2A=trueelseset D2A=falseendifcall XFE(IOX)set D5A=trueset EEA=UnitAddItemById(CZA,FU[HFX])set D4A=EEAcall SetItemPlayer(EEA,D1A,false)call SetItemUserData(EEA,0)if D2A thencall SetItemCharges(EEA,EDA)endifelseif D0A==false and GetItemType(IOX)==ITEM_TYPE_PERMANENT and HJX(IOX)and IsUnitType(CZA,UNIT_TYPE_HERO) thenset n5=TNX(CZA)set D3A=TBX(CZA)if D3A!=0 thencall UnitAddAbility(CZA,D3A)call UnitMakeAbilityPermanent(CZA,true,D3A)call SetPlayerAbilityAvailable(p,D3A,false)if GetUnitTypeId(CZA)==1211117653 thenset I9V=CZAcall ExecuteFunc("I3A")elseif GetUnitTypeId(CZA)==1215130471 thenset I9V=CZAcall ExecuteFunc("QOO")endifendifset JXE=DUA(CZA,4)if n5==RLV and IAV[JXE]!=0 thencall UnitRemoveAbility(CZA,IDV[JXE])call UnitAddAbility(CZA,IFV[JXE])call SetPlayerAbilityAvailable(p,IFV[JXE],false)endifif HFX!=n5 thencall XFE(IOX)set EEA=UnitAddItemById(CZA,BU[n5])set D4A=EEAcall SetItemPlayer(EEA,D1A,false)call SetItemUserData(EEA,1)endifelseif D0A==false and GetItemType(IOX)==ITEM_TYPE_ARTIFACT thencall DisableTrigger(R3V)set Z4=NUA(D1A,CZA,HFX,IOX)if Z4==null thenelsecall SetItemCharges(Z4,EDA+GetItemCharges(Z4))call XFE(IOX)set D4A=nullendifcall EnableTrigger(R3V)elseif D0A and HLX(HDX(HFX))thencall DisableTrigger(R3V)if NZA(CZA)==0 and NYA(D1A,CZA,HFX)==null thencall HEE(p,(GetObjectName((1848652367))))call NTA(NU[(HFX)],((R2E(IAE,"x"))*1.),((R2E(IAE,"y"))*1.),(D1A),(true),(EDA))elseset Z4=NYA(D1A,CZA,HFX)if Z4==null thencall DisableTrigger(R3V)set EEA=UnitAddItemById(CZA,BU[HFX])set D4A=EEAcall SetItemPlayer(EEA,D1A,false)call SetItemUserData(EEA,1)call SetItemCharges(EEA,EDA)elsecall SetItemCharges(Z4,EDA+GetItemCharges(Z4))set Z7V[288+GetPlayerId(D1A)]=Z4endifendifcall EnableTrigger(R3V)elseif D0A thencall CUA(D1A,CZA,null,HFX,R2E(IAE,"x"),R2E(IAE,"y"),EDA,1)elseif D0A==false and(GetItemType(IOX)==ITEM_TYPE_PERMANENT or GetItemType(IOX)==ITEM_TYPE_CAMPAIGN)thencall SetItemUserData(IOX,1)set D5A=CMA(D1A,CZA,0)endifif D5A==false and D4A!=null and N0A(D4A)==false thenset D5A=DTA(CZA,D4A)endifif D5A==false and D4A!=null and N0A(D4A)==false thencall DHA(CZA,D4A)endifelseif GetWidgetLife(IOX)>0 thenset n5=TNX(CZA)set D3A=TBX(CZA)if OAE(CZA,BU[n5])==null and GetUnitAbilityLevel(CZA,D3A)>0 thencall UnitRemoveAbility(CZA,D3A)if GetUnitTypeId(CZA)==1215130471 thenset I9V=CZAcall ExecuteFunc("QRO")endifendifset JXE=DUA(CZA,4)if n5==RLV and IAV[JXE]!=0 thencall UnitRemoveAbility(CZA,IFV[JXE])call UnitAddAbility(CZA,IDV[JXE])call SetPlayerAbilityAvailable(p,IDV[JXE],false)endifif IsItemOwned(IOX)==false thenif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(HFX)thenset D2A=trueendifcall NTA(NU[HFX],GetItemX(IOX),GetItemY(IOX),D1A,D2A,EDA)call XFE(IOX)endifendifendifcall O1E(IAE)call IRE(t)call EnableTrigger(H7V)if D4A!=null thenset Z7V[288+GetPlayerId(D1A)]=D4Aendifset t=nullset IOX=nullset CZA=nullset p=nullset D1A=nullset EEA=nullset Z4=nullset D4A=nullreturn falseendfunctionfunction D6A takes nothing returns booleanlocal item IOXlocal integer D_Alocal unit CZA=GetTriggerUnit()local trigger tlocal integer IAElocal integer n5local integer D3Alocal integer idset id=GetPlayerId(GetOwningPlayer(CZA))if(IsUnitType(CZA,UNIT_TYPE_HERO) or LVE(CZA))and IsUnitIllusion(CZA)==false thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenif GetItemTypeId(GetManipulatedItem())==BU[T1]thenset R5V=R5V+1set G8V[id]=G8V[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[EZ]thenset R6V=R6V+1set G9V[id]=G9V[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[EIV]thenset R7V=R7V+1set HVV[id]=HVV[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[Y7]or GetItemTypeId(GetManipulatedItem())==BU[G6]thenset R8V=R8V+1set HEV[id]=HEV[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[VPV]thenset R4V=R4V+1set HXV[id]=HXV[id]+1call UnitAddItemById(CZA,1227901005)elseif GetItemTypeId(GetManipulatedItem())==BU[V0V]thenset R9V=R9V+1set HOV[id]=HOV[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[L8]thenset UIV=UIV+1set HRV[id]=HRV[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[W7]thenset UAV=UAV+1set HIV[id]=HIV[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[F6]thenset ZYV=ZYV+1set Z_V[id]=Z_V[id]+1elseif GetItemTypeId(GetManipulatedItem())==BU[D4]thenset ZZV=ZZV+1set Z2V[id]=Z2V[id]+1endifelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenif GetItemTypeId(GetManipulatedItem())==BU[T1]thenset G8V[id]=G8V[id]-1set R5V=R5V-1elseif GetItemTypeId(GetManipulatedItem())==BU[EZ]thenset G9V[id]=G9V[id]-1set R6V=R6V-1elseif GetItemTypeId(GetManipulatedItem())==BU[D4]thenset Z2V[id]=Z2V[id]-1set ZZV=ZZV-1elseif GetItemTypeId(GetManipulatedItem())==BU[EIV]thenset HVV[id]=HVV[id]-1set R7V=R7V-1elseif GetItemTypeId(GetManipulatedItem())==BU[Y7]or GetItemTypeId(GetManipulatedItem())==BU[G6]thenset R8V=R8V-1set HEV[id]=HEV[id]-1if HEV[id]<1 or OIE(CZA,BU[Y7],GetManipulatedItem())==null or OIE(CZA,BU[G6],GetManipulatedItem())==null thencall UnitRemoveAbility(CZA,1093744436)endifelseif GetItemTypeId(GetManipulatedItem())==BU[VPV]thenset R4V=IMaxBJ(R4V-1,0)set HXV[id]=IMaxBJ(HXV[id]-1,0)call UnitRemoveAbility(CZA,1110458953)elseif GetItemTypeId(GetManipulatedItem())==BU[V0V]thenset HOV[id]=HOV[id]-1set R9V=R9V-1endifendifendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM thenset IOX=GetSoldItem()call SetItemUserData(IOX,-2)set n5=TNX(CZA)set D3A=TBX(CZA)if OIE(CZA,BU[n5],IOX)==null and GetUnitAbilityLevel(CZA,D3A)>0 thencall UnitRemoveAbility(CZA,D3A)if GetUnitTypeId(CZA)==1215130471 thenset I9V=CZAcall ExecuteFunc("QRO")endifendifelseif GetItemTypeId(GetManipulatedItem())!=1227894853 and GetItemTypeId(GetManipulatedItem())!=1227895373 thenset IOX=GetManipulatedItem()if IsUnitIllusion(CZA)or GetItemUserData(IOX)==-2 thenset IOX=nullset CZA=nullset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenset D_A=1elseset D_A=2endifif(D_A==1 or(D_A==2 and N0A(IOX)==false and GetWidgetLife(IOX)>0))and GetUnitTypeId(CZA)!=1211117642 thenset VXE=XGE(IOX)if(GetItemPlayer(IOX)!=Player($F))thenset VEE=GetItemPlayer(IOX)endifset Z7V[288+GetPlayerId(VEE)]=nullset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function DZA))call O8E(IAE,"Unit",CZA)call O4E(IAE,"EventType",D_A)call O4E(IAE,"indexId",VXE)if N0A(IOX)thencall O7E(IAE,"Temporary",true)call RRE(IAE,"p",VEE)call O4E(IAE,"charges",GetItemCharges(IOX))call O5E(IAE,"x",(GetItemX(IOX))*1.)call O5E(IAE,"y",(GetItemY(IOX))*1.)elsecall O7E(IAE,"Temporary",false)call RIE(IAE,"Item",IOX)call SetItemUserData(IOX,0)endifendifendifset IOX=nullset CZA=nullset t=nullreturn falseendfunctionfunction D7A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GetUnitAbilityLevel(FLE,1110454611)==0 thencall UnitRemoveAbility(FLE,1110454611)call UnitRemoveAbility(FLE,1110455361)call O1E(IAE)call IRE(t)elseif GetUnitState(FLE,UNIT_STATE_LIFE)==GetUnitState(FLE,UNIT_STATE_MAX_LIFE)and GetUnitState(FLE,UNIT_STATE_MANA)==GetUnitState(FLE,UNIT_STATE_MAX_MANA)thencall UnitRemoveAbility(FLE,1110454611)call UnitRemoveAbility(FLE,1110455361)call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction D8A takes unit FLE,item IOX returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function D7A))call O8E(IAE,"Hero",FLE)set t=nullendfunctionfunction D9A takes unit FLE,item IOX returns nothinglocal unit u=FLElocal real x=GetUnitX(u)local real y=GetUnitY(u)local unit MIE=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)local unit FVA=CreateUnit(GetOwningPlayer(u),1697656901,x,y,0)call UnitAddAbility(MIE,1093683026)call UnitAddAbility(FVA,1093683026)call IssueTargetOrderById(MIE,$D0132,u)call IssueTargetOrderById(FVA,$D0132,u)set u=nullset MIE=nullset FVA=nullendfunctionfunction FEA takes unit FLE,item IOX returns nothingif GetItemTypeId(IOX)==1227894839 or GetItemTypeId(IOX)==1227894838 or GetItemTypeId(IOX)==1227894840 or GetItemTypeId(IOX)==1227894859 or GetItemTypeId(IOX)==1227894858 thencall SWX(FLE,GetItemTypeId(IOX),false)endifif GetItemTypeId(IOX)==1227894839 thencall D9A(FLE,IOX)elseif GetItemTypeId(IOX)==1227894858 thenif GetUnitAbilityLevel(FLE,1110456665)>0 thencall UnitRemoveAbility(FLE,1110456665)call UnitRemoveAbility(FLE,1110454609)call DisableTrigger(GetTriggeringTrigger())call UnitAddItemById(FLE,1227894858)call EnableTrigger(GetTriggeringTrigger())endifelseif GetItemTypeId(IOX)==1227894840 thencall D8A(FLE,IOX)endifendfunctionfunction FXA takes unit F2E,item QJE returns nothinglocal integer GLElocal integer MAEcall UnitRemoveAbility(F2E,1093810003)call UnitRemoveAbility(F2E,1093810001)call UnitRemoveAbility(F2E,1093810002)call UnitRemoveAbility(F2E,1093810004)if GetUnitAbilityLevel(F2E,1093810246)>0 thencall UnitRemoveAbility(F2E,1093810246)call UnitAddAbility(F2E,1093810246)endifif GetUnitTypeId(F2E)==1164207469 thenset GLE=1093684057elseif GetUnitTypeId(F2E)==1429221446 thenset GLE=1093678660elseif GetUnitTypeId(F2E)==1162032951 thenset GLE=1093684557elseif GetUnitTypeId(F2E)==1332179560 thenset GLE=1093687627elseset F2E=nullreturnendifset MAE=GetUnitAbilityLevel(F2E,GLE)if MAE>0 thencall UnitRemoveAbility(F2E,GLE)call UnitAddAbility(F2E,GLE)call SetUnitAbilityLevel(F2E,GLE,MAE)endifendfunctionfunction FOA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"Unit")local integer FRA=R1E(IAE,"itemslot")local item IOX=UnitItemInSlot(u,FRA)if IOX!=null and FNE(XGE(IOX))==false and GetWidgetLife(IOX)>0 and TCX(IOX)==false thencall SetItemDroppable(IOX,true)endifcall O1E(IAE)call IRE(t)set t=nullset IOX=nullreturn falseendfunctionfunction FIA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"Unit")local integer FRA=R1E(IAE,"itemslot")local item IOX=UnitItemInSlot(u,FRA)call O1E(IAE)call IRE(t)if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(IOX!=null and GetWidgetLife(IOX)>0)thenset t=CreateTrigger()set IAE=GetHandleId(t)call SetItemDroppable(IOX,false)call O4E(IAE,"itemslot",FRA)call O8E(IAE,"Unit",u)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function FOA))endifset IOX=nullset u=nullset t=nullreturn falseendfunctionfunction FAA takes nothing returns nothinglocal integer FRAlocal unit u=GetTriggerUnit()local trigger tlocal integer IAElocal item IOXif GetIssuedOrderId()==$D0028 thenset FRA=0elseif GetIssuedOrderId()==$D0029 thenset FRA=1elseif GetIssuedOrderId()==$D002A thenset FRA=2elseif GetIssuedOrderId()==$D002B thenset FRA=3elseif GetIssuedOrderId()==$D002C thenset FRA=4elseif GetIssuedOrderId()==$D002D thenset FRA=5endifset IOX=UnitItemInSlot(u,FRA)if IOX!=null and GetWidgetLife(IOX)>0 thenset t=CreateTrigger()set IAE=GetHandleId(t)call O4E(IAE,"itemslot",FRA)call O8E(IAE,"Unit",u)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function FIA))endifset IOX=nullset u=nullset t=nullendfunctionfunction FNA takes nothing returns booleanif GetIssuedOrderId()==$D0028 or GetIssuedOrderId()==$D0029 or GetIssuedOrderId()==$D002A or GetIssuedOrderId()==$D002B or GetIssuedOrderId()==$D002C or GetIssuedOrderId()==$D002D thencall FAA()endifreturn falseendfunctionfunction FBA takes integer HFX returns booleanreturn HFX!=VSV and HFX!=EIV and HFX!=GY and HFX!=VAVendfunctionfunction FCA takes nothing returns nothingif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thencall SetItemPawnable(GetManipulatedItem(),false)elsecall SetItemPawnable(GetManipulatedItem(),true)endifendfunctionfunction FDA takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and FBA(XHE(GetManipulatedItem()))and XDE(GetTriggerUnit())thencall FCA()endifreturn falseendfunctionfunction FFA takes nothing returns booleanlocal unit FLE=GetTriggerUnit()local integer DDE=1if OIE(FLE,BU[QU],GetManipulatedItem())!=null or OAE(FLE,BU[P4])!=null thenset DDE=2endifif OIE(FLE,BU[EJV],GetManipulatedItem())!=null thenset DDE=3endifif OIE(FLE,BU[B7],GetManipulatedItem())!=null or OIE(FLE,BU[C7],GetManipulatedItem())!=null or OIE(FLE,BU[D7],GetManipulatedItem())!=null thenset DDE=4endifif OIE(FLE,BU[X6V],GetManipulatedItem())!=null thenset DDE=5endifif OIE(FLE,BU[D4],GetManipulatedItem())!=null thenset DDE=6endifif OIE(FLE,BU[A7],GetManipulatedItem())!=null thenset DDE=7endifif OIE(FLE,BU[D8],GetManipulatedItem())!=null thencall UnitAddAbility(FLE,1093686832)call SetUnitAbilityLevel(FLE,1093686832,DDE)call UnitMakeAbilityPermanent(FLE,true,1093686832)elsecall UnitRemoveAbility(FLE,1093686832)endifset FLE=nullreturn falseendfunctionfunction FGA takes nothing returns booleanlocal unit FLE=GetTriggerUnit()local integer DDE=1if OAE(FLE,BU[QU])!=null or OAE(FLE,BU[P4])!=null thenset DDE=2endifif OAE(FLE,BU[EJV])!=null thenset DDE=3endifif OAE(FLE,BU[B7])!=null or OIE(FLE,BU[C7],GetManipulatedItem())!=null or OIE(FLE,BU[D7],GetManipulatedItem())!=null thenset DDE=4endifif OAE(FLE,BU[X6V])!=null thenset DDE=5endifif OIE(FLE,BU[D4],GetManipulatedItem())!=null thenset DDE=6endifif OAE(FLE,BU[A7])!=null thenset DDE=7endifif OAE(FLE,BU[D8])!=null thencall UnitAddAbility(FLE,1093686832)call SetUnitAbilityLevel(FLE,1093686832,DDE)call UnitMakeAbilityPermanent(FLE,true,1093686832)endifset FLE=nullreturn falseendfunctionfunction FHA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenif XHE(GetManipulatedItem())==EBV thencall UnitRemoveAbility(FLE,1093682520)endifif XHE(GetManipulatedItem())==V2V thencall UnitRemoveAbility(FLE,1093747287)endifif XHE(GetManipulatedItem())==ENV thencall UnitRemoveAbility(FLE,1093682520)call UnitRemoveAbility(FLE,1093686339)call UnitRemoveAbility(FLE,1093686603)endifendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenif XHE(GetManipulatedItem())==EBV thencall UnitAddAbility(FLE,1093682520)call UnitMakeAbilityPermanent(FLE,true,1093682520)endifif XHE(GetManipulatedItem())==V2V thencall UnitAddAbility(FLE,1093747287)call UnitMakeAbilityPermanent(FLE,true,1093747287)endifif XHE(GetManipulatedItem())==ENV thencall UnitAddAbility(FLE,1093682520)call UnitMakeAbilityPermanent(FLE,true,1093682520)call UnitAddAbility(FLE,1093686339)call UnitMakeAbilityPermanent(FLE,true,1093686339)call UnitAddAbility(FLE,1093686603)call UnitMakeAbilityPermanent(FLE,true,1093686603)endifendifset FLE=nullendfunctionfunction FJA takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(XHE(GetManipulatedItem())==ENV or XHE(GetManipulatedItem())==EBV or XHE(GetManipulatedItem())==V2V)thencall FHA()endifreturn falseendfunctionfunction FKA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local item IOX=R_E(IAE,"Item")if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==IOX thencall O1E(IAE)call IRE(t)elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM thenif((LoadInteger(YX,(GetHandleId((FLE))),((4310))))==1)==false thencall SetUnitState(FLE,UNIT_STATE_LIFE,HTE(GetUnitState(FLE,UNIT_STATE_LIFE)-IVV,1))endifendifset t=nullset FLE=nullset IOX=nullreturn falseendfunctionfunction FLA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function FKA))call O8E(IAE,"Hero",FLE)call RIE(IAE,"Item",GetManipulatedItem())set t=nullset FLE=nullendfunctionfunction FMA takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and XHE(GetManipulatedItem())==ENV thencall FLA()endifreturn falseendfunctionfunction FPA takes unit u returns booleanlocal item FQA=CreateItem(1227901771,GetUnitX(u),GetUnitY(u))local boolean KVX=UnitAddItem(u,FQA)if KVX==false thencall RemoveItem(FQA)endifreturn KVXendfunctionfunction FSA takes unit FLE,item IOX,integer KOX returns itemlocal real x=J9X(FLE)local real y=KEX(FLE)local integer i=0local boolean array KRXlocal item Z4loopexitwhen i>(UnitInventorySize(FLE)-1)if UnitItemInSlot(FLE,i)==null and i!=KOX thenset Z4=CreateItem(1227895373,x,y)call UnitAddItem(FLE,Z4)set KRX[i]=trueelseset KRX[i]=falseendifif i==KOX thencall UnitAddItem(FLE,IOX)endifset i=i+1endloopset i=0loopexitwhen i>5if KRX[i] thencall RemoveItem(UnitItemInSlot(FLE,i))endifset i=i+1endloopset ILV=IOXset Z4=nullreturn ILVendfunctionfunction FTA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer i=0local item FUAlocal integer HFXlocal unit MIElocal item FWAif GetTriggerEventId()==EVENT_UNIT_DEATH thencall O7E(GetHandleId(FLE),"LinkenSphere|CD",false)call O1E(IAE)call IRE(t)elseif FPA(FLE)==false thencall TriggerRegisterTimerEvent(t,5.5,false)elsecall O7E(GetHandleId(FLE),"LinkenSphere|CD",false)set VEE=GetOwningPlayer(FLE)call DisableTrigger(R3V)if HXV[GetPlayerId(GetOwningPlayer(FLE))]>0 thencall SetItemVisible(UnitAddItemById(FLE,1227901005),false)endifloopexitwhen i>5set FUA=UnitItemInSlot(FLE,i)set HFX=XHE(FUA)if HFX==VQV thenset AXV=GetItemPlayer(FUA)call RemoveItem(FUA)set MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call UnitAddAbility(MIE,1095331446)set FWA=UnitAddItemById(MIE,BU[VPV])call UnitUseItem(MIE,FWA)set ILV=FSA(FLE,FWA,i)call SetItemPlayer(FWA,AXV,false)call SetItemUserData(FWA,1)call UnitRemoveAbility(MIE,1095331446)set MIE=nullset FWA=nullendifset FUA=nullset i=i+1endloopcall EnableTrigger(R3V)call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullreturn falseendfunctionfunction FYA takes unit FLE returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer i=0local item FUAlocal integer HFXlocal unit MIElocal item FWAcall DisableTrigger(R3V)call O7E(GetHandleId(FLE),"LinkenSphere|CD",true)call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FTA))call O8E(IAE,"Hero",FLE)loopexitwhen i>5set FUA=UnitItemInSlot(FLE,i)set HFX=XHE(FUA)if HFX==VPV or HFX==VQV thenset AXV=GetItemPlayer(FUA)set VEE=AXVcall RemoveItem(FUA)set MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call UnitAddAbility(MIE,1095331446)set FWA=UnitAddItemById(MIE,BU[VQV])call UnitUseItem(MIE,FWA)set ILV=FSA(FLE,FWA,i)call SetItemPlayer(FWA,AXV,false)call SetItemUserData(FWA,1)call UnitRemoveAbility(MIE,1095331446)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",FLE,"origin"))set MIE=nullset FWA=nullendifset FUA=nullset i=i+1endloopcall EnableTrigger(R3V)set t=nullendfunctionfunction FZA takes nothing returns booleanlocal integer i=1local unit FLElocal integer idif NI thenreturn falseendifif R4V>0 thenloopexitwhen i>5set id=GetPlayerId(RX[i])set FLE=QV[id]if HXV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false and R3E(GetHandleId(FLE),"LinkenSphere|CD")==false and FUE(FLE)==false and R3E(GetHandleId(FLE),"MantaBlocked")==false thencall FYA(FLE)endifset id=GetPlayerId(GX[i])set FLE=QV[id]if HXV[id]>0 and FLE!=null and GetUnitTypeId(FLE)>1 and IsUnitType(FLE,UNIT_TYPE_DEAD)==false and R3E(GetHandleId(FLE),"LinkenSphere|CD")==false and FUE(FLE)==false and R3E(GetHandleId(FLE),"MantaBlocked")==false thencall FYA(FLE)endifset i=i+1endloopendifset FLE=nullreturn falseendfunctionfunction F_A takes unit hn,item x5 returns integerlocal integer i=0loopexitwhen i>5if UnitItemInSlot(hn,i)==x5 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction F0A takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer HFX=XHE(Z4)local integer KOXcall DisableTrigger(R3V)if HFX==X7 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[O7],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==O7 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[X7],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif HFX==Y4 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[R5],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==R5 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[Y4],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifif HFX==VWV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VYV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==VYV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VWV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifcall EnableTrigger(R3V)set S4=nullset Z4=nullendfunctionfunction F1A takes nothing returns nothinglocal unit F2A=GetTriggerUnit()local item F3A=GetManipulatedItem()local integer F4A=XHE(F3A)local integer FRAcall DisableTrigger(R3V)if F4A==VZV thenset FRA=F_A(F2A,F3A)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(F3A)set ILV=KXX(F2A,BU[V_V],FRA)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif F4A==V_V thenset FRA=F_A(F2A,F3A)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(F3A)set ILV=KXX(F2A,BU[VZV],FRA)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifcall EnableTrigger(R3V)set F2A=nullset F3A=nullendfunctionfunction F5A takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer HFX=XHE(Z4)local integer KOXcall DisableTrigger(R3V)if GetUnitTypeId(S4)!=1211117642 thenif HFX==B7 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(R3V)set ILV=KXX(S4,BU[C7],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==C7 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(R3V)set ILV=KXX(S4,BU[D7],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==D7 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(R3V)set ILV=KXX(S4,BU[B7],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifendifcall EnableTrigger(R3V)set S4=nullset Z4=nullendfunctionfunction F6A takes integer n5 returns integerif n5==1227894838 thenreturn R3elseif n5==1227894840 thenreturn B3elseif n5==1227894858 thenreturn H2elseif n5==1227894859 thenreturn T2elseif n5==1227894839 thenreturn C3endifreturn-1endfunctionfunction F7A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"Unit")local integer FRA=R1E(IAE,"itemslot")local item IOX=UnitItemInSlot(u,FRA)local integer F8A=R1E(IAE,"itemhandleid")local item FWAlocal integer KOXif IOX!=null and FNE(XGE(IOX))and GetHandleId(IOX)==F8A and GME(u)==false thenset FWA=CreateItem(LoadInteger(YX,GetHandleId(IOX),GetHandleId(u)),GetUnitX(u),GetUnitY(u))call O1E(GetHandleId(IOX))set KOX=F_A(u,IOX)set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[F2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call O1E(IAE)call IRE(t)call UnitAddItem(u,FWA)endifset t=nullset u=nullset IOX=nullset FWA=nullreturn falseendfunctionfunction F9A takes unit u,item FWA returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer FRA=F_A(u,FWA)call O4E(IAE,"itemslot",FRA)call O4E(IAE,"itemhandleid",GetHandleId(FWA))call O8E(IAE,"Unit",u)call TriggerRegisterTimerEvent(t,120.,true)call TriggerAddCondition(t,Condition(function F7A))set t=nullendfunctionfunction GVA takes nothing returns nothinglocal unit u=GetTriggerUnit()local item IOX=GetManipulatedItem()local integer HFX=XGE(IOX)local unit GEAlocal integer GXAlocal boolean TargetFroglocal integer KOXlocal item FWAlocal integer GOAif HFX==E2 thenset KOX=F_A(u,IOX)set GEA=RME(GetHandleId(u),"BottleTargetUnit")set GXA=R1E(GetHandleId(u),"BottleTargetItemId")if GetUnitTypeId(GEA)==1852206952 or GetUnitTypeId(GEA)==1852073580 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))call HVE(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[F2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif QMX(GXA)thenset GOA=F6A(GXA)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))set AXV=GetItemPlayer(IOX)call XFE(IOX)call DisableTrigger(R3V)if GetOwningPlayer(u)==AXV thenset ILV=KXX(u,BU[GOA],KOX)elseset ILV=KXX(u,FU[GOA],KOX)endifcall EnableTrigger(R3V)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)set FWA=UnitItemInSlot(u,KOX)call SaveInteger(YX,GetHandleId(FWA),GetHandleId(u),GXA)call F9A(u,FWA)endifelseif HFX==F2 thenset KOX=F_A(u,IOX)set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[R2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==R2 thenset KOX=F_A(u,IOX)set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[X2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==X2 thenset KOX=F_A(u,IOX)set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[E2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,0)elseif FNE(HFX)thenif LoadInteger(YX,GetHandleId(IOX),GetHandleId(u))>0 thenset NH=trueset KOX=F_A(u,IOX)set FWA=CreateItem(LoadInteger(YX,GetHandleId(IOX),GetHandleId(u)),GetUnitX(u),GetUnitY(u))call O1E(GetHandleId(IOX))set AXV=GetItemPlayer(IOX)call XFE(IOX)set ILV=KXX(u,BU[F2],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call UnitAddItem(u,FWA)set NH=falseendifendifset u=nullset IOX=nullset GEA=nullset FWA=nullendfunctionfunction GRA takes nothing returns booleanlocal integer KOXlocal real L7Ecall DisableTrigger(R3V)if XHE(GetManipulatedItem())==EBV thenset L7E=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)set KOX=F_A(GetTriggerUnit(),GetManipulatedItem())set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(GetManipulatedItem())set ILV=KXX(GetTriggerUnit(),BU[ENV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,HTE(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-L7E,1))call IBE(GetTriggerUnit(),"ArmletOfMordiganState",.04)call IVE(GetTriggerUnit(),"ArmletOfMordigan|Active")endifif XHE(GetManipulatedItem())==ENV thenset L7E=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)set KOX=F_A(GetTriggerUnit(),GetManipulatedItem())set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(GetManipulatedItem())set ILV=KXX(GetTriggerUnit(),BU[EBV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,HTE(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-L7E,1))call IXE(GetTriggerUnit(),"ArmletOfMordigan|Active")endifcall EnableTrigger(R3V)return falseendfunctionfunction GIA takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())==BU[H6]thencall HEE(GetOwningPlayer(GetTriggerUnit()),(GetObjectName((1848657713))))endifendfunctionfunction GAA takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer HFX=XHE(Z4)local integer KOXcall DisableTrigger(R3V)if HFX==VVV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VEV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call TIX(ILV)elseif HFX==VEV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VXV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call TIX(ILV)elseif HFX==VXV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VOV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call TIX(ILV)elseif HFX==VOV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VRV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call TIX(ILV)elseif HFX==VRV thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[VIV],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)call TIX(ILV)endifcall EnableTrigger(R3V)set S4=nullset Z4=nullendfunctionfunction GNA takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer HFX=XHE(Z4)local integer KOXcall DisableTrigger(R3V)if HFX==X8 and GetItemCharges(Z4)==0 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[R8],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==O8 and GetItemCharges(Z4)==0 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[A8],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)elseif HFX==E4 and GetItemCharges(Z4)==0 thenset KOX=F_A(S4,Z4)set AXV=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set ILV=KXX(S4,BU[X4],KOX)call SetItemPlayer(ILV,AXV,false)call SetItemUserData(ILV,1)endifcall EnableTrigger(R3V)set S4=nullset Z4=nullendfunctionfunction GBA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if FPA(p5)thencall UnitAddItemById(p5,1227901005)endifcall O1E(IAE)call IRE(t)call O7E(GetHandleId(p5),"MantaBlocked",false)set t=nullset p5=nullreturn falseendfunctionfunction GCA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer HFX=XHE(Z4)local trigger tif(HFX==VNV or HFX==VBV)and R3E(GetHandleId(p5),"MantaBlocked") thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.41,false)call TriggerAddCondition(t,Condition(function GBA))call O8E(GetHandleId(t),"Source",p5)set t=nullendifset p5=nullset Z4=nullendfunctionfunction GDA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local integer DZX=R1E(H2E,"Count")if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1097163124 thencall O4E(H2E,"Count",16)endifelseif GME(J6E)or GetTriggerEventId()==EVENT_UNIT_DEATH or DZX==0 thencall UnitRemoveAbility(J6E,1093685334)call UnitRemoveAbility(J6E,1110456140)call IXE(J6E,"ActiveTango")call O1E(H2E)call IRE(t)elsecall SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)+115/ 16)call O4E(H2E,"Count",DZX-1)endifreturn falseendfunctionfunction GFA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call IVE(p5,"ActiveTango")call GKE(p5,1093685334)call O8E(IAE,"Source",p5)call O4E(IAE,"Count",16)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GDA))call TriggerEvaluate(t)set p5=nullset t=nullendfunctionfunction GGA takes nothing returns nothingif GetSpellAbilityId()==1097163124 and R8E(GetTriggerUnit(),"ActiveTango")==false thencall GFA()endifendfunctionfunction GHA takes integer id,real x,real y returns nothingif IsPointInRegion(JBV,x,y)==false thenset JNV=JNV+1set JOV[JNV]=Player(id)set JRV[JNV]=xset JIV[JNV]=yset JAV[JNV]=(TimerGetElapsed(K))endifendfunctionfunction GJA takes integer id,real x,real y returns integerlocal real M2E=(TimerGetElapsed(K))local integer i=0local integer CGX=0if IsPointInRegion(JBV,x,y) thenreturn CGXendifloopexitwhen i>JNVif(M2E<JAV[i]+e4)and(E4E(x,y,JRV[i],JIV[i])<o4*2+50)and IsPlayerAlly(Player(id),JOV[i]) thenset CGX=CGX+1endifset i=i+1endloopreturn CGXendfunctionfunction GKA takes integer GLA returns integerif GLA==GetPlayerId(RX[1])thenreturn 1747993161elseif GLA==GetPlayerId(RX[2])thenreturn 1747993163elseif GLA==GetPlayerId(RX[3])thenreturn 1747993159elseif GLA==GetPlayerId(RX[4])thenreturn 1747993158elseif GLA==GetPlayerId(RX[5])thenreturn 1747993164elseif GLA==GetPlayerId(GX[1])thenreturn 1747993160elseif GLA==GetPlayerId(GX[2])thenreturn 1747993162elseif GLA==GetPlayerId(GX[3])thenreturn 1747993165elseif GLA==GetPlayerId(GX[4])thenreturn 1747992885elseif GLA==GetPlayerId(GX[5])thenreturn 1747993166endifreturn 1747993166endfunctionfunction GMA takes integer GLA returns integerreturn 1747992920endfunctionfunction GPA takes integer GLA returns stringif GLA==GetPlayerId(RX[1])thenreturn"war3mapImported\\TeleportTarget_Blue.mdx"elseif GLA==GetPlayerId(RX[2])thenreturn"war3mapImported\\TeleportTarget_Teal.mdx"elseif GLA==GetPlayerId(RX[3])thenreturn"war3mapImported\\TeleportTarget_Purple.mdx"elseif GLA==GetPlayerId(RX[4])thenreturn"war3mapImported\\TeleportTarget_Yellow.mdx"elseif GLA==GetPlayerId(RX[5])thenreturn"war3mapImported\\TeleportTarget_Orange.mdx"elseif GLA==GetPlayerId(GX[1])thenreturn"war3mapImported\\TeleportTarget_Pink.mdx"elseif GLA==GetPlayerId(GX[2])thenreturn"war3mapImported\\TeleportTarget_Gray.mdx"elseif GLA==GetPlayerId(GX[3])thenreturn"war3mapImported\\TeleportTarget_LightBlue.mdx"elseif GLA==GetPlayerId(GX[4])thenreturn"war3mapImported\\TeleportTarget_DarkGreen.mdx"elseif GLA==GetPlayerId(GX[5])thenreturn"war3mapImported\\TeleportTarget_Brown.mdx"endifreturn"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"endfunctionfunction GQA takes integer GLA returns stringreturn"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"endfunctionfunction GSA takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(AVV)) and GetUnitTypeId(GetFilterUnit())!=1966092371 and GetUnitTypeId(GetFilterUnit())!=1852010352 and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false thenset d=E4E(I7V,I8V,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<I6V thenset I6V=dset I9V=GetFilterUnit()endifendifreturn falseendfunctionfunction GTA takes unit S4,real x,real y returns unitlocal group g=FYE()set I9V=nullset AVV=S4set I6V=99999set I7V=xset I8V=ycall GroupEnumUnitsInRange(g,x,y,99999,Condition(function GSA))call FWE(g)set g=nullreturn I9Vendfunctionfunction GUA takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id==1848657480 or id==1848657462 or id==1848657481 or id==1848657482endfunctionfunction GWA takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id==1966092370 or id==1970107511 or id==1697657398 or id==1700946284endfunctionfunction GYA takes nothing returns booleanlocal real dif(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 or GWA(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())==1852206952 or GetUnitTypeId(GetFilterUnit())==1852073580 or GUA(GetFilterUnit()))and GME(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),1098085732)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(AVV)) and GetOwningPlayer(GetFilterUnit())!=WX and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!=1848657461 thenset d=E4E(I7V,I8V,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<I6V thenset I6V=dset I9V=GetFilterUnit()endifendifreturn falseendfunctionfunction GZA takes unit V_E,real x,real y returns unitlocal group g=FYE()set I9V=nullset AVV=V_Eset I6V=99999set I7V=xset I8V=ycall GroupEnumUnitsInRange(g,x,y,99999,Condition(function GYA))call FWE(g)set g=nullreturn I9Vendfunctionfunction G_A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=(LoadUnitHandle(YX,(IAE),($E)))local real x=(LoadReal(YX,(IAE),(6)))local real y=(LoadReal(YX,(IAE),(7)))local unit G0A=(LoadUnitHandle(YX,(IAE),(448)))local unit G1A=(LoadUnitHandle(YX,(IAE),(447)))local ubersplat G2A=(LoadUbersplatHandle(YX,(IAE),($83)))local integer CGX=(LoadInteger(YX,(IAE),(34)))local real KBE=(LoadReal(YX,(IAE),(57)))local real M2E=R2E(IAE,"OriginalTime")local integer id=GetPlayerId(GetOwningPlayer(FLE))local boolean G3A=falselocal integer i=0if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415 thenset G3A=trueendifelseset CGX=CGX+1call SaveInteger(YX,(IAE),(34),(CGX))if CGX==1 thenif KBE>3 thencall SetUnitAnimationByIndex(G0A,1)call SetUnitAnimationByIndex(G1A,1)endifelseif CGX==2 thenset G3A=trueendifendifif G3A thencall SaveInteger(YX,(GetHandleId((FLE))),((4256)),(2))call KillUnit(G0A)call KillUnit(G1A)call DestroyUbersplat(G2A)call FlushChildHashtable(YX,(IAE))call IRE(t)if CGX==2 thencall DestroyEffect(AddSpecialEffect(GQA(id),GetUnitX(FLE),GetUnitY(FLE)))call DestroyEffect(AddSpecialEffect(GPA(id),x,y))call SetUnitX(FLE,x)call SetUnitY(FLE,y)call PauseUnit(FLE,true)call PauseUnit(FLE,false)call JRE(x,y,$F0)set I9V=FLEcall ExecuteFunc("G4A")endifendifset hq[832+GetPlayerId(GetOwningPlayer(FLE))]=0set t=nullset FLE=nullset G0A=nullset G1A=nullset G2A=nullreturn falseendfunctionfunction G5A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local unit G6A=(LoadUnitHandle(YX,(H2E),(448)))local unit G7A=(LoadUnitHandle(YX,(H2E),(447)))local ubersplat ERO=(LoadUbersplatHandle(YX,(H2E),($83)))local integer DZX=(LoadInteger(YX,(H2E),(34)))local real OXR=(LoadReal(YX,(H2E),(57)))local real C5X=(LoadReal(YX,(H2E),(442)))local integer id=GetPlayerId(GetOwningPlayer(F2E))local boolean end=falselocal integer i=0local integer DOXif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()==1093808945 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call SaveInteger(YX,(GetHandleId((F2E))),((4256)),(2))call KillUnit(G6A)call KillUnit(G7A)call DestroyUbersplat(ERO)call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveType(F3E,UNIT_TYPE_PEON)endifelseif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call UnitRemoveType(F3E,UNIT_TYPE_PEON)call SaveInteger(YX,(GetHandleId((F2E))),((4256)),(2))call KillUnit(G6A)call KillUnit(G7A)call DestroyUbersplat(ERO)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(F2E),GetUnitY(F2E)))call SaveInteger(YX,(GetHandleId((F2E))),((4256)),(2))call KillUnit(G6A)call KillUnit(G7A)call DestroyUbersplat(ERO)call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveType(F3E,UNIT_TYPE_PEON)call SetUnitX(F2E,GetUnitX(F3E)-1)call SetUnitY(F2E,GetUnitY(F3E)-1)call PauseUnit(F2E,true)call PauseUnit(F2E,false)call JRE(x,y,$F0)set I9V=F2Ecall ExecuteFunc("G4A")call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(F2E),GetUnitY(F2E)))endifset t=nullset F2E=nullset G6A=nullset G7A=nullset ERO=nullset F3E=nullreturn falseendfunctionfunction G8A takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local location llocal real xlocal real ylocal real alocal trigger tlocal integer IAElocal unit G0Alocal unit G1Alocal ubersplat G2Alocal integer id=GetPlayerId(GetOwningPlayer(FLE))local integer CGXlocal real G9Aif(M_V and GetSpellAbilityId()==1093743415)thenset M_V=falsecall SetUnitState(FLE,UNIT_STATE_MANA,GetUnitState(FLE,UNIT_STATE_MANA)+75)returnendifset t=CreateTrigger()set IAE=GetHandleId(t)call SaveInteger(YX,(GetHandleId((FLE))),((4256)),(1))if m5==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)if GetSpellAbilityId()==1093751349 thenif x==J_V[id]and y==J0V[id]thenif B2E(GetOwningPlayer(FLE))thenset x=GetUnitX(ACV)set y=GetUnitY(ACV)elseset x=GetUnitX(NOV)set y=GetUnitY(NOV)endifendifendifset m5=GTA(FLE,x,y)call RemoveLocation(l)elseset x=GetUnitX(m5)set y=GetUnitY(m5)endifif E4E(x,y,GetUnitX(m5),GetUnitY(m5))>o4 thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+o4*Cos(a)set y=GetUnitY(m5)+o4*Sin(a)elseif E4E(x,y,GetUnitX(m5),GetUnitY(m5))<50 thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+120*Cos(a)set y=GetUnitY(m5)+120*Sin(a)endifif IsPointInRegion(ARV,x,y) thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+$C8*Cos(a)set y=GetUnitY(m5)+$C8*Sin(a)endifset x=HRE(x)set y=HIE(y)if(IsUnitAlly(FLE,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(FLE))or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thencall PingMinimapEx(x,y,3,$FF,$FF,$FF,false)endifset G1A=CreateUnit(GetOwningPlayer(FLE),GKA(id),x,y,0)set G0A=CreateUnit(GetOwningPlayer(FLE),GMA(id),GetUnitX(FLE),GetUnitY(FLE),0)set G2A=CreateUbersplat(GetUnitX(FLE),GetUnitY(FLE),"SCTP",$FF,$FF,$FF,$FF,false,false)if IsUnitVisible(FLE,GetLocalPlayer()) thencall SetUbersplatRenderAlways(G2A,true)elsecall SetUbersplatRenderAlways(G2A,false)endifset CGX=GJA(GetPlayerId(GetOwningPlayer(FLE)),x,y)if CGX>0 thenset CGX=CGX+1endifset G9A=3+CGXcall GHA(GetPlayerId(GetOwningPlayer(FLE)),x,y)if CGX>0 thencall SetUnitAnimationByIndex(G0A,2)call SetUnitAnimationByIndex(G1A,2)endifcall TriggerRegisterTimerEvent(t,G9A-3,false)call TriggerRegisterTimerEvent(t,G9A,false)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function G_A))call JBE(GetOwningPlayer(FLE),G9A,x,y,$C8)call SaveUnitHandle(YX,(IAE),(447),(G1A))call SaveUnitHandle(YX,(IAE),(448),(G0A))call SaveReal(YX,(IAE),(6),((x)*1.))call SaveReal(YX,(IAE),(7),((y)*1.))call O5E(IAE,"OriginalTime",TimerGetElapsed(K))call SaveReal(YX,(IAE),(57),((G9A)*1.))call SaveUbersplatHandle(YX,(IAE),($83),(G2A))call SaveUnitHandle(YX,(IAE),($E),(FLE))call SaveInteger(YX,(IAE),(34),(0))call J5E(FLE,LSV,x,y,$960)set FLE=nullset m5=nullset G0A=nullset G1A=nullset l=nullset t=nullset G2A=nullendfunctionfunction HVA takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local location llocal real xlocal real ylocal real alocal trigger tlocal integer H2Elocal unit G6Alocal unit G7Alocal ubersplat EROlocal integer id=GetPlayerId(GetOwningPlayer(F2E))local integer DZXlocal real HEAset t=CreateTrigger()set H2E=GetHandleId(t)if F3E==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)if x==J_V[id]and y==J0V[id]thenif B2E(GetOwningPlayer(F2E))thenset x=GetUnitX(ACV)set y=GetUnitY(ACV)elseset x=GetUnitX(NOV)set y=GetUnitY(NOV)endifendifset F3E=GZA(F2E,x,y)call RemoveLocation(l)endifset x=GetUnitX(F3E)set y=GetUnitY(F3E)if(IsUnitAlly(F2E,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(F2E))or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thencall PingMinimapEx(x,y,3,$FF,$FF,$FF,false)endifset ERO=CreateUbersplat(GetUnitX(F2E),GetUnitY(F2E),"SCTP",$FF,$FF,$FF,$FF,false,false)if IsUnitVisible(F2E,GetLocalPlayer()) thencall SetUbersplatRenderAlways(ERO,true)elsecall SetUbersplatRenderAlways(ERO,false)endifset HEA=3call UnitAddType(F3E,UNIT_TYPE_PEON)call TriggerRegisterTimerEvent(t,HEA,false)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function G5A))call JBE(GetOwningPlayer(F2E),HEA,x,y,$C8)call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K)))*1.))call SaveReal(YX,(H2E),(57),((HEA)*1.))call SaveUbersplatHandle(YX,(H2E),($83),(ERO))call SaveUnitHandle(YX,(H2E),($E),(F2E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(34),(0))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",F2E,"origin")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",F2E,"origin")))call SaveEffectHandle(YX,(H2E),($B1),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",F3E,"origin")))call J5E(F2E,LSV,x,y,$960)set F2E=nullset F3E=nullset G6A=nullset G7A=nullset l=nullset t=nullset ERO=nullendfunctionfunction HXA takes nothing returns nothingif(GetSpellAbilityId()==1093751349 or GetSpellAbilityId()==1093743415)and XDE(GetTriggerUnit())==false thencall G8A()endifif GetSpellAbilityId()==1093808945 thencall HVA()endifendfunctionfunction HOA takes nothing returns nothingif GetSpellAbilityId()==1093743415 and GetSpellTargetItem()!=null thencall IssueImmediateOrderById(GetTriggerUnit(),$D0004)if B2E(GetOwningPlayer(GetTriggerUnit()))thencall UnitUseItemTarget(GetTriggerUnit(),OAE(GetTriggerUnit(),L5),ACV)set M_V=trueelsecall UnitUseItemTarget(GetTriggerUnit(),OAE(GetTriggerUnit(),L5),NOV)set M_V=trueendifendifendfunctionfunction HRA takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction HIA takes nothing returns booleanlocal integer i=GetUnitTypeId(GetFilterUnit())return i==1848651848 or i==1848651847 or i==1848651851 or i==1848651850 or i==1848651841 or i==1848651830endfunctionfunction HAA takes nothing returns nothinglocal group g=FYE()call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function HIA))call ForGroup(g,function HRA)call FWE(g)set g=nullendfunctionfunction HNA takes nothing returns nothingif GetSpellAbilityId()==1093683266 or GetSpellAbilityId()==1093682227 or GetSpellAbilityId()==1093682246 thencall HAA()endifendfunctionfunction HBA takes nothing returns nothingif GetSpellAbilityId()==1094935400 thencall UnitApplyTimedLife(GetSpellTargetUnit(),1112820806,$4B0)call UnitAddAbility(GetSpellTargetUnit(),1097167976)call UnitAddAbility(GetSpellTargetUnit(),1094939243)call HZE(GetSpellTargetUnit())endifendfunctionfunction HCA takes integer i returns integerif i==Aw thenreturn dwendifif i==Nw thenreturn Dwendifif i==bw thenreturn fwendifif i==Bw thenreturn Fwendifif i==cw thenreturn hwendifif i==Cw thenreturn kwendifreturn 0endfunctionfunction HDA takes integer i returns integerif i==Aw thenreturn $Aendifif i==Nw thenreturn 9endifif i==bw thenreturn 8endifif i==Bw thenreturn 7endifif i==cw thenreturn 6endifif i==Cw thenreturn 5endifreturn 0endfunctionfunction HFA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")if GME(FLE)==false and FLE!=null thencall SetUnitScale(FLE,G5E(FLE)*AN,G5E(FLE)*AN,G5E(FLE)*AN)endifcall O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction HGA takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local unit MIE=CreateUnit(GetOwningPlayer(F2E),1697656901,GetUnitX(F2E),GetUnitY(F2E),0)local trigger t=CreateTrigger()local real OXR=HDA(GetSpellAbilityId())call JPE(F2E,Lw,OXR)call UnitMakeAbilityPermanent(F2E,true,Lw)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),Lw,false)call UnitAddAbility(MIE,HCA(GetSpellAbilityId()))call IssueTargetOrderById(MIE,$D00DA,F2E)call HOX(F2E,0,0)if XDE(F2E)thencall JME(F2E,OXR,3)elsecall JME(F2E,OXR,1.4)endifcall TriggerRegisterTimerEvent(t,OXR+7.,false)call TriggerAddCondition(t,Condition(function HFA))call O8E(GetHandleId(t),"Hero",F2E)set t=nullset F2E=nullset MIE=nullendfunctionfunction HHA takes nothing returns nothingif HCA(GetSpellAbilityId())>0 thencall HGA()endifendfunctionfunction HJA takes nothing returns nothingif GetSpellAbilityId()==1093677655 thencall UnitResetCooldown(GetTriggerUnit())endifendfunctionfunction HKA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit QYX=RME(IAE,"chicken")local integer Q1X=R1E(IAE,"newability")local integer Q2X=R1E(IAE,"itemId0")local integer Q3X=R1E(IAE,"itemId1")local integer Q4X=R1E(IAE,"itemId2")local integer Q5X=R1E(IAE,"itemId3")local integer Q6X=R1E(IAE,"itemId4")local integer Q7X=R1E(IAE,"itemId5")local player Q8X=RQE(IAE,"pPlayer0")local player Q9X=RQE(IAE,"pPlayer1")local player SVX=RQE(IAE,"pPlayer2")local player SEX=RQE(IAE,"pPlayer3")local player SXX=RQE(IAE,"pPlayer4")local player SOX=RQE(IAE,"pPlayer5")local integer SRX=R1E(IAE,"charges0")local integer SIX=R1E(IAE,"charges1")local integer SAX=R1E(IAE,"charges2")local integer SNX=R1E(IAE,"charges3")local integer SBX=R1E(IAE,"charges4")local integer SCX=R1E(IAE,"charges5")call DisableTrigger(R3V)if GetTriggerEvalCount(t)==1 thencall UnitAddAbility(QYX,Q1X)if XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifelseif Q2X>0 thenset ILV=CreateItem(Q2X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,Q8X,false)call SetItemUserData(ILV,1)endifif SRX>0 thencall SetItemCharges(ILV,SRX)endifif Q3X>0 thenset ILV=CreateItem(Q3X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,Q9X,false)call SetItemUserData(ILV,1)endifif SIX>0 thencall SetItemCharges(ILV,SIX)endifif Q4X>0 thenset ILV=CreateItem(Q4X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SVX,false)call SetItemUserData(ILV,1)endifif SAX>0 thencall SetItemCharges(ILV,SAX)endifif Q5X>0 thenset ILV=CreateItem(Q5X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SEX,false)call SetItemUserData(ILV,1)endifif SNX>0 thencall SetItemCharges(ILV,SNX)endifif Q6X>0 thenset ILV=CreateItem(Q6X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SXX,false)call SetItemUserData(ILV,1)endifif SBX>0 thencall SetItemCharges(ILV,SBX)endifif Q7X>0 thenset ILV=CreateItem(Q7X,GetUnitX(QYX),GetUnitY(QYX))call UnitAddItem(QYX,ILV)call SetItemPlayer(ILV,SOX,false)call SetItemUserData(ILV,1)endifif SCX>0 thencall SetItemCharges(ILV,SCX)endifif XT[GetPlayerId(GetOwningPlayer(QYX))]==false thencall UnitRemoveType(QYX,UNIT_TYPE_PEON)elsecall UnitAddType(QYX,UNIT_TYPE_PEON)endifcall SetUnitFlyHeight(QYX,$F0,0)call O1E(IAE)call IRE(t)endifcall EnableTrigger(R3V)set t=nullset QYX=nullset Q8X=nullset Q9X=nullset SVX=nullset SEX=nullset SXX=nullset SOX=nullreturn falseendfunctionfunction HLA takes unit QYX returns nothinglocal integer SFX=GetUnitTypeId(QYX)local real x=GetUnitX(QYX)local real y=GetUnitY(QYX)local item SGXlocal item SHXlocal item SJXlocal item SKXlocal item SLXlocal item SMXlocal player Q8Xlocal player Q9Xlocal player SVXlocal player SEXlocal player SXXlocal player SOXlocal integer Q2Xlocal integer Q3Xlocal integer Q4Xlocal integer Q5Xlocal integer Q6Xlocal integer Q7Xlocal integer SRX=-1local integer SIX=-1local integer SAX=-1local integer SNX=-1local integer SBX=-1local integer SCX=-1local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer Q1Xlocal item IOXlocal integer ilocal item HMAset i=0loopexitwhen i>5set HMA=UnitItemInSlot(QYX,i)if XGE(HMA)==GY thencall UnitRemoveItem(QYX,HMA)endifset i=i+1endloopset SGX=UnitItemInSlot(QYX,0)set SHX=UnitItemInSlot(QYX,1)set SJX=UnitItemInSlot(QYX,2)set SKX=UnitItemInSlot(QYX,3)set SLX=UnitItemInSlot(QYX,4)set SMX=UnitItemInSlot(QYX,5)set Q2X=GetItemTypeId(SGX)set Q3X=GetItemTypeId(SHX)set Q4X=GetItemTypeId(SJX)set Q5X=GetItemTypeId(SKX)set Q6X=GetItemTypeId(SLX)set Q7X=GetItemTypeId(SMX)set Q8X=GetItemPlayer(SGX)set Q9X=GetItemPlayer(SHX)set SVX=GetItemPlayer(SJX)set SEX=GetItemPlayer(SKX)set SXX=GetItemPlayer(SLX)set SOX=GetItemPlayer(SMX)set IOX=SGXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SRX=GetItemCharges(IOX)endifset IOX=SHXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SIX=GetItemCharges(IOX)endifset IOX=SJXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SAX=GetItemCharges(IOX)endifset IOX=SKXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SNX=GetItemCharges(IOX)endifset IOX=SLXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SBX=GetItemCharges(IOX)endifset IOX=SMXif GetItemType(IOX)==ITEM_TYPE_ARTIFACT or HMX(XGE(IOX))thenset SCX=GetItemCharges(IOX)endifcall XFE(SGX)call XFE(SHX)call XFE(SJX)call XFE(SKX)call XFE(SLX)call XFE(SMX)if B2E(GetOwningPlayer(QYX))thenset Q1X=1395667017elseset Q1X=1395667018endifif GetRandomInt(1,3)==1 thenset Q1X=1395667034endifcall RRE(IAE,"pPlayer0",Q8X)call RRE(IAE,"pPlayer1",Q9X)call RRE(IAE,"pPlayer2",SVX)call RRE(IAE,"pPlayer3",SEX)call RRE(IAE,"pPlayer4",SXX)call RRE(IAE,"pPlayer5",SOX)call O4E(IAE,"itemId0",Q2X)call O4E(IAE,"itemId1",Q3X)call O4E(IAE,"itemId2",Q4X)call O4E(IAE,"itemId3",Q5X)call O4E(IAE,"itemId4",Q6X)call O4E(IAE,"itemId5",Q7X)call O4E(IAE,"charges0",SRX)call O4E(IAE,"charges1",SIX)call O4E(IAE,"charges2",SAX)call O4E(IAE,"charges3",SNX)call O4E(IAE,"charges4",SBX)call O4E(IAE,"charges5",SCX)call O8E(IAE,"chicken",QYX)call O4E(IAE,"newability",Q1X)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function HKA))set t=nullset QYX=nullset SGX=nullset SHX=nullset SJX=nullset SKX=nullset SLX=nullset SMX=nullset Q8X=nullset Q9X=nullset SVX=nullset SEX=nullset SXX=nullset SOX=nullendfunctionfunction HPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(RME(H2E,"Source"))local item HQA=OAE(J6E,BU[XPV])if HQA==null thenset HQA=OAE(J6E,FU[XPV])endifif HQA!=null thencall RemoveItem(HQA)call HLA(J6E)elsecall HEE(GetOwningPlayer(J6E),GetObjectName(1848652369))endifcall O1E(H2E)call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction HSA takes unit J6E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call QQX(J6E)call TriggerRegisterTimerEvent(t,.05,false)call TriggerAddCondition(t,Condition(function HPA))call O8E(H2E,"Source",J6E)set t=nullendfunctionfunction HTA takes nothing returns booleanif GetSpellAbilityId()==1093683012 thencall HSA(GetTriggerUnit())endifreturn falseendfunctionfunction HUA takes nothing returns booleanlocal unit F2E=GetTriggerUnit()local item QJE=GetManipulatedItem()local integer id=GetItemTypeId(QJE)local integer iif(id==BU[J5]or id==BU[A7])and IsUnitType(F2E,UNIT_TYPE_HERO) thenset J_V[GetPlayerId(GetOwningPlayer(F2E))]=GetItemX(QJE)set J0V[GetPlayerId(GetOwningPlayer(F2E))]=GetItemY(QJE)endifcall FEA(F2E,QJE)call FXA(F2E,QJE)if(GetItemTypeId(QJE)==BU[ENV]or GetItemTypeId(QJE)==BU[EBV])and XDE(F2E)thencall UnitRemoveItem(F2E,QJE)elseif GetItemTypeId(QJE)==BU[EKV]and IsUnitType(F2E,UNIT_TYPE_HERO) thenset i=(LoadInteger(YX,(GetHandleId(F2E)),(750)))if i>0 thenif(LoadBoolean(YX,(GetHandleId(F2E)),(751)))==false thencall SaveBoolean(YX,(GetHandleId(F2E)),(751),(true))call SetItemCharges(QJE,i)endifendifelseif GetItemTypeId(QJE)==BU[VAV]and GetUnitTypeId(F2E)!=1848651852 and C7V==false thenset C6V=F2Eset C7V=truecall PGE("AegisOn",GetPlayerId(GetOwningPlayer(F2E)))call D2E(bj_FORCE_ALL_PLAYERS,10.,C[GetPlayerId(GetOwningPlayer(F2E))]+GetUnitName(F2E)+"|r "+GetObjectName(1848657233))elseif GetItemTypeId(QJE)==BU[XPV]and XBE(F2E)thencall HSA(F2E)elseif GetItemTypeId(QJE)==BU[RUV]and GetUnitTypeId(F2E)==1164799855 thencall SetPlayerTechResearched(GetOwningPlayer(F2E),1378889802,1)elseif GetItemTypeId(QJE)==BU[RZV]and GetUnitTypeId(F2E)==1211117641 thenset I9V=F2Ecall ExecuteFunc("DER")elseif GetItemTypeId(QJE)==BU[RSV]and GetUnitTypeId(F2E)==1432580716 thencall UnitAddAbility(F2E,1093815106)call UnitRemoveAbility(F2E,1093815106)call AddUnitAnimationProperties(F2E,"upgrade",true)call SetPlayerTechResearched(GetOwningPlayer(F2E),1378889803,1)endifset F2E=nullset QJE=nullreturn falseendfunctionfunction HWA takes nothing returns nothinglocal unit HYA=GetTriggerUnit()local item HZA=OAE(HYA,BU[XPV])if HZA==null thenset HZA=OAE(HYA,FU[XPV])endifif HZA!=null thencall XFE(HZA)call UnitRemoveAbility(HYA,1093686866)call UnitAddAbility(HYA,1093686869)call SetUnitState(HYA,UNIT_STATE_MANA,400)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",HYA,"origin"))elsecall HEE(GetOwningPlayer(HYA),(GetObjectName((1848652369))))endifset HYA=nullendfunctionfunction H_A takes nothing returns nothingif GetSpellAbilityId()==1093686866 thencall HWA()endifendfunctionfunction H0A takes nothing returns nothinglocal unit u=GetEnumUnit()local integer i=0local player p=GetOwningPlayer(GetTriggerUnit())local item IOXlocal integer id=GetPlayerId(p)loopexitwhen i>5set IOX=UnitItemInSlot(u,i)if IOX!=null and GetItemPlayer(IOX)==p thencall UnitRemoveItem(u,IOX)call SetItemPosition(IOX,N8V[id],N9V[id])endifset i=i+1endloopset u=nullset IOX=nullendfunctionfunction H1A takes nothing returns nothinglocal item IOX=GetEnumItem()local unit u=DSVlocal player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(IOX)>0 and GetItemPlayer(IOX)==p thencall SetItemPosition(IOX,N8V[id],N9V[id])call UnitAddItem(N7V[id],IOX)endifset IOX=nullset u=nullset p=nullendfunctionfunction H2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit u=RME(IAE,"u")set DSV=uif B2E(GetOwningPlayer(DSV))thencall EnumItemsInRect(ZA,Condition(function BUE),function H1A)elsecall EnumItemsInRect(BN,Condition(function BUE),function H1A)endifif GetTriggerEvalCount(t)==2 thencall O1E(IAE)call IRE(t)endifset t=nullset u=nullreturn falseendfunctionfunction H3A takes nothing returns booleanreturn XDE(GetFilterUnit())endfunctionfunction H4A takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local group g=FYE()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),$514,Condition(function H3A))call ForGroup(g,function H0A)call FWE(g)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function H2A))call O8E(IAE,"u",u)set u=nullset g=nullendfunctionfunction H5A takes nothing returns nothingif GetSpellAbilityId()==1093743684 thencall H4A()endifendfunctionfunction H6A takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local item IOXlocal integer id=GetPlayerId(GetOwningPlayer(u))local region r=CreateRegion()if B2E(GetOwningPlayer(u))thencall RegionAddRect(r,ZA)elsecall RegionAddRect(r,BN)endifloopexitwhen i>5set IOX=UnitItemInSlot(u,i)if FNE(XGE(IOX))==false and XGE(IOX)!=VAV and TCX(IOX)==false thencall UnitRemoveItemFromSlot(u,i)if(GetUnitTypeId(u)==1852010352 or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(IOX),GetOwningPlayer(u)) thenset id=GetPlayerId(GetItemPlayer(IOX))call SetItemPosition(IOX,N8V[id],N9V[id])endifendifset i=i+1endloopcall RemoveRegion(r)set u=nullset r=nullendfunctionfunction H7A takes nothing returns nothingif GetSpellAbilityId()==1093743416 or GetSpellAbilityId()==1093743683 thencall H6A()endifendfunctionfunction H8A takes nothing returns nothingif GetSpellAbilityId()==1093743191 and GetUnitAbilityLevel(GetTriggerUnit(),1114665832)>0 thencall UnitRemoveAbility(GetTriggerUnit(),1114665832)endifendfunctionfunction H9A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseif PNE(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and p3==false thenif IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),1093678162)==0 thencall DisableTrigger(t)set p3=truecall MNE(GetTriggerUnit(),GetEventDamageSource(),3,GetEventDamage())set p3=falsecall EnableTrigger(t)elsecall DisableTrigger(t)set p3=truecall MNE(GetTriggerUnit(),QV[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],3,GetEventDamage())set p3=falsecall EnableTrigger(t)endifendifendifset t=nullreturn falseendfunctionfunction JVA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function H9A))call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",p5,"chest"))set t=nullset p5=nullendfunctionfunction JEA takes nothing returns nothingif GetSpellAbilityId()==1093743959 thencall JVA()endifendfunctionfunction JXA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real a=R2E(IAE,"a")local real d=R2E(IAE,"d")local real x=HRE(GetUnitX(m5)+d/ $A*Cos(a*bj_DEGTORAD))local real y=HIE(GetUnitY(m5)+d/ $A*Sin(a*bj_DEGTORAD))if GetTriggerEvalCount(t)==$B or GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))if((LoadInteger(YX,(GetHandleId((m5))),((4306))))==1)==false and GetUnitAbilityLevel(m5,1110456406)==0 thencall JRE(x,y,$96)call SetUnitX(m5,x)call SetUnitY(m5,y)endifendifset m5=nullset t=nullreturn falseendfunctionfunction JOA takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local real xlocal real ylocal real dlocal real alocal integer i=-1local boolean JRA=falseif GetSpellTargetItem()!=null thenset m5=GetTriggerUnit()endifcall IBE(m5,"4414",3)set a=GetUnitFacing(m5)loopexitwhen JRA or i==23set i=i+1set x=HRE(GetUnitX(m5)+(600-i*25)*Cos(a*bj_DEGTORAD))set y=HIE(GetUnitY(m5)+(600-i*25)*Sin(a*bj_DEGTORAD))if(IsPointInRegion(ARV,((x)*1.),((y)*1.)))==false thenset JRA=trueendifendloopset d=E4E(x,y,GetUnitX(m5),GetUnitY(m5))call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JXA))call O8E(IAE,"Target",m5)call O5E(IAE,"a",(a)*1.)call O5E(IAE,"d",(d)*1.)set m5=nullset t=nullendfunctionfunction JIA takes nothing returns nothingif GetSpellAbilityId()==1093744973 and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 thenif IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) or R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false thencall JOA()endifendifendfunctionfunction JAA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or FHE(p5)or R8E(p5,"Teleporting")thencall UnitRemoveAbility(p5,1097167980)call O1E(IAE)call IRE(t)endifset p5=nullset t=nullreturn falseendfunctionfunction JNA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger tlocal integer H2Eif XDE(p5)==false thenset t=CreateTrigger()set H2E=GetHandleId(t)call UnitAddAbility(p5,1097167980)call UnitMakeAbilityPermanent(p5,true,1097167980)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1097167980,false)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JAA))call O8E(H2E,"Source",p5)endifset p5=nullset t=nullendfunctionfunction JBA takes nothing returns nothingif GetSpellAbilityId()==1093747011 and FHE(GetTriggerUnit())==false thencall JNA()endifendfunctionfunction JCA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real xlocal real yif B2E(GetOwningPlayer(p5))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifcall IssuePointOrderById(p5,$D0012,x,y)set p5=nullendfunctionfunction JDA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real xlocal real yif B2E(GetOwningPlayer(J6E))thenset x=-4533set y=$486elseset x=$C76set y=-35endifcall IssuePointOrderById(J6E,$D0012,x,y)set J6E=nullendfunctionfunction JFA takes nothing returns nothingif GetSpellAbilityId()==1093747027 thencall JCA()elseif GetSpellAbilityId()==1093815123 thencall JDA()endifendfunctionfunction JGA takes nothing returns nothingif R8E(GetEnumUnit(),"PipeOfInsightOn") thencall HEE(GetOwningPlayer(GetEnumUnit()),GetObjectName(1848652365))elseif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall IBE(GetEnumUnit(),"PipeOfInsightOn",50)endifif GetUnitAbilityLevel(GetEnumUnit(),1110458964)==0 and GetUnitAbilityLevel(GetEnumUnit(),1110458965)==0 thencall IssueTargetOrderById(Mw,$D00DA,GetEnumUnit())endifendifendfunctionfunction JHA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=FYE()set Mw=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)call UnitAddAbility(Mw,1093748054)call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function L2E))call ForGroup(g,function JGA)call FWE(g)set p5=nullset g=nullendfunctionfunction JJA takes nothing returns nothingif GetSpellAbilityId()==1093748055 thencall JHA()endifendfunctionfunction JKA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()call O7E(GetHandleId(FLE),"MantaBlocked",true)set FLE=nullendfunctionfunction JLA takes nothing returns nothingif(GetSpellAbilityId()==1093681720 or GetSpellAbilityId()==1093752645)and FUE(GetTriggerUnit()) thencall JKA()endifendfunctionfunction JMA takes integer id returns booleanreturn id==1969711215 or id==1970169187 or id==1702061422 or id==1701081721 or id==1966092337 or id==1966092338 or id==1697656918 or id==1697656919 or id==1700946284 or id==1697657398 or id==1970107511 or id==1966092370endfunctionfunction JPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseif GetUnitState(m5,UNIT_STATE_LIFE)>(150./8.+.5)thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-150./8.)elseset L8V[GetPlayerId(GetOwningPlayer(m5))]=trueset ZVV=truecall MNE(p5,m5,1,50)set L8V[GetPlayerId(GetOwningPlayer(m5))]=falseset ZVV=falseendifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction JQA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(JMA(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=SX or GetUnitTypeId(GetEventDamageSource())==1848651852)and GetEventDamage()>0)or L7V)thencall UnitRemoveAbility(m5,1110459207)call O1E(IAE)call IRE(t)endifset t=nullset m5=nullreturn falseendfunctionfunction JSA takes nothing returns nothinglocal trigger tlocal integer IAElocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit MIElocal integer i=0local boolean JTA=falselocal boolean JUA=falselocal integer DOXif m5==null thenset m5=GetTriggerUnit()endifset MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)loopexitwhen i>5 or JUAif XHE(UnitItemInSlot(p5,i))==ESV thenset DOX=GetItemCharges(UnitItemInSlot(p5,i))if DOX>0 thenset JTA=trueset DOX=DOX-1elseset JUA=trueset JTA=falseendifendifset i=i+1endloopif JTA thenset t=CreateTrigger()set IAE=GetHandleId(t)if IsUnitAlly(m5,GetOwningPlayer(p5)) thencall UnitAddAbility(MIE,1093750093)call IssueTargetOrderById(MIE,$D0281,m5)call O8E(IAE,"Target",m5)call TriggerRegisterTimerEvent(t,L3,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function JQA))elsecall O8E(IAE,"Target",m5)call O8E(IAE,"Source",p5)call O9E(IAE,"FX",AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",m5,"overhead"))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JPA))endifendifset p5=nullset MIE=nullset m5=nullset t=nullendfunctionfunction JWA takes nothing returns nothingif GetSpellAbilityId()==1093750095 thencall JSA()endifendfunctionfunction JYA takes nothing returns nothinglocal integer i=0loopexitwhen i>16set L8V[i]=falseset i=i+1endloopendfunctionfunction JZA takes nothing returns nothingif G9X(GetEnumUnit())==false thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093753432,false)call KNE(GetEnumUnit(),1093753432,1,P6V,1110459480)endifendfunctionfunction J_A takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer i=0local boolean J0A=falselocal boolean J1A=falselocal integer DOXlocal group gset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),925,Condition(function K_E))call ForGroup(g,function JZA)call FWE(g)set g=nullset J6E=nullendfunctionfunction J2A takes nothing returns nothingif GetSpellAbilityId()==1093753431 thencall J_A()endifendfunctionfunction J3A takes unit u returns booleanlocal integer CVE=GetUnitTypeId(u)return CVE==1211122232 or CVE==1848657482 or CVE==1848657481 or CVE==1848657462 or CVE==1848657480 or CVE==1966092371endfunctionfunction J4A takes nothing returns booleanreturn(IsUnitEnemy(GetFilterUnit(),P7V)and GME(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and J3A(GetFilterUnit())==false)!=nullendfunctionfunction J5A takes unit J6E returns booleanlocal group g=FYE()local boolean J0Aset P7V=GetOwningPlayer(J6E)call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$41A,Condition(function J4A))set J0A=FirstOfGroup(g)!=nullcall FWE(g)return J0Aendfunctionfunction J6A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group glocal integer DZXlocal boolean J7Aif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetAttacker()==J6E thencall UnitRemoveAbility(J6E,1093808204)call UnitRemoveAbility(J6E,1093808211)call UnitRemoveAbility(J6E,1110459698)call UnitRemoveAbility(J6E,1110456665)if((LoadInteger(YX,(GetHandleId((J6E))),((4302))))==1)==false thencall UnitSetUsesAltIcon(J6E,false)endifcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifelseset J7A=(LoadBoolean(YX,(H2E),(671)))set DZX=(LoadInteger(YX,(H2E),(34)))set DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))set g=FYE()set P7V=GetOwningPlayer(J6E)call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$41A,Condition(function J4A))if GetUnitAbilityLevel(J6E,1110456665)>0 thencall SaveBoolean(YX,(H2E),(671),(true))elseif J7A thencall SaveBoolean(YX,(H2E),(671),(false))call UnitRemoveAbility(J6E,1093808204)call GKE(J6E,1093808204)endifif DZX>400 or FirstOfGroup(g)!=null thencall UnitRemoveAbility(J6E,1093808204)call UnitRemoveAbility(J6E,1093808211)call UnitRemoveAbility(J6E,1110459698)call UnitRemoveAbility(J6E,1110456665)if((LoadInteger(YX,(GetHandleId((J6E))),((4302))))==1)==false thencall UnitSetUsesAltIcon(J6E,false)endifcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifcall FWE(g)endifset t=nullset J6E=nullset g=nullreturn falseendfunctionfunction J8A takes nothing returns nothinglocal unit J6E=GetEnumUnit()local trigger tlocal integer H2Eif B4E(GetOwningPlayer(J6E))and J5A(J6E)==false thenif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E))==false and FJE(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(J6E,true)endifcall GKE(J6E,1093808204)call UnitMakeAbilityPermanent(J6E,true,1093808204)if G9X(J6E)==false thencall GKE(J6E,1093808211)call UnitMakeAbilityPermanent(J6E,true,1093808211)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093808211,false)endifset t=CreateTrigger()set H2E=GetHandleId(t)call SaveInteger(YX,(H2E),(34),(0))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveBoolean(YX,(H2E),(671),(false))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",J6E,"chest")))call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function J6A))set t=nullendifset J6E=nullendfunctionfunction J9A takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$4C9,Condition(function KZE))call ForGroup(g,function J8A)call FWE(g)set J6E=nullset g=nullendfunctionfunction KVA takes nothing returns nothingif GetSpellAbilityId()==1093808182 thencall J9A()endifendfunctionfunction InitTrig_Smoke_of_Deceit takes nothing returns nothingcall SetAltMinimapIcon("war3mapImported\\black.blp")endfunctionfunction KEA takes nothing returns nothingif G9X(GetEnumUnit())==false thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810246,false)call KNE(GetEnumUnit(),1093810246,1,SPV,1110459729)endifendfunctionfunction KXA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call GroupEnumUnitsInRange(g,x,y,525,Condition(function LRE))call ForGroup(g,function KEA)call FWE(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))set J6E=nullset g=nullendfunctionfunction KOA takes nothing returns nothingif GetSpellAbilityId()==1093810244 thencall KXA()endifendfunctionfunction KRA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093815091)call IssueTargetOrderById(MIE,$D006B,F3E)set J6E=nullset F3E=nullset MIE=nullendfunctionfunction KIA takes nothing returns nothingif GetSpellAbilityId()==1093813569 and FUE(GetSpellTargetUnit())==false thencall KRA()endifendfunctionfunction KAA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer DZX=(LoadInteger(YX,(H2E),(34)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or DZX==$A or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED thenset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))call SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)+17)endifset t=nullset J6E=nullreturn falseendfunctionfunction KNA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function KAA))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(0))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",J6E,"origin")))set J6E=nullset t=nullendfunctionfunction KBA takes nothing returns nothingif GetSpellAbilityId()==1093815089 thencall KNA()endifendfunctionfunction KCA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=2if IsUnitType(F3E,UNIT_TYPE_MELEE_ATTACKER) thenset MAE=1endifcall UnitAddAbility(MIE,1093815093)call SetUnitAbilityLevel(MIE,1093815093,MAE)call IssueTargetOrderById(MIE,$D0269,F3E)set J6E=nullset F3E=nullset MIE=nullendfunctionfunction KDA takes nothing returns nothingif GetSpellAbilityId()==1093815092 and FUE(GetSpellTargetUnit())==false thencall KCA()endifendfunctionfunction KFA takes integer MAE,unit J6E,unit F3E returns nothingset ZVV=truecall MNE(J6E,F3E,1,300+100*MAE)set ZVV=falseendfunctionfunction KGA takes nothing returns nothinglocal integer KHA=0if GetSpellAbilityId()==1093677647 thenset KHA=1endifif GetSpellAbilityId()==1093679193 thenset KHA=2endifif GetSpellAbilityId()==1093679194 thenset KHA=3endifif GetSpellAbilityId()==1093679408 thenset KHA=4endifif GetSpellAbilityId()==1093679410 thenset KHA=5endifif KHA>0 and FUE(GetSpellTargetUnit())==false thencall KFA(KHA,GetTriggerUnit(),GetSpellTargetUnit())endifendfunctionfunction KJA takes nothing returns nothingif GetSpellAbilityId()==1093814353 thencall DBX(GetTriggerUnit(),GetSpellTargetUnit())endifendfunctionfunction KKA takes unit J6E,integer DAE,real x,real y returns nothinglocal unit KLA=CreateUnit(GetOwningPlayer(J6E),DAE,x,y,0)call UnitApplyTimedLife(KLA,1112820806,$F)set KLA=nullendfunctionfunction KMA takes nothing returns nothinglocal unit KLAlocal real xlocal real yif GetSpellAbilityId()==1093753420 thenset x=GetDestructableX(GetSpellTargetDestructable())set y=GetDestructableY(GetSpellTargetDestructable())call KKA(GetTriggerUnit(),1848659021,x,y)elseif GetSpellAbilityId()==1093753421 thenset x=GetDestructableX(GetSpellTargetDestructable())set y=GetDestructableY(GetSpellTargetDestructable())call KKA(GetTriggerUnit(),1848659022,x,y)endifset KLA=nullendfunctionfunction KPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))call UnitRemoveAbility(J6E,1093753418)call UnitRemoveAbility(F3E,1093753418)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction KQA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,7,false)call TriggerAddCondition(t,Condition(function KPA))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))call SaveUnitHandle(YX,(H2E),(17),(GetSpellTargetUnit()))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))call UnitAddAbility(GetTriggerUnit(),1093753418)call UnitAddAbility(GetSpellTargetUnit(),1093753418)call UnitMakeAbilityPermanent(GetTriggerUnit(),true,1093753418)call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,1093753418)set t=nullendfunctionfunction KSA takes nothing returns nothingif GetSpellAbilityId()==1093753417 and FUE(GetSpellTargetUnit())==false thencall KQA()endifendfunctionfunction KTA takes nothing returns nothinglocal unit V_E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIEif GetSpellTargetUnit()==null thenif GetSpellAbilityId()==1095331948 thenset MIE=CreateUnit(GetOwningPlayer(V_E),1697656901,GetUnitX(V_E),GetUnitY(V_E),0)call UnitAddAbility(MIE,1093752641)call IssueTargetOrderById(MIE,$D0281,V_E)set MIE=nullelseif GetSpellAbilityId()==1095331954 thenset MIE=CreateUnit(GetOwningPlayer(V_E),1697656901,GetUnitX(V_E),GetUnitY(V_E),0)call UnitAddAbility(MIE,1095331954)call IssueTargetOrderById(MIE,$D0281,V_E)set MIE=nullendifendifset V_E=nullset F3E=nullendfunctionfunction KUA takes nothing returns nothingif GetSpellAbilityId()==1095331948 or GetSpellAbilityId()==1095331954 thencall KTA()endifendfunctionfunction KWA takes integer MAE returns integerif MAE==1 thenreturn 25elseif MAE==2 thenreturn 41elseif MAE==3 thenreturn 62elseif MAE==4 thenreturn 88elseif MAE==5 thenreturn 119elseif MAE==6 thenreturn $9Bendifreturn 25endfunctionfunction KYA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(34)))if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==J6E)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(F3E,1110459731)>0)thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(F3E),GetUnitY(F3E)))call AddHeroXP(J6E,R2I(KWA(MAE)*2.5),true)call J_E(GetOwningPlayer(J6E),F3E,$BE)set LDV[GetPlayerId(GetOwningPlayer(J6E))]=LDV[GetPlayerId(GetOwningPlayer(J6E))]+$BEcall FlushChildHashtable(YX,(H2E))call IRE(t)call KillUnit(F3E)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction KZA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitLevel(F3E)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(34),(MAE))call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function KYA))set t=nullset J6E=nullset F3E=nullendfunctionfunction K_A takes nothing returns nothingif GetSpellAbilityId()==1093810265 thencall KZA()endifendfunctionfunction K0A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer FIE=GetHandleId(t)local unit KGE=(LoadUnitHandle(YX,(FIE),(2)))local real K1A=(LoadReal(YX,(FIE),($F2)))local real K2A=(LoadReal(YX,(FIE),(529)))local real K3A=(LoadReal(YX,(FIE),(530)))local real K4A=GetUnitState(KGE,UNIT_STATE_MANA)local real K5A=GetUnitState(KGE,UNIT_STATE_MAX_MANA)local real K6A=K1A-K4Aif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(FIE))call IRE(t)elseif GetTriggerEvalCount(t)==20*$A thencall FlushChildHashtable(YX,(FIE))call IRE(t)if K2A<$96 thencall SetUnitState(KGE,UNIT_STATE_MANA,K4A-($96-K2A-K3A))endifelseif K6A>0 thenset K2A=K2A+(K1A-K4A)if K3A>0 thenif K6A>K3A thencall SetUnitState(KGE,UNIT_STATE_MANA,K4A+K3A)set K3A=0elseif K3A>(K5A-K4A)thenset K3A=K3A-(K5A-K4A)call SetUnitState(KGE,UNIT_STATE_MANA,K4A+K5A-K4A)elseset K3A=K3A-K6Acall SetUnitState(KGE,UNIT_STATE_MANA,K4A+K6A)endifendifendifendifset K1A=K4Acall SaveReal(YX,(FIE),($F2),((K1A)*1.))call SaveReal(YX,(FIE),(529),((K2A)*1.))call SaveReal(YX,(FIE),(530),((K3A)*1.))endifset t=nullset KGE=nullreturn falseendfunctionfunction K7A takes nothing returns nothinglocal unit KGE=GetTriggerUnit()local real G6R=GetUnitState(KGE,UNIT_STATE_LIFE)local trigger t=CreateTrigger()local integer FIE=GetHandleId(t)local real K4A=GetUnitState(KGE,UNIT_STATE_MANA)if G6R>$97 thencall SetUnitState(KGE,UNIT_STATE_LIFE,G6R-$96)elsecall SetUnitState(KGE,UNIT_STATE_LIFE,1)endifcall H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",KGE,"origin",2)call SetUnitState(KGE,UNIT_STATE_MANA,K4A+$96)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,KGE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function K0A))call SaveUnitHandle(YX,(FIE),(2),(KGE))call SaveReal(YX,(FIE),($F2),((GetUnitState(KGE,UNIT_STATE_MANA))*1.))call SaveReal(YX,(FIE),(529),((0)*1.))if(K4A+$96)>GetUnitState(KGE,UNIT_STATE_MAX_MANA)thencall SaveReal(YX,(FIE),(530),(((K4A+$96)-GetUnitState(KGE,UNIT_STATE_MAX_MANA))*1.))endifset KGE=nullendfunctionfunction K8A takes nothing returns nothingif GetSpellAbilityId()==1093751096 thencall K7A()endifendfunctionfunction K9A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(J6E,1093751107)call UnitRemoveAbility(J6E,1110459225)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset J6E=nullset t=nullreturn falseendfunctionfunction LVA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(YX,(GetHandleId((J6E))),((4256))))==1)thencall UnitRemoveAbility(J6E,1097167980)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset J6E=nullset t=nullreturn falseendfunctionfunction LEA takes unit u returns nothinglocal unit J6E=ulocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call UnitAddAbility(J6E,1097167980)call UnitMakeAbilityPermanent(J6E,true,1097167980)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1097167980,false)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function LVA))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction LXA takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal real ODR=(LoadReal(YX,(H2E),(20)))local trigger tif J6E!=F3E thenset t=CreateTrigger()set H2E=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093751107,false)call UnitAddAbility(F3E,1093751107)call UnitMakeAbilityPermanent(F3E,true,1093751107)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function K9A))call SaveUnitHandle(YX,(H2E),(2),(F3E))call LEA(F3E)call H7E("+"+I2S(R2I(ODR)),2,F3E,.027,3,$D8,120,$D8)set ZVV=truecall MNE(J6E,F3E,1,ODR)set ZVV=falseendifcall LEA(J6E)set J6E=nullset F3E=nullendfunctionfunction LOA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t2=JLE(J6E,F3E,1747993171,"LXA",$3E8)local integer LRA=GetHandleId(t2)call SaveReal(YX,(LRA),(20),((GetHeroAgi(J6E,true)*2.+75)*1.))set J6E=nullset F3E=nullset t2=nullendfunctionfunction LIA takes nothing returns nothingif GetSpellAbilityId()==1093751108 and(GetSpellTargetUnit()==GetTriggerUnit()or FUE(GetSpellTargetUnit())==false)thencall LOA()endifendfunctionfunction LAA takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+$87)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))endfunctionfunction LNA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group g=FYE()set I9V=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),25+600,Condition(function LCE))call ForGroup(g,function LAA)call FWE(g)call FlushChildHashtable(YX,(H2E))call IRE(t)set g=nullset J6E=nullset t=nullreturn falseendfunctionfunction LBA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group glocal trigger tif GetSpellAbilityId()==1093684023 thenif GetUnitTypeId(J6E)!=1211117642 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function LNA))call SaveUnitHandle(YX,(GetHandleId(t)),(2),(J6E))set t=nullelsecall SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MANA)+25)endifendifset J6E=nullset g=nullset t=nullendfunctionfunction LCA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIEif GetSpellAbilityId()==1093751863 and(FUE(GetSpellTargetUnit())==false or IsPlayerAlly(GetOwningPlayer(J6E),GetOwningPlayer(F3E)))thenif GetSpellTargetItem()!=null thenset F3E=GetTriggerUnit()endifset MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1095328633)call IssueTargetOrderById(MIE,$D00B0,F3E)endifset J6E=nullset F3E=nullset MIE=nullendfunctionfunction LDA takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())==1697656901 thenreturn falseendifcall S1X()call Q_X()call SQX()call GGA()call HXA()call HNA()call HBA()call HHA()call SUX()call AOA()call HJA()call V9A()call QLX()call ENA()call H_A()call EMA()call ECA()call H7A()call H5A()call C6A()call H8A()call JEA()call JIA()call JBA()call JFA()call HTA()call JJA()call JLA()call JWA()call K8A()call LIA()call LCA()call LBA()call K_A()call KUA()call KSA()call KMA()call J2A()call KVA()call KOA()call KIA()call KJA()call KGA()call KBA()call KDA()if GetSpellAbilityId()==1093815095 and FUE(GetSpellTargetUnit())==false thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))endifreturn falseendfunctionfunction LFA takes nothing returns booleancall F0A()call F1A()call F5A()call GVA()call S7X()call GRA()call GIA()call GAA()call GNA()call GCA()return falseendfunctionfunction LGA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit LHA=RME(IAE,"Caster")local unit m5=RME(IAE,"Target")local effect FX=RWE(IAE,"FX")local player p=GetOwningPlayer(FLE)call UnitShareVision(m5,p,false)call DestroyEffect(FX)call RemoveUnit(LHA)call UnitRemoveAbility(m5,1110455880)call O1E(IAE)call IRE(t)set t=nullset FLE=nullset LHA=nullset m5=nullset FX=nullset p=nullreturn falseendfunctionfunction LJA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local player p=GetOwningPlayer(FLE)local unit LHAlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local string s="effects\\Snipe Target.mdx"if IsPlayerAlly(GetLocalPlayer(),p)==false and FJE(GetLocalPlayer())==false thenset s=""endifcall UnitShareVision(m5,p,true)set LHA=CreateUnit(GetOwningPlayer(m5),1697657170,0,0,0)call GKE(LHA,1093684809)call O8E(IAE,"Target",m5)call O8E(IAE,"Hero",FLE)call O8E(IAE,"Caster",LHA)call O9E(IAE,"FX",AddSpecialEffectTarget(s,m5,"overhead"))call TriggerRegisterTimerEvent(t,4,false)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function LGA))set t=nullset FLE=nullset m5=nullset LHA=nullset p=nullendfunctionfunction LKA takes nothing returns booleanif GetSpellAbilityId()==1093678160 thencall LJA()endifreturn falseendfunctionfunction UAE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function LKA))set t=nullendfunctionfunction LLA takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(AVV)) thenset d=E4E(I7V,I8V,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<I6V thenset I6V=dset I9V=GetFilterUnit()endifendifreturn falseendfunctionfunction LMA takes unit LPA,real x,real y returns unitlocal group g=FYE()set I9V=nullset AVV=LPAset I6V=99999set I7V=xset I8V=ycall GroupEnumUnitsInRange(g,x,y,$7D0,Condition(function LLA))call FWE(g)set g=nullreturn I9Vendfunctionfunction LQA takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and GME(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(AVV)) thenset d=E4E(I7V,I8V,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<I6V thenset I6V=dset I9V=GetFilterUnit()endifendifreturn falseendfunctionfunction LSA takes unit LPA,real x,real y returns unitlocal group g=FYE()set I9V=nullset AVV=LPAset I6V=99999set I7V=xset I8V=ycall GroupEnumUnitsInRange(g,x,y,$7D0,Condition(function LQA))call FWE(g)set g=nullreturn I9Vendfunctionfunction LTA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location llocal real xlocal real ylocal unit m5=GetSpellTargetUnit()if m5==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)if GetSpellAbilityId()==1093682008 thenset m5=LMA(FLE,x,y)elseset m5=LSA(FLE,x,y)endifset x=GetUnitX(m5)set y=GetUnitY(m5)elseset x=GetUnitX(GetSpellTargetUnit())set y=GetUnitY(GetSpellTargetUnit())endifif(IsUnitAlly(FLE,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(FLE))or(XR and(GetLocalPlayer()==BVV or GetLocalPlayer()==BEV))thencall PingMinimapEx(x,y,3,$FF,$FF,$FF,false)endifset FLE=nullset l=nullendfunctionfunction LUA takes nothing returns booleanif GetSpellAbilityId()==1093682008 or GetSpellAbilityId()==1095331188 thencall LTA()endifreturn falseendfunctionfunction LWA takes unit LYA returns nothinglocal group g=FYE()local real x=GetUnitX(LYA)local real y=GetUnitY(LYA)local unit LZAlocal unit L_A=CreateUnit(GetOwningPlayer(LYA),1697656901,x,y,0)local integer L0A=GetUnitAbilityLevel(LYA,1093687860)set I9V=LYAcall GroupEnumUnitsInRange(g,x,y,300,Condition(function LJE))set LZA=GroupPickRandomUnit(g)call FWE(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",LYA,"origin"))if LZA!=null thencall GKE(L_A,1093687863)call SetUnitAbilityLevel(L_A,1093687863,L0A)call IssueTargetOrderById(L_A,$D007F,LZA)endifset g=nullset LZA=nullset L_A=nullendfunctionfunction L1A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer L2A=GetHandleId(t)local integer L3A=GetTriggerEvalCount(t)local unit L4A=RME(L2A,"Hero")if L3A>$E or GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(L2A)call IRE(t)elsecall LWA(L4A)endifset t=nullset L4A=nullreturn falseendfunctionfunction L5A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer L2A=GetHandleId(t)local unit L4A=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.75,true)call TriggerRegisterUnitEvent(t,L4A,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function L1A))call O8E(L2A,"Hero",L4A)call TriggerEvaluate(t)set t=nullset L4A=nullendfunctionfunction L6A takes nothing returns booleanif GetSpellAbilityId()==1093687860 thencall L5A()endifreturn falseendfunctionfunction EUX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L6A))set t=nullendfunctionfunction L7A takes real s,real L8A,real L9A,real MVA returns booleanreturn s<=L8A and s<=L9A and s<=MVAendfunctionfunction MEA takes unit u,real x,real y,real d returns reallocal real x2=GetUnitX(u)local real y2=GetUnitY(u)local real MXA=E4E(x-d,y,x2,y2)local real MOA=E4E(x+d,y,x2,y2)local real MRA=E4E(x,y+d,x2,y2)local real MIA=E4E(x,y-d,x2,y2)if L7A(MXA,MOA,MIA,MRA)thenreturn 180.elseif L7A(MOA,MXA,MIA,MRA)thenreturn .0elseif L7A(MIA,MOA,MXA,MRA)thenreturn 270.endifreturn 90.endfunctionfunction MAA takes real s,real L8A,real L9A,real MVA,real MNA,real MBA,real MCA,real MDA returns booleanreturn s<=L8A and s<=L9A and s<=MVA and s<=MNA and s<=MBA and s<=MCA and s<=MDAendfunctionfunction MFA takes unit u,integer IAE returns unitlocal real x1=GetUnitX(u)local real y1=GetUnitY(u)local unit MGA=RME(IAE,"Cog1")local unit MHA=RME(IAE,"Cog2")local unit MJA=RME(IAE,"Cog3")local unit MKA=RME(IAE,"Cog4")local unit MLA=RME(IAE,"Cog5")local unit MMA=RME(IAE,"Cog6")local unit MPA=RME(IAE,"Cog7")local unit MQA=RME(IAE,"Cog8")local real L8A=E4E(x1,y1,GetUnitX(MGA),GetUnitY(MGA))local real L9A=E4E(x1,y1,GetUnitX(MHA),GetUnitY(MHA))local real MVA=E4E(x1,y1,GetUnitX(MJA),GetUnitY(MJA))local real MNA=E4E(x1,y1,GetUnitX(MKA),GetUnitY(MKA))local real MBA=E4E(x1,y1,GetUnitX(MLA),GetUnitY(MLA))local real MCA=E4E(x1,y1,GetUnitX(MMA),GetUnitY(MMA))local real MDA=E4E(x1,y1,GetUnitX(MPA),GetUnitY(MPA))local real MSA=E4E(x1,y1,GetUnitX(MQA),GetUnitY(MQA))if MAA(L8A,L9A,MVA,MNA,MBA,MCA,MDA,MSA)thenreturn MGAelseif MAA(L9A,L8A,MVA,MNA,MBA,MCA,MDA,MSA)thenreturn MHAelseif MAA(MVA,L9A,L8A,MNA,MBA,MCA,MDA,MSA)thenreturn MJAelseif MAA(MNA,L9A,MVA,L8A,MBA,MCA,MDA,MSA)thenreturn MKAelseif MAA(MBA,L9A,MVA,MNA,L8A,MCA,MDA,MSA)thenreturn MLAelseif MAA(MCA,L9A,MVA,MNA,MBA,L8A,MDA,MSA)thenreturn MMAelseif MAA(MDA,L9A,MVA,MNA,MBA,MCA,L8A,MSA)thenreturn MPAelseif MAA(MSA,L9A,MVA,MNA,MBA,MCA,MDA,L8A)thenreturn MQAendifcall VYE("WTF????")return nullendfunctionfunction MTA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real MUA=R2E(IAE,"Angle")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real OSA=$Clocal unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local integer MWA=30+30*DDEif GetTriggerEvalCount(t)>21 thencall O1E(IAE)call IRE(t)call IXE(m5,"PowerCogShocked")call MNE(p5,m5,1,I2R(MWA))call SetUnitState(m5,UNIT_STATE_MANA,HTE(GetUnitState(m5,UNIT_STATE_MANA)-MWA,0))elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))call JRE(x,y,$96)if R8E(m5,"TimeWalk|Active")==false thencall SetUnitPosition(m5,x+OSA*Cos(MUA*bj_DEGTORAD),y+OSA*Sin(MUA*bj_DEGTORAD))endifendifset t=nullset m5=nullreturn falseendfunctionfunction MYA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit m5=GetEnumUnit()local real x=I6Vlocal real y=I7Vlocal real d=I8Vlocal real MUA=MEA(m5,x,y,d)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",m5,"chest"))call IVE(m5,"PowerCogShocked")call O8E(IAE,"Target",m5)call O5E(IAE,"Angle",MUA*1.)call O4E(IAE,"Level",I5V)call O8E(IAE,"Source",I9V)call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function MTA))set t=nullset m5=nullendfunctionfunction MZA takes unit u,integer IAE returns booleanlocal unit M_A=MFA(u,IAE)local boolean M0A=trueif GME(M_A)or R1E(GetHandleId(M_A),"PowerCogUsed")==1 thenset M0A=falseendifcall O4E(GetHandleId(M_A),"PowerCogUsed",1)call SetUnitVertexColor(M_A,25,25,25,$AF)set M_A=nullreturn M0Aendfunctionfunction M1A takes nothing returns nothingif GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),AEV)==false and R8E(GetEnumUnit(),"PowerCogShocked")==false and MZA(GetEnumUnit(),tl)thencall IVE(GetEnumUnit(),"PowerCogShocked")call GroupAddUnit(aL,GetEnumUnit())endifendfunctionfunction M2A takes trigger t,unit FLE,real x,real y,real d,integer DDE returns nothinglocal integer IAE=GetHandleId(t)local real M3A=$C8local rect r1=Rect(x-d,y-d,x+d,y+d)local rect r2=Rect(x-d-M3A,y-d-M3A,x+d+M3A,y+d+M3A)local group g1=FYE()local group g2=FYE()local group g3=FYE()set I9V=FLEcall GroupEnumUnitsInRect(g1,r1,Condition(function K3E))call GroupEnumUnitsInRect(g2,r2,Condition(function K3E))set AEV=g1set aL=g3set I6V=xset I7V=yset I8V=dset tl=IAEcall ForGroup(g2,function M1A)set I5V=DDEcall ForGroup(g3,function MYA)call FWE(g1)call FWE(g2)call FWE(g3)call RemoveRect(r1)call RemoveRect(r2)set g1=nullset g2=nullset g3=nullset r1=nullset r2=nullendfunctionfunction M4A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local player p=RQE(IAE,"p")local boolean M5A=R3E(IAE,"NeedFix")call O1E(IAE)call IRE(t)if M5A thencall JBE(p,.2,x,y,500)endifset t=nullset p=nullreturn falseendfunctionfunction M6A takes unit M_A returns nothinglocal real x=GetUnitX(M_A)local real y=GetUnitY(M_A)local player p=GetOwningPlayer(M_A)local unit oA=CreateUnit(p,1966092375,x,y,0)call KillUnit(oA)set p=nullset oA=nullendfunctionfunction M7A takes integer IAE,real x,real y,boolean M5A,player p returns nothinglocal unit MGA=RME(IAE,"Cog1")local unit MHA=RME(IAE,"Cog2")local unit MJA=RME(IAE,"Cog3")local unit MKA=RME(IAE,"Cog4")local unit MLA=RME(IAE,"Cog5")local unit MMA=RME(IAE,"Cog6")local unit MPA=RME(IAE,"Cog7")local unit MQA=RME(IAE,"Cog8")local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.1,false)call TriggerAddCondition(t,Condition(function M4A))call O5E(GetHandleId(t),"x",x*1.)call O5E(GetHandleId(t),"y",y*1.)call RRE(GetHandleId(t),"p",p)call O7E(GetHandleId(t),"NeedFix",M5A)call M6A(MGA)call RemoveUnit(MGA)call M6A(MHA)call RemoveUnit(MHA)call M6A(MJA)call RemoveUnit(MJA)call M6A(MKA)call RemoveUnit(MKA)call M6A(MLA)call RemoveUnit(MLA)call M6A(MMA)call RemoveUnit(MMA)call M6A(MPA)call RemoveUnit(MPA)call M6A(MQA)call RemoveUnit(MQA)set MGA=nullset MHA=nullset MJA=nullset MKA=nullset MLA=nullset MMA=nullset MPA=nullset MQA=nullendfunctionfunction M8A takes unit M_A,integer IAE,integer M9A,player p returns nothingif IsUnitVisible(M_A,p)thencall O7E(IAE,"NeedFix",true)endifcall O8E(IAE,"Cog"+I2S(M9A),M_A)endfunctionfunction PVA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real Hk=R2E(IAE,"Duration")local integer M4R=GetTriggerEvalCount(t)if M4R>R2I(Hk*$A)thencall M7A(IAE,R2E(IAE,"x"),R2E(IAE,"y"),R3E(IAE,"NeedFix"),RQE(IAE,"Enemy"))call O1E(IAE)call IRE(t)elsecall M2A(t,RME(IAE,"Hero"),R2E(IAE,"x"),R2E(IAE,"y"),R2E(IAE,"d"),R1E(IAE,"Level"))endifset t=nullreturn falseendfunctionfunction PEA takes nothing returns nothingcall SetUnitX(GetEnumUnit(),GetUnitX(I9V))call SetUnitY(GetEnumUnit(),GetUnitY(I9V))endfunctionfunction PXA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local integer DDE=GetUnitAbilityLevel(FLE,1093687861)local integer ID=1966092371local real x1=GetUnitX(FLE)local real y1=GetUnitY(FLE)local real x2local real y2local real d=125local unit M_Alocal real Hk=2+DDElocal real BufferDuration=5local group glocal rect POAlocal player PRAif B2E(GetOwningPlayer(FLE))thenset PRA=GX[0]elseset PRA=RX[0]endifcall O1E(IAE)call IRE(t)set t=CreateTrigger()set IAE=GetHandleId(t)call O7E(IAE,"NeedFix",false)set x2=x1+dset y2=y1set M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,1,PRA)if B6E(GetOwningPlayer(FLE))thencall O8E(GetHandleId(FLE),"AI|Cog1",M_A)endifset x2=x1+dset y2=y1+dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,2,PRA)set x2=x1set y2=y1+dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,3,PRA)if B6E(GetOwningPlayer(FLE))thencall O8E(GetHandleId(FLE),"AI|Cog2",M_A)endifset x2=x1-dset y2=y1+dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,4,PRA)set x2=x1-dset y2=y1set M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,5,PRA)if B6E(GetOwningPlayer(FLE))thencall O8E(GetHandleId(FLE),"AI|Cog3",M_A)endifset x2=x1-dset y2=y1-dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,6,PRA)set x2=x1set y2=y1-dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,7,PRA)if B6E(GetOwningPlayer(FLE))thencall O8E(GetHandleId(FLE),"AI|Cog4",M_A)endifset x2=x1+dset y2=y1-dset M_A=CreateUnit(GetOwningPlayer(FLE),ID,x2,y2,0)call SetUnitPosition(M_A,x2,y2)call M8A(M_A,IAE,8,PRA)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function PVA))call O5E(IAE,"Duration",Hk*1.)call O5E(IAE,"x",x1*1.)call O5E(IAE,"y",y1*1.)call O5E(IAE,"d",d*1.)call O8E(IAE,"Hero",FLE)call O4E(IAE,"Level",DDE)call RRE(IAE,"Enemy",PRA)set d=d+110set g=FYE()set POA=Rect(x1-d,y1-d,x1+d,y1+d)set I9V=FLEcall GroupEnumUnitsInRect(g,POA,Condition(function LPE))call ForGroup(g,function PEA)call FWE(g)set t=nullset g=nullset FLE=nullset M_A=nullset POA=nullset PRA=nullreturn falseendfunctionfunction PIA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.1,false)call TriggerAddCondition(t,Condition(function PXA))call O8E(IAE,"Hero",FLE)set t=nullset FLE=nullendfunctionfunction PAA takes nothing returns booleanif GetSpellAbilityId()==1093687861 thencall PIA()endifreturn falseendfunctionfunction EWX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PAA))set t=nullendfunctionfunction PNA takes nothing returns nothingif XDE(GetEnumUnit())==false thencall MNE(I9V,GetEnumUnit(),1,I6V)endifendfunctionfunction PBA takes unit PCA,real x,real y returns nothinglocal real x1local real y1local group g=FYE()local integer PDA=GetUnitAbilityLevel(PCA,1093687862)local real PFA=40+40*PDAset I9V=PCAset I6V=PFAcall GroupEnumUnitsInRange(g,x,y,600,Condition(function K3E))call ForGroup(g,function PNA)call FWE(g)set x1=xset y1=ycall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x+$C8set y1=y+$C8call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x+$C8set y1=y-$C8call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x-$C8set y1=y+$C8call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x-$C8set y1=y-$C8call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))call JBE(GetOwningPlayer(PCA),$A,x,y,600)set g=nullendfunctionfunction PGA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit hnlocal unit PHA=RME(IAE,"Projectile")local real PJA=R2E(IAE,"TargetX")local real PKA=R2E(IAE,"TargetY")local real PLA=R2E(IAE,"Angle")local real PMA=R2E(IAE,"SourceX")local real PPA=R2E(IAE,"SourceY")local real PQA=HRE(PMA+30*Cos(PLA))local real PSA=HIE(PPA+30*Sin(PLA))call SetUnitX(PHA,PQA)call SetUnitY(PHA,PSA)call O5E(IAE,"SourceX",PQA)call O5E(IAE,"SourceY",PSA)if E4E(PJA,PKA,PQA,PSA)<=35 thencall KillUnit(PHA)set hn=RME(IAE,"Hero")call PBA(hn,PQA,PSA)call O1E(IAE)call IRE(t)endifset t=nullset hn=nullset PHA=nullreturn falseendfunctionfunction PTA takes nothing returns nothinglocal unit hn=GetTriggerUnit()local real PMA=HRE(GetUnitX(hn))local real PPA=HIE(GetUnitY(hn))local location PUA=GetSpellTargetLoc()local real PJA=HRE(GetLocationX(PUA))local real PKA=HIE(GetLocationY(PUA))local real PLA=Atan2(PKA-PPA,PJA-PMA)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit PHA=CreateUnit(GetOwningPlayer(hn),1747989337,PMA,PPA,PLA*bj_RADTODEG)call RemoveLocation(PUA)call SetUnitFacing(PHA,PLA*bj_RADTODEG)call SetUnitPathing(PHA,false)call GKE(PHA,1097625443)call ShowUnit(PHA,false)call UnitRemoveAbility(PHA,1097625443)call ShowUnit(PHA,true)call O5E(IAE,"OriginalX",PMA)call O5E(IAE,"OriginalY",PPA)call O5E(IAE,"SourceX",PMA)call O5E(IAE,"SourceY",PPA)call O5E(IAE,"TargetX",PJA)call O5E(IAE,"TargetY",PKA)call O5E(IAE,"Angle",PLA)call O8E(IAE,"Hero",hn)call O8E(IAE,"Projectile",PHA)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function PGA))set hn=nullset PUA=nullset t=nullset PHA=nullendfunctionfunction PWA takes nothing returns booleanif GetSpellAbilityId()==1093687862 thencall PTA()endifreturn falseendfunctionfunction EYX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PWA))set t=nullendfunctionfunction PYA takes unit p5,unit m5 returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)local integer DDE=GetUnitAbilityLevel(p5,1093687864)if DDE==0 thenset DDE=GetUnitAbilityLevel(p5,1093747542)endifcall GKE(MIE,1093687865)call SetUnitAbilityLevel(MIE,1093687865,DDE)call IssueTargetOrderById(MIE,$D007F,m5)set MIE=nullendfunctionfunction PZA takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false thencall GroupAddUnit(AEV,GetEnumUnit())call PYA(I9V,GetEnumUnit())endifendfunctionfunction P_A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit m5=RME(IAE,"Target")local integer P0A=R1E(IAE,"MaxLinks")local integer CGX=GetTriggerEvalCount(t)local unit P1Alocal group P2A=RUE(IAE,"AlreadyAdded")local group glocal real P3A=$C8if m5==null thenset P1A=RME(IAE,"P4A"+I2S(P0A+1-CGX))call RemoveUnit(P1A)elseset P1A=RME(IAE,"P4A"+I2S(CGX))call SetUnitX(FLE,GetUnitX(P1A))call SetUnitY(FLE,GetUnitY(P1A))call RemoveUnit(P1A)if CGX==P0A thenset P3A=$E1endifset g=FYE()set I9V=FLEset AEV=P2Acall GroupEnumUnitsInRange(g,GetUnitX(FLE),GetUnitY(FLE),P3A,Condition(function K3E))call ForGroup(g,function PZA)call FWE(g)endifif CGX==P0A thenif m5!=null thencall PauseUnit(m5,false)endifcall JRE(GetUnitX(FLE),GetUnitY(FLE),100)call FWE(P2A)call O1E(IAE)call IRE(t)endifset t=nullset FLE=nullset m5=nullset P1A=nullset P2A=nullset g=nullreturn falseendfunctionfunction P5A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real l4=R2E(IAE,"Angle")local integer E0R=R1E(IAE,"MaxCount")local integer CGX=GetTriggerEvalCount(t)local real x=GetUnitX(FLE)+CGX*50*Cos(l4*bj_DEGTORAD)local real y=GetUnitY(FLE)+CGX*50*Sin(l4*bj_DEGTORAD)local boolean P6O=R3E(IAE,"Scepter")local unit P6Alocal trigger P7A=RTE(IAE,"Retract")local integer LMR=GetHandleId(P7A)local group g=FYE()local unit m5local integer ID=1966092374local real P3A=125if CGX==1 thenset P3A=100endifset I9V=FLEcall GroupEnumUnitsInRange(g,x,y,P3A,Condition(function LXE))call GroupRemoveUnit(g,FLE)set m5=GroupPickRandomUnit(g)call FWE(g)if m5!=null or CGX==E0R or CGX==(E0R-1)or CGX==(E0R-2)thenset ID=1966092373endifset P6A=CreateUnit(GetOwningPlayer(FLE),ID,x,y,l4)call O8E(LMR,"P4A"+I2S(CGX),P6A)if m5!=null thenif(IsUnitAlly(m5,GetOwningPlayer(FLE)) and P6O==false)or GetOwningPlayer(m5)==SX or R8E(m5,"Frozen") thenset m5=nullendifcall O1E(IAE)call IRE(t)if m5!=null and IsUnitAlly(m5,GetOwningPlayer(FLE))==false thencall PauseUnit(m5,true)endifcall TriggerRegisterTimerEvent(P7A,.5/ E0R,true)call TriggerAddCondition(P7A,Condition(function P_A))call O4E(LMR,"MaxLinks",CGX)call O8E(LMR,"Target",m5)call O8E(LMR,"Hero",FLE)call RAE(LMR,"AlreadyAdded",FYE())elseif CGX>E0R thenset m5=nullcall O1E(IAE)call IRE(t)call TriggerRegisterTimerEvent(P7A,.5/ E0R,true)call TriggerAddCondition(P7A,Condition(function P_A))call O4E(LMR,"MaxLinks",CGX)call O8E(LMR,"Target",m5)call O8E(LMR,"Hero",FLE)call RAE(LMR,"AlreadyAdded",FYE())endifset t=nullset FLE=nullset P6A=nullset P7A=nullset g=nullset m5=nullreturn falseendfunctionfunction P4A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real l4=H4E(GetUnitX(FLE),GetUnitY(FLE),GetLocationX(l),GetLocationY(l))local integer DDE=GetUnitAbilityLevel(FLE,1093687864)local integer P8Alocal integer E0Rlocal boolean P6O=falseif DDE==0 thenset DDE=GetUnitAbilityLevel(FLE,1093747542)set P6O=trueendifset P8A=$5DC+500*DDEset E0R=P8A/ 50call O8E(IAE,"Hero",FLE)call O4E(IAE,"Level",DDE)call O5E(IAE,"Angle",l4*1.)call O4E(IAE,"MaxCount",E0R)call RVE(IAE,"Retract",CreateTrigger())call O7E(IAE,"Scepter",P6O)call TriggerRegisterTimerEvent(t,.5/ E0R,true)call TriggerAddCondition(t,Condition(function P5A))call RemoveLocation(l)set t=nullset FLE=nullset l=nullendfunctionfunction P9A takes nothing returns booleanif GetSpellAbilityId()==1093687864 or GetSpellAbilityId()==1093747542 thencall P4A()endifreturn falseendfunctionfunction EZX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function P9A))set t=nullendfunctionfunction QVA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real C4Oif MAE==1 thenset C4O=$Felseif MAE==2 thenset C4O=30elseif MAE==3 thenset C4O=40elseif MAE==4 thenset C4O=50endifif GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 thencall MNE(J6E,F3E,1,C4O)endifif GetTriggerEvalCount(t)==4 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call UnitRemoveAbility(F3E,1093752403)call UnitRemoveAbility(F3E,1110459470)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction QEA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1095267426)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetEventDamageSource()==J6E and GetEventDamage()==0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function QVA))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",F3E,"chest")))call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093752403,false)call GKE(F3E,1093752403)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction QXA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local real d=E3E(J6E,F3E)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function QEA))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullendfunctionfunction QOA takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))endfunctionfunction QRA takes nothing returns booleanif GetSpellAbilityId()==1095267426 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall QOA()elseif FUE(GetSpellTargetUnit())==false thencall QXA()endifendifreturn falseendfunctionfunction E2X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QRA))set t=nullendfunctionfunction QIA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call UnitAddAbility(MIE,1093809972)call IssueImmediateOrderById(MIE,$D0080)call SelectUnitForPlayerSingle(J6E,GetOwningPlayer(J6E))call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction QAA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093677401)if TimerGetRemaining(CLV[GetPlayerId(GetOwningPlayer(J6E))])==0 and GetUnitState(J6E,UNIT_STATE_MANA)>=$8C thencall TimerStart(CLV[GetPlayerId(GetOwningPlayer(J6E))],360-100*MAE,false,null)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,3+.01,false)call TriggerAddCondition(t,Condition(function QIA))call SaveUnitHandle(YX,(H2E),(2),(J6E))endifset t=nullset J6E=nullreturn falseendfunctionfunction QNA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function QAA))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction QBA takes nothing returns booleanif GetLearnedSkill()==1093677401 and GetUnitAbilityLevel(GetTriggerUnit(),1093677401)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall QNA()endifreturn falseendfunctionfunction E3X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function QBA))set t=nullendfunctionfunction QCA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")call O1E(IAE)call IRE(t)call MHE(p5,0)set t=nullset p5=nullreturn falseendfunctionfunction QDA takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit()) thencall SetUnitX(GetFilterUnit(),OB)call SetUnitY(GetFilterUnit(),AB)call IssueTargetOrderById(GetFilterUnit(),$D000F,cB)endifreturn falseendfunctionfunction QFA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real t5=GetUnitX(p5)local real w5=GetUnitY(p5)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real l4=H4E(t5,w5,Y5,Z5)local real GTR=E4E(t5,w5,Y5,Z5)local real d=GetRandomReal(GTR*.3,GTR*.8)local integer DDE=GetUnitAbilityLevel(p5,1093685847)local real OVI=t5+d*Cos(l4*bj_DEGTORAD)local real OEI=w5+d*Sin(l4*bj_DEGTORAD)local unit u=CreateUnit(GetOwningPlayer(p5),EB,OVI,OEI,0)local unit u2local group glocal trigger tlocal integer IAEcall SetUnitX(p5,OVI)call SetUnitY(p5,OEI)call SetUnitFacing(p5,-l4)call PlaySoundOnUnitBJ(zE,100,m5)if IsUnitEnemy(m5,GetOwningPlayer(p5))and GetUnitTypeId(m5)!=1848651852 thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.2,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QCA))call O8E(IAE,"Source",p5)set t=nullcall MHE(p5,25*DDE)set OVI=t5+(d-25)*Cos(l4*bj_DEGTORAD)set OEI=w5+(d-25)*Sin(l4*bj_DEGTORAD)call IBE(m5,"4405",1)call SetUnitX(m5,OVI)call SetUnitY(m5,OEI)call SetUnitFacing(m5,l4)call IssueTargetOrderById(p5,$D000F,m5)set g=FYE()set OB=OVIset AB=OEIset BB=p5set cB=m5call GroupEnumUnitsInRange(g,t5,w5,$578,Condition(function QDA))call FWE(g)set u2=CreateUnit(GetOwningPlayer(p5),EB,OVI,OEI,0)call KillUnit(u2)endifcall KillUnit(u)set p5=nullset m5=nullset u=nullset u2=nullset g=nullendfunctionfunction QGA takes nothing returns booleanif GetSpellAbilityId()==1093685847 thencall QFA()endifreturn falseendfunctionfunction QHA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local unit u=CreateUnit(GetOwningPlayer(FLE),EB,GetUnitX(FLE),GetUnitY(FLE),0)call PlaySoundOnUnitBJ(zE,100,FLE)call KillUnit(u)call O1E(IAE)call IRE(t)set u=nullset t=nullset FLE=nullreturn falseendfunctionfunction QJA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerAddCondition(t,Condition(function QHA))call TriggerRegisterTimerEvent(t,.3,false)call O8E(IAE,"Hero",GetTriggerUnit())set t=nullendfunctionfunction QKA takes nothing returns booleanif GetSpellAbilityId()==1093685847 thencall QJA()endifreturn falseendfunctionfunction WKE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QGA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function QKA))set t=nullendfunctionfunction QLA takes nothing returns booleanreturn GetSpellAbilityId()==1093678645endfunctionfunction QMA takes nothing returns nothinglocal integer T8=0local integer U8=5local integer array QPAlocal player array QQAlocal integer HFXlocal item Z4set QPA[0]=0set QPA[1]=0set QPA[2]=0set QPA[3]=0set QPA[4]=0set QPA[5]=0call DisableTrigger(R3V)loopexitwhen T8>U8set HFX=XHE(UnitItemInSlot(GetTriggerUnit(),T8))if HFX==VVV or HFX==VEV or HFX==VXV or HFX==VOV or HFX==VRV or HFX==VIV or HFX==N8 or HFX==VKV or HFX==VLV or HFX==VMV or HFX==F7 or HFX==V6V or HFX==EVV or HFX==X6V thenset QPA[T8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),T8))set QQA[T8]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),T8))call RemoveItem(UnitItemInSlot(GetTriggerUnit(),T8))endifset T8=T8+1endloopcall UnitResetCooldown(GetTriggerUnit())set T8=0set U8=5loopexitwhen T8>U8if QPA[T8]>0 thenset Z4=CreateItem(QPA[T8],0,0)call SetItemPlayer(Z4,QQA[T8],false)call SetItemUserData(Z4,1)call UnitAddItem(GetTriggerUnit(),Z4)endifset T8=T8+1endloopcall EnableTrigger(R3V)set Z4=nullendfunctionfunction UME takes nothing returns nothingset XJ=CreateTrigger()call JEE(XJ,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(XJ,Condition(function QLA))call TriggerAddAction(XJ,function QMA)endfunctionfunction QSA takes nothing returns nothingcall MNE(P4V,GetEnumUnit(),1,(60.+20.*P5V)*.25)endfunctionfunction QTA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer DZX=GetTriggerEvalCount(t)local group gif DZX==20 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseset I9V=J6Eset P4V=J6Eset P5V=GetUnitAbilityLevel(J6E,1093678407)set g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),275,Condition(function K3E))call ForGroup(g,function QSA)call FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction QUA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.25,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QTA))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))call TriggerEvaluate(t)call IBE(GetTriggerUnit(),"BladeFury|Active",5)endfunctionfunction QWA takes nothing returns booleanif GetSpellAbilityId()==1093678407 thencall QUA()endifreturn falseendfunctionfunction TKE takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QWA))set t=nullendfunctionfunction QYA takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local integer i1local unit it=nulllocal item XJE=nulllocal integer ilocal boolean J4=falselocal player p=nullif(not IsPlayerInForce(Player(O5),GLV))or(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(GetItemTypeId(GetManipulatedItem())==1227895373)or(not IsTriggerEnabled(R3V))or(GetUnitTypeId(GetTriggerUnit())==1697656901)thenreturnendifset XJE=GetManipulatedItem()set p=GetItemPlayer(XJE)if(p==Player($F))thenset p=VEEendifif(p!=Player(O5))or(XJE==Z7V[336+O5])thenset it=GetTriggerUnit()set i1=XGE(XJE)if(IsUnitType(it,UNIT_TYPE_HERO)and(GetUnitTypeId(it)!=1211117642))thenset bj_lastCreatedItem=nullif Z8V[288+O5]==0 and(Bz>Z8V[$A0+O5])and((B4I(i1)or B5I(i1))and((not IsItemPowerup(XJE))or(not OOE(it))or(OXE(it,BU[ZY]))))thenset Z8V[288+O5]=i1if bj_lastCreatedItem!=null and IsItemPowerup(XJE)thenset J4=trueendifendifif(i1==Z8V[288+O5]or i1==VAV or i1==VSV or i1==VTV)thenset Z8V[288+O5]=i1if IsItemPowerup(XJE)and OOE(it)and(DDI(O5,it)!=-1 or DFI(O5,it))thenset J4=(i1!=XGE(bj_lastCreatedItem))endifendifif J4 thenset eY[512+O5]=0call UnitRemoveItem(it,bj_lastCreatedItem)call SetItemPosition(bj_lastCreatedItem,GetUnitX(it),GetUnitY(it))loopexitwhen eY[512+O5]!=0call TriggerSleepAction(.1)endloopset Z7V[320+O5]=Z7V[288+O5]call J3(it,false)call MBI(it)endifendifif(not IsItemPowerup(XJE))thenif i1==Z8V[288+O5]thencall EYE(1.)set Z8V[288+O5]=0elseif FNV and GetItemType(XJE)==ITEM_TYPE_PERMANENT and GetItemTypeId(XJE)==BU[i1]thenelsecall VJE(O5,"DropMuted "+VWE(GetItemTypeId(XJE))+GetItemName(XJE)+VME(GetPlayerId(p))+GetPlayerName(GetItemPlayer(XJE)))call UnitDropItemPoint(it,XJE,GetUnitX(it),GetUnitY(it))endifendifendifset it=nullendifset XJE=nullset p=nullendfunctionfunction DisplayOrder takes nothing returns nothingcall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,$A,I2S(GetIssuedOrderId())+": "+OrderId2String(GetIssuedOrderId()))endfunctionfunction QZA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local integer DDE=R1E(IAE,"Level")local real Q_Alocal unit Q0Aset Q_A=.6*(iX-25)*(iX-25)if iX<51 thenif ModuloInteger(iX,5)==0 thencall MNE(p5,m5,1,3+3*DDE)endifif Y5O(m5)==false thencall SetUnitFlyHeight(m5,500-Q_A,0)endifelseset Q0A=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(Q0A,1093742924)call SetUnitAbilityLevel(Q0A,1093742924,DDE)call IssueTargetOrderById(Q0A,$D006B,m5)if Y5O(m5)==false thencall SetUnitFlyHeight(m5,GetUnitDefaultFlyHeight(m5),0)endifif NI==false thencall PauseUnit(m5,false)endifcall SetUnitPathing(m5,true)call O1E(IAE)call IRE(t)endifset t=nullset p5=nullset m5=nullset Q0A=nullreturn falseendfunctionfunction Q1A takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=I9Vlocal unit m5=GetEnumUnit()local integer DDE=I5Vcall PauseUnit(m5,true)call SetUnitPathing(m5,false)if Y5O(m5)==false thencall GKE(m5,1097691750)call UnitRemoveAbility(m5,1097691750)endifcall TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function QZA))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call MNE(p5,m5,1,30+30*DDE)set t=nullset p5=nullset m5=nullendfunctionfunction Q2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local integer DDE=R1E(IAE,"Level")local group g=FYE()local ubersplat ERO=CreateUbersplat(x,y,"THNN",$FF,$FF,$FF,$FF,false,false)call SetUbersplatRenderAlways(ERO,true)call JBE(GetOwningPlayer(FLE),4,x,y,400)call DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))call DestroyEffect(RWE(IAE,"FX3"))call DestroyEffect(RWE(IAE,"FX4"))call DestroyEffect(RWE(IAE,"FX5"))call DestroyEffect(RWE(IAE,"FX6"))call O1E(IAE)call IRE(t)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))set I9V=FLEset I5V=DDEcall GroupEnumUnitsInRange(g,x,y,$D7+25,Condition(function K9E))call ForGroup(g,function Q1A)call FWE(g)set t=nullset FLE=nullreturn falseendfunctionfunction Q3A takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(FLE,1093743414)local string s=""local real aif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(FLE)) or FJE(GetLocalPlayer())thenset s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"endifcall RemoveLocation(l)call O4E(IAE,"Level",DDE)call O8E(IAE,"Hero",FLE)call O5E(IAE,"x",x)call O5E(IAE,"y",y)call O4E(IAE,"Level",DDE)set a=0call O9E(IAE,"FX1",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=1call O9E(IAE,"FX2",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=2call O9E(IAE,"FX3",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=3call O9E(IAE,"FX4",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=4call O9E(IAE,"FX5",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=5call O9E(IAE,"FX6",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))call TriggerRegisterTimerEvent(t,1.6,false)call TriggerAddCondition(t,Condition(function Q2A))set FLE=nullset t=nullset l=nullendfunctionfunction Q4A takes nothing returns booleanif GetSpellAbilityId()==1093743414 thencall Q3A()endifreturn falseendfunctionfunction E4X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q4A))set t=nullendfunctionfunction Z6X takes nothing returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743671,false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743672,false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093742933,false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),1093743673,false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743671,false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743672,false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093742933,false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),1093743673,false)endfunctionfunction Q5A takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer CBE=GetHandleId(t)local unit F2E=RME(CBE,"Hero")local real Q6A=XRE()local integer MAE=GetUnitAbilityLevel(F2E,1093743444)local real Q7A=R2E(GetHandleId(F2E),"WaterSword|LastUsed")local boolean Q8A=R3E(GetHandleId(F2E),"WaterSword|Active")if Q6A-Q7A>16-MAE*3 and Q8A==false and GetUnitTypeId(F2E)==1211119187 and GME(F2E)==false thencall O7E(GetHandleId(F2E),"WaterSword|Active",true)call UnitAddAbility(F2E,1093742927)call SetUnitAbilityLevel(F2E,1093742927,MAE)call UnitAddAbility(F2E,1093742930)if MAE==1 thencall GKE(F2E,1093743671)elseif MAE==2 thencall GKE(F2E,1093743672)elseif MAE==3 thencall GKE(F2E,1093742933)elseif MAE==4 thencall GKE(F2E,1093743673)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093743671,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093743672,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093742933,false)call SetPlayerAbilityAvailable(GetOwningPlayer(F2E),1093743673,false)elseif Q8A==false thencall UnitRemoveAbility(F2E,1093742927)call UnitRemoveAbility(F2E,1093742930)call UnitRemoveAbility(F2E,1093743671)call UnitRemoveAbility(F2E,1093743672)call UnitRemoveAbility(F2E,1093742933)call UnitRemoveAbility(F2E,1093743673)endifset t=nullset F2E=nullendfunctionfunction Q9A takes nothing returns booleanlocal unit F2E=GetTriggerUnit()call O7E(GetHandleId(F2E),"WaterSword|Active",false)call O5E(GetHandleId(F2E),"WaterSword|LastUsed",XRE())call UnitRemoveAbility(F2E,1093742927)call UnitRemoveAbility(F2E,1093742930)call UnitRemoveAbility(F2E,1093743671)call UnitRemoveAbility(F2E,1093743672)call UnitRemoveAbility(F2E,1093742933)call UnitRemoveAbility(F2E,1093743673)set F2E=nullreturn falseendfunctionfunction SVA takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local trigger t=CreateTrigger()local integer CBE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function Q5A)call O8E(CBE,"Hero",F2E)call O5E(CBE,"WaterSword|LastUsed",.0)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function Q9A))set F2E=nullset t=nullendfunctionfunction SEA takes nothing returns booleanif GetLearnedSkill()==1093743444 and GetUnitAbilityLevel(GetTriggerUnit(),1093743444)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall SVA()endifreturn falseendfunctionfunction SXA takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),1093743444)>0endfunctionfunction SOA takes nothing returns nothinglocal unit F2E=GetEventDamageSource()if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetUnitAbilityLevel(F2E,1093743444)>0 and IsPlayerEnemy(GetOwningPlayer(F2E),GetOwningPlayer(GetTriggerUnit()))thenif R3E(GetHandleId(F2E),"WaterSword|Active") thencall O7E(GetHandleId(F2E),"WaterSword|Active",false)call O5E(GetHandleId(F2E),"WaterSword|LastUsed",XRE())call UnitRemoveAbility(F2E,1093742927)call UnitRemoveAbility(F2E,1093742930)call UnitRemoveAbility(F2E,1093743671)call UnitRemoveAbility(F2E,1093743672)call UnitRemoveAbility(F2E,1093742933)call UnitRemoveAbility(F2E,1093743673)call D4E(GetTriggeringTrigger())endifendifelsecall D4E(GetTriggeringTrigger())endifset F2E=nullendfunctionfunction SRA takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddAction(t,function SOA)set t=nullendfunctionfunction E5X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function SEA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function SXA))call TriggerAddAction(t,function SRA)set t=nullendfunctionfunction SIA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local image i=R0E(IAE,"i")local real x=R2E(IAE,"x")local real y=R2E(IAE,"y")local unit J6E=RME(IAE,"Source")if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093743428)thenif GetTriggerEventId()!=EVENT_UNIT_DEATH and FHE(m5)==false thencall SetUnitPosition(m5,x,y)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093743428,false)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093742926 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093742926,true)endifcall O7E(GetHandleId(m5),"XMarked",false)call DestroyEffect(RWE(IAE,"FX"))call ShowImage(i,false)call DestroyImage(i)call O1E(IAE)call IRE(t)endifset t=nullset m5=nullset i=nullset J6E=nullreturn falseendfunctionfunction SAA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real SNA=90local image i=CreateImage("Fonts\\X.blp",SNA,SNA,0,x-SNA/ 2,y-SNA/ 2,0,0,0,0,2)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local string fx=""local integer DDE=GetUnitAbilityLevel(p5,1093742926)call IBE(m5,"4401",5)call GKE(p5,1093743428)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093743428,true)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093742926,false)call SetImageRenderAlways(i,true)if IsUnitAlly(p5,GetOwningPlayer(m5))==false or IsUnitAlly(m5,GetLocalPlayer()) or FJE(GetLocalPlayer())thenset fx="effects\\BlackTide.mdx"call ShowImage(i,true)elsecall ShowImage(i,false)endifcall SetImageColor(i,$FF,0,0,$FF)call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(p5),1865429063,x,y,0),1112820806,5)call TriggerRegisterTimerEvent(t,DDE,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SIA))call O7E(GetHandleId(m5),"XMarked",true)call RHE(IAE,"i",i)call O8E(IAE,"Target",m5)call O5E(IAE,"x",x)call O5E(IAE,"y",y)call O9E(IAE,"FX",AddSpecialEffectTarget(fx,m5,"overhead"))call O8E(IAE,"Source",p5)call O5E(GetHandleId(m5),"AI|XMark|X",x)call O5E(GetHandleId(m5),"AI|XMark|Y",y)set p5=nullset m5=nullset i=nullset t=nullendfunctionfunction SBA takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093742926 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or FUE(GetSpellTargetUnit())==false)thencall SAA()endifelseif GetLearnedSkill()==1093742926 thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),1093743428,false)call GKE(GetTriggerUnit(),1093743428)endifendifreturn falseendfunctionfunction SCA takes nothing returns booleanif GetSpellAbilityId()==1093742926 thenif R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),D1E(1848652600))endifendifreturn falseendfunctionfunction E6X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function SBA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function SCA))set t=nullendfunctionfunction SDA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local integer SFA=1local player plocal real dlocal unit m5=RME(IAE,"Target")local integer SGA=R1E(IAE,"MaxIndex")local unit Q0Alocal integer Hk=R1E(IAE,"Duration")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Hk thencall O1E(IAE)call IRE(t)elseloopexitwhen SFA>SGAset p=RQE(IAE,"Player|"+I2S(SFA))set d=R2E(IAE,"Damage|"+I2S(SFA))if p==null thenset SFA=SGAelseset Q0A=CreateUnit(p,1697656901,0,0,0)call SetUnitState(m5,UNIT_STATE_LIFE,HTE(1,GetUnitState(m5,UNIT_STATE_LIFE)-d/ Hk))endifset SFA=SFA+1endloopendifset t=nullset p=nullset m5=nullset Q0A=nullreturn falseendfunctionfunction SHA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local player p=RQE(IAE,"p")local trigger SJA=RTE(IAE,"Phase2")local integer SFA=GetTriggerEvalCount(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall O1E(IAE)call IRE(t)call TriggerRegisterTimerEvent(SJA,1,true)call TriggerAddCondition(SJA,Condition(function SDA))call UnitRemoveAbility(m5,1110456661)elseset IAE=GetHandleId(SJA)call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+.5*GetEventDamage())call RRE(IAE,"Player|"+I2S(SFA),GetOwningPlayer(GetEventDamageSource()))call O5E(IAE,"Damage|"+I2S(SFA),.5*GetEventDamage())call O4E(IAE,"MaxIndex",SFA)endifset t=nullset m5=nullset p=nullset SJA=nullreturn falseendfunctionfunction SKA takes nothing returns nothinglocal unit p5=LSlocal unit m5=GetEnumUnit()local integer DDE=MSlocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer Hk=8local trigger SJA=CreateTrigger()call KOE(m5,1093743158,1,Hk)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),1093743158,false)call TriggerRegisterTimerEvent(t,Hk+.01,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function SHA))call RRE(IAE,"p",GetOwningPlayer(p5))call O8E(IAE,"Target",m5)call RVE(IAE,"Phase2",SJA)call O8E(GetHandleId(SJA),"Target",m5)call O4E(GetHandleId(SJA),"Duration",Hk)set p5=nullset m5=nullset t=nullset SJA=nullendfunctionfunction SLA takes nothing returns booleanif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),gN)==false thencall GroupAddUnit(gN,GetFilterUnit())return trueendifreturn falseendfunctionfunction SMA takes nothing returns nothinglocal unit p5=LSlocal unit m5=GetEnumUnit()local integer DDE=MSlocal unit Q0A=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(Q0A,1093743448)call IssueTargetOrderById(Q0A,$D007F,m5)call MNE(p5,m5,1,$C8+100*DDE)set p5=nullset m5=nullendfunctionfunction SPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit IJ=RME(IAE,"Projectile")local unit SQAlocal real RK=R2E(IAE,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real SSA=R2E(IAE,"x2")local real STA=R2E(IAE,"y2")local integer iX=GetTriggerEvalCount(t)local real SUA=HRE(SSA+13.33*iX*Cos(RK))local real SWA=HIE(STA+13.33*iX*Sin(RK))local integer DDE=R1E(IAE,"Level")local group SYA=RUE(IAE,"AlreadyHit")local group gif iX<19 thencall SetUnitVertexColor(IJ,$FF,$FF,$FF,5+iX*$A)set SQA=RME(IAE,"Projectile2")call SetUnitVertexColor(SQA,$FF,$FF,$FF,5+iX*$A)elseif iX<125 thencall SetUnitVertexColor(IJ,$FF,$FF,$FF,$BE)elseif iX<$96 thenendifset g=FYE()set gN=SYAset I9V=IJset LS=IJset MS=DDEcall GroupEnumUnitsInRange(g,GetUnitX(IJ),GetUnitY(IJ),425,Condition(function SLA))call ForGroup(g,function SKA)call FWE(g)call SetUnitX(IJ,SUA)call SetUnitY(IJ,SWA)if iX==$8C thenset SQA=RME(IAE,"Projectile2")call KillUnit(SQA)elseif iX<$8C thenset SQA=RME(IAE,"Projectile2")call SetUnitX(SQA,SUA)call SetUnitY(SQA,SWA)endifif iX==$96 thenset g=FYE()set I9V=IJcall GroupEnumUnitsInRange(g,SUA,SWA,425,Condition(function K3E))call ForGroup(g,function SMA)call FWE(g)call KillUnit(IJ)call FWE(SYA)call O1E(IAE)call IRE(t)endifset t=nullset IJ=nullset SQA=nullset SYA=nullset g=nullreturn falseendfunctionfunction SZA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local real iN=GetUnitX(FLE)local real io=GetUnitY(FLE)local location l=GetSpellTargetLoc()local real UTO=GetLocationX(l)local real UUO=GetLocationY(l)local real RKlocal real x1local real y1local real x2local real y2local trigger tlocal integer IAElocal integer DDElocal unit IJlocal unit SQAlocal string s=""local integer S_A=1747990101if GetRandomInt(0,5)==0 thenset S_A=1747993674endifif IsPlayerAlly(GetOwningPlayer(FLE),GetLocalPlayer())or FJE(GetLocalPlayer())thenset s="war3mapImported\\Whirlpool.mdx"endifif UTO==GetUnitX(FLE)and UUO==GetUnitY(FLE)thenset UTO=UTO+50*Cos(GetUnitFacing(FLE)*bj_DEGTORAD)set UUO=UUO+50*Sin(GetUnitFacing(FLE)*bj_DEGTORAD)endifset RK=Atan2(UUO-io,UTO-iN)set x1=iN-$3E8*Cos(RK)set y1=io-$3E8*Sin(RK)set x2=iN+$3E8*Cos(RK)set y2=io+$3E8*Sin(RK)set t=CreateTrigger()set IAE=GetHandleId(t)set DDE=GetUnitAbilityLevel(FLE,1093742923)set IJ=CreateUnit(GetOwningPlayer(FLE),S_A,x1,y1,Atan2(UUO-io,UTO-iN)*bj_RADTODEG)set SQA=CreateUnit(GetOwningPlayer(FLE),1747990102,x1,y1,Atan2(UUO-io,UTO-iN)*bj_RADTODEG)call SetUnitVertexColor(IJ,$FF,$FF,$FF,0)call SetUnitPathing(IJ,false)call RemoveLocation(l)call O4E(IAE,"Level",DDE)call O5E(IAE,"Angle",RK)call O8E(IAE,"Projectile",IJ)call O8E(IAE,"Projectile2",SQA)call O5E(IAE,"x2",x1)call O5E(IAE,"y2",y1)call RAE(IAE,"AlreadyHit",FYE())call DestroyEffect(AddSpecialEffect(s,HRE(x2),HIE(y2)))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function SPA))set FLE=nullset t=nullset IJ=nullset SQA=nullset l=nullendfunctionfunction S0A takes nothing returns booleanif GetSpellAbilityId()==1093742923 thencall SZA()endifreturn falseendfunctionfunction E7X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S0A))call HCE(1093742924)set t=nullendfunctionfunction S1A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)if RYE(IAE,"Light")!=null thencall DestroyLightning(RYE(IAE,"Light"))endifcall O1E(IAE)call IRE(t)set t=nullreturn falseendfunctionfunction S2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit L9E=RME(IAE,"Projectile")local unit m5=RME(IAE,"Target")local real S3A=R2E(IAE,"OriginalAngle")local real l4=Atan2(GetUnitY(m5)-GetUnitY(L9E),GetUnitX(m5)-GetUnitX(L9E))local integer DDE=R1E(IAE,"Level")local real x=GetUnitX(L9E)+50*Cos(l4)local real y=GetUnitY(L9E)+50*Sin(l4)local unit MIElocal destructable dlocal lightning MDRlocal unit FVAlocal boolean JDX=R3E(IAE,"Active")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall O1E(IAE)call IRE(t)call KillUnit(L9E)elsecall SetUnitX(L9E,x)call SetUnitY(L9E,y)call SetUnitFacing(L9E,l4*bj_RADTODEG)if E4E(x,y,GetUnitX(m5),GetUnitY(m5))<45 thenset MWV=(LoadReal(YX,(IAE),(6)))set MYV=(LoadReal(YX,(IAE),(7)))call O1E(IAE)call IRE(t)if GetUnitTypeId(m5)!=1848651852 and JDX thenset MIE=MEE(L9E,m5,S3A)set d=L8E(L9E,m5,S3A)if MIE!=null thenset t=CreateTrigger()set IAE=GetHandleId(t)set FVA=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(FVA,1093743177)call SetUnitAbilityLevel(FVA,1093743177,DDE+1)call IssueTargetOrderById(FVA,$D007F,m5)set FVA=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(MIE),GetUnitY(MIE),0)call GKE(FVA,1093743177)call SetUnitAbilityLevel(FVA,1093743177,DDE+1)call IssueTargetOrderById(FVA,$D007F,MIE)call TriggerRegisterTimerEvent(t,.25+DDE*.75,false)call TriggerAddCondition(t,Condition(function S1A))set MDR=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetUnitX(MIE),GetUnitY(MIE))call SetLightningColor(MDR,.5,.5,1,1)call REE(IAE,"Light",MDR)elseif d!=null thenset t=CreateTrigger()set IAE=GetHandleId(t)set FVA=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(FVA,1093743177)call SetUnitAbilityLevel(FVA,1093743177,DDE+1)call IssueTargetOrderById(FVA,$D007F,m5)call TriggerRegisterTimerEvent(t,.25+DDE*.75,false)call TriggerAddCondition(t,Condition(function S1A))set MDR=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetDestructableX(d),GetDestructableY(d))call SetLightningColor(MDR,.5,.5,1,1)call REE(IAE,"Light",MDR)call SetDestructableAnimation(d,"stand hit")elseset FVA=CreateUnit(GetOwningPlayer(m5),1697656901,GetUnitX(m5),GetUnitY(m5),0)call GKE(FVA,1093743177)call SetUnitAbilityLevel(FVA,1093743177,1)call IssueTargetOrderById(FVA,$D007F,m5)endifendifcall KillUnit(L9E)endifendifset t=nullset L9E=nullset m5=nullset MDR=nullset MIE=nullset d=nullset FVA=nullreturn falseendfunctionfunction S4A takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real l4=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit L9E=CreateUnit(GetOwningPlayer(p5),1747990327,GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)local integer DDE=GetUnitAbilityLevel(p5,1093743178)local boolean JDX=FUE(GetSpellTargetUnit())==falsecall O8E(IAE,"Projectile",L9E)call O8E(IAE,"Target",m5)call O4E(IAE,"Level",DDE)call O5E(IAE,"OriginalAngle",(l4)*1.)call O7E(IAE,"Active",JDX)call SaveReal(YX,(IAE),(6),((GetUnitX(p5))*1.))call SaveReal(YX,(IAE),(7),((GetUnitY(p5))*1.))call TriggerRegisterTimerEvent(t,.033,true)call TriggerAddCondition(t,Condition(function S2A))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)set p5=nullset m5=nullset t=nullendfunctionfunction S5A takes nothing returns booleanif GetSpellAbilityId()==1093743178 thencall S4A()endifreturn falseendfunctionfunction E8X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S5A))set t=nullendfunctionfunction S6A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer DDE=R1E(IAE,"Level")local integer S7A=R1E(IAE,"BonusID")call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(p5),GetUnitY(p5)))if GetTriggerEvalCount(t)>$A*(2+.75*DDE)or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(p5,S7A)call UnitRemoveAbility(p5,1110456663)call DestroyEffect(RWE(IAE,"FX1"))call DestroyEffect(RWE(IAE,"FX2"))call O1E(IAE)call IRE(t)endifset t=nullset p5=nullreturn falseendfunctionfunction S8A takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093743689)local integer S7Aif DDE==1 thenset S7A=1093743413elseif DDE==2 thenset S7A=1093743183elseif DDE==3 thenset S7A=1093743412elseif DDE==4 thenset S7A=1093743417endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),S7A,false)call KOE(p5,S7A,1,2+.75*DDE)call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function S6A))call O8E(IAE,"Source",p5)call O4E(IAE,"Level",DDE)call O4E(IAE,"BonusID",S7A)call O9E(IAE,"FX1",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,left"))call O9E(IAE,"FX2",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,right"))set p5=nullset t=nullendfunctionfunction S9A takes nothing returns booleanif GetSpellAbilityId()==1093743689 thencall S8A()endifreturn falseendfunctionfunction E9X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S9A))set t=nullendfunctionfunction TVA takes unit p5,unit m5,real HUE,integer TEA,integer TXA returns nothingcall MNE(p5,m5,1,(HUE)*Pow(.9,TEA)*Pow(.99,TXA))endfunctionfunction TOA takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZB)==false and GetUnitAbilityLevel(GetEnumUnit(),1113815395)==0 thencall TVA(vc,GetEnumUnit(),ec,ac,xc)call GroupAddUnit(ZB,GetEnumUnit())set ac=ac+1endifendfunctionfunction TRA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit IJ=RME(IAE,"Projectile")local real SSA=R2E(IAE,"TargetX")local real STA=R2E(IAE,"TargetY")local real RK=R2E(IAE,"Angle")local real HUE=R2E(IAE,"Damage")local integer TXA=R1E(IAE,"TreeCount")local integer TEA=R1E(IAE,"UnitCount")local group SYA=RUE(IAE,"AlreadyHit")local real x=HRE(GetUnitX(IJ)+(60*Pow(.9,TEA)*Pow(.99,TXA))*Cos(RK))local real y=HIE(GetUnitY(IJ)+(60*Pow(.9,TEA)*Pow(.99,TXA))*Sin(RK))local group g=FYE()local real dif GetTriggerEvalCount(t)>2 thenset d=$96elseset d=75endifcall DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))set TXA=TXA+JRE(x,y,75)call O4E(IAE,"TreeCount",TXA)set ZB=SYAset vc=IJset ec=HUEset xc=TXAset ac=TEAset I9V=IJcall GroupEnumUnitsInRange(g,x,y,d,Condition(function K3E))call ForGroup(g,function TOA)call FWE(g)call O4E(IAE,"UnitCount",ac)call SetUnitX(IJ,x)call SetUnitY(IJ,y)if GetTriggerEvalCount(t)>29 thencall KillUnit(IJ)call FWE(SYA)call O1E(IAE)call IRE(t)endifset t=nullset IJ=nullset SYA=nullset g=nullreturn falseendfunctionfunction TIA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x2=R2E(GetHandleId(p5),"ReverseLance|x")local real y2=R2E(GetHandleId(p5),"ReverseLance|y")local real TAA=HSE(XRE()-R2E(GetHandleId(p5),"ReverseLance|Time"),1.)local real RK=Atan2(y2-GetUnitY(p5),x2-GetUnitX(p5))local trigger tlocal integer IAElocal unit IJlocal integer DDE=GetUnitAbilityLevel(p5,1093743179)local real HUE=(40+80*DDE)*(TAA)set t=CreateTrigger()set IAE=GetHandleId(t)set IJ=CreateUnit(GetOwningPlayer(p5),1747990328,GetUnitX(p5),GetUnitY(p5),RK*bj_RADTODEG)set x2=GetUnitX(p5)+$6A4*Cos(RK)set y2=GetUnitY(p5)+$6A4*Sin(RK)call O8E(IAE,"Projectile",IJ)call O5E(IAE,"TargetX",x2)call O5E(IAE,"TargetY",y2)call O5E(IAE,"Angle",RK)call O5E(IAE,"Damage",HUE)call O4E(IAE,"TreeCount",0)call O4E(IAE,"UnitCount",0)call RAE(IAE,"AlreadyHit",FYE())call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function TRA))set p5=nullset t=nullset IJ=nullendfunctionfunction TNA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit FLE=RME(IAE,"Hero")call SetUnitTimeScale(FLE,1)call O1E(IAE)call IRE(t)set t=nullset FLE=nullreturn falseendfunctionfunction TBA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit FLE=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call RemoveLocation(l)call O5E(GetHandleId(FLE),"ReverseLance|x",x)call O5E(GetHandleId(FLE),"ReverseLance|y",y)call O5E(GetHandleId(FLE),"ReverseLance|Time",XRE())call SetUnitTimeScale(FLE,.75)call O8E(IAE,"Hero",FLE)call TriggerRegisterTimerEvent(t,.75,false)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TNA))set t=nullset FLE=nullendfunctionfunction TCA takes nothing returns booleanif GetSpellAbilityId()==1093743179 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall O7E(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",false)call TBA()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall O7E(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",true)elseif R3E(GetHandleId(GetTriggerUnit()),"ReverseLance|Active") thencall TIA()endifendifreturn falseendfunctionfunction XVX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TCA))set t=nullendfunctionfunction TDA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local integer MDE=R1E(IAE,"TargetIndex")local unit m5=BYE(MDE)local real TFA=R2E(IAE,"Rate")local boolean P6O=R3E(IAE,"Scepter")if GetTriggerEvalCount(t)==1 thencall TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and P6O==false thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+(TFA)*GetEventDamage())endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766 thencall BWE(MDE)call O1E(IAE)call IRE(t)endifelsecall UnitRemoveAbility(p5,1093743186)call UnitRemoveAbility(p5,1110456664)call BWE(MDE)call O1E(IAE)call IRE(t)call UnitRemoveAbility(p5,1093748299)call UnitRemoveAbility(p5,1093748300)call UnitRemoveAbility(p5,1093748298)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction TGA takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(J6E,1093743184)local real RVR=.6-DDE*.1local boolean AIR=falsecall UnitRemoveAbility(J6E,1093743186)call UnitRemoveAbility(J6E,1110456664)if DDE==0 thencall UnitRemoveAbility(J6E,1093748299)call UnitRemoveAbility(J6E,1093748300)call UnitRemoveAbility(J6E,1093748298)set AIR=trueset DDE=GetUnitAbilityLevel(J6E,1093747766)set RVR=.6-DDE*.15if DDE==1 thencall GKE(J6E,1093748299)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093748299,false)elseif DDE==2 thencall GKE(J6E,1093748300)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093748300,false)elseif DDE==3 thencall GKE(J6E,1093748298)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093748298,false)endifendifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093743186,false)call GKE(J6E,1093743186)call IssueTargetOrderById(J6E,$D000F,F3E)call O8E(IAE,"Source",J6E)call O7E(IAE,"Scepter",AIR)call O4E(IAE,"TargetIndex",B_E(F3E))call O5E(IAE,"Rate",RVR)call O4E(IAE,"Attacks",0)call O8E(GetHandleId(J6E),"Target",F3E)call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TDA))set J6E=nullset F3E=nullset t=nullendfunctionfunction THA takes nothing returns booleanif(GetSpellAbilityId()==1093743184 or GetSpellAbilityId()==1093747766)and FUE(GetSpellTargetUnit())==false thencall TGA()endifreturn falseendfunctionfunction TJA takes unit J6E returns nothinglocal unit F3E=RME(GetHandleId(J6E),"Target")if GetTriggerUnit()==F3E thencall DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",J6E,"hand,left"))call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",J6E,"hand,right"))elseif GetTriggerUnit()!=F3E thencall UnitRemoveAbility(J6E,1093743186)call UnitRemoveAbility(J6E,1110456664)call UnitRemoveAbility(J6E,1093748299)call UnitRemoveAbility(J6E,1093748300)call UnitRemoveAbility(J6E,1093748298)endifset F3E=nullendfunctionfunction TKA takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093743186)>0 thencall TJA(GetAttacker())endifreturn falseendfunctionfunction XEX takes nothing returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function THA))call JEE(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t2,Condition(function TKA))set t=nullset t2=nullendfunctionfunction TLA takes unit FLE,integer DDE returns integerlocal integer TMAlocal integer TPAif DDE==1 thenset TPA=1110458929set TMA=1093744730if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458928set TMA=1093744970if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458713set TMA=1093744970if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifreturn 1093744729elseif DDE==2 thenset TPA=1110458936set TMA=1093744968if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458935set TMA=1093744967if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458930set TMA=1093744967if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifreturn 1093744969elseif DDE==3 thenset TPA=1110458931set TMA=1093744965if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458937set TMA=1093744964if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458934set TMA=1093744964if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifreturn 1093744971elseif DDE==4 thenset TPA=1110458933set TMA=1093744950if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458932set TMA=1093744949if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifset TPA=1110458945set TMA=1093744949if GetUnitAbilityLevel(FLE,TPA)>0 thencall UnitRemoveAbility(FLE,TPA)return TMAendifreturn 1093744972endifreturn 0endfunctionfunction TQA takes nothing returns nothinglocal unit FLE=GetTriggerUnit()local integer DDE=GetUnitAbilityLevel(FLE,1093744728)local integer TPA=TLA(FLE,DDE)local unit MIE=CreateUnit(GetOwningPlayer(FLE),1697656901,GetUnitX(FLE),GetUnitY(FLE),0)call GKE(MIE,TPA)call IssueTargetOrderById(MIE,$D0085,FLE)set FLE=nullset MIE=nullendfunctionfunction TSA takes nothing returns booleanif GetSpellAbilityId()==1093677382 or GetSpellAbilityId()==1093677623 or GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450 or(GetUnitPointValue(GetTriggerUnit())==500 and DOE(GetSpellAbilityId()))thencall TQA()endifreturn falseendfunctionfunction TTA takes unit FLE,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterUnitEvent(t,FLE,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TSA))if CEO thenset nj[GetPlayerId(GetOwningPlayer(FLE))]=tendifset t=nullset FLE=nullendfunctionfunction TUA takes nothing returns booleanif GetLearnedSkill()==1093744728 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093744728)==1 thencall TTA(GetTriggerUnit(),false)endifreturn falseendfunctionfunction XXX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function TUA))set t=nullendfunctionfunction TWA takes nothing returns booleanif(GetSpellAbilityId()==1093677392 or GetSpellAbilityId()==1093679450)and FHE(GetSpellTargetUnit())thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848659026))endifreturn falseendfunctionfunction XOX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function TWA))set t=nullendfunctionfunction TYA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local unit F3E=RME(H2E,"Target")local integer DZX=R1E(GetHandleId(F3E),"StickyNapalm|Count")local boolean TZA=R3E(H2E,"Locked")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetUnitTurnSpeed(F3E,GetUnitDefaultTurnSpeed(F3E))call O4E(GetHandleId(F3E),"StickyNapalm|Count",0)call O1E(H2E)call IRE(t)call HOX(F3E,0,0)elseif DZX==0 thencall SetUnitTurnSpeed(F3E,GetUnitDefaultTurnSpeed(F3E))call O4E(GetHandleId(F3E),"StickyNapalm|Count",0)call O1E(H2E)call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and TZA==false thenif DZX>0 and GetUnitAbilityLevel(GetEventDamageSource(),1093748044)>0 and RME(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall O7E(H2E,"Locked",true)if O1 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",F3E,"chest"))call MNE(J6E,F3E,1,.5*(5+5*GetUnitAbilityLevel(J6E,1093748044))*DZX)elseif(GetEventDamage()>33 and IsUnitType(F3E,UNIT_TYPE_HERO))or(GetEventDamage()>40 and IsUnitType(F3E,UNIT_TYPE_HERO)==false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",F3E,"chest"))call MNE(J6E,F3E,1,(5+5*GetUnitAbilityLevel(J6E,1093748044))*DZX)endifcall O7E(H2E,"Locked",false)endifelsecall SetUnitTurnSpeed(F3E,GetUnitDefaultTurnSpeed(F3E)*.3)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction T_A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(RME(H2E,"Source"))local unit F3E=(RME(H2E,"Target"))local real H9X=(R2E(GetHandleId(F3E),"StickyNapalm|LastTime"))local integer StickyCount=(R1E(GetHandleId(F3E),"StickyNapalm|Count"))if(TimerGetElapsed(K))-H9X>=8 thencall SetUnitTurnSpeed(F3E,GetUnitDefaultTurnSpeed(F3E))call O4E(GetHandleId(F3E),"StickyNapalm|Count",0)call HOX(F3E,0,0)endifcall O1E(H2E)call IRE(t)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction T0A takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(J6E,1093748044)local integer DZX=IMinBJ(R1E(GetHandleId(F3E),"StickyNapalm|Count")+1,$A)if FHE(F3E)thenset J6E=nullset F3E=nullreturnendifcall HOX(F3E,MAE,DZX)call O4E(GetHandleId(F3E),"StickyNapalm|Count",DZX)call O5E(GetHandleId(F3E),"StickyNapalm|LastTime",(TimerGetElapsed(K))*1.)call SetUnitTurnSpeed(F3E,GetUnitDefaultTurnSpeed(F3E)*.3)if IsUnitType(F3E,UNIT_TYPE_HERO) thencall H8E(GetOwningPlayer(J6E),I2S(DZX)+"!",2,F3E,.026,50,0,$FF,$D8)endifif DZX==1 thenset t=CreateTrigger()set H2E=GetHandleId(t)call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)call O7E(H2E,"Locked",false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function TYA))endifset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,8,false)call TriggerAddCondition(t,Condition(function T_A))call O8E(H2E,"Source",J6E)call O8E(H2E,"Target",F3E)set t=nullset J6E=nullset F3E=nullendfunctionfunction T1A takes nothing returns nothinglocal group g=FYE()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit p5=GetTriggerUnit()call GroupEnumUnitsInRange(g,x,y,400,Condition(function LRE))call ForGroup(g,function T0A)call JBE(GetOwningPlayer(p5),2,x,y,500)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+$82))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-$82))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+$82,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+$82,y+$82))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+$82,y-$82))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-$82,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-$82,y+$82))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-$82,y-$82))call RemoveLocation(l)call FWE(g)set g=nullset l=nullset p5=nullendfunctionfunction T2A takes nothing returns booleanif GetSpellAbilityId()==1093748044 thencall T1A()endifreturn falseendfunctionfunction XRX takes nothing returns nothinglocal integer ilocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T2A))set MFV[1]=1093752899set MFV[2]=1093752898set MFV[3]=1093752884set MFV[4]=1093752885set MFV[5]=1093752886set MFV[6]=1093752887set MFV[7]=1093752897set MFV[8]=1093752888set MFV[9]=1093752889set MFV[$A]=1093752900set MGV[1]=1093752909set MGV[2]=1093752901set MGV[3]=1093752902set MGV[4]=1093752903set MGV[5]=1093752904set MGV[6]=1093752905set MGV[7]=1093752906set MGV[8]=1093752907set MGV[9]=1093752910set MGV[$A]=1093752908set MHV[1]=1093752911set MHV[2]=1093752918set MHV[3]=1093752919set MHV[4]=1093752913set MHV[5]=1093752914set MHV[6]=1093752915set MHV[7]=1093752920set MHV[8]=1093752916set MHV[9]=1093752917set MHV[$A]=1093752912set MJV[1]=1093752921set MJV[2]=1093752922set MJV[3]=1093753141set MJV[4]=1093753142set MJV[5]=1093753143set MJV[6]=1093753137set MJV[7]=1093753138set MJV[8]=1093753139set MJV[9]=1093753140set MJV[$A]=1093753136set i=1loopexitwhen i>$Acall HCE(MFV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall HCE(MGV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall HCE(MHV[i])set i=i+1endloopset i=1loopexitwhen i>$Acall HCE(MJV[i])set i=i+1endloopset t=nullendfunctionfunction T3A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit m5=RME(IAE,"Target")local real a=R2E(IAE,"a")local real d=R2E(IAE,"d")local real x1=R2E(IAE,"x")local real y1=R2E(IAE,"y")local real x2local real y2local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>$A thencall JRE(GetUnitX(m5),GetUnitY(m5),$C8)call DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)elseset x2=x1+d*Cos(a)set y2=y1+d*Sin(a)if(IsPointInRegion(ARV,((x2)*1.),((y2)*1.)))==false thencall O5E(IAE,"x",(x2)*1.)call O5E(IAE,"y",(y2)*1.)set x=x2set y=y2elseset x=x1set y=y1endifif IsUnitType(m5,UNIT_TYPE_HERO) thencall SetUnitPosition(m5,x,y)elsecall SetUnitX(m5,x)call SetUnitY(m5,y)endifendifset t=nullset m5=nullreturn falseendfunctionfunction T4A takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer DDE=GetUnitAbilityLevel(p5,1093744982)local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T3A))call O8E(IAE,"Target",m5)call O5E(IAE,"a",(Atan2(GetUnitY(m5)-C1,GetUnitX(m5)-B1))*1.)call O5E(IAE,"d",(HTE((400-E4E(B1,C1,GetUnitX(m5),GetUnitY(m5))),$A)/ $A)*1.)call O5E(IAE,"x",(GetUnitX(m5))*1.)call O5E(IAE,"y",(GetUnitY(m5))*1.)set p5=nullset m5=nullset t=nullcall MNE(HLV,GetEnumUnit(),1,HMV*75)endfunctionfunction T5A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit MIE=RME(IAE,"Caster")local unit p5=RME(IAE,"Source")local real a=R2E(IAE,"a")local group g=FYE()local unit m5local real x=GetUnitX(MIE)local real y=GetUnitY(MIE)local real PQR=R2E(IAE,"FinalX")local real PSR=R2E(IAE,"FinalY")set x=HRE(x+36*Cos(a))set y=HIE(y+36*Sin(a))call SetUnitX(MIE,x)call SetUnitY(MIE,y)set I9V=MIEcall GroupEnumUnitsInRange(g,x,y,125,Condition(function K9E))set m5=FirstOfGroup(g)call FWE(g)if E4E(x,y,PQR,PSR)<40 or GetTriggerEvalCount(t)>100 thenset m5=nullset x=PQRset y=PSRset HLV=p5set HMV=R1E(IAE,"Level")set N1=m5if m5==null thenset B1=xset C1=yelseset B1=GetUnitX(m5)set C1=GetUnitY(m5)endifset g=FYE()call GroupEnumUnitsInRange(g,x,y,400,Condition(function K9E))if m5!=null thencall GroupRemoveUnit(g,m5)call MRE(p5,m5,.3)call MNE(HLV,m5,1,HMV*75)endifcall ForGroup(g,function T4A)call KillUnit(MIE)call FWE(g)call O1E(IAE)call IRE(t)endifset t=nullset m5=nullset MIE=nullset p5=nullset g=nullreturn falseendfunctionfunction T6A takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer DDE=GetUnitAbilityLevel(p5,1093744982)local unit MIEset MIE=CreateUnit(GetOwningPlayer(p5),1747993924,GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)call RemoveLocation(l)call O5E(IAE,"a",a)call O4E(IAE,"Level",DDE)call O8E(IAE,"Source",p5)call O8E(IAE,"Caster",MIE)call O5E(IAE,"FinalX",((x)*1.))call O5E(IAE,"FinalY",((y)*1.))call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function T5A))set p5=nullset MIE=nullset l=nullset t=nullendfunctionfunction T7A takes nothing returns booleanif GetSpellAbilityId()==1093744982 thencall T6A()endifreturn falseendfunctionfunction XIX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T7A))set t=nullendfunctionfunction T8A takes nothing returns nothinglocal unit J6E=HPVlocal unit C0A=GetEnumUnit()local unit F3Elocal group gif GetUnitCurrentOrder(C0A)==0 thenset g=FYE()set I9V=C0Acall GroupEnumUnitsInRange(g,GetUnitX(C0A),GetUnitY(C0A),825,Condition(function K3E))set F3E=FirstOfGroup(g)if F3E!=null thencall GroupRemoveUnit(g,F3E)endifif FirstOfGroup(g)==null and F3E==J6E thencall IssueTargetOrderById(C0A,$D000F,F3E)endifcall FWE(g)set F3E=nullset g=nullendifset J6E=nullset C0A=nullendfunctionfunction T9A takes unit J6E returns nothinglocal group g=FYE()set I9V=J6Eset HPV=J6Ecall GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$3E8,Condition(function LZE))call ForGroup(g,function T8A)call FWE(g)set g=nullendfunctionfunction UVA takes nothing returns nothingcall MNE(HPV,GetEnumUnit(),1,HQV*$A)endfunctionfunction UEA takes unit J6E,integer H2E,integer DZX returns nothinglocal group g1=FYE()local group g2=FYE()local integer i=0set I9V=J6Eloopexitwhen i>DZXcall GroupEnumUnitsInRange(g2,R2E(H2E,"X"+I2S(i)),R2E(H2E,"Y"+I2S(i)),$E1,Condition(function K3E))call GroupAddGroup(g2,g1)call GroupClear(g2)set i=i+1endloopcall FWE(g2)if FirstOfGroup(g1)!=null thenset HPV=J6Eset HQV=GetUnitAbilityLevel(J6E,1093744986)call ForGroup(g1,function UVA)endifcall FWE(g1)set g1=nullset g2=nullendfunctionfunction UXA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")local real N0O=R2E(H2E,"LastX")local real N1O=R2E(H2E,"LastY")local integer DZX=R1E(H2E,"Count")local integer ilocal real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>300 thenset i=0loopexitwhen i>DZXcall DestroyEffect(RWE(H2E,"FX"+I2S(i)))set i=i+1endloopcall O1E(H2E)call IRE(t)elseset x=GetUnitX(J6E)set y=GetUnitY(J6E)if XR thencall T9A(J6E)endifif E4E(x,y,N0O,N1O)>125 thenset DZX=DZX+1call O4E(H2E,"Count",DZX)call O5E(H2E,"LastX",x)call O5E(H2E,"LastY",y)call O9E(H2E,"FX"+I2S(DZX),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))call O5E(H2E,"X"+I2S(DZX),x)call O5E(H2E,"Y"+I2S(DZX),y)endifif ModuloInteger(GetTriggerEvalCount(t),$A)==0 thenset O1=truecall UEA(J6E,H2E,DZX)set O1=falseendifcall JRE(GetUnitX(J6E),GetUnitY(J6E),100)endifreturn falseendfunctionfunction UOA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function UXA))call O8E(IAE,"Source",p5)call O9E(IAE,"FX"+I2S(0),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(p5),GetUnitY(p5)))call O5E(IAE,"LastX",GetUnitX(p5))call O5E(IAE,"LastY",GetUnitY(p5))call O5E(IAE,"X"+I2S(0),GetUnitX(p5))call O5E(IAE,"Y"+I2S(0),GetUnitY(p5))set p5=nullset t=nullendfunctionfunction URA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")if GME(p5)thenreturn falseendifif GetUnitTypeId(p5)==1328558390 thencall SetUnitFlyHeight(p5,$AA,0)elseif GetUnitTypeId(p5)==1328558391 thencall SetUnitFlyHeight(p5,$DC,0)endifset t=nullset p5=nullreturn falseendfunctionfunction UIA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()call TriggerRegisterTimerEvent(t,2,true)call TriggerAddCondition(t,Condition(function URA))call O8E(IAE,"Source",p5)set t=nullset p5=nullendfunctionfunction UAA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullreturn falseendfunctionfunction UNA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function UAA))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))set J6E=nullset t=nullendfunctionfunction UBA takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093744986 thenif GetUnitTypeId(GetTriggerUnit())==1328558390 thencall UOA()elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)thencall UNA()endifendifelseif GetLearnedSkill()==1093744986 and GetUnitAbilityLevel(GetTriggerUnit(),1093744986)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall UIA()endifendifreturn falseendfunctionfunction XAX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function UBA))set t=nullendfunctionfunction UCA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=RME(IAE,"Source")local unit m5=RME(IAE,"Target")local unit MIE=RME(IAE,"Caster")local real d=E4E(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))local real alocal real KBE=R2E(IAE,"Duration")local real MGR=R2E(IAE,"rRealX0")local real MHR=R2E(IAE,"rRealY0")local real XVRlocal real XERif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*KBE)thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)call KillUnit(MIE)call SetUnitPathing(m5,true)call JRE(GetUnitX(m5),GetUnitY(m5),$AF)call IXE(p5,"AI|Lasso")elsecall SetUnitX(MIE,GetUnitX(p5))call SetUnitY(MIE,GetUnitY(p5))if E4E(MGR,MHR,GetUnitX(p5),GetUnitY(p5))>400 thencall DestroyEffect(RWE(IAE,"FX"))call O1E(IAE)call IRE(t)call KillUnit(MIE)call SetUnitPathing(m5,true)call JRE(GetUnitX(m5),GetUnitY(m5),$AF)elsecall O5E(IAE,"rRealX0",GetUnitX(p5))call O5E(IAE,"rRealY0",GetUnitY(p5))if d>300 thenset a=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))set XVR=GetUnitX(p5)+300*Cos(a)set XER=GetUnitY(p5)+300*Sin(a)if(IsPointInRegion(ARV,((XVR)*1.),((XER)*1.)))==false thencall SetUnitX(m5,XVR)call SetUnitY(m5,XER)endifendifendifendifset t=nullset p5=nullset m5=nullset MIE=nullreturn falseendfunctionfunction UDA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(p5),1966092377,GetUnitX(p5),GetUnitY(p5),0)local integer DDE=GetUnitAbilityLevel(p5,1093744975)if DDE==0 thenset DDE=GetUnitAbilityLevel(p5,1093750102)+2endifcall GKE(MIE,1093744974)call SetUnitAbilityLevel(MIE,1093744974,GetUnitAbilityLevel(p5,1093744975))call IssueTargetOrderById(MIE,$D0200,m5)call SetUnitPathing(MIE,false)call SetUnitPathing(m5,false)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function UCA))call O8E(IAE,"Source",p5)call O8E(IAE,"Target",m5)call O8E(IAE,"Caster",MIE)call O5E(IAE,"Duration",(2.5+DDE*.5)*1.)call O9E(IAE,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",m5,"chest"))call O5E(IAE,"rRealX0",GetUnitX(p5))call O5E(IAE,"rRealY0",GetUnitY(p5))call IVE(p5,"AI|Lasso")set t=nullset p5=nullset m5=nullset MIE=nullendfunctionfunction UFA takes nothing returns booleanif(GetSpellAbilityId()==1093744975 or GetSpellAbilityId()==1093750102)and FUE(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!=1848651852 thencall UDA()endifreturn falseendfunctionfunction XNX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UFA))set t=nullendfunctionfunction UGA takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif B4E(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource())) and w1==false thenif W1==false thencall UnitRemoveAbility(GetTriggerUnit(),1110458957)call IRE(GetTriggeringTrigger())endifendifif W1 thenset W1=falseendifif w1 thenset w1=falseendifelsecall IRE(GetTriggeringTrigger())endifreturn falseendfunctionfunction UHA takes nothing returns nothinglocal unit m5=GetEnumUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function UGA))set m5=nullset t=nullendfunctionfunction UJA takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),1110458957)>0 and GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0endfunctionfunction UKA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local real x=(LoadReal(YX,(IAE),(6)))local real y=(LoadReal(YX,(IAE),(7)))local group g=FYE()call GroupEnumUnitsInRange(g,x,y,$3E8,Condition(function UJA))call ForGroup(g,function UHA)call FWE(g)call FlushChildHashtable(YX,(IAE))call IRE(t)set t=nullset g=nullreturn falseendfunctionfunction ULA takes nothing returns nothingif H1==1 or H1==2 thencall MNE(GetTriggerUnit(),GetEnumUnit(),2,80)endifif H1==1 or H1==3 thencall MNE(GetTriggerUnit(),GetEnumUnit(),1,80)endifendfunctionfunction UMA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local unit MIE=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)local group g=FYE()local unit uset W8V=GetUnitAbilityLevel(p5,1093747009)if((LoadInteger(YX,(GetHandleId((p5))),((4270))))==1)==false thencall SetUnitTimeScale(MIE,2.5)call UnitApplyTimedLife(MIE,1112820806,2)set MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)call GKE(MIE,1093747001)call SetUnitAbilityLevel(MIE,1093747001,GetUnitAbilityLevel(p5,1093747009))call IssueImmediateOrderById(MIE,$D009F)call GroupEnumUnitsInRange(g,x,y,500,Condition(function LRE))set H1=1call ForGroup(g,function ULA)call FWE(g)call TriggerRegisterTimerEvent(t,.65,false)call TriggerAddCondition(t,Condition(function UKA))call SaveReal(YX,(IAE),(6),((x)*1.))call SaveReal(YX,(IAE),(7),((y)*1.))elsecall SetUnitTimeScale(MIE,2.5)call UnitApplyTimedLife(MIE,1112820806,2)set MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)call GKE(MIE,1093747001)call SetUnitAbilityLevel(MIE,1093747001,GetUnitAbilityLevel(p5,1093747009))call IssueImmediateOrderById(MIE,$D009F)call GroupEnumUnitsInRange(g,x,y,500,Condition(function LRE))set H1=2call ForGroup(g,function ULA)call TriggerRegisterTimerEvent(t,.65,false)call TriggerAddCondition(t,Condition(function UKA))call SaveReal(YX,(IAE),(6),((x)*1.))call SaveReal(YX,(IAE),(7),((y)*1.))set t=CreateTrigger()set IAE=GetHandleId(t)set u=(HZV[GetPlayerId(GetOwningPlayer((p5)))])set x=GetUnitX(u)set y=GetUnitY(u)set MIE=CreateUnit(GetOwningPlayer(p5),1747990362,x,y,0)call SetUnitTimeScale(MIE,2.5)call UnitApplyTimedLife(MIE,1112820806,2)set MIE=CreateUnit(GetOwningPlayer(p5),1697656901,x,y,0)call GKE(MIE,1093747001)call SetUnitAbilityLevel(MIE,1093747001,GetUnitAbilityLevel(p5,1093747009))call IssueImmediateOrderById(MIE,$D009F)call GroupEnumUnitsInRange(g,x,y,500,Condition(function LRE))set H1=3call ForGroup(g,function ULA)call FWE(g)call TriggerRegisterTimerEvent(t,.65,false)call TriggerAddCondition(t,Condition(function UKA))call SaveReal(YX,(IAE),(6),((x)*1.))call SaveReal(YX,(IAE),(7),((y)*1.))call SetUnitAnimationByIndex(u,3)endifset t=nullset p5=nullset MIE=nullset g=nullendfunctionfunction UPA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local unit UQA=(LoadUnitHandle(YX,(IAE),(335)))local boolean USA=(LoadBoolean(YX,(IAE),(336)))if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall SaveInteger(YX,(GetHandleId((p5))),((4269)),(2))call SaveBoolean(YX,(GetHandleId(UQA)),(337),(true))if USA thencall ShowUnit(UQA,false)call KillUnit(UQA)endifcall FlushChildHashtable(YX,(IAE))call IRE(t)elseif USA thencall SetUnitFacing(UQA,GetUnitFacing(p5))endifendifset t=nullset UQA=nullreturn falseendfunctionfunction UTA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local unit UQAlocal boolean KillImagecall SaveBoolean(YX,(IAE),(336),(false))if((LoadInteger(YX,(GetHandleId((p5))),((4270))))==1)==false thencall SaveBoolean(YX,(IAE),(336),(true))set UQA=CreateUnit(GetOwningPlayer(p5),1747990357,GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call GKE(UQA,1097625443)call GKE(UQA,1097167980)call SetUnitPosition(UQA,GetUnitX(p5),GetUnitY(p5))call SetUnitScale(UQA,1.4,1.4,1.4)elseset UQA=(HZV[GetPlayerId(GetOwningPlayer((p5)))])endifcall IssueImmediateOrderById(UQA,$D0004)call SaveInteger(YX,(GetHandleId((p5))),((4269)),(1))call SetUnitAnimation(UQA,"spell slam")call QueueUnitAnimation(UQA,"spell slam")call SaveUnitHandle(YX,(IAE),(335),(UQA))call SaveUnitHandle(YX,(IAE),(2),(p5))call TriggerRegisterTimerEvent(t,.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function UPA))call SaveUnitHandle(YX,(IAE),(335),(UQA))set t=nullset p5=nullset UQA=nullendfunctionfunction UUA takes nothing returns booleanif GetSpellAbilityId()==1093747009 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH thencall UMA()endifcall UTA()endifreturn falseendfunctionfunction XFX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function UUA))set t=nullendfunctionfunction UWA takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),1093747521)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093747521)call UnitRemoveAbility(GetEnumUnit(),1110458960)endifif GetUnitAbilityLevel(GetEnumUnit(),1093747513)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093747513)call UnitRemoveAbility(GetEnumUnit(),1110458960)endifif GetUnitAbilityLevel(GetEnumUnit(),1093747522)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093747522)call UnitRemoveAbility(GetEnumUnit(),1110458960)endifif GetUnitAbilityLevel(GetEnumUnit(),1093747523)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093747523)call UnitRemoveAbility(GetEnumUnit(),1110458960)endifcall MPE(GetEnumUnit(),0)endfunctionfunction UYA takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif m1==1 thenif GetUnitAbilityLevel(GetEnumUnit(),1093747521)==0 thencall GKE(GetEnumUnit(),1093747521)endifelseif m1==2 thenif GetUnitAbilityLevel(GetEnumUnit(),1093747513)==0 thencall GKE(GetEnumUnit(),1093747513)endifelseif m1==3 thenif GetUnitAbilityLevel(GetEnumUnit(),1093747522)==0 thencall GKE(GetEnumUnit(),1093747522)endifelseif m1==4 thenif GetUnitAbilityLevel(GetEnumUnit(),1093747523)==0 thencall GKE(GetEnumUnit(),1093747523)endifendifif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall MPE(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/ 7)*I2R(m1)/ 5))endifendfunctionfunction UZA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local group EHI=(LoadGroupHandle(YX,(IAE),(340)))local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=FYE()local group g2if p5==null thencall FlushChildHashtable(YX,(IAE))call IRE(t)call FWE(EHI)call FWE(g)return falseendifset I9V=p5set m1=GetUnitAbilityLevel(p5,1093747524)call GroupEnumUnitsInRange(g,x,y,300,Condition(function K3E))if((LoadInteger(YX,(GetHandleId((p5))),((4270))))==1) thenset g2=FYE()call GroupEnumUnitsInRange(g2,GetUnitX((HZV[GetPlayerId(GetOwningPlayer((p5)))])),GetUnitY((HZV[GetPlayerId(GetOwningPlayer((p5)))])),300,Condition(function K3E))call GroupAddGroup(g2,g)call FWE(g2)set g2=nullendifcall GroupRemoveGroup(g,EHI)call ForGroup(EHI,function UWA)if GME(p5)==false thencall ForGroup(g,function UYA)endifcall SaveGroupHandle(YX,(IAE),(340),(g))call FWE(EHI)set t=nullset p5=nullset EHI=nullreturn falseendfunctionfunction U_A takes unit p5,boolean CEO returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local integer ilocal player pcall GKE(p5,1093747537)call TriggerRegisterTimerEvent(t,.3,true)call TriggerAddCondition(t,Condition(function UZA))call SaveUnitHandle(YX,(IAE),(2),(p5))call SaveGroupHandle(YX,(IAE),(340),(FYE()))call SaveTriggerHandle(YX,(GetHandleId(p5)),(338),(t))call SaveBoolean(YX,(GetHandleId(p5)),(339),(true))set i=0loopexitwhen i>5set p=RX[i]call SetPlayerAbilityAvailable(p,1093747521,false)call SetPlayerAbilityAvailable(p,1093747513,false)call SetPlayerAbilityAvailable(p,1093747522,false)call SetPlayerAbilityAvailable(p,1093747523,false)set p=GX[i]call SetPlayerAbilityAvailable(p,1093747521,false)call SetPlayerAbilityAvailable(p,1093747513,false)call SetPlayerAbilityAvailable(p,1093747522,false)call SetPlayerAbilityAvailable(p,1093747523,false)set i=i+1endloopif CEO thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction U0A takes nothing returns booleanif GetLearnedSkill()==1093747524 and GetUnitAbilityLevel(GetTriggerUnit(),1093747524)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall U_A(GetTriggerUnit(),false)endifreturn falseendfunctionfunction XDX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function U0A))set t=nullendfunctionfunction U1A takes nothing returns nothinglocal real x1=Z1local real y1=v2local real x2=H_Vlocal real y2=o2local real x3=GetUnitX(GetEnumUnit())local real y3=GetUnitY(GetEnumUnit())local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))local real x4=x1+u*(x2-x1)local real y4=y1+u*(y2-y1)local real HUE=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*.35/ 2if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall SetUnitPosition(GetEnumUnit(),x4,y4)elsecall SetUnitX(GetEnumUnit(),x4)call SetUnitY(GetEnumUnit(),y4)endifcall IssueTargetOrderById(Y1,$D006B,GetEnumUnit())call MNE(z1,GetEnumUnit(),1,HUE)call MNE(z1,GetEnumUnit(),2,HUE)endfunctionfunction U2A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local real x0=(LoadReal(YX,(IAE),(282)))local real y0=(LoadReal(YX,(IAE),(283)))local real a0=(LoadReal(YX,(IAE),(341)))local integer i=0local real xlocal real ylocal group g=FYE()local group F1R=FYE()local integer DDE=GetUnitAbilityLevel(p5,1093746993)call FlushChildHashtable(YX,(IAE))call IRE(t)set I9V=p5set z1=p5set Y1=CreateUnit(GetOwningPlayer(p5),1697656901,x0,y0,0)call GKE(Y1,1093747525)call SetUnitAbilityLevel(Y1,1093747525,DDE)loopexitwhen i>$Bset x=x0+i*$C8*Cos(a0)set y=y0+i*$C8*Sin(a0)call H1E("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-$C8))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+$C8,y))call JRE(x,y,300)call GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))call GroupAddGroup(g,F1R)call GroupClear(g)set i=i+1endloopset Z1=x0set v2=y0set H_V=xset o2=ycall ForGroup(F1R,function U1A)call FWE(F1R)call FWE(g)set t=nullset p5=nullreturn falseendfunctionfunction U3A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local real a=(LoadReal(YX,(IAE),($89)))local real x0=(LoadReal(YX,(IAE),(282)))local real y0=(LoadReal(YX,(IAE),(283)))local real a0local real U4Alocal real U5Alocal real U6Alocal real U7Alocal real U8Alocal real U9Alocal real WVAlocal real WEAlocal real WXAlocal real WOAlocal real WRAlocal real WIAlocal real xlocal real ylocal ubersplat G2Alocal integer CGX=GetTriggerEvalCount(t)set x=x0+$C8*CGX*Cos(a)set y=y0+$C8*CGX*Sin(a)set G2A=CreateUbersplat(x,y,"THND",$FF,$FF,$FF,$FF,false,false)call SetUbersplatRenderAlways(G2A,true)set U4A=x+$C8*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))set U5A=y+$C8*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))set U6A=x+$C8*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))set U7A=y+$C8*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))set U8A=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))set U9A=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))set WVA=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))set WEA=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))set WXA=xset WOA=yset WRA=xset WIA=ycall JBE(GetOwningPlayer(p5),4,x,y,500)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",U4A,U5A))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",U6A,U7A))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",U8A,U9A))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",WVA,WEA))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",WXA,WOA))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",WRA,WIA))if GetTriggerEvalCount(t)>$B thenset x0=(LoadReal(YX,(IAE),(282)))set y0=(LoadReal(YX,(IAE),(283)))set a0=(LoadReal(YX,(IAE),(341)))call FlushChildHashtable(YX,(IAE))call IRE(t)set t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function U2A))call SaveUnitHandle(YX,(IAE),(2),(p5))call SaveReal(YX,(IAE),(282),((x0)*1.))call SaveReal(YX,(IAE),(283),((y0)*1.))call SaveReal(YX,(IAE),(341),((a0)*1.))endifset t=nullset p5=nullreturn falseendfunctionfunction WAA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))call TriggerRegisterTimerEvent(t,.22,true)call TriggerAddCondition(t,Condition(function U3A))call SaveUnitHandle(YX,(IAE),(2),(p5))call SaveReal(YX,(IAE),(6),((GetUnitX(p5))*1.))call SaveReal(YX,(IAE),(7),((GetUnitY(p5))*1.))call SaveReal(YX,(IAE),($89),((a)*1.))call SaveReal(YX,(IAE),(282),((GetUnitX(p5))*1.))call SaveReal(YX,(IAE),(283),((GetUnitY(p5))*1.))call SaveReal(YX,(IAE),(341),((a)*1.))set t=nullset p5=nullendfunctionfunction WNA takes nothing returns booleanif GetSpellAbilityId()==1093746993 thencall WAA()endifreturn falseendfunctionfunction XBX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WNA))set t=nullendfunctionfunction WBA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))call DestroyEffect((LoadEffectHandle(YX,(IAE),(32))))call FlushChildHashtable(YX,(IAE))call IRE(t)call MHE(p5,0)set t=nullset p5=nullreturn falseendfunctionfunction WCA takes unit p5,unit UQA,integer WDA,integer WFA returns nothinglocal trigger tlocal integer IAElocal unit MIEcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",UQA,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,left"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,right"))call ShowUnit(UQA,false)call KillUnit(UQA)call SaveInteger(YX,(GetHandleId((p5))),((4270)),(2))if WFA>0 or WDA>0 thenset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,9.1,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WBA))call SaveUnitHandle(YX,(IAE),(2),(p5))set MIE=CreateUnit(GetOwningPlayer(p5),1697656901,GetUnitX(p5),GetUnitY(p5),0)call GKE(MIE,1093748537)call SetUnitAbilityLevel(MIE,1093748537,WFA)call IssueTargetOrderById(MIE,$D0085,p5)call MHE(p5,WDA)call SaveEffectHandle(YX,(IAE),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",p5,"weapon")))endifset t=nullset MIE=nullendfunctionfunction WGA takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),M1)==false thenif IsUnitIllusion(GetEnumUnit())==false thenif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thenset HWV=HWV+(HUV*$A)set HYV=HYV+5elseset HWV=HWV+(HUV*3)set HYV=HYV+1endifendifcall GroupAddUnit(M1,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))set w1=trueset W1=truecall MNE(HSV,GetEnumUnit(),1,HTV)set w1=falseset W1=falseendifendfunctionfunction WHA takes real WJA,real WKA,real WLA,real WMA,real WPA,real WQA returns reallocal real WSAlocal real WTAlocal real WUAlocal real WWAlocal real WYAlocal real WZAlocal real W_Alocal real REFLECTED_SCALED_V_Xlocal real REFLECTED_SCALED_V_Ylocal real W0Alocal real W1Alocal real W2Alocal real W3Alocal real W4Alocal real W5Alocal real W6Alocal real W7Aset W2A=WLA-WPAset W3A=WMA-WQAset W4A=-1*W3Aset W5A=W2Aset W6A=SquareRoot(W4A*W4A+W5A*W5A)set W4A=W4A/ W6Aset W5A=W5A/ W6Aset WSA=WJA-WLAset WTA=WKA-WMAset WUA=SquareRoot(WSA*WSA+WTA*WTA)set WWA=WSA/ WUAset WYA=WTA/ WUAset W7A=WSA*W4A+WTA*W5Aset WZA=-1*WJA+2*WLA+2*W4A*W7Aset W_A=-1*WKA+2*WMA+2*W5A*W7Aset W0A=WPA+WLA-WZAset W1A=WQA+WMA-W_Areturn W0Aendfunctionfunction W8A takes real WJA,real WKA,real WLA,real WMA,real WPA,real WQA returns reallocal real WSAlocal real WTAlocal real WUAlocal real WWAlocal real WYAlocal real WZAlocal real W_Alocal real REFLECTED_SCALED_V_Xlocal real REFLECTED_SCALED_V_Ylocal real W0Alocal real W1Alocal real W2Alocal real W3Alocal real W4Alocal real W5Alocal real W6Alocal real W7Aset W2A=WLA-WPAset W3A=WMA-WQAset W4A=-1*W3Aset W5A=W2Aset W6A=SquareRoot(W4A*W4A+W5A*W5A)set W4A=W4A/ W6Aset W5A=W5A/ W6Aset WSA=WJA-WLAset WTA=WKA-WMAset WUA=SquareRoot(WSA*WSA+WTA*WTA)set WWA=WSA/ WUAset WYA=WTA/ WUAset W7A=WSA*W4A+WTA*W5Aset WZA=-1*WJA+2*WLA+2*W4A*W7Aset W_A=-1*WKA+2*WMA+2*W5A*W7Aset W0A=WPA+WLA-WZAset W1A=WQA+WMA-W_Areturn W1Aendfunctionfunction W9A takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer IAE=GetHandleId(t)local unit p5=(LoadUnitHandle(YX,(IAE),(2)))local unit UQA=(LoadUnitHandle(YX,(IAE),(335)))local real x0=(LoadReal(YX,(IAE),(282)))local real y0=(LoadReal(YX,(IAE),(283)))local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetUnitX(UQA)local real y2=GetUnitY(UQA)local real x3local real y3local real alocal group F1R=(LoadGroupHandle(YX,(IAE),($BB)))local group glocal real dlocal integer DDE=GetUnitAbilityLevel(p5,1093747000)local real YVA=(LoadReal(YX,(IAE),(342)))local real M2E=(TimerGetElapsed(K))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FWE(F1R)call FlushChildHashtable(YX,(IAE))call IRE(t)call ShowUnit(UQA,false)call KillUnit(UQA)call SaveInteger(YX,(GetHandleId((p5))),((4270)),(2))if(LoadInteger(YX,(GetHandleId(p5)),(704)))==0 or(LoadInteger(YX,(GetHandleId(p5)),(704)))==1093747000 thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808458,false)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093808458 thencall SaveBoolean(YX,(IAE),($F9),(true))call SetUnitAnimationByIndex(UQA,3)endifelseif E4E(x1,y1,x2,y2)<100 thencall WCA(p5,UQA,(LoadInteger(YX,(IAE),(344))),(LoadInteger(YX,(IAE),(345))))call FWE(F1R)call FlushChildHashtable(YX,(IAE))call IRE(t)if(LoadInteger(YX,(GetHandleId(p5)),(704)))==0 or(LoadInteger(YX,(GetHandleId(p5)),(704)))==1093747000 thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808458,false)elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(YX,(IAE),($F9))) thenif GetTriggerEvalCount(t)==401 and(LoadBoolean(YX,(IAE),($F9)))==false thencall SetUnitAnimationByIndex(UQA,3)endifset g=FYE()set HUV=DDEset HWV=(LoadInteger(YX,(IAE),(344)))set HYV=(LoadInteger(YX,(IAE),(345)))set HTV=80+40*DDEset HSV=p5set I9V=p5set M1=F1Rcall GroupEnumUnitsInRange(g,GetUnitX(UQA),GetUnitY(UQA),300,Condition(function K3E))call ForGroup(g,function WGA)call FWE(g)set g=nullcall SaveInteger(YX,(IAE),(344),(HWV))call SaveInteger(YX,(IAE),(345),(HYV))if((LoadInteger(YX,(GetHandleId((p5))),((4269))))==1)==false thenset a=Atan2(y1-y2,x1-x2)call SetUnitFacing(UQA,a*bj_RADTODEG)set x3=GetUnitX(UQA)+$C*Cos(a)set y3=GetUnitY(UQA)+$C*Sin(a)call SetUnitX(UQA,HRE(x3))call SetUnitY(UQA,HIE(y3))call SaveReal(YX,(IAE),(282),((x1)*1.))call SaveReal(YX,(IAE),(283),((y1)*1.))endifelseset g=FYE()set HUV=DDEset HWV=(LoadInteger(YX,(IAE),(344)))set HYV=(LoadInteger(YX,(IAE),(345)))set HTV=80+40*DDEset HSV=p5set I9V=p5set M1=F1Rcall GroupEnumUnitsInRange(g,GetUnitX(UQA),GetUnitY(UQA),300,Condition(function K3E))call ForGroup(g,function WGA)call FWE(g)set g=nullcall SaveInteger(YX,(IAE),(344),(HWV))call SaveInteger(YX,(IAE),(345),(HYV))if x0!=x1 or y0!=y1 thenset YVA=M2Ecall SaveReal(YX,(IAE),(342),((YVA)*1.))endifif((LoadInteger(YX,(GetHandleId((p5))),((4269))))==1)==false thenif YVA==M2E thenset x3=WHA(x0,y0,x1,y1,x2,y2)set y3=W8A(x0,y0,x1,y1,x2,y2)set a=Atan2(y3-y2,x3-x2)*bj_RADTODEGcall SetUnitFacing(UQA,a)call SetUnitX(UQA,HRE(x3))call SetUnitY(UQA,HIE(y3))call SaveReal(YX,(IAE),(282),((x1)*1.))call SaveReal(YX,(IAE),(283),((y1)*1.))endifif(YVA+.3)<M2E thencall SaveInteger(YX,(IAE),(343),(1))call SetUnitAnimationByIndex(UQA,2)elseif(YVA+.3)>M2E and(LoadInteger(YX,(IAE),(343)))==1 thencall SaveInteger(YX,(IAE),(343),(2))call SetUnitAnimationByIndex(UQA,3)elseif(LoadInteger(YX,(IAE),(343)))==3 thencall SetUnitAnimationByIndex(UQA,2)call SaveInteger(YX,(IAE),(343),(1))endifelsecall SaveInteger(YX,(IAE),(343),(3))endifendifset t=nullset p5=nullset UQA=nullset F1R=nullreturn falseendfunctionfunction YEA takes nothing returns nothinglocal trigger t=CreateTrigger()local integer IAE=GetHandleId(t)local unit p5=GetTriggerUnit()local real x0=GetUnitX(p5)local real y0=GetUnitY(p5)local location l=GetSpellTargetLoc()local real WVO=GetLocationX(l)local real WEO=GetLocationY(l)local real a=Atan2(WEO-y0,WVO-x0)local real d=HTE(E4E(x0,y0,WVO,WEO),300)local real x1=HRE(x0+d*Cos(a))local real y1=HIE(y0+d*Sin(a))local unit UQA=CreateUnit(GetOwningPlayer(p5),1747990357,x1,y1,(a*bj_RADTODEG)-$B4)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",UQA,"chest"))if GetUnitAbilityLevel(p5,1093747524)>0 thencall GKE(UQA,1093747537)endifcall UnitAddAbility(p5,1093808458)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093747000,false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),1093808458,true)call RemoveLocation(l)set HZV[GetPlayerId(GetOwningPlayer(p5))]=UQAcall SaveInteger(YX,(GetHandleId((p5))),((4270)),(1))call GKE(UQA,1097625443)call GKE(UQA,1097167980)if(LoadBoolean(YX,(GetHandleId(p5)),(339))) thencall TriggerEvaluate((LoadTriggerHandle(YX,(IAE),(338))))endifcall TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function W9A))call SaveUnitHandle(YX,(IAE),(2),(p5))call SaveUnitHandle(YX,(IAE),(335),(UQA))call SaveReal(YX,(IAE),(282),((x0)*1.))call SaveReal(YX,(IAE),(283),((y0)*1.))call SaveGroupHandle(YX,(IAE),($BB),(FYE()))call SaveInteger(YX,(IAE),(343),(2))call SaveReal(YX,(IAE),(342),(((TimerGetElapsed(K))-5)*1.))call SaveBoolean(YX,(IAE),($F9),(false))set t=nullset p5=nullset UQA=nullendfunctionfunction YXA takes nothing returns booleanif GetSpellAbilityId()==1093747000 thencall YEA()endifreturn falseendfunctionfunction XCX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YXA))call HCE(1093748537)set t=nullendfunctionfunction YOA takes nothing returns booleanif GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER and(GetItemTypeId(GetManipulatedItem())==BU[C7]or GetItemTypeId(GetManipulatedItem())==BU[B7]or GetItemTypeId(GetManipulatedItem())==BU[D7])thencall UnitRemoveAbility(GetTriggerUnit(),1093743681)endifreturn falseendfunctionfunction YRA takes unit u,integer d returns nothinglocal texttag t=CreateTextTag()call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName(1848659025),.03)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,50,75,$FF,$F)call SetTextTagVelocity(t,0,.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,2.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)call SetTextTagVisibility(t,true)if IsUnitVisible(u,GetLocalPlayer())or FJE(GetLocalPlayer())thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifset t=nullendfunctionfunction YIA takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()if GetSpellAbilityId()==1093678387 and GetUnitState(p5,UNIT_STATE_LIFE)>1 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*.15)call YRA(m5,R2I(GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,1093678387)*.15))call KillUnit(m5)endifset p5=nullset m5=nullendfunctionfunction YAA takes nothing returns booleanif GetSpellAbilityId()==1093678387 and XDE(GetSpellTargetUnit())==false thencall YIA()endifreturn falseendfunctionfunction YNA takes item QJE,unit J6E,boolean DVR returns nothinglocal integer HKX=XGE(QJE)local integer H2E=GetHandleId(J6E)local string s=""if(HKX==GY and OIE(J6E,GY,QJE)==null)or(HKX==HY and OIE(J6E,HY,QJE)==null)thenif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E)) or FJE(GetLocalPlayer())thenset s="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"endifif DVR thenif NZA(J6E)>0 or GetItemType(QJE)==ITEM_TYPE_PERMANENT or GetItemType(QJE)==ITEM_TYPE_CAMPAIGN thenif GetUnitAbilityLevel(J6E,1093809729)==0 and GetUnitAbilityLevel(J6E,1093809730)==0 thenif s=="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl" thencall GKE(J6E,1093809729)elsecall GKE(J6E,1093809730)endifendifendifelseif not(GetUnitAbilityLevel(J6E,1093809729)==0 and GetUnitAbilityLevel(J6E,1093809730)==0)thencall UnitRemoveAbility(J6E,1093809730)call UnitRemoveAbility(J6E,1093809729)call RemoveSavedHandle(YX,(H2E),(670))endifendifendifendfunctionfunction YBA takes nothing returns booleanlocal unit p5=GetTriggerUnit()local item YCA=GetManipulatedItem()local integer id=GetItemTypeId(YCA)if YCA==null or IsUnitIllusion(p5) or IsUnitType(p5,UNIT_TYPE_HERO)==false or GetUnitTypeId(p5)==1211117642 or GetItemTypeId(YCA)==1227894853 or GetItemTypeId(YCA)==1227895373 thenset p5=nullset YCA=nullreturn falseendifif(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(YCA)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM thencall YNA(YCA,p5,false)call PGE("DRI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),BU[HDX(XGE(YCA))])elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thencall YNA(YCA,p5,true)call PGE("PUI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),BU[HDX(XGE(YCA))])endifset p5=nullset YCA=nullreturn falseendfunctionfunction YDA takes unit DWA returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(DWA))local integer YGA=DUA(DWA,1)local integer YHA=GetUnitAbilityLevel(DWA,IXV[YGA])call UnitRemoveAbility(DWA,INV[YGA])call UnitRemoveAbility(DWA,1094004784)call DisableTrigger(rj[YFA])call DisableTrigger(Ej[YFA])call UnitRemoveAbility(DWA,1093686081)if YGA==43 thencall O4E(GetHandleId(DWA),"RefractionPrevent_Remaining",0)call O4E(GetHandleId(DWA),"RefractionDamage_Remaining",0)call UnitRemoveAbility(DWA,1093685830)call UnitRemoveAbility(DWA,1093685837)call UnitRemoveAbility(DWA,1093685838)endifcall D4E(rj[YFA])call D4E(Ej[YFA])if YHA>0 thencall UnitAddAbility(DWA,1094004784)call SetUnitAbilityLevel(DWA,1094004784,YHA)endifset rj[YFA]=nullset Ej[YFA]=nullendfunctionfunction YJA takes unit DWA returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(DWA))local integer YGA=DUA(DWA,2)local integer YKA=GetUnitAbilityLevel(DWA,IOV[YGA])local integer i=1call UnitRemoveAbility(DWA,IBV[YGA])call UnitRemoveAbility(DWA,1094004785)call DisableTrigger(aj[YFA])call DisableTrigger(Rj[YFA])if YGA==59 thencall UnitRemoveAbility(DWA,1093677617)call O4E(GetHandleId(DWA),"TotalWebs",0)loopexitwhen i>8call RemoveUnit(RME(GetHandleId(DWA),"Web"+I2S(i)))set i=i+1endloopendifif YGA==62 thencall UnitRemoveAbility(DWA,1093679171)call RemoveUnit(RME(GetHandleId(Rj[YFA]),"VisionUnit"))if GetUnitAbilityLevel(DWA,1093679158)==0 thencall UnitRemoveAbility(DWA,1093742902)call UnitRemoveAbility(DWA,1093742903)endifendifif YGA==78 thencall MHE(DWA,0)endifcall D4E(aj[YFA])call D4E(Rj[YFA])if YKA>0 thencall UnitAddAbility(DWA,1094004785)call SetUnitAbilityLevel(DWA,1094004785,YKA)endifset aj[YFA]=nullset Rj[YFA]=nullendfunctionfunction Vge takes nothing returns nothingcall UnitShareVision(GetEnumUnit(),GetOwningPlayer(ZX),false)endfunctionfunction YLA takes unit DWA returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(DWA))local integer YGA=DUA(DWA,3)local integer YMA=GetUnitAbilityLevel(DWA,IRV[YGA])local group g=nullcall UnitRemoveAbility(DWA,ICV[YGA])call UnitRemoveAbility(DWA,1094004786)call DisableTrigger(nj[YFA])call DisableTrigger(Aj[YFA])call UnitRemoveAbility(DWA,1093743428)if YGA==$F thencall UnitRemoveAbility(DWA,1093747537)call ForGroup(RUE(GetHandleId(nj[YFA]),"ActiveGroup"),function UWA)call FWE(RUE(GetHandleId(nj[YFA]),"ActiveGroup"))endifif YGA==27 thencall UnitRemoveAbility(DWA,1093684826)endifif YGA==38 thencall UnitRemoveAbility(DWA,1093748291)endifif YGA==41 thencall DestroyEffect(RWE(GetHandleId(DWA),"OverloadFX1"))call DestroyEffect(RWE(GetHandleId(DWA),"OverloadFX2"))endifif YGA==42 thencall DestroyEffect(RWE(GetHandleId(nj[YFA]),"FX1"))call DestroyEffect(RWE(GetHandleId(nj[YFA]),"FX2"))call MHE(DWA,0)call MME(DWA,0)endifif YGA==58 thencall RemoveUnit(RME(GetHandleId(DWA),"FeralHeartCaster"))endifif YGA==60 thencall SetUnitVertexColorBJ(DWA,100,100,100,0)call UnitRemoveAbility(DWA,1093743430)call UnitRemoveAbility(DWA,1093743432)call UnitRemoveAbility(DWA,1093743431)call UnitRemoveAbility(DWA,1110458674)call UnitRemoveAbility(DWA,1110458673)call UnitRemoveAbility(DWA,1110458675)call UnitRemoveAbility(DWA,1093743433)call UnitRemoveAbility(DWA,1110458672)endifif YGA==62 thencall UnitRemoveAbility(DWA,1395667009)call RemoveUnit(RME(GetHandleId(Aj[YFA]),"VisionUnit"))if GetUnitAbilityLevel(DWA,1093679173)==0 thencall UnitRemoveAbility(DWA,1093742902)call UnitRemoveAbility(DWA,1093742903)endifendifif YGA==87 thencall UnitRemoveAbility(DWA,1093685068)call UnitRemoveAbility(DWA,1093685069)call UnitRemoveAbility(DWA,1093685070)call UnitRemoveAbility(DWA,1093685064)endifcall D4E(nj[YFA])call D4E(Aj[YFA])if YMA>0 thencall UnitAddAbility(DWA,1094004786)call SetUnitAbilityLevel(DWA,1094004786,YMA)endifset nj[YFA]=nullset Aj[YFA]=nullset g=nullendfunctionfunction YPA takes unit DWA returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(DWA))local integer YGA=DUA(DWA,4)local boolean P6O=OXE(DWA,BU[RLV])local integer YQA=GetUnitAbilityLevel(DWA,IIV[YGA])if P6O and IAV[YGA]!=0 thenset YQA=GetUnitAbilityLevel(DWA,IAV[YGA])endifcall UnitRemoveAbility(DWA,IDV[YGA])call UnitRemoveAbility(DWA,IFV[YGA])call UnitRemoveAbility(DWA,1094004787)call DisableTrigger(Vj[YFA])call DisableTrigger(Nj[YFA])call UnitRemoveAbility(DWA,1093684546)call UnitRemoveAbility(DWA,1093677652)call UnitRemoveAbility(DWA,1093685844)call UnitRemoveAbility(DWA,1093683265)call UnitRemoveAbility(DWA,1093749061)call UnitRemoveAbility(DWA,1110459193)call UnitRemoveAbility(DWA,1093749062)call UnitRemoveAbility(DWA,1110459193)call UnitRemoveAbility(DWA,1093749063)call UnitRemoveAbility(DWA,1110459193)if YGA==29 thencall RemoveUnit(RME(GetHandleId(DWA),"Warpath|Caster"))call MHE(DWA,0)endifcall D4E(Vj[YFA])call D4E(Nj[YFA])if YQA>0 thencall UnitAddAbility(DWA,1094004787)call SetUnitAbilityLevel(DWA,1094004787,YQA)endifcall TimerStart(CLV[YFA],0,false,null)set Vj[YFA]=nullset Nj[YFA]=nullendfunctionfunction YSA takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit DWA=RME(GetHandleId(t),"FormlessUnit")local integer YTA=R1E(GetHandleId(t),"ROX")call IssueImmediateOrderById(DWA,$D00D2)if YTA==1094004788 thencall YDA(DWA)call YJA(DWA)call YLA(DWA)call YPA(DWA)elseif YTA==1094004789 thencall YDA(DWA)elseif YTA==1094004790 thencall YJA(DWA)elseif YTA==1094004791 thencall YLA(DWA)elseif YTA==1094004792 thencall YPA(DWA)endifcall DestroyTimer(t)set DWA=nullset t=nullendfunctionfunction YUA takes unit DWA,integer YTA returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(DWA))local timer t=CreateTimer()call IssueImmediateOrderById(DWA,$D0004)call O8E(GetHandleId(t),"FormlessUnit",DWA)call O4E(GetHandleId(t),"ROX",YTA)call TimerStart(t,0,false,function YSA)set t=nullendfunctionfunction YWA takes nothing returns booleanif GetSpellAbilityId()==1094004788 or GetSpellAbilityId()==1094004789 or GetSpellAbilityId()==1094004790 or GetSpellAbilityId()==1094004791 or GetSpellAbilityId()==1094004792 thencall YUA(GetTriggerUnit(),GetSpellAbilityId())endifreturn falseendfunctionfunction ROX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YWA))set t=nullendfunctionfunction YYA takes nothing returns booleanreturn GetSpellAbilityId()==1094004784 or GetSpellAbilityId()==1094004785 or GetSpellAbilityId()==1094004786 or GetSpellAbilityId()==1094004787endfunctionfunction YZA takes nothing returns nothinglocal unit DWA=GetTriggerUnit()local player p=GetOwningPlayer(DWA)local integer Y_A=GetUnitPointValue(GetSpellTargetUnit())local integer Y0A=GetUnitAbilityLevel(DWA,GetSpellAbilityId())local integer Y1A=GetSpellAbilityId()local integer YFA=GetPlayerId(p)local unit SDE=nulllocal integer Y2A=0local integer Y3A=0local integer Y4A=0local string Y5A=""local string Y6A=""local boolean P6O=OXE(DWA,BU[RLV])local trigger tlocal integer Y7A=DUA(DWA,1)local integer Y8A=DUA(DWA,2)local integer Y9A=DUA(DWA,3)local integer ZVA=DUA(DWA,4)if Y1A==1094004784 thenset Y2A=IXV[Y_A]set Y3A=INV[Y_A]set Y5A=IGV[Y_A]set Y6A="Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl"elseif Y1A==1094004785 thenset Y2A=IOV[Y_A]set Y3A=IBV[Y_A]set Y5A=IHV[Y_A]set Y6A="Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"elseif Y1A==1094004786 thenset Y2A=IRV[Y_A]set Y3A=ICV[Y_A]set Y5A=IJV[Y_A]set Y6A="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"elseif Y1A==1094004787 thenset Y2A=IIV[Y_A]set Y3A=IDV[Y_A]set Y5A=IKV[Y_A]set Y6A="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"if P6O and IAV[Y_A]!=0 thenset Y2A=IAV[Y_A]set Y3A=IFV[Y_A]endifendifif Y3A==0 thencall HEE(p,"Unable to copy "+GetAbilityName(Y2A)+".")elseif bj[YFA]==false and Y5A!="passive" and(Y5A==IGV[Y7A]or Y5A==IHV[Y8A]or Y5A==IJV[Y9A]or Y5A==IKV[ZVA])thenif Y5A==IGV[Y7A]thenset Y4A=IXV[Y7A]elseif Y5A==IHV[Y8A]thenset Y4A=IOV[Y8A]elseif Y5A==IJV[Y9A]thenset Y4A=IRV[Y9A]elseif Y5A==IKV[ZVA]thenset Y4A=IIV[ZVA]endifcall HEE(p,"Cannot copy "+GetAbilityName(Y2A)+" because you already
        have an ability with this base order ("+GetAbilityName(Y4A)+").
        Use -override to disable this.")elsecall DestroyEffect(AddSpecialEffectTarget(Y6A,DWA,"origin"))call UnitRemoveAbility(DWA,Y1A)call UnitAddAbility(DWA,Y2A)call UnitAddAbility(DWA,Y3A)call SetPlayerAbilityAvailable(p,Y3A,false)call SetUnitAbilityLevel(DWA,Y2A,Y0A)if Y2A==1093686073 thencall UnitAddAbility(DWA,1093686081)elseif Y2A==1093742926 thencall UnitAddAbility(DWA,1093743428)elseif Y2A==1093677130 thencall UnitAddAbility(DWA,1093684546)call SetUnitAbilityLevel(DWA,1093684546,Y0A)elseif Y2A==1093681483 or Y2A==1093748313 thencall UnitAddAbility(DWA,1093687110)elseif Y2A==1093685840 thencall UnitAddAbility(DWA,1093685844)elseif Y2A==1093683257 thencall UnitAddAbility(DWA,1093683265)endifif Y2A==1093682265 thencall F5O(DWA,true)elseif Y2A==1093744728 thencall TTA(DWA,true)elseif Y2A==1093684314 thencall TCO(DWA,true)elseif Y2A==1093747524 thencall U_A(DWA,true)elseif Y2A==1093744977 thencall Z1O(DWA,true)elseif Y2A==1093684531 thencall CYO(DWA,true)elseif Y2A==1093682774 thencall CPO(DWA,true)elseif Y2A==1093749073 thencall CVO(DWA,true)elseif Y2A==1093685048 thencall JBO(DWA,true)elseif Y2A==1093685591 thencall U5O(DWA,true)elseif Y2A==1093685582 thencall HQO(DWA,true)elseif Y2A==1093685585 thencall HZO(DWA,true)elseif Y2A==1093748033 thencall V8R(DWA,true)elseif Y2A==1093677893 thencall AYI(DWA,true)elseif Y2A==1093681735 thencall RTR(DWA,true)elseif Y2A==1093679173 or Y2A==1093679158 thencall JAR(DWA,true,Y2A)elseif Y2A==1093682010 thencall ATR(DWA,true)elseif Y2A==1093679153 thencall NGR(DWA,true)elseif Y2A==1093748022 thencall MER(DWA,true)elseif Y2A==1093686099 thencall EWA(DWA,true)elseif Y2A==1093678149 thencall T_R(DWA,true)elseif Y2A==1093677390 thencall HER(DWA,true)elseif Y2A==1093678660 thenelseif Y2A==1093682515 thencall SDR(DWA,true)elseif Y2A==1093682004 thenelseif Y2A==1093684819 or Y2A==1093747777 thencall OOR(DWA,true)elseif Y2A==1093684801 thencall Q_R(DWA,true)elseif Y2A==1093685065 thencall IDR(DWA,true)elseif Y2A==1093683526 thencall IBR(DWA,true)elseif Y2A==1093749070 thencall XHI(DWA,true)endifendifset DWA=nullset p=nullset t=nullendfunctionfunction RXX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YYA))call TriggerAddAction(t,function YZA)set t=nullendfunctionfunction ZEA takes nothing returns booleanreturn(GetLearnedSkill()==1094004784 or GetLearnedSkill()==1094004785 or GetLearnedSkill()==1094004786 or GetLearnedSkill()==1094004787)and GetUnitAbilityLevel(GetTriggerUnit(),1094004788)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004789)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004790)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004791)==0 and GetUnitAbilityLevel(GetTriggerUnit(),1094004792)==0endfunctionfunction ZXA takes nothing returns booleanreturn GetIssuedOrderId()==$D023Fendfunctionfunction ZOA takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit ZRA=RME(GetHandleId(t),"FormlessUnit")local integer ZIAcall IssueImmediateOrderById(ZRA,$D0240)if GetUnitAbilityLevel(ZRA,1094004788)>0 thenset ZIA=1094004793elseif GetUnitAbilityLevel(ZRA,1094004789)>0 thenset ZIA=1094004801elseif GetUnitAbilityLevel(ZRA,1094004790)>0 thenset ZIA=1094004802elseif GetUnitAbilityLevel(ZRA,1094004791)>0 thenset ZIA=1094004803elseif GetUnitAbilityLevel(ZRA,1094004792)>0 thenset ZIA=0endifcall UnitRemoveAbility(ZRA,1094004793)call UnitRemoveAbility(ZRA,1094004801)call UnitRemoveAbility(ZRA,1094004802)call UnitRemoveAbility(ZRA,1094004803)if ZIA!=0 thencall UnitAddAbility(ZRA,ZIA)call SetPlayerAbilityAvailable(GetOwningPlayer(ZRA),ZIA,false)endifcall O1E(GetHandleId(t))call DestroyTimer(t)set t=nullset ZRA=nullendfunctionfunction ZAA takes nothing returns nothinglocal unit ZRA=GetTriggerUnit()local timer t=CreateTimer()call O8E(GetHandleId(t),"FormlessUnit",ZRA)call TimerStart(t,0,false,function ZOA)set ZRA=nullset t=nullendfunctionfunction ZNA takes nothing returns nothinglocal integer YFA=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function ZXA))call TriggerAddAction(t,function ZAA)if GetLearnedSkill()!=1094004784 thencall UnitAddAbility(GetTriggerUnit(),1094004784)call UnitRemoveAbility(GetTriggerUnit(),1094004784)elseif GetLearnedSkill()!=1094004785 thencall UnitAddAbility(GetTriggerUnit(),1094004785)call UnitRemoveAbility(GetTriggerUnit(),1094004785)elseif GetLearnedSkill()!=1094004786 thencall UnitAddAbility(GetTriggerUnit(),1094004786)call UnitRemoveAbility(GetTriggerUnit(),1094004786)elseif GetLearnedSkill()!=1094004787 thencall UnitAddAbility(GetTriggerUnit(),1094004787)call UnitRemoveAbility(GetTriggerUnit(),1094004787)endifcall UnitAddAbility(GetTriggerUnit(),1094004789)call UnitRemoveAbility(GetTriggerUnit(),1094004789)call UnitAddAbility(GetTriggerUnit(),1094004790)call UnitRemoveAbility(GetTriggerUnit(),1094004790)call UnitAddAbility(GetTriggerUnit(),1094004791)call UnitRemoveAbility(GetTriggerUnit(),1094004791)call UnitAddAbility(GetTriggerUnit(),1094004792)call UnitRemoveAbility(GetTriggerUnit(),1094004792)call UnitAddAbility(GetTriggerUnit(),1094004788)set t=nullendfunctionfunction RRX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZEA))call TriggerAddAction(t,function ZNA)set t=nullendfunctionfunction ZBA takes nothing returns nothinglocal unit F2E=GetTriggerUnit()local player p=GetOwningPlayer(F2E)local real xlocal real ylocal integer Q7Eset I4V[GetPlayerId(GetOwningPlayer((F2E)))]=falseif B2E(GetOwningPlayer(F2E))thenset x=GetRectCenterX(BA)set y=GetRectCenterY(BA)elseset x=GetRectCenterX(NA)set y=GetRectCenterY(NA)endifcall TimerStart(G[GetPlayerId(p)],.0,false,null)if Q4E(F2E)thencall SAE(F2E)elsecall Q2E(F2E,p,x,y,false)endifcall SetUnitX(F2E,x)call SetUnitY(F2E,y)call Q_E(F2E)call SetUnitPathing(F2E,true)if OAE(F2E,BU[EIV])!=null and GetUnitTypeId(F2E)!=1211117642 thenset Q7E=(R2I(((GetItemCharges(OAE(F2E,BU[EIV]))*.67)*1.)))if GetItemCharges(OAE(F2E,BU[EIV]))==1 thenset Q7E=0endifcall SetItemCharges(OAE(F2E,BU[EIV]),Q7E)call AddHeroXP(F2E,GetHeroXP(DUV[GetPlayerId(GetOwningPlayer(F2E))]),true)call RemoveUnit(DUV[GetPlayerId(GetOwningPlayer(F2E))])endifif HFV and GetUnitPointValue(F2E)==500 thencall YUA(F2E,1094004788)endifset F2E=nullset p=nullendfunctionfunction ZCA takes unit ZDA,integer ZFA returns nothingcall UnitRemoveAbility(ZDA,1094006068)call UnitRemoveAbility(ZDA,1094006069)call UnitRemoveAbility(ZDA,1094006070)call UnitRemoveAbility(ZDA,1094006071)call UnitRemoveAbility(ZDA,1094006072)if ZFA>=16 thencall UnitAddAbility(ZDA,1094006072)set ZFA=ZFA-16endifif ZFA>=8 thencall UnitAddAbility(ZDA,1094006071)set ZFA=ZFA-8endifif ZFA>=4 thencall UnitAddAbility(ZDA,1094006070)set ZFA=ZFA-4endifif ZFA>=2 thencall UnitAddAbility(ZDA,1094006069)set ZFA=ZFA-2endifif ZFA>=1 thencall UnitAddAbility(ZDA,1094006068)set ZFA=ZFA-1endifendfunctionfunction ZGA takes nothing returns booleanreturn GetSpellAbilityId()==1094006064endfunctionfunction ZHA takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer ZJA=(1+GetUnitAbilityLevel(ZDA,1094006064))*GetHeroStr(ZDA,true)local integer ZKA=R1E(GetHandleId(ZDA),"iPFCount")+1local integer ZFA=R1E(GetHandleId(ZDA),"iPFStrength")local integer ZLA=ZFAif ZKA>9 thenset ZKA=0set ZLA=HME(5*GetUnitAbilityLevel(ZDA,1094006064),ZFA+1)if ZLA!=ZFA thencall ZCA(ZDA,ZLA)if m5!=ZDA thencall H7E("+1 Strength",3,ZDA,.023,$FF,0,0,$FF)endifendifendifcall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+ZJA)if ZKA!=0 or m5!=ZDA or ZLA==ZFA thencall H7E("+"+I2S(ZJA)+" HP",3,m5,.023,$FF,0,0,$FF)elsecall H7E("+"+I2S(ZJA)+" HP
        +1 Strength",3,ZDA,.023,$FF,0,0,$FF)endifcall O4E(GetHandleId(ZDA),"iPFCount",ZKA)call O4E(GetHandleId(ZDA),"iPFStrength",ZLA)set ZDA=nullset m5=nullendfunctionfunction ZMA takes nothing returns booleanreturn PNE(GetEventDamage())endfunctionfunction ZPA takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local real ZQA=R2E(GetHandleId(ZDA),"rPFDamage")+GetEventDamage()local integer ZFA=R1E(GetHandleId(ZDA),"iPFStrength")local integer ZLA=ZFAif ZQA>=500 thenset ZQA=ZQA-500set ZLA=HME(5*GetUnitAbilityLevel(ZDA,1094006064),ZFA+1)if ZLA!=ZFA thencall ZCA(ZDA,ZLA)call H7E("+1 Strength",3,ZDA,.023,$FF,0,0,$FF)endifendifcall O5E(GetHandleId(ZDA),"rPFDamage",ZQA)call O4E(GetHandleId(ZDA),"iPFStrength",ZLA)set ZDA=nullendfunctionfunction ZSA takes nothing returns booleanreturn GetLearnedSkill()==1094006064 and GetUnitAbilityLevel(GetTriggerUnit(),1094006064)==1endfunctionfunction ZTA takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,ZDA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function ZMA))call TriggerAddAction(t,function ZPA)call O5E(GetHandleId(ZDA),"rPFDamage",0)call O4E(GetHandleId(ZDA),"iPFCount",0)call O4E(GetHandleId(ZDA),"iPFStrength",0)set t=nullset ZDA=nullendfunctionfunction RIX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZGA))call TriggerAddAction(t,function ZHA)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZSA))call TriggerAddAction(t,function ZTA)set t=nullendfunctionfunction ZUA takes unit ZDA,integer ZWA returns nothingcall UnitRemoveAbility(ZDA,1094006073)call UnitRemoveAbility(ZDA,1094006081)call UnitRemoveAbility(ZDA,1094006082)call UnitRemoveAbility(ZDA,1094006083)call UnitRemoveAbility(ZDA,1094006084)if ZWA>=16 thencall UnitAddAbility(ZDA,1094006084)set ZWA=ZWA-16endifif ZWA>=8 thencall UnitAddAbility(ZDA,1094006083)set ZWA=ZWA-8endifif ZWA>=4 thencall UnitAddAbility(ZDA,1094006082)set ZWA=ZWA-4endifif ZWA>=2 thencall UnitAddAbility(ZDA,1094006081)set ZWA=ZWA-2endifif ZWA>=1 thencall UnitAddAbility(ZDA,1094006073)set ZWA=ZWA-1endifendfunctionfunction ZYA takes nothing returns booleanreturn GetSpellAbilityId()==1094006065endfunctionfunction ZZA takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit m5=RME(GetHandleId(t),"SFluxTarget")call UnitRemoveAbility(m5,1094006090)call UnitRemoveAbility(m5,1094006094)call UnitRemoveAbility(m5,1094006095)call UnitRemoveAbility(m5,1094006096)call UnitRemoveAbility(m5,1110783306)call UnitRemoveAbility(m5,1110783310)call UnitRemoveAbility(m5,1110783311)call UnitRemoveAbility(m5,1110783312)call D4E(t)set t=nullset m5=nullendfunctionfunction Z_A takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real Z0A=.25*GetHeroAgi(ZDA,true)local integer Z1A=R1E(GetHandleId(ZDA),"iSFCount")+1local integer ZWA=R1E(GetHandleId(ZDA),"iSFAgility")local integer Z2A=ZWAlocal trigger t=CreateTrigger()local integer DDE=GetUnitAbilityLevel(ZDA,1094006065)if Z1A>9 thenset Z1A=0set Z2A=HME(5*DDE,ZWA+1)if Z2A!=ZWA thencall ZUA(ZDA,Z2A)if m5!=ZDA thencall H7E("+1 Agility",3,ZDA,.023,0,$FF,0,$FF)endifendifendifcall D4E(RTE(GetHandleId(m5),"SFluxEndTrig"))call UnitRemoveAbility(m5,1094006090)call UnitRemoveAbility(m5,1094006094)call UnitRemoveAbility(m5,1094006095)call UnitRemoveAbility(m5,1094006096)call UnitRemoveAbility(m5,1110783306)call UnitRemoveAbility(m5,1110783310)call UnitRemoveAbility(m5,1110783311)call UnitRemoveAbility(m5,1110783312)if DDE==1 thencall UnitAddAbility(m5,1094006090)elseif DDE==2 thencall UnitAddAbility(m5,1094006094)elseif DDE==3 thencall UnitAddAbility(m5,1094006095)elseif DDE==4 thencall UnitAddAbility(m5,1094006096)endifcall TriggerRegisterTimerEvent(t,Z0A,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddAction(t,function ZZA)call O8E(GetHandleId(t),"SFluxTarget",m5)call RVE(GetHandleId(m5),"SFluxEndTrig",t)if Z1A!=0 or m5!=ZDA or Z2A==ZWA thencall H7E(R2S(Z0A)+" s",3,m5,.023,0,$FF,0,$FF)elsecall H7E(R2S(Z0A)+" s
        +1 Agility",3,ZDA,.023,0,$FF,0,$FF)endifcall O4E(GetHandleId(ZDA),"iSFCount",Z1A)call O4E(GetHandleId(ZDA),"iSFAgility",Z2A)set ZDA=nullset m5=nullset t=nullendfunctionfunction Z3A takes nothing returns booleanreturn PNE(GetEventDamage())endfunctionfunction Z4A takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local integer Z5A=R1E(GetHandleId(ZDA),"iSFHit")+1local integer ZWA=R1E(GetHandleId(ZDA),"iSFAgility")local integer Z2A=ZWAif Z5A>=20 thenset Z5A=0set Z2A=HME(5*GetUnitAbilityLevel(ZDA,1094006065),ZWA+1)if Z2A!=ZWA thencall ZUA(ZDA,Z2A)call H7E("+1 Agility",3,ZDA,.023,0,$FF,0,$FF)endifendifcall O4E(GetHandleId(ZDA),"iSFHit",Z5A)call O4E(GetHandleId(ZDA),"iSFAgility",Z2A)set ZDA=nullendfunctionfunction Z6A takes nothing returns booleanreturn GetLearnedSkill()==1094006065 and GetUnitAbilityLevel(GetTriggerUnit(),1094006065)==1endfunctionfunction Z7A takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,ZDA,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function Z3A))call TriggerAddAction(t,function Z4A)call O4E(GetHandleId(ZDA),"iSFHit",0)call O4E(GetHandleId(ZDA),"iSFCount",0)call O4E(GetHandleId(ZDA),"iSFAgility",0)set t=nullset ZDA=nullendfunctionfunction RAX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZYA))call TriggerAddAction(t,function Z_A)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Z6A))call TriggerAddAction(t,function Z7A)set t=nullendfunctionfunction Z8A takes unit ZDA,integer Z9A returns nothingcall UnitRemoveAbility(ZDA,1094006085)call UnitRemoveAbility(ZDA,1094006086)call UnitRemoveAbility(ZDA,1094006087)call UnitRemoveAbility(ZDA,1094006088)call UnitRemoveAbility(ZDA,1094006089)if Z9A>=16 thencall UnitAddAbility(ZDA,1094006089)set Z9A=Z9A-16endifif Z9A>=8 thencall UnitAddAbility(ZDA,1094006088)set Z9A=Z9A-8endifif Z9A>=4 thencall UnitAddAbility(ZDA,1094006087)set Z9A=Z9A-4endifif Z9A>=2 thencall UnitAddAbility(ZDA,1094006086)set Z9A=Z9A-2endifif Z9A>=1 thencall UnitAddAbility(ZDA,1094006085)set Z9A=Z9A-1endifendfunctionfunction VVN takes nothing returns booleanreturn GetSpellAbilityId()==1094006066endfunctionfunction VEN takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit m5=RME(GetHandleId(t),"MFluxTarget")local integer VXN=R1E(GetHandleId(t),"iMFluxMP")call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+VXN)call D4E(t)set t=nullset m5=nullendfunctionfunction VON takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer VXN=R2I(.75*GetUnitAbilityLevel(ZDA,1094006066)*GetHeroInt(ZDA,true))local integer VRN=R1E(GetHandleId(ZDA),"iMFCount")+1local integer Z9A=R1E(GetHandleId(ZDA),"iMFIntelligence")local integer VIN=Z9Alocal trigger t=CreateTrigger()if VRN>9 thenset VRN=0set VIN=HME(5*GetUnitAbilityLevel(ZDA,1094006066),Z9A+1)if VIN!=Z9A thencall Z8A(ZDA,VIN)if m5!=ZDA thencall H7E("+1 Intelligence",3,ZDA,.023,0,0,$FF,$FF)endifendifendifcall O8E(GetHandleId(t),"MFluxTarget",m5)call O4E(GetHandleId(t),"iMFluxMP",VXN)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddAction(t,function VEN)if VRN!=0 or m5!=ZDA or VIN==Z9A thencall H7E("+"+I2S(VXN)+" MP",3,m5,.023,0,0,$FF,$FF)elsecall H7E("+"+I2S(VXN)+" MP
        +1 Intelligence",3,ZDA,.023,0,0,$FF,$FF)endifcall O4E(GetHandleId(ZDA),"iMFCount",VRN)call O4E(GetHandleId(ZDA),"iMFIntelligence",VIN)set ZDA=nullset m5=nullset t=nullendfunctionfunction VAN takes nothing returns booleanreturn GetSpellTargetUnit()==RME(GetHandleId(GetTriggeringTrigger()),"uKappa")and IsUnitEnemy(RME(GetHandleId(GetTriggeringTrigger()),"uKappa"),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction VNN takes nothing returns nothinglocal unit ZDA=GetSpellTargetUnit()local integer VBN=R1E(GetHandleId(ZDA),"iMFCast")+1local integer Z9A=R1E(GetHandleId(ZDA),"iMFIntelligence")local integer VIN=Z9Aif VBN>=3 thenset VBN=0set VIN=HME(5*GetUnitAbilityLevel(ZDA,1094006066),Z9A+1)if VIN!=Z9A thencall Z8A(ZDA,VIN)call H7E("+1 Intelligence",3,ZDA,.023,0,0,$FF,$FF)endifendifcall O4E(GetHandleId(ZDA),"iMFCast",VBN)call O4E(GetHandleId(ZDA),"iMFIntelligence",VIN)set ZDA=nullendfunctionfunction VCN takes nothing returns booleanreturn GetLearnedSkill()==1094006066 and GetUnitAbilityLevel(GetTriggerUnit(),1094006066)==1endfunctionfunction VDN takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function VAN))call TriggerAddAction(t,function VNN)call O8E(GetHandleId(t),"uKappa",ZDA)call O4E(GetHandleId(ZDA),"iMFCast",0)call O4E(GetHandleId(ZDA),"iMFCount",0)call O4E(GetHandleId(ZDA),"iMFIntelligence",0)set t=nullset ZDA=nullendfunctionfunction RNX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VVN))call TriggerAddAction(t,function VON)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function VCN))call TriggerAddAction(t,function VDN)set t=nullendfunctionfunction VFN takes nothing returns booleanreturn GetSpellAbilityId()==1094006067endfunctionfunction VGN takes nothing returns nothinglocal unit ZDA=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer VHN=0local integer VJN=0if GetUnitAbilityLevel(ZDA,1094006091)>0 thenset VJN=R1E(GetHandleId(ZDA),"iPFStrength")elseif GetUnitAbilityLevel(ZDA,1094006092)>0 thenset VJN=R1E(GetHandleId(ZDA),"iSFAgility")elseif GetUnitAbilityLevel(ZDA,1094006093)>0 thenset VJN=R1E(GetHandleId(ZDA),"iMFIntelligence")endifset VHN=VJN/2if ModuloInteger(VJN,2)>0 thenset VHN=VHN+1endifset VJN=VJN/2if GetUnitAbilityLevel(ZDA,1094006091)>0 thencall ZCA(ZDA,0)call O4E(GetHandleId(ZDA),"iPFStrength",0)call SetHeroStr(m5,GetHeroStr(m5,false)+VHN,true)call SetHeroStr(ZDA,GetHeroStr(ZDA,false)+VJN,true)call H7E("+"+I2S(VHN)+" Strength",3,m5,.023,$FF,0,0,$FF)call H7E("+"+I2S(VJN)+" Strength",3,ZDA,.023,$FF,0,0,$FF)call O4E(GetHandleId(m5),"FluxStr",R1E(GetHandleId(m5),"FluxStr")+VHN)call O4E(GetHandleId(ZDA),"FluxStr",R1E(GetHandleId(ZDA),"FluxStr")+VJN)elseif GetUnitAbilityLevel(ZDA,1094006092)>0 thencall ZUA(ZDA,0)call O4E(GetHandleId(ZDA),"iSFAgility",0)call SetHeroAgi(m5,GetHeroAgi(m5,false)+VHN,true)call SetHeroAgi(ZDA,GetHeroAgi(ZDA,false)+VJN,true)call H7E("+"+I2S(VHN)+" Agility",3,m5,.023,0,$FF,0,$FF)call H7E("+"+I2S(VJN)+" Agility",3,ZDA,.023,0,$FF,0,$FF)call O4E(GetHandleId(m5),"FluxAgi",R1E(GetHandleId(m5),"FluxAgi")+VHN)call O4E(GetHandleId(ZDA),"FluxAgi",R1E(GetHandleId(ZDA),"FluxAgi")+VJN)elseif GetUnitAbilityLevel(ZDA,1094006093)>0 thencall Z8A(ZDA,0)call O4E(GetHandleId(ZDA),"iMFIntelligence",0)call SetHeroInt(m5,GetHeroInt(m5,false)+VHN,true)call SetHeroInt(ZDA,GetHeroInt(ZDA,false)+VJN,true)call H7E("+"+I2S(VHN)+" Intelligence",3,m5,.023,0,0,$FF,$FF)call H7E("+"+I2S(VJN)+" Intelligence",3,ZDA,.023,0,0,$FF,$FF)call O4E(GetHandleId(m5),"FluxInt",R1E(GetHandleId(m5),"FluxInt")+VHN)call O4E(GetHandleId(ZDA),"FluxInt",R1E(GetHandleId(ZDA),"FluxInt")+VJN)endifset ZDA=nullset m5=nullendfunctionfunction VKN takes nothing returns booleanreturn GetLearnedSkill()==1094006067 and GetUnitAbilityLevel(GetTriggerUnit(),1094006067)==1endfunctionfunction VLN takes nothing returns nothingcall UnitAddAbility(GetTriggerUnit(),1094006091)endfunctionfunction VMN takes nothing returns booleanreturn GetSpellAbilityId()==1094006091 or GetSpellAbilityId()==1094006092 or GetSpellAbilityId()==1094006093endfunctionfunction VPN takes nothing returns nothingif GetSpellAbilityId()==1094006091 thencall UnitRemoveAbility(GetTriggerUnit(),1094006091)call UnitAddAbility(GetTriggerUnit(),1094006092)elseif GetSpellAbilityId()==1094006092 thencall UnitRemoveAbility(GetTriggerUnit(),1094006092)call UnitAddAbility(GetTriggerUnit(),1094006093)elsecall UnitRemoveAbility(GetTriggerUnit(),1094006093)call UnitAddAbility(GetTriggerUnit(),1094006091)endifendfunctionfunction RBX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VFN))call TriggerAddAction(t,function VGN)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function VKN))call TriggerAddAction(t,function VLN)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VMN))call TriggerAddAction(t,function VPN)set t=nullendfunctionfunction VQN takes nothing returns nothinglocal unit VSN=QV[GetPlayerId(GetTriggerPlayer())]local player p=GetTriggerPlayer()local integer VTN=GetHandleId(VSN)local integer VUN=R1E(VTN,"FluxStr")local integer VWN=R1E(VTN,"FluxAgi")local integer VYN=R1E(VTN,"FluxInt")local integer VZN=R1E(VTN,"iPFStrength")local integer V_N=R1E(VTN,"iSFAgility")local integer V0N=R1E(VTN,"iMFIntelligence")if GetUnitTypeId(VSN)==1211510832 thencall DisplayTimedTextToPlayer(p,0,0,$F,"Bonus Strength: "+I2S(VZN))call DisplayTimedTextToPlayer(p,0,0,$F,"Bonus Agility: "+I2S(V_N))call DisplayTimedTextToPlayer(p,0,0,$F,"Bonus Intelligence: "+I2S(V0N))endifcall DisplayTimedTextToPlayer(p,0,0,$F,"Flux Strength: "+I2S(VUN))call DisplayTimedTextToPlayer(p,0,0,$F,"Flux Agility: "+I2S(VWN))call DisplayTimedTextToPlayer(p,0,0,$F,"Flux Intelligence: "+I2S(VYN))set VSN=nullset p=nullendfunctionfunction RCX takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-flux",true)call TriggerRegisterPlayerChatEvent(t,RX[2],"-flux",true)call TriggerRegisterPlayerChatEvent(t,RX[3],"-flux",true)call TriggerRegisterPlayerChatEvent(t,RX[4],"-flux",true)call TriggerRegisterPlayerChatEvent(t,RX[5],"-flux",true)call TriggerRegisterPlayerChatEvent(t,GX[1],"-flux",true)call TriggerRegisterPlayerChatEvent(t,GX[2],"-flux",true)call TriggerRegisterPlayerChatEvent(t,GX[3],"-flux",true)call TriggerRegisterPlayerChatEvent(t,GX[4],"-flux",true)call TriggerRegisterPlayerChatEvent(t,GX[5],"-flux",true)call TriggerAddAction(t,function VQN)set t=nullendfunctionfunction V1N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=(LoadInteger(YX,(GetHandleId(F3E)),(627)))local real V2N=(LoadReal(YX,(GetHandleId(F3E)),(628)))local integer MAE=GetUnitAbilityLevel(J6E,1093751604)local real C4O=(5+MAE*$F)*Pow(2,IMinBJ(DZX,4)-1)set C4O=C4O+IMaxBJ(DZX-4,0)*50if GetTriggerEventId()==EVENT_UNIT_DEATH thenif IsUnitType(F3E,UNIT_TYPE_HERO) thencall KillUnit((LoadUnitHandle(YX,(H2E),(45))))endifcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SaveInteger(YX,(GetHandleId(F3E)),(627),(0))call SaveReal(YX,(GetHandleId(F3E)),(628),((0)*1.))elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093751609 thenif IsUnitType(F3E,UNIT_TYPE_HERO) thencall KillUnit((LoadUnitHandle(YX,(H2E),(45))))endifcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SaveInteger(YX,(GetHandleId(F3E)),(627),(0))call SaveReal(YX,(GetHandleId(F3E)),(628),((0)*1.))if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,false)endifcall MNE(J6E,F3E,1,C4O)if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,true)endifcall H7E(I2S(R2I(C4O))+"!",2,F3E,.025,100,0,$C8,$D8)endifelseif(TimerGetElapsed(K))>V2N thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))if IsUnitType(F3E,UNIT_TYPE_HERO) thencall KillUnit((LoadUnitHandle(YX,(H2E),(45))))endifcall FlushChildHashtable(YX,(H2E))call IRE(t)call SaveInteger(YX,(GetHandleId(F3E)),(627),(0))call SaveReal(YX,(GetHandleId(F3E)),(628),((0)*1.))if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,false)endifcall MNE(J6E,F3E,1,C4O)if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,true)endifcall H7E(I2S(R2I(C4O))+"!",2,F3E,.025,100,0,$C8,$D8)elseif IsUnitType(F3E,UNIT_TYPE_HERO) thencall SetUnitX((LoadUnitHandle(YX,(H2E),(45))),GetUnitX(F3E))call SetUnitY((LoadUnitHandle(YX,(H2E),(45))),GetUnitY(F3E))endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction V3N takes unit J6E,unit F3E returns nothinglocal trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(J6E,1093751604)local unit JCEif(LoadInteger(YX,(GetHandleId(F3E)),(627)))>0 thencall SaveInteger(YX,(GetHandleId(F3E)),(627),((LoadInteger(YX,(GetHandleId(F3E)),(627)))+1))call SaveReal(YX,(GetHandleId(F3E)),(628),(((TimerGetElapsed(K))+8)*1.))elseset t=CreateTrigger()set H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))if IsUnitType(F3E,UNIT_TYPE_HERO) thenset JCE=CreateUnit(GetOwningPlayer(J6E),1865429305,GetUnitX(F3E),GetUnitY(F3E),0)call SaveUnitHandle(YX,(H2E),(45),(JCE))endifcall SaveInteger(YX,(GetHandleId(F3E)),(627),(1))if IsUnitType(F3E,UNIT_TYPE_HERO) thencall SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",F3E,"chest")))elsecall SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",F3E,"origin")))endifcall SaveReal(YX,(GetHandleId(F3E)),(628),(((TimerGetElapsed(K))+$A)*1.))call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function V1N))set JCE=nullendifcall H7E("+"+I2S((LoadInteger(YX,(GetHandleId(F3E)),(627)))),3,F3E,.025,100,0,$C8,$D8)call MNE(J6E,F3E,1,50)set t=nullset JCE=nullendfunctionfunction V4N takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),LCV)==false thencall GroupAddUnit(LCV,GetEnumUnit())call V3N(LBV,GetEnumUnit())endifendfunctionfunction V5N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local integer V6N=GetTriggerEvalCount(t)local real a=(LoadReal(YX,(H2E),($89)))local real x=HRE(GetUnitX(JCE)+(20)*Cos(a))local real y=HIE(GetUnitY(JCE)+(20)*Sin(a))local group glocal group V7N=(LoadGroupHandle(YX,(H2E),($85)))local unit F3Eif V6N==75 thencall FWE(V7N)call KillUnit(JCE)call FlushChildHashtable(YX,(H2E))call IRE(t)elseset I9V=J6Eset LBV=J6Eset LCV=V7Ncall SetUnitX(JCE,x)call SetUnitY(JCE,y)set g=FYE()call GroupEnumUnitsInRange(g,x,y,$AF,Condition(function K9E))call ForGroup(g,function V4N)set F3E=FirstOfGroup(g)call FWE(g)endifset t=nullset J6E=nullset JCE=nullset g=nullset F3E=nullset V7N=nullreturn falseendfunctionfunction V8N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),x,y)*bj_DEGTORADlocal unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993394,GetUnitX(J6E),GetUnitY(J6E),a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function V5N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveGroupHandle(YX,(H2E),($85),(FYE()))call GKE(J6E,1093751609)set t=nullset J6E=nullset JCE=nullendfunctionfunction V9N takes nothing returns booleanif GetSpellAbilityId()==1093751604 thencall V8N()endifreturn falseendfunctionfunction X3X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function V9N))set t=nullendfunctionfunction EVN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit EEN=GetSummonedUnit()if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetUnitAbilityLevel(EEN,1110459457)>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(J6E)thenif IsUnitAlly(F3E,GetOwningPlayer(J6E)) thencall SelectUnitAddForPlayer(EEN,GetOwningPlayer(J6E))elsecall IssueTargetOrderById(EEN,$D000F,F3E)endifendifset t=nullset J6E=nullset F3E=nullset EEN=nullreturn falseendfunctionfunction EXN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call IXE(F3E,"DisruptionState")call SetUnitInvulnerable(F3E,false)call PauseUnit(F3E,false)call ShowUnit(F3E,true)call RemoveSavedHandle(YX,(GetHandleId(F3E)),(673))call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall ClearSelectionForPlayer(GetOwningPlayer(F3E))call SelectUnitAddForPlayer(F3E,GetOwningPlayer(F3E))call JAE(LAV,GetUnitX(F3E),GetUnitY(F3E))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,3,false)call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function EVN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call GKE(MIE,1093751605)call SetUnitAbilityLevel(MIE,1093751605,GetUnitAbilityLevel(J6E,1093751608))call IssueTargetOrderById(MIE,$D0132,F3E)call IssueTargetOrderById(MIE,$D0132,F3E)endifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction EON takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093751608)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(F3E),1865429305,GetUnitX(F3E),GetUnitY(F3E),0)call UnitApplyTimedLife(MIE,1112820806,2.6)if IsUnitAlly(F3E,GetOwningPlayer(J6E))==false thenset MIE=CreateUnit(GetOwningPlayer(J6E),1865429305,GetUnitX(F3E),GetUnitY(F3E),0)call UnitApplyTimedLife(MIE,1112820806,2.6)endifcall SetUnitInvulnerable(F3E,true)call PauseUnit(F3E,true)call ShowUnit(F3E,false)call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(F3E),GetUnitY(F3E))))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call TriggerRegisterTimerEvent(t,2.5,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EXN))call SaveUnitHandle(YX,GetHandleId(J6E),(673),F3E)call IVE(F3E,"DisruptionState")set J6E=nullset F3E=nullset t=nullset MIE=nullendfunctionfunction ERN takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093751608 and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) or FUE(GetSpellTargetUnit())==false)thencall EON()endifelseif GetSpellAbilityId()==1093751608 and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) and R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652600))endifendifreturn falseendfunctionfunction X4X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function ERN))set t=nullendfunctionfunction EIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093751618)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call O8E(GetHandleId(J6E),"AI|SoulCatcherTgt",null)elseif GetEventDamage()>5 thencall DisableTrigger(t)call MNE(GetEventDamageSource(),GetTriggerUnit(),3,(.1+.1*MAE)*GetEventDamage())call EnableTrigger(t)endifset J6E=nullset t=nullreturn falseendfunctionfunction EAN takes nothing returns nothinglocal real x=GetSpellTargetX()local real y=GetSpellTargetY()local group g=FYE()local unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093751618)local unit F3Elocal trigger tlocal integer H2Eset I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,475,Condition(function K9E))set F3E=(LoadUnitHandle(YX,(GetHandleId(J6E)),(673)))if F3E!=null thenif E4E(GetUnitX(F3E),GetUnitY(F3E),x,y)<475 and IsUnitEnemy(F3E,GetOwningPlayer(J6E)) thencall GroupAddUnit(g,F3E)endifendifset F3E=GroupPickRandomUnit(g)call FWE(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))if F3E!=null thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,$C,false)call TriggerAddCondition(t,Condition(function EIN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",F3E,"chest")))if IsUnitType(F3E,UNIT_TYPE_HERO)thencall IBE(F3E,"AI|SoulCatcher",$C)call O8E(GetHandleId(J6E),"AI|SoulCatcherTgt",F3E)endifendifset g=nullset J6E=nullset F3E=nullset t=nullendfunctionfunction ENN takes nothing returns booleanif GetSpellAbilityId()==1093751618 thencall EAN()endifreturn falseendfunctionfunction X5X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ENN))set t=nullendfunctionfunction EBN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer V6N=GetTriggerEvalCount(t)local integer MAE=GetUnitAbilityLevel(J6E,1093751617)if V6N==5 thencall FlushChildHashtable(YX,(H2E))call IRE(t)if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,false)endifcall MNE(J6E,F3E,1,4*(25+25*MAE))if(R8E(F3E,"DisruptionState"))thencall SetUnitInvulnerable(F3E,true)endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction ECN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function EBN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call TriggerEvaluate(t)set t=nullset J6E=nullset F3E=nullendfunctionfunction EDN takes nothing returns booleanif GetSpellAbilityId()==1093751617 and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit())) and FUE(GetSpellTargetUnit())==false thencall ECN()endifreturn falseendfunctionfunction X6X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EDN))set t=nullendfunctionfunction EFN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer V6N=GetTriggerEvalCount(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call UnitRemoveAbility(J6E,1093751632)set t=nullset J6E=nullreturn falseendfunctionfunction EGN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call GKE(J6E,1093751632)call UnitMakeAbilityPermanent(J6E,true,1093751632)call SetUnitAbilityLevel(J6E,1093751632,GetUnitAbilityLevel(J6E,1093751631))call TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EFN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction EHN takes nothing returns booleanif GetSpellAbilityId()==1093751631 thencall EGN()endifreturn falseendfunctionfunction X7X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EHN))set t=nullendfunctionfunction EJN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer V6N=GetTriggerEvalCount(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local real xlocal real ylocal real dlocal real EKNlocal real ELN=(LoadReal(YX,(H2E),(23)))local real EMN=(LoadReal(YX,(H2E),(24)))local real a=H4E(ELN,EMN,GetUnitX(F3E),GetUnitY(F3E))*bj_DEGTORADif GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitShareVision(JCE,GetOwningPlayer(F3E),false)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerUnit()!=JCE thencall KillUnit(JCE)endifelseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall UnitRemoveBuffs(JCE,true,true)elseif V6N<3/.02 thencall SetUnitFacing(JCE,a*bj_RADTODEG)elseif V6N==4/.02 thencall UnitShareVision(JCE,GetOwningPlayer(F3E),true)endifcall SetUnitFacing(JCE,a*bj_RADTODEG)set x=ELN+(280+KZV*V6N*.02)*.02*Cos(a)set y=EMN+(280+KZV*V6N*.02)*.02*Sin(a)call SetUnitPosition(JCE,x,y)call SaveReal(YX,(H2E),(23),((x)*1.))call SaveReal(YX,(H2E),(24),((y)*1.))if E4E(x,y,GetUnitX(F3E),GetUnitY(F3E))<20 thenset d=RMinBJ(E4E(x,y,(LoadReal(YX,(H2E),(6))),(LoadReal(YX,(H2E),(7)))),$7D0)set EKN=d/$7D0*(110*GetUnitAbilityLevel(J6E,1093751633))set EKN=RMaxBJ(EKN,50)call KillUnit(JCE)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)if K4E(F3E)==false or IsUnitVisible(F3E,GetOwningPlayer(J6E)) thencall MNE(J6E,F3E,1,EKN)call MRE(J6E,F3E,2.5)endifendifendifset t=nullset J6E=nullset F3E=nullset JCE=nullreturn falseendfunctionfunction EPN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))*bj_DEGTORADlocal real x=HRE(GetUnitX(J6E)+$96*Cos(a))local real y=HIE(GetUnitY(J6E)+$96*Sin(a))local integer MAE=GetUnitAbilityLevel(J6E,1093751633)local unit JCElocal integer EQNlocal string ESN="effects\\Snipe Target.mdx"if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E))==false and FJE(GetLocalPlayer())==false thenset ESN=""endifif MAE==1 thenset EQN=1747993415elseif MAE==2 thenset EQN=1747993393elseif MAE==3 thenset EQN=1747993414elseif MAE==4 thenset EQN=1747993416endifset JCE=CreateUnit(GetOwningPlayer(J6E),EQN,x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,JCE,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,JCE,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function EJN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveReal(YX,(H2E),(6),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(J6E))*1.))call SaveReal(YX,(H2E),(23),((GetUnitX(JCE))*1.))call SaveReal(YX,(H2E),(24),((GetUnitY(JCE))*1.))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget(ESN,F3E,"overhead")))set t=nullset J6E=nullset F3E=nullset JCE=nullendfunctionfunction ETN takes nothing returns booleanif GetSpellAbilityId()==1093751633 and FUE(GetSpellTargetUnit())==false thencall EPN()endifreturn falseendfunctionfunction X8X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ETN))call HCE(1093687350)set t=nullendfunctionfunction EUN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1110459461)call UnitRemoveAbility(F3E,1093751635)set t=nullset F3E=nullreturn falseendfunctionfunction EWN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(F3E,1110459463)call UnitRemoveAbility(F3E,1093751860)set t=nullset F3E=nullreturn falseendfunctionfunction EYN takes nothing returns nothinglocal trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(KPV,1093751861)local boolean AIR=falseif MAE==0 thenset MAE=GetUnitAbilityLevel(KPV,1093808949)set AIR=trueendifif G9X(GetEnumUnit())==false thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EUN))call SaveUnitHandle(YX,(H2E),(17),(GetEnumUnit()))call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751635,false)call GKE(GetEnumUnit(),1093751635)endifcall MNE(KPV,GetEnumUnit(),1,MAE*50+$C8)set t=nullendfunctionfunction EZN takes nothing returns nothinglocal trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(KPV,1093751861)local boolean AIR=falseif MAE==0 thenset MAE=GetUnitAbilityLevel(KPV,1093808949)set AIR=trueendifif G9X(GetEnumUnit())==false thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EWN))call SaveUnitHandle(YX,(H2E),(17),(GetEnumUnit()))call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093751860,false)call GKE(GetEnumUnit(),1093751860)endifif AIR thencall MNE(KPV,GetEnumUnit(),1,MAE*50+50+75)elsecall MNE(KPV,GetEnumUnit(),1,MAE*50+50)endifset t=nullendfunctionfunction E_N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local group glocal integer V6N=GetTriggerEvalCount(t)local fogmodifier E0N=(LoadFogModifierHandle(YX,(H2E),(42)))if V6N==1 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",J6E,"chest"))elseif V6N==2 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",J6E,"chest"))elseif V6N==3 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))elseif V6N==4 thenset g=FYE()set I9V=J6Eset KPV=J6Ecall GroupEnumUnitsInRange(g,x,y,425,Condition(function K3E))call ForGroup(g,function EYN)call FWE(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))elseif V6N==5 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))elseif V6N==6 thenset g=FYE()set I9V=J6Eset KPV=J6Ecall GroupEnumUnitsInRange(g,x,y,425,Condition(function K3E))call ForGroup(g,function EZN)call FWE(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FogModifierStop(E0N)call DestroyFogModifier(E0N)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset g=nullset E0N=nullreturn falseendfunctionfunction E1N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local string s=""local fogmodifier O3R=CreateFogModifierRadius(GetOwningPlayer(J6E),FOG_OF_WAR_VISIBLE,x,y,350,true,true)call FogModifierStart(O3R)if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(J6E)) or FJE(GetLocalPlayer())thenset s="war3mapImported\\CallDown_4.mdx"endifcall TriggerRegisterTimerEvent(t,.1,false)call TriggerRegisterTimerEvent(t,.8,false)call TriggerRegisterTimerEvent(t,1.6,false)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterTimerEvent(t,3.6,false)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function E_N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect(s,x,y)))call SaveFogModifierHandle(YX,(H2E),(42),(O3R))set t=nullset J6E=nullset O3R=nullendfunctionfunction E2N takes nothing returns booleanif GetSpellAbilityId()==1093751861 or GetSpellAbilityId()==1093808949 thencall E1N()endifreturn falseendfunctionfunction X9X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E2N))set t=nullendfunctionfunction E3N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer CBE=GetHandleId(t)local unit J6E=RME(CBE,"Source")local integer ZGOif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))thenset ZGO=R1E(GetHandleId(J6E),"Count")if ZGO>0 thencall O4E(GetHandleId(J6E),"Count",(ZGO+1))endifcall O1E(CBE)call IRE(t)endifelsecall O1E(CBE)call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction E4N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=RME(H2E,"Source")if D_E(J6E)==false thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093808951)call UnitAddAbility(J6E,1093808706)call UnitRemoveAbility(J6E,1093808706)if(OAE((J6E),BU[RYV])!=null)thencall UnitAddAbility(J6E,1093808951)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction E5N takes unit J6E returns nothinglocal trigger tif D_E(J6E)==false thencall UnitRemoveAbility(J6E,1093808951)call UnitAddAbility(J6E,1093808706)call UnitRemoveAbility(J6E,1093808706)if(OAE((J6E),BU[RYV])!=null)thencall UnitAddAbility(J6E,1093808951)endifelseset t=CreateTrigger()call O8E(GetHandleId(t),"Source",J6E)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function E4N))set t=nullendifendfunctionfunction E6N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer CBE=GetHandleId(t)local unit J6E=RME(CBE,"Source")call UnitRemoveAbility(J6E,1093751895)call UnitRemoveAbility(J6E,1110459466)call E5N(J6E)call O1E(CBE)call IRE(t)set t=nullreturn falseendfunctionfunction E7N takes nothing returns nothinglocal unit M8E=GetAttacker()local integer CBE=GetHandleId(M8E)local integer ZGO=R1E(CBE,"Count")local integer M9E=GetUnitAbilityLevel(M8E,1093808697)local trigger tif IsUnitIllusion(GetAttacker()) and GetUnitAbilityLevel(GetAttacker(),1093751895)>0 thencall E5N(GetAttacker())call UnitRemoveAbility(GetAttacker(),1093751895)endifif GetAttacker()==M8E thenset ZGO=ZGO+1if ZGO>3+M9E thencall UnitRemoveAbility(M8E,1093751895)call UnitRemoveAbility(M8E,1110459466)call E5N(M8E)set t=RTE(CBE,"FlakCannon_EndTrig")call O1E(GetHandleId(t))call IRE(t)elseset t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function E3N))call O8E(GetHandleId(t),"Source",M8E)endifendifset t=nullset M8E=nullendfunctionfunction E8N takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),1093751895)>0 thencall E7N()endifreturn falseendfunctionfunction E9N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer CBE=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,$F,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function E6N))call O8E(CBE,"Source",J6E)call RVE(GetHandleId(J6E),"FlakCannon_EndTrig",t)call O4E(GetHandleId(J6E),"Count",(1))call UnitRemoveAbility(J6E,1093808951)call UnitAddAbility(J6E,1093808705)call UnitRemoveAbility(J6E,1093808705)if(OAE((J6E),BU[RYV])!=null)thencall UnitAddAbility(J6E,1093808951)endifset t=nullset J6E=nullendfunctionfunction XVN takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit()) and GetUnitTypeId(GetTriggerUnit())==1160786511 thencall E5N(GetTriggerUnit())endifreturn falseendfunctionfunction XEN takes nothing returns booleanif GetSpellAbilityId()==1093808697 and GetUnitTypeId(GetTriggerUnit())==1160786510 thencall E9N()endifreturn falseendfunctionfunction OVX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XEN))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function E8N))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function XVN))set t=nullendfunctionfunction XXN takes nothing returns booleanlocal unit F3E=GetFilterUnit()local unit J6E=KQVlocal real XON=KSVlocal real XRN=KTVlocal real ON2=KUVlocal real OS2=KWVlocal real xlocal real ylocal real alocal real dif(FHE(GetFilterUnit())==false and IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))thenset d=E4E(XON,XRN,GetUnitX(F3E),GetUnitY(F3E))set a=H4E(XON,XRN,GetUnitX(F3E),GetUnitY(F3E))*bj_DEGTORADif d>KYV thenset x=GetUnitX(F3E)+$B*Cos(a)set y=GetUnitY(F3E)+$B*Sin(a)elseset x=GetUnitX(F3E)-$B*Cos(a)set y=GetUnitY(F3E)-$B*Sin(a)endifcall SetUnitX(F3E,x)call SetUnitY(F3E,y)endifset F3E=nullset J6E=nullreturn falseendfunctionfunction XIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real XON=(LoadReal(YX,(H2E),(6)))local real XRN=(LoadReal(YX,(H2E),(7)))local real xlocal real ylocal integer i=0local group gif GetTriggerEvalCount(t)>(50*(2+.5*GetUnitAbilityLevel(J6E,1093751637)))thenloopexitwhen i>16set i=i+1endloopcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set KSV=XONset KTV=XRNset KQV=J6Eset I9V=J6Eloopexitwhen i>16set x=XON+KYV*Cos(bj_DEGTORAD*360.*i/16.)set y=XRN+KYV*Sin(bj_DEGTORAD*360.*i/16.)set KUV=xset KWV=ycall GroupEnumUnitsInRange(g,x,y,75,Condition(function XXN))set i=i+1endloopcall FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction XAN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real XON=(LoadReal(YX,(H2E),(6)))local real XRN=(LoadReal(YX,(H2E),(7)))local real xlocal real ylocal integer i=0call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)set t=CreateTrigger()set H2E=GetHandleId(t)loopexitwhen i>16set x=XON+KYV*Cos(bj_DEGTORAD*360.*i/16.)set y=XRN+KYV*Sin(bj_DEGTORAD*360.*i/16.)set i=i+1endloopcall SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",XON,XRN)))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((XON)*1.))call SaveReal(YX,(H2E),(7),((XRN)*1.))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function XIN))set t=nullset J6E=nullreturn falseendfunctionfunction XNN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real XON=GetSpellTargetX()local real XRN=GetSpellTargetY()call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",XON,XRN)))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((XON)*1.))call SaveReal(YX,(H2E),(7),((XRN)*1.))call TriggerRegisterTimerEvent(t,1.2,false)call TriggerAddCondition(t,Condition(function XAN))call JBE(GetOwningPlayer(J6E),5.5,XON,XRN,300)set t=nullset J6E=nullendfunctionfunction XBN takes nothing returns booleanif GetSpellAbilityId()==1093751637 thencall XNN()endifreturn falseendfunctionfunction OEX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XBN))set t=nullendfunctionfunction XCN takes nothing returns nothingcall MNE(LEV,GetEnumUnit(),1,LVV)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))endfunctionfunction XDN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer MAE=(LoadInteger(YX,(H2E),(5)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local group glocal integer V6N=GetTriggerEvalCount(t)if V6N>20 thencall StopSound(LNV,false,true)call KillUnit(JCE)call ShowUnit(JCE,false)call KillUnit(MIE)call FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Eset LEV=J6Eset LVV=.25*($82+40*MAE)*(V6N/20.)set LXV=falseif ModuloInteger(V6N,4)==0 thenset LXV=trueendifcall GroupEnumUnitsInRange(g,GetUnitX(JCE),GetUnitY(JCE),400,Condition(function K8E))call ForGroup(g,function XCN)call FWE(g)set g=nullendifset t=nullset J6E=nullset JCE=nullset MIE=nullreturn falseendfunctionfunction XFN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real XGN=GetSpellTargetX()local real XHN=GetSpellTargetY()local unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993419,XGN,XHN,0)local integer MAE=GetUnitAbilityLevel(J6E,1093752118)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,XGN,XHN,0)call SetSoundVolume(LNV,$C8)call StartSound(LNV)call SetSoundPosition(LNV,XGN,XHN,100)if B3E(GetOwningPlayer(J6E))thencall GKE(MIE,1093752117)elsecall GKE(MIE,1093752116)endifcall IssuePointOrderById(MIE,$D01F9,XGN,XHN)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveInteger(YX,(H2E),(5),(MAE))call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function XDN))set t=nullset J6E=nullset JCE=nullset MIE=nullendfunctionfunction XJN takes nothing returns booleanif GetSpellAbilityId()==1093752118 thencall XFN()endifreturn falseendfunctionfunction OXX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XJN))set t=nullendfunctionfunction XKN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local real XGN=(LoadReal(YX,(H2E),(6)))local real XHN=(LoadReal(YX,(H2E),(7)))local real x=GetUnitX(JCE)local real y=GetUnitY(JCE)local real a=H4E(x,y,XGN,XHN)local real d=E4E(x,y,XGN,XHN)local real r=(LoadReal(YX,(H2E),(671)))call SetUnitFacing(JCE,a)set x=x+r*Cos(a*bj_DEGTORAD)set y=y+r*Sin(a*bj_DEGTORAD)call SetUnitX(JCE,x)call SetUnitY(JCE,y)if d<40 thencall KillUnit(JCE)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)call IBE(F3E,"4411",1)call SetUnitPosition(F3E,XGN,XHN)call PanCameraToTimedForPlayer(GetOwningPlayer(F3E),XGN,XHN,0)elseif FHE(F3E)thencall KillUnit(JCE)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset F3E=nullset JCE=nullreturn falseendfunctionfunction XLN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local real x=(LoadReal(YX,(GetHandleId(F3E)),(7400)))local real y=(LoadReal(YX,(GetHandleId(F3E)),(7500)))local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993398,GetUnitX(F3E),GetUnitY(F3E),0)local real d=E4E(x,y,GetUnitX(F3E),GetUnitY(F3E))local real r=.02*(RMaxBJ(d/1.8,600))call TriggerAddCondition(t,Condition(function XKN))call TriggerRegisterTimerEvent(t,.02,true)call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveReal(YX,(H2E),(671),((r)*1.))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",F3E,"overhead")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))call TriggerEvaluate(t)set J6E=nullset F3E=nullset JCE=nullset t=nullendfunctionfunction XMN takes nothing returns booleanif GetSpellAbilityId()==1093751639 and FUE(GetSpellTargetUnit())==false thenif IsUnitIllusion(GetSpellTargetUnit())thencall KillUnit(GetSpellTargetUnit())elsecall XLN()endifendifreturn falseendfunctionfunction G4A takes nothing returns nothinglocal unit F3E=I9Vlocal integer i=0loopexitwhen i>$Fset i=i+1endloopset F3E=nullendfunctionfunction XPN takes nothing returns nothinglocal unit F3E=GetEnumUnit()local integer H2E=GetHandleId(F3E)local integer i=1loopexitwhen i>$Ecall SaveReal(YX,(H2E),(7400+i-1),(((LoadReal(YX,(H2E),(7400+i))))*1.))call SaveReal(YX,(H2E),(7500+i-1),(((LoadReal(YX,(H2E),(7500+i))))*1.))set i=i+1endloopcall SaveReal(YX,(H2E),(7400+$E),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(7500+$E),((GetUnitY(F3E))*1.))set F3E=nullendfunctionfunction XQN takes nothing returns booleanlocal group g=FYE()call GroupEnumUnitsInRange(g,0,0,99999,Condition(function LDE))call ForGroup(g,function XPN)call FWE(g)set g=nullreturn falseendfunctionfunction OOX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XMN))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function XQN))set t=nullendfunctionfunction XSN takes nothing returns nothingif K_V!=GetEnumUnit()thencall MNE(K0V,GetEnumUnit(),1,K1V*25+25)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction XTN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local group glocal integer V6N=GetTriggerEvalCount(t)local unit XUN=nullcall SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))if V6N==1 or V6N==100 or V6N==$C8 thenset g=FYE()if GME(F3E)thenset XUN=CreateUnit(GetOwningPlayer(F3E),1697656899,GetUnitX(F3E),GetUnitY(F3E),0)call UnitApplyTimedLife(XUN,1112820806,.2)call IssueTargetOrderById(MIE,$D0097,XUN)elsecall IssueTargetOrderById(MIE,$D0097,F3E)endifcall H0E("war3mapImported\\ThunderStorm_Groundeffect.mdx",F3E,"origin",.6)set I9V=J6Eset K0V=J6Eset K_V=F3Eset K1V=MAEcall GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),$E1,Condition(function K3E))call ForGroup(g,function XSN)call FWE(g)if GetTriggerEvalCount(t)==$C8 thencall KillUnit(MIE)call FlushChildHashtable(YX,(H2E))call IRE(t)endifendifset t=nullset J6E=nullset F3E=nullset MIE=nullset g=nullset XUN=nullreturn falseendfunctionfunction XWN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093751894)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697657424,GetUnitX(F3E),GetUnitY(F3E),0)call GKE(MIE,1093752119)call SetUnitAbilityLevel(MIE,1093752119,MAE)call GKE(MIE,1097625443)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function XTN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveInteger(YX,(H2E),(5),(MAE))set J6E=nullset F3E=nullset MIE=nullset t=nullendfunctionfunction XYN takes nothing returns booleanif GetSpellAbilityId()==1093751894 and FUE(GetSpellTargetUnit())==false thencall XWN()endifreturn falseendfunctionfunction ORX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XYN))set t=nullendfunctionfunction XZN takes nothing returns nothinglocal integer X_N=K6Vlocal unit F3E=GetEnumUnit()local integer X0N=662-1+X_Nlocal real X1N=(LoadReal(YX,(GetHandleId(F3E)),(X0N)))local real X2N=(TimerGetElapsed(K))if X1N<X2N thencall SaveReal(YX,(GetHandleId(F3E)),(X0N),((X2N+2)*1.))if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall MNE(KKV,F3E,1,2+6*K7V)endifendifset F3E=nullendfunctionfunction Spirits_DamageHeroes takes nothing returns nothinglocal integer X3N=K6Vlocal unit F3E=GetEnumUnit()local integer X4N=662-1+X3Nlocal real X5N=(LoadReal(YX,(GetHandleId(F3E)),(X4N)))local real X6N=(TimerGetElapsed(K))if X5N<X6N thencall SaveReal(YX,(GetHandleId(F3E)),(X4N),((X6N+2)*1.))if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall MNE(KKV,F3E,1,$F+$A*K7V)endifendifset F3E=nullendfunctionfunction X7N takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall MNE(KKV,GetEnumUnit(),1,K4V)endifendfunctionfunction X8N takes unit J6E,unit X9N returns nothinglocal group g=FYE()set I9V=J6Eset K4V=25*K7Vset KKV=J6Eset KLV=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(X9N),GetUnitY(X9N),0)call GroupEnumUnitsInRange(g,GetUnitX(X9N),GetUnitY(X9N),325,Condition(function LBE))call ForGroup(g,function X7N)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(X9N),GetUnitY(X9N)))call KillUnit(X9N)call FWE(g)set g=nullendfunctionfunction OVN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit OEN=(LoadUnitHandle(YX,(H2E),(393)))local unit OXN=(LoadUnitHandle(YX,(H2E),(394)))local unit OON=(LoadUnitHandle(YX,(H2E),(395)))local unit ORN=(LoadUnitHandle(YX,(H2E),(396)))local unit OIN=(LoadUnitHandle(YX,(H2E),(397)))local real xlocal real ylocal real alocal real d=(LoadReal(YX,(H2E),($8A)))local real XON=GetUnitX(J6E)local real XRN=GetUnitY(J6E)local real OANlocal integer V6N=GetTriggerEvalCount(t)local real ONNlocal group glocal integer OBN=0local real KPX=2.25local real OCNif GME(OEN)==false thenset OBN=OBN+1endifif GME(OXN)==false thenset OBN=OBN+1endifif GME(OON)==false thenset OBN=OBN+1endifif GME(ORN)==false thenset OBN=OBN+1endifif GME(OIN)==false thenset OBN=OBN+1endifif OBN==5 thenset KPX=2.25elseif OBN==4 thenset KPX=2.1elseif OBN==3 thenset KPX=1.95elseif OBN==2 thenset KPX=1.8elseif OBN==1 thenset KPX=1.65endifset OAN=-1*360*.02/KPXset OCN=(LoadReal(YX,(H2E),($89)))+OANcall SaveReal(YX,(H2E),($89),((OCN)*1.))set K7V=GetUnitAbilityLevel(J6E,1093751864)set KKV=J6Eif V6N==50 thencall ShowUnit(OXN,true)call SaveBoolean(YX,(H2E),(512),(true))call GKE(OXN,1097625443)endifif V6N==100 thencall ShowUnit(OON,true)call SaveBoolean(YX,(H2E),(513),(true))call GKE(OON,1097625443)endifif V6N==$96 thencall ShowUnit(ORN,true)call SaveBoolean(YX,(H2E),(514),(true))call GKE(ORN,1097625443)endifif V6N==$C8 thencall ShowUnit(OIN,true)call SaveBoolean(YX,(H2E),(515),(true))call GKE(OIN,1097625443)endifif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093752115 thenif(LoadBoolean(YX,(H2E),(655))) thencall SaveBoolean(YX,(H2E),(655),(false))call SaveBoolean(YX,(H2E),(656),(false))elsecall SaveBoolean(YX,(H2E),(655),(true))call SaveBoolean(YX,(H2E),(656),(false))endifelseif GetSpellAbilityId()==1093752114 thenif(LoadBoolean(YX,(H2E),(656))) thencall SaveBoolean(YX,(H2E),(655),(false))call SaveBoolean(YX,(H2E),(656),(false))elsecall SaveBoolean(YX,(H2E),(655),(false))call SaveBoolean(YX,(H2E),(656),(true))endifendifendifif(LoadBoolean(YX,(H2E),(655)))thenset d=RMaxBJ(d-5,100)call SaveReal(YX,(H2E),($8A),((d)*1.))elseif(LoadBoolean(YX,(H2E),(656)))thenset d=RMinBJ(d+5,875)call SaveReal(YX,(H2E),($8A),((d)*1.))endifif GetTriggerEventId()==EVENT_UNIT_DEATH or V6N==950 or(GME(OEN)and GME(OXN)and GME(OON)and GME(ORN)and GME(OIN))or(V6N>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751864)thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall UnitRemoveAbility(J6E,1093752115)call UnitRemoveAbility(J6E,1093752114)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)if GME(OEN)==false thencall X8N(J6E,OEN)endifif GME(OXN)==false thencall X8N(J6E,OXN)endifif GME(OON)==false thencall X8N(J6E,OON)endifif GME(ORN)==false thencall X8N(J6E,ORN)endifif GME(OIN)==false thencall X8N(J6E,OIN)endifelseset g=FYE()if GME(OEN)==false and(LoadBoolean(YX,(H2E),(511)))thenset ONN=360*5/5.set a=ONN+OCNset x=HRE(XON+d*Cos(a*bj_DEGTORAD))set y=HIE(XRN+d*Sin(a*bj_DEGTORAD))call SetUnitX(OEN,x)call SetUnitY(OEN,y)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,95,Condition(function LFE))if FirstOfGroup(g)!=null thencall X8N(J6E,OEN)endifcall GroupClear(g)set KMV=OENset K6V=1set KKV=J6Ecall GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LGE))call ForGroup(g,function XZN)call GroupClear(g)endifif GME(OXN)==false and(LoadBoolean(YX,(H2E),(512)))thenset ONN=360*4/5.set a=ONN+OCNset x=HRE(XON+d*Cos(a*bj_DEGTORAD))set y=HIE(XRN+d*Sin(a*bj_DEGTORAD))call SetUnitX(OXN,x)call SetUnitY(OXN,y)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,95,Condition(function LFE))if FirstOfGroup(g)!=null thencall X8N(J6E,OXN)endifcall GroupClear(g)set KMV=OXNset K6V=2set KKV=J6Ecall GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LGE))call ForGroup(g,function XZN)call GroupClear(g)endifif GME(OON)==false and(LoadBoolean(YX,(H2E),(513)))thenset ONN=360*3/5.set a=ONN+OCNset x=HRE(XON+d*Cos(a*bj_DEGTORAD))set y=HIE(XRN+d*Sin(a*bj_DEGTORAD))call SetUnitX(OON,x)call SetUnitY(OON,y)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,95,Condition(function LFE))if FirstOfGroup(g)!=null thencall X8N(J6E,OON)endifcall GroupClear(g)set KMV=OONset K6V=3set KKV=J6Ecall GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LGE))call ForGroup(g,function XZN)call GroupClear(g)endifif GME(ORN)==false and(LoadBoolean(YX,(H2E),(514)))thenset ONN=360*2/5.set a=ONN+OCNset x=HRE(XON+d*Cos(a*bj_DEGTORAD))set y=HIE(XRN+d*Sin(a*bj_DEGTORAD))call SetUnitX(ORN,x)call SetUnitY(ORN,y)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,95,Condition(function LFE))if FirstOfGroup(g)!=null thencall X8N(J6E,ORN)endifcall GroupClear(g)set KMV=ORNset K6V=4set KKV=J6Ecall GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LGE))call ForGroup(g,function XZN)call GroupClear(g)endifif GME(OIN)==false and(LoadBoolean(YX,(H2E),(515)))thenset ONN=360*1/5.set a=ONN+OCNset x=HRE(XON+d*Cos(a*bj_DEGTORAD))set y=HIE(XRN+d*Sin(a*bj_DEGTORAD))call SetUnitX(OIN,x)call SetUnitY(OIN,y)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,95,Condition(function LFE))if FirstOfGroup(g)!=null thencall X8N(J6E,OIN)endifcall GroupClear(g)set KMV=OINset K6V=5set KKV=J6Ecall GroupEnumUnitsInRange(g,x,y,$AF,Condition(function LGE))call ForGroup(g,function XZN)call GroupClear(g)endifcall FWE(g)endifset t=nullset J6E=nullset OEN=nullset OXN=nullset OON=nullset ORN=nullset OIN=nullset g=nullreturn falseendfunctionfunction ODN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit OENlocal unit OXNlocal unit OONlocal unit ORNlocal unit OFNlocal real xlocal real yset x=GetUnitX(J6E)+$FA*Cos(bj_DEGTORAD*360*5/5.*-1.)set y=GetUnitY(J6E)+$FA*Sin(bj_DEGTORAD*360*5/5.*-1.)set OEN=CreateUnit(GetOwningPlayer(J6E),1747993418,x,y,360*5/5.*-1.)call GKE(OEN,1097625443)set x=GetUnitX(J6E)+$FA*Cos(bj_DEGTORAD*360*4/5.*-1.)set y=GetUnitY(J6E)+$FA*Sin(bj_DEGTORAD*360*4/5.*-1.)set OXN=CreateUnit(GetOwningPlayer(J6E),1747993418,x,y,360*4/5.*-1.)call ShowUnit(OXN,false)call SetUnitInvulnerable(OXN,true)set x=GetUnitX(J6E)+$FA*Cos(bj_DEGTORAD*360*3/5.*-1.)set y=GetUnitY(J6E)+$FA*Sin(bj_DEGTORAD*360*3/5.*-1.)set OON=CreateUnit(GetOwningPlayer(J6E),1747993418,x,y,360*3/5.*-1.)call ShowUnit(OON,false)call SetUnitInvulnerable(OXN,true)set x=GetUnitX(J6E)+$FA*Cos(bj_DEGTORAD*360*2/5.*-1.)set y=GetUnitY(J6E)+$FA*Sin(bj_DEGTORAD*360*2/5.*-1.)set ORN=CreateUnit(GetOwningPlayer(J6E),1747993418,x,y,360*2/5.*-1.)call ShowUnit(ORN,false)call SetUnitInvulnerable(ORN,true)set x=GetUnitX(J6E)+$FA*Cos(bj_DEGTORAD*360*1/5.*-1.)set y=GetUnitY(J6E)+$FA*Sin(bj_DEGTORAD*360*1/5.*-1.)set OFN=CreateUnit(GetOwningPlayer(J6E),1747993418,x,y,360*1/5.*-1.)call ShowUnit(OFN,false)call SetUnitInvulnerable(OFN,true)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(393),(OEN))call SaveUnitHandle(YX,(H2E),(394),(OXN))call SaveUnitHandle(YX,(H2E),(395),(OON))call SaveUnitHandle(YX,(H2E),(396),(ORN))call SaveUnitHandle(YX,(H2E),(397),(OFN))call SaveBoolean(YX,(H2E),(511),(true))call SaveBoolean(YX,(H2E),(512),(false))call SaveBoolean(YX,(H2E),(513),(false))call SaveBoolean(YX,(H2E),(514),(false))call SaveBoolean(YX,(H2E),(515),(false))call SaveBoolean(YX,(H2E),(655),(false))call SaveBoolean(YX,(H2E),(656),(false))call SaveReal(YX,(H2E),($8A),(($96)*1.))call GKE(J6E,1093752114)call GKE(J6E,1093752115)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OVN))set J6E=nullset t=nullset OEN=nullset OXN=nullset OON=nullset ORN=nullset OFN=nullendfunctionfunction OGN takes nothing returns booleanif GetSpellAbilityId()==1093751864 thencall ODN()endifreturn falseendfunctionfunction OIX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OGN))set t=nullendfunctionfunction OHN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=(LoadInteger(YX,(H2E),(5)))call HWE(J6E,GetEventDamage()*.05*MAE)set t=nullset J6E=nullreturn falseendfunctionfunction OJN takes unit u returns nothinglocal trigger tcall UnitRemoveAbility(u,1093751891)call UnitRemoveAbility(u,1093751890)call UnitRemoveAbility(u,1093751892)call UnitRemoveAbility(u,1093751888)if(LoadBoolean(YX,(GetHandleId(u)),(708)))thencall SaveBoolean(YX,(GetHandleId(u)),(708),(false))set t=(LoadTriggerHandle(YX,(GetHandleId(u)),(709)))call FlushChildHashtable(YX,(GetHandleId(t)))call IRE(t)call RemoveSavedHandle(YX,(GetHandleId(u)),(709))set t=nullendifendfunctionfunction OKN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call OJN(J6E)call FlushChildHashtable(YX,(H2E))call IRE(t)return falseendfunctionfunction OLN takes unit u,integer i returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(u))call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OKN))if i==1 thencall GKE(u,1093751891)call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751891,false)elseif i==2 thencall GKE(u,1093751890)call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751890,false)elseif i==3 thencall GKE(u,1093751892)call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751892,false)elseif i==4 thencall GKE(u,1093751888)call SetPlayerAbilityAvailable(GetOwningPlayer(u),1093751888,false)endifif(LoadBoolean(YX,(GetHandleId(u)),(708)))==false thencall SaveBoolean(YX,(GetHandleId(u)),(708),(true))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function OHN))call SaveTriggerHandle(YX,(GetHandleId(u)),(709),(t))call SaveUnitHandle(YX,(GetHandleId(t)),(2),(u))call SaveInteger(YX,(GetHandleId(t)),(5),(i))endifset t=nullendfunctionfunction OMN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer V6N=(LoadInteger(YX,(H2E),(34)))local integer MAE=GetUnitAbilityLevel(J6E,1093810257)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit OPN=(LoadUnitHandle(YX,(GetHandleId(J6E)),(652)))local boolean OQN=falselocal real OSN=.2*(GetUnitState(J6E,UNIT_STATE_LIFE)*.025)local real OTN=.2*(GetUnitState(J6E,UNIT_STATE_MANA)*.025)if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==852589thencall OLN(J6E,MAE)elseif GetIssuedOrderId()==852590thencall OJN(J6E)endifendifif GetUnitAbilityLevel(J6E,1093751891)>0 or GetUnitAbilityLevel(J6E,1093751890)>0 or GetUnitAbilityLevel(J6E,1093751892)>0 or GetUnitAbilityLevel(J6E,1093751888)>0 thenset OQN=truecall SetUnitState(J6E,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(J6E,UNIT_STATE_LIFE)-OSN,1))call SetUnitState(J6E,UNIT_STATE_MANA,RMaxBJ(GetUnitState(J6E,UNIT_STATE_MANA)-OTN,1))endifif OPN==null thenif F3E!=null thencall OJN(F3E)set F3E=nullcall SaveUnitHandle(YX,(H2E),(17),(F3E))endifelseif F3E==null thenset F3E=OPNif OQN thencall SaveUnitHandle(YX,(H2E),(17),(F3E))call OLN(F3E,MAE)elsecall OJN(F3E)endifelseif F3E!=OPN thencall OJN(F3E)if OQN thenset F3E=OPNcall SaveUnitHandle(YX,(H2E),(17),(F3E))call OLN(F3E,MAE)endifelseif OQN==false thencall OJN(F3E)elseif F3E==OPN thenif OQN thenset F3E=OPNcall SaveUnitHandle(YX,(H2E),(17),(F3E))call OLN(F3E,MAE)endifendifendifset t=nullset J6E=nullset F3E=nullset OPN=nullreturn falseendfunctionfunction OUN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093810257)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(null))call TriggerRegisterTimerEvent(t,.2,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function OMN))set J6E=nullset t=nullendfunctionfunction OWN takes nothing returns booleanif GetLearnedSkill()==1093810257 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093810257)==1 thencall OUN()endifreturn falseendfunctionfunction OAX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function OWN))set t=nullendfunctionfunction OYN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),K2V)==false thencall GroupAddUnit(K2V,GetEnumUnit())call MRE(KJV,GetEnumUnit(),.25+.5*K5V)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction OZN takes unit J6E,unit F3E,group V7N returns nothinglocal real x1=GetUnitX(J6E)local real y1=GetUnitY(J6E)local real x2=GetUnitX(F3E)local real y2=GetUnitY(F3E)local real a=H4E(x1,y1,x2,y2)*bj_DEGTORADlocal real xlocal real ylocal real d=E4E(x1,y1,x2,y2)local group g=FYE()local integer i=1set K2V=V7Nset KJV=J6Eset K5V=GetUnitAbilityLevel(J6E,1093751873)set K3V=K5V*50+50loopexitwhen i>8set I9V=J6Eset x=x1+d*i/8*Cos(a)set y=y1+d*i/8*Sin(a)call GroupEnumUnitsInRange(g,x,y,100,Condition(function K3E))call ForGroup(g,function OYN)call GroupClear(g)set i=i+1endloopcall FWE(g)set g=nullendfunctionfunction O_N takes unit J6E,unit F3E returns booleanreturn(R8E(J6E,"Relocate|Active"))endfunctionfunction O0N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real d=E3E(J6E,F3E)local real a=H3E(J6E,F3E)*bj_DEGTORADlocal real x=GetUnitX(J6E)+20*Cos(a)local real y=GetUnitY(J6E)+20*Sin(a)local location lif d<300 or d>$866 thenset l=HXX(x,y)set x=GetLocationX(l)set y=GetLocationY(l)call SetUnitX(J6E,HRE(x))call SetUnitY(J6E,HRE(y))call JRE(x,y,350)call RemoveLocation(l)set l=nullcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SaveInteger(YX,(GetHandleId((J6E))),((4295)),(2))elsecall SetUnitX(J6E,x)call SetUnitY(J6E,y)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction O1N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local group V7N=(LoadGroupHandle(YX,(H2E),($85)))local lightning O2N=(LoadLightningHandle(YX,(H2E),($C4)))local integer DZX=GetTriggerEvalCount(t)local real d=E3E(J6E,F3E)local real a=1local real HTO=GetUnitState(J6E,UNIT_STATE_LIFE)local real O3N=GetUnitState(J6E,UNIT_STATE_MANA)local real O4N=(LoadReal(YX,(H2E),(670)))local real O5N=(LoadReal(YX,(H2E),(667)))local real O6Nlocal real O7Nif F3E==null or J6E==null or GME(J6E) or(DZX>600 and O_N(J6E,F3E)==false and((LoadInteger(YX,(GetHandleId((J6E))),((4295))))==1)==false)or(d>925 and((LoadInteger(YX,(GetHandleId((J6E))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()==1093751893)thencall FWE(V7N)call DestroyLightning(O2N)call UnitRemoveAbility(F3E,1093751880)call UnitRemoveAbility(F3E,1093751881)call UnitRemoveAbility(F3E,1093751879)call UnitRemoveAbility(F3E,1093751882)call UnitRemoveAbility(F3E,1110459464)call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093751880)call UnitRemoveAbility(J6E,1093751881)call UnitRemoveAbility(J6E,1093751879)call UnitRemoveAbility(J6E,1093751882)call UnitRemoveAbility(J6E,1110459464)call UnitRemoveAbility(J6E,1093751893)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093751873 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093751873,true)endifcall RemoveSavedHandle(YX,GetHandleId(J6E),652)call RemoveSavedHandle(YX,GetHandleId(F3E),StringHash("AI|TetherSource"))elseset O6N=HTO/GetUnitState(J6E,UNIT_STATE_MAX_LIFE)set O7N=O3N/GetUnitState(J6E,UNIT_STATE_MAX_MANA)if O6N-O4N>0 and(O6N-O4N)<.5 thenif R8E(J6E,"ArmletOfMordiganState")==false thencall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+(O6N-O4N)*GetUnitState(J6E,UNIT_STATE_MAX_LIFE))endifendifif O7N-O5N>0 and(O6N-O4N)<.5 thencall SetUnitState(F3E,UNIT_STATE_MANA,GetUnitState(F3E,UNIT_STATE_MANA)+(O7N-O5N)*GetUnitState(J6E,UNIT_STATE_MAX_MANA))endifcall SaveReal(YX,(H2E),(670),((GetUnitState(J6E,UNIT_STATE_LIFE)/GetUnitState(J6E,UNIT_STATE_MAX_LIFE))*1.))call SaveReal(YX,(H2E),(667),((GetUnitState(J6E,UNIT_STATE_MANA)/GetUnitState(J6E,UNIT_STATE_MAX_MANA))*1.))call MoveLightning(O2N,true,GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))call OZN(J6E,F3E,V7N)if IsUnitVisible(J6E,GetLocalPlayer())==false and IsUnitVisible(F3E,GetLocalPlayer())==false thenset a=0endifif FJE(GetLocalPlayer())thenset a=1endifif d<700 or((LoadInteger(YX,(GetHandleId((J6E))),((4295))))==1) thencall SetLightningColor(O2N,.0,1.,1.,a)elsecall SetLightningColor(O2N,.8,.7,.4,a)endifendifset t=nullset J6E=nullset F3E=nullset V7N=nullset O2N=nullreturn falseendfunctionfunction O8N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local lightning O2N=AddLightning("CHIM",true,GetUnitX(J6E),GetUnitY(J6E),GetUnitX(F3E),GetUnitY(F3E))local integer MAE=GetUnitAbilityLevel(J6E,1093751873)local integer O9Nlocal real d=E3E(J6E,F3E)local real a=H3E(J6E,F3E)*bj_DEGTORADlocal location llocal real xlocal real ycall SetLightningColor(O2N,.0,1.,1.,1)call GKE(J6E,1093751893)if MAE==1 thenset O9N=1093751880elseif MAE==2 thenset O9N=1093751881elseif MAE==3 thenset O9N=1093751879elseif MAE==4 thenset O9N=1093751882endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093751873,false)call GKE(J6E,O9N)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),O9N,false)call GKE(F3E,O9N)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),O9N,false)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveGroupHandle(YX,(H2E),($85),(FYE()))call SaveLightningHandle(YX,(H2E),($C4),(O2N))call SaveReal(YX,(H2E),(670),((GetUnitState(J6E,UNIT_STATE_LIFE)/GetUnitState(J6E,UNIT_STATE_MAX_LIFE))*1.))call SaveReal(YX,(H2E),(667),((GetUnitState(J6E,UNIT_STATE_MANA)/GetUnitState(J6E,UNIT_STATE_MAX_MANA))*1.))call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O1N))call SaveUnitHandle(YX,(GetHandleId(J6E)),(652),(F3E))if IsUnitType(F3E,UNIT_TYPE_HERO)thencall O8E((GetHandleId(F3E)),"AI|TetherSource",J6E)endifif d>700 thenset t=CreateTrigger()set H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",J6E,"chest")))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function O0N))call SaveInteger(YX,(GetHandleId((J6E))),((4295)),(1))endifset J6E=nullset t=nullendfunctionfunction RVN takes nothing returns booleanif GetSpellAbilityId()==1093751873 thencall O8N()endifreturn falseendfunctionfunction ONX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RVN))set t=nullendfunctionfunction REN takes unit J6E,real x,real y returns booleanlocal boolean SMO=falselocal player p=GetOwningPlayer(J6E)local unit MIE=CreateUnit(p,1697657425,GetUnitX(J6E),GetUnitY(J6E),0)call GKE(MIE,1093752372)if IssuePointOrderById(MIE,$D022D,x,y) thencall KillUnit(MIE)set MIE=nullreturn trueelsecall KillUnit(MIE)set MIE=nullreturn falseendifendfunctionfunction RXN takes string RON,unit F3E returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,RON,.033)call SetTextTagPosUnit(tt,F3E,64)call SetTextTagColor(tt,0,50,$FF,$FF)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,.85)call SetTextTagVisibility(tt,true)set tt=nullendfunctionfunction RRN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer V6N=GetTriggerEvalCount(t)if GME(J6E)==false and V6N<$C thencall RXN(I2S($C-V6N),J6E)endifif V6N==$C thencall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction RIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(GetHandleId(J6E)),(652)))local real XGN=(LoadReal(YX,(H2E),(47)))local real XHN=(LoadReal(YX,(H2E),(48)))local real XON=(LoadReal(YX,(H2E),($BD)))local real XRN=(LoadReal(YX,(H2E),($BE)))local fogmodifier E0N=(LoadFogModifierHandle(YX,(H2E),(42)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall IXE(J6E,"Relocate|Active")call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FogModifierStop(E0N)call DestroyFogModifier(E0N)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall JRE(XGN,XHN,$FA)call JRE(XON,XRN,$FA)if GetTriggerEvalCount(t)==1 thenif GME(J6E)==false thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(J6E),GetUnitY(J6E)))call SetUnitPosition(J6E,XGN,XHN)call PanCameraToTimedForPlayer(GetOwningPlayer(J6E),XGN,XHN,0)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(J6E),GetUnitY(J6E)))call CZE(J6E)endifif F3E!=null and GME(F3E)==false and GetOwningPlayer(F3E)!=RX[0]and GetOwningPlayer(F3E)!=GX[0]and((R3E(GetHandleId(GetOwningPlayer((F3E))),"DisableHelp"))==false)thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(F3E),GetUnitY(F3E)))call IBE(F3E,"4402",1)call SetUnitPosition(F3E,XGN,XHN)if IsUnitType(F3E,UNIT_TYPE_HERO) and GME(F3E)==false thencall PanCameraToTimedForPlayer(GetOwningPlayer(F3E),XGN,XHN,0)endifcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(F3E),GetUnitY(F3E)))call CZE(F3E)endifelseif GME(J6E)==false thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(J6E),GetUnitY(J6E)))call SetUnitPosition(J6E,XON,XRN)call PanCameraToTimedForPlayer(GetOwningPlayer(J6E),XON,XRN,0)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(J6E),GetUnitY(J6E)))call CZE(J6E)endifif F3E!=null and GME(F3E)==false and GetOwningPlayer(F3E)!=RX[0]and GetOwningPlayer(F3E)!=GX[0]and((R3E(GetHandleId(GetOwningPlayer((F3E))),"DisableHelp"))==false)thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(F3E),GetUnitY(F3E)))call IBE(F3E,"4402",1)call SetUnitPosition(F3E,XON,XRN)if IsUnitType(F3E,UNIT_TYPE_HERO) and GME(F3E)==false thencall PanCameraToTimedForPlayer(GetOwningPlayer(F3E),XON,XRN,0)endifcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(F3E),GetUnitY(F3E)))call CZE(F3E)endifcall IXE(J6E,"Relocate|Active")call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FogModifierStop(E0N)call DestroyFogModifier(E0N)call FlushChildHashtable(YX,(H2E))call IRE(t)endifendifset t=nullset J6E=nullset F3E=nullset E0N=nullreturn falseendfunctionfunction RAN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real XGN=(LoadReal(YX,(H2E),(47)))local real XHN=(LoadReal(YX,(H2E),(48)))local fogmodifier E0Nlocal integer MAE=GetUnitAbilityLevel(J6E,1093751874)if G3X(J6E)or K1E(J6E)or GME(J6E)thencall IXE(J6E,"Relocate|Active")call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEvalCount(t)==(2.75-.25*MAE)/.05 thenset E0N=CreateFogModifierRadius(GetOwningPlayer(J6E),FOG_OF_WAR_VISIBLE,GetUnitX(J6E),GetUnitY(J6E),400,true,true)call FogModifierStart(E0N)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)set t=CreateTrigger()set H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call TriggerRegisterTimerEvent(t,.01,false)call TriggerRegisterTimerEvent(t,$C,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function RIN))call SaveReal(YX,(H2E),($BD),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),($BE),((GetUnitY(J6E))*1.))call SaveReal(YX,(H2E),(47),((XGN)*1.))call SaveReal(YX,(H2E),(48),((XHN)*1.))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(J6E),GetUnitY(J6E))))call SaveFogModifierHandle(YX,(H2E),(42),(E0N))set t=CreateTrigger()set H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function RRN))endifset J6E=nullset t=nullset E0N=nullreturn falseendfunctionfunction RNN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real x=GetSpellTargetX()local real y=GetSpellTargetY()local unit F3E=(LoadUnitHandle(YX,(GetHandleId(J6E)),(652)))local integer id=GetPlayerId(GetOwningPlayer(J6E))local integer MAE=GetUnitAbilityLevel(J6E,1093751874)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",J6E,"chest"))if F3E!=null thenendifcall PingMinimapEx(x,y,4.,$FF,0,0,false)call JBE(RX[1],2.5,x,y,300)call JBE(GX[1],2.5,x,y,300)call SaveUnitHandle(YX,(H2E),(2),(J6E))call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function RAN))call SaveReal(YX,(H2E),(47),((x)*1.))call SaveReal(YX,(H2E),(48),((y)*1.))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))call IVE(J6E,"Relocate|Active")set J6E=nullset t=nullendfunctionfunction RBN takes nothing returns booleanif GetSpellAbilityId()==1093751874 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall RNN()elseif REN(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848658776))elseif B2E(GetOwningPlayer(GetTriggerUnit()))thenif IsPointInRegion(K9V,GetSpellTargetX(),GetSpellTargetY()) thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))endifelseif IsPointInRegion(K8V,GetSpellTargetX(),GetSpellTargetY()) thencall XIE(GetTriggerUnit())call HEE(GetOwningPlayer(GetTriggerUnit()),GetObjectName(1848652633))endifendifendifendifendifreturn falseendfunctionfunction OBX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function RBN))set K8V=CreateRegion()call RegionAddRect(K8V,WA)call RegionAddRect(K8V,ZA)set K9V=CreateRegion()call RegionAddRect(K9V,QA)call RegionAddRect(K9V,BN)set t=nullendfunctionfunction RCN takes unit J6E,unit I_I,real RDN,real RFN,real a2 returns nothinglocal integer i=0local real RGNlocal real RHN=GetUnitY(I_I)local real alocal real xlocal real ylocal real RJNif I_I!=null thenset RGN=GetUnitX(I_I)set RHN=GetUnitY(I_I)set a=H4E(RDN,RFN,RGN,RHN)elseset a=a2set RGN=RDN+50*Cos(a*bj_DEGTORAD)set RHN=RFN+50*Sin(a*bj_DEGTORAD)endifset RJN=aset x=RGN+$C8*Cos(RJN*bj_DEGTORAD)set y=RHN+$C8*Sin(RJN*bj_DEGTORAD)call JWE(CreateDestructable(1110454326,x,y,-1*RJN,.6,1),5)call JRE(x,y,300)set RJN=a-40set x=RGN+$C8*Cos(RJN*bj_DEGTORAD)set y=RHN+$C8*Sin(RJN*bj_DEGTORAD)call JWE(CreateDestructable(1110454326,x,y,-1*RJN,.6,1),5)call JRE(x,y,300)set RJN=a-80set x=RGN+$C8*Cos(RJN*bj_DEGTORAD)set y=RHN+$C8*Sin(RJN*bj_DEGTORAD)call JWE(CreateDestructable(1110454326,x,y,-1*RJN,.6,1),5)call JRE(x,y,300)set RJN=a+40set x=RGN+$C8*Cos(RJN*bj_DEGTORAD)set y=RHN+$C8*Sin(RJN*bj_DEGTORAD)call JWE(CreateDestructable(1110454326,x,y,-1*RJN,.6,1),5)call JRE(x,y,300)set RJN=a+80set x=RGN+$C8*Cos(RJN*bj_DEGTORAD)set y=RHN+$C8*Sin(RJN*bj_DEGTORAD)call JWE(CreateDestructable(1110454326,x,y,-1*RJN,.6,1),5)call JRE(x,y,300)if I_I!=null thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",I_I,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",I_I,"chest"))call MNE(PHV,I_I,1,PKV*70)endifendfunctionfunction RKN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),PLV)==false thenif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false thencall GroupAddUnit(PLV,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))call MNE(PHV,GetEnumUnit(),1,PKV*70)elseset PJV=GetEnumUnit()endifendifendfunctionfunction RLN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer JTE=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(JTE),(2)))local unit I_I=(LoadUnitHandle(YX,(JTE),(17)))local unit RMN=(LoadUnitHandle(YX,(JTE),(45)))local real RPN=(LoadReal(YX,(JTE),(683)))local real RQN=(LoadReal(YX,(JTE),(684)))local real RDN=GetUnitX(RMN)local real RFN=GetUnitY(RMN)local real RSN=Atan2(RQN-RFN,RPN-RDN)local real RTN=RDN+18*Cos(RSN)local real RUN=RFN+18*Sin(RSN)local group RWN=(LoadGroupHandle(YX,(JTE),($85)))local integer XGN=GetUnitAbilityLevel(J6E,1093753167)local group g=FYE()set I9V=J6Eset PHV=J6Eset PLV=RWNset PKV=XGNset PJV=nullcall GroupEnumUnitsInRange(g,RTN,RUN,$E1,Condition(function K3E))call ForGroup(g,function RKN)call FWE(g)call SetUnitPosition(RMN,RTN,RUN)if E4E(RTN,RUN,RPN,RQN)<40 or PJV!=null thencall JRE(RTN,RUN,300)call KillUnit(RMN)call ShowUnit(RMN,false)call SetUnitPathing(RMN,true)if PJV!=null thencall RCN(J6E,PJV,RTN,RUN,RSN*bj_RADTODEG)elsecall RCN(J6E,null,RTN,RUN,RSN*bj_RADTODEG)endifcall FWE(RWN)call FlushChildHashtable(YX,(JTE))call IRE(t)endifset t=nullset RMN=nullset RWN=nullset g=nullreturn falseendfunctionfunction RYN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer JTE=GetHandleId(t)local unit RMN=CreateUnit(GetOwningPlayer(J6E),1747993427,GetUnitX(J6E),GetUnitY(J6E),0)local real RDN=GetUnitX(J6E)local real RFN=GetUnitY(J6E)local real RGN=GetSpellTargetX()local real RHN=GetSpellTargetY()local real RSN=Atan2(RHN-RFN,RGN-RDN)local real RPN=HRE(RDN+$640*Cos(RSN))local real RQN=HIE(RFN+$640*Sin(RSN))call SetUnitFacing(RMN,RSN*bj_RADTODEG)call SetUnitPathing(RMN,false)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function RLN))call SaveUnitHandle(YX,(JTE),(2),(J6E))call SaveReal(YX,(JTE),(683),((RPN)*1.))call SaveReal(YX,(JTE),(684),((RQN)*1.))call SaveReal(YX,(JTE),($D),((RSN)*1.))call SaveUnitHandle(YX,(JTE),(45),(RMN))call SaveGroupHandle(YX,(JTE),($85),(FYE()))set J6E=nullset RMN=nullset t=nullendfunctionfunction RZN takes nothing returns booleanif GetSpellAbilityId()==1093753167 thencall RYN()endifreturn falseendfunctionfunction OCX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RZN))set t=nullendfunctionfunction R_N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093753169)local integer DZX=GetTriggerEvalCount(t)local real y=(DZX-50)*(DZX-50)/4.3local real C4Oif MAE==1 thenset C4O=75elseif MAE==2 thenset C4O=$96elseset C4O=$E1endifif DZX==1 thencall IssueTargetOrderById(J6E,$D000F,F3E)endifif DZX<50 thenif Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,700*DZX/50,0)endifelseif DZX<100 thenif Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,700-700*(DZX-50)/50,0)endifelseif Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,GetUnitDefaultFlyHeight(F3E),0)endifcall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call O1E(H2E)call IRE(t)call KNE(F3E,1093808180,1,1+MAE,1110459481)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093808180,false)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction R0N takes unit J6E,unit F3E returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093753169)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call H7E("WALRUS PUNCH !!",3.5,J6E,.03,$FF,0,0,$FF)call JAE(M0V,GetUnitX(F3E),GetUnitY(F3E))call GKE(MIE,1093752144)call IssueTargetOrderById(MIE,$D007F,F3E)if Y5O(F3E)==false thencall GKE(F3E,1097691750)call UnitRemoveAbility(F3E,1097691750)endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"overhead"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"head"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"left,hand"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"right,hand"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",F3E,"origin"))call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function R_N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",F3E,"chest")))set t=nullendfunctionfunction R1N takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer UFO=GetHandleId(t2)local unit J6E=(LoadUnitHandle(YX,(UFO),(2)))local unit F3E=(LoadUnitHandle(YX,(UFO),(17)))local integer CBE=GetHandleId(J6E)local trigger t=RTE(CBE,"WalrusPunch|Clear")if GetTriggerEvalCount(t2)==1 thencall IssueTargetOrderById(J6E,$D000F,F3E)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E and GetEventDamage()>30 thenif F3E==RME(CBE,"WalrusPunch|Target")thencall KOE(J6E,1093752136,1,.1)call KOE(J6E,1093752137,1,.1)call R0N(J6E,F3E)if t!=null thencall TriggerEvaluate(t)endifendifcall IRE(t2)call O1E(UFO)endifelsecall UnitRemoveAbility(J6E,1093752136)call UnitRemoveAbility(J6E,1093752137)call O1E(UFO)call IRE(t2)endifset t2=nullset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction R2N takes nothing returns booleanlocal unit J6E=GetAttacker()local unit F3E=GetTriggerUnit()local integer CBE=GetHandleId(J6E)local trigger t=RTE(CBE,"WalrusPunch|Clear")local trigger t2local integer UFOif R8E(J6E,"WalrusPunch|Active") and t!=null and F3E!=RME(CBE,"WalrusPunch|Target")and IsUnitAlly(F3E,GetOwningPlayer(J6E))==false and IsUnitType(F3E,UNIT_TYPE_STRUCTURE)==false thencall O8E(CBE,"WalrusPunch|Target",F3E)call UnitRemoveAbility(J6E,1093752136)call UnitRemoveAbility(J6E,1093752137)if GetUnitState(F3E,UNIT_STATE_LIFE)/GetUnitState(F3E,UNIT_STATE_MAX_LIFE)>.5 thencall GKE(J6E,1093752136)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093752136,false)elsecall GKE(J6E,1093752137)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093752137,false)endifcall IssueImmediateOrderById(J6E,$D0004)set t2=CreateTrigger()set UFO=GetHandleId(t2)call TriggerRegisterTimerEvent(t2,.0,false)call TriggerRegisterTimerEvent(t2,2.,false)call TriggerRegisterUnitEvent(t2,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t2,Condition(function R1N))call SaveUnitHandle(YX,(UFO),(2),(J6E))call SaveUnitHandle(YX,(UFO),(17),(F3E))endifset J6E=nullset F3E=nullreturn falseendfunctionfunction R3N takes nothing returns booleanif R8E(GetAttacker(),"WalrusPunch|Active") thencall R2N()endifreturn falseendfunctionfunction R4N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer CBE=GetHandleId(J6E)call IXE(J6E,"WalrusPunch|Active")call DestroyEffect(RWE(CBE,"WalrusPunch|Visual"))call UnitRemoveAbility(J6E,1093752136)call UnitRemoveAbility(J6E,1093752137)call O2E(CBE,"WalrusPunch|Visual")call O2E(CBE,"WalrusPunch|Target")call O2E(CBE,"WalrusPunch|Clear")call O1E(H2E)call IRE(t)set J6E=nullset t=nullreturn falseendfunctionfunction R5N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local integer CBE=GetHandleId(J6E)call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function R4N))call IVE(J6E,"WalrusPunch|Active")call SaveUnitHandle(YX,(H2E),(2),(J6E))call O8E(CBE,"WalrusPunch|Target",J6E)call O9E(CBE,"WalrusPunch|Visual",(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",J6E,"weapon")))call RVE(CBE,"WalrusPunch|Clear",t)set t=nullset J6E=nullendfunctionfunction R6N takes nothing returns booleanif GetSpellAbilityId()==1093753169 thencall R5N()endifreturn falseendfunctionfunction ODX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R6N))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function R3N))set t=nullendfunctionfunction R7N takes nothing returns nothingcall ShowUnit(GetEnumUnit(),true)call UnitRemoveAbility(GetEnumUnit(),1093678162)call SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thencall SetUnitPosition(GetEnumUnit(),PUV,PWV)call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))elsecall SetUnitX(GetEnumUnit(),PUV)call SetUnitY(GetEnumUnit(),PWV)endifif GetEnumUnit()==PPV and PQV!=null thencall IssueTargetOrderById(PPV,$D000F,PQV)endifcall DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))endfunctionfunction R8N takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),PMV)==false thencall GroupAddUnit(PMV,GetEnumUnit())if GetEnumUnit()==PQV thencall MNE(PPV,GetEnumUnit(),1,40*PTV+40)call SetUnitAbilityLevel(PSV,1093687350,MOE(.25*PTV+.25))elsecall MNE(PPV,GetEnumUnit(),1,40*PTV)call SetUnitAbilityLevel(PSV,1093687350,MOE(.25*PTV))endifcall SetUnitX(PSV,GetUnitX(GetEnumUnit()))call SetUnitY(PSV,GetUnitY(GetEnumUnit()))call IssueTargetOrderById(PSV,$D007F,GetEnumUnit())endifendfunctionfunction R9N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local real JDE=GetUnitX(F3E)local real JFE=GetUnitY(F3E)local real r=(LoadReal(YX,(H2E),(671)))local real a=H4E(GetUnitX(JCE),GetUnitY(JCE),JDE,JFE)*bj_DEGTORADlocal real x=GetUnitX(JCE)+r*Cos(a)local real y=GetUnitY(JCE)+r*Sin(a)local group RWN=(LoadGroupHandle(YX,(H2E),($85)))local group glocal integer DZX=GetTriggerEvalCount(t)local real AHI=RMinBJ(2.5+(DZX*.02),$A)local real IVN=$E1+40*(DZX*.02)set PTV=GetUnitAbilityLevel(J6E,1093751607)set I9V=J6Eset PMV=RWNset PPV=J6Eset PQV=F3Eset PSV=(LoadUnitHandle(YX,(H2E),(19)))call SetUnitX(JCE,x)call SetUnitY(JCE,y)call SetUnitFacing(JCE,a*bj_RADTODEG-$B4)call SetUnitScale(JCE,AHI,AHI,AHI)if E4E(x,y,JDE,JFE)<r*2 or DZX==$96 thencall JRE(x,y,300)set g=FYE()call GroupEnumUnitsInRange(g,x,y,IVN,Condition(function K3E))call ForGroup(g,function R8N)call FWE(g)set g=nullset PUV=xset PWV=ycall ForGroup((LoadGroupHandle(YX,(H2E),(22))),function R7N)call FWE((LoadGroupHandle(YX,(H2E),(22))))call FWE(RWN)call KillUnit(JCE)call O1E(H2E)call IRE(t)elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 thencall JRE(x,y,300)set g=FYE()call GroupEnumUnitsInRange(g,x,y,IVN,Condition(function K3E))call ForGroup(g,function R8N)call FWE(g)set g=nullendifendifset t=nullset J6E=nullset JCE=nullset RWN=nullreturn falseendfunctionfunction IEN takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call ShowUnit(GetEnumUnit(),false)call GKE(GetEnumUnit(),1093678162)call SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)if PPV!=GetEnumUnit()thenset PZV=PZV+1endifendfunctionfunction IXN takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO) and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and(R3E(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false or PPV==GetFilterUnit()))!=nullendfunctionfunction ION takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit I_I=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer JTE=GetHandleId(t)local real RDN=GetUnitX(J6E)local real RFN=GetUnitY(J6E)local real RGN=GetUnitX(I_I)local real RHN=GetUnitY(I_I)local real a=H4E(RDN,RFN,RGN,RHN)*bj_DEGTORADlocal unit IRN=CreateUnit(GetOwningPlayer(J6E),1747993395,GetUnitX(J6E),GetUnitY(J6E),GetUnitFacing(J6E))local group g=FYE()set PYV=0set PZV=1set PPV=J6Eset PYV=1.5*RMaxBJ($85,GetUnitMoveSpeed(J6E))call GroupEnumUnitsInRange(g,RDN,RFN,$FF,Condition(function IXN))call ForGroup(g,function IEN)set PSV=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call GKE(PSV,1093687350)call SetUnitTimeScale(IRN,2)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function R9N))call SaveUnitHandle(YX,(JTE),(2),(J6E))call SaveUnitHandle(YX,(JTE),(17),(I_I))call SaveUnitHandle(YX,(JTE),(19),(PSV))call SaveUnitHandle(YX,(JTE),(45),(IRN))call SaveReal(YX,(JTE),($89),((a)*1.))call SaveReal(YX,(JTE),(671),((PYV*.02)*1.))call SaveReal(YX,(JTE),(47),((RGN)*1.))call SaveReal(YX,(JTE),(48),((RHN)*1.))call SaveGroupHandle(YX,(JTE),(22),(g))call SaveGroupHandle(YX,(JTE),($85),(FYE()))set t=nullset J6E=nullset IRN=nullset g=nullendfunctionfunction IIN takes nothing returns booleanif GetSpellAbilityId()==1093751607 thencall ION()endifreturn falseendfunctionfunction OFX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IIN))call HCE(1093687350)set t=nullendfunctionfunction IAN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer JTE=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(JTE),(2)))local unit I_I=(LoadUnitHandle(YX,(JTE),(17)))call O1E(JTE)call IRE(t)call IssueTargetOrderById(J6E,$D0012,I_I)set t=nullset J6E=nullset I_I=nullreturn falseendfunctionfunction INN takes nothing returns nothinglocal unit J6E=GetSummonedUnit()local unit I_I=GetSummoningUnit()local trigger t=CreateTrigger()local integer JTE=GetHandleId(t)call TriggerAddCondition(t,Condition(function IAN))call TriggerRegisterTimerEvent(t,.2,false)call SaveUnitHandle(YX,(JTE),(2),(J6E))call SaveUnitHandle(YX,(JTE),(17),(I_I))set t=nullset J6E=nullset I_I=nullendfunctionfunction IBN takes nothing returns booleanlocal integer id=GetUnitTypeId(GetSummonedUnit())if id==1865429322 or id==1865429323 or id==1865429324 or id==1865429325 thencall INN()endifreturn falseendfunctionfunction OGX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function IBN))endfunctionfunction ICN takes integer DAE returns booleanreturn(DAE==1852862003 or DAE==1852862006 or DAE==1848652080 or DAE==1848657754)or(DAE==1852862002 or DAE==1852862005 or DAE==1848652082 or DAE==1848657969)or(DAE==1852862001 or DAE==1852862004 or DAE==1848652081 or DAE==1848657968)endfunctionfunction IDN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset QKV=GetEventDamageSource()elsecall SetUnitX(J6E,GetUnitX(F3E))call SetUnitY(J6E,GetUnitY(F3E))call SetUnitX(MIE,GetUnitX(F3E))call SetUnitY(MIE,GetUnitY(F3E))endifset t=nullset J6E=nullset F3E=nullset MIE=nullreturn falseendfunctionfunction IFN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset QKV=GetEventDamageSource()endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction IGN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetSummoningUnit()local unit F3E=GetSummonedUnit()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function IDN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(19),(MIE))if OXE(J6E,1227899192)thencall UnitAddAbility(MIE,1093678153)endifset t=nullset J6E=nullset F3E=nullset MIE=nullendfunctionfunction IHN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetSummoningUnit()local unit F3E=GetSummonedUnit()call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function IFN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullendfunctionfunction IJN takes nothing returns booleanlocal integer DAE=GetUnitTypeId(GetSummonedUnit())if DAE==1852862003 or DAE==1852862006 or DAE==1848652080 or DAE==1848657754 thencall IGN()elseif ICN(DAE)thencall IHN()endifreturn falseendfunctionfunction OJX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function IJN))set t=nullendfunctionfunction IKN takes nothing returns nothingcall MRE(SDV,GetEnumUnit(),.75+.25*GetUnitAbilityLevel(SDV,1093809990))endfunctionfunction ILN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real a=(LoadReal(YX,(H2E),($89)))local real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local real H7O=(LoadReal(YX,(H2E),($BD)))local real H8O=(LoadReal(YX,(H2E),($BE)))local group glocal real d=E4E(H7O,H8O,JDE,JFE)/25local location llocal integer DZX=GetTriggerEvalCount(t)local real x=H7O+d*DZX*Cos(a)local real y=H8O+d*DZX*Sin(a)call SetUnitX(F3E,HRE(x))call SetUnitY(F3E,HIE(y))if Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,325-$D*DZX,0)endifif DZX==25 thencall SetUnitX(F3E,HRE(JDE))call SetUnitY(F3E,HIE(JFE))if IsPointInRegion(ARV,GetUnitX(F3E),GetUnitY(F3E)) thenset l=HXX(GetUnitX(F3E),GetUnitY(F3E))call SetUnitX(F3E,HAE(GetLocationX(l)))call SetUnitY(F3E,HBE(GetLocationY(l)))call RemoveLocation(l)set l=nullendifset I9V=J6Eset SDV=J6Eset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(F3E),GetUnitY(F3E),350,Condition(function K3E))call GroupRemoveUnit(g,F3E)call ForGroup(g,function IKN)call FWE(g)call JRE(GetUnitX(F3E),GetUnitY(F3E),$96)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(F3E),GetUnitY(F3E)))call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)if Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,GetUnitDefaultFlyHeight(F3E),0)endifcall SetUnitPathing(F3E,true)endifset t=nullset J6E=nullset F3E=nullset g=nullreturn falseendfunctionfunction IMN takes unit J6E,unit F3E,unit Target2,real IPN,real IQN,effect FX,effect ISN returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real JDE=IPNlocal real JFE=IQNlocal real a=H4E(GetUnitX(F3E),GetUnitY(F3E),IPN,IQN)*bj_DEGTORADif E4E(GetUnitX(F3E),GetUnitY(F3E),IPN,IQN)>375 thenset JDE=GetUnitX(F3E)+375*Cos(a)set JFE=GetUnitY(F3E)+375*Sin(a)endifcall SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))call SaveReal(YX,(H2E),($BD),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),($BE),((GetUnitY(F3E))*1.))call SaveEffectHandle(YX,(H2E),(32),(FX))call SaveEffectHandle(YX,(H2E),($B0),(ISN))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function ILN))set t=nullendfunctionfunction ITN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=(LoadInteger(YX,(H2E),(34)))local integer DGR=(LoadInteger(YX,(H2E),($C)))local real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local integer IUN=(LoadInteger(YX,(H2E),(706)))local real aif GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and G3X(F3E)==false)thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809990,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810008,false)call IMN(J6E,F3E,(LoadUnitHandle(YX,(H2E),(711))),JDE,JFE,(LoadEffectHandle(YX,(H2E),(32))),(LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093810008 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))set a=H4E(GetUnitX(F3E),GetUnitY(F3E),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADif E4E(GetUnitX(F3E),GetUnitY(F3E),GetSpellTargetX(),GetSpellTargetY())>375 thenset JDE=GetUnitX(F3E)+375*Cos(a)set JFE=GetUnitY(F3E)+375*Sin(a)elseset JDE=GetSpellTargetX()set JFE=GetSpellTargetY()endifcall SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",JDE,JFE)))call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))call SaveUnitHandle(YX,(H2E),(711),(GetSpellTargetUnit()))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))endifelseset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))call SetUnitPathing(F3E,false)if(LoadInteger(YX,(H2E),(707)))==1 thenset IUN=IUN+3elseset IUN=IUN-3endifcall SaveInteger(YX,(H2E),(706),(IUN))if IUN==30 thencall SaveInteger(YX,(H2E),(707),(-1))elseif IUN==-30 thencall SaveInteger(YX,(H2E),(707),(1))endifif Y5O(F3E)==false thenif DZX<$F thencall SetUnitFlyHeight(F3E,DZX*20,0)elsecall SetUnitFlyHeight(F3E,300+IUN,0)endifendifif DZX>(DGR-25)thenif Y5O(F3E)==false thencall SetUnitFlyHeight(F3E,300,0)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809990,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810008,false)call IMN(J6E,F3E,(LoadUnitHandle(YX,(H2E),(711))),JDE,JFE,(LoadEffectHandle(YX,(H2E),(32))),(LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifendifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction IWN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093809990)local unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093810226)call SetUnitAbilityLevel(MIE,1093810226,MAE)call IssueTargetOrderById(MIE,$D007F,F3E)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093809990,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810008,true)call UnitAddAbility(J6E,1093810008)call SetUnitPathing(F3E,false)if Y5O(F3E)==false thencall GKE(F3E,1097691750)call UnitRemoveAbility(F3E,1097691750)endifcall SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(711),(F3E))call SaveInteger(YX,(H2E),($C),(R2I((1.25+.25*MAE)/.02)))call SaveInteger(YX,(H2E),(34),(0))call SaveInteger(YX,(H2E),(706),(0))call SaveInteger(YX,(H2E),(707),(1))call SaveReal(YX,(H2E),(47),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(48),((GetUnitY(F3E))*1.))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",F3E,"origin")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(F3E),GetUnitY(F3E))))call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ITN))set J6E=nullset F3E=nullendfunctionfunction IYN takes nothing returns booleanif GetSpellAbilityId()==1093809990 and FUE(GetSpellTargetUnit())==false thencall IWN()endifreturn falseendfunctionfunction OKX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IYN))call HCE(1093687350)call HCE(1093810226)set t=nullendfunctionfunction IZN takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093809991)if IsUnitType(F3E,UNIT_TYPE_HERO) thenif MAE==1 thencall KOE(F3E,1093810007,1,$A)elseif MAE==2 thencall KOE(F3E,1093810230,1,$A)elseif MAE==3 thencall KOE(F3E,1093810229,1,$A)elseif MAE==4 thencall KOE(F3E,1093810231,1,$A)endifelseif MAE==1 thencall KOE(F3E,1093810481,1,$A)elseif MAE==2 thencall KOE(F3E,1093810266,1,$A)elseif MAE==3 thencall KOE(F3E,1093810482,1,$A)elseif MAE==4 thencall KOE(F3E,1093810480,1,$A)endifendifcall JAE(Q9V,GetUnitX(F3E),GetUnitY(F3E))endfunctionfunction I_N takes nothing returns nothinglocal real dif IsUnitInGroup(GetEnumUnit(),SHV)==false thenset d=E3E(GetEnumUnit(),SGV)if d<SJV thenset SJV=dset SFV=GetEnumUnit()endifendifendfunctionfunction I0N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local real x=GetUnitX(F3E)local real y=GetUnitY(F3E)local group g=FYE()call GroupAddUnit(PLO,F3E)call IZN(J6E,F3E)set I9V=J6Eset SFV=nullset SGV=F3Eset SHV=PLOset SJV=$F423Fcall GroupEnumUnitsInRange(g,x,y,525,Condition(function LJE))call ForGroup(g,function I_N)call FWE(g)if SFV==null or GetTriggerEvalCount(t)>26 thencall FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)elseset F3E=SFVcall SaveUnitHandle(YX,(H2E),(17),(F3E))endifset g=nullset t=nullset J6E=nullset F3E=nullset PLO=nullreturn falseendfunctionfunction I1N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local group PLO=FYE()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),GetUnitFacing(J6E))call JAE(Q9V,GetUnitX(J6E),GetUnitY(J6E))call GKE(MIE,1093810228)call SetUnitAbilityLevel(MIE,1093810228,GetUnitAbilityLevel(J6E,1093809991))call IssueTargetOrderById(MIE,$D0097,F3E)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveGroupHandle(YX,(H2E),($BB),(PLO))call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function I0N))set J6E=nullset F3E=nullset t=nullset MIE=nullendfunctionfunction I2N takes nothing returns booleanif GetSpellAbilityId()==1093809991 and FUE(GetSpellTargetUnit())==false thencall I1N()endifreturn falseendfunctionfunction OLX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I2N))set t=nullendfunctionfunction I3N takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 thenif GetLearnedSkill()==1093809990 thencall UnitRemoveAbility(GetTriggerUnit(),1093809993)elseif GetLearnedSkill()==1093809991 thencall UnitRemoveAbility(GetTriggerUnit(),1093809995)elseif GetLearnedSkill()==1093810006 thencall UnitRemoveAbility(GetTriggerUnit(),1093809994)endifendifreturn falseendfunctionfunction I4N takes integer id returns nothingset SKV[SLV]=idset SLV=SLV+1endfunctionfunction I5N takes integer id returns booleanlocal integer i=0loopexitwhen i==SLVif id==SKV[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction I6N takes nothing returns booleanlocal integer i1=GetSpellAbilityId()if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO) and I5N(i1)==false thencall SaveInteger(YX,(GetHandleId(GetTriggerUnit())),(705),(i1))call SaveInteger(YX,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),i1)))endifreturn falseendfunctionfunction I7N takes unit u returns nothingcall UnitRemoveAbility(u,1093743428)call UnitRemoveAbility(u,1093808458)call UnitRemoveAbility(u,1093751126)call UnitRemoveAbility(u,1093751893)call UnitRemoveAbility(u,1093809217)call UnitRemoveAbility(u,1093809218)call UnitRemoveAbility(u,1093750344)call UnitRemoveAbility(u,1093808206)call UnitRemoveAbility(u,1093753394)call UnitRemoveAbility(u,1093753395)call UnitRemoveAbility(u,1093808181)call UnitRemoveAbility(u,1093752405)call UnitRemoveAbility(u,1093683011)call UnitRemoveAbility(u,1093809221)call UnitRemoveAbility(u,1093685844)call UnitRemoveAbility(u,1093751361)call UnitRemoveAbility(u,1093683265)call UnitRemoveAbility(u,1093686081)call UnitRemoveAbility(u,1093743153)call UnitRemoveAbility(u,1093752646)call UnitRemoveAbility(u,1093677652)call UnitRemoveAbility(u,1093751609)call UnitRemoveAbility(u,1093808456)call UnitRemoveAbility(u,1093750094)call UnitRemoveAbility(u,1093678667)call UnitRemoveAbility(u,1093684805)call UnitRemoveAbility(u,1093684560)endfunctionfunction I8N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer I9N=(LoadInteger(YX,(H2E),(704)))local integer AVN=(LoadInteger(YX,(H2E),(713)))if I9N==(LoadInteger(YX,(GetHandleId(J6E)),(704)))thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEvalCount(t)>($F-AVN)and GME(J6E)==false thencall UnitRemoveAbility(J6E,I9N)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction AEN takes unit J6E,integer I9N,real H9X returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function I8N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(704),(I9N))call SaveInteger(YX,(GetHandleId(J6E)),(704),(-1))call SaveInteger(YX,(H2E),(713),(R2I((TimerGetElapsed(K))-H9X)))set t=nullendfunctionfunction AXN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer I9N=(LoadInteger(YX,(H2E),(704)))local integer DZX=(LoadInteger(YX,(H2E),(34)))local integer MAE=GetUnitAbilityLevel(J6E,1093809992)local real H9X=(LoadReal(YX,(H2E),(411)))if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH thenif DZX==0 thencall SaveInteger(YX,(H2E),(34),(1))call DisplayTimedTextToPlayer(GetOwningPlayer(J6E),0,0,$A,"|c00ff0303"+GetObjectName(1848659031)+"|r")elsecall I7N(J6E)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),I9N,false)call FlushChildHashtable(YX,(H2E))call IRE(t)call AEN(J6E,I9N,H9X)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093809992 thencall I7N(J6E)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),I9N,false)call FlushChildHashtable(YX,(H2E))call IRE(t)call AEN(J6E,I9N,H9X)elseif GetSpellAbilityId()==I9N thencall SaveReal(YX,(H2E),(411),(((TimerGetElapsed(K)))*1.))endifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall I7N(J6E)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),I9N,false)call FlushChildHashtable(YX,(H2E))call IRE(t)call AEN(J6E,I9N,H9X)endifset t=nullset J6E=nullreturn falseendfunctionfunction AON takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer I9N=(LoadInteger(YX,(H2E),(704)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real ARN=60*(2+GetUnitAbilityLevel(J6E,1093809992))local integer AIN=GetHandleId(J6E)local integer AAN=GetHandleId(F3E)if(R1E(AAN,"WexLevel"))>0 thencall O4E(AIN,"WexLevel",(R1E(AAN,"WexLevel")))endifif(R1E(AAN,"QuasLevel"))>0 thencall O4E(AIN,"QuasLevel",(R1E(AAN,"QuasLevel")))endifif(R1E(AAN,"ExortLevel"))>0 thencall O4E(AIN,"ExortLevel",(R1E(AAN,"ExortLevel")))endifif(LoadInteger(YX,(GetHandleId(F3E)),(710)))>0 thencall SaveInteger(YX,(GetHandleId(J6E)),(710),((LoadInteger(YX,(GetHandleId(F3E)),(710)))))endifcall JAE(Q6V,GetUnitX(J6E),GetUnitY(J6E))call H7E(GetObjectName(I9N),3.5,J6E,.024,$AA,0,$FF,$D8)call SaveInteger(YX,(GetHandleId(J6E)),(704),(I9N))call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),I9N,true)call GKE(J6E,I9N)call SetUnitAbilityLevel(J6E,I9N,MAE)set t=CreateTrigger()set H2E=GetHandleId(t)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(0))call SaveInteger(YX,(H2E),(704),(I9N))call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,ARN,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterTimerEvent(t,ARN-20,false)call TriggerAddCondition(t,Condition(function AXN))if B6E(GetOwningPlayer(J6E))thencall UII(J6E,I9N,F3E)endifset t=nullset J6E=nullset F3E=nullendfunctionfunction ANN takes unit J6E,unit F3E,integer I9N,integer MAE returns nothinglocal trigger t=JLE(F3E,J6E,1747993666,"AON",900)local integer H2E=GetHandleId(t)call JAE(Q5V,GetUnitX(F3E),GetUnitY(F3E))call H7E(GetObjectName(I9N),3.75,F3E,.024,$AA,0,$FF,$D8)call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(704),(I9N))call SaveInteger(YX,(H2E),(5),(MAE))set t=nullendfunctionfunction ABN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif I5N(GetSpellAbilityId()) thenelsecall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction ACN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()if(LoadInteger(YX,(GetHandleId(F3E)),(705)))!=0 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",F3E,"origin"))call ANN(J6E,F3E,(LoadInteger(YX,(GetHandleId(F3E)),(705))),(LoadInteger(YX,(GetHandleId(F3E)),(712))))endifset J6E=nullset F3E=nullendfunctionfunction SpellSteal takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local string fx=""if IsPlayerAlly(GetOwningPlayer(J6E),GetLocalPlayer())or FJE(GetLocalPlayer())thenset fx="war3mapImported\\Nebula.mdx"endifcall SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget(fx,F3E,"origin")))call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ABN))set J6E=nullset F3E=nullendfunctionfunction ADN takes nothing returns booleanif GetSpellAbilityId()==1093809992 and FUE(GetSpellTargetUnit())==false thencall ACN()endifreturn falseendfunctionfunction AFN takes nothing returns nothingcall I4N(1093752648)call I4N(1095656306)call I4N(1093677895)call I4N(1093679411)call I4N(1093743946)call I4N(1093681479)call I4N(1093681733)call I4N(1093751896)call I4N(1093808697)call I4N(1093751369)call I4N(1093747504)call I4N(1093742932)call I4N(1093744986)call I4N(1093743428)call I4N(1093808458)call I4N(1093751126)call I4N(1093751893)call I4N(1093809217)call I4N(1093809218)call I4N(1093750344)call I4N(1093808206)call I4N(1093753394)call I4N(1093753395)call I4N(1093808181)call I4N(1093752405)call I4N(1093683011)call I4N(1093809221)call I4N(1093685844)call I4N(1093751361)call I4N(1093683265)call I4N(1093686081)call I4N(1093743153)call I4N(1093752646)call I4N(1093677652)call I4N(1093751609)call I4N(1093808456)call I4N(1093750094)call I4N(1093684056)call I4N(1093684055)call I4N(1093681461)call I4N(1093681735)call I4N(1093808471)call I4N(1093808472)call I4N(1093808470)call I4N(1093808473)call I4N(1093748565)call I4N(1093752392)call I4N(1093752391)call I4N(1093685582)call I4N(1093677622)call I4N(1095263841)call I4N(1093679446)call I4N(1093682265)call I4N(1093752642)call I4N(1093684314)call I4N(1093685065)call I4N(1093750337)call I4N(1093748033)call I4N(1093684819)call I4N(1093747777)call I4N(1093810257)call I4N(1093687121)call I4N(1093751864)call I4N(1093742674)call I4N(1093742926)call I4N(1093682521)call I4N(1093682760)call I4N(1093686859)call I4N(1093686865)call I4N(1093678899)call I4N(1093677898)call I4N(1093678154)call I4N(1093678157)call I4N(1093678158)call I4N(1093809990)call I4N(1093810008)call I4N(1093809991)call I4N(1093809992)call I4N(1093685557)call I4N(1093686347)call I4N(1095328363)call I4N(1093683801)call I4N(1093747011)call I4N(1095331948)call I4N(1095331954)call I4N(1097163124)call I4N(1093684016)call I4N(1093683255)call I4N(1093683254)call I4N(1093682767)call I4N(1093677656)call I4N(1095332727)call I4N(1095332962)call I4N(1093681718)call I4N(1093751349)call I4N(1093808182)call I4N(1093748292)call I4N(1093748303)call I4N(1093748305)call I4N(1093749071)call I4N(1093681720)call I4N(1093752645)call I4N(1093686328)call I4N(1093686327)call I4N(1093677367)call I4N(1093751108)call I4N(1093748304)call I4N(1093683788)call I4N(1094935400)call I4N(1095333995)call I4N(1095331943)call I4N(1093742918)call I4N(1093742917)call I4N(1093686067)call I4N(1093742916)call I4N(1093742919)call I4N(1093742920)call I4N(1093686329)call I4N(1093743959)call I4N(1094936696)call I4N(1093682756)call I4N(1093686341)call I4N(1093751863)call I4N(1093744973)call I4N(1093677647)call I4N(1093679193)call I4N(1093679194)call I4N(1093679408)call I4N(1093679410)call I4N(1093683266)call I4N(1093682227)call I4N(1093682246)call I4N(1093677655)call I4N(1093681995)call I4N(1093684023)call I4N(1093683796)call I4N(1095328865)call I4N(1093809721)call I4N(1093752655)call I4N(1093748055)call I4N(1093750095)call I4N(1093753417)call I4N(1093753416)call I4N(1093753431)call I4N(1093808945)call I4N(1093743191)call I4N(1093743681)call I4N(1093751096)call I4N(1093810265)call I4N(1093810244)call I4N(1093810246)call I4N(1093814863)call I4N(1093814865)call I4N(1093814864)call I4N(1093814866)call I4N(1093814860)call I4N(1093813848)call I4N(1093815089)call I4N(1093815092)call I4N(1093815095)call I4N(1093815111)call I4N(1093815109)call I4N(1093815112)call I4N(1093815097)call I4N(1093813569)call I4N(1093751349)call I4N(1093743415)endfunctionfunction OMX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ADN))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I6N))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function I3N))set t=nullcall AFN()endfunctionfunction AGN takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),1093810003)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093810003)endifif GetUnitAbilityLevel(GetEnumUnit(),1093810001)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093810001)endifif GetUnitAbilityLevel(GetEnumUnit(),1093810002)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093810002)endifif GetUnitAbilityLevel(GetEnumUnit(),1093810004)>0 thencall UnitRemoveAbility(GetEnumUnit(),1093810004)endifendfunctionfunction AHN takes nothing returns nothingif G9X(GetEnumUnit())thenreturnendifif SMV==1 thenif GetUnitAbilityLevel(GetEnumUnit(),1093810003)==0 thencall GKE(GetEnumUnit(),1093810003)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810003,false)endifelseif SMV==2 thenif GetUnitAbilityLevel(GetEnumUnit(),1093810001)==0 thencall UnitRemoveAbility(GetEnumUnit(),1093810003)call GKE(GetEnumUnit(),1093810001)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810001,false)endifelseif SMV==3 thenif GetUnitAbilityLevel(GetEnumUnit(),1093810002)==0 thencall UnitRemoveAbility(GetEnumUnit(),1093810003)call UnitRemoveAbility(GetEnumUnit(),1093810001)call GKE(GetEnumUnit(),1093810002)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810002,false)endifelseif SMV==4 thenif GetUnitAbilityLevel(GetEnumUnit(),1093810004)==0 thencall UnitRemoveAbility(GetEnumUnit(),1093810003)call UnitRemoveAbility(GetEnumUnit(),1093810001)call UnitRemoveAbility(GetEnumUnit(),1093810002)call GKE(GetEnumUnit(),1093810004)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),1093810004,false)endifendifendfunctionfunction AJN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local group AKN=(LoadGroupHandle(YX,(H2E),(340)))local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local group g=FYE()if J6E==null or GetUnitTypeId(J6E)!=1160786520 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call ForGroup(AKN,function AGN)call FWE(AKN)call FWE(g)return falseendifset I9V=J6Eset SMV=GetUnitAbilityLevel(J6E,1093810006)if GME(J6E)==false thencall GroupEnumUnitsInRange(g,x,y,925,Condition(function LTE))endifcall GroupRemoveGroup(g,AKN)call ForGroup(AKN,function AGN)if GME(J6E)==false thencall ForGroup(g,function AHN)endifcall SaveGroupHandle(YX,(H2E),(340),(g))call FWE(AKN)set t=nullset J6E=nullset AKN=nullset g=nullreturn falseendfunctionfunction ALN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local integer ilocal player pcall TriggerRegisterTimerEvent(t,.3,true)call TriggerAddCondition(t,Condition(function AJN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveGroupHandle(YX,(H2E),(340),(FYE()))set i=0loopexitwhen i>5set p=RX[i]call SetPlayerAbilityAvailable(p,1093810003,false)call SetPlayerAbilityAvailable(p,1093810001,false)call SetPlayerAbilityAvailable(p,1093810002,false)call SetPlayerAbilityAvailable(p,1093810004,false)set p=GX[i]call SetPlayerAbilityAvailable(p,1093810003,false)call SetPlayerAbilityAvailable(p,1093810001,false)call SetPlayerAbilityAvailable(p,1093810002,false)call SetPlayerAbilityAvailable(p,1093810004,false)set i=i+1endloopset t=nullset J6E=nullendfunctionfunction AMN takes nothing returns booleanif GetLearnedSkill()==1093810006 and GetUnitAbilityLevel(GetTriggerUnit(),1093810006)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall ALN()endifreturn falseendfunctionfunction OPX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function AMN))set t=nullendfunctionfunction APN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call AddUnitAnimationProperties(J6E,"alternate",false)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction AQN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function APN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction ASN takes nothing returns booleanif(GetSpellAbilityId()==1093678899 or GetSpellAbilityId()==1093677898 or GetSpellAbilityId()==1093678154 or GetSpellAbilityId()==1093678157 or GetSpellAbilityId()==1093678158)and GetUnitTypeId(GetTriggerUnit())==1160786520 thencall AQN()endifreturn falseendfunctionfunction OQX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ASN))set t=nullendfunctionfunction ATN takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))endfunctionfunction AUN takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())==1211117651 thencall ATN()endifreturn falseendfunctionfunction Register_StormDies takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AUN))set t=nullendfunctionfunction AWN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093810518)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093810519 thencall UnitRemoveAbility(J6E,1093810519)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810519,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810518,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)call MRE(J6E,F3E,.5+.5*MAE)call SetUnitX(J6E,GetUnitX(F3E))call SetUnitY(J6E,GetUnitY(F3E))call IssueTargetOrderById(J6E,$D000F,F3E)call UnitShareVision(F3E,GetOwningPlayer(J6E),false)endifelsecall UnitRemoveAbility(J6E,1093810519)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810519,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810518,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call UnitShareVision(F3E,GetOwningPlayer(J6E),false)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction AYN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEvalCount(GetTriggeringTrigger())>30 thencall FlushChildHashtable(YX,(H2E))call IRE(t)elsecall HAX(J6E)endifset t=nullset J6E=nullreturn falseendfunctionfunction AZN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3Elocal integer DZX=(LoadInteger(YX,(H2E),(34)))local integer MAE=GetUnitAbilityLevel(J6E,1093810518)if DZX>60 thencall UnitRemoveAbility(J6E,1110459734)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false thencall HWE(J6E,GetEventDamage())set F3E=QV[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call HAX(J6E)call FlushChildHashtable(YX,(H2E))call IRE(t)if GME(F3E)==false thencall UnitShareVision(F3E,GetOwningPlayer(J6E),true)call GKE(J6E,1093810519)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810519,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093810518,false)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function AWN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",J6E,"origin")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",F3E,"origin")))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function AYN))call SaveUnitHandle(YX,(H2E),(2),(J6E))endifendifelsecall SaveInteger(YX,(H2E),(34),(DZX+1))endifset t=nullset J6E=nullreturn falseendfunctionfunction A_N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function AZN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(0))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",J6E,"chest")))set J6E=nullset t=nullendfunctionfunction A0N takes nothing returns booleanif GetSpellAbilityId()==1093810518 thencall A_N()endifreturn falseendfunctionfunction Register_Retaliation takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A0N))set t=nullendfunctionfunction A1N takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))call MNE(YJV,GetEnumUnit(),1,(25+5*YKV)/5)endfunctionfunction A2N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093814355)local group gif GetUnitAbilityLevel(J6E,1110459984)==0 and GetUnitAbilityLevel(J6E,1110459985)==0 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093814327)call UnitRemoveAbility(J6E,1110459983)call UnitRemoveAbility(J6E,1093814616)call UnitRemoveAbility(J6E,1093814615)call UnitRemoveAbility(J6E,1093814614)call UnitRemoveAbility(J6E,1093814617)elseset I9V=J6Eset YJV=J6Eset YKV=MAEset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),400+25,Condition(function K3E))call ForGroup(g,function A1N)call FWE(g)endifset g=nullset t=nullset J6E=nullreturn falseendfunctionfunction A3N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093814355)call UnitAddAbility(MIE,1093814325)call SetUnitAbilityLevel(MIE,1093814325,MAE)call IssueTargetOrderById(MIE,$D00DA,J6E)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function A2N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",J6E,"origin")))if MAE==1 thenelseif MAE==2 thenelseif MAE==3 thenelseif MAE==4 thenendifset J6E=nullset MIE=nullset t=nullendfunctionfunction A4N takes nothing returns booleanif GetSpellAbilityId()==1093814355 thencall A3N()endifreturn falseendfunctionfunction OTX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A4N))set t=nullendfunctionfunction A5N takes unit J6E returns nothingcall UnitRemoveAbility(J6E,1112500344)call UnitRemoveAbility(J6E,1110454344)endfunctionfunction A6N takes unit J6E returns nothingcall UnitRemoveAbility(J6E,1093814329)call UnitRemoveAbility(J6E,1110459981)endfunctionfunction A7N takes unit J6E returns nothingcall UnitRemoveAbility(J6E,1093814856)call UnitRemoveAbility(J6E,1093814855)call UnitRemoveAbility(J6E,1093814858)call UnitRemoveAbility(J6E,1093814857)call UnitRemoveAbility(J6E,1110459980)endfunctionfunction A8N takes unit J6E returns nothingcall GKE(J6E,1093814329)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814329,false)endfunctionfunction A9N takes unit J6E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093814320)if MAE==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814856,false)call GKE(J6E,1093814856)elseif MAE==2 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814855,false)call GKE(J6E,1093814855)elseif MAE==3 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814858,false)call GKE(J6E,1093814858)elseif MAE==4 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814857,false)call GKE(J6E,1093814857)endifendfunctionfunction NVN takes unit J6E,unit F3E returns nothinglocal real a=GetRandomReal(0,360)local real x=GetUnitX(F3E)+50*Cos(a*bj_DEGTORAD)local real y=GetUnitY(F3E)+50*Sin(a*bj_DEGTORAD)call SetUnitPosition(J6E,x,y)call SetUnitFacing(J6E,bj_RADTODEG*Atan2(GetUnitY(F3E)-GetUnitY(J6E),GetUnitX(F3E)-GetUnitX(J6E)))call SetUnitAnimation(J6E,"Attack")call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",J6E,"chest"))call A7N(J6E)if IsUnitType(F3E,UNIT_TYPE_HERO) or IsUnitIllusion(F3E) thencall A9N(J6E)call UnitRemoveAbility(J6E,1093814854)elsecall GKE(J6E,1093814854)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093814854,false)endifcall IssueTargetOrderById(J6E,$D000F,F3E)endfunctionfunction NEN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local real H7O=(LoadReal(YX,(H2E),($BD)))local real H8O=(LoadReal(YX,(H2E),($BE)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local group g=(LoadGroupHandle(YX,(H2E),(22)))local unit F3E=nulllocal boolean J0A=falselocal fogmodifier O3R=(LoadFogModifierHandle(YX,(H2E),(42)))local integer MAE=GetUnitAbilityLevel(J6E,1093814320)loopexitwhen FirstOfGroup(g)==null or J0Aset F3E=FirstOfGroup(g)call GroupRemoveUnit(g,F3E)if IsUnitInGroup(F3E,PLO)and F3E!=null thenset F3E=nullset J0A=falseelseset J0A=trueendifendloopcall SetUnitPathing(J6E,false)call SetUnitInvulnerable(J6E,true)call K2E(J6E)if J0A==false or((LoadInteger(YX,(GetHandleId((J6E))),((4319))))==1) thencall SaveInteger(YX,(GetHandleId((J6E))),((4318)),(2))call A6N(J6E)call UnitRemoveAbility(J6E,1093814854)call A7N(J6E)call K2E(J6E)call A5N(J6E)call UnitAddAbility(J6E,1093814322)call UnitRemoveAbility(J6E,1093814322)call K2E(J6E)if((LoadInteger(YX,(GetHandleId((J6E))),((4319))))==1)==false thencall SetUnitX(J6E,H7O)call SetUnitY(J6E,H8O)endifcall SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call SetUnitPathing(J6E,true)call SetUnitInvulnerable(J6E,false)call SetUnitTimeScale(J6E,1)call FWE(PLO)call FWE(g)call RemoveUnit((LoadUnitHandle(YX,(H2E),(19))))call FogModifierStop(O3R)call DestroyFogModifier(O3R)call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall GroupAddUnit(PLO,F3E)call NVN(J6E,F3E)endifset t=nullset J6E=nullset F3E=nullset g=nullset PLO=nullset O3R=nullreturn falseendfunctionfunction NXN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local fogmodifier O3R=CreateFogModifierRadius(GetOwningPlayer(J6E),FOG_OF_WAR_VISIBLE,x,y,600,true,true)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1747993911,GetUnitX(J6E),GetUnitY(J6E),GetUnitFacing(J6E))local group g=FYE()local integer MAE=GetUnitAbilityLevel(J6E,1093814320)call SetUnitVertexColor(MIE,$FF,$FF,$FF,100)call FogModifierStart(O3R)call SaveInteger(YX,(GetHandleId((J6E))),((4318)),(1))set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,$96+100*MAE+25,Condition(function KYE))call K2E(J6E)call A5N(J6E)call UnitAddAbility(J6E,1093814321)call UnitRemoveAbility(J6E,1093814321)call SetUnitVertexColor(J6E,$FF,$FF,$FF,125)call SetUnitPathing(J6E,false)call SetUnitInvulnerable(J6E,true)call SetUnitTimeScale(J6E,3)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function NEN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveReal(YX,(H2E),($BD),((GetUnitX(J6E))*1.))call SaveReal(YX,(H2E),($BE),((GetUnitY(J6E))*1.))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call SaveGroupHandle(YX,(H2E),(22),(g))call SaveFogModifierHandle(YX,(H2E),(42),(O3R))call SaveUnitHandle(YX,(H2E),(19),(MIE))call A8N(J6E)call TriggerEvaluate(t)set J6E=nullset t=nullset O3R=nullset MIE=nullset g=nullendfunctionfunction NON takes nothing returns booleanif GetSpellAbilityId()==1093814320 thencall NXN()endifreturn falseendfunctionfunction NRN takes nothing returns booleanlocal unit DAX=GetSummonedUnit()if IsUnitIllusion(DAX) and GetUnitTypeId(DAX)==1311788360 thencall A6N(DAX)call UnitRemoveAbility(DAX,1093814854)call A7N(DAX)call UnitAddAbility(DAX,1093814322)call UnitRemoveAbility(DAX,1093814322)endifset DAX=nullreturn falseendfunctionfunction OUX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NON))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function NRN))set t=nullendfunctionfunction NIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093814323)local integer DGR=2if MAE>2 thenset DGR=3endifif GetTriggerEvalCount(t)==DGR thencall FlushChildHashtable(YX,(H2E))call IRE(t)endifcall MNE(J6E,F3E,1,20+20*MAE)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction NAN takes nothing returns nothinglocal unit J6E=I9Vlocal unit F3E=AVVlocal unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call UnitAddAbility(MIE,1093814324)call IssueTargetOrderById(MIE,$D008A,F3E)call TriggerAddCondition(t,Condition(function NIN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call TriggerRegisterTimerEvent(t,0,false)call TriggerRegisterTimerEvent(t,1,true)set MIE=nullset J6E=nullset F3E=nullendfunctionfunction NNN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit u1=nulllocal unit u2=nulllocal unit u3=nulllocal integer NBN=0local unit ulocal trigger tset I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,425,Condition(function LJE))loopexitwhen FirstOfGroup(g)==null or NBN==2set u=GroupPickRandomUnit(g)if u!=null thenif NBN==0 thenset u1=uelseif NBN==1 thenset u2=uelseif NBN==2 thenset u3=uendifset NBN=NBN+1call GroupRemoveUnit(g,u)endifendloopcall FWE(g)if u1!=null thencall JLE(J6E,u1,1747993904,"NAN",9000)endifif u2!=null thencall JLE(J6E,u2,1747993904,"NAN",9000)endifif u3!=null thenendifset g=nullset J6E=nullset u=nullset u1=nullset u2=nullset u3=nullendfunctionfunction NCN takes nothing returns booleanif GetSpellAbilityId()==1093814323 thencall NNN()endifreturn falseendfunctionfunction OSX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NCN))set t=nullendfunctionfunction NDN takes nothing returns booleanlocal unit J6E=(LoadUnitHandle(YX,(GetHandleId(GetTriggeringTrigger())),(2)))local integer H2E=GetHandleId(J6E)local integer i=0local real X6N=(TimerGetElapsed(K))local integer NFN=(LoadInteger(YX,(H2E),(749)))local real xlocal real ylocal real tloopexitwhen i>NFNset t=(LoadReal(YX,(H2E),($2710+i)))if t+$A>X6N thenset x=(LoadReal(YX,(H2E),($2AF8+i)))set y=(LoadReal(YX,(H2E),($2EE0+i)))endifset i=i+1endloopset J6E=nullreturn falseendfunctionfunction NGN takes integer H2E,integer NFN,real JJE,real JKE returns booleanlocal real xlocal real ylocal real tlocal integer i=0local real X6N=(TimerGetElapsed(K))loopexitwhen i>NFNset t=(LoadReal(YX,(H2E),($2710+i)))if t+$A>X6N thenset x=(LoadReal(YX,(H2E),($2AF8+i)))set y=(LoadReal(YX,(H2E),($2EE0+i)))if E4E(x,y,JJE,JKE)<75 thenreturn trueendifendifset i=i+1endloopreturn falseendfunctionfunction NHN takes integer H2E,integer NFN returns integerlocal real tlocal integer i=0local real X6N=(TimerGetElapsed(K))loopexitwhen i>NFNset t=(LoadReal(YX,(H2E),($2710+i)))if t+$A<X6N thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction NJN takes unit J6E,integer NKN,real x,real y returns nothinglocal integer H2E=GetHandleId(J6E)local integer NFN=(LoadInteger(YX,(H2E),(749)))local integer NLNif NGN(H2E,NFN,x,y)thenreturnendifset NLN=NHN(H2E,NFN)if NLN==-1 thenset NLN=NFNset NFN=NFN+1call SaveInteger(YX,(H2E),(749),(NFN))endifcall SaveInteger(YX,(H2E),($32C8),(NKN))call SaveReal(YX,(H2E),($2710),(((TimerGetElapsed(K)))*1.))call SaveReal(YX,(H2E),($2AF8),((x)*1.))call SaveReal(YX,(H2E),($2AF8),((y)*1.))endfunctionfunction NMN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function NDN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction NPN takes nothing returns nothingcall MNE(YMV,GetEnumUnit(),1,80+YLV*40)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))endfunctionfunction NQN takes unit J6E,unit UHO,real x,real y returns nothinglocal group gcall KillUnit(UHO)call H1E("war3mapImported\\Firaga_2.mdx",x,y,2)set g=FYE()set I9V=J6Eset YMV=J6Eset YLV=GetUnitAbilityLevel(J6E,1093814859)call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function K3E))call UnitRemoveAbility(J6E,1093678162)call ForGroup(g,function NPN)call GKE(J6E,1093678162)call FWE(g)set g=nullendfunctionfunction NSN takes unit J6E,unit NTN returns nothinglocal integer H2E=GetHandleId(J6E)local integer NUN=(LoadInteger(YX,(H2E),(746)))local unit NWNlocal integer i=1local integer xloopexitwhen i>NUNset NWN=(LoadUnitHandle(YX,(H2E),($5AA+i)))if NWN==NTN thenset NUN=NUN-1call SaveUnitHandle(YX,(H2E),($5AA+i),((LoadUnitHandle(YX,(H2E),($5AA+i+1)))))call SaveInteger(YX,(H2E),(746),(NUN))set x=i+1loopexitwhen x>NUNcall SaveUnitHandle(YX,(H2E),($5AA+x),((LoadUnitHandle(YX,(H2E),($5AA+x+1)))))set x=x+1endloopendifset i=i+1endloopset NWN=nullendfunctionfunction NYN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit UHO=(LoadUnitHandle(YX,(H2E),(19)))local real N2O=GetUnitX(UHO)local real N3O=GetUnitY(UHO)local real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local real a=H4E(N2O,N3O,JDE,JFE)*bj_DEGTORADlocal real JJElocal real JKElocal real d=E4E(N2O,N3O,JDE,JFE)local real SZR=GetUnitMoveSpeed(J6E)*2.5*.02local group gif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall NSN(J6E,UHO)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif d<2 thencall SetUnitAnimationByIndex(UHO,1)elseif d<SZR thenset JJE=JDEset JKE=JFEelseset JJE=N2O+SZR*Cos(a)set JKE=N3O+SZR*Sin(a)endifcall SetUnitX(UHO,JJE)call SetUnitY(UHO,JKE)endifset t=nullset J6E=nullset UHO=nullreturn falseendfunctionfunction NZN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal integer H2E=GetHandleId(J6E)local integer NUN=(LoadInteger(YX,(H2E),(746)))local integer MAE=GetUnitAbilityLevel(J6E,1093814859)local unit NWN=(LoadUnitHandle(YX,(H2E),($5AA+1)))local unit N_N=CreateUnit(GetOwningPlayer(J6E),1747993912,GetUnitX(J6E),GetUnitY(J6E),a*bj_RADTODEG)local trigger tlocal integer i=1set NUN=NUN+1call SaveUnitHandle(YX,(H2E),($5AA+NUN),(N_N))call SaveInteger(YX,(H2E),(746),(NUN))set t=CreateTrigger()set H2E=GetHandleId(t)call SetUnitVertexColor(N_N,$FF,$FF,$FF,75)call SetUnitTimeScale(N_N,2)call SetUnitAnimationByIndex(N_N,0)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function NYN))call TriggerRegisterDeathEvent(t,N_N)call UnitApplyTimedLife(N_N,1112820806,45)call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",N_N,"hand right alternate")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",N_N,"hand left alternate")))call SaveEffectHandle(YX,(H2E),($B1),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",N_N,"origin")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(N_N))call SaveReal(YX,(H2E),(47),((GetSpellTargetX())*1.))call SaveReal(YX,(H2E),(48),((GetSpellTargetY())*1.))set J6E=nullset t=nullset NWN=nullset N_N=nullendfunctionfunction N0N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer YXR=(LoadInteger(YX,(GetHandleId(J6E)),(747)))if YXR>0 thencall NZN()call UnitRemoveAbility(J6E,YUV[YXR])set YXR=YXR-1call SaveInteger(YX,(GetHandleId(J6E)),(747),(YXR))call GKE(J6E,YUV[YXR])elsecall HEE(GetOwningPlayer(GetTriggerUnit()),"No more charges")endifset J6E=nullendfunctionfunction N1N takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())==1747993912endfunctionfunction N2N takes nothing returns nothinglocal real OCI=E4E(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),YPV,YQV)if OCI>YSV and GME(GetEnumUnit())==false thenset YTV=GetEnumUnit()set YSV=OCIendifendfunctionfunction N3N takes unit J6E,real x,real y returns unitlocal group g=FYE()set YTV=nullset YSV=-1set YPV=xset YQV=ycall GroupEnumUnitsOfPlayer(g,GetOwningPlayer(J6E),Condition(function N1N))call ForGroup(g,function N2N)call FWE(g)set g=nullreturn YTVendfunctionfunction FireRemnant_FindTargetClosest takes nothing returns nothinglocal real OCI=E4E(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),YPV,YQV)if OCI<YSV and GME(GetEnumUnit())==false thenset YTV=GetEnumUnit()set YSV=OCIendifendfunctionfunction N4N takes unit u1,unit u2 returns reallocal real F3O=E3E(u1,u2)local real KPX=F3O/1300.if KPX>.4 thenreturn F3O/.4endifreturn 1300.endfunctionfunction N5N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real PQR=(LoadReal(YX,(H2E),(47)))local real PSR=(LoadReal(YX,(H2E),(48)))local unit UHO=(LoadUnitHandle(YX,(H2E),(19)))local real N2O=GetUnitX(J6E)local real N3O=GetUnitY(J6E)local real JDE=(LoadReal(YX,(H2E),(6)))local real JFE=(LoadReal(YX,(H2E),(7)))local real alocal real JJElocal real JKElocal real dlocal real N6N=(LoadReal(YX,(H2E),(44)))local real SZR=N6N*.02local group glocal integer DZX=(LoadInteger(YX,(H2E),(34)))if UHO!=null thenset JDE=GetUnitX(UHO)set JFE=GetUnitY(UHO)call SaveReal(YX,(H2E),(6),((JDE)*1.))call SaveReal(YX,(H2E),(7),((JFE)*1.))endifset a=H4E(N2O,N3O,JDE,JFE)*bj_DEGTORADset d=E4E(N2O,N3O,JDE,JFE)if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SaveInteger(YX,(GetHandleId((J6E))),((4319)),(2))call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call SetUnitTimeScale(J6E,1)call SetUnitAnimationByIndex(J6E,0)call SetUnitPathing(J6E,true)call SetUnitInvulnerable(J6E,false)call UnitRemoveAbility(J6E,1093678162)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif d<SZR thencall SetUnitX(J6E,JDE)call SetUnitY(J6E,JFE)call NQN(J6E,UHO,JDE,JFE)set UHO=N3N(J6E,PQR,PSR)if UHO==null thencall SaveInteger(YX,(GetHandleId((J6E))),((4319)),(2))call JRE(JDE,JFE,100)call SetUnitVertexColor(J6E,$FF,$FF,$FF,$FF)call SetUnitTimeScale(J6E,1)call SetUnitAnimationByIndex(J6E,1)call SetUnitPathing(J6E,true)call SetUnitInvulnerable(J6E,false)call UnitRemoveAbility(J6E,1093678162)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B1))))call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall SaveInteger(YX,(H2E),(34),(DZX+1))call SaveUnitHandle(YX,(H2E),(19),(UHO))call SaveReal(YX,(H2E),(44),((N4N(J6E,UHO))*1.))call SaveReal(YX,(H2E),(6),((GetUnitX(UHO))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(UHO))*1.))endifelsecall SetUnitAnimationByIndex(J6E,0)call SetUnitPathing(J6E,false)set JJE=N2O+SZR*Cos(a)set JKE=N3O+SZR*Sin(a)call SetUnitX(J6E,JJE)call SetUnitY(J6E,JKE)call SetUnitFacing(J6E,a*bj_RADTODEG)endifcall NJN(J6E,DZX,GetUnitX(J6E),GetUnitY(J6E))set t=nullset J6E=nullset UHO=nullreturn falseendfunctionfunction N7N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MANA)+$96)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction N8N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger tlocal integer H2E=GetHandleId(J6E)local integer NUN=(LoadInteger(YX,(H2E),(746)))local unit UHOif NUN>0 and((LoadInteger(YX,(GetHandleId((J6E))),((4319))))==1)==false thenset t=CreateTrigger()set H2E=GetHandleId(t)call SetUnitVertexColor(J6E,$FF,0,0,75)call SetUnitTimeScale(J6E,2)call SetUnitAnimationByIndex(J6E,0)call SetUnitPathing(J6E,false)call SetUnitInvulnerable(J6E,true)call GKE(J6E,1093678162)call SaveInteger(YX,(GetHandleId((J6E))),((4319)),(1))call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function N5N))call TriggerRegisterDeathEvent(t,J6E)call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",J6E,"hand right alternate")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",J6E,"hand left alternate")))call SaveEffectHandle(YX,(H2E),($B1),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",J6E,"origin")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(47),((GetSpellTargetX())*1.))call SaveReal(YX,(H2E),(48),((GetSpellTargetY())*1.))set UHO=N3N(J6E,GetSpellTargetX(),GetSpellTargetY())call SaveUnitHandle(YX,(H2E),(19),(UHO))call SaveReal(YX,(H2E),(44),((N4N(J6E,UHO))*1.))call SaveReal(YX,(H2E),(6),((GetUnitX(UHO))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(UHO))*1.))call SaveInteger(YX,(H2E),(34),(1))elseset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.0,false)call TriggerAddCondition(t,Condition(function N7N))call SaveUnitHandle(YX,(H2E),(2),(J6E))endifset t=nullset J6E=nullset UHO=nullendfunctionfunction N9N takes nothing returns booleanif GetSpellAbilityId()==YUV[0]or GetSpellAbilityId()==YUV[1]or GetSpellAbilityId()==YUV[2]or GetSpellAbilityId()==YUV[3]thencall N0N()elseif GetSpellAbilityId()==1093814860 thencall N8N()endifreturn falseendfunctionfunction BVN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer YXR=(LoadInteger(YX,(GetHandleId(J6E)),(747)))local integer DZX=(LoadInteger(YX,(H2E),(34)))if YXR<3 thenset DZX=DZX-1call SaveInteger(YX,(H2E),(34),(DZX))if DZX==0 thencall UnitRemoveAbility(J6E,YUV[YXR])set DZX=30call SaveInteger(YX,(H2E),(34),(DZX))set YXR=YXR+1call SaveInteger(YX,(GetHandleId(J6E)),(747),(YXR))call GKE(J6E,YUV[YXR])endifendifset t=nullset J6E=nullreturn falseendfunctionfunction BEN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SaveInteger(YX,(GetHandleId(J6E)),(747),(3))call GKE(J6E,YUV[3])call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function BVN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(34),(30))set J6E=nullset t=nullendfunctionfunction BXN takes nothing returns booleanif GetLearnedSkill()==1093814859 and IsUnitIllusion(GetTriggerUnit())==false thencall GKE(GetTriggerUnit(),1093814860)call SetUnitAbilityLevel(GetTriggerUnit(),1093814860,GetUnitAbilityLevel(GetTriggerUnit(),1093814859))if GetUnitAbilityLevel(GetTriggerUnit(),1093814859)==1 thencall BEN()call NMN()endifendifreturn falseendfunctionfunction OWX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function N9N))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function BXN))set t=nullset YUV[0]=1093814863set YUV[1]=1093814865set YUV[2]=1093814864set YUV[3]=1093814866endfunctionfunction BON takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>2 and YWV thenset YWV=falsecall MNE(GetEventDamageSource(),F3E,3,GetEventDamage()*.25)set YWV=trueendifelsecall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction BRN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093812536)set YWV=truecall UnitAddAbility(MIE,1093812535)call SetUnitAbilityLevel(MIE,1093812535,MAE)call IssueTargetOrderById(MIE,$D02BC,F3E)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,2+MAE,false)call TriggerAddCondition(t,Condition(function BON))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set J6E=nullset F3E=nullset t=nullendfunctionfunction BIN takes nothing returns booleanif GetSpellAbilityId()==1093812536 thencall BRN()endifreturn falseendfunctionfunction Register_ArcaneSeal takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BIN))set t=nullendfunctionfunction BAN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real a=(LoadReal(YX,(H2E),($89)))local real d=(LoadReal(YX,(H2E),($8A)))local real x=HRE(GetUnitX(F3E)+d/$A*Cos(a))local real y=HIE(GetUnitY(F3E)+d/$A*Sin(a))if GetTriggerEvalCount(t)==$B or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(YX,(H2E))call IRE(t)elsecall DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))call JRE(x,y,$96)call SetUnitX(F3E,x)call SetUnitY(F3E,y)endifset F3E=nullset t=nullreturn falseendfunctionfunction BNN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local integer MAE=GetUnitAbilityLevel(J6E,1093812537)local real alocal real xlocal real ylocal real dlocal integer i=-1local boolean J1A=falseif J6E==F3E thenset a=GetUnitFacing(J6E)*bj_DEGTORADelseset a=H3E(J6E,F3E)*bj_DEGTORADendifloopexitwhen J1A or i==23set i=i+1set x=HRE(GetUnitX(F3E)+(350-i*25)*Cos(a))set y=HIE(GetUnitY(F3E)+(350-i*25)*Sin(a))if(IsPointInRegion(ARV,((x)*1.),((y)*1.)))==false thenset J1A=trueendifendloopset d=E4E(x,y,GetUnitX(F3E),GetUnitY(F3E))call TriggerRegisterTimerEvent(t,.03,true)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BAN))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveReal(YX,(H2E),($8A),((d)*1.))if IsUnitAlly(J6E,GetOwningPlayer(F3E)) thencall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+50+50*MAE)elsecall MNE(J6E,F3E,3,50+50*MAE)endifset J6E=nullset F3E=nullset t=nullendfunctionfunction BBN takes nothing returns booleanif GetSpellAbilityId()==1093812537 thencall BNN()endifreturn falseendfunctionfunction Register_Thrust takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BBN))set t=nullendfunctionfunction BCN takes nothing returns nothingcall IssueTargetOrderById(YYV,$D008A,GetEnumUnit())call MNE(GetTriggerUnit(),GetEnumUnit(),1,60*YZV)endfunctionfunction BDN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g1=FYE()local group g2=FYE()local integer MAE=GetUnitAbilityLevel(J6E,1093812534)local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)set YZV=MAEset YYV=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)call UnitAddAbility(YYV,1093812549)call SetUnitAbilityLevel(YYV,1093812549,MAE)call GroupEnumUnitsInRange(g1,x,y,425,Condition(function LRE))call GroupEnumUnitsInRange(g2,x,y,825,Condition(function LRE))call GroupRemoveGroup(g1,g2)call ForGroup(g2,function BCN)call FWE(g1)call FWE(g2)call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))set J6E=nullset g1=nullset g2=nullendfunctionfunction BFN takes nothing returns booleanif GetSpellAbilityId()==1093812534 thencall BDN()endifreturn falseendfunctionfunction Register_ConjureForce takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BFN))set t=nullendfunctionfunction BGN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),Y0V)==false thencall GroupAddUnit(Y0V,GetEnumUnit())call MNE(Y_V,GetEnumUnit(),3,Y1V)endifendfunctionfunction BHN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local group g=(LoadGroupHandle(YX,(H2E),(22)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real BEO=(LoadReal(YX,(H2E),($D)))local real C4O=(LoadReal(YX,(H2E),(20)))local group BJNlocal unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real xlocal real yif GetTriggerEvalCount(t)>67 thencall FWE(g)call FlushChildHashtable(YX,(H2E))call IRE(t)call KillUnit(JCE)elseset x=GetUnitX(JCE)set y=GetUnitY(JCE)set BJN=FYE()set Y0V=gset I9V=JCEset Y_V=J6Eset Y1V=C4Ocall GroupEnumUnitsInRange(BJN,x,y,$E1,Condition(function K8E))call ForGroup(BJN,function BGN)call FWE(BJN)call SetUnitX(JCE,HRE(x+$F*Cos(BEO*bj_DEGTORAD)))call SetUnitY(JCE,HIE(y+$F*Sin(BEO*bj_DEGTORAD)))endifset t=nullset g=nullset BJN=nullset J6E=nullset JCE=nullreturn falseendfunctionfunction BKN takes unit J6E,real C4O,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local group g=FYE()local real x1=GetUnitX(J6E)local real y1=GetUnitY(J6E)local real x2=xlocal real y2=ylocal real BEO=H4E(x1,y1,x2,y2)local integer MAE=GetUnitAbilityLevel(J6E,1093812545)local unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993673,x1,y1,BEO)call SetUnitScale(JCE,1.5,1.5,1.5)call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveInteger(YX,(H2E),(5),(MAE))call SaveGroupHandle(YX,(H2E),(22),(g))call SaveReal(YX,(H2E),($D),((BEO)*1.))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(20),((C4O)*1.))call TriggerRegisterTimerEvent(t,.015,true)call TriggerAddCondition(t,Condition(function BHN))set t=nullset JCE=nullset g=nullendfunctionfunction BLN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local boolean BMN=(LoadBoolean(YX,(H2E),(95)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812546,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812545,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif BMN==false and GetEventDamage()>2 and GetEventDamage()<$BB8 and IsUnitIllusion(F3E)==false thencall SaveReal(YX,(H2E),(20),(((LoadReal(YX,(H2E),(20)))+GetEventDamage())*1.))call HWE(F3E,GetEventDamage())endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()==1093812545 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call SaveBoolean(YX,(H2E),(95),(true))endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093812546 thencall BKN(J6E,(LoadReal(YX,(H2E),(20))),GetSpellTargetX(),GetSpellTargetY())call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812546,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812545,true)call FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812546,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812545,true)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction BPN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call GKE(J6E,1093812546)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812546,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812545,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterTimerEvent(t,20,false)call TriggerAddCondition(t,Condition(function BLN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveBoolean(YX,(H2E),(95),(false))call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",J6E,"origin")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",F3E,"origin")))set J6E=nullset F3E=nullset t=nullendfunctionfunction BQN takes nothing returns booleanif GetSpellAbilityId()==1093812545 thencall BPN()endifreturn falseendfunctionfunction Register_DivineWrath takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BQN))set t=nullendfunctionfunction BSN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()==1093812804 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812803,true)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812804,false)call UnitRemoveAbility(J6E,1097167980)call UnitRemoveAbility(J6E,1093812787)call UnitRemoveAbility(J6E,1093812784)call UnitRemoveAbility(J6E,1093812785)call UnitRemoveAbility(J6E,1093812786)call UnitRemoveAbility(J6E,1110459954)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction BTN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093812803)call TriggerRegisterTimerEvent(t,5,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BSN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call UnitAddAbility(J6E,1093812804)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812803,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812804,true)call UnitAddAbility(J6E,1097167980)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1097167980,false)if MAE==1 thencall UnitAddAbility(J6E,1093812787)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812787,false)elseif MAE==2 thencall UnitAddAbility(J6E,1093812784)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812784,false)elseif MAE==3 thencall UnitAddAbility(J6E,1093812785)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812785,false)elseif MAE==4 thencall UnitAddAbility(J6E,1093812786)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093812786,false)endifset t=nullset J6E=nullendfunctionfunction BUN takes nothing returns booleanif GetSpellAbilityId()==1093812803 thencall BTN()endifreturn falseendfunctionfunction Register_Wraith takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BUN))set t=nullendfunctionfunction BWN takes unit J6E,unit Z3R,unit F3E,integer MAE returns nothingcall MRE(J6E,F3E,1.25+.25*MAE)call MNE(J6E,F3E,1,40*MAE)call KillUnit(Z3R)call IBE(F3E,"4314",3)endfunctionfunction BYN takes nothing returns booleanreturn((IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))and((LoadInteger(YX,(GetHandleId((GetFilterUnit()))),((4314))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I9V)) or K4E(GetFilterUnit())==false))!=nullendfunctionfunction BZN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local group glocal integer i=1local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local real a=(LoadReal(YX,(H2E),($89)))local unit Z3Rlocal unit F3Elocal real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))set x=HRE(x+18*Cos(a))set y=HIE(y+18*Sin(a))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))if GetTriggerEvalCount(t)>39 thenloopexitwhen i>3call KillUnit((LoadUnitHandle(YX,(H2E),(393+i-1))))set i=i+1endloopcall FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,275,Condition(function BYN))loopexitwhen i>3if(LoadBoolean(YX,(H2E),(511+i-1)))==false thenset Z3R=(LoadUnitHandle(YX,(H2E),(393+i-1)))set x=(LoadReal(YX,(H2E),(549+i-1)))set y=(LoadReal(YX,(H2E),(567+i-1)))set x=HRE(x+18*Cos(a))set y=HIE(y+18*Sin(a))call SaveReal(YX,(H2E),(549+i-1),((x)*1.))call SaveReal(YX,(H2E),(567+i-1),((y)*1.))call SetUnitX(Z3R,x)call SetUnitY(Z3R,y)set F3E=FirstOfGroup(g)if F3E!=null thencall GroupRemoveUnit(g,F3E)call SaveInteger(YX,(GetHandleId((F3E))),((4314)),(1))call SaveBoolean(YX,(H2E),(511+i-1),(true))call BWN(J6E,Z3R,F3E,GetUnitAbilityLevel(J6E,1093812788))endifendifset i=i+1endloopcall FWE(g)set g=nullset Z3R=nullset F3E=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction B_N takes nothing returns nothinglocal real JDE=GetSpellTargetX()local real JFE=GetSpellTargetY()local unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local real a=H4E(x,y,JDE,JFE)*bj_DEGTORADlocal real blocal unit MIElocal real JJE=HRE(x+500*Cos(a))local real JKE=HIE(y+500*Sin(a))local integer i=0local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local real RBOlocal integer MAE=GetUnitAbilityLevel(J6E,1093812788)local integer DAE=1747993678set i=i+1set b=a*bj_RADTODEG+90if b>360 thenset b=b-360endifset b=b*bj_DEGTORADset MIE=CreateUnit(GetOwningPlayer(J6E),DAE,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)call SaveUnitHandle(YX,(H2E),(393+i-1),(MIE))call SaveBoolean(YX,(H2E),(511+i-1),(false))call SaveReal(YX,(H2E),(549+i-1),((GetUnitX(MIE))*1.))call SaveReal(YX,(H2E),(567+i-1),((GetUnitY(MIE))*1.))set i=i+1set b=a*bj_RADTODEG-90if b<0 thenset b=360+bendifset b=b*bj_DEGTORADset MIE=CreateUnit(GetOwningPlayer(J6E),DAE,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)call SaveUnitHandle(YX,(H2E),(393+i-1),(MIE))call SaveBoolean(YX,(H2E),(511+i-1),(false))call SaveReal(YX,(H2E),(549+i-1),((GetUnitX(MIE))*1.))call SaveReal(YX,(H2E),(567+i-1),((GetUnitY(MIE))*1.))set i=i+1set MIE=CreateUnit(GetOwningPlayer(J6E),DAE,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)call SaveUnitHandle(YX,(H2E),(393+i-1),(MIE))call SaveBoolean(YX,(H2E),(511+i-1),(false))call SaveReal(YX,(H2E),(549+i-1),((GetUnitX(MIE))*1.))call SaveReal(YX,(H2E),(567+i-1),((GetUnitY(MIE))*1.))call TriggerRegisterTimerEvent(t,.015,true)call TriggerAddCondition(t,Condition(function BZN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveReal(YX,(H2E),(47),((JJE)*1.))call SaveReal(YX,(H2E),(48),((JKE)*1.))set J6E=nullset MIE=nullset t=nullendfunctionfunction B0N takes nothing returns booleanif GetSpellAbilityId()==1093812788 thencall B_N()endifreturn falseendfunctionfunction Register_Blackjack takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B0N))set t=nullendfunctionfunction B1N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=GetTriggerEvalCount(t)local integer MAE=GetUnitAbilityLevel(J6E,1093812789)if DZX==6 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitShareVision(F3E,GetOwningPlayer(J6E),false)endifcall MNE(J6E,F3E,1,20+$A*MAE)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction B2N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function B1N))call SaveUnitHandle(YX,(H2E),(2),(GetTriggerUnit()))call SaveUnitHandle(YX,(H2E),(17),(GetEnumUnit()))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)set t=nullendfunctionfunction B3N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call UnitAddAbility(MIE,1093812791)call IssueImmediateOrderById(MIE,$D0291)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(J6E),GetUnitY(J6E)))call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),625,Condition(function LRE))call ForGroup(g,function B2N)call FWE(g)set g=nullset J6E=nullset MIE=nullendfunctionfunction B4N takes nothing returns booleanif GetSpellAbilityId()==1093812789 thencall B3N()endifreturn falseendfunctionfunction Register_Miasma takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B4N))set t=nullendfunctionfunction GetTotalMinutes takes nothing returns integerreturn R2I((TimerGetElapsed(K))/60)endfunctionfunction B5N takes unit J6E,integer B6N returns nothinglocal integer B7N=GetHeroAgi(J6E,false)local integer B8N=GetHeroStr(J6E,false)local integer B9N=GetHeroInt(J6E,false)call SetHeroAgi(J6E,B7N-B6N,true)call SetHeroStr(J6E,B8N-B6N,true)call SetHeroInt(J6E,B9N-B6N,true)endfunctionfunction CVN takes unit J6E,integer B6N returns nothinglocal integer B7N=GetHeroAgi(J6E,false)local integer B8N=GetHeroStr(J6E,false)local integer B9N=GetHeroInt(J6E,false)call SetHeroAgi(J6E,B7N+B6N,true)call SetHeroStr(J6E,B8N+B6N,true)call SetHeroInt(J6E,B9N+B6N,true)endfunctionfunction CEN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer CXN=(LoadInteger(YX,(H2E),(744)))local integer MAE=GetUnitAbilityLevel(J6E,1093814066)local integer G7X=(R2I((TimerGetElapsed(K))/60))local real CON=MAE+1+(.1+.1*MAE)*G7Xlocal integer CRN=3+3*MAE+R2I((.1+.1*MAE)*G7X)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093814066 thenif F3E!=null and F3E!=GetSpellTargetUnit()thencall UnitRemoveAbility(F3E,1093814607)call B5N(F3E,CXN)call B5N(J6E,CXN)call SaveInteger(YX,(H2E),(744),(0))endifset F3E=GetSpellTargetUnit()call SaveUnitHandle(YX,(H2E),(17),(F3E))call GKE(F3E,1093814607)call H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",J6E,"chest",1.9)call H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",F3E,"chest",1.9)return falseelsereturn falseendifendifif F3E==null thenelseif GME(F3E)or GME(J6E)or E3E(J6E,F3E)>$578 thencall B5N(J6E,CXN)call B5N(F3E,CXN)call SaveInteger(YX,(H2E),(744),(0))call UnitRemoveAbility(J6E,1093814607)call UnitRemoveAbility(F3E,1093814607)elseif GetUnitAbilityLevel(J6E,1093814607)==0 thencall GKE(J6E,1093814607)endifif GetUnitAbilityLevel(F3E,1093814607)==0 thencall GKE(F3E,1093814607)endifif CXN!=CRN thencall CVN(J6E,CRN-CXN)call CVN(F3E,CRN-CXN)call SaveInteger(YX,(H2E),(744),(CRN))endifcall SetUnitState(J6E,UNIT_STATE_LIFE,GetUnitState(J6E,UNIT_STATE_LIFE)+CON)call SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+CON)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction CIN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CEN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(null))call SaveInteger(YX,(H2E),(744),(0))set t=nullset J6E=nullendfunctionfunction CAN takes nothing returns booleanif GetLearnedSkill()==1093814066 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093814066)==1 thencall CIN()endifreturn falseendfunctionfunction Register_Brotherhood takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CAN))set t=nullendfunctionfunction CNN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and B4E(GetOwningPlayer(GetEventDamageSource())))thenif GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall HWE(J6E,GetEventDamage())endifcall UnitRemoveAbility(J6E,1093814604)call UnitRemoveAbility(J6E,1093814605)call UnitRemoveAbility(J6E,1093812825)call UnitRemoveAbility(J6E,1093814606)call UnitRemoveAbility(J6E,1110459956)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullreturn falseendfunctionfunction CBN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093812822)local real dlocal integer idlocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)if MAE==1 thenset d=4set id=1093814604elseif MAE==2 thenset d=5set id=1093814605elseif MAE==3 thenset d=6set id=1093812825elseif MAE==4 thenset d=7set id=1093814606endifcall GKE(F3E,id)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)call TriggerAddCondition(t,Condition(function CNN))call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterTimerEvent(t,d,false)call SaveUnitHandle(YX,(H2E),(2),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",F3E,"origin")))set J6E=nullset F3E=nullset t=nullendfunctionfunction CCN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),375,Condition(function LUE))call ForGroup(g,function CBN)call FWE(g)set g=nullset J6E=nullendfunctionfunction CDN takes nothing returns booleanif GetSpellAbilityId()==1093812822 thencall CCN()endifreturn falseendfunctionfunction Register_Gallop takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CDN))endfunctionfunction CFN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer CGN=(LoadInteger(YX,(H2E),(59)))call FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,CGN)call UnitRemoveAbility(J6E,1110459978)call UnitRemoveAbility(J6E,1110459979)set t=nullset J6E=nullreturn falseendfunctionfunction CHN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit Z5O=GetAttacker()local integer MAE=GetUnitAbilityLevel(J6E,1093813593)local integer idif J6E==GetTriggerUnit()and GetRandomInt(1,100)<=($E+2*MAE)and R8E(J6E,"4316")==false and IsUnitAlly(J6E,GetOwningPlayer(Z5O))==false thencall IBE(J6E,"4316",1.2)if MAE==1 thenset id=1093814084elseif MAE==2 thenset id=1093814085elseif MAE==3 thenset id=1093814086elseif MAE==4 thenset id=1093814083endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),id,false)call GKE(J6E,id)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function CFN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveInteger(YX,(H2E),(59),(id))endifset t=nullset J6E=nullset Z5O=nullreturn falseendfunctionfunction CJN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function CHN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set J6E=nullset t=nullendfunctionfunction CKN takes nothing returns booleanif GetLearnedSkill()==1093813593 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093813593)==1 thencall CJN()endifreturn falseendfunctionfunction O_X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CKN))set t=nullendfunctionfunction CLN takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer A9Rif d<1 thencall UnitRemoveAbility(u,Y2V[0])call UnitRemoveAbility(u,Y2V[1])call UnitRemoveAbility(u,Y2V[2])call UnitRemoveAbility(u,Y2V[3])call UnitRemoveAbility(u,Y2V[4])call UnitRemoveAbility(u,Y2V[5])call UnitRemoveAbility(u,Y2V[6])call UnitRemoveAbility(u,Y2V[7])call UnitRemoveAbility(u,Y2V[8])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset A9R=8set i=0loopexitwhen i>A9Rif b[i]==1 thencall GKE(u,Y2V[i])elsecall UnitRemoveAbility(u,Y2V[i])endifset i=i+1endloopendfunctionfunction CMN takes unit J6E,integer MAE,unit F3E returns nothinglocal integer H2E=GetHandleId(J6E)local integer CPN=(LoadInteger(YX,(H2E),(739)))if IsUnitType(F3E,UNIT_TYPE_HERO) thenset CPN=CPN+$Acall SaveInteger(YX,(H2E),(739),(CPN))call H7E(GetUnitName(J6E)+" Won The Duel!!",5,J6E,.03,$FF,0,0,$FF)call CLN(J6E,CPN)endifendfunctionfunction CQN takes unit u returns booleanreturn GetUnitAbilityLevel(u,1113815395)==0 or DYE(u)==falseendfunctionfunction CSN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local real C5X=(LoadReal(YX,(H2E),(442)))local unit MIEif GetTriggerEvalCount(t)==1 thenset MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093814069)call IssueTargetOrderById(MIE,$D0267,F3E)set MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call UnitAddAbility(MIE,1093814069)call IssueTargetOrderById(MIE,$D0267,J6E)set MIE=nullendifif GetTriggerEventId()==EVENT_WIDGET_DEATH or C5X<(TimerGetElapsed(K))or CQN(J6E)==false or CQN(F3E)==false thenif GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()==J6E thencall CMN(F3E,MAE,GetTriggerUnit())elsecall CMN(J6E,MAE,GetTriggerUnit())endifendifcall UnitRemoveAbility(J6E,1110459975)call UnitRemoveAbility(F3E,1110459975)call DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)call SetUnitPathing(J6E,true)call SetUnitPathing(F3E,true)elseif GetIssuedOrderId()!=$D0005 thencall SetUnitPathing(J6E,false)call SetUnitPathing(F3E,false)call DisableTrigger(t)call IssueTargetOrderById(J6E,$D000F,F3E)call IssueTargetOrderById(F3E,$D000F,J6E)call EnableTrigger(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction CTN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093813065)local trigger tlocal integer H2Ecall SetUnitPathing(J6E,false)call SetUnitPathing(F3E,false)call IssueTargetOrderById(J6E,$D000F,F3E)call IssueTargetOrderById(F3E,$D000F,J6E)set t=CreateTrigger()set H2E=GetHandleId(t)call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",J6E,"overhead")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",F3E,"overhead")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveReal(YX,(H2E),(442),(((TimerGetElapsed(K))+.75*MAE+3.25)*1.))call TriggerAddCondition(t,Condition(function CSN))call TriggerRegisterTimerEvent(t,.05,true)call TriggerRegisterTimerEvent(t,.01,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterDeathEvent(t,F3E)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ISSUED_ORDER)set J6E=nullset F3E=nullset t=nullendfunctionfunction CUN takes nothing returns booleanif GetSpellAbilityId()==1093813065 and FUE(GetSpellTargetUnit())==false thencall CTN()endifreturn falseendfunctionfunction O1X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CUN))set t=nullset Y2V[0]=1093814091set Y2V[1]=1093814090set Y2V[2]=1093814089set Y2V[3]=1093814088set Y2V[4]=1093814094set Y2V[5]=1093814095set Y2V[6]=1093814093set Y2V[7]=1093814092set Y2V[8]=1093814096endfunctionfunction CWN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local integer DZX=(LoadInteger(YX,(H2E),(34)))local real dlocal unit Z5Oif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset d=GetEventDamage()if PNE(d)and d>50 thenset DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))set Z5O=GetEventDamageSource()if IsUnitType(Z5O,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(Z5O,1093678162)!=0 thenset Z5O=QV[GetPlayerId(GetOwningPlayer(Z5O))]endifcall HWE(J6E,d)set d=d*(.4+.2*MAE)if IsUnitAlly(F3E,GetOwningPlayer(J6E)) thencall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+d)elsecall MNE(J6E,F3E,3,d)endifendifendifif GetTriggerEventId()!=EVENT_UNIT_DAMAGED or DZX==3 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),($AF))))call DestroyEffect((LoadEffectHandle(YX,(H2E),($B0))))call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction CYN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093814609)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",J6E,"chest",1.9)call H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",F3E,"chest",1.9)call SaveEffectHandle(YX,(H2E),($AF),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",J6E,"chest")))call SaveEffectHandle(YX,(H2E),($B0),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",F3E,"chest")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),(34),(0))call TriggerAddCondition(t,Condition(function CWN))call TriggerRegisterTimerEvent(t,$A,false)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_DAMAGED)set J6E=nullset F3E=nullset t=nullendfunctionfunction CZN takes nothing returns booleanif GetSpellAbilityId()==1093814609 thencall CYN()endifreturn falseendfunctionfunction Register_Deflection takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CZN))set t=nullendfunctionfunction C0N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local integer DZX=(LoadInteger(YX,(H2E),(34)))set DZX=DZX+1call SaveInteger(YX,(H2E),(34),(DZX))if GetTriggerEventId()==EVENT_WIDGET_DEATH or DZX>4 thencall UnitRemoveAbility(F3E,Y3V[MAE])call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+20+$A*MAE)call H0E("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",F3E,"chest",1.9)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction C1N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093814834)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call HAX(F3E)call HOX(F3E,0,0)call GKE(F3E,Y3V[MAE])call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),Y3V[MAE],false)call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",F3E,"overhead")))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveInteger(YX,(H2E),(34),(0))call TriggerAddCondition(t,Condition(function C0N))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,F3E)call TriggerEvaluate(t)set J6E=nullset F3E=nullset t=nullendfunctionfunction C2N takes nothing returns booleanif GetSpellAbilityId()==1093814834 thencall C1N()endifreturn falseendfunctionfunction OZX takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C2N))set Y3V[1]=1093814841set Y3V[2]=1093814849set Y3V[3]=1093814840set Y3V[4]=1093814839set t=nullendfunctionfunction C3N takes unit J6E,integer MAE returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(J6E),GetUnitY(J6E),0)call GKE(MIE,1093814851)call SetUnitAbilityLevel(MIE,1093814851,MAE/3)call IssueTargetOrderById(MIE,$D0085,J6E)set MIE=nullendfunctionfunction C4N takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED) or IsUnitIllusion(GetEnumUnit()) thencall MNE(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*.5)endifcall MNE(GetTriggerUnit(),GetEnumUnit(),1,60*Y6V+$A*(Y5V+Y4V))endfunctionfunction C5N takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO) thenset Y5V=Y5V+1elseset Y4V=Y4V+1endifendfunctionfunction C6N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer MAE=GetUnitAbilityLevel(J6E,1093814850)local group g=FYE()call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,315+25,Condition(function LRE))set Y4V=0set Y5V=0set Y6V=MAEcall ForGroup(g,function C5N)call ForGroup(g,function C4N)call FWE(g)call C3N(J6E,6*Y5V+3*Y4V)set J6E=nullset g=nullendfunctionfunction C7N takes nothing returns booleanif GetSpellAbilityId()==1093814850 thencall C6N()endifreturn falseendfunctionfunction O0X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C7N))call HCE(1093814851)set t=nullendfunctionfunction C8N takes nothing returns nothingset ZVV=truecall MNE(Y7V,GetEnumUnit(),1,((300+300*Y9V)/Y8V)/20)set ZVV=falseendfunctionfunction C9N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real x=(LoadReal(YX,(H2E),(6)))local real y=(LoadReal(YX,(H2E),(7)))local group gif GetTriggerEvalCount(t)>20 thencall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elseset g=FYE()set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,$AA+25,Condition(function LPE))set Y9V=GetUnitAbilityLevel(J6E,1093812807)set Y7V=J6Eset Y8V=CountUnitsInGroup(g)call ForGroup(g,function C8N)call FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction DVN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local string s="war3mapImported\\DivineWrathTarget.mdx"local location l=GetSpellTargetLoc()call PlaySoundAtPointBJ(Z3V,100,l,0)call RemoveLocation(l)set l=nullcall TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function C9N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call DestroyEffect(AddSpecialEffect(s,x,y))set t=nullset J6E=nullendfunctionfunction DEN takes nothing returns booleanif GetSpellAbilityId()==1093812807 thencall DVN()endifreturn falseendfunctionfunction O3X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DEN))set t=nullset Z3V=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Z3V,"StarfallTarget")call SetSoundDuration(Z3V,$BB8)endfunctionfunction DXN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093812820)local real dif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset d=GetEventDamage()*(.2+.05*MAE)elsecall SaveInteger(YX,(GetHandleId((F3E))),((4317)),(2))call UnitRemoveAbility(F3E,1093814582)call UnitRemoveAbility(F3E,1093814581)call UnitRemoveAbility(F3E,1093814583)call UnitRemoveAbility(F3E,1093814584)call UnitRemoveAbility(F3E,1110459987)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction DON takes unit J6E,unit F3E returns nothinglocal trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(J6E,1093812820)local unit LastTarget=(LoadUnitHandle(YX,(GetHandleId(J6E)),(741)))local integer DZX=(LoadInteger(YX,(GetHandleId(F3E)),(742)))local integer idif((LoadInteger(YX,(GetHandleId((F3E))),((4317))))==1) thencall SaveInteger(YX,(GetHandleId(F3E)),(742),(0))call SaveReal(YX,(GetHandleId(F3E)),(743),(((TimerGetElapsed(K)))*1.))elseif(LoadReal(YX,(GetHandleId(F3E)),(743)))+$A<(TimerGetElapsed(K))thenset DZX=1elseset DZX=DZX+1endifif IsUnitType(F3E,UNIT_TYPE_HERO) or IsUnitIllusion(F3E) thencall H8E(GetOwningPlayer(J6E),I2S(DZX)+"!",2,F3E,.026,50,0,$FF,$D8)endifcall SaveInteger(YX,(GetHandleId(F3E)),(742),(DZX))call SaveReal(YX,(GetHandleId(F3E)),(743),(((TimerGetElapsed(K)))*1.))if DZX==4 thencall SaveInteger(YX,(GetHandleId(F3E)),(742),(0))call SaveInteger(YX,(GetHandleId((F3E))),((4317)),(1))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.5+.5*MAE,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function DXN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))if MAE==1 thenset id=1093814582elseif MAE==2 thenset id=1093814581elseif MAE==3 thenset id=1093814583elseif MAE==4 thenset id=1093814584endifcall GKE(F3E,id)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",F3E,"chest"))endifendifset t=nullendfunctionfunction DRN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall DisableTrigger(t)call DON(J6E,F3E)call FlushChildHashtable(YX,(H2E))call IRE(t)endifelsecall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction DIN takes nothing returns nothinglocal trigger t=CreateTrigger()local unit F3E=GetTriggerUnit()local unit J6E=GetAttacker()local integer H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.2,false)call TriggerAddCondition(t,Condition(function DRN))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveUnitHandle(YX,(H2E),(2),(J6E))set F3E=nullset J6E=nullset t=nullendfunctionfunction DAN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetAttacker()==J6E and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(J6E))thenif R8E(J6E,"4315")==false thencall IBE(J6E,"4315",.3)call DIN()endifendifset t=nullset J6E=nullreturn falseendfunctionfunction DNN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function DAN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction DBN takes nothing returns booleanif GetLearnedSkill()==1093812820 and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),1093812820)==1 thencall DNN()endifreturn falseendfunctionfunction Register_Amp takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function DBN))set t=nullendfunctionfunction DCN takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal integer MAE=GetUnitAbilityLevel(J6E,1093812805)local real C4O=40+20*MAE+1.6*GetHeroInt(J6E,true)set ZVV=truecall MNE(J6E,F3E,1,C4O)set ZVV=falseset J6E=nullset F3E=nullendfunctionfunction DDN takes nothing returns nothinglocal trigger t=JLE(GetTriggerUnit(),GetSpellTargetUnit(),1747993681,"DCN",500)local integer H2E=GetHandleId(t)set t=nullendfunctionfunction DFN takes nothing returns booleanif GetSpellAbilityId()==1093812805 and FUE(GetSpellTargetUnit())==false thencall DDN()endifreturn falseendfunctionfunction O4X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DFN))set t=nullendfunctionfunction DGN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real dif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenelsecall UnitRemoveAbility(F3E,1093814360)call UnitRemoveAbility(F3E,1093814576)call UnitRemoveAbility(F3E,1093814361)call UnitRemoveAbility(F3E,1093814362)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset F3E=nullset t=nullreturn falseendfunctionfunction DHN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093814350)local real EZE=2+MAElocal integer id=1093814360if MAE==1 thenset id=1093814360elseif MAE==2 thenset id=1093814576elseif MAE==3 thenset id=1093814361elseif MAE==4 thenset id=1093814362endifcall GKE(F3E,id)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)call TriggerRegisterTimerEvent(t,EZE,false)call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function DGN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set J6E=nullset F3E=nullset t=nullendfunctionfunction DJN takes nothing returns booleanif GetSpellAbilityId()==1093814350 and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO) and FUE(GetSpellTargetUnit())==false thencall DHN()endifreturn falseendfunctionfunction O5X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DJN))set t=nullendfunctionfunction DKN takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal real x=GetUnitX(F3E)local real y=GetUnitY(F3E)local integer MAE=GetUnitAbilityLevel(J6E,1093814612)local unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)call UnitAddAbility(MIE,1093814613)call SetUnitAbilityLevel(MIE,1093814613,MAE)call IssueImmediateOrderById(MIE,$D0080)set J6E=nullset F3E=nullset MIE=nullendfunctionfunction DLN takes unit J6E,group g returns unitlocal unit DMN=nulllocal real d=99999local unit DPN=FirstOfGroup(g)call GroupRemoveUnit(g,DPN)loopexitwhen DPN==nullif E3E(J6E,DPN)<d thenset d=E3E(J6E,DPN)set DMN=DPNendifset DPN=FirstOfGroup(g)call GroupRemoveUnit(g,DPN)endloopreturn DMNendfunctionfunction DQN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=nulllocal group g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),$640+25,Condition(function LME))set F3E=DLN(J6E,g)call FWE(g)if F3E!=null thencall JLE(J6E,F3E,1747993910,"DKN",800)endifset g=nullset F3E=nullset J6E=nullendfunctionfunction DSN takes nothing returns booleanif GetSpellAbilityId()==1093814612 thencall DQN()endifreturn falseendfunctionfunction O2X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DSN))set t=nullendfunctionfunction DTN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093813335)local unit DCXcall DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerEventId()==EVENT_UNIT_DEATH and IsPlayerEnemy(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(F3E)) thenset DCX=GetKillingUnit()if PAE(DCX)thenset DCX=(QV[GetPlayerId(GetOwningPlayer((DCX)))])endifif IsUnitType(DCX,UNIT_TYPE_STRUCTURE) thencall MNE(J6E,DCX,1,25*MAE)elsecall MNE(J6E,DCX,1,100*MAE)endifcall MRE(J6E,GetKillingUnit(),.5+.5*MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction DUN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()call TriggerRegisterUnitEvent(t,F3E,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,$A,false)call TriggerAddCondition(t,Condition(function DTN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("war3mapImported\\GaiaShield.mdx",F3E,"origin")))set t=nullset J6E=nullset F3E=nullendfunctionfunction DWN takes nothing returns booleanif GetSpellAbilityId()==1093813335 thencall DUN()endifreturn falseendfunctionfunction Register_DeathWatch takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DWN))set t=nullendfunctionfunction DYN takes nothing returns nothingif E3E(ZEV,GetEnumUnit())>ZXV thencall UnitRemoveAbility(GetEnumUnit(),1093813337)endifendfunctionfunction DZN takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),1093813337)endfunctionfunction D_N takes nothing returns booleanreturn(IsUnitEnemy(I9V,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GME(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or KTE(GetFilterUnit())))!=nullendfunctionfunction D0N takes nothing returns nothingcall GroupAddUnit(ZOV,GetEnumUnit())call UnitAddAbility(GetEnumUnit(),1093813337)endfunctionfunction D1N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local group glocal integer MAE=GetUnitAbilityLevel(J6E,1093813336)if GME(MIE)or GetTriggerEvalCount(t)>$C8 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call ForGroup(PLO,function DZN)call FWE(PLO)elseset ZXV=$FA+25set ZEV=MIEset I9V=J6Ecall ForGroup(PLO,function DYN)set ZOV=PLOset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(MIE),GetUnitY(MIE),ZXV,Condition(function D_N))call ForGroup(g,function D0N)call FWE(g)set g=nullendifset t=nullset J6E=nullreturn falseendfunctionfunction D2N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer idlocal unit MIElocal integer MAE=GetUnitAbilityLevel(J6E,1093813336)if MAE==1 thenset id=1865429330elseif MAE==2 thenset id=1865429331elseif MAE==3 thenset id=1865429329elseset id=1865429332endifset MIE=CreateUnit(GetOwningPlayer(J6E),id,x,y,0)call UnitApplyTimedLife(MIE,1112820806,$A)call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function D1N))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))set t=nullset J6E=nullset MIE=nullendfunctionfunction D3N takes nothing returns booleanif GetSpellAbilityId()==1093813336 thencall D2N()endifreturn falseendfunctionfunction Register_RealityShift takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D3N))set t=nullendfunctionfunction D4N takes nothing returns nothingcall MNE(ZRV,GetEnumUnit(),1,50+50*ZIV)endfunctionfunction D5N takes unit J6E,real x,real y returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,x,y,0)local group g=FYE()call UnitAddAbility(MIE,1093813553)call IssuePointOrderById(MIE,$D0270,x,y)set I9V=J6Eset ZIV=GetUnitAbilityLevel(J6E,1093813552)set ZRV=J6Ecall GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))call ForGroup(g,function D4N)call FWE(g)call DestroyEffect(AddSpecialEffect("",x,y))set g=nullset MIE=nullendfunctionfunction D6N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer i=0local unit D7Nlocal boolean D8N=falselocal real xlocal real ylocal integer H2E=GetHandleId(J6E)loopexitwhen i>2 or D8Nset D7N=(LoadUnitHandle(YX,(H2E),(724+i)))if D7N!=null and GME(D7N)==false thencall KillUnit(D7N)call RemoveSavedHandle(YX,(H2E),(724+i))set D8N=trueendifset i=i+1endloopif D8N thenset x=GetSpellTargetX()set y=GetSpellTargetY()call D5N(J6E,x,y)endifset D7N=nullset J6E=nullendfunctionfunction D9N takes nothing returns booleanif GetSpellAbilityId()==1093813552 thencall D6N()endifreturn falseendfunctionfunction FVN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit D7Nlocal integer i=0local real xlocal real yset H2E=GetHandleId(J6E)loopexitwhen i>2set D7N=(LoadUnitHandle(YX,(H2E),(724+i)))if D7N!=null and GME(D7N)==false thenset x=GetUnitX(J6E)set y=GetUnitY(J6E)if i==0 thenset x=x-125set y=y-125elseif i==1 thenset x=x+125set y=y-125elseset x=x-125set y=y+125endifcall SetUnitX(D7N,x)call SetUnitY(D7N,y)if GetTriggerEventId()==EVENT_WIDGET_DEATH or GME(J6E)thencall KillUnit(D7N)call RemoveSavedHandle(YX,(H2E),(724+i))endifendifset i=i+1endloopset D7N=nullset J6E=nullset t=nullreturn falseendfunctionfunction FEN takes unit J6E,integer OFO returns nothinglocal real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit D7Nif OFO==0 thenset x=x-125set y=y-125elseif OFO==1 thenset x=x+125set y=y-125elseset x=x-125set y=y+125endifset D7N=CreateUnit(GetOwningPlayer(J6E),1747993682,x,y,0)call SaveUnitHandle(YX,(GetHandleId(J6E)),(724+OFO),(D7N))set D7N=nullendfunctionfunction FXN takes unit J6E returns nothinglocal integer i=0local boolean FON=falselocal integer FRN=-1local unit D7Nlocal integer H2E=GetHandleId(J6E)loopexitwhen i>2 or FONset D7N=(LoadUnitHandle(YX,(H2E),(724+i)))if D7N==null or GME(D7N)thenset FRN=iset FON=trueendifset i=i+1endloopif FON thencall FEN(J6E,FRN)endifset D7N=nullendfunctionfunction FIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer MAE=GetUnitAbilityLevel(J6E,1093813552)if GME(J6E)==false thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(J6E)) and GetUnitAbilityLevel(GetTriggerUnit(),1093678162)==0 thenif E3E(GetTriggerUnit(),J6E)<$401 and GetRandomInt(0,100)<($A+5*MAE)thencall FXN(J6E)endifendifelsecall FXN(J6E)endifendifset t=nullset J6E=nullreturn falseendfunctionfunction FAN takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()call TriggerRegisterTimerEvent(t,20,true)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FIN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function FVN))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction FNN takes nothing returns booleanif GetLearnedSkill()==1093813552 and GetUnitAbilityLevel(GetTriggerUnit(),1093813552)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall FAN()endifreturn falseendfunctionfunction Register_HauntingEchos takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D9N))call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function FNN))set t=nullendfunctionfunction FBN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local real N0O=(LoadReal(YX,(H2E),(6)))local real N1O=(LoadReal(YX,(H2E),(7)))local integer MAE=GetUnitAbilityLevel(J6E,1093813338)local real SZR=(30*MAE)/$Alocal real a=H3E(F3E,J6E)*bj_DEGTORADlocal real x=N0O+SZR*Cos(a)local real y=N1O+SZR*Sin(a)call SetUnitX(F3E,x)call SetUnitY(F3E,y)call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))if GetTriggerEvalCount(t)==$A thencall FlushChildHashtable(YX,(H2E))call IRE(t)call MNE(J6E,F3E,1,$A+$A*MAE)endifset t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction FCN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function FBN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveReal(YX,(H2E),(6),((GetUnitX(F3E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(F3E))*1.))set t=nullset J6E=nullset F3E=nullendfunctionfunction FDN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local integer i=0local boolean D8N=falselocal integer H2Elocal unit D7Nlocal group gif GetSpellAbilityId()==1093813552 thenset H2E=GetHandleId(J6E)loopexitwhen i>2set D7N=(LoadUnitHandle(YX,(H2E),(724+i)))if D7N!=null and GME(D7N)==false thenset D8N=trueendifset i=i+1endloopset D7N=nullif D8N==false thenset J6E=nullreturnendifendifset g=FYE()call GroupEnumUnitsInRange(g,GetUnitX(J6E),GetUnitY(J6E),725,Condition(function LRE))call ForGroup(g,function FCN)call FWE(g)set g=nullset J6E=nullendfunctionfunction FFN takes nothing returns booleanif GetSpellAbilityId()==1093813552 or GetSpellAbilityId()==1093813336 or GetSpellAbilityId()==1093813335 thenif GetUnitAbilityLevel(GetTriggerUnit(),1093813338)>0 thencall FDN()endifendifreturn falseendfunctionfunction Register_FatalAttraction takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FFN))set t=nullendfunctionfunction FGN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer XMI=(LoadInteger(YX,(H2E),(422)))local integer XPI=(LoadInteger(YX,(H2E),(423)))local integer ILR=(LoadInteger(YX,(H2E),(424)))call SetHeroAgi(F3E,GetHeroAgi(F3E,false)+XMI,true)call SetHeroStr(F3E,GetHeroStr(F3E,false)+XPI,true)call SetHeroInt(F3E,GetHeroInt(F3E,false)+ILR,true)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset F3E=nullreturn falseendfunctionfunction FHN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local integer MAE=GetUnitAbilityLevel(J6E,1093813835)local trigger tlocal integer H2Elocal integer XSIlocal integer XMIlocal integer XPIlocal integer ILRlocal real SZRif IsUnitType(F3E,UNIT_TYPE_HERO) thenset XSI=FKE(F3E)set SZR=.15if XSI==2 thenset XMI=R2I(SZR*GetHeroAgi(F3E,false))-1set XPI=0set ILR=0elseif XSI==3 thenset XMI=0set XPI=R2I(SZR*GetHeroStr(F3E,false))-1set ILR=0elseif XSI==1 thenset XMI=0set XPI=0set ILR=R2I(SZR*GetHeroInt(F3E,false))-1endifcall SetHeroAgi(F3E,GetHeroAgi(F3E,false)-XMI,true)call SetHeroStr(F3E,GetHeroStr(F3E,false)-XPI,true)call SetHeroInt(F3E,GetHeroInt(F3E,false)-ILR,true)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,7,false)call TriggerRegisterDeathEvent(t,F3E)call TriggerAddCondition(t,Condition(function FGN))call SaveInteger(YX,(H2E),(422),(XMI))call SaveInteger(YX,(H2E),(424),(ILR))call SaveInteger(YX,(H2E),(423),(XPI))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullendifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",F3E,"chest"))call MNE(J6E,F3E,ZNV,50+50*MAE)set J6E=nullset F3E=nullendfunctionfunction FJN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),x,y)*bj_DEGTORADset x=GetUnitX(J6E)set y=GetUnitY(J6E)if JRE(x,y,ZAV)>0 thenset ZNV=3elseset ZNV=1endifcall GroupEnumUnitsInRange(g,x,y,ZAV+25,Condition(function LRE))call ForGroup(g,function FHN)call FWE(g)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",J6E,"origin"))set J6E=nullset g=nullendfunctionfunction FKN takes nothing returns booleanif GetSpellAbilityId()==1093813835 thencall FJN()endifreturn falseendfunctionfunction O6X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FKN))set t=nullendfunctionfunction FLN takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093813555)call MNE(J6E,F3E,3,60+40*MAE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",F3E,"origin"))endfunctionfunction FMN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),AEV)==false thencall GroupAddUnit(AEV,GetEnumUnit())call FLN(I9V,GetEnumUnit())endifendfunctionfunction FPN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer FQN=(LoadInteger(YX,(H2E),(18)))local integer DZX=GetTriggerEvalCount(t)local unit FSNlocal group FTN=(LoadGroupHandle(YX,(H2E),(16)))local group glocal boolean FUN=(LoadBoolean(YX,(H2E),(727)))local boolean FWN=(LoadBoolean(YX,(H2E),(740)))if G3X(F2E)thenset FWN=truecall SaveBoolean(YX,(H2E),(740),(FWN))endifif FUN==false thenset FSN=(LoadUnitHandle(YX,(H2E),(700+FQN+1-DZX)))call RemoveUnit(FSN)elseset FSN=(LoadUnitHandle(YX,(H2E),(700+DZX)))if FWN==false thencall SetUnitX(F2E,GetUnitX(FSN))call SetUnitY(F2E,GetUnitY(FSN))endifcall RemoveUnit(FSN)set g=FYE()set I9V=F2Eset AEV=FTNcall GroupEnumUnitsInRange(g,GetUnitX(F2E),GetUnitY(F2E),$FA,Condition(function K6E))call ForGroup(g,function FMN)call FWE(g)endifif DZX==(FQN)thencall JRE(GetUnitX(F2E),GetUnitY(F2E),90)call FWE(FTN)call FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset F2E=nullset FSN=nullset FTN=nullset g=nullreturn falseendfunctionfunction FYN takes nothing returns nothingif DWE(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false thenset ZBV=ZBV+1endifendfunctionfunction FZN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))local real BEO=(LoadReal(YX,(H2E),($D)))local integer DGR=(LoadInteger(YX,(H2E),($C)))local integer DZX=GetTriggerEvalCount(t)local real x=(LoadReal(YX,(H2E),(6)))+DZX*50*Cos(BEO*bj_DEGTORAD)local real y=(LoadReal(YX,(H2E),(7)))+DZX*50*Sin(BEO*bj_DEGTORAD)local boolean AIR=(LoadBoolean(YX,(H2E),($F)))local unit F_Nlocal trigger F0N=(LoadTriggerHandle(YX,(H2E),($B)))local integer F1N=GetHandleId(F0N)local integer ID=1966092625local real IVN=$FAlocal rect rlocal real d=90set r=Rect(x-d,y-d,x+d,y+d)set ZBV=0call EnumDestructablesInRect(r,Condition(function BUE),function FYN)if ZBV>0 or DZX==DGR or DZX==(DGR-1)or DZX==(DGR-2)thenset ID=1966092624endifset F_N=CreateUnit(GetOwningPlayer(F2E),ID,x,y,BEO)call SaveUnitHandle(YX,(F1N),(700+DZX),(F_N))if ZBV>0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call TriggerRegisterTimerEvent(F0N,.5/DGR,true)call TriggerAddCondition(F0N,Condition(function FPN))call SaveInteger(YX,(F1N),(18),(DZX))call SaveBoolean(YX,(F1N),(727),(true))call SaveUnitHandle(YX,(F1N),($E),(F2E))call SaveGroupHandle(YX,(F1N),(16),(FYE()))call SaveReal(YX,(F1N),(6),((x)*1.))call SaveReal(YX,(F1N),(7),((y)*1.))call SaveBoolean(YX,(F1N),(740),(false))elseif DZX>DGR thencall FlushChildHashtable(YX,(H2E))call IRE(t)call TriggerRegisterTimerEvent(F0N,.5/DGR,true)call TriggerAddCondition(F0N,Condition(function FPN))call SaveInteger(YX,(F1N),(18),(DZX))call SaveBoolean(YX,(F1N),(727),(false))call SaveUnitHandle(YX,(F1N),($E),(F2E))call SaveGroupHandle(YX,(F1N),(16),(FYE()))call SaveBoolean(YX,(F1N),(740),(false))endifset t=nullset F2E=nullset F_N=nullset F0N=nullreturn falseendfunctionfunction F2N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F2E=GetTriggerUnit()local location l=GetSpellTargetLoc()local real BEO=H4E(GetUnitX(F2E),GetUnitY(F2E),GetLocationX(l),GetLocationY(l))local integer MAE=GetUnitAbilityLevel(F2E,1093813555)local integer F3Nlocal integer DGRlocal trigger F4N=CreateTrigger()set F3N=600+$C8*MAEset DGR=F3N/50call SaveUnitHandle(YX,(H2E),($E),(F2E))call SaveInteger(YX,(H2E),(5),(MAE))call SaveReal(YX,(H2E),($D),((BEO)*1.))call SaveInteger(YX,(H2E),($C),(DGR))call SaveTriggerHandle(YX,(H2E),($B),(F4N))call SaveReal(YX,(H2E),(6),((GetUnitX(F2E))*1.))call SaveReal(YX,(H2E),(7),((GetUnitY(F2E))*1.))call TriggerRegisterTimerEvent(t,.5/DGR,true)call TriggerAddCondition(t,Condition(function FZN))call RemoveLocation(l)set t=nullset F2E=nullset l=nullendfunctionfunction F5N takes nothing returns booleanif GetSpellAbilityId()==1093813555 thencall F2N()endifreturn falseendfunctionfunction O7X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function F5N))set t=nullendfunctionfunction F6N takes unit J6E returns nothinglocal integer DZX=(LoadInteger(YX,(GetHandleId(J6E)),(728)))local integer MAE=GetUnitAbilityLevel(J6E,1093813556)local integer i=1set DZX=IMinBJ(DZX,4*MAE)loopexitwhen i>16if DZX==i thencall GKE(J6E,ZCV[i])call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),ZCV[i],false)elsecall UnitRemoveAbility(J6E,ZCV[i])endifset i=i+1endloopendfunctionfunction F7N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer DZX=(LoadInteger(YX,(GetHandleId(J6E)),(728)))-1call SaveInteger(YX,(GetHandleId(J6E)),(728),(DZX))call F6N(J6E)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction F8N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local integer DZX=(LoadInteger(YX,(GetHandleId(J6E)),(728)))+1if IsUnitEnemy(GetAttacker(),GetOwningPlayer(J6E)) thencall SaveInteger(YX,(GetHandleId(J6E)),(728),(DZX))call F6N(J6E)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,16,false)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function F7N))call SaveUnitHandle(YX,(H2E),(2),(J6E))endifset t=nullset J6E=nullreturn falseendfunctionfunction F9N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function F8N))call SaveUnitHandle(YX,(H2E),(2),(J6E))set t=nullset J6E=nullendfunctionfunction GVN takes nothing returns booleanif GetLearnedSkill()==1093813556 and GetUnitAbilityLevel(GetTriggerUnit(),1093813556)==1 and IsUnitIllusion(GetTriggerUnit())==false thencall F9N()endifreturn falseendfunctionfunction O8X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function GVN))set t=nullset ZCV[1]=1093813319set ZCV[2]=1093813318set ZCV[3]=1093813324set ZCV[4]=1093813325set ZCV[5]=1093813322set ZCV[6]=1093813321set ZCV[7]=1093813326set ZCV[8]=1093813327set ZCV[9]=1093813320set ZCV[$A]=1093813333set ZCV[$B]=1093813328set ZCV[$C]=1093813329set ZCV[$D]=1093813330set ZCV[$E]=1093813331set ZCV[$F]=1093813332set ZCV[16]=1093813323endfunctionfunction GEN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))call UnitRemoveAbility(J6E,1114663271)call UnitRemoveAbility(J6E,1111845217)call UnitRemoveAbility(J6E,1093813848)call FlushChildHashtable(YX,(H2E))call IRE(t)set t=nullset J6E=nullreturn falseendfunctionfunction GXN takes unit J6E,unit F3E returns nothinglocal unit MIE=CreateUnit(GetOwningPlayer(J6E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer HUO=R2I(100*GetUnitState(F3E,UNIT_STATE_LIFE)/GetUnitState(F3E,UNIT_STATE_MAX_LIFE))local integer MAE=HPE(HME(R2I(100-HUO)/5,20),1)call UnitAddAbility(MIE,1093813334)call SetUnitAbilityLevel(MIE,1093813334,MAE)call IssueTargetOrderById(MIE,$D006B,F3E)set MIE=nullendfunctionfunction GON takes nothing returns nothingif NI==false thencall MNE(ZHV,GetEnumUnit(),3,(25+25*ZJV)*.5)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call GXN(ZHV,GetEnumUnit())endifendfunctionfunction GRN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZGV)==false thencall GroupAddUnit(ZGV,GetEnumUnit())call MNE(ZHV,GetEnumUnit(),3,60+40*ZJV)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call GXN(ZHV,GetEnumUnit())endifendfunctionfunction GIN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local real JDE=(LoadReal(YX,(H2E),(6)))local real JFE=(LoadReal(YX,(H2E),(7)))local real xlocal real ylocal real alocal integer GAN=(LoadInteger(YX,(H2E),(33)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local group glocal integer DZX=(LoadInteger(YX,(H2E),(34)))local real GNNcall GKE(J6E,1096971630)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()==1093813848 thencall SaveInteger(YX,(H2E),(33),(2))call GroupClear(PLO)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813848,false)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function GEN))call SaveUnitHandle(YX,(H2E),(2),(J6E))endifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==-1 thencall UnitRemoveAbility(J6E,1096971630)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093813557 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813557,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813848,false)call UnitRemoveAbility(J6E,1093813848)call UnitRemoveAbility(J6E,1114663271)call UnitRemoveAbility(J6E,1111845217)call KillUnit(JCE)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)elseif GAN==0 thenset a=H4E(GetUnitX(JCE),GetUnitY(JCE),JDE,JFE)*bj_DEGTORADset x=GetUnitX(JCE)+20*Cos(a)set y=GetUnitY(JCE)+20*Sin(a)call JRE(x,y,$AF)if E4E(x,y,JDE,JFE)<40 thenset x=JDEset y=JFEendifcall SetUnitX(JCE,x)call SetUnitY(JCE,y)set I9V=J6Eset ZHV=J6Eset ZJV=GetUnitAbilityLevel(J6E,1093813557)set ZGV=PLOset g=FYE()call GroupEnumUnitsInRange(g,x,y,ZDV+25,Condition(function K3E))call ForGroup(g,function GRN)call FWE(g)if x==JDE and y==JFE thencall SaveInteger(YX,(H2E),(33),(1))call GroupClear(PLO)endifelseif GAN==1 thenset DZX=DZX+1if DZX==25 thenset x=GetUnitX(JCE)set y=GetUnitY(JCE)call JRE(x,y,$AF)set DZX=0set I9V=J6Eset ZHV=J6Eset ZJV=GetUnitAbilityLevel(J6E,1093813557)set g=FYE()call GroupEnumUnitsInRange(g,x,y,ZFV+25,Condition(function K3E))call ForGroup(g,function GON)call FWE(g)set GNN=($F+5*ZJV)/2if GetUnitState(J6E,UNIT_STATE_MANA)<GNN or E3E(J6E,JCE)>$7D0 thencall SaveInteger(YX,(H2E),(33),(2))call GroupClear(PLO)call UnitRemoveAbility(J6E,1093813848)call UnitRemoveAbility(J6E,1114663271)call UnitRemoveAbility(J6E,1111845217)elsecall SetUnitState(J6E,UNIT_STATE_MANA,GetUnitState(J6E,UNIT_STATE_MANA)-GNN)endifendifcall SaveInteger(YX,(H2E),(34),(DZX))elseif GAN==2 thenset a=H4E(GetUnitX(JCE),GetUnitY(JCE),GetUnitX(J6E),GetUnitY(J6E))*bj_DEGTORADset x=GetUnitX(JCE)+20*Cos(a)set y=GetUnitY(JCE)+20*Sin(a)call JRE(x,y,$AF)call SetUnitX(JCE,x)call SetUnitY(JCE,y)set I9V=J6Eset ZHV=J6Eset ZJV=GetUnitAbilityLevel(J6E,1093813557)set ZGV=PLOset g=FYE()call GroupEnumUnitsInRange(g,x,y,ZDV+25,Condition(function K3E))call ForGroup(g,function GRN)call FWE(g)if E4E(x,y,GetUnitX(J6E),GetUnitY(J6E))<40 thencall UnitRemoveAbility(J6E,1096971630)call KillUnit(JCE)call FWE(PLO)call FlushChildHashtable(YX,(H2E))call IRE(t)if(LoadInteger(YX,(GetHandleId(J6E)),(704)))==0 or(LoadInteger(YX,(GetHandleId(J6E)),(704)))==1093813557 thencall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813557,true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813848,false)endifendifset t=nullset J6E=nullset JCE=nullset PLO=nullset g=nullreturn falseendfunctionfunction GBN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=H4E(GetUnitX(J6E),GetUnitY(J6E),x,y)*bj_DEGTORADlocal unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993683,GetUnitX(J6E),GetUnitY(J6E),a*bj_RADTODEG)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterUnitEvent(t,J6E,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GIN))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),(6),((x)*1.))call SaveReal(YX,(H2E),(7),((y)*1.))call SaveInteger(YX,(H2E),(33),(0))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))call GKE(J6E,1096971630)call GKE(J6E,1093813848)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813557,false)call SetPlayerAbilityAvailable(GetOwningPlayer(J6E),1093813848,true)set J6E=nullset t=nullset JCE=nullendfunctionfunction GCN takes nothing returns booleanif GetSpellAbilityId()==1093813557 thencall GBN()endifreturn falseendfunctionfunction O9X takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GCN))call HCE(1093813334)set t=nullendfunctionfunction GDN takes unit J6E,unit JCE,unit F3E returns nothinglocal real d=RAbsBJ(GetUnitFacing(F3E)-GetUnitFacing(JCE))local real EZE=3local integer MAE=GetUnitAbilityLevel(J6E,1093813582)local integer GFN=1093813580if MAE==2 thenset GFN=1093813579elseif MAE==3 thenset GFN=1093813578elseif MAE==4 thenset GFN=1093813581endifif d>$B4 thenset d=360-dendifif d<=105 thencall MRE(J6E,F3E,1.5)set EZE=4endifcall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),GFN,false)call KNE(F3E,GFN,1,EZE,1110459958)call MNE(J6E,F3E,1,80+20*MAE)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",F3E,"chest"))endfunctionfunction GGN takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZMV)==false thencall GroupAddUnit(ZMV,GetEnumUnit())call GDN(ZKV,ZLV,GetEnumUnit())endifendfunctionfunction GHN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit JCE=(LoadUnitHandle(YX,(H2E),(45)))local group PLO=(LoadGroupHandle(YX,(H2E),($BB)))local real a=(LoadReal(YX,(H2E),($89)))local real x=GetUnitX(JCE)local real y=GetUnitY(JCE)local group g=FYE()set x=HRE(x+28*Cos(a))set y=HIE(y+28*Sin(a))call SetUnitX(JCE,x)call SetUnitY(JCE,y)set I9V=J6Eset ZKV=J6Eset ZLV=JCEset ZMV=PLOcall GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))call ForGroup(g,function GGN)call FWE(g)if GetTriggerEvalCount(t)>50 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call KillUnit(JCE)call FWE(PLO)endifset t=nullset J6E=nullset JCE=nullset PLO=nullset g=nullreturn falseendfunctionfunction GJN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local real a=H4E(x,y,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal unit JCE=CreateUnit(GetOwningPlayer(J6E),1747993688,x,y,a*bj_RADTODEG)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function GHN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(45),(JCE))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveGroupHandle(YX,(H2E),($BB),(FYE()))set J6E=nullset JCE=nullset t=nullendfunctionfunction GKN takes nothing returns booleanif GetSpellAbilityId()==1093813582 thencall GJN()endifreturn falseendfunctionfunction Register_Breeze takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GKN))set t=nullendfunctionfunction GLN takes unit F3E returns nothingcall UnitRemoveAbility(F3E,1093813592)call UnitRemoveAbility(F3E,1093813589)call UnitRemoveAbility(F3E,1093813590)call UnitRemoveAbility(F3E,1093813591)endfunctionfunction GMN takes unit J6E,unit F3E returns nothinglocal integer MAE=GetUnitAbilityLevel(J6E,1093813593)if MAE==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813592,false)call GKE(F3E,1093813592)elseif MAE==2 thencall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813589,false)call GKE(F3E,1093813589)elseif MAE==3 thencall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813590,false)call GKE(F3E,1093813590)elseif MAE==4 thencall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813591,false)call GKE(F3E,1093813591)endifendfunctionfunction GPN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=GetTriggerUnit()local unit Z5O=GetAttacker()if IsUnitType(Z5O,UNIT_TYPE_MELEE_ATTACKER)==false thenif GetUnitAbilityLevel(J6E,1093813593)>0 thencall GMN(J6E,Z5O)elsecall GLN(Z5O)endifendifset t=nullset J6E=nullset Z5O=nullreturn falseendfunctionfunction GQN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger tlocal integer H2Elocal integer MAE=GetUnitAbilityLevel(J6E,1093813593)if MAE==1 thencall GKE(J6E,1093813587)set t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function GPN))call SaveUnitHandle(YX,(H2E),(2),(J6E))elseif MAE==2 thencall UnitRemoveAbility(J6E,1093813587)call GKE(J6E,1093813586)elseif MAE==3 thencall UnitRemoveAbility(J6E,1093813587)call UnitRemoveAbility(J6E,1093813586)call GKE(J6E,1093813585)elseif MAE==4 thencall UnitRemoveAbility(J6E,1093813587)call UnitRemoveAbility(J6E,1093813586)call UnitRemoveAbility(J6E,1093813585)call GKE(J6E,1093813588)endifset J6E=nullset t=nullendfunctionfunction GSN takes nothing returns booleanif GetLearnedSkill()==1093813593 and IsUnitIllusion(GetTriggerUnit())==false thencall GQN()endifreturn falseendfunctionfunction Register_FrostSkin takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function GSN))set t=nullendfunctionfunction GTN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit MIE=(LoadUnitHandle(YX,(H2E),(19)))call SetUnitX(MIE,GetUnitX(J6E))call SetUnitY(MIE,GetUnitY(J6E))if GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()!=MIE thencall KillUnit(MIE)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset J6E=nullset MIE=nullreturn falseendfunctionfunction GUN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit MIE=CreateUnit(GetOwningPlayer(J6E),1865429333,GetUnitX(J6E),GetUnitY(J6E),0)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call UnitApplyTimedLifeBJ($F,1112820806,MIE)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerRegisterDeathEvent(t,MIE)call TriggerAddCondition(t,Condition(function GTN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(19),(MIE))set J6E=nullset MIE=nullset t=nullendfunctionfunction GWN takes nothing returns booleanif GetSpellAbilityId()==1093813594 and GetUnitTypeId(GetTriggerUnit())==1311788343 thencall GUN()endifreturn falseendfunctionfunction Register_FrostGiant takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GWN))set t=nullendfunctionfunction GYN takes nothing returns nothingcall MRE(ZPV,GetEnumUnit(),1.5)call MNE(ZPV,GetEnumUnit(),2,50+50*ZQV)endfunctionfunction GZN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local real a=(LoadReal(YX,(H2E),($89)))local real JDE=(LoadReal(YX,(H2E),(47)))local real JFE=(LoadReal(YX,(H2E),(48)))local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local group g=FYE()local integer MAE=GetUnitAbilityLevel(J6E,1093813812)set x=HRE(x+32*Cos(a))set y=HIE(y+32*Sin(a))if E4E(x,y,JDE,JFE)<40 thenset x=JDEset y=JFEendifcall SetUnitX(J6E,x)call SetUnitY(J6E,y)call SetUnitFacing(J6E,a*bj_RADTODEG)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,125+25,Condition(function K3E))if FirstOfGroup(g)!=null or(x==JDE and y==JFE)or GetTriggerEvalCount(t)>$C8 or GetTriggerEventId()==EVENT_WIDGET_DEATH thencall DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function K3E))set ZQV=MAEset ZPV=J6Eif GetTriggerEventId()!=EVENT_WIDGET_DEATH thencall ForGroup(g,function GYN)endifcall FlushChildHashtable(YX,(H2E))call IRE(t)endifcall FWE(g)set t=nullset J6E=nullset g=nullreturn falseendfunctionfunction G_N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local real JDE=GetSpellTargetX()local real JFE=GetSpellTargetY()local real a=H4E(x,y,JDE,JFE)*bj_DEGTORADlocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterDeathEvent(t,J6E)call TriggerAddCondition(t,Condition(function GZN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveReal(YX,(H2E),($89),((a)*1.))call SaveReal(YX,(H2E),(47),((JDE)*1.))call SaveReal(YX,(H2E),(48),((JFE)*1.))set J6E=nullset t=nullendfunctionfunction G0N takes nothing returns booleanif GetSpellAbilityId()==1093813812 thencall G_N()endifreturn falseendfunctionfunction Register_SonicBoom takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G0N))set t=nullendfunctionfunction G1N takes nothing returns nothinglocal unit J6E=ZSVlocal unit F3E=GetEnumUnit()call KOE(F3E,1093813811,1,$A)call MNE(J6E,F3E,2,50*ZTV+2*GetHeroAgi(J6E,true))set J6E=nullset F3E=nullendfunctionfunction G2N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real G3N=HSE((TimerGetElapsed(K))-(LoadReal(YX,(GetHandleId(J6E)),(358))),5.)local integer MAE=GetUnitAbilityLevel(J6E,1093813573)local real C4O=(40+80*MAE)*(G3N)local group g=FYE()local real d=G3N*600local real a=(LoadReal(YX,(GetHandleId(J6E)),(736)))local real x=GetUnitX(J6E)+d*Cos(a)local real y=GetUnitY(J6E)+d*Sin(a)set I9V=J6Ecall GroupEnumUnitsInRange(g,x,y,325,Condition(function K3E))set ZTV=MAEset ZSV=J6Ecall ForGroup(g,function G1N)call FWE(g)call H1E("effects\\BasicWaterFlash.mdx",x,y,1)set J6E=nullset g=nullendfunctionfunction G4N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F2E=(LoadUnitHandle(YX,(H2E),($E)))call SetUnitTimeScale(F2E,1)call FlushChildHashtable(YX,(H2E))call IRE(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall XIE(F2E)endifset t=nullset F2E=nullreturn falseendfunctionfunction G5N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F2E=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=H4E(GetUnitX(F2E),GetUnitY(F2E),x,y)*bj_DEGTORADlocal real KPX=RMaxBJ(E4E(GetUnitX(F2E),GetUnitY(F2E),x,y)/600,.32)call RemoveLocation(l)call SaveReal(YX,(GetHandleId(F2E)),(356),((x)*1.))call SaveReal(YX,(GetHandleId(F2E)),(357),((y)*1.))call SaveReal(YX,(GetHandleId(F2E)),(736),((a)*1.))call SaveReal(YX,(GetHandleId(F2E)),(358),(((TimerGetElapsed(K)))*1.))call SetUnitTimeScale(F2E,.75)call SaveUnitHandle(YX,(H2E),($E),(F2E))call TriggerRegisterTimerEvent(t,KPX-.01,false)call TriggerRegisterUnitEvent(t,F2E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function G4N))set t=nullset l=nullset F2E=nullendfunctionfunction G6N takes nothing returns booleanif GetSpellAbilityId()==1093813573 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall SaveBoolean(YX,(GetHandleId(GetTriggerUnit())),(360),(false))call G5N()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall SaveBoolean(YX,(GetHandleId(GetTriggerUnit())),(360),(true))elseif(LoadBoolean(YX,(GetHandleId(GetTriggerUnit())),(360))) thencall G2N()endifendifreturn falseendfunctionfunction Register_WindBlast takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_CAST)call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G6N))set t=nullendfunctionfunction G7N takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetUnitAbilityLevel(J6E,1110456374)==0 and GetUnitAbilityLevel(J6E,1110456375)==0 thencall FlushChildHashtable(YX,(H2E))call IRE(t)call UnitRemoveAbility(J6E,1093813810)call UnitRemoveAbility(J6E,1110459959)endifset t=nullset J6E=nullreturn falseendfunctionfunction G8N takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)local unit F3E=GetSpellTargetUnit()call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813810,false)call GKE(F3E,1093813810)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function G7N))call SaveUnitHandle(YX,(H2E),(2),(F3E))set J6E=nullset t=nullendfunctionfunction G9N takes nothing returns booleanif GetSpellAbilityId()==1093813808 thencall G8N()endifreturn falseendfunctionfunction Register_WindBarrier takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G9N))set t=nullendfunctionfunction HVN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=GetUnitAbilityLevel(J6E,1093813813)local integer idlocal integer HENcall FlushChildHashtable(YX,(H2E))call IRE(t)if IsUnitAlly(F3E,GetOwningPlayer(J6E)) thenset HEN=1110459960if MAE==1 thenset id=1093813831elseif MAE==2 thenset id=1093813830elseif MAE==3 thenset id=1093813832endifcall SetUnitState(F3E,UNIT_STATE_LIFE,GetUnitState(F3E,UNIT_STATE_LIFE)+100+50*MAE)elseset HEN=1110459961if MAE==1 thenset id=1093813828elseif MAE==2 thenset id=1093813827elseif MAE==3 thenset id=1093813829endifcall MNE(J6E,F3E,1,100+50*MAE)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(F3E),id,false)call KNE(F3E,id,1,4,HEN)set t=nullset J6E=nullset F3E=nullreturn falseendfunctionfunction HXN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetEnumUnit()local unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call HAX(F3E)call HOX(F3E,0,0)call UnitAddAbility(MIE,1093813833)call IssueTargetOrderById(MIE,$D00B0,F3E)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function HVN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(F3E))set t=nullset J6E=nullset F3E=nullset MIE=nullendfunctionfunction HON takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local real JDE=GetSpellTargetX()local real JFE=GetSpellTargetY()local group g=FYE()call JBE(GetOwningPlayer(J6E),4,JDE,JFE,300)call GroupEnumUnitsInRange(g,JDE,JFE,400+25,Condition(function KUE))call ForGroup(g,function HXN)call FWE(g)set J6E=nullset g=nullendfunctionfunction HRN takes nothing returns booleanif GetSpellAbilityId()==1093813813 thencall HON()endifreturn falseendfunctionfunction Register_PrevailingWinds takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HRN))set t=nullendfunctionfunction HIN takes nothing returns nothinglocal integer H2E=GetHandleId(GetTriggeringTrigger())local unit J6E=I9Vlocal unit F3E=AVVlocal unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local real C4O=GetUnitAbilityLevel(J6E,1093813844)*60+40call UnitAddAbility(MIE,1093813845)call IssueTargetOrderById(MIE,$D008A,F3E)call MNE(J6E,F3E,1,C4O)set MIE=nullset J6E=nullset F3E=nullendfunctionfunction HAN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local group g=FYE()local real x=GetUnitX(J6E)local real y=GetUnitY(J6E)local unit u1=nulllocal unit u2=nulllocal unit u3=nulllocal integer NBN=0local unit ulocal trigger tcall GroupEnumUnitsInRange(g,x,y,425,Condition(function LRE))loopexitwhen FirstOfGroup(g)==null or NBN==3set u=GroupPickRandomUnit(g)if u!=null thenif NBN==0 thenset u1=uelseif NBN==1 thenset u2=uelseif NBN==2 thenset u3=uendifset NBN=NBN+1call GroupRemoveUnit(g,u)endifendloopcall FWE(g)if u1!=null thencall JLE(J6E,u1,1747993690,"HIN",400)endifif u2!=null thencall JLE(J6E,u2,1747993690,"HIN",400)endifif u3!=null thencall JLE(J6E,u3,1747993690,"HIN",400)endifset g=nullset J6E=nullset u=nullset u1=nullset u2=nullset u3=nullendfunctionfunction HNN takes nothing returns booleanif GetSpellAbilityId()==1093813844 thencall HAN()endifreturn falseendfunctionfunction Register_HolyShackles takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HNN))set t=nullendfunctionfunction HBN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local integer NMO=(LoadInteger(YX,(H2E),(30)))local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer DZX=(LoadInteger(YX,(GetHandleId(J6E)),(737)))local trigger HCN=(LoadTriggerHandle(YX,(GetHandleId(J6E)),(738)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==J6E thencall DisableTrigger(t)call FlushChildHashtable(YX,(H2E))call IRE(t)set DZX=DZX-1if DZX==0 thencall FlushChildHashtable(YX,(GetHandleId(HCN)))call IRE(HCN)call RemoveSavedHandle(YX,(GetHandleId(J6E)),(738))call SaveInteger(YX,(GetHandleId(J6E)),(737),(-1))call UnitRemoveAbility(J6E,1093813838)call UnitRemoveAbility(J6E,1110459969)elsecall SaveInteger(YX,(GetHandleId(J6E)),(737),(DZX))endifendifelsecall FlushChildHashtable(YX,(H2E))call IRE(t)endifset t=nullset F3E=nullset J6E=nullset HCN=nullreturn falseendfunctionfunction HDN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit J6E=(LoadUnitHandle(YX,(H2E),(2)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED thencall FlushChildHashtable(YX,(H2E))call IRE(t)call RemoveSavedHandle(YX,(GetHandleId(J6E)),(738))call SaveInteger(YX,(GetHandleId(J6E)),(737),(-1))call UnitRemoveAbility(J6E,1093813838)call UnitRemoveAbility(J6E,1110459969)elseif GetAttacker()==J6E thenset t=CreateTrigger()set H2E=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function HBN))call SaveUnitHandle(YX,(H2E),(2),(J6E))call SaveUnitHandle(YX,(H2E),(17),(GetTriggerUnit()))endifset t=nullset J6E=nullreturn falseendfunctionfunction HFN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(F3E),1093813838,false)call GKE(F3E,1093813838)call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,$C,false)call TriggerAddCondition(t,Condition(function HDN))call SaveUnitHandle(YX,(H2E),(2),(F3E))call SaveInteger(YX,(GetHandleId(F3E)),(737),(GetUnitAbilityLevel(J6E,1093813841)+1))call SaveTriggerHandle(YX,(GetHandleId(F3E)),(738),(t))set F3E=nullset t=nullset J6E=nullendfunctionfunction HGN takes nothing returns booleanif GetSpellAbilityId()==1093813841 thencall HFN()endifreturn falseendfunctionfunction Register_Focus takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HGN))set t=nullendfunctionfunction HHN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer H2E=GetHandleId(t)local unit F3E=(LoadUnitHandle(YX,(H2E),(17)))local integer MAE=(LoadInteger(YX,(H2E),(5)))local unit MIEif GetTriggerEvalCount(t)==1 thenset MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)call UnitAddAbility(MIE,1093813847)call IssueTargetOrderById(MIE,$D0267,F3E)endifif(MAE+3)*$A<GetTriggerEvalCount(t)thencall UnitRemoveAbility(F3E,1110459974)call UnitRemoveAbility(F3E,1098282348)call UnitRemoveAbility(F3E,1093678162)call UnitRemoveAbility(F3E,1096971630)call DestroyEffect((LoadEffectHandle(YX,(H2E),(32))))call FlushChildHashtable(YX,(H2E))call IRE(t)elsecall HAX(F3E)call HOX(F3E,0,0)endifset t=nullset F3E=nullreturn falseendfunctionfunction HJN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer H2E=GetHandleId(t)call GKE(F3E,1098282348)call GKE(F3E,1096971630)call GKE(F3E,1093678162)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function HHN))call SaveInteger(YX,(H2E),(5),(GetUnitAbilityLevel(J6E,1093813836)))call SaveUnitHandle(YX,(H2E),(17),(F3E))call SaveEffectHandle(YX,(H2E),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",F3E,"origin")))call HAX(F3E)call HOX(F3E,0,0)set t=nullset F3E=nullset J6E=nullendfunctionfunction HKN takes nothing returns booleanif GetSpellAbilityId()==1093813836 thencall HJN()endifreturn falseendfunctionfunction Register_DivineIntervention takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HKN))set t=nullendfunctionfunction HLN takes nothing returns nothinglocal unit J6E=GetTriggerUnit()local unit F3E=GetSpellTargetUnit()local unit MIE=CreateUnit(GetOwningPlayer(F3E),1697656901,GetUnitX(F3E),GetUnitY(F3E),0)local integer MAE=GetUnitAbilityLevel(J6E,1093813583)call UnitAddAbility(MIE,1093813584)call IssuePointOrderById(MIE,$D0270,GetUnitX(F3E),GetUnitY(F3E))call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FrozenOrb_NoTrail.mdx",F3E,"chest"))call MNE(J6E,F3E,1,MAE*75)set J6E=nullset MIE=nullset F3E=nullendfunctionfunction HMN takes nothing returns booleanif GetSpellAbilityId()==1093813583 thencall HLN()endifreturn falseendfunctionfunction Register_Chill takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HMN))set t=nullendfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(1),0)call SetPlayerTeam(Player(2),0)call SetPlayerTeam(Player(3),0)call SetPlayerTeam(Player(4),0)call SetPlayerTeam(Player(5),0)call SetPlayerTeam(Player(7),1)call SetPlayerTeam(Player(8),1)call SetPlayerTeam(Player(9),1)call SetPlayerTeam(Player($A),1)call SetPlayerTeam(Player($B),1)endfunctionfunction HPN takes string HQN,string HSN,integer HTN returns integerlocal integer i=HTNlocal string HUN=nullloopexitwhen i==StringLength(HQN)set HUN=SubString(HQN,i,i+1)if(HUN==HSN)thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction HWN takes nothing returns nothinglocal string HYN=GetEventPlayerChatString()local integer HZN=HPN(HYN," ",0)local integer H_N=HPN(HYN," ",HZN+1)local integer H0N=S2I(SubString(HYN,HZN,H_N+1))local string H1N=SubString(HYN,H_N+1,StringLength(HYN))local boolean H2N=falselocal integer i=0set H1N="+"+H1Nif H0N<$C thenloopexitwhen i==$Eif(H1N==GetPlayerName(Player(i)))thenset H2N=trueendifset i=i+1endloopif((not H2N)and(KFV>0)and(GetPlayerController(Player(H0N))==MAP_CONTROL_COMPUTER)and(H0N!=0)and(H0N!=6)and(H0N<$C)and(StringLength(H1N)<20))thencall VYE("Renaming "+GetPlayerName(Player(H0N))+" : "+H1N)set BXV[H0N]=H1Ncall SetPlayerName(Player(H0N),H1N)set KFV=KFV-1endifendifendfunctionfunction H3N takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0loopexitwhen i==$Ecall TriggerRegisterPlayerChatEvent(t,Player(i),"-rn ",false)set i=i+1endloopcall TriggerAddAction(t,function HWN)set t=nullendfunctionfunction H4N takes nothing returns nothingset MMV=CreateRegion()call RegionAddRect(MMV,ZA)set MPV=CreateRegion()call RegionAddRect(MPV,BN)set MQV=CreateRegion()call RegionAddRect(MQV,TN)call RegionAddRect(MQV,UN)call RegionAddRect(MQV,WN)set MSV=CreateRegion()call RegionAddRect(MSV,YN)call RegionAddRect(MSV,ZN)call RegionAddRect(MSV,VB)set ARV=CreateRegion()call RegionAddRect(ARV,GB)call RegionAddRect(ARV,JB)call RegionAddRect(ARV,LB)call RegionAddRect(ARV,QB)call RegionAddRect(ARV,WB)call RegionAddRect(ARV,YB)call RegionAddRect(ARV,VC)call RegionAddRect(ARV,EC)call RegionAddRect(ARV,XC)call RegionAddRect(ARV,OC)call RegionAddRect(ARV,AC)call RegionAddRect(ARV,NC)call RegionAddRect(ARV,BC)call RegionAddRect(ARV,CC)call RegionAddRect(ARV,FC)call RegionAddRect(ARV,GC)call RegionAddRect(ARV,JC)call RegionAddRect(ARV,LC)call RegionAddRect(ARV,PC)call RegionAddRect(ARV,QC)call RegionAddRect(ARV,TC)call RegionAddRect(ARV,YC)call RegionAddRect(ARV,ZC)call RegionAddRect(ARV,ED)call RegionAddRect(ARV,XD)call RegionAddRect(ARV,OD)call RegionAddRect(ARV,AD)call RegionAddRect(ARV,ND)call RegionAddRect(ARV,BD)call RegionAddRect(ARV,FD)call RegionAddRect(ARV,GD)call RegionAddRect(ARV,HD)call RegionAddRect(ARV,LD)call RegionAddRect(ARV,MD)call RegionAddRect(ARV,PD)call RegionAddRect(ARV,QD)call RegionAddRect(ARV,WD)call RegionAddRect(ARV,YD)call RegionAddRect(ARV,ZD)call RegionAddRect(ARV,EF)call RegionAddRect(ARV,XF)call RegionAddRect(ARV,OF)call RegionAddRect(ARV,RF)call RegionAddRect(ARV,NF)call RegionAddRect(ARV,BF)call RegionAddRect(ARV,CF)call RegionAddRect(ARV,FF)call RegionAddRect(ARV,GF)call RegionAddRect(ARV,HF)call RegionAddRect(ARV,JF)call RegionAddRect(ARV,KF)call RegionAddRect(ARV,LF)call RegionAddRect(ARV,MF)call RegionAddRect(ARV,PF)call RegionAddRect(ARV,QF)call RegionAddRect(ARV,SF)call RegionAddRect(ARV,UF)call RegionAddRect(ARV,WF)call RegionAddRect(ARV,YF)call RegionAddRect(ARV,VG)call RegionAddRect(ARV,EG)call RegionAddRect(ARV,XG)call RegionAddRect(ARV,OG)call RegionAddRect(ARV,RG)call RegionAddRect(ARV,AG)call RegionAddRect(ARV,BG)call RegionAddRect(ARV,CG)call RegionAddRect(ARV,DG)call RegionAddRect(ARV,FG)call RegionAddRect(ARV,GG)call RegionAddRect(ARV,JG)call RegionAddRect(ARV,LG)call RegionAddRect(ARV,MG)call RegionAddRect(ARV,PG)call RegionAddRect(ARV,QG)call RegionAddRect(ARV,SG)call RegionAddRect(ARV,TG)call RegionAddRect(ARV,UG)call RegionAddRect(ARV,WG)call RegionAddRect(ARV,ZG)call RegionAddRect(ARV,EH)call RegionAddRect(ARV,XH)call RegionAddRect(ARV,OH)call RegionAddRect(ARV,RH)call RegionAddRect(ARV,AH)call RegionAddRect(ARV,CH)call RegionAddRect(ARV,DH)call RegionAddRect(ARV,HH)call RegionAddRect(ARV,PH)call RegionAddRect(ARV,QH)call RegionAddRect(ARV,UH)call RegionAddRect(ARV,WH)call RegionAddRect(ARV,YH)call RegionAddRect(ARV,ZH)call RegionAddRect(ARV,TJ)endfunctionfunction H5N takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddCondition(t,Condition(function DNA))set t=nullendfunctionfunction H6N takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function DGA))call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set MZV=tset t=nullendfunctionfunction H7N takes nothing returns nothinglocal trigger t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function HUA))set t=nullendfunctionfunction H8N takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,14.,false)call TriggerAddCondition(t,Condition(function ANO))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,false)call TriggerAddCondition(t,Condition(function AIO))set t=nullendfunctionfunction H9N takes nothing returns nothingset MTV=CreateTrigger()call TriggerRegisterTimerEventSingle(MTV,65.)call TriggerAddAction(MTV,function ABO)endfunctionfunction JVN takes nothing returns nothingset MUV=CreateTrigger()call TriggerRegisterTimerEventSingle(MUV,90.)call TriggerAddAction(MUV,function ACO)endfunctionfunction JEN takes nothing returns nothingset IYV=CreateTrigger()call TriggerRegisterTimerEventSingle(IYV,120.)call TriggerAddAction(IYV,function ADO)endfunctionfunction JXN takes nothing returns nothinglocal location POXset POX=GetRectCenter(Qr)set OV=CreateUnitAtLoc(Player($C),1848651852,POX,bj_UNIT_FACING)call SetUnitAcquireRange(OV,$96)call RemoveLocation(POX)call UnitAddItem(OV,CreateItem(BU[VAV],0,0))call UnitAddAbility(OV,1093743666)set POX=GetRectCenter(Br)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(cr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Cr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(fr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Fr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Hr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(jr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Jr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(lr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(mr)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Ni)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=GetRectCenter(Bi)call RemoveUnit(CreateUnitAtLoc(SX,1966092337,POX,0))call RemoveLocation(POX)set POX=nullendfunctionfunction aiAutoInitDEDG takes nothing returns nothingif not PT thencall X6O()endifif not DT thencall X7O()endifendfunctionfunction RWO takes nothing returns nothinglocal integer O5=1local integer JON=0local integer JRN=0local boolean JIN=falselocal boolean JAN=falselocal trigger t=nullcall DestroyTrigger(GetTriggeringTrigger())if T7V thenreturnendifset O5=1loopexitwhen(O5>5 or(QXV!=null and QOV!=null))if(GetPlayerSlotState(RX[O5])==PLAYER_SLOT_STATE_PLAYING)and QXV==null thenset QXV=RX[O5]endifif(GetPlayerSlotState(GX[O5])==PLAYER_SLOT_STATE_PLAYING)and QOV==null thenset QOV=GX[O5]endifset O5=O5+1endloopset O5=1loopexitwhen O5>5if B6E(RX[O5])thenif(JON<3)thenset eY[64+GetPlayerId(RX[O5])]=JONelseif(JON==3)thenset eY[64+GetPlayerId(RX[O5])]=0elseset eY[64+GetPlayerId(RX[O5])]=GetRandomInt(1,2)endifcall ForceAddPlayer(GLV,RX[O5])set JON=JON+1set JIN=trueendifif B6E(GX[O5])thenif(JRN<3)thenset eY[64+GetPlayerId(GX[O5])]=JRNelseif(JRN==3)thenset eY[64+GetPlayerId(GX[O5])]=0elseset eY[64+GetPlayerId(GX[O5])]=GetRandomInt(1,2)endifcall ForceAddPlayer(GLV,GX[O5])set JRN=JRN+1set JAN=trueendifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(B6E(RX[O5]))thencall V_A(RX[O5],JON)endifif(B6E(GX[O5]))thencall V_A(GX[O5],JRN)endifset O5=O5+1endloopif((JIN)or(JAN))thenset O5=1loopexitwhen O5>5if B6E(RX[O5])thencall VZA(RX[O5])endifif B6E(GX[O5])thencall VZA(GX[O5])endifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(B5E(RX[O5]))thenset GGV=RX[O5]if(JIN)thencall DisplayTimedTextToForce(WE,10.,C[GetPlayerId(GGV)]+GetPlayerName(GGV)+" |cffffcc00has been selected as AI leader of |r"+C[0]+GetPlayerName(RX[0])+"|r")call DisplayTimedTextToPlayer(GGV,0,0,10.,"|cffffcc00You can order all ally AI using special commands (read Map Info).")call ZLX(GGV)elseset WZV=falseendifexitwhen trueendifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(B5E(GX[O5]))thenset GHV=GX[O5]if(JAN)thencall DisplayTimedTextToForce(YE,10.,C[GetPlayerId(GHV)]+GetPlayerName(GHV)+" |cffffcc00has been selected as AI leader of |r"+C[6]+GetPlayerName(GX[0])+"|r")call DisplayTimedTextToPlayer(GHV,0,0,10.,"|cffffcc00You can order all ally AI using special commands (read Map Info).")call ZLX(GHV)elseset W_V=falseendifexitwhen trueendifset O5=O5+1endloopif(JIN and GGV==null and GHV!=null)thencall DisplayTimedTextToPlayer(GHV,0,0,10.,"|cffffcc00ADDED ENEMY AI COMMANDS: -osden, -oden, -oaen|r")endifif(JAN and GGV!=null and GHV==null)thencall DisplayTimedTextToPlayer(GGV,0,0,10.,"|cffffcc00ADDED ENEMY AI COMMANDS: -osden, -oden, -oaen|r")endifset U6V=CreateTrigger()call V0A(U6V,true,JIN,JAN)call TriggerAddAction(U6V,function Z_I)set U7V=CreateTrigger()call V0A(U7V,false,JAN,JIN)call TriggerAddAction(U7V,function Z_I)call TriggerAddAction(GPV,function BBI)if((not Q)and(not HFV)and(not ZR)and(not D7V)and(not D8V)and(not IQV)and(not GI)and(not D3V)and(not OR)and(not H0V))thenset t=CreateTrigger()if(GGV!=null)thencall TriggerRegisterPlayerChatEvent(t,GGV,"-airepick",false)call DisplayTimedTextToPlayer(GGV,0,0,10.,"You can make AI repick their hero using "+"|c00dd8dff"+"-airepick|r")endifif(GHV!=null)thencall TriggerRegisterPlayerChatEvent(t,GHV,"-airepick",false)call DisplayTimedTextToPlayer(GHV,0,0,10.,"You can make AI repick their hero using "+"|c00dd8dff"+"-airepick|r")endifcall TriggerAddAction(t,function BNI)endifif(GGV!=null)thenset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,GGV,"-aigrant",false)call TriggerAddAction(t,function V5A)endifif(GHV!=null)thenset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,GHV,"-aigrant",false)call TriggerAddAction(t,function V5A)endifset t=CreateTrigger()call TriggerAddAction(t,function BNI)call DisplayTimedTextToPlayer(GGV,0,0,10.," ")call DisplayTimedTextToPlayer(GHV,0,0,10.," ")if(J8V)thenset J9V[1]=BU[VDV]set J9V[2]=BU[VFV]set J9V[3]=BU[VGV]set J9V[4]=BU[VHV]set J9V[5]=BU[VJV]set KVV[1]=180.set KVV[2]=160.set KVV[3]=140.set KVV[4]=120.set KVV[5]=100.endifcall GXI()set GUV=CreateTrigger()call TriggerRegisterUnitInRange(GUV,NOV,6000.,null)call TriggerAddCondition(GUV,Condition(function HOI))call DisableTrigger(GUV)set GYV=CreateTrigger()call TriggerRegisterTimerEvent(GYV,5.,true)call TriggerAddCondition(GYV,Condition(function HRI))call DisableTrigger(GYV)set GTV=CreateTrigger()call TriggerRegisterUnitInRange(GTV,ACV,6000.,null)call TriggerAddCondition(GTV,Condition(function HII))call DisableTrigger(GTV)set GWV=CreateTrigger()call TriggerRegisterTimerEvent(GWV,5.,true)call TriggerAddCondition(GWV,Condition(function HAI))call DisableTrigger(GWV)set WQV[0]=GetUnitX(ACV)set WQV[1]=GetUnitY(ACV)set WQV[2]=(GetUnitX(ASV)+GetUnitX(A3V)+GetUnitX(A4V))/3set WQV[3]=(GetUnitY(ASV)+GetUnitY(A3V)+GetUnitY(A4V))/3set WQV[4]=(GetUnitX(ATV)+GetUnitX(A5V)+GetUnitX(A8V))/3set WQV[5]=(GetUnitY(ATV)+GetUnitY(A5V)+GetUnitY(A8V))/3set WQV[6]=(GetUnitX(AUV)+GetUnitX(A6V)+GetUnitX(A9V))/3set WQV[7]=(GetUnitY(AUV)+GetUnitY(A6V)+GetUnitY(A9V))/3set WQV[8]=(GetUnitX(AWV)+GetUnitX(A7V)+GetUnitX(NVV))/3set WQV[9]=(GetUnitY(AWV)+GetUnitY(A7V)+GetUnitY(NVV))/3set WQV[24]=GetUnitX(NOV)set WQV[25]=GetUnitY(NOV)set WQV[26]=(GetUnitX(NAV)+GetUnitX(NLV)+GetUnitX(NMV))/3set WQV[27]=(GetUnitY(NAV)+GetUnitY(NLV)+GetUnitY(NMV))/3set WQV[28]=(GetUnitX(NNV)+GetUnitX(NPV)+GetUnitX(NTV))/3set WQV[29]=(GetUnitY(NNV)+GetUnitY(NPV)+GetUnitY(NTV))/3set WQV[30]=(GetUnitX(NBV)+GetUnitX(NQV)+GetUnitX(NUV))/3set WQV[31]=(GetUnitY(NBV)+GetUnitY(NQV)+GetUnitY(NUV))/3set WQV[32]=(GetUnitX(NCV)+GetUnitX(NSV)+GetUnitX(NWV))/3set WQV[33]=(GetUnitY(NCV)+GetUnitY(NSV)+GetUnitY(NWV))/3set O5=0loopexitwhen O5>23set WPV[O5]=nullset WPV[24+O5]=nullset O5=O5+1endloopset t=CreateTrigger()call TriggerRegisterUnitInRange(t,NOV,1200.,G0V)call TriggerAddCondition(t,Condition(function K1I))call TriggerAddAction(t,function K5I)set t=CreateTrigger()call TriggerRegisterUnitInRange(t,ACV,1200.,G0V)call TriggerAddCondition(t,Condition(function K2I))call TriggerAddAction(t,function K5I)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function U3I))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,45.,false)call TriggerAddAction(t,function V4A)set O5=1loopif(IsPlayerInForce(Player(O5),GLV))thenset GZV[O5]=CreateTrigger()call TriggerRegisterPlayerUnitEvent(GZV[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,G0V)call TriggerRegisterPlayerUnitEvent(GZV[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,G0V)call TriggerAddCondition(GZV[O5],Condition(function T5I))call TriggerAddAction(GZV[O5],function T6I)set GZV[16+O5]=CreateTrigger()call TriggerRegisterPlayerUnitEvent(GZV[16+O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,G0V)call TriggerAddCondition(GZV[16+O5],Condition(function T5I))call TriggerAddAction(GZV[16+O5],function UEI)set GZV[96+O5]=CreateTrigger()call DisableTrigger(GZV[96+O5])call TriggerRegisterTimerEvent(GZV[16+O5],.5,true)call TriggerAddCondition(GZV[96+O5],Condition(function AXE))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function K_I))call TriggerAddAction(t,function K0I)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function K6I))call TriggerAddAction(t,function K7I)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,G0V)call TriggerAddCondition(t,Condition(function JRI))call TriggerAddAction(t,function JAI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_USE_ITEM,G0V)call TriggerAddCondition(t,Condition(function N9E))call TriggerAddAction(t,function UXI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function UUI))call TriggerAddAction(t,function UWI)endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,G0V)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,G0V)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,G0V)call TriggerAddCondition(t,Condition(function T4I))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_DEATH,G0V)call TriggerAddCondition(t,Condition(function KZI))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function K9I))call TriggerAddAction(t,function LAI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,G0V)call TriggerAddCondition(t,Condition(function LBI))call TriggerAddAction(t,function LCI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,G0V)call TriggerAddCondition(t,Condition(function BVE))call TriggerAddAction(t,function UNI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_FINISH,G0V)call TriggerAddCondition(t,Condition(function BVE))call TriggerAddAction(t,function UDI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,G0V)call TriggerAddCondition(t,Condition(function BVE))call TriggerAddAction(t,function UGI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,G0V)call TriggerAddCondition(t,Condition(function UTI))call TriggerAddAction(t,function UWI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_CAST,G0V)call TriggerAddCondition(t,Condition(function WGI))call TriggerAddAction(t,function Y2I)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_ENDCAST,G0V)call TriggerAddAction(t,function Y4I)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,G0V)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,G0V)call TriggerAddCondition(t,Condition(function T9I))call TriggerAddAction(t,function UVI)if GetPlayerController(Player(O5))==MAP_CONTROL_USER and(not H0V)thencall RKO(Player(O5),true)call RLO(Player(O5),true)endifendifset O5=O5+1exitwhen O5>$Bendloopset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function LGI))call TriggerAddAction(t,function LLI)call MAI()set t=CreateTrigger()call B6(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function UHI))call TriggerAddAction(t,function UQI)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_DEATH,G0V)call TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_DEATH,G0V)call TriggerAddCondition(t,Condition(function LMI))set t=CreateTrigger()call c6(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerRegisterPlayerUnitEvent(t,Player($C),EVENT_PLAYER_UNIT_ATTACKED,G0V)call TriggerAddCondition(t,Condition(function UHI))call TriggerAddAction(t,function UQI)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,200.,false)call TriggerAddAction(t,function VYA)set YHV=CreateTrigger()call TriggerRegisterTimerEvent(YHV,14.,true)call TriggerAddAction(YHV,function Z3I)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,SX,EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerAddAction(t,function MQI)set FTV=trueset FUV=trueif(((OWE(true)==1)and(OWE(false)>2))or((OWE(true)==2)and(OWE(false)==5)))thenset FYV=$Aelseset FYV=GetRandomInt($B,$F)endifif(((OWE(false)==1)and(OWE(true)>2))or((OWE(false)==2)and(OWE(true)==5)))thenset FWV=$Aelseset FWV=GetRandomInt($B,$F)endifif(EV)thencall D2E(bj_FORCE_ALL_PLAYERS,30.,"
The AI has a system that enables them to simulate Item Drop Mode
They keep a duplicate of dropped items in exchange for their gold")endifelsecall DestroyTrigger(HK)call DestroyTrigger(GMV)call DestroyTrigger(HN)call DestroyTrigger(Ho)call DestroyTrigger(GPV)set GPV=nullcall DestroyTrigger(Hn)call DestroyTrigger(GQV)call ForceClear(GLV)endifif(not DV)thencall DestroyTrigger(DS)endifif(not KT)thencall DestroyTrigger(GSV)endifcall HCE(1093678665)call HCE(1093750089)if IMV!=0 thenset WRV=5/I2R(IMV)endifif IPV!=0 thenset WIV=5/I2R(IPV)endifset t=nullendfunctionfunction main takes nothing returns nothinglocal weathereffect welocal integer ilocal player plocal unit ulocal integer unitIDlocal trigger tlocal real lifelocal integer JXElocal integer JNNlocal version JBNlocal integer NGAlocal real JCNlocal real JDNlocal real JFNlocal real JGNlocal real JHNlocal real JJNlocal real JKNlocal real JLNlocal real JMNlocal real JPNlocal real JQNlocal real JSNlocal real JTNlocal real JUNlocal real JWNlocal real JYNlocal real JZNlocal real J_Nlocal real J0Nlocal real J1Nlocal integer P1Elocal player j8local real J2Nlocal real J3Nlocal real J4Nlocal real J5Nlocal real J6Nlocal real J7Nlocal real J8Nlocal real J9Nlocal real KVNlocal real KENlocal real KXNlocal real KONlocal real KRNlocal real KINlocal real KANlocal real KNNlocal real KBNlocal real KCNlocal real KDNlocal real KFNlocal real KGNlocal real KHNlocal real KJNlocal real KKNlocal location POXlocal region ZUOlocal integer IAElocal integer xlocal integer ycall H3N()call SetCameraBounds(-7552.+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.-GetCameraMargin(CAMERA_MARGIN_TOP),7552.-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")call SetWaterBaseColor(0,0,$FF,$FF)call NewSoundEnvironment("Default")call SetAmbientDaySound("FelwoodDay")call SetAmbientNightSound("FelwoodNight")call SetMapMusic("Music",true,0)set yE=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(yE,"Avatar")call SetSoundDuration(yE,$C7F)set zE=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(zE,"BlinkTarget")call SetSoundDuration(zE,$5BA)call SetSoundPitch(zE,1.6)set vX=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(vX,"BlizzardLoop")call SetSoundDuration(vX,$FA0)set RL=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(RL,"TempleOfTheDamnedWhat")call SetSoundDuration(RL,$DBE)call SetSoundDistanceCutoff(RL,2000.)set AL=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(AL,"Flare2")call SetSoundDuration(AL,$540)call SetSoundDistanceCutoff(AL,2000.)set aX=CreateSound("Sounds\\Dominating.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(aX,$70A)call SetSoundChannel(aX,0)call SetSoundVolume(aX,$7F)call SetSoundPitch(aX,1.)set nX=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(nX,$7DC)call SetSoundChannel(nX,0)call SetSoundVolume(nX,$7F)call SetSoundPitch(nX,1.)set EX=CreateSound("Sounds\\firstblood.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(EX,$61F)call SetSoundChannel(EX,0)call SetSoundVolume(EX,$7F)call SetSoundPitch(EX,1.)set OX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(OX,"GoblinSapperPissed")call SetSoundDuration(OX,$5EB)call SetSoundChannel(OX,0)set AX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(AX,"GoblinSapperYesAttack")call SetSoundDuration(AX,813)call SetSoundChannel(AX,0)set NX=CreateSound("Sounds\\GodLike.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(NX,$724)call SetSoundChannel(NX,0)call SetSoundVolume(NX,$7F)call SetSoundPitch(NX,1.)set bX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(bX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(bX,$79C)set BX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(BX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(BX,$6C5)set cX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(cX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(cX,$DF2)set CX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(CX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(CX,$DF8)set fX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(fX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(fX,$DE6)set kX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(kX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(kX,$2A73)set LX=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(LX,"HeroBladeMasterPissed")call SetSoundDuration(LX,$8BB)set mX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(mX,"HeroDreadLordPissed")call SetSoundDuration(mX,$B69)set MX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(MX,"HeroDreadLordPissed")call SetSoundDuration(MX,7125)set PX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(PX,"HeroDreadLordPissed")call SetSoundDuration(PX,$F9E)set qX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(qX,"HeroDreadLordPissed")call SetSoundDuration(qX,$6BF)set QX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(QX,"HeroDreadLordPissed")call SetSoundDuration(QX,8893)set tX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(tX,"HeroDreadLordPissed")call SetSoundDuration(tX,6066)set TX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(TX,"HeroDreadLordPissed")call SetSoundDuration(TX,$4FD)set uX=CreateSound("Sounds\\HolyShit.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(uX,$915)call SetSoundChannel(uX,0)call SetSoundVolume(uX,$7F)call SetSoundPitch(uX,1.)set UX=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(UX,"MoonWellWhat")call SetSoundDuration(UX,$B9C)call SetSoundDistances(UX,600.,10000.)call SetSoundDistanceCutoff(UX,2000.)set DL=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(DL,"MarkOfChaos")call SetSoundDuration(DL,$FA0)set eO=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(eO,$949)call SetSoundChannel(eO,0)call SetSoundVolume(eO,$7F)call SetSoundPitch(eO,1.)set oO=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(oO,"DeathNightElfBuildingCancel")call SetSoundDuration(oO,$E5B)set rO=CreateSound("Sounds\\MegaKill.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(rO,$A34)call SetSoundChannel(rO,0)call SetSoundVolume(rO,$7F)call SetSoundPitch(rO,1.)set aO=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(aO,"ShadowMeld")call SetSoundDuration(aO,941)set VO=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(VO,$D10)call SetSoundChannel(VO,0)call SetSoundVolume(VO,$7F)call SetSoundPitch(VO,1.)set EO=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(EO,"OgrePissed")call SetSoundDuration(EO,$CED)set XO=CreateSound("Sounds\\Ownage.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(XO,$A1A)call SetSoundChannel(XO,0)call SetSoundVolume(XO,$7F)call SetSoundPitch(XO,1.)set OO=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(OO,"PandarenBrewmasterPissed")call SetSoundDuration(OO,$90C)set AO=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(AO,"PolymorphDone")call SetSoundDuration(AO,$5DA)set NO=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(NO,"TempleOfTidesWhat")call SetSoundDuration(NO,$D9B)call SetSoundDistanceCutoff(NO,2000.)set bO=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(bO,"TombOfRelicsWhat")call SetSoundDuration(bO,$BF9)call SetSoundDistanceCutoff(bO,2000.)set BO=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(BO,"Disenchant")call SetSoundDuration(BO,$7FB)set cO=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(cO,"Rescue")call SetSoundDuration(cO,$ED4)set CO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(CO,"RiflemanPissed")call SetSoundDuration(CO,$C56)set fO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(fO,"RiflemanPissed")call SetSoundDuration(fO,$51A)set FO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(FO,"RiflemanPissed")call SetSoundDuration(FO,$A40)set gO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(gO,"RiflemanPissed")call SetSoundDuration(gO,$EC9)set hO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(hO,"RiflemanPissed")call SetSoundDuration(hO,4168)set HO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(HO,"RiflemanPissed")call SetSoundDuration(HO,$AFA)set kO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(kO,"RiflemanPissed")call SetSoundDuration(kO,4609)set lO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(lO,"RiflemanPissed")call SetSoundDuration(lO,5480)set mO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(mO,"HeroShadowHunterPissed")call SetSoundDuration(mO,$8F5)set pO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(pO,"HeroShadowHunterPissed")call SetSoundDuration(pO,$6FD)set qO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(qO,"HeroShadowHunterPissed")call SetSoundDuration(qO,$8FD)set QO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(QO,"HeroShadowHunterPissed")call SetSoundDuration(QO,$AC0)set tO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(tO,"HeroShadowHunterPissed")call SetSoundDuration(tO,$C39)set UO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(UO,"HeroShadowHunterPissed")call SetSoundDuration(UO,$682)set wO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(wO,"HeroShadowHunterPissed")call SetSoundDuration(wO,$4A3)set WO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(WO,"HeroShadowHunterPissed")call SetSoundDuration(WO,$864)set zO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav",false,true,true,$A,$A,"HeroAcksEAX")call SetSoundParamsFromLabel(zO,"HeroShadowHunterPissed")call SetSoundDuration(zO,$7EA)set vR=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(vR,"Sleep")call SetSoundDuration(vR,$C83)set eR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(eR,"SpellBreakerPissed")call SetSoundDuration(eR,$F3D)set oR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(oR,"SpellBreakerPissed")call SetSoundDuration(oR,$D27)set rR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(rR,"SpellBreakerPissed")call SetSoundDuration(rR,$E43)set aR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(aR,"SpellBreakerPissed")call SetSoundDuration(aR,$9BA)set RR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(RR,"SpellBreakerPissed")call SetSoundDuration(RR,$3842)set bR=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,$A,$A,"MissilesEAX")call SetSoundParamsFromLabel(bR,"DevourMagicLaunch")call SetSoundDuration(bR,$4C9)set BR=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,$A,$A,"MissilesEAX")call SetSoundParamsFromLabel(BR,"BlackArrowHit")call SetSoundDuration(BR,$6F0)call SetSoundVolume(BR,50)set HL=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(HL,"HornOfCenariusSound")call SetSoundDuration(HL,$2F59)call SetSoundVolume(HL,115)set CR=CreateSound("Sounds\\triple_kill.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(CR,$773)call SetSoundChannel(CR,0)call SetSoundVolume(CR,$7F)call SetSoundPitch(CR,1.)set fR=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(fR,$7F6)call SetSoundChannel(fR,0)call SetSoundVolume(fR,$7F)call SetSoundPitch(fR,1.)set LL=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(LL,"DivineShieldDeath")call SetSoundDuration(LL,$413)call SetSoundDistanceCutoff(LL,1500.)set hR=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(hR,"SoulGem")call SetSoundDuration(hR,4474)set HR=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,$A,$A,"DefaultEAXON")call SetSoundDuration(HR,$A34)call SetSoundChannel(HR,0)call SetSoundVolume(HR,$7F)call SetSoundPitch(HR,1.)set JR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(JR,"WitchDoctorPissed")call SetSoundDuration(JR,$502)set lR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(lR,"WitchDoctorPissed")call SetSoundDuration(lR,$4E0)set LR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(LR,"WitchDoctorPissed")call SetSoundDuration(LR,$5F4)set mR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(mR,"WitchDoctorPissed")call SetSoundDuration(mR,$4B0)set pR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(pR,"WitchDoctorPissed")call SetSoundDuration(pR,$ACA)set PR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(PR,"WitchDoctorPissed")call SetSoundDuration(PR,$B21)set qR=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(qR,"GoblinSapperYesAttack")call SetSoundDuration(qR,$443)call SetSoundChannel(qR,0)set QR=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(QR,"ShadowStrikeBirth")call SetSoundDuration(QR,$892)call SetSoundPitch(QR,1.2)set sR=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(sR,"CorrosiveBreathMissileLaunch")call SetSoundDuration(sR,$515)call SetSoundPitch(sR,1.2)set SR=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(SR,"AllyHeroDiesNightElf")call SetSoundDuration(SR,$7AB)call SetSoundVolume(SR,$7F)set UR=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(UR,"AllyHeroDiesUndead")call SetSoundDuration(UR,$78D)call SetSoundVolume(UR,$7F)set WR=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(WR,"ReviveHuman")call SetSoundDuration(WR,$C7C)call SetSoundChannel(WR,8)set zR=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(zR,"SecretFound")call SetSoundDuration(zR,$9DD)set WL=CreateSound("Sounds\\UltraKill.mp3",false,false,false,$A,$A,"")call SetSoundDuration(WL,$7A6)call SetSoundChannel(WL,0)call SetSoundVolume(WL,$7F)call SetSoundPitch(WL,1.)set ZL=CreateSound("Sounds\\Rampage.mp3",false,false,false,$A,$A,"")call SetSoundDuration(ZL,$4AB)call SetSoundChannel(ZL,0)call SetSoundVolume(ZL,$7F)call SetSoundPitch(ZL,1.)set eI=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,$A,$A,"CombatSoundsEAX")call SetSoundParamsFromLabel(eI,"AncestralGuardianAttack1")call SetSoundDuration(eI,$49D)set oI=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(oI,"Feedback")call SetSoundDuration(oI,$4C6)set SM=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(SM,"AbominationPissed")call SetSoundDuration(SM,$6C7)set TM=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(TM,"ArtilleryExplodeDeath")call SetSoundDuration(TM,$5CE)set RI=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(RI,"CryptFiendPissed")call SetSoundDuration(RI,$DD5)set UM=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(UM,"BansheeDeath")call SetSoundDuration(UM,$94C)set LOV=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(LOV,"FlameStrikeTarget")call SetSoundDuration(LOV,$787)set LRV=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(LRV,"VolcanoLoop")call SetSoundDuration(LRV,7616)set LIV=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(LIV,"ThunderClap")call SetSoundDuration(LIV,$D7B)set LAV=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(LAV,"MirrorImage")call SetSoundDuration(LAV,$6DC)set LNV=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(LNV,"CloudOfFogLoop")call SetSoundDuration(LNV,$7F6)call SetSoundPitch(LNV,.9)set LJV=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(LJV,"GyrocopterPissed")call SetSoundDuration(LJV,$F49)set LKV="Sound\\Music\\mp3Music\\Tension.mp3"set LLV="Sound\\Music\\mp3Music\\ArthasTheme.mp3"set LMV="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"set LPV="Sound\\Music\\mp3Music\\NightElfVictory.mp3"set LQV=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(LQV,"SecretFound")call SetSoundDuration(LQV,$9DD)set LSV=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,$A,$A,"")call SetSoundParamsFromLabel(LSV,"Hint")call SetSoundDuration(LSV,$7D6)set M0V=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,$A,$A,"SpellsEAX")call SetSoundDuration(M0V,$53C)call SetSoundChannel(M0V,$B)call SetSoundVolume(M0V,$7F)call SetSoundPitch(M0V,1.)call SetSoundDistances(M0V,600.,10000.)call SetSoundDistanceCutoff(M0V,2000.)call SetSoundConeAngles(M0V,.0,.0,$7F)call SetSoundConeOrientation(M0V,.0,.0,.0)set M1V=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(M1V,"HumanFireLarge")call SetSoundDuration(M1V,$D8F)set M2V=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(M2V,"PhoenixEggWhat")call SetSoundDuration(M2V,$62B)call SetSoundChannel(M2V,0)set Q3V=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Q3V,"BattleRoar")call SetSoundDuration(Q3V,$7C7)set Q4V=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Q4V,"ZigguratUpgradeWhat")call SetSoundDuration(Q4V,4203)call SetSoundDistances(Q4V,600.,10000.)call SetSoundDistanceCutoff(Q4V,3000.)set Q5V=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Q5V,"SpellStealMissileLaunch")call SetSoundDuration(Q5V,$605)set Q6V=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Q6V,"SpellStealTarget")call SetSoundDuration(Q6V,984)set Q7V=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,$A,$A,"DefaultEAXON")call SetSoundParamsFromLabel(Q7V,"AcolyteMining")call SetSoundDuration(Q7V,4233)call SetSoundChannel(Q7V,0)set Q8V=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,$A,$A,"MissilesEAX")call SetSoundParamsFromLabel(Q8V,"DestroyerMissileLaunch")call SetSoundDuration(Q8V,817)set Q9V=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(Q9V,"SpiritTouch")call SetSoundDuration(Q9V,$7FB)call SetSoundChannel(Q9V,$B)set SVV=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,$A,$A,"SpellsEAX")call SetSoundParamsFromLabel(SVV,"FlameStrikeTarget")call SetSoundDuration(SVV,$787)set pH=Rect(6900,-7800,7600,-7000)set go=Rect(6176.,3136.,6400.,3392.)set jo=Rect(3616.,3584.,3872.,3872.)set lo=Rect(2304.,5280.,2752.,5728.)set NA=Rect(6176.,5952.,6624.,6240.)set Qo=Rect(-4224.,-6848.,-3968.,-6592.)set to=Rect(-6304.,-4384.,-6080.,-4224.)set Uo=Rect(-4928.,-5760.,-4736.,-5536.)set wo=Rect(6048.,3424.,6304.,3776.)set zo=Rect(4128.,3776.,4352.,4032.)set er=Rect(2752.,5408.,3040.,5632.)set BA=Rect(-7040.,-6912.,-6688.,-6656.)set ar=Rect(-3648.,-6880.,-3424.,-6688.)set Er=Rect(-6336.,-4224.,-5984.,-3904.)set Xr=Rect(-4896.,-5504.,-4608.,-5184.)set JA=Rect(2912.,-2944.,3104.,-2720.)set QA=Rect(5696.,5504.,7296.,7392.)set WA=Rect(-7680.,-8032.,-6176.,-6240.)set YA=Rect(-2464.,1536.,-2240.,1760.)set Br=Rect(4288.,-2688.,4544.,-2400.)set cr=Rect(-3328.,-416.,-3104.,-96.)set Cr=Rect(1440.,-4096.,1728.,-3872.)set fr=Rect(-4576.,3328.,-4448.,3488.)set Fr=Rect(-3264.,4192.,-2912.,4320.)set Hr=Rect(2848.,-5088.,3072.,-4928.)set jr=Rect(-1824.,2240.,-1472.,2464.)set Jr=Rect(3008.,-3776.,3136.,-3648.)set lr=Rect(1184.,2976.,1280.,3104.)set mr=Rect(-512.,-3648.,-320.,-3520.)set pr=Rect(-7104.,6656.,-6848.,6912.)set qr=Rect(-7104.,6656.,-6880.,6880.)set Qr=Rect(2304.,-672.,2592.,-384.)set Sr=Rect(3872.,-3008.,4928.,-1952.)set Ur=Rect(-3552.,-768.,-2528.,320.)set Wr=Rect(1056.,-5216.,2368.,-3744.)set zr=Rect(-5120.,3008.,-3648.,4320.)set Zr=Rect(-3456.,3808.,-2656.,4864.)set vi=Rect(2272.,-6080.,3776.,-4928.)set ei=Rect(-1888.,2208.,-992.,3040.)set xi=Rect(416.,2624.,1632.,3648.)set oi=Rect(2592.,-4800.,3744.,-3328.)set ai=Rect(-1024.,-3808.,192.,-2752.)set ZA=Rect(-7936.,-7776.,-5920.,-5760.)set BN=Rect(5504.,5184.,7744.,7136.)set Ai=Rect(-800.,3072.,64.,4032.)set Ni=Rect(-384.,3392.,-192.,3520.)set bi=Rect(-1728.,-5056.,-768.,-3840.)set Bi=Rect(-1152.,-4704.,-960.,-4480.)set JN=Rect(-480.,-800.,-256.,-512.)set MN=Rect(2112.,-736.,2752.,-160.)set di=Rect(2112.,-960.,2720.,-640.)set fi=Rect(2112.,-1088.,2720.,-864.)set Fi=Rect(2656.,-1120.,2784.,-416.)set Gi=Rect(2752.,-1248.,2880.,-544.)set Ji=Rect(2848.,-1344.,2912.,-640.)set li=Rect(2912.,-1408.,2976.,-704.)set Li=Rect(2208.,-1216.,2816.,-992.)set pi=Rect(2464.,-1472.,3200.,-1152.)set TN=Rect(-8160.,-8192.,-3712.,-4352.)set UN=Rect(-8192.,-4960.,-4640.,-3552.)set WN=Rect(-4000.,-7744.,-3072.,-5152.)set YN=Rect(2304.,4064.,8032.,7776.)set ZN=Rect(4640.,1952.,8000.,4384.)set VB=Rect(3136.,2816.,5216.,4960.)set GB=Rect(-7968.,5216.,-7456.,5920.)set JB=Rect(-8064.,2880.,-7648.,4512.)set LB=Rect(-3296.,3712.,-2688.,3968.)set QB=Rect(-2400.,2016.,-1952.,2624.)set WB=Rect(-2016.,1600.,-1216.,2048.)set YB=Rect(-2144.,2528.,-1888.,2944.)set VC=Rect(-1280.,1728.,-736.,2176.)set EC=Rect(-1696.,-768.,-1376.,-448.)set XC=Rect(-576.,.0,-352.,256.)set OC=Rect(3104.,-2784.,3680.,-2304.)set AC=Rect(3264.,-3040.,3872.,-2656.)set NC=Rect(4960.,-3104.,5632.,-2816.)set BC=Rect(4896.,-3744.,5280.,-3456.)set CC=Rect(7488.,-3520.,8192.,-2336.)set FC=Rect(6656.,-3328.,7808.,-2656.)set GC=Rect(7104.,-8192.,8192.,-5920.)set JC=Rect(5952.,-8192.,7200.,-7712.)set LC=Rect(7168.,-6240.,8128.,-5184.)set PC=Rect(5824.,-8032.,6400.,-7776.)set QC=Rect(6976.,-6560.,7488.,-5920.)set TC=Rect(-5856.,2944.,-5600.,3200.)set YC=Rect(6784.,-7776.,7264.,-7456.)set ZC=Rect(-8128.,-8192.,5536.,-7744.)set ED=Rect(2368.,-7904.,2688.,-7584.)set XD=Rect(-1664.,-7808.,-1344.,-7552.)set OD=Rect(-2944.,-8192.,-1664.,-7680.)set AD=Rect(-4000.,-8192.,-3168.,-7616.)set ND=Rect(-5760.,-8000.,-5184.,-7584.)set BD=Rect(-3296.,3744.,-3104.,3872.)set FD=Rect(-8192.,-8192.,-6720.,-7744.)set GD=Rect(-8192.,-6432.,-7456.,-4928.)set HD=Rect(-8192.,-8128.,-7904.,8160.)set LD=Rect(-7744.,3936.,-7328.,5600.)set MD=Rect(-7680.,1984.,-6560.,2816.)set PD=Rect(-7776.,1696.,-6944.,2176.)set QD=Rect(-8032.,-3040.,-7680.,-2720.)set WD=Rect(-7904.,-2656.,-7552.,-2336.)set YD=Rect(-3936.,-2720.,-3584.,-2400.)set ZD=Rect(-3168.,-1952.,-2912.,-1696.)set EF=Rect(-4128.,-1632.,-3776.,-1152.)set XF=Rect(-4992.,-1792.,-3968.,-1440.)set OF=Rect(-5536.,-1664.,-4832.,-1280.)set RF=Rect(-2304.,3872.,-2048.,4096.)set NF=Rect(-5664.,-1440.,-5344.,.0)set BF=Rect(-5824.,-1504.,-5472.,-544.)set CF=Rect(-5216.,-1216.,-4480.,-384.)set FF=Rect(-5632.,448.,-5152.,1856.)set GF=Rect(-5856.,1440.,-5248.,2592.)set HF=Rect(-5408.,1888.,-4928.,2368.)set JF=Rect(-5056.,1664.,-4064.,2144.)set KF=Rect(-4320.,1344.,-3808.,1952.)set LF=Rect(-4224.,1440.,-3200.,2016.)set MF=Rect(-2112.,3424.,-1856.,3744.)set PF=Rect(-2400.,640.,-2208.,896.)set QF=Rect(-3392.,640.,-3200.,896.)set SF=Rect(-3744.,-1024.,-3232.,384.)set UF=Rect(-2016.,-5504.,-1664.,-4768.)set WF=Rect(-1760.,-5248.,-1312.,-4800.)set YF=Rect(896.,-3328.,1088.,-3072.)set VG=Rect(2368.,-3808.,2688.,-3360.)set EG=Rect(1952.,-3744.,2208.,-3456.)set XG=Rect(-768.,-1344.,-480.,-1024.)set OG=Rect(1152.,-6560.,1376.,-6272.)set RG=Rect(1216.,-6368.,1504.,-6176.)set AG=Rect(-1376.,-6784.,-1184.,-6528.)set BG=Rect(7616.,-6528.,8192.,8160.)set CG=Rect(7072.,-2304.,7264.,-2048.)set DG=Rect(-7872.,7872.,8192.,8192.)set FG=Rect(1792.,7776.,2112.,8192.)set GG=Rect(-2656.,.0,-2496.,256.)set JG=Rect(-768.,7232.,-416.,7424.)set LG=Rect(-7968.,5472.,-7648.,5792.)set MG=Rect(1120.,7904.,1312.,8160.)set PG=Rect(736.,4480.,1120.,4800.)set QG=Rect(2208.,4928.,2400.,5152.)set SG=Rect(576.,4384.,1120.,4928.)set TG=Rect(2560.,4160.,2784.,4576.)set UG=Rect(-5984.,-3776.,-5504.,-3232.)set WG=Rect(576.,4256.,1024.,4672.)set ZG=Rect(544.,4352.,992.,4768.)set EH=Rect(704.,2496.,1376.,2784.)set XH=Rect(-2240.,1792.,-1856.,2240.)set OH=Rect(-1472.,1472.,-992.,1728.)set RH=Rect(2368.,-3200.,2656.,-2880.)set AH=Rect(2624.,-3584.,2816.,-2848.)set CH=Rect(2464.,-3392.,2656.,-3136.)set DH=Rect(2784.,-3232.,2976.,-2976.)set HH=Rect(2784.,-3424.,2976.,-3168.)set PH=Rect(7328.,7808.,8192.,8192.)set QH=Rect(1984.,7584.,3296.,8192.)set UH=Rect(2240.,7392.,2560.,8192.)set WH=Rect(-1888.,416.,-1696.,576.)set YH=Rect(7776.,2720.,8192.,3648.)set ZH=Rect(5280.,640.,5664.,1184.)set TJ=Rect(-3104.,2720.,-2624.,3232.)set VG=Rect(2816.,-3488.,3008.,-3232.)set EG=Rect(1568.,-2976.,1760.,-2656.)set RH=Rect(2368.,-3264.,2656.,-2944.)set AH=Rect(2624.,-3648.,2816.,-2912.)set CH=Rect(2464.,-3456.,2656.,-3200.)set ZC=Rect(-8192.,-8128.,5472.,-7648.)set eE=Rect(-8192.,-3712.,-7008.,-2144.)set oE=Rect(-3360.,-8192.,-1472.,-7648.)set aE=Rect(-2528.,-7840.,-1696.,-7488.)set nE=Rect(-2336.,-7584.,-1600.,-7456.)set VE=Rect(-8192.,2016.,-6816.,2880.)set EE=Rect(6880.,-3328.,8000.,-2624.)set XE=Rect(3904.,2976.,4160.,3264.)set OE=Rect(2336.,5952.,2592.,6240.)set IE=Rect(6304.,1984.,6560.,2272.)set AE=Rect(-3328.,-6912.,-3072.,-6624.)set bE=Rect(-4384.,-4800.,-4128.,-4512.)set BE=Rect(-6432.,-3840.,-6176.,-3552.)set cE=Rect(-7584.,6176.,-6304.,7552.)set CE=Rect(2208.,-1152.,2720.,-352.)set dE=Rect(2560.,-1440.,2976.,-1024.)set fE=Rect(-1088.,5376.,768.,6624.)set FE=Rect(1600.,1024.,3456.,2432.)set gE=Rect(5504.,-1056.,7200.,512.)set GE=Rect(-6944.,-1792.,-5248.,-224.)set JE=Rect(-1536.,-7424.,640.,-6048.)set lE=Rect(-3328.,-7200.,-2464.,-6368.)set LE=Rect(-4288.,-4544.,-3424.,-3712.)set ME=Rect(-6784.,-3616.,-5920.,-2784.)set pE=Rect(1472.,5440.,2336.,6272.)set PE=Rect(2656.,2336.,3520.,3168.)set qE=Rect(5984.,1152.,6848.,1984.)set QE=Rect(-4128.,-3712.,-2496.,-2272.)set UK=Rect(-8192.,-8128.,-5120.,-5536.)set YK=Rect(4608.,4352.,8192.,8192.)set cz=Rect(3536.,3148.,6248.,5832.)set Cz=Rect(-6348.,-6900.,-3628.,-4480.)set He=Rect(.0,.0,.0,.0)set G0V=nullset iL=Condition(function JBI)set G1V=Condition(function LKI)set ip=Condition(function JCI)set iP=Condition(function LVI)set WSV=Condition(function MTI)set Ha=Location(.0,.0)set HA=Location(.0,.0)set Hb=Location(.0,.0)set HB=Location(.0,.0)set p=Player($F)set UXV=CreateUnit(p,1966092378,7360.,-4416.,270.)call SetUnitColor(UXV,ConvertPlayerColor($C))set UEV=CreateUnit(p,1966092378,-7296.,4224.,270.)call SetUnitColor(UEV,ConvertPlayerColor($C))set I3V=CreateUnit(p,1848657231,-7168.,6464.,270.)call SetUnitColor(I3V,ConvertPlayerColor(0))set wJ=CreateUnit(p,1848652102,-7424.,-6976.,270.)set SJ=CreateUnit(p,1848657231,-7360.,6464.,270.)call SetUnitColor(SJ,ConvertPlayerColor(0))set WJ=CreateUnit(p,1848652102,-7424.,-6592.,270.)set yJ=CreateUnit(p,1848652102,-7424.,-6464.,270.)set qK=CreateUnit(p,1848657231,-7360.,6784.,270.)call SetUnitColor(qK,ConvertPlayerColor(0))set LK=CreateUnit(p,1848657231,-6848.,6784.,270.)call SetUnitColor(LK,ConvertPlayerColor(0))set zJ=CreateUnit(p,1848652102,-7424.,-6720.,270.)set ZJ=CreateUnit(p,1848652102,-7424.,-6848.,270.)set vk=CreateUnit(p,1852206952,-7232.,-7136.,270.)set u=CreateUnit(p,1967339316,3200.,-64.,270.)set cJ=CreateUnit(p,1848657231,-6848.,6464.,270.)call SetUnitColor(cJ,ConvertPlayerColor(0))set FK=CreateUnit(p,1848652102,7040.,6272.,270.)set gK=CreateUnit(p,1848652102,7040.,5888.,270.)set GK=CreateUnit(p,1848652102,7040.,5760.,270.)set JK=CreateUnit(p,1848652102,7040.,6016.,270.)set fK=CreateUnit(p,1848652102,7040.,6144.,270.)set lK=CreateUnit(p,1852073580,6784.,6368.,270.)set gJ=CreateUnit(p,1848657231,-7360.,7104.,270.)call SetUnitColor(gJ,ConvertPlayerColor(0))set PK=CreateUnit(p,1848657231,-7168.,7104.,270.)call SetUnitColor(PK,ConvertPlayerColor(0))set u=CreateUnit(p,1967339316,-4544.,1152.,270.)set tJ=CreateUnit(p,1848657231,-7168.,6784.,270.)call SetUnitColor(tJ,ConvertPlayerColor(0))set Cl=CreateUnit(p,1848657231,-6848.,7104.,270.)call SetUnitColor(Cl,ConvertPlayerColor(0))set URV=CreateUnit(p,1966092592,-7296.,4416.,270.)call SetUnitColor(URV,ConvertPlayerColor($C))set UOV=CreateUnit(p,1966092592,7360.,-4224.,270.)call SetUnitColor(UOV,ConvertPlayerColor($C))set M4V=CreateUnit(p,1848657231,-6656.,7104.,270.)call SetUnitColor(M4V,ConvertPlayerColor(0))set M5V=CreateUnit(p,1848657231,-6656.,6464.,270.)call SetUnitColor(M5V,ConvertPlayerColor(0))set M3V=CreateUnit(p,1848657231,-6656.,6784.,270.)call SetUnitColor(M3V,ConvertPlayerColor(0))set p=Player(0)set ek=CreateUnit(p,1849897784,-7264.,-6880.,270.)call SetUnitColor(ek,ConvertPlayerColor($C))set xk=CreateUnit(p,1848652107,-7264.,-6688.,270.)call SetUnitColor(xk,ConvertPlayerColor($C))set ak=CreateUnit(p,1848651833,-6560.,-6432.,270.)call SetUnitColor(ak,ConvertPlayerColor($C))set LJ=CreateUnit(p,1848651864,-7072.,-6368.,270.)call SetUnitColor(LJ,ConvertPlayerColor(1))set JJ=CreateUnit(p,1848651862,-6816.,-6368.,270.)call SetUnitColor(JJ,ConvertPlayerColor($C))set GJ=CreateUnit(p,1848651863,-7200.,-6432.,270.)call SetUnitColor(GJ,ConvertPlayerColor($C))set dJ=CreateUnit(p,1848651826,-6688.,-6368.,270.)call SetUnitColor(dJ,ConvertPlayerColor($C))set Wk=CreateUnit(p,1697657397,-6624.,-7136.,270.)set ik=CreateUnit(p,1749236021,-6880.,-7136.,270.)call SetUnitColor(ik,ConvertPlayerColor(0))set BJ=CreateUnit(p,1702129516,-5632.,-6144.,270.)set Ak=CreateUnit(p,1697656915,-4448.,-4960.,270.)set bk=CreateUnit(p,1697656915,-5280.,-6112.,270.)set Nk=CreateUnit(p,1697656915,-6368.,-4256.,270.)set Bk=CreateUnit(p,1697656915,-5600.,-5728.,270.)set ck=CreateUnit(p,1700884333,-6080.,-4480.,270.)set Ck=CreateUnit(p,1700884325,-6656.,-4480.,270.)set fk=CreateUnit(p,1700884333,-4416.,-5312.,270.)set Gk=CreateUnit(p,1700884325,-4864.,-4992.,270.)set Fk=CreateUnit(p,1697656915,-3744.,-6816.,270.)set dk=CreateUnit(p,1700884333,-4032.,-7040.,270.)set gk=CreateUnit(p,1700884325,-4032.,-6528.,270.)set lk=CreateUnit(p,1701670775,-5792.,-5408.,270.)set Jk=CreateUnit(p,1701670775,-6624.,-5088.,270.)set jk=CreateUnit(p,1701670775,-5088.,-5536.,270.)set Lk=CreateUnit(p,1701670775,-5344.,-3936.,270.)set pk=CreateUnit(p,1701670775,-5088.,-4576.,270.)set Pk=CreateUnit(p,1701670775,-3936.,-5344.,270.)set qk=CreateUnit(p,1701670775,-4512.,-7072.,270.)set Qk=CreateUnit(p,1701670775,-4896.,-6240.,270.)set Sk=CreateUnit(p,1701670775,-3808.,-5856.,270.)set tk=CreateUnit(p,1701670775,-5472.,-4704.,270.)set Uk=CreateUnit(p,1701670775,-4512.,-5856.,270.)set wk=CreateUnit(p,1700884343,-4544.,-6528.,270.)set Rk=CreateUnit(p,1697656915,-6112.,-1248.,270.)set ok=CreateUnit(p,1700884343,-6080.,-5120.,270.)set Ok=CreateUnit(p,1697656915,-6112.,1568.,270.)set Ek=CreateUnit(p,1697656915,-1504.,-1824.,270.)set Vk=CreateUnit(p,1697656915,-544.,-6688.,270.)set nk=CreateUnit(p,1697656915,4960.,-6752.,270.)set MJ=CreateUnit(p,1697656915,-3488.,-3296.,270.)set dl=CreateUnit(p,1848657989,-6944.,-6368.,270.)call SetUnitColor(dl,ConvertPlayerColor($C))set QJ=CreateUnit(p,1848657989,5920.,6176.,270.)call SetUnitColor(QJ,ConvertPlayerColor($C))set p=Player(1)set zk=CreateUnit(p,1701080930,-6400.,-5696.,270.)set yk=CreateUnit(p,1701080930,-5248.,-6848.,270.)set p=Player(6)set XK=CreateUnit(p,1848651826,5920.,5920.,270.)call SetUnitColor(XK,ConvertPlayerColor($C))set OK=CreateUnit(p,1848651863,5984.,6432.,270.)call SetUnitColor(OK,ConvertPlayerColor($C))set AK=CreateUnit(p,1848651862,5920.,6048.,270.)call SetUnitColor(AK,ConvertPlayerColor($C))set NK=CreateUnit(p,1848651864,5920.,6304.,270.)call SetUnitColor(NK,ConvertPlayerColor(1))set dK=CreateUnit(p,1849897784,6496.,6368.,270.)call SetUnitColor(dK,ConvertPlayerColor($C))set CK=CreateUnit(p,1848652107,6304.,6368.,270.)call SetUnitColor(CK,ConvertPlayerColor($C))set QK=CreateUnit(p,1970496880,4352.,3584.,270.)set BK=CreateUnit(p,1848651833,5984.,5792.,270.)call SetUnitColor(BK,ConvertPlayerColor($C))set cK=CreateUnit(p,1849897781,6816.,5984.,270.)call SetUnitColor(cK,ConvertPlayerColor($C))set bK=CreateUnit(p,1966092369,6816.,5664.,270.)set qJ=CreateUnit(p,1966092365,6048.,-2080.,270.)set PJ=CreateUnit(p,1966092356,6304.,-96.,270.)set ol=CreateUnit(p,1970956647,4384.,4256.,270.)set WK=CreateUnit(p,1970172012,5184.,4864.,220.)set zK=CreateUnit(p,1970564964,3904.,3904.,270.)set ZK=CreateUnit(p,1966092365,1056.,-96.,270.)set vl=CreateUnit(p,1966092356,2528.,1824.,270.)set el=CreateUnit(p,1966092366,3936.,3488.,270.)set xl=CreateUnit(p,1966092372,4832.,4832.,270.)set SK=CreateUnit(p,1966092372,5152.,4512.,270.)set rl=CreateUnit(p,1970956647,3168.,4064.,270.)set al=CreateUnit(p,1970956647,5728.,4000.,270.)set EK=CreateUnit(p,1966092366,2976.,5792.,270.)set VK=CreateUnit(p,1970496880,3392.,5504.,270.)set aK=CreateUnit(p,1970564964,3392.,6080.,270.)set xK=CreateUnit(p,1970956647,4128.,6240.,270.)set eK=CreateUnit(p,1970495856,3968.,5888.,270.)set Vl=CreateUnit(p,1969385326,4992.,5952.,270.)set El=CreateUnit(p,1970956647,2656.,4704.,270.)set Xl=CreateUnit(p,1970956647,5536.,2464.,270.)set Ol=CreateUnit(p,1970956647,4064.,5280.,270.)set Rl=CreateUnit(p,1970956647,3488.,4832.,270.)set Al=CreateUnit(p,1970495856,6400.,3584.,270.)set Nl=CreateUnit(p,1970564964,6080.,2944.,270.)set bl=CreateUnit(p,1970496880,6656.,2880.,270.)set Bl=CreateUnit(p,1966092366,6368.,2528.,270.)set cl=CreateUnit(p,1970956647,5024.,3744.,270.)set vK=CreateUnit(p,1970956647,6880.,3936.,270.)set wK=CreateUnit(p,1969385326,6464.,4608.,270.)set TK=CreateUnit(p,1970956647,4640.,2848.,270.)set HJ=CreateUnit(p,1966092365,-4704.,5920.,270.)set UJ=CreateUnit(p,1966092356,32.,5920.,270.)set p=Player($F)set DJ=CreateUnit(p,1697656900,-6005.1,5458.6,212.15)set lJ=CreateUnit(p,1697656898,-561.7,-651.7,325.6)set FJ=CreateUnit(p,1697656897,5717.5,-6070.9,64.)set fJ=CreateUnit(p,1697656888,-5467.9,-5891.1,307.304)set CJ=CreateUnit(p,1697656881,4901.8,4536.6,212.11)call ConfigureNeutralVictim()set bH=Filter(function BUE)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function L4)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set JXE=0loopexitwhen JXE==16set bj_FORCE_PLAYER[JXE]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[JXE],Player(JXE))set JXE=JXE+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set JXE=0loopexitwhen JXE>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[JXE]=nullset bj_queuedExecUseConds[JXE]=falseset JXE=JXE+1endloopset bj_isSinglePlayer=falseset JNN=0set JXE=0loopexitwhen JXE>=$Cif(GetPlayerController(Player(JXE))==MAP_CONTROL_USER and GetPlayerSlotState(Player(JXE))==PLAYER_SLOT_STATE_PLAYING)thenset JNN=JNN+1endifset JXE=JXE+1endloopset J6V[0]=""set J6V[1]="Razer.CGC.Puppey"set J6V[2]="Razer.CGC.Jolie"set J6V[3]="Razer.CGC.Miracle-"set J6V[4]="DTS|Dendi"set J6V[5]="Razer.CGC.Kuroky"set J6V[6]="Razer.CGC.Levent"set J6V[7]="Razer.CGC.H4nn1"set J6V[8]="Ravens!Smiske"set J6V[9]="Ravens!miGGel"set J6V[$A]="Ravens!AngeL"set J6V[$B]="Ravens!Maelk"set J6V[$C]="Ravens!MaNia-"set J6V[$D]="Ravens!PusHer"set J6V[$E]="[K]Merlini"set J6V[$F]="Demon"set J6V[16]="mO-"set J6V[17]="Fanat1c"set J6V[18]="EG.Fear"set J6V[19]="HiT0Mi"set J6V[20]="DTS|DkPhobos"set J6V[21]="DTS|Moelie"set J6V[22]="DTS|Artstyle"set J6V[23]="DTS|TrAvkAAA"set J6V[24]="DTS|LightOfHeaven"set J6V[25]="DTS|Go[blin]"set J6V[26]="R4gn4roX"set J6V[27]="Mopseen"set J6V[28]="ToTolafleche"set J6V[29]="Odul"set J6V[30]="Ptnbz"set J6V[31]="Dhany"set J6V[32]="SOYCD"set J6V[33]="dmZ^eQuiNOX"set J6V[34]="dmZ^moods"set J6V[35]="dmZ^hexOr"set J6V[36]="[66]Kev.de"set J6V[37]="dmZ^Rene"set J6V[38]="dmZ!Stryke"set J6V[39]="dmZ^Schug"set J6V[40]="Emperor"set J6V[41]="Third_Child"set J6V[42]="DOGKaiser"set J6V[43]="phoX"set J6V[44]="Gix"set J6V[45]="4qmofo"set J6V[46]="Angel"set J6V[47]="Da_SwOOp"set J6V[48]="SuRpR1se"set J6V[49]="OFFak"set J6V[50]="Iacek"set J6V[51]="craNich"set J6V[52]="Tonicek"set J6V[53]="Kog"set J6V[54]="Magma34"set J6V[55]="N3rf"set J6V[56]="kLdz"set J6V[57]="13abyKnight"set J6V[58]="dLxYan"set J6V[59]="Fire"set J6V[60]="Green"set J6V[61]="Opijum"set J6V[62]="Lcf."set J6V[63]="Zep"set J6V[64]="Bane"set J6V[65]="Bigfill"set J6V[66]="Riki"set J6V[67]="Jacob"set J6V[68]="Marian"set J6V[69]="Yrk"set J6V[70]="sExtasY"set J6V[71]="Tayschrenn"set J6V[72]="theCupofteA"set J6V[73]="idef!x"set J6V[74]="kEEper"set J6V[75]="nEKro"set J6V[76]="Tulex"set J6V[77]="Warlog"set J6V[78]="Radge"set J6V[79]="xMusiCa"set J6V[80]="r1sk"set J6V[81]="Toneeh"set J6V[82]="Mr.Escobar"set J6V[83]="Banks"set J6V[84]="Blackshatan"set J6V[85]="TeG-Hyperion"set J6V[86]="TeG-Ly0n"set J6V[87]="TeG-ppasarel"set J6V[88]="Ro-Coco"set J6V[89]="TeG-RMP"set J6V[90]="TeG-jackass"set J6V[91]="NozG"set J6V[92]="lacosteeeee"set J6V[93]="NlKE"set J6V[94]="Swoopie"set J6V[95]="Soundchaosdebug"set J6V[96]="Pajkatt"set J6V[97]="Samurai"set J6V[98]="AMXZAKU"set J6V[99]="merc"set J6V[100]="Zaetr"set J6V[101]="Darksheep-"set J6V[102]="wtfmate"set J6V[103]="SaDJ0KeR"set J6V[104]="Phaselock"set J6V[105]="PleaseBugMeNot"set J6V[106]="changeling"set J6V[107]="Deel"set J6V[108]="xbox619"set J6V[109]="Uncle_Zhuge"set J6V[110]="Thedeath"set J6V[111]="gAmmAlysE"set J6V[112]="Ace_Tobi"set J6V[113]="RisingDemon"set J6V[114]="Harreke"set J6V[115]="cipd"set J6V[116]="Sebra"set J6V[117]="Simple-.-"set J6V[118]="gaibo1"set J6V[119]="Cloud_str"set bj_isSinglePlayer=(JNN==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,$2710,$2710)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,$2710,$2710)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,$2710,$2710)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,$2710,$2710)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,$2710,$2710)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,$2710,$2710)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,$2710,$2710)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,$2710,$2710)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,$2710,$2710)call DelayedSuspendDecayCreate()set JBN=VersionGet()if(JBN==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()call V5()set NGA=0loopset bj_stockAllowedPermanent[NGA]=falseset bj_stockAllowedCharged[NGA]=falseset bj_stockAllowedArtifact[NGA]=falseset NGA=NGA+1exitwhen NGA>$Aendloopcall SetAllItemTypeSlots($B)call SetAllUnitTypeSlots($B)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function NMA)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player($F),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()set i=0set i=0loopexitwhen(i>16)set E[i]=0set V[i]=0set H[i]=0set i=i+1endloopset i=0loopexitwhen(i>100)set v[i]=falseset je[i]=0set i=i+1endloopset i=0loopexitwhen(i>4)set O[i]=0set i=i+1endloopset i=0loopexitwhen(i>2)set P[i]=0set Oe[i]=0set i=i+1endloopset i=0loopexitwhen(i>$C)set C[i]=""set A[i]=CreateTimer()set D[i]=0set J[i]=0set GZ[i]=falseset GZ[256+i]=falseset GZ[272+i]=falseset GZ[304+i]=falseset G0[48+i]=falseset G0[i]=falseset hG[i]=0set eY[80+i]=3set eY[i]=0set h4[i]=nullset hq[288+i]=.0set hq[304+i]=.0set hq[640+i]=.0set hq[656+i]=.0set HC[i]=Location(.0,.0)set HC[16+i]=Location(.0,.0)set HC[32+i]=Location(.0,.0)set HC[48+i]=Location(.0,.0)set HC[256+i]=Location(.0,.0)set h9[i]=nullset h8[i]=nullset eY[$D0+i]=0set eY[$E0+i]=0set eY[$F0+i]=$F423Fset hG[$C0+i]=0set hG[288+i]=0set hq[624+i]=0set U1V[i]=trueset U1V[16+i]=trueset U1V[32+i]=falseset U1V[48+i]=falseset U1V[64+i]=trueset U1V[112+i]=trueset WMV[48+i]=-1set WMV[64+i]=-1set G0[$E0+i]=falseset h8[$90+i]=nullset GZ[$B0+i]=falseset Z8V[i]=0set Z8V[16+i]=0set Z8V[32+i]=0set Z8V[48+i]=0set Z8V[96+i]=0set Z8V[112+i]=0set Z8V[$A0+i]=0set Z8V[$B0+i]=0set Z8V[$F0+i]=0set Z8V[272+i]=0set Z8V[288+i]=0set VVE[48+i]=falseset Z8V[$D0+i]=StringHash("aiBuy|"+I2S(i))set Z8V[$E0+i]=StringHash("aiBuyS|"+I2S(i))set Z8V[256+i]=StringHash("aiBuyBear|"+I2S(i))set Z8V[352+i]=StringHash("aiIt#|"+I2S(i))set Z8V[368+i]=StringHash("aiIt#copy|"+I2S(i))set i=i+1endloopset i=0loopexitwhen(i>$D)set I[i]=falseset G[i]=CreateTimer()set AV[i]=falseset RE[i]=0set KE[i]=0set Be[i]=0set oo[i]=falseset i=i+1endloopset K=CreateTimer()set i=0loopexitwhen(i>1)set F[i]=0set mx[i]=falseset EI[i]=0set eo[i]=falseset i=i+1endloopset NV=$96set av=trueset Ev=trueset Ov=trueset Rv=trueset Av=trueset Nv=trueset bv=trueset Bv=trueset cv=trueset Cv=trueset Dv=trueset fv=trueset FV=3set JV=1set i=0loopexitwhen(i>17)set QV[i]=nullset i=i+1endloopset WE=CreateForce()set YE=CreateForce()set ZO=CreateGroup()set II=CreateForce()set BI=.0set CI=trueset DI=trueset i=0loopexitwhen(i>$E)set Tx[i]=falseset i=i+1endloopset i=0loopexitwhen(i>$F)set IA[i]="Here"set i=i+1endloopcall GGE()set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,true)call TriggerAddCondition(t,Condition(function l8))set t=nullset I4V[0]=falseset I4V[1]=falseset I4V[2]=falseset I4V[3]=falseset I4V[4]=falseset I4V[5]=falseset I4V[6]=falseset I4V[7]=falseset I4V[8]=falseset I4V[9]=falseset I4V[$A]=falseset I4V[$B]=falseset I4V[$C]=falseset I4V[$D]=falseset I4V[$E]=falseset I4V[$F]=falseset I4V[16]=falsecall H4N()call HIX(1110455898)call HIX(1112560453)call HIX(1110455889)call HIX(1112757326)call HIX(1112044643)call HIX(1110458957)call HIX(1110458962)call HIX(1110459185)call HIX(1111844210)call HIX(1110454869)call HIX(1110456133)call HIX(1110459206)call HIX(1110455885)call HIX(1110456142)call HIX(1110456403)call HIX(1110454353)call HIX(1110456114)call HIX(1112891758)call HIX(1110456629)call HIX(1110456371)call HIX(1110454870)call HIX(1110454617)call HIX(1112432994)call HIX(1110456402)call HIX(1110455862)call HIX(1110455113)call HIX(1110455859)call HIX(1113943649)call HIX(1113943655)call HIX(1110455107)call HIX(1110454348)call HIX(1112040289)call HIX(1113813860)call HIX(1110456121)call HIX(1110458961)call HIX(1110458937)call HIX(1114665575)call HIX(1110456397)call HIX(1110454855)call HIX(1110454616)call HIX(1110454596)call HIX(1110456626)call HIX(1110458705)call HIX(1111847784)call HIX(1110454321)call HIX(1110454583)call HIX(1110458693)call HIX(1110458692)call HIX(1110456399)call HIX(1114010223)call HIX(1110454839)call HIX(1110454840)call HIX(1110455624)call HIX(1110458963)call HIX(1113813609)call HIX(1110458950)call HIX(1110458949)call HIX(1110456624)call HIX(1110454328)call HIX(1110455362)call HIX(1110454854)call HIX(1112896368)call HIX(1114993524)call HIX(1110459203)call HIX(1111716457)call HIX(1110455114)call HIX(1111847784)call HIX(1110454321)call HIX(1110458705)call HIX(1113943649)call HIX(1113943655)call HIX(1110456120)call HIX(1113875828)call HIX(1110454356)call HIX(1114860655)call HIX(1112433768)call HIX(1093749828)call HIX(1110459204)call HIX(1093749313)call HIX(1110455347)call HIX(1112436833)call HIX(1110454606)call HIX(1112105826)call HIX(1110455377)call HIX(1110454339)call HIX(1110456651)call HIX(1110455091)call HIX(1110456390)call HIX(1110456389)call HIX(1114664809)call HIX(1110458701)call HIX(1112437348)call HIX(1110454344)call HIX(1112500344)call HIX(1110455110)call HIX(1110454862)call HIX(1110459703)call HIX(1110455876)call HIX(1110458958)call HIX(1110456657)call HIX(1110459465)call HIX(1110458946)call HIX(1110456650)call HIX(1110458694)call HIX(1110456386)call HIX(1110456113)call HIX(1110456398)call HIX(1110454857)call HIX(1110456401)call HIX(1110459186)call HIX(1110455891)call HIX(1110454867)call HIX(1110454871)call HIX(1110455633)call HIX(1110454852)call HIX(1110458969)call HIX(1110454864)call HIX(1110455622)call HIX(1110459728)call HIX(1110459730)call HIX(1110459732)call HIX(1110459982)call HIX(1110459993)call HIX(1110459988)call HIX(1110459994)call HIX(1110460208)call HIX(1110459957)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HCX))set t=nullcall FlushGameCache(InitGameCache("dr.x"))set AIV=InitGameCache("dr.x")set ISV[0]=1093744454set ISV[1]=1093744455set ISV[2]=1093744456set ISV[3]=1093744451set ISV[4]=1093744452set ISV[5]=1093744453set ISV[6]=1093744458set ISV[7]=1093744457set ISV[8]=1093744460set JKV[0]=1093751109set JKV[1]=1093751110set JKV[2]=1093751113set JKV[3]=1093751115set JKV[4]=1093751114set JKV[5]=1093751112set JKV[6]=1093751119set JKV[7]=1093751118set JKV[8]=1093751117set JKV[9]=1093751111set JKV[$A]=1093751121set ITV[0]=1093748555set ITV[1]=1093748556set ITV[2]=1093748554set ITV[3]=1093748560set ITV[4]=1093748557set ITV[5]=1093748558set ITV[6]=1093748559set ITV[7]=1093748553set ITV[8]=1093748561set IUV[0]=1093747533set IUV[1]=1093747531set IUV[2]=1093747526set IUV[3]=1093747529set IUV[4]=1093747527set IUV[5]=1093747528set JI=CreateTrigger()call TriggerAddCondition(JI,Condition(function PVE))set LI[0]=1747990855set SI[0]=50set LI[1]=1747990868set SI[1]=100set LI[2]=1747990854set SI[2]=$96set LI[3]=1747990856set SI[3]=$C8set LI[4]=1747990853set SI[4]=$FAset LI[5]=1747990852set SI[5]=300set LI[6]=1747990851set SI[6]=350set LI[7]=1747990850set SI[7]=400set LI[8]=1747990841set SI[8]=450set LI[9]=1747990849set SI[9]=500set LI[$A]=1747990858set SI[$A]=550set LI[$B]=1747990859set SI[$B]=600set LI[$C]=1747990860set SI[$C]=650set LI[$D]=1747990861set SI[$D]=700set LI[$E]=1747990862set SI[$E]=750set LI[$F]=1747990863set SI[$F]=800set LI[16]=1747990864set SI[16]=850set LI[17]=1747990865set SI[17]=900set LI[18]=1747990866set SI[18]=950set LI[19]=1747990867set SI[19]=$3E8set LI[20]=1747990857set SI[20]=$41Aset LI[21]=1747990874set SI[21]=$44Cset LI[22]=1747990872set SI[22]=$47Eset LI[23]=1747992881set SI[23]=$4B0set LI[24]=1747992882set SI[24]=$4E2set LI[25]=1747992886set SI[25]=$514set LI[26]=1747992883set SI[26]=$546set LI[27]=1747992884set SI[27]=$578set LI[28]=1747990873set SI[28]=$5AAset LI[29]=1747990870set SI[29]=$5DCset LI[30]=1747992880set SI[30]=$60Eset LI[31]=1747990869set SI[31]=$640set LI[32]=1747992902set SI[32]=$672set LI[33]=1747992900set SI[33]=$6A4set LI[34]=1747992901set SI[34]=$6D6set LI[35]=1747992899set SI[35]=$708set LI[36]=1747992898set SI[36]=$73Aset LI[37]=1747992897set SI[37]=$76Cset LI[38]=1747992889set SI[38]=$79Eset LI[39]=1747992903set SI[39]=$7D0set LI[40]=1747992887set SI[40]=$802set LI[41]=1747992911set SI[41]=$834set LI[42]=1747992921set SI[42]=$866set LI[43]=1747992904set SI[43]=$898set LI[44]=1747992905set SI[44]=$8CAset LI[45]=1747992906set SI[45]=$8FCset LI[46]=1747992912set SI[46]=$92Eset LI[47]=1747992913set SI[47]=$960set LI[48]=1747992907set SI[48]=$992set LI[49]=1747992914set SI[49]=$9C4set LI[50]=1747992908set SI[50]=$9F6set LI[51]=1747992915set SI[51]=$A28set LI[52]=1747990871set SI[52]=$A5Aset LI[53]=1747992909set SI[53]=$A8Cset LI[54]=1747992888set SI[54]=$ABEset LI[55]=1747992916set SI[55]=$AF0set LI[56]=1747992917set SI[56]=$B22set LI[57]=1747992910set SI[57]=$B54set LI[58]=1747992918set SI[58]=$B86set LI[59]=1747992919set SI[59]=$BB8set PI[0]=LI[M1E(1)]set PI[1]=LI[M1E(1)]set PI[2]=LI[M1E(1)]set PI[3]=LI[M1E(1)]set PI[4]=LI[M1E(1)]set PI[5]=LI[M1E(1)]set PI[6]=LI[M1E(1)]set PI[7]=LI[M1E(1)]set PI[8]=LI[M1E(1)]set PI[9]=LI[M1E(1)]set PI[$A]=LI[M1E(1)]set PI[$B]=LI[M1E(1)]set PI[$C]=LI[M1E(1)]set PI[$D]=LI[M1E(1)]set PI[$E]=LI[M1E(1)]set YX=InitHashtable()set AAV=Rect(-7040,-7680,7040,7168)call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.)call SuspendTimeOfDay(false)call SetTimeOfDayScale(.5)call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")call SetCreepCampFilterState(true)set vo="Normal Mode"call TimerStart(K,99999.,false,null)set Bo=AddWeatherEffect(bj_mapInitialPlayableArea,1380018290)set bo=AddWeatherEffect(bj_mapInitialPlayableArea,1397645939)set fL=AddWeatherEffect(bj_mapInitialPlayableArea,1280470369)set FL=AddWeatherEffect(bj_mapInitialPlayableArea,1464822903)set RX[0]=Player(0)set RX[1]=Player(1)set RX[2]=Player(2)set RX[3]=Player(3)set RX[4]=Player(4)set RX[5]=Player(5)set GX[0]=Player(6)set GX[1]=Player(7)set GX[2]=Player(8)set GX[3]=Player(9)set GX[4]=Player($A)set GX[5]=Player($B)set SX=Player($C)set WX=Player($F)call SetUnitPathing(fJ,false)call SetUnitPathing(FJ,false)call SetUnitPathing(lJ,false)call SetUnitPathing(DJ,false)call SetUnitPathing(CJ,false)call HVX(CJ,true)call HVX(DJ,true)call HVX(lJ,true)call HVX(FJ,true)call HVX(fJ,true)set Z=GetUnitLoc(CJ)set vv=GetUnitLoc(fJ)set ev=GetUnitLoc(lJ)set ov=GetUnitLoc(DJ)set rv=GetUnitLoc(FJ)set TO=1093678663set YO[1]=vvset YO[2]=ovset YO[3]=evset YO[4]=rvset YO[5]=Zset Jv=GetRectCenter(jo)set lv=GetRectCenter(lo)set Lv=GetRectCenter(go)set mv=GetRectCenter(zo)set qv=GetRectCenter(er)set pv=GetRectCenter(wo)set Qv=GetRectCenter(Xr)set tv=GetRectCenter(Er)set sv=GetRectCenter(ar)set Tv=GetRectCenter(Uo)set Wv=GetRectCenter(to)set Uv=GetRectCenter(Qo)set LV=GetRectCenter(YA)set MV=GetRectCenter(JA)set GR=trueset ANV=GetUnitX(vk)set ABV=GetUnitY(vk)set ML=GetUnitX(ik)set PL=GetUnitY(ik)set QL=GetUnitX(xk)set SL=GetUnitY(xk)set tL=GetUnitX(ek)set TL=GetUnitY(ek)set UL=GetUnitX(Wk)set wL=GetUnitY(Wk)set zL=GetUnitX(JJ)set vm=GetUnitY(JJ)set em=GetUnitX(GJ)set xm=GetUnitY(GJ)set om=GetUnitX(dJ)set rm=GetUnitY(dJ)set im=GetUnitX(LJ)set am=GetUnitY(LJ)set Vm=GetUnitX(ak)set Em=GetUnitY(ak)set Xm=GetUnitX(dl)set Om=GetUnitY(dl)set Am=GetUnitX(BJ)set Nm=GetUnitY(BJ)set bm=GetUnitX(Ok)set Bm=GetUnitY(Ok)set cm=GetUnitX(Ek)set Cm=GetUnitY(Ek)set dm=GetUnitX(nk)set fm=GetUnitY(nk)set Fm=GetUnitX(Rk)set hm=GetUnitY(Rk)set Jm=GetUnitX(MJ)set lm=GetUnitY(MJ)set Mm=GetUnitX(Vk)set pm=GetUnitY(Vk)set Pm=GetUnitX(Nk)set Qm=GetUnitY(Nk)set Tm=GetUnitX(Ak)set Um=GetUnitY(Ak)set wm=GetUnitX(Fk)set Wm=GetUnitY(Fk)set zm=GetUnitX(Bk)set vM=GetUnitY(Bk)set eM=GetUnitX(bk)set oM=GetUnitY(bk)set rM=GetUnitX(ck)set iM=GetUnitY(ck)set aM=GetUnitX(fk)set nM=GetUnitY(fk)set VM=GetUnitX(dk)set XM=GetUnitY(dk)set AM=GetUnitX(Ck)set bM=GetUnitY(Ck)set BM=GetUnitX(Gk)set cM=GetUnitY(Gk)set dM=GetUnitX(gk)set fM=GetUnitY(gk)set gM=GetUnitX(lk)set hM=GetUnitY(lk)set HM=GetUnitX(Jk)set JM=GetUnitY(Jk)set kM=GetUnitX(Lk)set lM=GetUnitY(Lk)set pM=GetUnitX(pk)set sM=GetUnitY(pk)set tM=GetUnitX(Pk)set wM=GetUnitY(Pk)set zM=GetUnitX(jk)set vp=GetUnitY(jk)set ep=GetUnitX(Qk)set op=GetUnitY(Qk)set rp=GetUnitX(Sk)set ap=GetUnitY(Sk)set Vp=GetUnitX(qk)set Ep=GetUnitY(qk)set Xp=GetUnitX(tk)set Rp=GetUnitY(tk)set Ap=GetUnitX(Uk)set bp=GetUnitY(Uk)set Bp=GetUnitX(ok)set cp=GetUnitY(ok)set Cp=GetUnitX(wk)set dp=GetUnitY(wk)set fp=GetUnitX(zk)set Fp=GetUnitY(zk)set gp=GetUnitX(yk)set Hp=GetUnitY(yk)call RemoveUnit(Nk)call RemoveUnit(Ck)call RemoveUnit(ck)call RemoveUnit(Ak)call RemoveUnit(Gk)call RemoveUnit(fk)call RemoveUnit(Fk)call RemoveUnit(gk)call RemoveUnit(dk)call RemoveUnit(ok)call RemoveUnit(wk)call RemoveUnit(BJ)call RemoveUnit(Bk)call RemoveUnit(bk)call RemoveUnit(lk)call RemoveUnit(Jk)call RemoveUnit(Lk)call RemoveUnit(pk)call RemoveUnit(Pk)call RemoveUnit(jk)call RemoveUnit(Qk)call RemoveUnit(Sk)call RemoveUnit(qk)call RemoveUnit(tk)call RemoveUnit(Uk)call RemoveUnit(ak)call RemoveUnit(dl)call RemoveUnit(LJ)call RemoveUnit(dJ)call RemoveUnit(GJ)call RemoveUnit(JJ)call RemoveUnit(xk)call RemoveUnit(ek)call RemoveUnit(vk)call RemoveUnit(ik)call RemoveUnit(Wk)call RemoveUnit(Ok)call RemoveUnit(Ek)call RemoveUnit(nk)call RemoveUnit(Rk)call RemoveUnit(MJ)call RemoveUnit(Vk)call RemoveUnit(zk)call RemoveUnit(yk)set ACV=CreateUnit(RX[0],1852206952,ANV,ABV,270)set ADV=CreateUnit(WX,1749236021,ML,PL,270)set AFV=CreateUnit(WX,1848652107,QL,SL,270)set AGV=CreateUnit(WX,1849897784,tL,TL,270)set AHV=CreateUnit(WX,1697657397,UL,wL,270)set AJV=CreateUnit(WX,1848651862,zL,vm,270)set AKV=CreateUnit(WX,1848651863,em,xm,270)set ALV=CreateUnit(WX,1848651826,om,rm,270)set AMV=CreateUnit(WX,1848651864,im,am,270)set APV=CreateUnit(WX,1848651833,Vm,Em,270)set AQV=CreateUnit(WX,1848657989,Xm,Om,270)set ASV=CreateUnit(RX[0],1702129516,Am,Nm,270)set ATV=CreateUnit(RX[0],1697656914,bm,Bm,90)set AUV=CreateUnit(RX[0],1697656914,cm,Cm,45)set AWV=CreateUnit(RX[0],1697656914,dm,fm,0)set AYV=CreateUnit(RX[0],1697657137,Fm,hm,90)set AZV=CreateUnit(RX[0],1697657137,Jm,lm,45)set A_V=CreateUnit(RX[0],1697657137,Mm,pm,0)set A0V=CreateUnit(RX[0],1697656915,Pm,Qm,90)set A1V=CreateUnit(RX[0],1697656915,Tm,Um,45)set A2V=CreateUnit(RX[0],1697656915,wm,Wm,0)set A3V=CreateUnit(RX[0],1697657145,zm,vM,45)set A4V=CreateUnit(RX[0],1697657145,eM,oM,45)set A5V=CreateUnit(RX[0],1700884333,rM,iM,90)set A6V=CreateUnit(RX[0],1700884333,aM,nM,45)set A7V=CreateUnit(RX[0],1700884333,VM,XM,0)set A8V=CreateUnit(RX[0],1700884325,AM,bM,90)set A9V=CreateUnit(RX[0],1700884325,BM,cM,45)set NVV=CreateUnit(RX[0],1700884325,dM,fM,0)set fP=CreateUnit(RX[0],1701670775,gM,hM,270)set FP=CreateUnit(RX[0],1701670775,HM,JM,270)set lP=CreateUnit(RX[0],1701670775,kM,lM,270)set LP=CreateUnit(RX[0],1701670775,pM,sM,270)set MP=CreateUnit(RX[0],1701670775,tM,wM,270)set pP=CreateUnit(RX[0],1701670775,zM,vp,270)set PP=CreateUnit(RX[0],1701670775,ep,op,270)set qP=CreateUnit(RX[0],1701670775,rp,ap,270)set QP=CreateUnit(RX[0],1701670775,Vp,Ep,270)set sP=CreateUnit(RX[0],1701670775,Xp,Rp,270)set tP=CreateUnit(RX[0],1701670775,Ap,bp,270)set WP=CreateUnit(RX[0],1700884343,Bp,cp,270)set zP=CreateUnit(RX[0],1700884343,Cp,dp,270)set vq=CreateUnit(RX[0],1701080930,fp,Fp,270)set eq=CreateUnit(RX[0],1701080930,gp,Hp,270)set GCV=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(A0V)+800,GetUnitY(A0V)+800)set GDV=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(A1V)+$46C,GetUnitY(A1V)+$46C)set GFV=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(A2V)+800,GetUnitY(A2V)+800)call SetPlayerAbilityAvailable(WX,1098018609,false)call SetUnitColor(ADV,gL)call SetUnitColor(AHV,gL)call SetUnitColor(AGV,JL)call SetUnitColor(AFV,JL)call SetUnitColor(AJV,JL)call SetUnitColor(AKV,JL)call SetUnitColor(ALV,JL)call SetUnitColor(AMV,JL)call SetUnitColor(APV,JL)call HVX(ATV,true)call HVX(AUV,true)call HVX(AWV,true)call HVX(AYV,true)call HVX(AZV,true)call HVX(A_V,true)call HVX(A0V,true)call HVX(A1V,true)call HVX(A2V,true)call HVX(A3V,true)call HVX(A4V,true)call HVX(ASV,true)call HVX(A5V,true)call HVX(A6V,true)call HVX(A7V,true)call HVX(A8V,true)call HVX(A9V,true)call HVX(NVV,true)call HVX(WP,true)call HVX(zP,true)call HVX(vq,true)call HVX(eq,true)call HVX(fP,true)call HVX(FP,true)call HVX(lP,true)call HVX(LP,true)call HVX(MP,true)call HVX(pP,true)call HVX(PP,true)call HVX(qP,true)call HVX(QP,true)call HVX(sP,true)call HVX(tP,true)set NEV=GetUnitX(lK)set NXV=GetUnitY(lK)set rq=GetUnitX(cK)set iq=GetUnitY(cK)set aq=GetUnitX(CK)set Eq=GetUnitY(CK)set Rq=GetUnitX(dK)set Aq=GetUnitY(dK)set Nq=GetUnitX(bK)set bq=GetUnitY(bK)set Bq=GetUnitX(AK)set cq=GetUnitY(AK)set Cq=GetUnitX(OK)set Dq=GetUnitY(OK)set fq=GetUnitX(XK)set Fq=GetUnitY(XK)set Hq=GetUnitX(NK)set jq=GetUnitY(NK)set Jq=GetUnitX(BK)set Mq=GetUnitY(BK)set qq=GetUnitX(QJ)set Qq=GetUnitY(QJ)set Sq=GetUnitX(WK)set tq=GetUnitY(WK)set Uq=GetUnitX(HJ)set zq=GetUnitY(HJ)set Zq=GetUnitX(ZK)set vQ=GetUnitY(ZK)set eQ=GetUnitX(qJ)set xQ=GetUnitY(qJ)set oQ=GetUnitX(UJ)set iQ=GetUnitY(UJ)set aQ=GetUnitX(vl)set EQ=GetUnitY(vl)set OQ=GetUnitX(PJ)set RQ=GetUnitY(PJ)set AQ=GetUnitX(EK)set NQ=GetUnitY(EK)set bQ=GetUnitX(el)set BQ=GetUnitY(el)set cQ=GetUnitX(Bl)set CQ=GetUnitY(Bl)set fQ=GetUnitX(xl)set FQ=GetUnitY(xl)set hQ=GetUnitX(SK)set HQ=GetUnitY(SK)set lQ=GetUnitX(VK)set LQ=GetUnitY(VK)set mQ=GetUnitX(QK)set MQ=GetUnitY(QK)set PQ=GetUnitX(bl)set QQ=GetUnitY(bl)set SQ=GetUnitX(aK)set UQ=GetUnitY(aK)set WQ=GetUnitX(zK)set zQ=GetUnitY(zK)set ZQ=GetUnitX(Nl)set vs=GetUnitY(Nl)set es=GetUnitX(El)set os=GetUnitY(El)set rs=GetUnitX(rl)set as=GetUnitY(rl)set ns=GetUnitX(Rl)set Vs=GetUnitY(Rl)set Es=GetUnitX(xK)set Xs=GetUnitY(xK)set Rs=GetUnitX(Ol)set As=GetUnitY(Ol)set Ns=GetUnitX(ol)set bs=GetUnitY(ol)set Bs=GetUnitX(al)set cs=GetUnitY(al)set Cs=GetUnitX(Xl)set Ds=GetUnitY(Xl)set fs=GetUnitX(cl)set Fs=GetUnitY(cl)set Hs=GetUnitX(vK)set js=GetUnitY(vK)set Js=GetUnitX(TK)set Ks=GetUnitY(TK)set ls=GetUnitX(eK)set Ls=GetUnitY(eK)set ms=GetUnitX(Al)set Ms=GetUnitY(Al)set ps=GetUnitX(Vl)set Ps=GetUnitY(Vl)set Qs=GetUnitX(wK)set Ss=GetUnitY(wK)call RemoveUnit(El)call RemoveUnit(rl)call RemoveUnit(Rl)call RemoveUnit(xK)call RemoveUnit(Ol)call RemoveUnit(ol)call RemoveUnit(al)call RemoveUnit(Xl)call RemoveUnit(cl)call RemoveUnit(vK)call RemoveUnit(TK)call RemoveUnit(HJ)call RemoveUnit(UJ)call RemoveUnit(EK)call RemoveUnit(ZK)call RemoveUnit(vl)call RemoveUnit(el)call RemoveUnit(qJ)call RemoveUnit(PJ)call RemoveUnit(Bl)call RemoveUnit(xl)call RemoveUnit(SK)call RemoveUnit(VK)call RemoveUnit(QK)call RemoveUnit(bl)call RemoveUnit(aK)call RemoveUnit(zK)call RemoveUnit(Nl)call RemoveUnit(eK)call RemoveUnit(Al)call RemoveUnit(Vl)call RemoveUnit(wK)call RemoveUnit(WK)call RemoveUnit(AK)call RemoveUnit(OK)call RemoveUnit(XK)call RemoveUnit(NK)call RemoveUnit(BK)call RemoveUnit(QJ)call RemoveUnit(dK)call RemoveUnit(CK)call RemoveUnit(lK)call RemoveUnit(cK)call RemoveUnit(bK)set NOV=CreateUnit(GX[0],1852073580,NEV,NXV,270)set NRV=CreateUnit(WX,1849897781,rq,iq,270)set zs=CreateUnit(WX,1848652107,aq,Eq,270)set Zs=CreateUnit(WX,1849897784,Rq,Aq,270)set NIV=CreateUnit(WX,1966092369,Nq,bq,270)set eS=CreateUnit(WX,1848651862,Bq,cq,0)set oS=CreateUnit(WX,1848651863,Cq,Dq,0)set rS=CreateUnit(WX,1848651826,fq,Fq,0)set aS=CreateUnit(WX,1848651864,Hq,jq,0)set nS=CreateUnit(WX,1848651833,Jq,Mq,0)set VS=CreateUnit(WX,1848657989,qq,Qq,0)set NAV=CreateUnit(GX[0],1970172012,Sq,tq,$DC)set NNV=CreateUnit(GX[0],1966092365,Uq,zq,270)set NBV=CreateUnit(GX[0],1966092365,Zq,vQ,270)set NCV=CreateUnit(GX[0],1966092365,eQ,xQ,270)set NDV=CreateUnit(GX[0],1966092356,oQ,iQ,270)set NFV=CreateUnit(GX[0],1966092356,aQ,EQ,270)set NGV=CreateUnit(GX[0],1966092356,OQ,RQ,270)set NHV=CreateUnit(GX[0],1966092366,AQ,NQ,270)set NJV=CreateUnit(GX[0],1966092366,bQ,BQ,270)set NKV=CreateUnit(GX[0],1966092366,cQ,CQ,270)set NLV=CreateUnit(GX[0],1966092372,fQ,FQ,270)set NMV=CreateUnit(GX[0],1966092372,hQ,HQ,270)set NPV=CreateUnit(GX[0],1970496880,lQ,LQ,270)set NQV=CreateUnit(GX[0],1970496880,mQ,MQ,270)set NSV=CreateUnit(GX[0],1970496880,PQ,QQ,270)set NTV=CreateUnit(GX[0],1970564964,SQ,UQ,270)set NUV=CreateUnit(GX[0],1970564964,WQ,zQ,270)set NWV=CreateUnit(GX[0],1970564964,ZQ,vs,270)set PS=CreateUnit(GX[0],1970956647,es,os,270)set QS=CreateUnit(GX[0],1970956647,rs,as,270)set SS=CreateUnit(GX[0],1970956647,ns,Vs,270)set tS=CreateUnit(GX[0],1970956647,Es,Xs,270)set TS=CreateUnit(GX[0],1970956647,Rs,As,270)set US=CreateUnit(GX[0],1970956647,Ns,bs,270)set WS=CreateUnit(GX[0],1970956647,Bs,cs,270)set ZS=CreateUnit(GX[0],1970956647,Cs,Ds,270)set vt=CreateUnit(GX[0],1970956647,fs,Fs,270)set et=CreateUnit(GX[0],1970956647,Hs,js,270)set xt=CreateUnit(GX[0],1970956647,Js,Ks,270)set ot=CreateUnit(GX[0],1970495856,ls,Ls,270)set rt=CreateUnit(GX[0],1970495856,ms,Ms,270)set at=CreateUnit(GX[0],1969385326,ps,Ps,270)set Vt=CreateUnit(GX[0],1969385326,Qs,Ss,270)set GAV=Rect(GetUnitX(NHV)-800,GetUnitY(NHV)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))set GNV=Rect(GetUnitX(NJV)-$46C,GetUnitY(NJV)-$46C,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))set GBV=Rect(GetUnitX(NKV)-800,GetUnitY(NKV)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))call SetUnitColor(NRV,hL)call SetUnitColor(Zs,JL)call SetUnitColor(zs,JL)call SetUnitColor(eS,JL)call SetUnitColor(oS,JL)call SetUnitColor(rS,JL)call SetUnitColor(aS,JL)call SetUnitColor(nS,JL)call HVX(NNV,true)call HVX(NBV,true)call HVX(NCV,true)call HVX(NDV,true)call HVX(NFV,true)call HVX(NGV,true)call HVX(NHV,true)call HVX(NJV,true)call HVX(NKV,true)call HVX(NLV,true)call HVX(NMV,true)call HVX(NAV,true)call HVX(NPV,true)call HVX(NQV,true)call HVX(NSV,true)call HVX(NTV,true)call HVX(NUV,true)call HVX(NWV,true)call HVX(ot,true)call HVX(rt,true)call HVX(at,true)call HVX(Vt,true)call HVX(PS,true)call HVX(QS,true)call HVX(SS,true)call HVX(tS,true)call HVX(TS,true)call HVX(US,true)call HVX(WS,true)call HVX(ZS,true)call HVX(vt,true)call HVX(et,true)call HVX(xt,true)set JCN=GetUnitX(wJ)set JDN=GetUnitY(wJ)set JFN=GetUnitX(ZJ)set JGN=GetUnitY(ZJ)set JHN=GetUnitX(zJ)set JJN=GetUnitY(zJ)set JKN=GetUnitX(WJ)set JLN=GetUnitY(WJ)set JMN=GetUnitX(yJ)set JPN=GetUnitY(yJ)set JQN=GetUnitX(FK)set JSN=GetUnitY(FK)set JTN=GetUnitX(fK)set JUN=GetUnitY(fK)set JWN=GetUnitX(JK)set JYN=GetUnitY(JK)set JZN=GetUnitX(gK)set J_N=GetUnitY(gK)set J0N=GetUnitX(GK)set J1N=GetUnitY(GK)set P1E=125call RemoveUnit(wJ)call RemoveUnit(ZJ)call RemoveUnit(zJ)call RemoveUnit(WJ)call RemoveUnit(yJ)call RemoveUnit(FK)call RemoveUnit(fK)call RemoveUnit(JK)call RemoveUnit(gK)call RemoveUnit(GK)set NYV=CreateUnit(Player(1),1852010352,JCN,JDN,270)call UnitAddAbility(NYV,1093743665)call ClearSelectionForPlayer(Player(1))call SelectUnitAddForPlayer(NYV,Player(1))if GetLocalPlayer()==Player(1)thencall SetUnitVertexColor(NYV,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(NYV,$FF,$FF,$FF,P1E)endifset NZV=CreateUnit(Player(2),1852010352,JFN,JGN,270)call UnitAddAbility(NZV,1093743665)call ClearSelectionForPlayer(Player(2))call SelectUnitAddForPlayer(NZV,Player(2))if GetLocalPlayer()==Player(2)thencall SetUnitVertexColor(NZV,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(NZV,$FF,$FF,$FF,P1E)endifset N_V=CreateUnit(Player(3),1852010352,JHN,JJN,270)call UnitAddAbility(N_V,1093743665)call ClearSelectionForPlayer(Player(3))call SelectUnitAddForPlayer(N_V,Player(3))if GetLocalPlayer()==Player(3)thencall SetUnitVertexColor(N_V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N_V,$FF,$FF,$FF,P1E)endifset N0V=CreateUnit(Player(4),1852010352,JKN,JLN,270)call UnitAddAbility(N0V,1093743665)call ClearSelectionForPlayer(Player(4))call SelectUnitAddForPlayer(N0V,Player(4))if GetLocalPlayer()==Player(4)thencall SetUnitVertexColor(N0V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N0V,$FF,$FF,$FF,P1E)endifset N1V=CreateUnit(Player(5),1852010352,JMN,JPN,270)call UnitAddAbility(N1V,1093743665)call ClearSelectionForPlayer(Player(5))call SelectUnitAddForPlayer(N1V,Player(5))if GetLocalPlayer()==Player(5)thencall SetUnitVertexColor(N1V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N1V,$FF,$FF,$FF,P1E)endifset N2V=CreateUnit(Player(7),1852010352,JQN,JSN,270)call UnitAddAbility(N2V,1093752649)call ClearSelectionForPlayer(Player(7))call SelectUnitAddForPlayer(N2V,Player(7))if GetLocalPlayer()==Player(7)thencall SetUnitVertexColor(N2V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N2V,$FF,$FF,$FF,P1E)endifset N3V=CreateUnit(Player(8),1852010352,JTN,JUN,270)call UnitAddAbility(N3V,1093752649)call ClearSelectionForPlayer(Player(8))call SelectUnitAddForPlayer(N3V,Player(8))if GetLocalPlayer()==Player(8)thencall SetUnitVertexColor(N3V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N3V,$FF,$FF,$FF,P1E)endifset N4V=CreateUnit(Player(9),1852010352,JWN,JYN,270)call UnitAddAbility(N4V,1093752649)call ClearSelectionForPlayer(Player(9))call SelectUnitAddForPlayer(N4V,Player(9))if GetLocalPlayer()==Player(9)thencall SetUnitVertexColor(N4V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N4V,$FF,$FF,$FF,P1E)endifset N5V=CreateUnit(Player($A),1852010352,JZN,J_N,270)call UnitAddAbility(N5V,1093752649)call ClearSelectionForPlayer(Player($A))call SelectUnitAddForPlayer(N5V,Player($A))if GetLocalPlayer()==Player($A)thencall SetUnitVertexColor(N5V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N5V,$FF,$FF,$FF,P1E)endifset N6V=CreateUnit(Player($B),1852010352,J0N,J1N,270)call UnitAddAbility(N6V,1093752649)call ClearSelectionForPlayer(Player($B))call SelectUnitAddForPlayer(N6V,Player($B))if GetLocalPlayer()==Player($B)thencall SetUnitVertexColor(N6V,$FF,$FF,$FF,$FF)elsecall SetUnitVertexColor(N6V,$FF,$FF,$FF,P1E)endifset N7V[1]=NYVset N7V[2]=NZVset N7V[3]=N_Vset N7V[4]=N0Vset N7V[5]=N1Vset N7V[7]=N2Vset N7V[8]=N3Vset N7V[9]=N4Vset N7V[$A]=N5Vset N7V[$B]=N6Vset N8V[1]=GetUnitX(NYV)set N8V[2]=GetUnitX(NZV)set N8V[3]=GetUnitX(N_V)set N8V[4]=GetUnitX(N0V)set N8V[5]=GetUnitX(N1V)set N8V[7]=GetUnitX(N2V)set N8V[8]=GetUnitX(N3V)set N8V[9]=GetUnitX(N4V)set N8V[$A]=GetUnitX(N5V)set N8V[$B]=GetUnitX(N6V)set N9V[1]=GetUnitY(NYV)set N9V[2]=GetUnitY(NZV)set N9V[3]=GetUnitY(N_V)set N9V[4]=GetUnitY(N0V)set N9V[5]=GetUnitY(N1V)set N9V[7]=GetUnitY(N2V)set N9V[8]=GetUnitY(N3V)set N9V[9]=GetUnitY(N4V)set N9V[$A]=GetUnitY(N5V)set N9V[$B]=GetUnitY(N6V)call P5E()call QVE()call G6E(1702061422,"stand 4")call G6E(1697656918,"stand 4")call G6E(1701081721,"spell")call G6E(1697656919,"spell")call G6E(1969711215,"stand victory")call G6E(1966092337,"stand victory")call G6E(1970169187,"stand channel")call G6E(1966092338,"stand channel")call G2E(1848651853,.4,1848651853)call G2E(1697657426,.5,1697657426)call G2E(1697657428,1.2,1697657428)call G2E(1697657427,.5,1697657427)call G2E(1697657648,.5,1697657648)call G2E(1848659027,1,1848659027)set t=CreateTrigger()set j8=Player($F)set J2N=GetUnitX(qK)set J3N=GetUnitY(qK)set J4N=GetUnitX(tJ)set J5N=GetUnitY(tJ)set J6N=GetUnitX(LK)set J7N=GetUnitY(LK)set J8N=GetUnitX(SJ)set J9N=GetUnitY(SJ)set KVN=GetUnitX(I3V)set KEN=GetUnitY(I3V)set KXN=GetUnitX(cJ)set KON=GetUnitY(cJ)set KRN=GetUnitX(gJ)set KIN=GetUnitY(gJ)set KAN=GetUnitX(PK)set KNN=GetUnitY(PK)set KBN=GetUnitX(Cl)set KCN=GetUnitY(Cl)set KGN=GetUnitX(M3V)set KHN=GetUnitY(M3V)set KDN=GetUnitX(M5V)set KFN=GetUnitY(M5V)set KJN=GetUnitX(M4V)set KKN=GetUnitY(M4V)call RemoveUnit(qK)call RemoveUnit(I3V)call RemoveUnit(tJ)call RemoveUnit(SJ)call RemoveUnit(LK)call RemoveUnit(cJ)call RemoveUnit(gJ)call RemoveUnit(PK)call RemoveUnit(Cl)call RemoveUnit(M3V)call RemoveUnit(M5V)call RemoveUnit(M4V)set B2V=CreateUnit(j8,1848651832,J8N,J9N,270)set B3V=CreateUnit(j8,1848657738,KVN,KEN,270)set B4V=CreateUnit(j8,1848652100,KXN,KON,270)set B5V=CreateUnit(j8,1848659016,KDN,KFN,270)set B6V=CreateUnit(j8,1848652110,J2N,J3N,270)set B7V=CreateUnit(j8,1848651831,J4N,J5N,270)set B8V=CreateUnit(j8,1848651829,J6N,J7N,270)set B9V=CreateUnit(j8,1848659017,KGN,KHN,270)set CVV=CreateUnit(j8,1848652098,KRN,KIN,270)set CEV=CreateUnit(j8,1848652112,KAN,KNN,270)set CXV=CreateUnit(j8,1848657739,KBN,KCN,270)set COV=CreateUnit(j8,1848659018,KJN,KKN,270)call SetUnitColor(B2V,ConvertPlayerColor(1))call SetUnitColor(B3V,ConvertPlayerColor(1))call SetUnitColor(B4V,ConvertPlayerColor(9))call SetUnitColor(B5V,ConvertPlayerColor(9))call SetUnitColor(B6V,ConvertPlayerColor(6))call SetUnitColor(B7V,ConvertPlayerColor(6))call SetUnitColor(B8V,ConvertPlayerColor($A))call SetUnitColor(B9V,ConvertPlayerColor($A))call SetUnitColor(CVV,ConvertPlayerColor(0))call SetUnitColor(CEV,ConvertPlayerColor(0))call SetUnitColor(CXV,ConvertPlayerColor($B))call SetUnitColor(COV,ConvertPlayerColor($B))set UPV[1]=B2Vset UPV[2]=B3Vset UPV[3]=B4Vset UPV[4]=B5Vset UPV[5]=B6Vset UPV[6]=B7Vset UPV[7]=B8Vset UPV[8]=B9Vset UPV[9]=CVVset UPV[$A]=CEVset UPV[$B]=CXVset UPV[$C]=COVcall OSO()call OQO()set t=nullcall QXE()call QCE()set WI=CreateTrigger()call TriggerRegisterTimerEventSingle(WI,.01)call TriggerAddAction(WI,function QDE)set t=CreateTrigger()call TriggerRegisterPlayerEventLeave(t,RX[1])call TriggerRegisterPlayerEventLeave(t,RX[2])call TriggerRegisterPlayerEventLeave(t,RX[3])call TriggerRegisterPlayerEventLeave(t,RX[4])call TriggerRegisterPlayerEventLeave(t,RX[5])call TriggerRegisterPlayerEventLeave(t,GX[1])call TriggerRegisterPlayerEventLeave(t,GX[2])call TriggerRegisterPlayerEventLeave(t,GX[3])call TriggerRegisterPlayerEventLeave(t,GX[4])call TriggerRegisterPlayerEventLeave(t,GX[5])call TriggerAddAction(t,function QTE)if XR thencall QGE()set t=CreateTrigger()if IsPlayerObserver(BVV)thencall TriggerRegisterPlayerEventLeave(t,BVV)endifif IsPlayerObserver(BEV)thencall TriggerRegisterPlayerEventLeave(t,BEV)endifcall TriggerAddAction(t,function QKE)endifset U2[0]=falseset U2[1]=falseset U2[2]=falseset U2[3]=falseset U2[4]=falseset U2[5]=falseset U2[6]=falseset U2[7]=falseset U2[8]=falseset U2[9]=falseset U2[$A]=falseset U2[$B]=falseset U2[$C]=falseset U2[$D]=falseset U2[$E]=falseset U2[$F]=falseset t=CreateTrigger()call JEE(t,EVENT_PLAYER_HERO_REVIVE_FINISH)call TriggerAddAction(t,function ZBA)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function RKX))call TriggerAddAction(t,function IEX)set CBV=tset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddAction(t,function IAX)call TriggerAddCondition(t,Condition(function IIX))set CDV=tset CFV=CreateTrigger()call TriggerRegisterTimerEvent(CFV,.8,true)call TriggerAddCondition(CFV,Condition(function INX))call DisableTrigger(CFV)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function HGX)set CGV=tcall G6X(0,0,false)call IDX()set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call JEE(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddCondition(t,Condition(function IFX))set t=nullcall HCE(1093809990)call HCE(1093810008)call HCE(1093809992)call HCE(1093810006)call HCE(1093809991)call HCE(1093809993)call HCE(1093809995)call HCE(1093809994)set IQ=CreateTrigger()call TriggerRegisterPlayerUnitEvent(IQ,RX[0],EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(IQ,GX[0],EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(IQ,SX,EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerAddAction(IQ,function IJX)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function C8X))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function D4X))call TriggerAddAction(t,function FXX)set GQ=tset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function F2X))set t=nullset C9V=CreateTrigger()call TriggerAddCondition(C9V,Condition(function F7X))set ZI=CreateTrigger()call TriggerRegisterPlayerUnitEvent(ZI,SX,EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerAddCondition(ZI,Condition(function GXX))call TriggerAddAction(ZI,function GIX)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,RX[0],EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[0],EVENT_PLAYER_UNIT_DEATH,Condition(function BUE))call TriggerAddCondition(t,Condition(function GGX))set t=CreateTrigger()call TriggerAddCondition(t,Condition(function GZX))call TriggerRegisterTimerEvent(t,6,false)set t=nullset PU=PU+1set NU[PU]=1227900486set BU[PU]=1227900487set CU[PU]=0set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"set LU[PU]=0set PU=PU+1set NU[PU]=1227895377set BU[PU]=1227895375set CU[PU]=1747988785set FU[PU]=1227894849set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"set LU[PU]=0set QU=PUset PU=PU+1set NU[PU]=1227895379set BU[PU]=1227895376set CU[PU]=1747988786set FU[PU]=1227899713set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set LU[PU]=0set SU=PUset PU=PU+1set NU[PU]=1227895374set BU[PU]=1227895378set CU[PU]=1747988787set FU[PU]=1227899731set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"set LU[PU]=0set ZU=PUset PU=PU+1set NU[PU]=1227895384set BU[PU]=1227895385set CU[PU]=1747988789set FU[PU]=1227899956set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"set LU[PU]=0set VW=PUset PU=PU+1set NU[PU]=1227895386set BU[PU]=1227895859set CU[PU]=1747988790set FU[PU]=1227899734set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"set LU[PU]=0set EW=PUset PU=PU+1set NU[PU]=1227895600set BU[PU]=1227895860set CU[PU]=1747988791set FU[PU]=1227899954set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"set LU[PU]=0set OW=PUset PU=PU+1set NU[PU]=1227895601set BU[PU]=1227895861set CU[PU]=1747988792set FU[PU]=1227899957set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"set LU[PU]=0set RW=PUset PU=PU+1set NU[PU]=1227895602set BU[PU]=1227895862set CU[PU]=1747988793set FU[PU]=1227899738set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"set LU[PU]=0set NW=PUset PU=PU+1set NU[PU]=1227895603set BU[PU]=1227895863set CU[PU]=1747988801set FU[PU]=1227899959set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"set LU[PU]=0set HW=PUset PU=PU+1set NU[PU]=1227895604set BU[PU]=1227895864set CU[PU]=1747988802set FU[PU]=1227899736set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"set LU[PU]=0set QW=PUset PU=PU+1set NU[PU]=1227895605set BU[PU]=1227895865set CU[PU]=1747988803set FU[PU]=1227899721set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"set LU[PU]=0set TW=PUset PU=PU+1set NU[PU]=1227895606set BU[PU]=1227895873set CU[PU]=1747988804set FU[PU]=1227899720set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"set LU[PU]=0set UW=PUset PU=PU+1set NU[PU]=1227895607set BU[PU]=1227895874set CU[PU]=1747988805set FU[PU]=1227899730set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"set LU[PU]=0set YW=PUset PU=PU+1set NU[PU]=1227895608set BU[PU]=1227895875set CU[PU]=1747988806set FU[PU]=1227899722set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"set LU[PU]=0set ZW=PUset PU=PU+1set NU[PU]=1227895609set BU[PU]=1227895876set CU[PU]=1747988807set FU[PU]=1227899975set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"set LU[PU]=0set GY=PUset PU=PU+1set NU[PU]=1227902291set BU[PU]=1227902290set CU[PU]=0set FU[PU]=1227902292set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"set LU[PU]=0set HY=PUset PU=PU+1set PU=PU+1set NU[PU]=1227895618set BU[PU]=1227895877set CU[PU]=1747988808set FU[PU]=1227899969set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"set LU[PU]=0set SY=PUset PU=PU+1set NU[PU]=1227895619set BU[PU]=1227895878set CU[PU]=1747988809set FU[PU]=1227899729set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"set LU[PU]=0set UY=PUset PU=PU+1set NU[PU]=1227895620set BU[PU]=1227895879set CU[PU]=1747988810set FU[PU]=1227899733set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"set LU[PU]=0set ZY=PUset PU=PU+1set NU[PU]=1227895621set BU[PU]=1227895880set CU[PU]=1747988811set FU[PU]=1227899703set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set LU[PU]=$Eset EZ=PUset PU=PU+1set NU[PU]=1227895621set BU[PU]=1227895881set CU[PU]=1747988811set FU[PU]=1227899976set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set LU[PU]=0set XZ=PUset PU=PU+1set NU[PU]=1227895622set BU[PU]=1227895882set CU[PU]=1747988812set FU[PU]=1227899725set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"set LU[PU]=0set RZ=PUset PU=PU+1set NU[PU]=1227895623set BU[PU]=1227895883set CU[PU]=1747988813set FU[PU]=1227899716set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"set LU[PU]=0set AZ=PUset PU=PU+1set NU[PU]=1227895624set BU[PU]=1227895884set CU[PU]=1747988814set FU[PU]=1227899719set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"set LU[PU]=0set NZ=PUset PU=PU+1set NU[PU]=1227895625set BU[PU]=1227895885set CU[PU]=1747988815set FU[PU]=1227899952set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"set LU[PU]=0set BZ=PUset PU=PU+1set NU[PU]=1227895626set BU[PU]=1227895886set CU[PU]=1747988816set FU[PU]=1227899726set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"set LU[PU]=0set CZ=PUset PU=PU+1set NU[PU]=1227895627set BU[PU]=1227895887set CU[PU]=1747988817set FU[PU]=1227899960set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"set LU[PU]=0set DZ=PUset PU=PU+1set NU[PU]=1227895628set BU[PU]=1227895888set CU[PU]=1747988818set FU[PU]=1227899717set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set LU[PU]=0set HZ=PUset PU=PU+1set NU[PU]=1227895629set BU[PU]=1227895889set CU[PU]=1747988819set FU[PU]=1227899970set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"set LU[PU]=0set E0=PUset PU=PU+1set NU[PU]=1227895630set BU[PU]=1227895890set CU[PU]=1747988820set FU[PU]=1227899724set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"set LU[PU]=0set X0=PUset PU=PU+1set NU[PU]=1227895632set BU[PU]=1227895891set CU[PU]=1747988821set FU[PU]=1227899737set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"set LU[PU]=0set O0=PUset PU=PU+1set NU[PU]=1227895633set BU[PU]=1227895892set CU[PU]=1747988822set FU[PU]=1227899977set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"set LU[PU]=0set R0=PUset PU=PU+1set NU[PU]=1227895634set BU[PU]=1227895893set CU[PU]=1747988823set FU[PU]=1227899735set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"set LU[PU]=0set J0=PUset PU=PU+1set NU[PU]=1227895635set BU[PU]=1227895894set CU[PU]=1747988824set FU[PU]=1227899978set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"set LU[PU]=0set Y0=PUset PU=PU+1set NU[PU]=1227895636set BU[PU]=1227895895set CU[PU]=1747988825set FU[PU]=1227899728set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"set LU[PU]=0set V1=PUset PU=PU+1set NU[PU]=1227895637set BU[PU]=1227895896set CU[PU]=1747988826set FU[PU]=1227899715set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"set LU[PU]=0set E1=PUset PU=PU+1set NU[PU]=1227895638set BU[PU]=1227895897set CU[PU]=1747989040set FU[PU]=1227899701set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"set LU[PU]=0set X1=PUset PU=PU+1set NU[PU]=1227895639set BU[PU]=1227895898set CU[PU]=1747989041set FU[PU]=1227899979set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"set LU[PU]=0set R1=PUset PU=PU+1set NU[PU]=1227895640set BU[PU]=1227896112set CU[PU]=1747989042set FU[PU]=1227899953set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"set LU[PU]=0set A1=PUset PU=PU+1set NU[PU]=1227895617set BU[PU]=1227896113set CU[PU]=1747989043set FU[PU]=1227899961set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set LU[PU]=0set D1=PUset PU=PU+1set NU[PU]=1227901762set BU[PU]=1227901761set CU[PU]=0set FU[PU]=1227901763set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set LU[PU]=0set F1=PUset PU=PU+1set NU[PU]=1227895641set BU[PU]=1227896114set CU[PU]=1747989044set FU[PU]=1227899705set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"set LU[PU]=0set J1=PUset PU=PU+1set NU[PU]=1227895642set BU[PU]=1227896115set CU[PU]=1747989045set FU[PU]=1227899723set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"set LU[PU]=0set P1=PUset PU=PU+1set NU[PU]=1227895856set BU[PU]=1227896116set CU[PU]=1747989046set FU[PU]=1227899980set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"set LU[PU]=0set Q1=PUset PU=PU+1set NU[PU]=1227895857set BU[PU]=1227896117set CU[PU]=1747989047set FU[PU]=1227899958set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"set LU[PU]=0set T1=PUset PU=PU+1set NU[PU]=1227894860set BU[PU]=1227899222set CU[PU]=1747989058set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"set LU[PU]=0set U1=PUset PU=PU+1set NU[PU]=1227896133set BU[PU]=1227899213set CU[PU]=0set FU[PU]=1227899982set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"set LU[PU]=0set E2=PUset PU=PU+1set NU[PU]=1227899221set BU[PU]=1227899214set CU[PU]=0set FU[PU]=1227899983set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"set LU[PU]=0set X2=PUset PU=PU+1set NU[PU]=1227899219set BU[PU]=1227899215set CU[PU]=0set FU[PU]=1227899984set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"set LU[PU]=0set R2=PUset PU=PU+1set NU[PU]=1227899220set BU[PU]=1227899216set CU[PU]=0set FU[PU]=1227899985set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"set LU[PU]=0set F2=PUset PU=PU+1set NU[PU]=1227900759set BU[PU]=1227900761set CU[PU]=0set FU[PU]=1227900979set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"set LU[PU]=0set C3=PUset PU=PU+1set NU[PU]=1227900978set BU[PU]=1227900760set CU[PU]=0set FU[PU]=1227899986set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"set LU[PU]=0set B3=PUset PU=PU+1set NU[PU]=1227900758set BU[PU]=1227900977set CU[PU]=0set FU[PU]=1227900980set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"set LU[PU]=0set R3=PUset PU=PU+1set NU[PU]=1227899218set BU[PU]=1227900976set CU[PU]=0set FU[PU]=1227900982set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"set LU[PU]=0set T2=PUset PU=PU+1set NU[PU]=1227899217set BU[PU]=1227900762set CU[PU]=0set FU[PU]=1227900981set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"set LU[PU]=0set H2=PUset PU=PU+1set NU[PU]=1227900740set BU[PU]=1227900739set CU[PU]=1747990324set FU[PU]=1227900741set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"set LU[PU]=17set H3=PUset PU=PU+1set NU[PU]=1227900995set BU[PU]=1227900994set CU[PU]=0set FU[PU]=1227900993set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"set LU[PU]=17set EKV=PUset PU=PU+1set NU[PU]=1227901012set BU[PU]=1227901010set CU[PU]=1747990359set FU[PU]=1227901014set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set LU[PU]=5set U3=PUset PU=PU+1set NU[PU]=1227901013set BU[PU]=1227901008set CU[PU]=0set FU[PU]=1227901015set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set LU[PU]=5set W3=PUset PU=PU+1set NU[PU]=1227902516set BU[PU]=1227902515set CU[PU]=0set FU[PU]=1227902517set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"set LU[PU]=30set Z3=PUset PU=PU+1set NU[PU]=1227902519set BU[PU]=1227902518set CU[PU]=0set FU[PU]=1227902520set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"set LU[PU]=30set V4=PUset PU=PU+1set NU[PU]=1227901495set BU[PU]=1227901494set CU[PU]=1747990579set FU[PU]=1227901496set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"set LU[PU]=0set Y3=PUset PU=PU+1set NU[PU]=1227901514set BU[PU]=1227901513set CU[PU]=1747990583set FU[PU]=1227901515set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"set LU[PU]=30set EUV=PUset PU=PU+1set NU[PU]=1227902273set BU[PU]=1227902265set CU[PU]=1747993421set FU[PU]=1227902274set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set LU[PU]=0set X4V=PUset PU=PU+1set NU[PU]=1227902276set BU[PU]=1227902277set CU[PU]=0set FU[PU]=1227902275set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set LU[PU]=0set X5V=PUset PU=PU+1set NU[PU]=1227896119set BU[PU]=1227896131set CU[PU]=1747989057set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"set LU[PU]=0set C5=PUset PU=PU+1set NU[PU]=1227895858set BU[PU]=1227896132set CU[PU]=1747989048set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"set LU[PU]=0set A5=PUset PU=PU+1set NU[PU]=1227901007set BU[PU]=1227901006set CU[PU]=1747990358set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"set LU[PU]=0set N5=PUset PU=PU+1set NU[PU]=1227896118set BU[PU]=1227896134set CU[PU]=1747989049set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"set LU[PU]=0set B5=PUset PU=PU+1set NU[PU]=1227896120set BU[PU]=1227896135set CU[PU]=1747989059set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"set LU[PU]=0set F5=PUset PU=PU+1set NU[PU]=1227896121set BU[PU]=1227896136set CU[PU]=1747989060set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"set LU[PU]=0set G5=PUset PU=PU+1set NU[PU]=1227896129set BU[PU]=1227896137set CU[PU]=1747989061set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set LU[PU]=0set J5=PUset PU=PU+1set NU[PU]=1227896130set BU[PU]=1227896138set CU[PU]=1747989062set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"set LU[PU]=0set M5=PUset PU=PU+1set NU[PU]=1227899440set BU[PU]=1227899441set CU[PU]=0set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"set LU[PU]=0set S5=PUset PU=PU+1set NU[PU]=1227900743set BU[PU]=1227900742set CU[PU]=1747990325set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"set LU[PU]=30set T5=PUset PU=PU+1set NU[PU]=1227900745set BU[PU]=1227900744set CU[PU]=1747990326set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"set LU[PU]=60set W5=PUset PU=PU+1set NU[PU]=1227901780set BU[PU]=1227901779set CU[PU]=1747993145set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"set LU[PU]=0set V6=PUset PU=PU+1set NU[PU]=1227902534set BU[PU]=1227902535set CU[PU]=1747993651set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"set LU[PU]=90set E6=PUset PU=PU+1set NU[PU]=1227896369set BU[PU]=1227896370set CU[PU]=0set FU[PU]=1227895114set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"set LU[PU]=0set H6=PUset PU=PU+1set NU[PU]=1227896372set BU[PU]=1227896371set CU[PU]=0set FU[PU]=1227895115set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"set LU[PU]=0set W6=PUset PU=PU+1set NU[PU]=1227896373set BU[PU]=1227896374set CU[PU]=0set FU[PU]=1227895116set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"set LU[PU]=25set E7=PUset PU=PU+1set NU[PU]=1227896376set BU[PU]=1227896375set CU[PU]=0set FU[PU]=1227895117set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"set LU[PU]=0set X7=PUset PU=PU+1set NU[PU]=1227896377set BU[PU]=1227896385set CU[PU]=0set FU[PU]=1227899702set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"set LU[PU]=0set O7=PUset PU=PU+1set NU[PU]=1227896387set BU[PU]=1227896386set CU[PU]=0set FU[PU]=1227895120set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"set LU[PU]=60set A7=PUset PU=PU+1set NU[PU]=1227895631set BU[PU]=1227895380set CU[PU]=0set FU[PU]=1227895122set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"set LU[PU]=0set B7=PUset PU=PU+1set NU[PU]=1227895381set BU[PU]=1227896153set CU[PU]=0set FU[PU]=1227895121set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"set LU[PU]=0set C7=PUset PU=PU+1set NU[PU]=1227896368set BU[PU]=1227896154set CU[PU]=0set FU[PU]=1227895123set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"set LU[PU]=0set D7=PUset PU=PU+1set NU[PU]=1227896389set BU[PU]=1227896388set CU[PU]=0set FU[PU]=1227895124set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"set LU[PU]=100set F7=PUset PU=PU+1set NU[PU]=1227902543set BU[PU]=1227902542set CU[PU]=0set FU[PU]=1227902544set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"set LU[PU]=100set G7=PUset PU=PU+1set NU[PU]=1227896391set BU[PU]=1227896390set CU[PU]=0set FU[PU]=1227895125set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"set LU[PU]=0set L7=PUset PU=PU+1set NU[PU]=1227896393set BU[PU]=1227896392set CU[PU]=0set FU[PU]=1227895126set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"set LU[PU]=0set M7=PUset PU=PU+1set NU[PU]=1227896395set BU[PU]=1227896394set CU[PU]=0set FU[PU]=1227895127set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"set LU[PU]=0set P7=PUset PU=PU+1set NU[PU]=1227896397set BU[PU]=1227896396set CU[PU]=0set FU[PU]=1227895128set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"set LU[PU]=0set T7=PUset PU=PU+1set NU[PU]=1227896902set BU[PU]=1227896903set CU[PU]=0set FU[PU]=1227895129set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"set LU[PU]=0set U7=PUset PU=PU+1set NU[PU]=1227896905set BU[PU]=1227896904set CU[PU]=0set FU[PU]=1227895130set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"set LU[PU]=0set W7=PUset PU=PU+1set NU[PU]=1227896906set BU[PU]=1227896907set CU[PU]=0set FU[PU]=1227895344set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"set LU[PU]=0set Y7=PUset PU=PU+1set NU[PU]=1227896909set BU[PU]=1227896908set CU[PU]=0set FU[PU]=1227899704set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"set LU[PU]=0set Z7=PUset PU=PU+1set NU[PU]=1227896910set BU[PU]=1227896911set CU[PU]=0set FU[PU]=1227895345set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"set LU[PU]=22set V8=PUset PU=PU+1set NU[PU]=1227896913set BU[PU]=1227896912set CU[PU]=0set FU[PU]=1227895346set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"set LU[PU]=0set E8=PUset PU=PU+1set NU[PU]=1227896915set BU[PU]=1227896914set CU[PU]=0set FU[PU]=1227895347set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"set LU[PU]=$Cset X8=PUset PU=PU+1set NU[PU]=1227901506set BU[PU]=1227901497set CU[PU]=0set FU[PU]=1227901508set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"set LU[PU]=$Cset O8=PUset PU=PU+1set NU[PU]=1227900247set BU[PU]=1227900246set CU[PU]=0set FU[PU]=1227900248set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"set LU[PU]=0set R8=PUset PU=PU+1set NU[PU]=1227901507set BU[PU]=1227901505set CU[PU]=0set FU[PU]=1227901509set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"set LU[PU]=0set A8=PUset PU=PU+1set NU[PU]=1227896917set BU[PU]=1227896916set CU[PU]=0set FU[PU]=1227895348set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"set LU[PU]=300set N8=PUset PU=PU+1set NU[PU]=1227896919set BU[PU]=1227896918set CU[PU]=0set FU[PU]=1227899727set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"set LU[PU]=0set B8=PUset PU=PU+1set NU[PU]=1227896920set BU[PU]=1227896921set CU[PU]=0set FU[PU]=1227895349set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"set LU[PU]=22set C8=PUset PU=PU+1set NU[PU]=1227897136set BU[PU]=1227896922set CU[PU]=0set FU[PU]=1227895350set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"set LU[PU]=30set D8=PUset PU=PU+1set NU[PU]=1227897138set BU[PU]=1227897137set CU[PU]=0set FU[PU]=1227895351set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"set LU[PU]=0set F8=PUset PU=PU+1set NU[PU]=1227897140set BU[PU]=1227897139set CU[PU]=0set FU[PU]=1227895352set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"set LU[PU]=45set G8=PUset PU=PU+1set NU[PU]=1227897142set BU[PU]=1227897141set CU[PU]=0set FU[PU]=1227895353set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"set LU[PU]=0set L8=PUset PU=PU+1set NU[PU]=1227897144set BU[PU]=1227897143set CU[PU]=0set FU[PU]=1227895361set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"set LU[PU]=0set W8=PUset PU=PU+1set NU[PU]=1227897153set BU[PU]=1227897145set CU[PU]=0set FU[PU]=1227895362set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"set LU[PU]=0set Y8=PUset PU=PU+1set NU[PU]=1227897154set BU[PU]=1227897155set CU[PU]=0set FU[PU]=1227895363set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"set LU[PU]=0set Z8=PUset PU=PU+1set NU[PU]=1227900722set BU[PU]=1227900506set CU[PU]=0set FU[PU]=1227900728set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=80set VVV=PUset PU=PU+1set NU[PU]=1227900726set BU[PU]=1227900720set CU[PU]=0set FU[PU]=1227900729set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=75set VEV=PUset PU=PU+1set NU[PU]=1227897157set BU[PU]=1227900505set CU[PU]=0set FU[PU]=1227900727set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=70set VXV=PUset PU=PU+1set NU[PU]=1227900725set BU[PU]=1227900499set CU[PU]=0set FU[PU]=1227895364set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=65set VOV=PUset PU=PU+1set NU[PU]=1227900723set BU[PU]=1227897156set CU[PU]=0set FU[PU]=1227900738set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=60set VRV=PUset PU=PU+1set NU[PU]=1227900724set BU[PU]=1227900721set CU[PU]=0set FU[PU]=1227900737set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set LU[PU]=55set VIV=PUset PU=PU+1set NU[PU]=1227899224set BU[PU]=1227899223set CU[PU]=0set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"set LU[PU]=0set VAV=PUset PU=PU+1set NU[PU]=1227897159set BU[PU]=1227897158set CU[PU]=0set FU[PU]=1227895365set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"set LU[PU]=35set VNV=PUset PU=PU+1set NU[PU]=1227902294set BU[PU]=1227902293set CU[PU]=0set FU[PU]=1227902295set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"set LU[PU]=50set VBV=PUset PU=PU+1set NU[PU]=1227897161set BU[PU]=1227897160set CU[PU]=0set FU[PU]=1227895366set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"set LU[PU]=22set VCV=PUset PU=PU+1set NU[PU]=1227897163set BU[PU]=1227897165set CU[PU]=0set FU[PU]=1227895111set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set LU[PU]=40set VDV=PUset PU=PU+1set NU[PU]=1227897162set BU[PU]=1227897168set CU[PU]=0set FU[PU]=1227895367set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set LU[PU]=36set VFV=PUset PU=PU+1set NU[PU]=1227897169set BU[PU]=1227897166set CU[PU]=0set FU[PU]=1227899971set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set LU[PU]=32set VGV=PUset PU=PU+1set NU[PU]=1227897171set BU[PU]=1227897167set CU[PU]=0set FU[PU]=1227899972set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set LU[PU]=28set VHV=PUset PU=PU+1set NU[PU]=1227897170set BU[PU]=1227897164set CU[PU]=0set FU[PU]=1227899955set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set LU[PU]=24set VJV=PUset PU=PU+1set NU[PU]=1227897173set BU[PU]=1227897172set CU[PU]=0set FU[PU]=1227895368set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"set LU[PU]=90set VKV=PUset PU=PU+1set NU[PU]=1227897174set BU[PU]=1227897176set CU[PU]=0set FU[PU]=1227895369set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"set LU[PU]=90set VLV=PUset PU=PU+1set NU[PU]=1227897175set BU[PU]=1227897177set CU[PU]=0set FU[PU]=1227895370set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"set LU[PU]=90set VMV=PUset PU=PU+1set NU[PU]=1227899184set BU[PU]=1227897178set CU[PU]=0set FU[PU]=1227899471set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"set LU[PU]=0set VPV=PUset PU=PU+1set NU[PU]=1227901003set BU[PU]=1227901002set CU[PU]=0set FU[PU]=1227901004set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"set LU[PU]=0set VQV=PUset PU=PU+1set NU[PU]=1227899186set BU[PU]=1227899185set CU[PU]=0set FU[PU]=1227899472set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"set LU[PU]=0set VSV=PUset PU=PU+1set NU[PU]=1227902025set BU[PU]=1227902026set CU[PU]=0set FU[PU]=1227902027set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"set LU[PU]=0set VTV=PUset PU=PU+1set NU[PU]=1227899188set BU[PU]=1227899187set CU[PU]=0set FU[PU]=1227899473set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"set LU[PU]=0set VUV=PUset PU=PU+1set NU[PU]=1227899190set BU[PU]=1227899189set CU[PU]=0set FU[PU]=1227899474set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"set LU[PU]=0set VWV=PUset PU=PU+1set NU[PU]=1227901752set BU[PU]=1227901751set CU[PU]=0set FU[PU]=1227901753set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"set LU[PU]=0set VYV=PUset PU=PU+1set NU[PU]=1227899191set BU[PU]=1227899192set CU[PU]=0set FU[PU]=1227899475set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"set LU[PU]=0set VZV=PUset PU=PU+1set NU[PU]=1227901777set BU[PU]=1227901776set CU[PU]=0set FU[PU]=1227901778set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"set LU[PU]=0set V_V=PUset PU=PU+1set NU[PU]=1227899201set BU[PU]=1227899193set CU[PU]=0set FU[PU]=1227899476set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"set LU[PU]=0set V0V=PUset PU=PU+1set NU[PU]=1227899201set BU[PU]=1227901772set FU[PU]=1227901773set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"set LU[PU]=0set V1V=PUset PU=PU+1set NU[PU]=1227899203set BU[PU]=1227899202set CU[PU]=0set FU[PU]=1227899477set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"set LU[PU]=35set V2V=PUset PU=PU+1set NU[PU]=1227899204set BU[PU]=1227899205set CU[PU]=0set FU[PU]=1227899478set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"set LU[PU]=0set V3V=PUset PU=PU+1set NU[PU]=1227899207set BU[PU]=1227899206set CU[PU]=0set FU[PU]=1227899732set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"set LU[PU]=0set V4V=PUset PU=PU+1set NU[PU]=1227899208set BU[PU]=1227899209set CU[PU]=0set FU[PU]=1227899479set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"set LU[PU]=0set V5V=PUset PU=PU+1set NU[PU]=1227899448set BU[PU]=1227899225set CU[PU]=0set FU[PU]=1227894850set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OFV=PUset PU=PU+1set NU[PU]=1227899211set BU[PU]=1227899210set CU[PU]=0set FU[PU]=1227899480set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"set LU[PU]=$D2set V6V=PUset PU=PU+1set NU[PU]=1227896651set BU[PU]=1227899212set CU[PU]=0set FU[PU]=1227899481set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"set LU[PU]=35set V7V=PUset PU=PU+1set NU[PU]=1227899458set BU[PU]=1227899457set CU[PU]=0set FU[PU]=1227899482set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"set LU[PU]=0set V8V=PUset PU=PU+1set NU[PU]=1227902021set BU[PU]=1227902019set CU[PU]=0set FU[PU]=1227902020set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"set LU[PU]=0set V9V=PUset PU=PU+1set NU[PU]=1227899459set BU[PU]=1227899460set CU[PU]=0set FU[PU]=1227894851set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"set LU[PU]=33set EVV=PUset PU=PU+1set NU[PU]=1227899462set BU[PU]=1227899461set CU[PU]=0set FU[PU]=1227899696set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"set LU[PU]=35set EEV=PUset PU=PU+1set NU[PU]=1227895092set BU[PU]=1227895108set CU[PU]=0set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"set LU[PU]=0set EXV=PUset PU=PU+1set NU[PU]=1227899464set BU[PU]=1227899463set CU[PU]=0set FU[PU]=1227899697set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"set LU[PU]=0set EOV=PUset PU=PU+1set NU[PU]=1227899465set BU[PU]=1227899466set CU[PU]=0set FU[PU]=1227899698set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"set LU[PU]=0set ERV=PUset PU=PU+1set NU[PU]=1227899468set BU[PU]=1227899467set CU[PU]=0set FU[PU]=1227899699set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"set LU[PU]=0set EIV=PUset PU=PU+1set NU[PU]=1227899470set BU[PU]=1227899469set CU[PU]=0set FU[PU]=1227899700set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"set LU[PU]=0set EAV=PUset PU=PU+1set NU[PU]=1227894867set BU[PU]=1227894861set CU[PU]=0set FU[PU]=1227895107set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"set LU[PU]=0set ENV=PUset PU=PU+1set NU[PU]=1227894868set BU[PU]=1227894865set CU[PU]=0set FU[PU]=1227895109set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"set LU[PU]=0set EBV=PUset PU=PU+1set NU[PU]=1227894870set BU[PU]=1227894862set CU[PU]=0set FU[PU]=1227895110set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"set LU[PU]=0set ECV=PUset PU=PU+1set NU[PU]=1227894871set BU[PU]=1227894866set CU[PU]=0set FU[PU]=1227899973set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"set LU[PU]=0set EDV=PUset PU=PU+1set NU[PU]=1227894872set BU[PU]=1227894874set CU[PU]=0set FU[PU]=1227899718set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"set LU[PU]=30set EFV=PUset PU=PU+1set NU[PU]=1227894873set BU[PU]=1227895088set CU[PU]=0set FU[PU]=1227899974set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"set LU[PU]=0set EGV=PUset PU=PU+1set NU[PU]=1227895091set BU[PU]=1227895090set CU[PU]=0set FU[PU]=1227899714set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"set LU[PU]=18set EHV=PUset PU=PU+1set NU[PU]=1227900747set BU[PU]=1227900746set CU[PU]=0set FU[PU]=1227900748set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"set LU[PU]=8set EJV=PUset PU=PU+1set NU[PU]=1227900999set BU[PU]=1227901001set CU[PU]=0set FU[PU]=1227901000set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"set LU[PU]=25set ELV=PUset PU=PU+1set NU[PU]=1227901232set BU[PU]=1227901750set CU[PU]=0set FU[PU]=1227901234set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"set LU[PU]=25set EMV=PUset PU=PU+1set NU[PU]=1227901511set BU[PU]=1227901510set CU[PU]=0set FU[PU]=1227901512set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"set LU[PU]=$Cset EPV=PUset PU=PU+1set NU[PU]=1227901764set BU[PU]=1227901766set CU[PU]=0set FU[PU]=1227901765set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"set LU[PU]=$Cset EQV=PUset PU=PU+1set NU[PU]=1227901784set BU[PU]=1227901785set CU[PU]=0set FU[PU]=1227901786set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"set LU[PU]=8set ESV=PUset PU=PU+1set NU[PU]=1227902023set BU[PU]=1227902022set CU[PU]=0set FU[PU]=1227902024set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"set LU[PU]=0set ETV=PUset PU=PU+1set NU[PU]=1227902032set BU[PU]=1227902028set CU[PU]=0set FU[PU]=1227902033set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"set LU[PU]=25set X2V=PUset PU=PU+1set NU[PU]=1227902034set BU[PU]=1227902036set CU[PU]=0set FU[PU]=1227902035set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"set LU[PU]=30set X3V=PUset PU=PU+1set NU[PU]=1227902282set BU[PU]=1227902281set CU[PU]=0set FU[PU]=1227902283set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"set LU[PU]=45set X6V=PUset PU=PU+1set NU[PU]=1227902513set BU[PU]=1227902512set CU[PU]=0set FU[PU]=1227902514set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"set LU[PU]=7set A6=PUset PU=PU+1set NU[PU]=1227902532set BU[PU]=1227902533set CU[PU]=0set FU[PU]=1227902531set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"set LU[PU]=30set E4=PUset PU=PU+1set NU[PU]=1227902540set BU[PU]=1227902539set CU[PU]=0set FU[PU]=1227902541set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"set LU[PU]=0set X4=PUset PU=PU+1set NU[PU]=1227902770set BU[PU]=1227902771set CU[PU]=0set FU[PU]=1227902772set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"set LU[PU]=30set N6=PUset PU=PU+1set NU[PU]=1227902787set BU[PU]=1227902789set CU[PU]=0set FU[PU]=1227902788set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"set LU[PU]=30set A4=PUset PU=PU+1set NU[PU]=1227902790set BU[PU]=1227902791set CU[PU]=0set FU[PU]=1227902792set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"set LU[PU]=30set D4=PUset PU=PU+1set NU[PU]=1227902794set BU[PU]=1227902793set CU[PU]=0set FU[PU]=1227902795set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"set LU[PU]=30set P4=PUset PU=PU+1set NU[PU]=1227902797set BU[PU]=1227902796set CU[PU]=0set FU[PU]=1227902798set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"set LU[PU]=20set T4=PUset PU=PU+1set NU[PU]=1227902800set BU[PU]=1227902799set CU[PU]=0set FU[PU]=1227902801set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"set LU[PU]=20set W4=PUset PU=PU+1set NU[PU]=1227902805set BU[PU]=1227902806set CU[PU]=0set FU[PU]=1227902807set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"set LU[PU]=30set F6=PUset PU=PU+1set NU[PU]=1227902809set BU[PU]=1227902808set CU[PU]=0set FU[PU]=1227902810set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"set LU[PU]=60set G6=PUset PU=PU+1set NU[PU]=1227903024set BU[PU]=1227903025set CU[PU]=0set FU[PU]=1227903026set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"set LU[PU]=0set Y4=PUset PU=PU+1set NU[PU]=1227903027set BU[PU]=1227903028set CU[PU]=0set FU[PU]=1227903029set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"set LU[PU]=0set R5=PUset PU=PU+1set NU[PU]=1346522445set BU[PU]=1346522446set CU[PU]=0set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set LU[PU]=0set L5=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989063set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747990582set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896140set BU[PU]=1227896146set CU[PU]=1747989064set FU[PU]=1227899987set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set EWV=PUset PU=PU+1set NU[PU]=1227896141set BU[PU]=1227896147set CU[PU]=1747989065set FU[PU]=1227899988set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set EYV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989066set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896143set BU[PU]=1227896148set CU[PU]=1747989067set FU[PU]=1227899989set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set EZV=PUset PU=PU+1set CU[PU]=1747988788set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E_V=PUset PU=PU+1set NU[PU]=1227896144set BU[PU]=1227896149set CU[PU]=1747989068set FU[PU]=1227899991set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E0V=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989069set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896139set BU[PU]=1227896150set CU[PU]=1747989070set FU[PU]=1227899992set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E1V=PUset PU=PU+1set NU[PU]=1227896142set BU[PU]=1227896151set CU[PU]=1747989071set FU[PU]=1227899993set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E2V=PUset PU=PU+1set NU[PU]=1227896145set BU[PU]=1227896152set CU[PU]=1747989072set FU[PU]=1227899994set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E3V=PUset PU=PU+1set NU[PU]=1227896398set BU[PU]=1227896399set CU[PU]=1747989073set FU[PU]=1227900208set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E4V=PUset PU=PU+1set NU[PU]=1227896401set BU[PU]=1227896400set CU[PU]=1747989074set FU[PU]=1227900209set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E5V=PUset PU=PU+1set NU[PU]=1227896402set BU[PU]=1227896403set CU[PU]=1747989075set FU[PU]=1227900210set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E6V=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989076set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896407set BU[PU]=1227896406set CU[PU]=1747989077set FU[PU]=1227900212set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E7V=PUset PU=PU+1set NU[PU]=1227896408set BU[PU]=1227896409set CU[PU]=1747989078set FU[PU]=1227900213set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E8V=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989079set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896624set BU[PU]=1227896410set CU[PU]=1747989080set FU[PU]=1227900214set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set E9V=PUset PU=PU+1set NU[PU]=1227896625set BU[PU]=1227896626set CU[PU]=1747989081set FU[PU]=1227900215set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XVV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989082set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896628set BU[PU]=1227896627set CU[PU]=1747989296set FU[PU]=1227900216set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XEV=PUset PU=PU+1set CU[PU]=1747989297set JU[PU]=""set LU[PU]=0set XXV=PUset PU=PU+1set NU[PU]=1227896630set BU[PU]=1227896662set CU[PU]=1747989298set FU[PU]=1227900225set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XOV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989299set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896631set BU[PU]=1227896663set CU[PU]=1747989300set FU[PU]=1227900226set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XRV=PUset PU=PU+1set NU[PU]=1227896632set BU[PU]=1227896664set CU[PU]=1747989301set FU[PU]=1227900227set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XIV=PUset PU=PU+1set NU[PU]=1227896633set BU[PU]=1227896665set CU[PU]=1747989302set FU[PU]=1227900228set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XAV=PUset PU=PU+1set NU[PU]=1227896641set BU[PU]=1227896666set CU[PU]=1747989303set FU[PU]=1227900229set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XNV=PUset PU=PU+1set NU[PU]=1227896642set BU[PU]=1227896880set CU[PU]=1747989304set FU[PU]=1227900230set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XBV=PUset PU=PU+1set NU[PU]=1227896643set BU[PU]=1227896881set CU[PU]=1747989305set FU[PU]=1227900231set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XCV=PUset PU=PU+1set NU[PU]=1227896644set BU[PU]=1227896882set CU[PU]=1747989313set FU[PU]=1227900232set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XDV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989315set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896645set BU[PU]=1227896883set CU[PU]=1747989316set FU[PU]=1227900233set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XFV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989317set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896647set BU[PU]=1227896646set CU[PU]=1747989318set FU[PU]=1227900234set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XGV=PUset PU=PU+1set NU[PU]=1227896648set BU[PU]=1227896884set CU[PU]=1747989319set FU[PU]=1227900235set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XHV=PUset PU=PU+1set NU[PU]=1227896655set BU[PU]=1227896885set CU[PU]=1747989320set FU[PU]=1227900236set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XJV=PUset PU=PU+1set CU[PU]=1747989322set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XKV=PUset PU=PU+1set NU[PU]=1227896650set BU[PU]=1227896888set CU[PU]=1747989324set FU[PU]=1227900239set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XLV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989325set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989326set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896653set BU[PU]=1227896889set CU[PU]=1747989327set FU[PU]=1227900240set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XMV=PUset PU=PU+1set NU[PU]=1227896656set BU[PU]=1227896897set CU[PU]=1747989329set FU[PU]=1227900241set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XPV=PUset PU=PU+1set NU[PU]=1227896657set BU[PU]=1227896898set CU[PU]=1747989330set FU[PU]=1227900242set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XQV=PUset PU=PU+1set NU[PU]=1227896658set BU[PU]=1227896899set CU[PU]=1747989331set FU[PU]=1227900243set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XSV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989332set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747989333set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227896659set BU[PU]=1227896900set CU[PU]=1747989334set FU[PU]=1227900244set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XTV=PUset PU=PU+1set NU[PU]=1227896660set BU[PU]=1227896901set CU[PU]=1747989335set FU[PU]=1227900245set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XUV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747990329set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=1227900984set BU[PU]=1227900983set CU[PU]=1747990355set FU[PU]=1227900985set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XWV=PUset PU=PU+1set NU[PU]=1227900996set BU[PU]=1227900998set CU[PU]=1747990356set FU[PU]=1227900997set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XYV=PUset PU=PU+1set NU[PU]=1227901016set BU[PU]=1227901018set CU[PU]=1747990360set FU[PU]=1227901017set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set XZV=PUset PU=PU+1set NU[PU]=1227896652set BU[PU]=1227901774set CU[PU]=1747989328set FU[PU]=1227901775set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X_V=PUset PU=PU+1set NU[PU]=1227901783set BU[PU]=1227901782set CU[PU]=1747993153set FU[PU]=1227901781set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X0V=PUset PU=PU+1set NU[PU]=1227902029set BU[PU]=1227902030set CU[PU]=1747993169set FU[PU]=1227902031set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X1V=PUset PU=PU+1set NU[PU]=1227902521set BU[PU]=1227902529set CU[PU]=1747993649set FU[PU]=1227902530set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X7V=PUset PU=PU+1set NU[PU]=1227902536set BU[PU]=1227902537set CU[PU]=1747993433set FU[PU]=1227902538set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X8V=PUset PU=PU+1set NU[PU]=1227902773set BU[PU]=1227902774set CU[PU]=1747993668set FU[PU]=1227902775set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set X9V=PUset PU=PU+1set NU[PU]=1227902786set BU[PU]=1227902785set CU[PU]=1747989336set FU[PU]=1227902777set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set LU[PU]=0set OVV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747993684set JU[PU]=""set LU[PU]=0set OEV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747993685set JU[PU]=""set LU[PU]=0set OXV=PUset PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747993913set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747993921set JU[PU]=""set LU[PU]=0set PU=PU+1set NU[PU]=0set BU[PU]=0set CU[PU]=1747993923set JU[PU]=""set LU[PU]=0set t=CreateTrigger()call TriggerAddCondition(t,Condition(function TVX))set IWV=tset t=nullset ODV=ODV+1set ORV[ODV]=R0set OIV[ODV]=Q1set OCV[ODV]=H6set ODV=ODV+1set ORV[ODV]=Y0set OIV[ODV]=ZYset OAV[ODV]=EWVset OCV[ODV]=W6set ODV=ODV+1set ORV[ODV]=HWset OIV[ODV]=ZYset OAV[ODV]=EYVset OCV[ODV]=E7set ODV=ODV+1set ORV[ODV]=J0set OIV[ODV]=R1set OCV[ODV]=X7set ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=EZVset OCV[ODV]=A7set ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=ZUset OAV[ODV]=SUset OCV[ODV]=B7set ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=EWset OAV[ODV]=SUset OCV[ODV]=C7set ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=V1set OAV[ODV]=SUset OCV[ODV]=D7set ODV=ODV+1set ORV[ODV]=SUset OIV[ODV]=E0Vset OCV[ODV]=F7set ODV=ODV+1set ORV[ODV]=O0set OIV[ODV]=V1set OAV[ODV]=R1set OCV[ODV]=L7set ODV=ODV+1set ORV[ODV]=VWset OIV[ODV]=ZWset OAV[ODV]=E1Vset OCV[ODV]=M7set ODV=ODV+1set ORV[ODV]=VWset OIV[ODV]=X1set OAV[ODV]=E2Vset OCV[ODV]=P7set ODV=ODV+1set ORV[ODV]=VWset OIV[ODV]=RZset OAV[ODV]=E3Vset OCV[ODV]=T7set ODV=ODV+1set ORV[ODV]=OWset OIV[ODV]=ZUset OAV[ODV]=E4Vset OCV[ODV]=U7set ODV=ODV+1set ORV[ODV]=DZset OIV[ODV]=EWset OAV[ODV]=E5Vset OCV[ODV]=W7set ODV=ODV+1set ORV[ODV]=T1set OIV[ODV]=EWset OAV[ODV]=E6Vset OCV[ODV]=Y7set ODV=ODV+1set ORV[ODV]=NWset OIV[ODV]=HWset OAV[ODV]=V1set OCV[ODV]=V8set ODV=ODV+1set ORV[ODV]=BZset OIV[ODV]=SUset OAV[ODV]=E7Vset OCV[ODV]=E8set ODV=ODV+1set ORV[ODV]=OWset OIV[ODV]=OWset OAV[ODV]=V1set ONV[ODV]=E8Vset OCV[ODV]=X8set ODV=ODV+1set ORV[ODV]=X8set OIV[ODV]=E8Vset OCV[ODV]=O8set ODV=ODV+1set ORV[ODV]=R8set OIV[ODV]=E8Vset OCV[ODV]=O8set ODV=ODV+1set ORV[ODV]=SYset OIV[ODV]=AZset OCV[ODV]=N8set ODV=ODV+1set ORV[ODV]=AZset OIV[ODV]=E9Vset OCV[ODV]=C8set ODV=ODV+1set ORV[ODV]=Q1set OIV[ODV]=A1set OAV[ODV]=R1set ONV[ODV]=XVVset OCV[ODV]=D8set ODV=ODV+1set ORV[ODV]=X0set OIV[ODV]=YWset OAV[ODV]=P1set OCV[ODV]=F8set ODV=ODV+1set ORV[ODV]=W6set OIV[ODV]=E7set OAV[ODV]=XEVset OCV[ODV]=G8set ODV=ODV+1set ORV[ODV]=W7set OIV[ODV]=U7set OCV[ODV]=L8set ODV=ODV+1set ORV[ODV]=BZset OIV[ODV]=BZset OAV[ODV]=XOVset OCV[ODV]=W8set ODV=ODV+1set ORV[ODV]=H6set OIV[ODV]=NWset OAV[ODV]=QWset OCV[ODV]=Y8set ODV=ODV+1set ORV[ODV]=RWset OIV[ODV]=NWset OAV[ODV]=XRVset OCV[ODV]=Z8set ODV=ODV+1set ORV[ODV]=BZset OIV[ODV]=DZset OAV[ODV]=XIVset OCV[ODV]=VVVset ODV=ODV+1set ORV[ODV]=U7set OIV[ODV]=J1set OAV[ODV]=XAVset OCV[ODV]=VBVset ODV=ODV+1set ORV[ODV]=O0set OIV[ODV]=QWset OAV[ODV]=XNVset OCV[ODV]=VCVset ODV=ODV+1set ORV[ODV]=A1set OIV[ODV]=T7set OAV[ODV]=XBVset OCV[ODV]=VDVset ODV=ODV+1set ORV[ODV]=VDVset OIV[ODV]=XBVset OCV[ODV]=VFVset ODV=ODV+1set ORV[ODV]=VFVset OIV[ODV]=XBVset OCV[ODV]=VGVset ODV=ODV+1set ORV[ODV]=VGVset OIV[ODV]=XBVset OCV[ODV]=VHVset ODV=ODV+1set ORV[ODV]=VHVset OIV[ODV]=XBVset OCV[ODV]=VJVset ODV=ODV+1set ORV[ODV]=A1set OIV[ODV]=EWset OAV[ODV]=XCVset OCV[ODV]=VKVset ODV=ODV+1set ORV[ODV]=VKVset OIV[ODV]=XCVset OCV[ODV]=VLVset ODV=ODV+1set ORV[ODV]=VLVset OIV[ODV]=XCVset OCV[ODV]=VMVset ODV=ODV+1set ORV[ODV]=J1set OIV[ODV]=H6set OAV[ODV]=XDVset OCV[ODV]=VPVset ODV=ODV+1set ORV[ODV]=TWset OIV[ODV]=E1set OCV[ODV]=VSVset ODV=ODV+1set ORV[ODV]=Z8set OIV[ODV]=TWset OAV[ODV]=XFVset OCV[ODV]=VUVset ODV=ODV+1set ORV[ODV]=TWset OIV[ODV]=T1set OAV[ODV]=T1set OCV[ODV]=VWVset ODV=ODV+1set ORV[ODV]=E1set OIV[ODV]=XGVset OCV[ODV]=VZVset ODV=ODV+1set ORV[ODV]=NZset OIV[ODV]=P1set OAV[ODV]=XHVset OCV[ODV]=V0Vset ODV=ODV+1set ORV[ODV]=NZset OIV[ODV]=N8set OAV[ODV]=XJVset OCV[ODV]=V2Vset ODV=ODV+1set ORV[ODV]=NZset OIV[ODV]=B8set OAV[ODV]=XJVset OCV[ODV]=V2Vset ODV=ODV+1set ORV[ODV]=J1set OIV[ODV]=J1set OAV[ODV]=X0set ONV[ODV]=X4Vset OCV[ODV]=V3Vset ODV=ODV+1set ORV[ODV]=J1set OIV[ODV]=J1set OAV[ODV]=X0set ONV[ODV]=X5Vset OCV[ODV]=V3Vset ODV=ODV+1set ORV[ODV]=UWset OIV[ODV]=O0set OAV[ODV]=Y3set OCV[ODV]=V5Vset ODV=ODV+1set ORV[ODV]=R1set OIV[ODV]=HWset OAV[ODV]=X8Vset OCV[ODV]=A6set ODV=ODV+1set ORV[ODV]=OWset OIV[ODV]=DZset OAV[ODV]=X0set ONV[ODV]=A1set OCV[ODV]=OFVset ODV=ODV+1set ORV[ODV]=H6set OIV[ODV]=L7set OAV[ODV]=XLVset OCV[ODV]=V6Vset ODV=ODV+1set ORV[ODV]=J1set OIV[ODV]=CZset OAV[ODV]=Q1set OCV[ODV]=V7Vset ODV=ODV+1set ORV[ODV]=P1set OIV[ODV]=R0set OAV[ODV]=D1set OCV[ODV]=V8Vset ODV=ODV+1set ORV[ODV]=P1set OIV[ODV]=R0set OAV[ODV]=F1set OCV[ODV]=V8Vset ODV=ODV+1set ORV[ODV]=YWset OIV[ODV]=J0set OAV[ODV]=XMVset OCV[ODV]=EVVset ODV=ODV+1set ORV[ODV]=UYset OIV[ODV]=E8set OAV[ODV]=X_Vset OCV[ODV]=EEVset ODV=ODV+1set ORV[ODV]=M5set OAV[ODV]=XPVset OCV[ODV]=EXVset ODV=ODV+1set ORV[ODV]=Y0set OIV[ODV]=X7set OAV[ODV]=AZset ONV[ODV]=XQVset OCV[ODV]=EOVset ODV=ODV+1set ORV[ODV]=Y0set OIV[ODV]=O7set OAV[ODV]=AZset ONV[ODV]=XQVset OCV[ODV]=EOVset ODV=ODV+1set ORV[ODV]=UYset OIV[ODV]=E0set OAV[ODV]=HWset ONV[ODV]=XSVset OCV[ODV]=ERVset ODV=ODV+1set ORV[ODV]=F8set OIV[ODV]=H6set OCV[ODV]=EIVset ODV=ODV+1set ORV[ODV]=Y0set OIV[ODV]=Y0set OAV[ODV]=R0set ONV[ODV]=HZset OCV[ODV]=EAVset ODV=ODV+1set ORV[ODV]=SUset OIV[ODV]=SYset OAV[ODV]=RWset ONV[ODV]=XTVset OCV[ODV]=EBVset ODV=ODV+1set ORV[ODV]=CZset OIV[ODV]=E0set OAV[ODV]=XUVset OCV[ODV]=EFVset ODV=ODV+1set ORV[ODV]=L7set OIV[ODV]=L7set OAV[ODV]=OVVset OCV[ODV]=EHVset ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=RWset OAV[ODV]=RWset OCV[ODV]=EJVset ODV=ODV+1set ORV[ODV]=H3set OIV[ODV]=ZYset OAV[ODV]=ZYset ONV[ODV]=ZYset OBV[ODV]=XWVset OCV[ODV]=EKVset ODV=ODV+1set ORV[ODV]=O0set OIV[ODV]=A1set OAV[ODV]=XYVset OCV[ODV]=ELVset ODV=ODV+1set ORV[ODV]=EAVset OIV[ODV]=W6set OAV[ODV]=XZVset OCV[ODV]=EMVset ODV=ODV+1set ORV[ODV]=D1set OIV[ODV]=X1set OAV[ODV]=X1set OCV[ODV]=EPVset ODV=ODV+1set ORV[ODV]=F1set OIV[ODV]=X1set OAV[ODV]=X1set OCV[ODV]=EPVset ODV=ODV+1set ORV[ODV]=R1set OIV[ODV]=ZWset OAV[ODV]=ZWset ONV[ODV]=X0Vset OCV[ODV]=ESVset ODV=ODV+1set ORV[ODV]=R1set OIV[ODV]=Y0set OAV[ODV]=X1Vset OCV[ODV]=X2Vset ODV=ODV+1set ORV[ODV]=UWset OIV[ODV]=EUVset OCV[ODV]=X3Vset ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=YWset OCV[ODV]=X6Vset ODV=ODV+1set ORV[ODV]=V1set OIV[ODV]=M7set OAV[ODV]=X7Vset OCV[ODV]=E4set ODV=ODV+1set ORV[ODV]=E4set OIV[ODV]=X7Vset OCV[ODV]=E4set ODV=ODV+1set ORV[ODV]=X4set OIV[ODV]=X7Vset OCV[ODV]=E4set ODV=ODV+1set ORV[ODV]=SYset OIV[ODV]=V1set OAV[ODV]=X9Vset OCV[ODV]=N6set ODV=ODV+1set ORV[ODV]=QUset OIV[ODV]=J0set OAV[ODV]=Y0set OCV[ODV]=D4set ODV=ODV+1set ORV[ODV]=A1set OIV[ODV]=A1set OAV[ODV]=P1set OCV[ODV]=T4set ODV=ODV+1set ORV[ODV]=W7set OIV[ODV]=Y3set OCV[ODV]=F6set ODV=ODV+1set ORV[ODV]=Y7set OIV[ODV]=E1set OCV[ODV]=G6set ODV=ODV+1set ORV[ODV]=P7set OIV[ODV]=X7set OCV[ODV]=Y4set ODV=ODV+1set ORV[ODV]=P7set OIV[ODV]=O7set OCV[ODV]=R5set PU=PU+1set NU[PU]=1227899226set BU[PU]=1227895089set CU[PU]=0set FU[PU]=1227900249set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OGV=PUset PU=PU+1set NU[PU]=1227894854set BU[PU]=1227894852set CU[PU]=0set FU[PU]=1227900250set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OHV=PUset PU=PU+1set NU[PU]=1227895096set BU[PU]=1227894841set CU[PU]=0set FU[PU]=1227900464set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OJV=PUset PU=PU+1set NU[PU]=1227895097set BU[PU]=1227894837set CU[PU]=0set FU[PU]=1227900470set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OKV=PUset PU=PU+1set NU[PU]=1227895105set BU[PU]=1227894855set CU[PU]=0set FU[PU]=1227900465set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OLV=PUset PU=PU+1set NU[PU]=1227895106set BU[PU]=1227894836set CU[PU]=0set FU[PU]=1227900466set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OMV=PUset PU=PU+1set NU[PU]=1227895112set BU[PU]=1227894835set CU[PU]=0set FU[PU]=1227900467set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OPV=PUset PU=PU+1set NU[PU]=1227895113set BU[PU]=1227894834set CU[PU]=0set FU[PU]=1227900469set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OQV=PUset PU=PU+1set NU[PU]=1227895371set BU[PU]=1227894833set CU[PU]=0set FU[PU]=1227900468set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OSV=PUset PU=PU+1set NU[PU]=1227895372set BU[PU]=1227894857set CU[PU]=0set FU[PU]=1227900485set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OTV=PUset PU=PU+1set NU[PU]=1227899442set BU[PU]=1227894856set CU[PU]=0set FU[PU]=1227900473set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OWV=PUset PU=PU+1set NU[PU]=1227899443set BU[PU]=1227894864set CU[PU]=0set FU[PU]=1227900481set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OYV=PUset PU=PU+1set NU[PU]=1227899444set BU[PU]=1227894869set CU[PU]=0set FU[PU]=1227900471set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OZV=PUset PU=PU+1set NU[PU]=1227899447set BU[PU]=1227894832set CU[PU]=0set FU[PU]=1227900484set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O_V=PUset PU=PU+1set NU[PU]=1227899446set BU[PU]=1227895094set CU[PU]=0set FU[PU]=1227900483set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O0V=PUset PU=PU+1set NU[PU]=1227899445set BU[PU]=1227895095set CU[PU]=0set FU[PU]=1227900482set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O1V=PUset PU=PU+1set NU[PU]=1227899449set BU[PU]=1227894863set CU[PU]=0set FU[PU]=1227900472set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O2V=PUset PU=PU+1set NU[PU]=1227901493set BU[PU]=1227901268set CU[PU]=0set FU[PU]=1227901258set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O3V=PUset PU=PU+1set NU[PU]=1227901270set BU[PU]=1227901269set CU[PU]=0set FU[PU]=1227901241set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O4V=PUset PU=PU+1set NU[PU]=1227901271set BU[PU]=1227901267set CU[PU]=0set FU[PU]=1227901257set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O5V=PUset PU=PU+1set NU[PU]=1227901272set BU[PU]=1227901266set CU[PU]=0set FU[PU]=1227901249set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O6V=PUset PU=PU+1set NU[PU]=1227901273set BU[PU]=1227901265set CU[PU]=0set FU[PU]=1227901256set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O7V=PUset PU=PU+1set NU[PU]=1227901274set BU[PU]=1227901259set CU[PU]=0set FU[PU]=1227901255set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O8V=PUset PU=PU+1set NU[PU]=1227901488set BU[PU]=1227901260set CU[PU]=0set FU[PU]=1227901254set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set O9V=PUset PU=PU+1set NU[PU]=1227901489set BU[PU]=1227901261set CU[PU]=0set FU[PU]=1227901253set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RVV=PUset PU=PU+1set NU[PU]=1227901490set BU[PU]=1227901264set CU[PU]=0set FU[PU]=1227901252set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set REV=PUset PU=PU+1set NU[PU]=1227901491set BU[PU]=1227901263set CU[PU]=0set FU[PU]=1227901251set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RXV=PUset PU=PU+1set NU[PU]=1227901492set BU[PU]=1227901262set CU[PU]=0set FU[PU]=1227901250set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set ROV=PUset PU=PU+1set NU[PU]=1227901238set BU[PU]=1227901239set CU[PU]=0set FU[PU]=1227901240set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RRV=PUset PU=PU+1set NU[PU]=1227901530set BU[PU]=1227901523set CU[PU]=0set FU[PU]=1227901522set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RIV=PUset PU=PU+1set NU[PU]=1227901744set BU[PU]=1227901524set CU[PU]=0set FU[PU]=1227901516set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RAV=PUset PU=PU+1set NU[PU]=1227901745set BU[PU]=1227901525set CU[PU]=0set FU[PU]=1227901517set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RNV=PUset PU=PU+1set NU[PU]=1227901746set BU[PU]=1227901527set CU[PU]=0set FU[PU]=1227901518set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RBV=PUset PU=PU+1set NU[PU]=1227901747set BU[PU]=1227901526set CU[PU]=0set FU[PU]=1227901521set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RCV=PUset PU=PU+1set NU[PU]=1227901748set BU[PU]=1227901529set CU[PU]=0set FU[PU]=1227901520set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RDV=PUset PU=PU+1set NU[PU]=1227901749set BU[PU]=1227901528set CU[PU]=0set FU[PU]=1227901519set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RFV=PUset PU=PU+1set NU[PU]=1227901769set BU[PU]=1227901768set CU[PU]=0set FU[PU]=1227901770set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RGV=PUset PU=PU+1set NU[PU]=1227902004set BU[PU]=1227902005set CU[PU]=0set FU[PU]=1227902008set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set OUV=PUset PU=PU+1set NU[PU]=1227902003set BU[PU]=1227902000set CU[PU]=0set FU[PU]=1227902009set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RHV=PUset PU=PU+1set NU[PU]=1227902002set BU[PU]=1227902007set CU[PU]=0set FU[PU]=1227902017set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RJV=PUset PU=PU+1set NU[PU]=1227902037set BU[PU]=1227902038set CU[PU]=0set FU[PU]=1227902039set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RKV=PUset PU=PU+1set NU[PU]=1227902257set BU[PU]=1227902256set CU[PU]=0set FU[PU]=1227902258set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RMV=PUset PU=PU+1set NU[PU]=1227902261set BU[PU]=1227902260set CU[PU]=0set FU[PU]=1227902259set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RPV=PUset PU=PU+1set NU[PU]=1227902262set BU[PU]=1227902263set CU[PU]=0set FU[PU]=1227902264set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RQV=PUset PU=PU+1set NU[PU]=1227902278set BU[PU]=1227902279set CU[PU]=0set FU[PU]=1227902280set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RSV=PUset PU=PU+1set NU[PU]=1227902285set BU[PU]=1227902284set CU[PU]=0set FU[PU]=1227902286set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RTV=PUset PU=PU+1set NU[PU]=1227902287set BU[PU]=1227902288set CU[PU]=0set FU[PU]=1227902289set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RUV=PUset PU=PU+1set NU[PU]=1227902545set BU[PU]=1227902546set CU[PU]=0set FU[PU]=1227902547set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RWV=PUset PU=PU+1set NU[PU]=1227902548set BU[PU]=1227902549set CU[PU]=0set FU[PU]=1227902550set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RYV=PUset PU=PU+1set NU[PU]=1227902551set BU[PU]=1227902552set CU[PU]=0set FU[PU]=1227902553set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set RZV=PUset PU=PU+1set NU[PU]=1227902554set BU[PU]=1227902768set CU[PU]=0set FU[PU]=1227902769set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set R_V=PUset PU=PU+1set NU[PU]=1227902802set BU[PU]=1227902803set CU[PU]=0set FU[PU]=1227902804set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=60set R0V=PUset PU=PU+1set NU[PU]=1227895617set BU[PU]=1227896113set CU[PU]=1747990603set FU[PU]=1227899961set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set LU[PU]=0set MU[PU]=D1set PU=PU+1set NU[PU]=1227895641set BU[PU]=1227896114set CU[PU]=1747990616set FU[PU]=1227899705set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"set LU[PU]=0set MU[PU]=J1set PU=PU+1set NU[PU]=1227895379set BU[PU]=1227895376set CU[PU]=1747990611set FU[PU]=1227899713set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set LU[PU]=0set MU[PU]=SUset PU=PU+1set NU[PU]=1227895374set BU[PU]=1227895378set CU[PU]=1747990608set FU[PU]=1227899731set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"set LU[PU]=0set MU[PU]=ZUset PU=PU+1set NU[PU]=1227895386set BU[PU]=1227895859set CU[PU]=1747990609set FU[PU]=1227899734set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"set LU[PU]=0set MU[PU]=EWset PU=PU+1set NU[PU]=1227895601set BU[PU]=1227895861set CU[PU]=1747990612set FU[PU]=1227899957set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"set LU[PU]=0set MU[PU]=RWset PU=PU+1set NU[PU]=1227895618set BU[PU]=1227895877set CU[PU]=1747990606set FU[PU]=1227899969set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"set LU[PU]=0set MU[PU]=SYset PU=PU+1set NU[PU]=1227895621set BU[PU]=1227895880set CU[PU]=1747990615set FU[PU]=1227899703set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set LU[PU]=$Eset MU[PU]=EZset PU=PU+1set NU[PU]=1227895623set BU[PU]=1227895883set CU[PU]=1747990607set FU[PU]=1227899716set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"set LU[PU]=0set MU[PU]=AZset PU=PU+1set NU[PU]=1227895632set BU[PU]=1227895891set CU[PU]=1747990613set FU[PU]=1227899737set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"set LU[PU]=0set MU[PU]=O0set PU=PU+1set NU[PU]=1227895633set BU[PU]=1227895892set CU[PU]=1747990599set FU[PU]=1227899977set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"set LU[PU]=0set MU[PU]=R0set PU=PU+1set NU[PU]=1227895635set BU[PU]=1227895894set CU[PU]=1747990604set FU[PU]=1227899978set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"set LU[PU]=0set MU[PU]=Y0set PU=PU+1set NU[PU]=1227895636set BU[PU]=1227895895set CU[PU]=1747990610set FU[PU]=1227899728set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"set LU[PU]=0set MU[PU]=V1set PU=PU+1set NU[PU]=1227895638set BU[PU]=1227895897set CU[PU]=1747990597set FU[PU]=1227899701set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"set LU[PU]=0set MU[PU]=X1set PU=PU+1set NU[PU]=1227895639set BU[PU]=1227895898set CU[PU]=1747990602set FU[PU]=1227899979set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"set LU[PU]=0set MU[PU]=R1set PU=PU+1set NU[PU]=1227900740set BU[PU]=1227900739set CU[PU]=1747990601set FU[PU]=1227900741set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"set LU[PU]=0set MU[PU]=H3set PU=PU+1set NU[PU]=1227901012set BU[PU]=1227901010set CU[PU]=1747990598set FU[PU]=1227901015set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set LU[PU]=0set MU[PU]=U3set PU=PU+1set NU[PU]=1227901495set BU[PU]=1227901494set CU[PU]=1747990614set FU[PU]=1227901496set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"set LU[PU]=0set MU[PU]=Y3set PU=PU+1set NU[PU]=1227895628set BU[PU]=1227895888set CU[PU]=1747990605set FU[PU]=1227899717set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set LU[PU]=0set MU[PU]=HZset PU=PU+1set NU[PU]=1227896129set BU[PU]=1227896137set CU[PU]=1747990600set FU[PU]=0set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set LU[PU]=0set MU[PU]=J5set PU=PU+1set NU[PU]=1227895607set BU[PU]=1227895874set CU[PU]=1747990835set FU[PU]=1227899730set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"set LU[PU]=0set MU[PU]=YWset PU=PU+1set NU[PU]=1227895377set BU[PU]=1227895375set CU[PU]=1747993167set FU[PU]=1227894849set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set LU[PU]=0set MU[PU]=QUset PU=PU+1set NU[PU]=1227902273set BU[PU]=1227902265set CU[PU]=1747993422set FU[PU]=1227902274set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set LU[PU]=0set MU[PU]=X4Vset PU=PU+1set NU[PU]=1227895603set BU[PU]=1227895863set CU[PU]=1747993648set FU[PU]=1227899959set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set LU[PU]=0set MU[PU]=HWset PU=PU+1set NU[PU]=1228222513set BU[PU]=1228222512set CU[PU]=0set FU[PU]=1228222514set JU[PU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set LU[PU]=0set RLV=PUcall E5()set WXV=InitHashtable()call H5N()set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_PAWN_ITEM)call TriggerAddCondition(t,Condition(function D6A))set R3V=tset t=nullcall H6N()call H7N()call JYA()set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(t,Condition(function TAX))set BH=tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function TRX))if CAV thenset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function FNA))endifset t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EXA))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function FDA))set cH=tset t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function QNX)call TriggerAddCondition(t,Condition(function QOX))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function QDX))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddAction(t,function J8X)call TriggerAddCondition(t,Condition(function J3X))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.33,true)call TriggerAddCondition(t,Condition(function KQX))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.75,true)call TriggerAddCondition(t,Condition(function KWX))set t=nullcall SetPlayerAbilityAvailable(RX[1],1093744436,false)call SetPlayerAbilityAvailable(RX[2],1093744436,false)call SetPlayerAbilityAvailable(RX[3],1093744436,false)call SetPlayerAbilityAvailable(RX[4],1093744436,false)call SetPlayerAbilityAvailable(RX[5],1093744436,false)call SetPlayerAbilityAvailable(GX[1],1093744436,false)call SetPlayerAbilityAvailable(GX[2],1093744436,false)call SetPlayerAbilityAvailable(GX[3],1093744436,false)call SetPlayerAbilityAvailable(GX[4],1093744436,false)call SetPlayerAbilityAvailable(GX[5],1093744436,false)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function KZX))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function FGA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function FFA))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function FJA))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function FMA))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function FZA))set t=nullset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function HOA)call SetAltMinimapIcon("war3mapImported\\black.blp")set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LDA))call SetPlayerAbilityAvailable(RX[1],1093752406,false)call SetPlayerAbilityAvailable(RX[2],1093752406,false)call SetPlayerAbilityAvailable(RX[3],1093752406,false)call SetPlayerAbilityAvailable(RX[4],1093752406,false)call SetPlayerAbilityAvailable(RX[5],1093752406,false)call SetPlayerAbilityAvailable(GX[1],1093752406,false)call SetPlayerAbilityAvailable(GX[2],1093752406,false)call SetPlayerAbilityAvailable(GX[3],1093752406,false)call SetPlayerAbilityAvailable(GX[4],1093752406,false)call SetPlayerAbilityAvailable(GX[5],1093752406,false)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(t,Condition(function LFA))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function L7X)call TriggerAddCondition(t,Condition(function L6X))call JXN()set t=CreateTrigger()call TriggerRegisterUnitInRange(t,FJ,300,Condition(function BUE))call TriggerRegisterUnitInRange(t,lJ,300,Condition(function BUE))call TriggerRegisterUnitInRange(t,DJ,300,Condition(function BUE))call TriggerAddCondition(t,Condition(function L8X))set t=nullset YQ=CreateTrigger()call TriggerAddAction(YQ,function L9X)set ES=CreateTrigger()call TriggerAddAction(ES,function MVX)set t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,Xr)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,Uo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,bE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MEX))set t=nullset ZUO=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,zo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,jo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,XE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MXX))set t=nullset ZUO=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,Er)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,to)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,BE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MOX))set t=nullset ZUO=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,er)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,lo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,OE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MRX))set t=nullset ZUO=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,Qo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,ar)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,AE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MIX))set t=nullset ZUO=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,wo)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,go)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))set ZUO=CreateRegion()call RegionAddRect(ZUO,IE)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function MAX))set t=nullset ZUO=nullset OS=CreateTrigger()call TriggerAddAction(OS,function MMX)set cA=CreateTrigger()call TriggerRegisterUnitEvent(cA,A8V,EVENT_UNIT_DEATH)call TriggerAddAction(cA,function MQX)set CA=CreateTrigger()call TriggerRegisterUnitEvent(CA,A9V,EVENT_UNIT_DEATH)call TriggerAddAction(CA,function MSX)set dA=CreateTrigger()call TriggerRegisterUnitEvent(dA,NVV,EVENT_UNIT_DEATH)call TriggerAddAction(dA,function MTX)set DA=CreateTrigger()call TriggerRegisterUnitEvent(DA,A5V,EVENT_UNIT_DEATH)call TriggerAddAction(DA,function MUX)set fA=CreateTrigger()call TriggerRegisterUnitEvent(fA,A6V,EVENT_UNIT_DEATH)call TriggerAddAction(fA,function MWX)set FA=CreateTrigger()call TriggerRegisterUnitEvent(FA,A7V,EVENT_UNIT_DEATH)call TriggerAddAction(FA,function MYX)set gA=CreateTrigger()call TriggerRegisterUnitEvent(gA,NTV,EVENT_UNIT_DEATH)call TriggerAddAction(gA,function MZX)set GA=CreateTrigger()call TriggerRegisterUnitEvent(GA,NUV,EVENT_UNIT_DEATH)call TriggerAddAction(GA,function M_X)set LA=CreateTrigger()call TriggerRegisterUnitEvent(LA,NWV,EVENT_UNIT_DEATH)call TriggerAddAction(LA,function M0X)set mA=CreateTrigger()call TriggerRegisterUnitEvent(mA,NPV,EVENT_UNIT_DEATH)call TriggerAddAction(mA,function M1X)set MA=CreateTrigger()call TriggerRegisterUnitEvent(MA,NQV,EVENT_UNIT_DEATH)call TriggerAddAction(MA,function M2X)set PA=CreateTrigger()call TriggerRegisterUnitEvent(PA,NSV,EVENT_UNIT_DEATH)call TriggerAddAction(PA,function M3X)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,ASV,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function M4X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NAV,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function M6X))set t=nullset SA=CreateTrigger()call JEE(SA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(SA,Condition(function M7X))call TriggerAddAction(SA,function M8X)set TA=CreateTrigger()call JEE(TA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(TA,Condition(function M9X))call TriggerAddAction(TA,function PVX)set BS=CreateTrigger()call TriggerAddAction(BS,function PEX)set wA=CreateTrigger()call TriggerRegisterTimerEventSingle(wA,75.)call TriggerAddAction(wA,function PXX)set CS=CreateTrigger()call TriggerAddCondition(CS,Condition(function QEX))set DS=CreateTrigger()call TriggerAddAction(DS,function QXX)set vA=CreateTrigger()call TriggerAddAction(vA,function ITX)set eA=CreateTrigger()call JEE(eA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(eA,Condition(function IWX))call TriggerAddAction(eA,function IYX)set xA=CreateTrigger()call JEE(xA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(xA,Condition(function IZX))call TriggerAddAction(xA,function I_X)set JQ=CreateTrigger()call TriggerRegisterTimerEventPeriodic(JQ,1.)call TriggerAddAction(JQ,function I4X)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SELECTED)call TriggerAddCondition(t,Condition(function I1O))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DESELECTED)call TriggerAddCondition(t,Condition(function I_O))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,AYV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,AYV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AZX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,AZV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,AZV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A_X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A_V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A_V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A0X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A0V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A0V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A1X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A1V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A1V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A2X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A2V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A2V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A3X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A3V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A3V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A4X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A4V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A4V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A5X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A5V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A5V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A6X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A6V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A6V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A7X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A7V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A7V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A8X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A8V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A8V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function A9X))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,A9V,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,A9V,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NVX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NVV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NVV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NEX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NDV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NDV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AFX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NFV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NFV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AGX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NGV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NGV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AHX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NHV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NHV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AJX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NJV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NJV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AKX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NKV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NKV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ALX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NLV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NLV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AMX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NMV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NMV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function APX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NPV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NPV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AQX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NQV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NQV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ASX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NSV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NSV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ATX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NTV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NTV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AUX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NUV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NUV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AWX))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,NWV,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,NWV,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AYX))set VA=CreateTrigger()call TriggerRegisterTimerEvent(VA,1.,true)call TriggerAddCondition(VA,Condition(function ABX))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,5.,true)call TriggerAddCondition(t,Condition(function NDX))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,4.,true)call TriggerAddCondition(t,Condition(function NKX))set t=nullset KU=FYE()set t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function NTX))set t=nullset ZUO=nullset t=CreateTrigger()call TriggerAddCondition(t,Condition(function NUX))call TriggerRegisterTimerEvent(t,5.,true)set t=nullcall DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_VISIBLE,-4550,$4E2,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_VISIBLE,-4550,$4E2,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_VISIBLE,$C80,1,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_VISIBLE,$C80,1,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(RX[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(GX[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))call DestroyFogModifier(CreateFogModifierRect(RX[0],FOG_OF_WAR_VISIBLE,AAV,true,true))call DestroyFogModifier(CreateFogModifierRect(GX[0],FOG_OF_WAR_VISIBLE,AAV,true,true))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LUA))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,3.5,true)call TriggerAddCondition(t,Condition(function G2X))set t=nullset DLV=CreateTrigger()call TriggerRegisterUnitEvent(DLV,NAV,EVENT_UNIT_DEATH)call TriggerAddAction(DLV,function H2X)set DMV=CreateTrigger()call TriggerRegisterUnitEvent(DMV,ASV,EVENT_UNIT_DEATH)call TriggerAddAction(DMV,function H0X)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function JLX))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JQX))set t=nullset DQV=CreateTrigger()call TriggerAddAction(DQV,function JWX)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,SX,EVENT_PLAYER_UNIT_ATTACKED,Condition(function BUE))call TriggerAddCondition(t,Condition(function JZX))set t=nullset ow=CreateRegion()call RegionAddRect(ow,MN)call RegionAddRect(ow,di)call RegionAddRect(ow,fi)call RegionAddRect(ow,Fi)call RegionAddRect(ow,Gi)call RegionAddRect(ow,Ji)call RegionAddRect(ow,li)call RegionAddRect(ow,Li)call RegionAddRect(ow,pi)set JBV=CreateRegion()call RegionAddRect(JBV,UK)call RegionAddRect(JBV,YK)set EA=CreateTrigger()call TriggerRegisterEnterRectSimple(EA,bj_mapInitialPlayableArea)call TriggerAddCondition(EA,Condition(function K_X))call TriggerAddAction(EA,function K0X)set OA=CreateTrigger()call JEE(OA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(OA,Condition(function K1X))call TriggerAddAction(OA,function K2X)set RA=CreateTrigger()call JEE(RA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(RA,Condition(function K3X))call TriggerAddAction(RA,function K4X)if(bj_isSinglePlayer and K5X())thencall L1X()endifset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Le,"-wtf",true)call TriggerAddAction(t,function L3X)call TriggerAddCondition(t,Condition(function L2X))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,RX[1],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,RX[2],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,RX[3],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,RX[4],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,RX[5],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[1],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[2],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[3],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[4],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerRegisterPlayerUnitEvent(t,GX[5],EVENT_PLAYER_HERO_LEVEL,Condition(function BUE))call TriggerAddCondition(t,Condition(function L4X))set t=nullset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Le,"-test",true)call TriggerAddCondition(t,Condition(function L5X))set t=nullset t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,GetWorldBounds())call TriggerRegisterEnterRegion(t,ZUO,null)call TriggerAddCondition(t,Condition(function T5X))call TriggerAddAction(t,function N9I)set t=nullset ZUO=nullcall J6I(AUV)call J6I(AZV)call J6I(ATV)call J6I(AYV)call J6I(AWV)call J6I(A_V)call J6I(NBV)call J6I(NFV)call J6I(NNV)call J6I(NDV)call J6I(NCV)call J6I(NGV)set t=CreateTrigger()call TriggerRegisterUnitInRange(t,FJ,300,Condition(function BUE))call TriggerRegisterUnitInRange(t,lJ,300,Condition(function BUE))call TriggerRegisterUnitInRange(t,DJ,300,Condition(function BUE))call TriggerAddCondition(t,Condition(function T6X))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,25.,false)call TriggerAddAction(t,function UIX)set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function T4X))set t=nullset N3=CreateRegion()call RegionAddRect(N3,WA)call RegionAddRect(N3,QA)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,25.,false)call TriggerAddAction(t,function UOX)set t=nullset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,RX[1],"-",false)call TriggerRegisterPlayerChatEvent(t,RX[2],"-",false)call TriggerRegisterPlayerChatEvent(t,RX[3],"-",false)call TriggerRegisterPlayerChatEvent(t,RX[4],"-",false)call TriggerRegisterPlayerChatEvent(t,RX[5],"-",false)call TriggerRegisterPlayerChatEvent(t,GX[1],"-",false)call TriggerRegisterPlayerChatEvent(t,GX[2],"-",false)call TriggerRegisterPlayerChatEvent(t,GX[3],"-",false)call TriggerRegisterPlayerChatEvent(t,GX[4],"-",false)call TriggerRegisterPlayerChatEvent(t,GX[5],"-",false)call TriggerAddAction(t,function UGX)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(t,Condition(function VEO))call TriggerAddAction(t,function VIO)set AW[0]=falseset AW[1]=falseset AW[2]=falseset AW[3]=falseset AW[4]=falseset AW[5]=falseset AW[6]=falseset AW[7]=falseset AW[8]=falseset AW[9]=falseset AW[$A]=falseset AW[$B]=falseset AW[$C]=falseset AW[$D]=falseset AW[$E]=falseset AW[$F]=falseset AW[16]=falseset D1V[0]=falseset D1V[1]=falseset D1V[2]=falseset D1V[3]=falseset D1V[4]=falseset D1V[5]=falseset D1V[6]=falseset D1V[7]=falseset D1V[8]=falseset D1V[9]=falseset D1V[$A]=falseset D1V[$B]=falseset D1V[$C]=falseset D1V[$D]=falseset D1V[$E]=falseset D1V[$F]=falseset D1V[16]=falseset D1V[GetPlayerId(RX[1])]=trueset D1V[GetPlayerId(RX[2])]=trueset D1V[GetPlayerId(RX[3])]=trueset D1V[GetPlayerId(RX[4])]=trueset D1V[GetPlayerId(RX[5])]=trueset D1V[GetPlayerId(GX[1])]=trueset D1V[GetPlayerId(GX[2])]=trueset D1V[GetPlayerId(GX[3])]=trueset D1V[GetPlayerId(GX[4])]=trueset D1V[GetPlayerId(GX[5])]=truecall VPO()set eb[0]=trueset eb[1]=trueset eb[2]=trueset eb[3]=trueset eb[4]=trueset eb[5]=trueset eb[6]=trueset eb[7]=trueset eb[8]=trueset eb[9]=trueset eb[$A]=trueset eb[$B]=trueset eb[$C]=trueset eb[$D]=trueset eb[$E]=trueset eb[$F]=trueset ib[0]=falseset ib[1]=falseset ib[2]=falseset ib[3]=falseset ib[4]=falseset ib[5]=falseset ib[6]=falseset ib[7]=falseset ib[8]=falseset ib[9]=falseset ib[$A]=falseset ib[$B]=falseset ib[$C]=falseset ib[$D]=falseset ib[$E]=falseset CW[GetPlayerId(RX[1])]=falseset CW[GetPlayerId(RX[2])]=falseset CW[GetPlayerId(RX[3])]=falseset CW[GetPlayerId(RX[4])]=falseset CW[GetPlayerId(RX[5])]=falseset CW[GetPlayerId(GX[1])]=falseset CW[GetPlayerId(GX[2])]=falseset CW[GetPlayerId(GX[3])]=falseset CW[GetPlayerId(GX[4])]=falseset CW[GetPlayerId(GX[5])]=falseset ab[GetPlayerId(RX[1])]=falseset ab[GetPlayerId(RX[2])]=falseset ab[GetPlayerId(RX[3])]=falseset ab[GetPlayerId(RX[4])]=falseset ab[GetPlayerId(RX[5])]=falseset ab[GetPlayerId(GX[1])]=falseset ab[GetPlayerId(GX[2])]=falseset ab[GetPlayerId(GX[3])]=falseset ab[GetPlayerId(GX[4])]=falseset ab[GetPlayerId(GX[5])]=falseset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call JEE(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function UFX))set RT[GetPlayerId(RX[1])]=falseset RT[GetPlayerId(RX[2])]=falseset RT[GetPlayerId(RX[3])]=falseset RT[GetPlayerId(RX[4])]=falseset RT[GetPlayerId(RX[5])]=falseset RT[GetPlayerId(GX[1])]=falseset RT[GetPlayerId(GX[2])]=falseset RT[GetPlayerId(GX[3])]=falseset RT[GetPlayerId(GX[4])]=falseset RT[GetPlayerId(GX[5])]=falseset Ob[0]=falseset Ob[1]=falseset Ob[2]=falseset Ob[3]=falseset Ob[4]=falseset Ob[5]=falseset Ob[6]=falseset Ob[7]=falseset Ob[8]=falseset Ob[9]=falseset Ob[$A]=falseset Ob[$B]=falseset Ob[$C]=falseset Ob[$D]=falseset Ob[$E]=falseset Ob[$F]=falseset Ob[16]=falseset Ab[0]=trueset Ab[1]=trueset Ab[2]=trueset Ab[3]=trueset Ab[4]=trueset Ab[5]=trueset Ab[6]=trueset Ab[7]=trueset Ab[8]=trueset Ab[9]=trueset Ab[$A]=trueset Ab[$B]=trueset Ab[$C]=trueset Ab[$D]=trueset Ab[$E]=trueset Ab[$F]=trueset Ab[16]=trueset XT[GetPlayerId(RX[1])]=falseset XT[GetPlayerId(RX[2])]=falseset XT[GetPlayerId(RX[3])]=falseset XT[GetPlayerId(RX[4])]=falseset XT[GetPlayerId(RX[5])]=falseset XT[GetPlayerId(GX[1])]=falseset XT[GetPlayerId(GX[2])]=falseset XT[GetPlayerId(GX[3])]=falseset XT[GetPlayerId(GX[4])]=falseset XT[GetPlayerId(GX[5])]=falsecall VYO()set Nb[0]=falseset Nb[1]=falseset Nb[2]=falseset Nb[3]=falseset Nb[4]=falseset Nb[5]=falseset Nb[6]=falseset Nb[7]=falseset Nb[8]=falseset Nb[9]=falseset Nb[$A]=falseset Nb[$B]=falseset Nb[$C]=falseset Nb[$D]=falseset Nb[$E]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed8.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"set db[Fb]=falseset IT[0]=falseset IT[1]=falseset IT[2]=falseset IT[3]=falseset IT[4]=falseset IT[5]=falseset IT[6]=falseset IT[7]=falseset IT[8]=falseset IT[9]=falseset IT[$A]=falseset IT[$B]=falseset IT[$C]=falseset IT[$D]=falseset t=CreateTrigger()set IAE=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function EGO))call O5E(IAE,"T_CurrentX",(0)*1.)call O5E(IAE,"T_CurrentY",(0)*1.)call O5E(IAE,"T_MaxX",($A0)*1.)set fb[0]=falseset fb[1]=falseset fb[2]=falseset fb[3]=falseset fb[4]=falseset fb[5]=falseset fb[6]=falseset fb[7]=falseset fb[8]=falseset fb[9]=falseset fb[$A]=falseset fb[$B]=falseset fb[$C]=falseset t=nullset t=CreateTrigger()call TriggerAddAction(t,function OXO)call TriggerAddCondition(t,Condition(function EPO))set QGV=tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function OOO))set t=nullif XR thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function IZO))endifset t=nullset Tj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Tj,A[1])call TriggerAddAction(Tj,function I4O)set Uj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Uj,A[2])call TriggerAddAction(Uj,function I5O)set wj=CreateTrigger()call TriggerRegisterTimerExpireEvent(wj,A[3])call TriggerAddAction(wj,function I6O)set zj=CreateTrigger()call TriggerRegisterTimerExpireEvent(zj,A[4])call TriggerAddAction(zj,function I7O)set Zj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Zj,A[5])call TriggerAddAction(Zj,function I8O)set vJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(vJ,A[7])call TriggerAddAction(vJ,function I9O)set eJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(eJ,A[8])call TriggerAddAction(eJ,function AVO)set xJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(xJ,A[9])call TriggerAddAction(xJ,function AEO)set oJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(oJ,A[$A])call TriggerAddAction(oJ,function AXO)set iJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(iJ,A[$B])call TriggerAddAction(iJ,function AOO)call H8N()call H9N()call JVN()call JEN()set OJ=CreateTrigger()call JEE(OJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OJ,Condition(function OZR))call TriggerAddAction(OJ,function O_R)set t=CreateTrigger()set ZUO=CreateRegion()call RegionAddRect(ZUO,GetWorldBounds())call TriggerRegisterEnterRegion(t,ZUO,Condition(function BUE))call TriggerAddCondition(t,Condition(function XHA))set HS[1]=1093686867set HS[2]=1093686859set HS[3]=1093686865set HS[4]=1093687372set HS[5]=1093686861set HS[6]=1093686862set HS[7]=1093686863set HS[8]=1093686864set HS[9]=1093686855set HS[$A]=1093686874set t=nullset ZUO=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YAA))set t=nullset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function A5I)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_DROP_ITEM)call JEE(t,EVENT_PLAYER_UNIT_PAWN_ITEM)call TriggerAddCondition(t,Condition(function YBA))set H7V=tset t=nullset bj[GetPlayerId(RX[1])]=falseset bj[GetPlayerId(RX[2])]=falseset bj[GetPlayerId(RX[3])]=falseset bj[GetPlayerId(RX[4])]=falseset bj[GetPlayerId(RX[5])]=falseset bj[GetPlayerId(GX[1])]=falseset bj[GetPlayerId(GX[2])]=falseset bj[GetPlayerId(GX[3])]=falseset bj[GetPlayerId(GX[4])]=falseset bj[GetPlayerId(GX[5])]=falseset EU[0]=GetRandomInt(1,2)set EU[1]=GetRandomInt(1,2)set EU[2]=GetRandomInt(1,2)set EU[3]=GetRandomInt(1,2)set EU[4]=GetRandomInt(1,2)set EU[5]=GetRandomInt(1,2)set EU[6]=GetRandomInt(1,2)set EU[7]=GetRandomInt(1,2)set EU[8]=GetRandomInt(1,2)set EU[9]=GetRandomInt(1,2)set EU[$A]=GetRandomInt(1,2)set EU[$B]=GetRandomInt(1,2)set EU[$C]=GetRandomInt(1,2)set EU[$D]=GetRandomInt(1,2)set EU[$E]=GetRandomInt(1,2)set EU[$F]=GetRandomInt(1,2)set WTV[0]=$FEset WTV[1]=$FFset WTV[2]=257set WTV[3]=261set WTV[4]=259set WTV[5]=262set WTV[6]=260set WTV[7]=$FDset WTV[8]=256set WTV[9]=258set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,false)call TriggerAddAction(t,function RWO)set WJV=CreateTrigger()call DisableTrigger(WJV)call TriggerRegisterTimerEvent(WJV,15.,true)call TriggerAddAction(WJV,function FCI)set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(t,function QYA)call TriggerRegisterTimerEventPeriodic(HK,5.)call TriggerAddAction(HK,function BGI)call TriggerRegisterTimerEventPeriodic(GMV,5.)call TriggerAddAction(GMV,function JMI)call DisableTrigger(GMV)call TriggerRegisterTimerEventPeriodic(Hn,1.)call TriggerAddAction(Hn,function PLI)call TriggerRegisterTimerEventPeriodic(HN,1.)call TriggerAddAction(HN,function PQI)call TriggerRegisterTimerEventPeriodic(Ho,2.)call TriggerAddAction(Ho,function PZI)call DisableTrigger(GQV)call TriggerRegisterTimerEventPeriodic(GQV,2.)call TriggerAddAction(GQV,function WFI)set t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(t,function FFI)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,NA)call TriggerAddCondition(t,Condition(function D6))call TriggerAddAction(t,function G4I)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,BA)call TriggerAddCondition(t,Condition(function C6))call TriggerAddAction(t,function G6I)call DisableTrigger(GSV)call TriggerRegisterTimerEventPeriodic(GSV,120.)call TriggerAddAction(GSV,function VDA)set FWV=$Cset FYV=$Ccall GEI()if GetPlayerController(RX[1])==MAP_CONTROL_COMPUTER or GetPlayerController(RX[2])==MAP_CONTROL_COMPUTER or GetPlayerController(RX[3])==MAP_CONTROL_COMPUTER or GetPlayerController(RX[4])==MAP_CONTROL_COMPUTER or GetPlayerController(RX[5])==MAP_CONTROL_COMPUTER or GetPlayerController(GX[1])==MAP_CONTROL_COMPUTER or GetPlayerController(GX[2])==MAP_CONTROL_COMPUTER or GetPlayerController(GX[3])==MAP_CONTROL_COMPUTER or GetPlayerController(GX[4])==MAP_CONTROL_COMPUTER or GetPlayerController(GX[5])==MAP_CONTROL_COMPUTER thencall DisplayTimedTextToPlayer(Le,0,0,10.,"AI normally gains bonus exp; to turn it off, add "+"|c00dd8dff"+"-ne|r as game mode")if(GetPlayerController(RX[1])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(RX[1])]==3 or QRV[GetPlayerId(RX[1])]==5))or(GetPlayerController(RX[2])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(RX[2])]==3 or QRV[GetPlayerId(RX[2])]==5))or(GetPlayerController(RX[3])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(RX[3])]==3 or QRV[GetPlayerId(RX[3])]==5))or(GetPlayerController(RX[4])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(RX[4])]==3 or QRV[GetPlayerId(RX[4])]==5))or(GetPlayerController(RX[5])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(RX[5])]==3 or QRV[GetPlayerId(RX[5])]==5))or(GetPlayerController(GX[1])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(GX[1])]==3 or QRV[GetPlayerId(GX[1])]==5))or(GetPlayerController(GX[2])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(GX[2])]==3 or QRV[GetPlayerId(GX[2])]==5))or(GetPlayerController(GX[3])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(GX[3])]==3 or QRV[GetPlayerId(GX[3])]==5))or(GetPlayerController(GX[4])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(GX[4])]==3 or QRV[GetPlayerId(GX[4])]==5))or(GetPlayerController(GX[5])==MAP_CONTROL_COMPUTER and(QRV[GetPlayerId(GX[5])]==3 or QRV[GetPlayerId(GX[5])]==5))thencall DisplayTimedTextToPlayer(Le,0,0,10.,"AI normally gains bonus gold; to turn it off, add "+"|c00dd8dff"+"-ng|r as game mode")endifcall DisplayTimedTextToPlayer(Le,0,0,$A," ")endifset t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function XCA))set t=CreateTrigger()call JEE(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function YOA))call ExecuteFunc("PKE")set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Player(1),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(2),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(3),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(4),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(5),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(7),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(8),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(9),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player($A),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player($B),"-dbg",false)call TriggerAddCondition(t,Condition(function VKE))set t=nullendfunctionfunction config takes nothing returns nothingcall SetMapName("TRIGSTR_50000")call SetMapDescription("TRIGSTR_50001")call SetPlayers($A)call SetTeams($A)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,-6990.,6840.)call DefineStartLocation(1,-6990.,6840.)call DefineStartLocation(2,-6990.,6840.)call DefineStartLocation(3,-6990.,6840.)call DefineStartLocation(4,-6990.,6840.)call DefineStartLocation(5,-6990.,6840.)call DefineStartLocation(6,-6990.,6840.)call DefineStartLocation(7,-6990.,6840.)call DefineStartLocation(8,-6990.,6840.)call DefineStartLocation(9,-6990.,6840.)call SetPlayerStartLocation(Player(1),0)call ForcePlayerStartLocation(Player(1),0)call SetPlayerColor(Player(1),ConvertPlayerColor(1))call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(2),1)call ForcePlayerStartLocation(Player(2),1)call SetPlayerColor(Player(2),ConvertPlayerColor(2))call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(3),2)call ForcePlayerStartLocation(Player(3),2)call SetPlayerColor(Player(3),ConvertPlayerColor(3))call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(4),3)call ForcePlayerStartLocation(Player(4),3)call SetPlayerColor(Player(4),ConvertPlayerColor(4))call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(5),4)call ForcePlayerStartLocation(Player(5),4)call SetPlayerColor(Player(5),ConvertPlayerColor(5))call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(7),5)call ForcePlayerStartLocation(Player(7),5)call SetPlayerColor(Player(7),ConvertPlayerColor(7))call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(8),6)call ForcePlayerStartLocation(Player(8),6)call SetPlayerColor(Player(8),ConvertPlayerColor(8))call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(9),7)call ForcePlayerStartLocation(Player(9),7)call SetPlayerColor(Player(9),ConvertPlayerColor(9))call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(9),false)call SetPlayerController(Player(9),MAP_CONTROL_USER)call SetPlayerStartLocation(Player($A),8)call ForcePlayerStartLocation(Player($A),8)call SetPlayerColor(Player($A),ConvertPlayerColor($A))call SetPlayerRacePreference(Player($A),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player($A),false)call SetPlayerController(Player($A),MAP_CONTROL_USER)call SetPlayerStartLocation(Player($B),9)call ForcePlayerStartLocation(Player($B),9)call SetPlayerColor(Player($B),ConvertPlayerColor($B))call SetPlayerRacePreference(Player($B),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player($B),false)call SetPlayerController(Player($B),MAP_CONTROL_USER)call InitCustomTeams()call SetPlayerAlliance(Player($F),Player(1),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(2),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(3),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(4),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(5),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(7),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(8),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player(9),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player($A),ConvertAllianceType(6),true)call SetPlayerAlliance(Player($F),Player($B),ConvertAllianceType(6),true)call SetStartLocPrioCount(0,9)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(1,9)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(2,9)call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,9)call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,9)call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(5,9)call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(6,9)call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(7,9)call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(8,9)call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(9,9)call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)endfunction