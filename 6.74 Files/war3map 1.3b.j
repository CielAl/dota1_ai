globalsboolean array vinteger array Dinteger array Vinteger array Eboolean G=falseboolean J=falsestring array Kboolean array Itimer array Ainteger array Mtimer array Ninteger array Otimer P=nullinteger array Finteger Q=0integer T=0integer array Hinteger array Uboolean W=falseboolean B=falseboolean C=falseboolean L=falseboolean D4=falsemultiboard E4=nullunit P4=nullboolean array T4integer V4=0boolean W4=falseboolean X4=falseboolean Y4=falselocation Z=nulllocation vv=nulllocation ev=nulllocation ov=nulllocation rv=nullboolean av=falseboolean Ev=falseboolean Ov=falseboolean Rv=falseboolean Av=falseboolean Nv=falseboolean bv=falseboolean Bv=falseboolean cv=falseboolean Cv=falseboolean Dv=falseboolean fv=falseinteger A4=0integer D7=0location Jv=nulllocation lv=nulllocation Lv=nulllocation mv=nulllocation pv=nulllocation qv=nulllocation Qv=nulllocation sv=nulllocation tv=nulllocation Tv=nulllocation Uv=nulllocation Wv=nulllocation E7=nulllocation F7=nullunit array G7integer ae=0integer ne=0player array M7player array O7integer array Oeinteger array P7integer array T7unit array U7integer array Beforce W7=nullforce X7=nullplayer array Y7player array Z7player A7=nullplayer B7=nullboolean ge=falseinteger Ge=0integer he=0integer array jehashtable C7=nullplayer Le=nullunit L7=nullinteger pe=0real D8=0item array seitem array Seitem array Weitem array zeitem array Zeitem array vxboolean E8=falseinteger F8=0location array G8unit ox=nullgroup N8=nullboolean O8=falseboolean AJ=falseboolean R8=falseboolean V8=falseboolean Ox=falseboolean Rx=falseboolean Nx=falseboolean bx=falsestring cx=""boolean W8=falseinteger X8=0item jx=nullplayer lx=nullboolean Y8=falseboolean array mxinteger array Z8integer A8=0force B8=nullboolean C8=falsereal L8=0boolean D9=falseboolean E9=falseboolean F9=falseboolean array Txstring vo=""boolean array eoboolean array ooboolean ao=falseboolean G9=falsetrigger O9integer array P9integer array S9integer array T9weathereffect bo=nullweathereffect Bo=nullboolean U9=falselocation V9=nullreal Co=0string W9=""string array X9rect go=nullrect jo=nullrect lo=nullrect Y9=nullrect Qo=nullrect to=nullrect Uo=nullrect wo=nullrect zo=nullrect er=nullrect Z9=nullrect ar=nullrect Er=nullrect Xr=nullrect A9=nullrect B9=nullrect C9=nullrect L9=nullrect Br=nullrect cr=nullrect Cr=nullrect fr=nullrect Fr=nullrect Hr=nullrect jr=nullrect Jr=nullrect lr=nullrect mr=nullrect pr=nullrect qr=nullrect Qr=nullrect Sr=nullrect Ur=nullrect Wr=nullrect zr=nullrect Zr=nullrect vi=nullrect ei=nullrect xi=nullrect oi=nullrect ai=nullrect ED=nullrect FD=nullrect Ai=nullrect Ni=nullrect bi=nullrect Bi=nullrect GD=nullrect HD=nullrect di=nullrect fi=nullrect Fi=nullrect Gi=nullrect Ji=nullrect li=nullrect Li=nullrect pi=nullrect MD=nullrect ND=nullrect OD=nullrect PD=nullrect QD=nullrect WD=nullrect XD=nullrect YD=nullrect ZD=nullrect AD=nullrect BD=nullrect LD=nullrect KE=nullrect RE=nullrect SE=nullrect WE=nullrect YE=nullrect EF=nullrect FF=nullrect GF=nullrect HF=nullrect JF=nullrect KF=nullrect MF=nullrect NF=nullrect OF=nullrect PF=nullrect QF=nullrect RF=nullrect SF=nullrect UF=nullrect WF=nullrect XF=nullrect YF=nullrect BF=nullrect CF=nullrect LF=nullrect DG=nullrect EG=nullrect FG=nullrect GG=nullrect JG=nullrect MG=nullrect OG=nullrect PG=nullrect QG=nullrect RG=nullrect SG=nullrect TG=nullrect UG=nullrect VG=nullrect WG=nullrect XG=nullrect ZG=nullrect AG=nullrect BG=nullrect CG=nullrect LG=nullrect DH=nullrect EH=nullrect HH=nullrect OH=nullrect PH=nullrect QH=nullrect RH=nullrect UH=nullrect WH=nullrect XH=nullrect YH=nullrect ZH=nullrect AH=nullrect CH=nullrect DI=nullrect EI=nullrect GI=nullrect HI=nullrect II=nullrect JI=nullrect NI=nullrect PI=nullrect SI=nullrect TI=nullrect UI=nullrect XI=nullrect YI=nullrect BI=nullrect CI=nullrect LI=nullrect TJ=nullrect UK=nullrect YK=nullrect SM=nullrect TM=nullrect UM=nullrect WM=nullrect YM=nullrect ZM=nullrect JN=nullrect MN=nullrect TN=nullrect UN=nullrect eE=nullrect oE=nullrect aE=nullrect nE=nullrect VE=nullrect EE=nullrect XE=nullrect OE=nullrect IE=nullrect AE=nullrect bE=nullrect BE=nullrect cE=nullrect CE=nullrect dE=nullrect fE=nullrect FE=nullrect gE=nullrect GE=nullrect JE=nullrect lE=nullrect LE=nullrect ME=nullrect pE=nullrect PE=nullrect qE=nullrect QE=nullrect WN=nullrect YN=nullsound yE=nullsound zE=nullsound vX=nullsound ZN=nullsound BN=nullsound aX=nullsound nX=nullsound EX=nullsound OX=nullsound AX=nullsound NX=nullsound bX=nullsound BX=nullsound cX=nullsound CX=nullsound fX=nullsound kX=nullsound LX=nullsound mX=nullsound MX=nullsound PX=nullsound qX=nullsound QX=nullsound tX=nullsound TX=nullsound uX=nullsound UX=nullsound JO=nullsound eO=nullsound oO=nullsound rO=nullsound aO=nullsound VO=nullsound EO=nullsound XO=nullsound OO=nullsound AO=nullsound NO=nullsound bO=nullsound BO=nullsound cO=nullsound CO=nullsound fO=nullsound FO=nullsound gO=nullsound hO=nullsound HO=nullsound kO=nullsound lO=nullsound mO=nullsound pO=nullsound qO=nullsound QO=nullsound tO=nullsound UO=nullsound wO=nullsound WO=nullsound zO=nullsound vR=nullsound eR=nullsound oR=nullsound rR=nullsound aR=nullsound RR=nullsound bR=nullsound BR=nullsound TO=nullsound CR=nullsound fR=nullsound YO=nullsound hR=nullsound HR=nullsound JR=nullsound lR=nullsound LR=nullsound mR=nullsound pR=nullsound PR=nullsound qR=nullsound QR=nullsound sR=nullsound SR=nullsound UR=nullsound WR=nullsound zR=nullsound ZO=nullsound LO=nullsound eI=nullsound oI=nullsound DP=nullsound EP=nullsound RI=nullsound GP=nullstring IP="Sound\\Music\\mp3Music\\Undead1.mp3"string JP="Sound\\Music\\mp3Music\\Undead2.mp3"string KP="Sound\\Music\\mp3Music\\Undead3.mp3"string OP="Sound\\Music\\mp3Music\\Orc1.mp3"string RP="Sound\\Music\\mp3Music\\Orc2.mp3"string TP="Sound\\Music\\mp3Music\\Orc3.mp3"string VP="Sound\\Music\\mp3Music\\NightElf1.mp3"string XP="Sound\\Music\\mp3Music\\NightElf2.mp3"string YP="Sound\\Music\\mp3Music\\NightElf3.mp3"string ZP="Sound\\Music\\mp3Music\\Human1.mp3"string BP="Sound\\Music\\mp3Music\\Human2.mp3"string CP="Sound\\Music\\mp3Music\\Human3.mp3"string GQ="Sound\\Music\\mp3Music\\BloodElfTheme.mp3"string IQ="Sound\\Music\\mp3Music\\DarkAgents.mp3"string JQ="Sound\\Music\\mp3Music\\TragicConfrontation.mp3"string YQ="Sound\\Music\\mp3Music\\SadMystery.mp3"string GR="Sound\\Music\\mp3Music\\IllidansTheme.mp3"string IR="Sound\\Music\\mp3Music\\PH1.mp3"trigger WI=nulltrigger OR=nulltrigger XR=nulltrigger ZI=nulltrigger vA=nulltrigger eA=nulltrigger xA=nulltrigger YR=nulltrigger VA=nulltrigger EA=nulltrigger OA=nulltrigger RA=nulltrigger ZR=nulltrigger DS=nulltrigger ES=nulltrigger cA=nulltrigger CA=nulltrigger dA=nulltrigger DA=nulltrigger fA=nulltrigger FA=nulltrigger gA=nulltrigger GA=nulltrigger LA=nulltrigger mA=nulltrigger MA=nulltrigger PA=nulltrigger SA=nulltrigger TA=nulltrigger FS=nulltrigger wA=nulltrigger HS=nulltrigger JS=nullboolean zA=falseunit vN=nullreal KS=0integer array MSconstant real VN=1constant real EN=4constant real XN=4constant real ON=150real AN=1.0boolean bN=falseboolean OS=falseboolean YS=falseinteger array CNreal dNunit DNunit fNinteger FNgroup gNunit BSinteger CSinteger pN=0real SNreal tNunit LSunit DTreal ETboolean array FTinteger array vbboolean array ebboolean array obboolean array ibboolean array abreal array nbinteger array ITboolean array JTboolean array Obboolean array Abboolean array Nbinteger bbinteger Bbinteger cbstring array Cbboolean array dbboolean array KTboolean array fbinteger Fb=0boolean gb=truestring array MTinteger OT=0string Lbreal mbreal array Mbinteger array pbinteger array Qbinteger Tb=1constant real wb=15boolean PT=falseboolean QT=falseboolean RT=falseboolean TT=falseboolean UT=falseboolean VT=falseboolean WT=falseboolean XT=falseboolean ZT=falseboolean AT=falseinteger array BTplayer array CTinteger array LTinteger array EUconstant real FU=55integer EB='h06J'real OBreal ABunit BBunit cBgroup CB=nullstring dB=nullreal DBinteger fBunit FBunit gBreal lBunit IUreal JUunit MBreal pBunit PBdestructable SB=nullunit TB=nullreal wB=0constant real MU=26constant real yB=550constant real zB=500group ZBunit vcreal ecinteger xcinteger acunit nc=nullunit Vc=nullinteger array NUinteger array OUinteger array PUinteger array QUstring array RUinteger array SUinteger array ZUinteger AU=0integer BUinteger CUinteger LUinteger DVinteger EVinteger FVinteger JVinteger MVinteger NVinteger OVinteger QVinteger TVinteger UVinteger XVinteger AVinteger BVinteger CVinteger LVinteger EWinteger HWinteger NWinteger OWinteger QWinteger RWinteger TWinteger UWinteger VWinteger YWinteger ZWinteger GXinteger RXinteger SXinteger WXinteger YXinteger ZXinteger GYinteger HYinteger SYinteger UYinteger ZYinteger DZinteger EZinteger HZinteger NZinteger RZinteger XZinteger AZinteger BZinteger CZinteger IAinteger JAinteger NAinteger QAinteger WAinteger YAinteger ZAinteger BAinteger GBinteger JBinteger QBinteger VBinteger WBinteger YBinteger LBinteger ECinteger FCinteger GCinteger JCinteger NCinteger OCinteger PCinteger QCinteger TCinteger VCinteger XCinteger YCinteger ZCinteger ACinteger BCinteger CCinteger LCinteger H3integer R3integer U3integer W3integer Y3integer Z3integer B3integer C3integer E6integer F6integer G6integer H6integer N6integer V6integer W6integer A6integer DLinteger HLinteger RLinteger WLinteger ZLinteger ALinteger LLinteger D1integer E1integer F1integer J1integer P1integer Q1integer R1integer T1integer U1integer V1integer X1integer A1integer E0integer J0integer O0integer R0integer X0integer Y0integer F5integer G5integer J5integer M5integer N5integer R5integer S5integer T5integer W5integer A5integer B5integer C5integer L5integer E2integer F2integer H2integer R2integer T2integer X2integer D44integer D74integer D84integer D94integer DD4integer DE4integer DF4integer DG4integer DH4integer DJ4integer DK4integer DM4integer DN4integer DO4integer DP4integer DQ4integer DR4integer DS4integer DT4integer DU4integer DV4integer DW4integer DX4integer DY4integer DZ4integer DA4integer DB4integer DC4integer D34integer D64integer DL4integer D54integer D24integer D_4integer E44integer E74integer E84integer E94integer ED4integer EE4integer EF4integer EG4integer EH4integer EI4integer EJ4integer EK4integer EM4integer EN4integer EO4integer EP4integer EQ4integer ER4integer ES4integer ET4integer EU4integer EV4integer EW4integer EX4integer EY4integer EZ4integer EA4integer EB4integer EC4integer E34integer E64integer EL4integer E14integer E04integer E54integer E24integer E_4integer F44integer F74integer F84integer F94integer FD4integer FE4integer FF4integer FG4integer FH4integer FI4integer FJ4integer FK4integer FM4integer FN4integer FO4integer FP4integer FQ4integer FR4integer FS4integer FT4integer FU4integer FV4integer FW4integer FX4integer FY4integer FZ4=-1integer array FA4integer array FB4integer array FC4integer array F34integer array F64integer array FL4integer F14=0integer F04integer F54integer F24integer F_4integer G44integer G74integer G84integer G94integer GD4integer GE4integer GG4integer GH4integer GI4integer GJ4integer GK4integer GM4integer GN4integer GO4integer GP4integer GQ4integer GR4integer GS4integer GT4integer GU4integer GV4integer GW4integer GX4integer GY4integer GZ4integer GA4integer GB4integer G34integer G64integer GL4integer G14integer G04integer G54integer G24integer G_4integer H44integer H74integer H84integer H94integer HD4integer HE4integer HF4integer HG4integer HH4integer HI4integer HJ4integer HK4integer HM4integer HN4integer HO4player Shboolean Th=falseboolean Uh=falseplayer whunit Whunit zhinteger array Zhinteger array HP4unit eHboolean HQ4=trueboolean oH=falsetrigger HR4integer HS4=0integer HT4=0integer HU4=0integer HV4=0integer HW4=0integer HX4=0boolean NH=falseboolexpr bH=nulltrigger BHtrigger cHconstant real HY4=37integer array dHinteger array HZ4integer FHinteger GHinteger hHinteger jHinteger JHinteger kHinteger lHinteger LHinteger MHrect pH=nullinteger array HA4integer array HB4integer array HC4integer array H34integer array H64integer array HL4integer array H14integer array H04integer array H54integer array H24string array H_4string array I44string array I74string array IE4trigger array rjtrigger array ajtrigger array njtrigger array Vjtrigger array Ejtrigger array Rjtrigger array Ajtrigger array Njboolean array bjconstant boolean Bj=falseitem IF4=nullinteger IG4=0integer IH4=0string Dj="|c00ff0303"string fj="|c00ff0303"string gj="|c000042ff"string Gj="|c00646464"string Hj="|c00ffffff"boolean jj=falseboolean Jj=falseboolean lj=falseboolean IJ4=falseinteger array IK4integer array IM4integer array IN4trigger IP4=nulltrigger Tj=nulltrigger Uj=nulltrigger wj=nulltrigger zj=nulltrigger Zj=nulltrigger vJ=nulltrigger eJ=nulltrigger xJ=nulltrigger oJ=nulltrigger iJ=nulltrigger IQ4=nulltrigger nJ=nulltrigger do=nulltrigger VJ=nulltrigger dq=nulltrigger IR4=nulltrigger dr=nulltrigger dR=nulltrigger EJ=nulltrigger dT=nulltrigger du=nulltrigger dU=nulltrigger dX=nulltrigger dY=nulltrigger dZ=nulltrigger d0=nulltrigger IS4=nulltrigger IT4=nulltrigger d3=nulltrigger d4=nulltrigger d5=nulltrigger IU4=nulltrigger d8=nulltrigger d9=nulltrigger XJ=nulltrigger Dc=nulltrigger DC=nulltrigger OJ=nulltrigger DF=nulltrigger RJ=nulltrigger IV4=nulltrigger Dk=nulltrigger DK=nulltrigger Dm=nulltrigger NJ=nulltrigger Do=nulltrigger DO=nulltrigger Dp=nulltrigger DQ=nullunit BJ=nullunit cJ=nullunit CJ=nullunit dJ=nullunit DJ=nullunit fJ=nullunit FJ=nullunit gJ=nullunit GJ=nullunit HJ=nullunit JJ=nullunit lJ=nullunit LJ=nullunit MJ=nullunit PJ=nullunit qJ=nullunit QJ=nullunit SJ=nullunit tJ=nullunit IW4=nullunit UJ=nullunit wJ=nullunit WJ=nullunit yJ=nullunit zJ=nullunit ZJ=nullunit vk=nullunit ek=nullunit xk=nullunit ok=nullunit ik=nullunit ak=nullunit nk=nullunit Vk=nullunit Ek=nullunit Ok=nullunit Rk=nullunit Ak=nullunit Nk=nullunit bk=nullunit Bk=nullunit ck=nullunit Ck=nullunit dk=nullunit fk=nullunit Fk=nullunit gk=nullunit Gk=nullunit jk=nullunit Jk=nullunit lk=nullunit Lk=nullunit pk=nullunit Pk=nullunit qk=nullunit Qk=nullunit Sk=nullunit tk=nullunit Uk=nullunit wk=nullunit Wk=nullunit yk=nullunit zk=nullunit vK=nullunit eK=nullunit xK=nullunit aK=nullunit VK=nullunit EK=nullunit XK=nullunit OK=nullunit AK=nullunit NK=nullunit bK=nullunit BK=nullunit cK=nullunit CK=nullunit dK=nullunit fK=nullunit FK=nullunit gK=nullunit GK=nullunit JK=nullunit lK=nullunit LK=nullunit PK=nullunit qK=nullunit QK=nullunit SK=nullunit TK=nullunit wK=nullunit WK=nullunit zK=nullunit ZK=nullunit vl=nullunit el=nullunit xl=nullunit ol=nullunit rl=nullunit al=nullunit Vl=nullunit El=nullunit Xl=nullunit Ol=nullunit Rl=nullunit Al=nullunit Nl=nullunit bl=nullunit Bl=nullunit cl=nullunit Cl=nullunit dl=nullunit array flunit array Flunit array glinteger Hl=0trigger array Dxreal array DXinteger Dy=0boolean array IX4real array Jlinteger array llinteger array Llinteger Ml=0string array Plinteger array qlinteger Ql=0integer sl=0integer IY4integer tlinteger Tlreal IZ4real I34real IL4real Zlreal vLreal eLunit I04unit I_4trigger eCgroup J44group aLplayer J74boolean ELstring OLunit J84=nullregion J94integer array NLinteger array bLinteger array BLinteger array cLinteger CL=0gamecache JD4weathereffect fLweathereffect FLrect JE4constant playercolor gL=ConvertPlayerColor(0)constant playercolor hL=ConvertPlayerColor(6)constant playercolor JL=ConvertPlayerColor(12)real JF4=-7168real JG4=-7264real ML=-6816real PL=-7264real QL=-7200real SL=-6752real tL=-7200real TL=-6944real UL=-6560real wL=-7264real zL=-6560real vm=-6560real em=-6688real xm=-6496real om=-6816real rm=-6496real im=-6944real am=-6496real Vm=-7072real Em=-6560real Xm=-7328real Om=-5984real Am=-5632real Nm=-6144real bm=-6112real Bm=1568real cm=-1504real Cm=-1824real dm=4960real fm=-6752real Fm=-6112real hm=-1248real Jm=-3488real lm=-3296real Mm=-544real pm=-6688real Pm=-6368real Qm=-4256real Tm=-4448real Um=-4960real wm=-3744real Wm=-6816real zm=-5600real vM=-5728real eM=-5280real oM=-6112real rM=-6080real iM=-4480real aM=-4416real nM=-5312real VM=-4032real XM=-7040real AM=-6656real bM=-4480real BM=-4864real cM=-4992real dM=-4032real fM=-6528real gM=-5792real hM=-5408real HM=-6624real JM=-5088real kM=-5344real lM=-3936real pM=-4832real sM=-4384real tM=-3936real wM=-5216real zM=-5088real vp=-5536real ep=-4896real op=-6240real rp=-3616real ap=-5728real Vp=-4512real Ep=-7072real Xp=-5472real Rp=-4704real Ap=-4512real bp=-5856real Bp=-6080real cp=-5120real Cp=-4544real dp=-6528real fp=-6400real Fp=-5696real gp=-5248real Hp=-6848unit JH4unit JI4unit JJ4unit JK4unit JM4unit JN4unit JO4unit JP4unit JQ4unit JR4unit JS4unit JT4unit JU4unit JV4unit JW4unit JX4unit JY4unit JZ4unit JA4unit JB4unit JC4unit J34unit J64unit JL4unit J14unit J04unit J54unit J24unit J_4unit fPunit FPunit lPunit LPunit MPunit pPunit PPunit qPunit QPunit sPunit tPunit WPunit zPunit vqunit eqreal K44=6272real K74=5504real rq=6464real iq=5120real aq=5952real Eq=5568real Rq=6080real Aq=5568real Nq=6464real bq=4736real Bq=5696real cq=5120real Cq=5568real Dq=5248real fq=5568real Fq=5376real Hq=5696real jq=5504real Jq=5568real Mq=5696real qq=5568real Qq=5696real Sq=4992real tq=4544real Uq=-4704real zq=5920real Zq=1056real vQ=-160real eQ=6048real xQ=-2080real oQ=32real iQ=5856real aQ=2400real EQ=1696real OQ=6112real RQ=-96real AQ=3168real NQ=5920real bQ=3616real BQ=3296real cQ=6048real CQ=2784real fQ=4640real FQ=4576real hQ=5088real HQ=4192real lQ=3776real LQ=5888real mQ=4096real MQ=3392real PQ=6208real QQ=3264real SQ=3520real UQ=5376real WQ=3776real zQ=3840real ZQ=5696real vs=3264real es=3168real os=4000real rs=4192real as=5536real ns=4128real Vs=4512real Es=4640real Xs=3680real Rs=4832real As=3104real Ns=5408real bs=2592real Bs=5408real cs=3296real Cs=6112real Ds=4000real fs=3040real Fs=5088real Hs=6304real js=3744real Js=6304real Ks=3744real ls=3520real Ls=4608real ms=4096real Ms=2624real ps=4096real Ps=2624real Qs=4096real Ss=2624unit K84unit K94unit zsunit Zsunit KD4unit eSunit oSunit rSunit aSunit nSunit VSunit KE4unit KF4unit KG4unit KH4unit KI4unit KJ4unit KK4unit KM4unit KN4unit KO4unit KP4unit KQ4unit KR4unit KS4unit KT4unit KU4unit KV4unit KW4unit PSunit QSunit SSunit tSunit TSunit USunit WSunit ZSunit vtunit etunit xtunit otunit rtunit atunit Vtunit KX4unit KY4unit KZ4unit KA4unit KB4unit KC4unit K34unit K64unit KL4unit K14unit array K04real array K54real array K24player K_4player M44string array M74integer array M84integer array M94integer array MD4integer array ME4integer array MF4integer MG4integer MH4integer MI4integer MJ4integer array MK4integer MM4integer array MN4integer MO4integer array MP4integer MQ4integer array MR4integer MS4integer array MT4integer MU4string array MV4integer array MW4string array MX4string array MY4string array MZ4string array MA4string array MB4unit MC4unit M34unit M64unit ML4unit M14unit M04unit M54unit M24unit M_4unit N44unit N74unit N84integer array N94integer ND4=0boolean NE4=falseinteger NF4=0trigger NG4boolean NH4=falsetrigger NI4trigger NJ4trigger NK4real NM4=0real NN4=0hashtable NO4timer array NP4integer array NQ4integer array NR4multiboard NS4integer array NT4integer array NU4player array NV4integer NW4=0string Fx="|c00FF6600"multiboard NX4trigger NY4unit array NZ4real array NA4boolean array NB4integer NC4=0unit array qureal array Quboolean array Suinteger array tuinteger array N34integer array wuinteger array Wuinteger array N64integer array NL4unit N14=nullboolean N04=trueinteger N54=1trigger N24integer N_4=0integer O44integer O74integer array O84integer array O94integer OD4integer OE4integer array OF4boolean OG4=falseunit OH4=nullunit OI4=nullgroup KUboolean OJ4=trueboolean OK4=falseboolean OM4=falseinteger ON4player OO4trigger OP4=nulltrigger OQ4=nullinteger OR4integer TU='A0HU'integer vw='A0HX'trigger OS4region owinteger array gDunit array rwunit OT4=nullunit OU4region Ewinteger array Rwinteger Aw='A11F'integer Nw='A11E'integer bw='A0S3'integer Bw='A11D'integer cw='A11G'integer Cw='A11H'integer dw='A11B'integer Dw='A11A'integer fw='A0S2'integer Fw='A119'integer hw='A11C'integer kw='A118'integer Lw='A0FY'unit Mwgroup pwunit qwunit Qwboolean tw=falseboolean Uw=falseboolean zw=falseboolean vW=falseboolean eW=falseboolean oW=falseboolean rW=falseboolean iW=falseunit array OV4real array OW4timer array gginteger array FIboolean OX4=falsereal array Fjinteger gi=0real array OY4item array OZ4integer OA4=0boolean array AWboolean array OB4leaderboard array gmboolean bW=trueweathereffect BWboolean array cWboolean array CWinteger dW=0integer array DWinteger array fWinteger array FWinteger array hWinteger array LWinteger array mWinteger array MWinteger array pWinteger array PWstring OC4="No Mode"unit grboolean O34=falseboolean tW=falseboolean Fz=falseinteger array O64constant real OL4=-6950constant real O14=6750boolean O04=falseboolean F0=falseboolean O54=falseboolean gH=falseboolean O24=falseinteger O_4boolean P44=falseboolean oy=trueboolean P74=falseboolean P84=falseboolean P94=falseboolean PD4=falseboolean PE4=falseboolean Ny=falseboolean PF4=falseboolean PG4=falseunit array PH4integer Ly='A10N'integer my='A0S0'integer My='A10O'integer py='A10P'real PI4real PJ4unit PK4trigger PM4integer PN4='A05V'boolean PO4=falseboolean uy=falseboolean vY=trueboolean Gs=falseboolean PP4=falseboolean PQ4=falseboolean GT=falseboolean GU=falseboolean Gv=trueboolean Gw=trueboolean PR4=trueboolean PS4=trueboolean PT4=falseboolean array GZboolean array G0integer G1=0integer G2=0integer G3=-1integer G4=-1boolean PU4=trueboolean PV4=trueinteger PW4=0integer PX4=0integer PY4=0integer PZ4=0integer PA4=0integer PB4=0integer PC4=0integer P34=0integer hB=4integer hc=5integer hC=5integer hD=0integer hE=0integer hF=0integer array hGinteger array eYinteger array hjinteger xY=0integer oYinteger rYreal aY=0real VY=0real EY=0real XY=0real OY=0real IY=0real AY=0real bY=0real BY=0real cY=0real CY=0real DY=0real fY=0real FY=0real JY=0real kY=0real lY=0real mY=0real MY=0real PY=0real QY=0real sY=0real tY=0real TY=0real uY=0real wY=0real YY=0real vz=0constant real P64=90boolean xz=falseboolean oz=falseboolean rz=falseboolean az=falseboolean nz=falseboolean Vz=falseboolean Ez=falseboolean Xz=falsetimer PL4boolean P14=falseinteger P04=90boolean P54=falsereal Bz=0.real array hqunit hr=nullunit hS=nullunit hx=nullunit hy=nullunit hz=nullunit hZ=nullunit h0=nullunit array h4unit array h7unit array h8unit array h9location Halocation HAlocation Hblocation HBlocation Hclocation array HCrect cz=nullreal P24real P_4real Q44real Q74real Q84real Q94player QD4rect QE4=nullrect QF4=nullrect QG4=nullrect Cz=nullrect QH4=nullrect QI4=nullrect QJ4=nullrect He=nullplayer QK4=nullplayer QM4=nullplayer QN4=nullplayer QO4=nullforce QP4=CreateForce()trigger HK=CreateTrigger()trigger QQ4=CreateTrigger()trigger QR4=CreateTrigger()trigger Hn=CreateTrigger()trigger HN=CreateTrigger()trigger Ho=CreateTrigger()trigger QS4=CreateTrigger()trigger QT4=CreateTrigger()trigger QU4trigger QV4trigger QW4trigger QX4trigger array QY4item Hudestructable H0group H8=CreateGroup()group H9=CreateGroup()group iA=CreateGroup()group QZ4=CreateGroup()group iC=CreateGroup()group iE=CreateGroup()group iF=CreateGroup()group ig=CreateGroup()group iG=CreateGroup()group iH=CreateGroup()group ii=CreateGroup()group ij=nullboolexpr QA4=nullboolexpr iLboolexpr QB4boolexpr ipboolexpr iPinteger QC4=StringHash("PBMN|AI")integer array Q34integer array Q64real Wz=0.real Yz=0.group Zz=nullunit vZinteger eZunit oZunit rZunit iZunit aZgroup nZreal VZunit QL4unit Q14group Q04integer array Q54integer array Q24integer array Q_4integer array R44integer array R74integer array R84integer array R94integer array RD4unit RE4real RF4unit FZreal gZinteger jZinteger JZunit LZreal mZinteger MZplayer QZunit sZinteger tZplayer TZinteger UZunit array wZinteger WZunit array YZunit array zZinteger ZZunit array v0unit e0unit o0unit array RG4integer n0boolean V0=falseunit RH4integer RI4boolean RJ4=falseboolean array A0boolean N0=falseinteger RK4unit B0real C0integer D0unit RM4real RN4real j0real K0integer l0unit m0integer M0group p0unit Q0real s0group t0integer T0unit U0real w0integer array W0integer array z0real Z0unit v1unit RO4real o1integer a1integer array n1boolean O1=falseunit RP4unit N1integer RQ4real B1real C1unit RR4integer RS4integer H1integer m1group M1unit RT4real RU4integer RV4integer RW4integer RX4unit array RY4boolean w1=falseboolean W1=falseunit Y1unit z1real Z1real v2real RZ4real o2boolean a2=falseboolean RA4=falseforce V2=nullinteger array RB4integer array RC4real A2real N2unit B2=nullunit C2=nullunit D2=nullunit R34integer array R64unit array RL4integer l2=0integer R14constant real M2=6constant real p2=600unit P2trigger R04boolean array U2real array w2real array W2real array Z2unit array v3integer array e3integer array o3integer a3unit n3integer V3unit E3integer X3unit A3region N3unit R54unit R24real R_4real S44unit array D3boolean f3=falseinteger F3=0string array j3constant real L3=8unit S74integer M3boolean p3=falseplayer array S84real array S94real array SD4real array SE4integer SF4=-1constant real e4=25constant real o4=525region SG4integer array SH4integer SI4=0integer array SJ4integer array SK4integer array SM4integer array N4integer array SN4boolean B4=falseinteger C4integer array SO4boolean array SP4group array SQ4integer SR4=0integer SS4=0boolean ST4=falseunit SU4unit SV4real SW4real SX4real SY4real array SZ4real array SA4unit SB4boolean SC4=falseboolean S34=falseboolean S64=falsereal array SL4string array S14boolean S04=falseboolean S54=falseinteger array S24real array S_4real array T44boolean array T74item array T84item array T94item array TD4item array TE4boolean array TF4boolean array TG4boolean array TH4integer TI4integer TJ4=10boolean array TK4boolean array TM4unit TN4unit TO4unit TP4unit TQ4unit TR4unit TS4real TT4real TU4real TV4real TW4constant real TX4=300constant real TY4=20unit TZ4unit TA4integer TB4group TC4real T34real T64integer TL4integer T14integer T04region T54region T24real T_4unit U44boolean U74=falsesound U84=nullsound U94=nullsound UD4=nullsound UE4=nullsound UF4=nullunit UG4group UH4integer array UI4boolean UJ4=falseunit UK4sound UM4sound UN4=nullstring UO4string UP4string UQ4string UR4sound US4=nullsound UT4=nullconstant integer UU4='e01H'constant integer UV4='n00I'constant integer UW4='n022'constant integer UX4='n021'constant integer UY4='n0KY'constant integer UZ4='n0KZ'constant integer UA4='n0LE'constant integer UB4='e01Z'constant integer UC4='n023'constant integer U34='n024'constant integer U64='n025'constant integer UL4='n0L0'constant integer U14='n0L1'constant integer U54='n0M4'constant integer U24='e02T'constant integer U_4='e02S'constant integer V44='e030'constant integer V74='n00M'constant integer V84='n0HV'constant integer V94='e02R'constant integer VD4='n0LS'constant integer VE4='S00F'constant integer VF4='S01F'constant integer VG4='S015'constant real VH4=0.025constant integer VI4='n0EQ'unit VJ4unit VK4unit VM4real VN4real VO4real VP4unit VQ4real VR4real VS4unit VT4real VU4real VV4real VW4boolean VX4=falseboolean array VY4destructable VZ4real VA4real VB4real VC4real V34real V64real VL4real V14real V04unit V54integer V24unit V_4constant real W44=5.0integer array W74integer array W84integer array W94integer array WD4constant integer WE4='n02Q'integer WF4player WG4region WH4=nullregion WI4=nullregion WJ4=nullregion WK4=nulltrigger WM4=nulltrigger WN4=nullreal WO4real WP4trigger WQ4=nullconstant integer WR4='n02H'boolean WS4=falsesound WT4=nullsound WU4=nullsound WV4=nullunit WW4=nullunit WX4=nullunit WY4=nullgroup WZ4integer WA4unit WB4constant integer WC4=500constant integer W34=1400constant real W64=1150constant real WL4=20constant real W14=20constant real W04=20integer W54unit W24group W_4real X44unit X74integer X84unit X94unit XD4real XE4unit XF4unit XG4integer XH4group XI4group XJ4unit XK4unit XM4unit XN4integer XO4real XP4real XQ4real XR4integer XS4destructable array XT4destructable array XU4destructable array XV4integer XW4=0integer XX4=0unit XY4integer XZ4constant real XA4=6player XB4boolean XC4=falseboolean X34=falseunit X64boolean XL4=falseplayer X14=nullplayer X04=nullinteger array X54constant integer X24=0constant integer X_4=1constant integer Y44=3constant integer Y74=5constant integer Y84=1constant integer Y94=2constant integer YD4=3constant integer YE4=4constant integer YF4=5unit YG4real YH4integer array YI4group YJ4group YK4unit YM4integer YN4trigger YO4=nullstring YP4=""boolean YQ4=falseunit YR4unit YS4unit YT4group YU4group YV4group YW4integer YX4=0unit YY4constant real YZ4=3unit YA4unit YB4unit YC4real Y34group Y64integer YL4sound Y14=nullsound Y04=nullsound Y54=nullsound Y24=nullsound Y_4=nullsound Z44=nullsound Z74=nullsound Z84=nullunit Z94integer ZD4group ZE4integer ZF4unit ZG4unit ZH4unit ZI4group ZJ4integer ZK4unit ZM4unit ZN4unit ZO4group ZP4real ZQ4integer array ZR4integer ZS4=0integer ZT4constant real ZU4=20constant real ZX4=7constant real ZY4=300unit ZZ4real ZA4unit ZB4unit ZC4real Z34unit Z64real ZL4real Z14real Z04unit Z54real Z24real Z_4group A44unit A74unit A84real A94real AD4real AE4trigger AF4integer AG4=0boolean AH4=falseinteger array AI4boolean AJ4boolean AK4=falseboolean AM4=falseinteger array AN4integer array AO4integer AP4integer AQ4integer array AR4integer array AS4integer AT4=0integer AU4=0integer array AV4integer array AW4integer AX4=0integer AY4=0integer AZ4=0constant integer AA4=40constant integer AB4=50constant integer AC4=50constant integer A34=50constant integer A64=90constant integer AL4=3constant integer A14=2constant string A04="|c006699CC"constant string A54="|c00ff0303"constant string A24="|c00555555"multiboard A_4image B44image B74image B84image B94boolean BD4=falseimage BE4=nullreal BF4=-7030real BG4=6966unit BH4integer BI4player BJ4boolean BK4=falseconstant integer BM4=852164constant integer BN4=852526constant integer BO4=852599unit BV4=nullunit BW4=nullunit BZ4=nullunit BA4=nullinteger BB4=0integer BC4=0constant string B34="Abilities\\Spells\\Human\\MagicSentry\\MagicSentryCaster.mdl"constant real B64=15constant real BL4=4constant real B14=15constant real B04=4integer B54integer B24real B_4real CK4unit CM4integer array CN4constant real CS4=7constant string CU4="war3mapImported\\EpiPulse_1_4.mdx"constant string CL4="war3mapImported\\EpiPulse_5_8.mdx"constant string C_4="war3mapImported\\EpiPulse_9_12.mdx"unit array L44integer array L74integer array L84integer L94=0integer LD4=0integer array LE4integer array LF4constant integer LG4=20constant integer LH4=34constant integer LI4=2constant integer LJ4=30unit array LK4integer LM4=0boolean LN4=trueboolean array LO4boolean LP4=falseboolean LQ4=falseboolean LR4=trueunit LS4=nulltrigger LT4=nulltrigger LU4=nulltrigger LV4=nulltimer LW4=nullreal array LX4constant string LY4="|c0020c060"constant string LZ4="|c00ffcc60"constant real LA4=0.3constant real LB4=0.5constant real LC4=0.75constant real L34=2.constant integer L64=4constant real LL4=0.5constant real L14=0.75constant integer L04=72constant integer L54=300constant integer L24=180hashtable L_4boolean D47=falsereal D77=1real D87=1string D97=""real DD7=0real DE7=0widget DF7=nullboolean DG7=falseplayer DH7=nullforce DI7=nullitem DJ7=nulltrigger DK7=nullconstant integer DM7=67constant integer DN7=75boolean DO7=trueboolean DP7=falseconstant string DQ7="Doodads\\Icecrown\\Water\\BubbleGeyserSteam\\BubbleGeyserSteam.mdx"integer array DR7unit array DS7real array DT7boolexpr DU7=nullinteger array DV7integer DW7=0integer DX7=1constant integer DY7=1constant integer DZ7=2constant integer DA7=3constant integer DB7=4constant integer DC7=5constant integer D37=8constant integer D67=D37-1constant integer DL7=2constant integer D17=4constant integer D07=6constant string D57="Requesting |c00ffcc00Glyph of Fortification|r"constant real D27=60.constant integer D_7=8boolean E47=trueboolean E77=truereal E87=0.constant integer E97=425constant integer ED7=E97+200constant real EE7=700.constant real EF7=10.constant real EG7=15.constant real EH7=180.constant integer EI7=20unit EJ7=nullconstant real EK7=120.constant real EM7=0.05constant real EN7=60.constant real EO7=10.constant real EP7=10.constant real EQ7=10.constant real ER7=15.constant real ES7=20.constant real ET7=0.4constant real EU7=0.1constant string EV7="|c00dd8dff"constant string EW7="|cffffcc00Negative (dead)|r"constant string EX7="|cffffcc00Negative (low Life)|r"constant string EY7="|cffffcc00Negative (in battle)|r"constant string EZ7="|cffffcc00Negative (too far)|r"constant string EA7="|c00a0a0a0"constant string EB7="|c00ffcc00- LEADER -|r"constant string EC7=EV7+"  - AI|r"constant string E37="   "constant string E67=LY4+"Exp.|r"constant string EL7=LZ4+"Gold|r"constant real E17=8real E07=EK7integer E57boolean E27=falseunit E_7integer F47boolean F77=falseunit F87unit F97location FD7=Location(0,0)unit FE7boolean FF7=falseboolean FG7=falseboolean FH7=falseconstant integer FI7=4unit FJ7=nullunit FK7=nullreal FM7=99999999.trigger FN7=nullunit FO7integer FP7integer FQ7unit FR7real FS7real FT7real FU7unit FV7integer array FW7boolean FX7=trueunit FY7integer FZ7unit FA7group FB7real FC7integer array F37integer array F67integer FL7integer F17integer F07unit F57integer F27integer F_7boolean G47=falseunit G77real G87group G97unit GD7integer GE7constant real GF7=300integer GG7integer GH7integer array GI7constant real GJ7=200constant real GK7=200group GM7unit GN7integer GO7unit GP7unit GQ7group GR7unit GS7integer GT7unit GU7integer GV7leaderboard array GW7integer GX7integer GY7=0integer GZ7=0integer array GA7integer array GB7integer GC7=-1integer array G37sound G67=nullunit GL7group G17boolean array G07item array G57integer array G27integer array G_7boolean array H47player H77=nullinteger H87=0constant integer H97=2000constant integer HD7=0constant integer HE7=1constant integer HF7=2constant real HG7=30.constant integer HH7=30constant boolean HI7=trueconstant boolean HJ7=falsestring array HK7integer array HM7integer HN7=-1constant integer HO7=50unit HP7=nullinteger HQ7=0integer HR7=0unit HS7=nullinteger HT7=0unit HU7=nullinteger array HV7endglobalsfunction HW7 takes integer O5,string s returns nothinglocal integer i=O5if not(i<1 or i>11 or i==0 or i==6)thenset HK7[HO7*O5+HM7[O5]]=sset HM7[O5]=HM7[O5]+1if HM7[O5]>=HO7 thenset HM7[O5]=0endifendifendfunctionfunction HX7 takes nothing returns booleanlocal string HY7=GetEventPlayerChatString()local integer O5=0local integer jif StringLength(HY7)>5 thenset HN7=S2I(SubString(HY7,5,StringLength(HY7)))if not(HN7<1 or HN7>10)thencall ClearTextMessages()set O5=HN7if HN7>5 thenset O5=O5+1endifset j=HM7[O5]loopif HK7[HO7*O5+j]!=null thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,K[O5]+I2S(HN7)+"|r- "+HK7[HO7*O5+j])endifexitwhen(j==HM7[O5]-1)set j=j+1if j>=HO7 thenexitwhen(HM7[O5]==0)set j=0endifendloopcall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,"***Debug messages of |c00ffff00"+M74[O5]+"|r***")endifelseset HN7=-1endifreturn falseendfunctionfunction HZ7 takes integer i returns stringreturn I2S(i)+" "endfunctionfunction HA7 takes boolean b returns stringif b thenreturn"T "endifreturn"F "endfunctionfunction HB7 takes integer i returns stringlocal string HC7="0123456789"local string H37="ABCDEFGHIJKLMNOPQRSTUVWXYZ"local string H67="abcdefghijklmnopqrstuvwxyz"if i>=48 and i<=57 thenreturn SubString(HC7,i-48,i-47)elseif i>=65 and i<=90 thenreturn SubString(H37,i-65,i-64)elseif i>=97 and i<=122 thenreturn SubString(H67,i-97,i-96)endifreturn""endfunctionfunction HL7 takes integer i returns stringlocal integer jlocal string s=""local integer k=0loopexitwhen k>3set j=ModuloInteger(i,256)set i=(i-j)/ 256set s=HB7(j)+sset k=k+1endloopif StringLength(s)==4 thenreturn sendifreturn"?"endfunctionfunction H17 takes string s returns nothingcall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,16.,s)endfunctionfunction H07 takes unit H57 returns realreturn GetWidgetLife(H57)*hq[752+GetPlayerId(GetOwningPlayer(H57))]endfunctionfunction H27 takes player pl returns stringif(X54[GetPlayerId(pl)]==X_4)thenreturn"E "elseif(X54[GetPlayerId(pl)]==Y44)thenreturn"N "elsereturn"I "endifendfunctionfunction H_7 takes player p returns nothingif GetAIDifficulty(p)==AI_DIFFICULTY_NEWBIE thenset X54[GetPlayerId(p)]=X_4elseif GetAIDifficulty(p)==AI_DIFFICULTY_NORMAL thenset X54[GetPlayerId(p)]=Y44elseif GetAIDifficulty(p)==AI_DIFFICULTY_INSANE thenset X54[GetPlayerId(p)]=Y74elseset X54[GetPlayerId(p)]=X24endifendfunctionfunction I47 takes boolean I77,unit I87,unit I97 returns unitif I77 thenreturn I87elsereturn I97endifreturn nullendfunctionfunction ID7 takes boolean I77,integer IE7,integer IF7 returns integerif I77 thenreturn IE7elsereturn IF7endifreturn 0endfunctionfunction IG7 takes boolean I77,string IH7,string II7 returns stringif I77 thenreturn IH7elsereturn II7endifreturn""endfunctionfunction IJ7 takes boolean I77,real IE7,real IF7 returns realif I77 thenreturn IE7elsereturn IF7endifreturn 0.endfunctionfunction IK7 takes integer IM7 returns integerif(IM7=='HC49' or IM7=='HC92' or IM7=='N01O' or IM7=='Nbbc' or IM7=='Huth' or IM7=='Ogrh' or IM7=='E005' or IM7=='N016' or IM7=='Nbrn' or IM7=='Eevi' or IM7=='U006' or IM7=='Ewar' or IM7=='E004' or IM7=='EC45' or IM7=='EC77' or IM7=='Nfir' or IM7=='Hvsh' or IM7=='E01B' or IM7=='H00I' or IM7=='H071')thenreturn DY7endifif(IM7=='Hvwd' or IM7=='O00P' or IM7=='H001' or IM7=='HC49' or IM7=='HC92' or IM7=='N01O' or IM7=='Nbbc' or IM7=='Huth' or IM7=='Ogrh' or IM7=='E005' or IM7=='Usyl' or IM7=='H008' or IM7=='Naka' or IM7=='Hlgr' or IM7=='Edem' or IM7=='Nbrn' or IM7=='H00D' or IM7=='N01V' or IM7=='H00Q' or IM7=='E01Y' or IM7=='H00T' or IM7=='H06S' or IM7=='Eevi' or IM7=='EC57' or IM7=='UC11' or IM7=='U00A' or IM7=='U008' or IM7=='U006' or IM7=='H00V' or IM7=='Udre' or IM7=='UC42' or IM7=='U000' or IM7=='UC91' or IM7=='EC45' or IM7=='EC77' or IM7=='E002' or IM7=='U00C' or IM7=='O00J' or IM7=='Ubal' or IM7=='Nfir' or IM7=='U00K' or IM7=='Hvsh' or IM7=='E01B' or IM7=='H00I' or IM7=='H071' or IM7=='E02I' or IM7=='E02N' or IM7=='N0M0' or IM7=='E02K')thenreturn DZ7endifif(IM7=='H001' or IM7=='Hamg' or IM7=='H008' or IM7=='Npbm' or IM7=='H000' or IM7=='Hlgr' or IM7=='N01I' or IM7=='H06S' or IM7=='UC11' or IM7=='U00A' or IM7=='U008' or IM7=='NC00' or IM7=='U00C' or IM7=='Ofar' or IM7=='U00F' or IM7=='Opgh' or IM7=='Udea' or IM7=='H00R' or IM7=='O015' or IM7=='O01F' or IM7=='E02F' or IM7=='E02K' or IM7=='E032')thenreturn DA7endifif(IM7=='Emoo' or IM7=='Otch' or IM7=='N01A' or IM7=='Uktl' or IM7=='Hblm' or IM7=='Hmkg' or IM7=='Emns' or IM7=='Ucrl' or IM7=='H00A' or IM7=='Orkn' or IM7=='Harf' or IM7=='E00P' or IM7=='N00B' or IM7=='N0EG' or IM7=='UC18' or IM7=='UC60' or IM7=='UC01' or IM7=='H00H' or IM7=='Oshd' or IM7=='U00E' or IM7=='E01A' or IM7=='U00P' or IM7=='E01C' or IM7=='N01W' or IM7=='N00R' or IM7=='H00N' or IM7=='H00U' or IM7=='N0HP' or IM7=='O016' or IM7=='E02J' or IM7=='E02H')thenreturn DB7endifif(IM7=='Hmbr' or IM7=='Emoo' or IM7=='Hjai' or IM7=='H004' or IM7=='Hmkg' or IM7=='Ntin' or IM7=='H00K' or IM7=='E00P' or IM7=='H00S' or IM7=='Ekee' or IM7=='Ulic' or IM7=='UC76' or IM7=='UC18' or IM7=='H00H' or IM7=='Oshd' or IM7=='E01A' or IM7=='U00P' or IM7=='H00U' or IM7=='E02X' or IM7=='Ucrl' or IM7=='H0DO')thenreturn DC7endifreturn 0endfunctionfunction IN7 takes integer IM7,integer IO7 returns booleanif IO7==0 thenreturn trueelseif IO7==DY7 and(IM7=='HC49' or IM7=='HC92' or IM7=='N01O' or IM7=='Nbbc' or IM7=='Huth' or IM7=='Ogrh' or IM7=='E005' or IM7=='N016' or IM7=='Nbrn' or IM7=='Eevi' or IM7=='U006' or IM7=='Ewar' or IM7=='E004' or IM7=='EC45' or IM7=='EC77' or IM7=='Nfir' or IM7=='Hvsh' or IM7=='E01B' or IM7=='H00I' or IM7=='H071')thenreturn trueelseif IO7==DZ7 and(IM7=='Hvwd' or IM7=='O00P' or IM7=='H001' or IM7=='HC49' or IM7=='HC92' or IM7=='N01O' or IM7=='Nbbc' or IM7=='Huth' or IM7=='Ogrh' or IM7=='E005' or IM7=='Usyl' or IM7=='H008' or IM7=='Naka' or IM7=='Hlgr' or IM7=='Edem' or IM7=='Nbrn' or IM7=='H00D' or IM7=='N01V' or IM7=='H00Q' or IM7=='E01Y' or IM7=='H00T' or IM7=='H06S' or IM7=='Eevi' or IM7=='EC57' or IM7=='UC11' or IM7=='U00A' or IM7=='U008' or IM7=='U006' or IM7=='H00V' or IM7=='Udre' or IM7=='UC42' or IM7=='U000' or IM7=='UC91' or IM7=='EC45' or IM7=='EC77' or IM7=='E002' or IM7=='U00C' or IM7=='O00J' or IM7=='Ubal' or IM7=='Nfir' or IM7=='U00K' or IM7=='Hvsh' or IM7=='E01B' or IM7=='H00I' or IM7=='H071' or IM7=='E02I' or IM7=='E02N' or IM7=='N0M0' or IM7=='E02K')thenreturn trueelseif IO7==DA7 and(IM7=='H001' or IM7=='Hamg' or IM7=='Ucrl' or IM7=='H008' or IM7=='Npbm' or IM7=='H000' or IM7=='Hlgr' or IM7=='N01I' or IM7=='H06S' or IM7=='UC11' or IM7=='U00A' or IM7=='U008' or IM7=='NC00' or IM7=='U00C' or IM7=='Ofar' or IM7=='U00F' or IM7=='Opgh' or IM7=='Udea' or IM7=='H00R' or IM7=='O015' or IM7=='O01F' or IM7=='E02F' or IM7=='E032')thenreturn trueelseif IO7==DB7 and(IM7=='Emoo' or IM7=='Otch' or IM7=='N01A' or IM7=='Uktl' or IM7=='Hblm' or IM7=='Hmkg' or IM7=='Emns' or IM7=='Ucrl' or IM7=='H00A' or IM7=='Orkn' or IM7=='Harf' or IM7=='E00P' or IM7=='N00B' or IM7=='N0EG' or IM7=='UC18' or IM7=='UC60' or IM7=='UC01' or IM7=='H00H' or IM7=='Oshd' or IM7=='U00E' or IM7=='E01A' or IM7=='U00P' or IM7=='E01C' or IM7=='N01W' or IM7=='N00R' or IM7=='H00N' or IM7=='H00U' or IM7=='N0HP' or IM7=='O016' or IM7=='E02J' or IM7=='E02H')thenreturn trueelseif IO7==DC7 and(IM7=='Hmbr' or IM7=='Emoo' or IM7=='Hjai' or IM7=='H004' or IM7=='Hmkg' or IM7=='Ntin' or IM7=='H00K' or IM7=='E00P' or IM7=='H00S' or IM7=='Ekee' or IM7=='Ulic' or IM7=='UC76' or IM7=='UC18' or IM7=='H00H' or IM7=='Oshd' or IM7=='E01A' or IM7=='U00P' or IM7=='H00U' or IM7=='E02X' or IM7=='Ucrl' or IM7=='H0DO')thenreturn trueendifreturn falseendfunctionfunction IP7 takes integer IM7 returns integerif(IM7=='H004' or IM7=='Hblm' or IM7=='Ucrl' or IM7=='H00K' or IM7=='E00P' or IM7=='Ekee' or IM7=='UC76' or IM7=='H00H' or IM7=='Opgh' or IM7=='N00R' or IM7=='H0DO')thenreturn 1endifif(IM7=='Hjai' or IM7=='Otch' or IM7=='Hmkg' or IM7=='Ntin' or IM7=='Emns' or IM7=='Orkn' or IM7=='Ulic' or IM7=='UC18' or IM7=='U00E' or IM7=='E01A' or IM7=='H00R' or IM7=='H00N' or IM7=='H00U' or IM7=='E02J' or IM7=='E02K')thenreturn 2endifif(IM7=='Hvwd' or IM7=='Emoo' or IM7=='HC92' or IM7=='N01A' or IM7=='Hamg' or IM7=='Huth' or IM7=='H00A' or IM7=='Naka' or IM7=='Hlgr' or IM7=='Edem' or IM7=='Nbrn' or IM7=='H00Q' or IM7=='E01Y' or IM7=='H00T' or IM7=='U00A' or IM7=='Ewar' or IM7=='Udre' or IM7=='UC42' or IM7=='Oshd' or IM7=='U00F' or IM7=='E01C')thenreturn 4endifreturn 3endfunctionfunction IQ7 takes integer IR7,boolean IS7 returns stringif IR7==0 thenreturn" (Mid)"elseif IR7==1 thenreturn" (Left)"elseif IR7==2 thenreturn" (Right)"elseif IR7==3 and IS7 thenreturn" (Tree)"elseif IR7==4 and IS7 thenreturn" (Throne)"endifreturn""endfunctionfunction IT7 takes boolean IU7 returns integerlocal integer IV7=ID7(IU7,0,24)local integer IW7=0local integer k=0local integer jlocal integer i=-1loopexitwhen IW7>3if IW7==0 thenset j=3elseset j=IW7-1endifif DR7[IV7+8+j]>0 thenif DR7[IV7+12+j]==0 thenset i=jexitwhen trueelseif DR7[IV7+8+j]>k or(DR7[IV7+8+j]==k and GetRandomInt(1,5-IW7)==1)thenset i=jset k=DR7[IV7+8+j]endifendifset IW7=IW7+1endloopreturn iendfunctionfunction IX7 takes unit it returns reallocal integer i1=GetUnitTypeId(it)if((i1=='H000')or(i1=='Harf')or(i1=='Npbm')or(i1=='Hamg')or(i1=='H008')or(i1=='O00J')or(i1=='U00C')or(i1=='U008')or(i1=='Udre')or(i1=='N00R')or(i1=='UC91')or(i1=='H00R')or(i1=='Edem')or(i1=='Nbbc')or(i1=='HC49')or(i1=='Ogrh')or(i1=='H00I')or(i1=='Huth')or(i1=='Hvsh')or(i1=='Ewar')or(i1=='Eevi')or(i1=='E01B')or(i1=='Hmkg'))thenreturn 100.elseif((i1=='H00T')or(i1=='HC92'))thenreturn 125.elseif((i1=='H06S')or(i1=='Otch')or(i1=='N01I')or(i1=='U00K')or(i1=='U00F')or(i1=='Naka')or(i1=='EC45')or(i1=='U000')or(i1=='O015')or(i1=='H071')or(i1=='E02I')or(i1=='N0M0')or(i1=='E02K')or(i1=='E032'))thenreturn 128.elseif((i1=='UC42')or(i1=='Udea')or(i1=='Hlgr'))thenreturn 150.elseif((i1=='H00D')or(i1=='H001')or(i1=='Ucrl')or(i1=='UC11')or(i1=='Ofar')or(i1=='Opgh')or(i1=='U00A')or(i1=='NC00')or(i1=='H00N'))thenreturn 200.elseif(i1=='U006')thenreturn 250.elseif((i1=='O00P')or(i1=='Hmbr'))thenreturn 350.elseif((i1=='H00Q')or(i1=='E00P'))thenreturn 400.elseif(i1=='Ubal')thenreturn 425.elseif((i1=='EC57')or(i1=='U00P'))thenreturn 450.elseif(i1=='E002')thenreturn 475.elseif(i1=='H00S')thenreturn 480.elseif((i1=='Nfir')or(i1=='Ntin')or(i1=='Orkn')or(i1=='N01W'))thenreturn 500.elseif((i1=='Usyl')or(i1=='N01O')or(i1=='Emoo')or(i1=='UC01')or(i1=='N00B'))thenreturn 550.elseif(i1=='EC77')thenreturn 575.elseif((i1=='N01V')or(i1=='Nbrn')or((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))or(i1=='E004')or(i1=='H00A')or(i1=='N01A')or(i1=='H004')or(i1=='Ekee')or(i1=='E01A')or(i1=='UC76')or(i1=='UC18')or(i1=='H00U')or(i1=='U00E')or(i1=='H00H')or(i1=='E01C')or(i1=='N0HP')or(i1=='E02X')or(i1=='H0DO'))thenreturn 600.elsereturn 0.endifendfunctionfunction IY7 takes unit H57,integer O5 returns nothingif(IsUnitAlly(H57,Y7[0]))thenif DR7[64+O5]==0 thenset h8[64+O5]=h7[2]elseif DR7[64+O5]==1 thenset h8[64+O5]=h7[4]elseif DR7[64+O5]==2 thenset h8[64+O5]=h7[3]elseif DR7[64+O5]==3 thenset h8[64+O5]=h7[1]endifelseif DR7[64+O5]==0 thenset h8[64+O5]=h7[102]elseif DR7[64+O5]==1 thenset h8[64+O5]=h7[103]elseif DR7[64+O5]==2 thenset h8[64+O5]=h7[104]elseif DR7[64+O5]==3 thenset h8[64+O5]=h7[101]endifendifendfunctionfunction IZ7 takes group g returns booleanreturn FirstOfGroup(g)==nullendfunctionfunction IA7 takes integer IB7,unit IC7,integer I37,integer I67 returns booleanset TG4[IB7]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(IC7),I37,true)call SetPlayerAbilityAvailable(GetOwningPlayer(IC7),I67,true)return trueendfunctionfunction IL7 takes integer IB7 returns booleanset GZ[IB7]=truereturn trueendfunctionfunction I17 takes real I07 returns nothinglocal real I57local real st=TimerGetElapsed(P)if st<=0 thenset P=CreateTimer()call TimerStart(P,9000,false,null)endifif(I07>0)thenloopset I57=I07-TimerGetElapsed(P)+stexitwhen I57<=0if(I57>bj_POLLED_WAIT_SKIP_THRESHOLD)thencall TriggerSleepAction(0.1*I57)elsecall TriggerSleepAction(bj_POLLED_WAIT_INTERVAL)endifendloopendifendfunctionfunction I27 takes unit a,widget b,real I_7 returns booleanlocal real J47=(GetUnitFacing(a)-bj_RADTODEG*Atan2(GetWidgetY(b)-GetUnitY(a),GetWidgetX(b)-GetUnitX(a)))if J47>180 thenset J47=360-J47endifif J47<0 thenset J47=-J47endifreturn J47<=I_7endfunctionfunction J77 takes widget p5,widget m5 returns reallocal real t5local real w5local real Y5local real Z5if p5!=null and m5!=null thenset t5=GetWidgetX(p5)set w5=GetWidgetY(p5)set Y5=GetWidgetX(m5)set Z5=GetWidgetY(m5)return SquareRoot((t5-Y5)*(t5-Y5)+(w5-Z5)*(w5-Z5))endifreturn 999999.endfunctionfunction J87 takes real x1,real y1,real x2,real y2 returns realreturn SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))endfunctionfunction J97 takes integer O5 returns integerlocal integer kc=3if((hj[256+O5]==18)or(hj[O5]==10)or(hj[256+O5]==118)or(hj[O5]==110))thenset kc=0elseif((hj[256+O5]==40)or(hj[O5]==30)or(hj[256+O5]==140)or(hj[O5]==130))thenset kc=1elseif((hj[256+O5]==60)or(hj[O5]==50)or(hj[256+O5]==160)or(hj[O5]==150))thenset kc=2endifreturn kcendfunctionfunction JD7 takes unit it returns integerlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])if((UP==0)or(UP==100)or(UP==1)or(UP==101))thenset UP=GetUnitUserData(h9[O5])endifreturn J97(UP)endfunctionfunction JE7 takes integer O5 returns integerset eY[80+O5]=5if(J77(G7[O5],h7[0])<4000.)thenset eY[80+O5]=3elseif(J77(G7[O5],h7[100])<4000.)thenset eY[80+O5]=4elseif IsUnitInRange(G7[O5],h8[O5],3000.)thenset eY[80+O5]=J97(GetUnitUserData(h8[O5]))if eY[80+O5]==3 thenset eY[80+O5]=5endifelseset eY[80+O5]=5set GZ[400+O5]=trueendifreturn eY[80+O5]endfunctionfunction JF7 takes integer JG7 returns integerlocal integer JH7=0loopexitwhen JH7>MJ4if MW4[JH7]==JG7 thenreturn ME4[JH7]endifset JH7=JH7+1endloopreturn-1endfunctionfunction JI7 takes unit JJ7 returns integerlocal integer JK7=GetHeroLevel(JJ7)if JK7==1 thenreturn 100elseif JK7==2 thenreturn 120elseif JK7==3 thenreturn 160elseif JK7==4 thenreturn 220elsereturn-200+100*JK7endifreturn 0endfunctionfunction JM7 takes nothing returns realreturn TimerGetElapsed(P)endfunctionfunction JN7 takes unit JO7 returns nothingcall PauseUnit(JO7,true)call IssueImmediateOrder(JO7,"stop")call PauseUnit(JO7,false)endfunctionfunction JP7 takes location f4,real F4,real l4 returns locationreturn Location(GetLocationX(f4)+F4*Cos(l4*bj_DEGTORAD),GetLocationY(f4)+F4*Sin(l4*bj_DEGTORAD))endfunctionfunction L4 takes nothing returns booleanlocal real dx=GetDestructableX(GetFilterDestructable())-Wzlocal real dy=GetDestructableY(GetFilterDestructable())-Yzreturn(dx*dx+dy*dy<=bj_enumDestructableRadius)endfunctionfunction M4 takes player p4 returns forceset V2=CreateForce()call ForceEnumEnemies(V2,p4,bH)return V2endfunctionfunction JQ7 takes unit H57 returns booleanlocal integer id=GetUnitTypeId(H57)return id==UV4 or id==UW4 or id==UX4 or id==UY4 or id==UZ4 or id==UA4 or id==UC4 or id==U34 or id==U64 or id==UL4 or id==U14 or id==U54 or id==V74 or id==V84 or id==VD4endfunctionfunction JR7 takes unit H57 returns booleanlocal integer id=GetUnitTypeId(H57)return id==UU4 or id==UB4 or id==V94 or id==U24 or id==U_4 or id==V44endfunctionfunction JS7 takes unit H57 returns booleanreturn JQ7(H57)or JR7(H57)endfunctionfunction JT7 takes item Z4 returns nothingcall DisableTrigger(HR4)call RemoveItem(Z4)call EnableTrigger(HR4)endfunctionfunction JU7 takes item x5 returns integerlocal integer o5local integer i=1if x5==null thenreturn-2endifset o5=GetItemTypeId(x5)loopexitwhen i>AUif NU[i]==o5 or OU[i]==o5 or QU[i]==o5 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction JV7 takes item JW7 returns integerlocal integer JX7local integer i=1if JW7==null thenreturn-2endifset JX7=GetItemTypeId(JW7)loopexitwhen i>AUif NU[i]==JX7 or OU[i]==JX7 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction JY7 takes item JW7 returns integerlocal integer JX7local integer i=1if JW7==null thenreturn-2endifset JX7=GetItemTypeId(JW7)loopexitwhen i>AUif QU[i]==JX7 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction V5 takes nothing returns nothingset HA4[1]='A02A'set HB4[1]='A17O'set HC4[1]='ACac'set H34[1]='A0IN'set HA4[2]='A020'set HB4[2]='A0JC'set HC4[2]='A0N5'set H34[2]='A29G'set HA4[3]='A0DW'set HB4[3]='A0DX'set HC4[3]='A01B'set H34[3]='A0DY'set HA4[4]='A0FN'set HB4[4]='A0G6'set HC4[4]='A0KX'set H34[4]='A0G8'set HA4[5]='A1E9'set HB4[5]='A04C'set HC4[5]='AHab'set H34[5]='A03R'set HA4[6]='A190'set HB4[6]='A01K'set HC4[6]='A2IS'set H34[6]='A1WH'set HA4[7]='A063'set HB4[7]='A0BA'set HC4[7]='A00E'set H34[7]='A07U'set HA4[8]='A0SK'set HB4[8]='A0DL'set HC4[8]='A0DJ'set H34[8]='A0DH'set HA4[9]='A0RG'set HB4[9]='A0K9'set HC4[9]='A0DZ'set H34[9]='A00J'set HA4[10]='A0A5'set HB4[10]='A1EG'set HC4[10]='A0A8'set H34[10]='A0AG'set HA4[11]='A01F'set HB4[11]='A027'set HC4[11]='A18X'set H34[11]='A01P'set HA4[12]='A05G'set HB4[12]='A047'set HC4[12]='A00K'set H34[12]='A0M1'set HA4[13]='A14L'set HB4[13]='A0LZ'set HC4[13]='A0MC'set H34[13]='A0L3'set HA4[14]='A01Z'set HB4[14]='A1G7'set HC4[14]='A01U'set H34[14]='A07Z'set HA4[15]='A1AA'set HB4[15]='A1A8'set HC4[15]='A1CD'set H34[15]='A1A1'set HA4[16]='A085'set HB4[16]='A10X'set HC4[16]='A112'set H34[16]='A11T'set HA4[17]='A03Y'set HB4[17]='A1N4'set HC4[17]='ANic'set H34[17]='A0LC'set HA4[18]='A08D'set HB4[18]='A00F'set HC4[18]='A08I'set H34[18]='A088'set HA4[19]='A049'set HB4[19]='A05E'set HC4[19]='A0BQ'set H34[19]='A065'set HA4[20]='A21E'set HB4[20]='A01O'set HC4[20]='AEfn'set H34[20]='A1W8'set HA4[21]='A10D'set HB4[21]='A0D7'set HC4[21]='A0DB'set H34[21]='A0YK'set HA4[22]='A0LL'set HB4[22]='A0BZ'set HC4[22]='A19Q'set H34[22]='A0CY'set HA4[23]='A05J'set HB4[23]='A06H'set HC4[23]='A06B'set H34[23]='A0AK'set HA4[24]='A0KM'set HB4[24]='A0LV'set HC4[24]='A28T'set H34[24]='A0LT'set HA4[25]='A042'set HB4[25]='A041'set HC4[25]='A062'set H34[25]='A054'set HA4[26]='A064'set HB4[26]='A03S'set HC4[26]='A03U'set H34[26]='A04P'set HA4[27]='A0BE'set HB4[27]='A0BC'set HC4[27]='A0O0'set H34[27]='A1EJ'set HA4[28]='A010'set HB4[28]='A0RX'set HC4[28]='A00P'set H34[28]='A00H'set HA4[29]='A0FW'set HB4[29]='A0GP'set HC4[29]='A0M3'set H34[29]='A0FV'set HA4[30]='A06M'set HB4[30]='Acdh'set HC4[30]='A0MX'set H34[30]='A0MQ'set HA4[31]='A00S'set HB4[31]='A00L'set HC4[31]='A00V'set H34[31]='A01L'set HA4[32]='A004'set HB4[32]='A1IQ'set HC4[32]='A07A'set H34[32]='A0B4'set HA4[33]='A03F'set HB4[33]='A0AR'set HC4[33]='A0CL'set H34[33]='A03G'set HA4[34]='A022'set HB4[34]='AEbl'set HC4[34]='A0KY'set H34[34]='A0E3'set HA4[35]='A026'set HB4[35]='A0QB'set HC4[35]='A029'set H34[35]='A0VC'set HA4[36]='A08N'set HB4[36]='A08V'set HC4[36]='A06A'set H34[36]='A0ER'set HA4[37]='A0O1'set HB4[37]='A0OO'set HC4[37]='A0BD'set H34[37]='A0O2'set HA4[38]='A0O7'set HB4[38]='A0O6'set HC4[38]='A0O8'set H34[38]='A0O5'set HA4[39]='A0IL'set HB4[39]='A1NI'set HC4[39]='A0O3'set H34[39]='ANcr'set HA4[40]='A0KV'set HB4[40]='A0L8'set HC4[40]='A0LN'set H34[40]='A0KU'set HA4[41]='A14P'set HB4[41]='A14R'set HC4[41]='A0QW'set H34[41]='A14O'set HA4[42]='A0QP'set HB4[42]='A0QN'set HC4[42]='A0QQ'set H34[42]='A0QR'set HA4[43]='A1EA'set HB4[43]='A0RV'set HC4[43]='A0RO'set H34[43]='A0RP'set HA4[44]='A0S9'set HB4[44]='A0SC'set HC4[44]='A0SB'set H34[44]='A0S8'set HA4[45]='A0Z4'set HB4[45]='A0Z5'set HC4[45]='A0Z6'set H34[45]='A0Z8'set HA4[46]='A136'set HB4[46]='A13T'set HC4[46]='A11N'set H34[46]='A11K'set HA4[47]='A12J'set HB4[47]='A12K'set HC4[47]='A14I'set H34[47]='A12P'set HA4[48]='A1SO'set HB4[48]='A1SQ'set HC4[48]='A1TW'set H34[48]='A1T5'set HA4[49]='A1TV'set HB4[49]='A1SW'set HC4[49]='A1SU'set H34[49]='A1U6'set HA4[50]='A1TA'set HB4[50]='A1T8'set HC4[50]='A28Q'set H34[50]='A1TB'set HA4[51]='A07F'set HB4[51]='A08R'set HC4[51]='A053'set H34[51]='A05T'set HA4[52]='A078'set HB4[52]='A07M'set HC4[52]='A02C'set H34[52]='A04N'set HA4[53]='A0X5'set HB4[53]='A0MN'set HC4[53]='A02N'set H34[53]='A095'set HA4[54]='A173'set HB4[54]='A0MY'set HC4[54]='A0MS'set H34[54]='A013'set HA4[55]='A02S'set HB4[55]='A037'set HC4[55]='A1RD'set H34[55]='A29L'set HA4[56]='A08X'set HB4[56]='A1NA'set HC4[56]='A0VX'set H34[56]='A07K'set HA4[57]='A055'set HB4[57]='A0RW'set HC4[57]='A03N'set H34[57]='A03O'set HA4[58]='A03D'set HB4[58]='A0ZF'set HC4[58]='A03E'set H34[58]='A093'set HA4[59]='A0BH'set HB4[59]='A0BG'set HC4[59]='A0BK'set H34[59]='A0WQ'set HA4[60]='A0YM'set HB4[60]='A0PL'set HC4[60]='A03P'set H34[60]='A03Q'set HA4[61]='A1C0'set HB4[61]='A0G2'set HC4[61]='A0MP'set H34[61]='A1AT'set HA4[62]='A02H'set HB4[62]='A08E'set HC4[62]='A086'set H34[62]='A03K'set HA4[63]='AHtb'set HB4[63]='AUav'set HC4[63]='AOcr'set H34[63]='A01Y'set HA4[64]='A10R'set HB4[64]='A1OP'set HC4[64]='A094'set H34[64]='A0MU'set HA4[65]='A0X7'set HB4[65]='A1H5'set HC4[65]='A2KO'set H34[65]='A09U'set HA4[66]='A05C'set HB4[66]='A29K'set HC4[66]='A0JJ'set H34[66]='A034'set HA4[67]='A0Q7'set HB4[67]='A0ME'set HC4[67]='A04A'set H34[67]='A28R'set HA4[68]='A030'set HB4[68]='AHfa'set HC4[68]='A025'set H34[68]='A04Q'set HA4[69]='A0LK'set HB4[69]='A0CZ'set HC4[69]='A081'set H34[69]='A0J1'set HA4[70]='A09V'set HB4[70]='A1A3'set HC4[70]='A0MM'set H34[70]='A080'set HA4[71]='A1E7'set HB4[71]='A1DP'set HC4[71]='A1E6'set H34[71]='A1AO'set HA4[72]='A0T2'set HB4[72]='A0SS'set HC4[72]='A194'set H34[72]='A0SW'set HA4[73]='A0MT'set HB4[73]='A0CE'set HC4[73]='A09D'set H34[73]='A0CC'set HA4[74]='A046'set HB4[74]='A04E'set HC4[74]='A044'set H34[74]='A29I'set HA4[75]='A04V'set HB4[75]='A0GK'set HC4[75]='A04Y'set H34[75]='A02Q'set HA4[76]='A05V'set HB4[76]='A01N'set HC4[76]='A060'set H34[76]='A067'set HA4[77]='A06I'set HB4[77]='A06K'set HC4[77]='A06D'set H34[77]='A0FL'set HA4[78]='A1P8'set HB4[78]='A0ES'set HC4[78]='A0G5'set H34[78]='A0G4'set HA4[79]='A1QW'set HB4[79]='A0CA'set HC4[79]='A0CG'set H34[79]='A0CT'set HA4[80]='A0EY'set HB4[80]='A0BR'set HC4[80]='A0FU'set H34[80]='A29J'set HA4[81]='A06O'set HB4[81]='A0H0'set HC4[81]='A0FA'set H34[81]='A06R'set HA4[82]='A0I6'set HB4[82]='A0S1'set HC4[82]='A0C6'set H34[82]='A0E2'set HA4[83]='A0EC'set HB4[83]='A0LE'set HC4[83]='A0I8'set H34[83]='A0LH'set HA4[84]='A0I3'set HB4[84]='A0MF'set HC4[84]='A0MG'set H34[84]='A0NS'set HA4[85]='A0HW'set HB4[85]='A0FX'set HC4[85]='A0NA'set H34[85]='A0H9'set HA4[86]='A0NM'set HB4[86]='A0NE'set HC4[86]='A0NO'set H34[86]='A0NT'set HA4[87]='A0OI'set HB4[87]='A0OJ'set HC4[87]='A0IF'set H34[87]='A0OK'set HA4[88]='A0J5'set HB4[88]='A0AS'set HC4[88]='A06P'set H34[88]='S008'set HA4[89]='A0NB'set HB4[89]='A0N8'set HC4[89]='A0N7'set H34[89]='A0MW'set HA4[90]='A0NQ'set HB4[90]='A10L'set HC4[90]='A0OR'set H34[90]='A10Q'set HA4[91]='A26O'set HB4[91]='A0RA'set HC4[91]='A288'set H34[91]='A0R0'set HA4[92]='A15S'set HB4[92]='A0R5'set HC4[92]='A15V'set H34[92]='A15J'set HA4[93]='A0QE'set HB4[93]='A0QG'set HC4[93]='A0R7'set H34[93]='A0QK'set HA4[94]='A21W'set HB4[94]='A21X'set HC4[94]='A21V'set H34[94]='A21Y'set HA4[95]='A0I7'set HB4[95]='A180'set HC4[95]='A0B1'set H34[95]='A1BX'set HA4[96]='A1EL'set HB4[96]='A19V'set HC4[96]='A19Z'set H34[96]='A19O'set HA4[97]='A1MG'set HB4[97]='A1HS'set HC4[97]='A1HQ'set H34[97]='A1MI'set HA4[98]='A1IM'set HB4[98]='A1J7'set HC4[98]='A1HR'set H34[98]='A1IN'set HA4[99]='A04L'set HB4[99]='A0H4'set HC4[99]='A0MV'set H34[99]='A07Q'set HA4[100]='A06W'set HB4[100]='A20T'set HC4[100]='A06V'set H34[100]='A21F'set HA4[101]='A1S8'set HB4[101]='A1SB'set HC4[101]='A1S4'set H34[101]='A1SA'set H64[1]='A1AW'set H64[2]='A29H'set H64[5]='A0AV'set H64[8]='A1OB'set H64[11]='A09Z'set H64[12]='A1AX'set H64[20]='A1W9'set H64[22]='A1VH'set H64[23]='A1FY'set H64[24]='A1CS'set H64[25]='A00U'set H64[28]='A0A1'set H64[30]='A1B6'set H64[38]='A1B1'set H64[42]='A1B3'set H64[44]='A1QP'set H64[45]='A1CV'set H64[47]='A1D6'set H64[50]='A21G'set H64[51]='A08H'set H64[53]='A09W'set H64[54]='A0A6'set H64[62]='A1B0'set H64[64]='A0A2'set H64[67]='A28S'set H64[69]='A1D7'set H64[70]='A1UZ'set H64[71]='A1UV'set H64[73]='A02Z'set H64[75]='A1D9'set H64[76]='A08P'set H64[77]='A1CX'set H64[78]='A1D8'set H64[81]='A1B4'set H64[82]='A1MR'set H64[84]='A1DA'set H64[86]='A0NX'set H64[87]='A1VW'set H64[88]='S00U'set H64[90]='A1DB'set H64[94]='A1GU'set H_4[1]="thunderbolt"set I44[1]="volcano"set I74[1]="passive"set IE4[1]="forkedlightning"set H_4[2]="chainlightning"set I44[2]="thunderbolt"set I74[2]="passive"set IE4[2]="thunderclap"set H_4[3]="passive"set I44[3]="slow"set I74[3]="locustswarm"set IE4[3]="poisonarrows"set H_4[4]="carrionswarm"set I44[4]="acidbomb"set I74[4]="replenishmana"set IE4[4]="itemillusion"set H_4[5]="blizzard"set I44[5]="entanglingroots"set I74[5]="passive"set IE4[5]="channel"set H_4[6]="acidbomb"set I44[6]="passive"set I74[6]="volcano"set IE4[6]="chemicalrage"set H_4[7]="mirrorimage"set I44[7]="ensnare"set I74[7]="passive"set IE4[7]="channel"set H_4[8]="channel"set I44[8]="roar"set I74[8]="passive"set IE4[8]="fanofknives"set H_4[9]="blizzard"set I44[9]="channel"set I74[9]="passive"set IE4[9]="passive"set H_4[10]="summongrizzly"set I44[10]="fanofknives"set I74[10]="passive"set IE4[10]="bearform"set H_4[11]="shockwave"set I44[11]="inferno"set I74[11]="passive"set IE4[11]="chainlightning"set H_4[12]="whirlwind"set I44[12]="healingward"set I74[12]="passive"set IE4[12]="thunderbolt"set H_4[13]="blizzard"set I44[13]="poisonarrows"set I74[13]="passive"set IE4[13]="channel"set H_4[14]="invisibility"set I44[14]="thunderbolt"set I74[14]="innerfire"set IE4[14]="channel"set H_4[15]="charm"set I44[15]="volcano"set I74[15]="passive"set IE4[15]="channel"set H_4[16]="channel"set I44[16]="acidbomb"set I74[16]="acolyteharvest"set IE4[16]="metamorphosis"set H_4[17]="thunderclap"set I44[17]="channel"set I74[17]="passive"set IE4[17]="berserk"set H_4[18]="thunderbolt"set I44[18]="acidbomb"set I74[18]="bloodlust"set IE4[18]="passive"set H_4[19]="drunkenhaze"set I44[19]="fanofknives"set I74[19]="curse"set IE4[19]="channel"set H_4[20]="thunderbolt"set I44[20]="blink"set I74[20]="forceofnature"set IE4[20]="chainlightning"set H_4[21]="acidbomb"set I44[21]="windwalk"set I74[21]="passive"set IE4[21]="passive"set H_4[22]="blizzard"set I44[22]="channel"set I74[22]="passive"set IE4[22]="passive"set H_4[23]="landmine"set I44[23]="stasistrap"set I74[23]="selfdestruct"set IE4[23]="summonward"set H_4[24]="drunkenhaze"set I44[24]="thunderbolt"set I74[24]="charm"set IE4[24]="channel"set H_4[25]="firebolt"set I44[25]="moonglaive"set I74[25]="passive"set IE4[25]="channel"set H_4[26]="blizzard"set I44[26]="passive"set I74[26]="moonglaive"set IE4[26]="thunderbolt"set H_4[27]="bearform"set I44[27]="curse"set I74[27]="passive"set IE4[27]="fanofknives"set H_4[28]="forkedlightning"set I44[28]="hex"set I74[28]="magicleash"set IE4[28]="summonward"set H_4[29]="channel"set I44[29]="fanofknives"set I74[29]="passive"set IE4[29]="passive"set H_4[30]="thunderclap"set I44[30]="drunkenhaze"set I74[30]="passive"set IE4[30]="elementalfury"set H_4[31]="stomp"set I44[31]="firebolt"set I74[31]="passive"set IE4[31]="passive"set H_4[32]="thunderbolt"set I44[32]="passive"set I74[32]="windwalk"set IE4[32]="faeriefire"set H_4[33]="breathoffire"set I44[33]="thunderbolt"set I74[33]="passive"set IE4[33]="metamorphosis"set H_4[34]="passive"set I44[34]="blink"set I74[34]="passive"set IE4[34]="thunderbolt"set H_4[35]="coldarrows"set I44[35]="silence"set I74[35]="passive"set IE4[35]="passive"set H_4[36]="frostarmor"set I44[36]="antimagicshell"set I74[36]="passive"set IE4[36]="battleroar"set H_4[37]="carrionswarm"set I44[37]="summonquillbeast"set I74[37]="passive"set IE4[37]="thunderbolt"set H_4[38]="carrionswarm"set I44[38]="breathoffire"set I74[38]="passive"set IE4[38]="shockwave"set H_4[39]="blizzard"set I44[39]="fanofknives"set I74[39]="passive"set IE4[39]="chemicalrage"set H_4[40]="channel"set I44[40]="acidbomb"set I74[40]="windwalk"set IE4[40]="corporealform"set H_4[41]="fanofknives"set I44[41]="chainlightning"set I74[41]="passive"set IE4[41]="carrionswarm"set H_4[42]="thunderbolt"set I44[42]="poisonarrows"set I74[42]="passive"set IE4[42]="firebolt"set H_4[43]="fanofknives"set I44[43]="windwalk"set I74[43]="passive"set IE4[43]="curse"set H_4[44]="acidbomb"set I44[44]="channel"set I74[44]="phaseshift"set IE4[44]="blizzard"set H_4[45]="channel"set I44[45]="charm"set I74[45]="blizzard"set IE4[45]="clusterrockets"set H_4[46]="blizzard"set I44[46]="passive"set I74[46]="charm"set IE4[46]="acidbomb"set H_4[47]="chainlightning"set I44[47]="acidbomb"set I74[47]="fanofknives"set IE4[47]="charm"set H_4[48]=""set I44[48]=""set I74[48]=""set IE4[48]=""set H_4[49]=""set I44[49]=""set I74[49]=""set IE4[49]=""set H_4[50]=""set I44[50]=""set I74[50]=""set IE4[50]=""set H_4[51]="frostnova"set I44[51]="frostarmor"set I74[51]="innerfire"set IE4[51]="sleep"set H_4[52]="carrionswarm"set I44[52]="silence"set I74[52]="passive"set IE4[52]="locustswarm"set H_4[53]="impale"set I44[53]="hex"set I74[53]="drain"set IE4[53]="chainlightning"set H_4[54]="volcano"set I44[54]="passive"set I74[54]="summonward"set IE4[54]="summongrizzly"set H_4[55]="shockwave"set I44[55]="innerfire"set I74[55]="carrionswarm"set IE4[55]="stomp"set H_4[56]="cripple"set I44[56]="creepheal"set I74[56]="passive"set IE4[56]="fanofknives"set H_4[57]="firebolt"set I44[57]="channel"set I74[57]="passive"set IE4[57]="mirrorimage"set H_4[58]="spiritwolf"set I44[58]="channel"set I74[58]="passive"set IE4[58]="metamorphosis"set H_4[59]="parasite"set I44[59]="inferno"set I74[59]="passive"set IE4[59]="roar"set H_4[60]="acidbomb"set I44[60]="channel"set I74[60]="passive"set IE4[60]="passive"set H_4[61]="bearform"set I44[61]="chainlightning"set I74[61]="manashield"set IE4[61]="charm"set H_4[62]="thunderbolt"set I44[62]="drunkenhaze"set I74[62]="passive"set IE4[62]="itemchangetime"set H_4[63]="thunderbolt"set I44[63]="passive"set I74[63]="passive"set IE4[63]="reincarnation"set H_4[64]="channel"set I44[64]="fanofknives"set I74[64]="firebolt"set IE4[64]="doom"set H_4[65]="impale"set I44[65]="creepheal"set I74[65]="carrionscarabsoff"set IE4[65]="windwalk"set H_4[66]="berserk"set I44[66]="stomp"set I74[66]="passive"set IE4[66]="faeriefire"set H_4[67]="shadowstrike"set I44[67]="blink"set I74[67]="fanofknives"set IE4[67]="carrionswarm"set H_4[68]="berserk"set I44[68]="flamingarrows"set I74[68]="windwalk"set IE4[68]="innerfire"set H_4[69]="carrionswarm"set I44[69]="passive"set I74[69]="passive"set IE4[69]="clusterrockets"set H_4[70]="poisonarrows"set I44[70]="passive"set I74[70]="passive"set IE4[70]="shadowstrike"set H_4[71]="fanofknives"set I44[71]="acidbomb"set I74[71]="passive"set IE4[71]="darkportal"set H_4[72]="itemareaheal"set I44[72]="passive"set I74[72]="chainlightning"set IE4[72]="channel"set H_4[73]="blizzard"set I44[73]="banish"set I74[73]="summongrizzly"set IE4[73]="drain"set H_4[74]="acidbomb"set I44[74]="passive"set I74[74]="passive"set IE4[74]="stomp"set H_4[75]="innerfire"set I44[75]="chainlightning"set I74[75]="sleep"set IE4[75]="magicleash"set H_4[76]="fanofknives"set I44[76]="passive"set I74[76]="passive"set IE4[76]="thunderbolt"set H_4[77]="channel"set I44[77]="immolation"set I74[77]="passive"set IE4[77]="magicleash"set H_4[78]="channel"set I44[78]="passive"set I74[78]="passive"set IE4[78]="channel"set H_4[79]="acidbomb"set I44[79]="windwalk"set I74[79]="passive"set IE4[79]="channel"set H_4[80]="roar"set I44[80]="passive"set I74[80]="passive"set IE4[80]="stomp"set H_4[81]="channel"set I44[81]="voodoo"set I74[81]="incinerate"set IE4[81]="charm"set H_4[82]="channel"set I44[82]="creepheal"set I74[82]="passive"set IE4[82]="chainlightning"set H_4[83]="soulburn"set I44[83]="passive"set I74[83]="passive"set IE4[83]="firebolt"set H_4[84]="acidbomb"set I44[84]="chainlightning"set I74[84]="passive"set IE4[84]="windwalk"set H_4[85]="acidbomb"set I44[85]="passive"set I74[85]="passive"set IE4[85]="ancestralspirit"set H_4[86]="chainlightning"set I44[86]="immolation"set I74[86]="blizzard"set IE4[86]="tornado"set H_4[87]="poisonarrows"set I44[87]="chainlightning"set I74[87]="passive"set IE4[87]="blizzard"set H_4[88]="thunderbolt"set I44[88]="creepheal"set I74[88]="blizzard"set IE4[88]="inferno"set H_4[89]="blizzard"set I44[89]="carrionscarabsoff"set I74[89]="passive"set IE4[89]="passive"set H_4[90]="thunderbolt"set I44[90]="devourmagic"set I74[90]="darkportal"set IE4[90]="blizzard"set H_4[91]="rainoffire"set I44[91]="flamestrike"set I74[91]="fanofknives"set IE4[91]="channel"set H_4[92]="blizzard"set I44[92]="volcano"set I74[92]="acidbomb"set IE4[92]="metamorphosis"set H_4[93]="blizzard"set I44[93]="thunderbolt"set I74[93]="bloodlust"set IE4[93]="curse"set H_4[94]="roar"set I44[94]="fanofknives"set I74[94]="battleroar"set IE4[94]="howlofterror"set H_4[95]="acidbomb"set I44[95]="thunderbolt"set I74[95]="channel"set IE4[95]="cannibalize"set H_4[96]="blizzard"set I44[96]="thunderbolt"set I74[96]="metamorphosis"set IE4[96]="chainlightning"set H_4[97]="channel"set I44[97]="blizzard"set I74[97]="berserk"set IE4[97]="acidbomb"set H_4[98]="fanofknives"set I44[98]="channel"set I74[98]="passive"set IE4[98]="windwalk"set H_4[99]="drain"set I44[99]="channel"set I74[99]="metamorphosis"set IE4[99]="cripple"set H_4[100]="inferno"set I44[100]="summongrizzly"set I74[100]="chainlightning"set IE4[100]="immolation"set H_4[101]=""set I44[101]=""set I74[101]=""set IE4[101]=""set HA4[500]='A500'set HB4[500]='A501'set HC4[500]='A502'set H34[500]='A503'set H_4[500]="humanbuild"set I44[500]="nightelfbuild"set I74[500]="orcbuild"set IE4[500]="undeadbuild"set HL4[1]='A600'set H14[1]='A601'set H04[1]='A602'set H54[1]='A603'set HL4[2]='A604'set H14[2]='A605'set H04[2]='A606'set H54[2]='A607'set HL4[3]='A608'set H14[3]='A609'set H04[3]='A60A'set H54[3]='A60B'set HL4[4]='A60C'set H14[4]='A60D'set H54[4]='A60F'set HL4[5]='A60G'set H14[5]='A60H'set H04[5]='A60I'set H54[5]='A60J'set HL4[6]='A60K'set H04[6]='A60M'set H54[6]='A60N'set HL4[7]='A60O'set H14[7]='A60P'set H04[7]='A60Q'set H54[7]='A60R'set HL4[8]='A60S'set H14[8]='A60T'set H04[8]='A60U'set H54[8]='A60V'set HL4[9]='A60W'set H14[9]='A60X'set H04[9]='A60Y'set H54[9]='A60Z'set HL4[10]='A610'set H14[10]='A611'set HL4[11]='A614'set H14[11]='A615'set H04[11]='A616'set H54[11]='A617'set HL4[12]='A618'set H14[12]='A619'set H04[12]='A61A'set H54[12]='A61B'set HL4[13]='A61C'set H14[13]='A61D'set H04[13]='A61E'set H54[13]='A61F'set HL4[14]='A61G'set H14[14]='A61H'set H04[14]='A61I'set H54[14]='A61J'set HL4[15]='A61K'set H04[15]='A61M'set H54[15]='A61N'set HL4[16]='A61O'set H14[16]='A61P'set H04[16]='A61Q'set HL4[17]='A61S'set H14[17]='A61T'set H04[17]='A61U'set H54[17]='A61V'set HL4[18]='A61W'set H14[18]='A61X'set H04[18]='A61Y'set HL4[19]='A620'set H14[19]='A621'set H04[19]='A622'set H54[19]='A623'set HL4[20]='A624'set H14[20]='A625'set H04[20]='A626'set H54[20]='A627'set HL4[21]='A628'set H14[21]='A629'set H04[21]='A62A'set H54[21]='A62B'set HL4[22]='A62C'set H14[22]='A62D'set H04[22]='A62E'set HL4[23]='A62G'set H14[23]='A62H'set H04[23]='A62I'set H54[23]='A62J'set HL4[24]='A62K'set H14[24]='A62L'set H04[24]='A62M'set H54[24]='A62N'set HL4[25]='A62O'set H04[25]='A62Q'set H54[25]='A62R'set HL4[26]='A62S'set H14[26]='A62T'set H54[26]='A62V'set H14[27]='A62X'set H04[27]='A62Y'set H54[27]='A62Z'set HL4[28]='A630'set H14[28]='A631'set H04[28]='A632'set H54[28]='A633'set HL4[29]='A634'set H14[29]='A635'set H04[29]='A636'set H54[29]='A637'set HL4[30]='A638'set H14[30]='A639'set H04[30]='A63A'set H54[30]='A63B'set HL4[31]='A63C'set H14[31]='A63D'set H04[31]='A63E'set H54[31]='A63F'set HL4[32]='A63G'set H14[32]='A63H'set H04[32]='A63I'set H54[32]='A63J'set HL4[33]='A63K'set H14[33]='A63L'set H04[33]='A63M'set HL4[34]='A63O'set H14[34]='A63P'set H04[34]='A63Q'set H54[34]='A63R'set HL4[35]='A63S'set H14[35]='A63T'set H04[35]='A63U'set H54[35]='A63V'set HL4[36]='A63W'set H14[36]='A63X'set H04[36]='A63Y'set H54[36]='A63Z'set HL4[37]='A640'set H14[37]='A641'set H04[37]='A642'set H54[37]='A643'set HL4[38]='A644'set H14[38]='A645'set H04[38]='A646'set H54[38]='A647'set HL4[39]='A648'set H04[39]='A64A'set HL4[40]='A64C'set H14[40]='A64D'set H04[40]='A64E'set H54[40]='A64F'set HL4[41]='A64G'set H14[41]='A64H'set H04[41]='A64I'set H54[41]='A64J'set HL4[42]='A64K'set H14[42]='A64L'set H04[42]='A64M'set H54[42]='A64N'set HL4[43]='A64O'set H14[43]='A64P'set H54[43]='A64R'set HL4[44]='A64S'set H14[44]='A64T'set H04[44]='A64U'set H54[44]='A64V'set HL4[45]='A64W'set H14[45]='A64X'set H04[45]='A64Y'set H54[45]='A64Z'set HL4[46]='A650'set H04[46]='A652'set H54[46]='A653'set HL4[47]='A654'set H14[47]='A655'set H04[47]='A656'set H54[47]='A657'set HL4[48]='A658'set H14[48]='A659'set H04[48]='A65A'set H54[48]='A65B'set HL4[49]='A65C'set H14[49]='A65D'set H54[49]='A65F'set HL4[50]='A65G'set H14[50]='A65H'set H04[50]='A65I'set H54[50]='A65J'set HL4[51]='A65K'set H14[51]='A65L'set H04[51]='A65M'set H54[51]='A65N'set HL4[52]='A65O'set H14[52]='A65P'set H54[52]='A65R'set HL4[53]='A65S'set H14[53]='A65T'set H04[53]='A65U'set H54[53]='A65V'set HL4[54]='A65W'set H14[54]='A65X'set H04[54]='A65Y'set H54[54]='A65Z'set HL4[55]='A660'set H14[55]='A661'set H54[55]='A663'set HL4[56]='A664'set H54[56]='A667'set HL4[57]='A668'set H14[57]='A669'set H04[57]='A66A'set H54[57]='A66B'set HL4[58]='A66C'set H14[58]='A66D'set H04[58]='A66E'set HL4[59]='A66G'set H14[59]='A66H'set H04[59]='A66I'set HL4[60]='A66K'set H14[60]='A66L'set H04[60]='A66M'set H54[60]='A66N'set H14[61]='A66P'set H04[61]='A66Q'set H54[61]='A66R'set HL4[62]='A66S'set H14[62]='A66T'set H04[62]='A66U'set H54[62]='A66V'set HL4[63]='A66W'set H14[63]='A66X'set H04[63]='A66Y'set H54[63]='A66Z'set H14[64]='A671'set H04[64]='A672'set H54[64]='A673'set HL4[65]='A674'set H14[65]='A675'set H04[65]='A676'set H54[65]='A677'set HL4[66]='A678'set H14[66]='A679'set H04[66]='A67A'set H54[66]='A67B'set HL4[67]='A67C'set H14[67]='A67D'set H04[67]='A67E'set H54[67]='A67F'set HL4[68]='A67G'set H14[68]='A67H'set H04[68]='A67I'set H54[68]='A67J'set HL4[69]='A67K'set H14[69]='A67L'set H04[69]='A67M'set H54[69]='A67N'set HL4[70]='A67O'set H14[70]='A67P'set H04[70]='A67Q'set H54[70]='A67R'set HL4[71]='A67S'set H14[71]='A67T'set H04[71]='A67U'set H54[71]='A67V'set H14[72]='A67X'set H04[72]='A67Y'set HL4[73]='A680'set H14[73]='A681'set H04[73]='A682'set H54[73]='A683'set HL4[74]='A684'set H14[74]='A685'set H54[74]='A687'set HL4[75]='A688'set H14[75]='A689'set H04[75]='A68A'set H54[75]='A68B'set HL4[76]='A68C'set H14[76]='A68D'set H04[76]='A68E'set H54[76]='A68F'set HL4[77]='A68G'set H14[77]='A68H'set H04[77]='A68I'set H54[77]='A68J'set H14[78]='A68L'set H04[78]='A68M'set H54[78]='A68N'set HL4[79]='A68O'set H14[79]='A68P'set H04[79]='A68Q'set H54[79]='A68R'set HL4[81]='A68W'set H14[81]='A68X'set H04[81]='A68Y'set H54[81]='A68Z'set HL4[82]='A690'set H14[82]='A691'set H04[82]='A692'set H54[82]='A693'set HL4[83]='A694'set H14[83]='A695'set H04[83]='A696'set H54[83]='A697'set HL4[84]='A698'set H14[84]='A699'set H04[84]='A69A'set H54[84]='A69B'set HL4[85]='A69C'set H14[85]='A69D'set H04[85]='A69E'set H54[85]='A69F'set HL4[86]='A69G'set H14[86]='A69H'set H04[86]='A69I'set H54[86]='A69J'set HL4[87]='A69K'set H14[87]='A69L'set H04[87]='A69M'set H54[87]='A69N'set HL4[88]='A69O'set H14[88]='A69P'set H04[88]='A69Q'set H54[88]='A69R'set HL4[89]='A69S'set H04[89]='A69U'set HL4[90]='A69W'set H14[90]='A69X'set H04[90]='A69Y'set H54[90]='A69Z'set HL4[91]='A6A0'set H14[91]='A6A1'set H04[91]='A6A2'set H54[91]='A6A3'set HL4[92]='A6A4'set H14[92]='A6A5'set H04[92]='A6A6'set HL4[93]='A6A8'set H14[93]='A6A9'set H04[93]='A6AA'set H54[93]='A6AB'set HL4[95]='A6AG'set H14[95]='A6AH'set H04[95]='A6AI'set H54[95]='A6AJ'set HL4[96]='A6AK'set H14[96]='A6AL'set H54[96]='A6AN'set HL4[97]='A6AO'set H14[97]='A6AP'set H04[97]='A6AQ'set H54[97]='A6AR'set HL4[98]='A6AS'set H14[98]='A6AT'set H04[98]='A6AU'set H54[98]='A6AV'set H24[1]='A700'set H24[2]='A701'set H24[5]='A702'set H24[8]='A70Y'set H24[11]='A703'set H24[12]='A704'set H24[20]='A705'set H24[23]='A706'set H24[24]='A707'set H24[25]='A708'set H24[28]='A709'set H24[30]='A70A'set H24[38]='A70B'set H24[42]='A70C'set H24[45]='A70D'set H24[47]='A70E'set H24[50]='A70F'set H24[51]='A70G'set H24[53]='A70H'set H24[54]='A70I'set H24[62]='A70J'set H24[64]='A70K'set H24[67]='A70L'set H24[69]='A70M'set H24[73]='A70N'set H24[75]='A70O'set H24[76]='A70P'set H24[77]='A70Q'set H24[78]='A70R'set H24[81]='A70S'set H24[82]='A70X'set H24[84]='A70T'set H24[86]='A70U'set H24[90]='A70V'endfunctionfunction E5 takes nothing returns nothingset HZ4[BU]=500set HZ4[CU]=500set HZ4[LU]=450set HZ4[DV]=185set HZ4[EV]=450set HZ4[FV]=1000set HZ4[JV]=450set HZ4[MV]=1200set HZ4[NV]=550set HZ4[OV]=1400set HZ4[QV]=2400set HZ4[TV]=3300set HZ4[UV]=1000set HZ4[XV]=150set HZ4[AV]=700set HZ4[BV]=700set HZ4[CV]=950set HZ4[LV]=2100set HZ4[EW]=53set HZ4[HW]=2150set HZ4[NW]=2150set HZ4[OW]=150set HZ4[QW]=900set HZ4[RW]=3200set HZ4[TW]=1600set HZ4[UW]=2700set HZ4[VW]=1000set HZ4[YW]=550set HZ4[ZW]=1400set HZ4[GX]=1200set HZ4[RX]=900set HZ4[SX]=875set HZ4[WX]=175set HZ4[YX]=350set HZ4[ZX]=450set HZ4[GY]=3800set HZ4[HY]=150set HZ4[SY]=325set HZ4[UY]=1000set HZ4[ZY]=250set HZ4[DZ]=250set HZ4[EZ]=2100set HZ4[HZ]=1100set HZ4[NZ]=875set HZ4[RZ]=1500set HZ4[XZ]=600set HZ4[AZ]=600set HZ4[BZ]=600set HZ4[CZ]=600set HZ4[IA]=600set HZ4[JA]=600set HZ4[NA]=600set HZ4[QA]=600set HZ4[WA]=600set HZ4[YA]=600set HZ4[ZA]=200set HZ4[BA]=225set HZ4[GB]=225set HZ4[JB]=1800set HZ4[PC]=50set HZ4[QC]=0set HZ4[TC]=100set HZ4[VC]=90set HZ4[XC]=200set HZ4[YC]=200set HZ4[ZC]=135set HZ4[AC]=135set HZ4[BC]=150set HZ4[CC]=1000set HZ4[LC]=0set HZ4[H3]=180set HZ4[C3]=1750set HZ4[E6]=603set HZ4[F6]=803set HZ4[G6]=500set HZ4[H6]=500set HZ4[N6]=2500set HZ4[V6]=1450set HZ4[W6]=1450set HZ4[A6]=1450set HZ4[DL]=1900set HZ4[RL]=1675set HZ4[WL]=525set HZ4[ZL]=485set HZ4[AL]=505set HZ4[LL]=2150set HZ4[D1]=2150set HZ4[E1]=2950set HZ4[F1]=2950set HZ4[J1]=2200set HZ4[P1]=2700set HZ4[Q1]=3300set HZ4[R1]=4150set HZ4[T1]=3300set HZ4[U1]=4150set HZ4[V1]=1850set HZ4[X1]=1850set HZ4[A1]=1900set HZ4[E0]=2800set HZ4[J0]=3300set HZ4[O0]=2306set HZ4[R0]=4300set HZ4[X0]=4100set HZ4[Y0]=4350set HZ4[F5]=2150set HZ4[G5]=3900set HZ4[J5]=3900set HZ4[M5]=3900set HZ4[N5]=3900set HZ4[R5]=3900set HZ4[S5]=3900set HZ4[T5]=0set HZ4[W5]=4900set HZ4[A5]=4900set HZ4[B5]=3300set HZ4[C5]=2805set HZ4[L5]=4105set HZ4[E2]=5405set HZ4[F2]=6705set HZ4[H2]=8005set HZ4[R2]=2700set HZ4[T2]=3950set HZ4[X2]=5200set HZ4[D44]=5175set HZ4[D74]=5175set HZ4[D84]=6200set HZ4[DD4]=5750set HZ4[DE4]=5400set HZ4[DF4]=5400set HZ4[DG4]=5150set HZ4[DH4]=5150set HZ4[DJ4]=5500set HZ4[DM4]=6150set HZ4[DN4]=5750set HZ4[DO4]=5750set HZ4[DP4]=6000set HZ4[DQ4]=5300set HZ4[DR4]=5675set HZ4[DS4]=2225set HZ4[DT4]=2225set HZ4[DV4]=5400set HZ4[DW4]=370set HZ4[DX4]=2050set HZ4[DY4]=5350set HZ4[DZ4]=5050set HZ4[DA4]=2125set HZ4[DB4]=2600set HZ4[DC4]=2600set HZ4[D34]=2600set HZ4[D64]=2600set HZ4[DL4]=4700set HZ4[D54]=4700set HZ4[D24]=4125set HZ4[D_4]=1400set HZ4[E44]=509set HZ4[E74]=2200set HZ4[E84]=3628set HZ4[E94]=550set HZ4[ED4]=550set HZ4[EE4]=875set HZ4[EG4]=1600set HZ4[EH4]=200set HZ4[EI4]=200set HZ4[EJ4]=2000set HZ4[EK4]=0set HZ4[EM4]=1400set HZ4[EN4]=190set HZ4[EO4]=150set HZ4[EP4]=170set HZ4[EQ4]=700set HZ4[ER4]=700set HZ4[ES4]=1000set HZ4[ET4]=800set HZ4[EU4]=850set HZ4[EV4]=1000set HZ4[EW4]=600set HZ4[EX4]=900set HZ4[EY4]=0set HZ4[EZ4]=900set HZ4[EA4]=500set HZ4[EB4]=1300set HZ4[EC4]=650set HZ4[E34]=1000set HZ4[E64]=1300set HZ4[EL4]=1250set HZ4[E14]=1325set HZ4[E04]=1200set HZ4[E54]=1350set HZ4[E24]=1200set HZ4[E_4]=1100set HZ4[F44]=0set HZ4[F74]=1875set HZ4[F94]=200set HZ4[FD4]=300set HZ4[FE4]=1300set HZ4[FF4]=700set HZ4[FG4]=600set HZ4[FH4]=150set HZ4[FI4]=300set HZ4[FJ4]=900set HZ4[FK4]=600set HZ4[FM4]=250set HZ4[FV4]=1250set HZ4[FW4]=775set HZ4[FQ4]=350set HZ4[FR4]=350set HZ4[FS4]=1500set HZ4[QB]=1500set HZ4[VB]=1500set HZ4[WB]=1725set HZ4[YB]=1725set HZ4[U3]=100set HZ4[W3]=1075set HZ4[FU4]=200set HZ4[FT4]=750set HZ4[Y3]=2650set HZ4[Z3]=3950set HZ4[GC]=3100set HZ4[EC]=1025set HZ4[FC]=1025set HZ4[B3]=6750set HZ4[NC]=985set HZ4[OC]=985set HZ4[F54]=4200set HZ4[F24]=4200set HZ4[F_4]=4200set HZ4[G44]=4200set HZ4[G74]=4200set HZ4[G84]=4200set HZ4[G94]=4200set HZ4[GD4]=4200set HZ4[GE4]=4200set HZ4[GG4]=4200set HZ4[GI4]=4200set HZ4[GJ4]=4200set HZ4[GK4]=4200set HZ4[GM4]=4200set HZ4[GN4]=4200set HZ4[GO4]=4200set HZ4[GP4]=4200set HZ4[GQ4]=4200set HZ4[GR4]=4200set HZ4[GS4]=4200set HZ4[GT4]=4200set HZ4[GU4]=4200set HZ4[GV4]=4200set HZ4[GW4]=4200set HZ4[GX4]=4200set HZ4[GY4]=4200set HZ4[GZ4]=4200set HZ4[GA4]=4200set HZ4[GB4]=4200set HZ4[G34]=4200set HZ4[G64]=4200set HZ4[GL4]=4200set HZ4[G14]=4200set HZ4[G04]=4200set HZ4[G54]=4200set HZ4[G24]=4200set HZ4[G_4]=4200set HZ4[H44]=4200set HZ4[GH4]=4200set HZ4[H74]=4200set HZ4[H84]=4200set HZ4[HD4]=4200set HZ4[HE4]=4200set HZ4[HF4]=4200set HZ4[HG4]=4200set HZ4[HH4]=4200set HZ4[HI4]=4200set HZ4[HJ4]=4200set HZ4[HK4]=4200set HZ4[HM4]=4200set HZ4[HN4]=4200set HZ4[HO4]=4200set HZ4[H94]=4200endfunctionfunction is takes unit it returns booleanreturn((GetUnitCurrentOrder(it)<852000)and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))]))endfunctionfunction JZ7 takes unit JA7 returns booleanlocal integer JB7=GetUnitCurrentOrder(JA7)return(JB7==0)or(JB7==851973)or(JB7==851975)or(JB7==851987)or(JB7==851993)endfunctionfunction iU takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)return((X5<852000)and((GetUnitAbilityLevel(it,'B01Z')==0))and((X5!=851983)or(not GZ[48+GetPlayerId(GetOwningPlayer(it))]))and(Bz>hq[832+GetPlayerId(GetOwningPlayer(it))])and(GetUnitAbilityLevel(it,'B0FG')==0))endfunctionfunction iy takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))return((h4[O5]==null)and((h4[160+O5]==null)or(GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(h4[160+O5],it,1000.)))and(not G0[144+O5]))endfunctionfunction JC7 takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)local integer i1=GetUnitTypeId(it)if hq[832+GetPlayerId(GetOwningPlayer(it))]>Bz thenreturn falseelseif((X5==851973)or(GetWidgetLife(it)<=.405)or(IsUnitPaused(it)))thenreturn falseelseif(X5>852007)and(X5<852014)and((GetItemTypeId(UnitItemInSlot(it,X5-852007))==OU[AC])or(GetItemTypeId(UnitItemInSlot(it,X5-852007))==OU[N6]))thenreturn falseelseif((X5<852008)and((i1!='O00J')or((GetUnitAbilityLevel(it,'B01Z')==0))))thenreturn trueelseif(X5==852600)and((i1=='HC49'))thenreturn falseelseif(GetUnitAbilityLevel(it,'B0FG')!=0)thenreturn falseendifreturn((X5>852013)and(X5!=852480)and(X5!=852525)and(X5!=852487)and(X5!=852597)and((i1!='E01C')or(X5!=852089))and((i1!='Nfir')or(X5!=852127))and((i1!='U00K')or(X5!=852581))and((X5!=852553)or((i1!='H00I')and(i1!='H00J')))and((X5!=852600)or((i1!='Hjai')and(i1!='Ntin')and(i1!='Hblm')))and(((i1!='Eevi')and(i1!='Eevm'))or(X5!=852189))and((i1!='N00R')or(X5!=852238))and((i1!='N0EG')or(X5!=852662))and((i1!='O015')or(X5!=852581))and((i1!='U00K')or(X5!=852503))and((i1!='N00B')or(X5!=852514))and(((i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))or(X5!=852248)))endfunctionfunction i2 takes unit it returns booleanlocal integer X5=GetUnitCurrentOrder(it)local integer i1=GetUnitTypeId(it)if(X5<852008)thenreturn falseendifreturn((X5<=852013)or(X5==852480)or(X5==852487)or(X5==852597)or((i1=='O00J')and((GetUnitAbilityLevel(it,'B01Z')>0)))or((i1=='E01C')and(X5==852089))or((i1=='Nfir')and(X5==852127))or((i1=='U00K')and(X5==852581))or(((i1=='Hjai')or(i1=='Ntin')or(i1=='Hblm'))and(X5==852600)))endfunctionfunction J37 takes integer O5 returns playerif((O5>0)and(O5<6))thenreturn Y7[O5]elseif((O5>5)and(O5<11))thenreturn Z7[O5-5]endifreturn nullendfunctionfunction J67 takes string O5 returns playerif O5=="0" thenset bj_forLoopAIndex=10elseset bj_forLoopAIndex=S2I(O5)endifif((bj_forLoopAIndex>0)and(bj_forLoopAIndex<6))thenreturn Y7[bj_forLoopAIndex]elseif((bj_forLoopAIndex>5)and(bj_forLoopAIndex<11))thenreturn Z7[bj_forLoopAIndex-5]endifreturn nullendfunctionfunction i5 takes player pl returns integerlocal integer O5=1loopexitwhen O5>5if(pl==Y7[O5])thenreturn O5elseif(pl==Z7[O5])thenreturn O5+5endifset O5=O5+1endloopreturn 0endfunctionfunction JL7 takes unit H57 returns booleanif IsUnitAlly(H57,Y7[0])thenreturn IsUnitVisible(H57,X04)elsereturn IsUnitVisible(H57,X14)endifreturn falseendfunctionfunction J17 takes unit H57 returns booleanif IsUnitAlly(H57,Y7[0])thenreturn IsVisibleToPlayer(GetUnitX(H57),GetUnitY(H57),X04)elsereturn IsVisibleToPlayer(GetUnitX(H57),GetUnitY(H57),X14)endifreturn falseendfunctionfunction J07 takes unit it returns booleanreturn(GetWidgetLife(it)>.405 and((not IsUnitType(it,UNIT_TYPE_HERO))or(not IX4[GetPlayerId(GetOwningPlayer(it))])))endfunctionfunction J57 takes unit J27,unit H57 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(H57))return((IsUnitType(J27,UNIT_TYPE_HERO))and(((R2I(GetWidgetLife(J27))<(300+(GetHeroLevel(J27)*30)))and(GetUnitLifePercent(J27)<40.))or((hq[624+O5]>Bz and h4[O5]==J27)))and(J07(J27)))endfunctionfunction J_7 takes unit it returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(J07(it)))endfunctionfunction K47 takes integer O5 returns booleanreturn(hq[624+O5]>Bz and h4[O5]!=null)and(not J_7(G7[O5]))endfunctionfunction K77 takes unit it returns booleanreturn((GetUnitAbilityLevel(it,'B0DP')>0)or(GetUnitAbilityLevel(it,'A0WR')>0)or(GetUnitAbilityLevel(it,'B02H')>0))endfunctionfunction K87 takes unit it returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(600+(GetHeroLevel(it)*30)))and(GetWidgetLife(it)>.405))endfunctionfunction K97 takes unit it,unit IB returns booleanreturn((IsUnitType(it,UNIT_TYPE_HERO))and(R2I(GetWidgetLife(it))<(300+(GetHeroLevel(it)*30)))and(GetUnitLifePercent(it)<40.)and(GetWidgetLife(it)>.405)and(GetUnitState(IB,UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)-(10.*GetHeroLevel(IB)))))endfunctionfunction IC takes integer O5 returns booleanreturn((O[O5]-3)>=M[O5])endfunctionfunction Id takes integer O5 returns booleanreturn((h4[O5]!=null)and(K97(h4[O5],G7[O5])))endfunctionfunction Ie takes rect r,boolexpr Ig returns unitcall GroupClear(ig)call GroupEnumUnitsInRect(ig,r,Ig)set bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall ForGroup(ig,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction IH takes player pl,boolexpr Ig returns integercall GroupClear(ig)call GroupEnumUnitsOfPlayer(ig,pl,Ig)set bj_groupCountUnits=0call ForGroup(ig,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction KD7 takes real Im,location b5,boolexpr Ig returns unitset bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall GroupClear(H9)call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)call ForGroup(H9,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction KE7 takes real Im,unit H57,boolexpr Ig returns unitset bj_groupRandomConsidered=0set bj_groupRandomCurrentPick=nullcall GroupClear(H9)call GroupEnumUnitsInRange(H9,GetUnitX(H57),GetUnitY(H57),Im,Ig)call ForGroup(H9,function GroupPickRandomUnitEnum)call DestroyBoolExpr(Ig)return bj_groupRandomCurrentPickendfunctionfunction KF7 takes real Im,location b5,boolexpr Ig returns unitcall GroupClear(H9)call GroupEnumUnitsInRangeOfLoc(H9,b5,Im,Ig)call DestroyBoolExpr(Ig)return FirstOfGroup(H9)endfunctionfunction KG7 takes real Im,location b5,boolexpr Ig returns integercall GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,Im,Ig)set bj_groupCountUnits=0call ForGroup(H8,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction KH7 takes real Im,unit it,boolexpr Ig returns integercall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),Im,Ig)set bj_groupCountUnits=0call ForGroup(H8,function CountUnitsInGroupEnum)call DestroyBoolExpr(Ig)return bj_groupCountUnitsendfunctionfunction IV takes real x,real y,real IW,boolexpr Ig,code IX returns nothingcall GroupClear(iF)call GroupEnumUnitsInRange(iF,x,y,IW,Ig)call ForGroup(iF,IX)call DestroyBoolExpr(Ig)endfunctionfunction KI7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction KJ7 takes unit it,integer Iz returns booleanlocal integer I8=0local item jaset bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(GetItemTypeId(ja)==Iz))thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction KK7 takes unit it returns booleanlocal integer I8=0loopif(UnitItemInSlot(it,I8)==null)thenreturn falseendifset I8=I8+1exitwhen(I8>=bj_MAX_INVENTORY)endloopreturn trueendfunctionfunction KM7 takes unit it returns booleanlocal integer I8=0loopif(UnitItemInSlot(it,I8)!=null)thenreturn falseendifset I8=I8+1exitwhen(I8>=bj_MAX_INVENTORY)endloopreturn trueendfunctionfunction KN7 takes unit S4,integer n5,item Z4 returns itemlocal integer D5local item f5set D5=0loopexitwhen D5>5set f5=UnitItemInSlot(S4,D5)if f5!=null and f5!=Z4 and GetItemTypeId(f5)==n5 thenset f5=nullreturn UnitItemInSlot(S4,D5)endifset D5=D5+1endloopset f5=nullreturn nullendfunctionfunction KO7 takes unit S4,integer n5 returns itemlocal integer D5local item f5set D5=0loopexitwhen D5>5set f5=UnitItemInSlot(S4,D5)if(f5!=null)and(GetItemTypeId(f5)==n5)thenset f5=nullreturn UnitItemInSlot(S4,D5)endifset D5=D5+1endloopset f5=nullreturn nullendfunctionfunction KP7 takes integer i1 returns booleanreturn(i1==OU[G5]or i1==OU[J5]or i1==OU[M5]or i1==OU[N5]or i1==OU[R5]or i1==OU[S5])endfunctionfunction KQ7 takes integer i1,integer Iz,boolean KR7 returns booleanif i1==Iz thenreturn trueelseif(i1==E94 or i1==ED4)and(Iz==E94 or Iz==ED4)thenreturn trueelseif(i1==ZY or i1==DZ)and(Iz==ZY or Iz==DZ)thenreturn trueelseif(i1==BA or i1==GB)and(Iz==BA or Iz==GB)thenreturn trueelseif(i1==E1 or i1==F1)and(Iz==E1 or Iz==F1)thenreturn trueelseif(i1==QB or i1==VB)and(Iz==QB or Iz==VB)thenreturn trueelseif(i1==W5 or i1==A5)and(Iz==W5 or Iz==A5)thenreturn trueelseif(i1==DN4 or i1==DO4)and(Iz==DN4 or Iz==DO4)thenreturn trueelseif(i1==DS4 or i1==DT4)and(Iz==DS4 or Iz==DT4)thenreturn trueelseif(i1==XZ or i1==AZ or i1==BZ or i1==CZ or i1==IA or i1==JA or i1==NA or i1==QA or i1==WA or i1==YA)and(Iz==XZ or Iz==AZ or Iz==BZ or Iz==CZ or Iz==IA or Iz==JA or Iz==NA or Iz==QA or Iz==WA or Iz==YA)thenreturn trueelseif(i1==WB or i1==YB)and(Iz==WB or Iz==YB)thenreturn trueelseif(i1==V6 or i1==W6 or i1==A6)and(Iz==V6 or Iz==W6 or Iz==A6)thenreturn trueelseif(i1==EE4 or i1==EF4)and(Iz==EE4 or Iz==EF4)thenreturn trueelseif KR7 and((i1==Q1 or i1==T1 or i1==R1 or i1==U1)and(Iz==Q1 or Iz==T1 or Iz==R1 or Iz==U1))thenreturn trueelseif(i1==Q1 or i1==T1)and(Iz==Q1 or Iz==T1)thenreturn trueelseif(i1==R1 or i1==U1)and(Iz==R1 or Iz==U1)thenreturn trueelseif KR7 and((i1==C5 or i1==L5 or i1==E2 or i1==F2 or i1==H2)and(Iz==C5 or Iz==L5 or Iz==E2 or Iz==F2 or Iz==H2))thenreturn trueelseif KR7 and((i1==R2 or i1==T2 or i1==X2)and(Iz==R2 or Iz==T2 or Iz==X2))thenreturn trueelseif(i1==G5 or i1==J5 or i1==M5 or i1==N5 or i1==R5 or i1==S5)and(Iz==G5 or Iz==J5 or Iz==M5 or Iz==N5 or Iz==R5 or Iz==S5)thenreturn trueelseif(i1==G6 or i1==H6)and(Iz==G6 or Iz==H6)thenreturn trueelseif(i1==NC or i1==OC)and(Iz==NC or Iz==OC)thenreturn trueelseif(i1==DG4 or i1==DH4)and(Iz==DG4 or Iz==DH4)thenreturn trueelseif(i1==DE4 or i1==DF4)and(Iz==DE4 or Iz==DF4)thenreturn trueelseif(i1==DJ4 or i1==DK4)and(Iz==DJ4 or Iz==DK4)thenreturn trueelseif(i1==DB4 or i1==DC4 or i1==D34 or i1==D64)and(Iz==DB4 or Iz==DC4 or Iz==D34 or Iz==D64)thenreturn trueelseif(i1==ZC or i1==AC)and(Iz==ZC or Iz==AC)thenreturn trueelseif(i1==D44 or i1==D74)and(Iz==D44 or Iz==D74)thenreturn trueelseif(i1==D84 or i1==D94)and(Iz==D84 or Iz==D94)thenreturn trueelseif(i1==V1 or i1==X1)and(Iz==V1 or Iz==X1)thenreturn trueelseif(i1==AV or i1==BV)and(Iz==AV or Iz==BV)thenreturn trueelseif(i1==DL or i1==HL)and(Iz==DL or Iz==HL)thenreturn trueelseif(i1==DL4 or i1==D54)and(Iz==DL4 or Iz==D54)thenreturn trueendifreturn falseendfunctionfunction KS7 takes unit it,integer Iz returns booleanlocal integer i=0local item jalocal integer i1local boolean KT7=falseset i=0loopexitwhen i>AUif NU[i]==Iz or OU[i]==Iz or QU[i]==Iz thenset Iz=iexitwhen trueendifset i=i+1endloopif i>AU thenreturn falseendifset i=0set bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,i)if ja!=null thenset i1=JU7(ja)if KQ7(i1,Iz,true)thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifendifset i=i+1exitwhen i>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction KU7 takes unit it returns booleanlocal integer I8=0local item jaset bj_lastCreatedItem=nullloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(GetItemTypeId(ja)==OU[E44]or GetItemTypeId(ja)==OU[ZA]))thenset bj_lastCreatedItem=jaset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction jP takes unit j5,integer Iz returns booleanlocal boolean jR=falselocal integer O5if(KS7(j5,Iz))thenset O5=GetPlayerId(GetOwningPlayer(j5))set GZ[224+O5]=trueset jR=UnitUseItem(j5,bj_lastCreatedItem)set GZ[224+O5]=falseendifreturn jRendfunctionfunction KV7 takes unit KW7,unit KX7 returns booleanlocal boolean KY7=falselocal integer O5=GetPlayerId(GetOwningPlayer(KW7))if((S54)and(not T74[O5])and(GetUnitTypeId(KW7)!='H00J')and(not IsUnitIllusion(KW7))and(Bz>T44[O5])and(KX7!=null)and(GetUnitLevel(KW7)>5)and(GetUnitState(KW7,UNIT_STATE_MANA)>300)and(not KJ7(KW7,OU[C5]))and(not KJ7(KW7,OU[L5]))and(not KJ7(KW7,OU[E2]))and(not KJ7(KW7,OU[F2]))and(not KJ7(KW7,OU[H2]))and(GetRandomInt(1,4)!=4))thenif(GetUnitLevel(KW7)>12 and GetUnitLevel(KW7)<20)thenset TI4=GetRandomInt(3,5)elseif(GetUnitLevel(KW7)>19 and GetUnitLevel(KW7)<25)thenset TI4=GetRandomInt(4,5)elseif(GetUnitLevel(KW7)>24)thenset TI4=5elseset TI4=GetRandomInt(1,5)endifset T94[O5]=CreateItem(S24[TI4],9999,-9999)set T74[O5]=falseif(T94[O5]!=null)thenset T84[O5]=UnitItemInSlot(KW7,5)if(T84[O5]!=null)thencall DisableTrigger(HR4)call UnitRemoveItem(KW7,T84[O5])call SetItemPosition(T84[O5],9999,-9999)call EnableTrigger(HR4)endifcall I17(0.2)set T74[O5]=(UnitAddItem(KW7,T94[O5]))call SetItemPlayer(T94[O5],GetOwningPlayer(KW7),true)endifif(T74[O5])thenelseif(T84[O5]!=null)thencall I17(0.2)call UnitAddItem(KW7,T84[O5])call JT7(T94[O5])endifset T74[O5]=falseset T94[O5]=nullset T84[O5]=nullendifelseif((KJ7(KW7,OU[H2]))and(not IsUnitIllusion(KX7))and(IsUnitInRange(KW7,KX7,800.))and((GetUnitState(KX7,UNIT_STATE_LIFE)>10.)and(GetUnitState(KX7,UNIT_STATE_LIFE)<650.)))thenset KY7=(KX7!=null)and(UnitUseItemTarget(KW7,bj_lastCreatedItem,KX7))elseif((KJ7(KW7,OU[F2]))and(not IsUnitIllusion(KX7))and(IsUnitInRange(KW7,KX7,750.))and((GetUnitState(KX7,UNIT_STATE_LIFE)>10.)and(GetUnitState(KX7,UNIT_STATE_LIFE)<550.)))thenset KY7=(KX7!=null)and(UnitUseItemTarget(KW7,bj_lastCreatedItem,KX7))elseif((KJ7(KW7,OU[E2]))and(not IsUnitIllusion(KX7))and(IsUnitInRange(KW7,KX7,700.))and((GetUnitState(KX7,UNIT_STATE_LIFE)>10.)and(GetUnitState(KX7,UNIT_STATE_LIFE)<450.)))thenset KY7=(KX7!=null)and(UnitUseItemTarget(KW7,bj_lastCreatedItem,KX7))elseif((KJ7(KW7,OU[L5]))and(not IsUnitIllusion(KX7))and(IsUnitInRange(KW7,KX7,650.))and((GetUnitState(KX7,UNIT_STATE_LIFE)>10.)and(GetUnitState(KX7,UNIT_STATE_LIFE)<350.)))thenset KY7=(KX7!=null)and(UnitUseItemTarget(KW7,bj_lastCreatedItem,KX7))elseif((KJ7(KW7,OU[C5]))and(not IsUnitIllusion(KX7))and(IsUnitInRange(KW7,KX7,600.))and((GetUnitState(KX7,UNIT_STATE_LIFE)>10.)and(GetUnitState(KX7,UNIT_STATE_LIFE)<250.)))thenset KY7=(KX7!=null)and(UnitUseItemTarget(KW7,bj_lastCreatedItem,KX7))endifendifreturn KY7endfunctionfunction ju takes group jU,code IX returns nothingcall ForGroup(jU,IX)call DestroyGroup(jU)endfunctionfunction jv takes widget it returns locationcall MoveLocation(HA,GetWidgetX(it),GetWidgetY(it))return HAendfunctionfunction jW takes unit u,integer X5,unit m5 returns booleanreturn IssuePointOrderById(u,X5,GetUnitX(m5),GetUnitY(m5))endfunctionfunction j1 takes unit j4,rect Ja returns reallocal real JD=GetRectCenterX(Ja)-GetUnitX(j4)local real Je=GetRectCenterY(Ja)-GetUnitY(j4)return SquareRoot(JD*JD+Je*Je)endfunctionfunction KZ7 takes unit x6,integer X5,integer o6,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(QY4[O5])if(IssueTargetOrderById(x6,X5,m5))thencall EnableTrigger(QY4[O5])return trueendifcall EnableTrigger(QY4[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction KA7 takes unit x6,integer X5,integer o6,location b5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(QY4[O5])if(IssuePointOrderById(x6,X5,GetLocationX(b5),GetLocationY(b5)))thencall EnableTrigger(QY4[O5])return trueendifcall EnableTrigger(QY4[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction KB7 takes unit x6,integer X5,integer o6,integer n6,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,QP4)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)call DisableTrigger(QY4[O5])if(IssueTargetOrderById(x6,X5,m5))thencall EnableTrigger(QY4[O5])return trueendifcall EnableTrigger(QY4[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)return falseendfunctionfunction KC7 takes unit x6,integer X5,integer o6,integer n6,real x,real y returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,QP4)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,true)call DisableTrigger(QY4[O5])if(IssuePointOrderById(x6,X5,x,y))thencall EnableTrigger(QY4[O5])return trueendifcall EnableTrigger(QY4[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),n6,false)return falseendfunctionfunction K37 takes unit x6,integer X5,integer o6 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(x6))if(not IsUnitInForce(x6,QP4)or o6==0)thenreturn falseendifcall SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,true)call DisableTrigger(QY4[16+O5])if(IssueImmediateOrderById(x6,X5))thencall EnableTrigger(QY4[16+O5])return trueendifcall EnableTrigger(QY4[16+O5])call SetPlayerAbilityAvailable(GetOwningPlayer(x6),o6,false)return falseendfunctionfunction Jw takes unit it returns booleanreturn((X54[GetPlayerId(GetOwningPlayer(it))]!=X_4)or(GetRandomInt(1,5)<=2))endfunctionfunction JW takes unit it returns unitif(IsUnitAlly(it,Y7[0]))thenreturn h7[1]elsereturn h7[101]endifendfunctionfunction K67 takes unit it returns unitif(IsUnitAlly(it,Y7[0]))thenreturn h7[0]elsereturn h7[100]endifendfunctionfunction JX takes unit it returns unitif(IsUnitAlly(it,Z7[0]))thenreturn h7[0]elsereturn h7[100]endifendfunctionfunction KL7 takes boolean K17 returns integerif(K17)thenreturn IH4elsereturn IG4endifendfunctionfunction K07 takes integer O5,boolean K17 returns playerif(K17)thenreturn Y7[O5]elsereturn Z7[O5]endifendfunctionfunction K57 takes boolean K17 returns playerif(K17)thenreturn QK4elsereturn QM4endifendfunctionfunction K27 takes boolean K17 returns playerif(K17)thenreturn QN4elsereturn QO4endifendfunctionfunction K_7 takes integer Gu returns nothingcall FlushChildHashtable(C7,Gu)endfunctionfunction M47 takes integer M77,string GW returns nothingcall RemoveSavedHandle(C7,M77,StringHash(GW))endfunctionfunction M87 takes integer Gu,string GW,integer Gy returns nothingcall SaveInteger(C7,Gu,StringHash(GW),Gy)endfunctionfunction M97 takes integer Gu,string GW,real Gy returns nothingcall SaveReal(C7,Gu,StringHash(GW),Gy)endfunctionfunction MD7 takes integer Gu,string GW,string Gy returns nothingcall SaveStr(C7,Gu,StringHash(GW),Gy)endfunctionfunction ME7 takes integer Gu,string GW,boolean Gy returns nothingcall SaveBoolean(C7,Gu,StringHash(GW),Gy)endfunctionfunction MF7 takes integer Gu,string GW,unit Gy returns nothingcall SaveUnitHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MG7 takes integer Gu,string GW,effect Gy returns nothingcall SaveEffectHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MH7 takes integer Gu,string GW,trigger Gy returns nothingcall SaveTriggerHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MI7 takes integer Gu,string GW,lightning Gy returns nothingcall SaveLightningHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MJ7 takes integer Gu,string GW,fogmodifier Gy returns nothingcall SaveFogModifierHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MK7 takes integer Gu,string GW,destructable Gy returns nothingcall SaveDestructableHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MM7 takes integer Gu,string GW,player Gy returns nothingcall SavePlayerHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MN7 takes integer Gu,string GW,item Gy returns nothingcall SaveItemHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MO7 takes integer Gu,string GW,group Gy returns nothingcall SaveGroupHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MP7 takes integer Gu,string GW,timer Gy returns nothingcall SaveTimerHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MQ7 takes integer Gu,string GW,widget Gy returns nothingcall SaveWidgetHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MR7 takes integer Gu,string GW,texttag Gy returns nothingcall SaveTextTagHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MS7 takes integer Gu,string GW,location Gy returns nothingcall SaveLocationHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MT7 takes integer Gu,string GW,boolexpr Gy returns nothingcall SaveBooleanExprHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MU7 takes integer Gu,string GW,button Gy returns nothingcall SaveButtonHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MV7 takes integer Gu,string GW,image Gy returns nothingcall SaveImageHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MW7 takes integer Gu,string GW,force Gy returns nothingcall SaveForceHandle(C7,Gu,StringHash(GW),Gy)endfunctionfunction MX7 takes integer Gu,string GW returns fogmodifierreturn LoadFogModifierHandle(C7,Gu,StringHash(GW))endfunctionfunction MY7 takes integer Gu,string GW returns destructablereturn LoadDestructableHandle(C7,Gu,StringHash(GW))endfunctionfunction MZ7 takes integer Gu,string GW returns unitreturn LoadUnitHandle(C7,Gu,StringHash(GW))endfunctionfunction MA7 takes integer Gu,string GW returns texttagreturn LoadTextTagHandle(C7,Gu,StringHash(GW))endfunctionfunction MB7 takes integer Gu,string GW returns playerreturn LoadPlayerHandle(C7,Gu,StringHash(GW))endfunctionfunction MC7 takes integer Gu,string GW returns timerreturn LoadTimerHandle(C7,Gu,StringHash(GW))endfunctionfunction M37 takes integer Gu,string GW returns triggerreturn LoadTriggerHandle(C7,Gu,StringHash(GW))endfunctionfunction M67 takes integer Gu,string GW returns groupreturn LoadGroupHandle(C7,Gu,StringHash(GW))endfunctionfunction ML7 takes integer Gu,string GW returns effectreturn LoadEffectHandle(C7,Gu,StringHash(GW))endfunctionfunction M17 takes integer Gu,string GW returns lightningreturn LoadLightningHandle(C7,Gu,StringHash(GW))endfunctionfunction M07 takes integer Gu,string GW returns locationreturn LoadLocationHandle(C7,Gu,StringHash(GW))endfunctionfunction M57 takes integer Gu,string GW returns itemreturn LoadItemHandle(C7,Gu,StringHash(GW))endfunctionfunction M27 takes integer Gu,string GW returns imagereturn LoadImageHandle(C7,Gu,StringHash(GW))endfunctionfunction M_7 takes integer Gu,string GW returns integerreturn LoadInteger(C7,Gu,StringHash(GW))endfunctionfunction N47 takes integer Gu,string GW returns realreturn LoadReal(C7,Gu,StringHash(GW))endfunctionfunction N77 takes integer Gu,string GW returns booleanreturn LoadBoolean(C7,Gu,StringHash(GW))endfunctionfunction N87 takes integer Gu,string GW returns stringreturn LoadStr(C7,Gu,StringHash(GW))endfunctionfunction N97 takes integer ki,string kI returns buttonreturn LoadButtonHandle(C7,ki,StringHash(kI))endfunctionfunction ND7 takes integer ki,string kI returns boolexprreturn LoadBooleanExprHandle(C7,ki,StringHash(kI))endfunctionfunction NE7 takes integer ki,string kI returns forcereturn LoadForceHandle(C7,ki,StringHash(kI))endfunctionfunction NF7 takes unit hI,string Hh returns booleanreturn LoadInteger(C7,GetHandleId(hI),StringHash("state"+Hh))==1endfunctionfunction NG7 takes trigger hI,string Hh returns booleanreturn LoadInteger(C7,GetHandleId(hI),StringHash("state"+Hh))==1endfunctionfunction NH7 takes unit hI,string Hh returns nothingcall SaveInteger(C7,GetHandleId(hI),StringHash("state"+Hh),1)endfunctionfunction NI7 takes trigger hI,string Hh returns nothingcall SaveInteger(C7,GetHandleId(hI),StringHash("state"+Hh),1)endfunctionfunction NJ7 takes unit hI,string Hh returns nothingcall SaveInteger(C7,GetHandleId(hI),StringHash("state"+Hh),2)endfunctionfunction NK7 takes trigger hI,string Hh returns nothingcall SaveInteger(C7,GetHandleId(hI),StringHash("state"+Hh),2)endfunctionfunction l5 takes nothing returns nothinglocal integer i=0if C8==false and PO4==false thenloopcall DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303An internal checksum has failed|r")call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303This might not be a serious glitch, but it is important for me to get it|r")call DisplayTimedTextToPlayer(Player(i),0,0,120,"|c00ff0303Please send me the replay for this game to IceFrog@gmail.com|r")set i=i+1exitwhen i==12endloopendifendfunctionfunction NM7 takes trigger t returns nothingcall DisableTrigger(t)set Dy=Dy+1set Dx[Dy]=tset DX[Dy]=JM7()+60if Dy>8000 thencall l5()endifendfunctionfunction NN7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call NJ7(MZ7(NO7,"hero"),N87(NO7,"state"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction NP7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call NK7(M37(NO7,"hero"),N87(NO7,"state"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction NQ7 takes unit hI,string Hh,real Hk returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function NN7))call TriggerRegisterTimerEvent(t,Hk,false)call NH7(hI,Hh)call MF7(GetHandleId(t),"hero",hI)call MD7(GetHandleId(t),"state",Hh)set t=nullendfunctionfunction NR7 takes trigger hI,string Hh,real Hk returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function NP7))call TriggerRegisterTimerEvent(t,Hk,false)call NI7(hI,Hh)call MH7(GetHandleId(t),"hero",hI)call MD7(GetHandleId(t),"state",Hh)set t=nullendfunctionfunction NS7 takes group g returns integerset bj_groupCountUnits=0call ForGroup(g,function CountUnitsInGroupEnum)return bj_groupCountUnitsendfunctionfunction NT7 takes force NU7,force NV7 returns forcelocal integer NW7=0loopexitwhen NW7>11if IsPlayerInForce(Player(NW7),NU7)thencall ForceAddPlayer(NV7,Player(NW7))endifset NW7=NW7+1endloopreturn NV7endfunctionfunction NX7 takes unit H57,string NY7,player NZ7 returns nothinglocal integer NW7=0local integer NA7=0local unit NB7=nulllocal real NC7=0local string N37=""local string N67=""set NW7=GetPlayerId(NZ7)set NB7=G7[NW7]if H57!=null thenset NA7=GetPlayerId(GetOwningPlayer(H57))elseset NA7=15endifif not(NA7==0 or NA7==6 or NA7==15)thenif NB7!=null and GetWidgetLife(NB7)>.405 and H57!=null thenset NC7=J77(H57,NB7)if NC7<=1500 thenset N37=""elseif NC7<=3000. thenset N37="|c00c0c0c0"elseset N37="|c00a0a0a0"endifendifset N67="|r"+K[NA7]+M74[NA7]+"|r: "+N37+NY7+"|r"elseif NA7==GetPlayerId(Y7[0])thenset N67="[AI] "+K[NA7]+"The Sentinel|r: "+NY7elseif NA7==GetPlayerId(Z7[0])thenset N67="[AI] "+K[NA7]+"The Scourge|r: "+NY7elseif NA7==12 thenset N67="[AI]: "+NY7+"|r"endifif LO4[NW7]and NZ7==GetLocalPlayer()thencall DisplayTimedTextToPlayer(NZ7,0,0,10,N67)endifset NB7=nullset N37=""endfunctionfunction NL7 takes group N17,string N67,force N07 returns nothinglocal integer NW7=0local unit H57=nulllocal string N57="|r"local integer i=1loopexitwhen i>10set H57=G7[GetPlayerId(J37(i))]if IsUnitInGroup(H57,N17)thencall GroupRemoveUnit(N17,H57)set NW7=GetPlayerId(GetOwningPlayer(H57))if N57!="|r" thenset N57=N57+", "endifset N57=N57+K[NW7]+M74[NW7]+"|r"endifset i=i+1endlooploopset H57=FirstOfGroup(N17)exitwhen H57==nullcall GroupRemoveUnit(N17,H57)set NW7=GetPlayerId(GetOwningPlayer(H57))if N57!="|r" thenset N57=N57+", "endifset N57=N57+K[NW7]+M74[NW7]+"|r"endloopset N57=N57+": "if(IsPlayerInForce(GetLocalPlayer(),N07))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,N57)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,"      - "+N67)endifendfunctionfunction N27 takes nothing returns nothinglocal timer N_7=GetExpiredTimer()local force O47=nulllocal integer NW7=1local unit H57=nulllocal group N17=nulllocal integer O77=GetHandleId(N_7)local string N67=""if N77(O77,"Personal")thenset O47=NE7(O77,"Target")set N67=N87(O77,"SubTag")set H57=MZ7(O77,"Owner")loopexitwhen NW7>11if IsPlayerInForce(Player(NW7),O47)thenif N67==" " thencall DisplayTimedTextToPlayer(Player(NW7),0,0,10,N67)elsecall NX7(H57,N67,Player(NW7))endifendifset NW7=NW7+1endloopcall K_7(O77)call DestroyTimer(N_7)elseset N67=N87(O77,"SubTag")set O77=StringHash("cAI|Re"+N67)set O47=NE7(O77,"Target")set N17=M67(O77,"Owner")if M_7(O77,"CountDn")==0 thencall PauseTimer(N_7)if NS7(N17)==1 thenset H57=FirstOfGroup(N17)loopexitwhen NW7>11if IsPlayerInForce(Player(NW7),O47)thencall NX7(H57,N67,Player(NW7))endifset NW7=NW7+1endloopelsecall NL7(N17,N67,O47)endifcall DestroyGroup(N17)call K_7(O77)call DestroyTimer(N_7)elsecall M87(O77,"CountDn",M_7(O77,"CountDn")-1)endifendifset N17=nullset O47=nullendfunctionfunction O87 takes unit H57,force O47,string N67 returns nothinglocal force O97=nulllocal group OD7=nulllocal timer N_7=nulllocal integer NW7=1local boolean KT7=truelocal boolean OE7=falselocal integer O77=0if H57==null thenset H57=K04[bj_forLoopAIndex]endifset O77=StringHash("cAI|Re"+N67)set O97=NE7(O77,"Target")if O97==null and N67!=" " thenset OE7=trueset O97=NT7(O47,CreateForce())call MW7(O77,"Target",O97)set N_7=CreateTimer()call MD7(GetHandleId(N_7),"SubTag",N67)set OD7=CreateGroup()call GroupAddUnit(OD7,H57)call MO7(O77,"Owner",OD7)elseif N67==" " thenset KT7=falseelseset KT7=trueset NW7=1loopexitwhen NW7>11if IsPlayerInForce(Player(NW7),O47)thenif not IsPlayerInForce(Player(NW7),O97)thenset KT7=falseset NW7=11endifendifset NW7=NW7+1endloopendifif KT7 thenset OD7=M67(O77,"Owner")call GroupAddUnit(OD7,H57)elseset OE7=trueset N_7=CreateTimer()set O77=GetHandleId(N_7)call MD7(O77,"SubTag",N67)set O97=NT7(O47,CreateForce())call MW7(O77,"Target",O97)call MF7(O77,"Owner",H57)call ME7(O77,"Personal",true)endifendifif OE7 thenif N67==" " thencall TimerStart(N_7,0.1,false,function N27)elsecall TimerStart(N_7,0.01,true,function N27)endifendifset O97=nullset OD7=nullendfunctionfunction OF7 takes force O47,real x,real y,integer O5 returns nothingif(IsPlayerInForce(GetLocalPlayer(),O47))thenif GetAllyColorFilterState()==2 thencall PingMinimapEx(x,y,5.,48,230,185,true)elsecall PingMinimapEx(x,y,5.,M84[O5],M94[O5],MD4[O5],true)endifendifendfunctionfunction OG7 takes unit H57,force O47 returns nothingif H57!=null thenif GetUnitState(H57,UNIT_STATE_LIFE)>0 thenif(IsPlayerInForce(GetLocalPlayer(),O47))thencall PingMinimap(GetUnitX(H57),GetUnitY(H57),5.)endifelseif IsUnitAlly(H57,Y7[0])thenset H57=JH4elseset H57=K84endifif(IsPlayerInForce(GetLocalPlayer(),O47))thencall PingMinimap(GetUnitX(H57),GetUnitY(H57),5.)endifendifendifendfunctionfunction OH7 takes unit H57,string N67 returns nothinglocal integer O5=1local real J47set DI7=CreateForce()loopexitwhen O5>11if O5==6 thenset O5=7endifif IsUnitAlly(H57,Player(O5))thenif G7[O5]==null or GetWidgetLife(G7[O5])<.405 thencall ForceAddPlayer(DI7,Player(O5))elseset J47=J77(H57,G7[O5])if J47<=3000. thencall ForceAddPlayer(DI7,Player(O5))endifendifendifset O5=O5+1endloopcall O87(H57,DI7,N67)call OG7(H57,DI7)call DestroyForce(DI7)set DI7=nullendfunctionfunction OI7 takes unit it,boolean J2 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if((not Id(O5))or(J2))thenif(GetUnitTypeId(it)!='H00J')thenset G0[32+O5]=trueif(not GZ[160+O5])and(GetUnitLifePercent(it)<30)thencall OH7(it,"Retreating")endifset h4[O5]=nullset hq[512+O5]=0.set GZ[128+O5]=falseset GZ[160+O5]=trueendifif(is(it))thencall jW(it,851986,h9[O5])endifendifendfunctionfunction OJ7 takes nothing returns booleanlocal integer O5=M_7(GetHandleId(GetTriggeringTrigger()),"pID")local integer OK7=GetPlayerId(GetOwningPlayer(h4[O5]))if(GetWidgetLife(G7[O5])<.405)or(Bz>hq[608+O5])or(h4[O5]==null)or(GetWidgetLife(h4[O5])<.405)or(eY[32+OK7]<=0)thencall DisableTrigger(GetTriggeringTrigger())return falseelseif(IsUnitVisible(h4[O5],Player(O5)))thenif JC7(G7[O5])thencall IssueTargetOrderById(G7[O5],851983,h4[O5])endifcall DisableTrigger(GetTriggeringTrigger())return falseendifif is(G7[O5])thenif eY[464+OK7]==851986 or eY[464+OK7]==851971 or eY[464+OK7]==851990 thencall IssuePointOrderById(G7[O5],851986,I2R(eY[480+OK7]),I2R(eY[496+OK7]))elsecall jW(G7[O5],851986,h4[O5])endifendifreturn falseendfunctionfunction J3 takes unit it,boolean J2 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean J4=falseif(J_7(it))thenif(J2)thenif(not Id(O5))thencall OI7(it,true)elseif((J07(h4[O5]))and(GetUnitAbilityLevel(h4[O5],'B02F')==0))thencall IssueTargetOrderById(it,851983,h4[O5])endifelsecall OI7(it,false)endifelseif(G0[272+O5]or is(it))and((J2)or(((not GZ[128+O5])or((GetUnitCurrentOrder(it)!=851983)and(GetUnitCurrentOrder(it)!=851993)))and(iU(it))))thenif((G0[O5])or(G0[48+O5])or(not G0[128+O5]))thenset J4=jW(it,851986,h9[O5])endifif(h4[96+O5]!=null)and(GetUnitTypeId(h4[96+O5])=='u00S')thenset J4=IssueTargetOrderById(it,851983,h4[96+O5])endifif((not J4)and(h4[O5]!=null)and(J07(h4[O5]))and(GetUnitAbilityLevel(h4[O5],'B02F')==0))thenif IsUnitVisible(h4[O5],GetOwningPlayer(it))thenset bj_lastLoadedUnit=itif N77(GetHandleId(h4[O5]),"XMarked")thencall MoveLocation(HA,N47(GetHandleId(h4[O5]),"AI|XMark|X"),N47(GetHandleId(h4[O5]),"AI|XMark|Y"))if(not IsUnitInRangeLoc(h4[O5],HA,600.))thenset J4=IssuePointOrderByIdLoc(it,851986,HA)elseset J4=IssueTargetOrderById(it,851983,h4[O5])endifelseif NF7(it,"AI|Lasso")thenset J4=IssueTargetOrderById(it,851986,h9[O5])elseif(GetUnitTypeId(it)=='Ekee' and GetHeroLevel(it)>=6)and(eY[320+O5]>=0)and(not IsUnitInRange(it,h4[O5],300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(h4[O5])+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(KH7(900,h4[O5],Condition(function KI7))==0)thenset J4=IssueTargetOrderById(it,851986,h4[O5])elseset J4=IssueTargetOrderById(it,851983,h4[O5])endifset hq[608+O5]=Bz+EQ7elseif hq[608+O5]>Bz and eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]>0 thenif not IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),GetOwningPlayer(it))thencall EnableTrigger(QY4[96+O5])set J4=jW(it,851986,h4[O5])endifelsecall DisableTrigger(QY4[96+O5])endifendifset FJ7=LoadUnitHandle(C7,(GetHandleId(it)),(652))set FK7=MZ7((GetHandleId(it)),"AI|TetherSource")if(J4)thenelseif(FJ7!=null)and(not IsUnitInRange(it,FJ7,700)and(IsUnitType(FJ7,UNIT_TYPE_HERO)))thencall jW(it,851986,FJ7)elseif(FK7!=null)and(not IsUnitInRange(it,FK7,700))thencall jW(it,851986,FK7)elseif((eY[O5]>=9))thenif eY[272+O5]<=2 thenif((G0[176+O5])or(h8[48+O5]!=h8[32+O5]))thencall jW(it,851983,h8[48+O5])elsecall jW(it,851986,h9[O5])endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenelseif GZ[160+O5]thencall jW(it,851986,h9[O5])elsecall jW(it,851983,h8[O5])endifendifendfunctionfunction OM7 takes unit it returns nothingif((KJ7(it,OU[F6]))and(UnitUseItem(it,bj_lastCreatedItem)))thencall I17(0.3)endifif((KJ7(it,OU[O0]))and(UnitUseItem(it,bj_lastCreatedItem)))thencall I17(0.3)endifcall IssueImmediateOrderById(it,851972)endfunctionfunction ON7 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))==true and GetUnitTypeId(GetFilterUnit())!='u00S' and GetUnitTypeId(GetFilterUnit())!='ncop' and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)endfunctionfunction OO7 takes unit it,unit OP7 returns booleanlocal item OQ7=nulllocal boolean OR7=falselocal item OS7=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean OT7=(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)local boolean OU7=falselocal boolean OV7=falselocal real OW7=0local real OX7=0local real OY7=0if MZ7((GetHandleId(it)),"AI|TetherSource")!=null thenreturn falseelseif(J77(it,OP7)<2000)thenreturn falseelseif(GetUnitTypeId(it)=='H00J')thenreturn falseendifif OP7==JH4 or OP7==K84 thenset OX7=GetUnitX(OP7)set OY7=GetUnitY(OP7)elseset bj_lastLoadedUnit=K67(it)set OW7=Atan2(GetUnitY(bj_lastLoadedUnit)-GetUnitY(OP7),GetUnitX(bj_lastLoadedUnit)-GetUnitX(OP7))+GetRandomReal(-ET7,ET7)set OX7=GetUnitX(OP7)+500.*Cos(OW7)set OY7=GetUnitY(OP7)+500.*Sin(OW7)endifif((GetUnitAbilityLevel(it,'A01O')>0)and(Bz>SL4[32+O5]))thenif IssuePointOrderById(it,852525,OX7,OY7)thenreturn trueendifendifif((GetUnitAbilityLevel(it,'A0R0')>0)and(Bz>SL4[O5]))thenif IssuePointOrderById(it,852600,OX7,OY7)thenreturn trueendifendifif not(eY[224+O5]<R2I(Bz)and GetUnitState(it,UNIT_STATE_MANA)>DN7)thenreturn falseendifif not IsUnitType(OP7,UNIT_TYPE_STRUCTURE)thenset bj_lastLoadedUnit=itset bj_lastLoadedUnit=KF7(2000.,jv(OP7),Condition(function ON7))set OV7=((bj_lastLoadedUnit!=null)and(J77(it,OP7)>J77(bj_lastLoadedUnit,OP7)))elseset OV7=trueendifif(OT7 and T74[O5]==true)thenif(KJ7(it,GetItemTypeId(T94[O5])))thencall DisableTrigger(HR4)call UnitRemoveItem(it,KO7(it,GetItemTypeId(T94[O5])))call RemoveItem(T94[O5])call EnableTrigger(HR4)endifif(T84[O5]!=null)thencall I17(0.2)call UnitAddItem(it,T84[O5])endifset T74[O5]=falseset T94[O5]=nullset T84[O5]=nullendifif(KJ7(it,OU[AC]))and OV7 thenif((GetUnitAbilityLevel(it,'B07T')==0)and(GetUnitAbilityLevel(it,'B068')==0)and(GetUnitAbilityLevel(it,'B00K')==0)and(GetUnitAbilityLevel(it,'B039')==0))thencall OM7(it)set OU7=UnitUseItemPoint(it,KO7(it,OU[AC]),OX7,OY7)endifelseif(KJ7(it,OU[N6]))thencall OM7(it)set OU7=UnitUseItemPoint(it,KO7(it,OU[N6]),GetUnitX(OP7),GetUnitY(OP7))elseif(not H47[O5])thenif(GetUnitTypeId(it)=='H00J' or IsUnitIllusion(it))or(not OV7)thenreturn falseendifset OR7=falseif((not KK7(it)))thenset OR7=trueelseif(KJ7(it,OU[TC]))thenset OS7=bj_lastCreatedItemset OR7=trueelseif(KJ7(it,OU[VC]))thenset OS7=bj_lastCreatedItemset OR7=trueelseif(KJ7(it,OU[YC]))thenset OS7=bj_lastCreatedItemset OR7=trueendifif OR7 thenif OS7!=null thencall JT7(OS7)endifset OQ7=CreateItem(OU[AC],GetUnitX(it),GetUnitY(it))set OR7=UnitAddItem(it,OQ7)call I17(0.3)elseif(KJ7(it,OU[BU]))thenset TD4[O5]=bj_lastCreatedItemset OR7=trueendifif OR7 thencall DisableTrigger(HR4)call UnitRemoveItem(it,TD4[O5])call SetItemPosition(TD4[O5],9999,-9999)call EnableTrigger(HR4)set OQ7=CreateItem(OU[AC],GetUnitX(it),GetUnitY(it))set OR7=UnitAddItem(it,OQ7)set TF4[O5]=truecall I17(0.3)endifendifset OS7=nullif(not OR7)thencall JT7(OQ7)call I17(0.2)if((not KK7(it)))thencall UnitAddItem(it,TD4[O5])set TF4[O5]=falseset TD4[O5]=nullendifendifif(KJ7(it,OU[AC]))thencall OM7(it)set OR7=UnitUseItemPoint(it,KO7(it,OU[AC]),OX7,OY7)call I17(0.5)set OQ7=nullset OU7=OR7if not OU7 thencall I17(0.01)set OU7=(eY[224+O5]>R2I(Bz)+1)endifendifendifif OU7 thenset eY[224+O5]=R2I(Bz)+DM7set eY[208+O5]=0set h8[144+O5]=nullelseif not OR7 thenset eY[208+O5]=0set h8[144+O5]=nullendifif TD4[O5]!=null thencall DisableTrigger(HR4)call RemoveItem(KO7(it,OU[AC]))call UnitAddItem(it,TD4[O5])call EnableTrigger(HR4)set TD4[O5]=nullset TF4[O5]=falseendifendifreturn OU7endfunctionfunction OZ7 takes integer O5,unit j5,integer o6 returns nothingcall DisableTrigger(QY4[O5])if((not J_7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(J07(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))thencall IssueTargetOrderById(j5,851983,h4[O5])set GZ[48+O5]=trueelsecall J3(j5,true)endifcall EnableTrigger(QY4[O5])if(o6!=0)thencall SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,false)endifendfunctionfunction J6 takes integer O5,unit j5,integer o6,integer n6 returns nothingcall OZ7(O5,j5,o6)call SetPlayerAbilityAvailable(GetOwningPlayer(j5),n6,false)endfunctionfunction J7 takes integer O5,unit j5,integer o6 returns nothingcall DisableTrigger(QY4[O5])if((not J_7(j5))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5])and(h4[O5]!=null)and(J07(h4[O5]))and(IsUnitVisible(h4[O5],GetOwningPlayer(j5))))thencall IssueTargetOrderById(j5,851983,h4[O5])set GZ[48+O5]=trueelsecall J3(j5,true)endifcall EnableTrigger(QY4[O5])call SetPlayerAbilityAvailable(GetOwningPlayer(j5),o6,false)endfunctionfunction J8 takes integer O5,boolean J9 returns booleanset GZ[O5]=falsereturn J9endfunctionfunction OA7 takes unit u returns booleanif(IsUnitAlly(u,Y7[0]))thenreturn(IsUnitInRange(u,JH4,1100.))elsereturn(IsUnitInRange(u,K84,1100.))endifendfunctionfunction kA takes unit IB,unit m5,real kb returns booleanif(IsUnitAlly(m5,Y7[0]))thenreturn(J77(IB,h7[0])-J77(m5,h7[0]))>kbelsereturn(J77(IB,h7[100])-J77(m5,h7[100]))>kbendifendfunctionfunction kB takes boolean J4,group jU returns integerlocal unit itlocal integer kc=0local boolean kC=falselocal boolean kd=falseloopset it=FirstOfGroup(jU)exitwhen(it==null)if(GetUnitTypeId(it)=='H00I')thenset kc=kc+1set kd=trueelseif(GetUnitTypeId(it)!='H00J')thenset kc=kc+1elseif(not kC)thenset kC=trueendifcall GroupRemoveUnit(jU,it)endloopif((kC)and((not kd)or(J4)))thenset kc=kc+1endifreturn kcendfunctionfunction kD takes unit u returns booleanreturn((GetUnitAbilityLevel(u,'B07T')>0)or(GetUnitAbilityLevel(u,'B076')>0)or(GetUnitAbilityLevel(u,'B068')>0)or(GetUnitAbilityLevel(u,'BHfs')>0)or(GetUnitAbilityLevel(u,'B00K')>0)or(GetUnitAbilityLevel(u,'B021')>0)or(GetUnitAbilityLevel(u,'B01Q')>0)or(GetUnitAbilityLevel(u,'B039')>0)or(GetUnitAbilityLevel(u,'A00J')>0)or(GetUnitAbilityLevel(u,'A0KT')>0)or(GetUnitAbilityLevel(u,'A021')>0)or(GetUnitAbilityLevel(u,'BOwk')>0))endfunctionfunction ke takes unit u returns booleanreturn((GetUnitAbilityLevel(u,'A0RN')>0)or(GZ[256+GetPlayerId(GetOwningPlayer(u))]))endfunctionfunction kE takes string kf,string kF returns integerlocal integer kg=StringLength(kf)local integer kG=0loopexitwhen kg<=kGif(SubString(kf,kg,kg+1)==kF)thenreturn kgendifset kg=kg-1endloopreturn-1endfunctionfunction kh takes string kf returns integerlocal integer kg=0local integer kG=StringLength(kf)loopexitwhen kg>=kGif(SubString(kf,kg,kg+1)==",")thenreturn kgendifset kg=kg+1endloopreturn-1endfunctionfunction kj takes nothing returns nothingset GT=falseendfunctionfunction kJ takes real x,real y returns booleanset GT=truecall SetRect(He,x-160.,y-160.,x+160.,y+160.)call EnumDestructablesInRect(He,QA4,function kj)return GTendfunctionfunction kk takes unit it,real IW,unit r returns locationlocal integer kK=0local real kl=Atan2(GetUnitY(r)-GetUnitY(it),GetUnitX(r)-GetUnitX(it))loopif(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))return HBendifset kK=kK+1set IW=IW-50.exitwhen(kK>5)endloopreturn nullendfunctionfunction kL takes unit it,unit m5,real km returns locationlocal real IW=J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5))+kmlocal real kl=0local integer kK=0set kK=GetPlayerId(GetOwningPlayer(m5))set kl=Atan2(GetUnitY(h9[kK])-GetUnitY(m5),GetUnitX(h9[kK])-GetUnitX(m5))set kK=0loopif(kJ(GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+IW*Cos(kl),GetUnitY(it)+IW*Sin(kl))return HBendifset kK=kK+1set IW=IW-50.exitwhen(kK>5)endloopreturn nullendfunctionfunction OB7 takes unit it returns booleanreturn((GetUnitAbilityLevel(it,'A04R')==0)and(GetUnitAbilityLevel(it,'Aloc')==0))endfunctionfunction kn takes unit it returns booleanreturn((GetUnitAbilityLevel(it,'A04R')==0)and(GetUnitAbilityLevel(it,'Aloc')==0)and(GetUnitTypeId(it)!='ushd')and(GetUnitTypeId(it)!='n01Q')and(GetUnitTypeId(it)!='n01R'))endfunctionfunction OC7 takes unit u returns booleanreturn(IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER))endfunctionfunction O37 takes unit x6 returns integerreturn(GetItemTypeId(UnitItemInSlot(x6,GetIssuedOrderId()-852008)))endfunctionfunction O67 takes integer Iz returns booleanreturn((Iz=='A09V')or(Iz=='AHfa')or(Iz=='A0C4')or(Iz=='A0OI')or(Iz=='A026')or(Iz=='A0DY')or(Iz=='A0LZ')or(Iz=='A0QN'))endfunctionfunction kP takes integer i1 returns booleanreturn((i1=='U000')or(i1=='E004')or(i1=='UC60')or(i1=='UC42')or(i1=='Udea')or(i1=='Ubal')or(i1=='Nfir')or(i1=='Ofar')or(i1=='U00P')or(i1=='N00R')or(i1=='H008')or(i1=='E005')or(i1=='Harf')or(i1=='Naka')or(i1=='Hvwd')or(i1=='Emoo')or(i1=='HC92')or(i1=='Ucrl')or(i1=='Otch')or(i1=='N01A')or(i1=='Ogrh')or(i1=='Hamg')or(i1=='N01V')or(IN7(i1,DC7)))endfunctionfunction kq takes integer i1 returns booleanreturn(not IN7(i1,DC7))endfunctionfunction kQ takes unit u returns booleanreturn((GetUnitAbilityLevel(u,'B05D')>0)or(GetUnitAbilityLevel(u,'B05M')>0)or(GetUnitAbilityLevel(u,'B05N')>0)or(GetUnitAbilityLevel(u,'B05O')>0))endfunctionfunction kr takes unit u returns booleanreturn((GetUnitAbilityLevel(u,'B078')>0)or(GetUnitAbilityLevel(u,'Bena')>0)or(GetUnitAbilityLevel(u,'Beng')>0)or(GetUnitAbilityLevel(u,'B0C1')>0))endfunctionfunction OL7 takes integer Iz returns booleanreturn((Iz==OU[C5])or(Iz==OU[L5])or(Iz==OU[E2])or(Iz==OU[F2])or(Iz==OU[H2]))endfunctionfunction ks takes integer Iz returns booleanreturn((Iz==OU[R2])or(Iz==OU[T2])or(Iz==OU[X2]))endfunctionfunction kS takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A02C')if(kt==4)thenreturn'A07M'elseif(kt==3)thenreturn'A07J'elseif(kt==2)thenreturn'A07I'elseif(kt==1)thenreturn'A07H'elsereturn'A0P6'endifendfunctionfunction kT takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A02C')if(kt==4)thenreturn'A078'elseif(kt==3)thenreturn'A074'elseif(kt==2)thenreturn'A072'elseif(kt==1)thenreturn'A06N'elsereturn'A02M'endifendfunctionfunction O17 takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A02C')if(kt==4)thenreturn'A04N'elseif(kt==3)thenreturn'A04M'elseif(kt==2)thenreturn'A04J'elseif(kt==1)thenreturn'A03J'elsereturn'A073'endifendfunctionfunction O07 takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A088')if(kt==3)thenreturn'A08D'elseif(kt==2)thenreturn'A08A'elseif(kt==1)thenreturn'A089'elsereturn'A04W'endifendfunctionfunction O57 takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A088')if(kt==3)thenreturn'A00F'elseif(kt==2)thenreturn'A01T'elseif(kt==1)thenreturn'A007'elsereturn'A011'endifendfunctionfunction O27 takes unit u returns integerlocal integer kt=GetUnitAbilityLevel(u,'A088')if(kt==3)thenreturn'A08I'elseif(kt==2)thenreturn'A08G'elseif(kt==1)thenreturn'A08F'elsereturn'A083'endifendfunctionfunction O_7 takes integer Iz returns integerif((Iz==OU[EW])or(Iz==OU[TC])or(Iz==OU[VC])or(Iz==OU[ZC])or(Iz==OU[AC]))thenreturn 100elseif((Iz==OU[XV])or(Iz==OU[HY])or(Iz==OU[OW])or(Iz==OU[DV])or(Iz==OU[WX]))thenreturn 150elseif((Iz==OU[BA])or(Iz==OU[GB]))thenreturn 225elseif((Iz==OU[SY])or(Iz==OU[YX])or(Iz==OU[YC])or(Iz==OU[ZY]))thenreturn 350elseif((Iz==OU[BU])or(Iz==OU[EV])or(Iz==OU[LU])or(Iz==OU[ZX])or(Iz==OU[WL])or(Iz==OU[ZL])or(Iz==OU[AL])or(Iz==OU[G6]))thenreturn 450elseif((Iz==OU[JV])or(Iz==OU[NV])or(Iz==OU[YW])or(Iz==OU[CU])or(Iz==OU[AV])or(Iz==OU[E6]))thenreturn 650elseif((Iz==OU[CV])or(Iz==OU[QW])or(Iz==OU[VW])or(Iz==OU[FV])or(Iz==OU[UY])or(Iz==OU[SX])or(Iz==OU[NZ])or(Iz==OU[UV])or(Iz==OU[F6]))thenreturn 950elseif((Iz==OU[MV])or(Iz==OU[RX])or(Iz==OU[GX])or(Iz==OU[HZ]))thenreturn 1200elseif((Iz==OU[OV])or(Iz==OU[TW])or(Iz==OU[ZW])or(Iz==OU[V6])or(Iz==OU[C3])or(Iz==OU[J1])or(Iz==OU[DU4])or(Iz==OU[FS4]))thenreturn 1500elseif((Iz==OU[HW])or(Iz==OU[DL])or(Iz==OU[RL])or(Iz==OU[A1])or(Iz==OU[J1])or(Iz==OU[V1])or(Iz==OU[D1])or(Iz==OU[LL])or(Iz==OU[DX4])or(Iz==OU[DA4]))thenreturn 2000elseif((Iz==OU[EZ])or(Iz==OU[QV])or(Iz==OU[LV])or(Iz==OU[N6])or(Iz==OU[F5])or(Iz==OU[DX4])or(Iz==OU[O0]))thenreturn 2500elseif((Iz==OU[RW])or(Iz==OU[UW])or(Iz==OU[F1])or(Iz==OU[E1])or(Iz==OU[E0])or(Iz==OU[Q1])or(Iz==OU[C5])or(Iz==OU[R2]))thenreturn 3000elseif((Iz==OU[TV])or(Iz==OU[P1])or(Iz==OU[J0]))thenreturn 3500elseif((Iz==OU[GY])or(Iz==OU[B5])or(KP7(Iz))or(Iz==OU[T2])or(Iz=='olig'))thenreturn 4000elseif((Iz==OU[X0])or(Iz==OU[L5]))thenreturn 4500elseif((Iz==OU[R0])or(Iz==OU[X2])or(Iz==OU[Y0])or(Iz==OU[DR4])or(Iz==OU[D24]))thenreturn 5000elseif((Iz==OU[W5])or(Iz==OU[A5])or(Iz==OU[E2])or(Iz==OU[D44])or(Iz==OU[DJ4])or(Iz==OU[DE4])or(Iz==OU[DG4])or(Iz==OU[DQ4])or(Iz==OU[DZ4]))thenreturn 5500elseif((Iz==OU[DY4])or(Iz==OU[F2])or(Iz==OU[DD4])or(Iz==OU[DP4])or(Iz==OU[DM4])or(Iz=='sor3')or(Iz=='sor4')or(Iz=='sor5')or(Iz=='sor6')or(Iz=='I016')or(Iz=='I006'))thenreturn 6000elseif((Iz==OU[H2])or(Iz==OU[DO4])or(Iz==OU[DN4])or(Iz==OU[DV4]))thenreturn 7000elseif(Iz==OU[D84])thenreturn 8000endifreturn 500endfunctionfunction B6 takes trigger kW,playerunitevent kx returns nothingcall TriggerRegisterPlayerUnitEvent(kW,Y7[1],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Y7[2],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Y7[3],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Y7[4],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Y7[5],kx,QA4)endfunctionfunction c6 takes trigger kW,playerunitevent kx returns nothingcall TriggerRegisterPlayerUnitEvent(kW,Z7[1],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Z7[2],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Z7[3],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Z7[4],kx,QA4)call TriggerRegisterPlayerUnitEvent(kW,Z7[5],kx,QA4)endfunctionfunction ky takes trigger kW,playerunitevent kx returns nothingcall B6(kW,kx)call c6(kW,kx)endfunctionfunction P47 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(J07(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction P77 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(J07(GetFilterUnit()))and(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)and(JD7(GetFilterUnit())==bj_forLoopBIndex))endfunctionfunction P87 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(J07(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))endfunctionfunction P97 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(J07(GetFilterUnit())))endfunctionfunction PD7 takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(J07(GetFilterUnit())))thenif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))thenreturn trueelseif(not kD(GetFilterUnit()))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),600.)))elsereturn(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)endifendifreturn falseendfunctionfunction PE7 takes nothing returns booleanreturn((GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(J07(GetFilterUnit()))and(not J_7(GetFilterUnit())))endfunctionfunction k0 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))endfunctionfunction PF7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction IsEnemyTowerInRangeAttacker takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction TorrentedKillableFilter takes nothing returns booleanreturn J_7(GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),'B09Q')>0endfunctionfunction k2 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))endfunctionfunction k3 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(kn(GetFilterUnit())))endfunctionfunction PG7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitIllusion(GetFilterUnit()))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction k5 takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetTriggerUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))endfunctionfunction IsAllyTowerInRangeTrig takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction k6 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(J07(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0))endfunctionfunction PH7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction PI7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction PJ7 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))endfunctionfunction PK7 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))endfunctionfunction k642 takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction k65 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))))endfunctionfunction PM7 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))endfunctionfunction PN7 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastCreatedUnit))))endfunctionfunction PO7 takes nothing returns booleanreturn(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetWidgetLife(GetFilterUnit())>.405)and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_DEAD)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_SUMMONED)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))endfunctionfunction k7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetUnitLifePercent(GetFilterUnit())<50.))endfunctionfunction k8 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))endfunctionfunction k9 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit()))and(GetUnitState(GetFilterUnit(),UNIT_STATE_MANA)>200.))endfunctionfunction Ka takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))endfunctionfunction KA takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))endfunctionfunction PP7 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(kn(GetFilterUnit())))endfunctionfunction KA_Ally takes nothing returns booleanreturn((not IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kn(GetFilterUnit())))endfunctionfunction PQ7 takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit))))thenif J77(GetFilterUnit(),bj_lastLoadedUnit)<=250 thenif GetUnitLifePercent(GetFilterUnit())>DD7 thenset I04=GetFilterUnit()set DD7=GetUnitLifePercent(I04)endifelseif GetUnitLifePercent(GetFilterUnit())>DE7 thenset I_4=GetFilterUnit()set DE7=GetUnitLifePercent(I_4)endifendifendifreturn falseendfunctionfunction PR7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction PS7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((i1=='h0CV')or(i1=='h0CX')or(i1=='h0CW')))endfunctionfunction PT7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='unec')or(i1=='u002')or(i1=='edry')or(i1=='e00W')))endfunctionfunction PU7 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction KB takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='usep')or(i1=='utod')or(i1=='eaom')or(i1=='eaoe')))endfunctionfunction Kc takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.))endfunctionfunction PV7 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))endfunctionfunction FindEnemyCreepTrig takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<250.))endfunctionfunction PW7 takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<160.))endfunctionfunction PX7 takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))endfunctionfunction PY7 takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false)and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>200.))endfunctionfunction KC takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))endfunctionfunction Kd takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))endfunctionfunction KD takes nothing returns booleanif((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))or GetUnitTypeId(GetEnumUnit())=='Uktl')and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))thenif((GetUnitTypeId(GetEnumUnit())=='Uktl')or(not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)))thenreturn((GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<150.)or(GetUnitLifePercent(GetFilterUnit())<35.))elseif((GetUnitTypeId(GetEnumUnit())=='Ulic')or(GetUnitTypeId(GetEnumUnit())=='E004'))thenreturn(GetUnitLifePercent(GetFilterUnit())>70.)endifendifreturn falseendfunctionfunction PZ7 takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>30.)and(kn(GetFilterUnit()))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0])or(GetOwningPlayer(GetFilterUnit())==Player(12))))thenreturn(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<DD7)endifreturn falseendfunctionfunction PA7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())!='H00J'))endfunctionfunction PB7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())>40.)and(GetUnitTypeId(GetFilterUnit())!='H00J'))endfunctionfunction PC7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_MELEE_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))endfunctionfunction P37 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)==true)and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetUnitLifePercent(GetFilterUnit())>65.)and(not IsUnitIllusion(GetFilterUnit())))endfunctionfunction Kf takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(JC7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!='H00J'))endfunctionfunction P67 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<50.))endfunctionfunction PL7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<70.))endfunctionfunction P17 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitLifePercent(GetFilterUnit())<99.)and(GetUnitTypeId(GetFilterUnit())!='H00J'))endfunctionfunction P07 takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='e00S')or(i1=='e011')or(i1=='e00R')or(i1=='e019')or(i1=='u00N')or(i1=='u00D')or(i1=='u00M')or(i1=='u00T')))endfunctionfunction KG takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())if(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='o018')or(i1=='o002')or(i1=='o00B')or(i1=='o01B'))thenif(GZ[272+GetPlayerId(GetOwningPlayer(GetFilterUnit()))])thenreturn(GetUnitUserData(GetFilterUnit())==1)elsereturn(GetUnitUserData(GetFilterUnit())==0)endifendifreturn falseendfunctionfunction P57 takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())=='otot'))endfunctionfunction aiIsTechiesMines takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and((i1=='o018')or(i1=='o002')or(i1=='o00B')or(i1=='o01B')or(i1=='otot')or(i1=='N00O')or(i1=='N00P')or(i1=='N00Q')or(i1=='N00N')))endfunctionfunction P27 takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=bj_lastLoadedUnit)and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(GetWidgetLife(GetFilterUnit())>.405)and((not DG7)or(GetUnitLifePercent(GetFilterUnit())>50)))thenset bj_forLoopAIndexEnd=M[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]-O[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]if(hy==null)or(bj_forLoopAIndex<bj_forLoopAIndexEnd)thenset hy=GetFilterUnit()set bj_forLoopAIndex=bj_forLoopAIndexEndendifendifreturn falseendfunctionfunction P_7 takes real K1,unit it,boolean Q47 returns unitlocal boolexpr Ig=Condition(function P27)set hy=nullset bj_lastLoadedUnit=itset bj_forLoopAIndex=0set DG7=Q47call GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),K1,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction Kh takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())=='e020'))endfunctionfunction KH takes nothing returns booleanreturn((GetFilterUnit()!=GetAttacker())and(kn(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitInRange(GetAttacker(),GetFilterUnit(),800.)))endfunctionfunction Ki takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction KI takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))))endfunctionfunction Kj takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetFilterUnit()!=GetAttacker())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(kn(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction KJ takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction Kk takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetFilterUnit()!=GetAttacker())and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetAttacker())))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction KK takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((J_7(GetFilterUnit()))or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))endfunctionfunction Kl takes nothing returns booleanreturn((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitLifePercent(GetFilterUnit())<50.)or((GetUnitLifePercent(GetEnumUnit())-GetUnitLifePercent(GetFilterUnit()))>20.)))endfunctionfunction KL takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetUnitTypeId(GetFilterUnit())=='H00J'))endfunctionfunction Km takes nothing returns booleanreturn(((GetUnitTypeId(GetFilterUnit())=='o018')or(GetUnitTypeId(GetFilterUnit())=='o002')or(GetUnitTypeId(GetFilterUnit())=='o00B'))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction KM takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((GetUnitAbilityLevel(GetFilterUnit(),'Bcyc')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'Bcy2')>0)or(GetUnitCurrentOrder(GetFilterUnit())==851973)))endfunctionfunction Kn takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)==0))endfunctionfunction KN takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(kP(GetUnitTypeId(GetFilterUnit()))))endfunctionfunction Ko takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetEnumUnit()))and(GetFilterUnit()!=GetEnumUnit())and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))endfunctionfunction KO takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(KJ7(GetFilterUnit(),OU[YC]))and(X54[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=X_4))endfunctionfunction KP_OLD takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(X54[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]!=X_4))endfunctionfunction Q77 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction Kq takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(GetFilterUnit()!=GetTriggerUnit()))endfunctionfunction KQ takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(not J_7(GetFilterUnit())))endfunctionfunction Kr takes nothing returns booleanif(P47())thenreturn GetUnitAbilityLevel(GetFilterUnit(),'BPSE')>0endifreturn falseendfunctionfunction KR takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='o003')endfunctionfunction C6 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QP4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Y7[0])))endfunctionfunction D6 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QP4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))endfunctionfunction Q87 takes nothing returns booleanreturn(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QP4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Y7[0])))endfunctionfunction Q97 takes nothing returns booleanreturn(((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)or(IsUnitInForce(GetTriggerUnit(),QP4)))and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))endfunctionfunction QD7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Y7[0])))endfunctionfunction Kt2 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Y7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))endfunctionfunction QE7 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0])))endfunctionfunction KT2 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(IsUnitAlly(GetFilterUnit(),Z7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetFilterUnit()))]==3))endfunctionfunction QF7 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit())))endfunctionfunction QG7 takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))endfunctionfunction Kv takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(kn(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit()))))endfunctionfunction KV takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(kn(GetFilterUnit()))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER)))endfunctionfunction Kw takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(kn(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_RANGED_ATTACKER))and(not IsUnitInRange(GetEnumUnit(),GetFilterUnit(),200.)))endfunctionfunction KW takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))and(GetUnitLifePercent(GetFilterUnit())>40.))endfunctionfunction QH7 takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))thenreturn trueelseif(not kD(GetFilterUnit()))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.)))elsereturn(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>2)endifendifreturn falseendfunctionfunction KX takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))thenif((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))thenreturn trueelseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))endifendifreturn falseendfunctionfunction Ky takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetOwningPlayer(GetFilterUnit())!=Player(12))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetFilterUnit())>.405)and(kn(GetFilterUnit())))thenif((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))thenreturn trueelseif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))thenreturn((eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0)or((not kD(GetFilterUnit()))and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),600.))))endifendifreturn falseendfunctionfunction KY takes real IW,location b5 returns integerlocal boolexpr Ig=Condition(function KW)call GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn kB(true,H8)endfunctionfunction Kz takes real IW,location b5 returns integerlocal boolexpr Ig=Condition(function k6)call GroupClear(H8)call GroupEnumUnitsInRangeOfLoc(H8,b5,IW,Ig)call DestroyBoolExpr(Ig)set Ig=nullreturn kB(false,H8)endfunctionfunction KZ takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=LS4 or LS4==null)thenset hy=GetEnumUnit()endifendfunctionfunction QI7 takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(GetEnumUnit()!=LS4 or LS4==null)thenset hy=GetEnumUnit()endifendfunctionfunction QJ7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P47)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QK7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P87)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QM7 takes real K1,unit IB,real x,real y returns unitlocal boolexpr Ig=Condition(function P87)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,x,y,K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QN7 takes real K1,unit IB,boolexpr Ig returns unitset hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)return hyendfunctionfunction QO7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P97)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QP7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P97)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function QI7)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QQ7 takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_MANA)<GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)))and(GetEnumUnit()!=LS4 or LS4==null)thenset hy=GetEnumUnit()endifendfunctionfunction QR7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P47)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function QQ7)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QS7 takes nothing returns nothingif((hy==null)or(GetHeroLevel(hy)<GetHeroLevel(GetEnumUnit())))and(GetEnumUnit()!=LS4 or LS4==null)and(M_7(GetHandleId(GetOwningPlayer(GetEnumUnit())),"AI|Class")<=2)thenset hy=GetEnumUnit()endifendfunctionfunction QT7 takes real K1,unit IB returns unitlocal boolexpr Ig=Condition(function P47)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function QS7)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction QU7 takes nothing returns nothingif((hy==null)or(GetUnitState(hy,UNIT_STATE_LIFE)>GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)))and(J77(GetEnumUnit(),bj_lastLoadedUnit)>800.)and(GetEnumUnit()!=LS4 or LS4==null)thenset hy=GetEnumUnit()endifendfunctionfunction QV7 takes unit IB returns unitlocal boolexpr Ig=Condition(function P87)set hy=nullset bj_lastLoadedUnit=IBcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),1200.,Ig)call ForGroup(iA,function QU7)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction K2 takes real K1,location b5 returns unitlocal boolexpr Ig=Condition(function P47)set hy=nullcall GroupClear(iA)call GroupEnumUnitsInRangeOfLoc(iA,b5,K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)set Ig=nullreturn hyendfunctionfunction K3 takes real K1,unit IB,boolexpr Ig returns unitset hy=nullcall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(IB),GetUnitY(IB),K1,Ig)call ForGroup(iA,function KZ)call DestroyBoolExpr(Ig)return hyendfunctionfunction K4 takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(((GetHeroLevel(GetEnumUnit())>5)and(IsUnitInRange(GetFilterUnit(),GetEnumUnit(),300.)))or(J77(GetEnumUnit(),K67(GetEnumUnit()))>J77(GetFilterUnit(),K67(GetEnumUnit())))))endfunctionfunction QW7 takes nothing returns nothingset GU=trueendfunctionfunction QX7 takes nothing returns booleanlocal integer d=GetDestructableTypeId(GetFilterDestructable())return d=='ATtr' or d=='BTtw' or d=='KTtw' or d=='YTft' or d=='JTct' or d=='YTst' or d=='YTct' or d=='YTwt' or d=='JTwt' or d=='JTwt' or d=='FTtw' or d=='CTtr' or d=='ITtw' or d=='NTtw' or d=='OTtw' or d=='ZTtw' or d=='WTst' or d=='LTlt' or d=='GTsh' or d=='Xtlt' or d=='WTtw' or d=='Attc' or d=='BTtc' or d=='CTtc' or d=='ITtc' or d=='NTtc' or d=='ZTtc'endfunctionfunction K5 takes nothing returns nothingif((GetDestructableTypeId(GetEnumDestructable())=='WTst')or(GetDestructableTypeId(GetEnumDestructable())=='ITtc')or(GetDestructableTypeId(GetEnumDestructable())=='ITtw')or(GetDestructableTypeId(GetEnumDestructable())=='NTtw')or(GetDestructableTypeId(GetEnumDestructable())=='ATtr'))thenset GU=trueendifendfunctionfunction K6 takes unit u returns booleanlocal boolexpr bset GU=falsecall MoveLocation(Ha,GetUnitX(u),GetUnitY(u))set bj_enumDestructableCenter=Haset bj_enumDestructableRadius=375.call SetRect(He,GetUnitX(u)-375.,GetUnitY(u)-375.,GetUnitX(u)+375.,GetUnitY(u)+375.)set b=Filter(function QX7)call EnumDestructablesInRect(He,b,function QW7)call DestroyBoolExpr(b)return GUendfunctionfunction QY7 takes nothing returns nothinglocal real dx=GetLocationX(bj_enumDestructableCenter)-GetDestructableX(GetEnumDestructable())local real dy=GetLocationY(bj_enumDestructableCenter)-GetDestructableY(GetEnumDestructable())local real r=dx*dx+dy*dyif GetDestructableLife(GetEnumDestructable())>0.405 and r<bj_enumDestructableRadius thenset VZ4=GetEnumDestructable()set bj_enumDestructableRadius=rendifendfunctionfunction QZ7 takes location l,real r returns booleanlocal boolexpr bset VZ4=nullif bj_enumDestructableCenter==null thenset bj_enumDestructableCenter=Location(GetLocationX(l),GetLocationY(l))elsecall MoveLocation(bj_enumDestructableCenter,GetLocationX(l),GetLocationY(l))endifset bj_enumDestructableRadius=r*rcall SetRect(He,GetLocationX(l)-r,GetLocationY(l)-r,GetLocationX(l)+r,GetLocationY(l)+r)set b=Filter(function QX7)call EnumDestructablesInRect(He,b,function QY7)call DestroyBoolExpr(b)set b=nullreturn VZ4!=nullendfunctionfunction QA7 takes nothing returns nothinglocal real x=GetDestructableX(GetEnumDestructable())local real y=GetDestructableY(GetEnumDestructable())local real dx=x-GetLocationX(bj_enumDestructableCenter)local real dy=y-GetLocationY(bj_enumDestructableCenter)local real r=dx*dx+dy*dylocal real r2if r<bj_enumDestructableRadius and GetDestructableLife(GetEnumDestructable())>0.405 thenset dx=x-VA4set dy=y-VB4set r=dx*VC4+dy*V34set r2=dx*dx+dy*dy-r*rif r<V64 thenelseif r<VL4 and r2<V04*r*r thenset bj_enumDestructableRadius=0elseif r2<V14*r*r thenset V14=r2/r/rset VZ4=GetEnumDestructable()endifendifendfunctionfunction QB7 takes unit u,real QC7 returns booleanlocal real x=GetLocationX(FD7)local real y=GetLocationY(FD7)local real dx=x-GetUnitX(u)local real dy=y-GetUnitY(u)local real r=SquareRoot(dx*dx+dy*dy)local boolexpr bset VZ4=nullif bj_enumDestructableCenter==null thenset bj_enumDestructableCenter=GetUnitLoc(u)elsecall MoveLocation(bj_enumDestructableCenter,GetUnitX(u),GetUnitY(u))endifset bj_enumDestructableRadius=QC7*QC7set V64=r*90./225.set VL4=V64+rset VC4=dx/rset V34=dy/rset VA4=x-VL4*VC4set VB4=y-VL4*V34set V14=1/(VL4*VL4/((90.+225.)*315.)-1)set V04=V14call SetRect(He,GetUnitX(u)-QC7,GetUnitY(u)-QC7,GetUnitX(u)+QC7,GetUnitY(u)+QC7)set b=Filter(function QX7)call EnumDestructablesInRect(He,b,function QA7)call DestroyBoolExpr(b)set b=nullif VZ4==null or bj_enumDestructableRadius==0 thenreturn falseendifcall MoveLocation(FD7,x+(GetDestructableX(VZ4)-x)*225./315.,y+(GetDestructableY(VZ4)-y)*225./315.)return trueendfunctionfunction K7 takes nothing returns booleanreturn((IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),'Adts')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'Adt1')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'A0M5')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'Atru')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'A0JI')>0)))endfunctionfunction K8 takes nothing returns booleanreturn((GetDestructableTypeId(GetFilterDestructable())=='ATtr')or(GetDestructableTypeId(GetFilterDestructable())=='NTtw'))endfunctionfunction K9 takes nothing returns nothingif(GetDestructableMaxLife(GetEnumDestructable())==49.)thenset H0=GetEnumDestructable()endifendfunctionfunction la takes nothing returns nothingif(GetDestructableMaxLife(GetEnumDestructable())==48.)thenset H0=GetEnumDestructable()endifendfunctionfunction lA takes unit it,boolean O6 returns booleancall SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set H0=nullif(O6)thencall EnumDestructablesInRect(He,Condition(function K8),function K9)elsecall EnumDestructablesInRect(He,Condition(function K8),function la)endifreturn H0!=nullendfunctionfunction Q37 takes nothing returns booleanreturn trueendfunctionfunction l6 takes multiboard L6,integer c,integer r,string M6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemValue(p6,M6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction P6 takes multiboard L6,integer c,integer r,string q6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemIcon(p6,q6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction s6 takes multiboard L6,integer c,integer r,boolean t6,boolean T6 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemStyle(p6,t6,T6)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction U6 takes multiboard L6,integer c,integer r,real w6,real Y6,real Z6,real e7 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemValueColor(p6,PercentTo255(w6),PercentTo255(Y6),PercentTo255(Z6),PercentTo255(100.0-e7))call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction x7 takes multiboard L6,integer c,integer r,real r7 returns nothinglocal multiboarditem p6=nullset p6=MultiboardGetItem(L6,r-1,c-1)call MultiboardSetItemWidth(p6,r7/ 100)call MultiboardReleaseItem(p6)set p6=nullendfunctionfunction Q67 takes integer i returns nothingif i>16000 thenset gl[i-16000]=nullelseif i>8000 thenset Fl[i-8000]=nullelseset fl[i]=nullendifendfunctionfunction QL7 takes integer i returns unitif i>16000 thenreturn gl[i-16000]elseif i>8000 thenreturn Fl[i-8000]elsereturn fl[i]endifreturn fl[i]endfunctionfunction Q17 takes integer i returns destructableif i>16000 thenreturn XT4[i-16000]elseif i>8000 thenreturn XU4[i-8000]elsereturn XV4[i]endifreturn XV4[i]endfunctionfunction Q07 takes unit u returns integerset Hl=Hl+1if Hl>16000 thenset gl[Hl-16000]=uelseif Hl>8000 thenset Fl[Hl-8000]=uelseset fl[Hl]=uendifreturn Hlendfunctionfunction Q57 takes integer i returns nothingif i>16000 thenset XT4[i-16000]=nullelseif i>8000 thenset XU4[i-8000]=nullelseset XV4[i]=nullendifendfunctionfunction Q27 takes destructable d returns integerset XW4=XW4+1if XW4>16000 thenset XT4[XW4-16000]=delseif XW4>8000 thenset XU4[XW4-8000]=delseset XV4[XW4]=dendifreturn XW4endfunctionfunction Q_7 takes player hd returns booleanreturn((hd==Y7[0])or(hd==Y7[1])or(hd==Y7[2])or(hd==Y7[3])or(hd==Y7[4])or(hd==Y7[5]))endfunctionfunction R47 takes player hd returns booleanreturn((hd==Z7[0])or(hd==Z7[1])or(hd==Z7[2])or(hd==Z7[3])or(hd==Z7[4])or(hd==Z7[5]))endfunctionfunction R77 takes player p returns booleanreturn p==Y7[1]or p==Y7[2]or p==Y7[3]or p==Y7[4]or p==Y7[5]or p==Z7[1]or p==Z7[2]or p==Z7[3]or p==Z7[4]or p==Z7[5]endfunctionfunction R87 takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_USER))endfunctionfunction R97 takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and(GetPlayerController(j8)==MAP_CONTROL_COMPUTER))endfunctionfunction RD7 takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)))endfunctionfunction RE7 takes player j8 returns booleanreturn((GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING)and((GetPlayerController(j8)==MAP_CONTROL_USER)or(IsPlayerInForce(j8,QP4))))endfunctionfunction RF7 takes integer RG7,unit RH7 returns integerlocal integer x=1local integer IB7=0loopexitwhen x>5if RD7(Y7[x])thenif(GetUnitTypeId(G7[x])==RG7 and IsUnitEnemy(G7[x],GetOwningPlayer(RH7)))thenreturn GetPlayerId(Y7[x])endifendifif RD7(Z7[x])thenif(GetUnitTypeId(G7[6+x])==RG7 and IsUnitEnemy(G7[6+x],GetOwningPlayer(RH7)))thenreturn GetPlayerId(Z7[x])endifendifset x=x+1endloopreturn IB7endfunctionfunction RI7 takes unit RJ7 returns integerreturn M_7(GetHandleId(RJ7),"Invoker|Wex")endfunctionfunction RK7 takes unit RJ7 returns integerreturn M_7(GetHandleId(RJ7),"Invoker|Quas")endfunctionfunction RM7 takes unit RJ7 returns integerreturn M_7(GetHandleId(RJ7),"Invoker|Exort")endfunctionfunction RN7 takes unit RJ7,integer RO7 returns booleanlocal integer RP7=GetHandleId(RJ7)local integer RQ7=M_7(RP7,"Invoker|Current1")local integer RR7=M_7(RP7,"Invoker|Current2")if RO7==RQ7 or RO7==RR7 thenreturn trueendifreturn falseendfunctionfunction RS7 takes unit RJ7,integer RT7,integer RU7,integer RV7,boolean RW7 returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(RJ7))if(RW7)thenset J4=(Bz>SL4[O5])and IssueImmediateOrderById(RJ7,RT7)and IssueImmediateOrderById(RJ7,RU7)and IssueImmediateOrderById(RJ7,RV7)elseset J4=IssueImmediateOrderById(RJ7,RT7)and IssueImmediateOrderById(RJ7,RU7)and IssueImmediateOrderById(RJ7,RV7)endifif(RW7 and J4)thenset J4=IssueImmediateOrderById(RJ7,852588)endifreturn J4endfunctionfunction RX7 takes unit RJ7,integer RT7,integer RU7,integer RV7,integer RO7 returns booleanif(RN7(RJ7,RO7))thenreturn trueelseif GetUnitTypeId(RJ7)=='E02X' and eY[416+GetPlayerId(GetOwningPlayer(RJ7))]==RO7 thenreturn trueelsereturn RS7(RJ7,RT7,RU7,RV7,true)endifendfunctionfunction RY7 takes unit it returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal real RZ7=99999.local unit RA7local unit m5=nulllocal integer jcall GroupClear(H8)set bj_wantDestroyGroup=falsecall GroupAddGroup(ii,H8)loopset RA7=FirstOfGroup(H8)exitwhen(RA7==null)if((m5==null)or(J77(it,RA7)<RZ7))thenset j=J97(GetUnitUserData(RA7))if((j!=0 or(not P84))and(j!=1 or(not P94))and(j!=2 or(not P74)))thenset m5=RA7set RZ7=J77(it,RA7)endifendifcall GroupRemoveUnit(H8,RA7)endloopset hr=m5set m5=nullreturn hrendfunctionfunction RB7 takes integer O5,integer UP,integer RC7,integer R37 returns nothingset h7[O5]=h7[UP]set hj[O5]=RC7set hj[256+O5]=R37set hj[512+UP]=O5set hj[512+O5]=UPendfunctionfunction R67 takes unit it,integer UP returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if(UP==0)thenreturnendifset h8[O5]=h7[UP+1]set h8[80+O5]=h7[UP]set h9[O5]=h7[UP-1]set h9[16+O5]=h7[hj[UP]]set h8[16+O5]=h7[hj[256+UP]]if(iU(it)and(h4[O5]==null)and(R97(Player(O5))))thenif(eY[O5]==1)thenif((G0[O5])or(G0[32+O5])or(G0[48+O5])or(not G0[128+O5])or(G0[64+O5])or((J_7(it))and(not Id(O5)))or(GetUnitCurrentOrder(it)==851986))thencall jW(it,851986,h9[O5])elsecall jW(it,851983,h8[O5])endifelseif((eY[O5]==3)or(eY[O5]==4))thenif(GetUnitCurrentOrder(it)==851986)thencall jW(it,851986,h9[O5])endifendifendifendfunctionfunction RL7 takes unit it,unit J27 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal unit m5=RY7(J27)if(m5!=null)thenset UP=GetUnitUserData(m5)if(IsUnitAlly(it,Y7[0]))thencall R67(it,UP)elsecall R67(it,hj[512+UP])endifendifset m5=nullendfunctionfunction R17 takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal unit m5=RY7(it)if(m5!=null)thenset UP=GetUnitUserData(m5)if(IsUnitAlly(it,Y7[0]))thencall R67(it,UP)elsecall R67(it,hj[512+UP])endifendifset h4[96+O5]=nullset m5=nullendfunctionfunction M8 takes player j8 returns booleanif(GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_PLAYING or GetPlayerSlotState(j8)==PLAYER_SLOT_STATE_LEFT)thenif(GetPlayerController(j8)==MAP_CONTROL_USER or GetPlayerController(j8)==MAP_CONTROL_COMPUTER)thenreturn trueendifendifreturn falseendfunctionfunction p8 takes nothing returns nothingif(RD7(GetEnumPlayer())==true)thenset bj_forceCountPlayers=bj_forceCountPlayers+1endifendfunctionfunction P8 takes force f returns integerset bj_forceCountPlayers=0call ForForce(f,function p8)return bj_forceCountPlayersendfunctionfunction hh takes nothing returns nothingif GetPlayerSlotState(GetEnumPlayer())==PLAYER_SLOT_STATE_PLAYING thenif GetEnumPlayer()!=Player(13)and GetEnumPlayer()!=Player(14)thenset bj_forceCountPlayers=bj_forceCountPlayers+1endifendifendfunctionfunction q8 takes force f returns integerset bj_forceCountPlayers=0call ForForce(f,function hh)return bj_forceCountPlayersendfunctionfunction hi takes integer hI,player j8 returns nothingif HQ4 thencall SetPlayerTechMaxAllowed(j8,hI,0)set v[GetUnitPointValueByType(hI)]=trueendifendfunctionfunction R07 takes integer hI returns nothingcall hi(hI,Y7[1])call hi(hI,Y7[2])call hi(hI,Y7[3])call hi(hI,Y7[4])call hi(hI,Y7[5])call hi(hI,Z7[1])call hi(hI,Z7[2])call hi(hI,Z7[3])call hi(hI,Z7[4])call hi(hI,Z7[5])endfunctionfunction S8 takes integer hI returns nothingif HQ4 thencall SetPlayerTechMaxAllowed(Y7[1],hI,0)call SetPlayerTechMaxAllowed(Y7[2],hI,0)call SetPlayerTechMaxAllowed(Y7[3],hI,0)call SetPlayerTechMaxAllowed(Y7[4],hI,0)call SetPlayerTechMaxAllowed(Y7[5],hI,0)call SetPlayerTechMaxAllowed(Z7[1],hI,0)call SetPlayerTechMaxAllowed(Z7[2],hI,0)call SetPlayerTechMaxAllowed(Z7[3],hI,0)call SetPlayerTechMaxAllowed(Z7[4],hI,0)call SetPlayerTechMaxAllowed(Z7[5],hI,0)endifendfunctionfunction R57 takes player j8 returns nothinglocal integer T8=MG4local integer U8=MH4if HQ4 thenloopexitwhen T8>U8call SetPlayerTechMaxAllowed(j8,ME4[T8],0)set T8=T8+1endloopset T8=MI4set U8=MJ4loopexitwhen T8>U8call SetPlayerTechMaxAllowed(j8,ME4[T8],0)set T8=T8+1endloopendifendfunctionfunction R27 takes nothing returns nothingcall R57(Y7[1])call R57(Y7[2])call R57(Y7[3])call R57(Y7[4])call R57(Y7[5])call R57(Z7[1])call R57(Z7[2])call R57(Z7[3])call R57(Z7[4])call R57(Z7[5])endfunctionfunction R_7 takes player p returns nothinglocal integer iif HQ4 thenset i=MG4loopexitwhen i>MJ4if v[i]==false thencall SetPlayerTechMaxAllowed(p,ME4[i],1)endifset i=i+1endloopif Q_7(p)thenset i=MG4loopexitwhen i>MH4call SetPlayerTechMaxAllowed(p,ME4[i],0)set i=i+1endloopelseset i=MI4loopexitwhen i>MJ4call SetPlayerTechMaxAllowed(p,ME4[i],0)set i=i+1endloopendifendifendfunctionfunction S47 takes player p returns nothinglocal integer iif HQ4 thenset i=MG4loopexitwhen i>MJ4if v[i]==false thencall SetPlayerTechMaxAllowed(p,ME4[i],1)endifset i=i+1endloopif Q_7(p)thenset i=MI4loopexitwhen i>MJ4call SetPlayerTechMaxAllowed(p,ME4[i],0)set i=i+1endloopelseset i=MG4loopexitwhen i>MH4call SetPlayerTechMaxAllowed(p,ME4[i],0)set i=i+1endloopendifendifendfunctionfunction S77 takes nothing returns nothinglocal integer iif HQ4 thenset i=MI4loopexitwhen i>MJ4call SetPlayerTechMaxAllowed(Y7[1],ME4[i],0)call SetPlayerTechMaxAllowed(Y7[2],ME4[i],0)call SetPlayerTechMaxAllowed(Y7[3],ME4[i],0)call SetPlayerTechMaxAllowed(Y7[4],ME4[i],0)call SetPlayerTechMaxAllowed(Y7[5],ME4[i],0)set i=i+1endloopset i=MG4loopexitwhen i>MH4call SetPlayerTechMaxAllowed(Z7[1],ME4[i],0)call SetPlayerTechMaxAllowed(Z7[2],ME4[i],0)call SetPlayerTechMaxAllowed(Z7[3],ME4[i],0)call SetPlayerTechMaxAllowed(Z7[4],ME4[i],0)call SetPlayerTechMaxAllowed(Z7[5],ME4[i],0)set i=i+1endloopendifendfunctionfunction S87 takes nothing returns nothinglocal integer T8local integer U8local integer S97=0set Ge=MG4set T8=MG4set U8=MH4loopexitwhen T8>U8set S97=S97+1set je[S97]=T8set T8=T8+1endloopset T8=MI4set U8=MJ4loopexitwhen T8>U8set S97=S97+1set je[S97]=T8set T8=T8+1endloopset he=S97endfunctionfunction SD7 takes nothing returns integerreturn je[GetRandomInt(Ge,he)]endfunctionfunction SE7 takes nothing returns integerlocal integer SF7=GetRandomInt(Ge,he)local integer hs=je[SF7]set hs=je[SF7]if(Ge==he)thenset je[SF7]=0return hsendifif(SF7==he)thenset he=he-1return hsendifset je[SF7]=je[he]set he=he-1return hsendfunctionfunction SG7 takes unit H57 returns booleanreturn GetUnitAbilityLevel(H57,'B01T')>0 or GetUnitAbilityLevel(H57,'BNsi')>0 or GetUnitAbilityLevel(H57,'B01X')>0 or GetUnitAbilityLevel(H57,'BNdo')>0 or GetUnitAbilityLevel(H57,'B02M')>0 or GetUnitAbilityLevel(H57,'Bhea')>0 or GetUnitAbilityLevel(H57,'B07V')>0 or GetUnitAbilityLevel(H57,'B0BY')>0 or GetUnitAbilityLevel(H57,'B08O')>0 or GetUnitAbilityLevel(H57,'B07U')>0 or GetUnitAbilityLevel(H57,'B0DL')>0 or GetUnitAbilityLevel(H57,'B08V')>0 or GetUnitAbilityLevel(H57,'B031')>0 or GetUnitAbilityLevel(H57,'B0FT')>0 or GetUnitAbilityLevel(H57,'B0FG')>0endfunctionfunction SH7 takes string hT returns integerif hT=="a"thenreturn 10elseif hT=="b"thenreturn 11elseif hT=="c"thenreturn 12elseif hT=="d"thenreturn 13elseif hT=="e"thenreturn 14elseif hT=="f"thenreturn 15elsereturn S2I(hT)endifendfunctionfunction SI7 takes string hU returns integerreturn SH7(SubString(hU,0,1))*16+SH7(SubString(hU,1,2))endfunctionfunction SJ7 takes integer hX returns booleanlocal integer i=1loopexitwhen i>A8if hX==Z8[i]thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction SK7 takes unit SM7 returns integerlocal integer SN7=GetUnitTypeId(SM7)if SN7=='e00R' or SN7=='u00M' thenreturn 1elseif SN7=='e011' or SN7=='u00D' thenreturn 2elseif SN7=='e00S' or SN7=='u00N' thenreturn 3elseif SN7=='e019' or SN7=='u00T' thenreturn 4endifreturn 0endfunctionfunction SO7 takes player hV,integer hY returns nothinglocal texttag tif hY>0 thenset t=CreateTextTag()call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)call SetTextTagText(t,"+"+I2S(hY),.025)call SetTextTagPosUnit(t,G7[GetPlayerId(hV)],0)call SetTextTagColor(t,255,220,0,255)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==hV thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endifendfunctionfunction lW takes player hV,integer SP7 returns nothinglocal integer x=1if IsPlayerAlly(hV,Y7[0])thenloopexitwhen x>5if Y7[x]!=hV thencall SO7(Y7[x],SP7)endifset x=x+1endloopendifset x=1if IsPlayerAlly(hV,Z7[0])thenloopexitwhen x>5if Z7[x]!=hV thencall SO7(Z7[x],SP7)endifset x=x+1endloopendifendfunctionfunction SQ7 takes unit hn,integer SR7 returns nothinglocal integer SP7local player p=GetOwningPlayer(hn)local integer SS7=0local integer ST7set SP7=160+40*SR7if Q_7(GetOwningPlayer(hn))thenset ST7=P8(W7)elseset ST7=P8(X7)endifif p==Y7[0]or p==Z7[0]thenset SS7=R2I(((400+50*SR7)+GetRandomInt(2,20))*0.70)endifif IsUnitAlly(GetDyingUnit(),p)thenif IsUnitAlly(hn,Y7[0])thenset p=Z7[0]elseset p=Y7[0]endifset SP7=SP7/ 2+SS7/ ST7elseset SP7=SP7+SS7/ ST7endifif p==Y7[0]thencall SO7(Y7[1],SP7)call SO7(Y7[2],SP7)call SO7(Y7[3],SP7)call SO7(Y7[4],SP7)call SO7(Y7[5],SP7)elseif p==Z7[0]thencall SO7(Z7[1],SP7)call SO7(Z7[2],SP7)call SO7(Z7[3],SP7)call SO7(Z7[4],SP7)call SO7(Z7[5],SP7)elsecall lW(GetOwningPlayer(hn),SP7)endifendfunctionfunction SU7 takes integer z8 returns booleanlocal integer i=1loopexitwhen i>MQ4if MP4[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction SV7 takes integer z8 returns booleanlocal integer i=1loopexitwhen i>MM4if MK4[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction SW7 takes integer z8 returns booleanlocal integer i=1loopexitwhen i>MO4if MN4[i]==z8 thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction SX7 takes player j8 returns nothinglocal integer SY7local integer SZ7local location SA7local integer SF7local boolean GotHero=falseset T4[GetPlayerId(j8)]=trueif Q_7(j8)==true thenset SY7=MG4set SZ7=MH4set SA7=GetRectCenter(Z9)elseset SY7=MI4set SZ7=MJ4set SA7=GetRectCenter(Y9)endifif L thenif(GetRandomInt(1,2)==1)thenset SY7=MG4set SZ7=MH4elseset SY7=MI4set SZ7=MJ4endifendifloopset SF7=GetRandomInt(SY7,SZ7)exitwhen v[SF7]==false and SU7(ME4[SF7])and ME4[SF7]!='H00K'endloopif V8==false thencall S8(ME4[SF7])set v[SF7]=trueendifcall CreateUnitAtLoc(j8,ME4[SF7],SA7,0)call RemoveLocation(SA7)set SA7=nullendfunctionfunction SB7 takes player j8 returns nothinglocal integer SY7local integer SZ7local location SA7local integer SF7local boolean GotHero=falseset T4[GetPlayerId(j8)]=trueif Q_7(j8)==true thenset SY7=MG4set SZ7=MH4set SA7=GetRectCenter(Z9)elseset SY7=MI4set SZ7=MJ4set SA7=GetRectCenter(Y9)endifif L thenif(GetRandomInt(1,2)==1)thenset SY7=MG4set SZ7=MH4elseset SY7=MI4set SZ7=MJ4endifendifloopset SF7=GetRandomInt(SY7,SZ7)exitwhen v[SF7]==false and SW7(ME4[SF7])endloopif V8==false thencall S8(ME4[SF7])set v[SF7]=trueendifcall CreateUnitAtLoc(j8,ME4[SF7],SA7,0)call RemoveLocation(SA7)set SA7=nullendfunctionfunction SC7 takes player j8 returns nothinglocal integer SY7local integer SZ7local location SA7local integer SF7local boolean GotHero=falseset T4[GetPlayerId(j8)]=trueif Q_7(j8)==true thenset SY7=MG4set SZ7=MH4set SA7=GetRectCenter(Z9)elseset SY7=MI4set SZ7=MJ4set SA7=GetRectCenter(Y9)endifif L thenif(GetRandomInt(1,2)==1)thenset SY7=MG4set SZ7=MH4elseset SY7=MI4set SZ7=MJ4endifendifloopset SF7=GetRandomInt(SY7,SZ7)exitwhen v[SF7]==false and SV7(ME4[SF7])endloopif V8==false thencall S8(ME4[SF7])set v[SF7]=trueendifcall CreateUnitAtLoc(j8,ME4[SF7],SA7,0)call RemoveLocation(SA7)set SA7=nullendfunctionfunction S37 takes player j8 returns nothinglocal integer SY7local integer SZ7local location SA7local integer SF7local boolean GotHero=falseset T4[GetPlayerId(j8)]=trueif Q_7(j8)==true thenset SY7=MG4set SZ7=MH4set SA7=GetRectCenter(Z9)elseset SY7=MI4set SZ7=MJ4set SA7=GetRectCenter(Y9)endifif L thenif(GetRandomInt(1,2)==1)thenset SY7=MG4set SZ7=MH4elseset SY7=MI4set SZ7=MJ4endifendifloopset SF7=GetRandomInt(SY7,SZ7)exitwhen v[SF7]==falseendloopif V8==false thencall S8(ME4[SF7])set v[SF7]=trueendifcall CreateUnitAtLoc(j8,ME4[SF7],SA7,0)call RemoveLocation(SA7)set SA7=nullendfunctionfunction ly takes boolean h5,boolean h6 returns integerlocal integer h1local integer h2if h5 and h6 thenif(GetRandomInt(1,2)==1)thenset h1=MG4set h2=MH4elseset h1=MI4set h2=MJ4endifelseif h5 thenset h1=MG4set h2=MH4elseset h1=MI4set h2=MJ4endifreturn GetRandomInt(h1,h2)endfunctionfunction S67 takes destructable d returns booleanreturn GetDestructableTypeId(d)=='NTtc'or GetDestructableTypeId(d)=='NTtw'or GetDestructableTypeId(d)=='ATtr' or GetDestructableTypeId(d)=='B002' or GetDestructableTypeId(d)=='B003' or GetDestructableTypeId(d)=='B005'endfunctionfunction SL7 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'Bcyc')>0 or GetUnitAbilityLevel(u,'Bcy2')>0endfunctionfunction S17 takes integer id returns booleanreturn id=='u014' or id=='u015' or id=='u016' or id=='u01D' or id=='u01E' or id=='u01F'endfunctionfunction S07 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'BOhx')>0 or GetUnitAbilityLevel(u,'B00H')>0endfunctionfunction S57 takes player p returns stringreturn M74[GetPlayerId(p)]endfunctionfunction S27 takes integer i returns stringreturn GetObjectName(i)endfunctionfunction S_7 takes force ir,real Hk,string iR returns nothingif(IsPlayerInForce(GetLocalPlayer(),ir))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,L8,Hk,iR)endifendfunctionfunction vlv takes nothing returns groupreturn CreateGroup()endfunctionfunction l7 takes integer i returns nothingif i!=Dy thenset Dx[i]=Dx[Dy]set DX[i]=DX[Dy]endifset Dx[Dy]=nullset DX[Dy]=0set Dy=Dy-1endfunctionfunction l8 takes nothing returns booleanlocal real T47=JM7()local integer iset i=1loopexitwhen i>Dyif DX[i]<T47 thenif Dx[i]==null or IsTriggerEnabled(Dx[i])thencall l5()elsecall DestroyTrigger(Dx[i])endifcall l7(i)elseset i=i+1endifendloopreturn falseendfunctionfunction T77 takes trigger t returns nothingcall K_7(GetHandleId(t))call DisableTrigger(t)call DestroyTrigger(t)endfunctionfunction FilterTreeSentinels takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())=='h0BT')or(GetUnitTypeId(GetFilterUnit())=='h0BU'))endfunctionfunction T87 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer T97=GetHandleId(t)local unit TD7=MZ7(T97,"TreantUnit")local unit TE7=MZ7(T97,"SentinelUnit")local unit TF7=nulllocal unit u=nulllocal group g=CreateGroup()local integer O5=GetPlayerId(GetOwningPlayer(TD7))if((GetTriggerEventId()==EVENT_UNIT_DEATH)and((GetUnitTypeId(TE7)=='h0BT')or(GetUnitTypeId(TE7)=='h0BU')))thencall FlushChildHashtable(C7,T97)call NM7(t)call DestroyTrigger(t)elseif((GetUnitTypeId(TE7)=='h0BT')and(Bz>SL4[64+O5]))thencall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(TE7),500,Condition(function PJ7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(TD7))endloopset TF7=uendifif((GetUnitState(TD7,UNIT_STATE_LIFE)>5.)and(TF7!=null)and(R97(GetOwningPlayer(TD7)))and(GetUnitTypeId(TE7)=='h0BT')and(SG7(TD7)==false))thencall IssuePointOrderById(TD7,852185,GetUnitX(TE7),GetUnitY(TE7))set SL4[64+O5]=Bz+10.endifelseendifcall DestroyGroup(g)set t=nullset TD7=nullset TE7=nullset TF7=nullset u=nullset g=nullreturn falseendfunctionfunction TG7 takes unit TH7,unit TI7 returns nothinglocal unit TE7=TI7local unit TD7=TH7local trigger t=nulllocal integer TJ7=0local boolexpr b=Condition(function PJ7)if(R97(GetOwningPlayer(TD7)))thenset t=CreateTrigger()set TJ7=GetHandleId(t)call MF7(TJ7,"TreantUnit",TD7)call MF7(TJ7,"SentinelUnit",TE7)if(GetUnitTypeId(TE7)=='h0BT')thencall TriggerRegisterUnitInRange(t,TE7,500,b)endifcall TriggerRegisterUnitEvent(t,TE7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T87))endifcall DestroyBoolExpr(b)set TE7=nullset TD7=nullset t=nullendfunctionfunction TK7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local fogmodifier TN7=(LoadFogModifierHandle(C7,(TM7),(42)))call FogModifierStop(TN7)call DestroyFogModifier(TN7)call FlushChildHashtable(C7,(TM7))call NM7(t)set t=nullreturn falseendfunctionfunction TO7 takes integer id returns booleanreturn id==YA or id==QA or id==NA or id==WA or id==JAendfunctionfunction TP7 takes unit u returns stringif u==null thenreturn(GetObjectName(('n09T')))endifif GetUnitPointValue(u)==500 thenreturn"Formless"elseif GetUnitPointValue(u)==600 thenreturn"Bastion"endifreturn(GetObjectName((MF4[GetUnitPointValue(u)])))endfunctionfunction TQ7 takes unit H57 returns stringlocal integer i=GetUnitPointValue(H57)if IJ4 thenset i=GetPlayerId(GetOwningPlayer(H57))if Player(i)==Y7[1]thenreturn"Blue"elseif Player(i)==Y7[2]thenreturn"Teal"elseif Player(i)==Y7[3]thenreturn"Purple"elseif Player(i)==Y7[4]thenreturn"Yellow"elseif Player(i)==Y7[5]thenreturn"Orange"elseif Player(i)==Z7[1]thenreturn"Pink"elseif Player(i)==Z7[2]thenreturn"Gray"elseif Player(i)==Z7[3]thenreturn"Light"elseif Player(i)==Z7[4]thenreturn"Dark"elseif Player(i)==Z7[5]thenreturn"Brown"endifreturn"Unknown"endifif(i==1)thenreturn"Shendelzare"elseif(i==15)thenreturn"Cairne"elseif(i==18)thenreturn"Magi"elseif(i==21)thenreturn"Azwraith"elseif(i==29)thenreturn"Wisp"elseif(i==33)thenreturn"Davion"elseif(i==65)thenreturn"Anub'arak"elseif(i==86)thenreturn"Vol'Jin"elseif(i==91)thenreturn"Azgalor"elseif(i==93)thenreturn"Ish'kafel"elseif(i==97)thenreturn"Kaldr"elseif(i==101)thenreturn"Eredar"endifreturn TP7(H57)endfunctionfunction TR7 takes integer i returns stringif i==0 thenreturn(GetObjectName(('n09T')))endifreturn(GetObjectName((MF4[i])))endfunctionfunction TS7 takes unit S4 returns integerlocal integer z8local integer i=0if S4==null thenreturn-2endifset z8=GetUnitTypeId(S4)loopexitwhen i>AUif PU[i]==z8 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction TT7 takes unit u returns stringif u==null thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn MV4[GetUnitPointValue(u)]endfunctionfunction TU7 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'A0S6')>0 or GetUnitAbilityLevel(u,'A179')>0 or GetUnitAbilityLevel(u,'ACmi')>0 or GetUnitAbilityLevel(u,'A0SU')>0 or GetUnitAbilityLevel(u,'B014')>0 or GetUnitAbilityLevel(u,'A0H3')>0 or NF7(u,"BladeFury|Active")endfunctionfunction TV7 takes player p returns booleanreturn O8 and(K_4==p or M44==p)endfunctionfunction TW7 takes unit TX7 returns integerlocal integer xlocal integer id=GetUnitTypeId(TX7)set x=1loopexitwhen x>MM4if id==MK4[x]thenreturn 2endifset x=x+1endloopset x=1loopexitwhen x>MO4if id==MN4[x]thenreturn 3endifset x=x+1endloopset x=1loopexitwhen x>MQ4if id==MP4[x]thenreturn 1endifset x=x+1endloopif id=='Eevm' or id=='E02V' or id=='E02W' or id=='E02U' or id=='N02B' or id=='N017' or id=='H08D' or id=='H08C' or id=='H084' or id=='H08B' or id=='N013' or id=='N014' or id=='N015' thenreturn 2endifif id=='N01H' or id=='N01T' or id=='N01J' or id=='H00E' or id=='H00G' or id=='H00F' or id=='H07I' or id=='E015' or id=='H0CQ' or id=='H0E3' or id=='H0E4' or id=='H0E5' or id=='U01X' thenreturn 3endifif id=='H06X' or id=='H06Y' or id=='H06W' or id=='H0BC' or id=='O017' thenreturn 1endifreturn 0endfunctionfunction Ld takes unit TX7 returns integerlocal integer Hm=TW7(TX7)if Hm==1 thenreturn GetHeroInt(TX7,true)endifif Hm==2 thenreturn GetHeroAgi(TX7,true)endifif Hm==3 thenreturn GetHeroStr(TX7,true)endifreturn 0endfunctionfunction TY7 takes unit u returns booleanreturn GetUnitState(u,UNIT_STATE_LIFE)<1 or IX4[GetPlayerId(GetOwningPlayer(u))]==trueendfunctionfunction TZ7 takes integer z8,integer r,integer g,integer b returns nothingset CL=CL+1set NL[CL]=rset bL[CL]=gset BL[CL]=bset cL[CL]=z8endfunctionfunction TA7 takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)endfunctionfunction emv takes nothing returns nothingcall DisplayTimedTextToPlayer(GetEnumPlayer(),0,L8,DB,dB)endfunctionfunction TB7 takes nothing returns nothingif eb[GetPlayerId(GetEnumPlayer())]thencall DisplayTimedTextToPlayer(GetEnumPlayer(),0,L8,mb,Lb)endifendfunctionfunction TC7 takes force ir,real Hk,string iR returns nothingset Lb=iRset mb=Hkcall ForForce(ir,function TB7)endfunctionfunction T37 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'B0BI')>0 or GetUnitAbilityLevel(u,'BNss')>0 or GetUnitAbilityLevel(u,'B0EV')>0endfunctionfunction T67 takes group g returns nothinglocal integer i=GetHandleId(g)-SR4if i<0 or i>120 thenset ST4=truecall DestroyGroup(g)elsecall GroupClear(g)set SP4[i]=falseset SS4=iendifendfunctionfunction TL7 takes nothing returns grouplocal integer i=SS4loopexitwhen i==SS4-1if SP4[i]==false thenset SS4=i+1if SS4==120 thenset SS4=0endifset SP4[i]=truereturn SQ4[i]endifset i=i+1if i==120 thenset i=0endifendloopcall TC7(B8,5.00,"|c00ff0303CRITICAL ERROR: FOUND NO AVAILABLE GROUPS|r")call TC7(B8,5.00,"|c00ff0303Send this replay to IceFrog@gmail.com|r")return CreateGroup()endfunctionfunction T17 takes real T07,real dx,real dy,real Vx,real Vy returns reallocal real alocal real blocal real dset a=T07*T07-Vx*Vx-Vy*Vyset b=Vx*dx+Vy*dyif a==0 thenif b>0 thenreturn 0.endifreturn(dx*dx+dy*dy)/2/bendifset d=b*b+a*(dx*dx+dy*dy)if d<0 thenreturn 0.endifset d=SquareRoot(d)if b<d thenreturn(b+d)/aendifreturn(b-d)/aendfunctionfunction T57 takes real x,real y returns booleanif(x<GetRectMinX(bj_mapInitialPlayableArea)+75)thenreturn falseendifif(x>GetRectMaxX(bj_mapInitialPlayableArea)-75)thenreturn falseendifif(y<GetRectMinY(bj_mapInitialPlayableArea)+75)thenreturn falseendifif(y>GetRectMaxY(bj_mapInitialPlayableArea)-75)thenreturn falseendifreturn trueendfunctionfunction T27 takes unit T_7,unit U47,real X,real Y,real r,boolexpr U77 returns booleanlocal group g=TL7()local real Hx=GetUnitX(T_7)local real Hy=GetUnitY(T_7)local player p=GetOwningPlayer(T_7)local real dx=(X-Hx)*.5local real dy=(Y-Hy)*.5local real R=SquareRoot(dx*dx+dy*dy)local unit ulocal real dlocal real U87=99999.local real U97=0.local real J47call GroupEnumUnitsInRange(g,Hx+dx,Hy+dy,R,U77)set bj_lastReplacedUnit=nullset bj_lastLoadedUnit=nullset bj_forLoopAIndex=0loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)set d=((GetUnitX(u)-Hx)*dy-(GetUnitY(u)-Hy)*dx)/Rif u!=T_7 and u!=U47 and IsUnitVisible(u,p)and d*d<=r*r thenset J47=J77(T_7,u)if J47<U87 thenset U87=J47set bj_lastReplacedUnit=uendifif J47>U97 thenset U97=J47set bj_lastLoadedUnit=uendifset bj_forLoopAIndex=bj_forLoopAIndex+1endifendloopcall T67(g)set g=nullreturn bj_forLoopAIndex==0endfunctionfunction UD7 takes unit T_7,unit U47,real T07,real UE7,real UF7 returns locationlocal real dt=TimerGetElapsed(P)local real Xlocal real Ylocal real dx=GetUnitX(U47)local real dy=GetUnitY(U47)call I17(0.1)set dt=TimerGetElapsed(P)-dtset X=GetUnitX(U47)set Y=GetUnitY(U47)if X==dx and Y==dy thencall MoveLocation(FD7,X,Y)return FD7endifset dx=(X-dx)/dtset dy=(Y-dy)/dtset dt=T17(T07,X+dx*UE7-GetUnitX(T_7),Y+dy*UE7-GetUnitY(T_7),dx,dy)if dt==0 thenreturn nullendifcall MoveLocation(FD7,X+dx*(dt+UE7),Y+dy*(dt+UE7))if T57(GetLocationX(FD7),GetLocationY(FD7))thenreturn FD7endifreturn nullendfunctionfunction UG7 takes unit H57,unit J27,real UH7,real UF7 returns locationlocal real OX7=GetUnitX(J27)local real OY7=GetUnitY(J27)local real UI7=TimerGetElapsed(P)local real UJ7=0local real UK7=0call I17(0.1)set UI7=1./(TimerGetElapsed(P)-UI7)set UJ7=(GetUnitX(J27)-OX7)*UI7set UK7=(GetUnitY(J27)-OY7)*UI7if not(UJ7==0 and UK7==0)thenset OX7=OX7+UJ7*UH7set OY7=OY7+UK7*UH7endifif J87(GetUnitX(H57),GetUnitY(H57),OX7,OY7)<=UF7 thencall MoveLocation(FD7,OX7,OY7)if T57(GetLocationX(FD7),GetLocationY(FD7))thenreturn FD7endifendifreturn nullendfunctionfunction UM7 takes location NU7,real UN7,real UO7 returns locationlocal real x=GetLocationX(NU7)+UN7*Cos(UO7*bj_DEGTORAD)local real y=GetLocationY(NU7)+UN7*Sin(UO7*bj_DEGTORAD)call MoveLocation(HA,x,y)return HAendfunctionfunction UP7 takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))and(GetUnitTypeId(GetFilterUnit())=='HC49')and(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.405))endfunctionfunction UQ7 takes unit it,unit m5 returns booleanset bj_lastLoadedUnit=itset bj_lastLoadedUnit=KF7(350,jv(m5),Condition(function UP7))return(bj_lastLoadedUnit!=null)endfunctionfunction UR7 takes nothing returns booleanlocal integer US7=0local integer i=0loopexitwhen i==120if SP4[i]==true thenset US7=US7+1endifset i=i+1endloopif US7>100 or ST4 thencall TC7(B8,5.00,"|c00ff0303Please send me this replay ("+I2S(US7)+")")endifreturn falseendfunctionfunction UT7 takes nothing returns nothinglocal integer i=0set SS4=0set SQ4[i]=CreateGroup()set SP4[i]=falseset i=i+1set SR4=GetHandleId(SQ4[0])loopexitwhen i==120set SQ4[i]=CreateGroup()set SP4[i]=falseset i=i+1endloopendfunctionfunction UU7 takes nothing returns booleanlocal group g=TL7()call GroupEnumUnitsInRange(g,0,0,16000,Condition(function Q37))call ForGroup(g,function TA7)call T67(g)set g=nullreturn falseendfunctionfunction UV7 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function UU7))call TriggerEvaluate(t)set t=nullendfunctionfunction UW7 takes unit T_7,integer UX7 returns nothingcall UnitAddAbility(T_7,UX7)call UnitMakeAbilityPermanent(T_7,true,UX7)endfunctionfunction UY7 takes unit u returns booleanreturn GetUnitTypeId(u)<1 or IsUnitType(u,UNIT_TYPE_DEAD)==trueendfunctionfunction UZ7 takes unit UA7,unit UB7 returns nothingif J77(UA7,UB7)>1200 or(UY7(UA7)and GetUnitTypeId(UA7)=='H00K')thencall AddHeroXP(UA7,JI7(UB7),true)endifendfunctionfunction UC7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call K_7(GetHandleId(MZ7(NO7,"Unit")))call ShowUnit(MZ7(NO7,"Unit"),false)call RemoveUnit(MZ7(NO7,"Unit"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction U37 takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function UC7))call MF7(NO7,"Unit",u)set t=nullendfunctionfunction U67 takes integer UL7 returns nothinglocal unit u=CreateUnit(Player(15),UL7,0,0,0)call RemoveUnit(u)set u=nullendfunctionfunction U17 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"u")local real U07=N47(NO7,"duration")local integer U57=M_7(NO7,"fade")if GetTriggerEvalCount(t)/ 10>R2I(U07)thencall SetUnitVertexColor(u,255,100,255,255)call K_7(NO7)call NM7(t)elseif UY7(u)==false thencall SetUnitVertexColor(u,255,100,255,U57)endifset t=nullset u=nullreturn falseendfunctionfunction U27 takes unit u,real U07,integer U57 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function U17))call MF7(NO7,"u",u)call M97(NO7,"duration",U07)call M87(NO7,"fade",U57)set t=nullendfunctionfunction U_7 takes integer z8,real V47,integer V77 returns nothingset Ml=Ml+1set Jl[Ml]=V47set ll[Ml]=z8set Ll[Ml]=V77endfunctionfunction V87 takes unit u returns reallocal integer z8=GetUnitTypeId(u)local integer i=1loopexitwhen i>Mlif ll[i]==z8 thenreturn Jl[i]endifset i=i+1endloopreturn 1.endfunctionfunction V97 takes integer z8,string VD7 returns nothingset Ql=Ql+1set Pl[Ql]=VD7set ql[Ql]=z8endfunctionfunction VE7 takes unit u returns stringlocal integer z8=GetUnitTypeId(u)local integer i=1loopexitwhen i>Qlif ql[i]==z8 thenreturn Pl[i]endifset i=i+1endloopreturn"stand"endfunctionfunction VF7 takes unit u returns nothingif GetUnitTypeId(u)=='N01I' thencall SetUnitAnimationByIndex(u,6)elsecall SetUnitAnimation(u,VE7(u))endifendfunctionfunction VG7 takes player hV,string Ht returns nothinglocal sound HT=CreateSound(Ht,false,false,false,10,10,"DefaultEAXON")if(GetLocalPlayer()==hV)thencall StartSound(HT)endifcall KillSoundWhenDone(HT)endfunctionfunction VH7 takes player HU,string Hv returns nothinglocal sound HV=CreateSoundFromLabel("InterfaceError",false,false,false,10,10)if(GetLocalPlayer()==HU)thenif(Hv!="")and(Hv!=null)thencall ClearTextMessages()call DisplayTimedTextToPlayer(HU,.5,-1.,2.,"|cffffcc00"+Hv+"|r")endifcall StartSound(HV)endifcall KillSoundWhenDone(HV)endfunctionfunction VI7 takes nothing returns booleanif(GetTimeOfDay()>6.00 and GetTimeOfDay()<18.00)thenreturn trueelsereturn falseendifendfunctionfunction VJ7 takes string H4,boolean H5 returns nothingif H5 thencall ExecuteFunc(H4)endifendfunctionfunction VK7 takes real x returns reallocal real H7=GetRectMinX(bj_mapInitialPlayableArea)+50if(x<H7)thenreturn H7endifset H7=GetRectMaxX(bj_mapInitialPlayableArea)-50if(x>H7)thenreturn H7endifreturn xendfunctionfunction VM7 takes real y returns reallocal real H7=GetRectMinY(bj_mapInitialPlayableArea)+50if(y<H7)thenreturn H7endifset H7=GetRectMaxY(bj_mapInitialPlayableArea)-50if(y>H7)thenreturn H7endifreturn yendfunctionfunction VN7 takes real x returns reallocal real VO7=GetRectMinX(bj_mapInitialPlayableArea)+75if(x<VO7)thenreturn VO7endifset VO7=GetRectMaxX(bj_mapInitialPlayableArea)-75if(x>VO7)thenreturn VO7endifreturn xendfunctionfunction VP7 takes real y returns reallocal real VO7=GetRectMinY(bj_mapInitialPlayableArea)+75if(y<VO7)thenreturn VO7endifset VO7=GetRectMaxY(bj_mapInitialPlayableArea)-75if(y>VO7)thenreturn VO7endifreturn yendfunctionfunction VQ7 takes integer VR7 returns nothinglocal unit u=CreateUnit(Player(15),'H00Y',0,0,270)call UnitAddAbility(u,VR7)call UnitRemoveAbility(u,VR7)call RemoveUnit(u)set u=nullendfunctionfunction VS7 takes unit u,integer VR7 returns nothingcall UnitAddAbility(u,VR7)call UnitRemoveAbility(u,VR7)endfunctionfunction VT7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ia=M_7(NO7,"abilcode")call VQ7(ia)call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction VU7 takes integer ia,real VV7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call M87(NO7,"abilcode",ia)call TriggerRegisterTimerEvent(t,VV7,false)call TriggerAddCondition(t,Condition(function VT7))set t=nullendfunctionfunction Tree_Killer takes nothing returns nothingcall KillDestructable(GetEnumDestructable())endfunctionfunction VW7 takes unit TX7 returns nothingcall ME7(GetHandleId(TX7),"DamageRegisterAlready",false)call K_7(GetHandleId(TX7))call RemoveUnit(TX7)endfunctionfunction VX7 takes unit hn,integer iB,integer ic returns nothingif GetUnitAbilityLevel(hn,iB)==0 thencall UnitAddAbility(hn,iB)endifcall SetUnitAbilityLevel(hn,iB,ic)endfunctionfunction VY7 takes integer a,integer b returns integerif(a<b)thenreturn aelsereturn bendifendfunctionfunction VZ7 takes integer a,integer b returns integerif(a<b)thenreturn belsereturn aendifendfunctionfunction VA7 takes integer ih,integer a,integer b returns integerreturn VZ7(VY7(ih,b),a)endfunctionfunction VB7 takes real a,real b returns realif(a<b)thenreturn aelsereturn bendifendfunctionfunction VC7 takes real a,real b returns realif(a<b)thenreturn belsereturn aendifendfunctionfunction iI takes nothing returns nothinglocal integer NO7=GetHandleId(GetExpiredTimer())local unit hn=MZ7(NO7,"Unit")call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+N47(NO7,"Damage"))set hn=nullendfunctionfunction m6 takes unit hn,real V37 returns nothinglocal timer t=CreateTimer()local integer NO7=GetHandleId(t)call M97(NO7,"Damage",V37)call MF7(NO7,"Unit",hn)call TimerStart(t,0,false,function iI)set t=nullendfunctionfunction V67 takes unit hn,real V37 returns nothinglocal real iK=GetUnitState(hn,UNIT_STATE_MAX_LIFE)local real il=GetUnitState(hn,UNIT_STATE_LIFE)if(GetUnitState(hn,UNIT_STATE_LIFE)>1)thenif V37>(iK-il)thenif V37>=il thencall SetUnitState(hn,UNIT_STATE_LIFE,iK)call m6(hn,V37-(iK-il))elsecall m6(hn,V37)endifelsecall SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+V37)endifendifendfunctionfunction m9 takes unit p5,unit m5,real in returns booleanlocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)return((iN-hN)*(iN-hN)+(io-ho)*(io-ho))<in*inendfunctionfunction Ma takes unit p5,unit m5 returns reallocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)if p5==null or m5==null thenreturn I2R(9999999999)elsereturn SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))endifendfunctionfunction VL7 takes unit p5,location m5 returns reallocal real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real hN=GetLocationX(m5)local real ho=GetLocationY(m5)if p5==null thenreturn I2R(9999999999)elsereturn SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))endifendfunctionfunction V17 takes unit hn returns nothingcall SetUnitState(hn,UNIT_STATE_MANA,GetUnitState(hn,UNIT_STATE_MAX_MANA))endfunctionfunction MK takes unit hn,real iS returns nothingcall SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+iS)endfunctionfunction V07 takes nothing returns nothingcall PauseAllUnitsBJ(true)endfunctionfunction RepeatedPauseAll takes nothing returns nothingcall TimerStart(CreateTimer(),1,true,function V07)endfunctionfunction iu takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call DestroyEffect(ML7(NO7,"fx"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction V57 takes string iv,unit hn,string iV,real Hk returns nothinglocal effect fx=AddSpecialEffectTarget(iv,hn,iV)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MG7(NO7,"fx",fx)call TriggerRegisterUnitEvent(t,hn,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function iu))set fx=nullset t=nullendfunctionfunction iw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call DestroyEffect(ML7(NO7,"fx"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction V27 takes string iv,real x,real y,real Hk returns nothinglocal effect fx=AddSpecialEffect(iv,x,y)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call MG7(V_7,"fx",fx)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function iw))set fx=nullset t=nullendfunctionfunction ix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local string iv=N87(NO7,"Effect")local string iV=N87(NO7,"Attach")local integer iX=M_7(NO7,"Count")call V57(iv,m5,iV,2)if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>iX thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction Mv takes timer t returns nothingcall PauseTimer(t)call K_7(GetHandleId(t))call DestroyTimer(t)endfunctionfunction W47 takes unit a,unit b returns realreturn bj_RADTODEG*Atan2(GetUnitY(b)-GetUnitY(a),GetUnitX(b)-GetUnitX(a))endfunctionfunction W77 takes real x1,real y1,real x2,real y2 returns realreturn bj_RADTODEG*Atan2(y2-y1,x2-x1)endfunctionfunction W87 takes unit it,unit m5 returns booleanlocal real x=RAbsBJ(GetUnitFacing(it)-GetUnitFacing(m5))if(x<20 or x>340)thenset x=RAbsBJ(GetUnitFacing(it)-W47(it,m5))return(x<20 or x>340)endifreturn falseendfunctionfunction i4 takes nothing returns nothingcall DestroyLightning(M17(GetHandleId(GetExpiredTimer()),"Lightning"))endfunctionfunction W97 takes string i6,real x1,real y1,real x2,real y2,real r,real g,real b,real a,real Hk returns nothinglocal timer t=CreateTimer()local lightning i7=AddLightning(i6,true,x1,y1,x2,y2)call SetLightningColor(i7,r,g,b,a)call MI7(GetHandleId(t),"Lightning",i7)call TimerStart(t,Hk,false,function i4)set t=nullendfunctionfunction WD7 takes string Hx,real Hk,unit HX,real Ia,integer r,integer g,integer b,integer a returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,Hx,Ia)call SetTextTagPosUnit(tt,HX,64)call SetTextTagColor(tt,r,g,b,a)call SetTextTagVelocity(tt,0,.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,Hk)if IsUnitVisible(HX,GetLocalPlayer())or TV7(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction WE7 takes player p,string WF7,real I07,unit TF7,real WG7,integer r,integer g,integer b,integer a returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,WF7,WG7)call SetTextTagPosUnit(tt,TF7,64)call SetTextTagColor(tt,r,g,b,a)call SetTextTagVelocity(tt,0,0.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,I07)if IsPlayerAlly(GetLocalPlayer(),p)==true or TV7(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction WH7 takes trigger t,playerunitevent Ib returns nothinglocal integer WI7=0loopcall TriggerRegisterPlayerUnitEvent(t,Player(WI7),Ib,Condition(function Q37))set WI7=WI7+1exitwhen WI7==16endloopendfunctionfunction WJ7 takes nothing returns nothingif S67(GetEnumDestructable())and IsDestructableAliveBJ(GetEnumDestructable())thenset sl=sl+1call KillDestructable(GetEnumDestructable())endifendfunctionfunction WK7 takes real x,real y,real d returns integerlocal rect r=Rect(x-d,y-d,x+d,y+d)set sl=0call EnumDestructablesInRect(r,Condition(function Q37),function WJ7)call RemoveRect(r)set r=nullreturn slendfunctionfunction WM7 takes real x,real y returns booleanif IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)thenreturn falseendifreturn trueendfunctionfunction WN7 takes sound WO7,real x,real y returns nothingcall SetSoundPosition(WO7,x,y,0)call SetSoundVolume(WO7,127)set bj_lastPlayedSound=WO7if(WO7!=null)thencall StartSound(WO7)endifendfunctionfunction If takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local fogmodifier IF=MX7(NO7,"fog")call FogModifierStop(IF)call DestroyFogModifier(IF)call K_7(NO7)call NM7(t)set t=nullset IF=nullreturn falseendfunctionfunction WP7 takes player p,real Hk,real x,real y,real r returns nothinglocal trigger t=CreateTrigger()local fogmodifier IF=CreateFogModifierRadius(p,FOG_OF_WAR_VISIBLE,x,y,r,true,true)call FogModifierStart(IF)call MJ7(GetHandleId(t),"fog",IF)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function If))set IF=nullset t=nullendfunctionfunction IG takes nothing returns nothingset bj_groupCountUnits=bj_groupCountUnits+1endfunctionfunction Ih takes nothing returns nothingif S67(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())>0 thenset EL=trueendifendfunctionfunction nA takes real x,real y,real d returns booleanlocal rect r=Rect(x-d,y-d,x+d,y+d)set EL=falsecall EnumDestructablesInRect(r,null,function Ih)call RemoveRect(r)set r=nullreturn ELendfunctionfunction Ii takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=MZ7(V_7,"Target")local real Ij=N47(V_7,"Speed")local unit WQ7=MZ7(V_7,"Projectile")local real x=GetUnitX(WQ7)local real y=GetUnitY(WQ7)local real WR7=GetUnitX(U47)local real WS7=GetUnitY(U47)local real WT7=Ij*.03local real WU7=W77(x,y,WR7,WS7)local real WV7=x+WT7*Cos(WU7*bj_DEGTORAD)local real WW7=y+WT7*Sin(WU7*bj_DEGTORAD)call SetUnitX(WQ7,WV7)call SetUnitY(WQ7,WW7)call SetUnitFacing(WQ7,WU7)if UY7(U47)thencall KillUnit(WQ7)call K_7(V_7)call NM7(t)elseif J87(WR7,WS7,WV7,WW7)<=WT7 thencall KillUnit(WQ7)set I04=MZ7(V_7,"Source")set I_4=U47call ExecuteFunc(N87(V_7,"Callback"))call K_7(V_7)call NM7(t)endifset t=nullset U47=nullset WQ7=nullreturn falseendfunctionfunction WX7 takes unit p5,unit m5,integer IM,string In,real Ij returns triggerlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real iN=GetUnitX(p5)local real io=GetUnitY(p5)local real IN=GetUnitFacing(p5)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function Ii))call M97(NO7,"Speed",Ij)call MF7(NO7,"Target",m5)call MD7(NO7,"Callback",In)call MF7(NO7,"Source",p5)call MF7(NO7,"Projectile",CreateUnit(GetOwningPlayer(p5),IM,iN,io,IN))set eC=tset t=nullreturn eCendfunctionfunction Io takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call UnitAddAbility(MZ7(NO7,"Unit"),'Aloc')call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction IO takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit TX7=MZ7(NO7,"Hero")local real Ip=N47(NO7,"curscale")local real V47=Ip-(Ip-V87(TX7))*iX/40if iX>40 or UY7(TX7)thencall K_7(NO7)call NM7(t)elsecall SetUnitScale(TX7,V47,V47,V47)endifset t=nullset TX7=nullreturn falseendfunctionfunction ng takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real Iq=N47(NO7,"EndScale")call K_7(NO7)call NM7(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function IO))set NO7=GetHandleId(t)call M97(NO7,"curscale",Iq)call MF7(NO7,"Hero",TX7)set t=nullset TX7=nullreturn falseendfunctionfunction nI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit TX7=MZ7(NO7,"Hero")local real Ir=(N47(NO7,"scale")-V87(TX7))*iX/40local real V47=V87(TX7)+Irif iX>40 or UY7(TX7)thencall K_7(NO7)call NM7(t)elsecall SetUnitScale(TX7,V47,V47,V47)endifset t=nullset TX7=nullreturn falseendfunctionfunction WY7 takes unit TX7,real Hk,real V47 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real Is=V47*V87(TX7)local real Iq=Iscall MF7(NO7,"Hero",TX7)call M97(NO7,"EndScale",Iq)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function ng))if Hk>3 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.025,true)call TriggerAddCondition(t,Condition(function nI))set NO7=GetHandleId(t)call M97(NO7,"scale",Is)call MF7(NO7,"Hero",TX7)elsecall SetUnitScale(TX7,Iq,Iq,Iq)endifset t=nullendfunctionfunction IS takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer It=M_7(NO7,"Ability")if TX7!=null and GetUnitAbilityLevel(TX7,It)>0 thencall UnitRemoveAbility(TX7,It)endifcall K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction WZ7 takes unit u,integer It,real Hk returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UW7(u,It)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function IS))call MF7(NO7,"Hero",u)call M87(NO7,"Ability",It)set t=nullendfunctionfunction Iu takes nothing returns nothingset bj_groupCountUnits=bj_groupCountUnits+1endfunctionfunction WA7 takes group g returns integerset bj_groupCountUnits=0call ForGroup(g,function Iu)return bj_groupCountUnitsendfunctionfunction Iv takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local fogmodifier IF=MX7(NO7,"fog")call FogModifierStop(IF)call DestroyFogModifier(IF)call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction WB7 takes fogmodifier IF,real Hk returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call FogModifierStart(IF)call MJ7(NO7,"fog",IF)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function Iv))set t=nullendfunctionfunction Iw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer WC7=GetHandleId(t)local integer W37=(LoadInteger(C7,(WC7),(55)))local destructable d=Q17(W37)if d!=null thencall RemoveDestructable(d)endifcall Q57(W37)call K_7(WC7)call NM7(t)set d=nullset t=nullreturn falseendfunctionfunction W67 takes destructable d,real WL7 returns nothinglocal trigger t=CreateTrigger()local integer WC7=GetHandleId(t)call TriggerRegisterTimerEvent(t,WL7,false)call TriggerAddCondition(t,Condition(function Iw))call SaveInteger(C7,(WC7),(55),(Q27(d)))set t=nullendfunctionfunction Ix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer It=M_7(NO7,"Ability")if TX7!=null and GetUnitAbilityLevel(TX7,It)>0 thencall UnitRemoveAbility(TX7,It)endifcall K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction Iy takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call SetUnitAnimation(MZ7(NO7,"Unit"),"stand")call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction W17 takes unit u,real Hk returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Unit",u)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function Iy))set t=nullendfunctionfunction nm takes real Hk,boolean IZ,real x,real y,real I0,real I1,real I2,real I3,real I4 returns nothinglocal real I5local real I6local real I7if(I1<=0 or I4<=0 or I3<=0)thenreturnendifset I6=2.*Hk/I3set I5=2.*I1/I4set I7=I0/I1call TerrainDeformRipple(x,y,I1,I2,R2I(Hk*1000),1,I5,I6,I7,IZ)endfunctionfunction W07 takes player hV,unit hn,integer hY returns nothinglocal texttag t=CreateTextTag()call SetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(hV,PLAYER_STATE_RESOURCE_GOLD)+hY)call SetTextTagText(t,"+"+I2S(hY),.025)call SetTextTagPosUnit(t,hn,0)call SetTextTagColor(t,255,220,0,255)call SetTextTagVelocity(t,0,.03)if GetLocalPlayer()==hV thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endfunctionfunction I9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call RemoveUnit(MZ7(NO7,"Unit"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction nn takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function I9))call MF7(NO7,"Unit",u)set t=nullendfunctionfunction jA takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call RemoveUnit(MZ7(NO7,"Unit"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction jb takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call KillUnit(MZ7(NO7,"Unit"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction W57 takes unit u,real d returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function jb))call MF7(NO7,"Unit",u)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,d+.01,false)call TriggerAddCondition(t,Condition(function jA))call MF7(NO7,"Unit",u)set t=nullendfunctionfunction W27 takes sound WO7 returns nothingif WO7!=null and CW[GetPlayerId(GetLocalPlayer())]==false thencall StartSound(WO7)endifendfunctionfunction W_7 takes sound WO7,player HU returns nothingif GetLocalPlayer()==HU and CW[GetPlayerId(HU)]==false thencall StartSound(WO7)endifendfunctionfunction X47 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==falseendfunctionfunction X77 takes nothing returns nothingcall W_7(UM4,GetOwningPlayer(GetEnumUnit()))endfunctionfunction X87 takes unit X97,sound XD7,real x,real y,real r returns nothinglocal group g=TL7()set I04=X97set UM4=XD7call GroupEnumUnitsInRange(g,x,y,r,Condition(function X47))call GroupRemoveUnit(g,X97)call ForGroup(g,function X77)call T67(g)set g=nullendfunctionfunction XE7 takes player p returns nothingif GetLocalPlayer()==p thencall ClearTextMessages()endifendfunctionfunction XF7 takes unit u,real d returns nothingcall SetUnitState(u,UNIT_STATE_LIFE,VC7(GetUnitState(u,UNIT_STATE_LIFE)-d,1))endfunctionfunction XG7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer XH7=M_7(NO7,"AbilityID")if UnitRemoveAbility(m5,XH7)==true or GetUnitAbilityLevel(m5,XH7)==0 thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction XI7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer XH7=M_7(NO7,"AbilityID")call K_7(NO7)call NM7(t)if UnitRemoveAbility(m5,XH7)==false thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function XG7))call MF7(NO7,"Target",m5)call M87(NO7,"AbilityID",XH7)endifset t=nullset m5=nullreturn falseendfunctionfunction XJ7 takes unit m5,integer XH7,integer SR7,real Hk returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UW7(m5,XH7)call SetUnitAbilityLevel(m5,XH7,SR7)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function XI7))call MF7(NO7,"Target",m5)call M87(NO7,"AbilityID",XH7)set t=nullendfunctionfunction XK7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer o6=M_7(NO7,"AbilityID")local integer XM7=M_7(NO7,"AbilityID")call UnitRemoveAbility(m5,XM7)if UnitRemoveAbility(m5,o6)==true or GetUnitAbilityLevel(m5,o6)==0 thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction XN7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer o6=M_7(NO7,"AbilityID")local integer XM7=M_7(NO7,"BuffID")call K_7(NO7)call NM7(t)call UnitRemoveAbility(m5,XM7)if UnitRemoveAbility(m5,o6)==false thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function XK7))call MF7(NO7,"Target",m5)call M87(NO7,"AbilityID",o6)call M87(NO7,"BuffID",XM7)endifset t=nullset m5=nullreturn falseendfunctionfunction XO7 takes unit m5,integer o6,integer SR7,real XP7,integer XM7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UW7(m5,o6)call SetUnitAbilityLevel(m5,o6,SR7)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,XP7,false)call TriggerAddCondition(t,Condition(function XN7))call MF7(NO7,"Target",m5)call M87(NO7,"AbilityID",o6)call M87(NO7,"BuffID",XM7)set t=nullendfunctionfunction V8I takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local integer XQ7=(LoadInteger(C7,(TM7),(30)))local unit XR7=QL7(XQ7)local integer XS7=(LoadInteger(C7,(TM7),(43)))local unit XT7=QL7(XS7)local real XU7=(LoadReal(C7,(TM7),(44)))local unit XV7=(LoadUnitHandle(C7,(TM7),(45)))local real x=GetUnitX(XV7)local real y=GetUnitY(XV7)local real XW7=GetUnitX(XR7)local real XX7=GetUnitY(XR7)local real XY7=XU7*0.03local real XZ7=W77(x,y,XW7,XX7)local real XA7=x+XY7*Cos(XZ7*bj_DEGTORAD)local real XB7=y+XY7*Sin(XZ7*bj_DEGTORAD)call SetUnitX(XV7,XA7)call SetUnitY(XV7,XB7)call SetUnitFacing(XV7,XZ7)if J87(XW7,XX7,XA7,XB7)<=XY7 thencall KillUnit(XV7)set I04=XT7set GK=XR7call ExecuteFunc((LoadStr(C7,(TM7),(46))))call Q67(XQ7)call FlushChildHashtable(C7,(TM7))call NM7(t)elseif UY7(XR7)thencall KillUnit(XV7)call Q67(XQ7)call FlushChildHashtable(C7,(TM7))call NM7(t)endifset t=nullset XR7=nullset XT7=nullset XV7=nullreturn falseendfunctionfunction XC7 takes unit S4 returns booleanlocal integer z8=GetUnitTypeId(S4)return z8=='n004' or z8=='n01G' or z8=='n01C' or z8=='n018' or z8=='e00K' or z8=='e00I' or z8=='e00L' or z8=='e01J'endfunctionfunction X37 takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==falseendfunctionfunction X67 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction GenericCondition_EnemyUnitsExNoImmuneNoInvisAndStructureWithAncient takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)endfunctionfunction GenericCondition_EnemyUnitsExNoInvisAndStructureWithAncient takes nothing returns booleanreturn IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)endfunctionfunction GenericCondition_EnemyUnitsExNoImmuneNoInvisWithAncient takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)endfunctionfunction XL7 takes nothing returns booleanreturn IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)endfunctionfunction X17 takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction X07 takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and R77(GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)endfunctionfunction X57 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'Aetl')>0 or GetUnitAbilityLevel(u,'Bcyc')>0 or GetUnitAbilityLevel(u,'Bcy2')>0 or GetUnitAbilityLevel(u,'B01N')>0endfunctionfunction X27 takes unit u returns booleanreturn(GetUnitAbilityLevel((u),('B0C1'))>0)or(GetUnitAbilityLevel((u),('BEer'))>0)or(GetUnitAbilityLevel((u),('Beng'))>0)or(GetUnitAbilityLevel((u),('Bena'))>0)or(GetUnitAbilityLevel((u),('B017'))>0)or(GetUnitAbilityLevel((u),('B078'))>0)or(GetUnitAbilityLevel((u),('B08F'))>0)or(GetUnitAbilityLevel((u),('B08E'))>0)or(GetUnitAbilityLevel((u),('B0ER'))>0)or(GetUnitAbilityLevel((u),('B0FN'))>0)endfunctionfunction X_7 takes unit u returns nothingcall UnitRemoveAbility(u,'B0C1')call UnitRemoveAbility(u,'BEer')call UnitRemoveAbility(u,'Beng')call UnitRemoveAbility(u,'Bena')call UnitRemoveAbility(u,'B017')call UnitRemoveAbility(u,'B078')call UnitRemoveAbility(u,'B08F')call UnitRemoveAbility(u,'B08E')call UnitRemoveAbility(u,'B0ER')call UnitRemoveAbility(u,'B0FN')endfunctionfunction Y47 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction GenericCondition_EnemyUnitsExHeroesVision takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))endfunctionfunction GenericCondition_EnemyUnitsExHeroes takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==trueendfunctionfunction Y77 takes unit u returns booleanreturn GetUnitAbilityLevel(u,'B068')>0 or GetUnitAbilityLevel(u,'B07T')>0 or GetUnitAbilityLevel(u,'B076')>0 or GetUnitAbilityLevel(u,'BOwk')>0 or GetUnitAbilityLevel(u,'B04R')>0 or GetUnitAbilityLevel(u,'B0A5')>0 or GetUnitAbilityLevel(u,'B01Q')>0 or GetUnitAbilityLevel(u,'B006')>0 or GetUnitAbilityLevel(u,'Binv')>0 or GetUnitAbilityLevel(u,'Apiv')>0 or GetUnitAbilityLevel(u,'A021')>0 or GetUnitAbilityLevel(u,'A0K4')>0 or GetUnitAbilityLevel(u,'A0XB')>0 or GetUnitAbilityLevel(u,'A0Z2')>0 or GetUnitAbilityLevel(u,'A1GA')>0 or GetUnitAbilityLevel(u,'A1HW')>0 or GetUnitAbilityLevel(u,'A1HX')>0 or GetUnitAbilityLevel(u,'A00J')>0 or GetUnitAbilityLevel(u,'B08K')>0 or GetUnitAbilityLevel(u,'B08X')>0 or GetUnitAbilityLevel(u,'B039')>0 or GetUnitAbilityLevel(u,'B00K')>0 or GetUnitAbilityLevel(u,'BHfs')>0 or GetUnitAbilityLevel(u,'A140')>0 or GetUnitAbilityLevel(u,'B021')>0 or GetUnitAbilityLevel(u,'A0ZD')>0 or GetUnitAbilityLevel(u,'A0KT')>0endfunctionfunction GenericCondition_EnemyUnitsExHeroesNoDotaInvis takes nothing returns booleanreturn((IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and Y77(GetFilterUnit())==falseendfunctionfunction Y87 takes nothing returns booleanreturn((IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)and(Y77(GetFilterUnit())==false or IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))==true)endfunctionfunction Y97 takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'A1RB')==0endfunctionfunction YD7 takes nothing returns booleanreturn((IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04)))and X57(GetFilterUnit())==falseendfunctionfunction XMI2 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YE7 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)endfunctionfunction YF7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YG7 takes unit JA7 returns booleanreturn GetUnitTypeId(JA7)=='n004' or GetUnitTypeId(JA7)=='n018' or GetUnitTypeId(JA7)=='n01C' or GetUnitTypeId(JA7)=='n01G'endfunctionfunction YH7 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())=='ebal' or GetUnitTypeId(GetFilterUnit())=='umtw')endfunctionfunction YI7 takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and SL7(GetFilterUnit())==falseendfunctionfunction YJ7 takes nothing returns booleanreturn YI7()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction jE takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false and SL7(GetFilterUnit())==falseendfunctionfunction YK7 takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction GenericCondition_EnemyUnitsVisible takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction GenericCondition_EnemyUnitsAndVisibleOrWW takes nothing returns booleanreturn(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))or Y77(GetFilterUnit()))endfunctionfunction jF takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and YI7()endfunctionfunction YM7 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and YI7()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))endfunctionfunction YN7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YO7 takes nothing returns booleanreturn(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04)))and TU7(GetFilterUnit())==false and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YP7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))endfunctionfunction YQ7 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YR7 takes nothing returns booleanreturn(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YS7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))endfunctionfunction YT7 takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==falseendfunctionfunction YU7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YV7 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction jh takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and YI7()endfunctionfunction YW7 takes nothing returns booleanreturn IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)endfunctionfunction ji takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==false and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction jI takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YX7 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YY7 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction GenericCondition_EnemyHeroesEx_OLD takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YZ7 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction GenericCondition_EnemyHeroesExNoDotAInvis takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)or Y77(GetEnumUnit())endfunctionfunction YA7 takes nothing returns booleanreturn YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction YB7 takes nothing returns booleanreturn YI7()endfunctionfunction YC7 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Y37 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Y67 takes nothing returns booleanreturn YI7()and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction jL takes nothing returns booleanreturn YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)or IsUnitIllusion(GetFilterUnit()))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction jm takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)endfunctionfunction GenericCondition_EnemyUnitsExVisible takes nothing returns booleanreturn Y47()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))endfunctionfunction GenericCondition_EnemyUnitsExNoWW takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))or(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))==false and Y77(GetFilterUnit()))==false)endfunctionfunction jn takes nothing returns booleanreturn YI7()and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction ny takes nothing returns booleanreturn jn()and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))endfunctionfunction YL7 takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(GetFilterUnit())!='n0F5'endfunctionfunction Y17 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I04))==true and SK7(GetFilterUnit())>0endfunctionfunction Y07 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)endfunctionfunction Y57 takes nothing returns booleanreturn TU7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))endfunctionfunction Y27 takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Y_7 takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or GetOwningPlayer(GetFilterUnit())==Y7[0]or GetOwningPlayer(GetFilterUnit())==Z7[0])and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Z47 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Z77 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==true and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Z87 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))endfunctionfunction Z97 takes nothing returns nothinglocal destructable m5=GetEnumDestructable()local real a=Atan2(GetDestructableY(m5)-GetUnitY(I04),GetDestructableX(m5)-GetUnitX(I04))local real ZD7=RAbsBJ((IZ4-a)*bj_RADTODEG)if(S67(m5)or GetDestructableTypeId(m5)=='B005')and GetDestructableLife(m5)>1 and ZD7<wB and ZD7<(MU-5)thenset wB=ZD7set SB=m5endifset m5=nullendfunctionfunction ZE7 takes unit ZF7,unit p5,real l4 returns destructablelocal real x=GetUnitX(ZF7)local real y=GetUnitY(ZF7)local rect r=Rect(x-zB,y-zB,x+zB,y+zB)set wB=9999set I04=ZF7set SB=nullcall EnumDestructablesInRect(r,Condition(function Q37),function Z97)call RemoveRect(r)set r=nullreturn SBendfunctionfunction ZG7 takes nothing returns nothinglocal unit m5=GetEnumUnit()local real a=Atan2(GetUnitY(m5)-GetUnitY(I04),GetUnitX(m5)-GetUnitX(I04))local real ZD7=RAbsBJ((IZ4-a)*bj_RADTODEG)if ZD7<wB and ZD7<MU and m5!=I_4 thenset wB=ZD7set TB=m5endifset m5=nullendfunctionfunction ZH7 takes unit ZF7,unit p5,real l4 returns unitlocal group g=TL7()set TB=nullset wB=9999set I04=ZF7set IZ4=Atan2(GetUnitY(p5)-WP4,GetUnitX(p5)-WO4)set I_4=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function YN7))call ForGroup(g,function ZG7)call T67(g)set g=nullreturn TBendfunctionfunction ZI7 takes unit ZF7,unit p5,real l4 returns unitlocal group g=TL7()set TB=nullset wB=9999set I04=ZF7set IZ4=l4set I_4=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),yB,Condition(function YO7))call ForGroup(g,function ZG7)call T67(g)set g=nullreturn TBendfunctionfunction ZJ7 takes real XP7 returns integerif XP7>=4.00 thenreturn 19elseif XP7>=3.75 thenreturn 18elseif XP7>=3.5 thenreturn 17elseif XP7>=3.25 thenreturn 16elseif XP7>=3 thenreturn 15elseif XP7>=2.75 thenreturn 14elseif XP7>=2.5 thenreturn 13elseif XP7>=2.25 thenreturn 12elseif XP7>=2 thenreturn 11elseif XP7>=1.8 thenreturn 10elseif XP7>=1.75 thenreturn 9elseif XP7>=1.65 thenreturn 8elseif XP7>=1.5 thenreturn 7elseif XP7>=1.25 thenreturn 6elseif XP7>=1.2 thenreturn 5elseif XP7>=1 thenreturn 4elseif XP7>=0.75 thenreturn 3elseif XP7>=0.5 thenreturn 2elseif XP7>=0.25 thenreturn 1endifreturn 1endfunctionfunction ZK7 takes unit p5,unit m5,real XP7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)local integer ZN7=ZJ7(XP7)call UnitAddAbility(ZM7,'A0X6')call SetUnitAbilityLevel(ZM7,'A0X6',ZN7)call IssueTargetOrder(ZM7,"thunderbolt",m5)set ZM7=nullendfunctionfunction ZO7 takes unit p5,unit m5,integer ZP7,real V37 returns nothingif ZP7==0 thenreturnendifif ZP7==Y84 thencall UnitDamageTarget(p5,m5,V37,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)elseif ZP7==Y94 thencall UnitDamageTarget(p5,m5,V37,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)elseif ZP7==YD4 thencall UnitDamageTarget(p5,m5,V37,true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)elseif ZP7==YE4 thencall UnitDamageTarget(p5,m5,V37,true,true,ATTACK_TYPE_PIERCE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)elseif ZP7==YF4 thencall UnitDamageTarget(p5,m5,V37,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)endifendfunctionfunction ZQ7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local integer ZP7=M_7(NO7,"DamageType")local real V37=N47(NO7,"Damage")call ZO7(p5,m5,ZP7,V37)call Q67(ZR7)call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction ZS7 takes unit p5,unit m5,integer ZP7,real V37,real XP7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call M87(NO7,"TargetIndex",Q07(m5))call M87(NO7,"DamageType",ZP7)call M97(NO7,"Damage",V37*1.0)call TriggerRegisterTimerEvent(t,XP7,false)call TriggerAddCondition(t,Condition(function ZQ7))set t=nullendfunctionfunction jQ takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer ZP7=M_7(NO7,"DamageType")local real V37=N47(NO7,"Damage")call ZO7(p5,m5,ZP7,V37)call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction ZT7 takes unit p5,unit m5,integer ZP7,real V37,real Hk returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"DamageType",ZP7)call M97(NO7,"Damage",V37)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function jQ))set t=nullendfunctionfunction ZU7 takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZV7if d<1 thencall UnitRemoveAbility(u,IK4[0])call UnitRemoveAbility(u,IK4[1])call UnitRemoveAbility(u,IK4[2])call UnitRemoveAbility(u,IK4[3])call UnitRemoveAbility(u,IK4[4])call UnitRemoveAbility(u,IK4[5])call UnitRemoveAbility(u,IK4[6])call UnitRemoveAbility(u,IK4[7])call UnitRemoveAbility(u,IK4[8])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZV7=8set i=0loopexitwhen i>ZV7if b[i]==1 thencall UnitAddAbility(u,IK4[i])elsecall UnitRemoveAbility(u,IK4[i])endifset i=i+1endloopendfunctionfunction ZW7 takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZX7if d<1 thencall UnitRemoveAbility(u,SO4[0])call UnitRemoveAbility(u,SO4[1])call UnitRemoveAbility(u,SO4[2])call UnitRemoveAbility(u,SO4[3])call UnitRemoveAbility(u,SO4[4])call UnitRemoveAbility(u,SO4[5])call UnitRemoveAbility(u,SO4[6])call UnitRemoveAbility(u,SO4[7])call UnitRemoveAbility(u,SO4[8])call UnitRemoveAbility(u,SO4[9])call UnitRemoveAbility(u,SO4[10])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset ZX7=10set i=0loopexitwhen i>ZX7if b[i]==1 thencall UnitAddAbility(u,SO4[i])elsecall UnitRemoveAbility(u,SO4[i])endifset i=i+1endloopendfunctionfunction ZY7 takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZV7if d<1 thencall UnitRemoveAbility(u,IM4[0])call UnitRemoveAbility(u,IM4[1])call UnitRemoveAbility(u,IM4[2])call UnitRemoveAbility(u,IM4[3])call UnitRemoveAbility(u,IM4[4])call UnitRemoveAbility(u,IM4[5])call UnitRemoveAbility(u,IM4[6])call UnitRemoveAbility(u,IM4[7])call UnitRemoveAbility(u,IM4[8])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZV7=8set i=0loopexitwhen i>ZV7if b[i]==1 thencall UnitAddAbility(u,IM4[i])elsecall UnitRemoveAbility(u,IM4[i])endifset i=i+1endloopendfunctionfunction ZZ7 takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZA7if d<1 thencall UnitRemoveAbility(u,IN4[0])call UnitRemoveAbility(u,IN4[1])call UnitRemoveAbility(u,IN4[2])call UnitRemoveAbility(u,IN4[3])call UnitRemoveAbility(u,IN4[4])call UnitRemoveAbility(u,IN4[5])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZA7=iset i=0loopexitwhen i>ZA7if b[i]==1 thencall UnitAddAbility(u,IN4[i])elsecall UnitRemoveAbility(u,IN4[i])endifset i=i+1endloopendfunctionfunction ZB7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local integer i=M_7(NO7,"i")local string c="|c006699CC"if(GetObjectName(('n0HH')))=="Language: English" and(MX4[(i)]!="")thenif GetTriggerEvalCount(t)==1 thencall DisplayTimedTextToPlayer(p,0,0,15,"Tip 1: "+c+MX4[i]+"|r")call W_7(zR,p)elseif GetTriggerEvalCount(t)==2 thencall DisplayTimedTextToPlayer(p,0,0,15,"Tip 2: "+c+MY4[i]+"|r")call W_7(zR,p)elseif GetTriggerEvalCount(t)==3 thencall DisplayTimedTextToPlayer(p,0,0,15,"Tip 3: "+c+MZ4[i]+"|r")call W_7(zR,p)elseif GetTriggerEvalCount(t)==4 thencall DisplayTimedTextToPlayer(p,0,0,15,"Tip 4: "+c+MA4[i]+"|r")call W_7(zR,p)elseif GetTriggerEvalCount(t)==5 thencall DisplayTimedTextToPlayer(p,0,0,15,"Tip 5: "+c+MB4[i]+"|r")call W_7(zR,p)endifendifif GetTriggerEvalCount(t)==5 thencall NM7(t)call K_7(NO7)endifset t=nullreturn falseendfunctionfunction ZC7 takes player p,integer i returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,15.,false)call TriggerRegisterTimerEvent(t,300.,true)call TriggerAddCondition(t,Condition(function ZB7))call MM7(NO7,"p",p)call M87(NO7,"i",i)set t=nullendfunctionfunction Z37 takes unit X97 returns integerlocal integer SN7=GetUnitTypeId(X97)local integer Z67='o01P'if SN7=='Udre' thenset Z67='o01N'elseif SN7=='Emoo' or SN7=='H00I' or SN7=='H071' or SN7=='E005' thenset Z67='o01O'endifreturn Z67endfunctionfunction ZL7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall KillUnit(ZM7)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))endifset t=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction Z17 takes unit X97 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(X97),Z37(X97),GetUnitX(X97),GetUnitY(X97),0)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ZL7))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))set t=nullendfunctionfunction Z07 takes integer Z57 returns booleanlocal integer i=0loopexitwhen i>59if Z57==P9[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction Z27 takes integer SR7 returns integerlocal real Z_7=JM7()-NM4local real A47=(R2I(Z_7)/ 60)-(1/ 2)local real A77=100+SR7*SR7*1.5+A47*15local integer A87set A87=R2I(A77/ 50)set A87=IMinBJ(A87,59)set A87=IMaxBJ(A87,0)return A87endfunctionfunction A97 takes player p returns nothinglocal integer id=GetPlayerId(p)local unit AD7=K04[id]local unit AE7=G7[id]local integer AF7=GetHeroLevel(AE7)local integer i=0if W==true thenreturnendifif XC4==false thenreturnendifif S9[id]=='h0D4' thenreturnendifif S9[id]!=0 thencall RemoveUnitFromStock(AD7,S9[id])endifcall AddUnitToStock(AD7,P9[Z27(AF7)],1,1)set S9[id]=P9[Z27(AF7)]set AE7=nullset AD7=nullendfunctionfunction AG7 takes nothing returns booleanif W==true thenreturn falseendifcall A97(Y7[1])call A97(Y7[2])call A97(Y7[3])call A97(Y7[4])call A97(Y7[5])call A97(Z7[1])call A97(Z7[2])call A97(Z7[3])call A97(Z7[4])call A97(Z7[5])return falseendfunctionfunction AH7 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer id=(LoadInteger(C7,(V_7),(34)))local unit AI7=K04[id]local unit T_7=G7[id]local integer ZN7=GetHeroLevel(T_7)local integer i=0call UnitRemoveAbility(AI7,'A20U')call AddUnitToStock(AI7,P9[Z27(ZN7)],1,1)set S9[id]=P9[Z27(ZN7)]call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset T_7=nullreturn falseendfunctionfunction AJ7 takes player p returns nothinglocal integer id=GetPlayerId(p)local unit AI7=K04[id]local unit T_7=G7[id]local integer ZN7=GetHeroLevel(T_7)local integer i=0local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call Z17(T_7)loopexitwhen i>59call RemoveUnitFromStock(AI7,P9[i])set i=i+1endloopcall TriggerAddCondition(t,Condition(function AH7))call TriggerRegisterTimerEvent(t,300,false)call SaveInteger(C7,(V_7),(34),(id))set S9[id]='h0D4'call UnitAddAbility(AI7,'A20U')call IssueImmediateOrder(AI7,"fanofknives")set T_7=nullset AI7=nullset t=nullendfunctionfunction AK7 takes nothing returns nothingset M84[GetPlayerId(Y7[1])]=0set M94[GetPlayerId(Y7[1])]=66set MD4[GetPlayerId(Y7[1])]=255set M84[GetPlayerId(Y7[2])]=48set M94[GetPlayerId(Y7[2])]=230set MD4[GetPlayerId(Y7[2])]=185set M84[GetPlayerId(Y7[3])]=50set M94[GetPlayerId(Y7[3])]=0set MD4[GetPlayerId(Y7[3])]=129set M84[GetPlayerId(Y7[4])]=255set M94[GetPlayerId(Y7[4])]=252set MD4[GetPlayerId(Y7[4])]=1set M84[GetPlayerId(Y7[5])]=255set M94[GetPlayerId(Y7[5])]=50set MD4[GetPlayerId(Y7[5])]=0set M84[GetPlayerId(Z7[1])]=220set M94[GetPlayerId(Z7[1])]=50set MD4[GetPlayerId(Z7[1])]=50set M84[GetPlayerId(Z7[2])]=50set M94[GetPlayerId(Z7[2])]=50set MD4[GetPlayerId(Z7[2])]=50set M84[GetPlayerId(Z7[3])]=75set M94[GetPlayerId(Z7[3])]=150set MD4[GetPlayerId(Z7[3])]=190set M84[GetPlayerId(Z7[4])]=16set M94[GetPlayerId(Z7[4])]=60set MD4[GetPlayerId(Z7[4])]=18set M84[GetPlayerId(Z7[5])]=68set M94[GetPlayerId(Z7[5])]=42set MD4[GetPlayerId(Z7[5])]=4endfunctionfunction AM7 takes nothing returns nothinglocal integer T8local integer U8set K[GetPlayerId(Y7[0])]="|c00ff0303"set K[GetPlayerId(Y7[1])]="|c000042ff"set K[GetPlayerId(Y7[2])]="|c001ce6b9"set K[GetPlayerId(Y7[3])]="|c00540081"set K[GetPlayerId(Y7[4])]="|c00fffc01"set K[GetPlayerId(Y7[5])]="|c00ff8000"set K[GetPlayerId(Z7[0])]="|c0020c000"set K[GetPlayerId(Z7[1])]="|c00e55bb0"set K[GetPlayerId(Z7[2])]="|c00959697"set K[GetPlayerId(Z7[3])]="|c007ebff1"set K[GetPlayerId(Z7[4])]="|c00106246"set K[GetPlayerId(Z7[5])]="|c004e2a04"call SetPlayerColor(Y7[0],PLAYER_COLOR_RED)call SetPlayerColor(Y7[1],PLAYER_COLOR_BLUE)call SetPlayerColor(Y7[2],PLAYER_COLOR_CYAN)call SetPlayerColor(Y7[3],PLAYER_COLOR_PURPLE)call SetPlayerColor(Y7[4],PLAYER_COLOR_YELLOW)call SetPlayerColor(Y7[5],PLAYER_COLOR_ORANGE)call SetPlayerColor(Z7[0],PLAYER_COLOR_GREEN)call SetPlayerColor(Z7[1],PLAYER_COLOR_PINK)call SetPlayerColor(Z7[2],PLAYER_COLOR_LIGHT_GRAY)call SetPlayerColor(Z7[3],PLAYER_COLOR_LIGHT_BLUE)call SetPlayerColor(Z7[4],PLAYER_COLOR_AQUA)call SetPlayerColor(Z7[5],PLAYER_COLOR_BROWN)set T8=1set U8=5loopcall H_7(Y7[T8])if(R97(Y7[T8]))thencall SetPlayerName(Y7[T8],I2S(T8)+H27(Y7[T8])+"Computer")endifcall H_7(Z7[T8])if(R97(Z7[T8]))thencall SetPlayerName(Z7[T8],I2S(5+T8)+H27(Z7[T8])+"Computer")endifset T8=T8+1exitwhen T8>U8endloopendfunctionfunction AN7 takes unit KW7 returns booleanreturn GetUnitAbilityLevel(KW7,'A04R')>0 and R77(GetOwningPlayer(KW7))endfunctionfunction AO7 takes real d returns booleanreturn 2<d and d<3000endfunctionfunction AP7 takes nothing returns nothinglocal integer T8=1set Le=Y7[1]loopexitwhen R87(Le)or T8>5set T8=T8+1set Le=Y7[T8]endloopif not R87(Le)thenset Le=Z7[1]set T8=1loopexitwhen R87(Le)or T8>5set T8=T8+1set Le=Z7[T8]endloopendifendfunctionfunction AQ7 takes player p,string AR7,integer AS7 returns nothinglocal string id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,AR7,AS7)if RD7(Le)==false thencall AP7()endifif GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,id,AR7)endifendfunctionfunction AT7 takes string AR7,integer AS7 returns nothingcall StoreInteger(JD4,"Data",AR7,AS7)if RD7(Le)==false thencall AP7()endifif GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,"Data",AR7)endifendfunctionfunction AU7 takes nothing returns booleanlocal string sif IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!='H00J' thencall AT7("Learn"+I2S(GetPlayerId(GetTriggerPlayer())),GetLearnedSkill())endifreturn falseendfunctionfunction AV7 takes nothing returns booleanlocal string sif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!='H00J' thencall AT7("Cast"+I2S(GetPlayerId(GetTriggerPlayer())),GetSpellAbilityId())endifreturn falseendfunctionfunction AW7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function AU7))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AV7))set t=nullendfunctionfunction AX7 takes string s,string AY7,string AZ7 returns stringlocal string AA7=""local integer i=0local integer AB7=StringLength(s)local string AC7local integer A37=StringLength(AY7)local boolean A67=falseloopexitwhen i+1>AB7set AC7=SubString(s,i,i+A37)if AC7!=AY7 or A67 thenset AA7=AA7+SubString(s,i,i+1)set i=i+1elseset AA7=AA7+AZ7set i=i+A37set A67=trueendifendloopreturn AA7endfunctionfunction AL7 takes player A17,player A07 returns stringlocal string s=(GetObjectName(('n0C8')))set s=AX7(s,"$dead",K[GetPlayerId(A17)]+(M74[GetPlayerId((A17))])+"|r")set s=AX7(s,"$killer",K[GetPlayerId(A07)]+(M74[GetPlayerId((A07))])+"|r")return sendfunctionfunction A57 takes nothing returns nothinglocal integer ilocal integer A27=125call SetUnitOwner(KX4,Y7[1],false)set h4[512+GetPlayerId(Y7[1])]=KX4call SetUnitOwner(KY4,Y7[2],false)set h4[512+GetPlayerId(Y7[2])]=KY4call SetUnitOwner(KZ4,Y7[3],false)set h4[512+GetPlayerId(Y7[3])]=KZ4call SetUnitOwner(KA4,Y7[4],false)set h4[512+GetPlayerId(Y7[4])]=KA4call SetUnitOwner(KB4,Y7[5],false)set h4[512+GetPlayerId(Y7[5])]=KB4call SetUnitOwner(KC4,Z7[1],false)set h4[512+GetPlayerId(Z7[1])]=KC4call SetUnitOwner(K34,Z7[2],false)set h4[512+GetPlayerId(Z7[2])]=K34call SetUnitOwner(K64,Z7[3],false)set h4[512+GetPlayerId(Z7[3])]=K64call SetUnitOwner(KL4,Z7[4],false)set h4[512+GetPlayerId(Z7[4])]=KL4call SetUnitOwner(K14,Z7[5],false)set h4[512+GetPlayerId(Z7[5])]=K14set K04[GetPlayerId(Y7[1])]=KX4set K04[GetPlayerId(Y7[2])]=KY4set K04[GetPlayerId(Y7[3])]=KZ4set K04[GetPlayerId(Y7[4])]=KA4set K04[GetPlayerId(Y7[5])]=KB4set K04[GetPlayerId(Z7[1])]=KC4set K04[GetPlayerId(Z7[2])]=K34set K04[GetPlayerId(Z7[3])]=K64set K04[GetPlayerId(Z7[4])]=KL4set K04[GetPlayerId(Z7[5])]=K14set i=1if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=2if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=3if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=4if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=5if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=7if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=8if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=9if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=10if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset i=11if GetLocalPlayer()==Player(i)thencall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,255)elsecall SetUnitVertexColor(K04[GetPlayerId(Player(i))],255,255,255,A27)endifset K54[GetPlayerId(Y7[1])]=GetUnitX(K04[GetPlayerId(Y7[1])])set K54[GetPlayerId(Y7[2])]=GetUnitX(K04[GetPlayerId(Y7[2])])set K54[GetPlayerId(Y7[3])]=GetUnitX(K04[GetPlayerId(Y7[3])])set K54[GetPlayerId(Y7[4])]=GetUnitX(K04[GetPlayerId(Y7[4])])set K54[GetPlayerId(Y7[5])]=GetUnitX(K04[GetPlayerId(Y7[5])])set K54[GetPlayerId(Z7[1])]=GetUnitX(K04[GetPlayerId(Z7[1])])set K54[GetPlayerId(Z7[2])]=GetUnitX(K04[GetPlayerId(Z7[2])])set K54[GetPlayerId(Z7[3])]=GetUnitX(K04[GetPlayerId(Z7[3])])set K54[GetPlayerId(Z7[4])]=GetUnitX(K04[GetPlayerId(Z7[4])])set K54[GetPlayerId(Z7[5])]=GetUnitX(K04[GetPlayerId(Z7[5])])set K24[GetPlayerId(Y7[1])]=GetUnitY(K04[GetPlayerId(Y7[1])])set K24[GetPlayerId(Y7[2])]=GetUnitY(K04[GetPlayerId(Y7[2])])set K24[GetPlayerId(Y7[3])]=GetUnitY(K04[GetPlayerId(Y7[3])])set K24[GetPlayerId(Y7[4])]=GetUnitY(K04[GetPlayerId(Y7[4])])set K24[GetPlayerId(Y7[5])]=GetUnitY(K04[GetPlayerId(Y7[5])])set K24[GetPlayerId(Z7[1])]=GetUnitY(K04[GetPlayerId(Z7[1])])set K24[GetPlayerId(Z7[2])]=GetUnitY(K04[GetPlayerId(Z7[2])])set K24[GetPlayerId(Z7[3])]=GetUnitY(K04[GetPlayerId(Z7[3])])set K24[GetPlayerId(Z7[4])]=GetUnitY(K04[GetPlayerId(Z7[4])])set K24[GetPlayerId(Z7[5])]=GetUnitY(K04[GetPlayerId(Z7[5])])endfunctionfunction A_7 takes unit TX7 returns booleanlocal integer ID=GetUnitTypeId(TX7)return ID=='n00V'or ID=='n00W'or ID=='n002'or ID=='n001'or ID=='n00X'or ID=='nC38'or ID=='n01K'or ID=='n009'endfunctionfunction jw takes nothing returns nothingif(GetOwningPlayer(GetEnumUnit())==Player(0))thencall SetUnitOwner(GetEnumUnit(),Y7[0],false)if A_7(GetEnumUnit())==false thencall SetUnitColor(GetEnumUnit(),ConvertPlayerColor(0))endifelsecall SetUnitOwner(GetEnumUnit(),Z7[0],false)if A_7(GetEnumUnit())==false thencall SetUnitColor(GetEnumUnit(),ConvertPlayerColor(6))endifendifendfunctionfunction Np takes nothing returns nothinglocal group B47=TL7()call GroupEnumUnitsOfPlayer(B47,Player(0),Condition(function Q37))call ForGroup(B47,function jw)call GroupClear(B47)call GroupEnumUnitsOfPlayer(B47,Player(6),Condition(function Q37))call ForGroup(B47,function jw)call T67(B47)set B47=nullendfunctionfunction B77 takes player p returns nothinglocal integer i=0local string jX=GetPlayerName(p)local integer AB7=StringLength(jX)local integer jY=AB7loopexitwhen i==AB7if SubString(jX,i,i+1)=="("and SubString(jX,i-1,i)==" "thenset jY=i-1call SetPlayerName(p,SubString(jX,0,jY))set i=AB7elseset i=i+1endifendloopendfunctionfunction B87 takes nothing returns nothinglocal integer B97local integer BD7local integer T8local integer U8local integer x=0local integer y=0local integer ilocal location BE7=GetRectCenter(pr)local location BF7=GetRectCenter(qr)if GetPlayerState(Y7[0],PLAYER_STATE_OBSERVER)!=0 or GetPlayerState(Z7[0],PLAYER_STATE_OBSERVER)!=0 thenset O8=trueset Y7[0]=Player(13)set Z7[0]=Player(14)set K_4=Player(0)set M44=Player(6)call SetAllyColorFilterState(0)loopexitwhen x>5call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall ForceAddPlayer(W7,Y7[0])call ForceAddPlayer(W7,Y7[1])call ForceAddPlayer(W7,Y7[2])call ForceAddPlayer(W7,Y7[3])call ForceAddPlayer(W7,Y7[4])call ForceAddPlayer(W7,Y7[5])call ForceAddPlayer(X7,Z7[0])call ForceAddPlayer(X7,Z7[1])call ForceAddPlayer(X7,Z7[2])call ForceAddPlayer(X7,Z7[3])call ForceAddPlayer(X7,Z7[4])call ForceAddPlayer(X7,Z7[5])call ForceAddPlayer(B8,Y7[1])call ForceAddPlayer(B8,Y7[2])call ForceAddPlayer(B8,Y7[3])call ForceAddPlayer(B8,Y7[4])call ForceAddPlayer(B8,Y7[5])call ForceAddPlayer(B8,Z7[1])call ForceAddPlayer(B8,Z7[2])call ForceAddPlayer(B8,Z7[3])call ForceAddPlayer(B8,Z7[4])call ForceAddPlayer(B8,Z7[5])if O8 thencall ForceAddPlayer(B8,Player(0))call ForceAddPlayer(B8,Player(6))endifset x=0set y=0loopexitwhen x>5loopexitwhen y>5if(x!=y)thencall SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(0),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(1),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(2),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(3),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(4),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(5),true)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(6),false)call SetPlayerAlliance(Y7[x],Y7[y],ConvertAllianceType(7),false)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(0),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(1),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(2),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(3),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(4),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(5),true)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(6),false)call SetPlayerAlliance(Z7[x],Z7[y],ConvertAllianceType(7),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(0),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(1),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(2),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(3),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(4),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(5),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(6),false)call SetPlayerAlliance(Y7[x],Z7[y],ConvertAllianceType(7),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(0),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(1),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(2),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(3),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(4),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(5),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(6),false)call SetPlayerAlliance(Z7[x],Y7[y],ConvertAllianceType(7),false)endifset y=y+1endloopset y=0set x=x+1endloopcall SetPlayerTeam(Y7[0],0)call SetPlayerTeam(Y7[1],0)call SetPlayerTeam(Y7[2],0)call SetPlayerTeam(Y7[3],0)call SetPlayerTeam(Y7[4],0)call SetPlayerTeam(Y7[5],0)call SetPlayerTeam(Z7[0],1)call SetPlayerTeam(Z7[1],1)call SetPlayerTeam(Z7[2],1)call SetPlayerTeam(Z7[3],1)call SetPlayerTeam(Z7[4],1)call SetPlayerTeam(Z7[5],1)call SetPlayerName(Y7[0],(GetObjectName(('n03N'))))call SetPlayerName(Z7[0],(GetObjectName(('n03O'))))call SetPlayerName(A7,(GetObjectName(('n0E8'))))call A57()if(Y7[0]!=Player(0)or Z7[0]!=Player(6))thencall Np()endifcall AM7()set BD7=q8(W7)set B97=q8(X7)set T8=1set U8=5loopexitwhen T8>U8if(RD7(Y7[T8]))thencall SetPlayerState(Y7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ BD7))call SetPlayerState(Y7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(RD7(Z7[T8]))thencall SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ B97))call SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopcall SetPlayerHandicapXP(Y7[1],1)call SetPlayerHandicapXP(Y7[2],1)call SetPlayerHandicapXP(Y7[3],1)call SetPlayerHandicapXP(Y7[4],1)call SetPlayerHandicapXP(Y7[5],1)call SetPlayerHandicapXP(Z7[1],1)call SetPlayerHandicapXP(Z7[2],1)call SetPlayerHandicapXP(Z7[3],1)call SetPlayerHandicapXP(Z7[4],1)call SetPlayerHandicapXP(Z7[5],1)call SetPlayerState(Y7[0],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Y7[1],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Y7[2],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Y7[3],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Y7[4],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Y7[5],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[0],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[1],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[2],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[3],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[4],PLAYER_STATE_GIVES_BOUNTY,1)call SetPlayerState(Z7[5],PLAYER_STATE_GIVES_BOUNTY,1)call AP7()call AK7()call B77(Y7[1])call B77(Y7[2])call B77(Y7[3])call B77(Y7[4])call B77(Y7[5])call B77(Z7[1])call B77(Z7[2])call B77(Z7[3])call B77(Z7[4])call B77(Z7[5])set x=1loopexitwhen x>5if RD7(Y7[x])thencall CreateUnitAtLoc(Y7[x],'n00C',BE7,bj_UNIT_FACING)endifif RD7(Z7[x])thencall CreateUnitAtLoc(Z7[x],'n00C',BF7,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(BE7)call RemoveLocation(BF7)set i=0loopset M74[i]=GetPlayerName(Player(i))set i=i+1exitwhen i==16endloopset BE7=nullset BF7=nullendfunctionfunction BG7 takes nothing returns nothinglocal integer i=1set MG4=1set ME4[1]='Hvwd'set MW4[1]='h03Z'set MF4[1]='n09U'set MV4[1]="ReplaceableTextures\\CommandButtons\\BTNAvengingWatcher.blp"call V97(ME4[1],"stand 4")call U_7(ME4[1],1.35,MW4[1])set MX4[i]="Cheap items such as Bracers, Bottle and Magic Stick help give Vengeful Spirit what she needs to use Magic Missile and Swap safely and frequently."set MY4[i]="By getting Magic Missile first, Vengeful Spirit should take advantage of this powerful stun by moving around the map instead of simply farming in a lane."set MZ4[i]="It sometimes a good idea to save the Command Aura for later in the game when it will give your team more damage."set MA4[i]="Wave of Terror is used to provide sight, giving you vision over an area or providing an opportunity to use Swap."set MB4[i]="Swap will allow you to isolate a key hero on their team, sometimes your sacrifice is needed to win the battle and maybe even the game."set i=i+1set ME4[2]='Hmbr'set MW4[2]='h040'set MF4[2]='n09A'set MV4[2]="ReplaceableTextures\\CommandButtons\\BTNAvatar.blp"call V97(ME4[2],"attack slam alternate")call U_7(ME4[2],1.3,MW4[2])set MX4[i]="When using Arc lightning, try to kill creeps and harass your opponent at the same time"set MY4[i]="When ganking, you can use Lightning Bolt to ensure you will not lose sight of the target quickly."set MZ4[i]="Lightning Bolt has a mini-stun that can be used against channeling spells and teleporting heroes."set MA4[i]="Static Field is extremely powerful throughout the game: Use your spells as frequently as possible during fights."set MB4[i]="Both Lightning Bolt and Wrath of the Thundergod reveal invisible units. Wrath will not damage invisible units."set i=i+1set ME4[3]='Emoo'set MW4[3]='h041'set MF4[3]='n099'set MV4[3]="ReplaceableTextures\\CommandButtons\\BTNDryad.blp"call V97(ME4[3],"stand 4")call U_7(ME4[3],1,MW4[3])set MX4[i]="Enchant can be used on neutral creeps, meaning Enchantress can fight and use neutral creeps to engage enemy heroes effectively."set MY4[i]="Nature's Attendants heals in an area AOE, so make sure you're far from creeps if you only want to heal yourself."set MZ4[i]="Untouchable is great against physical attacks, but it does not help you survive huge burst damage nukes."set MA4[i]="Impetus deals negligible damage at short range; switch to normal attacks if your target gets close to save mana."set MB4[i]="Impetus deals pure damage, making it a great tool against heroes with a lot of resistance because it is not reduced."set i=i+1set ME4[4]='O00P'set MW4[4]='h042'set MF4[4]='n098'set MV4[4]="ReplaceableTextures\\CommandButtons\\BTNSeaElemental.blp"call V97(ME4[4],"stand 2")call U_7(ME4[4],1,MW4[4])set MX4[i]="Waveform is extremely powerful: Used for damage, chasing, escaping, it even allows you to dodge some spells by casting it at the right time."set MY4[i]="Morph allows you to manipulate your Agility and Strength. Using the Strength Morph ('F') can act as a heal to help you survive between spells."set MZ4[i]="Use Morph Replicate to take the location of your Replicated unit, making it great for a quick escape or simply as a free teleport."set MA4[i]="Replicate is usually cast on the strongest ally or enemy to a fight. Certain hero passives or items will retain their effects, so Replicate those heroes."set MB4[i]="Eye of Skadi and Linken's Sphere are two examples of Statistic-increasing items which give Morphling a lot of versatility and the ability to cast spells often."set i=i+1set ME4[5]='Hjai'set MW4[5]='h043'set MF4[5]='n09W'set MV4[5]="ReplaceableTextures\\CommandButtons\\BTNJaina.blp"call V97(ME4[5],"stand victory")call U_7(ME4[5],1,MW4[5])set MX4[i]="CM is a fragile support hero: Items like Bracers and Phase Boots will help her survive and deal with her low movement speed and armor."set MY4[i]="A few points of Brilliance Aura early on provides your team with massive amounts of extra mana."set MZ4[i]="Enemies hit by Frostbite can still cast spells, so don't take them lightly. "set MA4[i]="Frostbite on non-hero units will last 10 seconds. This can be useful for killing neutral creeps that are level 5 or lower as well."set MB4[i]="There are two items that can help you with the perfect Freezing Field: Placement with Kelen's Dagger and the spell immunity of Black King Bar."set i=i+1set ME4[6]='H001'set MW4[6]='h044'set MF4[6]='n096'set MV4[6]="ReplaceableTextures\\CommandButtons\\BTNFelGuardBlue.tga"call V97(ME4[6],"spell")call U_7(ME4[6],1,MW4[6])set MX4[i]="Storm Bolt is a skill Sven should usually get early because of its damage and stun. "set MY4[i]="Take advantage of Storm Bolt's area of effect by hitting additional enemy creeps and heroes whenever possible. "set MZ4[i]="Try to be near your allies when you cast Warcry."set MA4[i]="Only items that increase Strength will give you additional damage from effect of God's Strength."set MB4[i]="Casting God's Strength before engaging in fights or casting Storm Bolt will allow you to get additional attacks on your opponent."set i=i+1set ME4[7]='HC49'set MW4[7]='h045'set MF4[7]='n09P'set MV4[7]="ReplaceableTextures\\CommandButtons\\BTNSeaWitch.blp"call V97(ME4[7],"spell")call U_7(ME4[7],1,MW4[7])set MX4[i]="Opponents can attack and cast spells while Ensnared. However, it will work on magic immune units and reveal invisible heroes until the duration expires."set MY4[i]="Mirror Image can be used defensively to avoid certain spells and dispel debuffs or channeling spells."set MZ4[i]="Items that provide attribute bonuses improve your Image's power."set MA4[i]="Enemies caught by Song of the Siren are invulnerable while asleep. Save your attacks and spells for after the spell expires."set MB4[i]="Use Song of the Siren to isolate a magic immune or Cycloned hero (since they will not be affected), or to demolish buildings while enemies are asleep."set i=i+1set ME4[8]='Otch'set MW4[8]='h046'set MF4[8]='n09D'set MV4[8]="ReplaceableTextures\\CommandButtons\\BTNTauren.blp"call V97(ME4[8],"attack slam")call U_7(ME4[8],1.1,MW4[8])set MX4[i]="Although he's a strength hero, Earthshaker (ES) actually plays more like a caster. Damage items are not very useful, but mana items can be nice."set MY4[i]="A good cast of Fissure can isolate an opponent and cut off their escape. Practice often to achieve devastating results."set MZ4[i]="Kelen's Dagger is an incredible item on ES, it allows you to quickly position yourself for the perfect Fissure or Echoslam."set MA4[i]="The timing of your spells is important, by spacing them out properly you can keep a group of heroes disabled for several seconds."set MB4[i]="Due to Raigor's ability to split up an enemy team and keep them stunned, he is great for initiating fights."set i=i+1set ME4[9]='HC92'set MW4[9]='h047'set MF4[9]='n09X'set MV4[9]="ReplaceableTextures\\CommandButtons\\BTNSatyrTrickster.blp"call V97(ME4[9],"stand 4")call U_7(ME4[9],1,MW4[9])set MX4[i]="Getting at least one level of Blink Strike and Smoke Screen help you survive to level 6 when you can learn Permanent Invisibility."set MY4[i]="Attacking or using your spells makes you visible: Consider the fade time of Permanent Invisibility before placing yourself at risk."set MZ4[i]="Try to position Smoke Screen slightly behind enemies so that they spend more time in the cloud if they retreat."set MA4[i]="Wraith Bands and later a Yasha or a Diffusal Blade will provide Rikimaru with cheap damage and chasing power for dispatching fragile heroes quickly."set MB4[i]="Be careful of items that render you visible, such as Dust of Appearance, Sentry Wards or a Gem of True Sight."set i=i+1set ME4[10]='N01O'set MW4[10]='h048'set MF4[10]='n09Y'set MV4[10]="ReplaceableTextures\\CommandButtons\\BTNDruidOfTheClaw.blp"call V97(ME4[10],"spell slam")call U_7(ME4[10],1,MW4[10])call U_7('n013',1.1,MW4[10])call U_7('n014',1.2,MW4[10])call U_7('n015',1.3,MW4[10])call U_7('n004',1,MW4[10])call U_7('n018',1.1,MW4[10])call U_7('n01C',1.2,MW4[10])call U_7('n01G',1.3,MW4[10])set MX4[i]="Spirit Bear is great to have in the lane and allowing Syllabear to fight neutral creeps because of its high HP and damage. "set MY4[i]="Leveling Spirit Bear also gets various bonuses that make it very powerful for fighting heroes and towers so it is usually the first thing to max out."set MZ4[i]="Your Spirit Bear might be able to handle a lot of damage, but if it dies you will also take damage (100 X its level). If you die, it dies as well."set MA4[i]="Give items to your bear instead of Syllabear since it is usually engaging the enemy for you. Remember that stat-increasing items do not benefit the bear."set MB4[i]="True Form gives Syllabear massive HP in his melee form, and Rabid and Battle Cry give both him and his Bear huge damage temporarily."set i=i+1set ME4[11]='H004'set MW4[11]='h049'set MF4[11]='n09Z'set MV4[11]="ReplaceableTextures\\CommandButtons\\BTNSorceress.blp"call V97(ME4[11],"stand victory")call U_7(ME4[11],1.2,MW4[11])set MX4[i]="Light Strike Array is usually a good skill to get at level 1 because it provides you with a stun."set MY4[i]="Target the ground in their direction instead of clicking on enemies to maximize Dragon Slave's long range."set MZ4[i]="Cheap items will help Lina do her job: Bracers, Bottle, Phase Boots. A Point booster provides a nice HP/mana bonus for its cost."set MA4[i]="Fiery Soul can help you maneuver better during a fight."set MB4[i]="Try to stun as many heroes as possible during team fights"set i=i+1set ME4[12]='Nbbc'set MW4[12]='h04A'set MF4[12]='n0A5'set MV4[12]="ReplaceableTextures\\CommandButtons\\BTNChaosBlademaster.blp"call V97(ME4[12],"stand victory")call U_7(ME4[12],1,MW4[12])set MX4[i]="Blade Fury is your most important skill early game for getting hero kills and avoiding magic damage."set MY4[i]="Avoid follow-command (right-clicking) heroes with Blade Fury and instead click the ground near the opponent."set MZ4[i]="Isolate enemy heroes before using Omnislash to prevent Juggernaut from attacking multiple targets and doing less damage."set MA4[i]="Increasing your attack speed will give you 'extra attacks' during Omnislash, which are treated like a normal attack (in terms of damage and orb effects)."set MB4[i]="Protect the 1-HP Healing Ward in battles and it can prolong and save the lives of your entire team."set i=i+1set ME4[13]='N01A'set MW4[13]='h04B'set MF4[13]='n097'set MV4[13]="ReplaceableTextures\\CommandButtons\\BTNSpellBreaker.blp"call V97(ME4[13],"stand ready")call U_7(ME4[13],1,MW4[13])set MX4[i]="Glaives of Wisdom is useful to get early because it is useful for killing creeps and harassing your opponent manually ('W' and then the target)."set MY4[i]="Curse of the Silent will cause an enemy to lose HP/mana if they do not choose to use their spells, or cannot use their spells (disabled, silenced, cooldown)."set MZ4[i]="Last Word will prevent enemies from using multiple spells on you and your team at the same time provided you get close enough."set MA4[i]="Global Silence can be used for initiating on enemies or saving allies early on. Try to pay attention to your teammates and enemies, even those not nearby."set MB4[i]="Global Silence will also give your allies the opportunity in team battles to use their spells without repercussions - making it a powerful control spell."set i=i+1set ME4[14]='Hamg'set MW4[14]='h04C'set MF4[14]='n09F'set MV4[14]="ReplaceableTextures\\CommandButtons\\BTNTreant.blp"call V97(ME4[14],"stand 3")call U_7(ME4[14],0.72,MW4[14])set MX4[i]="Thanks to his high base damage and survivability, Rooftrellen can usually obtain high-tier damage or caster items depending on the needs of the team."set MY4[i]="Living armor adds significant defensive bonuses to an allied unit. It can even be cast on buildings to make them more resilient and provide regeneration."set MZ4[i]="Nature's Guise is more than an escape tool, it can be used offensively as well. Use it to position allies and yourself near trees before surprising the enemy."set MA4[i]="Use Eyes in the Forest whenever you can to gain vision of key locations such as the rune spots, neutral creep camps and Roshan."set MB4[i]="Enemies under the effect of Overgrowth can still use spells and items, so make sure your team acts quickly while enemies remain immobilized."set i=i+1set ME4[15]='O015'set MW4[15]='h07P'set MF4[15]='n0GC'set MV4[15]="ReplaceableTextures\\CommandButtons\\BTNHeroTaurenChieftain.blp"call V97(ME4[15],"stand victory")call U_7(ME4[15],1.1,MW4[15])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[16]='Hblm'set MW4[16]='h04E'set MF4[16]='n09G'set MV4[16]="ReplaceableTextures\\CommandButtons\\BTNHeroArchMage.blp"call V97(ME4[16],"stand victory")call U_7(ME4[16],1.2,MW4[16])call U_7('H06X',1.5,MW4[16])call U_7('H06Y',1.5,MW4[16])call U_7('H06W',1.5,MW4[16])set MX4[i]="Chakra Magic is an amazing support skill that you should cast on allies as often as possible if they have powerful spells."set MY4[i]="Illuminate can be useful for earning gold or clearing creeps quickly, but channeling the blast can leave you vulnerable. "set MZ4[i]="Mana Leak gives you the offensive: an enemy that moves loses his resources to cast spells, but if he does not, you can punish him with spells and attacks."set MA4[i]="When in your Spirit Form, use Blinding Light to push enemies aside, and Recall for saving or calling on the assistance of an ally."set MB4[i]="Keeper of the Light usually needs to stay back in fights and make use of the long range of his spells as a support hero when pushing and defending."set i=i+1set ME4[17]='Huth'set MW4[17]='h04F'set MF4[17]='n09V'set MV4[17]="ReplaceableTextures\\CommandButtons\\BTNFurbolgTracker.blp"call V97(ME4[17],"attack spell")call U_7(ME4[17],1.2,MW4[17])set MX4[i]="Get Fury Swipes and Overpower early. Fury Swipes is a very powerful orb effect on Ursa, replacing it with another is not advised."set MY4[i]="Ursa is a very effective hero to fight neutral creeps with: Vladimir's Offering is a recommended item choice."set MZ4[i]="Thanks to Enrage, Ursa usually purchases items that increase HP or Strength over Agility and Damage items."set MA4[i]="It is a good idea to fight the two ancient camps when you need a quick boost in experience and gold. They are marked red in your minimap."set MB4[i]="Certain items like Kelen's Dagger and Lothar's Edge will help both close the distance on enemies and take them by surprise."set i=i+1set ME4[18]='Hmkg'set MW4[18]='h04G'set MF4[18]='n0A1'set MV4[18]="ReplaceableTextures\\CommandButtons\\BTNOgreMagi.blp"call V97(ME4[18],"sleep")call U_7(ME4[18],1.4,MW4[18])set MX4[i]="Buying a few Clarity Potions, Ring of Basilius or Bottle in the beginning of the game will help you cast a few more spells."set MY4[i]="Fireblast provides a disable, Ignite provides a slow. Both deal damage, usually making them good skills early."set MZ4[i]="Ogre Magi has a lot of survivability but he does need the ability to use his spells: an Arcane Ring might be the only item you will need all game."set MA4[i]="Use Bloodlust to help teammates chase and escape enemies and on the hero capable of dealing the most damage before major battles."set MB4[i]="Focus heroes that need to be shut down quickly with Fireblast: Hopefully they are repeatedly damaged and disabled by the effect of Multicast."set i=i+1set ME4[19]='Ntin'set MW4[19]='h04H'set MF4[19]='n0AA'set MV4[19]="ReplaceableTextures\\CommandButtons\\BTNHeroTinker.blp"call V97(ME4[19],"stand 2")call U_7(ME4[19],1,MW4[19])set MX4[i]="Laser and Missile give Tinker massive burst damage, so it is usually a good idea to get these two skills before Rearm, your ultimate."set MY4[i]="Laser is not reduced by magic resistance or armor; you deal the number in the description exactly."set MZ4[i]="You can use the active effects of items indefinitely with Rearm, which makes Boots of Travel a very powerful item for Tinker."set MA4[i]="March of the Machines can be very useful for killing creeps quickly, its large area of effect makes it useful for pushing and team fights."set MB4[i]="Level 1 of Rearm is generally enough until much later when you have the mana pool to support levels 2 and 3."set i=i+1set ME4[20]='Emns'set MW4[20]='h04I'set MF4[20]='n0A4'set MV4[20]="ReplaceableTextures\\CommandButtons\\BTNFurion.blp"call V97(ME4[20],"spell")call U_7(ME4[20],1.2,MW4[20])set MX4[i]="Get Force of Nature early if you plan on leaving the lane to kill neutral creeps. Start with a Ring of Basilius to provide you with mana and armor."set MY4[i]="Invest points in Teleportation, it gives you the mobility to be anywhere in the map: Cancel the spell if you change your mind by clicking 'S'."set MZ4[i]="Sprout can be extremely useful offensively and defensively so get at least one point in it. Higher levels increase the duration but also the mana cost."set MA4[i]="Teleportation shows allies and enemies where you intend to go, so if you want to surprise enemies, teleport where they cannot see."set MB4[i]="Wrath of Nature is a great farming tool but also a powerful nuke on enemy heroes: Hit other units nearby to deal more damage to the intended target."set i=i+1set ME4[21]='Ogrh'set MW4[21]='h04J'set MF4[21]='n0A3'set MV4[21]="ReplaceableTextures\\CommandButtons\\BTNHellScream.blp"call V97(ME4[21],"stand victory")call U_7(ME4[21],1,MW4[21])set MX4[i]="Get Spirit Lance and Doppelwalk first because Juxtapose is better when your illusions have more health and damage."set MY4[i]="Beware of the high mana costs of your spells early game, especially for Doppelwalk, which can be an escape mechanism."set MZ4[i]="Keep your opponents guessing by controlling your illusions created by Doppelwalk and Juxtapose."set MA4[i]="Your illusions are amazing for pushing later on. Focus creeps and heroes first because illusions will not create new ones when attacking buildings."set MB4[i]="Diffusal Blade and Manta Style are good choices of because they make his images much stronger by adding Agility directly."set i=i+1set ME4[22]='Ucrl'set MW4[22]='h04K'set MF4[22]='n0A7'set MV4[22]="ReplaceableTextures\\CommandButtons\\BTNMountainGiant.blp"call V97(ME4[22],"spell")call U_7(ME4[22],0.5,MW4[22])set MX4[i]="Buy items that give you at least 3 Intelligence or 39 mana in the beginning of the game so that you can use both of your spells at level 2."set MY4[i]="Avalanche and Toss should be the two spells you level first because they make you a force to be reckoned with early game."set MZ4[i]="You can sometimes kill a hero outright by casting Avalanche on him, and then Tossing him on the Avalanche area of effect before the animation ends."set MA4[i]="To ensure that you Toss your desired target, isolate him by making him the only one in the area of effect. Kelen's Dagger can help you with placement."set MB4[i]="Tiny deals most of his damage through Avalanche and Toss, so the reduced attack speed from Grow is less important than the bonuses given."set i=i+1set ME4[23]='H00K'set MW4[23]='h04L'set MF4[23]='n0A9'set MV4[23]="ReplaceableTextures\\CommandButtons\\BTNGoblinSapper.blp"call V97(ME4[23],"stand 2")call U_7(ME4[23],1,MW4[23])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[24]='H00A'set MW4[24]='h04M'set MF4[24]='n0AB'set MV4[24]="ReplaceableTextures\\CommandButtons\\BTNHeroFarseer.blp"call V97(ME4[24],"spell chain lightning")call U_7(ME4[24],1,MW4[24])set MX4[i]="Chen can take control of high level neutral creeps with Holy Persuasion, making him extremely powerful at low levels even without items."set MY4[i]="Neutrals with special abilities usually are more useful, try to find out what has a disable or slow as this will be much better for attacking heroes with."set MZ4[i]="When preparing to attack from the forest, start with Penitence to slow enemies. Engage enemies from the side or from behind to catch them off guard."set MA4[i]="Chen excels as a support hero, items that contribute to teammates such as Mekansm usually benefit the team more than damage items."set MB4[i]="Hand of God is really useful early on for helping allies across the map. Later, it can be used to assist with pushing or defending."set i=i+1set ME4[25]='E005'set MW4[25]='h04N'set MF4[25]='n0BE'set MV4[25]="ReplaceableTextures\\CommandButtons\\BTNHuntress.blp"call V97(ME4[25],"spell")call U_7(ME4[25],1,MW4[25])set MX4[i]="The level of Lucent Beam determines the damage of Eclipse, making it the most important spell to get first. "set MY4[i]="Moon Glaives can be useful early if you plan to kill neutral creeps. Lifesteal items like Helm of the Dominator can help you survive against neutral creeps."set MZ4[i]="Try to cast Eclipse on enemy heroes when other units are not present to maximize the damage dealt to a single target. "set MA4[i]="Later on with some attack speed, Lunar Blessing and Moon Glaives provide you with both massive damage and pushing power."set MB4[i]="You should also consider items that allow you to land Eclipse successfully and increase your carry potential in battles, such as a Black King Bar."set i=i+1set ME4[26]='Usyl'set MW4[26]='h04O'set MF4[26]='n0BD'set MV4[26]="ReplaceableTextures\\CommandButtons\\BTNRifleman.blp"call V97(ME4[26],"spell")call U_7(ME4[26],1.1,MW4[26])set MX4[i]="Headshot will provide you with bonus damage and a short stun, making it useful for killing creeps and harassing with his incredible attack animation."set MY4[i]="Sniper usually needs to find a combination of damage, attack speed and survivability that allow him to deal significant damage but survive to do so."set MZ4[i]="Sniper is very fragile so he needs to maintain his range. Getting Take Aim and/or Shrapnel can help provide means of staying out of harm's way."set MA4[i]="Shrapenl can also be used for slowing opponents, pushing or defending against large waves of creeps."set MB4[i]="Try to use Assassinate to heavily damage an enemy before the fight even begins to give your team an advantage."set i=i+1set ME4[27]='N016'set MW4[27]='h04P'set MF4[27]='n0A8'set MV4[27]="ReplaceableTextures\\CommandButtons\\BTNForestTroll.blp"call V97(ME4[27],"stand 3")call U_7(ME4[27],1.25,MW4[27])call U_7('N02B',1.25,MW4[27])call U_7('N017',1.25,MW4[27])set MX4[i]="Berserker's Rage gives Troll the option of melee combat, which gives him many powerful offensive bonuses at the cost of losing his ranged ability."set MY4[i]="roll Warlord generally does not have to worry about attack speed thanks to his set of skills, go for damage or survivability items instead."set MZ4[i]="Blind will prevent your opponents from landing all their attacks, making it harder from them to harass you or kill your creeps for gold."set MA4[i]="Play defensively and fight neutral creeps too. Switch to melee form and it will allow you to have an easier time."set MB4[i]="In team battles, it is vital that you cast Blind on the enemy hero that deals the most damage as this will greatly reduce their damage output."set i=i+1set ME4[28]='Orkn'set MW4[28]='h057'set MF4[28]='n094'set MV4[28]="ReplaceableTextures\\CommandButtons\\BTNShadowHunter.blp"call V97(ME4[28],"stand victory")call U_7(ME4[28],1,MW4[28])set MX4[i]="At least one level of Shackles is advised early on for immobilizing opponents. Remember that it is channeling so it can be interrupted or broken by yourself."set MY4[i]="Rhasta needs survivability and the mana to use his spells: Bracers, Null Talismans, Point Booster are examples of items that will help out a lot."set MZ4[i]="Forked Lightning is your primary nuke and finisher due to its range and ability to hit multiple targets, so it more effective to get it earlier than later."set MA4[i]="Use Shackles and Voodoo on enemy heroes when casting Mass Serpent Ward. You can even surround an enemy completely with the right timing."set MB4[i]="Mass Serpent Wards can clear creeps quickly and deal a lot of damage over time to buildings, making them really useful for pushing and defending."set i=i+1set ME4[29]='O01F'set MW4[29]='h0CI'set MF4[29]='n0KS'set MV4[29]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"call V97(ME4[29],"stand 3")call U_7(ME4[29],1.30,MW4[29])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[30]='Npbm'set MW4[30]='h053'set MF4[30]='n0AO'set MV4[30]="ReplaceableTextures\\CommandButtons\\BTNPandarenBrewmaster.blp"call V97(ME4[30],"stand ready")call U_7(ME4[30],1,MW4[30])set MX4[i]="Thunder Clap is a great skill early game but you may need to invest in regeneration items such as a Bottle, Magic Stick, Ring of Basilius or Void Stone."set MY4[i]="Drunken Haze works not only as a slow, but the miss chance reduces the damage severely for enemy heroes."set MZ4[i]="Primal Split is not only for escaping: Once you master your three Pandas, Earth, Storm and Fire, you can use them offensively as well."set MA4[i]="In Primal Split form, Mangix has two useful disables that can be used against enemies: Storm's Cyclone and Earth's Hurl Boulder."set MB4[i]="Mangix usually initiates for the team, so survivability items are helpful, investing in a Kelen's Dagger to help land Thunder Clap is often a good idea."set i=i+1set ME4[31]='H000'set MW4[31]='h04X'set MF4[31]='n0AN'set MV4[31]="ReplaceableTextures\\CommandButtons\\BTNCentaurKhan.blp"call V97(ME4[31],"stand 3")call U_7(ME4[31],1.75,MW4[31])set MX4[i]="Return should be leveled if Centaur plans to fight neutral creeps, otherwise Double Edge is more useful in the lane."set MY4[i]="Thanks to a high strength gain and the bonus strength from your ultimate, Centaur is a great at heading into battle first and receiving damage."set MZ4[i]="A Hood of Defiance can prove to be just as useful as a Vanguard depending on whether the other team has a lot of magical spells."set MA4[i]="Avoid putting yourself at risk after using Double Edge. You can use it to commit suicide if you are about to die to deny opponents experience and gold."set MB4[i]="Kelen's Dagger is a great way of initiating on opponents and dealing with his slow casting animation of Stomp."set i=i+1set ME4[32]='Naka'set MW4[32]='h052'set MF4[32]='n0AM'set MV4[32]="ReplaceableTextures\\CommandButtons\\BTNakama.blp"call V97(ME4[32],"stand var4")call U_7(ME4[32],1.2,MW4[32])set MX4[i]="Shuriken Toss, Wind Walk and Track are much more useful than Jinada early on."set MY4[i]="You're going to need mana regen: Bottle, Ring Of Basillius and Void Stone are examples of good options. "set MZ4[i]="Use Wind Walk cautiously: If you wait until the cooldown is complete before breaking out of invisibility, you can cast it again immediately afterward."set MA4[i]="Shuriken Toss and Wind Walk deal a lot of damage quickly: Search the map often for low HP heroes to hunt. "set MB4[i]="Use Track on a nearby enemy hero to allow you and your allies to outrun them. Also cast it on nearly dead heroes for bonus gold."set i=i+1set ME4[33]='Hlgr'set MW4[33]='h04V'set MF4[33]='n0AQ'set MV4[33]="ReplaceableTextures\\CommandButtons\\BTNTheCaptain.blp"call V97(ME4[33],"stand victory")call U_7(ME4[33],1.35,MW4[33])call U_7('H00F',1,MW4[33])call U_7('H00G',1,MW4[33])call U_7('H00E',1,MW4[33])call TZ7('H00G',255,255,200)call TZ7('H00F',255,255,200)call TZ7('H00G',255,200,200)set MX4[i]="Breath Fire is a strong nuke and farming ability. However, against difficult opponents, Dragon's Blood is very useful."set MY4[i]="Dragon Tail is the longest duration level 1 stun in the game. One point is usually sufficient until later on."set MZ4[i]="Thanks to the defensive bonuses on Dragon's Blood, he can often focus on other damage items instead of increasing armor and regeneration."set MA4[i]="Level 1 of Elder Dragon Form has a special passive called Corrosive Attack, which deals significant damage over time against towers."set MB4[i]="The ranged splash damage and slow of his Level 3 ultimate makes him extremely powerful; getting to level 16 is very important for DK."set i=i+1set ME4[34]='Edem'set MW4[34]='h04T'set MF4[34]='n0AR'set MV4[34]="ReplaceableTextures\\CommandButtons\\BTNHeroDemonHunter.blp"call V97(ME4[34],"stand channel")call U_7(ME4[34],1,MW4[34])set MX4[i]="Blink is very versatile, allowing you to chase, escape and even avoid certain spells. It is definitely worth at least one point in the beginning."set MY4[i]="You can also use Mana Break to prevent enemy heroes from casting spells on you, but be careful since it forces you to get in melee range to attack."set MZ4[i]="Spell Shield might be useful for reducing magic damage, but it does not prevent you from being disabled or status effects (slow, poison, etc.)."set MA4[i]="Offensive items without orb effects such as a Battlefury, Monkey King Bar or Butterfly are usually desired over items that would override your Mana Break."set MB4[i]="Sometimes survivability is just as important as damage, items such as Linken's Sphere or Manta Style offer a good mix of both offense and defense."set i=i+1set ME4[35]='Nbrn'set MW4[35]='h055'set MF4[35]='n0AL'set MV4[35]="ReplaceableTextures\\CommandButtons\\BTNBansheeRanger.tga"call V97(ME4[35],"spell")call U_7(ME4[35],1,MW4[35])set MX4[i]="Frost Arrows make Drow an excellent chaser early game and allow her to harass opponents safely by manually casting them (clicking 'R' and the target)."set MY4[i]="An early level of Silence is great for preventing opponents from using multiple spells on you or your allies."set MZ4[i]="Trueshot Aura and Marksmanship provide Traxex with plenty of damage even with just a few Wraith Bands and Power Treads."set MA4[i]="Lothar's Edge provides damage and an escape mechanism, the latter of which can help Traxex survive."set MB4[i]="Stay out of danger in major battles, only close in on your enemies when you are chasing and finishing off heroes near the end."set i=i+1set ME4[36]='Harf'set MW4[36]='h04Z'set MF4[36]='n0AS'set MV4[36]="ReplaceableTextures\\CommandButtons\\BTNArthas.blp"call V97(ME4[36],"stand victory")call U_7(ME4[36],1.1,MW4[36])set MX4[i]="Omniknight is a powerful support hero, items that provide mana such as Arcane Ring help make sure that you can use all your spells."set MY4[i]="Purification can be used offensively and defensively: The unit you cast it on will deal damage around it, making it a powerful heal and nuke."set MZ4[i]="Degen Aura is a very strong passive slow that is useful both to chase down enemy heroes and help you and your allies escape as well."set MA4[i]="Repel is used to remove buffs from allies and enemies, and to prevent heroes with spells from being interrupted or damage dealers from being disabled."set MB4[i]="Guardian Angel makes a team nearly impervious to physical damage and provides 25/sec HP regeneration, use this time wisely to survive or attack."set i=i+1set ME4[37]='H00D'set MW4[37]='h04S'set MF4[37]='n0AK'set MV4[37]="ReplaceableTextures\\CommandButtons\\BTNBeastMaster.blp"call V97(ME4[37],"spell slam")call U_7(ME4[37],1,MW4[37])set MX4[i]="Endurance Aura is usually more useful later in the game when your team is fighting together, so get your other skills first."set MY4[i]="Call of the Wild is very powerful: The boar gives damage and slow, while the hawk can provide vision over runes, neutral creeps and other key locations."set MZ4[i]="Wild Axes are more useful early game and against heroes with less armor. Destroy trees with Wild Axes to surprise your opponents and for escaping."set MA4[i]="Try casting Wild Axes behind the target to compensate for their movement. You can also manipulate their return path by moving Rexxar."set MB4[i]="Find opportunities to use Roar whenever it is available. It is useful on heroes who have an escape mechanism or are immune to magic."set i=i+1set ME4[38]='E00P'set MW4[38]='h04R'set MF4[38]='n0AJ'set MV4[38]="ReplaceableTextures\\CommandButtons\\BTNChimaera.blp"call V97(ME4[38],"stand 3")call U_7(ME4[38],1,MW4[38])set MX4[i]="Dual Breath and Ice Path help to make Jakiro a strong offensive and defensive support hero. "set MY4[i]="Jakiro can cast his spells immediately by clicking the nearby ground in the desired direction, sometimes this is more effective than clicking on the target."set MZ4[i]="A level of Liquid Fire early on can be useful for deterring physical attacks "set MA4[i]="Macropyre is a slow but powerful spell, combine it with other spells (yours or a teammate) to make sure the opponent is standing in the area of effect."set MB4[i]="It is often a good idea to purchase useful support items like Mekansm or Shiva's Guard, two items that also increase his low armor significantly."set i=i+1set ME4[39]='N01I'set MW4[39]='h054'set MF4[39]='n0AI'set MV4[39]="ReplaceableTextures\\CommandButtons\\BTNHeroAlchemist.blp"call V97(ME4[39],"stand 2")call U_7(ME4[39],1,MW4[39])call U_7('N01J',1,MW4[39])call U_7('N01H',1,MW4[39])call U_7('N01T',1,MW4[39])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[40]='N01V'set MW4[40]='h04W'set MF4[40]='n0AH'set MV4[40]="ReplaceableTextures\\CommandButtons\\BTNPriestessOfTheMoon.blp"call V97(ME4[40],"stand ready")call U_7(ME4[40],1,MW4[40])set MX4[i]="PotM can be extremely efficient and gank with just a few Wraith Bands, Boots of Speed and a Bottle."set MY4[i]="Getting one level of Leap is usually sufficient early on until Starfall and Elune's Arrow are fully leveled."set MZ4[i]="Land your Elune's Arrow by coordinating with allies and predicting enemy movements. You can even hit invisible or faraway targets with practice."set MA4[i]="Starfall hits a second time for half damage to one random enemy within 200 range, get close if you can to deal bonus damage"set MB4[i]="Moonlight Shadow can be used to initiate or escape but sometimes it can be learned later when PotM can use it without compromising her mana pool."set i=i+1set ME4[41]='H00S'set MW4[41]='h04Q'set MF4[41]='n0AT'set MV4[41]="ReplaceableTextures\\CommandButtons\\BTNStorm.blp"call V97(ME4[41],"spell")call U_7(ME4[41],1,MW4[41])set MX4[i]="Do not get Overload at level 1 since you do not have any spells to activate its effect with."set MY4[i]="Choosing which ability to max first can be difficult, but generally at least one point in all three skills is a good idea."set MZ4[i]="You have to wait 1 second after casting Static Remnant before it begins detecting nearby units for its explosion effect."set MA4[i]="In addition to chasing and escaping, Lightning Ball can be used to dodge many spells with the right timing."set MB4[i]="An item like Bloodstone is useful on Storm Spirit because the percentage-based mana cost of Lightning Ball makes regeneration an important asset."set i=i+1set ME4[42]='H00Q'set MW4[42]='h04Y'set MF4[42]='n0AG'set MV4[42]="ReplaceableTextures\\CommandButtons\\BTNHeadHunterBerserker.blp"call V97(ME4[42],"stand alternate 3")call U_7(ME4[42],1.15,MW4[42])set MX4[i]="A level of Burning Spears early on is great for harassing enemy heroes. Use it manually by clicking 'R' then the desired target to avoid drawing focus fire."set MY4[i]="Berserker's Blood makes you stronger as you take damage. The bonuses stop when you have 51% HP, so there is little point in taking additional damage."set MZ4[i]="Life Break deals damage based on the remaining health of the target, making it strongest at the beginning of a fight. "set MA4[i]="Inner Vitality heals more when you have less than 40% of your life, but avoid making the mistake of casting it too late in battles."set MB4[i]="Survivability while in low health is important for Huskar: Consider items such as Armlet of Mordiggan, Black King Bar, or Heart of Tarrasque."set i=i+1set ME4[43]='E01Y'set MW4[43]='h058'set MF4[43]='n0AF'set MV4[43]="ReplaceableTextures\\CommandButtons\\BTNAssassin.blp"call V97(ME4[43],"stand victory")call U_7(ME4[43],1.2,MW4[43])set MX4[i]="Refraction is a great way of surviving in a lane, just be careful not to get hit by creeps too much."set MY4[i]="Meld starts cooling down when you click the spell, so you can hit him twice with it if you can predict your enemy's movements."set MZ4[i]="Traps can be used for vision, most effectively in cramped areas like the end of ramps or at the rune powerup spots."set MA4[i]="You can farm extremely fast by positioning yourself so that the Psi Blades splash on multiple creeps at once."set MB4[i]="Placing a trap or two before engaging a fight can be a good idea, to cut off possible escape and/or chase routes."set i=i+1set ME4[44]='N00B'set MW4[44]='h050'set MF4[44]='n0AE'set MV4[44]="ReplaceableTextures\\CommandButtons\\BTNFaerieDragon.blp"call V97(ME4[44],"attack spell")call U_7(ME4[44],1.1,MW4[44])set MX4[i]="Illusory Orb and Jaunt are used to travel short distances quickly, but if you wait too long to Jaunt, you will lose the opportunity."set MY4[i]="Puck is very fragile early game, some Bracers or Null Talismans and a level of Phase Shift can help you survive."set MZ4[i]="Using Phase Shift manually instead of Autocast will prevent stray attacks from triggering it on Autocast. In general you will have better control of its use."set MA4[i]="Waning Rift deals damage and silences, but forces you to be close enough. Use Illusory Orb or Dream Coil to help you land the spell on enemies."set MB4[i]="Puck is a great initiator in fights who offers control of the battle with his spells, allowing allies to join the battle and use their spells or attacks safely."set i=i+1set ME4[45]='H00T'set MW4[45]='h051'set MF4[45]='n0AU'set MV4[45]="ReplaceableTextures\\CommandButtons\\BTNClockWerkGoblin.blp"call V97(ME4[45],"Birth")call U_7(ME4[45],1.5,MW4[45])set MX4[i]="You can use Rocket Flare for harassing and killing creeps early on. With the right timing, you can even fire at enemies across the map."set MY4[i]="Power Cogs can be used to trap an enemy, push them away while draining mana, or as an escape mechanism since Rattletrap destroys Cogs in only 1 hit."set MZ4[i]="Battery Assault adds a lot of damage and the stuns help you with chasing, use it when no other units are nearby for best results."set MA4[i]="Hookshot's long range and high speed lets you reach enemies from out of sight. Follow up with your other spells quickly so your target cannot escape."set MB4[i]="Rocket Flare also gives vision where it lands, making it very useful for scouting areas such as rune spots, neutral creeps, the enemy base."set i=i+1set ME4[46]='H06S'set MW4[46]='h06T'set MF4[46]='n0EE'set MV4[46]="ReplaceableTextures\\CommandButtons\\BTNProudmoore.blp"call V97(ME4[46],"stand victory")call U_7(ME4[46],1.1,MW4[46])set MX4[i]="Tidebringer is extremely useful early game: Use the bonus damage for killing creeps and the cleave effect to harass opponents at the same time."set MY4[i]="The bubble animation from Torrent can only be seen by your team so try to use this to your advantage."set MZ4[i]="An ally's assistance or X Marks the Spot is a great way of making sure Torrent and Ghost Ship hit your opponent."set MA4[i]="Escaping enemy heroes is easy by casting X Marks the Spot on them. It also prevents them from getting away."set MB4[i]="The Ghost Ship will crash 1000 range from where you stand when you cast it. Keep your distance when you use it."set i=i+1set ME4[47]='N0EG'set MW4[47]='h07A'set MF4[47]='n0EH'set MV4[47]="ReplaceableTextures\\CommandButtons\\BTNSylvanusWindrunner.blp"call V97(ME4[47],"stand victory")call U_7(ME4[47],1.2,MW4[47])set MX4[i]="Powershot deals significant damage, making it ideal to max first. Be sure not to fire through creeps if you want to deal maximum damage to your target."set MY4[i]="An early level of Windrunner can provide you with a quick getaway and chasing tool."set MZ4[i]="Shackleshot can either be used on your intended target to bind him to a nearby unit, or to bind the designated target located BEHIND the unit that you fired it at."set MA4[i]="Focus Fire is also a powerful spell to use on buildings and Roshan."set MB4[i]="As long as you do not attack another target, the effect of Focus Fire will stay on. Use your spells and active items to help you fire at your target."set i=i+1set ME4[48]='E02N'set MW4[48]='h0CC'set MF4[48]='n0KN'set MV4[48]="ReplaceableTextures\\CommandButtons\\BTNFlyingMachine.blp"call V97(ME4[48],"stand 3")call U_7(ME4[48],1.10,MW4[48])call U_7('E02O',1.10,MW4[48])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[49]='E02J'set MW4[49]='h0CD'set MF4[49]='n0KR'set MV4[49]="ReplaceableTextures\\CommandButtons\\BTNThrall.blp"call V97(ME4[49],"stand 3")call U_7(ME4[49],1.10,MW4[49])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[50]='E02I'set MW4[50]='h0C9'set MF4[50]='n0KK'set MV4[50]="ReplaceableTextures\\CommandButtons\\BTNTuskaarBrown.blp"call V97(ME4[50],"stand 3")call U_7(ME4[50],1.00,MW4[50])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[51]='E02F'set MW4[51]='h0C8'set MF4[51]='n0KM'set MV4[51]="ReplaceableTextures\\CommandButtons\\BTNPhoenix.blp"call V97(ME4[51],"stand 3")call U_7(ME4[51],1.05,MW4[51])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[52]='H008'set MW4[52]='h04U'set MF4[52]='n0AC'set MV4[52]="ReplaceableTextures\\CommandButtons\\BTNRazorback.blp"call V97(ME4[52],"stand")call U_7(ME4[52],1.65,MW4[52])set MX4[i]="Rigwarl is a known for punishing heroes that attack him and surviving for long times but he still needs armor, regeneration and hit points."set MY4[i]="Quill spray doesn't initially deal much damage, but the stacking effect makes it very powerful over time in battles."set MZ4[i]="Sometimes one level of Goo can be enough to slow down an enemy hero early game."set MA4[i]="Rigwarl needs a fair amount of mana early-game, Ring of Basilius, Magic Stick or Bottle can boost his early offensive power immensely."set MB4[i]="You can mitigate a lot of damage if you turn your hero at the right times thanks to your passive Bristleback. Play mind games on your opponent."set i=i+1set ME4[53]='E02X'set MW4[53]='h0CT'set MF4[53]='n0LK'set MV4[53]="ReplaceableTextures\\CommandButtons\\BTNMedivh.blp"call V97(ME4[53],"stand 3")call U_7(ME4[53],1.15,MW4[53])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[54]='N0M0'set MW4[54]='h0DG'set MF4[54]='n0M1'set MV4[54]="ReplaceableTextures\\CommandButtons\\BTNFireBrewmaster.blp"call V97(ME4[54],"stand 3")call U_7(ME4[54],1,MW4[54])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[55]='E02K'set MW4[55]='h0CA'set MF4[55]='n0KJ'set MV4[55]="ReplaceableTextures\\CommandButtons\\BTNGarithos.blp"call V97(ME4[55],"stand 3")call U_7(ME4[55],1.3,MW4[55])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[56]='H0DO'set MW4[56]='h0DH'set MF4[56]='n0M6'set MV4[56]="ReplaceableTextures\\CommandButtons\\BTNDragonHawk.blp"call V97(ME4[56],"stand 3")call U_7(ME4[56],1.1,MW4[56])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[57]='E032'set MW4[57]='h0EB'set MF4[57]='n0ME'set MV4[57]="ReplaceableTextures\\CommandButtons\\BTNJunkGolem.blp"call V97(ME4[57],"stand 3")call U_7(ME4[57],1,MW4[57])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set MH4=57set i=58set MI4=58set ME4[58]='U008'set MW4[58]='h05H'set MF4[58]='n0B3'set MV4[58]="ReplaceableTextures\\CommandButtons\\BTNKiljaedin.blp"call V97(ME4[58],"spell")call U_7(ME4[58],1.2,MW4[58])call U_7('E015',1,MW4[58])call TZ7(ME4[58],255,75,255)set MX4[i]="If you want to neutral creeps, start with Summon Wolves and a Ring of Basilius, which can be used to make Vladmir's Offering later."set MY4[i]="Spirit Wolves gain invisibility at level 4, making them difficult to kill and easy to harass heroes with in the lane."set MZ4[i]="Feral Heart make you and your wolves stronger overall, while Howl is an offensive spell used before engaging the enemy."set MA4[i]="Shapeshift makes you incredibly powerful and gives you max movement speed. Avoid being blocked by your wolves when chasing."set MB4[i]="A Black King Bar will prevent enemies from disabling you, making you very fearsome and almost unstoppable when attacking heroes."set i=i+1set ME4[59]='U006'set MW4[59]='h05I'set MF4[59]='n0B4'set MV4[59]="ReplaceableTextures\\CommandButtons\\BTNSpiderBlack.blp"call V97(ME4[59],"walk")call U_7(ME4[59],1.36,MW4[59])set MX4[i]="At least one level in Spin Web early game will increase your survivability greatly. Remember that attacking/using spells will cause you to break invisibility."set MY4[i]="Spawn Spiderlings is both a nuke and pushing spell, so getting items like a Ring of Basilius will provide you with both mana and armor for pushing."set MZ4[i]="Incapacitating Bite makes it very difficult for enemies to get away from you, great for chasing and slowing opponents temporarily for your allies."set MA4[i]="Try to space out your webs with least 2 seconds of walking distance so that you can benefit from its bonuses on as much ground as possible."set MB4[i]="With the damage and lifesteal from Insatiable Hunger, sometimes it is best to get items that will prevent you from being disabled, such as a Black King Bar."set i=i+1set ME4[60]='Ewar'set MW4[60]='h05J'set MF4[60]='n0B5'set MV4[60]="ReplaceableTextures\\CommandButtons\\BTNHeroWarden.blp"call V97(ME4[60],"spell slam")call U_7(ME4[60],1,MW4[60])set MX4[i]="Stifling Dagger is used for creep-killing and slowing opponents; prevent enemies from escaping by using it with Blink Strike."set MY4[i]="Try to Blink Strike to a nearby allied or enemy unit to make a quick escape when caught in a defensive situation. "set MZ4[i]="Be cautious when entering battles with Blink Strike, you could be caught outnumbered or disabled without your escape mechanism."set MA4[i]="Blur can sometimes allow you to surprise opponents if they aren't paying attention."set MB4[i]="Items like Battlefury are useful, but getting a Black King Bar or a Satanic afterward will help you survive long enough to deal damage."set i=i+1set ME4[61]='H00V'set MW4[61]='h05K'set MF4[61]='n0B6'set MV4[61]="ReplaceableTextures\\CommandButtons\\BTNNagaSeaWitch.blp"call V97(ME4[61],"stand ready")call U_7(ME4[61],1,MW4[61])call U_7('H08D',1,MW4[61])call U_7('H08C',1,MW4[61])call U_7('H084',1,MW4[61])call U_7('H08B',1,MW4[61])set MX4[i]="Mystic Snake is a smart choice to have early game: Its damage and mana drain makes it great for harassing and offsetting its own mana cost."set MY4[i]="Mana Shield will increase your survivability drastically. Use it wisely or it can also leave you with no mana for your other spells."set MZ4[i]="Using Split Shot allows you to attack multiple units, but the extra arrows from Split Shot do not gain the properties of orb effects."set MA4[i]="Stone Gaze is an ultimate that is used to slow opponents and remove their buffs, making it easy to escape or attack the purged enemies."set MB4[i]="Items that increase statistics and regeneration like Linkens Sphere will always be a good choice because of Mana Shield."set i=i+1set ME4[62]='Udre'set MW4[62]='h05L'set MF4[62]='n0B7'set MV4[62]="ReplaceableTextures\\CommandButtons\\BTNTichondrius.blp"call V97(ME4[62],"spell slam")call U_7(ME4[62],1,MW4[62])set MX4[i]="Night Stalker may be passive during the day, but at night his spells make him much more powerful and great for hunting heroes down."set MY4[i]="Void is your primary source of damage early game and can be used to interrupt spells and teleports with its mini-stun."set MZ4[i]="While Hunter in the Night does nothing during the day, get it so that during nighttime it will give you massive movement and attack speed."set MA4[i]="Use Crippling Fear when you are hunting heroes so that they cannot disable or slow you while you are chasing them."set MB4[i]="Since Darkness will pause time when activated, casting it at night whenever it is on cooldown will extend the total nighttime."set i=i+1set ME4[63]='NC00'set MW4[63]='h05M'set MF4[63]='n0C0'set MV4[63]="ReplaceableTextures\\CommandButtons\\BTNSkeletonArcher.tga"call V97(ME4[63],"stand victory")call U_7(ME4[63],1.8,MW4[63])call TZ7(ME4[63],100,125,100)set MX4[i]="Skeleton King is a hero who is known for his ability to reincarnate if focused upon and dealing a lot of damage if he is ignored by opponents. "set MY4[i]="Hellfire Blast is a great spell for the early laning phase and a few levels of Attribute Bonus can give you stat points for additional stuns."set MZ4[i]="Critical Strike is generally preferred over Vampiric Aura because its lifesteal is not very effective earlier when Leoric needs more damage."set MA4[i]="Make sure you have enough mana for Hellfire Blasts and especially Reincarnation. Buying a Magic Stick and/or a Bottle can pay off nicely."set MB4[i]="Get cheaper damage items like Armlet of Mordiggan and Desolator. A Black King Bar will allow you to dish out damage without being disabled."set i=i+1set ME4[64]='UC42'set MW4[64]='h05N'set MF4[64]='n0BV'set MV4[64]="ReplaceableTextures\\CommandButtons\\BTNDoomGuard.blp"call V97(ME4[64],"stand victory")call U_7(ME4[64],1.1,MW4[64])set MX4[i]="Lucifer can obtain gold very quickly thanks to Devour, so getting regeneration items like Perseverance will help him to cast spells and survive in the lane."set MY4[i]="Devour deals 20 damage per second, so consume creeps with low HP remaining so you can finish digesting the enemy quickly."set MZ4[i]="Use the command -iObsScoreInt1 to find your opponents' level for potential LVL? Death targets. Its mini-stun will also interrupt channeling spells and teleports."set MA4[i]="Doom is usually used in conjunction with LVL? Death for killing enemy heroes; you can also use it on heroes to silence their spells."set MB4[i]="When chasing or escaping with Scorched Earth, cast it in front of you so that you will experience the movement speed bonuses for a longer period of time."set i=i+1set ME4[65]='U000'set MW4[65]='h05O'set MF4[65]='n0BU'set MV4[65]="ReplaceableTextures\\CommandButtons\\BTNHeroCryptLord.tga"call V97(ME4[65],"spell throw")call U_7(ME4[65],0.8,MW4[65])set MX4[i]="Effective use of Impale and Mana Burn early game requires you to purchase some Null Talismans or Bracers and Bottle."set MY4[i]="Mana Burn is a devastating spell to have in the lane, force opponents to play defensively by preventing them from casting spells."set MZ4[i]="Unlike other Agility heroes, Anub'arak is a caster. Getting items like Dagon can be more useful than purchasing damage items."set MA4[i]="Vendetta is a good initiating spell for surprising opponents. Cast it far away so that they cannot hear its sound effect upon activation."set MB4[i]="Be careful when using Vendetta against multiple opponents and going near towers where they can see you while you are invisible."set i=i+1set ME4[66]='UC91'set MW4[66]='h05P'set MF4[66]='n0C1'set MV4[66]="ReplaceableTextures\\CommandButtons\\BTNNagaMyrmidon.tga"call V97(ME4[66],"spell")call U_7(ME4[66],1,MW4[66])call TZ7(ME4[66],175,75,200)set MX4[i]="Slithereen Crush requires good positioning, so do your best to stand next to the hero you are trying to stun."set MY4[i]="Sprint is a great spell for both chasing and escaping but be careful when using it because you will take bonus damage."set MZ4[i]="In addition to lowering armor, Amplify Damage provides vision of enemies, even heroes that have the ability to become invisible."set MA4[i]="Bash is usually more effective later in the game when you have more items like Armlet of Mordiggan."set MB4[i]="Slardar's role in battles is to initiate with Slithereen Crush and focus an enemy with Bash and Amplify Damage. Pick off escapees with Sprint."set i=i+1set ME4[67]='UC01'set MW4[67]='h05Q'set MF4[67]='n0C2'set MV4[67]="ReplaceableTextures\\CommandButtons\\BTNBlueDemoness.tga"call V97(ME4[67],"spell slam")call U_7(ME4[67],1.3,MW4[67])set MX4[i]="Blink provides you with an escape mechanism and spell dodge but on higher levels it becomes a powerful chasing tool as well."set MY4[i]="Scream of Pain is used for killing creeps and harassing opponents, making it more useful than Shadow Strike early game."set MZ4[i]="Try to hit as many targets as possible with Sonic Wave by targeting the ground instead of on an enemy hero directly."set MA4[i]="Shadow Strike does decent damage but its primary use is for the slow it provides for chasing and outrunning opponents."set MB4[i]="Her spell reliance, mobility and survivability allows her to buy expensive Intelligence items such as a Guinsoo's Scythe of Vyse."set i=i+1set ME4[68]='E004'set MW4[68]='h05R'set MF4[68]='n0BW'set MV4[68]="ReplaceableTextures\\CommandButtons\\BTNSkeletonMage.blp"call V97(ME4[68],"stand victory")call U_7(ME4[68],1,MW4[68])set MX4[i]="Searing Arrows provide damage for last hitting creeps and harassing enemy heroes by using it manually by clicking 'R' followed by the designated target."set MY4[i]="Wind Walk is commonly used for chasing and escaping but the invisibility and movement speed can help you avoid specific spells with the right timing."set MZ4[i]="Cast Death Pact on enemy or neutral creeps instead of allied units whenever possible because it will give you the gold for killing the unit."set MA4[i]="Regeneration items like Orchid Malevolence or a Linkens Sphere will allow liberal use of his abilities in battle and help him against spellcasters and nukers."set MB4[i]="Strafe is usually gotten later, but combined with Searing Arrows, Clinkz can deal a lot of damage quickly, powerful against enemy heroes and buildings."set i=i+1set ME4[69]='EC45'set MW4[69]='h05S'set MF4[69]='n0BS'set MV4[69]="ReplaceableTextures\\CommandButtons\\BTNFacelessOne.blp"call V97(ME4[69],"spell slam")call U_7(ME4[69],1.3,MW4[69])call TZ7(ME4[69],0,255,150)set MX4[i]="Time Walk is your escaping and chasing skill, but it will allow you to avoid spells and damage since you are invulnerable during the animation."set MY4[i]="Get Backtrack early game if you need to play defensively, while Time Lock will allow you to be a little more aggressive."set MZ4[i]="Since Darkterror is so fragile, enter battles by using Time Walk and then cast Chronosphere to prevent yourself from being disabled or killed otherwise."set MA4[i]="Chronosphere affects all units that are not controlled by you, including both allies and enemies. Avoid hitting teammates or it could cost them their lives."set MB4[i]="Items such as Power Treads and Butterfly will give both damage and attack speed, which is useful if Void wants to repetitively stun with Time Lock."set i=i+1set ME4[70]='EC77'set MW4[70]='h05T'set MF4[70]='n0BR'set MV4[70]="ReplaceableTextures\\CommandButtons\\BTNNetherDragon.blp"call V97(ME4[70],"spell slam")call U_7(ME4[70],1.2,MW4[70])call TZ7(ME4[70],75,255,25)set MX4[i]="Poison Attack allows you to harass an opponent and permanently chase them thanks to a 0 cooldown starting at level 3."set MY4[i]="Prevent creeps and towers from attacking you by casting Poison Attack manually by clicking 'C' and then the designated target."set MZ4[i]="Neurotoxin will add bonus damage, useful early for getting the last hit on creeps and also for dealing damage to heroes as well."set MA4[i]="Early HP and movement speed items like Phase Boots or a Point/Vitality Booster can really make a difference."set MB4[i]="Sometimes it is wise to invest in a Lothar's Edge or Kelen's Dagger to provide you with the ability to get in and out of combat safely."set i=i+1set ME4[71]='E002'set MW4[71]='h05U'set MF4[71]='n0BY'set MV4[71]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"call V97(ME4[71],"spell")call U_7(ME4[71],1,MW4[71])set MX4[i]="Use your attack range to help gauge how far opponents need to be for Plasma Field to deal the most damage."set MY4[i]="Unstable Current will slow opponents who cast spells on you and could be useful to help prevent yourself from being killed."set MZ4[i]="Static Link is powerful if you can stay within the range of opponents - getting Unstable Current can sometimes help with that."set MA4[i]="Storm Seeker strikes the target with the lowest health, so use it after creeps have died or when chasing a solitary target."set MB4[i]="Consider increasing your HP along with damage when purchasing items."set i=i+1set ME4[72]='U00C'set MW4[72]='h05V'set MF4[72]='n0BQ'set MV4[72]="ReplaceableTextures\\CommandButtons\\BTNGhoul.blp"call V97(ME4[72],"victory")call U_7(ME4[72],1.5,MW4[72])call TZ7(ME4[72],100,100,100)set MX4[i]="Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit.Open Wounds is a powerful slow that nearly stops enemies in their tracks; it also lets you and your allies heal for attacking that unit."set MY4[i]="Feast deals percentage-based damage, which is useful against heroes with high HP and lets Naix fight neutral creeps with ease."set MZ4[i]="Rage can be used to avoid spells and to prevent opponents from disabling you while you are attacking them or trying to escape from them."set MA4[i]="Infest can be used for escaping, surprising your opponents, to neutral, or to just gain significant health quickly when necessary."set MB4[i]="Thanks to your physical damage and ability to steal life, Armlet of Mordiggan or Desolator are both solid choices for high-tier items."set i=i+1set ME4[73]='H00H'set MW4[73]='h05W'set MF4[73]='n0BT'set MV4[73]="ReplaceableTextures\\CommandButtons\\BTNPugna.BLP"call V97(ME4[73],"stand ready")call U_7(ME4[73],1,MW4[73])set MX4[i]="Nether Blast gives you an incredible skill for killing creeps, harassing heroes and pushing. Use it to score the killing blow to a tower."set MY4[i]="Decrepify can be used on opponents either to increase spell damage from you and your allies or to prevent them from attacking."set MZ4[i]="Nether Ward will drain mana and punish opponents for using spells. Just remember to cast it where opponents cannot destroy it easily."set MA4[i]="Aghanim's Scepter, Linkens Sphere and Bloodstone are examples of items that offer survivability while improving his spellcasting abilities."set MB4[i]="Life Drain deals a lot of damage unless opponents disable you or run away. With an Aghanim's Scepter, its cooldown becomes 0."set i=i+1set ME4[74]='Ofar'set MW4[74]='h05X'set MF4[74]='n0BP'set MV4[74]="ReplaceableTextures\\CommandButtons\\BTNSeaGiantGreen.blp"call V97(ME4[74],"attack slam")call U_7(ME4[74],1,MW4[74])set MX4[i]="Be sure to attack enemies slowed by Gush, the armor reduction means that your hits will deal more damage than normal."set MY4[i]="Anchor Smash is an offensive damage spell that lets you hurt multiple units, good for killing neutral creeps and useful in team battles."set MZ4[i]="Kraken Shell gives you some protection against physical damage as well as a debuff removal against certain spells."set MA4[i]="In fights, Tidehunter should be in the middle of the action drawing focus fire and dealing damage because of his skill set and high survivability."set MB4[i]="Ravage has a large area of effect but Kelen's Dagger will allow you to initiate without being disabled and use it in an optimal spot."set i=i+1set ME4[75]='Oshd'set MW4[75]='h05Y'set MF4[75]='n0BO'set MV4[75]="ReplaceableTextures\\CommandButtons\\BTNVoidWalker.blp"call V97(ME4[75],"spell")call U_7(ME4[75],1.5,MW4[75])call TZ7(ME4[75],150,0,150)set MX4[i]="High costs and cooldowns give Atropos limited ability use: Cast spells intelligently and get items like Null Talismans and/or Magic Stick for your mana pool."set MY4[i]="Brain Sap is a powerful nuke and heal and deals exact unreduced damage so get it early and always try to use it on enemy heroes when using the spell."set MZ4[i]="Use Nightmare to help teammates to aim their spells and remove an opponent from battles temporarily while you fight their allies."set MA4[i]="Enfeeble is usually a skill to get after Brain Sap and Nightmare to use on enemy heroes with high damage to reduce their damage capabilities severely."set MB4[i]="Fiend's Grip will work on Magic Immune units such as those under the active effect of Black King Bar, holding them in place but dealing no damage."set i=i+1set ME4[76]='U00E'set MW4[76]='h05Z'set MF4[76]='n0B8'set MV4[76]="ReplaceableTextures\\CommandButtons\\BTNGhostOfKelThuzad.blp"call V97(ME4[76],"stand victory")call U_7(ME4[76],1.3,MW4[76])set MX4[i]="Death Pulse lets you kill creeps and harass heroes simultaneously, great for pushing and healing allied units because of its low cooldown."set MY4[i]="Sadist will provide you with some early regeneration for killing creeps, while Heartstopper Aura becomes effective as the game goes on."set MZ4[i]="Reaper's Scythe is known for its ability to kill heroes outright, allowing you to bring down even high-HP Strength heroes with ease."set MA4[i]="Your ultimate can also be used to stun opponents in certain situations, such as interrupting channeling spells and teleports."set MB4[i]="Items like Bloodstone or Heart of Tarrasque allow you to survive long enough in team battles to make your spells more effective."set i=i+1set ME4[77]='U00F'set MW4[77]='h060'set MF4[77]='n0C5'set MV4[77]="ReplaceableTextures\\CommandButtons\\BTNAbomination.blp"call V97(ME4[77],"stand 3")call U_7(ME4[77],1.0,MW4[77])set MX4[i]="Pudge can known for his ability to isolate enemies with Meat Hook and using Rot and Dismember afterward, killing them outright. "set MY4[i]="Early regeneration and movement speed items such as Bottle and Phase Boots help provide Pudge with the means to cast spells and chase his opponents."set MZ4[i]="Use Meat Hook from a location where you are not obstructed by any allied or enemy units other than your target to ensure a better chance of landing it."set MA4[i]="A Hood of Defiance will improve your magic resistance to reduce damage from using Rot and getting hit by spells; The massive regeneration is also good."set MB4[i]="Use your spells defensively: Rot can be used to commit suicide if necessary and Meat Hook can be used to rescue an ally from one or more enemies."set i=i+1set ME4[78]='O00J'set MW4[78]='h061'set MF4[78]='n0C3'set MV4[78]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalker.blp"call V97(ME4[78],"stand ready")call U_7(ME4[78],1.2,MW4[78])set MX4[i]="Empowering Haste is a smart skill to level first, it gives Barathrum movement speed and significant damage for killing creeps and heroes."set MY4[i]="A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels.A level of Greater Bash early game can be useful as an extra disable, since the 17% chance is the same for all levels."set MZ4[i]="Get Strength Power Treads because the attack and movement speed benefits your other skills and the boost in HP helps you survive."set MA4[i]="Charge of Darkness gives Barathrum spell immunity after 12 seconds and provides vision of the target for you and your allies."set MB4[i]="Nether Strike puts you from the opposite side of where you were facing, push opponents backwards and into your allies."set i=i+1set ME4[79]='Ubal'set MW4[79]='h062'set MF4[79]='n0BX'set MV4[79]="ReplaceableTextures\\CommandButtons\\BTNNerubianQueen.blp"call V97(ME4[79],"attack")call U_7(ME4[79],1.0,MW4[79])call TZ7(ME4[79],255,200,200)set MX4[i]="Take care of Weaver's HP/damage problems with Bracers or Wraith Bands and get regeneration so he can use his spells freely."set MY4[i]="An early level of Watchers can be used to provide vision over the rune powerups. Patrol them to increase their area of detection."set MZ4[i]="Shukuchi is used for harassing and chasing opponents offensively, and escaping and avoiding certain projectile spells defensively."set MA4[i]="If your Geminate Attack is not working, make sure that you input an attack command ('A' or right-click) and are not simply auto-attacking."set MB4[i]="Use Time Lapse after taking a lot of recent damage to heal yourself, allowing you to pull off some dangerous moves like diving into towers."set i=i+1set ME4[80]='Nfir'set MW4[80]='h063'set MF4[80]='n0BN'set MV4[80]="ReplaceableTextures\\CommandButtons\\BTNShade.blp"call V97(ME4[80],"stand channel")call U_7(ME4[80],1.15,MW4[80])call TZ7(ME4[80],0,0,0)set MX4[i]="Necromastery is important because of its massive damage gain and because your ultimate deals damage based on the number of souls."set MY4[i]="Shadow Raze gives you three powerful nuke spells that should be maxed out first. Gauge the distance correctly and hit multiple times."set MZ4[i]="Requiem of Souls deals more damage the closer you are: Placement items like Lothar's Edge and Kelen's Dagger can help you land it."set MA4[i]="After maxing your other two spells, Presence of the Dark Lord will be useful by then, good for pushing and dealing more physical damage."set MB4[i]="If you die, remember to fill up on souls again before major fights when you respawn or you will be much less effective in battles."set i=i+1set ME4[81]='U00K'set MW4[81]='h064'set MF4[81]='n0C4'set MV4[81]="ReplaceableTextures\\CommandButtons\\BTNArachnathidGreen.blp"call V97(ME4[81],"attack 3")call U_7(ME4[81],1,MW4[81])set MX4[i]="Burrowstrike is both versatile and powerful: It deals damage, stuns and provides you with a useful escape or chasing mechanism."set MY4[i]="Using Sandstorm at the right time will dodge certain projectile spells and can protect you temporarily if it is necessary."set MZ4[i]="Getting Kelen's Dagger will give him increased mobility and reach, and also the ability to Blink into battle right after channeling Epicenter."set MA4[i]="While you cannot move while Epicenter is channeling, once the pulses begin you can freely move around (mostly to chase your opponent)."set MB4[i]="Caustic Finale might be an orb effect but it is extremely useful for killing multiple units quickly for fighting neutrals, pushing and defending."set i=i+1set ME4[82]='Opgh'set MW4[82]='h065'set MF4[82]='n0BM'set MV4[82]="ReplaceableTextures\\CommandButtons\\BTNChaosGrom.blp"call V97(ME4[82],"stand victory")call U_7(ME4[82],1,MW4[82])set MX4[i]="Counter Helix gives Axe the flexibility to both lane and jungle. A Stout Shield will help reduce the damage from taking attacks in order to activate Helix."set MY4[i]="A Vanguard or a Hood of Defiance offers survivability and regeneration, which are usually more useful to Axe than increasing his attack speed or damage."set MZ4[i]="Berserker's Call is used to initiate fights and draw focus fire. Using it when there are more enemy units increases the chance of activating Counter Helix."set MA4[i]="Monitor your opponent's HP for the perfect Culling Blade opportunity to finish them off. However, if your enemy has too much HP, it will hardly do anything."set MB4[i]="Kelen's Dagger and/or Phase Boots can help you enter the fight first and get close enough for a Berserker's Call."set i=i+1set ME4[83]='Hvsh'set MW4[83]='h066'set MF4[83]='n0BZ'set MV4[83]="ReplaceableTextures\\CommandButtons\\BTNShaman.blp"call V97(ME4[83],"stand victory")call U_7(ME4[83],1.25,MW4[83])call TZ7(ME4[83],250,150,150)set MX4[i]="Getting Blood Bath will allow you to take a few hits as you are killing creeps because you will recover your health immediately afterwards."set MY4[i]="An early level of Bloodrage can be useful for silencing enemies temporarily and for dealing a little bit of damage."set MZ4[i]="Phase Boots and HP can be just as useful as damage items because they increase his survivability for chasing enemies and other longer battles."set MA4[i]="Use Rupture when your enemy has to either run away or to prevent them from moving, such as when an ally is about to use a powerful spell."set MB4[i]="Both allies and enemies gain the massive damage increase and are silenced from Bloodrage, which can be disastrous if used incorrectly."set i=i+1set ME4[84]='Udea'set MW4[84]='h067'set MF4[84]='n0BL'set MV4[84]="ReplaceableTextures\\CommandButtons\\BTNHeroDeathKnight.blp"call V97(ME4[84],"stand ready")call U_7(ME4[84],1,MW4[84])set MX4[i]="Abbadon's spells can save allies while dealing damage, so support and regeneration items like Vladmir's Offering can be more useful than damage items."set MY4[i]="Death Coil can be used both as a nuke and a heal, just remember that it deals damage to you unless you are using Aphotic Shield or Borrowed Time."set MZ4[i]="Aphotic Shield prevents damage but can also be used to remove certain debuffs, such as removing the stun duration effect on an ally."set MA4[i]="Frostmourne is usually gotten later but it is very useful for chasing and helping your allies outrun your opponents."set MB4[i]="Borrowed Time can be cast manually as well. If you know you are going to receive a lot of damage sometimes it can be wiser to use it then."set i=i+1set ME4[85]='E01B'set MW4[85]='h068'set MF4[85]='n0B9'set MV4[85]="ReplaceableTextures\\CommandButtons\\BTNvengeanceincarnate.blp"call V97(ME4[85],"stand ready")call U_7(ME4[85],0.8,MW4[85])set MX4[i]="Spectral Dagger is your utility spell. You can use it for chasing people down, scouting dangerous areas and escaping. "set MY4[i]="You also walk through units, trees, even cliffs while you are walking on Spectral Dagger's black path, making it very handy when used properly."set MZ4[i]="Desolate is great for dealing target to isolated targets but Dispersion helps you to survive in the lane: Chose whatever combination suits you best."set MA4[i]="Haunt lets you jump into a fight directly from anywhere in the map; just make sure that you pay attention to the actions of your team."set MB4[i]="Getting HP will allow you to withstand and dish out more Dispersion damage, which is extremely powerful in team fights."set i=i+1set ME4[86]='E01A'set MW4[86]='h069'set MF4[86]='n0BK'set MV4[86]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctor.blp"call V97(ME4[86],"stand victory")call U_7(ME4[86],1.25,MW4[86])set MX4[i]="Paralyzing Cask is your initiating spell for your other skills and can effectively keep two nearby units stun-locked at higher levels."set MY4[i]="Maledict drastically reduces the damage needed to kill opponents and is an important spell to land in every fight."set MZ4[i]="An early level of Voodoo Restoration can provide a relatively cheap heal if you are forced to play defensively."set MA4[i]="Damaging your opponent immediately after using Maledict is wise because it will deal more bonus damage overall at the 3 ticks."set MB4[i]="Death Ward is a powerful channeling spell if not interrupted. A Black King Bar will help to prevent enemies from disabling you."set i=i+1set ME4[87]='U00P'set MW4[87]='h06A'set MF4[87]='n0BA'set MV4[87]="ReplaceableTextures\\CommandButtons\\BTNDestroyer.blp"call V97(ME4[87],"stand alternate 2")call U_7(ME4[87],0.85,MW4[87])set MX4[i]="Getting Intelligence and mana items is extremely important for Harbringer as the power of Arcane Orb and Sanity's Eclipse rely on this."set MY4[i]="Use Astral Imprisonment to control your opponents' mana, for escaping/chasing, or on yourself and allies to avoid spells."set MZ4[i]="Cast Arcane Orb manually early on because you will have a greater chance of activating Essence Aura to use it endlessly."set MA4[i]="Guinsoo's Scythe of Vyse is a great choice because it offers Intelligence, balanced stats and provides Harbringer with a powerful disable."set MB4[i]="Use Sanity's Eclipse early in fights so that you drain casters with high Intelligence of their mana and cripple their ability to cast spells."set i=i+1set ME4[88]='E01C'set MW4[88]='h06C'set MF4[88]='n0BB'set MV4[88]="ReplaceableTextures\\CommandButtons\\BTNGuldan.blp"call V97(ME4[88],"spell")call U_7(ME4[88],1.5,MW4[88])set MX4[i]="Shadow Word is either a heal or damage over time, definitely the most powerful early game spell to have."set MY4[i]="The affordable Mekansm is a good support item for Warlock, who is not a hero who is reliant on gold and items to be effective."set MZ4[i]="Rain of Chaos creates a powerful Infernal that can take on heroes and is also great for killing creeps and pushing buildings."set MA4[i]="Fatal Bonds can deal huge damage if you and your teammates have other area of effect (AoE) spells that would hurt multiple linked units."set MB4[i]="The stun when using Rain of Chaos along with its huge casting range (1200) is great for interrupting spells and initiating battles."set i=i+1set ME4[89]='H00I'set MW4[89]='h06D'set MF4[89]='n0BJ'set MV4[89]="ReplaceableTextures\\CommandButtons\\BTNKoboldGeomancer.blp"call V97(ME4[89],"spell")call U_7(ME4[89],1.4,MW4[89])call U_7('H00J',1.4,MW4[89])set MX4[i]="Vladmir's Offering and/or Mekansm provides valuable auras and useful heals that can help support your team and keep your Meepos alive."set MY4[i]="Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival).Poof is both a teleport and damage spell and is great against neutrals. Poof to yourself to deal double the damage (from departure and arrival)."set MZ4[i]="Geomancer is an advanced hero: Be sure to monitor their individual health because if one dies, they all will."set MA4[i]="Strength Power Treads are suggested since clones will receive all of the Strength from footwear along with a 2.5 bonus (12.5 total)."set MB4[i]="Time Earthbind with each of your clones. With 4 Meepos and Level 4 Earthbind, you can almost permanently immobilize them."set i=i+1set ME4[90]='N01W'set MW4[90]='h06E'set MF4[90]='n0BI'set MV4[90]="ReplaceableTextures\\CommandButtons\\BTNDarkTrollShadowPriest.blp"call V97(ME4[90],"spell")call U_7(ME4[90],1.2,MW4[90])set MX4[i]="An early level of both Shadow Wave and Shallow Grave provides a lot of support before getting Poison Touch to level 3 for its added stun."set MY4[i]="Try to use Shadow Wave to heal and damage opponents at the same time. Surround an enemy with multiple allied units for more damage."set MZ4[i]="In addition to slowing and damaging opponents, Poison Touch will allow you to interrupt channeling spells and teleports"set MA4[i]="Dazzle generally does not need many items and can sometimes focus on increasing his spell use with regeneration and support items like Mekansm."set MB4[i]="Weave is a powerful spell, try to hit both allies and enemies with it, and it can also be used to provide vision before major battles occur."set i=i+1set ME4[91]='N00R'set MW4[91]='h06F'set MF4[91]='n0BC'set MV4[91]="ReplaceableTextures\\CommandButtons\\BTNPitLord.blp"call V97(ME4[91],"stand channel")call U_7(ME4[91],0.95,MW4[91])set MX4[i]="Firestorm will be your main ability for killing creeps but it can deal a lot of damage to heroes if you combine it with disables or slows."set MY4[i]="The Pit of Malice is a useful disable that lasts for 10 seconds so it will both ensnare opponents and deter opponents from entering the circle."set MZ4[i]="Expulsion is usually used after some creeps have died so the spell lasts longer and will deal damage and mini-stun enemies."set MA4[i]="Pit Lord is played more as a caster, increase his team presence and spell use by obtaining expensive Intelligence items like Shiva's Guard."set MB4[i]="Dark Rift is a great spell for transporting multiple allies to surprise opponents, and more importantly to defend and attack the base."set i=i+1set ME4[92]='H00R'set MW4[92]='h06G'set MF4[92]='n0BH'set MV4[92]="ReplaceableTextures\\CommandButtons\\BTNZombie.blp"call V97(ME4[92],"stand")call U_7(ME4[92],2,MW4[92])call U_7('H07I',1.3,MW4[92])set MX4[i]="Decay is used to deal damage and make opponents more vulnerable, while increasing the survivability of Dirge temporarily."set MY4[i]="Make sure Dirge is a presence who can cast his spells in fights by buying regeneration items like Vladmir's Offering and Void Stone."set MZ4[i]="Soul Rip is a powerful heal or nuke but remember that it will have almost no effect without nearby units. Cast it in crowds."set MA4[i]="Use Tombstone when engaging the enemy because the zombies have a slowing capability and may also help block your opponents."set MB4[i]="Tombstone Zombies become extremely powerful when your opponents have low health and attack and move much faster."set i=i+1set ME4[93]='H00N'set MW4[93]='h06H'set MF4[93]='n0BG'set MV4[93]="ReplaceableTextures\\CommandButtons\\BTNDranaiMage.blp"call V97(ME4[93],"spell")call U_7(ME4[93],1.15,MW4[93])set MX4[i]="Ion shell is great for killing creeps and dealing damage to heroes, but it will not damage an enemy target if you cast it on them directly."set MY4[i]="A level of Surge early game can help you and allies escape and chase enemies, and works nicely to help you close in on opponents with Ion Shell."set MZ4[i]="Vacuum is an extremely powerful skill that can be used for initiating and combining with other spells. It can also interrupt channeling and teleport spells."set MA4[i]="Make sure they are standing closer to the edge of your targeting circle when casting Vacuum to pull your opponents further."set MB4[i]="Use Wall of Replica where multiple heroes will touch it; try using it with Vacuum. Get your allies to run through the wall too."set i=i+1set ME4[94]='H00U'set MW4[94]='h06B'set MF4[94]='n0BF'set MV4[94]="ReplaceableTextures\\CommandButtons\\BTNHeroBloodElfPrince.blp"call V97(ME4[94],"spell")call U_7(ME4[94],1.25,MW4[94])set MX4[i]="Having at least one level in Quas, Wex and Exort will give you a larger repertoire of spells. Type -invokelist to obtain a full list of combinations."set MY4[i]="Ghost Walk (QQW) can be used to get yourself out of a tight situation, and also for slowing opponents so that your allies can chase/escape."set MZ4[i]="Sunstrike (EEE) is a global-ranged nuke that deals damage based on the level of Exort. When using it, you have to factor in the 1.7 casting time."set MA4[i]="Forge Spirit (EEQ) and Cold Snap (QQQ) can be effective for pushing towers and against heroes with low armor. "set MB4[i]="EMP (WWW) and Tornado (WWQ) can completely drain off heroes with low mana pools and have a impressive casting range."set i=i+1set ME4[95]='Uktl'set MW4[95]='h04D'set MF4[95]='n0A6'set MV4[95]="ReplaceableTextures\\CommandButtons\\BTNSpell_Shadow_SummonVoidWalker.blp"call V97(ME4[95],"stand")call U_7(ME4[95],1.5,MW4[95])set MX4[i]="Conversion allows Enigma to neutral creep effectively. Target the highest level creep possible and move your low HP Eidolons out of the way to save them."set MY4[i]="In the lane, Conversion can be used on allied creeps to deny your opponents of experience and gold, and for making sure you last hit enemy creeps."set MZ4[i]="The multiple stuns on higher levels of Malefice make it useful for preventing an opponent from channeling spells or help you chase/escape them."set MA4[i]="Use Midnight Pulse in conjunction with Black Hole to deal massive damage to enemies. Just make sure that you cast it before Black Hole."set MB4[i]="Kelen's Dagger is great for Black Hole placement, and a Black King Bar will prevent most spells from stopping the channeling effect of the spell."set i=i+1set ME4[96]='O016'set MW4[96]='h07R'set MF4[96]='n0G9'set MV4[96]="ReplaceableTextures\\CommandButtons\\BTNTrollBatRider.blp"call V97(ME4[96],"stand")call U_7(ME4[96],1.2,MW4[96])call U_7('O017',1.2,MW4[96])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[97]='N0HP'set MW4[97]='h0B0'set MF4[97]='n0HR'set MV4[97]="ReplaceableTextures\\CommandButtons\\BTNIcyGhost.blp"call V97(ME4[97],"stand")call U_7(ME4[97],1.17,MW4[97])call U_7('N0HP',1.2,MW4[97])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[98]='H071'set MW4[98]='h072'set MF4[98]='n0EF'set MV4[98]="ReplaceableTextures\\CommandButtons\\BTNMurgulShadowCaster.blp"call V97(ME4[98],"stand 3")call U_7(ME4[98],1.25,MW4[98])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[99]='Eevi'set MW4[99]='h056'set MF4[99]='n0AV'set MV4[99]="ReplaceableTextures\\CommandButtons\\BTNEvilIllidan.blp"call V97(ME4[99],"spell channel")call U_7(ME4[99],1,MW4[99])call U_7('Eevm',1,MW4[99])call U_7('E02V',1,MW4[99])call U_7('E02W',1,MW4[99])call U_7('E02U',1,MW4[99])set MX4[i]="Get Soul Steal if you need healing in the lane."set MY4[i]="Purchase statistic-increasing items like Wraith Bands and later items like Sange and Yasha to benefit both Terrorblade and his images."set MZ4[i]="It might be difficult to escape due to the trail you leave behind when walking, you may have to use an image to act as a block or decoy."set MA4[i]="Sunder can turn fights around when you have low health but be careful of disables and high damage spells when trying to swap."set MB4[i]="Creating ranged images in Metamorphosis will allow you to deal damage safely in fights as well as push down buildings very quickly."set i=i+1set ME4[100]='Ekee'set MW4[100]='h059'set MF4[100]='n0AW'set MV4[100]="ReplaceableTextures\\CommandButtons\\BTNKeeperGhostBlue.blp"call V97(ME4[100],"stand victory")call U_7(ME4[100],1,MW4[100])set MX4[i]="Split Earth is a very useful disable while Lightning Storm is taken because of its low cooldown. Both are powerful spells that hit multiple targets."set MY4[i]="By using Lightning Storm to finish low-health creeps with nearby opponents, you can get gold and harass enemy heroes at the same time."set MZ4[i]="Diabolic Edict is one of the most powerful spells for destroying buildings. Eliminate the creeps first so that you only have one target."set MA4[i]="Turn off Pulse Nova when you have finished using it because the spell will continue until you have exhausted your entire mana pool."set MB4[i]="Items like Bloodstone or Aghanim's Scepter will allow Leshrac to use his spells more liberally and survive in the midst of battle."set i=i+1set ME4[101]='E02H'set MW4[101]='h0CB'set MF4[101]='n0KL'set MV4[101]="ReplaceableTextures\\CommandButtons\\BTNArchimonde.blp"call V97(ME4[101],"stand 3")call U_7(ME4[101],1.25,MW4[101])set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[102]='Ulic'set MW4[102]='h05A'set MF4[102]='n0AX'set MV4[102]="ReplaceableTextures\\CommandButtons\\BTNLichVersion2.blp"call V97(ME4[102],"stand channel")call U_7(ME4[102],1.3,MW4[51])set MX4[i]="Dark Ritual is useful for denying allied creeps and provides you with mana to use spells without buying regeneration items."set MY4[i]="Frost Nova is a very powerful spell that allows you to be aggressive. Attack the enemy a few extra times while they are slowed."set MZ4[i]="Chain Frost is most effective when used against 2-3 nearby targets (ideally heroes), but will not bounce when used on a lone unit."set MA4[i]="Frost Armor should be cast on multiple teammates when you have the mana for it later on; it works nicely against melee units."set MB4[i]="The first target of your Chain Frost can interrupt channeling and teleport spells if absolutely necessary."set i=i+1set ME4[103]='UC76'set MW4[103]='h05B'set MF4[103]='n0AY'set MV4[103]="ReplaceableTextures\\CommandButtons\\BTNBanshee.blp"call V97(ME4[103],"spell wail")call U_7(ME4[103],1.35,MW4[103])set MX4[i]="Carrion Swarm is your primary nuke and first skill to max. Make use of its range by casting it on the ground instead of on a unit directly."set MY4[i]="An early level of Silence can help prevent you and your allies from being attacked by multiple spells."set MZ4[i]="The ghosts of Exorcism will attack whatever you attack, so if you want to direct all attention to a single unit simply focus them and stay nearby."set MA4[i]="Exorcism also makes Krobelus extremely effective for quickly destroying enemy buildings, so be sure to push the enemy base when you can"set MB4[i]="The effect of Exorcism stops if you die in combat: Invest in items that improve your survivability, such as a Bloodstone or a Heart of Tarrasque."set i=i+1set ME4[104]='UC18'set MW4[104]='h05C'set MF4[104]='n0AZ'set MV4[104]="ReplaceableTextures\\CommandButtons\\BTNLion.BLP"call V97(ME4[104],"spell callstorm")call U_7(ME4[104],1.3,MW4[104])call TZ7(ME4[104],50,100,255)set MX4[i]="With plenty of damage and disables, Lion is quite a force to be reckoned with cheap utility items such as Bottle and Phase Boots."set MY4[i]="Impale gives Lion the ability to disable multiple targets and deals decent damage, so it is definitely the most versatile of his three skills for the early game."set MZ4[i]="Mana Drain only works on units with mana: Using Mana Drain on enemy heroes will reduce their spell use while replenishing mana."set MA4[i]="Avoid wasting Finger of Death on low-health enemy heroes when a few extra attacks or using another spell like Impale will deal enough damage."set MB4[i]="Wait until the duration of your first disable wears off before using another one for maximum disable time when using Impale and Voodoo."set i=i+1set ME4[105]='EC57'set MW4[105]='h05D'set MF4[105]='n0B0'set MV4[105]="ReplaceableTextures\\CommandButtons\\BTNHydralisk.blp"call V97(ME4[105],"attack")call U_7(ME4[105],1.0,MW4[105])call TZ7(ME4[105],150,200,255)set MX4[i]="Venomous Gale is a spell that hits multiple opponents and slows them, making it very useful for getting early kills."set MY4[i]="At least one level of Poison Sting is recommended early game for its slow effect."set MZ4[i]="Bottle and Magic Stick will help deal with his low HP/mana, while Phase Boots are a cheap way to improve his chasing capabilities."set MA4[i]="Wards are very useful for pushing a lane and killing neutral and enemy creeps, but you can also use it to provide vision."set MB4[i]="Poison Nova deals a lot of damage but you have to combine it with other spells and attacks because it does not deal fatal damage (stops at 1 HP)."set i=i+1set ME4[106]='UC11'set MW4[106]='h05E'set MF4[106]='n0A2'set MV4[106]="ReplaceableTextures\\CommandButtons\\BTNBlueMagnataur.tga"call V97(ME4[106],"stand channel")call U_7(ME4[106],1,MW4[106])call TZ7(ME4[106],150,150,100)set MX4[i]="Bottle and Perseverance help with early regeneration,. while purchasing Kelen's Dagger later will help you to land Reverse Polarity."set MY4[i]="A few Attribute Bonus points can help you cast more spells. Save Mighty Swing for later levels when you have more damage."set MZ4[i]="By targeting the ground where you want to fire Shockwave, you can hit both creeps and opponents and make use of its long range."set MA4[i]="Magnus should cast Empower on himself and other allies with high damage before initiating team battles with his ultimate."set MB4[i]="The cleave of Battlefury stacks directly with Mighty Swing, making it a good damage item especially if you already have a Perseverance."set i=i+1set ME4[107]='UC60'set MW4[107]='h05F'set MF4[107]='n0B1'set MV4[107]="ReplaceableTextures\\CommandButtons\\BTNSpiritWyvern.blp"call V97(ME4[107],"stand victory")call U_7(ME4[107],1,MW4[107])call TZ7(ME4[107],150,150,150)set MX4[i]=""set MY4[i]=""set MZ4[i]=""set MA4[i]=""set MB4[i]=""set i=i+1set ME4[108]='U00A'set MW4[108]='h05G'set MF4[108]='n0B2'set MV4[108]="ReplaceableTextures\\CommandButtons\\BTNChaosWarlord.blp"call V97(ME4[108],"stand victory")call U_7(ME4[108],1.05,MW4[108])set MX4[i]="Chaos Bolt and Blink Strike are active abilities that are more useful in the lane and for killing opponents than Critical Strike."set MY4[i]="Chaos Bolt is a disable that switches between average and extremely powerful, the sooner you have max out this spell, the better."set MZ4[i]="His high natural movement speed (325 - the highest in the game) and Blink Strike make him very difficult for opponents to outrun or chase him."set MA4[i]="If you Blink Strike and then use Chaos Bolt, you can spend more time hitting opponents and less time waiting for his slow casting animation. "set MB4[i]="Make Nessaj and Phantasm stronger by buying Strength items like Armlet of Mordiggan (when activated) and Heart of Tarrasque."set i=i+1set MJ4=108set ME4[500]='H500'set MV4[500]="ReplaceableTextures\\CommandButtons\\BTNWispHero.blp"call V97(ME4[500],"stand")call U_7(ME4[500],1.5,0)set MX4[500]=""set MY4[500]=""set MZ4[500]=""set MA4[500]=""set MB4[500]=""set ME4[600]='H600'set MV4[600]="ReplaceableTextures\\CommandButtons\\BTNSeaTurtleRed.blp"call V97(ME4[600],"stand")call U_7(ME4[600],0.8,0)set MX4[600]=""set MY4[600]=""set MZ4[600]=""set MA4[600]=""set MB4[600]=""set MK4[1]='Nbrn'set MK4[2]='Edem'set MK4[3]='N016'set MK4[4]='Nbbc'set MK4[5]='Naka'set MK4[6]='O00P'set MK4[7]='Usyl'set MK4[8]='E005'set MK4[9]='N01O'set MK4[10]='HC92'set MK4[11]='Hvwd'set MK4[12]='HC49'set MK4[13]='Huth'set MK4[14]='Ogrh'set MK4[15]='U006'set MK4[16]='EC57'set MK4[17]='Eevi'set MK4[18]='Ubal'set MK4[19]='E004'set MK4[20]='EC77'set MK4[21]='Hvsh'set MK4[22]='Nfir'set MK4[23]='E002'set MK4[24]='EC45'set MK4[25]='Ewar'set MK4[26]='U000'set MK4[27]='H00V'set MK4[28]='E01B'set MK4[29]='N01V'set MK4[30]='H00I'set MK4[31]='E01Y'set MK4[32]='H071'set MK4[33]='E02N'set MK4[34]='N0M0'set MM4=34set MN4[1]='Npbm'set MN4[2]='Hlgr'set MN4[3]='Harf'set MN4[4]='H000'set MN4[5]='H001'set MN4[6]='Hamg'set MN4[7]='H008'set MN4[8]='Ucrl'set MN4[9]='Otch'set MN4[10]='NC00'set MN4[11]='Udre'set MN4[12]='UC11'set MN4[13]='Ofar'set MN4[14]='U00F'set MN4[15]='U00K'set MN4[16]='O00J'set MN4[17]='Udea'set MN4[18]='Opgh'set MN4[19]='U00A'set MN4[20]='U00C'set MN4[21]='UC91'set MN4[22]='UC42'set MN4[23]='U008'set MN4[24]='H00D'set MN4[25]='N01I'set MN4[26]='H00Q'set MN4[27]='N00R'set MN4[28]='H00T'set MN4[29]='H06S'set MN4[30]='H00R'set MN4[31]='O015'set MN4[32]='E02I'set MN4[33]='E02F'set MN4[34]='O01F'set MN4[35]='E032'set MN4[36]='E02K'set MO4=36set MP4[1]='Orkn'set MP4[2]='Emoo'set MP4[3]='Emns'set MP4[4]='H004'set MP4[5]='Hjai'set MP4[6]='Uktl'set MP4[7]='Hmbr'set MP4[8]='H00K'set MP4[9]='Ntin'set MP4[10]='Hmkg'set MP4[11]='Hblm'set MP4[12]='N01A'set MP4[13]='H00A'set MP4[14]='Ulic'set MP4[15]='Ekee'set MP4[16]='UC76'set MP4[17]='UC18'set MP4[18]='UC01'set MP4[19]='UC60'set MP4[20]='H00H'set MP4[21]='Oshd'set MP4[22]='U00E'set MP4[23]='E01A'set MP4[24]='U00P'set MP4[25]='E00P'set MP4[26]='E01C'set MP4[27]='N01W'set MP4[28]='H00N'set MP4[29]='N0EG'set MP4[30]='H00S'set MP4[31]='N00B'set MP4[32]='H00U'set MP4[33]='O016'set MP4[34]='N0HP'set MP4[35]='E02H'set MP4[36]='E02J'set MP4[37]='E02X'set MP4[38]='H0DO'set MQ4=38set MR4[1]='Orkn'set MR4[2]='Emoo'set MR4[3]='Emns'set MR4[4]='H004'set MR4[5]='Hjai'set MR4[6]='Uktl'set MR4[7]='Hmbr'set MR4[8]='H00K'set MR4[9]='Ntin'set MR4[10]='Nbrn'set MR4[11]='Hblm'set MR4[12]='N01A'set MR4[13]='H00A'set MR4[14]='Ulic'set MR4[15]='Ekee'set MR4[16]='UC76'set MR4[17]='UC18'set MR4[18]='UC01'set MR4[19]='UC60'set MR4[20]='H00H'set MR4[21]='Oshd'set MR4[22]='U00E'set MR4[23]='E01A'set MR4[24]='U00P'set MR4[25]='E00P'set MR4[26]='E01C'set MR4[27]='N01W'set MR4[28]='N0EG'set MR4[29]='H00S'set MR4[30]='N00B'set MR4[31]='H00U'set MR4[32]='N016'set MR4[33]='O00P'set MR4[34]='Usyl'set MR4[35]='E005'set MR4[36]='N01O'set MR4[37]='E01Y'set MR4[38]='Hvwd'set MR4[39]='EC57'set MR4[40]='Ubal'set MR4[41]='E004'set MR4[42]='EC77'set MR4[43]='Nfir'set MR4[44]='E002'set MR4[45]='H00V'set MR4[46]='N01V'set MR4[47]='H00Q'set MR4[48]='O016'set MR4[49]='N0HP'set MR4[50]='O01F'set MR4[51]='E02H'set MR4[52]='E02N'set MR4[53]='E02J'set MR4[54]='E02F'set MR4[55]='E02X'set MR4[56]='H0DO'set MS4=56set MT4[1]='Hmkg'set MT4[2]='H00N'set MT4[3]='Edem'set MT4[4]='Nbbc'set MT4[5]='Naka'set MT4[6]='HC49'set MT4[7]='Huth'set MT4[8]='Ogrh'set MT4[9]='U006'set MT4[10]='Eevi'set MT4[11]='Hvsh'set MT4[12]='EC45'set MT4[13]='Ewar'set MT4[14]='U000'set MT4[15]='E01B'set MT4[16]='H00I'set MT4[17]='HC92'set MT4[18]='Npbm'set MT4[19]='Hlgr'set MT4[20]='Harf'set MT4[21]='H000'set MT4[22]='H001'set MT4[23]='Hamg'set MT4[24]='H008'set MT4[25]='Ucrl'set MT4[26]='Otch'set MT4[27]='NC00'set MT4[28]='Udre'set MT4[29]='UC11'set MT4[30]='Ofar'set MT4[31]='U00F'set MT4[32]='U00K'set MT4[33]='O00J'set MT4[34]='Udea'set MT4[35]='Opgh'set MT4[36]='U00A'set MT4[37]='U00C'set MT4[38]='UC91'set MT4[39]='UC42'set MT4[40]='U008'set MT4[41]='H00D'set MT4[42]='N01I'set MT4[43]='N00R'set MT4[44]='H00T'set MT4[45]='H06S'set MT4[46]='H00R'set MT4[47]='O015'set MT4[48]='H071'set MT4[49]='E02I'set MT4[50]='N0M0'set MT4[51]='E032'set MT4[52]='E02K'set MU4=52call S87()endfunctionfunction TavernFogFix takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()call DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_MASKED,GetUnitX(M64),GetUnitY(M64),900,false,false))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,GetUnitX(MC4),GetUnitY(MC4),900,false,false))call NM7(t)set t=nullreturn falseendfunctionfunction BH7 takes item Z4 returns stringif Z4==null thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn RU[JU7(Z4)]endfunctionfunction BI7 takes nothing returns nothinglocal unit a=CreateUnit(Player(0),'h07L',-6100,-5800,0)local unit b=CreateUnit(Player(0),'h07L',-6100,-5800,0)local item i=CreateItem('I0GM',0,0)call UnitAddItem(a,i)if UnitUseItem(a,i)thenelseendifcall UnitRemoveItem(a,i)call UnitAddItem(b,i)if UnitUseItem(b,i)thenset NE4=truecall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName(('n0HI'))))elseset NE4=falseendifcall ShowUnit(a,false)call KillUnit(a)call ShowUnit(b,false)call KillUnit(b)call RemoveItem(i)set i=nullset b=nullset a=nullendfunctionfunction BJ7 takes integer id returns booleanlocal integer i=0loopexitwhen i>GC7if GB7[i]==id thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction BK7 takes nothing returns nothingset GC7=GC7+1set GB7[GC7]='A1ZW'set GC7=GC7+1set GB7[GC7]='A0B6'set GC7=GC7+1set GB7[GC7]='A0K7'set GC7=GC7+1set GB7[GC7]='A0T7'set GC7=GC7+1set GB7[GC7]='A0T8'set GC7=GC7+1set GB7[GC7]='A11F'set GC7=GC7+1set GB7[GC7]='A11H'set GC7=GC7+1set GB7[GC7]='A11G'set GC7=GC7+1set GB7[GC7]='A11D'set GC7=GC7+1set GB7[GC7]='A0S3'set GC7=GC7+1set GB7[GC7]='A11E'set GC7=GC7+1set GB7[GC7]='A15W'set GC7=GC7+1set GB7[GC7]='A2HQ'set GC7=GC7+1set GB7[GC7]='A231'set GC7=GC7+1set GB7[GC7]='A2HO'set GC7=GC7+1set GB7[GC7]='A02O'set GC7=GC7+1set GB7[GC7]='A08Y'set GC7=GC7+1set GB7[GC7]='A08Z'set GC7=GC7+1set GB7[GC7]='A090'set GC7=GC7+1set GB7[GC7]='A092'set GC7=GC7+1set GB7[GC7]='AIpg'set GC7=GC7+1set GB7[GC7]='AItb'set GC7=GC7+1set GB7[GC7]='A0H6'set GC7=GC7+1set GB7[GC7]='A1QD'set GC7=GC7+1set GB7[GC7]='A1T7'set GC7=GC7+1set GB7[GC7]='A19M'set GC7=GC7+1set GB7[GC7]='A1AC'set GC7=GC7+1set GB7[GC7]='AChx'set GC7=GC7+1set GB7[GC7]='A28Y'set GC7=GC7+1set GB7[GC7]='AIbk'set GC7=GC7+1set GB7[GC7]='A1EW'set GC7=GC7+1set GB7[GC7]='A017'set GC7=GC7+1set GB7[GC7]='A0JY'set GC7=GC7+1set GB7[GC7]='A0FO'set GC7=GC7+1set GB7[GC7]='A0H7'set GC7=GC7+1set GB7[GC7]='A0B8'set GC7=GC7+1set GB7[GC7]='A1WE'set GC7=GC7+1set GB7[GC7]='AIxk'set GC7=GC7+1set GB7[GC7]='A1ZI'set GC7=GC7+1set GB7[GC7]='A0CK'set GC7=GC7+1set GB7[GC7]='A0JL'set GC7=GC7+1set GB7[GC7]='A1FO'set GC7=GC7+1set GB7[GC7]='AIda'set GC7=GC7+1set GB7[GC7]='A0HB'set GC7=GC7+1set GB7[GC7]='A0D3'set GC7=GC7+1set GB7[GC7]='A0DF'set GC7=GC7+1set GB7[GC7]='A0FD'set GC7=GC7+1set GB7[GC7]='A12W'set GC7=GC7+1set GB7[GC7]='A14A'set GC7=GC7+1set GB7[GC7]='A1FD'set GC7=GC7+1set GB7[GC7]='A1IO'set GC7=GC7+1set GB7[GC7]='A02W'set GC7=GC7+1set GB7[GC7]='A269'set GC7=GC7+1set GB7[GC7]='A2KG'set GC7=GC7+1set GB7[GC7]='A1FP'set GC7=GC7+1set GB7[GC7]='A0T9'set GC7=GC7+1set GB7[GC7]='A1Q8'set GC7=GC7+1set GB7[GC7]='A1MO'set GC7=GC7+1set GB7[GC7]='A28D'set GC7=GC7+1set GB7[GC7]='Aeat'set GC7=GC7+1set GB7[GC7]='A0K0'set GC7=GC7+1set GB7[GC7]='AIpl'set GC7=GC7+1set GB7[GC7]='A0JT'set GC7=GC7+1set GB7[GC7]='AIpr'set GC7=GC7+1set GB7[GC7]='A02X'set GC7=GC7+1set GB7[GC7]='A1R5'set GC7=GC7+1set GB7[GC7]='AIsw'set GC7=GC7+1set GB7[GC7]='A206'set GC7=GC7+1set GB7[GC7]='A1ZH'set GC7=GC7+1set GB7[GC7]='A2EA'set GC7=GC7+1set GB7[GC7]='A2K4'set GC7=GC7+1set GB7[GC7]='A2K7'set GC7=GC7+1set GB7[GC7]='A2K1'endfunctionfunction BM7 takes integer id returns booleanreturn id=='A21F' or id=='A21G' or id=='A21H' or id=='A1S9' or id=='A24A' or id=='A24B' or id=='A06K' or id=='A1VG' or id=='A28Q' or id=='A1WF' or id=='A0T8' or id=='A0T7' or id=='A20N' or id=='A1Z2' or id=='A1Z3' or id=='A205' or id=='A14A' or id=='A269' or id=='A2KG' or id=='A21J' or id=='A27X' or id=='A28Y' or id=='A24E' or id=='A1ZH' or id=='A1WO' or id=='A1FQ' or id=='A0TE' or id=='A2JO' or id=='A2FX' or id=='A0MP' or id=='A2KE' or id=='A2KH' or id=='A2K9' or id=='A2JL'endfunctionfunction BN7 takes nothing returns nothingset ND4=ND4+1set N94[ND4]='A0H6'set ND4=ND4+1set N94[ND4]='A012'set ND4=ND4+1set N94[ND4]='A06K'set ND4=ND4+1set N94[ND4]='A0I9'set ND4=ND4+1set N94[ND4]='A0HA'set ND4=ND4+1set N94[ND4]='A0K5'set ND4=ND4+1set N94[ND4]='A0PY'set ND4=ND4+1set N94[ND4]='A1FO'set ND4=ND4+1set N94[ND4]='A0RT'set ND4=ND4+1set N94[ND4]='A0SA'set ND4=ND4+1set N94[ND4]='A0T7'set ND4=ND4+1set N94[ND4]='A0T8'set ND4=ND4+1set N94[ND4]='A14A'set ND4=ND4+1set N94[ND4]='A0BE'set ND4=ND4+1set N94[ND4]='A21X'set ND4=ND4+1set N94[ND4]='A21W'set ND4=ND4+1set N94[ND4]='A21V'set ND4=ND4+1set N94[ND4]='Anh1'set ND4=ND4+1set N94[ND4]='A1OZ'set ND4=ND4+1set N94[ND4]='A13D'set ND4=ND4+1set N94[ND4]='A026'set ND4=ND4+1set N94[ND4]='A1Q8'endfunctionfunction BO7 takes nothing returns nothingset Z8[1]='AImt'set Z8[2]='AIda'set Z8[3]='ANtm'set Z8[4]='ACch'set Z8[5]='AIxk'set Z8[6]='A0CK'set Z8[7]='A017'set Z8[8]='A0B8'set Z8[9]='A0HB'set Z8[10]='A0D3'set Z8[11]='A0DF'set Z8[12]='A02W'set Z8[13]='AIpr'set Z8[14]='AIpl'set Z8[15]='A0FO'set Z8[16]='A0H7'set Z8[17]='A0H6'set Z8[18]='A02X'set Z8[19]='AIsw'set Z8[20]='A0CX'set Z8[21]='A0B6'set Z8[22]='Aeat'set Z8[23]='A08L'set Z8[24]='AIcy'set Z8[25]='A05Z'set Z8[26]='AIbk'set Z8[27]='A0DY'set Z8[28]='A0LZ'set Z8[29]='A0OI'set Z8[30]='A0KX'set Z8[31]='A0KW'set Z8[32]='A026'set Z8[33]='A0C4'set Z8[34]='A012'set Z8[35]='A06K'set Z8[36]='A02T'set Z8[37]='AHfa'set Z8[38]='A09V'set Z8[39]='A05Y'set Z8[40]='A0I9'set Z8[41]='A0HA'set Z8[42]='A0K5'set Z8[43]='A0PY'set Z8[44]='A0QN'set Z8[45]='A0RT'set Z8[46]='A0RP'set Z8[47]='A12W'set Z8[48]='A0SA'set Z8[49]='A0T7'set Z8[50]='A0T8'set Z8[51]='A14A'set Z8[52]='A0BE'set Z8[53]='A21X'set Z8[54]='A21W'set Z8[55]='A21V'set Z8[56]='A0MP'set Z8[57]='A13D'set Z8[58]='A0JY'set Z8[59]='A15W'set Z8[60]='A1FO'set Z8[61]='A1FD'set Z8[62]='A1OZ'set Z8[63]='A1MO'set Z8[64]='A1IO'set Z8[65]='A1Q8'set Z8[66]='A1RA'set Z8[67]='A1QV'set Z8[68]='A1WE'set Z8[69]='A1WB'set Z8[70]='A2KG'set A8=70endfunctionfunction BP7 takes nothing returns booleancall BO7()call BN7()call BK7()return falseendfunctionfunction BQ7 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function BP7))endfunctionfunction BR7 takes nothing returns nothingcall CreateQuestBJ(0,"TRIGSTR_50004","TRIGSTR_50005","ReplaceableTextures\\CommandButtons\\BTNSpy.blp")call CreateQuestBJ(0,"TRIGSTR_50006","TRIGSTR_50007","ReplaceableTextures\\CommandButtons\\BTNTome.blp")call CreateQuestBJ(0,"TRIGSTR_50008","TRIGSTR_50009","ReplaceableTextures\\CommandButtons\\BTNAmbush.blp")call CreateQuestBJ(2,"TRIGSTR_50010","TRIGSTR_50011","ReplaceableTextures\\CommandButtons\\BTNScrollOfHaste.blp")call CreateQuestBJ(2,"TRIGSTR_50012","TRIGSTR_50013","ReplaceableTextures\\CommandButtons\\BTNBansheeMaster.blp")call CreateQuestBJ(2,"TRIGSTR_50014","TRIGSTR_50015","ReplaceableTextures\\CommandButtons\\BTNCarrionScarabs.blp")call CreateQuestBJ(0,"About AI","TRIGSTR_49999","ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp")endfunctionfunction BS7 takes nothing returns booleanlocal string sif IsUnitIllusion(GetTriggerUnit())==false and GetUnitTypeId(GetTriggerUnit())!='H00J' thenset s=GetUnitName(GetTriggerUnit())+" "+(GetObjectName(('n0HB')))+" "+GetObjectName(GetLearnedSkill())+" ("+(GetObjectName(('n0HC')))+" "+I2S(GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill()))+")"call DisplayTimedTextToPlayer(K_4,0,0,3,s)call DisplayTimedTextToPlayer(M44,0,0,3,s)endifreturn falseendfunctionfunction BT7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function BS7))set t=nullendfunctionfunction BU7 takes player p returns nothinglocal unit T_7=G7[GetPlayerId(p)]local integer i=0local item BV7loopexitwhen i>5set BV7=UnitItemInSlot(T_7,i)call SetItemDroppable(BV7,false)set i=i+1endloopset T_7=nullset BV7=nullendfunctionfunction BW7 takes nothing returns nothingcall S_7(bj_FORCE_ALL_PLAYERS,25.00,(M74[GetPlayerId((GetTriggerPlayer()))])+"|c00ff0303 "+(GetObjectName(('n02D')))+"|r")endfunctionfunction Jf takes nothing returns nothinglocal player BX7=MB7(GetHandleId(GetExpiredTimer()),"Leaver")local integer T8=1local integer Jglocal integer hY=GetPlayerState(BX7,PLAYER_STATE_RESOURCE_GOLD)if hY>20 thencall SetPlayerState(BX7,PLAYER_STATE_RESOURCE_GOLD,0)set UI4[GetPlayerId(BX7)]=0if Q_7(BX7)thenset Jg=P8(W7)elseset Jg=P8(X7)endifif Q_7(BX7)thenloopexitwhen T8>5if RD7(Y7[T8])thencall SetPlayerState(Y7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Y7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)endifset T8=T8+1endloopelseloopexitwhen T8>5if RD7(Z7[T8])thencall SetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Z7[T8],PLAYER_STATE_RESOURCE_GOLD)+hY/Jg)endifset T8=T8+1endloopendifendifendfunctionfunction BY7 takes player BX7 returns nothinglocal timer t=CreateTimer()local integer NO7=GetHandleId(t)call MM7(NO7,"Leaver",BX7)call TimerStart(t,2,true,function Jf)set t=nullendfunctionfunction BZ7 takes player p returns nothinglocal multiboarditem BA7=MultiboardGetItem(E4,NR4[GetPlayerId(p)],NQ4[GetPlayerId(p)])call MultiboardSetItemValue(BA7,"|c00333333"+S57(p)+"|r")call MultiboardReleaseItem(BA7)endfunctionfunction BB7 takes nothing returns nothinglocal player p=OO4local string id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,"8_0",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(0)))))call StoreInteger(JD4,id,"8_1",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(1)))))call StoreInteger(JD4,id,"8_2",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(2)))))call StoreInteger(JD4,id,"8_3",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(3)))))call StoreInteger(JD4,id,"8_4",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(4)))))call StoreInteger(JD4,id,"8_5",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(5)))))if GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_0")call SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_1")call SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_2")call SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_3")call SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_4")call SyncStoredInteger(JD4,I2S(GetPlayerId(p)),"8_5")endifendfunctionfunction BC7 takes nothing returns nothinglocal integer BD7=P8(W7)local integer B97=P8(X7)local integer T8local integer U8local string B37local string B67local unit TX7=G7[GetPlayerId(GetTriggerPlayer())]if TX7==null thenset B67=(GetObjectName(('n0EW')))elseset B67=GetUnitName(TX7)endifif(T<10)thenset B37=I2S(Q)+":0"+I2S(T)elseset B37=I2S(Q)+":"+I2S(T)endifif C8==false thenset X9[GetPlayerId(GetTriggerPlayer())]="|c00555555"+B37+"|r"call S_7(bj_FORCE_ALL_PLAYERS,25.00,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+" ("+B67+")|r|c00ff0303 "+(GetObjectName(('n02D')))+"|r")if(Q_7(GetTriggerPlayer())==true)thenset T8=1set U8=5loopexitwhen T8>U8if(Y7[T8]!=GetTriggerPlayer())thenif(RD7(Y7[T8])==true)thencall SetPlayerAllianceStateBJ(GetTriggerPlayer(),Y7[T8],4)endifendifset T8=T8+1endloopelseset T8=1set U8=5loopexitwhen T8>U8if(Z7[T8]!=GetTriggerPlayer())thenif(RD7(Z7[T8])==true)thencall SetPlayerAllianceStateBJ(GetTriggerPlayer(),Z7[T8],4)endifendifset T8=T8+1endloopendifif Q_7(GetTriggerPlayer())or R47(GetTriggerPlayer())thenset NF4=NF4+1endifcall AT7("C"+"K"+I2S(P7[GetPlayerId(GetTriggerPlayer())])+"D"+I2S(T7[GetPlayerId(GetTriggerPlayer())])+"N"+I2S((LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId(GetTriggerPlayer()))),StringHash("NumOfNeutrals")))),GetPlayerId(GetTriggerPlayer()))set OO4=GetTriggerPlayer()call ExecuteFunc("BB7")call BU7(GetTriggerPlayer())set U2[GetPlayerId(GetTriggerPlayer())]=truecall BZ7(GetTriggerPlayer())call BY7(GetTriggerPlayer())if NF4==2 and O8==false and Ny==true thencall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"|c006699CC"+(GetObjectName(('n0FW')))+"|r")endifif NF4==3 thenset OM4=truecall ExecuteFunc("BL7")set OM4=falseendifelseset X9[GetPlayerId(GetTriggerPlayer())]="|c00555555End|r"call ExecuteFunc("B17")endifset TX7=nullendfunctionfunction B07 takes unit T_7 returns nothingif GetUnitTypeId(T_7)!='H00J' and GetUnitTypeId(T_7)!='H00I' thenif GetOwningPlayer(T_7)==GetLocalPlayer()thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1,"|c006699CC"+(GetObjectName(('n0GR'))))call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,1," ")endifcall W_7(WR,GetOwningPlayer(T_7))endifcall SetUnitInvulnerable(T_7,false)call UnitRemoveAbility(T_7,'A0AZ')call UnitRemoveAbility(T_7,'A09J')call UnitRemoveAbility(T_7,'A0KT')call UnitRemoveAbility(T_7,'A0NW')call UnitRemoveAbility(T_7,'A0NU')call UnitRemoveAbility(T_7,'A0OW')call UnitRemoveAbility(T_7,'A0OV')call UnitRemoveAbility(T_7,'A0OX')call UnitRemoveAbility(T_7,'A0OY')call UnitRemoveAbility(T_7,'A0P0')call UnitRemoveAbility(T_7,'A17K')call UnitRemoveAbility(T_7,'A0PV')call UnitRemoveAbility(T_7,'A0QO')call UnitRemoveAbility(T_7,'A0RC')call UnitRemoveAbility(T_7,'A0RF')call UnitRemoveAbility(T_7,Ly)call UnitRemoveAbility(T_7,my)call UnitRemoveAbility(T_7,My)call UnitRemoveAbility(T_7,py)call UnitRemoveAbility(T_7,'A0NU')call UnitRemoveAbility(T_7,'A0NW')call UnitRemoveAbility(T_7,Lw)call UnitRemoveAbility(T_7,'A0I5')call UnitRemoveAbility(T_7,'A0C9')call UnitRemoveAbility(T_7,'A0IH')call UnitRemoveAbility(T_7,'B067')call UnitRemoveAbility(T_7,'B08L')call UnitRemoveAbility(T_7,'A0SR')call UnitRemoveAbility(T_7,'A0WO')call UnitRemoveAbility(T_7,'A0WR')call UnitRemoveAbility(T_7,'A1CN')call UnitRemoveAbility(T_7,'A0VH')call UnitRemoveAbility(T_7,'A0VJ')call UnitRemoveAbility(T_7,'A109')call UnitRemoveAbility(T_7,'A0VW')call UnitRemoveAbility(T_7,'A0XM')call UnitRemoveAbility(T_7,'A11O')call UnitRemoveAbility(T_7,'A11R')call UnitRemoveAbility(T_7,'A147')call UnitRemoveAbility(T_7,'A148')call UnitRemoveAbility(T_7,'A11U')call UnitRemoveAbility(T_7,'A149')call UnitRemoveAbility(T_7,'A121')call UnitRemoveAbility(T_7,'A126')call UnitRemoveAbility(T_7,'A179')call UnitRemoveAbility(T_7,'Aetl')call UnitRemoveAbility(T_7,n1[0])call UnitRemoveAbility(T_7,n1[1])call UnitRemoveAbility(T_7,n1[2])call UnitRemoveAbility(T_7,n1[3])call UnitRemoveAbility(T_7,n1[4])call UnitRemoveAbility(T_7,n1[5])call UnitRemoveAbility(T_7,'A1G5')call UnitRemoveAbility(T_7,'A1G3')call UnitRemoveAbility(T_7,'A1G6')call UnitRemoveAbility(T_7,'A1G4')call ME7(GetHandleId(T_7),"Grapple",false)call SetUnitPathing(T_7,true)call PauseUnit(T_7,false)call SetUnitFlyHeight(T_7,GetUnitDefaultFlyHeight(T_7),0)call SetUnitScale(T_7,V87(T_7)*AN,V87(T_7)*AN,V87(T_7)*AN)call UnitRemoveAbility(T_7,'A1CA')call UnitRemoveAbility(T_7,'A1C9')call UnitRemoveAbility(T_7,'A1CB')call UnitRemoveAbility(T_7,'A1CC')call UnitRemoveAbility(T_7,'A1GA')call UnitRemoveAbility(T_7,'A1W3')call UnitRemoveAbility(T_7,'B0DO')call UnitRemoveAbility(T_7,'A1UH')call UnitRemoveAbility(T_7,'A1UI')call UnitRemoveAbility(T_7,'A1Z4')call UnitRemoveAbility(T_7,'A1ZA')call UnitRemoveAbility(T_7,'A1ZB')call UnitRemoveAbility(T_7,'A1Z9')call UnitRemoveAbility(T_7,'B0DV')call UnitRemoveAbility(T_7,'A266')call UnitRemoveAbility(T_7,'A265')call UnitRemoveAbility(T_7,'A24L')call UnitRemoveAbility(T_7,'B0ED')call UnitRemoveAbility(T_7,'A23O')call UnitRemoveAbility(T_7,'B0E9')call ZZ7(T_7,0)if GetUnitTypeId(T_7)=='E02N' or GetUnitTypeId(T_7)=='E02O' thencall UnitRemoveAbility(T_7,'A237')call UnitAddAbility(T_7,'A22B')call UnitRemoveAbility(T_7,'A22B')if KO7(T_7,OU[HK4])!=null thencall UnitAddAbility(T_7,'A237')endifendifcall UnitRemoveAbility(T_7,'A23F')set I04=T_7call ExecuteFunc("B57")endfunctionfunction B27 takes nothing returns booleanif GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),QZ,ALLIANCE_SHARED_CONTROL)==true and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false thenset MZ=MZ+1endifreturn falseendfunctionfunction B_7 takes unit u,player p,real x,real y,boolean C47 returns nothinglocal group g=TL7()set MZ=0set QZ=pcall GroupEnumUnitsSelected(g,p,Condition(function B27))if MZ==0 and GetLocalPlayer()==p thenif C47==false thencall ClearSelection()call SelectUnit(u,true)endifcall PanCameraToTimed(x,y,0)endifset MZ=0call T67(g)set g=nullendfunctionfunction C77 takes unit S4 returns booleanreturn GetUnitTypeId(S4)=='H00I' or GetUnitTypeId(S4)=='H00J'endfunctionfunction C87 takes unit C97 returns nothinglocal integer CD7if KO7(C97,OU[DZ4])!=null and GetUnitTypeId(C97)!='H00J' thenset CD7=R2I(GetItemCharges(KO7(C97,OU[DZ4]))*0.67)if GetItemCharges(KO7(C97,OU[DZ4]))==1 thenset CD7=0endifcall SetItemCharges(KO7(C97,OU[DZ4]),CD7)call AddHeroXP(C97,GetHeroXP(OV4[GetPlayerId(GetOwningPlayer(C97))]),true)call RemoveUnit(OV4[GetPlayerId(GetOwningPlayer(C97))])endifendfunctionfunction CE7 takes unit u returns nothinglocal integer NO7=GetHandleId(GetOwningPlayer(u))local unit CF7=MZ7(NO7,"Kobold0")local unit CG7=MZ7(NO7,"Kobold1")local unit CH7=MZ7(NO7,"Kobold2")local unit CI7=MZ7(NO7,"Kobold3")local unit CJ7=MZ7(NO7,"Kobold4")local unit CK7set CK7=CF7if CK7!=null thencall RemoveUnit(CK7)endifset CK7=CG7if CK7!=null thencall RemoveUnit(CK7)endifset CK7=CH7if CK7!=null thencall RemoveUnit(CK7)endifset CK7=CI7if CK7!=null thencall RemoveUnit(CK7)endifset CK7=CJ7if CK7!=null thencall RemoveUnit(CK7)endifset CK7=nullset CJ7=nullset CI7=nullset CH7=nullset CG7=nullset CF7=nullendfunctionfunction CM7 takes nothing returns booleancall NM7(GetTriggeringTrigger())set OX4=falsereturn falseendfunctionfunction CN7 takes unit CO7 returns nothinglocal integer NO7=GetHandleId(GetOwningPlayer(CO7))local unit CF7=MZ7(NO7,"Kobold0")local unit CG7=MZ7(NO7,"Kobold1")local unit CH7=MZ7(NO7,"Kobold2")local unit CI7=MZ7(NO7,"Kobold3")local unit CJ7=MZ7(NO7,"Kobold4")local unit CK7local real x=GetUnitX(CF7)local real y=GetUnitY(CF7)local trigger tif OX4==false thenif Q_7(GetOwningPlayer(CF7))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifelseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function CM7))endifset CK7=CF7if CK7!=null and CO7!=CK7 thencall ReviveHero(CK7,x,y,false)call SetUnitX(CK7,x)call SetUnitY(CK7,y)call B07(CK7)call SetUnitPathing(CK7,true)call SetUnitState(CK7,UNIT_STATE_MANA,10000)endifset CK7=CG7if CK7!=null and CO7!=CK7 thencall ReviveHero(CK7,x,y,false)call SetUnitX(CK7,x)call SetUnitY(CK7,y)call B07(CK7)call SetUnitPathing(CK7,true)call SetUnitState(CK7,UNIT_STATE_MANA,10000)endifset CK7=CH7if CK7!=null and CO7!=CK7 thencall ReviveHero(CK7,x,y,false)call SetUnitX(CK7,x)call SetUnitY(CK7,y)call B07(CK7)call SetUnitPathing(CK7,true)call SetUnitState(CK7,UNIT_STATE_MANA,10000)endifset CK7=CI7if CK7!=null and CO7!=CK7 thencall ReviveHero(CK7,x,y,false)call SetUnitX(CK7,x)call SetUnitY(CK7,y)call B07(CK7)call SetUnitPathing(CK7,true)call SetUnitState(CK7,UNIT_STATE_MANA,10000)endifset CK7=CJ7if CK7!=null and CO7!=CK7 thencall ReviveHero(CK7,x,y,false)call SetUnitX(CK7,x)call SetUnitY(CK7,y)call B07(CK7)call SetUnitPathing(CK7,true)call SetUnitState(CK7,UNIT_STATE_MANA,10000)endifset t=nullset CK7=nullset CI7=nullset CH7=nullset CG7=nullset CF7=nullendfunctionfunction CP7 takes unit TX7 returns nothinglocal integer CQ7=GetUnitPointValue(TX7)local unit CR7if(CQ7==34)thencall ExecuteFunc("CS7")call ExecuteFunc("CT7")call ExecuteFunc("CU7")elseif(CQ7==37)thencall ExecuteFunc("CV7")call ExecuteFunc("CW7")call ExecuteFunc("CX7")call ExecuteFunc("CY7")elseif(CQ7==38)thencall ExecuteFunc("CZ7")call ExecuteFunc("CA7")call ExecuteFunc("CB7")call ExecuteFunc("CC7")elseif(CQ7==32)thencall ExecuteFunc("C37")call ExecuteFunc("C67")call ExecuteFunc("CL7")elseif(CQ7==52)thencall ExecuteFunc("C17")call ExecuteFunc("C07")call ExecuteFunc("C57")call ExecuteFunc("C27")elseif(CQ7==31)thencall ExecuteFunc("C_7")call ExecuteFunc("L47")elseif(CQ7==24)thencall ExecuteFunc("Op")call ExecuteFunc("Oq")call ExecuteFunc("L77")call ExecuteFunc("L87")elseif(CQ7==5)thencall ExecuteFunc("L97")call ExecuteFunc("LD7")elseif(CQ7==8)thencall ExecuteFunc("LE7")call ExecuteFunc("LF7")call ExecuteFunc("OZ")call ExecuteFunc("LG7")call ExecuteFunc("O4")elseif(CQ7==3)thencall ExecuteFunc("LH7")call ExecuteFunc("LI7")call ExecuteFunc("LJ7")call ExecuteFunc("LK7")elseif(CQ7==95)thencall ExecuteFunc("LM7")call ExecuteFunc("LN7")call ExecuteFunc("LO7")call ExecuteFunc("LP7")call ExecuteFunc("LQ7")elseif(CQ7==20)thencall ExecuteFunc("LR7")call ExecuteFunc("LS7")call ExecuteFunc("po")call ExecuteFunc("LT7")elseif(CQ7==12)thencall ExecuteFunc("LU7")call ExecuteFunc("LV7")call ExecuteFunc("LW7")elseif(CQ7==16)thencall ExecuteFunc("LX7")call ExecuteFunc("LY7")call ExecuteFunc("LZ7")call ExecuteFunc("LA7")call ExecuteFunc("LB7")elseif(CQ7==25)thencall ExecuteFunc("LC7")call ExecuteFunc("pX")elseif(CQ7==4)thencall ExecuteFunc("L37")call ExecuteFunc("L67")call ExecuteFunc("pZ")call ExecuteFunc("LL7")call ExecuteFunc("L17")call ExecuteFunc("L07")call SetUnitPathing(TX7,false)set OK4=trueset CR7=CreateUnit(GetOwningPlayer(TX7),GetUnitTypeId(TX7),GetUnitX(TX7),GetUnitY(TX7),GetUnitFacing(TX7))call ME7(GetHandleId(CR7),"EnteredAlready",true)set G7[GetPlayerId(GetOwningPlayer(TX7))]=CR7call SetUnitPathing(CR7,false)call SetUnitPosition(CR7,GetUnitX(TX7),GetUnitY(TX7))if W thencall SetHeroXP(CR7,GetHeroXP(TX7),false)call UnitAddItem(CR7,UnitItemInSlot(TX7,0))call UnitAddItem(CR7,UnitItemInSlot(TX7,1))call UnitAddItem(CR7,UnitItemInSlot(TX7,2))call UnitAddItem(CR7,UnitItemInSlot(TX7,3))call UnitAddItem(CR7,UnitItemInSlot(TX7,4))call UnitAddItem(CR7,UnitItemInSlot(TX7,5))endifcall VW7(TX7)call SetUnitPathing(CR7,true)call ClearSelectionForPlayer(GetOwningPlayer(CR7))call SelectUnitAddForPlayer(CR7,GetOwningPlayer(CR7))elseif(CQ7==7)thencall ExecuteFunc("L57")call ExecuteFunc("L27")call ExecuteFunc("L_7")elseif(CQ7==18)thencall ExecuteFunc("D48")call ExecuteFunc("D78")elseif(CQ7==36)thencall ExecuteFunc("PN")elseif(CQ7==21)thencall ExecuteFunc("Po")call ExecuteFunc("PO")call ExecuteFunc("D88")call ExecuteFunc("D98")elseif(CQ7==14)thencall ExecuteFunc("DD8")call ExecuteFunc("DE8")call ExecuteFunc("DF8")call ExecuteFunc("DG8")call ExecuteFunc("Pr")call ExecuteFunc("DH8")elseif(CQ7==13)thencall ExecuteFunc("DI8")call ExecuteFunc("DJ8")call ExecuteFunc("GS")call ExecuteFunc("DK8")elseif(CQ7==26)thencall ExecuteFunc("DM8")call ExecuteFunc("Pv")call ExecuteFunc("PV")call ExecuteFunc("DN8")elseif(CQ7==9)thencall ExecuteFunc("Pw")call ExecuteFunc("DO8")call ExecuteFunc("DP8")call ExecuteFunc("DQ8")elseif(CQ7==10)thencall ExecuteFunc("DR8")call ExecuteFunc("DS8")call ExecuteFunc("DT8")call ExecuteFunc("DU8")call ExecuteFunc("DV8")call ExecuteFunc("qb")call ExecuteFunc("qB")call ExecuteFunc("qc")elseif(CQ7==23)thencall ExecuteFunc("qC")call ExecuteFunc("qD")call ExecuteFunc("qe")call ExecuteFunc("qg")elseif(CQ7==19)thencall ExecuteFunc("DW8")call ExecuteFunc("DX8")call ExecuteFunc("DY8")elseif(CQ7==22)thencall ExecuteFunc("DZ8")call ExecuteFunc("DA8")call ExecuteFunc("DB8")call ExecuteFunc("DC8")elseif(CQ7==17)thencall ExecuteFunc("D38")call ExecuteFunc("D68")elseif(CQ7==1)thencall ExecuteFunc("DL8")call ExecuteFunc("D18")call ExecuteFunc("D08")elseif(CQ7==2)thencall ExecuteFunc("D58")call ExecuteFunc("D28")call ExecuteFunc("D_8")call ExecuteFunc("E48")elseif(CQ7==27)thencall ExecuteFunc("E78")call ExecuteFunc("E88")call ExecuteFunc("E98")call ExecuteFunc("ED8")call ExecuteFunc("EE8")elseif(CQ7==82)thencall ExecuteFunc("EF8")call ExecuteFunc("EG8")call ExecuteFunc("EH8")call ExecuteFunc("EI8")elseif(CQ7==75)thencall ExecuteFunc("EJ8")call ExecuteFunc("EK8")call ExecuteFunc("EM8")call ExecuteFunc("EN8")elseif(CQ7==83)thencall ExecuteFunc("EO8")call ExecuteFunc("EP8")call ExecuteFunc("EQ8")call ExecuteFunc("ER8")elseif(CQ7==59)thencall ExecuteFunc("ES8")call ExecuteFunc("ET8")call ExecuteFunc("EU8")call ExecuteFunc("EV8")elseif(CQ7==108)thencall ExecuteFunc("EW8")call ExecuteFunc("EX8")elseif(CQ7==69)thencall ExecuteFunc("EY8")call ExecuteFunc("EZ8")call ExecuteFunc("EA8")call ExecuteFunc("EB8")call ExecuteFunc("EC8")elseif(CQ7==100)thencall ExecuteFunc("E38")call ExecuteFunc("E68")call ExecuteFunc("EL8")elseif(CQ7==102)thencall ExecuteFunc("E18")elseif(CQ7==64)thencall ExecuteFunc("E08")call ExecuteFunc("E58")call ExecuteFunc("E28")elseif(CQ7==106)thencall ExecuteFunc("E_8")call ExecuteFunc("F48")call ExecuteFunc("F78")elseif(CQ7==61)thencall ExecuteFunc("F88")call ExecuteFunc("F98")call ExecuteFunc("FD8")elseif(CQ7==76)thencall ExecuteFunc("FE8")call ExecuteFunc("FF8")call ExecuteFunc("FG8")call ExecuteFunc("FH8")elseif(CQ7==80)thencall ExecuteFunc("FI8")call ExecuteFunc("FJ8")call ExecuteFunc("FK8")call ExecuteFunc("Rm")call ExecuteFunc("RM")elseif(CQ7==62)thencall ExecuteFunc("FM8")call ExecuteFunc("FN8")call ExecuteFunc("FO8")elseif(CQ7==60)thencall ExecuteFunc("FP8")call ExecuteFunc("FQ8")call ExecuteFunc("FR8")elseif(CQ7==77)thencall ExecuteFunc("FS8")call ExecuteFunc("FT8")call ExecuteFunc("FU8")call ExecuteFunc("FV8")call ExecuteFunc("FW8")elseif(CQ7==73)thencall ExecuteFunc("R4")elseif(CQ7==81)thencall ExecuteFunc("FX8")call ExecuteFunc("FY8")call ExecuteFunc("sa")call ExecuteFunc("sB")elseif(CQ7==66)thencall ExecuteFunc("FZ8")elseif(CQ7==78)thencall ExecuteFunc("FA8")call ExecuteFunc("FB8")call ExecuteFunc("FC8")call ExecuteFunc("F38")elseif(CQ7==99)thencall ExecuteFunc("F68")call ExecuteFunc("FL8")call ExecuteFunc("F18")call ExecuteFunc("F08")call ExecuteFunc("F58")call ExecuteFunc("F28")elseif(CQ7==74)thencall ExecuteFunc("F_8")call ExecuteFunc("G48")call ExecuteFunc("G78")call ExecuteFunc("G88")elseif(CQ7==105)thencall ExecuteFunc("G98")call ExecuteFunc("GD8")elseif(CQ7==70)thencall ExecuteFunc("GE8")call ExecuteFunc("GF8")call ExecuteFunc("GG8")elseif(CQ7==107)thencall ExecuteFunc("GH8")call ExecuteFunc("GI8")call ExecuteFunc("GJ8")call ExecuteFunc("GK8")elseif(CQ7==79)thencall ExecuteFunc("GM8")call ExecuteFunc("GN8")call ExecuteFunc("GO8")call ExecuteFunc("GP8")elseif(CQ7==68)thencall ExecuteFunc("GQ8")call ExecuteFunc("GR8")elseif(CQ7==84)thencall ExecuteFunc("GS8")call ExecuteFunc("GT8")call ExecuteFunc("s7")call ExecuteFunc("GU8")elseif(CQ7==85)thencall ExecuteFunc("GV8")call ExecuteFunc("GW8")call ExecuteFunc("GX8")call ExecuteFunc("GY8")call ExecuteFunc("GZ8")elseif(CQ7==86)thencall ExecuteFunc("GA8")call ExecuteFunc("GB8")call ExecuteFunc("GC8")call ExecuteFunc("G38")elseif(CQ7==87)thencall ExecuteFunc("G68")call ExecuteFunc("GL8")call ExecuteFunc("G18")call ExecuteFunc("G08")elseif(CQ7==33)thencall ExecuteFunc("G58")call ExecuteFunc("G28")call ExecuteFunc("G_8")elseif(CQ7==39)thencall ExecuteFunc("H48")call ExecuteFunc("H78")call ExecuteFunc("H88")elseif(CQ7==88)thencall ExecuteFunc("H98")call ExecuteFunc("HD8")call ExecuteFunc("HE8")call ExecuteFunc("HF8")elseif(CQ7==40)thencall ExecuteFunc("HG8")call ExecuteFunc("HH8")call ExecuteFunc("HI8")call ExecuteFunc("HJ8")elseif CQ7==89 thencall ExecuteFunc("HK8")call ExecuteFunc("HM8")elseif CQ7==90 thencall ExecuteFunc("HN8")call ExecuteFunc("HO8")call ExecuteFunc("HP8")call ExecuteFunc("HQ8")elseif CQ7==71 thencall ExecuteFunc("HR8")call ExecuteFunc("HS8")call ExecuteFunc("HT8")call ExecuteFunc("HU8")elseif CQ7==93 thencall ExecuteFunc("HV8")call ExecuteFunc("HW8")call ExecuteFunc("tU")call ExecuteFunc("HX8")elseif CQ7==42 thencall ExecuteFunc("HY8")call ExecuteFunc("HZ8")call ExecuteFunc("HA8")call ExecuteFunc("HB8")elseif CQ7==91 thencall ExecuteFunc("HC8")call ExecuteFunc("H38")call ExecuteFunc("H68")call ExecuteFunc("HL8")call ExecuteFunc("H18")call ExecuteFunc("H08")elseif CQ7==92 thencall ExecuteFunc("H58")call ExecuteFunc("H28")call ExecuteFunc("H_8")call ExecuteFunc("I48")elseif CQ7==41 thencall ExecuteFunc("I78")call ExecuteFunc("I88")call ExecuteFunc("I98")call ExecuteFunc("ID8")call ExecuteFunc("IE8")elseif CQ7==43 thencall ExecuteFunc("IF8")call ExecuteFunc("IG8")call ExecuteFunc("IH8")call ExecuteFunc("II8")call ExecuteFunc("IJ8")call ExecuteFunc("IK8")elseif CQ7==44 thencall ExecuteFunc("IM8")call ExecuteFunc("uI")call ExecuteFunc("IN8")call ExecuteFunc("IO8")elseif CQ7==72 thencall ExecuteFunc("IP8")call ExecuteFunc("IQ8")call ExecuteFunc("IR8")call ExecuteFunc("IS8")elseif CQ7==94 thencall ExecuteFunc("IT8")elseif CQ7==6 thencall ExecuteFunc("IU8")call ExecuteFunc("IV8")call ExecuteFunc("IW8")elseif CQ7==104 thencall ExecuteFunc("IX8")call ExecuteFunc("IY8")elseif CQ7==65 thencall ExecuteFunc("IZ8")call ExecuteFunc("IA8")call ExecuteFunc("IB8")call ExecuteFunc("IC8")elseif CQ7==45 thencall ExecuteFunc("I38")call ExecuteFunc("I68")call ExecuteFunc("IL8")call ExecuteFunc("I18")elseif CQ7==58 thencall ExecuteFunc("I08")call ExecuteFunc("I58")call ExecuteFunc("I28")elseif CQ7==63 thencall ExecuteFunc("I_8")call ExecuteFunc("J48")elseif CQ7==46 thencall ExecuteFunc("J78")call ExecuteFunc("J88")call ExecuteFunc("J98")call ExecuteFunc("JD8")elseif CQ7==47 thencall ExecuteFunc("JE8")call ExecuteFunc("JF8")call ExecuteFunc("JG8")call ExecuteFunc("JH8")elseif CQ7==11 thencall ExecuteFunc("JI8")call ExecuteFunc("JJ8")elseif CQ7==96 thencall ExecuteFunc("JK8")call ExecuteFunc("JM8")call ExecuteFunc("JN8")call ExecuteFunc("JO8")elseif CQ7==15 thencall ExecuteFunc("JP8")call ExecuteFunc("JQ8")call ExecuteFunc("JR8")call ExecuteFunc("JS8")elseif CQ7==97 thencall ExecuteFunc("JT8")call ExecuteFunc("JU8")call ExecuteFunc("JV8")call ExecuteFunc("JW8")call ExecuteFunc("JX8")elseif CQ7==98 thencall ExecuteFunc("JY8")call ExecuteFunc("JZ8")call ExecuteFunc("JA8")call ExecuteFunc("JB8")call ExecuteFunc("JC8")elseif CQ7==67 thencall ExecuteFunc("J38")elseif CQ7==28 thencall ExecuteFunc("J68")elseif CQ7==51 thencall ExecuteFunc("JL8")call ExecuteFunc("J18")call ExecuteFunc("J08")call ExecuteFunc("J58")call ExecuteFunc("J28")call ExecuteFunc("J_8")elseif CQ7==100 thenelseif CQ7==101 thencall ExecuteFunc("K48")call ExecuteFunc("K78")call ExecuteFunc("K88")call ExecuteFunc("K98")elseif CQ7==48 thencall ExecuteFunc("KD8")call ExecuteFunc("KE8")call ExecuteFunc("KF8")call ExecuteFunc("KG8")elseif CQ7==49 thencall ExecuteFunc("KH8")call ExecuteFunc("KI8")call ExecuteFunc("KJ8")call ExecuteFunc("KK8")elseif CQ7==29 thencall ExecuteFunc("KM8")call ExecuteFunc("KN8")call ExecuteFunc("KO8")call ExecuteFunc("KP8")elseif CQ7==50 thencall ExecuteFunc("KQ8")call ExecuteFunc("KR8")call ExecuteFunc("KS8")call ExecuteFunc("KT8")elseif CQ7==30 thencall ExecuteFunc("KU8")call ExecuteFunc("KV8")elseif CQ7==53 thencall ExecuteFunc("KW8")call ExecuteFunc("KX8")call ExecuteFunc("KY8")call ExecuteFunc("KZ8")elseif CQ7==103 thencall ExecuteFunc("KA8")elseif CQ7==54 thencall ExecuteFunc("KB8")call ExecuteFunc("KC8")call ExecuteFunc("K38")call ExecuteFunc("K68")call ExecuteFunc("KL8")elseif CQ7==55 thencall ExecuteFunc("K18")call ExecuteFunc("K08")call ExecuteFunc("K58")call ExecuteFunc("K28")elseif CQ7==56 thencall ExecuteFunc("K_8")call ExecuteFunc("M48")call ExecuteFunc("M78")call ExecuteFunc("M88")elseif CQ7==57 thencall ExecuteFunc("M98")call ExecuteFunc("MD8")call ExecuteFunc("ME8")call ExecuteFunc("MF8")endifcall VJ7("MG8",false)set CR7=nullendfunctionfunction MH8 takes unit TX7 returns nothinglocal integer CQ7=GetUnitPointValue(TX7)if CQ7==500 thencall ExecuteFunc("MI8")call ExecuteFunc("MJ8")call ExecuteFunc("MK8")elseif CQ7==600 thencall ExecuteFunc("MM8")call ExecuteFunc("MN8")call ExecuteFunc("MO8")call ExecuteFunc("MP8")call ExecuteFunc("MQ8")endifendfunctionfunction MR8 takes player MS8,string MT8 returns nothingif IsPlayerInForce(GetLocalPlayer(),GetPlayersEnemies(MS8))thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,L8,40,K[GetPlayerId(MS8)]+(M74[GetPlayerId((MS8))])+"|r "+MT8)endifendfunctionfunction MU8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()set NH4=truecall NM7(t)call DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_MASKED,OL4,O14,700,false,false))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_MASKED,OL4,O14,700,false,false))set t=nullreturn falseendfunctionfunction MV8 takes unit u returns booleanreturn GetUnitTypeId(u)!='H00M' and GetUnitTypeId(u)!='H07G' and GetUnitTypeId(u)!='H00Y' and GetUnitTypeId(u)!='H00J' and GetUnitTypeId(u)!='H0B8'endfunctionfunction MW8 takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and N77(GetHandleId(GetTriggerUnit()),"EnteredAlready")==false and MV8(GetTriggerUnit())endfunctionfunction MX8 takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='n00C'endfunctionfunction MY8 takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction MZ8 takes player j8 returns nothinglocal group B47=TL7()local boolexpr hP=Condition(function MX8)call GroupEnumUnitsOfPlayer(B47,j8,hP)call ForGroup(B47,function MY8)call DestroyBoolExpr(hP)call T67(B47)set hP=nullset B47=nullendfunctionfunction MA8 takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='ncop'endfunctionfunction MB8 takes nothing returns nothingif PT thencall UnitRemoveAbility(K04[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14F')call UnitRemoveAbility(K04[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14E')call UnitRemoveAbility(K04[GetPlayerId(GetOwningPlayer(GetEnumUnit()))],'A14H')endifif GetUnitAbilityLevel(GetEnumUnit(),'A0I4')==0 thencall UnitAddAbility(GetEnumUnit(),'A0I4')endifendfunctionfunction MC8 takes player p returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,p,Condition(function MA8))call ForGroup(g,function MB8)call T67(g)set g=nullendfunctionfunction u6 takes player Ua returns playerlocal integer O5=1local integer Uc=0local boolean O6=falseloopif((Uc>0)and(K07(O5,O6)!=null)and(IsPlayerInForce(K07(O5,O6),QP4)))thenreturn K07(O5,O6)endifif(Y7[O5]==Ua)thenset O6=trueset Uc=O5elseif(Z7[O5]==Ua)thenset Uc=O5endifset O5=O5+1exitwhen O5>5endloopreturn nullendfunctionfunction M38 takes unit TX7,player p returns stringlocal string s=(GetObjectName(('n0DB')))set s=AX7(s,"$hero",GetUnitName(TX7))set s=AX7(s,"$p",(M74[GetPlayerId((p))]))return sendfunctionfunction M68 takes unit ML8 returns nothinglocal item M18=UnitItemInSlot(ML8,0)local item M08=UnitItemInSlot(ML8,1)local item M58=UnitItemInSlot(ML8,2)local item M28=UnitItemInSlot(ML8,3)local item M_8=UnitItemInSlot(ML8,4)local item N48=UnitItemInSlot(ML8,5)local integer N78=JV7(M18)local integer N88=JV7(M08)local integer N98=JV7(M58)local integer ND8=JV7(M28)local integer NE8=JV7(M_8)local integer NF8=JV7(N48)local integer NG8=0call DisableTrigger(HR4)call UnitRemoveItem(ML8,M18)call UnitRemoveItem(ML8,M08)call UnitRemoveItem(ML8,M58)call UnitRemoveItem(ML8,M28)call UnitRemoveItem(ML8,M_8)call UnitRemoveItem(ML8,N48)call RemoveItem(M18)call RemoveItem(M08)call RemoveItem(M58)call RemoveItem(M28)call RemoveItem(M_8)call RemoveItem(N48)call EnableTrigger(HR4)if N78>-1 thenset NG8=NG8+HZ4[N78]endifif N88>-1 thenset NG8=NG8+HZ4[N88]endifif N98>-1 thenset NG8=NG8+HZ4[N98]endifif ND8>-1 thenset NG8=NG8+HZ4[ND8]endifif NE8>-1 thenset NG8=NG8+HZ4[NE8]endifif NF8>-1 thenset NG8=NG8+HZ4[NF8]endifcall SetPlayerState(GetOwningPlayer(ML8),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(ML8),PLAYER_STATE_RESOURCE_GOLD)+NG8)set dH[GetPlayerId(GetOwningPlayer(ML8))]=0set N48=nullset M_8=nullset M28=nullset M58=nullset M08=nullset M18=nullendfunctionfunction NH8 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local player j8=GetOwningPlayer(TX7)local real xlocal real ylocal region r=CreateRegion()local player NI8=j8local item NJ8local trigger tlocal player plocal string sif((QR4!=null)and(IsTriggerEnabled(QR4)))thenif((GetOwningPlayer(GetTriggerUnit())==QK4)and(QN4!=null))thencall SetUnitOwner(GetTriggerUnit(),QN4,true)call SetUnitOwner(h4[512+GetPlayerId(QK4)],QK4,false)call SetUnitOwner(h4[512+GetPlayerId(QN4)],QN4,false)if(not oo[GetPlayerId(QN4)])thencall AdjustPlayerStateBJ(250,QK4,PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(-250,QN4,PLAYER_STATE_RESOURCE_GOLD)endifcall ExecuteFunc("UD")set QN4=u6(QN4)if(QN4!=null)thenif(not L)thencall SetUnitOwner(h4[512+GetPlayerId(QK4)],QN4,false)call SetUnitOwner(h4[512+GetPlayerId(QN4)],QK4,false)endifset s="Pick a hero for "+K[GetPlayerId(QN4)]+GetPlayerName(QN4)+"|r. Type "+EV7+"-px|r to cancel."set p=QK4elsecall RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset s="End of Picking"set p=QK4if not L thencall S47(QK4)endifendifelseif((GetOwningPlayer(GetTriggerUnit())==QM4)and(QO4!=null))thencall SetUnitOwner(GetTriggerUnit(),QO4,true)call SetUnitOwner(h4[512+GetPlayerId(QM4)],QM4,false)call SetUnitOwner(h4[512+GetPlayerId(QO4)],QO4,false)if(not oo[GetPlayerId(QO4)])thencall AdjustPlayerStateBJ(250,QM4,PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(-250,QO4,PLAYER_STATE_RESOURCE_GOLD)endifcall ExecuteFunc("UD")set QO4=u6(QO4)if(QO4!=null)thenif(not L)thencall SetUnitOwner(h4[512+GetPlayerId(QM4)],QO4,false)call SetUnitOwner(h4[512+GetPlayerId(QO4)],QM4,false)endifset s="Pick a hero for "+K[GetPlayerId(QO4)]+GetPlayerName(QO4)+"|r. Type "+EV7+"-px|r to cancel."set p=QM4elsecall RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset s="End of Picking"set p=QM4if not L thencall S47(QM4)endifendifendifendifset j8=GetOwningPlayer(TX7)set NI8=j8if W==false thencall A97(GetOwningPlayer(TX7))endifif(GetObjectName(('n0HH')))=="Language: English" and(MX4[(GetUnitPointValue(TX7))]!="")thencall DisplayTimedTextToPlayer(j8,0,0,4,"A |c006699CC-tips|r command is available if you would like some pointers for this hero")endifif KT[GetPlayerId(j8)]==true thencall ZC7(j8,GetUnitPointValue(TX7))endifif NH4==false and(G7[GetPlayerId(Y7[1])]!=null and G7[GetPlayerId(Y7[2])]!=null and G7[GetPlayerId(Y7[3])]!=null and G7[GetPlayerId(Y7[4])]!=null and G7[GetPlayerId(Y7[5])]!=null and G7[GetPlayerId(Z7[1])]!=null and G7[GetPlayerId(Z7[2])]!=null and G7[GetPlayerId(Z7[3])]!=null and G7[GetPlayerId(Z7[4])]!=null and G7[GetPlayerId(Z7[5])]!=null)thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,7.,false)call TriggerAddCondition(t,Condition(function MU8))set t=nullendifset IX4[GetPlayerId(GetOwningPlayer((TX7)))]=falsecall RegionAddRect(r,cE)if F9 and ao==false thenset eo[GetPlayerId(j8)]=trueset j8=MB7(StringHash("Global|ReverseMode"),(M74[GetPlayerId((j8))]))call SetUnitOwner(TX7,j8,true)if(GetPlayerController(j8)==MAP_CONTROL_COMPUTER)and not W and not RJ4 thencall MF7(QC4,"AIHSwap|U",TX7)call ExecuteFunc("Uf")endifendifif Q_7(GetOwningPlayer(TX7))thenif IsUnitInRegion(r,TX7)thenset x=GetRandomReal(GetRectMinX(Z9),GetRectMaxX(Z9))set y=GetRandomReal(GetRectMinY(Z9),GetRectMaxY(Z9))elseset x=GetUnitX(TX7)set y=GetUnitY(TX7)endifelseif IsUnitInRegion(r,TX7)thenset x=GetRandomReal(GetRectMinX(Y9),GetRectMaxX(Y9))set y=GetRandomReal(GetRectMinY(Y9),GetRectMaxY(Y9))elseset x=GetUnitX(TX7)set y=GetUnitY(TX7)endifendifset Tx[GetPlayerId(j8)]=trueif(not F9 or ao)thenif O34==false and tW==false thencall PanCameraToTimedForPlayer(j8,x,y,0)endifcall ClearSelectionForPlayer(j8)call SelectUnitAddForPlayer(TX7,j8)endifcall SetUnitX(TX7,x)call SetUnitY(TX7,y)set G7[GetPlayerId(j8)]=TX7call AQ7(j8,"9",GetUnitTypeId(TX7))if F9 and ao==false thencall R57(NI8)elsecall R57(j8)endifcall ME7(GetHandleId(TX7),"EnteredAlready",true)if not V8 and not RJ4 thenset v[GetUnitPointValue(TX7)]=truecall R07(GetUnitTypeId(TX7))endifif W thenif Q_7(j8)thenset Oe[0]=Oe[0]+1elseset Oe[1]=Oe[1]+1endifendifif W or RJ4 thenset Be[GetPlayerId(j8)]=Be[GetPlayerId(j8)]+1if Be[GetPlayerId(GetOwningPlayer(TX7))]>1 and TX7!=U7[GetPlayerId(GetOwningPlayer(TX7))]thencall C87(U7[GetPlayerId(GetOwningPlayer(TX7))])call SetHeroXP(TX7,GetHeroXP(U7[GetPlayerId(GetOwningPlayer(TX7))]),false)if GetPlayerController(GetOwningPlayer(TX7))==MAP_CONTROL_USER thencall DisableTrigger(HR4)call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],0))call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],1))call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],2))call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],3))call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],4))call UnitAddItem(TX7,UnitItemInSlot(U7[GetPlayerId(GetOwningPlayer(TX7))],5))call EnableTrigger(HR4)elsecall M68(U7[GetPlayerId(GetOwningPlayer(TX7))])endifif C77(U7[GetPlayerId(GetOwningPlayer(TX7))])thencall CE7(U7[GetPlayerId(GetOwningPlayer(TX7))])elsecall VW7(U7[GetPlayerId(GetOwningPlayer(TX7))])endifendifendifif F9 thenif TimerGetElapsed(P)>60 thencall MR8(j8,(GetObjectName(('n02E')))+" "+GetUnitName(TX7))elseif T4[GetPlayerId(NI8)]==true thencall MR8(j8,M38(TX7,NI8))elsecall SetPlayerState(NI8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(NI8,PLAYER_STATE_RESOURCE_GOLD)+250)call MR8(j8,(GetObjectName(('n0D1')))+" "+GetUnitName(TX7)+" "+(GetObjectName(('n0D0')))+" "+(M74[GetPlayerId((NI8))]))endifelseif IJ4==false or j8==Le thenif(I[GetPlayerId(GetOwningPlayer(TX7))]==true and IJ4==false)thencall MR8(j8,(GetObjectName(('n0D5')))+" "+GetUnitName(TX7)+".")elseif((T4[GetPlayerId(j8)]==true and W==false)or B or C or Y8 or RJ4)thencall MR8(j8,(GetObjectName(('n0D3')))+" "+GetUnitName(TX7)+".")elsecall MR8(j8,(GetObjectName(('n0D2')))+" "+GetUnitName(TX7)+".")endifendifif HQ4 thenif F9 thencall MZ8(NI8)elsecall MZ8(j8)endifendifif(O34 or tW)and HQ4 thencall MZ8(j8)endifcall MC8(j8)if(GetUnitTypeId(TX7)=='E005')thencall DisplayTimedTextToPlayer(j8,0,L8,60.00," ")call DisplayTimedTextToPlayer(j8,0,L8,60.00,"|c00ff0303"+(GetObjectName(('n06H')))+(GetObjectName(('n0CB')))+" "+(GetObjectName(('n06E')))+"|r")elseif GetUnitTypeId(TX7)=='O00J' or GetUnitTypeId(TX7)=='N016' or GetUnitTypeId(TX7)=='UC91' or GetUnitTypeId(TX7)=='EC45' thencall DisplayTimedTextToPlayer(j8,0,L8,10.00," ")call DisplayTimedTextToPlayer(j8,0,L8,10.00,"|c00ff0303"+(GetObjectName(('n0G3')))+"|r")endifif(GetUnitTypeId(TX7)=='E01B')thencall DisplayTimedTextToPlayer(j8,0,L8,30.00," ")call DisplayTimedTextToPlayer(j8,0,L8,30.00,"|c00ff0303"+(GetObjectName(('n06P')))+" "+(GetObjectName(('n06U')))+"|r")endifif(T4[GetPlayerId(j8)]==false)thenif(W8)thencall SetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD,175+GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))endifendifif N77(StringHash("HeroInit:"+I2S(GetUnitPointValue(TX7))),"Initialized")==false thencall ME7(StringHash("HeroInit:"+I2S(GetUnitPointValue(TX7))),"Initialized",true)call CP7(TX7)call MH8(TX7)endifset I04=TX7call ExecuteFunc("NK8")if ib[GetPlayerId(GetLocalPlayer())]==false thenif R97(j8)thencall SetPlayerName(j8,M74[GetPlayerId((j8))])elsecall SetPlayerName(j8,(M74[GetPlayerId((j8))])+" ("+TP7(G7[GetPlayerId(j8)])+")")endifendifcall DisplayTimedTextToPlayer(p,0,0,10.,s)set p=nullcall RemoveRegion(r)set TX7=nullset NJ8=nullendfunctionfunction NM8 takes nothing returns booleanreturn IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==trueendfunctionfunction NN8 takes nothing returns nothingif((QR4!=null)and(IsTriggerEnabled(QR4)))thenif((GetOwningPlayer(GetSoldUnit())==QK4)and(QN4!=null))thenreturnelseif((GetOwningPlayer(GetSoldUnit())==QM4)and(QO4!=null))thenreturnendifendifcall R57(GetOwningPlayer(GetSoldUnit()))endfunctionfunction NO8 takes nothing returns booleanlocal integer NP8local integer O5=1loopexitwhen O5>11if O5==6 thenset O5=7endifset NP8=0if(IsPlayerInForce(Player(O5),QP4))thenset LX4[O5]=LX4[O5]+(I2R(X54[48+O5])/8)set NP8=R2I(LX4[O5])if NP8<0 thenset NP8=0endifset LX4[O5]=LX4[O5]-I2R(NP8)endifif(W4)thenset NP8=NP8+2elseset NP8=NP8+1endifcall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+NP8)set O5=O5+1endloopreturn falseendfunctionfunction NQ8 takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and(LoadInteger(NO4,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()))))>0 thencall TimerStart(NP4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],(LoadInteger(NO4,(GetSpellAbilityId()),(GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId())))),false,null)endifif GetSpellAbilityId()=='A02W' thencall TimerStart(NP4[GetPlayerId((GetOwningPlayer(GetTriggerUnit())))],0,false,null)endifreturn falseendfunctionfunction NR8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer icall WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NQ8))set i=0loopexitwhen(i>13)set NP4[i]=CreateTimer()set i=i+1endloopset NO4=InitHashtable()call SaveInteger(NO4,'A11K',1,90)call SaveInteger(NO4,'A11K',2,80)call SaveInteger(NO4,'A11K',3,70)call SaveInteger(NO4,'A0O2',1,80)call SaveInteger(NO4,'A0O2',2,75)call SaveInteger(NO4,'A0O2',3,70)call SaveInteger(NO4,'A289',1,45)call SaveInteger(NO4,'A289',2,45)call SaveInteger(NO4,'A289',3,45)call SaveInteger(NO4,'A0DH',1,150)call SaveInteger(NO4,'A0DH',2,130)call SaveInteger(NO4,'A0DH',3,110)call SaveInteger(NO4,'A1OB',1,150)call SaveInteger(NO4,'A1OB',2,130)call SaveInteger(NO4,'A1OB',3,110)call SaveInteger(NO4,'A0ER',1,150)call SaveInteger(NO4,'A0ER',2,150)call SaveInteger(NO4,'A0ER',3,150)call SaveInteger(NO4,'A0MQ',1,180)call SaveInteger(NO4,'A0MQ',2,160)call SaveInteger(NO4,'A0MQ',3,140)call SaveInteger(NO4,'A1B6',1,160)call SaveInteger(NO4,'A1B6',2,140)call SaveInteger(NO4,'A1B6',3,120)call SaveInteger(NO4,'A1WH',1,80)call SaveInteger(NO4,'A1WH',2,80)call SaveInteger(NO4,'A1WH',3,80)call SaveInteger(NO4,'A1A1',1,100)call SaveInteger(NO4,'A1A1',2,100)call SaveInteger(NO4,'A1A1',3,100)call SaveInteger(NO4,'A07Z',1,115)call SaveInteger(NO4,'A07Z',2,105)call SaveInteger(NO4,'A07Z',3,95)call SaveInteger(NO4,'ANcr',1,45)call SaveInteger(NO4,'ANcr',2,45)call SaveInteger(NO4,'ANcr',3,45)call SaveInteger(NO4,'A0Z8',1,80)call SaveInteger(NO4,'A0Z8',2,60)call SaveInteger(NO4,'A0Z8',3,40)call SaveInteger(NO4,'A1CV',1,20)call SaveInteger(NO4,'A1CV',2,20)call SaveInteger(NO4,'A1CV',3,20)call SaveInteger(NO4,'A03G',1,115)call SaveInteger(NO4,'A03G',2,115)call SaveInteger(NO4,'A03G',3,115)call SaveInteger(NO4,'A29L',1,120)call SaveInteger(NO4,'A29L',2,110)call SaveInteger(NO4,'A29L',3,100)call SaveInteger(NO4,'A0QR',1,45)call SaveInteger(NO4,'A0QR',2,30)call SaveInteger(NO4,'A0QR',3,15)call SaveInteger(NO4,'A1B3',1,24)call SaveInteger(NO4,'A1B3',2,16)call SaveInteger(NO4,'A1B3',3,8)call SaveInteger(NO4,'A06R',1,140)call SaveInteger(NO4,'A06R',2,120)call SaveInteger(NO4,'A06R',3,100)call SaveInteger(NO4,'A1B4',1,120)call SaveInteger(NO4,'A1B4',2,100)call SaveInteger(NO4,'A1B4',3,80)call SaveInteger(NO4,'A0G4',1,75)call SaveInteger(NO4,'A0G4',2,75)call SaveInteger(NO4,'A0G4',3,75)call SaveInteger(NO4,'A1D8',1,20)call SaveInteger(NO4,'A1D8',2,20)call SaveInteger(NO4,'A1D8',3,20)call SaveInteger(NO4,'A29I',1,150)call SaveInteger(NO4,'A29I',2,150)call SaveInteger(NO4,'A29I',3,150)call SaveInteger(NO4,'A0E2',1,75)call SaveInteger(NO4,'A0E2',2,65)call SaveInteger(NO4,'A0E2',3,55)call SaveInteger(NO4,'A1MR',1,6)call SaveInteger(NO4,'A1MR',2,6)call SaveInteger(NO4,'A1MR',3,6)call SaveInteger(NO4,'A03O',1,140)call SaveInteger(NO4,'A03O',2,140)call SaveInteger(NO4,'A03O',3,140)call SaveInteger(NO4,'A0MU',1,110)call SaveInteger(NO4,'A0MU',2,110)call SaveInteger(NO4,'A0MU',3,110)call SaveInteger(NO4,'A0A2',1,110)call SaveInteger(NO4,'A0A2',2,110)call SaveInteger(NO4,'A0A2',3,110)call SaveInteger(NO4,'A0SW',1,100)call SaveInteger(NO4,'A0SW',2,100)call SaveInteger(NO4,'A0SW',3,100)call SaveInteger(NO4,'A093',1,100)call SaveInteger(NO4,'A093',2,70)call SaveInteger(NO4,'A093',3,40)call SaveInteger(NO4,'A03K',1,180)call SaveInteger(NO4,'A03K',2,150)call SaveInteger(NO4,'A03K',3,120)call SaveInteger(NO4,'A1B0',1,180)call SaveInteger(NO4,'A1B0',2,150)call SaveInteger(NO4,'A1B0',3,120)call SaveInteger(NO4,'A0R0',1,130)call SaveInteger(NO4,'A0R0',2,130)call SaveInteger(NO4,'A0R0',3,130)call SaveInteger(NO4,'A0FL',1,30)call SaveInteger(NO4,'A0FL',2,30)call SaveInteger(NO4,'A0FL',3,30)call SaveInteger(NO4,'A1CX',1,30)call SaveInteger(NO4,'A1CX',2,30)call SaveInteger(NO4,'A1CX',3,30)call SaveInteger(NO4,'A034',1,10)call SaveInteger(NO4,'A034',2,10)call SaveInteger(NO4,'A034',3,10)call SaveInteger(NO4,'A15J',1,75)call SaveInteger(NO4,'A15J',2,75)call SaveInteger(NO4,'A15J',3,75)call SaveInteger(NO4,'A0E3',1,70)call SaveInteger(NO4,'A0E3',2,70)call SaveInteger(NO4,'A0E3',3,70)call SaveInteger(NO4,'A04P',1,20)call SaveInteger(NO4,'A04P',2,15)call SaveInteger(NO4,'A04P',3,10)call SaveInteger(NO4,'A0M1',1,130)call SaveInteger(NO4,'A0M1',2,120)call SaveInteger(NO4,'A0M1',3,110)call SaveInteger(NO4,'A1AX',1,110)call SaveInteger(NO4,'A1AX',2,100)call SaveInteger(NO4,'A1AX',3,90)call SaveInteger(NO4,'A054',1,160)call SaveInteger(NO4,'A054',2,150)call SaveInteger(NO4,'A054',3,140)call SaveInteger(NO4,'A00U',1,160)call SaveInteger(NO4,'A00U',2,150)call SaveInteger(NO4,'A00U',3,140)call SaveInteger(NO4,'A0G8',1,80)call SaveInteger(NO4,'A0G8',2,80)call SaveInteger(NO4,'A0G8',3,80)call SaveInteger(NO4,'A07U',1,180)call SaveInteger(NO4,'A07U',2,120)call SaveInteger(NO4,'A07U',3,60)call SaveInteger(NO4,'A0KU',1,160)call SaveInteger(NO4,'A0KU',2,140)call SaveInteger(NO4,'A0KU',3,120)call SaveInteger(NO4,'A1EJ',1,20)call SaveInteger(NO4,'A1EJ',2,20)call SaveInteger(NO4,'A1EJ',3,20)call SaveInteger(NO4,'A0B4',1,10)call SaveInteger(NO4,'A0B4',2,7)call SaveInteger(NO4,'A0B4',3,5)call SaveInteger(NO4,'A0IN',1,25)call SaveInteger(NO4,'A0IN',2,25)call SaveInteger(NO4,'A0IN',3,25)call SaveInteger(NO4,'A0J1',1,120)call SaveInteger(NO4,'A0J1',2,110)call SaveInteger(NO4,'A0J1',3,100)call SaveInteger(NO4,'A1D7',1,60)call SaveInteger(NO4,'A1D7',2,60)call SaveInteger(NO4,'A1D7',3,60)call SaveInteger(NO4,'A1MI',1,45)call SaveInteger(NO4,'A1MI',2,45)call SaveInteger(NO4,'A1MI',3,45)call SaveInteger(NO4,'A1AO',1,80)call SaveInteger(NO4,'A1AO',2,70)call SaveInteger(NO4,'A1AO',3,60)call SaveInteger(NO4,'A1UV',1,80)call SaveInteger(NO4,'A1UV',2,70)call SaveInteger(NO4,'A1UV',3,60)call SaveInteger(NO4,'A1NE',1,180)call SaveInteger(NO4,'A1NE',2,160)call SaveInteger(NO4,'A1NE',3,140)call SaveInteger(NO4,('A2IG'),(1),(180))call SaveInteger(NO4,('A2IG'),(2),(160))call SaveInteger(NO4,('A2IG'),(3),(140))call SaveInteger(NO4,('A1AT'),(1),(140))call SaveInteger(NO4,('A1AT'),(2),(110))call SaveInteger(NO4,('A1AT'),(3),(80))call SaveInteger(NO4,'A0RP',1,11)call SaveInteger(NO4,'A0RP',2,9)call SaveInteger(NO4,'A0RP',3,7)call SaveInteger(NO4,'A0LC',1,25)call SaveInteger(NO4,'A0LC',2,25)call SaveInteger(NO4,'A0LC',3,25)call SaveInteger(NO4,'A0IN',1,45)call SaveInteger(NO4,'A0IN',2,45)call SaveInteger(NO4,'A0IN',3,45)call SaveInteger(NO4,'A1AW',1,10)call SaveInteger(NO4,'A1AW',2,10)call SaveInteger(NO4,'A1AW',3,10)call SaveInteger(NO4,'A0LH',1,70)call SaveInteger(NO4,'A0LH',2,60)call SaveInteger(NO4,'A0LH',3,50)call SaveInteger(NO4,'A04Q',1,45)call SaveInteger(NO4,'A04Q',2,45)call SaveInteger(NO4,'A04Q',3,45)call SaveInteger(NO4,'A0WQ',1,45)call SaveInteger(NO4,'A0WQ',2,45)call SaveInteger(NO4,'A0WQ',3,45)call SaveInteger(NO4,'A09U',1,70)call SaveInteger(NO4,'A09U',2,60)call SaveInteger(NO4,'A09U',3,50)call SaveInteger(NO4,'A0CT',1,60)call SaveInteger(NO4,'A0CT',2,50)call SaveInteger(NO4,'A0CT',3,40)call SaveInteger(NO4,'A29J',1,120)call SaveInteger(NO4,'A29J',2,110)call SaveInteger(NO4,'A29J',3,100)call SaveInteger(NO4,'A07Q',1,160)call SaveInteger(NO4,'A07Q',2,110)call SaveInteger(NO4,'A07Q',3,60)call SaveInteger(NO4,'A0H9',1,120)call SaveInteger(NO4,'A0H9',2,120)call SaveInteger(NO4,'A0H9',3,120)call SaveInteger(NO4,'A013',1,140)call SaveInteger(NO4,'A013',2,120)call SaveInteger(NO4,'A013',3,100)call SaveInteger(NO4,'A0A6',1,140)call SaveInteger(NO4,'A0A6',2,120)call SaveInteger(NO4,'A0A6',3,60)call SaveInteger(NO4,'A080',1,80)call SaveInteger(NO4,'A080',2,50)call SaveInteger(NO4,'A080',3,30)call SaveInteger(NO4,'A1UZ',1,12)call SaveInteger(NO4,'A1UZ',2,12)call SaveInteger(NO4,'A1UZ',3,12)call SaveInteger(NO4,'A03R',1,150)call SaveInteger(NO4,'A03R',2,120)call SaveInteger(NO4,'A03R',3,90)call SaveInteger(NO4,'A0AV',1,150)call SaveInteger(NO4,'A0AV',2,120)call SaveInteger(NO4,'A0AV',3,90)call SaveInteger(NO4,'A0S8',1,85)call SaveInteger(NO4,'A0S8',2,85)call SaveInteger(NO4,'A0S8',3,85)call SaveInteger(NO4,'A1QP',1,85)call SaveInteger(NO4,'A1QP',2,85)call SaveInteger(NO4,'A1QP',3,85)call SaveInteger(NO4,'A0LT',1,120)call SaveInteger(NO4,'A0LT',2,120)call SaveInteger(NO4,'A0LT',3,120)call SaveInteger(NO4,'A1CS',1,30)call SaveInteger(NO4,'A1CS',2,30)call SaveInteger(NO4,'A1CS',3,30)call SaveInteger(NO4,'A11T',1,80)call SaveInteger(NO4,'A11T',2,70)call SaveInteger(NO4,'A11T',3,60)call SaveInteger(NO4,'A1W8',1,90)call SaveInteger(NO4,'A1W8',2,75)call SaveInteger(NO4,'A1W8',3,60)call SaveInteger(NO4,'A1W9',1,90)call SaveInteger(NO4,'A1W9',2,75)call SaveInteger(NO4,'A1W9',3,60)call SaveInteger(NO4,'A29G',1,120)call SaveInteger(NO4,'A29G',2,120)call SaveInteger(NO4,'A29G',3,120)call SaveInteger(NO4,'A29H',1,120)call SaveInteger(NO4,'A29H',2,120)call SaveInteger(NO4,'A29H',3,120)call SaveInteger(NO4,'A0L3',1,160)call SaveInteger(NO4,'A0L3',2,160)call SaveInteger(NO4,'A0L3',3,160)call SaveInteger(NO4,'A01P',1,120)call SaveInteger(NO4,'A01P',2,90)call SaveInteger(NO4,'A01P',3,55)call SaveInteger(NO4,'A09Z',1,120)call SaveInteger(NO4,'A09Z',2,90)call SaveInteger(NO4,'A09Z',3,55)call SaveInteger(NO4,'A12P',1,60)call SaveInteger(NO4,'A12P',2,60)call SaveInteger(NO4,'A12P',3,60)call SaveInteger(NO4,'A1D6',1,15)call SaveInteger(NO4,'A1D6',2,15)call SaveInteger(NO4,'A1D6',3,15)call SaveInteger(NO4,'A19O',1,90)call SaveInteger(NO4,'A19O',2,70)call SaveInteger(NO4,'A19O',3,50)call SaveInteger(NO4,'A0AK',1,10)call SaveInteger(NO4,'A0AK',2,10)call SaveInteger(NO4,'A0AK',3,10)call SaveInteger(NO4,'A1FY',1,10)call SaveInteger(NO4,'A1FY',2,10)call SaveInteger(NO4,'A1FY',3,10)call SaveInteger(NO4,'A21Y',1,22)call SaveInteger(NO4,'A21Y',2,17)call SaveInteger(NO4,'A21Y',3,12)call SaveInteger(NO4,'A21Y',4,5)call SaveInteger(NO4,'A1GU',1,16)call SaveInteger(NO4,'A1GU',2,8)call SaveInteger(NO4,'A1GU',3,4)call SaveInteger(NO4,'A1GU',4,2)call SaveInteger(NO4,'A07K',1,6)call SaveInteger(NO4,'A07K',2,6)call SaveInteger(NO4,'A07K',3,6)call SaveInteger(NO4,'A10Q',1,40)call SaveInteger(NO4,'A10Q',2,40)call SaveInteger(NO4,'A10Q',3,40)call SaveInteger(NO4,'A1DB',1,40)call SaveInteger(NO4,'A1DB',2,40)call SaveInteger(NO4,'A1DB',3,40)call SaveInteger(NO4,'A00H',1,110)call SaveInteger(NO4,'A00H',2,110)call SaveInteger(NO4,'A00H',3,110)call SaveInteger(NO4,'A0A1',1,110)call SaveInteger(NO4,'A0A1',2,110)call SaveInteger(NO4,'A0A1',3,110)call SaveInteger(NO4,'A0O5',1,60)call SaveInteger(NO4,'A0O5',2,60)call SaveInteger(NO4,'A0O5',3,60)call SaveInteger(NO4,'A1B1',1,60)call SaveInteger(NO4,'A1B1',2,60)call SaveInteger(NO4,'A1B1',3,60)call SaveInteger(NO4,'A0NT',1,90)call SaveInteger(NO4,'A0NT',2,90)call SaveInteger(NO4,'A0NT',3,90)call SaveInteger(NO4,'A0NX',1,90)call SaveInteger(NO4,'A0NX',2,90)call SaveInteger(NO4,'A0NX',3,90)call SaveInteger(NO4,'A02Q',1,100)call SaveInteger(NO4,'A02Q',2,100)call SaveInteger(NO4,'A02Q',3,100)call SaveInteger(NO4,'A1D9',1,100)call SaveInteger(NO4,'A1D9',2,100)call SaveInteger(NO4,'A1D9',3,100)call SaveInteger(NO4,'A0QK',1,100)call SaveInteger(NO4,'A0QK',2,100)call SaveInteger(NO4,'A0QK',3,100)call SaveInteger(NO4,'A073',1,100)call SaveInteger(NO4,'A073',2,100)call SaveInteger(NO4,'A073',3,100)call SaveInteger(NO4,'A03J',1,100)call SaveInteger(NO4,'A03J',2,100)call SaveInteger(NO4,'A03J',3,100)call SaveInteger(NO4,'A04J',1,100)call SaveInteger(NO4,'A04J',2,100)call SaveInteger(NO4,'A04J',3,100)call SaveInteger(NO4,'A04M',1,100)call SaveInteger(NO4,'A04M',2,100)call SaveInteger(NO4,'A04M',3,100)call SaveInteger(NO4,'A04N',1,100)call SaveInteger(NO4,'A04N',2,100)call SaveInteger(NO4,'A04N',3,100)call SaveInteger(NO4,'A095',1,150)call SaveInteger(NO4,'A095',2,90)call SaveInteger(NO4,'A095',3,55)call SaveInteger(NO4,'A09W',1,150)call SaveInteger(NO4,'A09W',2,90)call SaveInteger(NO4,'A09W',3,50)call SaveInteger(NO4,'A1BX',1,200)call SaveInteger(NO4,'A1BX',2,190)call SaveInteger(NO4,'A1BX',3,180)call SaveInteger(NO4,'A05T',1,145)call SaveInteger(NO4,'A05T',2,115)call SaveInteger(NO4,'A05T',3,60)call SaveInteger(NO4,'A08H',1,145)call SaveInteger(NO4,'A08H',2,115)call SaveInteger(NO4,'A08H',3,60)call SaveInteger(NO4,'A067',1,100)call SaveInteger(NO4,'A067',2,85)call SaveInteger(NO4,'A067',3,70)call SaveInteger(NO4,'A08P',1,70)call SaveInteger(NO4,'A08P',2,70)call SaveInteger(NO4,'A08P',3,70)call SaveInteger(NO4,'A0CC',1,22)call SaveInteger(NO4,'A0CC',2,22)call SaveInteger(NO4,'A0CC',3,22)call SaveInteger(NO4,'A0OK',1,160)call SaveInteger(NO4,'A0OK',2,160)call SaveInteger(NO4,'A0OK',3,160)call SaveInteger(NO4,'A1VW',1,160)call SaveInteger(NO4,'A1VW',2,160)call SaveInteger(NO4,'A1VW',3,160)call SaveInteger(NO4,'A28R',1,135)call SaveInteger(NO4,'A28R',2,135)call SaveInteger(NO4,'A28R',3,135)call SaveInteger(NO4,'A28S',1,100)call SaveInteger(NO4,'A28S',2,70)call SaveInteger(NO4,'A28S',3,40)call SaveInteger(NO4,'S008',1,165)call SaveInteger(NO4,'S008',2,165)call SaveInteger(NO4,'S008',3,165)call SaveInteger(NO4,('S00U'),(1),(165))call SaveInteger(NO4,('S00U'),(2),(165))call SaveInteger(NO4,('S00U'),(3),(165))call SaveInteger(NO4,('A1TB'),(1),(90))call SaveInteger(NO4,('A1TB'),(2),(75))call SaveInteger(NO4,('A1TB'),(3),(60))call SaveInteger(NO4,('A1U6'),(1),(85))call SaveInteger(NO4,('A1U6'),(2),(85))call SaveInteger(NO4,('A1U6'),(3),(85))call SaveInteger(NO4,('A1T5'),(1),(55))call SaveInteger(NO4,('A1T5'),(2),(50))call SaveInteger(NO4,('A1T5'),(3),(45))call SaveInteger(NO4,('A235'),(1),(55))call SaveInteger(NO4,('A235'),(2),(50))call SaveInteger(NO4,('A235'),(3),(45))call SaveInteger(NO4,('A1SA'),(1),(50))call SaveInteger(NO4,('A1SA'),(2),(50))call SaveInteger(NO4,('A1SA'),(3),(50))call SaveInteger(NO4,('A1RK'),(1),(110))call SaveInteger(NO4,('A1RK'),(2),(110))call SaveInteger(NO4,('A1RK'),(3),(110))call SaveInteger(NO4,('A1YQ'),(1),(30))call SaveInteger(NO4,('A1YQ'),(2),(24))call SaveInteger(NO4,('A1YQ'),(3),(18))call SaveInteger(NO4,('A27H'),(1),(20))call SaveInteger(NO4,('A27H'),(2),(18))call SaveInteger(NO4,('A27H'),(3),(16))call SaveInteger(NO4,('A2BG'),(1),(60))call SaveInteger(NO4,('A2BG'),(2),(40))call SaveInteger(NO4,('A2BG'),(3),(20))call SaveInteger(NO4,('A2CI'),(1),(50))call SaveInteger(NO4,('A2CI'),(2),(50))call SaveInteger(NO4,('A2CI'),(3),(50))call SaveInteger(NO4,('A2E5'),(1),(8))call SaveInteger(NO4,('A2E5'),(2),(8))call SaveInteger(NO4,('A2E5'),(3),(8))set t=nullendfunctionfunction NS8 takes nothing returns booleanlocal player plocal integer ilocal integer idlocal integer NT8set i=1loopexitwhen i>5set p=Y7[i]set id=GetPlayerId(p)set NT8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)if NT8<UI4[id]thenset UI4[id]=NT8endifset p=Z7[i]set id=GetPlayerId(p)set NT8=GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)if NT8<UI4[id]thenset UI4[id]=NT8endifset i=i+1endloopreturn falseendfunctionfunction NU8 takes nothing returns nothingendfunctionfunction NV8 takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())if GetOwningPlayer(GetTriggerUnit())==A7 thenset LT[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=LT[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseif(id=='ugho')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='unec')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='esen')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='edry')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='u001')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='u002')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='e00V')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='e00W')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='ebal')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='e026')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='umtw')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifelseif(id=='u00R')thenif(IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit())))thenset T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=T7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1elseset P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=P7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifendifcall NU8()endfunctionfunction NW8 takes integer i returns nothinglocal integer x=1local integer y=1set NZ4[i]=nullset NA4[i]=0set NB4[i]=falseloopexitwhen y>NC4if NA4[y]!=0 thenset qu[x]=NZ4[y]set Qu[x]=NA4[y]set Su[x]=NB4[y]set NZ4[y]=nullset NA4[y]=0set NB4[y]=falseset x=x+1endifset y=y+1endloopset NC4=x-1set x=1loopexitwhen x>NC4set NZ4[x]=qu[x]set NA4[x]=Qu[x]set NB4[x]=Su[x]set x=x+1endloopendfunctionfunction NX8 takes nothing returns nothinglocal integer T8local integer U8local integer NY8local integer NZ8local integer ilocal player pset xY=xY+1set IG4=0set IH4=0set i=0loopexitwhen i>5set p=Y7[i]if M8(p)thenset IG4=IG4+1endifset p=Z7[i]if M8(p)thenset IH4=IH4+1endifset i=i+1endloopif a2==false thenset ae=IG4set ne=IH4endifset T8=1set U8=5set NY8=1loopexitwhen T8>U8set p=Y7[T8]if M8(p)thenset M7[NY8]=pset NY8=NY8+1endifset T8=T8+1endloopset T8=1set U8=5set NY8=1loopexitwhen T8>U8set p=Z7[T8]if M8(p)thenset O7[NY8]=pset NY8=NY8+1endifset T8=T8+1endloopif xY==1 thenset E4=CreateMultiboardBJ(7+6+2,3+IH4+IG4," ")call MultiboardMinimize(E4,true)endifcall l6(E4,2,1,"CD")call l6(E4,3,1,"|c00838B8BL|r")call l6(E4,4,1,Dj+"K|r")call l6(E4,5,1,gj+"D|r")call l6(E4,6,1,Gj+"A|r")call l6(E4,1,2,GetObjectName('n0DK'))call l6(E4,4,2,Dj+"0|r")call l6(E4,5,2,gj+"0|r")call l6(E4,1,3+IG4,GetObjectName('n0DO'))call l6(E4,4,3+IG4,Dj+"0|r")call l6(E4,5,3+IG4,gj+"0|r")call U6(E4,1,2,(SI7(SubString(K[GetPlayerId((Y7[0]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((Y7[0]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((Y7[0]))],8,10)))/ 255.0*100,0)call U6(E4,1,3+IG4,(SI7(SubString(K[GetPlayerId((Z7[0]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((Z7[0]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((Z7[0]))],8,10)))/ 255.0*100,0)set T8=1set U8=3+IH4+IG4loopexitwhen T8>U8call x7(E4,1,T8,10.8)call x7(E4,2,T8,2)call x7(E4,3,T8,2)call x7(E4,4,T8,1.3)call x7(E4,5,T8,1.3)call x7(E4,6,T8,1.3)call x7(E4,7,T8,2.5)call x7(E4,8,T8,0.01)call x7(E4,9,T8,0.01)call x7(E4,10,T8,0.01)call x7(E4,11,T8,0.01)call x7(E4,12,T8,0.01)call x7(E4,13,T8,0.01)call x7(E4,14,T8,0.01)call x7(E4,15,T8,0.01)set T8=T8+1endloopset T8=1set U8=7+6+2loopexitwhen T8>U8set NY8=1set NZ8=3+IH4+IG4loopexitwhen NY8>NZ8call s6(E4,T8,NY8,true,false)set NY8=NY8+1endloopset T8=T8+1endloopset T8=1set U8=IG4loopexitwhen T8>U8call s6(E4,1,T8+2,true,true)call U6(E4,7,T8+2,255,204,0,0)set NQ4[GetPlayerId(M7[T8])]=1-1set NR4[GetPlayerId(M7[T8])]=T8+2-1call l6(E4,1,T8+2,(M74[GetPlayerId((M7[T8]))]))if RD7(M7[T8])thencall U6(E4,1,T8+2,(SI7(SubString(K[GetPlayerId((M7[T8]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((M7[T8]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((M7[T8]))],8,10)))/ 255.0*100,0)call U6(E4,2,T8+2,(SI7(SubString(K[GetPlayerId((M7[T8]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((M7[T8]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((M7[T8]))],8,10)))/ 255.0*100,0)elsecall l6(E4,1,T8+2,"|c00333333"+(M74[GetPlayerId((M7[T8]))])+"|r")endifcall l6(E4,4,(T8+2),Dj+"0|r")call l6(E4,5,(T8+2),gj+"0|r")call l6(E4,6,(T8+2),Gj+"0|r")set T8=T8+1endloopset T8=1set U8=IH4loopexitwhen T8>U8call s6(E4,1,T8+3+IG4,true,true)call U6(E4,7,T8+3+IG4,255,204,0,0)set NQ4[GetPlayerId(O7[T8])]=1-1set NR4[GetPlayerId(O7[T8])]=T8+3+IG4-1call l6(E4,1,T8+3+IG4,(M74[GetPlayerId((O7[T8]))]))if RD7(O7[T8])thencall U6(E4,1,T8+3+IG4,(SI7(SubString(K[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)call U6(E4,2,T8+3+IG4,(SI7(SubString(K[GetPlayerId((O7[T8]))],4,6)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((O7[T8]))],6,8)))/ 255.0*100,(SI7(SubString(K[GetPlayerId((O7[T8]))],8,10)))/ 255.0*100,0)elsecall l6(E4,1,T8+3+IG4,"|c00333333"+(M74[GetPlayerId((O7[T8]))])+"|r")endifcall l6(E4,4,(T8+3+IG4),Dj+"0|r")call l6(E4,5,(T8+3+IG4),gj+"0|r")call l6(E4,6,(T8+3+IG4),Gj+"0|r")set T8=T8+1endloopset oY=1set rY=3+IH4+IG4-2if O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44)and xY==1 thencall MultiboardDisplay(E4,false)endifcall s6(E4,7,1,false,true)call P6(E4,7,1,"UI\\Feedback\\Resources\\ResourceGold.blp")call NU8()if xY>1 thencall TriggerExecute(vA)endifendfunctionfunction NA8 takes integer O5,boolean NB8 returns stringif not IsPlayerInForce(Player(O5),QP4)thenreturn" "elseif G7[O5]==null thenreturn EA7+"Select hero|r"elseif not J07(G7[O5])thenreturn EA7+"Dead|r"elseif Bz<P04-25. thenreturn EA7+"Stand by|r"elseif Bz<P04 thenreturn"Moving"elseif eY[O5]==1 thenif J_7(G7[O5])thenreturn"Retreating"elseif G0[48+O5]thenreturn"Fleeing"elseif h4[O5]!=null thenif NB8 thenreturn">"+K[GetPlayerId(GetOwningPlayer(h4[O5]))]+TQ7(h4[O5])+"|r"elsereturn"vs "+K[GetPlayerId(GetOwningPlayer(h4[O5]))]+TQ7(h4[O5])+"|r"endifelseif h9[64+O5]!=null thenreturn"Def Tower"+IQ7(eY[80+O5],false)elseif eY[80+O5]<=2 thenreturn"Push"+IQ7(eY[80+O5],false)elsereturn"Push"endifelseif eY[O5]==2 thenreturn"Healing"elseif eY[O5]==3 thenreturn"Def"+IQ7(DR7[64+O5],true)elseif eY[O5]==4 thenreturn"S-Def"+IQ7(DR7[64+O5],true)elseif eY[O5]==9 thenif eY[272+O5]==0 thenreturn"Change lane"elseif h8[96+O5]!=null thenset bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))return"Ambush "+K[bj_forLoopAIndex]+I2S(bj_forLoopAIndex)+"|r"elsereturn"Ambush"+IQ7(eY[288+O5],false)endifelseif eY[O5]==10 thenreturn"Jungling"elseif eY[O5]==11 thenif NB8 thenreturn">|c00ffcc00Roshan|r"elsereturn"vs |c00ffcc00Roshan|r"endifendifreturn" "endfunctionfunction NC8 takes nothing returns nothinglocal integer T8local integer U8local string N38call l6(E4,4,2,Dj+I2S(M[GetPlayerId(Y7[0])])+"|r")call l6(E4,5,2,gj+I2S(O[GetPlayerId(Y7[0])])+"|r")call l6(E4,4,3+IG4,Dj+I2S(M[GetPlayerId(Z7[0])])+"|r")call l6(E4,5,3+IG4,gj+I2S(O[GetPlayerId(Z7[0])])+"|r")set T8=1set U8=IG4loopexitwhen T8>U8call l6(E4,4,(T8+2),Dj+I2S(M[GetPlayerId(M7[T8])])+"|r")call l6(E4,5,(T8+2),gj+I2S(O[GetPlayerId(M7[T8])])+"|r")call l6(E4,6,(T8+2),Gj+I2S(BT[GetPlayerId(M7[T8])])+"|r")set N38=NA8(GetPlayerId(M7[T8]),false)if M7[T8]==QK4 thenset N38=EB7endifif(not LO4[32+GetPlayerId(GetLocalPlayer())])thenset N38=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),Y7[0])))thenset N38=" "endifcall l6(E4,15,T8+2,N38)set N38=" "if LO4[80+GetPlayerId(GetLocalPlayer())]and R97(M7[T8])thenif ZT thenset N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(M7[T8])-100.))+"%|r"endifif ZT and AT thenset N38=N38+" - "endifif AT thenset N38=N38+LZ4+"+"+I2S(X54[48+GetPlayerId(M7[T8])])+"|r"endifendifcall l6(E4,14,(T8+2),N38)set T8=T8+1endloopset T8=1set U8=IH4loopexitwhen T8>U8call l6(E4,4,(T8+3+IG4),Dj+I2S(M[GetPlayerId(O7[T8])])+"|r")call l6(E4,5,(T8+3+IG4),gj+I2S(O[GetPlayerId(O7[T8])])+"|r")call l6(E4,6,(T8+3+IG4),Gj+I2S(BT[GetPlayerId(O7[T8])])+"|r")set N38=NA8(GetPlayerId(O7[T8]),false)if O7[T8]==QM4 thenset N38=EB7endifif(not LO4[32+GetPlayerId(GetLocalPlayer())])thenset N38=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))thenset N38=" "endifcall l6(E4,15,(T8+3+IG4),N38)set N38=" "if LO4[80+GetPlayerId(GetLocalPlayer())]and R97(O7[T8])thenif ZT thenset N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"endifif ZT and AT thenset N38=N38+" - "endifif AT thenset N38=N38+LZ4+"+"+I2S(X54[48+GetPlayerId(O7[T8])])+"|r"endifendifcall l6(E4,14,(T8+3+IG4),N38)set T8=T8+1endloopendfunctionfunction N68 takes nothing returns booleanif(GetUnitTypeId(GetTriggerUnit())=='e00R')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='e011')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='e00S')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='e019')thenreturn trueendifreturn falseendfunctionfunction NL8 takes nothing returns nothingset F[1]=(F[1]+1)endfunctionfunction N18 takes nothing returns booleanif(GetUnitTypeId(GetTriggerUnit())=='u00M')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='u00D')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='u00N')thenreturn trueendifif(GetUnitTypeId(GetTriggerUnit())=='u00T')thenreturn trueendifreturn falseendfunctionfunction N08 takes nothing returns nothingset F[2]=(F[2]+1)endfunctionfunction N58 takes integer a returns integerlocal integer i=0local integer x=0local string s=I2S(a)loopexitwhen i>StringLength(s)if SubString(s,i,i+1)=="1" thenset x=x+1endifset i=i+1endloopreturn xendfunctionfunction N28 takes player N_8,integer O48 returns stringif IsPlayerAlly(GetLocalPlayer(),N_8)==true thenreturn BH7(UnitItemInSlot(G7[GetPlayerId(N_8)],O48-1))elsereturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifendfunctionfunction O78 takes nothing returns nothinglocal integer T8local integer U8local string Z_7local real O88local integer rlocal integer ilocal integer array time_1alocal string array color_1alocal integer index_1a=0local integer array time_1blocal string array color_1blocal integer index_1b=0local integer x=0local integer idlocal string O98local string OD8local string OE8local string OF8local string OG8local string s2=" "local string slocal real OH8local string spacerlocal integer OI8=0local string OJ8=""local string OK8=""local integer OM8=0local integer ON8=0local string OO8=""local string N38if E4==null thenreturnendifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(N[GetPlayerId(Y7[i])]))if r>0 thenset OI8=OI8+N58(r)if OM8==0 thenif r<10 thenset OJ8=K[GetPlayerId(Y7[i])]+"0"+I2S(r)+" |r"elseset OJ8=K[GetPlayerId(Y7[i])]+I2S(r)+" |r"endifelseif r<10 thenset OJ8=OJ8+Hj+"| |r"+K[GetPlayerId(Y7[i])]+"0"+I2S(r)+" |r"elseset OJ8=OJ8+Hj+"| |r"+K[GetPlayerId(Y7[i])]+I2S(r)+" |r"endifendifset OM8=OM8+1endifset i=i+1endloopif OM8>0 thenif IsPlayerAlly(GetLocalPlayer(),Y7[0])==true thenset OJ8=Hj+"["+GetObjectName('n0JS')+" |r"+OJ8+Hj+"]|r"elseset OJ8=fj+"["+GetObjectName('n0JR')+" |r"+OJ8+fj+"]|r"endifendifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(N[GetPlayerId(Z7[i])]))if r>0 thenset OI8=OI8+N58(r)if ON8==0 thenif r<10 thenset OK8=K[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"elseset OK8=K[GetPlayerId(Z7[i])]+I2S(r)+" |r"endifelseif r<10 thenset OK8=OK8+Hj+"| |r"+K[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"elseset OK8=OK8+Hj+"| |r"+K[GetPlayerId(Z7[i])]+I2S(r)+" |r"endifendifset ON8=ON8+1endifset i=i+1endloopif ON8>0 thenif IsPlayerAlly(GetLocalPlayer(),Z7[0])==true thenset OK8=Hj+"["+GetObjectName('n0JS')+" |r"+OK8+Hj+"]|r"elseset OK8=fj+"["+GetObjectName('n0JR')+" |r"+OK8+fj+"]|r"endifendifif E4!=null thenset id=GetPlayerId(GetLocalPlayer())if id>=0 and id<16 thenif AW[x]thenset O98=I2S(M[id])set OD8=I2S(O[id])set OE8=I2S(BT[id])set OF8=I2S(P7[id])set OG8=I2S(T7[id])set s2=" |c00838B8B("+O98+"/"+OD8+"/"+OE8+" - "+OF8+"/"+OG8+" - |r|c00FFDC00"+I2S(UI4[id])+"|r |c00838B8B)|r"endifendifendifif ON8==0 and OM8==0 thencall MultiboardSetTitleText(E4,s2)elseif IsPlayerAlly(GetLocalPlayer(),Y7[0])==true thencall MultiboardSetTitleText(E4,OK8+" "+OJ8+" "+s2)elsecall MultiboardSetTitleText(E4,OJ8+" "+OK8+" "+s2)endifendifif(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))==false thencall MultiboardDisplay(E4,true)endifif Nb[GetPlayerId(GetLocalPlayer())]==false thencall SetWaterBaseColor(0,0,255,255)endifset N38=" "if LO4[32+GetPlayerId(GetLocalPlayer())]thenset N38=EC7endifcall l6(E4,15,1,N38)set N38=" "if LO4[80+GetPlayerId(GetLocalPlayer())]thenset N38=E37if ZT thenset N38=N38+E67endifif ZT and AT thenset N38=N38+" - "endifif AT thenset N38=N38+EL7endifendifcall l6(E4,14,1,N38)set T8=1set U8=IG4loopexitwhen T8>U8call P6(E4,1,T8+2,TT7(G7[GetPlayerId(M7[T8])]))call l6(E4,3,T8+2,"|c00838B8B"+I2S(GetHeroLevel(G7[GetPlayerId(M7[T8])]))+"|r")if ab[GetPlayerId(GetLocalPlayer())]thencall x7(E4,7,1,3)call x7(E4,8,1,2.8)call x7(E4,9,1,0.8)call x7(E4,10,1,0.8)call x7(E4,11,1,0.8)call x7(E4,12,1,0.8)call x7(E4,13,1,IJ7(LO4[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))call x7(E4,7,T8+2,3)call x7(E4,8,T8+2,1.1)call x7(E4,9,T8+2,1.1)call x7(E4,10,T8+2,1.1)call x7(E4,11,T8+2,1.1)call x7(E4,12,T8+2,1.1)call x7(E4,13,T8+2,IJ7(LO4[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))call s6(E4,8,T8+2,false,true)call s6(E4,9,T8+2,false,true)call s6(E4,10,T8+2,false,true)call s6(E4,11,T8+2,false,true)call s6(E4,12,T8+2,false,true)call s6(E4,13,T8+2,false,true)call l6(E4,8,1,"Items")elsecall x7(E4,7,1,2)call x7(E4,8,1,0.1)call x7(E4,9,1,0.1)call x7(E4,10,1,0.1)call x7(E4,11,1,0.1)call x7(E4,12,1,0.1)call x7(E4,13,1,0.1)call x7(E4,7,T8+2,2.5)call x7(E4,8,T8+2,0.1)call x7(E4,9,T8+2,0.1)call x7(E4,10,T8+2,0.1)call x7(E4,11,T8+2,0.1)call x7(E4,12,T8+2,0.1)call x7(E4,13,T8+2,0.1)call s6(E4,8,T8+2,false,false)call s6(E4,9,T8+2,false,false)call s6(E4,10,T8+2,false,false)call s6(E4,11,T8+2,false,false)call s6(E4,12,T8+2,false,false)call s6(E4,13,T8+2,false,false)call l6(E4,8,1," ")endifcall P6(E4,8,T8+2,N28(M7[T8],1))call P6(E4,9,T8+2,N28(M7[T8],2))call P6(E4,10,T8+2,N28(M7[T8],3))call P6(E4,11,T8+2,N28(M7[T8],4))call P6(E4,12,T8+2,N28(M7[T8],5))call P6(E4,13,T8+2,N28(M7[T8],6))if(TY7(G7[GetPlayerId(M7[T8])])and G7[GetPlayerId(M7[T8])]!=null and TimerGetRemaining(N[GetPlayerId(M7[T8])])>0)thenif IsPlayerAlly(GetLocalPlayer(),M7[T8])thenset OO8=Hj+" ("+(I2S(R2I(TimerGetRemaining(N[GetPlayerId(M7[T8])]))))+")|r"elseset OO8=fj+" ("+(I2S(R2I(TimerGetRemaining(N[GetPlayerId(M7[T8])]))))+")|r"endifelseset OO8="  "endifif U2[GetPlayerId(M7[T8])]thencall l6(E4,1,T8+2,"|c00333333"+(M74[GetPlayerId((M7[T8]))])+"|r"+OO8)elsecall l6(E4,1,T8+2,(M74[GetPlayerId((M7[T8]))])+OO8)endifset OH8=(TimerGetRemaining(NP4[GetPlayerId((M7[T8]))]))if OH8>0 thenset s=I2S(R2I(OH8))elseset s=" "endifif IsPlayerAlly(GetLocalPlayer(),M7[T8])==false thencall l6(E4,7,T8+2," ")set s=" "elsecall l6(E4,7,T8+2,"|cffffcc00"+I2S(R2I(GetPlayerState(M7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")endifcall l6(E4,2,T8+2,s)set N38=NA8(GetPlayerId(M7[T8]),false)if M7[T8]==QK4 thenset N38=EB7endifif(not LO4[32+GetPlayerId(GetLocalPlayer())])thenset N38=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),Y7[0])))thenset N38=" "endifcall l6(E4,15,T8+2,N38)set N38=" "if LO4[80+GetPlayerId(GetLocalPlayer())]and R97(M7[T8])thenif ZT thenset N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(M7[T8])-100.))+"%|r"endifif ZT and AT thenset N38=N38+" - "endifif AT thenset N38=N38+LZ4+"+"+I2S(X54[48+GetPlayerId(M7[T8])])+"|r"endifendifcall l6(E4,14,T8+2,N38)set T8=T8+1endloopset T8=1set U8=IH4loopexitwhen T8>U8call P6(E4,1,T8+3+IG4,TT7(G7[GetPlayerId(O7[T8])]))call l6(E4,3,T8+3+IG4,"|c00838B8B"+I2S(GetHeroLevel(G7[GetPlayerId(O7[T8])]))+"|r")if ab[GetPlayerId(GetLocalPlayer())]thencall x7(E4,7,1,3)call x7(E4,8,1,2.8)call x7(E4,9,1,0.8)call x7(E4,10,1,0.8)call x7(E4,11,1,0.8)call x7(E4,12,1,0.8)call x7(E4,13,1,IJ7(LO4[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))call x7(E4,7,T8+3+IG4,3)call x7(E4,8,T8+3+IG4,1.1)call x7(E4,9,T8+3+IG4,1.1)call x7(E4,10,T8+3+IG4,1.1)call x7(E4,11,T8+3+IG4,1.1)call x7(E4,12,T8+3+IG4,1.1)call x7(E4,13,T8+3+IG4,IJ7(LO4[32+GetPlayerId(GetLocalPlayer())],1.5,0.1))call s6(E4,8,T8+3+IG4,false,true)call s6(E4,9,T8+3+IG4,false,true)call s6(E4,10,T8+3+IG4,false,true)call s6(E4,11,T8+3+IG4,false,true)call s6(E4,12,T8+3+IG4,false,true)call s6(E4,13,T8+3+IG4,false,true)call l6(E4,8,1,"Items")elsecall x7(E4,7,1,2)call x7(E4,8,1,0.1)call x7(E4,9,1,0.1)call x7(E4,10,1,0.1)call x7(E4,11,1,0.1)call x7(E4,12,1,0.1)call x7(E4,13,1,0.1)call x7(E4,7,T8+3+IG4,2.5)call x7(E4,8,T8+3+IG4,0.1)call x7(E4,9,T8+3+IG4,0.1)call x7(E4,10,T8+3+IG4,0.1)call x7(E4,11,T8+3+IG4,0.1)call x7(E4,12,T8+3+IG4,0.1)call x7(E4,13,T8+3+IG4,0.1)call s6(E4,8,T8+3+IG4,false,false)call s6(E4,9,T8+3+IG4,false,false)call s6(E4,10,T8+3+IG4,false,false)call s6(E4,11,T8+3+IG4,false,false)call s6(E4,12,T8+3+IG4,false,false)call s6(E4,13,T8+3+IG4,false,false)call l6(E4,8,1," ")endifcall P6(E4,8,T8+3+IG4,N28(O7[T8],1))call P6(E4,9,T8+3+IG4,N28(O7[T8],2))call P6(E4,10,T8+3+IG4,N28(O7[T8],3))call P6(E4,11,T8+3+IG4,N28(O7[T8],4))call P6(E4,12,T8+3+IG4,N28(O7[T8],5))call P6(E4,13,T8+3+IG4,N28(O7[T8],6))if(TY7(G7[GetPlayerId(O7[T8])])and G7[GetPlayerId(O7[T8])]!=null and TimerGetRemaining(N[GetPlayerId(O7[T8])])>0)thenif IsPlayerAlly(GetLocalPlayer(),O7[T8])thenset OO8=Hj+" ("+(I2S(R2I(TimerGetRemaining(N[GetPlayerId(O7[T8])]))))+")|r"elseset OO8=fj+" ("+(I2S(R2I(TimerGetRemaining(N[GetPlayerId(O7[T8])]))))+")|r"endifelseset OO8="  "endifif U2[GetPlayerId(O7[T8])]thencall l6(E4,1,T8+3+IG4,"|c00333333"+(M74[GetPlayerId((O7[T8]))])+"|r"+OO8)elsecall l6(E4,1,T8+3+IG4,(M74[GetPlayerId((O7[T8]))])+OO8)endifset OH8=(TimerGetRemaining(NP4[GetPlayerId((O7[T8]))]))if OH8>0 thenset s=I2S(R2I(OH8))elseset s=" "endifif IsPlayerAlly(GetLocalPlayer(),O7[T8])==false thencall l6(E4,7,T8+3+IG4," ")set s=" "elsecall l6(E4,7,T8+3+IG4,"|cffffcc00"+I2S(R2I(GetPlayerState(O7[T8],PLAYER_STATE_RESOURCE_GOLD)))+"|r")endifcall l6(E4,2,T8+3+IG4,s)set N38=NA8(GetPlayerId(O7[T8]),false)if O7[T8]==QM4 thenset N38=EB7endifif(not LO4[32+GetPlayerId(GetLocalPlayer())])thenset N38=" "elseif(not(IsPlayerAlly(GetLocalPlayer(),Z7[0])))thenset N38=" "endifcall l6(E4,15,T8+3+IG4,N38)set N38=" "if LO4[80+GetPlayerId(GetLocalPlayer())]and R97(O7[T8])thenif ZT thenset N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(O7[T8])-100.))+"%|r"endifif ZT and AT thenset N38=N38+" - "endifif AT thenset N38=N38+LZ4+"+"+I2S(X54[48+GetPlayerId(O7[T8])])+"|r"endifendifcall l6(E4,14,T8+3+IG4,N38)set T8=T8+1endloopendfunctionfunction OP8 takes nothing returns booleanlocal real OQ8local real OR8local unit uif Vz==false thenset u=JX4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-aY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif Ez==false thenset u=JY4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-VY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif Xz==false thenset u=JZ4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-EY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif nz==false thenset u=JA4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-XY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=JB4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-OY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=JC4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-IY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J34if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-AY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J64if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-bY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=JL4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-BY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J14if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-cY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J04if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-CY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J54if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-DY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J24if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-fY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=J_4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-FY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif oz==false thenset u=KI4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-JY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif rz==false thenset u=KJ4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-kY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif az==false thenset u=KK4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-lY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifif xz==false thenset u=KM4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-mY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KN4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-MY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KO4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-PY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KP4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-QY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KQ4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-sY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KR4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-tY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KS4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-TY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KT4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-uY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KU4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-wY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KV4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-YY)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifset u=KW4if u!=null thenset OQ8=GetUnitState(u,UNIT_STATE_LIFE)set OR8=OQ8+P64if OR8<(GetUnitState(u,UNIT_STATE_MAX_LIFE)-vz)thencall SetUnitState(u,UNIT_STATE_LIFE,OR8)endifendifendifset u=nullreturn falseendfunctionfunction OS8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif oz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset JY=JY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OT8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif rz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset kY=kY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OU8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif az or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset lY=lY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OV8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset mY=mY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OW8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset MY=MY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OX8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset PY=PY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OY8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset QY=QY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OZ8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset sY=sY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OA8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset tY=tY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OB8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset TY=TY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OC8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset uY=uY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O38 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset wY=wY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O68 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset YY=YY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction OL8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset vz=vz+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O18 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Vz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset aY=aY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O08 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Ez or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset VY=VY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O58 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif Xz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset EY=EY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O28 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset XY=XY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction O_8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset OY=OY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction P48 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset IY=IY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction P78 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset AY=AY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction P88 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset bY=bY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction P98 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset BY=BY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PD8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset cY=cY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PE8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset CY=CY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PF8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset DY=DY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PG8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset fY=fY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PH8 takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif nz or IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true thenset FY=FY+GetEventDamage()elseif IsUnitIllusion(GetEventDamageSource())==true thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+0.75*GetEventDamage())endifendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction PI8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Z7[0]thenset nz=trueendifreturn falseendfunctionfunction PJ8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Z7[0]thenset Vz=trueendifreturn falseendfunctionfunction PK8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Z7[0]thenset Ez=trueendifreturn falseendfunctionfunction PM8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Z7[0]thenset Xz=trueendifreturn falseendfunctionfunction PN8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Y7[0]thenset xz=trueendifreturn falseendfunctionfunction PO8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Y7[0]thenset oz=trueendifreturn falseendfunctionfunction PP8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Y7[0]thenset rz=trueendifreturn falseendfunctionfunction PQ8 takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==Y7[0]thenset az=trueendifreturn falseendfunctionfunction PR8 takes nothing returns booleanlocal group g=TL7()set xz=falseset oz=falseset rz=falseset az=falseset nz=falseset Vz=falseset Ez=falseset Xz=falsecall GroupEnumUnitsInRect(g,MD,Condition(function PI8))call GroupEnumUnitsInRect(g,ND,Condition(function PI8))call GroupEnumUnitsInRect(g,OD,Condition(function PI8))call GroupEnumUnitsInRect(g,lE,Condition(function PI8))call GroupEnumUnitsInRect(g,LE,Condition(function PI8))call GroupEnumUnitsInRect(g,ME,Condition(function PI8))call GroupEnumUnitsInRect(g,GE,Condition(function PJ8))call GroupEnumUnitsInRect(g,QE,Condition(function PK8))call GroupEnumUnitsInRect(g,JE,Condition(function PM8))call GroupEnumUnitsInRect(g,PD,Condition(function PN8))call GroupEnumUnitsInRect(g,QD,Condition(function PN8))call GroupEnumUnitsInRect(g,WD,Condition(function PN8))call GroupEnumUnitsInRect(g,qE,Condition(function PN8))call GroupEnumUnitsInRect(g,pE,Condition(function PN8))call GroupEnumUnitsInRect(g,PE,Condition(function PN8))call GroupEnumUnitsInRect(g,fE,Condition(function PO8))call GroupEnumUnitsInRect(g,FE,Condition(function PP8))call GroupEnumUnitsInRect(g,gE,Condition(function PQ8))call T67(g)set g=nullreturn falseendfunctionfunction PS8 takes nothing returns booleanif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetAttacker()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and GetOwningPlayer(GetFilterUnit())!=A7 thenif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true thenset OH4=GetFilterUnit()elseset OI4=GetFilterUnit()endifendifreturn falseendfunctionfunction PT8 takes nothing returns nothinglocal unit PU8=GetAttacker()local unit m5=GetTriggerUnit()local group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(PU8),GetUnitY(PU8),900,Condition(function PS8))call T67(g)call DisableTrigger(GetTriggeringTrigger())if OH4!=null thencall IssueTargetOrder(PU8,"attack",OH4)call GroupAddUnit(KU,PU8)elseif IsUnitType(m5,UNIT_TYPE_HERO)==true and OI4!=null thencall IssueTargetOrder(PU8,"attack",OI4)call GroupAddUnit(KU,PU8)endifcall EnableTrigger(GetTriggeringTrigger())set OH4=nullset OI4=nullset PU8=nullset m5=nullset g=nullendfunctionfunction PV8 takes nothing returns nothingif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<1 thencall GroupRemoveUnit(KU,GetEnumUnit())endifif GetUnitCurrentOrder(GetEnumUnit())!=OrderId("attack")thencall GroupRemoveUnit(KU,GetEnumUnit())call IssuePointOrderLoc(GetEnumUnit(),"attack",G8[GetUnitAbilityLevel(GetEnumUnit(),F8)])endifendfunctionfunction PW8 takes nothing returns booleancall ForGroup(KU,function PV8)return falseendfunctionfunction PX8 takes string s returns nothingset F3=F3+1set j3[F3]=sendfunctionfunction PY8 takes nothing returns booleanlocal integer i=1loopexitwhen i>F3call ExecuteFunc(j3[i])set i=i+1endloopcall ExecuteFunc("PZ8")call ExecuteFunc("PA8")return falseendfunctionfunction PB8 takes unit TX7 returns nothinglocal trigger t=CreateTrigger()call ME7(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready",true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function PY8))set t=nullendfunctionfunction PC8 takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())!='H00M' and GetUnitTypeId(GetTriggerUnit())!='H07G' and GetUnitTypeId(GetTriggerUnit())!='H00Y' and GetUnitTypeId(GetTriggerUnit())!='H0B8' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and N77(GetHandleId(GetTriggerUnit()),"DamageRegisterAlready")==false thenif OJ4 and(GetUnitTypeId(GetTriggerUnit())!='O00P' or(GetUnitTypeId(GetTriggerUnit())=='O00P' and OK4))thencall PB8(GetTriggerUnit())endifendifreturn falseendfunctionfunction P38 takes nothing returns booleanlocal unit ulocal real P68local boolean PL8=VI7()set u=fPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=FPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=lPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=LPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=MPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=pPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=PPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=qPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=QPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=sPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=tPif u!=null and GetUnitState(u,UNIT_STATE_LIFE)>1 thenset P68=GetUnitState(u,UNIT_STATE_MANA)if PL8 thenset P68=VC7(P68-25,0)elseset P68=VB7(P68+5,300)endifendifset u=nullreturn falseendfunctionfunction Ln takes nothing returns stringreturn OC4endfunctionfunction LN takes nothing returns stringreturn W9endfunctionfunction P18 takes player j8 returns stringreturn K[GetPlayerId(j8)]+S57(j8)+"|r"endfunctionfunction P08 takes player P58 returns stringlocal string P28=I2S(O94[GetPlayerId(P58)])local string P_8=P28if P58==GetLocalPlayer()thenset P_8=Fx+P28+"|r"endifreturn P_8endfunctionfunction Q48 takes player P58 returns stringlocal string P28=I2S(O84[GetPlayerId(P58)])local string P_8=P28if P58==GetLocalPlayer()thenset P_8=Fx+P28+"|r"endifreturn P_8endfunctionfunction Lq takes player j8 returns stringreturn X9[GetPlayerId(j8)]endfunctionfunction B17 takes nothing returns nothinglocal integer i=1local multiboarditem BA7loopexitwhen i>NW4if Lq(NV4[i])!="Here"thenset BA7=MultiboardGetItem(NS4,NT4[i],NU4[i])call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,"|c00555555"+Lq(NV4[i])+"|r")call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)endifset i=i+1endloopendfunctionfunction Q78 takes player j8 returns stringlocal string GV=I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction Q88 takes player j8 returns stringlocal string GV=I2S(Zh[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction Q98 takes player j8 returns stringlocal string GV=I2S(GetUnitLevel(G7[GetPlayerId(j8)]))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QD8 takes player j8 returns stringlocal string GV=I2S(HP4[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QF8 takes player j8 returns stringlocal string GV=I2S(NL4[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QG8 takes player j8 returns stringlocal string GV=I2S(tu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QH8 takes player j8 returns stringlocal string GV=I2S(BT[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QI8 takes player j8 returns stringlocal string GV=I2S(M[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QJ8 takes player j8 returns stringlocal string GV=I2S(O[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QK8 takes player j8 returns stringlocal string GV=I2S(P7[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QM8 takes player j8 returns stringlocal string GV=I2S(T7[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QN8 takes player j8 returns stringlocal string GV=I2S(M_7(StringHash("Stats"+I2S(GetPlayerId(j8))),"NumOfNeutrals"))local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QO8 takes player j8 returns stringlocal string GV=I2S(wu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QP8 takes player j8 returns stringlocal string GV=I2S(Wu[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QQ8 takes player j8 returns stringlocal string GV=I2S(N34[GetPlayerId(j8)])local string Lr=GVif j8==GetLocalPlayer()thenset Lr=Fx+GV+"|r"endifreturn Lrendfunctionfunction QR8 takes player j8 returns stringlocal string LYlocal string Lzlocal string Lrlocal integer k=gD[GetPlayerId(j8)]local integer d=OF4[GetPlayerId(j8)]if k<1 thenset k=0endifif d<1 thenset d=0endifset LY=I2S(k)set Lz=I2S(d)set Lr=LY+"/"+Lzif j8==GetLocalPlayer()thenset Lr=Fx+LY+"|r/"+Fx+Lz+"|r"endifreturn Lrendfunctionfunction QS8 takes player j8 returns stringlocal integer L0=N64[GetPlayerId(j8)]local string B37local integer L1local integer L2set L1=(L0/60)-(1/2)set L2=ModuloInteger(L0,60)if(L2<10)thenset B37=I2S(L1)+":0"+I2S(L2)elseset B37=I2S(L1)+":"+I2S(L2)endifif j8==GetLocalPlayer()thenset B37=Fx+B37+"|r"endifreturn B37endfunctionfunction QT8 takes player p5,player m5 returns stringlocal string LYlocal string Lzlocal string Lrlocal integer k=M_7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))local integer d=M_7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))if k<1 thenset k=0endifif d<1 thenset d=0endifset LY=I2S(k)set Lz=I2S(d)set Lr=LY+"/"+Lzif p5==GetLocalPlayer()thenset Lr=Fx+LY+"|r/"+Fx+Lz+"|r"endifreturn Lrendfunctionfunction QU8 takes boolean IU7 returns nothinglocal integer O5=1local integer i=0local integer j=1local item JW7=nullloopexitwhen j>5if IU7 thenset O5=GetPlayerId(Y7[j])elseset O5=GetPlayerId(Z7[j])endifif G7[O5]!=null thenset i=0loopexitwhen i>5set JW7=UnitItemInSlot(G7[O5],i)if JW7!=null thenset HV7[O5*6+i]=JU7(JW7)elseset HV7[O5*6+i]=-1endifset i=i+1endloopelseset i=0loopexitwhen i>5set HV7[O5*6+i]=-1set i=i+1endloopendifset j=j+1endloopset JW7=nullendfunctionfunction QV8 takes nothing returns nothingcall QU8(true)endfunctionfunction QW8 takes nothing returns nothingcall QU8(false)endfunctionfunction QX8 takes integer O5,integer i returns stringif HV7[O5*6+i]<0 thenreturn"UI\\Widgets\\Console\\Undead\\undead-inventory-slotfiller.blp"endifreturn RU[HV7[O5*6+i]]endfunctionfunction QY8 takes nothing returns nothinglocal integer QZ8=IG4local integer QA8=IH4local player array QB8local player array QC8local integer Q38local integer Q68local integer QL8=21+VZ7(QZ8,QA8)+1local integer Q18=1+(QZ8+QA8)*2local multiboarditem Q08local integer ilocal integer xlocal integer curRow1local integer curRow2local string e="|r"local string c0="|cff99ccff"local integer Q58local integer Q28call ExecuteFunc("QV8")call ExecuteFunc("QW8")call DisableTrigger(YR)call DestroyMultiboard(E4)call TriggerSleepAction(0.)if QZ8>0 and QA8>0 thenset QL8=QL8+2endifset NS4=CreateMultiboard()call MultiboardSetItemsWidth(NS4,0)call MultiboardSetRowCount(NS4,QL8)call MultiboardSetColumnCount(NS4,Q18)call MultiboardSetTitleText(NS4,(GetObjectName(('n0E3')))+" "+" - "+(OC4))call MultiboardMinimize(NS4,true)call MultiboardSetItemsStyle(NS4,false,false)call MultiboardDisplay(NS4,true)call MultiboardMinimize(NS4,false)call MultiboardSetTitleText(NS4,(GetObjectName(('n0E3')))+" "+" - "+(OC4)+" - "+("|c00ff0303"+I2S(M[GetPlayerId(Y7[0])])+"|r/|c0020c000"+I2S(O[GetPlayerId(Y7[0])])+"|r"))set x=1set i=1loopexitwhen i>5if RE7(Y7[i])or GetPlayerSlotState(Y7[i])==PLAYER_SLOT_STATE_LEFT thenset QB8[x]=Y7[i]set x=x+1endifset i=i+1endloopset x=1set i=1loopexitwhen i>5if RE7(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT thenset QC8[x]=Z7[i]set x=x+1endifset i=i+1endloopset i=0set Q68=0loopexitwhen i>QL8set Q08=MultiboardGetItem(NS4,i,Q68)call MultiboardSetItemWidth(Q08,0.075)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q38=0set Q68=0set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08," ")call MultiboardReleaseItem(Q08)set Q68=0set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,false)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,P18(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,P18(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q38=Q38+1set Q68=0set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,false)call MultiboardReleaseItem(Q08)set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,true)call MultiboardSetItemValue(Q08,Q98(QB8[i]))call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QB8[i]))])))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,true)call MultiboardSetItemValue(Q08,Q98(QC8[i]))call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QC8[i]))])))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q38=Q38+1set Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0EB')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(1)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(2)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(1)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(2)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q38=Q38+1set Q68=0set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+" "+e)call MultiboardReleaseItem(Q08)set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(3)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(4)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(3)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(4)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q38=Q38+1set Q68=0set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+" "+e)call MultiboardReleaseItem(Q08)set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(5)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QB8[i])),(6)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(5)-1)))call MultiboardSetItemWidth(Q08,0.015)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(QX8(GetPlayerId((QC8[i])),(6)-1)))call MultiboardSetItemWidth(Q08,0.054)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0E2')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q78(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q78(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0E1')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QI8(QB8[i])+"/"+QJ8(QB8[i])+"/"+QH8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QI8(QC8[i])+"/"+QJ8(QC8[i])+"/"+QH8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+GetObjectName('n0JU')+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,P08(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,P08(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+GetObjectName('n0KF')+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q48(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q48(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0E0')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QD8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QD8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DT')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QR8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QR8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DZ')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QK8(QB8[i])+"/"+QM8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QK8(QC8[i])+"/"+QM8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DY')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QN8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QN8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DU')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QF8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QF8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DV')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QS8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QS8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DW')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QG8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QG8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DN')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q88(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,Q88(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0D8')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QO8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QO8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DI')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QP8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QP8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DM')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QQ8(QB8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,QQ8(QC8[i]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set i=i+1endloopif QZ8>0 and QA8>0 thenset Q68=0set Q58=Q38set Q28=Q68set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0DL')))+e)call MultiboardReleaseItem(Q08)set Q38=Q58set x=1loopexitwhen x>QZ8set Q68=0set Q38=Q58set i=1loopexitwhen i>QA8set Q68=x+(x-1)set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QB8[x]))])))call MultiboardSetItemWidth(Q08,0.01)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,true)call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QC8[i]))])))call MultiboardSetItemValue(Q08," "+QT8(QB8[x],QC8[i]))call MultiboardSetItemWidth(Q08,0.059)call MultiboardReleaseItem(Q08)set i=i+1endloopset x=x+1endloopset x=QZ8+1loopexitwhen x>(QA8+QZ8)set Q68=0set Q38=Q58set i=1loopexitwhen i>QZ8set Q68=x+(x-1)set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,false,true)call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QC8[x-QZ8]))])))call MultiboardSetItemWidth(Q08,0.01)call MultiboardReleaseItem(Q08)set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,true)call MultiboardSetItemIcon(Q08,(TT7(G7[GetPlayerId((QB8[i]))])))call MultiboardSetItemValue(Q08," "+QT8(QC8[x-QZ8],QB8[i]))call MultiboardSetItemWidth(Q08,0.059)call MultiboardReleaseItem(Q08)set i=i+1endloopset x=x+1endloopendifset Q38=Q38+1set Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0CZ')))+e)call MultiboardReleaseItem(Q08)set Q68=0set i=1loopexitwhen i>QZ8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,(X9[GetPlayerId((QB8[i]))]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set NW4=NW4+1set NT4[NW4]=Q38set NU4[NW4]=Q68set NV4[NW4]=QB8[i]set i=i+1endloopset i=1loopexitwhen i>QA8set Q68=Q68+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,(X9[GetPlayerId((QC8[i]))]))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)set NW4=NW4+1set NT4[NW4]=Q38set NU4[NW4]=Q68set NV4[NW4]=QC8[i]set i=i+1endloopset Q68=0set Q38=Q38+1set Q08=MultiboardGetItem(NS4,Q38,Q68)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,c0+(GetObjectName(('n0D9')))+e)call MultiboardReleaseItem(Q08)set Q08=MultiboardGetItem(NS4,Q38,Q68+1)call MultiboardSetItemStyle(Q08,true,false)call MultiboardSetItemValue(Q08,(W9))call MultiboardSetItemWidth(Q08,0.07)call MultiboardReleaseItem(Q08)call MultiboardMinimize(NS4,true)call MultiboardMinimize(NS4,false)endfunctionfunction Q_8 takes nothing returns stringreturn OC4endfunctionfunction mD takes player j8 returns stringreturn TT7(G7[GetPlayerId(j8)])endfunctionfunction me takes player j8,integer Lp returns stringreturn BH7(UnitItemInSlot(G7[GetPlayerId(j8)],Lp-1))endfunctionfunction mE takes player j8 returns stringreturn K[GetPlayerId(j8)]+S57(j8)+"|r"endfunctionfunction mf takes player j8 returns stringreturn I2S(GetPlayerState(j8,PLAYER_STATE_RESOURCE_GOLD))endfunctionfunction mF takes player p returns stringreturn I2S(Zh[GetPlayerId(p)])endfunctionfunction mg takes player p returns stringreturn I2S(GetUnitLevel(G7[GetPlayerId(p)]))endfunctionfunction mG takes player p returns stringreturn I2S(M_7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfWards"))endfunctionfunction mh takes player j8 returns stringreturn I2S(NL4[GetPlayerId(j8)])endfunctionfunction mH takes player j8 returns stringreturn I2S(tu[GetPlayerId(j8)])endfunctionfunction mi takes player j8 returns stringreturn I2S(M[GetPlayerId(j8)])endfunctionfunction mI takes player j8 returns stringreturn I2S(O[GetPlayerId(j8)])endfunctionfunction mj takes player j8 returns stringreturn I2S(P7[GetPlayerId(j8)])endfunctionfunction mJ takes player j8 returns stringreturn I2S(T7[GetPlayerId(j8)])endfunctionfunction mk takes player p returns stringreturn I2S(M_7(StringHash("Stats"+I2S(GetPlayerId(p))),"NumOfNeutrals"))endfunctionfunction mK takes player j8 returns stringreturn I2S(wu[GetPlayerId(j8)])endfunctionfunction ml takes player j8 returns stringreturn I2S(Wu[GetPlayerId(j8)])endfunctionfunction mL takes player j8 returns stringreturn I2S(N34[GetPlayerId(j8)])endfunctionfunction mm takes player j8 returns stringlocal integer k=gD[GetPlayerId(j8)]local integer d=OF4[GetPlayerId(j8)]if k<1 thenset k=0endifif d<1 thenset d=0endifreturn I2S(k)+"/"+I2S(d)endfunctionfunction mM takes player j8 returns stringlocal integer L0=N64[GetPlayerId(j8)]local string B37local integer L1local integer L2set L1=(L0/60)-(1/2)set L2=ModuloInteger(L0,60)if(L2<10)thenset B37=I2S(L1)+":0"+I2S(L2)elseset B37=I2S(L1)+":"+I2S(L2)endifreturn B37endfunctionfunction mn takes player p5,player m5 returns stringlocal integer k=M_7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Killed "+I2S(GetPlayerId(m5)))local integer d=M_7(StringHash("Stats"+I2S(GetPlayerId(p5))),"Died To "+I2S(GetPlayerId(m5)))if k<1 thenset k=0endifif d<1 thenset d=0endifreturn I2S(k)+"/"+I2S(d)endfunctionfunction mN takes player p5 returns stringlocal string moif UY7(G7[GetPlayerId(p5)])thenset mo=I2S(R2I(TimerGetRemaining(N[GetPlayerId(p5)])))elseset mo=" "endifreturn moendfunctionfunction R48 takes player p5 returns stringlocal real r=(TimerGetRemaining(NP4[GetPlayerId((p5))]))local string R78if r>0 thenset R78=I2S(R2I(r))elseset R78=" "endifreturn R78endfunctionfunction R88 takes integer mp,integer mP returns nothingset NX4=CreateMultiboard()call MultiboardSetItemsWidth(NX4,0)call MultiboardSetRowCount(NX4,mp)call MultiboardSetColumnCount(NX4,mP)call MultiboardSetTitleText(NX4,(GetObjectName(('n0E3')))+" "+" - "+Q_8())call MultiboardMinimize(NX4,true)call MultiboardSetItemsStyle(NX4,false,false)if GetLocalPlayer()==K_4 or GetLocalPlayer()==M44 thencall MultiboardDisplay(NX4,true)endifendfunctionfunction mq takes nothing returns stringreturn"|c00ff0303"+I2S(M[GetPlayerId(Y7[0])])+"|r/|c0020c000"+I2S(O[GetPlayerId(Y7[0])])+"|r"endfunctionfunction R98 takes player RD8 returns stringreturn I2S(BT[GetPlayerId(RD8)])endfunctionfunction RE8 takes nothing returns nothinglocal integer BD7=IG4local integer B97=IH4local player array RF8local player array RG8local integer RH8local integer RI8local integer RJ8=1+19+VZ7(BD7,B97)+2local integer RK8=1+(BD7+B97)*2local multiboarditem BA7local integer ilocal integer xlocal integer curRow1local integer curRow2local string e="|r"local string c0="|cff99ccff"local integer RM8local integer RN8local integer RO8=131local integer RP8=139local integer RQ8=139local integer RR8=255local integer OI8=0local string OJ8=""local string OK8=""local integer OM8=0local integer ON8=0local integer rlocal string N38if BD7>0 and B97>0 thenset RJ8=RJ8+2endifif GetTriggerExecCount(GetTriggeringTrigger())==1 thencall R88(RJ8,RK8)endifif GetLocalPlayer()==K_4 or GetLocalPlayer()==M44 thencall MultiboardDisplay(NX4,true)endifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(N[GetPlayerId(Y7[i])]))if r>0 thenset OI8=OI8+N58(r)if OM8==0 thenif r<10 thenset OJ8=K[GetPlayerId(Y7[i])]+"0"+I2S(r)+" |r"elseset OJ8=K[GetPlayerId(Y7[i])]+I2S(r)+" |r"endifelseif r<10 thenset OJ8=OJ8+Hj+"| |r"+K[GetPlayerId(Y7[i])]+"0"+I2S(r)+" |r"elseset OJ8=OJ8+Hj+"| |r"+K[GetPlayerId(Y7[i])]+I2S(r)+" |r"endifendifset OM8=OM8+1endifset i=i+1endloopif OM8>0 thenset OJ8=Hj+"[Sentinel: |r"+OJ8+Hj+"]|r"endifset i=1loopexitwhen i>5set r=R2I(TimerGetRemaining(N[GetPlayerId(Z7[i])]))if r>0 thenset OI8=OI8+N58(r)if ON8==0 thenif r<10 thenset OK8=K[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"elseset OK8=K[GetPlayerId(Z7[i])]+I2S(r)+" |r"endifelseif r<10 thenset OK8=OK8+Hj+"| |r"+K[GetPlayerId(Z7[i])]+"0"+I2S(r)+" |r"elseset OK8=OK8+Hj+"| |r"+K[GetPlayerId(Z7[i])]+I2S(r)+" |r"endifendifset ON8=ON8+1endifset i=i+1endloopif ON8>0 thenset OK8=Hj+"[Scourge: |r"+OK8+Hj+"]|r"endifcall MultiboardSetTitleText(NX4,OJ8+" "+OK8+" "+GetObjectName('n0E3')+" "+" - "+(OC4)+" - "+("|c00ff0303"+I2S(M[GetPlayerId(Y7[0])])+"|r/|c0020c000"+I2S(O[GetPlayerId(Y7[0])])+"|r"))set x=1set i=1loopexitwhen i>5if RE7(Y7[i])or GetPlayerSlotState(Y7[i])==PLAYER_SLOT_STATE_LEFT thenset RF8[x]=Y7[i]set x=x+1endifset i=i+1endloopset x=1set i=1loopexitwhen i>5if RE7(Z7[i])or GetPlayerSlotState(Z7[i])==PLAYER_SLOT_STATE_LEFT thenset RG8[x]=Z7[i]set x=x+1endifset i=i+1endloopset i=0set RI8=0loopexitwhen i>RJ8set BA7=MultiboardGetItem(NX4,i,RI8)call MultiboardSetItemWidth(BA7,.075)call MultiboardReleaseItem(BA7)set i=i+1endloopset RH8=0set RI8=0set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7," ")call MultiboardReleaseItem(BA7)set RI8=0set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,false)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mE(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mE(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RH8=RH8+1set RI8=0set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,false)call MultiboardReleaseItem(BA7)set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemValue(BA7,"("+mg(RF8[i])+")")call MultiboardSetItemIcon(BA7,mD(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemValue(BA7,"("+mg(RG8[i])+")")call MultiboardSetItemIcon(BA7,mD(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RH8=RH8+1set RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Items"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],1))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],2))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],1))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],2))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset RH8=RH8+1set RI8=0set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+" "+e)call MultiboardReleaseItem(BA7)set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],3))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],4))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],3))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],4))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset RH8=RH8+1set RI8=0set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+" "+e)call MultiboardReleaseItem(BA7)set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],5))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RF8[i],6))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],5))call MultiboardSetItemWidth(BA7,.015)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,me(RG8[i],6))call MultiboardSetItemWidth(BA7,.054)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Current Gold"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mf(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mf(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Hero K/D/A"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mi(RF8[i])+"/"+mI(RF8[i])+"/"+R98(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mi(RG8[i])+"/"+mI(RG8[i])+"/"+R98(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Wards"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mG(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mG(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Towers Kills"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mm(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mm(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Creep Stats"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mj(RF8[i])+"/"+mJ(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mj(RG8[i])+"/"+mJ(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Neutral Kills"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mk(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mk(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Hero Kill Gold"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mh(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mh(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Time Dead"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mM(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mM(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Gold Lost"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mH(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mH(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Consumables"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mF(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mF(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Double Kills"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mK(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mK(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Triple Kills"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,ml(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,ml(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Best Spree"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mL(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,mL(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopif BD7>0 and B97>0 thenset RI8=0set RM8=RH8set RN8=RI8set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Kill Details"+e)call MultiboardReleaseItem(BA7)set RH8=RM8set x=1loopexitwhen x>BD7set RI8=0set RH8=RM8set i=1loopexitwhen i>B97set RI8=x+(x-1)set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,mD(RF8[x]))call MultiboardSetItemWidth(BA7,.01)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemIcon(BA7,mD(RG8[i]))call MultiboardSetItemValue(BA7," "+mn(RF8[x],RG8[i]))call MultiboardSetItemWidth(BA7,.059)call MultiboardReleaseItem(BA7)set i=i+1endloopset x=x+1endloopset x=BD7+1loopexitwhen x>(B97+BD7)set RI8=0set RH8=RM8set i=1loopexitwhen i>BD7set RI8=x+(x-1)set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,false,true)call MultiboardSetItemIcon(BA7,mD(RG8[x-BD7]))call MultiboardSetItemWidth(BA7,.01)call MultiboardReleaseItem(BA7)set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemIcon(BA7,mD(RF8[i]))call MultiboardSetItemValue(BA7," "+mn(RG8[x-BD7],RF8[i]))call MultiboardSetItemWidth(BA7,.059)call MultiboardReleaseItem(BA7)set i=i+1endloopset x=x+1endloopendifset RH8=RH8+1set RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+GetObjectName('n0HS')+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemValueColor(BA7,RO8,RP8,RQ8,RR8)if mN(RF8[i])==" " thencall MultiboardSetItemStyle(BA7,true,false)elsecall MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemIcon(BA7,(TT7(G7[GetPlayerId((RF8[i]))])))endifcall MultiboardSetItemValue(BA7,R48(RF8[i]))call MultiboardSetItemWidth(BA7,0.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemValueColor(BA7,RO8,RP8,RQ8,RR8)if mN(RG8[i])==" " thencall MultiboardSetItemStyle(BA7,true,false)elsecall MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemIcon(BA7,(TT7(G7[GetPlayerId((RG8[i]))])))endifcall MultiboardSetItemValue(BA7,R48(RG8[i]))call MultiboardSetItemWidth(BA7,0.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,c0+"Respawn"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)if mN(RF8[i])==" "thencall MultiboardSetItemStyle(BA7,true,false)elsecall MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemIcon(BA7,mD(RF8[i]))endifcall MultiboardSetItemValue(BA7,mN(RF8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)if mN(RG8[i])==" "thencall MultiboardSetItemStyle(BA7,true,false)elsecall MultiboardSetItemStyle(BA7,true,true)call MultiboardSetItemIcon(BA7,mD(RG8[i]))endifcall MultiboardSetItemValue(BA7,mN(RG8[i]))call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,EV7+"AI Actions"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)set N38=NA8(GetPlayerId(RF8[i]),true)if RF8[i]==QK4 thenset N38=EB7endifcall MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,N38)call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)set N38=NA8(GetPlayerId(RG8[i]),true)if RG8[i]==QM4 thenset N38=EB7endifcall MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,N38)call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset RI8=0set RH8=RH8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,LY4+"Exp.|r - "+LZ4+"Gold|r"+e)call MultiboardReleaseItem(BA7)set RI8=0set i=1loopexitwhen i>BD7set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)set N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(RF8[i])-100.))+"%|r - "+LZ4+"+"+I2S(X54[48+GetPlayerId(RF8[i])])+"|r"call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,N38)call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopset i=1loopexitwhen i>B97set RI8=RI8+1set BA7=MultiboardGetItem(NX4,RH8,RI8)set N38=LY4+"+"+I2S(R2I(GetPlayerHandicapXPBJ(RG8[i])-100.))+"%|r - "+LZ4+"+"+I2S(X54[48+GetPlayerId(RG8[i])])+"|r"call MultiboardSetItemStyle(BA7,true,false)call MultiboardSetItemValue(BA7,N38)call MultiboardSetItemWidth(BA7,.07)call MultiboardReleaseItem(BA7)set i=i+1endloopendfunctionfunction RS8 takes integer p5,integer m5 returns booleanlocal integer i=Tb-1local real RT8=0local real T47=(TimerGetElapsed(P))local integer RU8=0loopexitwhen i==Tb or RT8>wb or RU8>200if i==0 thenset i=8000-1endifset RU8=RU8+1set RT8=T47-Mb[i]if pb[i]==p5 and Qb[i]==m5 and RT8<wb thenset pb[i]=0set Qb[i]=0return trueendifset i=i-1endloopreturn falseendfunctionfunction PZ8 takes nothing returns nothinglocal integer p5=GetPlayerId(GetOwningPlayer(GetEventDamageSource()))local integer m5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local real V37=GetEventDamage()set Mb[Tb]=(TimerGetElapsed(P))set pb[Tb]=p5set Qb[Tb]=m5set Tb=Tb+1if Tb==8000 thenset Tb=1endifendfunctionfunction RV8 takes unit S4,unit RW8 returns stringlocal integer i=1local integer RX8=GetPlayerId(GetOwningPlayer(S4))local integer RY8=GetPlayerId(GetOwningPlayer(RW8))local integer RZ8local string RA8=" "+GetObjectName('n0JY')+" "local boolean RB8=falseloopexitwhen i>5if Q_7(GetOwningPlayer(RW8))thenset RZ8=GetPlayerId(Y7[i])elseset RZ8=GetPlayerId(Z7[i])endifif RY8!=RZ8 and RS8(RZ8,RX8)thenset BT[RZ8]=BT[RZ8]+1call AT7("Assist"+I2S(RZ8),RX8)if RB8 thenset RA8=RA8+"/"+K[RZ8]+(M74[GetPlayerId((Player(RZ8)))])+"|r"elseset RA8=RA8+K[RZ8]+(M74[GetPlayerId((Player(RZ8)))])+"|r"endifset RB8=trueendifset i=i+1endloopif RB8 thenreturn RA8endifreturn" "endfunctionfunction RC8 takes integer p5,integer m5 returns booleanlocal integer i=Tb-1local real RT8=0local real T47=(TimerGetElapsed(P))local integer RU8=0loopexitwhen i==Tb or RT8>wb or RU8>200if i==0 thenset i=8000-1endifset RU8=RU8+1set RT8=T47-Mb[i]if pb[i]==p5 and Qb[i]==m5 and RT8<wb thenreturn trueendifset i=i-1endloopreturn falseendfunctionfunction R38 takes unit S4,unit RW8 returns booleanlocal integer i=1local integer RX8=GetPlayerId(GetOwningPlayer(S4))local integer RY8=GetPlayerId(GetOwningPlayer(RW8))local integer RZ8local string RA8=" Assists: "local boolean RB8=falselocal integer x=1set CT[1]=nullset CT[2]=nullset CT[3]=nullset CT[4]=nullset CT[5]=nullloopexitwhen i>5if Q_7(GetOwningPlayer(RW8))thenset RZ8=GetPlayerId(Y7[i])elseset RZ8=GetPlayerId(Z7[i])endifif RY8!=RZ8 and RC8(RZ8,RX8)thenset CT[x]=Player(RZ8)set x=x+1set RB8=trueendifset i=i+1endloopreturn RB8endfunctionfunction R68 takes unit S4,unit RW8 returns stringlocal integer i=1local integer RX8=GetPlayerId(GetOwningPlayer(S4))local integer RY8=GetPlayerId(GetOwningPlayer(RW8))local integer RZ8local string RA8=""local boolean RB8=falseloopexitwhen i>5if Q_7(GetOwningPlayer(RW8))thenset RZ8=GetPlayerId(Y7[i])elseset RZ8=GetPlayerId(Z7[i])endifif RY8!=RZ8 and RC8(RZ8,RX8)thenif RB8 thenset RA8=RA8+"/"+K[RZ8]+(M74[GetPlayerId((Player(RZ8)))])+"|r"elseset RA8=RA8+K[RZ8]+(M74[GetPlayerId((Player(RZ8)))])+"|r"endifset RB8=trueendifset i=i+1endloopif RB8 thenreturn RA8endifreturn" "endfunctionfunction RL8 takes unit S4,unit RW8 returns integerlocal integer i=1local integer RX8=GetPlayerId(GetOwningPlayer(S4))local integer RY8=GetPlayerId(GetOwningPlayer(RW8))local integer RZ8local integer RU8=0loopexitwhen i>5if Q_7(GetOwningPlayer(RW8))thenset RZ8=GetPlayerId(Y7[i])elseset RZ8=GetPlayerId(Z7[i])endifif RY8!=RZ8 and RC8(RZ8,RX8)thenset RU8=RU8+1endifset i=i+1endloopreturn RU8endfunctionfunction R18 takes unit R08 returns booleanreturn GetUnitTypeId(R08)=='H00I' or GetUnitTypeId(R08)=='H00J'endfunctionfunction R58 takes unit R08 returns booleanlocal integer NO7=GetHandleId(GetOwningPlayer(R08))local unit CF7=MZ7(NO7,"Kobold0")local unit CG7=MZ7(NO7,"Kobold1")local unit CH7=MZ7(NO7,"Kobold2")local unit CI7=MZ7(NO7,"Kobold3")local unit CJ7=MZ7(NO7,"Kobold4")if GetUnitAbilityLevel(CF7,'A0OV')!=0 or GetUnitAbilityLevel(CG7,'A0OV')!=0 or GetUnitAbilityLevel(CH7,'A0OV')!=0 or GetUnitAbilityLevel(CI7,'A0OV')!=0 or GetUnitAbilityLevel(CJ7,'A0OV')!=0 thenreturn trueendifset CF7=nullset CG7=nullset CH7=nullset CI7=nullset CJ7=nullreturn falseendfunctionfunction R28 takes unit R08 returns booleanlocal integer i=0local integer NO7=GetHandleId(GetOwningPlayer(R08))local unit R_8=MZ7(NO7,"Kobold0")loopexitwhen i>5if GetItemTypeId(UnitItemInSlot(R_8,i))==OU[T5]and GetItemCharges(UnitItemInSlot(R_8,i))>0 thenset R_8=nullreturn trueendifset i=i+1endloopset R_8=nullreturn falseendfunctionfunction S48 takes unit R08,location S78 returns nothinglocal integer NO7=GetHandleId(GetOwningPlayer(R08))local unit CF7=MZ7(NO7,"Kobold0")local unit CG7=MZ7(NO7,"Kobold1")local unit CH7=MZ7(NO7,"Kobold2")local unit CI7=MZ7(NO7,"Kobold3")local unit CJ7=MZ7(NO7,"Kobold4")if CF7!=null thencall ReviveHeroLoc(CF7,S78,true)call B07(CF7)endifif CG7!=null thencall ReviveHeroLoc(CG7,S78,true)call B07(CG7)endifif CH7!=null thencall ReviveHeroLoc(CH7,S78,true)call B07(CH7)endifif CI7!=null thencall ReviveHeroLoc(CI7,S78,true)call B07(CI7)endifif CJ7!=null thencall ReviveHeroLoc(CJ7,S78,true)call B07(CJ7)endifset CJ7=nullset CI7=nullset CH7=nullset CG7=nullset CF7=nullendfunctionfunction S88 takes unit T_7,real S98,boolean SD8 returns nothingset NC4=NC4+1set NZ4[NC4]=T_7set NA4[NC4]=JM7()+S98set NB4[NC4]=SD8endfunctionfunction SE8 takes integer i returns nothinglocal unit R08=NZ4[i]local player p4=GetOwningPlayer(R08)local location S78if R47(p4)thenset S78=GetRectCenter(Y9)elseset S78=GetRectCenter(Z9)endifif C8==false and UY7(R08)thencall B_7(R08,p4,GetLocationX(S78),GetLocationY(S78),true)if C77(R08)==false or GetUnitAbilityLevel(R08,'A0MW')==0 thencall ReviveHeroLoc(R08,S78,true)elsecall S48(R08,S78)endifcall SetUnitState(R08,UNIT_STATE_MANA,GetUnitState(R08,UNIT_STATE_MAX_MANA))endifcall RemoveLocation(S78)call NW8(i)set R08=nullset p4=nullset S78=nullendfunctionfunction SF8 takes nothing returns booleanlocal real T47=JM7()local integer iset i=1loopexitwhen i>NC4if NA4[i]<T47 and NA4[i]!=0 thencall SE8(i)endifif NA4[i]!=0 and UY7(NZ4[i])==false thenset NZ4[i]=nullset NA4[i]=0set NB4[i]=falseendifset i=i+1endloopreturn falseendfunctionfunction SG8 takes unit u returns stringlocal string s=GetObjectName('n0FO')set s=AX7(s,"$hero",K[GetPlayerId(GetOwningPlayer(u))]+GetUnitName(u)+"|r")return sendfunctionfunction SH8 takes unit X97 returns booleanif GetOwningPlayer(X97)!=GetLocalPlayer()thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,15,SG8(G7[GetPlayerId(GetOwningPlayer(X97))]))endifreturn falseendfunctionfunction SI8 takes nothing returns booleanif(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false thenif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(R34))and KO7(GetFilterUnit(),OU[DZ4])!=null thencall SetItemCharges(KO7(GetFilterUnit(),OU[DZ4]),GetItemCharges(KO7(GetFilterUnit(),OU[DZ4]))+1)endifendifreturn falseendfunctionfunction SJ8 takes nothing returns booleanlocal item ilocal integer SK8if M3==0 and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(S74))thenif KO7(GetFilterUnit(),OU[EE4])!=null thenset M3=M3+1set SK8=GetItemCharges(KO7(GetFilterUnit(),OU[EE4]))if SK8==0 thenset SK8=2elseset SK8=SK8+1endifcall SetItemCharges(KO7(GetFilterUnit(),OU[EE4]),SK8)endifendifset i=nullreturn falseendfunctionfunction SM8 takes unit u returns nothinglocal group g=TL7()set R34=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function SI8))call T67(g)set g=nullendfunctionfunction SN8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit SO8=(LoadUnitHandle(C7,(V_7),(335)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real xlocal real ylocal real aif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerUnit()!=SO8 thencall KillUnit(SO8)endifelseset a=GetUnitFacing(U47)*bj_RADTODEGset x=GetUnitX(U47)+75set y=GetUnitY(U47)+75call SetUnitX(SO8,x)call SetUnitY(SO8,y)call IssueTargetOrder(SO8,"attack",U47)endifset t=nullset SO8=nullset U47=nullreturn falseendfunctionfunction SP8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit SO8if GetSummoningUnit()==ZM7 thencall FlushChildHashtable(C7,(V_7))call NM7(t)set SO8=GetSummonedUnit()set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterDeathEvent(t,SO8)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function SN8))call SaveUnitHandle(C7,(V_7),(335),(SO8))call SaveUnitHandle(C7,(V_7),(17),(U47))call UnitAddAbility(SO8,1097625443)call SetUnitPosition(SO8,GetUnitX(U47)+100,GetUnitY(U47)+100)call IssueTargetOrder(SO8,"attack",U47)call SetUnitMoveSpeed(SO8,522)endifset t=nullset U47=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction SQ8 takes unit X97,unit SR8 returns nothinglocal unit U47=SR8local unit ZM7local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)if AN7(U47)thenset U47=(G7[GetPlayerId(GetOwningPlayer((U47)))])endifset ZM7=CreateUnit(GetOwningPlayer(X97),1697656901,GetUnitX(U47),GetUnitY(U47),0)call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function SP8))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call UW7(ZM7,1093813559)call IssueTargetOrderById(ZM7,852274,U47)set t=nullset U47=nullset ZM7=nullendfunctionfunction SS8 takes nothing returns booleanif(GetUnitAbilityLevel(GetFilterUnit(),1093678162)==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetFilterUnit())==false thenif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(R34))==false and KO7(GetFilterUnit(),OU[LB])!=null thenendifendifreturn falseendfunctionfunction ST8 takes unit u returns nothinglocal group g=TL7()set R34=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1625,Condition(function SS8))call T67(g)set g=nullendfunctionfunction SU8 takes unit u returns nothinglocal group g=TL7()set M3=0set S74=ucall GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1425,Condition(function SJ8))call T67(g)set M3=0set g=nullendfunctionfunction SV8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SW8=M_7(NO7,"side")local integer i=1local player plocal string M6loopexitwhen i>5if SW8==0 thenset p=Y7[i]set M6=K[GetPlayerId(Y7[0])]+(GetObjectName(('n03N')))+"|r "+(GetObjectName(('n03P')))+" "+K[GetPlayerId(Y7[0])]+(GetObjectName(('n03Q')))+"|r"elseset p=Z7[i]set M6=K[GetPlayerId(Z7[0])]+(GetObjectName(('n03O')))+"|r "+(GetObjectName(('n03P')))+" "+K[GetPlayerId(Z7[0])]+(GetObjectName(('n03Q')))+"|r"endifcall DisplayTimedTextToPlayer(p,0,0,10,M6)call W_7(XO,p)set i=i+1endloopcall K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction SX8 takes integer SW8 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function SV8))call M87(NO7,"side",SW8)set t=nullendfunctionfunction SY8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SZ8=M_7(NO7,"soundIndex")local string M6=N87(NO7,"msg")if SZ8==1 thencall W27(nX)elseif SZ8==2 thencall W27(CR)elseif SZ8==3 thencall W27(ZO)elseif SZ8==4 thencall W27(LO)endifcall S_7(B8,10.00,M6)call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction SA8 takes string M6,integer SZ8 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function SY8))call MD7(NO7,"msg",M6)call M87(NO7,"soundIndex",SZ8)set t=nullendfunctionfunction SB8 takes player SC8,integer S38,unit R08 returns nothinglocal texttag t=CreateTextTag()local string scall SetPlayerState(SC8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(SC8,PLAYER_STATE_RESOURCE_GOLD)+S38)call SetTextTagText(t,"+"+I2S(S38),0.025)call SetTextTagPosUnit(t,R08,0)call SetTextTagColor(t,255,220,0,255)call SetTextTagVelocity(t,0,0.03)if GetLocalPlayer()==SC8 thencall SetTextTagVisibility(t,true)set s="UI\\Feedback\\GoldCredit\\GoldCredit.mdl"elsecall SetTextTagVisibility(t,false)set s=""endifif GetUnitState(R08,UNIT_STATE_LIFE)>0.5 thencall DestroyEffect(AddSpecialEffectTarget(s,R08,"overhead"))endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endfunctionfunction S68 takes unit R08,unit SL8,real S18 returns nothinglocal integer i=1local integer S08=0call R38(R08,SL8)loopexitwhen i>5if CT[i]!=null thenset S08=S08+1endifset i=i+1endloopset i=1loopexitwhen i>5if CT[i]!=null thenset UI4[GetPlayerId(CT[i])]=UI4[GetPlayerId(CT[i])]+R2I(S18/S08)call SB8(CT[i],R2I(S18/S08),G7[GetPlayerId(CT[i])])endifset i=i+1endloopendfunctionfunction S58 takes player S28,integer S38 returns nothinglocal integer T8=1local integer Jgif Q_7(S28)thenset Jg=P8(W7)elseset Jg=P8(X7)endifif Q_7(S28)thenloopexitwhen T8>5if RD7(Y7[T8])thenset UI4[GetPlayerId(Y7[T8])]=UI4[GetPlayerId(Y7[T8])]+S38/Jgcall SB8(Y7[T8],S38/Jg,G7[GetPlayerId(Y7[T8])])endifset T8=T8+1endloopelseloopexitwhen T8>5if RD7(Z7[T8])thenset UI4[GetPlayerId(Z7[T8])]=UI4[GetPlayerId(Z7[T8])]+S38/Jgcall SB8(Z7[T8],S38/Jg,G7[GetPlayerId(Z7[T8])])endifset T8=T8+1endloopendifendfunctionfunction S_8 takes unit R08,integer T48 returns nothinglocal player p4=GetOwningPlayer(R08)call SetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p4,PLAYER_STATE_RESOURCE_GOLD)-T48)endfunctionfunction m4 takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())=='o003'thencall KillUnit(GetFilterUnit())return trueendifreturn falseendfunctionfunction T78 takes nothing returns nothinglocal boolexpr hP=Condition(function m4)local group B47=TL7()call GroupEnumUnitsInRect(B47,bj_mapInitialPlayableArea,hP)call T67(B47)set B47=nullendfunctionfunction T88 takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true thenif GetUnitTypeId(GetTriggerUnit())=='H00J' and R28(GetTriggerUnit())thenreturn falseendifreturn trueendifreturn falseendfunctionfunction T98 takes player TD8,player SC8 returns booleanreturn GetKillingUnit()==null or(Q_7(TD8)and Q_7(SC8))or(R47(TD8)and R47(SC8))endfunctionfunction TE8 takes nothing returns nothingif(GetUnitTypeId((GetEnumUnit()))=='H00J')==false thenset OD4=OD4+1if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())thenset OE4=OE4+1endifendifendfunctionfunction TF8 takes nothing returns nothingif(GetUnitTypeId((GetEnumUnit()))=='H00J')==false thencall AddHeroXP(GetEnumUnit(),O74,true)set O84[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=O84[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+O74if GetOwningPlayer(GetKillingUnit())!=GetOwningPlayer(GetEnumUnit())thenset O94[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=O94[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+O44set UI4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=UI4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]+O44call SB8(GetOwningPlayer(GetEnumUnit()),O44,GetEnumUnit())endifendifendfunctionfunction TG8 takes nothing returns booleanlocal integer ZN7local integer TH8=0local integer TI8=0local group gif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitTypeId((GetTriggerUnit()))=='H00J')==false thenset ZN7=GetHeroLevel(GetTriggerUnit())set O74=0set O44=0set g=TL7()set OD4=0set OE4=0call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1025,Condition(function YX7))call ForGroup(g,function TE8)if OD4==1 thenset TH8=20*ZN7+120elseif OD4==2 thenset TH8=15*ZN7+90elseif OD4==3 thenset TH8=7*ZN7+30elseif OD4==4 thenset TH8=6*ZN7+15elseif OD4==5 thenset TH8=5*ZN7+10endifif OE4==1 thenset TI8=9*ZN7+95elseif OE4==2 thenset TI8=8*ZN7+20elseif OE4==3 thenset TI8=6*ZN7elseif OE4==4 thenset TI8=6*ZN7elseif OE4==5 thenset TI8=6*ZN7endifif W4 thenendifset O74=TH8set O44=TI8call ForGroup(g,function TF8)call T67(g)set g=nullendifreturn falseendfunctionfunction TJ8 takes nothing returns nothinglocal boolean TK8=falselocal unit R08=GetDyingUnit()local unit SL8=GetKillingUnit()local player SC8=GetOwningPlayer(SL8)local player TD8=GetOwningPlayer(R08)local integer S38=0local integer TM8=0local boolean TN8=falselocal string TO8=""local string TP8=""local string TQ8=""local string MidTextlocal integer xlocal string TR8local string TS8local string TT8local string TU8local boolean SD8=falselocal real TV8=1local real TW8=1local real TX8=1local real TY8=1local real TZ8=0local trigger tlocal integer TA8local integer TB8local item TC8local integer idlocal integer T38=GetPlayerState(TD8,PLAYER_STATE_RESOURCE_GOLD)local integer T68=T38-UI4[GetPlayerId(TD8)]local unit TL8local unit T18call TG8()if SL8==null and GetUnitTypeId(R08)=='Npbm' thenset SL8=YR4set SC8=GetOwningPlayer(SL8)endifset TB8=RL8(R08,SL8)if SL8!=null thenset id=GetUnitTypeId(SL8)call UZ7(G7[GetPlayerId(GetOwningPlayer(SL8))],R08)endifif T98(TD8,SC8)==false and TB8==1 and R77(SC8)==false and SC8!=A7 thencall R38(R08,SL8)set SC8=CT[1]set SL8=G7[GetPlayerId(SC8)]endifset IX4[GetPlayerId(GetOwningPlayer((R08)))]=trueif GetUnitAbilityLevel(R08,'A0OV')!=0 or(R18(R08)and R58(R08))thenset SD8=truecall UnitRemoveAbility(R08,'A0OV')set L7=R08set ox=SL8if IsUnitType(SL8,UNIT_TYPE_STRUCTURE)==false thenendifendifif SC8==null thenset SC8=TD8endifif D4 and GetUnitTypeId(R08)!='H00J'thenif(GetPlayerController(GetOwningPlayer(GetDyingUnit()))==MAP_CONTROL_USER)thenset jx=UnitRemoveItemFromSlot(R08,GetRandomInt(0,5))if GetItemTypeId(jx)=='I00K' thencall CreateItem('I00G',GetItemX(jx),GetItemY(jx))call RemoveItem(jx)endifelseif(IsUnitInForce(GetDyingUnit(),QP4))thenset jx=UnitItemInSlot(GetDyingUnit(),GetRandomInt(0,5))if(jx==null)thenelseif(GetItemType(jx)==ITEM_TYPE_PURCHASABLE)thencall UnitRemoveItem(GetDyingUnit(),jx)elseset TC8=CreateItem(GetItemTypeId(jx),GetUnitX(GetDyingUnit()),GetUnitY(GetDyingUnit()))call SetItemPlayer(TC8,GetOwningPlayer(GetDyingUnit()),false)set hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]=hG[128+GetPlayerId(GetOwningPlayer(GetDyingUnit()))]+O_7(GetItemTypeId(jx))if((GetItemTypeId(jx)==OU[E0])or(GetItemTypeId(jx)==OU[Q1]))thencall SetItemCharges(TC8,GetItemCharges(jx))endifendifendifendifif Q_7(TD8)thenif Q_7(SC8)thenset TK8=trueif(SC8==TD8)thencall S_7(B8,10.00,(K[GetPlayerId(TD8)]+(M74[GetPlayerId((TD8))])+"|r "+(GetObjectName(('n03R')))))elsecall S_7(B8,10.00,AL7(TD8,SC8))endifelseif R47(SC8)thenset TN8=trueset O[GetPlayerId(Y7[0])]=O[GetPlayerId(Y7[0])]+1set M[GetPlayerId(Z7[0])]=M[GetPlayerId(Z7[0])]+1set E[2]=E[2]+1set E[1]=0if SC8!=Z7[0]thenset M[GetPlayerId(SC8)]=M[GetPlayerId(SC8)]+1set D[GetPlayerId(SC8)]=D[GetPlayerId(SC8)]+1endifendifendifif R47(TD8)thenif R47(SC8)thenset TK8=trueif(SC8==TD8)thencall S_7(B8,10.00,(K[GetPlayerId(TD8)]+(M74[GetPlayerId((TD8))])+"|r "+(GetObjectName(('n03R')))))elsecall S_7(B8,10.00,AL7(TD8,SC8))endifelseif Q_7(SC8)thenset TN8=trueset O[GetPlayerId(Z7[0])]=O[GetPlayerId(Z7[0])]+1set M[GetPlayerId(Y7[0])]=M[GetPlayerId(Y7[0])]+1set E[1]=E[1]+1set E[2]=0if SC8!=Y7[0]thenset M[GetPlayerId(SC8)]=M[GetPlayerId(SC8)]+1set D[GetPlayerId(SC8)]=D[GetPlayerId(SC8)]+1endifendifendifif SC8==A7 thenset TN8=falseif GetUnitTypeId(SL8)=='n00L' thencall S_7(B8,10.00,(K[GetPlayerId(TD8)]+(M74[GetPlayerId((TD8))])+"|r "+(GetObjectName(('n03T')))))elsecall S_7(B8,10.00,(K[GetPlayerId(TD8)]+(M74[GetPlayerId((TD8))])+"|r "+(GetObjectName(('n03U')))))endifset TK8=trueendifif N0 thencall WN7(AX,GetUnitX(R08),GetUnitY(R08))endifcall AT7("Hero"+I2S(GetPlayerId(TD8)),GetPlayerId(SC8))set x=D[GetPlayerId(TD8)]if x>2 and TK8==false thenif x==3 thenset S38=50set TO8="|c0000ff40"+(GetObjectName(('n04L')))+"|r"elseif x==4 thenset S38=100set TO8="|c00400080"+(GetObjectName(('n04N')))+"|r"elseif x==5 thenset S38=150set TO8="|c00ff0080"+(GetObjectName(('n04M')))+"|r"elseif x==6 thenset S38=200set TO8="|c00ff8000"+(GetObjectName(('n04J')))+"|r"elseif x==7 thenset S38=250set TO8="|c00808000"+(GetObjectName(('n04I')))+"|r"elseif x==8 thenset S38=300set TO8="|c00ff80ff"+(GetObjectName(('n03V')))+"|r"elseif x==9 thenset S38=350set TO8="|c00ff0000"+(GetObjectName(('n03W')))+"|r"elseset S38=400set TO8="|c00ff8000"+(GetObjectName(('n03X')))+"|r"endifendifset x=D[GetPlayerId(SC8)]if x>N34[GetPlayerId(SC8)]thenset N34[GetPlayerId(SC8)]=xendifset TL8=SL8if IsUnitType(TL8,UNIT_TYPE_HERO)==false thenset TL8=G7[GetPlayerId(GetOwningPlayer(TL8))]endifif x>2 and GetUnitTypeId(TL8)!='U00F' and O64[GetPlayerId(GetOwningPlayer(TL8))]==0 thenendifset T18=R08if IsUnitType(T18,UNIT_TYPE_HERO)==false thenset T18=G7[GetPlayerId(GetOwningPlayer(T18))]endifif TK8==false and TN8==true thenendifif x>2 and TK8==false thenif x==3 thencall W27(eO)set TP8=" "+(GetObjectName(('n04K')))+" |c0000ff40"+(GetObjectName(('n04L')))+"|r"+(GetObjectName(('n049')))elseif x==4 thencall W27(aX)set TP8=" "+(GetObjectName(('n04H')))+" |c00400080"+(GetObjectName(('n04N')))+"|r"+(GetObjectName(('n049')))elseif x==5 thencall W27(rO)set TP8=" "+(GetObjectName(('n04G')))+" |c00ff0080"+(GetObjectName(('n04M')))+"|r"+(GetObjectName(('n049')))elseif x==6 thencall W27(fR)set TP8=" "+(GetObjectName(('n04H')))+" |c00ff8000"+(GetObjectName(('n04J')))+"|r"+(GetObjectName(('n04A')))elseif x==7 thencall W27(HR)set TP8=" "+(GetObjectName(('n04H')))+" |c00808000"+(GetObjectName(('n04I')))+"|r"+(GetObjectName(('n04A')))elseif x==8 thencall W27(VO)set TP8=" "+(GetObjectName(('n04G')))+" |c00ff80ff"+(GetObjectName(('n03V')))+"|r"+(GetObjectName(('n04A')))elseif x==9 thencall W27(NX)set TP8=" "+(GetObjectName(('n04H')))+" |c00ff0000"+(GetObjectName(('n03W')))+"|r"+(GetObjectName(('n04B')))elsecall W27(uX)set TP8=" "+(GetObjectName(('n04H')))+" |c00ff8000"+(GetObjectName(('n03X')))+"|r. "+(GetObjectName(('n04F')))+(GetObjectName(('n04B')))endifendifif TK8==false thenset S38=S38+100+GetHeroLevel(R08)*5+100set TR8=K[GetPlayerId(TD8)]+(M74[GetPlayerId((TD8))])+"|r"set TS8=K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r"set TU8="|c00FFDC00"+I2S(S38)+"|r"if SC8==Y7[0]or SC8==Z7[0]thenif TB8==0 thenif SC8==Y7[0]thenset TT8=TS8+" "+(GetObjectName(('n042')))+" "+TR8+(GetObjectName(('n043')))+(GetObjectName(('n049')))+" "+TU8+" "+(GetObjectName(('n044')))+"."call S58(SC8,S38)elseif SC8==Z7[0]thenset TT8=TS8+" "+(GetObjectName(('n042')))+" "+TR8+(GetObjectName(('n043')))+(GetObjectName(('n049')))+" "+TU8+" "+(GetObjectName(('n044')))+"."call S58(SC8,S38)endifelseif TB8>1 thenset TT8=TS8+" "+(GetObjectName(('n042')))+" "+TR8+(GetObjectName(('n043')))+(GetObjectName(('n049')))+" "+TU8+" "+(GetObjectName(('n044')))+"."call S68(R08,SL8,S38)endifelseif TO8=="" and TP8=="" thenset TT8=TS8+" "+(GetObjectName(('n042')))+" "+TR8+(GetObjectName(('n043')))+" "+(GetObjectName(('n04C')))+" "+TU8+" "+(GetObjectName(('n045')))+(GetObjectName(('n049')))elseif TO8=="" and TP8!="" thenset TT8=TS8+" "+(GetObjectName(('n042')))+" "+TR8+(GetObjectName(('n043')))+" "+(GetObjectName(('n04C')))+" "+TU8+" "+(GetObjectName(('n045')))+(GetObjectName(('n049')))elseif TO8!="" and TP8=="" thenset TT8=TS8+" "+(GetObjectName(('n048')))+" "+TR8+(GetObjectName(('n047')))+" "+TO8+" "+(GetObjectName(('n046')))+" "+TU8+" "+(GetObjectName(('n045')))+(GetObjectName(('n049')))elseif TO8!="" and TP8!="" thenset TT8=TS8+" "+(GetObjectName(('n048')))+" "+TR8+(GetObjectName(('n047')))+" "+TO8+" "+(GetObjectName(('n046')))+" "+TU8+" "+(GetObjectName(('n045')))+(GetObjectName(('n049')))endifif TN8 thenset TQ8=RV8(R08,SL8)endifcall S_7(B8,10,TT8+TQ8)if TP8!="" thencall S_7(B8,10,TS8+TP8)endifset UI4[GetPlayerId(SC8)]=UI4[GetPlayerId(SC8)]+S38call SB8(SC8,S38,R08)set NL4[GetPlayerId(SC8)]=NL4[GetPlayerId(SC8)]+S38if E[1]>4 thencall SX8(0)endifif E[2]>4 thencall SX8(1)endifendifset TM8=GetHeroLevel(R08)*30if KO7(R08,OU[DZ4])!=null thenif GetItemCharges(KO7(R08,OU[DZ4]))>0 thenset TZ8=-1*(4*GetItemCharges(KO7(R08,OU[DZ4])))set TM8=IMaxBJ(R2I(TM8-25*GetItemCharges(KO7(R08,OU[DZ4]))),0)endifendifif TM8>T68 thenset TM8=T68endifcall SM8(R08)call SU8(R08)call ST8(R08)if SD8==false thenset tu[GetPlayerId(TD8)]=tu[GetPlayerId(TD8)]+TM8call S_8(R08,TM8)endifcall SaveInteger(C7,StringHash("Stats"+I2S(GetPlayerId(SC8))),StringHash("Killed "+I2S(GetPlayerId(TD8))),((LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId(SC8))),StringHash("Killed "+I2S(GetPlayerId(TD8)))))+1))call SaveInteger(C7,StringHash("Stats"+I2S(GetPlayerId(TD8))),StringHash("Died To "+I2S(GetPlayerId(SC8))),((LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId(TD8))),StringHash("Died To "+I2S(GetPlayerId(SC8)))))+1))call StartTimerBJ(A[GetPlayerId(SC8)],false,18)if TK8==false and SC8!=Y7[0]and SC8!=Z7[0]and SC8!=A7 thenset V[GetPlayerId(SC8)]=V[GetPlayerId(SC8)]+1if V[GetPlayerId(SC8)]==2 thenset wu[GetPlayerId(SC8)]=wu[GetPlayerId(SC8)]+1call SA8(K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r "+(GetObjectName(('n04D')))+" |c000000ff"+(GetObjectName(('n04S')))+"|r"+(GetObjectName(('n049'))),1)endifif V[GetPlayerId(SC8)]==3 thenset Wu[GetPlayerId(SC8)]=Wu[GetPlayerId(SC8)]+1call SA8(K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r "+(GetObjectName(('n04D')))+" |c0000ff40"+(GetObjectName(('n04E')))+"|r"+(GetObjectName(('n04B'))),2)endifif V[GetPlayerId(SC8)]==4 thenset Wu[GetPlayerId(SC8)]=Wu[GetPlayerId(SC8)]+1call SA8(K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r "+(GetObjectName(('n04D')))+" |c0000FFFF"+(GetObjectName(('n0HJ')))+"|r"+(GetObjectName(('n04B'))),3)endifif V[GetPlayerId(SC8)]>4 thenset Wu[GetPlayerId(SC8)]=Wu[GetPlayerId(SC8)]+1call SA8(K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r "+(GetObjectName(('n04K')))+" |c0000AAFF"+(GetObjectName(('n0HK')))+"|r"+(GetObjectName(('n04B'))),4)endifendifif(TK8==false)thenset D[GetPlayerId(TD8)]=0endifset D[0]=0set D[6]=0set O[GetPlayerId(TD8)]=O[GetPlayerId(TD8)]+1if SD8 thenset TV8=0.4endifif TK8==true and GetUnitTypeId(R08)=='H00K' thenset TY8=0.5endifset TA8=R2I(GetHeroLevel(R08)*4*TV8*TW8*TX8*TY8)+R2I(TZ8)if OS==true thenset TA8=R2I(TA8*0.5)endifif O24 thenset N64[GetPlayerId(TD8)]=0if GetPlayerController(TD8)==MAP_CONTROL_COMPUTER thencall TimerStart(N[GetPlayerId(TD8)],2.00,false,null)elsecall TimerStart(N[GetPlayerId(TD8)],1.00,false,null)endifelseset N64[GetPlayerId(TD8)]=N64[GetPlayerId(TD8)]+TA8call TimerStart(N[GetPlayerId(TD8)],TA8,false,null)endifcall TriggerExecute(vA)if W==false and RJ4==false thencall S88(R08,TA8,SD8)elseif RJ4 and GetPlayerController(TD8)==MAP_CONTROL_USER thencall S88(R08,1,false)elseif(Q_7(TD8))thenset U[0]=U[0]+1endifif R47(TD8)thenset U[1]=U[1]+1endifset U7[GetPlayerId(TD8)]=R08if GetUnitTypeId(R08)=='H00J' thenset U7[GetPlayerId(TD8)]=MZ7(GetHandleId(GetOwningPlayer(R08)),"Kobold0")endifif U[0]==O_4 thencall TriggerExecute(OQ4)endifif U[1]==O_4 thencall TriggerExecute(OP4)endifif(GetUnitTypeId(R08)=='U006')thencall ExecuteFunc("T78")elseif GetUnitTypeId(R08)=='U008' or GetUnitTypeId(R08)=='E015' thenset J84=R08call ExecuteFunc("T08")elseif GetUnitTypeId(R08)=='Ucrl' thenset J84=R08call ExecuteFunc("T58")endifendifset TC8=nullset t=nullset SL8=nullset R08=nullendfunctionfunction T28 takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local player SC8=GetOwningPlayer(GetKillingUnit())local player TD8=GetOwningPlayer(GetTriggerUnit())local string T_8local integer TB8=RL8(GetTriggerUnit(),GetKillingUnit())if SC8==Y7[0]or SC8==Z7[0]thencall S68(GetTriggerUnit(),GetKillingUnit(),200)set T_8=R68(GetTriggerUnit(),GetKillingUnit())+" "+(GetObjectName(('n04W')))+" |c00ff0303"+(GetObjectName(('n04Y')))+(GetObjectName(('n049')))+"|r "if TB8>1 thenset T_8=T_8+"(+200 "+(GetObjectName(('n044')))+")"elseset T_8=T_8+"(+200 "+(GetObjectName(('n045')))+")"endifelseset T_8=K[GetPlayerId(SC8)]+(M74[GetPlayerId((SC8))])+"|r "+(GetObjectName(('n04W')))+" |c00ff0303"+(GetObjectName(('n04Y')))+(GetObjectName(('n049')))+"|r "set T_8=T_8+"(+200 "+(GetObjectName(('n045')))+")"call SB8(SC8,200,G7[GetPlayerId(SC8)])set UI4[GetPlayerId(SC8)]=UI4[GetPlayerId(SC8)]+200endifcall S_7(B8,10,T_8)call W27(EX)call NM7(t)set t=nullendfunctionfunction U48 takes nothing returns booleanif GetOwningPlayer(GetKillingUnit())!=A7 and GetKillingUnit()!=null and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsPlayerEnemy(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit()))==true thenif GetOwningPlayer(GetKillingUnit())==Y7[0]or GetOwningPlayer(GetKillingUnit())==Z7[0]thenif RL8(GetTriggerUnit(),GetKillingUnit())>0 thencall T28()endifelsecall T28()endifendifreturn falseendfunctionfunction U78 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ulocal region rif GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)elseset u=MZ7(NO7,"u")set r=CreateRegion()call RegionAddRect(r,CE)call RegionAddRect(r,dE)if IsUnitInRegion(r,u)==false thenif N77(NO7,"safe")==true thencall ME7(NO7,"safe",false)elsecall SetUnitX(u,GetRectCenterX(Qr))call SetUnitY(u,GetRectCenterY(Qr))call ME7(NO7,"safe",true)endifendifcall RemoveRegion(r)set u=nullset r=nullendifset t=nullreturn falseendfunctionfunction U88 takes unit u returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,10.,true)call TriggerAddCondition(t,Condition(function U78))call MF7(NO7,"u",u)call ME7(NO7,"safe",true)set t=nullendfunctionfunction U98 takes nothing returns booleanlocal item NJ8local integer RU8=GetTriggerEvalCount(GetTriggeringTrigger())if RU8==600 thencall NM7(GetTriggeringTrigger())endifif RU8==420 or RU8==540 thenif N14!=null thenset NJ8=KO7(N14,OU[T5])if NJ8!=null thenif RU8==420 thenif Q_7(GetOwningPlayer(N14))thencall S_7(W7,15,(GetObjectName(('n0E9')))+" |c00ff0303"+(GetObjectName(('n0E7')))+"|r")elsecall S_7(X7,15,(GetObjectName(('n0E9')))+" |c00ff0303"+(GetObjectName(('n0E7')))+"|r")endifelseif Q_7(GetOwningPlayer(N14))thencall S_7(W7,15,(GetObjectName(('n0E9')))+" |c00ff0303"+(GetObjectName(('n0DX')))+"|r")elsecall S_7(X7,15,(GetObjectName(('n0E9')))+" |c00ff0303"+(GetObjectName(('n0DX')))+"|r")endifendifendifendifendifset NJ8=nullreturn falseendfunctionfunction UD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function U98))call TriggerEvaluate(t)set t=nullendfunctionfunction UE8 takes nothing returns booleanset N54=GetTriggerEvalCount(GetTriggeringTrigger())if P4!=null and GetUnitState(P4,UNIT_STATE_LIFE)>1 thencall SetPlayerTechResearched(GetOwningPlayer(P4),'R00F',N54)if GetUnitAbilityLevel(P4,'A142')==0 thencall UnitAddAbility(P4,'A142')endifcall SetUnitAbilityLevel(P4,'A142',N54+1)endifreturn falseendfunctionfunction UF8 takes nothing returns nothinglocal integer i=1local unit TX7set N14=nullloopexitwhen i>5set TX7=G7[GetPlayerId(Y7[i])]if TX7!=null and KO7(TX7,OU[T5])!=null thencall DisableTrigger(HR4)call AT7("AegisOff",GetPlayerId(GetOwningPlayer(TX7)))call RemoveItem(KO7(TX7,OU[T5]))call EnableTrigger(HR4)endifset TX7=G7[GetPlayerId(Z7[i])]if TX7!=null and KO7(TX7,OU[T5])!=null thencall DisableTrigger(HR4)call AT7("AegisOff",GetPlayerId(GetOwningPlayer(TX7)))call RemoveItem(KO7(TX7,OU[T5]))call EnableTrigger(HR4)endifset i=i+1endloopset TX7=nullendfunctionfunction UG8 takes string UH8,string UI8 returns stringlocal string s=(GetObjectName(('n0CA')))set s=AX7(s,"$team",UH8)set s=AX7(s,"$team",UI8)return sendfunctionfunction UJ8 takes nothing returns booleanreturn GetUnitTypeId(GetDyingUnit())=='n00L'endfunctionfunction IsHero takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)!=null)endfunctionfunction UK8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local location UM8local real V47if GetTriggerEvalCount(t)==600 or XL4 thenset XL4=falseset UM8=GetRectCenter(Qr)call UF8()set N_4=N_4+1set P4=CreateUnitAtLoc(Player(12),'n00L',UM8,bj_UNIT_FACING)call SetUnitAcquireRange(P4,150)call U88(P4)call UnitAddAbility(P4,'A142')call SetPlayerTechResearched(GetOwningPlayer(P4),'R00F',N54)call SetUnitAbilityLevel(P4,'A142',N54+1)call RemoveLocation(UM8)if N_4>1 thencall UnitRemoveAbility(P4,'A0K2')call UnitAddAbility(P4,'A0Q6')call UnitAddItem(P4,CreateItem(OU[CC],0,0))endifcall UnitAddItem(P4,CreateItem(OU[T5],0,0))call NM7(t)set FM7=99999999.endifset t=nullreturn falseendfunctionfunction UN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function UK8))set XL4=falsecall UD8()set N04=falseif(Q_7(GetOwningPlayer(GetKillingUnit())))thencall AT7("Roshan",0)call S_7(bj_FORCE_ALL_PLAYERS,10.00,UG8("|c00ff0000"+(GetObjectName(('n065')))+"|r",(GetObjectName(('n065')))))call AdjustPlayerStateBJ(200,Y7[1],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Y7[2],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Y7[3],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Y7[4],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Y7[5],PLAYER_STATE_RESOURCE_GOLD)endifif(R47(GetOwningPlayer(GetKillingUnit())))thencall AT7("Roshan",1)call S_7(bj_FORCE_ALL_PLAYERS,10.00,UG8("|c00004000"+(GetObjectName(('n06C')))+"|r",(GetObjectName(('n06C')))))call AdjustPlayerStateBJ(200,Z7[1],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Z7[2],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Z7[3],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Z7[4],PLAYER_STATE_RESOURCE_GOLD)call AdjustPlayerStateBJ(200,Z7[5],PLAYER_STATE_RESOURCE_GOLD)endifset t=nullendfunctionfunction UO8 takes nothing returns nothinglocal texttag t=CreateTextTag()local unit u=GetTriggerUnit()local player p=GetOwningPlayer(GetKillingUnit())call SetTextTagText(t,"$",0.027)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,M84[GetPlayerId(p)],M94[GetPlayerId(p)],MD4[GetPlayerId(p)],15)call SetTextTagVelocity(t,0,0.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,1.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)if GetLocalPlayer()==K_4 or GetLocalPlayer()==M44 thencall SetTextTagVisibility(t,true)endifset t=nullset u=nullset p=nullendfunctionfunction UP8 takes unit u,player p returns nothinglocal texttag t=CreateTextTag()call SetTextTagText(t,"!",0.03)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,M84[GetPlayerId(p)],M94[GetPlayerId(p)],MD4[GetPlayerId(p)],15)call SetTextTagVelocity(t,0,0.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,1.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)if ob[GetPlayerId(GetLocalPlayer())]==true or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thencall SetTextTagVisibility(t,true)endifset t=nullendfunctionfunction UQ8 takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_MELEE_ATTACKER)==true thencall AddHeroXP(GetEnumUnit(),Tl/ IY4,true)elsecall AddHeroXP(GetEnumUnit(),tl/ IY4,true)endifendfunctionfunction UR8 takes nothing returns nothinglocal group g=TL7()local integer S97local integer US8=18local integer UT8=US8*2call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1000,Condition(function YX7))set S97=WA7(g)set IY4=S97set tl=US8set Tl=UT8call ForGroup(g,function UQ8)call T67(g)call UP8(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))set g=nullendfunctionfunction UU8 takes nothing returns booleanif IsUnitAlly(GetKillingUnit(),GetOwningPlayer(GetTriggerUnit()))==true thencall UR8()elseif O8 and R77(GetOwningPlayer(GetKillingUnit()))thencall UO8()endifendifreturn falseendfunctionfunction UV8 takes player A17,player A07 returns stringlocal string s=(GetObjectName(('n0AP')))set s=AX7(s,"$dead",(M74[GetPlayerId((A17))]))return sendfunctionfunction UW8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullreturn falseendfunctionfunction UX8 takes unit X97 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real x=GetUnitX(X97)local real y=GetUnitY(X97)call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function UW8))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))set X97=nullset t=nullendfunctionfunction UY8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit UZ8=(LoadUnitHandle(C7,(V_7),(2)))local integer S08=GetTriggerEvalCount(t)local integer UA8=180-S08local integer i=1local integer idlocal real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))loopexitwhen i>5if IsPlayerAlly(GetOwningPlayer(UZ8),Y7[0])thenset id=GetPlayerId(Y7[i])elseset id=GetPlayerId(Z7[i])endifset i=i+1if UA8==0 thencall LeaderboardDisplay(GW7[id],false)if IsPlayerAlly(Y7[0],Player(id))thenset G07[GetPlayerId(Y7[0])]=falseendifif IsPlayerAlly(Z7[0],Player(id))thenset G07[GetPlayerId(Z7[0])]=falseendifelseif UY7(G7[id])==false thencall PlayerSetLeaderboard(Player(id),GW7[id])call LeaderboardDisplay(GW7[id],true)call LeaderboardSetLabel(GW7[id],"    "+GetObjectName('n0LZ')+" "+I2S(UA8))endifendifendloopif UA8==2 thencall SetUnitPosition(UZ8,x,y)endifif UA8==0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset UZ8=nullreturn falseendfunctionfunction UB8 takes player MS8,integer S18 returns nothinglocal texttag tif S18>0 thenset t=CreateTextTag()call SetPlayerState(MS8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(MS8,PLAYER_STATE_RESOURCE_GOLD)+S18)call SetTextTagText(t,"+"+I2S(S18),0.025)call SetTextTagPosUnit(t,G7[GetPlayerId(MS8)],0)call SetTextTagColor(t,255,220,0,255)call SetTextTagVelocity(t,0,0.03)if GetLocalPlayer()==MS8 thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifcall SetTextTagFadepoint(t,2)call SetTextTagLifespan(t,3)call SetTextTagPermanent(t,false)endifendfunctionfunction UC8 takes nothing returns booleanlocal real xlocal real ylocal unit UZ8=GetTriggerUnit()local integer i=1local integer U38=175local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call AT7("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call S_7(B8,10.00,UV8(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function UY8))call SaveUnitHandle(C7,(V_7),(2),(UZ8))if IsPlayerAlly(GetOwningPlayer(UZ8),Y7[0])and G07[GetPlayerId(Y7[0])]==false thenset G07[GetPlayerId(Y7[0])]=trueloopexitwhen i>5call UB8(Z7[i],U38)set i=i+1endloopendifset i=1if IsPlayerAlly(GetOwningPlayer(UZ8),Z7[0])and G07[GetPlayerId(Z7[0])]==false thenset G07[GetPlayerId(Z7[0])]=trueloopexitwhen i>5call UB8(Y7[i],U38)set i=i+1endloopendifif Q_7(GetOwningPlayer(UZ8))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifcall SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))if IsTerrainPathable(GetUnitX(UZ8),GetUnitY(UZ8),PATHING_TYPE_WALKABILITY)thencall UX8(UZ8)endifset t=nullreturn falseendfunctionfunction U68 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=JF4local real y=JG4if R47(GetOwningPlayer(X97))thenset x=K44set y=K74endifif UY7(X97)==false thenif J87(GetUnitX(X97),GetUnitY(X97),x,y)<800 thencall UW7(X97,'Avul')elsecall UnitRemoveAbility(X97,'Avul')endifendifset t=nullset X97=nullreturn falseendfunctionfunction UL8 takes unit UZ8 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(UZ8),'A29N',false)call UnitMakeAbilityPermanent(UZ8,true,'A29M')call TriggerRegisterDeathEvent(t,UZ8)call TriggerAddCondition(t,Condition(function UC8))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function U68))call SaveUnitHandle(C7,(V_7),(2),(UZ8))set t=nullendfunctionfunction U18 takes nothing returns nothingif JS7(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false thencall AT7("Courier"+I2S(GetPlayerId(GetOwningPlayer(GetTriggerUnit()))),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call S_7(B8,10.00,UV8(GetOwningPlayer(GetTriggerUnit()),GetOwningPlayer(GetKillingUnit())))call PingMinimapEx(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),6,255,0,0,false)endifendfunctionfunction U08 takes nothing returns booleancall NM7(GetTriggeringTrigger())set G07[GetPlayerId(Y7[0])]=falseset G07[GetPlayerId(Z7[0])]=falseset GW7[GetPlayerId(Y7[1])]=CreateLeaderboard()set GW7[GetPlayerId(Y7[2])]=CreateLeaderboard()set GW7[GetPlayerId(Y7[3])]=CreateLeaderboard()set GW7[GetPlayerId(Y7[4])]=CreateLeaderboard()set GW7[GetPlayerId(Y7[5])]=CreateLeaderboard()set GW7[GetPlayerId(Z7[1])]=CreateLeaderboard()set GW7[GetPlayerId(Z7[2])]=CreateLeaderboard()set GW7[GetPlayerId(Z7[3])]=CreateLeaderboard()set GW7[GetPlayerId(Z7[4])]=CreateLeaderboard()set GW7[GetPlayerId(Z7[5])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[1],GW7[GetPlayerId(Y7[1])])call PlayerSetLeaderboard(Y7[2],GW7[GetPlayerId(Y7[2])])call PlayerSetLeaderboard(Y7[3],GW7[GetPlayerId(Y7[3])])call PlayerSetLeaderboard(Y7[4],GW7[GetPlayerId(Y7[4])])call PlayerSetLeaderboard(Y7[5],GW7[GetPlayerId(Y7[5])])call PlayerSetLeaderboard(Z7[1],GW7[GetPlayerId(Z7[1])])call PlayerSetLeaderboard(Z7[2],GW7[GetPlayerId(Z7[2])])call PlayerSetLeaderboard(Z7[3],GW7[GetPlayerId(Z7[3])])call PlayerSetLeaderboard(Z7[4],GW7[GetPlayerId(Z7[4])])call PlayerSetLeaderboard(Z7[5],GW7[GetPlayerId(Z7[5])])call LeaderboardDisplay(GW7[GetPlayerId(Y7[1])],false)call LeaderboardDisplay(GW7[GetPlayerId(Y7[2])],false)call LeaderboardDisplay(GW7[GetPlayerId(Y7[3])],false)call LeaderboardDisplay(GW7[GetPlayerId(Y7[4])],false)call LeaderboardDisplay(GW7[GetPlayerId(Y7[5])],false)call LeaderboardDisplay(GW7[GetPlayerId(Z7[1])],false)call LeaderboardDisplay(GW7[GetPlayerId(Z7[2])],false)call LeaderboardDisplay(GW7[GetPlayerId(Z7[3])],false)call LeaderboardDisplay(GW7[GetPlayerId(Z7[4])],false)call LeaderboardDisplay(GW7[GetPlayerId(Z7[5])],false)call LeaderboardSetLabelBJ(GW7[GetPlayerId(Y7[1])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Y7[2])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Y7[3])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Y7[4])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Y7[5])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Z7[1])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Z7[2])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Z7[3])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Z7[4])]," ")call LeaderboardSetLabelBJ(GW7[GetPlayerId(Z7[5])]," ")return falseendfunctionfunction U58 takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())if id=='e00R' or id=='e011' or id=='e00S' or id=='e019' or id=='u00M' or id=='u00D' or id=='u00N' or id=='u00T' thenif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset OF4[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=OF4[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1call S_7(B8,10,K[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName(('n04P')))+".")elsecall S_7(B8,10,K[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetKillingUnit())))])+"|r "+(GetObjectName(('n0EN')))+".")endifendifendfunctionfunction U28 takes nothing returns nothingif JS7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Y7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 thencall UnitRemoveAbility(GetEnumUnit(),'B08H')call ZO7(JH4,GetEnumUnit(),Y94,500)endifendfunctionfunction U_8 takes nothing returns nothingif JS7(GetEnumUnit())and IsUnitAlly(GetEnumUnit(),Z7[0])==false and GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>0.5 thencall UnitRemoveAbility(GetEnumUnit(),'B08H')call ZO7(K84,GetEnumUnit(),Y94,500)endifendfunctionfunction V48 takes nothing returns booleanlocal group g=TL7()call GroupEnumUnitsInRect(g,ED,Condition(function Q37))call ForGroup(g,function U28)call T67(g)set g=TL7()call GroupEnumUnitsInRect(g,FD,Condition(function Q37))call ForGroup(g,function U_8)call T67(g)set g=nullreturn falseendfunctionfunction V78 takes unit u returns booleanreturn(GetUnitAbilityLevel((u),('B00H'))>0)or(GetUnitAbilityLevel((u),('BOhx'))>0)or(GetUnitAbilityLevel((u),('BPSE'))>0)or(GetUnitAbilityLevel((u),('B099'))>0)or(GetUnitAbilityLevel((u),('BSTN'))>0)or(GetUnitAbilityLevel((u),('B0CF'))>0)or(GetUnitAbilityLevel((u),('B0BM'))>0)or(GetUnitAbilityLevel((u),('B06M'))>0)or(GetUnitAbilityLevel((u),('B07N'))>0)or(GetUnitAbilityLevel((u),('B08S'))>0)or(GetUnitAbilityLevel((u),('B00Q'))>0)or(GetUnitAbilityLevel((u),('B04V'))>0)or(GetUnitAbilityLevel((u),('B072'))>0)or(GetUnitAbilityLevel((u),('BUan'))>0)or(GetUnitAbilityLevel((u),('B095'))>0)or(GetUnitAbilityLevel((u),('B03I'))>0)or(GetUnitAbilityLevel((u),('B0AD'))>0)or(GetUnitAbilityLevel((u),('B0AE'))>0)or(GetUnitAbilityLevel((u),('B0BE'))>0)or(GetUnitAbilityLevel((u),('B0BF'))>0)or(GetUnitAbilityLevel((u),('B008'))>0)or(GetUnitAbilityLevel((u),('B04B'))>0)or(GetUnitAbilityLevel((u),('B02F'))>0)or(GetUnitAbilityLevel((u),('BUsp'))>0)or(GetUnitAbilityLevel((u),('BUst'))>0)or(GetUnitAbilityLevel((u),('B0DD'))>0)or(NF7(u,"DisruptionState")==true)or(NF7(u,"AstralImprisonmentState")==true)or(GetUnitAbilityLevel((u),('B0C2'))>0)or(GetUnitAbilityLevel((u),('B06S'))>0)or(GetUnitAbilityLevel((u),('B02S'))>0)or(GetUnitAbilityLevel((u),('B07E'))>0)endfunctionfunction V88 takes unit u returns booleanreturn V78(u)or X27(u)or IsUnitPaused(u)or SL7(u)endfunctionfunction V98 takes unit H57 returns booleanreturn(IsUnitType(H57,UNIT_TYPE_STUNNED)or IsUnitType(H57,UNIT_TYPE_SNARED)or IsUnitType(H57,UNIT_TYPE_POLYMORPHED)or GetUnitMoveSpeed(H57)<290 or IsUnitPaused(H57))or V78(H57)or X27(H57)endfunctionfunction VD8 takes integer VE8,integer VF8,boolean extraColor returns nothinglocal integer x=0loopexitwhen x>15call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_LUMBER,VE8)call SetPlayerState(Player(x),PLAYER_STATE_RESOURCE_FOOD_USED,VF8)set x=x+1endloopendfunctionfunction VG8 takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id=='n027' or id=='u014' or id=='u015' or id=='u016' or id=='u01D' or id=='u01E' or id=='u01F' or id=='u017' or id=='u019' or id=='u018' or id=='u01A' or id=='u01B' or id=='u01C'endfunctionfunction VH8 takes unit u,boolean b returns nothingcall SetUnitInvulnerable(u,b)call SaveBoolean(C7,(GetHandleId(u)),(509),(b))endfunctionfunction VI8 takes unit u returns booleanreturn(LoadBoolean(C7,(GetHandleId(u)),(509)))or GetUnitAbilityLevel(u,'Avul')>0endfunctionfunction VJ8 takes real x,real y returns locationlocal real WV7local real WW7local integer i=0loopexitwhen i>40set WV7=x+i*20set WW7=y+i*20if IsPointInRegion(J94,WV7,WW7)==false thenreturn Location(WV7,WW7)endifset WV7=x+i*20set WW7=y-i*20if IsPointInRegion(J94,WV7,WW7)==false thenreturn Location(WV7,WW7)endifset WV7=x-i*20set WW7=y+i*20if IsPointInRegion(J94,WV7,WW7)==false thenreturn Location(WV7,WW7)endifset WV7=x-i*20set WW7=y-i*20if IsPointInRegion(J94,WV7,WW7)==false thenreturn Location(WV7,WW7)endifset i=i+1endloopreturn Location(x,y)endfunctionfunction VK8 takes unit X97,integer ZN7,integer VM8 returns nothinglocal integer iif W74[1]==0 thenreturnendifset i=1loopexitwhen i>10call UnitRemoveAbility(X97,W74[i])set i=i+1endloopset i=1loopexitwhen i>10call UnitRemoveAbility(X97,W84[i])set i=i+1endloopset i=1loopexitwhen i>10call UnitRemoveAbility(X97,W94[i])set i=i+1endloopset i=1loopexitwhen i>10call UnitRemoveAbility(X97,WD4[i])set i=i+1endloopcall UnitRemoveAbility(X97,'B0BS')if ZN7==1 thencall UnitAddAbility(X97,W74[VM8])elseif ZN7==2 thencall UnitAddAbility(X97,W84[VM8])elseif ZN7==3 thencall UnitAddAbility(X97,W94[VM8])elseif ZN7==4 thencall UnitAddAbility(X97,WD4[VM8])endifendfunctionfunction VN8 takes integer XM7 returns nothingset SI4=SI4+1set SH4[SI4]=XM7endfunctionfunction VO8 takes unit u returns nothinglocal integer i=1loopexitwhen i>SI4call UnitRemoveAbility(u,SH4[i])set i=i+1endloopendfunctionfunction VP8 takes integer o6 returns booleanreturn o6=='AIpg' or o6=='A02V' or o6=='ACpu' or o6=='A18D' or o6=='A1OU' or o6=='AIcy' or o6=='A1SA'endfunctionfunction VQ8 takes unit m5 returns nothingcall UnitRemoveAbility(m5,'A1JA')call UnitRemoveAbility(m5,'B0CD')call UnitRemoveAbility(m5,'A1LD')call UnitRemoveAbility(m5,'Aetl')call VK8(m5,0,0)endfunctionfunction VR8 takes nothing returns booleanif VP8(GetSpellAbilityId())thencall VQ8(GetSpellTargetUnit())endifreturn falseendfunctionfunction VS8 takes integer VT8 returns integerif ZU[VT8]==0 thenreturn VT8elsereturn ZU[VT8]endifendfunctionfunction VU8 takes nothing returns nothinglocal integer VV8=R2I(TimerGetElapsed(P)-NM4)local integer VE8=VV8/60-1/2local integer VF8=ModuloInteger(VV8,60)if XC4 thencall VD8(VE8,VF8,false)elseif P14==false thenset VV8=R2I(16-TimerGetElapsed(P))set VE8=VV8/ 60-1/ 2set VF8=ModuloInteger(VV8,60)call VD8(VE8,VF8,true)endifset Bz=R2I(TimerGetElapsed(P)-NN4)set Q=VE8set T=VF8endfunctionfunction VW8 takes item JW7 returns booleanlocal integer VX8=JU7(JW7)return VX8==F04 or VX8==F54 or VX8==F24 or VX8==F_4 or VX8==G44 or VX8==G74 or VX8==G84 or VX8==G94 or VX8==GD4 or VX8==GE4 or VX8==GG4 or VX8==GI4 or VX8==GJ4 or VX8==GK4 or VX8==GM4 or VX8==GN4 or VX8==GO4 or VX8==GP4 or VX8==GR4 or VX8==GS4 or VX8==GT4 or VX8==GV4 or VX8==GW4 or VX8==GX4 or VX8==GY4 or VX8==GZ4 or VX8==GA4 or VX8==G34 or VX8==G64 or VX8==GL4 or VX8==G14 or VX8==G04 or VX8==G54 or VX8==G24 or VX8==G_4 or VX8==GB4 or VX8==H44 or VX8==GH4 or VX8==H74 or VX8==H84 or VX8==HD4 or VX8==HE4 or VX8==HF4 or VX8==HH4 or VX8==HG4 or VX8==HI4 or VX8==H94 or VX8==HJ4 or VX8==HK4 or VX8==HM4 or VX8==HN4 or VX8==HO4endfunctionfunction VY8 takes integer VX8 returns booleanreturn VX8==DW4 or VX8==CC or VX8==PC or VX8==TC or VX8==VC or VX8==XC or VX8==YC or VX8==ZC or VX8==AC or VX8==QC or VX8==R3 or VX8==U3endfunctionfunction VZ8 takes integer VX8 returns booleanreturn VX8==EE4 or VX8==WB or VX8==Q1 or VX8==R1 or VX8==DZ4 or VX8==T5 or VX8==H3 or VX8==ZA or VX8==E44 or VX8==LBendfunctionfunction VA8 takes integer VT8 returns integerif VC==VT8 thenreturn 3endifif XC==VT8 or YC==VT8 or LC==VT8 or QC==VT8 or R3==VT8 thenreturn 2endifreturn 1endfunctionfunction VB8 takes string winner returns nothinglocal integer ilocal player plocal string idlocal integer D5=R2I(TimerGetElapsed(P)-NM4)local integer VC8=D5/ 60-1/ 2local integer VF8=ModuloInteger(D5,60)call AP7()set i=1loopexitwhen i>5set p=Y7[i]set id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,"1",(M[GetPlayerId((p))]))call StoreInteger(JD4,id,"2",(O[GetPlayerId((p))]))call StoreInteger(JD4,id,"3",(P7[GetPlayerId((p))]))call StoreInteger(JD4,id,"4",(T7[GetPlayerId((p))]))call StoreInteger(JD4,id,"5",(BT[GetPlayerId((p))]))call StoreInteger(JD4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))call StoreInteger(JD4,id,"7",(LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))call StoreInteger(JD4,id,"8_0",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(0)))))call StoreInteger(JD4,id,"8_1",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(1)))))call StoreInteger(JD4,id,"8_2",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(2)))))call StoreInteger(JD4,id,"8_3",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(3)))))call StoreInteger(JD4,id,"8_4",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(4)))))call StoreInteger(JD4,id,"8_5",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(5)))))call StoreInteger(JD4,id,"9",(GetUnitTypeId(G7[GetPlayerId((p))])))call StoreInteger(JD4,id,"id",i)set p=Z7[i]set id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,"1",(M[GetPlayerId((p))]))call StoreInteger(JD4,id,"2",(O[GetPlayerId((p))]))call StoreInteger(JD4,id,"3",(P7[GetPlayerId((p))]))call StoreInteger(JD4,id,"4",(T7[GetPlayerId((p))]))call StoreInteger(JD4,id,"5",(BT[GetPlayerId((p))]))call StoreInteger(JD4,id,"6",(GetPlayerState((p),PLAYER_STATE_RESOURCE_GOLD)))call StoreInteger(JD4,id,"7",(LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId((p)))),StringHash("NumOfNeutrals"))))call StoreInteger(JD4,id,"8_0",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(0)))))call StoreInteger(JD4,id,"8_1",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(1)))))call StoreInteger(JD4,id,"8_2",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(2)))))call StoreInteger(JD4,id,"8_3",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(3)))))call StoreInteger(JD4,id,"8_4",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(4)))))call StoreInteger(JD4,id,"8_5",(GetItemTypeId(UnitItemInSlot(G7[GetPlayerId((p))],(5)))))call StoreInteger(JD4,id,"9",(GetUnitTypeId(G7[GetPlayerId((p))])))call StoreInteger(JD4,id,"id",i+5)if GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"1")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"2")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"3")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"4")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"5")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"6")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"7")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_0")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_1")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_2")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_3")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_4")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"8_5")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"9")call SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"id")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"1")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"2")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"3")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"4")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"5")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"6")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"7")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_0")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_1")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_2")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_3")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_4")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"8_5")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"9")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"id")endifset i=i+1endloopif OM4==false thencall StoreInteger(JD4,"Global","Winner",ON4)call StoreInteger(JD4,"Global","m",VC8)call StoreInteger(JD4,"Global","s",VF8)if GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,"Global","Winner")call SyncStoredInteger(JD4,"Global","m")call SyncStoredInteger(JD4,"Global","s")endifendifendfunctionfunction BL7 takes nothing returns nothingcall VB8("1")endfunctionfunction V38 takes nothing returns booleancall ExecuteFunc("QY8")return falseendfunctionfunction V68 takes nothing returns nothingcall VF7(GetEnumUnit())endfunctionfunction VL8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsInRange(g,0,0,12000,Condition(function YK7))call ForGroup(g,function V68)call T67(g)set g=nullendfunctionfunction V18 takes nothing returns nothingcall DisableTrigger(QU4)call DisableTrigger(QV4)call DisableTrigger(QW4)call DisableTrigger(QX4)call DisableTrigger(QQ4)call DisableTrigger(FN7)call DisableTrigger(QS4)call DisableTrigger(DK7)call DisableTrigger(Hn)endfunctionfunction V08 takes nothing returns nothingset bj_changeLevelShowScores=truecall DisableTrigger(OP4)call DisableTrigger(OQ4)call ExecuteFunc("V58")if O8 thencall DisableTrigger(NY4)endifcall DisableTrigger(NK4)call ClearTextMessages()call S_7(bj_FORCE_ALL_PLAYERS,60,W9+" "+(GetObjectName(('n054')))+" www.getdota.com.")set C8=truecall UV7()call DisableTrigger(ES)call DisableTrigger(YR)call DisableTrigger(NJ4)call UR7()call V18()endfunctionfunction V28 takes nothing returns nothinglocal trigger t=CreateTrigger()call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,6.5,false)call TriggerAddCondition(t,Condition(function V38))set ON4=2set W9="|c0020c000"+(GetObjectName(('n03O')))+"|r"call V08()call VL8()call VB8("2")set t=nullendfunctionfunction V_8 takes nothing returns booleancall SetUnitVertexColorBJ(KE4,100,100,100,GetTriggerEvalCount(GetTriggeringTrigger()))if GetTriggerEvalCount(GetTriggeringTrigger())==100 thencall ShowUnit(KE4,false)call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction W48 takes nothing returns nothinglocal trigger t=CreateTrigger()call PanCameraToTimed(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,3.5,false)call TriggerAddCondition(t,Condition(function V38))set ON4=1set W9="|c00ff0303"+(GetObjectName(('n03N')))+"|r"call V08()call VL8()call VB8("1")call AddSpecialEffect("war3mapImported\\FrozenThronesDeath2.mdx",GetUnitX(KE4)+150,GetUnitY(KE4)+100)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function V_8))set t=nullendfunctionfunction W78 takes unit W88 returns booleanlocal unit W98=G7[GetPlayerId(GetOwningPlayer(W88))]if((GetUnitX(W98)-GetUnitX(W88))*(GetUnitX(W98)-GetUnitX(W88))+(GetUnitY(W98)-GetUnitY(W88))*(GetUnitY(W98)-GetUnitY(W88))>=855625)thenset W98=nullreturn trueendifset W98=nullreturn falseendfunctionfunction WD8 takes nothing returns nothinglocal unit PU8=GetAttacker()local integer WE8=UnitInventorySize(PU8)local integer x=0local item iloopexitwhen x>WE8set i=UnitItemInSlot(PU8,x)if JV7(i)==RZ and GetRandomReal(0,1)<=0.2 and Y77(PU8)==false thenif YG7(PU8)thenif W78(PU8)==false thenif GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 thencall ZO7(PU8,GetTriggerUnit(),Y94,40)endifendifelseif GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 thencall ZO7(PU8,GetTriggerUnit(),Y94,40)endifendifendifset x=x+1endloopset i=nullset PU8=nullendfunctionfunction WF8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real WG8=(LoadReal(C7,(GetHandleId(X97)),(692)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or WG8<(TimerGetElapsed(P))thencall UnitRemoveAbility(X97,'A265')call UnitRemoveAbility(X97,'B08N')call UnitRemoveAbility(X97,'A26C')call SaveReal(C7,(GetHandleId(X97)),(692),((0)*1.0))endifcall FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction WH8 takes unit X97 returns nothinglocal trigger tlocal integer V_7local real WG8=(LoadReal(C7,(GetHandleId(X97)),(692)))call SaveReal(C7,(GetHandleId(X97)),(692),(((TimerGetElapsed(P))+BL4)*1.0))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,BL4+0.01,false)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function WF8))call SaveUnitHandle(C7,(V_7),(2),(X97))call UW7(X97,'A265')call UW7(X97,'A26C')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A265',false)set t=nullendfunctionfunction WI8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetEventDamageSource()==X97 and GetEventDamage()>0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)if VG8(U47)==false thencall WH8(U47)endifendifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction WJ8 takes nothing returns nothinglocal unit X97=GetAttacker()local unit U47=GetTriggerUnit()local trigger tlocal integer V_7if NF7(X97,"4309")==false thencall NQ7(X97,"4309",0.2)if GetRandomReal(0,100)<B64 thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function WI8))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))endifendifset X97=nullset U47=nullendfunctionfunction WK8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real WG8=(LoadReal(C7,(GetHandleId(X97)),(693)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or WG8<(TimerGetElapsed(P))thencall UnitRemoveAbility(X97,'A266')call UnitRemoveAbility(X97,'B02I')call UnitRemoveAbility(X97,'A26C')call SaveReal(C7,(GetHandleId(X97)),(693),((0)*1.0))endifcall FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction WM8 takes unit X97 returns nothinglocal trigger tlocal integer V_7local real WG8=(LoadReal(C7,(GetHandleId(X97)),(693)))call SaveReal(C7,(GetHandleId(X97)),(693),(((TimerGetElapsed(P))+B04)*1.0))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,B04+0.01,false)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function WK8))call SaveUnitHandle(C7,(V_7),(2),(X97))call UW7(X97,'A266')call UW7(X97,'A26C')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A266',false)set t=nullendfunctionfunction WN8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetEventDamageSource()==X97 and GetEventDamage()>0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)if VG8(U47)==false thencall WM8(U47)endifendifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction WO8 takes nothing returns nothinglocal unit X97=GetAttacker()local unit U47=GetTriggerUnit()local trigger tlocal integer V_7if NF7(X97,"4309")==false thencall NQ7(X97,"4309",0.2)if GetRandomReal(0,100)<B14 thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function WN8))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))endifendifset X97=nullset U47=nullendfunctionfunction WP8 takes nothing returns nothinglocal unit PU8=GetAttacker()local integer WQ8=25local integer id=GetPlayerId(GetOwningPlayer(GetAttacker()))local integer NO7=GetHandleId(PU8)local real T47=TimerGetElapsed(P)local real WR8=N47(NO7,"bashertime")local boolean WS8=N77(NO7,"basheractive")local boolean WT8=N77(NO7,"basherremove")local boolean WU8=T47<WR8local boolean WV8=falseif IsUnitType(PU8,UNIT_TYPE_MELEE_ATTACKER)==false thenset WQ8=10endifif GetRandomInt(0,100)<WQ8 thenset WV8=trueendifif GetUnitAbilityLevel(PU8,'A0JJ')>0 or GetUnitAbilityLevel(PU8,'A081')>0 or GetUnitAbilityLevel(PU8,'A0G5')>0 or GetUnitAbilityLevel(PU8,'A09E')>0 thencall UnitRemoveAbility(PU8,'A174')set PU8=nullreturnendifif WS8 and WU8==false and WT8==false thencall M97(NO7,"bashertime",(T47+2)*1.0)if WV8==false thencall ME7(NO7,"basherremove",true)endifelseif WU8 or WT8 thencall UnitRemoveAbility(PU8,'A174')call ME7(NO7,"basheractive",false)call ME7(NO7,"basherremove",false)endifif WV8 thencall UW7(PU8,'A174')call UnitMakeAbilityPermanent(PU8,true,'A175')call ME7(NO7,"basheractive",true)endifset PU8=nullendfunctionfunction WW8 takes real AS7 returns booleanreturn(100*GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE))<AS7endfunctionfunction AntiTK_Building takes nothing returns booleanreturn WW8(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!='etol' and GetUnitTypeId(GetTriggerUnit())!='unpl'endfunctionfunction AntiTK_Hero takes nothing returns booleanreturn WW8(25)and(GetUnitAbilityLevel(GetTriggerUnit(),'BNdo')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'BEsh')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B001')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AQ')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AP')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05D')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05M')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05N')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05O')>0)endfunctionfunction AntiTK_Creep takes nothing returns booleanreturn WW8(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())=='ebal' or GetUnitTypeId(GetTriggerUnit())=='e026' or GetUnitTypeId(GetTriggerUnit())=='umtw' or GetUnitTypeId(GetTriggerUnit())=='u00R')endfunctionfunction AntiTK_Exception takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())=='u00S' or GetUnitTypeId(GetTriggerUnit())=='o01V'endfunctionfunction WX8 takes nothing returns nothingif not((WW8(10)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true and GetUnitTypeId(GetTriggerUnit())!='etol' and GetUnitTypeId(GetTriggerUnit())!='unpl')or(WW8(25)and(GetUnitAbilityLevel(GetTriggerUnit(),'BNdo')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'BEsh')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B001')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AQ')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B0AP')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05D')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05M')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05N')>0 or GetUnitAbilityLevel(GetTriggerUnit(),'B05O')>0))or(WW8(50)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==false and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false or GetUnitTypeId(GetTriggerUnit())=='ebal' or GetUnitTypeId(GetTriggerUnit())=='e026' or GetUnitTypeId(GetTriggerUnit())=='umtw' or GetUnitTypeId(GetTriggerUnit())=='u00R'))or(GetUnitTypeId(GetTriggerUnit())=='u00S' or GetUnitTypeId(GetTriggerUnit())=='o01V'))thencall IssueImmediateOrder(GetAttacker(),"stop")endifendfunctionfunction WY8 takes nothing returns booleanif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall WX8()elseif IsUnitType(GetAttacker(),UNIT_TYPE_HERO)==true or YG7(GetAttacker())thenset OR4=GetPlayerId(GetOwningPlayer(GetAttacker()))if Q54[OR4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitIllusion(GetAttacker())==false and KJ7(GetAttacker(),OU[RZ])==true thencall WD8()endifif R44[OR4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(KJ7(GetAttacker(),OU[E1])==true or KJ7(GetAttacker(),OU[B3])==true)thencall WP8()endifif R94[OR4]>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and KJ7(GetAttacker(),OU[R0])==true thencall WJ8()elseif(RD4[OR4]>0 or GA7[OR4]>0)and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetAttacker())==false and(KJ7(GetAttacker(),OU[D1])==true or KJ7(GetAttacker(),OU[Z3])==true)thencall WO8()endifelseif GetUnitAbilityLevel(GetAttacker(),'A17S')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false thencall PT8()endifreturn falseendfunctionfunction WZ8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")if GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT or N77(GetHandleId(TX7),"PendingUnfreeze")==true thenif N77(GetHandleId(TX7),"PendingUnfreeze")==true thencall ME7(GetHandleId(TX7),"PendingUnfreeze",false)call NJ7(TX7,"Frozen")call UnitRemoveAbility(TX7,'A04R')call VH8(TX7,false)call PauseUnit(TX7,false)call K_7(NO7)call NM7(t)elseif GetSpellTargetUnit()==TX7 and GetSpellAbilityId()==vw and(GetPlayerSlotState(GetOwningPlayer((TX7)))==PLAYER_SLOT_STATE_LEFT)and NF7(TX7,"Frozen")==true thencall NJ7(TX7,"Frozen")call UnitRemoveAbility(TX7,'A04R')call VH8(TX7,false)call PauseUnit(TX7,false)call K_7(NO7)call NM7(t)endifelseif UY7(TX7)==false thencall SetUnitX(TX7,x)call SetUnitY(TX7,y)call NH7(TX7,"Frozen")call UnitAddAbility(TX7,'A04R')call VH8(TX7,true)call PauseUnit(TX7,true)endifset TX7=nullset t=nullreturn falseendfunctionfunction WA8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetSpellTargetUnit()call ME7(GetHandleId(TX7),"PendingUnfreeze",false)call NH7(TX7,"Frozen")call UnitAddAbility(TX7,'A04R')call VH8(TX7,true)call PauseUnit(TX7,true)call MF7(NO7,"Hero",TX7)call M97(NO7,"x",GetUnitX(TX7)*1.0)call M97(NO7,"y",GetUnitY(TX7)*1.0)call TriggerRegisterTimerEvent(t,1.,true)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WZ8))set t=nullset TX7=nullendfunctionfunction WB8 takes nothing returns booleanif GetSpellAbilityId()==TU and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)and NF7(GetSpellTargetUnit(),"Frozen")==false thencall WA8()elseif(GetSpellAbilityId()==vw or GetSpellAbilityId()==TU)and(GetPlayerSlotState(GetOwningPlayer((GetSpellTargetUnit())))==PLAYER_SLOT_STATE_LEFT)==false thencall VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n02N'))))endifreturn falseendfunctionfunction WC8 takes destructable d returns booleanlocal real x=GetDestructableX(d)local real y=GetDestructableY(d)local group g=TL7()local boolean W38call GroupEnumUnitsInRange(g,x,y,250,Condition(function Y67))set W38=FirstOfGroup(g)!=nullcall T67(g)set g=nullreturn W38endfunctionfunction W68 takes nothing returns nothingif S67(GetEnumDestructable())and GetDestructableLife(GetEnumDestructable())<1 and GetDestructableTypeId(GetEnumDestructable())!='B002' and GetDestructableTypeId(GetEnumDestructable())!='B003' thenif WC8(GetEnumDestructable())==false thencall DestructableRestoreLife(GetEnumDestructable(),GetDestructableMaxLife(GetEnumDestructable()),false)if PW[GetPlayerId(GetLocalPlayer())]==1 and GetDestructableTypeId(GetEnumDestructable())=='ATtr' thencall SetDestructableAnimation(GetEnumDestructable(),"stand alternate")endifendifendifendfunctionfunction WL8 takes nothing returns nothingcall EnumDestructablesInRectAll(bj_mapInitialPlayableArea,function W68)endfunctionfunction W18 takes unit it,unit m5 returns booleanlocal integer i=GetUnitAbilityLevel(it,'A10R')local integer j=GetUnitLevel(m5)return(i>0)and((j<=2)or(i>1 and j<=i+2))endfunctionfunction W08 takes nothing returns booleanlocal unit W58=GetAttacker()local unit W28=GetTriggerUnit()local integer i1=GetUnitTypeId(W58)local integer O5=GetPlayerId(GetOwningPlayer(W58))if GetUnitTypeId(W28)=='n00L' thenif IsUnitIllusion(W58)==true thencall KillUnit(W58)elseif IsUnitInRegion(ow,W58)==false thencall VH7(GetOwningPlayer(W58),(GetObjectName(('n035'))))call IssueImmediateOrder(W58,"stop")endifelseif((i1=='UC42')and(Bz>SL4[16+O5])and((GetUnitTypeId(W28)=='ncnk')or(GetUnitTypeId(W28)=='nkol'))and R97(GetOwningPlayer(W58)))thenif W18(W58,W28)thencall KZ7(W58,852600,'A10R',W28)endifelseif((i1=='UC42')and(Bz>SL4[16+O5])and R97(GetOwningPlayer(W58))and(GetRandomInt(1,4)==1)and(not IsUnitType(W28,UNIT_TYPE_MECHANICAL))and(not IsUnitType(W28,UNIT_TYPE_ANCIENT))and GetUnitTypeId(W28)!='n0HX' and GetUnitTypeId(W28)!='nomg' and GetUnitTypeId(W28)!='nfpu' and GetUnitTypeId(W28)!='nstl' and GetUnitTypeId(W28)!='nsat' and GetUnitTypeId(W28)!='nsth' and GetUnitTypeId(W28)!='n00S' and GetUnitTypeId(W28)!='nfsh' and GetUnitTypeId(W28)!='ngns' and GetUnitTypeId(W28)!='ngh1' and GetUnitTypeId(W28)!='nowe' and GetUnitTypeId(W28)!='ndtw' and GetUnitTypeId(W28)!='nwlg')thenif W18(W58,W28)thencall KZ7(W58,852600,'A10R',W28)endifelseif((i1=='U00C')and R97(GetOwningPlayer(W58))and(not IsUnitType(W28,UNIT_TYPE_MECHANICAL))and(not IsUnitType(W28,UNIT_TYPE_ANCIENT))and(GetUnitTypeId(W28)=='ncnk')or(GetUnitTypeId(W28)=='nkol')or GetUnitTypeId(W28)=='n0HX' or GetUnitTypeId(W28)=='nomg' or GetUnitTypeId(W28)=='nfpu' or GetUnitTypeId(W28)=='nstl' or GetUnitTypeId(W28)=='nsat' or GetUnitTypeId(W28)=='nsth' or GetUnitTypeId(W28)=='n00S' or GetUnitTypeId(W28)=='nfsh' or GetUnitTypeId(W28)=='ngns' or GetUnitTypeId(W28)=='ngh1' or GetUnitTypeId(W28)=='nowe' or GetUnitTypeId(W28)=='ndtw' or GetUnitTypeId(W28)=='nwlg')thenif(GetUnitAbilityLevel(W58,'A0SW')>1)thencall KZ7(W58,852600,'A0SW',W28)endifelseif((i1=='H00U')and R97(GetOwningPlayer(W58)))thenif((Bz>SL4[128+O5])and(RX7(W58,BN4,BN4,BO4,'A0VQ')))thencall KZ7(W58,852490,'A0VQ',W58)elseif(Bz>SL4[64+O5])and(RX7(W58,BO4,BO4,BM4,'A0VO'))thencall IssueImmediateOrderById(W58,852132)endifendifset W58=nullset W28=nullreturn falseendfunctionfunction W_8 takes nothing returns nothinglocal unit X48=GetSummonedUnit()local unit X97=GetSummoningUnit()local string fx=""if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(X97))and TV7(GetLocalPlayer())==false thenset fx="war3mapImported\\WardMark_T2.mdx"endifcall AddSpecialEffectTarget(fx,X48,"origin")set X48=nullset X97=nullendfunctionfunction X78 takes nothing returns booleanreturn trueendfunctionfunction X88 takes unit TX7,unit X98 returns nothinglocal integer XD8local item XE8if GetUnitTypeId(GetSummonedUnit())=='o004' thenset XD8=OU[XC]elseset XD8=OU[YC]endifcall DisableTrigger(HR4)set XE8=KO7(TX7,XD8)if XE8==null thenset J74=GetOwningPlayer(TX7)set IF4=CreateItem(XD8,0,0)call UnitAddItem(TX7,IF4)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elsecall SetItemCharges(XE8,GetItemCharges(XE8)+1)endifcall EnableTrigger(HR4)set XE8=nullendfunctionfunction XF8 takes nothing returns nothinglocal unit X98=GetSummonedUnit()local unit TX7=GetSummoningUnit()if GetUnitTypeId(GetSummonedUnit())=='o004' or GetUnitTypeId(GetSummonedUnit())=='oeye' thenif IsUnitInRegion(ow,X98)thencall X88(TX7,X98)call RemoveUnit(X98)elseif JS7(TX7)thencall X88(TX7,X98)call VH7(GetOwningPlayer(X98),"Couriers cannot place wards")call RemoveUnit(X98)elsecall W_8()endifelseif GetUnitTypeId(X98)=='osp4' or GetUnitTypeId(X98)=='o008' or GetUnitTypeId(X98)=='o009' or GetUnitTypeId(X98)=='o01C' or GetUnitTypeId(X98)=='o01D' or GetUnitTypeId(X98)=='o01E' thencall SelectUnitAddForPlayer(X98,GetOwningPlayer(X98))elseif GetUnitTypeId(X98)=='o000' or GetUnitTypeId(X98)=='o001' or GetUnitTypeId(X98)=='o00A' or GetUnitTypeId(X98)=='o00X' thencall SelectUnitAddForPlayer(X98,GetOwningPlayer(X98))endifset TX7=nullset X98=nullendfunctionfunction XG8 takes unit TX7 returns reallocal real XH8if Q_7(GetOwningPlayer(TX7))thenset XH8=GetRectCenterX(Z9)elseset XH8=GetRectCenterX(Y9)endifreturn XH8endfunctionfunction XI8 takes unit TX7 returns reallocal real XH8if Q_7(GetOwningPlayer(TX7))thenset XH8=GetRectCenterY(Z9)elseset XH8=GetRectCenterY(Y9)endifreturn XH8endfunctionfunction XJ8 takes unit TX7,integer n5,integer XK8 returns itemlocal real x=XG8(TX7)local real y=XI8(TX7)local item NJ8=CreateItem(n5,x,y)local integer i=0local boolean array XM8local item Z4set H77=J74call DisableTrigger(HR4)if n5>0 thenloopexitwhen i>(UnitInventorySize(TX7)-1)if UnitItemInSlot(TX7,i)==null and i!=XK8 thenset Z4=CreateItem('I02M',x,y)call UnitAddItem(TX7,Z4)set XM8[i]=trueelseset XM8[i]=falseendifif i==XK8 thencall EnableTrigger(HR4)call UnitAddItem(TX7,NJ8)call DisableTrigger(HR4)endifset i=i+1endloopset i=0loopexitwhen i>5if XM8[i]==true thencall RemoveItem(UnitItemInSlot(TX7,i))endifset i=i+1endloopendifcall EnableTrigger(HR4)set IF4=NJ8set NJ8=nullset Z4=nullreturn IF4endfunctionfunction XN8 takes unit X97 returns booleanlocal integer V_7=GetHandleId(X97)local integer i=0local real S98=(TimerGetElapsed(P))local real XO8=10loopexitwhen i>3if(LoadReal(C7,(V_7),(730+i)))<S98-XO8 thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction XP8 takes unit X97 returns nothinglocal integer V_7=GetHandleId(X97)local integer XQ8=(LoadInteger(C7,(V_7),(729)))call SaveReal(C7,(V_7),(730+XQ8),(((TimerGetElapsed(P)))*1.0))set XQ8=XQ8+1if XQ8==4 thenset XQ8=0endifcall SaveInteger(C7,(V_7),(729),(XQ8))endfunctionfunction XR8 takes unit T_7 returns nothinglocal integer i=0local item XS8local integer VX8local boolean XT8=falseif XN8(T_7)thenset XT8=trueendifloopexitwhen i>5set XS8=UnitItemInSlot(T_7,i)set VX8=JV7(XS8)if VX8==EC and XT8==true thencall DisableTrigger(HR4)set J74=GetItemPlayer(XS8)call RemoveItem(XS8)set IF4=XJ8(T_7,OU[FC],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifif VX8==FC and XT8==false thencall DisableTrigger(HR4)set J74=GetItemPlayer(XS8)call RemoveItem(XS8)set IF4=XJ8(T_7,OU[EC],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifset i=i+1endloopset T_7=nullset XS8=nullendfunctionfunction PA8 takes nothing returns nothingif GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(R77(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())=='n00L')thenif VY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==false thenset OW4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(P))if GetEventDamage()>20 thencall XP8(GetTriggerUnit())endifendifendifendfunctionfunction XU8 takes unit TX7 returns nothinglocal integer i=0local item XV8local integer VT8local boolean XW8=falseif OW4[GetPlayerId(GetOwningPlayer(TX7))]+3>(TimerGetElapsed(P))thenset XW8=trueendifloopexitwhen i>5set XV8=UnitItemInSlot(TX7,i)set VT8=JV7(XV8)if VT8==HW and XW8==true thencall DisableTrigger(HR4)set J74=GetItemPlayer(XV8)call RemoveItem(XV8)set IF4=XJ8(TX7,OU[NW],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifif VT8==NW and XW8==false thencall DisableTrigger(HR4)set J74=GetItemPlayer(XV8)call RemoveItem(XV8)set IF4=XJ8(TX7,OU[HW],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifset i=i+1endloopset TX7=nullset XV8=nullendfunctionfunction XX8 takes unit TX7 returns nothinglocal integer i=0local item XY8local integer VT8local boolean XZ8=falselocal real XA8=4if IsUnitType(TX7,UNIT_TYPE_MELEE_ATTACKER)==false thenset XA8=6endifif OW4[GetPlayerId(GetOwningPlayer(TX7))]+XA8>(TimerGetElapsed(P))thenset XZ8=trueendifloopexitwhen i>5set XY8=UnitItemInSlot(TX7,i)set VT8=JV7(XY8)if VT8==DJ4 and XZ8==true thencall DisableTrigger(HR4)set J74=GetItemPlayer(XY8)call RemoveItem(XY8)set IF4=XJ8(TX7,OU[DK4],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifif VT8==DK4 and XZ8==false thencall DisableTrigger(HR4)set J74=GetItemPlayer(XY8)call RemoveItem(XY8)set IF4=XJ8(TX7,OU[DJ4],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call EnableTrigger(HR4)endifset i=i+1endloopset TX7=nullset XY8=nullendfunctionfunction XB8 takes nothing returns booleanlocal integer i=1local unit TX7local integer idif HU4>0 or HX4>0 or GZ7>0 thenloopexitwhen i>5set id=GetPlayerId(Y7[i])set TX7=G7[id]if Q24[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XU8(TX7)endifif R84[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XX8(TX7)endifif G37[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XR8(TX7)endifset id=GetPlayerId(Z7[i])set TX7=G7[id]if Q24[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XU8(TX7)endifif R84[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XX8(TX7)endifif G37[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall XR8(TX7)endifset i=i+1endloopendifset TX7=nullreturn falseendfunctionfunction XC8 takes nothing returns nothinglocal unit TX7=GetFilterUnit()local integer i=0local item NJ8local integer VT8loopexitwhen i>5set NJ8=UnitItemInSlot(TX7,i)set VT8=JU7(NJ8)if(VT8==AZ or VT8==BZ or VT8==CZ)and GetItemUserData(NJ8)>0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TX7,"overhead"))call VG7(GetOwningPlayer(TX7),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(TX7,OU[IA],i)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifset i=i+1endloopset TX7=nullset NJ8=nullendfunctionfunction X38 takes nothing returns booleanif UnitInventorySize(GetFilterUnit())>0 and Q_7(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and UY7(GetFilterUnit())==false thencall XC8()endifreturn falseendfunctionfunction X68 takes nothing returns booleanif UnitInventorySize(GetFilterUnit())>0 and R47(GetOwningPlayer(GetFilterUnit()))and IsUnitIllusion(GetFilterUnit())==false and UY7(GetFilterUnit())==false thencall XC8()endifreturn falseendfunctionfunction XL8 takes nothing returns booleanlocal group g=TL7()call GroupEnumUnitsInRange(g,JF4,JG4,750,Condition(function X38))call T67(g)set g=TL7()call GroupEnumUnitsInRange(g,K44,K74,750,Condition(function X68))call T67(g)set g=nullreturn falseendfunctionfunction X18 takes unit u returns unitif IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,'A04R')==0 thenreturn uelsereturn G7[GetPlayerId(GetOwningPlayer(u))]endifendfunctionfunction X08 takes nothing returns booleanif IsUnitType(GetKillingUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetDyingUnit(),GetOwningPlayer(GetKillingUnit()))==false thenif GetUnitTypeId(GetTriggerUnit())=='n00J' thencall ZO7(GetDyingUnit(),X18(GetKillingUnit()),YD4,400)elseif GetUnitTypeId(GetTriggerUnit())=='n00A' thencall ZO7(GetDyingUnit(),X18(GetKillingUnit()),YD4,500)elseif GetUnitTypeId(GetTriggerUnit())=='n006' thencall ZO7(GetDyingUnit(),X18(GetKillingUnit()),YD4,600)endifendifreturn falseendfunctionfunction X58 takes nothing returns booleanreturn GetUnitTypeId(GetEnteringUnit())=='e00E' or GetUnitTypeId(GetEnteringUnit())=='e022'endfunctionfunction X28 takes nothing returns nothingcall ShowUnitHide(GetEnteringUnit())call SetUnitPathing(GetEnteringUnit(),false)call SetUnitInvulnerable(GetEnteringUnit(),true)if(GetPlayerController(GetOwningPlayer(GetEnteringUnit()))==MAP_CONTROL_USER)thencall UnitApplyTimedLifeBJ(20.,'BTLF',GetEnteringUnit())elsecall TriggerSleepAction(10.)if((GetUnitTypeId(GetEnteringUnit())=='e00E')or(GetUnitTypeId(GetEnteringUnit())=='e022'))thencall UnitApplyTimedLifeBJ(10.,'BTLF',GetEnteringUnit())endifendifendfunctionfunction X_8 takes nothing returns booleanreturn((GetUnitTypeId(GetDyingUnit())=='e00R')or(GetUnitTypeId(GetDyingUnit())=='e011')or(GetUnitTypeId(GetDyingUnit())=='e00S')or(GetUnitTypeId(GetDyingUnit())=='e019'))endfunctionfunction Y48 takes nothing returns nothingif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifif(GetDyingUnit()==JU4)thencall AT7("Tower"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JX4,false)call SQ7(GetKillingUnit(),1)set PZ4=1elseif(GetDyingUnit()==JV4)thencall AT7("Tower"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JY4,false)call SQ7(GetKillingUnit(),1)set PY4=1elseif(GetDyingUnit()==JW4)thencall AT7("Tower"+I2S(0)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JZ4,false)call SQ7(GetKillingUnit(),1)set PA4=1elseif(GetDyingUnit()==JX4)thencall AT7("Tower"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JA4,false)call SQ7(GetKillingUnit(),2)set PZ4=2elseif(GetDyingUnit()==JY4)thencall AT7("Tower"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JB4,false)call SQ7(GetKillingUnit(),2)set PY4=2elseif(GetDyingUnit()==JZ4)thencall AT7("Tower"+I2S(0)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(JC4,false)call SQ7(GetKillingUnit(),2)set PA4=2elseif(GetDyingUnit()==JA4)thencall AT7("Tower"+I2S(0)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(JL4,false)call VH8(J54,false)call VH8(J34,false)call VH8(J64,false)call VH8(WP,false)call VH8(zP,false)call VH8(vq,false)call VH8(eq,false)call VH8(fP,false)call VH8(FP,false)call VH8(lP,false)call VH8(LP,false)call VH8(MP,false)call VH8(pP,false)call VH8(PP,false)call VH8(qP,false)call VH8(QP,false)call VH8(sP,false)call VH8(tP,false)set PZ4=3elseif(GetDyingUnit()==JB4)thencall AT7("Tower"+I2S(0)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(J14,false)call VH8(J24,false)call VH8(J34,false)call VH8(J64,false)call VH8(WP,false)call VH8(zP,false)call VH8(vq,false)call VH8(eq,false)call VH8(fP,false)call VH8(FP,false)call VH8(lP,false)call VH8(LP,false)call VH8(MP,false)call VH8(pP,false)call VH8(PP,false)call VH8(qP,false)call VH8(QP,false)call VH8(sP,false)call VH8(tP,false)set PY4=3elseif(GetDyingUnit()==JC4)thencall AT7("Tower"+I2S(0)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(J04,false)call VH8(J_4,false)call VH8(J34,false)call VH8(J64,false)call VH8(WP,false)call VH8(zP,false)call VH8(vq,false)call VH8(eq,false)call VH8(fP,false)call VH8(FP,false)call VH8(lP,false)call VH8(LP,false)call VH8(MP,false)call VH8(pP,false)call VH8(PP,false)call VH8(qP,false)call VH8(QP,false)call VH8(sP,false)call VH8(tP,false)set PA4=3endifif GetDyingUnit()==J34 or GetDyingUnit()==J64 thencall AT7("Tower"+I2S(0)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),4)endifif(((GetDyingUnit()==J34)and(IsUnitDeadBJ(J64)))or((GetDyingUnit()==J64)and(IsUnitDeadBJ(J34))))thencall VH8(JT4,false)set PR4=falseendifendfunctionfunction Y78 takes nothing returns booleanreturn((GetUnitTypeId(GetDyingUnit())=='u00M')or(GetUnitTypeId(GetDyingUnit())=='u00D')or(GetUnitTypeId(GetDyingUnit())=='u00N')or(GetUnitTypeId(GetDyingUnit())=='u00T'))endfunctionfunction Y88 takes nothing returns nothingif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))thenset gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]=gD[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]+1endifif(GetDyingUnit()==KF4)thencall AT7("Tower"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KI4,false)call SQ7(GetKillingUnit(),1)set PC4=1elseif(GetDyingUnit()==KG4)thencall AT7("Tower"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KJ4,false)call SQ7(GetKillingUnit(),1)set PB4=1elseif(GetDyingUnit()==KH4)thencall AT7("Tower"+I2S(1)+I2S(1)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KK4,false)call SQ7(GetKillingUnit(),1)set P34=1elseif(GetDyingUnit()==KI4)thencall AT7("Tower"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KM4,false)call SQ7(GetKillingUnit(),2)set PC4=2elseif(GetDyingUnit()==KJ4)thencall AT7("Tower"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KN4,false)call SQ7(GetKillingUnit(),2)set PB4=2elseif(GetDyingUnit()==KK4)thencall AT7("Tower"+I2S(1)+I2S(2)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call VH8(KO4,false)call SQ7(GetKillingUnit(),2)set P34=2elseif(GetDyingUnit()==KM4)thencall AT7("Tower"+I2S(1)+I2S(3)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(KR4,false)call VH8(KU4,false)call VH8(KP4,false)call VH8(KQ4,false)call VH8(ot,false)call VH8(rt,false)call VH8(at,false)call VH8(Vt,false)call VH8(PS,false)call VH8(QS,false)call VH8(SS,false)call VH8(tS,false)call VH8(TS,false)call VH8(US,false)call VH8(WS,false)call VH8(ZS,false)call VH8(vt,false)call VH8(et,false)call VH8(xt,false)set PC4=3elseif(GetDyingUnit()==KN4)thencall AT7("Tower"+I2S(1)+I2S(3)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(KS4,false)call VH8(KV4,false)call VH8(KP4,false)call VH8(KQ4,false)call VH8(ot,false)call VH8(rt,false)call VH8(at,false)call VH8(Vt,false)call VH8(PS,false)call VH8(QS,false)call VH8(SS,false)call VH8(tS,false)call VH8(TS,false)call VH8(US,false)call VH8(WS,false)call VH8(ZS,false)call VH8(vt,false)call VH8(et,false)call VH8(xt,false)set PB4=3elseif(GetDyingUnit()==KO4)thencall AT7("Tower"+I2S(1)+I2S(3)+I2S(2),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),3)call VH8(KT4,false)call VH8(KW4,false)call VH8(KP4,false)call VH8(KQ4,false)call VH8(ot,false)call VH8(rt,false)call VH8(at,false)call VH8(Vt,false)call VH8(PS,false)call VH8(QS,false)call VH8(SS,false)call VH8(tS,false)call VH8(TS,false)call VH8(US,false)call VH8(WS,false)call VH8(ZS,false)call VH8(vt,false)call VH8(et,false)call VH8(xt,false)set P34=3endifif GetDyingUnit()==KP4 or GetDyingUnit()==KQ4 thencall AT7("Tower"+I2S(1)+I2S(4)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))call SQ7(GetKillingUnit(),4)endifif(((GetDyingUnit()==KQ4)and(IsUnitDeadBJ(KP4)))or((GetDyingUnit()==KP4)and(IsUnitDeadBJ(KQ4))))thencall VH8(KE4,false)set PS4=falseendifendfunctionfunction Y98 takes nothing returns booleanlocal integer x=0if GetPlayerSlotState(Y7[1])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Y7[2])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Y7[3])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Y7[4])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Y7[5])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Z7[1])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Z7[2])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Z7[3])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Z7[4])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifif GetPlayerSlotState(Z7[5])==PLAYER_SLOT_STATE_EMPTY thenset x=x+1endifreturn x==9endfunctionfunction Ve takes nothing returns booleanreturn bj_isSinglePlayer and Y98()endfunctionfunction YD8 takes nothing returns nothingset XL4=trueendfunctionfunction YE8 takes nothing returns nothingset HQ4=falseendfunctionfunction YF8 takes nothing returns booleanif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction YG8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function YF8))call T67(g)set g=nullset U9=trueendfunctionfunction YH8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,Y7[0],Condition(function YF8))call T67(g)set g=nullset U9=trueendfunctionfunction YI8 takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())=='o004' or GetUnitTypeId(GetFilterUnit())=='oeye' thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction YJ8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function YI8))call T67(g)set g=nullset U9=trueendfunctionfunction YK8 takes nothing returns nothingset B4=falseendfunctionfunction YM8 takes nothing returns nothingset B4=trueendfunctionfunction YN8 takes nothing returns nothingcall YH8()call YG8()set U9=trueendfunctionfunction YO8 takes nothing returns nothinglocal string YP8=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))local integer YQ8=S2I(YP8)if YQ8<0 or YQ8>24 thenset YQ8=0endifcall SetFloatGameState(GAME_STATE_TIME_OF_DAY,YQ8)set U9=trueendfunctionfunction YR8 takes nothing returns booleanif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true thencall SetHeroLevel(GetFilterUnit(),GetHeroLevel(GetFilterUnit())+VZ7(IY4,1),true)endifreturn falseendfunctionfunction YS8 takes nothing returns nothinglocal string YT8=SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString()))local integer YU8=S2I(YT8)local group g=TL7()if SubString(GetEventPlayerChatString(),0,9)!="-lvlupall" and SubString(GetEventPlayerChatString(),0,9)!="-lvlupfor" thenif YU8<1 thenset YU8=1endifset IY4=YU8call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function YR8))endifcall T67(g)set g=nullset U9=trueendfunctionfunction YV8 takes nothing returns nothingcall TriggerExecute(ES)set U9=trueendfunctionfunction YW8 takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))if IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true thenset hq[O5]=0.set hq[16+O5]=0.set hq[32+O5]=0.set SL4[O5]=0.set SL4[16+O5]=0.set SL4[32+O5]=0.set SL4[48+O5]=0.call UnitResetCooldown(GetFilterUnit())call TimerStart(NP4[GetPlayerId((GetOwningPlayer(GetFilterUnit())))],0,false,null)call SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE))call SetUnitState(GetFilterUnit(),UNIT_STATE_MANA,GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_MANA))endifreturn falseendfunctionfunction YX8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function YW8))call T67(g)set g=nullset U9=trueendfunctionfunction YY8 takes nothing returns nothingif X34 thenreturnendifcall KillUnit(G7[GetPlayerId(GetTriggerPlayer())])set U9=trueendfunctionfunction YZ8 takes nothing returns nothinglocal string nQ=SubString(GetEventPlayerChatString(),5,StringLength(GetEventPlayerChatString()))local integer hY=S2I(nQ)call SetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)+hY)set U9=trueendfunctionfunction YA8 takes nothing returns nothinglocal unit R08=G7[GetPlayerId(GetTriggerPlayer())]local player TD8=GetTriggerPlayer()local location S78if R47(TD8)thenset S78=GetRectCenter(Y9)elseset S78=GetRectCenter(Z9)endifif C8==false and UY7(R08)thencall B_7(R08,TD8,GetLocationX(S78),GetLocationY(S78),true)if R18(R08)==false or GetUnitAbilityLevel(R08,'A0MW')==0 thencall ReviveHeroLoc(R08,S78,true)elsecall S48(R08,S78)endifendifcall RemoveLocation(S78)set R08=nullset TD8=nullset S78=nullendfunctionfunction YB8 takes nothing returns nothinglocal unit X97=G7[GetPlayerId(GetTriggerPlayer())]local player YC8local unit Y38local real x=GetRectCenterX(GD)local real y=GetRectCenterX(GD)if R47(GetOwningPlayer(X97))thenset YC8=Y7[1]elseset YC8=Z7[1]endifset Y38=CreateUnit(YC8,'H000',x,y,0)call SetHeroLevel(Y38,10,false)set X97=nullset Y38=nullset YC8=nullendfunctionfunction Y68 takes nothing returns nothingcall TriggerEvaluate(IP4)endfunctionfunction YL8 takes nothing returns nothingcall TriggerEvaluate(HS)endfunctionfunction Y18 takes nothing returns nothingcall WL8()endfunctionfunction Y08 takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local integer UPlocal integer O5local player pllocal group gif(VH=="-testhelp")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands (XX = 2-digit Player Number, ##### = Amount): -gold #####, -goldall #####, -goldforXX #####, -lvlup ##, -lvlupall ##, -lvlupforXX, -spawncreeps, -powerup, -neutrals, -refresh, -refreshall, -kill, -kill XX, -killsent, -killscourge, -killall, -rechoose, -fog, -time ##, -noherolimit, -trees, -killwards, -spawnoff, -spawnon")elseif(VH=="-rechoose")thenif((not Y8)and(not W)and(not RJ4)and(not O34)and(not R8)and(not F9)and(not IJ4))thenset E9=trueset I[GetPlayerId(GetTriggerPlayer())]=falseset G9=falseset D9=trueset T4[GetPlayerId(GetTriggerPlayer())]=falseset oo[GetPlayerId(GetTriggerPlayer())]=falseset Tx[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Some restrictions in repicking/randoming are removed. You may now use -repick/-random")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot enable repicking/randoming.")endifelseif(SubString(VH,0,9)=="-goldall ")thenset UP=S2I(SubString(VH,9,StringLength(VH)))set O5=1loopcall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+UP)set O5=O5+1exitwhen O5>11endloopelseif(SubString(VH,0,8)=="-goldfor")thenset pl=J37(S2I(SubString(VH,8,StringLength(VH))))if((pl!=null)and(RD7(pl)))thenset UP=S2I(SubString(VH,10,StringLength(VH)))call SetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+UP)endifelseif(SubString(VH,0,9)=="-lvlupall")thenset O5=S2I(SubString(GetEventPlayerChatString(),9,StringLength(GetEventPlayerChatString())))if O5<1 thenset O5=1endifset IY4=O5set g=TL7()call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function YR8))call T67(g)elseif(SubString(VH,0,9)=="-lvlupfor")thenset pl=J37(S2I(SubString(VH,9,StringLength(VH))))if((pl!=null)and(RD7(pl)))thencall SetHeroLevel(G7[GetPlayerId(pl)],GetHeroLevel(G7[GetPlayerId(pl)])+1,true)endifelseif(VH=="-refreshall")thenset g=TL7()call GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function YW8))call T67(g)elseif(SubString(VH,0,6)=="-kill ")thenset pl=J37(S2I(SubString(VH,6,StringLength(VH))))if((pl!=null)and(RD7(pl)))thencall KillUnit(G7[GetPlayerId(pl)])endifelseif(VH=="-fog")thencall FogEnable(not IsFogEnabled())call FogMaskEnable(not IsFogMaskEnabled())endifset g=nullset pl=nullendfunctionfunction Y58 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer O5=1loopif(R87(Player(O5)))thencall TriggerRegisterPlayerChatEvent(t,Player(O5),"-",false)endifset O5=O5+1exitwhen O5>11endloopcall TriggerAddAction(t,function Y08)set t=nullendfunctionfunction Y28 takes nothing returns booleancall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"**** REMINDER ****")return falseendfunctionfunction Y_8 takes nothing returns nothinglocal player OnlyPlayer=Lelocal trigger tcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60,"Single player commands enabled. You may use commands like -lvlup xx, -refresh, -spawncreeps, -powerup, -neutrals, -kill, -gold xxxx, -time xx, -killsent, -killscourge, -killall, -noherolimit, -trees, -killwards, -spawnoff, -spawnon, -roshan, -respawn, -dummy")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.,"For more info about the commands, type -testhelp.
    
    ")set t=CreateTrigger()call TriggerAddCondition(t,Condition(function Y28))call TriggerRegisterTimerEvent(t,GetRandomReal(60,100),false)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-lvlup",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-lvlup",false)call TriggerAddAction(t,function YS8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawncreeps",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawncreeps",true)call TriggerAddAction(t,function YV8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-refresh",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-refresh",true)call TriggerAddAction(t,function YX8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-kill",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-kill",true)call TriggerAddAction(t,function YY8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-gold",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-gold",false)call TriggerAddAction(t,function YZ8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-time",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-time",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-time",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-time",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-time",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-time",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-time",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-time",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-time",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-time",false)call TriggerAddAction(t,function YO8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-powerup",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-powerup",false)call TriggerAddAction(t,function Y68)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killall",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killall",true)call TriggerAddAction(t,function YN8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killsent",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killsent",true)call TriggerAddAction(t,function YH8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killscourge",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killscourge",true)call TriggerAddAction(t,function YG8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-neutrals",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-neutrals",false)call TriggerAddAction(t,function YL8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-noherolimit",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-noherolimit",true)call TriggerAddAction(t,function YE8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-trees",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-trees",true)call TriggerAddAction(t,function Y18)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-killwards",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-killwards",true)call TriggerAddAction(t,function YJ8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnoff",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnoff",true)call TriggerAddAction(t,function YM8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-spawnon",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-spawnon",true)call TriggerAddAction(t,function YK8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-roshan",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-roshan",true)call TriggerAddAction(t,function YD8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-respawn",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-respawn",true)call TriggerAddAction(t,function YA8)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-dummy",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-dummy",true)call TriggerAddAction(t,function YB8)call Y58()set uy=trueset t=nullendfunctionfunction MG8 takes nothing returns nothingcall TimerStart(CreateTimer(),5,not uy,function MG8)endfunctionfunction Z48 takes nothing returns booleanreturn not Jendfunctionfunction nt takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit nT=MZ7(NO7,"Unit")local integer O5=GetPlayerId(GetOwningPlayer(nT))set hq[O5]=0.set hq[16+O5]=0.set hq[32+O5]=0.set SL4[O5]=0.set SL4[16+O5]=0.set SL4[32+O5]=0.set SL4[48+O5]=0.if GetUnitTypeId(nT)!='ncop' thencall UnitResetCooldown(nT)call SetUnitManaPercentBJ(nT,100)endifcall K_7(NO7)call NM7(t)set t=nullset nT=nullreturn falseendfunctionfunction nu takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function nt))call MF7(NO7,"Unit",GetTriggerUnit())set t=nullendfunctionfunction Z78 takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer nv=P8(W7)+P8(X7)local integer NumRequired=VY7(nv,nv/2+1)local integer NO7=GetHandleId(t)local integer nV=M_7(NO7,"ExecCount")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60.," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"WTF mode activated. In this mode spells have no cooldown or manacost.")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90.,"This is a FOR FUN ONLY mode.")set PO4=trueset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function nu)set t=nullendfunctionfunction Z88 takes nothing returns booleanif MV8(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==false thencall A97(GetOwningPlayer(GetTriggerUnit()))call AT7("Level"+I2S(GetHeroLevel(GetTriggerUnit())),GetPlayerId(GetOwningPlayer(GetTriggerUnit())))endifreturn falseendfunctionfunction nw takes nothing returns nothingcall Y_8()call NM7(GetTriggeringTrigger())endfunctionfunction Z98 takes nothing returns booleanif J==false and Ve()==false thencall nw()endifreturn falseendfunctionfunction ZD8 takes nothing returns booleanreturn GetOwningPlayer(GetTriggerUnit())==A7endfunctionfunction ZE8 takes nothing returns nothingcall SaveInteger(C7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals"),((LoadInteger(C7,StringHash("Stats"+I2S(GetPlayerId(GetOwningPlayer(GetKillingUnit())))),StringHash("NumOfNeutrals")))+1))endfunctionfunction ZF8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",Z)elseif GetOwningPlayer(GetTriggerUnit())==Z7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",vv)endifreturn falseendfunctionfunction ZG8 takes nothing returns nothingset D7=D7+1endfunctionfunction ZH8 takes nothing returns nothingset A4=A4+1endfunctionfunction ZI8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)endifreturn falseendfunctionfunction ZJ8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Z7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",ev)endifreturn falseendfunctionfunction ZK8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)endifreturn falseendfunctionfunction ZM8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Z7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",ov)endifreturn falseendfunctionfunction ZN8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)endifreturn falseendfunctionfunction ZO8 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Z7[0]thencall IssuePointOrderLoc(GetTriggerUnit(),"attack",rv)endifreturn falseendfunctionfunction ZP8 takes nothing returns nothinglocal integer i=1local integer idloopexitwhen i>5set id=GetPlayerId(Y7[i])call AT7("CSK"+I2S(id),P7[id])call AT7("CSD"+I2S(id),T7[id])set id=GetPlayerId(Z7[i])call AT7("CSK"+I2S(id),P7[id])call AT7("CSD"+I2S(id),T7[id])set i=i+1endloopendfunctionfunction ZQ8 takes boolean WS8 returns nothinglocal unit ulocal string ZR8="stand work alternate"local string ZS8="stand work"local string ZT8="stand alternate"local string ZU8="stand"set u=JL4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=J14if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=J04if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=J54if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=J24if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=J_4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZR8)elsecall SetUnitAnimation(u,ZT8)endifendifset u=KR4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=KS4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=KT4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=KU4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=KV4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=KW4if UY7(u)==false thenif WS8 thencall SetUnitAnimation(u,ZS8)elsecall SetUnitAnimation(u,ZU8)endifendifset u=nullendfunctionfunction ZV8 takes nothing returns booleancall ZQ8(true)return falseendfunctionfunction Trig_Spawn_Conditions takes nothing returns booleanif(O04)thenreturn F0elseif(O54)thenreturn gHelseif O34 thenreturn Fzelseif(L or PT)thenreturn oHendifreturn Gendfunctionfunction ZW8 takes group ZX8,integer ZY8 returns nothinglocal unit uloopset u=FirstOfGroup(ZX8)exitwhen(u==null)call GroupRemoveUnit(ZX8,u)call SetUnitAbilityLevel(u,F8,ZY8)endloopendfunctionfunction ZZ8 takes nothing returns nothinglocal boolean ZA8=ModuloInteger(GetTriggerExecCount(ES),7)==0if B4 thenreturnendifcall ZQ8(false)if ZA8 thencall ZP8()endifif GetTriggerExecCount(ES)==1 and P44==false thencall UnitResetCooldown(K04[1])call UnitResetCooldown(K04[2])call UnitResetCooldown(K04[3])call UnitResetCooldown(K04[4])call UnitResetCooldown(K04[5])call UnitResetCooldown(K04[7])call UnitResetCooldown(K04[8])call UnitResetCooldown(K04[9])call UnitResetCooldown(K04[10])call UnitResetCooldown(K04[11])call VH8(JU4,false)call VH8(JV4,false)call VH8(JW4,false)call VH8(KF4,false)call VH8(KG4,false)call VH8(KH4,false)elseif GetTriggerExecCount(ES)==1 and P44 thencall VH8(JV4,false)call VH8(KG4,false)endifif GetTriggerExecCount(ES)==1 thencall EnableTrigger(NJ4)endifif P44==false and P94==false thenif(Rv)thencall CreateNUnitsAtLoc(A4,'ugho',Z7[0],lv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'u001',Z7[0],lv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Av)thencall CreateNUnitsAtLoc(A4,'ugho',Z7[0],Jv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'u001',Z7[0],Jv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(Nv)thencall CreateNUnitsAtLoc(A4,'ugho',Z7[0],Lv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'u001',Z7[0],Lv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifif P44==false and P94==false thenif(av)thencall CreateNUnitsAtLoc(D7,'unec',Z7[0],qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u002',Z7[0],qv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Ev)thencall CreateNUnitsAtLoc(D7,'unec',Z7[0],mv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u002',Z7[0],mv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(Ov)thencall CreateNUnitsAtLoc(D7,'unec',Z7[0],pv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u002',Z7[0],pv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifif ZA8 thenif P44==false and P94==false thenif(av)thencall CreateNUnitsAtLoc(D7,'umtw',Z7[0],qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u00R',Z7[0],qv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Ev)thencall CreateNUnitsAtLoc(D7,'umtw',Z7[0],mv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u00R',Z7[0],mv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(Ov)thencall CreateNUnitsAtLoc(D7,'umtw',Z7[0],pv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'u00R',Z7[0],pv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifendifif P44==false and P94==false thenif(Cv)thencall CreateNUnitsAtLoc(A4,'esen',Y7[0],tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'e00V',Y7[0],tv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Dv)thencall CreateNUnitsAtLoc(A4,'esen',Y7[0],Qv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'e00V',Y7[0],Qv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(fv)thencall CreateNUnitsAtLoc(A4,'esen',Y7[0],sv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(A4,'e00V',Y7[0],sv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifif P44==false and P94==false thenif(bv)thencall CreateNUnitsAtLoc(D7,'edry',Y7[0],Wv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e00W',Y7[0],Wv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Bv)thencall CreateNUnitsAtLoc(D7,'edry',Y7[0],Tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e00W',Y7[0],Tv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(cv)thencall CreateNUnitsAtLoc(D7,'edry',Y7[0],Uv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e00W',Y7[0],Uv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifif ZA8 thenif P44==false and P94==false thenif(cv)thencall CreateNUnitsAtLoc(D7,'ebal',Y7[0],Wv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e026',Y7[0],Wv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,2)endifif P84==false thenif(Bv)thencall CreateNUnitsAtLoc(D7,'ebal',Y7[0],Tv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e026',Y7[0],Tv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,3)endifif P44==false and P74==false thenif(cv)thencall CreateNUnitsAtLoc(D7,'ebal',Y7[0],Uv,bj_UNIT_FACING)elsecall CreateNUnitsAtLoc(D7,'e026',Y7[0],Uv,bj_UNIT_FACING)endifcall ZW8(bj_lastCreatedGroup,4)endifendifendfunctionfunction ZB8 takes nothing returns nothingset av=falsecall DisableTrigger(cA)call AT7("Rax"+I2S(0)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction ZC8 takes nothing returns nothingset Ev=falsecall DisableTrigger(CA)call AT7("Rax"+I2S(0)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z38 takes nothing returns nothingset Ov=falsecall DisableTrigger(dA)call AT7("Rax"+I2S(0)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z68 takes nothing returns nothingset Rv=falsecall DisableTrigger(DA)call AT7("Rax"+I2S(0)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction ZL8 takes nothing returns nothingset Av=falsecall DisableTrigger(fA)call AT7("Rax"+I2S(0)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z18 takes nothing returns nothingset Nv=falsecall DisableTrigger(FA)call AT7("Rax"+I2S(0)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z08 takes nothing returns nothingset bv=falsecall DisableTrigger(gA)call AT7("Rax"+I2S(1)+I2S(0)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z58 takes nothing returns nothingset Bv=falsecall DisableTrigger(GA)call AT7("Rax"+I2S(1)+I2S(1)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z28 takes nothing returns nothingset cv=falsecall DisableTrigger(LA)call AT7("Rax"+I2S(1)+I2S(2)+I2S(1),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction Z_8 takes nothing returns nothingset Cv=falsecall DisableTrigger(mA)call AT7("Rax"+I2S(1)+I2S(0)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction A48 takes nothing returns nothingset Dv=falsecall DisableTrigger(MA)call AT7("Rax"+I2S(1)+I2S(1)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction A78 takes nothing returns nothingset fv=falsecall DisableTrigger(PA)call AT7("Rax"+I2S(1)+I2S(2)+I2S(0),GetPlayerId(GetOwningPlayer(GetKillingUnit())))endfunctionfunction A88 takes nothing returns booleanlocal real A98=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)if A98<0.75 and iW==false thenset iW=truecall AT7("Tree",75)endifif A98<0.50 and rW==false thenset rW=truecall AT7("Tree",50)endifif A98<0.25 and oW==false thenset oW=truecall AT7("Tree",25)endifif A98<0.10 and eW==false thenset eW=truecall AT7("Tree",10)endifreturn falseendfunctionfunction AD8 takes nothing returns booleanlocal real A98=GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)/ GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)if A98<0.75 and vW==false thenset vW=truecall AT7("Throne",75)endifif A98<0.50 and zw==false thenset zw=truecall AT7("Throne",50)endifif A98<0.25 and Uw==false thenset Uw=truecall AT7("Throne",25)endifif A98<0.10 and tw==false thenset tw=truecall AT7("Throne",10)endifreturn falseendfunctionfunction AE8 takes nothing returns booleanif(Cv or Dv or fv or bv or Bv or cv)thenreturn falseendifreturn trueendfunctionfunction AF8 takes nothing returns nothingcall S_7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName(('n04O')))+" "+(GetObjectName(('n0C7'))))call SetPlayerTechResearchedSwap('R00D',(GetPlayerTechCountSimple('R00D',Y7[0])+30),Y7[0])call SetPlayerTechResearchedSwap('R00C',(GetPlayerTechCountSimple('R00C',Y7[0])+30),Y7[0])call DisableTrigger(SA)endfunctionfunction AG8 takes nothing returns booleanif(Rv or Av or Nv or av or Ev or Ov)thenreturn falseendifreturn trueendfunctionfunction AH8 takes nothing returns nothingcall S_7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName(('n04X')))+" "+(GetObjectName(('n0C9'))))call SetPlayerTechResearchedSwap('R009',(GetPlayerTechCountSimple('R009',Z7[0])+30),Z7[0])call SetPlayerTechResearchedSwap('R00B',(GetPlayerTechCountSimple('R00B',Z7[0])+30),Z7[0])call DisableTrigger(TA)endfunctionfunction AI8 takes nothing returns nothingcall SetPlayerTechResearchedSwap('R007',(GetPlayerTechCountSimple('R007',Y7[0])+1),Y7[0])call SetPlayerTechResearchedSwap('R00C',(GetPlayerTechCountSimple('R00C',Y7[0])+1),Y7[0])call SetPlayerTechResearchedSwap('R008',(GetPlayerTechCountSimple('R008',Y7[0])+1),Y7[0])call SetPlayerTechResearchedSwap('R00D',(GetPlayerTechCountSimple('R00D',Y7[0])+1),Y7[0])call SetPlayerTechResearchedSwap('R009',(GetPlayerTechCountSimple('R009',Z7[0])+1),Z7[0])call SetPlayerTechResearchedSwap('R003',(GetPlayerTechCountSimple('R003',Z7[0])+1),Z7[0])call SetPlayerTechResearchedSwap('R00A',(GetPlayerTechCountSimple('R00A',Z7[0])+1),Z7[0])call SetPlayerTechResearchedSwap('R00B',(GetPlayerTechCountSimple('R00B',Z7[0])+1),Z7[0])endfunctionfunction AJ8 takes nothing returns nothinglocal location AK8=GetRectCenter(GD)call RemoveUnit(CreateUnitAtLoc(A7,'nbdo',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nbds',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ngst',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'n026',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nggr',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nbdk',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nbwm',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nogm',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nomg',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nfpc',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nfpu',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nsth',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nstl',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nsat',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nwlg',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nkol',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nkob',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nkot',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ncnk',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ncen',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ngns',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nftb',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nfsh',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ngh1',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'npfl',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nowe',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nowb',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nmrm',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nmrr',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'nmrl',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ndtr',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'ndtw',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'n0LC',AK8,bj_UNIT_FACING))call RemoveUnit(CreateUnitAtLoc(A7,'n0LD',AK8,bj_UNIT_FACING))call RemoveLocation(AK8)set AK8=nullendfunctionfunction AM8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'n0HW',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n0HX',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n0HW',x,y,0),x,y)endfunctionfunction AN8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'njg1',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'njg1',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'njga',x,y,0),x,y)endfunctionfunction AO8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nbdo',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nbdo',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nbds',x,y,0),x,y)endfunctionfunction AP8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nbdk',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nbdk',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nbwm',x,y,0),x,y)endfunctionfunction AQ8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'ngst',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ngst',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nggr',x,y,0),x,y)endfunctionfunction AncientLizards_AI takes nothing returns booleancall NM7(GetTriggeringTrigger())call IssueTargetOrder(GetTriggerUnit(),"unholyfrenzy",GetTriggerUnit())return falseendfunctionfunction AR8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'n0LC',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n0LD',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n0LD',x,y,0),x,y)endfunctionfunction AS8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nogm',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nogm',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nomg',x,y,0),x,y)endfunctionfunction AT8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nfpc',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nfpu',x,y,0),x,y)endfunctionfunction AU8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nsth',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nstl',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nsat',x,y,0),x,y)endfunctionfunction AV8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nstl',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nstl',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nsat',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nsat',x,y,0),x,y)endfunctionfunction AW8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nwlg',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nwlg',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n00S',x,y,0),x,y)endfunctionfunction AX8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'n026',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'n026',x,y,0),x,y)endfunctionfunction AY8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nkol',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nkob',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nkob',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nkob',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nkot',x,y,0),x,y)endfunctionfunction AZ8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nftb',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nftb',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nfsh',x,y,0),x,y)endfunctionfunction AA8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'ncen',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ncnk',x,y,0),x,y)endfunctionfunction AB8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'ngns',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ngns',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ngns',x,y,0),x,y)endfunctionfunction AC8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nftb',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nftb',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nkol',x,y,0),x,y)endfunctionfunction A38 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'ngh1',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'npfl',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'npfl',x,y,0),x,y)endfunctionfunction A68 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'nowe',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nowb',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'nowb',x,y,0),x,y)endfunctionfunction AL8 takes real x,real y returns nothingcall SetUnitPosition(CreateUnit(A7,'ndtr',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ndtr',x,y,0),x,y)call SetUnitPosition(CreateUnit(A7,'ndtw',x,y,0),x,y)endfunctionfunction A18 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AT8(x,y)elseif D5==2 thencall AU8(x,y)elseif D5==3 thencall A68(x,y)elseif D5==4 thencall AL8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction A08 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AT8(x,y)elseif D5==2 thencall AU8(x,y)elseif D5==3 thencall A68(x,y)elseif D5==4 thencall AL8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction A58 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AT8(x,y)elseif D5==2 thencall AU8(x,y)elseif D5==3 thencall A68(x,y)elseif D5==4 thencall AL8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction A28 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AT8(x,y)elseif D5==2 thencall AU8(x,y)elseif D5==3 thencall A68(x,y)elseif D5==4 thencall AL8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction A_8 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AX8(x,y)elseif D5==2 thencall AS8(x,y)elseif D5==3 thencall AV8(x,y)elseif D5==4 thencall AW8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction B48 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AX8(x,y)elseif D5==2 thencall AS8(x,y)elseif D5==3 thencall AV8(x,y)elseif D5==4 thencall AW8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction B78 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AX8(x,y)elseif D5==2 thencall AS8(x,y)elseif D5==3 thencall AV8(x,y)elseif D5==4 thencall AW8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction B88 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AX8(x,y)elseif D5==2 thencall AS8(x,y)elseif D5==3 thencall AV8(x,y)elseif D5==4 thencall AW8(x,y)elseif D5==5 thencall AA8(x,y)endifendfunctionfunction B98 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,6)if D5==1 thencall A38(x,y)elseif D5==2 thencall AC8(x,y)elseif D5==3 thencall AB8(x,y)elseif D5==4 thencall AY8(x,y)elseif D5==5 thencall AZ8(x,y)elseif D5==6 thencall AM8(x,y)endifendfunctionfunction BD8 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,6)if D5==1 thencall A38(x,y)elseif D5==2 thencall AC8(x,y)elseif D5==3 thencall AB8(x,y)elseif D5==4 thencall AY8(x,y)elseif D5==5 thencall AZ8(x,y)elseif D5==6 thencall AM8(x,y)endifendfunctionfunction BE8 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AN8(x,y)elseif D5==2 thencall AO8(x,y)elseif D5==3 thencall AP8(x,y)elseif D5==4 thencall AQ8(x,y)elseif D5==5 thencall AR8(x,y)endifendfunctionfunction BF8 takes real x,real y returns nothinglocal integer D5=GetRandomInt(1,5)if D5==1 thencall AN8(x,y)elseif D5==2 thencall AO8(x,y)elseif D5==3 thencall AP8(x,y)elseif D5==4 thencall AQ8(x,y)elseif D5==5 thencall AR8(x,y)endifendfunctionfunction BG8 takes nothing returns nothingif GetUnitAbilityLevel(GetEnumUnit(),'A0P4')!=0 thencall GroupRemoveUnit(N8,GetEnumUnit())endifif GetUnitTypeId(GetEnumUnit())=='o003' thencall GroupRemoveUnit(N8,GetEnumUnit())endifif UY7(GetEnumUnit())==true thencall GroupRemoveUnit(N8,GetEnumUnit())endifendfunctionfunction BH8 takes group g returns booleanset N8=gcall ForGroup(g,function BG8)return FirstOfGroup(g)==nullendfunctionfunction BI8 takes nothing returns booleanlocal group glocal rect r1local rect r2if oy==false thenreturn falseendifset r1=Srset r2=Brset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall BE8(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=Urset r2=crset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall BF8(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=Wrset r2=Crset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall A18(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=zrset r2=frset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall A58(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=Zrset r2=Frset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall B48(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=viset r2=Hrset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall A_8(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=eiset r2=jrset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall B78(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=oiset r2=Jrset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall B88(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=xiset r2=lrset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall A28(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=aiset r2=mrset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall B98(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=Aiset r2=Niset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall BD8(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=biset r2=Biset g=TL7()call GroupEnumUnitsInRect(g,r1,Condition(function Q37))if BH8(g)thencall A08(GetRectCenterX(r2),GetRectCenterY(r2))endifcall T67(g)set r1=nullset r2=nullset g=nullreturn falseendfunctionfunction BJ8 takes nothing returns nothinglocal integer SF7=GetRandomInt(1,9)local location lif P44 thenset SF7=GetRandomInt(1,3)if SF7==1 thenset SF7=2endifif SF7==2 thenset SF7=5endifif SF7==3 thenset SF7=8endifendifif(SF7==1)thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,'n003',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n051'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==2)thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,'n003',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n052'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==3)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,'n003',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n053'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(SF7==4)thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,'n00E',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n058'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==5)thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,'n00E',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n04Z'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==6)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,'n00E',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n057'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(SF7==7)and P44==false thenset l=GetRectCenter(BE)call CreateNUnitsAtLoc(1,'n00D',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n056'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==8)and P44==false thenset l=GetRectCenter(bE)call CreateNUnitsAtLoc(1,'n00D',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n04T'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==9)thenset l=GetRectCenter(AE)call CreateNUnitsAtLoc(1,'n00D',Y7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n05C'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(SF7==1)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,'n003',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CD'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==2)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,'n003',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CE'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==3)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,'n003',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CC'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(SF7==4)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,'n00E',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CG'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==5)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,'n00E',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CH'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==6)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,'n00E',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CF'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifif(SF7==7)thenset l=GetRectCenter(OE)call CreateNUnitsAtLoc(1,'n00D',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CJ'))))call ZW8(bj_lastCreatedGroup,4)call RemoveLocation(l)endifif(SF7==8)thenset l=GetRectCenter(XE)call CreateNUnitsAtLoc(1,'n00D',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CK'))))call ZW8(bj_lastCreatedGroup,2)call RemoveLocation(l)endifif(SF7==9)thenset l=GetRectCenter(IE)call CreateNUnitsAtLoc(1,'n00D',Z7[0],l,bj_UNIT_FACING)call S_7(bj_FORCE_ALL_PLAYERS,10.00,(GetObjectName(('n0CI'))))call ZW8(bj_lastCreatedGroup,3)call RemoveLocation(l)endifset l=nullendfunctionfunction N9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if UY7(TX7)==false and TX7!=null thencall SetUnitScale(TX7,V87(TX7)*AN,V87(TX7)*AN,V87(TX7)*AN)endifcall K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction V58 takes nothing returns nothinglocal integer x=1local player ploopexitwhen x>16if KO7(G7[x],OU[DZ4])!=null thencall RemoveUnit(OV4[GetPlayerId(GetOwningPlayer(G7[x]))])endifset x=x+1endloopendfunctionfunction BK8 takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetTriggerUnit())!='H00J' and KO7(GetTriggerUnit(),OU[DZ4])!=nullendfunctionfunction BM8 takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1endfunctionfunction BN8 takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+D8)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BloodstoneHealTarget.mdx",GetEnumUnit(),"origin"))endfunctionfunction BO8 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),1700,Condition(function BM8))set D8=400+25*GetItemCharges(KO7(GetTriggerUnit(),OU[DZ4]))call ForGroup(g,function BN8)call T67(g)set g=nullendfunctionfunction BP8 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'H00M',GetUnitX(TX7),GetUnitY(TX7),GetUnitFacing(TX7))set OV4[GetPlayerId(GetOwningPlayer(TX7))]=ZM7call BO8()set ZM7=nullset TX7=nullendfunctionfunction BQ8 takes unit u returns nothinglocal integer BR8=GetItemCharges(KO7(u,OU[DZ4]))if BR8>0 thencall SetUnitState(u,UNIT_STATE_MANA,GetUnitState(u,UNIT_STATE_MANA)+BR8)endifendfunctionfunction BS8 takes nothing returns booleanlocal integer i=1local unit TX7local integer idif HV4>0 thenloopexitwhen i>5set id=GetPlayerId(Y7[i])set TX7=G7[id]if Q_4[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall BQ8(TX7)endifset id=GetPlayerId(Z7[i])set TX7=G7[id]if Q_4[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false thencall BQ8(TX7)endifset i=i+1endloopendifset TX7=nullreturn falseendfunctionfunction oK takes nothing returns nothingset gg[0]=CreateTimer()set gg[1]=CreateTimer()set gg[2]=CreateTimer()set gg[3]=CreateTimer()set gg[4]=CreateTimer()set gg[5]=CreateTimer()set gg[6]=CreateTimer()set gg[7]=CreateTimer()set gg[8]=CreateTimer()set gg[9]=CreateTimer()set gg[10]=CreateTimer()set gg[11]=CreateTimer()set gg[12]=CreateTimer()set gg[13]=CreateTimer()set gg[14]=CreateTimer()set gg[15]=CreateTimer()endfunctionfunction BT8 takes unit u,real d returns booleanif IsUnitType(u,UNIT_TYPE_HERO)or GetUnitAbilityLevel(u,'A04R')>0 thenreturn d>5endifreturn trueendfunctionfunction BU8 takes unit u returns unitlocal group gif GetUnitAbilityLevel(u,'A04R')==0 thenreturn uendifset I04=VK4set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),900,Condition(function Y47))set VJ4=FirstOfGroup(g)call T67(g)return VJ4endfunctionfunction BV8 takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZM7local unit p5if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseset p5=MZ7(NO7,"Source")set ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call UnitAddAbility(ZM7,'A0K6')set VK4=p5if IssueTargetOrder(ZM7,"forkedlightning",BU8(GetEventDamageSource()))thencall NQ7(GetTriggerUnit(),"BW8",1)endifendifset t=nullset ZM7=nullset p5=nullendfunctionfunction BX8 takes nothing returns booleanif(GetTriggerEventId()==EVENT_UNIT_DAMAGED and BT8(GetEventDamageSource(),GetEventDamage())and GetRandomInt(1,100)<21 and NF7(GetTriggerUnit(),"BW8")==false)or GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall BV8()endifreturn falseendfunctionfunction BW8 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)if m5==null thenset m5=p5endifcall NQ7(m5,"StaticChargeActive",20)call TriggerRegisterTimerEvent(t,20.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function BX8))call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",m5,"origin"))call MF7(NO7,"Source",p5)set t=nullset p5=nullset m5=nullendfunctionfunction BY8 takes nothing returns nothingif GetSpellAbilityId()=='A0JL' and(M_7(GetHandleId(GetSpellTargetUnit()),"StaticChargeActive")==1)==false thencall BW8()endifendfunctionfunction BZ8 takes integer i returns booleanreturn i=='I006' or i=='I008' or i=='I00J' or i=='I00K' or i=='I007'endfunctionfunction BA8 takes nothing returns booleanif GetIssuedOrderId()==851971 thenif GetOrderTargetItem()!=null and BZ8(GetItemTypeId(GetOrderTargetItem()))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LU'))endifendifreturn falseendfunctionfunction BB8 takes unit BC8 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,BC8,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function BA8))set t=nullendfunctionfunction B38 takes player p returns integerlocal integer r=GetRandomInt(1,6)if Q_7(p)thenif r==1 thenreturn UV4elseif r==2 thenreturn UW4elseif r==3 thenreturn UX4elseif r==4 thenreturn UY4elseif r==5 thenreturn UZ4elsereturn UA4endifelseif r==1 thenreturn UC4elseif r==2 thenreturn U34elseif r==3 thenreturn U64elseif r==4 thenreturn UL4elseif r==5 thenreturn U14elsereturn U54endifendifreturn 0endfunctionfunction B68 takes player p returns integerif GetRandomInt(1,3)==1 thenreturn V94elseif Q_7(p)thenreturn UU4elsereturn UB4endifreturn 0endfunctionfunction BL8 takes nothing returns nothinglocal unit B18=CreateUnit(GetOwningPlayer(GetTriggerUnit()),B38(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))local real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local real a=GetUnitFacing(GetTriggerUnit())call UL8(B18)call SetUnitPosition(B18,x+25*Cos(a*bj_DEGTORAD),y+25*Sin(a*bj_DEGTORAD))if FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifset B18=nullendfunctionfunction B08 takes nothing returns nothinglocal unit B18=CreateUnit(GetOwningPlayer(GetTriggerUnit()),B68(GetOwningPlayer(GetTriggerUnit())),GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitFacing(GetTriggerUnit()))call UL8(B18)if FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifcall BB8(B18)set B18=nullendfunctionfunction B58 takes nothing returns booleanif GetSpellAbilityId()=='A0B6' thencall BL8()endifif GetSpellAbilityId()=='A0JT' thencall B08()endifreturn falseendfunctionfunction B28 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit B18=MZ7(NO7,"chicken")local integer B_8=M_7(NO7,"newability")local integer C48=M_7(NO7,"itemId0")local integer C78=M_7(NO7,"itemId1")local integer C88=M_7(NO7,"itemId2")local integer C98=M_7(NO7,"itemId3")local integer CD8=M_7(NO7,"itemId4")local integer CE8=M_7(NO7,"itemId5")local player CF8=MB7(NO7,"pPlayer0")local player CG8=MB7(NO7,"pPlayer1")local player CH8=MB7(NO7,"pPlayer2")local player CI8=MB7(NO7,"pPlayer3")local player CJ8=MB7(NO7,"pPlayer4")local player CK8=MB7(NO7,"pPlayer5")local integer CM8=M_7(NO7,"charges0")local integer CN8=M_7(NO7,"charges1")local integer CO8=M_7(NO7,"charges2")local integer CP8=M_7(NO7,"charges3")local integer CQ8=M_7(NO7,"charges4")local integer CR8=M_7(NO7,"charges5")call DisableTrigger(HR4)if GetTriggerEvalCount(t)==1 thencall UnitAddAbility(B18,B_8)if FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifelseif C48>0 thenset IF4=CreateItem(C48,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CF8,false)call SetItemUserData(IF4,1)endifif CM8>0 thencall SetItemCharges(IF4,CM8)endifif C78>0 thenset IF4=CreateItem(C78,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CG8,false)call SetItemUserData(IF4,1)endifif CN8>0 thencall SetItemCharges(IF4,CN8)endifif C88>0 thenset IF4=CreateItem(C88,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CH8,false)call SetItemUserData(IF4,1)endifif CO8>0 thencall SetItemCharges(IF4,CO8)endifif C98>0 thenset IF4=CreateItem(C98,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CI8,false)call SetItemUserData(IF4,1)endifif CP8>0 thencall SetItemCharges(IF4,CP8)endifif CD8>0 thenset IF4=CreateItem(CD8,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CJ8,false)call SetItemUserData(IF4,1)endifif CQ8>0 thencall SetItemCharges(IF4,CQ8)endifif CE8>0 thenset IF4=CreateItem(CE8,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CK8,false)call SetItemUserData(IF4,1)endifif CR8>0 thencall SetItemCharges(IF4,CR8)endifif FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifcall K_7(NO7)call NM7(t)endifcall EnableTrigger(HR4)set t=nullset B18=nullset CF8=nullset CG8=nullset CH8=nullset CI8=nullset CJ8=nullset CK8=nullreturn falseendfunctionfunction CS8 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit B18=(LoadUnitHandle(C7,(NO7),(2)))local integer CT8=GetUnitTypeId(B18)local real x=GetUnitX(B18)local real y=GetUnitY(B18)local item CU8local item CV8local item CW8local item CX8local item CY8local item CZ8local player CF8local player CG8local player CH8local player CI8local player CJ8local player CK8local integer C48local integer C78local integer C88local integer C98local integer CD8local integer CE8local integer CM8=-1local integer CN8=-1local integer CO8=-1local integer CP8=-1local integer CQ8=-1local integer CR8=-1local integer B_8local item NJ8call FlushChildHashtable(C7,(NO7))call NM7(t)if B18==null or UY7(B18)thenreturn falseendifset t=CreateTrigger()set NO7=GetHandleId(t)set CU8=UnitItemInSlot(B18,0)set CV8=UnitItemInSlot(B18,1)set CW8=UnitItemInSlot(B18,2)set CX8=UnitItemInSlot(B18,3)set CY8=UnitItemInSlot(B18,4)set CZ8=UnitItemInSlot(B18,5)set C48=GetItemTypeId(CU8)set C78=GetItemTypeId(CV8)set C88=GetItemTypeId(CW8)set C98=GetItemTypeId(CX8)set CD8=GetItemTypeId(CY8)set CE8=GetItemTypeId(CZ8)set CF8=GetItemPlayer(CU8)set CG8=GetItemPlayer(CV8)set CH8=GetItemPlayer(CW8)set CI8=GetItemPlayer(CX8)set CJ8=GetItemPlayer(CY8)set CK8=GetItemPlayer(CZ8)set NJ8=CU8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CM8=GetItemCharges(NJ8)endifset NJ8=CV8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CN8=GetItemCharges(NJ8)endifset NJ8=CW8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CO8=GetItemCharges(NJ8)endifset NJ8=CX8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CP8=GetItemCharges(NJ8)endifset NJ8=CY8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CQ8=GetItemCharges(NJ8)endifset NJ8=CZ8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CR8=GetItemCharges(NJ8)endifcall JT7(CU8)call JT7(CV8)call JT7(CW8)call JT7(CX8)call JT7(CY8)call JT7(CZ8)if CT8==UV4 thenset B_8='S009'elseif CT8==UW4 thenset B_8='S00D'elseif CT8==UX4 thenset B_8='S00C'elseif CT8==UC4 thenset B_8='S00E'elseif CT8==U34 thenset B_8='S00B'elseif CT8==U64 thenset B_8=VE4elseif CT8==UY4 thenset B_8='S00W'elseif CT8==UZ4 thenset B_8='S00Y'elseif CT8==UL4 thenset B_8='S00X'elseif CT8==U14 thenset B_8='S00D'elseif CT8==UA4 thenset B_8=VF4elseif CT8==U54 thenset B_8=VG4endifif GetRandomInt(1,10)==1 thenset B_8='S00G'endifif GetRandomInt(1,10)<3 thenset B_8='S016'endifif CT8==V74 thenset B_8='S00L'elseif CT8==VD4 thenset B_8='S00L'elseif CT8==V84 thenset B_8=VE4endifif CT8==UU4 thenset B_8='S012'elseif CT8==UB4 thenset B_8='S010'elseif CT8==V94 thenset B_8='S014'elseif CT8==U24 thenset B_8='S011'elseif CT8==U_4 thenset B_8='S017'elseif CT8==V44 thenset B_8='S013'endifcall MM7(NO7,"pPlayer0",CF8)call MM7(NO7,"pPlayer1",CG8)call MM7(NO7,"pPlayer2",CH8)call MM7(NO7,"pPlayer3",CI8)call MM7(NO7,"pPlayer4",CJ8)call MM7(NO7,"pPlayer5",CK8)call M87(NO7,"itemId0",C48)call M87(NO7,"itemId1",C78)call M87(NO7,"itemId2",C88)call M87(NO7,"itemId3",C98)call M87(NO7,"itemId4",CD8)call M87(NO7,"itemId5",CE8)call M87(NO7,"charges0",CM8)call M87(NO7,"charges1",CN8)call M87(NO7,"charges2",CO8)call M87(NO7,"charges3",CP8)call M87(NO7,"charges4",CQ8)call M87(NO7,"charges5",CR8)call MF7(NO7,"chicken",B18)call M87(NO7,"newability",B_8)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function B28))set NJ8=nullset t=nullset B18=nullset CU8=nullset CV8=nullset CW8=nullset CX8=nullset CY8=nullset CZ8=nullset CF8=nullset CG8=nullset CH8=nullset CI8=nullset CJ8=nullset CK8=nullreturn falseendfunctionfunction CA8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,false)call TriggerAddCondition(t,Condition(function CS8))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))set t=nullendfunctionfunction CB8 takes nothing returns booleanif GetSpellAbilityId()=='A0OT' thencall CA8()endifreturn falseendfunctionfunction V7 takes nothing returns booleanlocal integer x=0loopexitwhen x>5if UnitItemInSlot(GetTriggerUnit(),x)==null thenreturn trueendifset x=x+1endloopreturn falseendfunctionfunction wD takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())==OU[G6]thencall RemoveItem(GetManipulatedItem())call UnitAddItem(GetTriggerUnit(),CreateItem(OU[H6],0,0))endifif GetItemTypeId(GetManipulatedItem())==OU[H6]thencall RemoveItem(GetManipulatedItem())call UnitAddItem(GetTriggerUnit(),CreateItem(OU[G6],0,0))endifendfunctionfunction CC8 takes nothing returns nothingif NF7(GetEnumUnit(),"C38")==true thencall VH7(GetOwningPlayer(GetEnumUnit()),(GetObjectName(('n02M')))+" "+GetUnitName(GetEnumUnit())+" "+(GetObjectName(('n02S'))))elseif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall NQ7(GetEnumUnit(),"C38",25)endifcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+250)endifendfunctionfunction C38 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),775,Condition(function YW7))call ForGroup(g,function CC8)call T67(g)set p5=nullset g=nullendfunctionfunction C68 takes nothing returns nothingif GetSpellAbilityId()=='A0CK' thencall C38()endifendfunctionfunction CL8 takes unit TX7,integer C18,boolean C08 returns nothinglocal string C58local string slocal player p=GetOwningPlayer(TX7)local real d=2local string C28="Use"if C08 thenset C28="Store"endifif C18=='I006' thenset C58="|c00ff0000"+GetObjectName('n0JQ')+"|r"call AT7("Rune"+C28+"1",GetPlayerId(p))elseif C18=='I008' thenset C58="|c0000ff00"+GetObjectName('n0JN')+"|r"call AT7("Rune"+C28+"2",GetPlayerId(p))elseif C18=='I00K' thenset C58="|c000000ff"+GetObjectName('n0K3')+"|r"call AT7("Rune"+C28+"3",GetPlayerId(p))elseif C18=='I007' thenset C58="|c00afaf00"+GetObjectName('n0K2')+"|r"call AT7("Rune"+C28+"4",GetPlayerId(p))elseif C18=='I00J' thenset C58="|c00652DC1"+GetObjectName('n0K4')+"|r"call AT7("Rune"+C28+"5",GetPlayerId(p))endifif C08 thenset s=K[GetPlayerId(p)]+GetUnitName(TX7)+"|r "+GetObjectName('n0GU')+"|r "+C58+" "+GetObjectName('n0GW')set d=1elseif NH thenset s=K[GetPlayerId(p)]+GetUnitName(TX7)+"|r "+GetObjectName('n0GV')+"|r "+C58+" "+GetObjectName('n0GW')elseset s=K[GetPlayerId(p)]+GetUnitName(TX7)+"|r "+GetObjectName('n0GT')+"|r "+C58+" "+GetObjectName('n0GW')endifendifif(IsPlayerAlly(GetLocalPlayer(),p)and GetLocalPlayer()!=p)or TV7(GetLocalPlayer())thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,d,s)endifendfunctionfunction C_8 takes nothing returns booleanif GetSpellAbilityId()=='A0H6' thencall MF7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",null)call M87(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",0)if(KO7(GetTriggerUnit(),OU[AZ])!=null or KO7(GetTriggerUnit(),QU[AZ])!=null)and(GetUnitTypeId(GetSpellTargetUnit())=='nfoh' or GetUnitTypeId(GetSpellTargetUnit())=='ndfl')thencall MF7(GetHandleId(GetTriggerUnit()),"BottleTargetUnit",GetSpellTargetUnit())elseif BZ8(GetItemTypeId(GetSpellTargetItem()))thencall CL8(GetTriggerUnit(),GetItemTypeId(GetSpellTargetItem()),true)call M87(GetHandleId(GetTriggerUnit()),"BottleTargetItemId",GetItemTypeId(GetSpellTargetItem()))call JT7(GetSpellTargetItem())endifendifreturn falseendfunctionfunction L48 takes unit T_7 returns nothingcall SetUnitState(T_7,UNIT_STATE_LIFE,GetUnitState(T_7,UNIT_STATE_MAX_LIFE))call SetUnitState(T_7,UNIT_STATE_MANA,GetUnitState(T_7,UNIT_STATE_MAX_MANA))endfunctionfunction L78 takes unit T_7,real x,real y returns nothinglocal integer V_7=GetHandleId(GetOwningPlayer(T_7))local unit CG7=MZ7(V_7,"Kobold1")local unit CH7=MZ7(V_7,"Kobold2")local unit CI7=MZ7(V_7,"Kobold3")local unit CJ7=MZ7(V_7,"Kobold4")set OX4=trueif CG7!=null thencall ReviveHero(CG7,x,y,true)call L48(CG7)call B07(CG7)call SetUnitX(CG7,x)call SetUnitY(CG7,y)endifif CH7!=null thencall ReviveHero(CH7,x,y,true)call L48(CH7)call B07(CH7)call SetUnitX(CH7,x)call SetUnitY(CH7,y)endifif CI7!=null thencall ReviveHero(CI7,x,y,true)call L48(CI7)call B07(CI7)call SetUnitX(CI7,x)call SetUnitY(CI7,y)endifif CJ7!=null thencall ReviveHero(CJ7,x,y,true)call L48(CJ7)call B07(CJ7)call SetUnitX(CJ7,x)call SetUnitY(CJ7,y)endifset CG7=nullset CH7=nullset CI7=nullset CJ7=nullendfunctionfunction L88 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=MZ7(V_7,"Hero")call L48(T_7)call B07(T_7)call ClearSelectionForPlayer(GetOwningPlayer(T_7))call SelectUnitAddForPlayer(T_7,GetOwningPlayer(T_7))if GetUnitTypeId(T_7)=='H00I' thencall L78(T_7,GetUnitX(T_7),GetUnitY(T_7))endifcall K_7(V_7)call NM7(t)set t=nullset T_7=nullreturn falseendfunctionfunction L98 takes unit T_7,real x,real y returns nothinglocal integer V_7=GetHandleId(GetOwningPlayer(T_7))local unit CG7=MZ7(V_7,"Kobold1")local unit CH7=MZ7(V_7,"Kobold2")local unit CI7=MZ7(V_7,"Kobold3")local unit CJ7=MZ7(V_7,"Kobold4")call DisableTrigger(XR)if CG7!=null thencall SetUnitX(CG7,x)call SetUnitY(CG7,y)call KillUnit(CG7)endifif CH7!=null thencall SetUnitX(CH7,x)call SetUnitY(CH7,y)call KillUnit(CH7)endifif CI7!=null thencall SetUnitX(CI7,x)call SetUnitY(CI7,y)call KillUnit(CI7)endifif CJ7!=null thencall SetUnitX(CJ7,x)call SetUnitY(CJ7,y)call KillUnit(CJ7)endifcall EnableTrigger(XR)set CG7=nullset CH7=nullset CI7=nullset CJ7=nullendfunctionfunction LD8 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local real xlocal real ylocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call AT7("AegisOff",GetPlayerId(GetOwningPlayer(T_7)))if GetUnitTypeId(T_7)=='H00I' thencall L98(T_7,GetUnitX(T_7),GetUnitY(T_7))endifset N14=nullcall TriggerRegisterTimerEvent(t,5.,false)call TriggerAddCondition(t,Condition(function L88))call MF7(V_7,"Hero",T_7)call NQ7(T_7,"JustUseAegis",5)set t=nullset T_7=nullendfunctionfunction LE8 takes nothing returns nothingif JV7(GetManipulatedItem())==T5 thencall LD8()endifendfunctionfunction Trig_MultipleNecro_Func001002001 takes nothing returns booleanreturn(GetUnitTypeId(GetEnumUnit())=='n00H')endfunctionfunction LF8 takes nothing returns nothingif GetWidgetLife(GetEnumItem())>0 and BZ8(GetItemTypeId(GetEnumItem()))thenset IF4=GetEnumItem()endifendfunctionfunction LG8 takes nothing returns integerlocal integer i=GetRandomInt(1,5)loopexitwhen i!=FZ4set i=GetRandomInt(1,5)endloopset FZ4=ireturn iendfunctionfunction LH8 takes nothing returns booleanlocal boolean LI8=falselocal boolean LJ8=falselocal real xlocal real ylocal real x1local real y1local real x2local real y2local integer LK8if GetRandomInt(1,2)==1 thenset x=GetLocationX(E7)set y=GetLocationY(E7)elseset x=GetLocationX(F7)set y=GetLocationY(F7)endifset x1=GetLocationX(E7)set y1=GetLocationY(E7)set x2=GetLocationX(F7)set y2=GetLocationY(F7)set IF4=nullcall EnumItemsInRect(L9,Condition(function Q37),function LF8)if IF4==null thenset LI8=trueendifset IF4=nullcall EnumItemsInRect(A9,Condition(function Q37),function LF8)if IF4==null thenset LJ8=trueendifif YS==false or GetTriggerEvalCount(GetTriggeringTrigger())<20 thenif LI8 and LJ8 thenset LK8=LG8()if LK8==1 thencall CreateItem('I007',x,y)elseif LK8==2 thencall CreateItem('I006',x,y)elseif LK8==3 thencall CreateItem('I00K',x,y)elseif LK8==4 thencall CreateItem('I008',x,y)elseif LK8==5 thencall CreateItem('I00J',x,y)endifendifelseif LI8 thenset LK8=LG8()if LK8==1 thencall CreateItem('I007',x1,y1)elseif LK8==2 thencall CreateItem('I006',x1,y1)elseif LK8==3 thencall CreateItem('I00K',x1,y1)elseif LK8==4 thencall CreateItem('I008',x1,y1)elseif LK8==5 thencall CreateItem('I00J',x1,y1)endifendifif LJ8 thenset LK8=LG8()if LK8==1 thencall CreateItem('I007',x2,y2)elseif LK8==2 thencall CreateItem('I006',x2,y2)elseif LK8==3 thencall CreateItem('I00K',x2,y2)elseif LK8==4 thencall CreateItem('I008',x2,y2)elseif LK8==5 thencall CreateItem('I00J',x2,y2)endifendifendifreturn falseendfunctionfunction O2 takes integer Ou,real O3 returns nothingset FI[gi]=Ouset Fj[gi]=O3set gi=gi+1endfunctionfunction Wq takes nothing returns nothingcall O2('horl',30)call O2('oven',210)call O2('mnst',45)call O2('I002',60)call O2('ches',60)call O2('pdiv',100)call O2('I001',60)call O2('bfhr',50)call O2('wswd',12)call O2('rej2',30)call O2('lnrn',36)call O2('spre',20)call O2('rots',300)call O2('tlum',60)call O2('sfog',15)call O2('mnsf',28)call O2('stwp',65)call O2('schl',70)call O2('rej1',28)call O2('kybl',20)call O2('rej5',40)call O2('ccmd',26)call O2('mlst',32)call O2('desc',30)call O2('I00C',25)call O2('I00Q',45)call O2('I00T',30)call O2('ofro',85)call O2('I01P',10)call O2('I01U',30)call O2('I100',45)call O2('I101',90)endfunctionfunction LM8 takes nothing returns booleanlocal integer iif OA4>0 and OY4[1]<1 thenset i=2loopexitwhen i>OA4set OY4[i-1]=OY4[i]set OZ4[i-1]=OZ4[i]set i=i+1endloopset OA4=OA4-1endifset i=1loopexitwhen i>OA4if OY4[i]>=1 thenset OY4[i]=OY4[i]-1if OY4[i]<1 thencall SetItemDroppable(OZ4[i],true)endifendifset i=i+1endloopreturn falseendfunctionfunction LN8 takes item NJ8 returns nothingset OA4=OA4+1set OZ4[OA4]=NJ8set OY4[OA4]=(SU[(JV7(NJ8))])call SetItemDroppable(NJ8,false)endfunctionfunction LO8 takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())!='e00E' and(SU[(JV7(GetManipulatedItem()))])>0 thencall LN8(GetManipulatedItem())endifreturn falseendfunctionfunction LP8 takes unit H57 returns integerlocal integer Z57if H57==null thenreturn-2endifset Z57=GetUnitTypeId(H57)if Z57=='H004' thenreturn G74elseif Z57=='UC18' thenreturn G84elseif Z57=='Hmkg' thenreturn GG4elseif Z57=='Ucrl' or Z57=='U01X' thenreturn HG4elseif Z57=='H00H' thenreturn GI4elseif Z57=='UC01' thenreturn GJ4elseif Z57=='Orkn' thenreturn GK4elseif Z57=='Hmbr' thenreturn GP4elseif Z57=='Hjai' thenreturn GM4elseif Z57=='Ulic' thenreturn G44elseif Z57=='Ekee' thenreturn F_4elseif Z57=='Emns' thenreturn F54elseif Z57=='EC57' thenreturn GN4elseif Z57=='U00E' thenreturn GE4elseif Z57=='E005' thenreturn GD4elseif Z57=='E01A' thenreturn GO4elseif Z57=='UC42' thenreturn G94elseif Z57=='Npbm' thenreturn GB4elseif Z57=='H00T' thenreturn GR4elseif Z57=='Hvwd' thenreturn GS4elseif Z57=='Nbbc' thenreturn GT4elseif Z57=='H00A' thenreturn GV4elseif Z57=='Udre' thenreturn GW4elseif Z57=='E00P' thenreturn GX4elseif Z57=='U00K' thenreturn GY4elseif Z57=='H00Q' thenreturn GZ4elseif Z57=='H00U' thenreturn GA4elseif Z57=='U00F' thenreturn G34elseif Z57=='N0EG' thenreturn G64elseif Z57=='EC45' thenreturn GL4elseif Z57=='O00J' thenreturn G14elseif Z57=='Oshd' thenreturn G04elseif Z57=='Udea' thenreturn G54elseif Z57=='N01W' thenreturn G24elseif Z57=='H00K' thenreturn G_4elseif Z57=='Opgh' thenreturn H44elseif Z57=='Otch' thenreturn H74elseif Z57=='H00R' thenreturn GH4elseif Z57=='H07I' thenreturn GH4elseif Z57=='N00B' thenreturn H84elseif Z57=='E01C' thenreturn HD4elseif Z57=='E002' thenreturn HE4elseif Z57=='EC77' thenreturn HF4elseif Z57=='U00P' thenreturn HH4elseif Z57=='Emoo' thenreturn HI4elseif Z57=='H00N' thenreturn HJ4elseif Z57=='E02N' or Z57=='E02O' thenreturn HK4elseif Z57=='H00I' thenreturn HM4elseif Z57=='H00D' thenreturn HN4elseif Z57=='UC60' thenreturn HO4elseif GetUnitPointValue(H57)==500 thenreturn H94endifreturn F04endfunctionfunction LQ8 takes unit H57 returns integerlocal integer Z57if H57==null thenreturn-2endifset Z57=GetUnitTypeId(H57)if Z57=='H004' thenreturn'A0TP'elseif Z57=='UC18' thenreturn'A0TR'elseif Z57=='Hmkg' thenreturn'A2KT'elseif Z57=='Ucrl' or Z57=='U01X' thenreturn 0elseif Z57=='H00H' thenreturn'A0TV'elseif Z57=='UC01' thenreturn'A0TX'elseif Z57=='Orkn' thenreturn'A0TZ'elseif Z57=='Hmbr' thenreturn'A0U1'elseif Z57=='Hjai' thenreturn'A0U3'elseif Z57=='Ulic' thenreturn'A0U5'elseif Z57=='Ekee' thenreturn'A0U7'elseif Z57=='Emns' thenreturn'A0U9'elseif Z57=='EC57' thenreturn'A0UB'elseif Z57=='U00E' thenreturn'A0UD'elseif Z57=='E005' thenreturn'A0UF'elseif Z57=='E01A' thenreturn'A0UH'elseif Z57=='UC42' thenreturn'A0UJ'elseif Z57=='Npbm' thenreturn'A1BE'elseif Z57=='H00T' thenreturn'A1B9'elseif Z57=='Hvwd' thenreturn'A1BA'elseif Z57=='Nbbc' thenreturn'A1BB'elseif Z57=='H00A' thenreturn'A1CU'elseif Z57=='Udre' thenreturn'A1BG'elseif Z57=='E00P' thenreturn'A1BJ'elseif Z57=='U00K' thenreturn'A1BC'elseif Z57=='H00Q' thenreturn'A1BI'elseif Z57=='H00U' thenreturn'A1BD'elseif Z57=='U00F' thenreturn'A1CY'elseif Z57=='N0EG' thenreturn'A1D2'elseif Z57=='EC45' thenreturn'A1D1'elseif Z57=='O00J' thenreturn'A1CZ'elseif Z57=='Oshd' thenreturn'A1D0'elseif Z57=='Udea' thenreturn'A1D3'elseif Z57=='N01W' thenreturn'A1D4'elseif Z57=='H00K' thenreturn'A1G1'elseif Z57=='Opgh' thenreturn'A1MT'elseif Z57=='Otch' thenreturn'A1N0'elseif Z57=='N00B' thenreturn'A1QS'elseif Z57=='E01C' thenreturn'A1UT'elseif Z57=='E002' thenreturn'A1UU'elseif Z57=='EC77' thenreturn'A1V1'elseif Z57=='U00P' thenreturn'A1VY'elseif Z57=='Emoo' thenreturn'A1WD'elseif Z57=='H00N' thenreturn'A21S'elseif Z57=='E02N' or Z57=='E02O' thenreturn'A237'elseif Z57=='H00I' thenreturn'A27E'elseif Z57=='H00D' thenreturn'A28A'elseif Z57=='UC60' thenreturn'A2IH'endifreturn 0endfunctionfunction LR8 takes item BV7 returns booleanlocal integer i=1loopexitwhen i>OA4if BV7==OZ4[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction LS8 takes unit H57 returns locationreturn G8[GetUnitAbilityLevel(H57,F8)]endfunctionfunction LT8 takes unit H57 returns booleanreturn(GetOwningPlayer(H57)==Y7[0])or(GetOwningPlayer(H57)==Z7[0])endfunctionfunction LU8 takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),0)call IssuePointOrderLoc(GetEnumUnit(),"attack",LS8(GetEnumUnit()))endfunctionfunction LV8 takes nothing returns nothingcall IssueTargetOrder(GetEnumUnit(),"attack",L7)call GroupAddUnit(N8,GetEnumUnit())call SetUnitUserData(GetEnumUnit(),R14)endfunctionfunction LW8 takes nothing returns booleanlocal integer id=GetUnitTypeId(GetFilterUnit())if id=='ebal' or id=='e026' or id=='umtw' or id=='u00R' thenreturn falseendifif IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and(GetOwningPlayer(GetFilterUnit())==Y7[0]or GetOwningPlayer(GetFilterUnit())==Z7[0])and GetUnitUserData(GetFilterUnit())==0 thenreturn trueendifreturn falseendfunctionfunction LX8 takes nothing returns nothingif GetUnitCurrentOrder(GetEnumUnit())==0 and IsUnitInRange(GetEnumUnit(),L7,GetUnitAcquireRange(GetEnumUnit()))==false thencall GroupRemoveUnit(N8,GetEnumUnit())call SetUnitUserData(GetEnumUnit(),0)call IssuePointOrderByIdLoc(GetEnumUnit(),851983,LS8(GetEnumUnit()))endifendfunctionfunction LY8 takes nothing returns nothinglocal integer NO7=GetHandleId(MZ7(GetHandleId(GetExpiredTimer()),"Source"))local integer LZ8=M_7(NO7,"Attacker")local group LA8=M67(NO7,"Defenders")set RL4[LZ8]=nullcall ForGroup(LA8,function LU8)call GroupClear(LA8)set LA8=nullendfunctionfunction LB8 takes unit TX7,unit PU8 returns nothinglocal integer NO7=GetHandleId(TX7)local group LA8=M67(NO7,"Defenders")local integer LZ8=M_7(NO7,"Attacker")local unit LC8=RL4[LZ8]local group gif LC8!=null and LC8!=PU8 thencall ForGroup(LA8,function LU8)call GroupClear(LA8)endifset RL4[LZ8]=PU8set N8=LA8set L7=PU8set R14=LZ8call ForGroup(LA8,function LX8)set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(PU8),GetUnitY(PU8),500,Condition(function LW8))call ForGroup(g,function LV8)call T67(g)call TimerStart(MC7(NO7,"DefendTimer"),2,false,function LY8)set g=nullset LC8=nullset LA8=nullendfunctionfunction L38 takes integer SN7 returns booleanreturn SN7=='EC77' or SN7=='E004' or SN7=='Nbrn' or SN7=='U00P' or SN7=='Emoo' or SN7=='N01A' or SN7=='H00Q'endfunctionfunction L68 takes nothing returns booleanlocal unit TX7=GetAttacker()local unit m5=GetTriggerUnit()local integer X5=GetIssuedOrderId()local integer LZ8local integer i1if LT8(TX7)==false thenset LZ8=M_7(GetHandleId(m5),"Attacker")if RL4[LZ8]==null or RL4[LZ8]==m5 or UY7(RL4[LZ8])thenif((GetPlayerController(GetOwningPlayer(GetAttacker()))!=MAP_CONTROL_COMPUTER)or(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))thencall LB8(GetTriggerUnit(),GetAttacker())elseset i1=GetUnitTypeId(GetAttacker())if((i1!='EC77')and(i1!='E004')and(i1!='UC60')and(i1!='Nbrn')and(i1!='U00P')and(i1!='Emoo')and(i1!='N01A')and(i1!='H00Q'))thencall LB8(GetTriggerUnit(),GetAttacker())elsecall TriggerSleepAction(0.01)if(not GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))])thencall LB8(GetTriggerUnit(),GetAttacker())endifendifendifif(not IsUnitType(TX7,UNIT_TYPE_HERO))or(GetPlayerController(GetOwningPlayer(TX7))!=MAP_CONTROL_COMPUTER)or(not L38(GetUnitTypeId(TX7)))or(not GZ[304+GetPlayerId(GetOwningPlayer(TX7))])thencall LB8(GetTriggerUnit(),GetAttacker())endifendifendifset TX7=nullset m5=nullreturn falseendfunctionfunction LL8 takes nothing returns booleanlocal unit TX7=GetTriggerUnit()local unit m5=GetOrderTargetUnit()local integer X5=GetIssuedOrderId()local integer L18if IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and(X5==851983 or X5==851971)and IsUnitEnemy(m5,GetOwningPlayer(TX7))and IsUnitVisible(TX7,GetOwningPlayer(m5))thenset L18=M_7(GetHandleId(m5),"Attacker")if RL4[L18]==null or RL4[L18]==m5 or UY7(RL4[L18])thencall LB8(m5,TX7)endifendifset TX7=nullset m5=nullreturn falseendfunctionfunction Wy takes unit TX7 returns booleanreturn N77(GetHandleId(TX7),"HeroAIManager")endfunctionfunction L08 takes unit TX7 returns nothinglocal group glocal trigger tlocal timer tmlocal integer NO7=GetHandleId(TX7)set l2=l2+1call ME7(NO7,"HeroAIManager",true)call M87(NO7,"Attacker",l2)set g=TL7()call MO7(NO7,"Defenders",g)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function LL8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function L68))set tm=CreateTimer()call MP7(GetHandleId(TX7),"DefendTimer",tm)call MF7(GetHandleId(tm),"Source",TX7)set g=nullset t=nullset tm=nullendfunctionfunction L58 takes nothing returns nothinglocal unit S4=GetTriggerUnit()local unit m5=rw[GetUnitUserData(S4)]call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))if m5!=null and UY7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))thencall IssueTargetOrder(S4,"attack",m5)elsecall DisableTrigger(GetTriggeringTrigger())call IssuePointOrderLoc(S4,"attack",(G8[GetUnitAbilityLevel((S4),F8)]))call EnableTrigger(GetTriggeringTrigger())endifset S4=nullset m5=nullendfunctionfunction L28 takes nothing returns booleanif LT8(GetTriggerUnit())thencall L58()endifreturn falseendfunctionfunction L_8 takes nothing returns nothinglocal unit S4=GetTriggerUnit()local unit m5=rw[GetUnitUserData(S4)]call SetUnitPosition(S4,GetUnitX(S4),GetUnitY(S4))if m5!=null and UY7(m5)==false and IsUnitVisible(m5,GetOwningPlayer(m5))thencall IssueTargetOrder(S4,"attack",m5)elsecall DisableTrigger(GetTriggeringTrigger())call IssuePointOrderLoc(S4,"attack",(G8[GetUnitAbilityLevel((S4),F8)]))call EnableTrigger(GetTriggeringTrigger())endifset S4=nullset m5=nullendfunctionfunction D49 takes nothing returns booleanif GetIssuedOrderId()==851986 thencall L_8()endifreturn falseendfunctionfunction D79 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thenif IsUnitFogged(GetAttacker(),Y7[1])or IsUnitFogged(GetAttacker(),Z7[1])thencall WB7(CreateFogModifierRadius(Y7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)endifelseif GetOwningPlayer(GetTriggerUnit())==Z7[0]thenif IsUnitFogged(GetAttacker(),Y7[1])or IsUnitFogged(GetAttacker(),Z7[1])thencall WB7(CreateFogModifierRadius(Z7[1],FOG_OF_WAR_VISIBLE,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()),128,true,false),1)endifendifreturn falseendfunctionfunction D89 takes nothing returns booleanlocal trigger tlocal group glocal unit uset Ew=CreateRegion()call RegionAddRect(Ew,C9)call RegionAddRect(Ew,B9)if O8 thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,Condition(function Q37))call TriggerAddCondition(t,Condition(function D49))set t=CreateTrigger()set g=TL7()call GroupEnumUnitsOfPlayer(g,Y7[0],Condition(function Q37))loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)if GetUnitAcquireRange(u)!=0 thencall TriggerRegisterUnitInRange(t,u,600,Condition(function Q37))endifendloopcall T67(g)set g=TL7()call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function Q37))loopset u=FirstOfGroup(g)exitwhen u==nullcall GroupRemoveUnit(g,u)if GetUnitAcquireRange(u)!=0 and IsUnitType(u,UNIT_TYPE_STRUCTURE)thencall TriggerRegisterUnitInRange(t,u,600,Condition(function Q37))endifendloopcall T67(g)call TriggerAddCondition(t,Condition(function L28))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function D79))endifcall NM7(GetTriggeringTrigger())set u=nullset g=nullset t=nullreturn falseendfunctionfunction D99 takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(not Wy(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!='H00M' and GetUnitTypeId(GetTriggerUnit())!='H00Y' and GetUnitTypeId(GetTriggerUnit())!='H07G' and GetUnitTypeId(GetTriggerUnit())!='H0B8' and(not BK4)endfunctionfunction DD9 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())==Y7[0]thencall SetUnitAbilityLevel(GetTriggerUnit(),F8,5)if rw[GetUnitUserData(GetTriggerUnit())]==null thencall SetUnitUserData(GetTriggerUnit(),0)call IssuePointOrderLoc(GetTriggerUnit(),"attack",(G8[GetUnitAbilityLevel((GetTriggerUnit()),F8)]))endifelseif GetOwningPlayer(GetTriggerUnit())==Z7[0]thencall SetUnitAbilityLevel(GetTriggerUnit(),F8,1)if rw[GetUnitUserData(GetTriggerUnit())]==null thencall SetUnitUserData(GetTriggerUnit(),0)call IssuePointOrderLoc(GetTriggerUnit(),"attack",(G8[GetUnitAbilityLevel((GetTriggerUnit()),F8)]))endifendifreturn falseendfunctionfunction DE9 takes unit S4 returns nothinglocal integer i=0loopexitwhen(i==16)if IsUnitAlly(S4,Player(i))thencall UnitShareVision(S4,Player(i),true)endifset i=i+1endloopendfunctionfunction DF9 takes nothing returns nothingcall DE9(GetEnumUnit())endfunctionfunction DG9 takes nothing returns nothinglocal integer xlocal group gset x=1loopexitwhen x>5call SetPlayerAlliance(Y7[0],Y7[x],ConvertAllianceType(5),false)call SetPlayerAlliance(Z7[0],Z7[x],ConvertAllianceType(5),false)set x=x+1endloopset g=TL7()call GroupEnumUnitsOfPlayer(g,Y7[0],Condition(function Q37))call ForGroup(g,function DF9)call T67(g)set g=TL7()call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function Q37))call ForGroup(g,function DF9)call T67(g)set g=nullendfunctionfunction DH9 takes nothing returns nothinglocal integer xset x=0loopexitwhen x>5call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(0),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(1),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(2),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(3),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(4),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(5),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(6),false)call SetPlayerAlliance(Y7[x],A7,ConvertAllianceType(7),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(0),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(1),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(2),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(3),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(4),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(5),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(6),false)call SetPlayerAlliance(Z7[x],A7,ConvertAllianceType(7),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(0),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(1),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(2),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(3),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(4),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(5),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(6),false)call SetPlayerAlliance(A7,Y7[x],ConvertAllianceType(7),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(0),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(1),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(2),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(3),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(4),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(5),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(6),false)call SetPlayerAlliance(A7,Z7[x],ConvertAllianceType(7),false)set x=x+1endloopendfunctionfunction DI9 takes nothing returns booleanreturn LT8(GetTriggerUnit())endfunctionfunction DJ9 takes nothing returns nothingcall DE9(GetTriggerUnit())endfunctionfunction DK9 takes nothing returns nothinglocal trigger tif not O8 thenreturnendifcall DG9()call DH9()set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function DI9))call TriggerAddAction(t,function DJ9)set t=nullendfunctionfunction DM9 takes nothing returns nothingcall RemoveUnit(MZ7(GetHandleId(GetTriggerUnit()),"Locust"))endfunctionfunction DN9 takes nothing returns nothinglocal group glocal unit S4local unit DO9local trigger tlocal integer iset t=CreateTrigger()call TriggerAddAction(t,function DM9)set g=TL7()call GroupEnumUnitsOfPlayer(g,Y7[0],Condition(function Q37))loopset S4=FirstOfGroup(g)exitwhen S4==nullcall GroupRemoveUnit(g,S4)if GetUnitAbilityLevel(S4,'Adts')>0 or GetUnitAbilityLevel(S4,'Atru')>0 thencall TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)set DO9=CreateUnit(Y7[1],('u00B'),-5000,-5100,0)call SetUnitScale(DO9,0,0,0)call SetUnitPathing(DO9,false)call SetUnitInvulnerable(DO9,true)call SetUnitX(DO9,GetUnitX(S4))call SetUnitY(DO9,GetUnitY(S4))call MF7(GetHandleId(S4),"Locust",DO9)endifendloopcall T67(g)set g=TL7()call GroupEnumUnitsOfPlayer(g,Z7[0],Condition(function Q37))loopset S4=FirstOfGroup(g)exitwhen S4==nullcall GroupRemoveUnit(g,S4)if GetUnitAbilityLevel(S4,'Adts')>0 or GetUnitAbilityLevel(S4,'Atru')>0 thencall TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)set DO9=CreateUnit(Z7[1],('u00B'),3400,4400,0)call SetUnitScale(DO9,0,0,0)call SetUnitPathing(DO9,false)call SetUnitInvulnerable(DO9,true)call SetUnitX(DO9,GetUnitX(S4))call SetUnitY(DO9,GetUnitY(S4))call MF7(GetHandleId(S4),"Locust",DO9)endifendloopcall T67(g)set t=nullset DO9=nullset S4=nullset g=nullendfunctionfunction DP9 takes nothing returns nothingif O8 thenset NY4=CreateTrigger()call TriggerRegisterTimerEvent(NY4,1.,true)call TriggerAddAction(NY4,function RE8)endifendfunctionfunction DQ9 takes nothing returns booleancall NM7(GetTriggeringTrigger())call TriggerEvaluate(HS)return falseendfunctionfunction DR9 takes nothing returns booleanlocal real r=TimerGetRemaining(PL4)local real UA8=rlocal integer D5=R2I(UA8)local integer VE8=D5/ 60-1/ 2local integer VF8=ModuloInteger(D5,60)local trigger tif r==0 thenset XC4=truecall AT7("GameStart",1)call VD8(VE8,VF8,true)set OG4=trueset NM4=TimerGetElapsed(P)call NM7(GetTriggeringTrigger())set JE4=Rect(-7040,-7680,7040,7168)call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)call SuspendTimeOfDay(false)call SetTimeOfDayScale(0.625)if X4==false thenif YS thencall TriggerRegisterTimerEvent(IP4,120.,true)elsecall TriggerRegisterTimerEvent(IP4,120.,true)endifcall TriggerEvaluate(IP4)endifcall TriggerRegisterTimerEvent(HS,60.,true)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,30.,false)call TriggerAddCondition(t,Condition(function DQ9))set t=nullcall TriggerRegisterTimerEventPeriodic(ES,30.00)call TriggerExecute(ES)call TriggerRegisterTimerEventPeriodic(FS,450.00)call TriggerRegisterTimerEventSingle(ZR,2699.00)call TriggerRegisterTimerEventSingle(DS,999.00)call TriggerRegisterTimerEventSingle(DS,1999.00)call TriggerRegisterTimerEventSingle(DS,2999.00)call TriggerRegisterTimerEvent(N24,300.,true)call TriggerRegisterTimerEvent(OS4,300.,true)call TriggerRegisterTimerEvent(O9,30.,true)call TriggerEvaluate(O9)if Y4 thencall TriggerRegisterTimerEvent(JS,600.,true)endifelseif r==7 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,30.,true)call TriggerAddCondition(t,Condition(function ZV8))elseif UA8<12 and P54==false thenset P54=truecall PlaySoundBJ(TO)call VD8(VE8,VF8,true)elseif UA8==20 thenif GetRandomInt(0,10)<6 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,6,"|c006699CC"+GetObjectName('n0LG')+"|r")endifelseif UA8==30 thenelsecall VD8(VE8,VF8,true)endifreturn falseendfunctionfunction DS9 takes nothing returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function DR9))set PL4=CreateTimer()call TimerStart(PL4,P04+1,false,null)set t=nullset NN4=TimerGetElapsed(P)+1endfunctionfunction DT9 takes nothing returns booleanif GetOwningPlayer(GetTriggerUnit())!=Y7[0]and GetOwningPlayer(GetTriggerUnit())!=Z7[0]thenset IT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=IT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]+1if GetIssuedOrderId()!=OrderId("attack")thenset nb[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=(TimerGetElapsed(P))set JT[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseendifif(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==851971)and GetOrderTargetItem()!=null thenif GetIssuedOrderId()==OrderId("attack")or(GetIssuedOrderId()==851971 and N77(GetHandleId(GetItemPlayer(GetOrderTargetItem())),"DisableHelp")==true)thenif GetItemPlayer(GetOrderTargetItem())!=GetOwningPlayer(GetTriggerUnit())and IsPointInRegion(Ew,GetItemX(GetOrderTargetItem()),GetItemY(GetOrderTargetItem()))==true thencall DisableTrigger(GetTriggeringTrigger())call JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n0G7'))))call EnableTrigger(GetTriggeringTrigger())endifendifendifendifreturn falseendfunctionfunction DU9 takes nothing returns nothinglocal string DV9=StringCase(GetEventPlayerChatString(),false)local boolean DW9=DV9=="-random" or DV9=="-random int" or DV9=="-random agi" or DV9=="-random str"local boolean DX9=DV9=="-repick"local boolean DY9=DV9=="-gameinfo"local boolean DZ9=SubString(DV9,0,5)=="-swap"local boolean DA9=DV9=="-recreate"local boolean DB9=DV9=="-unstuck"local boolean DC9=DV9=="-matchup" or DV9=="-ma"local boolean D39=DV9=="-movespeed" or DV9=="-ms"local boolean D69=DV9=="-msa"local boolean DL9=DV9=="-disablehelp"local boolean D19=DV9=="-enablehelp"local boolean D09=DV9=="-creepstats" or DV9=="-cs"local boolean D59=DV9=="-cson" or DV9=="-csoff"local boolean D29=DV9=="-hidemsg"local boolean D_9=DV9=="-showmsg"local boolean E49=DV9=="-weather snow" or DV9=="-weather rain" or DV9=="-weather off" or DV9=="-weather random" or DV9=="-weather wind" or DV9=="-weather moonlight"local boolean E79=DV9=="-showdeny" or DV9=="-hidedeny"local boolean E89=DV9=="-denyinfo" or DV9=="-di"local boolean E99=DV9=="-don" or DV9=="-deathon" or DV9=="-doff" or DV9=="-deathoff"local boolean ED9=SubString(DV9,0,5)=="-roll" and DV9!="-rollhero"local boolean EE9=DV9=="-hhn" or DV9=="-hideheronames"local boolean EF9=DV9=="-mute"local boolean EG9=DV9=="-apm"local boolean EH9=DV9=="-clear"local boolean EI9=DV9=="-courier"local boolean EJ9=DV9=="-invokelist" or DV9=="-il"local boolean bListCommand=DV9=="-list"local boolean EK9=DV9=="-rolloff"local boolean EM9=DV9=="-rollon"local boolean EN9=SubString(DV9,0,6)=="-music"local boolean EO9=SubString(DV9,0,6)=="-water"local boolean EP9=SubString(DV9,0,6)=="-quote"local boolean EQ9=SubString(DV9,0,3)=="-cm"local boolean ER9=SubString(DV9,0,9)=="-itemswap"local boolean ES9=DV9=="-bonus"local boolean ET9=DV9=="-rollhero" or DV9=="-rh"local boolean EU9=SubString(DV9,0,9)=="-rickroll"local boolean NoSwitch=DV9=="-noswitch"local boolean Switch=SubString(DV9,0,7)=="-switch"or DV9=="-ok"or DV9=="-no"local boolean Terrain=DV9=="-terrain" or DV9=="-terrain default" or DV9=="-terrain snow"local boolean EV9=DV9=="-tips"local boolean EW9=DV9=="-ii" or DV9=="-iteminfo"local boolean EX9=DV9=="-center" or DV9=="-centeroff" or DV9=="-c" or DV9=="-co"local boolean Unlock=DV9=="-unlock"local boolean EY9=DV9=="-disableselection"or DV9=="-ds"local boolean EZ9=DV9=="-enableselection"or DV9=="-es"local boolean EA9=DV9=="-sleep"local boolean EB9=DV9=="-calm"local boolean U38=DV9=="-st"local boolean EC9=DV9=="-nosanta"local boolean E39=SubString(DV9,0,10)=="-aiunstuck"local boolean E69=StringLength(DV9)>3 and SubString(DV9,0,3)=="-cs"local boolean EL9=StringLength(DV9)>3 and SubString(DV9,0,3)=="-ms"local boolean E19=DV9=="-aid"local boolean E09=DV9=="-override"local boolean E59=DV9=="-formless"local boolean E29=DV9=="-bastion"local boolean E_9=DV9=="-aimsg"local boolean F49=DV9=="-aimsgmiss"local boolean F79=(DV9=="-aiboard")local boolean F89=DV9=="-aiglyph"local boolean F99=((DV9=="-aishowde")or(DV9=="-aishowdg")or(DV9=="-aishowdedg")or(DV9=="-aishowdynamic"))call VJ7("FD9",DW9)call VJ7("FE9",DX9)call VJ7("FF9",DY9)call VJ7("FG9",DZ9)call VJ7("FH9",DA9)call VJ7("FI9",DB9)call VJ7("FJ9",DC9)call VJ7("FK9",D39)call VJ7("FM9",D69)call VJ7("FN9",DL9)call VJ7("FO9",D19)call VJ7("FP9",D09)call VJ7("FQ9",D59)call VJ7("FR9",D29)call VJ7("FS9",D_9)call VJ7("FT9",E49)call VJ7("FU9",E79)call VJ7("FV9",E89)call VJ7("FW9",E99)call VJ7("FX9",ED9)call VJ7("FY9",EE9)call VJ7("FZ9",EF9)call VJ7("FA9",EG9)call VJ7("FB9",EH9)call VJ7("FC9",EI9)call VJ7("F39",EJ9)call VJ7("F69",EK9)call VJ7("FL9",EM9)call VJ7("F19",EN9)call VJ7("F09",EO9)call VJ7("F59",EP9)call VJ7("F29",EQ9)call VJ7("F_9",ER9)call VJ7("G49",ES9)call VJ7("G79",ET9)call VJ7("G89",EU9)call VJ7("G99",EW9)call VJ7("GD9",EV9)call VJ7("GE9",EX9)call VJ7("GF9",EY9)call VJ7("GG9",EZ9)call VJ7("GH9",EA9)call VJ7("GI9",U38)call VJ7("GJ9",EB9)call VJ7("GK9",EC9)call VJ7("GM9",E69)call VJ7("GN9",EL9)call VJ7("GO9",E19)call VJ7("GP9",E39)call VJ7("GQ9",E09)call VJ7("GR9",E59)call VJ7("GS9",E29)call VJ7("GT9",E_9)call VJ7("GU9",F49)call VJ7("GV9",F79)call VJ7("GW9",F89)call VJ7("GX9",F99)endfunctionfunction GT9 takes nothing returns nothinglocal integer O5=GetPlayerId(GetTriggerPlayer())set LO4[O5]=(not LO4[O5])call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"AI messaging is turned "+IG7(LO4[O5],"|c009090ffon|r","|c00ff9090off|r"))endfunctionfunction GU9 takes nothing returns nothinglocal integer O5=GetPlayerId(GetTriggerPlayer())set LO4[16+O5]=(not LO4[16+O5])call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"AI missing hero report is turned "+IG7(LO4[16+O5],"|c009090ffon|r","|c00ff9090off|r"))if(LO4[16+O5])and(not LO4[O5])thencall GT9()endifendfunctionfunction GY9 takes player p returns nothinglocal integer O5=GetPlayerId(p)if p==QK4 thenset E47=not E47call DisplayTimedTextToForce(W7,10.,"AI auto-glyph is turned "+IG7(E47,"|c009090ffon|r","|c00ff9090off|r"))if not E47 thencall DisplayTimedTextToForce(W7,10.,"  AI will remind human players instead to use |c00ffcc00Glyph of Fortification|r")endifcall DisplayTimedTextToForce(W7,10.," ")elseif p==QM4 thenset E77=not E77call DisplayTimedTextToForce(X7,10.,"AI auto-glyph is turned "+IG7(E77,"|c009090ffon|r","|c00ff9090off|r"))if not E77 thencall DisplayTimedTextToForce(X7,10.,"  AI will remind human players instead to use |c00ffcc00Glyph of Fortification|r")endifcall DisplayTimedTextToForce(X7,10.," ")endifset p=nullendfunctionfunction GW9 takes nothing returns nothingcall GY9(GetTriggerPlayer())endfunctionfunction G89 takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),10,StringLength(GetEventPlayerChatString())))local integer D5=GetPlayerId(GetTriggerPlayer())set Rw[D5]=Rw[D5]+1if Rw[D5]>10 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName(('n0DQ'))))returnendifif a<1 or a>8 thenset a=GetRandomInt(1,8)endifif a==1 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna give you up")elseif a==2 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna let you down")elseif a==3 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna run around")elseif a==4 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna desert you")elseif a==5 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna make you cry")elseif a==6 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna say goodbye")elseif a==7 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna tell a lie")elseif a==8 thencall S_7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r's never gonna hurt you")endifendfunctionfunction GH9 takes nothing returns nothingcall SetUnitAnimation(G7[GetPlayerId(GetTriggerPlayer())],"sleep")endfunctionfunction GJ9 takes nothing returns nothingcall SetUnitAnimationByIndex(G7[GetPlayerId(GetTriggerPlayer())],23)endfunctionfunction GK9 takes nothing returns nothingif G7[GetPlayerId(GetTriggerPlayer())]!=null thenset O64[GetPlayerId(GetTriggerPlayer())]=1call UnitRemoveAbility(G7[GetPlayerId(GetTriggerPlayer())],'A2KJ')endifendfunctionfunction GD9 takes nothing returns nothingif KT[GetPlayerId(GetTriggerPlayer())]==false thenset KT[GetPlayerId(GetTriggerPlayer())]=trueif(GetObjectName(('n0HH')))=="Language: English" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"You have activated the -tips system.")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,"Please remember that these are just introductory recommendations and are not the only way to play heroes.")endifif G7[GetPlayerId(GetTriggerPlayer())]!=null thencall ZC7(GetTriggerPlayer(),GetUnitPointValue(G7[GetPlayerId(GetTriggerPlayer())]))endifendifendfunctionfunction GZ9 takes nothing returns booleanif D9==false thenreturn falseendifif T4[GetPlayerId(lx)]==true thenreturn falseendifif J==false thenreturn falseendifif G7[GetPlayerId(lx)]!=null and F9==false thenreturn falseendifif I[GetPlayerId(lx)]==true thenreturn falseendifif Tx[GetPlayerId(lx)]and F9==false thenreturn falseendifif F9 and eo[GetPlayerId(lx)]thenreturn falseendifreturn trueendfunctionfunction GA9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local string GB9=N87(NO7,"string")set lx=pif GZ9()thenset T4[GetPlayerId(p)]=trueif GB9=="-random int" thencall SX7(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elseif GB9=="-random str" thencall SB7(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elseif GB9=="-random agi" thencall SC7(p)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)-100)elsecall S37(p)endifelsecall DisplayTimedTextToPlayer(p,0,L8,10,(GetObjectName(('n079'))))endifset t=nullset p=nullreturn falseendfunctionfunction FD9 takes nothing returns nothinglocal player j8=GetTriggerPlayer()local trigger tset lx=j8if GZ9()and oo[GetPlayerId(j8)]==false thenset oo[GetPlayerId(j8)]=truecall R57(j8)call DisplayTimedTextToPlayer(j8,0,L8,10,(GetObjectName(('n07A'))))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function GA9))call MM7(GetHandleId(t),"p",j8)call MD7(GetHandleId(t),"string",StringCase(GetEventPlayerChatString(),false))endifset t=nullendfunctionfunction GC9 takes nothing returns booleanlocal unit TX7=G7[GetPlayerId(GetTriggerPlayer())]if PE4 thencall VH7(GetTriggerPlayer(),(GetObjectName(('n030'))))return falseendifif E9==false thenif PT==false and Y8==false and O34==false and tW==false and O04==false and O54==false and F9==false and R8==false thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,"-repick "+(GetObjectName(('n05B'))))endifreturn falseendifif(I[GetPlayerId(GetTriggerPlayer())]==true)thenreturn falseendifif(G7[GetPlayerId(GetTriggerPlayer())]==null)thenreturn falseendifif W or Y8 or F9 or RJ4 thenreturn falseendifif(G9==true)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n050'))))return falseendifif(GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<V4)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n059'))))return falseendifif GetPlayerState(GetTriggerPlayer(),PLAYER_STATE_RESOURCE_GOLD)<350 and L or W8 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n05U'))))return falseendifif GetUnitState(TX7,UNIT_STATE_MANA)!=GetUnitState(TX7,UNIT_STATE_MAX_MANA)or GetUnitState(TX7,UNIT_STATE_LIFE)!=GetUnitState(TX7,UNIT_STATE_MAX_LIFE)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n05J'))))return falseendifreturn trueendfunctionfunction G39 takes nothing returns nothingif(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true)thenif(GetUnitTypeId(GetEnumUnit())=='U006')thencall ExecuteFunc("T78")elseif GetUnitTypeId(GetEnumUnit())=='U008' or GetUnitTypeId(GetEnumUnit())=='E015' thenset J84=GetEnumUnit()call ExecuteFunc("T08")endifcall S_7(M4(GetTriggerPlayer()),10.00,(GetObjectName(('n05L')))+" "+TP7(GetEnumUnit())+".")endifif(GetUnitTypeId(GetEnumUnit())=='n004')thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())=='n018')thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())=='n01C')thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())=='n01G')thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction G69 takes nothing returns nothinglocal player j8=GetTriggerPlayer()local group B47=TL7()local integer SY7local integer SZ7local location SA7local integer SF7local integer T8local integer U8local unit GL9local location BE7=GetRectCenter(pr)local location BF7=GetRectCenter(qr)set bj_groupEnumOwningPlayer=j8call GroupEnumUnitsInRect(B47,GetWorldBounds(),filterGetUnitsInRectOfPlayer)if(Q_7(j8)==true)thenset SY7=MG4set SZ7=MH4set SA7=GetRectCenter(C9)elseset SY7=MI4set SZ7=MJ4set SA7=GetRectCenter(B9)endifif B thenif(GetRandomInt(1,2)==1)thenset SY7=MG4set SZ7=MH4elseset SY7=MI4set SZ7=MJ4endifendifif L or W8 thenset V4=100endifset GL9=MZ7(GetHandleId(GetTriggerPlayer()),"ChargeUnit")if GL9!=null and GetUnitTypeId(GL9)=='e00C' thencall RemoveUnit(GL9)set GL9=nullendifcall AdjustPlayerStateBJ(-1*V4,j8,PLAYER_STATE_RESOURCE_GOLD)set I[GetPlayerId(j8)]=truecall ForGroup(B47,function G39)call VW7(G7[GetPlayerId(j8)])set G7[GetPlayerId(GetTriggerPlayer())]=nullif L or W8 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,60,(GetObjectName(('N05Y'))))if L thenset T8=MG4set U8=MJ4endifif Q_7(j8)thenif W8 thenset T8=MG4set U8=MH4call CreateUnitAtLoc(j8,'n00C',BE7,bj_UNIT_FACING)elsecall CreateUnitAtLoc(j8,'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(j8,'n00C',BF7,bj_UNIT_FACING)endifcall PanCameraToTimedLocForPlayer(j8,BE7,0)elseif W8 thenset T8=MI4set U8=MJ4call CreateUnitAtLoc(j8,'n00C',BF7,bj_UNIT_FACING)elsecall CreateUnitAtLoc(j8,'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(j8,'n00C',BF7,bj_UNIT_FACING)endifcall PanCameraToTimedLocForPlayer(j8,BF7,0)endifloopexitwhen T8>U8if v[T8]==false thencall SetPlayerTechMaxAllowed(j8,ME4[T8],1)endifset T8=T8+1endloopcall T67(B47)set B47=nullcall RemoveLocation(SA7)set SA7=nullcall RemoveLocation(BE7)set BE7=nullcall RemoveLocation(BF7)set BF7=nullreturnendifloopset SF7=GetRandomInt(SY7,SZ7)if(v[SF7]==false)thenset v[SF7]=trueset G7[GetPlayerId(j8)]=CreateUnitAtLoc(j8,ME4[SF7],SA7,bj_UNIT_FACING)call R07(ME4[SF7])endifexitwhen G7[GetPlayerId(GetTriggerPlayer())]!=nullendloopcall T67(B47)set B47=nullcall RemoveLocation(SA7)set SA7=nullcall RemoveLocation(BE7)set BE7=nullcall RemoveLocation(BF7)set BF7=nullendfunctionfunction FE9 takes nothing returns nothingif GC9()thencall G69()endifendfunctionfunction FF9 takes nothing returns nothinglocal player j8=GetTriggerPlayer()local string G19="|c006699CC"if O04 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"League Mode"+"|r:      "+(GetObjectName(('n075'))))endifif O54 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Extended League"+"|r:      "+(GetObjectName(('n07B'))))call DisplayTimedTextToPlayer(j8,0,L8,20,"                                 "+(GetObjectName(('n070'))))endifif W thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Death Match"+"|r:        "+(GetObjectName(('n06Z'))))call DisplayTimedTextToPlayer(j8,0,L8,20,"                              "+(GetObjectName(('n06Y')))+" "+I2S(VY7(MH4,MJ4-MI4+1))+" "+(GetObjectName(('n07C'))))endifif R8 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Mirror Match"+"|r:       "+(GetObjectName(('n06W'))))endifif L thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"All Pick"+"|r:                 "+(GetObjectName(('n06V'))))endifif O34 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Random Draft"+"|r:                 "+(GetObjectName(('n072'))))endifif PT thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Single Draft"+"|r:                 "+(GetObjectName(('n07G'))))endifif B thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"All Random"+"|r:          "+(GetObjectName(('n071'))))endifif Y8 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Vote Random"+"|r:         "+(GetObjectName(('n074'))))endifif C thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Team Random"+"|r:     "+(GetObjectName(('n06M'))))endifif F9 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Reverse"+"|r:                 "+(GetObjectName(('n073'))))endifif ge thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Shuffle Players"+"|r:     "+(GetObjectName(('n07H'))))endifif Rx thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"All Agility"+"|r:             "+(GetObjectName(('n07L'))))endifif bx thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"All Strength"+"|r:         "+(GetObjectName(('n07K'))))endifif Nx thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"All Intelligence"+"|r:    "+(GetObjectName(('n07J'))))endifif Jj thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Range Only"+"|r:    "+(GetObjectName(('n0G4'))))endifif lj thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Melee Only"+"|r:    "+(GetObjectName(('n0G5'))))endifif V8 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Duplicate Mode"+"|r:   "+(GetObjectName(('n07I'))))endifif D4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Item Drop"+"|r:             "+(GetObjectName(('n07F'))))endifif X4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Powerups"+"|r:        "+(GetObjectName(('n07M'))))endifif Y4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Super Creeps"+"|r:        "+(GetObjectName(('n07N'))))call DisplayTimedTextToPlayer(j8,0,L8,20,"                             "+(GetObjectName(('n07O'))))endifif W4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Easy Mode"+"|r:           "+(GetObjectName(('n07T'))))endifif IJ4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Same Hero"+"|r:           "+(GetObjectName(('n07U')))+" "+(M74[GetPlayerId((Le))])+"|r"+" "+(GetObjectName(('n07W'))))endifif P44 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Only Mid"+"|r:           "+(GetObjectName(('n080'))))endifif P74 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Bot"+"|r:           "+(GetObjectName(('n07V'))))endifif P84 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Mid"+"|r:           "+(GetObjectName(('n07S'))))endifif P94 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Top"+"|r:           "+(GetObjectName(('n07R'))))endifif PD4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Swap"+"|r:           "+(GetObjectName(('n07X'))))endifif PE4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"No Repick"+"|r:           "+(GetObjectName(('n07Q'))))endifif PF4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Pool Mode"+"|r:           "+(GetObjectName(('n07Y'))))endifif PG4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Observer Info"+"|r:           "+(GetObjectName(('n07Z'))))endifif bN thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Mini Heroes"+"|r:           "+(GetObjectName(('n0EC'))))endifif OS thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Fast Respawn"+"|r:           "+(GetObjectName(('n0DP'))))endifif RA4 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Captains Mode"+"|r:           "+(GetObjectName(('n0ED'))))endifif YS thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Experimental Runes"+"|r:           "+(GetObjectName(('n0G6'))))endifif tW thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Captains Draft"+"|r:           "+(GetObjectName(('n0GF'))))endifif W8 thencall DisplayTimedTextToPlayer(j8,0,L8,20,G19+"Normal Mode"+"|r:        "+(GetObjectName(('n07P'))))endifif TT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Super Tower|r:         Towers regenerates HP")endifif UT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Modified Super Creeps|r:  An improved version of Super Creeps")endifif VT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"High Exp AI|r:            The AI has increased experience gain.")endifif XT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Normal Exp AI|r:       The AI receives the default amount of experience.")endifif ZT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Dynamic Exp AI|r:       AI gets bonus exp rate on death or on a period without death/kill/assist. Bonus exp is reduced on kill/assist.")endifif WT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"High Gold AI|r:           The AI has increased gold gain.")endifif QT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Normal Gold AI|r:      The AI receives the default amount of gold.")endifif AT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Dynamic Gold AI|r:       AI gets bonus gold rate on death or on a period without death/kill/assist. Bonus gold rate reduced on kill/assist.")endifif S04 thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"Cool Names|r:          The AI receives a random cool name.")endifif S54 thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"All Dagon|r:          The AI receives random level Dagon at random times.")endifif RT thencall DisplayTimedTextToPlayer(j8,0,L8,20,EV7+"No Necronomicon|r:    The AI will not build Necronomicon.")endifendfunctionfunction P5 takes nothing returns nothingif((GetUnitTypeId(GetEnumUnit())=='n004')or(GetUnitTypeId(GetEnumUnit())=='o003'))thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction G09 takes unit u1,unit u2 returns nothinglocal player G59=GetOwningPlayer(u1)local player G29=GetOwningPlayer(u2)local unit G_9=CreateUnit(G59,'e01F',0,0,0)local group glocal item H49local integer H79set H79=UI4[GetPlayerId(G59)]set UI4[GetPlayerId(G59)]=UI4[GetPlayerId(G29)]set UI4[GetPlayerId(G29)]=H79call DisableTrigger(HR4)if GetUnitAbilityLevel(u1,'A03E')>0 thenset B2=u1set C2=u2call ExecuteFunc("H89")elseif GetUnitAbilityLevel(u2,'A03E')>0 thenset B2=u2set C2=u1call ExecuteFunc("H89")endifif GetUnitAbilityLevel(u1,'A0CY')>0 thenset B2=u1set C2=u2call ExecuteFunc("H99")elseif GetUnitAbilityLevel(u2,'A0CY')>0 thenset B2=u2set C2=u1call ExecuteFunc("H99")endifif GetUnitAbilityLevel(u1,'A13T')>0 thenset B2=u1set C2=u2call ExecuteFunc("HD9")elseif GetUnitAbilityLevel(u2,'A13T')>0 thenset B2=u2set C2=u1call ExecuteFunc("HD9")endifcall K_7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))))call K_7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))))set g=TL7()set bj_groupEnumOwningPlayer=G59call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(g,function P5)call T67(g)set g=TL7()set bj_groupEnumOwningPlayer=G29call GroupEnumUnitsInRect(g,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(g,function P5)call T67(g)call SetUnitOwner(u2,G59,true)call SetUnitOwner(u1,G29,true)set G7[GetPlayerId(G59)]=u2set G7[GetPlayerId(G29)]=u1if R97(G59)thencall SetPlayerName(G59,S57(G59))elsecall SetPlayerName(G59,S57(G59)+" ("+TP7(G7[GetPlayerId(G59)])+")")endifif R97(G29)thencall SetPlayerName(G29,S57(G29))elsecall SetPlayerName(G29,S57(G29)+" ("+TP7(G7[GetPlayerId(G29)])+")")endifcall UnitAddItem(G_9,UnitItemInSlot(u2,0))call UnitAddItem(G_9,UnitItemInSlot(u2,1))call UnitAddItem(G_9,UnitItemInSlot(u2,2))call UnitAddItem(G_9,UnitItemInSlot(u2,3))call UnitAddItem(G_9,UnitItemInSlot(u2,4))call UnitAddItem(G_9,UnitItemInSlot(u2,5))set H49=UnitItemInSlot(u1,0)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(u1,1)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(u1,2)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(u1,3)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(u1,4)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(u1,5)if H49!=null thencall SetItemPlayer(H49,G59,false)call SetItemUserData(H49,1)call UnitAddItem(u2,H49)endifset H49=UnitItemInSlot(G_9,0)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifset H49=UnitItemInSlot(G_9,1)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifset H49=UnitItemInSlot(G_9,2)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifset H49=UnitItemInSlot(G_9,3)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifset H49=UnitItemInSlot(G_9,4)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifset H49=UnitItemInSlot(G_9,5)if H49!=null thencall SetItemPlayer(H49,G29,false)call SetItemUserData(H49,1)call UnitAddItem(u1,H49)endifcall RemoveUnit(G_9)call EnableTrigger(HR4)if(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)=='H06S')and KO7(u1,OU[GB])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[GB]))elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)=='H06S')and KO7(u1,OU[BA])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[BA]))endifif(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true or GetUnitTypeId(u1)=='H06S')and KO7(u2,OU[GB])!=null thencall UnitRemoveItem(u1,KO7(u2,OU[GB]))elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true or GetUnitTypeId(u1)=='H06S')and KO7(u2,OU[BA])!=null thencall UnitRemoveItem(u1,KO7(u2,OU[BA]))endifif GetUnitTypeId(u1)=='H06S' and KO7(u1,OU[BA])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[BA]))elseif GetUnitTypeId(u1)=='H06S' and KO7(u1,OU[GB])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[GB]))endifif GetUnitTypeId(u2)=='H06S' and KO7(u2,OU[BA])!=null thencall UnitRemoveItem(u2,KO7(u2,OU[BA]))elseif GetUnitTypeId(u2)=='H06S' and KO7(u2,OU[GB])!=null thencall UnitRemoveItem(u2,KO7(u2,OU[GB]))endifif(IsUnitType(u1,UNIT_TYPE_MELEE_ATTACKER)==true)and KO7(u1,OU[ED4])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[ED4]))elseif(IsUnitType(u1,UNIT_TYPE_RANGED_ATTACKER)==true)and KO7(u1,OU[E94])!=null thencall UnitRemoveItem(u1,KO7(u1,OU[E94]))endifif(IsUnitType(u2,UNIT_TYPE_MELEE_ATTACKER)==true)and KO7(u2,OU[ED4])!=null thencall UnitRemoveItem(u1,KO7(u2,OU[ED4]))elseif(IsUnitType(u2,UNIT_TYPE_RANGED_ATTACKER)==true)and KO7(u2,OU[E94])!=null thencall UnitRemoveItem(u1,KO7(u2,OU[E94]))endifcall ClearSelectionForPlayer(G59)call SelectUnitAddForPlayer(u2,G59)call ClearSelectionForPlayer(G29)call SelectUnitAddForPlayer(u1,G29)call K_7(StringHash("SwapHero|"+I2S(GetPlayerId(G59))))call K_7(StringHash("SwapHero|"+I2S(GetPlayerId(G29))))set I04=u1call ExecuteFunc("NK8")set I04=u2call ExecuteFunc("NK8")call A97(G59)call A97(G29)if(GetPlayerController(G29)==MAP_CONTROL_COMPUTER)thencall MF7(QC4,"AIHSwap|U",u1)call ExecuteFunc("Uf")endifset G59=nullset G29=nullset g=nullset G_9=nullset H49=nullendfunctionfunction yM takes unit u1,unit u2 returns booleanreturn N77(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u2)))),I2S(GetUnitTypeId(u2))+"|"+I2S(GetUnitTypeId(u1)))endfunctionfunction YL takes nothing returns nothingcall K_7(StringHash("SwapHero|"+I2S(GetPlayerId(GetTriggerPlayer()))))endfunctionfunction qA takes player p returns integerlocal integer i=1loopexitwhen i>5if Y7[i]==p or Z7[i]==p thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction YT takes unit u1,unit u2 returns booleancall ME7(StringHash("SwapHero|"+I2S(GetPlayerId(GetOwningPlayer(u1)))),I2S(GetUnitTypeId(u1))+"|"+I2S(GetUnitTypeId(u2)),true)if yM(u1,u2)thencall G09(u1,u2)elsecall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,30,"  ")call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,30,"|cff99ccffYou have requested to swap with |r"+K[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r")call DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,30,"  ")if(GetPlayerController(GetOwningPlayer(u2))==MAP_CONTROL_USER)thencall DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,L8,30,"  ")call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,L8,30,"                         "+K[GetPlayerId(GetOwningPlayer(u1))]+GetUnitName(u1)+"|r |cff99ccffwants to swap with you. Type|r |c00ff0303-swap "+I2S(qA(GetOwningPlayer(u1)))+"|r |cff99ccffto accept|r")call DisplayTimedTextToPlayer(GetOwningPlayer(u2),0,L8,30,"  ")elseif(GetHeroSkillPoints(u1)!=GetHeroLevel(u1))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,10,"
                |cff99ccffRequest to swap with |r"+K[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you used a skill point")elseif(Bz>P04)thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,10,"
                |cff99ccffRequest to swap with |r"+K[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it is too late")elseif((hG[GetPlayerId(GetOwningPlayer(u2))]>0)or(not KM7(u2)))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,10,"
                |cff99ccffRequest to swap with |r"+K[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because it already started its item build")elseif(not KM7(u1))thencall DisplayTimedTextToPlayer(GetOwningPlayer(u1),0,L8,10,"
                |cff99ccffRequest to swap with |r"+K[GetPlayerId(GetOwningPlayer(u2))]+GetUnitName(u2)+"|r rejected because you have an item")elsecall G09(u1,u2)endifendifendifreturn falseendfunctionfunction YV takes nothing returns nothinglocal integer i=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))if GetEventPlayerChatString()=="-swapall" thenset i=1set I_4=G7[GetPlayerId(GetTriggerPlayer())]loopexitwhen i>5if Q_7(GetTriggerPlayer())thenset J74=Y7[i]elseset J74=Z7[i]endifset I04=G7[GetPlayerId(J74)]if not(I_4==null or GetOwningPlayer(I_4)!=GetTriggerPlayer()or I04==null or GetOwningPlayer(I04)!=J74 or J74==GetTriggerPlayer())thenif YT(I_4,I04)thenreturnendifendifset i=i+1endloopreturnelseif i<1 or i>5 thencall VH7(GetTriggerPlayer(),"Invalid swap selection")returnendifset I_4=G7[GetPlayerId(GetTriggerPlayer())]if Q_7(GetTriggerPlayer())thenset J74=Y7[i]elseset J74=Z7[i]endifset I04=G7[GetPlayerId(J74)]if I_4==null or GetOwningPlayer(I_4)!=GetTriggerPlayer()or I04==null or GetOwningPlayer(I04)!=J74 or J74==GetTriggerPlayer()thencall VH7(GetTriggerPlayer(),"Invalid swap selection")returnendifcall YT(I_4,I04)endfunctionfunction Y2 takes nothing returns nothinglocal integer ilocal player plocal unit ulocal string sif GetLocalPlayer()==GetTriggerPlayer()thencall ClearTextMessages()endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45,"|cff99ccffSwap Hero Options:|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45," ")set i=1loopexitwhen i>5set p=Y7[i]set u=G7[GetPlayerId(p)]if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p thenset s=" "if yM(G7[GetPlayerId(GetTriggerPlayer())],u)thenset s=" |c00ff0303(Requested Swap With You)|r"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45,K[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)endifset p=Z7[i]set u=G7[GetPlayerId(p)]if IsPlayerAlly(GetTriggerPlayer(),p)and GetTriggerPlayer()!=p and u!=null and GetOwningPlayer(u)==p thenset s=" "if yM(G7[GetPlayerId(GetTriggerPlayer())],u)thenset s=" |c00ff0303(Requested Swap With You)|r"endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45,K[GetPlayerId(p)]+I2S(i)+"|r"+" - "+"|cff99ccff"+GetUnitName(u)+"|r"+s)endifset i=i+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45," ")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45,"|cff99ccffType|r |c00ff0303-swap #|r |cff99ccffto make a choice or -swapcancel to cancel swap requests|r")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,45," ")endfunctionfunction HE9 takes player MS8 returns booleanlocal integer HF9=1local integer HG9=0loopexitwhen HF9>5if Q_7(MS8)thenif G7[GetPlayerId(Y7[HF9])]!=null and Y7[HF9]!=MS8 and GetHeroLevel(G7[GetPlayerId(Y7[HF9])])==1 thenset HG9=HG9+1endifelseif G7[GetPlayerId(Z7[HF9])]!=null and Z7[HF9]!=MS8 and GetHeroLevel(G7[GetPlayerId(Z7[HF9])])==1 thenset HG9=HG9+1endifendifset HF9=HF9+1endloopif HG9>0 thenreturn trueelsereturn falseendifendfunctionfunction HH9 takes nothing returns booleanif PD4 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,"-swaphero "+(GetObjectName(('n088'))))return falseendifif GetUnitState(G7[GetPlayerId(GetTriggerPlayer())],UNIT_STATE_LIFE)<1 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08F'))))return falseendifif OG4==true thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08G')))+" -swaphero.")return falseendifif HE9(GetTriggerPlayer())==false thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08H'))))return falseendifreturn trueendfunctionfunction FG9 takes nothing returns nothingif HH9()thenif GetEventPlayerChatString()=="-swap"or GetEventPlayerChatString()=="-swaphero"thencall Y2()elseif GetEventPlayerChatString()=="-swapcancel"thencall YL()elsecall YV()endifendifendfunctionfunction HI9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0FI'endfunctionfunction HJ9 takes integer o6,unit HK9,unit HM9 returns nothinglocal integer T8=1local integer U8=GetUnitAbilityLevel(HK9,o6)loopexitwhen T8>U8call SelectHeroSkill(HM9,o6)set T8=T8+1endloopendfunctionfunction HN9 takes nothing returns nothinglocal integer T8local integer U8local unit S4local location AK8=GetUnitLoc(GetTriggerUnit())set S4=CreateUnitAtLoc(GetOwningPlayer(GetTriggerUnit()),GetUnitTypeId(GetTriggerUnit()),AK8,bj_UNIT_FACING)call SetHeroXP(S4,GetHeroXP(GetTriggerUnit()),false)set T8=1set U8=GetUnitAbilityLevel(GetTriggerUnit(),'Aamk')loopexitwhen T8>U8call SelectHeroSkill(bj_lastCreatedUnit,'Aamk')set T8=T8+1endloopset T8=0set U8=5loopexitwhen T8>U8call UnitAddItem(S4,UnitItemInSlot(GetTriggerUnit(),T8))set T8=T8+1endloopif(GetUnitTypeId(GetTriggerUnit())=='Eevi')thencall HJ9('A04L',GetTriggerUnit(),S4)call HJ9('A0H4',GetTriggerUnit(),S4)call HJ9('AEvi',GetTriggerUnit(),S4)call HJ9('A07Q',GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())=='U008')thencall HJ9('A03D',GetTriggerUnit(),S4)call HJ9('A02G',GetTriggerUnit(),S4)call HJ9('A03E',GetTriggerUnit(),S4)call HJ9('A093',GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())=='U007')thencall HJ9('A0F9',GetTriggerUnit(),S4)call HJ9('A06Y',GetTriggerUnit(),S4)call HJ9('A01E',GetTriggerUnit(),S4)call HJ9('A028',GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())=='Hlgr')thencall HJ9('A03G',GetTriggerUnit(),S4)call HJ9('A03F',GetTriggerUnit(),S4)call HJ9('A0O3',GetTriggerUnit(),S4)call HJ9('AEim',GetTriggerUnit(),S4)endifif(GetUnitTypeId(GetTriggerUnit())=='Ekee')thencall HJ9('A20T',GetTriggerUnit(),S4)call HJ9('A06W',GetTriggerUnit(),S4)call HJ9('A06V',GetTriggerUnit(),S4)call HJ9('A21F',GetTriggerUnit(),S4)endifcall VW7(GetTriggerUnit())call RemoveLocation(AK8)set G7[GetPlayerId(GetOwningPlayer(S4))]=S4endfunctionfunction HO9 takes nothing returns booleanlocal integer HP9=GetUnitTypeId(G7[GetPlayerId(GetTriggerPlayer())])return(HP9=='U008' or HP9=='U007' or HP9=='Hlgr' or HP9=='Eevi' or HP9=='Ekee')and(RectContainsUnit(ED,G7[GetPlayerId(GetTriggerPlayer())])or RectContainsUnit(FD,G7[GetPlayerId(GetTriggerPlayer())]))endfunctionfunction HQ9 takes nothing returns nothinglocal unit TX7=G7[GetPlayerId(GetTriggerPlayer())]call UnitAddAbility(TX7,'A0FI')call IssueImmediateOrder(TX7,"chemicalrage")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,120.00,"|c00ff0303"+(GetObjectName(('n08I')))+" "+TP7(GetEnumUnit())+". "+(GetObjectName(('n08J')))+"|r")endfunctionfunction FH9 takes nothing returns nothingif HO9()thencall HQ9()endifendfunctionfunction HR9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer RU8=GetTriggerEvalCount(t)local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or RU8>60 thenif NF7(TX7,"Frozen")==false thenif Q_7(GetOwningPlayer(TX7))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifcall SetUnitPosition(TX7,x,y)call PauseUnit(TX7,false)endifcall K_7(NO7)call NM7(t)elsecall PauseUnit(TX7,true)endifset t=nullset TX7=nullreturn falseendfunctionfunction HS9 takes player p returns nothinglocal unit TX7=G7[GetPlayerId(p)]local trigger tif UY7(TX7)==false thenset t=CreateTrigger()call DisplayTimedTextToPlayer(p,0,L8,30.0,(GetObjectName(('n08K'))))call UnitRemoveBuffs(TX7,true,false)call UnitRemoveAbility(TX7,'Bcyc')call UnitRemoveAbility(TX7,'Bcy2')call UnitRemoveAbility(TX7,'B02J')call UnitRemoveAbility(TX7,'BUsp')call UnitRemoveAbility(TX7,'Bust')call UnitRemoveAbility(TX7,'B02F')call PauseUnit(TX7,true)call TriggerRegisterTimerEvent(t,1.,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HR9))call MF7(GetHandleId(t),"Hero",TX7)endifset p=nullset TX7=nullset t=nullendfunctionfunction HT9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")call K_7(NO7)call NM7(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall HS9(p)endifset t=nullreturn falseendfunctionfunction FI9 takes nothing returns nothinglocal player p=GetTriggerPlayer()local unit TX7=G7[GetPlayerId(p)]local trigger tif UY7(TX7)==false thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,3.5,false)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function HT9))call MM7(GetHandleId(t),"p",p)endifset p=nullset TX7=nullset t=nullendfunctionfunction HU9 takes player p returns nothinglocal unit TX7=G7[GetPlayerId(p)]local trigger tif UY7(TX7)==false thenset t=CreateTrigger()call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,30.0,K[GetPlayerId(p)]+GetPlayerName(p)+"|r is being unstuck. It will be sent to its base in 60 seconds.")call UnitRemoveBuffs(TX7,true,false)call UnitRemoveAbility(TX7,'Bcyc')call UnitRemoveAbility(TX7,'Bcy2')call UnitRemoveAbility(TX7,'B02J')call UnitRemoveAbility(TX7,'BUsp')call UnitRemoveAbility(TX7,'Bust')call UnitRemoveAbility(TX7,'B02F')call PauseUnit(TX7,true)call TriggerRegisterTimerEvent(t,1.,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HR9))call MF7(GetHandleId(t),"Hero",TX7)endifset p=nullset TX7=nullset t=nullendfunctionfunction GP9 takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=J37(S2I(SubString(VH,10,StringLength(VH))))if((pl!=null)and(RD7(pl))and(IsPlayerInForce(pl,QP4)))thenif(G7[GetPlayerId(pl)]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")elsecall HU9(pl)endifendifset pl=nullendfunctionfunction HV9 takes player p returns stringlocal string s=X9[GetPlayerId(p)]if X9[GetPlayerId(p)]!="Here" thenreturn" |c00ff0303("+(GetObjectName(('n089')))+" at "+SubString(s,10,StringLength(s))+"|c00ff0303)|r"endifreturn" "endfunctionfunction FJ9 takes nothing returns nothinglocal integer T8=1local integer U8=5local integer D5call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,20," ")if(R47(GetTriggerPlayer())==true)thenloopexitwhen T8>U8set D5=GetPlayerId(Y7[T8])if(G7[D5]!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,20,K[D5]+(M74[GetPlayerId((Y7[T8]))])+"|r "+(GetObjectName(('n08M')))+" "+GetUnitName(G7[D5])+" ("+(GetObjectName(('n08L')))+" "+I2S(GetUnitLevel(G7[D5]))+")"+HV9(Y7[T8]))endifset T8=T8+1endloopelseloopexitwhen T8>U8set D5=GetPlayerId(Z7[T8])if(G7[D5]!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,20,K[D5]+(M74[GetPlayerId((Z7[T8]))])+"|r "+(GetObjectName(('n08M')))+" "+GetUnitName(G7[D5])+" ("+(GetObjectName(('n08L')))+" "+I2S(GetUnitLevel(G7[D5]))+")"+HV9(Z7[T8]))endifset T8=T8+1endloopendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,20," ")endfunctionfunction HW9 takes unit u returns booleanreturn GetUnitTypeId(u)=='N01O' or GetUnitTypeId(u)=='N013' or GetUnitTypeId(u)=='N014' or GetUnitTypeId(u)=='N015'endfunctionfunction HX9 takes unit u returns unitlocal integer V_7=GetHandleId(GetOwningPlayer(u))return(MZ7(V_7,"MyBear"))endfunctionfunction FK9 takes nothing returns nothinglocal unit ulocal integer i=0if X34 thenreturnendifif(G7[GetPlayerId(GetTriggerPlayer())]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n08A'))))elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetUnitName(G7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName(('n08N')))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(G7[GetPlayerId(GetTriggerPlayer())]))))if HW9(G7[GetPlayerId(GetTriggerPlayer())])thenset u=HX9(G7[GetPlayerId(GetTriggerPlayer())])if u!=null thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetUnitName(u)+" "+(GetObjectName(('n08N')))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))endifendifendifendfunctionfunction FM9 takes nothing returns nothinglocal unit ulocal integer i=0if X34 thenreturnendifif(G7[GetPlayerId(GetTriggerPlayer())]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n08A'))))elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetUnitName(G7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName(('n08N')))+" "+I2S(R2I(0.5+GetUnitMoveSpeed(G7[GetPlayerId(GetTriggerPlayer())]))))if HW9(G7[GetPlayerId(GetTriggerPlayer())])thenset u=HX9(G7[GetPlayerId(GetTriggerPlayer())])if u!=null thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetUnitName(u)+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))endifendifendifloopexitwhen i>16set u=G7[i]if u!=null and u!=G7[GetPlayerId(GetTriggerPlayer())]and IsUnitAlly(u,GetTriggerPlayer())==true thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetUnitName(u)+" "+GetObjectName('n08N')+" "+I2S(R2I(0.5+GetUnitMoveSpeed(u))))endifset i=i+1endloopendfunctionfunction FN9 takes nothing returns nothingcall ME7(GetHandleId(GetTriggerPlayer()),"DisableHelp",true)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08R'))))endfunctionfunction FO9 takes nothing returns nothingcall ME7(GetHandleId(GetTriggerPlayer()),"DisableHelp",false)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08O'))))endfunctionfunction FP9 takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,"   "+(GetObjectName(('n08P')))+" "+I2S(P7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName(('n08Q')))+" "+I2S(T7[GetPlayerId(GetTriggerPlayer())])+" "+(GetObjectName(('n08S')))+" "+I2S(LT[GetPlayerId(GetTriggerPlayer())]))endfunctionfunction FQ9 takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())if(GetEventPlayerChatString()=="-cson")thenset AW[x]=trueset ob[x]=trueelseset AW[x]=falseset ob[x]=falseendifcall NU8()endfunctionfunction HY9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer i=(LoadInteger(C7,(NO7),(34)))local real xlocal real yif Ob[i]==false thencall FlushChildHashtable(C7,(NO7))call NM7(t)elseif G7[i]!=null and UY7(G7[i])==false thenset x=GetUnitX(G7[i])set y=GetUnitY(G7[i])call PanCameraToTimedForPlayer(Player(i),x,y,0)endifset t=nullreturn falseendfunctionfunction GE9 takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())local trigger tlocal integer NO7local integer iif Ob[x]==false and(GetEventPlayerChatString()=="-center" or GetEventPlayerChatString()=="-c")thenset Ob[x]=trueset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,true)call TriggerAddCondition(t,Condition(function HY9))call SaveInteger(C7,(NO7),(34),(x))call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0JW'))elseif GetEventPlayerChatString()=="-centeroff" or GetEventPlayerChatString()=="-co" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,GetObjectName('n0JX'))set Ob[x]=falseendifendfunctionfunction GF9 takes nothing returns nothingset Ab[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName('n0JZ'))endfunctionfunction GG9 takes nothing returns nothingset Ab[GetPlayerId(GetTriggerPlayer())]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5,GetObjectName('n0K0'))endfunctionfunction qL takes nothing returns nothinglocal integer i=1local integer XA8local integer IB7loopexitwhen i>5set IB7=GetPlayerId(Y7[i])set XA8=R2I(TimerGetRemaining(N[IB7]))if XA8>0 and OB4[IB7]and O24==false and C8==false thencall PlayerSetLeaderboard(Y7[i],gm[IB7])call LeaderboardDisplay(gm[IB7],true)call LeaderboardSetLabel(gm[IB7],"   Respawn in "+I2S(XA8)+" seconds")elsecall LeaderboardDisplay(gm[IB7],false)endifset IB7=GetPlayerId(Z7[i])set XA8=R2I(TimerGetRemaining(N[IB7]))if XA8>0 and OB4[IB7]and O24==false and C8==false thencall PlayerSetLeaderboard(Z7[i],gm[IB7])call LeaderboardDisplay(gm[IB7],true)call LeaderboardSetLabel(gm[IB7],"   Respawn in "+I2S(XA8)+" seconds")elsecall LeaderboardDisplay(gm[IB7],false)endifset i=i+1endloopendfunctionfunction qM takes nothing returns nothinglocal integer x=0set x=x+1set gm[GetPlayerId(Y7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[x],gm[GetPlayerId(Y7[x])])call LeaderboardDisplay(gm[GetPlayerId(Y7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Y7[x])],"Respawn: ")set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(Y7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[x],gm[GetPlayerId(Y7[x])])call LeaderboardDisplay(gm[GetPlayerId(Y7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Y7[x])],"Respawn: ")set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(Y7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[x],gm[GetPlayerId(Y7[x])])call LeaderboardDisplay(gm[GetPlayerId(Y7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Y7[x])],"Respawn: ")set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(Y7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[x],gm[GetPlayerId(Y7[x])])call LeaderboardDisplay(gm[GetPlayerId(Y7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Y7[x])],"Respawn: ")set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")set x=x+1set gm[GetPlayerId(Y7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Y7[x],gm[GetPlayerId(Y7[x])])call LeaderboardDisplay(gm[GetPlayerId(Y7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Y7[x])],"Respawn: ")set gm[GetPlayerId(Z7[x])]=CreateLeaderboard()call PlayerSetLeaderboard(Z7[x],gm[GetPlayerId(Z7[x])])call LeaderboardDisplay(gm[GetPlayerId(Z7[x])],false)call LeaderboardSetLabel(gm[GetPlayerId(Z7[x])],"Respawn: ")endfunctionfunction FW9 takes nothing returns nothinglocal integer x=GetPlayerId(GetTriggerPlayer())if GetEventPlayerChatString()=="-don" or GetEventPlayerChatString()=="-deathon" thenset OB4[x]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08W'))))elseset OB4[x]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08X'))))endifendfunctionfunction HZ9 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddAction(t,function qM)call TriggerRegisterTimerEvent(t,.5,false)set t=CreateTrigger()call TriggerAddAction(t,function qL)call TriggerRegisterTimerEvent(t,1.,true)endfunctionfunction FU9 takes nothing returns nothingif(GetEventPlayerChatString()=="-showdeny")thenset ob[GetPlayerId(GetTriggerPlayer())]=trueelseset ob[GetPlayerId(GetTriggerPlayer())]=falseendifendfunctionfunction FV9 takes nothing returns nothingcall VH7(GetTriggerPlayer(),(GetObjectName(('n0HG'))))endfunctionfunction HA9 takes nothing returns nothinglocal integer i=0loopexitwhen i>16set ob[i]=trueset AW[i]=trueset i=i+1endloopendfunctionfunction FR9 takes nothing returns nothingcall ForceRemovePlayer(B8,GetTriggerPlayer())call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08U'))))endfunctionfunction FS9 takes nothing returns nothingcall ForceAddPlayer(B8,GetTriggerPlayer())call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n08Z'))))endfunctionfunction qN takes nothing returns booleanlocal integer x=GetRandomInt(1,4)if x==1 thenset BW=boelseif x==2 thenset BW=Boelseif x==3 thenset BW=fLelseif x==4 thenset BW=FLendifif cW[GetPlayerId(GetLocalPlayer())]thencall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)call EnableWeatherEffect(BW,true)endifreturn falseendfunctionfunction qo takes nothing returns nothinglocal integer x=GetRandomInt(1,4)local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,300.,true)call TriggerAddCondition(t,Condition(function qN))set cW[GetPlayerId(Y7[1])]=falseset cW[GetPlayerId(Y7[2])]=falseset cW[GetPlayerId(Y7[3])]=falseset cW[GetPlayerId(Y7[4])]=falseset cW[GetPlayerId(Y7[5])]=falseset cW[GetPlayerId(Z7[1])]=falseset cW[GetPlayerId(Z7[2])]=falseset cW[GetPlayerId(Z7[3])]=falseset cW[GetPlayerId(Z7[4])]=falseset cW[GetPlayerId(Z7[5])]=falseif O8 thenset cW[GetPlayerId(K_4)]=falseset cW[GetPlayerId(M44)]=falseendifif x==1 thenset BW=boelseif x==2 thenset BW=Boelseif x==3 thenset BW=fLelseif x==4 thenset BW=FLendifset t=nullendfunctionfunction FT9 takes nothing returns nothinglocal string HB9=StringCase(GetEventPlayerChatString(),false)if bW==true thenset bW=falsecall qo()endifif HB9=="-weather snow" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,true)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif HB9=="-weather rain" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,true)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif HB9=="-weather moonlight" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,true)call EnableWeatherEffect(FL,false)endifif HB9=="-weather wind" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,true)endifif HB9=="-weather off" and GetLocalPlayer()==GetTriggerPlayer()thenset cW[GetPlayerId(GetTriggerPlayer())]=falsecall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)endifif HB9=="-weather random" thenset cW[GetPlayerId(GetTriggerPlayer())]=trueif GetLocalPlayer()==GetTriggerPlayer()thencall EnableWeatherEffect(bo,false)call EnableWeatherEffect(Bo,false)call EnableWeatherEffect(fL,false)call EnableWeatherEffect(FL,false)call EnableWeatherEffect(BW,true)endifendifendfunctionfunction FX9 takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))local integer D5=GetPlayerId(GetTriggerPlayer())set vb[D5]=vb[D5]+1if vb[D5]>20 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName(('n0DQ'))))returnendifif GetEventPlayerChatString()=="-rollon" or GetEventPlayerChatString()=="-rolloff" thenreturnendifif a==0 thenset a=100endifif a>0 and a<2001 thencall TC7(B8,5,K[GetPlayerId(GetTriggerPlayer())]+(M74[GetPlayerId((GetTriggerPlayer()))])+"|r "+(GetObjectName(('n05I')))+" "+I2S(GetRandomInt(1,a))+" "+(GetObjectName(('n05M')))+" "+I2S(a))elsecall VH7(GetTriggerPlayer(),(GetObjectName(('n02Y'))))endifendfunctionfunction G79 takes nothing returns nothinglocal integer aif GetRandomInt(1,2)==1 thenset a=GetRandomInt(MI4,MJ4)elseset a=GetRandomInt(MG4,MH4)endifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName(('n0GS')))+" "+TR7(a))endfunctionfunction F29 takes nothing returns nothinglocal integer a=S2I(SubString(GetEventPlayerChatString(),4,StringLength(GetEventPlayerChatString())))if GetTriggerPlayer()!=Y7[1]or a>2 or a<1 or RA4==false or TimerGetElapsed(P)>14 or AK4==true thenreturnendifset AP4=aset AQ4=aset AJ4=trueif a==1 thencall S_7(bj_FORCE_ALL_PLAYERS,15.00,K[GetPlayerId(Y7[1])]+(M74[GetPlayerId((Y7[1]))])+"|r "+GetObjectName('n0DS'))elsecall S_7(bj_FORCE_ALL_PLAYERS,15.00,K[GetPlayerId(Z7[1])]+(M74[GetPlayerId((Z7[1]))])+"|r "+GetObjectName('n0DS'))endifendfunctionfunction F69 takes nothing returns nothingset eb[GetPlayerId(GetTriggerPlayer())]=falseendfunctionfunction FL9 takes nothing returns nothingset eb[GetPlayerId(GetTriggerPlayer())]=trueendfunctionfunction FY9 takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n090'))))set ib[GetPlayerId(GetTriggerPlayer())]=trueif GetLocalPlayer()==GetTriggerPlayer()thencall SetPlayerName(Y7[1],(M74[GetPlayerId((Y7[1]))]))call SetPlayerName(Y7[2],(M74[GetPlayerId((Y7[2]))]))call SetPlayerName(Y7[3],(M74[GetPlayerId((Y7[3]))]))call SetPlayerName(Y7[4],(M74[GetPlayerId((Y7[4]))]))call SetPlayerName(Y7[5],(M74[GetPlayerId((Y7[5]))]))call SetPlayerName(Z7[1],(M74[GetPlayerId((Z7[1]))]))call SetPlayerName(Z7[2],(M74[GetPlayerId((Z7[2]))]))call SetPlayerName(Z7[3],(M74[GetPlayerId((Z7[3]))]))call SetPlayerName(Z7[4],(M74[GetPlayerId((Z7[4]))]))call SetPlayerName(Z7[5],(M74[GetPlayerId((Z7[5]))]))endifendfunctionfunction FZ9 takes nothing returns nothinglocal integer id=GetPlayerId(GetTriggerPlayer())if CW[id]==true thenset CW[id]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName(('n08T'))))elseset CW[id]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10,(GetObjectName(('n091'))))endifendfunctionfunction G99 takes nothing returns nothinglocal integer id=GetPlayerId(GetTriggerPlayer())set ab[id]=trueendfunctionfunction FA9 takes nothing returns nothinglocal integer i=1local player plocal real HC9loopexitwhen i>5set p=Y7[i]if RD7(p)thenset HC9=IT[GetPlayerId(p)]/(TimerGetElapsed(P))*60call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00,K[GetPlayerId(p)]+(M74[GetPlayerId((p))])+"|r"+" "+(GetObjectName(('n084')))+" "+R2S(HC9))endifset p=Z7[i]if RD7(p)thenset HC9=IT[GetPlayerId(p)]/(TimerGetElapsed(P))*60call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00,K[GetPlayerId(p)]+(M74[GetPlayerId((p))])+"|r"+" "+(GetObjectName(('n084')))+" "+R2S(HC9))endifset i=i+1endloopcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00," ")set p=nullendfunctionfunction FB9 takes nothing returns nothingcall XE7(GetTriggerPlayer())endfunctionfunction H39 takes nothing returns booleanreturn JS7(GetFilterUnit())and GetOwningPlayer(GetFilterUnit())==GetTriggerPlayer()endfunctionfunction Courier_Add takes nothing returns nothingcall UnitAddType(GetEnumUnit(),UNIT_TYPE_PEON)endfunctionfunction Courier_Remove takes nothing returns nothingcall UnitRemoveType(GetEnumUnit(),UNIT_TYPE_PEON)endfunctionfunction FC9 takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsInRange(g,0,0,12000,Condition(function H39))call T67(g)set g=nullendfunctionfunction F39 takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CV')))+" [|cffff0000E|r|cffff0000E|r|cffff0000E|r] - [|cffffcc00T|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CU')))+" [|cffff0000E|r|cffff0000E|r|cff00ffffW|r] - [|cffffcc00D|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CT')))+" [|cffff0000E|r|cffff0000E|r|cff0000ffQ|r] - [|cffffcc00F|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0C6')))+" [|cff0000ffQ|r|cff0000ffQ|r|cff0000ffQ|r] - [|cffffcc00Y|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CL')))+" [|cff0000ffQ|r|cff0000ffQ|r|cff00ffffW|r] - [|cffffcc00V|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CN')))+" [|cff0000ffQ|r|cff0000ffQ|r|cffff0000E|r] - [|cffffcc00G|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CS')))+" [|cff00ffffW|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00Z|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CO')))+" [|cff00ffffW|r|cff00ffffW|r|cff0000ffQ|r] - [|cffffcc00X|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CP')))+" [|cff00ffffW|r|cff00ffffW|r|cff00ffffW|r] - [|cffffcc00C|r]")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CQ')))+" [|cff0000ffQ|r|cff00ffffW|r|cffff0000E|r] - [|cffffcc00B|r]")endfunctionfunction H69 takes string s returns nothingcall StopMusic(true)call PlayMusic(s)endfunctionfunction F19 takes nothing returns nothinglocal string s=GetEventPlayerChatString()local integer SF7=GetRandomInt(1,OT)if GetLocalPlayer()==GetTriggerPlayer()thenif s=="-music off" thencall StopMusic(false)elseif s=="-music random" thencall H69(MT[SF7])elseif s=="-music nightelf1" thencall H69(VP)elseif s=="-music nightelf2" thencall H69(XP)elseif s=="-music nightelf3" thencall H69(YP)elseif s=="-music human1" thencall H69(ZP)elseif s=="-music human2" thencall H69(BP)elseif s=="-music human3" thencall H69(CP)elseif s=="-music orc1" thencall H69(OP)elseif s=="-music orc2" thencall H69(RP)elseif s=="-music orc3" thencall H69(TP)elseif s=="-music undead1" thencall H69(IP)elseif s=="-music undead2" thencall H69(JP)elseif s=="-music undead3" thencall H69(KP)elseif s=="-music other1" thencall H69(GQ)elseif s=="-music other2" thencall H69(IQ)elseif s=="-music other3" thencall H69(JQ)elseif s=="-music other4" thencall H69(YQ)elseif s=="-music other5" thencall H69(GR)elseif s=="-music other6"thencall H69(UO4)elseif s=="-music other7"thencall H69(UP4)elseif s=="-music other8"thencall H69(UQ4)elseif s=="-music other9"thencall H69(UR4)elseif s=="-music special" thencall H69(IR)elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0CW')))+" ")call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,"off, random, nightelf1, nightelf2, nightelf3, human1, human2, human3, orc1, orc2, orc3, undead1, undead2, undead3, other1, other2, other3, other4, other5, other6, other7, other8, other9, special")endifendifendfunctionfunction HL9 takes nothing returns booleanset OT=OT+1set MT[OT]=VPset OT=OT+1set MT[OT]=XPset OT=OT+1set MT[OT]=YPset OT=OT+1set MT[OT]=ZPset OT=OT+1set MT[OT]=BPset OT=OT+1set MT[OT]=CPset OT=OT+1set MT[OT]=OPset OT=OT+1set MT[OT]=RPset OT=OT+1set MT[OT]=TPset OT=OT+1set MT[OT]=IPset OT=OT+1set MT[OT]=JPset OT=OT+1set MT[OT]=KPset OT=OT+1set MT[OT]=GQset OT=OT+1set MT[OT]=IQset OT=OT+1set MT[OT]=JQset OT=OT+1set MT[OT]=YQset OT=OT+1set MT[OT]=GRset OT=OT+1set MT[OT]=UO4set OT=OT+1set MT[OT]=UP4set OT=OT+1set MT[OT]=UQ4set OT=OT+1set MT[OT]=UR4set OT=OT+1set MT[OT]=IRreturn falseendfunctionfunction H19 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function HL9))endfunctionfunction H09 takes player p,integer r,integer g,integer b,integer a returns nothingif GetLocalPlayer()==p thencall SetWaterBaseColor(r,g,b,a)endifendfunctionfunction H59 takes string s returns nothinglocal string H29=""local string H_9=""local string I49=""local integer i=0local integer ZA7=StringLength(s)local integer I79=1loopexitwhen i>ZA7if SubString(s,i,i+1)==" " thenset I79=I79+1elseif I79==1 thenset H29=H29+SubString(s,i,i+1)elseif I79==2 thenset H_9=H_9+SubString(s,i,i+1)elseset I49=I49+SubString(s,i,i+1)endifendifset i=i+1endloopset bb=S2I(H29)set Bb=S2I(H_9)set cb=S2I(I49)endfunctionfunction F09 takes nothing returns nothinglocal string I89=SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString()))local player p=GetTriggerPlayer()local integer rlocal integer glocal integer bset Nb[GetPlayerId(p)]=trueif I89=="red" thencall H09(p,255,0,0,255)elseif I89=="blue" thencall H09(p,0,0,255,255)elseif I89=="green" thencall H09(p,0,255,0,255)elseif I89=="default" thencall H09(p,0,0,255,255)elseif I89=="random" thenset r=GetRandomInt(0,255)set g=GetRandomInt(0,255)set b=GetRandomInt(0,255)call H09(p,r,g,b,255)call DisplayTimedTextToPlayer(p,0,0,5,(GetObjectName(('n0HD')))+" r="+I2S(r)+" g="+I2S(g)+" b="+I2S(b))elsecall H59(I89)set r=bbset g=Bbset b=cbif r>=0 and r<=255 and g>=0 and g<=255 and b>=0 and b<=255 thencall H09(p,r,g,b,255)endifendifendfunctionfunction F_9 takes nothing returns nothingcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00,"This command has been temporarily disabled")endfunctionfunction G49 takes nothing returns booleancall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,"Total Bonus XP/Gold: "+I2S(O84[GetPlayerId(GetTriggerPlayer())])+"/"+I2S(O94[GetPlayerId(GetTriggerPlayer())]))return falseendfunctionfunction GI9 takes nothing returns booleanif XX4>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetObjectName('n0LO')+": "+I2S(XX4))endifreturn falseendfunctionfunction I99 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ID9=M_7(NO7,"u1Index")local integer IE9=M_7(NO7,"u2Index")local unit u1=QL7(ID9)local unit u2=QL7(IE9)local real XP7=N47(NO7,"Duration")local lightning IF9=M17(NO7,"Lightning")if I2R(GetTriggerEvalCount(t))*0.025>XP7 thencall DestroyLightning(IF9)call Q67(ID9)call Q67(IE9)call K_7(NO7)call NM7(t)elsecall MoveLightning(IF9,true,GetUnitX(u1),GetUnitY(u1),GetUnitX(u2),GetUnitY(u2))endifset t=nullset u1=nullset u2=nullset IF9=nullreturn falseendfunctionfunction IG9 takes string IH9,unit u1,unit u2,real r,real g,real b,real a,real XP7 returns nothinglocal real x1=GetUnitX(u1)local real y1=GetUnitY(u1)local real x2=GetUnitX(u2)local real y2=GetUnitY(u2)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local lightning IF9=AddLightning(IH9,true,x1,y1,x2,y2)call SetLightningColor(IF9,r,g,b,a)call MI7(NO7,"Lightning",IF9)call M87(NO7,"u1Index",Q07(u1))call M87(NO7,"u2Index",Q07(u2))call M97(NO7,"Duration",XP7)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function I99))set t=nullset IF9=nullendfunctionfunction II9 takes string IJ9 returns nothinglocal sound WO7=CreateSound(IJ9,false,false,false,10,10,"")call SetSoundVolume(WO7,0)call StartSound(WO7)call KillSoundWhenDone(WO7)set WO7=nullendfunctionfunction IK9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local ubersplat IM9=(LoadUbersplatHandle(C7,(V_7),(131)))call DestroyUbersplat(IM9)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset IM9=nullreturn falseendfunctionfunction IN9 takes ubersplat IM9,real d returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveUbersplatHandle(C7,(V_7),(131),(IM9))call TriggerRegisterTimerEvent(t,d,false)call TriggerAddCondition(t,Condition(function IK9))set t=nullendfunctionfunction IO9 takes nothing returns nothinglocal real d=J87(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),Z14,Z04)if d<ZL4 thenset ZL4=dset Z64=GetEnumUnit()endifendfunctionfunction IP9 takes group g,real x,real y returns unitset ZL4=999999set Z64=nullset Z14=xset Z04=ycall ForGroup(g,function IO9)return Z64endfunctionfunction IQ9 takes integer UX7 returns nothinglocal integer i=0loopexitwhen i>5call SetPlayerAbilityAvailable(Y7[i],UX7,false)call SetPlayerAbilityAvailable(Z7[i],UX7,false)set i=i+1endloopendfunctionfunction IR9 takes integer id returns nothinglocal integer i=0loopexitwhen i>12call SetPlayerAbilityAvailable(Player(i),id,false)set i=i+1endloopendfunctionfunction F59 takes nothing returns nothinglocal string s=GetEventPlayerChatString()local trigger tlocal integer x=S2I(SubString(GetEventPlayerChatString(),7,StringLength(GetEventPlayerChatString())))local integer i=1if x<1 or x>Fb thenset x=GetRandomInt(1,Fb)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10,(GetObjectName(('n0E5')))+" "+I2S(x))endifif gb thenloopexitwhen i>Fbcall II9(Cb[i])set i=i+1endloopset gb=falseendifif db[x]==false thenendifcall VG7(GetTriggerPlayer(),Cb[x])endfunctionfunction GQ9 takes nothing returns nothingif bj[GetPlayerId(GetTriggerPlayer())]==false thenset bj[GetPlayerId(GetTriggerPlayer())]=truecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00,"Override is now on for Formless")elseset bj[GetPlayerId(GetTriggerPlayer())]=falsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,15.00,"Override is now off for Formless")endifendfunctionfunction IS9 takes nothing returns nothinglocal timer t=GetExpiredTimer()local player p=MB7(GetHandleId(t),"FormlessPlayer")if G7[GetPlayerId(p)]!=null and HQ4==true thencall VH7(p,"Already have a hero.")elseif Q_7(p)thencall CreateUnitAtLoc(p,'H500',GetRectCenter(Z9),0)elsecall CreateUnitAtLoc(p,'H500',GetRectCenter(Y9),0)endifendifcall K_7(GetHandleId(t))call DestroyTimer(t)set p=nullset t=nullendfunctionfunction GR9 takes nothing returns nothinglocal player p=GetTriggerPlayer()local timer tif(G7[GetPlayerId(p)]==null or HQ4==false)and J==true and B==false and C==false and Y8==false and W==false and RJ4==false thencall R57(p)call DisplayTimedTextToPlayer(p,0,L8,10,"Formless will be created for you shortly.")set t=CreateTimer()call MM7(GetHandleId(t),"FormlessPlayer",p)call TimerStart(t,6,false,function IS9)endifset p=nullset t=nullendfunctionfunction IT9 takes nothing returns nothinglocal timer t=GetExpiredTimer()local player p=MB7(GetHandleId(t),"BastionPlayer")if G7[GetPlayerId(p)]!=null and HQ4==true thencall VH7(p,"Already have a hero.")elseif Q_7(p)thencall CreateUnitAtLoc(p,'H600',GetRectCenter(Z9),0)elsecall CreateUnitAtLoc(p,'H600',GetRectCenter(Y9),0)endifendifcall K_7(GetHandleId(t))call DestroyTimer(t)set p=nullset t=nullendfunctionfunction GS9 takes nothing returns nothinglocal player p=GetTriggerPlayer()local timer tif(G7[GetPlayerId(p)]==null or HQ4==false)and J==true and B==false and C==false and Y8==false and W==false and RJ4==false thencall R57(p)call DisplayTimedTextToPlayer(p,0,L8,10,"Bastion will be created for you shortly.")set t=CreateTimer()call MM7(GetHandleId(t),"BastionPlayer",p)call TimerStart(t,6,false,function IT9)endifset p=nullset t=nullendfunctionfunction ImbaMode takes nothing returns nothinglocal integer i=1if zA==false thenset zA=truecall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,60," ")call DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"You can now pick heroes from the Fun Taverns.")if Bj==true thenloopexitwhen i==6call FogModifierStart(CreateFogModifierRadiusLoc(Y7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))call FogModifierStart(CreateFogModifierRadiusLoc(Z7[i],FOG_OF_WAR_VISIBLE,GetUnitLoc(vN),200,true,true))set i=i+1endloopset i=1endifcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,90,"This is a FOR FUN ONLY mode.")loopexitwhen i==6call CreateUnit(Y7[i],'n00C',7225,-7475,270)call CreateUnit(Z7[i],'n00C',7225,-7475,270)set i=i+1endloopendifif Bj==true thenset AU=AU+1set NU[AU]='I122'set OU[AU]='I100'set PU[AU]=0set QU[AU]='I133'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNArcaniteMelee.blp"set SU[AU]=45set HZ4[AU]=15900set FH=AUset AU=AU+1set NU[AU]='I123'set OU[AU]='I101'set PU[AU]=0set QU[AU]='I134'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHumanArmorUpThree.blp"set SU[AU]=90set HZ4[AU]=15175set GH=AUset AU=AU+1set NU[AU]='I124'set OU[AU]='I118'set PU[AU]=0set QU[AU]='I135'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNImprovedBows.blp"set SU[AU]=40set HZ4[AU]=14000set hH=AUset AU=AU+1set NU[AU]='I125'set OU[AU]='I120'set PU[AU]=0set QU[AU]='I136'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set SU[AU]=40set HZ4[AU]=11520set jH=AUset AU=AU+1set NU[AU]='I126'set OU[AU]='I104'set PU[AU]=0set QU[AU]='I137'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSanctuary.blp"set SU[AU]=30set HZ4[AU]=7500set JH=AUset AU=AU+1set NU[AU]='I128'set OU[AU]='I108'set PU[AU]=0set QU[AU]='I139'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNThoriumRanged.blp"set SU[AU]=0set HZ4[AU]=10300set LH=AUset AU=AU+1set NU[AU]='I130'set OU[AU]='I112'set PU[AU]=0set QU[AU]='I141'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyStrength.blp"set SU[AU]=0set HZ4[AU]=10900set kH=AUset AU=AU+1set NU[AU]='I131'set OU[AU]='I114'set PU[AU]=0set QU[AU]='I142'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"set SU[AU]=0set HZ4[AU]=9975set lH=AUset AU=AU+1set NU[AU]='I127'set OU[AU]='I106'set PU[AU]=0set QU[AU]='I138'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrb.blp"set SU[AU]=45set HZ4[AU]=11300set MH=AUset F14=F14+1set FA4[F14]=DM4set FB4[F14]=DD4set FC4[F14]=GYset FL4[F14]=FHset F14=F14+1set FA4[F14]=DS4set FB4[F14]=DA4set FC4[F14]=DJ4set F34[F14]=DZ4set FL4[F14]=GHset F14=F14+1set FA4[F14]=DP4set FB4[F14]=TVset FC4[F14]=QVset F34[F14]=LVset FL4[F14]=hHset F14=F14+1set FA4[F14]=UWset FB4[F14]=Q1set FC4[F14]=X0set F34[F14]=OVset FL4[F14]=jHset F14=F14+1set FA4[F14]=UWset FB4[F14]=T1set FC4[F14]=X0set F34[F14]=OVset FL4[F14]=jHset F14=F14+1set FA4[F14]=N6set FB4[F14]=BUset FC4[F14]=HWset F34[F14]=HWset FL4[F14]=JHset F14=F14+1set FA4[F14]=XVset FB4[F14]=EVset FC4[F14]=VWset F34[F14]=RWset F64[F14]=DJ4set FL4[F14]=LHset F14=F14+1set FA4[F14]=HYset FB4[F14]=LUset FC4[F14]=FVset F34[F14]=TVset F64[F14]=DP4set FL4[F14]=kHset F14=F14+1set FA4[F14]=OWset FB4[F14]=ZXset FC4[F14]=UYset F34[F14]=UWset F64[F14]=DR4set FL4[F14]=lHset F14=F14+1set FA4[F14]=RWset FB4[F14]=TVset FC4[F14]=UWset F34[F14]=EZset FL4[F14]=MHendifendfunctionfunction IU9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real IV9=N47(NO7,"T_CurrentX")local real IW9=N47(NO7,"T_CurrentY")local real IX9=N47(NO7,"T_MaxX")local real IY9=128local real xlocal real yloopexitwhen IV9>IX9loopexitwhen IW9>8192set dW=dW+1set x=IV9set y=IW9if IsPointBlighted(x,y)==false thenset DW[dW]=GetTerrainType(x,y)set LW[dW]=GetTerrainVariance(x,y)endifset x=-IV9set y=IW9if IsPointBlighted(x,y)==false thenset fW[dW]=GetTerrainType(x,y)set mW[dW]=GetTerrainVariance(x,y)endifset x=-IV9set y=-IW9if IsPointBlighted(x,y)==false thenset FW[dW]=GetTerrainType(x,y)set MW[dW]=GetTerrainVariance(x,y)endifset x=IV9set y=-IW9if IsPointBlighted(x,y)==false thenset hW[dW]=GetTerrainType(x,y)set pW[dW]=GetTerrainVariance(x,y)endifset IW9=IW9+IY9endloopset IW9=0set IV9=IV9+IY9endloopset IX9=IX9+256call M97(NO7,"T_CurrentX",IV9*1.0)call M97(NO7,"T_CurrentY",IW9*1.0)call M97(NO7,"T_MaxX",IX9*1.0)if IX9>8192 thencall K_7(NO7)call NM7(t)endifset t=nullreturn falseendfunctionfunction IZ9 takes string GB9 returns booleanif GB9=="-ma" or GB9=="-ms" or GB9=="-cs" or GB9=="-cson" or GB9=="-disablehelp" or GB9=="-enablehelp" or GB9=="-unstuck" or GB9=="-recreate" thenreturn trueelseif GB9=="-swaphero" or GB9=="-showmsg" or GB9=="-hidemsg" or GB9=="-showdeny" or GB9=="-hidedeny" or GB9=="-weather rain" or GB9=="-weather snow" or GB9=="-weather moonlight" or GB9=="-weather wind" or GB9=="-weather random" or GB9=="-weather off" or GB9=="-denyinfo" or GB9=="-di" or GB9=="-deathon" or GB9=="-don" or GB9=="-deathoff" or GB9=="-doff" or GB9=="-roll" or GB9=="-hideheronames" or GB9=="-hhn" or GB9=="-test" or GB9=="-mute" or GB9=="-wtf" or GB9=="-fun" or GB9=="-fleshstr" or GB9=="-fs" or GB9=="-switchon" thenreturn trueelseif GB9=="-override" or GB9=="-formless" thenreturn trueendifreturn falseendfunctionfunction IA9 takes nothing returns booleanreturn not Jendfunctionfunction IB9 takes string qQ returns nothingif cx==""thenset cx="|c006699CC"+qQ+"|r"elseset cx=cx+"/|c006699CC"+qQ+"|r"endifendfunctionfunction IC9 takes string qQ returns nothingif cx==""thenset cx=EV7+qQ+"|r"elseset cx=cx+"/"+EV7+qQ+"|r"endifendfunctionfunction I39 takes string HB9,integer qs,integer qS returns stringreturn SubString(HB9,0,qs)+SubString(HB9,qS,StringLength(HB9))endfunctionfunction I69 takes string HB9 returns stringlocal integer AB7=StringLength(HB9)local string qTlocal string M9=""local integer i=0loopexitwhen(i==AB7)set qT=StringCase(SubString(HB9,i,i+1),false)if not(qT==StringCase(qT,true))thenset M9=M9+qTendifset i=i+1endloopreturn M9endfunctionfunction IL9 takes string I19,integer I09 returns nothinglocal string HB9=I69(I19)local string array I59local string array I29local boolean array I_9local integer J49local integer J79local integer AB7=StringLength(HB9)local integer x=0local integer y=0local integer z=0local boolean APlocal boolean ARlocal boolean LMlocal boolean MMlocal boolean TRlocal boolean DMlocal boolean MRlocal boolean SPlocal boolean AAlocal boolean AIlocal boolean ASlocal boolean IDlocal boolean NPlocal boolean SClocal boolean EMlocal boolean DUlocal boolean SHlocal boolean VRlocal boolean RVlocal boolean RDlocal boolean OMlocal boolean NTlocal boolean NBlocal boolean NMlocal boolean NSlocal boolean SOlocal boolean NRlocal boolean XLlocal boolean SDlocal boolean PMlocal boolean OIlocal boolean MIlocal boolean CMlocal boolean FRlocal boolean MOlocal boolean ROlocal boolean ERlocal boolean CDlocal boolean RSlocal boolean STlocal boolean MClocal boolean HElocal boolean NElocal boolean HGlocal boolean NGlocal boolean DElocal boolean J89local boolean NNlocal boolean FMlocal boolean J99local boolean JD9local boolean JE9local boolean JF9local boolean JG9set I59[1]="allpick"set I29[1]="ap"set I59[2]="allrandom"set I29[2]="ar"set I59[3]="leaguemode"set I29[3]="lm"set I59[4]="mirrormatch"set I29[4]="mm"set I59[5]="teamrandom"set I29[5]="tr"set I59[6]="deathmatch"set I29[6]="dm"set I59[7]="moderandom"set I29[7]="mr"set I59[8]="shuffleplayers"set I29[8]="sp"set I59[9]="allagility"set I29[9]="aa"set I59[10]="allintelligence"set I29[10]="ai"set I59[11]="allstrength"set I29[11]="as"set I59[12]="itemdrop"set I29[12]="id"set I59[13]="nopowerups"set I29[13]="np"set I59[14]="supercreeps"set I29[14]="sc"set I59[15]="easymode"set I29[15]="em"set I59[16]="duplicatemode"set I29[16]="du"set I59[17]="samehero"set I29[17]="sh"set I59[18]="voterandom"set I29[18]="vr"set I59[19]="reverse"set I29[19]="rv"set I59[20]="randomdraft"set I29[20]="rd"set I59[21]="onlymid"set I29[21]="om"set I59[22]="extendedleague"set I29[22]="xl"set I59[23]="nomid"set I29[23]="nm"set I59[24]="notop"set I29[24]="nt"set I59[25]="nobot"set I29[25]="nb"set I59[26]="noswap"set I29[26]="ns"set I59[27]="norepick"set I29[27]="nr"set I59[28]="captainsdraft"set I29[28]="cd"set I59[29]="singledraft"set I29[29]="sd"set I59[30]="poolingmode"set I29[30]="pm"set I59[31]="observerinfo"set I29[31]="oi"set I59[32]="miniheroes"set I29[32]="mi"set I59[33]="captainsmode"set I29[33]="cm"set I59[34]="fastrespawn"set I29[34]="fr"set I59[35]="meleeonly"set I29[35]="mo"set I59[36]="rangeonly"set I29[36]="ro"set I59[37]="experimentalrunes"set I29[37]="er"set I59[38]="randomside"set I29[38]="rs"set I59[39]="switchon"set I29[39]="so"set I59[40]="zoommode"set I29[40]="zm"set I59[41]="capturepoint"set I29[41]="cp"set J49=41set J79=41set J49=J49+1set I59[J49]="supertower"set I29[J49]="st"set J49=J49+1set I59[J49]="msupercreeps"set I29[J49]="mc"set J49=J49+1set I59[J49]="highexp"set I29[J49]="he"set J49=J49+1set I59[J49]="normexp"set I29[J49]="ne"set J49=J49+1set I59[J49]="dynaexp"set I29[J49]="de"set J49=J49+1set I59[J49]="highgold"set I29[J49]="hg"set J49=J49+1set I59[J49]="normgold"set I29[J49]="ng"set J49=J49+1set I59[J49]="dynagold"set I29[J49]="dg"set J49=J49+1set I59[J49]="nonecronomicon"set I29[J49]="nn"set J49=J49+1set I59[J49]="formlessmode"set I29[J49]="fm"set J49=J49+1set I59[J49]="coolnames"set I29[J49]="cn"set J49=J49+1set I59[J49]="alldagons"set I29[J49]="ad"set J49=J49+1set I59[J49]="beginnermode"set I29[J49]="bm"set J49=J49+1set I59[J49]="advancedmode"set I29[J49]="am"set J49=J49+1set I59[J49]="xtrememode"set I29[J49]="xm"set x=-1loopexitwhen x==AB7-1set x=x+1set y=xloopexitwhen y==AB7set y=y+1set z=1loopexitwhen z>J49if I59[z]==SubString(HB9,x,y)thenset I_9[z]=trueset z=J49+1set HB9=I39(HB9,x,y)set x=-1set AB7=StringLength(HB9)set y=AB7elseset z=z+1endifendloopendloopendloopset x=-1loopexitwhen x==AB7-1set x=x+1set y=xloopexitwhen y==AB7set y=y+1set z=1loopexitwhen z>J49if I29[z]==SubString(HB9,x,y)thenset I_9[z]=trueif(z<=J79)thenset vY=falseendifset z=J49+1set HB9=I39(HB9,x,y)set x=-1set AB7=StringLength(HB9)set y=AB7elseset z=z+1endifendloopendloopendloopset AP=I_9[1]set AR=I_9[2]set LM=I_9[3]set MM=I_9[4]set TR=I_9[5]set DM=I_9[6]set MR=I_9[7]set SP=I_9[8]set AA=I_9[9]set AI=I_9[10]set AS=I_9[11]set ID=I_9[12]set NP=I_9[13]set SC=I_9[14]set EM=I_9[15]set DU=I_9[16]set SH=I_9[17]set VR=I_9[18]set RV=I_9[19]set RD=I_9[20]set OM=I_9[21]set XL=I_9[22]set NM=I_9[23]set NT=I_9[24]set NB=I_9[25]set NS=I_9[26]set NR=I_9[27]set CD=I_9[28]set SD=I_9[29]set PM=I_9[30]set OI=I_9[31]set MI=I_9[32]set CM=I_9[33]set FR=I_9[34]set MO=I_9[35]set RO=I_9[36]set ER=I_9[37]set RS=I_9[38]set SO=I_9[39]set ST=I_9[J79+1]set MC=I_9[J79+2]set HE=I_9[J79+3]set NE=I_9[J79+4]set DE=I_9[J79+5]set HG=I_9[J79+6]set NG=I_9[J79+7]set J89=I_9[J79+8]set NN=I_9[J79+9]set FM=I_9[J79+10]set J99=I_9[J79+11]set JD9=I_9[J79+12]set JF9=I_9[J79+13]set JE9=I_9[J79+14]set JG9=I_9[J79+15]if HB9!=""or IZ9(GetEventPlayerChatString())thenreturnelseif(LM or VR or RV or RD or XL or CD or SO)thencall VH7(Le,"The following modes are currently disabled for this AI release: -lm, -vr, -rv, -rd, -xl, -cd, -so")returnelseif FM and(AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or DU or SH or VR or RV or RD or XL or SD or MO or RO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif(AR and(CM or AP or TR or LM or MR or RV or RD or CD or SD))or(AP and(TR or MR))or(TR and(LM or MR))or(LM and MR)or(MM and SH)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif(AA and(AI or AS or DM))or(AS and(AI or DM))or(AI and DM)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif(RO and(MO or DM))or(MO and DM)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif RV and(CM or AR or TR or MR or LM or DM or SH)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif(DM and(CM or TR or LM or MR or SH or RV or RD or CD or SD))or(MM and DM)or(SH and DM)thencall VH7(Le,(GetObjectName(('n02T'))))returnelseif LM and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or XL or MO or RO)thencall VH7(Le,(GetObjectName(('n031'))))returnelseif XL and(CM or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or RO or MO)thencall VH7(Le,(GetObjectName(('n032'))))returnelseif CM and(SP or XL or AP or RD or CD or AR or SD or MM or TR or DM or MR or AA or AI or AS or ID or NP or SC or EM or DU or SH or RV or OM or NB or NM or NT or LM or MO or RO)thencall VH7(Le,(GetObjectName(('n032'))))returnelseif RD and(CD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif CD and(RD or CM or AP or LM or AR or SD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif MR and(CM or AP or LM or AR or SD or MM or TR or DM or AA or AI or AS or SH or RV or RO or MO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif SD and(CM or AP or LM or AR or RD or CD or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif VR and(CM or LM or RD or CD or SD or AR or MM or TR or DM or MR or AA or AI or AS or SH or RV or RO or MO)thencall VH7(Le,(GetObjectName(('n02U'))))returnelseif MM and P8(W7)!=P8(X7)thencall VH7(Le,(GetObjectName(('n034'))))returnelseif VR and P8(W7)!=P8(X7)thencall VH7(Le,(GetObjectName(('n034'))))returnelseif RV and P8(W7)!=P8(X7)thencall VH7(Le,(GetObjectName(('n034'))))returnelseif(LM or XL)and(R97(Y7[1])or R97(Y7[2])or R97(Y7[3])or R97(Y7[4])or R97(Y7[5])or R97(Z7[1])or R97(Z7[2])or R97(Z7[3])or R97(Z7[4])or R97(Z7[5]))thencall VH7(Le,"AI players not allowed in League Modes")returnelseif(JF9 and JE9)or(JF9 and JG9)or(JE9 and JG9)or(NE and HE)or(HG and NG)or((JE9 or JF9 or JG9)and(NE or HE or DE or HG or NG or J89))thencall VH7(Le,"Invalid AI Game Mode Combination!")returnendifif FR or CM or AP or AR or LM or MM or TR or DM or MR or SP or AA or AI or AS or ID or NP or SC or DU or EM or SH or VR or RV or RD or CD or OM or NB or NM or NT or NS or NR or XL or SD or PM or OI or MI or MO or RO or ER or RS or SO or ST or MC or(HE or NE or HG or DE or NG or J89)or NN or FM or(JE9 or JF9 or JG9)thencall DisableTrigger(GetTriggeringTrigger())elsereturnendifif CM==false thencall NX8()call DP9()endifif LM==false and XL==false thencall HZ9()endifset OC4=I69(GetEventPlayerChatString())if(YQ4)thencall AT7("Mode"+OC4,0)elsecall AT7("Mode"+OC4,GetPlayerId(Le))endifset W8=falseif LM thenset vo="Leaguemode"elseif XL thenset vo="Extended League"elseif RD thenset vo="Randomdraft"elseif CD thenset vo="Captainsdraft"elseif MM thenset vo="Mirrormatch"elseif DM thenset vo="Deathmatch"elseif RV thenset vo="Reverse"elseif AP thenset vo="Allpick"elseif AR thenset vo="Allrandom"elseif TR thenset vo="Teamrandom"elseif MR thenset vo="Moderandom"elseif VR thenset vo="Voterandom"elseif SD thenset vo="Singledraft"elseif CM thenset vo="Captainsmode"endifif CM thencall IB9("Captains Mode")endifif LM thencall IB9("League Mode")endifif XL thencall IB9("Extended League")endifif RD thencall IB9("Random Draft")endifif CD thencall IB9("Captains Draft")endifif DM thencall IB9("Death Match")endifif MM thencall IB9("Mirror Match")endifif AP thencall IB9("All Pick")endifif AR thencall IB9("All Random")endifif VR thencall IB9("Vote Random")endifif MR thencall IB9("Mode Random")endifif TR thencall IB9("Team Random")endifif SP thencall IB9("Shuffle Players")endifif AA thencall IB9("All Agility")endifif AS thencall IB9("All Strength")endifif AI thencall IB9("All Intelligence")endifif RO thencall IB9("Range Only")endifif MO thencall IB9("Melee Only")endifif DU thencall IB9("Duplicate Mode")endifif ID thencall IB9("Item Drop")endifif NP thencall IB9("No Powerups")endifif SC thencall IB9("Super Creeps")endifif EM thencall IB9("Easy Mode")endifif SH thencall IB9("Same Hero")endifif RV thencall IB9("Reverse")endifif OM thencall IB9("Only Mid")endifif NM thencall IB9("No Mid")endifif NB thencall IB9("No Bot")endifif NT thencall IB9("No Top")endifif NS thencall IB9("No Swap")endifif NR thencall IB9("No Repick")endifif SD thencall IB9("Single Draft")endifif PM thencall IB9("Pooling Mode")endifif OI thencall IB9("Observer Info")endifif MI thencall IB9("Mini Heroes")endifif FR thencall IB9("Fast Respawn")endifif ER thencall IB9("Experimental Runes")endifif RS thencall IB9("Random Side")endifif SO thencall IB9("Switch On")endifif ST thencall IC9("Super Tower")endifif MC thencall IC9("Modified Super Creeps")endifif JF9 thencall IC9("Beginner's Mode")endifif JE9 thencall IC9("Advanced Mode")endifif JG9 thencall IC9("Xtreme Mode")endifif HE thencall IC9("High Exp AI")endifif NE thencall IC9("Normal Exp AI")endifif DE thencall IC9("Dynamic Exp AI")endifif HG thencall IC9("High Gold AI")endifif NG thencall IC9("Normal Gold AI")endifif J89 thencall IC9("Dynamic Gold AI")endifif NN thencall IC9("No Necronomicon")endifif FM thencall IC9("Formless Mode")endifif J99 thencall IC9("Cool Names")endifif JD9 thencall IC9("All Dagons")endifcall S_7(bj_FORCE_ALL_PLAYERS,20.00," ")if I09==1 thencall S_7(bj_FORCE_ALL_PLAYERS,20.00,K[GetPlayerId(Le)]+(M74[GetPlayerId(Le)])+"|r"+" "+GetObjectName('n061')+" "+cx)elsecall S_7(bj_FORCE_ALL_PLAYERS,20.00,GetObjectName('n0HN')+" "+cx)endifcall S_7(bj_FORCE_ALL_PLAYERS,20.00,(GetObjectName(('n063')))+" -gameinfo.")call S_7(bj_FORCE_ALL_PLAYERS,20.00," ")call VJ7("JH9",SP)call VJ7("JI9",RS)call VJ7("JJ9",DM)call VJ7("JK9",MM)call VJ7("JM9",SH)call VJ7("JN9",AA)call VJ7("JO9",AI)call VJ7("JP9",AS)call VJ7("JQ9",RO)call VJ7("JR9",MO)call VJ7("JS9",DU)call VJ7("JT9",AR)call VJ7("JU9",AP)call VJ7("JV9",TR)call VJ7("JW9",SD)call VJ7("JX9",MR)call VJ7("JY9",ID)call VJ7("JZ9",NP)call VJ7("JA9",SC)call VJ7("JB9",EM)call VJ7("JC9",OM)call VJ7("J39",NB)call VJ7("J69",NT)call VJ7("JL9",NM)call VJ7("J19",NS)call VJ7("StartSwitchOn",SO)call VJ7("J09",NR)call VJ7("J59",PM)call VJ7("J29",OI)call VJ7("J_9",MI)call VJ7("K49",FR)call VJ7("K79",ER)call VJ7("K89",ST)call VJ7("K99",MC)if JF9 thenset NE=trueset NG=trueset DE=falseset J89=falseendifif JE9 thenset NE=trueset NG=trueset DE=trueset J89=trueendifif JG9 thenset HE=trueset HG=trueset DE=trueset J89=trueendifcall VJ7("KD9",DE)call VJ7("KE9",J89)call VJ7("KF9",FM)call VJ7("KG9",J99)call VJ7("KH9",JD9)call VJ7("KI9",CM)set VT=HEset XT=NEset WT=HGset QT=NGset RT=NNset P14=truecall VD8(0,0,false)if RA4==false and tW==false thencall DS9()endifcall NU8()endfunctionfunction KJ9 takes nothing returns nothingcall IL9(GetEventPlayerChatString(),1)endfunctionfunction KK9 takes nothing returns booleanif YP4!="" and P14==false thenset YQ4=truecall IL9("-"+(YP4),2)elsecall TriggerRegisterPlayerChatEvent(YO4,Le,"-",false)endifreturn falseendfunctionfunction JU9 takes nothing returns nothinglocal location BE7=GetRectCenter(pr)local location BF7=GetRectCenter(qr)local integer x=1set L=trueset P04=120loopexitwhen x>5if RD7(Y7[x])thencall CreateUnitAtLoc(Y7[x],'n00C',BF7,bj_UNIT_FACING)endifif RD7(Z7[x])thencall CreateUnitAtLoc(Z7[x],'n00C',BE7,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(BE7)call RemoveLocation(BF7)set BE7=nullset BF7=nullendfunctionfunction KM9 takes integer TJ7,boolean KN9 returns booleanlocal boolean KO9=falselocal integer ilocal integer j=1if(KN9)thenif(L94==1)thenreturn falseendifset i=L94-1loopif(TJ7==LE4[j])thenreturn trueendifset j=j+1exitwhen(j>i)endloopelseif(LD4==1)thenreturn falseendifset i=LD4-1loopif(TJ7==LF4[j])thenreturn trueendifset j=j+1exitwhen(j>i)endloopendifreturn KO9endfunctionfunction KP9 takes integer TJ7,boolean KN9 returns nothingif(KN9)thenset LE4[L94]=TJ7set L94=L94+1elseset LF4[LD4]=TJ7set LD4=LD4+1endifendfunctionfunction KQ9 takes integer TJ7 returns nothinglocal integer i=1local boolean KR9=falseloopif(TJ7==L84[i])thenset L84[i]=0call KP9(TJ7,false)set KR9=trueendifset i=i+1exitwhen(i>LH4 or KR9)endloopendfunctionfunction KS9 takes nothing returns integerlocal integer KT9=0local integer TJ7=0loopset KT9=GetRandomInt(1,LH4)exitwhen(L84[KT9]>0 and KM9(L84[KT9],false)==false)endloopset TJ7=L84[KT9]call KP9(TJ7,false)set L84[KT9]=0return TJ7endfunctionfunction KU9 takes integer TJ7 returns nothinglocal integer i=1local boolean KR9=falseloopif(TJ7==L74[i])thenset L74[i]=0call KP9(TJ7,true)set KR9=trueendifset i=i+1exitwhen(i>LG4 or KR9)endloopendfunctionfunction KV9 takes nothing returns integerlocal integer KT9=0local integer TJ7=0loopset KT9=GetRandomInt(1,LG4)exitwhen(L74[KT9]>0 and KM9(L84[KT9],true)==false)endloopset TJ7=L74[KT9]call KP9(TJ7,true)set L74[KT9]=0return TJ7endfunctionfunction KW9 takes nothing returns booleanlocal integer i=1local integer KX9=0local integer TJ7=0if not BK4 thencall NM7(GetTriggeringTrigger())return falseendifif R97(BJ4)thenif GetPlayerState(BJ4,PLAYER_STATE_RESOURCE_GOLD)>0 thenset LM4=LM4+1if LM4>LI4 thenif LN4 thenset TJ7=KV9()elseset TJ7=KS9()endifloopexitwhen(IssueNeutralImmediateOrderById(BJ4,L44[i],TJ7)or GetPlayerState(BJ4,PLAYER_STATE_RESOURCE_GOLD)==0)set i=i+1if(i>12)thenif LN4 thenset TJ7=KV9()elseset TJ7=KS9()endifset i=1set KX9=KX9+1if(KX9>5)thenexitwhen trueendifendifendloopset LM4=0endifendifendifreturn trueendfunctionfunction KY9 takes nothing returns nothingcall R07('E02F')call R07('N00R')call R07('N0M0')call R07('E032')call R07('E02K')call R07('H0DO')endfunctionfunction KZ9 takes nothing returns nothingset L84[1]='H00U'set L84[2]='EC77'set L84[3]='H001'set L84[4]='HC49'set L84[5]='Huth'set L84[6]='Ucrl'set L84[7]='Usyl'set L84[8]='Npbm'set L84[9]='Hlgr'set L84[10]='Nbrn'set L84[11]='H00D'set L84[12]='UC18'set L84[13]='UC60'set L84[14]='U00A'set L84[15]='U006'set L84[16]='NC00'set L84[17]='UC42'set L84[18]='U000'set L84[19]='UC91'set L84[20]='E004'set L84[21]='EC45'set L84[22]='EC77'set L84[23]='E002'set L84[24]='U00C'set L84[25]='H00H'set L84[26]='U00E'set L84[27]='O00J'set L84[28]='Ubal'set L84[29]='Opgh'set L84[30]='U00P'set L84[31]='Naka'set L84[32]='H00U'set L84[33]='N0HP'set L84[34]='Edem'endfunctionfunction KA9 takes nothing returns nothingset L74[1]='H00U'set L74[2]='Hjai'set L74[3]='Huth'set L74[4]='N016'set L74[5]='Nbrn'set L74[6]='UC18'set L74[7]='EC77'set L74[8]='N0HP'set L74[9]='H071'set L74[10]='O016'set L74[11]='Opgh'set L74[12]='Ulic'set L74[13]='Usyl'set L74[14]='Otch'set L74[15]='O00P'set L74[16]='Hvwd'set L74[17]='H00V'set L74[18]='Ubal'set L74[19]='Nfir'set L74[20]='EC45'endfunctionfunction KB9 takes nothing returns booleanlocal integer i=1local integer KC9=0loopexitwhen i>5if R97(Y7[i])thenif(IssueNeutralImmediateOrderById(Y7[i],LK4[i],'h06N')==false)thenset KC9=1loopexitwhen(KC9>5)or IssueNeutralImmediateOrderById(Y7[i],LK4[KC9],'h06N')set KC9=KC9+1endloopendifendifif R97(Z7[i])thenif(IssueNeutralImmediateOrderById(Z7[i],LK4[6+i],'h06N')==false)thenset KC9=1loopexitwhen(KC9>5)or IssueNeutralImmediateOrderById(Z7[i],LK4[6+KC9],'h06N')set KC9=KC9+1endloopendifendifset i=i+1endloopcall NM7(GetTriggeringTrigger())return falseendfunctionfunction K39 takes string S,real K69,real KL9,real K19,real K09,real K59,boolean K29,integer r,integer g,integer b returns imageset BE4=CreateImage(S,K69,KL9,0,K19-(K69/2),K09-(KL9/2),K59,0,0,0,2)call SetImageRenderAlways(BE4,true)call ShowImage(BE4,K29)call SetImageColor(BE4,r,g,b,255)return BE4endfunctionfunction K_9 takes image i returns nothingcall ShowImage(i,false)call DestroyImage(i)endfunctionfunction M49 takes integer M79 returns nothinglocal real x=BF4+40local real y=BG4-50local integer M89=255local integer M99=0local integer MD9=0local integer ME9=0local integer MF9=0local integer MG9=255local integer rlocal integer glocal integer bif M79==1 thenset r=M89set g=M99set b=MD9set B44=K39("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)set B74=K39("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)set B84=K39("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)elseif M79==2 thenset r=ME9set g=MF9set b=MG9call K_9(B44)call K_9(B74)call K_9(B84)set B44=K39("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)set B74=K39("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)set B84=K39("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)set B94=K39("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)elseif M79==3 thenset r=M89set g=M99set b=MD9call K_9(B44)call K_9(B74)call K_9(B84)call K_9(B94)set B44=K39("Fonts\\B.blp",90,90,x-40,y,0,true,r,g,b)set B74=K39("Fonts\\A.blp",90,90,x,y,0,true,r,g,b)set B84=K39("Fonts\\N.blp",90,90,x+50,y,0,true,r,g,b)elseif M79==4 thenset r=ME9set g=MF9set b=MG9call K_9(B44)call K_9(B74)call K_9(B84)set B44=K39("Fonts\\P.blp",90,90,x-60,y,0,true,r,g,b)set B74=K39("Fonts\\I.blp",90,90,x-20,y,0,true,r,g,b)set B84=K39("Fonts\\C.blp",90,90,x,y,0,true,r,g,b)set B94=K39("Fonts\\K.blp",90,90,x+45,y,0,true,r,g,b)elseif M79==5 thencall K_9(B44)call K_9(B74)call K_9(B84)call K_9(B94)endifendfunctionfunction MH9 takes integer i,integer MI9 returns stringif i<0 thenset i=0endifif TimerGetElapsed(P)<15 thenreturn A24+I2S(i)endifif AQ4==3 thenreturn A24+I2S(i)endifif AQ4==1 and MI9!=1 thenreturn A24+I2S(i)elseif AQ4==2 and MI9!=2 thenreturn A24+I2S(i)elseif i==0 thenreturn A24+I2S(i)elseif i<6 thenreturn A54+I2S(i)elsereturn I2S(i)endifendfunctionfunction MJ9 takes nothing returns booleanlocal multiboarditem MK9local integer ilocal integer MM9local integer MN9local integer MO9=7local integer MP9=0set MM9=1set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemWidth(MK9,0.5)call MultiboardSetItemValue(MK9,K[GetPlayerId(Y7[1])]+(M74[GetPlayerId((Y7[1]))])+"|r")call MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EV'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set i=0set MM9=MM9set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AR4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AR4[i]])endifcall MultiboardReleaseItem(MK9)set i=1set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AR4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AR4[i]])endifcall MultiboardReleaseItem(MK9)set i=2set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AR4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AR4[i]])endifcall MultiboardReleaseItem(MK9)set i=3set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AR4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AR4[i]])endifcall MultiboardReleaseItem(MK9)set i=4set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AR4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AR4[i]])endifcall MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EX'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set i=0set MM9=MM9set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AV4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AV4[i]])endifcall MultiboardReleaseItem(MK9)set i=1set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AV4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AV4[i]])endifcall MultiboardReleaseItem(MK9)set i=2set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AV4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AV4[i]])endifcall MultiboardReleaseItem(MK9)set i=3set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AV4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AV4[i]])endifcall MultiboardReleaseItem(MK9)set i=4set MN9=MP9+i+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AV4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AV4[i]])endifcall MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EU'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MP9+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,MH9(AO4[1],1))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MM9=MM9+1set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0ET'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MP9+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,MH9(AN4[1],1))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MP9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EY'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MP9+1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)if TimerGetElapsed(P)<15 thencall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F1'))elseif AQ4==1 thencall MultiboardSetItemValue(MK9,GetObjectName('n0F4'))elseif AQ4==2 thencall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F1'))elsecall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F2'))endifcall MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MM9=1set MN9=MO9set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemWidth(MK9,1.5)call MultiboardSetItemValue(MK9,"   "+K[GetPlayerId(Z7[1])]+(M74[GetPlayerId((Z7[1]))])+"|r")call MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MO9-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+" "+GetObjectName('n0EV'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set i=0set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AS4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AS4[i]])endifcall MultiboardReleaseItem(MK9)set i=1set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AS4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AS4[i]])endifcall MultiboardReleaseItem(MK9)set i=2set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AS4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AS4[i]])endifcall MultiboardReleaseItem(MK9)set i=3set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AS4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AS4[i]])endifcall MultiboardReleaseItem(MK9)set i=4set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AS4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AS4[i]])endifcall MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MO9-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+" "+GetObjectName('n0EX'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set i=0set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AW4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AW4[i]])endifcall MultiboardReleaseItem(MK9)set i=1set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AW4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AW4[i]])endifcall MultiboardReleaseItem(MK9)set i=2set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AW4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AW4[i]])endifcall MultiboardReleaseItem(MK9)set i=3set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AW4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AW4[i]])endifcall MultiboardReleaseItem(MK9)set i=4set MN9=MO9+i+1-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemWidth(MK9,0.015)if AW4[i]>0 thencall MultiboardSetItemStyle(MK9,false,true)call MultiboardSetItemIcon(MK9,MV4[AW4[i]])endifcall MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MO9-2set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EU'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MO9-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,MH9(AO4[2],2))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MM9=MM9+1set MN9=MO9-2set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0ET'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MO9-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,MH9(AN4[2],2))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MM9=MM9+2set MN9=MO9-2set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)call MultiboardSetItemValue(MK9,A04+GetObjectName('n0EY'))call MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)set MN9=MO9-1set MK9=MultiboardGetItem(A_4,MM9,MN9)call MultiboardSetItemStyle(MK9,true,false)if TimerGetElapsed(P)<15 thencall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F1'))elseif AQ4==2 thencall MultiboardSetItemValue(MK9,GetObjectName('n0F4'))elseif AQ4==1 thencall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F1'))elsecall MultiboardSetItemValue(MK9,A24+GetObjectName('n0F2'))endifcall MultiboardSetItemWidth(MK9,0.035)call MultiboardReleaseItem(MK9)return falseendfunctionfunction MQ9 takes nothing returns nothinglocal integer MR9=12local integer MS9=14local trigger t=CreateTrigger()local integer ilocal multiboarditem MK9call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function MJ9))set A_4=CreateMultiboard()call MultiboardSetItemsWidth(A_4,0.015)call MultiboardSetRowCount(A_4,MR9)call MultiboardSetColumnCount(A_4,MS9)call MultiboardSetTitleText(A_4,GetObjectName('n0K6'))call MultiboardSetItemsStyle(A_4,false,false)call MultiboardMinimize(A_4,false)call MultiboardDisplay(A_4,true)set i=0loopexitwhen i>MS9set MK9=MultiboardGetItem(A_4,0,i)call MultiboardSetItemWidth(MK9,0.015)call MultiboardReleaseItem(MK9)set i=i+1endloopset t=nullset MK9=nullendfunctionfunction MT9 takes nothing returns booleanlocal unit MU9=GetSoldUnit()local player p=GetOwningPlayer(MU9)local integer ilocal real xlocal real ylocal real aif GetUnitTypeId(MU9)=='h06N' and IsPlayerAlly(GetOwningPlayer(MU9),GetOwningPlayer(GetSellingUnit()))thenif G7[GetPlayerId(p)]!=null thencall VH7(p,GetObjectName('n0F3'))call KillUnit(MU9)set MU9=nullset p=nullreturn falseendifset x=GetUnitX(GetSellingUnit())set y=GetUnitY(GetSellingUnit())set i=JF7(GetUnitTypeId(GetSellingUnit()))set a=GetUnitFacing(GetSellingUnit())call RemoveUnit(GetSellingUnit())call CreateUnit(p,i,x,y,a)endifif GetUnitTypeId(MU9)=='h06N' thencall KillUnit(MU9)endifif G7[GetPlayerId(Y7[1])]!=null and G7[GetPlayerId(Y7[2])]!=null and G7[GetPlayerId(Y7[3])]!=null and G7[GetPlayerId(Y7[4])]!=null and G7[GetPlayerId(Y7[5])]!=null and G7[GetPlayerId(Z7[1])]!=null and G7[GetPlayerId(Z7[2])]!=null and G7[GetPlayerId(Z7[3])]!=null and G7[GetPlayerId(Z7[4])]!=null and G7[GetPlayerId(Z7[5])]!=null thencall NM7(GetTriggeringTrigger())endifset MU9=nullset p=nullreturn falseendfunctionfunction MV9 takes player pl,boolean J4 returns nothinglocal integer O5=GetPlayerId(pl)local integer T8local integer U8if not J4 thenset LO4[64+O5]=(not LO4[64+O5])call DisplayTimedTextToPlayer(pl,0,0,10.,"AI board is turned "+IG7(LO4[64+O5],"|c009090ffon|r","|c00ff9090off|r"))if not LO4[48+O5]thenreturnendifelseset LO4[48+O5]=trueendifset LO4[32+O5]=(LO4[64+O5]and LO4[48+O5])set O5=GetPlayerId(GetLocalPlayer())set T8=1set U8=3+IH4+IG4loopexitwhen T8>U8call x7(E4,15,T8,IJ7(LO4[32+O5],E17,0.01))set T8=T8+1endloopif(pl==GetLocalPlayer())thenset DG7=IsMultiboardMinimized(E4)call MultiboardMinimize(E4,true)endifcall O78()if(pl==GetLocalPlayer())thencall MultiboardMinimize(E4,DG7)endifendfunctionfunction GV9 takes nothing returns nothingcall MV9(GetTriggerPlayer(),false)endfunctionfunction MW9 takes player pl,boolean J4 returns nothinglocal integer O5=GetPlayerId(pl)local integer T8local integer U8local real J47if not(ZT or AT)thenreturnendifif not J4 thenset LO4[112+O5]=(not LO4[112+O5])call DisplayTimedTextToPlayer(pl,0,0,10.,"AI DE/DG board is turned "+IG7(LO4[112+O5],"|c009090ffon|r","|c00ff9090off|r"))if not LO4[96+O5]thenreturnendifelseset LO4[96+O5]=trueendifset LO4[80+O5]=(LO4[112+O5]and LO4[96+O5])set O5=GetPlayerId(GetLocalPlayer())set J47=0if(ZT)thenset J47=J47+E17/2endifif(AT)thenset J47=J47+E17/2endifset T8=1set U8=3+IH4+IG4loopexitwhen T8>U8call x7(E4,14,T8,IJ7(LO4[80+O5],J47,0.01))set T8=T8+1endloopif(pl==GetLocalPlayer())thenset DG7=IsMultiboardMinimized(E4)call MultiboardMinimize(E4,true)endifcall O78()if(pl==GetLocalPlayer())thencall MultiboardMinimize(E4,DG7)endifendfunctionfunction GX9 takes nothing returns nothingcall MW9(GetTriggerPlayer(),false)endfunctionfunction MX9 takes nothing returns booleanlocal integer O5=1set AM4=truecall NM7(GetTriggeringTrigger())call DestroyMultiboard(A_4)call NX8()call DP9()call NU8()loopexitwhen O5>11if GetPlayerController(Player(O5))==MAP_CONTROL_USER thencall MV9(Player(O5),true)call MW9(Player(O5),true)endifset O5=O5+1endloopreturn falseendfunctionfunction ModeCM_SpawnSound takes nothing returns booleancall NM7(GetTriggeringTrigger())call PlaySoundBJ(TO)return falseendfunctionfunction MY9 takes nothing returns booleanlocal trigger t=CreateTrigger()local integer VF8local integer VE8local string S98local unit ulocal real xlocal real ylocal integer ilocal real dlocal real MZ9=GetRectCenterX(Z9)local real MA9=GetRectCenterY(Z9)local real MB9=GetRectCenterX(Y9)local real MC9=GetRectCenterY(Y9)set AQ4=3set OJ4=truecall NM7(GetTriggeringTrigger())set i=0loopexitwhen i==5set x=MZ9-300+i*150set y=MA9set u=CreateUnit(Y7[0],MW4[AV4[i]],x,y,270)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)call PanCameraToTimedForPlayer(Y7[i+1],MZ9,MA9,0)call CreateUnit(Y7[i+1],'n00C',MZ9,MA9,bj_UNIT_FACING)call SetPlayerState(Y7[i+1],PLAYER_STATE_RESOURCE_GOLD,AI4[GetPlayerId(Y7[i+1])]-250)set LK4[1+i]=uset i=i+1endloopset i=0loopexitwhen i==5set x=MB9-300+i*150set y=MC9set u=CreateUnit(Z7[0],MW4[AW4[i]],x,y,270)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_SELL)call PanCameraToTimedForPlayer(Z7[i+1],MB9,MC9,0)call CreateUnit(Z7[i+1],'n00C',MB9,MC9,bj_UNIT_FACING)call SetPlayerState(Z7[i+1],PLAYER_STATE_RESOURCE_GOLD,AI4[GetPlayerId(Z7[i+1])]-250)set LK4[7+i]=uset i=i+1endloopcall TriggerAddCondition(t,Condition(function MT9))call SuspendTimeOfDay(false)call EnableTrigger(NI4)call EnableTrigger(NG4)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,10,false)call TriggerAddCondition(t,Condition(function MX9))set P04=90call R27()set BK4=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,LJ4,false)call TriggerAddCondition(t,Condition(function KB9))call ExecuteFunc("M39")call DS9()set t=nullset u=nullreturn falseendfunctionfunction M69 takes integer i returns nothingcall R07(ME4[i])if AQ4==1 thenset AV4[AX4]=iset AX4=AX4+1elseset AW4[AY4]=iset AY4=AY4+1endifendfunctionfunction ML9 takes nothing returns nothinglocal integer i=SE7()loopif v[i]==false thenset v[i]=truecall M69(i)returnendifendloopendfunctionfunction M19 takes integer i returns nothingcall AT7("Ban"+I2S(GetPlayerId(GetOwningPlayer(GetSoldUnit()))),ME4[i])call R07(ME4[i])if AQ4==1 thenset AR4[AT4]=iset AT4=AT4+1elseset AS4[AU4]=iset AU4=AU4+1endifendfunctionfunction M09 takes nothing returns nothingcall M19(-1)endfunctionfunction M59 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player p=nullif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall M69(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call KQ9(GetUnitTypeId(GetSoldUnit()))if AZ4==0 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))if AQ4==1 thenset AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif AZ4==1 thenif AQ4==1 and AX4==4 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==4 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==2 thenif AQ4==1 and AX4==5 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==5 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function MY9))call M49(5)call MultiboardSetTitleText(A_4,GetObjectName('n0K6'))endifelseif GetTriggerEvalCount(t)>A34 thenif AN4[AQ4]>0 thenset AN4[AQ4]=AN4[AQ4]-1elseif AQ4==1 thencall ML9()elsecall ML9()endifif AZ4==0 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))if AQ4==1 thenset AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif AZ4==1 thenif AQ4==1 and AX4==4 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==4 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==2 thenif AQ4==1 and AX4==5 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=2set AO4[AQ4]=A34set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==5 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))set AQ4=1set AO4[AQ4]=A34set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function MY9))call M49(5)call MultiboardSetTitleText(A_4,GetObjectName('n0K6'))call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)endifendifelseif AQ4==1 thenset AO4[1]=AO4[1]-1elseset AO4[2]=AO4[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction M29 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player pif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif AT4==(AL4+A14)and AU4==(AL4+A14)thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RemoveUnit(GetSoldUnit())endifcall NM7(t)set AZ4=0set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M59))call M49(4)call S_7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName('n0L3')+"|r")call MultiboardSetTitleText(A_4,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L8'))if AQ4==1 thenset AO4[AQ4]=AC4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AO4[AQ4]=AC4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset LN4=falseset BJ4=pset t=nullset p=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall M19(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call KU9(GetUnitTypeId(GetSoldUnit()))call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M29))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AC4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AC4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif GetTriggerEvalCount(t)>AC4 thenif AN4[AQ4]>0 thenset AN4[AQ4]=AN4[AQ4]-1elsecall M09()call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M29))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AC4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AC4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pendifelseif AQ4==1 thenset AO4[1]=AO4[1]-1elseset AO4[2]=AO4[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction M_9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local player p=nullif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall M69(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call KQ9(GetUnitTypeId(GetSoldUnit()))if AZ4==0 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif AZ4==1 thenif AQ4==1 and AX4==2 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==2 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==2 thenif AQ4==1 and AX4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==3 thenset AZ4=AZ4+1call NM7(t)if AP4==1 thenset AQ4=1set AO4[AQ4]=AC4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=2set p=Z7[1]set AO4[AQ4]=AC4call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M29))call M49(3)call S_7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName('n0L4')+"|r")call MultiboardSetTitleText(A_4,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L7'))set BJ4=pset LN4=trueendifelseif GetTriggerEvalCount(t)>AB4 thenif AN4[AQ4]>0 thenset AN4[AQ4]=AN4[AQ4]-1elseif AQ4==1 thencall ML9()elsecall ML9()endifif AZ4==0 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif AZ4==1 thenif AQ4==1 and AX4==2 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==2 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,500)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==2 thenif AQ4==1 and AX4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=2set AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseif AQ4==2 and AY4==3 thenset AZ4=AZ4+1call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))set AQ4=1set AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifif p!=null thenset BJ4=pendifelseif AZ4==3 thenset AZ4=AZ4+1call NM7(t)if AP4==1 thenset AQ4=1set AO4[AQ4]=AC4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=2set p=Z7[1]set AO4[AQ4]=AC4call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M29))call M49(3)call S_7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName('n0L4')+"|r")call MultiboardSetTitleText(A_4,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L7'))set BJ4=pset LN4=trueendifendifelseif AQ4==1 thenset AO4[1]=AO4[1]-1elseset AO4[2]=AO4[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction N49 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local trigger t2local player pif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL and IsUnitType(GetSoldUnit(),UNIT_TYPE_HERO)==false thenset t=nullreturn falseendifif AT4==AL4 and AU4==AL4 thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall RemoveUnit(GetSoldUnit())endifcall NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function M_9))call M49(2)call S_7(bj_FORCE_ALL_PLAYERS,15.00,"|c006699CC"+GetObjectName('n0L5')+"|r")call MultiboardSetTitleText(A_4,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0L9'))if AQ4==1 thenset AO4[AQ4]=AB4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AO4[AQ4]=AB4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pset LN4=falseset t=nullset p=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELL thencall M19(GetUnitPointValue(GetSoldUnit()))call RemoveUnit(GetSoldUnit())call KU9(GetUnitTypeId(GetSoldUnit()))call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function N49))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AA4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AA4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pelseif GetTriggerEvalCount(t)>AA4 thenif AN4[AQ4]>0 thenset AN4[AQ4]=AN4[AQ4]-1elsecall M09()call NM7(t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function N49))if AQ4==1 thenset AQ4=2set AO4[AQ4]=AA4set p=Z7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=1set AO4[AQ4]=AA4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call VG7(p,"Sound\\Interface\\Rescue.wav")endifset BJ4=pendifelseif AQ4==1 thenset AO4[1]=AO4[1]-1elseset AO4[2]=AO4[2]-1endifendifendifset t=nullset p=nullreturn falseendfunctionfunction N79 takes nothing returns booleanlocal trigger t=CreateTrigger()local trigger t2local player pset AK4=truecall NM7(GetTriggeringTrigger())if AJ4==false thenif AP4==1 thencall S_7(bj_FORCE_ALL_PLAYERS,15.00,K[GetPlayerId(Y7[1])]+(M74[GetPlayerId((Y7[1]))])+"|r "+GetObjectName('n0EA'))elsecall S_7(bj_FORCE_ALL_PLAYERS,15.00,K[GetPlayerId(Z7[1])]+(M74[GetPlayerId((Z7[1]))])+"|r "+GetObjectName('n0EA'))endifendifif AP4==1 thenset AQ4=1set AO4[AQ4]=AA4set p=Y7[1]call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")elseset AQ4=2set p=Z7[1]set AO4[AQ4]=AA4call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,250)call VG7(p,"Sound\\Interface\\Rescue.wav")endifcall M49(1)call S_7(GetPlayersAll(),15.00,"|c006699CC"+GetObjectName('n0L6')+"|r")call MultiboardSetTitleText(A_4,GetObjectName('n0K6')+" - |c00ffffff"+GetObjectName('n0LA'))call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function N49))set BK4=trueset LN4=trueset BJ4=pset t2=CreateTrigger()call TriggerRegisterTimerEvent(t2,1,true)call TriggerAddCondition(t2,Condition(function KW9))set t2=nullset t=nullset p=nullreturn falseendfunctionfunction KI9 takes nothing returns nothinglocal trigger tlocal location N89=GetRectCenter(pr)local location N99=GetRectCenter(qr)local integer x=1local player pcall DisableTrigger(QR4)loopexitwhen x>5if R87(Y7[x])thencall CreateUnitAtLoc(Y7[x],'n00C',N99,bj_UNIT_FACING)endifif R87(Z7[x])thencall CreateUnitAtLoc(Z7[x],'n00C',N89,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(N89)call RemoveLocation(N99)set RA4=trueset E9=falseset D9=falseset OJ4=falsecall SuspendTimeOfDay(true)call DisableTrigger(NI4)call DisableTrigger(NG4)if BD4==false thencall KY9()endifset AI4[GetPlayerId(Y7[1])]=GetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Y7[2])]=GetPlayerState(Y7[2],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Y7[3])]=GetPlayerState(Y7[3],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Y7[4])]=GetPlayerState(Y7[4],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Y7[5])]=GetPlayerState(Y7[5],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Z7[1])]=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Z7[2])]=GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Z7[3])]=GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Z7[4])]=GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)set AI4[GetPlayerId(Z7[5])]=GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)call SetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Y7[2],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Y7[3],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Y7[4],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Y7[5],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD,0)call SetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD,0)set AN4[1]=A64set AN4[2]=A64set AP4=GetRandomInt(1,2)set AJ4=falseset AQ4=AP4set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15-TimerGetElapsed(P),false)call TriggerAddCondition(t,Condition(function N79))call MQ9()call S_7(GetPlayersAll(),4.00,GetObjectName('n0ES'))call S_7(GetPlayersAll(),4.00,GetObjectName('n0ER'))set t=nullset N89=nullset N99=nullset p=nullendfunctionfunction ND9 takes player p,integer z8 returns nothinglocal integer i=1loopexitwhen i>5if p!=Y7[i]thencall SetPlayerTechMaxAllowed(Y7[i],z8,0)endifif p!=Z7[i]thencall SetPlayerTechMaxAllowed(Z7[i],z8,0)endifset i=i+1endloopendfunctionfunction NE9 takes integer NF9 returns integerlocal integer NG9if NF9==1 thenset NG9=GetUnitPointValueByType(MK4[GetRandomInt(1,MM4)])elseif NF9==2 thenset NG9=GetUnitPointValueByType(MN4[GetRandomInt(1,MO4)])elseif NF9==3 thenset NG9=GetUnitPointValueByType(MP4[GetRandomInt(1,MQ4)])endifreturn NG9endfunctionfunction NH9 takes integer NI9,integer NJ9,integer NF9 returns integerlocal integer NG9set NG9=NE9(NF9)if V8 and NI9!=NG9 and NJ9!=NG9 thenreturn NG9endifloopexitwhen v[NG9]==false and NI9!=NG9 and NJ9!=NG9set NG9=NE9(NF9)endloopset v[NG9]=truereturn NG9endfunctionfunction JW9 takes nothing returns nothinglocal player plocal integer i=1local integer NI9local integer NJ9local integer NK9local trigger tlocal integer NO7set PT=trueset P04=120set D9=falseset E9=falsecall PauseUnit(MC4,true)call PauseUnit(M34,true)call PauseUnit(M64,true)call PauseUnit(ML4,true)call PauseUnit(M14,true)call PauseUnit(M04,true)call PauseUnit(M54,true)call PauseUnit(M24,true)call PauseUnit(M_4,true)call PauseUnit(N44,true)call PauseUnit(N74,true)call PauseUnit(N84,true)call DisableTrigger(QR4)loopexitwhen i>5set p=Y7[i]set NI9=0set NJ9=0set NK9=0if RD7(p)thencall UnitAddAbility(K04[GetPlayerId(p)],'A14F')call UnitAddAbility(K04[GetPlayerId(p)],'A14E')call UnitAddAbility(K04[GetPlayerId(p)],'A14H')set NI9=NH9(NI9,NJ9,1)set NJ9=NH9(NI9,NJ9,2)set NK9=NH9(NI9,NJ9,3)call AddUnitToStock(K04[GetPlayerId(p)],ME4[NI9],1,1)call ND9(p,ME4[NI9])call AddUnitToStock(K04[GetPlayerId(p)],ME4[NJ9],1,1)call ND9(p,ME4[NJ9])call AddUnitToStock(K04[GetPlayerId(p)],ME4[NK9],1,1)call ND9(p,ME4[NK9])call ClearSelectionForPlayer(p)call SelectUnitAddForPlayer(K04[GetPlayerId(p)],p)call PanCameraToTimedForPlayer(p,GetRectCenterX(Z9),GetRectCenterY(Z9),0)call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15,"|cff99ccff"+(GetObjectName(('n0E6')))+"|r")call DisplayTimedTextToPlayer(p,0,L8,15," ")endifset p=Z7[i]set NI9=0set NJ9=0set NK9=0if RD7(p)thencall UnitAddAbility(K04[GetPlayerId(p)],'A14F')call UnitAddAbility(K04[GetPlayerId(p)],'A14E')call UnitAddAbility(K04[GetPlayerId(p)],'A14H')set NI9=NH9(NI9,NJ9,1)set NJ9=NH9(NI9,NJ9,2)set NK9=NH9(NI9,NJ9,3)call AddUnitToStock(K04[GetPlayerId(p)],ME4[NI9],1,1)call ND9(p,ME4[NI9])call AddUnitToStock(K04[GetPlayerId(p)],ME4[NJ9],1,1)call ND9(p,ME4[NJ9])call AddUnitToStock(K04[GetPlayerId(p)],ME4[NK9],1,1)call ND9(p,ME4[NK9])call ClearSelectionForPlayer(p)call SelectUnitAddForPlayer(K04[GetPlayerId(p)],p)call PanCameraToTimedForPlayer(p,GetRectCenterX(Y9),GetRectCenterY(Y9),0)call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15," ")call DisplayTimedTextToPlayer(p,0,L8,15,"|cff99ccff"+(GetObjectName(('n0E6')))+"|r")call DisplayTimedTextToPlayer(p,0,L8,15," ")endifset i=i+1endloopset p=nullset t=nullendfunctionfunction NM9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer RZ8=M_7(NO7,"Index")local player plocal integer SF7local location BE7=GetRectCenter(Z9)local location BF7=GetRectCenter(Y9)if RZ8<6 thenset p=Y7[RZ8]elseif RZ8<11 thenset p=Z7[RZ8-5]endifif RZ8>10 thencall K_7(NO7)call NM7(t)if W==false and RJ4==false thenset E9=trueendifelseif RZ8<6 thencall M87(NO7,"Index",RZ8+1)set G7[GetPlayerId(p)]=nullif RD7(p)thenloopexitwhen G7[GetPlayerId(p)]!=nullif GetPlayerController(p)==MAP_CONTROL_USER and RJ4 thenset SF7=500elseif RJ4 thenset SF7=SD7()elseset SF7=SE7()endifif v[SF7]==false thenif not V8 and not RJ4 thenset v[SF7]=trueendifset G7[GetPlayerId(p)]=CreateUnitAtLoc(p,ME4[SF7],BE7,bj_UNIT_FACING)endifendloopendifelseif RZ8<11 thencall M87(NO7,"Index",RZ8+1)set G7[GetPlayerId(p)]=nullif RD7(p)thenloopexitwhen G7[GetPlayerId(p)]!=nullif p==Le and RJ4 thenset SF7=500elseif RJ4 thenset SF7=SD7()elseset SF7=SE7()endifif v[SF7]==false thenif not V8 thenset v[SF7]=trueendifset G7[GetPlayerId(p)]=CreateUnitAtLoc(p,ME4[SF7],BF7,bj_UNIT_FACING)endifendloopendifendifcall RemoveLocation(BE7)call RemoveLocation(BF7)set BE7=nullset BF7=nullset p=nullset t=nullreturn falseendfunctionfunction JT9 takes nothing returns nothinglocal location BE7=GetRectCenter(Z9)local location BF7=GetRectCenter(Y9)local location NN9=GetRectCenter(Z9)local location NO9=GetRectCenter(Y9)local integer T8=1local integer U8=5local integer SF7local trigger tset B=trueset D9=falseif not V8 thencall R27()endifcall DisableTrigger(QR4)set V4=400call PanCameraToTimedLocForPlayer(Y7[1],NN9,0)call PanCameraToTimedLocForPlayer(Y7[2],NN9,0)call PanCameraToTimedLocForPlayer(Y7[3],NN9,0)call PanCameraToTimedLocForPlayer(Y7[4],NN9,0)call PanCameraToTimedLocForPlayer(Y7[5],NN9,0)call PanCameraToTimedLocForPlayer(Z7[1],NO9,0)call PanCameraToTimedLocForPlayer(Z7[2],NO9,0)call PanCameraToTimedLocForPlayer(Z7[3],NO9,0)call PanCameraToTimedLocForPlayer(Z7[4],NO9,0)call PanCameraToTimedLocForPlayer(Z7[5],NO9,0)if IJ4 thenloopset SF7=SE7()exitwhen v[SF7]==falseendloopif Q_7(Le)thenset G7[GetPlayerId(Le)]=CreateUnit(Le,ME4[SF7],GetLocationX(BE7),GetLocationY(BE7),270)elseset G7[GetPlayerId(Le)]=CreateUnit(Le,ME4[SF7],GetLocationX(BF7),GetLocationY(BF7),270)endifcall RemoveLocation(BE7)call RemoveLocation(BF7)call RemoveLocation(NN9)call RemoveLocation(NO9)set BE7=nullset BF7=nullset NN9=nullset NO9=nullset t=nullreturnendifset E9=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function NM9))call M87(GetHandleId(t),"Index",1)call RemoveLocation(BE7)call RemoveLocation(BF7)call RemoveLocation(NN9)call RemoveLocation(NO9)set BE7=nullset BF7=nullset NN9=nullset NO9=nullset t=nullendfunctionfunction Q2 takes nothing returns nothingcall VW7(GetEnumUnit())endfunctionfunction Q3 takes unit TX7 returns nothinglocal integer Q4=GetPlayerId(GetOwningPlayer(TX7))set se[Q4]=UnitItemInSlot(TX7,0)set Se[Q4]=UnitItemInSlot(TX7,1)set We[Q4]=UnitItemInSlot(TX7,2)set ze[Q4]=UnitItemInSlot(TX7,3)set Ze[Q4]=UnitItemInSlot(TX7,4)set vx[Q4]=UnitItemInSlot(TX7,5)endfunctionfunction Q5 takes player h5,player h6 returns integerlocal unit Q6=G7[GetPlayerId(h5)]local unit Q7=G7[GetPlayerId(h6)]call UnitRemoveBuffs(Q6,true,true)call UnitRemoveBuffs(Q7,true,true)if Q6==null and Q7==null thencall S_7(bj_FORCE_ALL_PLAYERS,15,K[GetPlayerId(Y7[0])]+S57(h5)+" and "+S57(h6)+" did not pick a hero so they have no hero to be assigned.|r")elseif GetRandomInt(1,2)==1 thenif(Q6!=null)thenreturn GetUnitTypeId(Q6)elsereturn GetUnitTypeId(Q7)endifelseif(Q7!=null)thenreturn GetUnitTypeId(Q7)elsereturn GetUnitTypeId(Q6)endifendifcall S_7(bj_FORCE_ALL_PLAYERS,15,K[GetPlayerId(Y7[0])]+S57(h5)+" and "+S57(h6)+" have not picked a hero. They will be given a random hero!")return SE7()endfunctionfunction Q8 takes nothing returns nothingif(GetUnitTypeId(GetEnumUnit())=='n004')thencall RemoveUnit(GetEnumUnit())endifif(GetUnitTypeId(GetEnumUnit())=='o003')thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction Q9 takes nothing returns booleanlocal integer T8local group ra=TL7()local unit rAlocal location NN9=GetRectCenter(Z9)local location NO9=GetRectCenter(Y9)local integer rb=P8(W7)local player array rBlocal player array rclocal integer xlocal integer ylocal real rClocal real rdlocal real rDlocal integer relocal group B47=GetUnitsInRectMatching(GetWorldBounds(),null)call ForGroup(B47,function Q8)call T67(B47)set T8=1set x=1set y=1loopexitwhen T8>5if(RD7(Y7[T8]))thencall Q3(G7[GetPlayerId(Y7[T8])])call GroupAddUnit(ra,G7[GetPlayerId(Y7[T8])])set rB[x]=Y7[T8]set x=x+1endifif(RD7(Z7[T8]))thencall Q3(G7[GetPlayerId(Z7[T8])])call GroupAddUnit(ra,G7[GetPlayerId(Z7[T8])])set rc[y]=Z7[T8]set y=y+1endifset T8=T8+1endloopset x=1loopexitwhen x>rbset re=Q5(rB[x],rc[x])if(G7[GetPlayerId(rB[x])]==null)thenset rC=GetLocationX(NN9)+GetRandomReal(1,40)set rd=GetLocationY(NN9)+GetRandomReal(1,40)set rD=270elseset rC=GetUnitX(G7[GetPlayerId(rB[x])])set rd=GetUnitY(G7[GetPlayerId(rB[x])])set rD=GetUnitFacing(G7[GetPlayerId(rB[x])])call SetUnitPathing(G7[GetPlayerId(rB[x])],false)endifset G7[GetPlayerId(rB[x])]=CreateUnit(rB[x],re,rC,rd,rD)call SetUnitPathing(G7[GetPlayerId(rB[x])],false)call SetUnitPosition(G7[GetPlayerId(rB[x])],rC,rd)call UnitAddItem(G7[GetPlayerId(rB[x])],se[GetPlayerId(rB[x])])call UnitAddItem(G7[GetPlayerId(rB[x])],Se[GetPlayerId(rB[x])])call UnitAddItem(G7[GetPlayerId(rB[x])],We[GetPlayerId(rB[x])])call UnitAddItem(G7[GetPlayerId(rB[x])],ze[GetPlayerId(rB[x])])call UnitAddItem(G7[GetPlayerId(rB[x])],Ze[GetPlayerId(rB[x])])call UnitAddItem(G7[GetPlayerId(rB[x])],vx[GetPlayerId(rB[x])])call ClearSelectionForPlayer(rB[x])call SelectUnitAddForPlayer(G7[GetPlayerId(rB[x])],rB[x])call PanCameraToTimedForPlayer(rB[x],rC,rd,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))if(G7[GetPlayerId(rc[x])]==null)thenset rC=GetLocationX(NO9)set rd=GetLocationY(NO9)set rD=270elseset rC=GetUnitX(G7[GetPlayerId(rc[x])])set rd=GetUnitY(G7[GetPlayerId(rc[x])])set rD=GetUnitFacing(G7[GetPlayerId(rc[x])])call SetUnitPathing(G7[GetPlayerId(rc[x])],false)endifset G7[GetPlayerId(rc[x])]=CreateUnit(rc[x],re,rC,rd,rD)call SetUnitPathing(G7[GetPlayerId(rc[x])],false)call SetUnitPosition(G7[GetPlayerId(rc[x])],rC,rd)call UnitAddItem(G7[GetPlayerId(rc[x])],se[GetPlayerId(rc[x])])call UnitAddItem(G7[GetPlayerId(rc[x])],Se[GetPlayerId(rc[x])])call UnitAddItem(G7[GetPlayerId(rc[x])],We[GetPlayerId(rc[x])])call UnitAddItem(G7[GetPlayerId(rc[x])],ze[GetPlayerId(rc[x])])call UnitAddItem(G7[GetPlayerId(rc[x])],Ze[GetPlayerId(rc[x])])call UnitAddItem(G7[GetPlayerId(rc[x])],vx[GetPlayerId(rc[x])])call ClearSelectionForPlayer(rc[x])call SelectUnitAddForPlayer(G7[GetPlayerId(rc[x])],rc[x])call PanCameraToTimedForPlayer(rc[x],rC,rd,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Awaken\\Awaken.mdl",rC,rd))set x=x+1endloopcall ForGroup(ra,function Q2)call T67(ra)set x=1loopexitwhen x>rbcall SetUnitPathing(G7[GetPlayerId(rB[x])],true)call SetUnitPathing(G7[GetPlayerId(rc[x])],true)set x=x+1endloopcall RemoveLocation(NN9)call RemoveLocation(NO9)set ra=nullset rA=nullset NN9=nullset NO9=nullset B47=nullreturn falseendfunctionfunction rE takes nothing returns booleanset AJ=truereturn falseendfunctionfunction rf takes nothing returns booleanset E9=falseset D9=falsecall R27()return falseendfunctionfunction JK9 takes nothing returns nothinglocal trigger t=CreateTrigger()call S_7(B8,10,"Your hero might change at the 60 second mark.")call S_7(B8,10,"It is recommended to not purchase items until then.")set R8=truecall R07('H00I')call TriggerRegisterTimerEvent(t,60-TimerGetElapsed(P),false)call TriggerAddCondition(t,Condition(function Q9))set t=CreateTrigger()call TriggerAddCondition(t,Condition(function rf))call TriggerRegisterTimerEvent(t,57-TimerGetElapsed(P),false)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,55+60-TimerGetElapsed(P),false)call TriggerAddCondition(t,Condition(function rE))set t=nullendfunctionfunction JV9 takes nothing returns nothinglocal location BE7=GetRectCenter(C9)local location BF7=GetRectCenter(B9)local location NN9=GetRectCenter(Z9)local location NO9=GetRectCenter(Y9)local integer T8local integer U8local integer SF7if not V8 thencall R27()endifcall DisableTrigger(QR4)set C=trueset V4=400set D9=falsecall PanCameraToTimedLocForPlayer(Y7[1],NN9,0)call PanCameraToTimedLocForPlayer(Y7[2],NN9,0)call PanCameraToTimedLocForPlayer(Y7[3],NN9,0)call PanCameraToTimedLocForPlayer(Y7[4],NN9,0)call PanCameraToTimedLocForPlayer(Y7[5],NN9,0)call PanCameraToTimedLocForPlayer(Z7[1],NO9,0)call PanCameraToTimedLocForPlayer(Z7[2],NO9,0)call PanCameraToTimedLocForPlayer(Z7[3],NO9,0)call PanCameraToTimedLocForPlayer(Z7[4],NO9,0)call PanCameraToTimedLocForPlayer(Z7[5],NO9,0)if IJ4 thenif Q_7(Le)thenloopset SF7=GetRandomInt(MG4,MH4)exitwhen v[SF7]==falseendloopset G7[GetPlayerId(Le)]=CreateUnit(Le,ME4[SF7],GetLocationX(BE7),GetLocationY(BE7),270)elseloopset SF7=GetRandomInt(MI4,MJ4)exitwhen v[SF7]==falseendloopset G7[GetPlayerId(Le)]=CreateUnit(Le,ME4[SF7],GetLocationX(BF7),GetLocationY(BF7),270)endifcall RemoveLocation(BE7)call RemoveLocation(BF7)call RemoveLocation(NN9)call RemoveLocation(NO9)returnendifset E9=falseset T8=1set U8=5loopexitwhen T8>U8set G7[GetPlayerId(Y7[T8])]=nullif(RD7(Y7[T8]))thenloopset SF7=GetRandomInt(MG4,MH4)if(v[SF7]==false)thenif not V8 thenset v[SF7]=trueendifset G7[GetPlayerId(Y7[T8])]=CreateUnitAtLoc(Y7[T8],ME4[SF7],BE7,bj_UNIT_FACING)endifexitwhen(G7[GetPlayerId(Y7[T8])]!=null)endloopendifset T8=T8+1endloopset T8=1set U8=5loopexitwhen T8>U8set G7[GetPlayerId(Z7[T8])]=nullif(RD7(Z7[T8]))thenloopset SF7=GetRandomInt(MI4,MJ4)if(v[SF7]==false)thenif not V8 thenset v[SF7]=trueendifset G7[GetPlayerId(Z7[T8])]=CreateUnitAtLoc(Z7[T8],ME4[SF7],BF7,bj_UNIT_FACING)endifexitwhen(G7[GetPlayerId(Z7[T8])]!=null)endloopendifset T8=T8+1endloopset E9=truecall RemoveLocation(BE7)call RemoveLocation(BF7)call RemoveLocation(NN9)call RemoveLocation(NO9)endfunctionfunction rF takes nothing returns nothingset O24=truecall S_7(bj_FORCE_ALL_PLAYERS,10,"No Deaths has been enabled. You will have no respawn time.")call DisableTrigger(GetTriggeringTrigger())endfunctionfunction rg takes nothing returns nothinglocal integer rG=S2I(SubString(GetEventPlayerChatString(),6,StringLength(GetEventPlayerChatString())))if rG>O_4 thencall VH7(Le,"Too many lives")elseif rG<10 thencall VH7(Le,"Too few lives")elseset O_4=rGcall S_7(bj_FORCE_ALL_PLAYERS,10,"Each team has "+I2S(O_4)+" lives before they lose the game.")call DisableTrigger(GetTriggeringTrigger())endifendfunctionfunction rh takes nothing returns nothingcall DisableTrigger(M37(GetHandleId(GetTriggeringTrigger()),"nd"))call DisableTrigger(M37(GetHandleId(GetTriggeringTrigger()),"lives"))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction NP9 takes nothing returns nothinglocal trigger ri=CreateTrigger()local trigger rI=CreateTrigger()local trigger nd=CreateTrigger()set O_4=VY7(MH4,MJ4-MI4+1)call S_7(bj_FORCE_ALL_PLAYERS,10.," ")call S_7(bj_FORCE_ALL_PLAYERS,10.,"Extra commands: -nd and -lives xx can be entered in the following 15 seconds. ")call S_7(bj_FORCE_ALL_PLAYERS,10.,"Current DM lives are "+I2S(O_4))call TriggerRegisterTimerEvent(ri,15.,false)call TriggerAddAction(ri,function rh)call MH7(GetHandleId(ri),"nd",nd)call MH7(GetHandleId(ri),"lives",rI)call TriggerRegisterPlayerChatEvent(nd,Le,"-nd",true)call TriggerAddAction(nd,function rF)call TriggerRegisterPlayerChatEvent(rI,Le,"-lives",false)call TriggerAddAction(rI,function rg)endfunctionfunction NQ9 takes nothing returns nothinglocal integer rJ=M_7(GetHandleId(GetTriggeringTrigger()),"PlayerId")local integer T8local integer U8local integer SF7local integer QMlocal location BE7=GetRectCenter(pr)local location BF7=GetRectCenter(qr)if C8 thenreturnendifif Q_7(Player(rJ))thenset T8=MG4set U8=MH4set QM=0elseset T8=MI4set U8=MJ4set QM=1endifif L thenset T8=MG4set U8=MJ4if Q_7(Player(rJ))thencall CreateUnitAtLoc(Player(rJ),'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Player(rJ),'n00C',BF7,bj_UNIT_FACING)elsecall CreateUnitAtLoc(Player(rJ),'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Player(rJ),'n00C',BF7,bj_UNIT_FACING)endifendifif((not B)and(GetPlayerController(Player(rJ))==MAP_CONTROL_USER))thenloopexitwhen T8>U8if v[T8]==false thencall SetPlayerTechMaxAllowed(Player(rJ),ME4[T8],1)endifset T8=T8+1endloopif(GetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD)<250)thencall SetPlayerState(Player(rJ),PLAYER_STATE_RESOURCE_GOLD,250)endifelseif(Oe[QM]<O_4)thenset G7[rJ]=nullif RD7(Player(rJ))thenloopif(B)thenset SF7=SE7()elseif RJ4 thenset SF7=SD7()elseif(((not L)and(Q_7(Player(rJ))))or((L)and(GetRandomInt(1,2)==1)))thenset SF7=GetRandomInt(MG4,MH4)elseset SF7=GetRandomInt(MI4,MJ4)endifif v[SF7]==false thenif RJ4==false thenset v[SF7]=trueendifif Q_7(Player(rJ))thenset G7[rJ]=CreateUnitAtLoc(Player(rJ),ME4[SF7],BE7,bj_UNIT_FACING)elseset G7[rJ]=CreateUnitAtLoc(Player(rJ),ME4[SF7],BF7,bj_UNIT_FACING)endifendifexitwhen G7[rJ]!=nullendloopendifendifcall RemoveLocation(BE7)call RemoveLocation(BF7)if not B thenendifendfunctionfunction JJ9 takes nothing returns nothinglocal location Mklocal real CPvlocal trigger tlocal integer rklocal integer xset W=truecall R07('H00I')call R07('N01W')set x=1loopexitwhen x>5set rk=GetPlayerId(Y7[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,N[rk])call TriggerAddAction(t,function NQ9)call M87(GetHandleId(t),"PlayerId",rk)set rk=GetPlayerId(Z7[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,N[rk])call TriggerAddAction(t,function NQ9)call M87(GetHandleId(t),"PlayerId",rk)set x=x+1endloopcall UnitRemoveAbility(KX4,'Aawa')call UnitRemoveAbility(KY4,'Aawa')call UnitRemoveAbility(KZ4,'Aawa')call UnitRemoveAbility(KA4,'Aawa')call UnitRemoveAbility(KB4,'Aawa')call UnitRemoveAbility(KC4,'Aawa')call UnitRemoveAbility(K34,'Aawa')call UnitRemoveAbility(K64,'Aawa')call UnitRemoveAbility(KL4,'Aawa')call UnitRemoveAbility(K14,'Aawa')call ExecuteFunc("NP9")endfunctionfunction KF9 takes nothing returns nothinglocal location P0=GetRectCenter(C9)local location P3=GetRectCenter(B9)local location Qn=GetRectCenter(Z9)local location QN=GetRectCenter(Y9)local integer hK=1local integer hl=5local trigger tlocal integer rklocal integer xset RJ4=trueset O_4=9999999call R07('H00I')call R07('N01W')call R07('H00U')call R07('Nfir')set x=MG4loopexitwhen x>MJ4set A0[x]=falseset x=x+1endloopset x=1loopexitwhen x>5if GetPlayerController(Y7[x])==MAP_CONTROL_COMPUTER thenset rk=GetPlayerId(Y7[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,N[rk])call TriggerAddAction(t,function NQ9)call M87(GetHandleId(t),"PlayerId",rk)endifif GetPlayerController(Z7[x])==MAP_CONTROL_COMPUTER thenset rk=GetPlayerId(Z7[x])set t=CreateTrigger()call TriggerRegisterTimerExpireEvent(t,N[rk])call TriggerAddAction(t,function NQ9)call M87(GetHandleId(t),"PlayerId",rk)endifset x=x+1endloopcall DisableTrigger(QR4)set D9=falsecall R27()set V4=400set E9=falseset t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function NM9))call M87(GetHandleId(t),"Index",1)call RemoveLocation(P0)call RemoveLocation(P3)call RemoveLocation(Qn)call RemoveLocation(QN)set P0=nullset P3=nullset Qn=nullset QN=nullset t=nullendfunctionfunction JX9 takes nothing returns nothinglocal integer rK=GetRandomInt(1,4)set Ox=trueif(rK==1)thencall S_7(bj_FORCE_ALL_PLAYERS,20.,"AP has been randomly selected as your mode!")call S_7(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("JU9")elseif(rK==2)thencall S_7(bj_FORCE_ALL_PLAYERS,20.,"AR has been randomly selected as your mode!")call S_7(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("JT9")elseif(rK==3)thencall S_7(bj_FORCE_ALL_PLAYERS,20.,"TR has been randomly selected as your mode!")call S_7(bj_FORCE_ALL_PLAYERS,20.," ")call ExecuteFunc("JV9")elseif(rK==4)thencall S_7(bj_FORCE_ALL_PLAYERS,20.,"Normal has been randomly selected as your mode!")call S_7(bj_FORCE_ALL_PLAYERS,20.," ")endifendfunctionfunction JS9 takes nothing returns nothingset V8=truecall R07('H00I')endfunctionfunction JH9 takes nothing returns nothinglocal integer BD7=P8(W7)local integer B97=P8(X7)local integer D5=BD7+B97local integer T8local integer NR9local integer xlocal integer ylocal integer zlocal player array NS9local player array NT9local integer wlocal integer NU9local integer NV9local location NN9=GetRectCenter(Z9)local location NO9=GetRectCenter(Y9)local location BE7=GetRectCenter(pr)local location BF7=GetRectCenter(qr)set ge=truecall MZ8(Y7[1])call MZ8(Y7[2])call MZ8(Y7[3])call MZ8(Y7[4])call MZ8(Y7[5])call MZ8(Z7[1])call MZ8(Z7[2])call MZ8(Z7[3])call MZ8(Z7[4])call MZ8(Z7[5])set x=1loopexitwhen x>5if RD7(Y7[x])thencall CreateUnitAtLoc(Y7[x],'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Y7[x],'n00C',BF7,bj_UNIT_FACING)endifif RD7(Z7[x])thencall CreateUnitAtLoc(Z7[x],'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Z7[x],'n00C',BF7,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(BE7)call RemoveLocation(BF7)set NU9=GetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[5],PLAYER_STATE_RESOURCE_GOLD)set NV9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)set NS9[1]=nullset NS9[2]=nullset NS9[3]=nullset NS9[4]=nullset NS9[5]=nullset NS9[6]=nullset NS9[7]=nullset NS9[8]=nullset NS9[9]=nullset NS9[10]=nullset z=1set w=1set T8=1loopexitwhen T8>5if(RD7(Y7[T8]))thenset NS9[w]=Y7[T8]set w=w+1elseset NT9[z]=Y7[T8]set z=z+1endifset T8=T8+1endloopset T8=1loopexitwhen T8>5if(RD7(Z7[T8]))thenset NS9[w]=Z7[T8]set w=w+1elseset NT9[z]=Z7[T8]set z=z+1endifset T8=T8+1endloopset Y7[1]=nullset Y7[2]=nullset Y7[3]=nullset Y7[4]=nullset Y7[5]=nullset Z7[1]=nullset Z7[2]=nullset Z7[3]=nullset Z7[4]=nullset Z7[5]=nullset T8=1loopexitwhen T8>(D5/ 2)set NR9=GetRandomInt(1,D5)if(NS9[NR9]!=null)thenset Y7[T8]=NS9[NR9]set NS9[NR9]=nullset T8=T8+1endifendloopset x=T8set T8=1loopexitwhen T8>D5-x+1set NR9=GetRandomInt(1,D5)if(NS9[NR9]!=null)thenset Z7[T8]=NS9[NR9]set NS9[NR9]=nullset T8=T8+1endifendloopset z=T8set T8=xset y=1loopexitwhen T8>5set Y7[T8]=NT9[y]set y=y+1set T8=T8+1endloopset T8=zloopexitwhen T8>5set Z7[T8]=NT9[y]set y=y+1set T8=T8+1endloopset T8=0loopexitwhen T8>5set T8=T8+1endloopcall SetPlayerTeam(Y7[0],0)call SetPlayerTeam(Y7[1],0)call SetPlayerTeam(Y7[2],0)call SetPlayerTeam(Y7[3],0)call SetPlayerTeam(Y7[4],0)call SetPlayerTeam(Y7[5],0)call SetPlayerTeam(Z7[0],1)call SetPlayerTeam(Z7[1],1)call SetPlayerTeam(Z7[2],1)call SetPlayerTeam(Z7[3],1)call SetPlayerTeam(Z7[4],1)call SetPlayerTeam(Z7[5],1)call AM7()set x=0set y=0loopexitwhen x>5loopexitwhen y>5call SetPlayerAllianceStateBJ(Y7[x],Y7[y],3)call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)call SetPlayerAllianceStateBJ(Y7[x],Z7[y],0)call SetPlayerAllianceStateBJ(Z7[x],Y7[y],0)set y=y+1endloopset y=0set x=x+1endloopcall ForceClear(W7)call ForceClear(X7)call ForceAddPlayer(W7,Y7[0])call ForceAddPlayer(W7,Y7[1])call ForceAddPlayer(W7,Y7[2])call ForceAddPlayer(W7,Y7[3])call ForceAddPlayer(W7,Y7[4])call ForceAddPlayer(W7,Y7[5])call ForceAddPlayer(X7,Z7[0])call ForceAddPlayer(X7,Z7[1])call ForceAddPlayer(X7,Z7[2])call ForceAddPlayer(X7,Z7[3])call ForceAddPlayer(X7,Z7[4])call ForceAddPlayer(X7,Z7[5])call ExecuteFunc("A57")call NX8()set BD7=P8(W7)set B97=P8(X7)set T8=1loopexitwhen T8>5if(RD7(Y7[T8]))thencall SetPlayerStateBJ(Y7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ BD7))call SetPlayerStateBJ(Y7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(RD7(Z7[T8]))thencall SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ B97))call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopif O8 thenset x=0loopexitwhen x>5call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall AK7()set NN9=nullset NO9=nullset BE7=nullset BF7=nullendfunctionfunction JI9 takes nothing returns nothinglocal integer BD7=P8(W7)local integer B97=P8(X7)local integer D5=BD7+B97local integer T8local integer NR9local integer xlocal integer ylocal integer zlocal player array NS9local player array NT9local integer wlocal integer NU9local integer NV9local location NN9local location NO9local location BE7local location BF7local integer NW9set NW9=GetRandomInt(1,2)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10,(GetObjectName(('n0GY'))))if NW9==1 thenreturnendifset jj=trueset NN9=GetRectCenter(Z9)set NO9=GetRectCenter(Y9)set BE7=GetRectCenter(pr)set BF7=GetRectCenter(qr)call MZ8(Y7[1])call MZ8(Y7[2])call MZ8(Y7[3])call MZ8(Y7[4])call MZ8(Y7[5])call MZ8(Z7[1])call MZ8(Z7[2])call MZ8(Z7[3])call MZ8(Z7[4])call MZ8(Z7[5])set x=1loopexitwhen x>5if RD7(Y7[x])thencall CreateUnitAtLoc(Y7[x],'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Y7[x],'n00C',BF7,bj_UNIT_FACING)endifif RD7(Z7[x])thencall CreateUnitAtLoc(Z7[x],'n00C',BE7,bj_UNIT_FACING)call CreateUnitAtLoc(Z7[x],'n00C',BF7,bj_UNIT_FACING)endifset x=x+1endloopcall RemoveLocation(BE7)call RemoveLocation(BF7)set NU9=GetPlayerState(Y7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Y7[5],PLAYER_STATE_RESOURCE_GOLD)set NV9=GetPlayerState(Z7[1],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[2],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[3],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[4],PLAYER_STATE_RESOURCE_GOLD)+GetPlayerState(Z7[5],PLAYER_STATE_RESOURCE_GOLD)set NS9[1]=Y7[1]set NS9[2]=Y7[2]set NS9[3]=Y7[3]set NS9[4]=Y7[4]set NS9[5]=Y7[5]set NS9[6]=Z7[1]set NS9[7]=Z7[2]set NS9[8]=Z7[3]set NS9[9]=Z7[4]set NS9[10]=Z7[5]set Y7[1]=NS9[6]set Y7[2]=NS9[7]set Y7[3]=NS9[8]set Y7[4]=NS9[9]set Y7[5]=NS9[10]set Z7[1]=NS9[1]set Z7[2]=NS9[2]set Z7[3]=NS9[3]set Z7[4]=NS9[4]set Z7[5]=NS9[5]call SetPlayerTeam(Y7[0],0)call SetPlayerTeam(Y7[1],0)call SetPlayerTeam(Y7[2],0)call SetPlayerTeam(Y7[3],0)call SetPlayerTeam(Y7[4],0)call SetPlayerTeam(Y7[5],0)call SetPlayerTeam(Z7[0],1)call SetPlayerTeam(Z7[1],1)call SetPlayerTeam(Z7[2],1)call SetPlayerTeam(Z7[3],1)call SetPlayerTeam(Z7[4],1)call SetPlayerTeam(Z7[5],1)call AM7()set x=0set y=0loopexitwhen x>5loopexitwhen y>5call SetPlayerAllianceStateBJ(Y7[x],Y7[y],3)call SetPlayerAllianceStateBJ(Z7[x],Z7[y],3)call SetPlayerAllianceStateBJ(Y7[x],Z7[y],0)call SetPlayerAllianceStateBJ(Z7[x],Y7[y],0)set y=y+1endloopset y=0set x=x+1endloopcall ForceClear(W7)call ForceClear(X7)call ForceAddPlayer(W7,Y7[0])call ForceAddPlayer(W7,Y7[1])call ForceAddPlayer(W7,Y7[2])call ForceAddPlayer(W7,Y7[3])call ForceAddPlayer(W7,Y7[4])call ForceAddPlayer(W7,Y7[5])call ForceAddPlayer(X7,Z7[0])call ForceAddPlayer(X7,Z7[1])call ForceAddPlayer(X7,Z7[2])call ForceAddPlayer(X7,Z7[3])call ForceAddPlayer(X7,Z7[4])call ForceAddPlayer(X7,Z7[5])call ExecuteFunc("A57")set BD7=P8(W7)set B97=P8(X7)set T8=1loopexitwhen T8>5if(RD7(Y7[T8]))thencall SetPlayerStateBJ(Y7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ BD7))call SetPlayerStateBJ(Y7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifif(RD7(Z7[T8]))thencall SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_GOLD,(4265/ B97))call SetPlayerStateBJ(Z7[T8],PLAYER_STATE_RESOURCE_LUMBER,0)endifset T8=T8+1endloopcall PanCameraToTimedLocForPlayer(Y7[1],NN9,0)call PanCameraToTimedLocForPlayer(Y7[2],NN9,0)call PanCameraToTimedLocForPlayer(Y7[3],NN9,0)call PanCameraToTimedLocForPlayer(Y7[4],NN9,0)call PanCameraToTimedLocForPlayer(Y7[5],NN9,0)call PanCameraToTimedLocForPlayer(Z7[1],NO9,0)call PanCameraToTimedLocForPlayer(Z7[2],NO9,0)call PanCameraToTimedLocForPlayer(Z7[3],NO9,0)call PanCameraToTimedLocForPlayer(Z7[4],NO9,0)call PanCameraToTimedLocForPlayer(Z7[5],NO9,0)call DestroyFogModifier(CreateFogModifierRectBJ(true,Y7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Y7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Y7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Y7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Y7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[1],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[2],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[3],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[4],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))call DestroyFogModifier(CreateFogModifierRectBJ(true,Z7[5],FOG_OF_WAR_MASKED,bj_mapInitialPlayableArea))if O8 thenset x=0loopexitwhen x>5call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(0),true)call SetPlayerAlliance(Player(0),Y7[x],ConvertAllianceType(4),true)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(0),false)call SetPlayerAlliance(Player(0),Z7[x],ConvertAllianceType(4),false)set x=x+1endloopendifcall AK7()call NX8()set NN9=nullset NO9=nullset BE7=nullset BF7=nullendfunctionfunction rN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer Hm=M_7(NO7,"HeroType")local player j8local integer x=1loopexitwhen x>5set j8=Y7[x]if RD7(j8)and j8!=Le thenset G7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(Z9),GetRectCenterY(Z9),270)endifset j8=Z7[x]if RD7(j8)and j8!=Le thenset G7[GetPlayerId(j8)]=CreateUnit(j8,Hm,GetRectCenterX(Y9),GetRectCenterY(Y9),270)endifset x=x+1endloopcall K_7(NO7)call NM7(t)set t=nullset j8=nullreturn falseendfunctionfunction ro takes nothing returns nothinglocal integer x=1local player j8local unit TX7=GetTriggerUnit()local integer Hm=GetUnitTypeId(TX7)local trigger tlocal integer NO7if(GetOwningPlayer(TX7)==Le and IsUnitType(TX7,UNIT_TYPE_HERO))thencall DisableTrigger(GetTriggeringTrigger())if T4[GetPlayerId(Le)]==false and B==false and C==false thencall SetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD,250+GetPlayerState(Le,PLAYER_STATE_RESOURCE_GOLD))endifset I[GetPlayerId(Le)]=trueset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,.01,false)call TriggerAddCondition(t,Condition(function rN))call M87(NO7,"HeroType",Hm)endifset j8=nullset TX7=nullset t=nullendfunctionfunction JM9 takes nothing returns nothinglocal integer x=1local trigger t=CreateTrigger()local region r=CreateRegion()set IJ4=truecall DisableTrigger(QR4)call R07('H00I')loopexitwhen x>5if(Y7[x]!=Le)thencall R57(Y7[x])set T4[GetPlayerId(Y7[x])]=trueset I[GetPlayerId(Y7[x])]=trueendifif(Z7[x]!=Le)thencall R57(Z7[x])set T4[GetPlayerId(Z7[x])]=trueset I[GetPlayerId(Z7[x])]=trueendifset x=x+1endloopcall RegionAddRect(r,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,r,null)call TriggerAddAction(t,function ro)endfunctionfunction JN9 takes nothing returns nothinglocal integer T8local integer U8set Rx=trueset T8=1set U8=MQ4loopexitwhen T8>U8call R07(MP4[T8])set T8=T8+1endloopset T8=1set U8=MO4loopexitwhen T8>U8call R07(MN4[T8])set T8=T8+1endloopendfunctionfunction JP9 takes nothing returns nothinglocal integer T8local integer U8set bx=trueset T8=1set U8=MQ4loopexitwhen T8>U8call R07(MP4[T8])set T8=T8+1endloopset T8=1set U8=MM4loopexitwhen T8>U8call R07(MK4[T8])set T8=T8+1endloopendfunctionfunction JO9 takes nothing returns nothinglocal integer T8local integer U8set Nx=trueset T8=1set U8=MM4loopexitwhen T8>U8call R07(MK4[T8])set T8=T8+1endloopset T8=1set U8=MO4loopexitwhen T8>U8call R07(MN4[T8])set T8=T8+1endloopendfunctionfunction JR9 takes nothing returns nothinglocal integer T8local integer U8set lj=trueset T8=1set U8=MS4loopexitwhen T8>U8call R07(MR4[T8])set T8=T8+1endloopendfunctionfunction JQ9 takes nothing returns nothinglocal integer T8local integer U8set Jj=trueset T8=1set U8=MU4loopexitwhen T8>U8call R07(MT4[T8])set T8=T8+1endloopendfunctionfunction JY9 takes nothing returns nothingset D4=trueendfunctionfunction JB9 takes nothing returns nothingset W4=truecall SetPlayerTechResearched(Y7[0],'R004',1)call SetPlayerTechResearched(Z7[0],'R004',1)call SetPlayerHandicapXP(Y7[1],1.5)call SetPlayerHandicapXP(Y7[2],1.5)call SetPlayerHandicapXP(Y7[3],1.5)call SetPlayerHandicapXP(Y7[4],1.5)call SetPlayerHandicapXP(Y7[5],1.5)call SetPlayerHandicapXP(Z7[1],1.5)call SetPlayerHandicapXP(Z7[2],1.5)call SetPlayerHandicapXP(Z7[3],1.5)call SetPlayerHandicapXP(Z7[4],1.5)call SetPlayerHandicapXP(Z7[5],1.5)endfunctionfunction JZ9 takes nothing returns nothingset X4=truecall DisableTrigger(IP4)endfunctionfunction JA9 takes nothing returns nothingset Y4=trueendfunctionfunction NX9 takes nothing returns nothingset oy=falsecall S_7(bj_FORCE_ALL_PLAYERS,10,(GetObjectName(('n0HA'))))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction NY9 takes nothing returns nothingcall DisableTrigger(M37(GetHandleId(GetTriggeringTrigger()),"nn"))call DisableTrigger(GetTriggeringTrigger())endfunctionfunction NZ9 takes nothing returns nothinglocal trigger NA9=CreateTrigger()local trigger NB9=CreateTrigger()call S_7(bj_FORCE_ALL_PLAYERS,10.00," ")call S_7(bj_FORCE_ALL_PLAYERS,10.00,"Extra commands: -noneutrals can be entered in the following 15 seconds. ")call TriggerRegisterTimerEvent(NA9,15.,false)call TriggerAddAction(NA9,function NY9)call MH7(GetHandleId(NA9),"nn",NB9)call TriggerRegisterPlayerChatEvent(NB9,Le,"-noneutrals",true)call TriggerAddAction(NB9,function NX9)endfunctionfunction JC9 takes nothing returns nothingset P44=truecall ExecuteFunc("NZ9")endfunctionfunction J39 takes nothing returns nothingset P74=trueendfunctionfunction JL9 takes nothing returns nothingset P84=trueendfunctionfunction J69 takes nothing returns nothingset P94=trueendfunctionfunction J19 takes nothing returns nothingset PD4=trueendfunctionfunction J09 takes nothing returns nothingset PE4=trueendfunctionfunction J59 takes nothing returns nothingset PF4=trueendfunctionfunction KG9 takes nothing returns nothingset S04=trueendfunctionfunction KH9 takes nothing returns nothingset S54=trueendfunctionfunction NC9 takes nothing returns nothinglocal integer i=0loopexitwhen i>5call SetPlayerName(Y7[i],(M74[GetPlayerId((Y7[i]))])+" ("+I2S(M[GetPlayerId(Y7[i])])+"/"+I2S(O[GetPlayerId(Y7[i])])+" | "+I2S(P7[GetPlayerId(Y7[i])])+"-"+I2S(T7[GetPlayerId(Y7[i])])+")")call SetPlayerName(Z7[i],(M74[GetPlayerId((Z7[i]))])+" ("+I2S(M[GetPlayerId(Z7[i])])+"/"+I2S(O[GetPlayerId(Z7[i])])+" | "+I2S(P7[GetPlayerId(Z7[i])])+"-"+I2S(T7[GetPlayerId(Z7[i])])+")")set i=i+1endloopendfunctionfunction N39 takes nothing returns booleanif PG4==false thenif GetLocalPlayer()==K_4 or GetLocalPlayer()==M44 thencall NC9()endifendifreturn falseendfunctionfunction N69 takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())local string NL9if GetLocalPlayer()==GetTriggerPlayer()thenif id=='hC95' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n01K' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='nC38' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='eden' thenelseif id=='n00V' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n00W' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n002' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n00X' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n009' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='n0HE' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='nC35' thencall ResetUnitAnimation(GetTriggerUnit())elseif id=='u00Q' thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1967339316 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1966092592 thencall ResetUnitAnimation(GetTriggerUnit())elseif id==1966092378 thencall ResetUnitAnimation(GetTriggerUnit())endifendifreturn falseendfunctionfunction N19 takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())local string NL9if GetLocalPlayer()==GetTriggerPlayer()thenif id=='hC95' thenset NL9="stand work"elseif id=='n01K' thenset NL9="stand third"elseif id=='nC38' thencall SetUnitAnimationByIndex(GetTriggerUnit(),3)elseif id=='eden' thenelseif id=='n00V' thenset NL9="spell attack"elseif id=='n00W' thenset NL9="spell"elseif id=='n002' thencall SetUnitAnimationByIndex(GetTriggerUnit(),3)elseif id=='n00X' thenset NL9="stand work"elseif id=='n009' thenset NL9="stand work"elseif id=='n0HE' thenset NL9="stand victory"elseif id=='nC35' thenset NL9="stand work"elseif id=='u00Q' thenset NL9="stand work"elseif id==1967339316 thenset NL9="stand work gold"elseif id==1966092592 thenset NL9="stand work"elseif id==1966092378 thenset NL9="stand work"endifif NL9!="" thencall SetUnitAnimation(GetTriggerUnit(),NL9)call QueueUnitAnimationBJ(GetTriggerUnit(),NL9)endifendifreturn falseendfunctionfunction J29 takes nothing returns nothingset PG4=trueendfunctionfunction N09 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()call SetUnitScale(TX7,V87(TX7)*AN,V87(TX7)*AN,V87(TX7)*AN)set TX7=nullendfunctionfunction N59 takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true thencall N09()endifreturn falseendfunctionfunction J_9 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function N59))set bN=trueset AN=0.5endfunctionfunction K49 takes nothing returns nothingset OS=trueendfunctionfunction K79 takes nothing returns nothingset YS=trueendfunctionfunction N29 takes nothing returns nothingset V[1]=0endfunctionfunction N_9 takes nothing returns nothingset V[2]=0endfunctionfunction O49 takes nothing returns nothingset V[3]=0endfunctionfunction O79 takes nothing returns nothingset V[4]=0endfunctionfunction O89 takes nothing returns nothingset V[5]=0endfunctionfunction O99 takes nothing returns nothingset V[7]=0endfunctionfunction OD9 takes nothing returns nothingset V[8]=0endfunctionfunction OE9 takes nothing returns nothingset V[9]=0endfunctionfunction OF9 takes nothing returns nothingset V[10]=0endfunctionfunction OG9 takes nothing returns nothingset V[11]=0endfunctionfunction OH9 takes nothing returns nothinglocal integer i=1local string idlocal player ploopexitwhen i>5set p=Y7[i]set id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,"id",i)set p=Z7[i]set id=I2S(GetPlayerId(p))call StoreInteger(JD4,id,"id",i+5)if GetLocalPlayer()==Le thencall SyncStoredInteger(JD4,I2S(GetPlayerId(Y7[i])),"id")call SyncStoredInteger(JD4,I2S(GetPlayerId(Z7[i])),"id")endifset i=i+1endloopendfunctionfunction OI9 takes nothing returns booleanlocal boolean OJ9=W8if(vY and(not OJ9))thenset W8=trueendifif OJ9 thencall S77()call S_7(bj_FORCE_ALL_PLAYERS,20.00,K[GetPlayerId(Le)]+(M74[GetPlayerId((Le))])+"|r"+" "+(GetObjectName(('n0CM'))))call S_7(bj_FORCE_ALL_PLAYERS,20.00," ")set P14=truecall DS9()call HZ9()call NX8()call DP9()call NU8()elseif vY thencall S_7(bj_FORCE_ALL_PLAYERS,20.,"The selected mode/s are insignificant and is considered |c006699CCNormal Mode|r. You will get 175 gold refunded when you pick a hero.")call S_7(bj_FORCE_ALL_PLAYERS,20.," ")endifcall OH9()call NM7(GetTriggeringTrigger())return falseendfunctionfunction OK9 takes nothing returns booleanset J=truecall NM7(GetTriggeringTrigger())return falseendfunctionfunction OM9 takes nothing returns nothingset G=trueendfunctionfunction ON9 takes nothing returns nothingset E8=trueendfunctionfunction OO9 takes nothing returns nothingset G9=trueendfunctionfunction OP9 takes nothing returns booleanreturn GetUnitAbilityLevel(GetKillingUnit(),'A0O3')>0 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetKillingUnit()))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction OQ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"Unit")call M87(GetHandleId(u),"PreviousKills",M_7(GetHandleId(u),"PreviousKills")-1)call K_7(NO7)call NM7(t)set u=nullset t=nullreturn falseendfunctionfunction OR9 takes nothing returns nothinglocal unit OS9=GetKillingUnit()local unit OT9=GetTriggerUnit()local integer V_7=GetHandleId(OS9)local integer OU9=M_7(V_7,"PreviousKills")local integer ZN7=GetUnitAbilityLevel(OS9,'A0O3')local integer OV9=OU9*2local integer OW9=VY7(OV9+ZN7*2,26)local texttag tt=CreateTextTag()local player p=GetOwningPlayer(OS9)local trigger t=CreateTrigger()set CN[GetPlayerId(p)]=CN[GetPlayerId(p)]+OW9call TriggerRegisterTimerEvent(t,20.,false)call TriggerAddCondition(t,Condition(function OQ9))call MF7(GetHandleId(t),"Unit",OS9)call M87(V_7,"PreviousKills",OU9+1)call SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,OW9+GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD))call SetTextTagText(tt,"+"+I2S(OW9),0.025)call SetTextTagPosUnit(tt,OT9,0)call SetTextTagColor(tt,255,220,0,255)call SetTextTagVelocity(tt,0,0.03)if GetLocalPlayer()==p thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set t=nullset OS9=nullset OT9=nullset p=nullendfunctionfunction OX9 takes nothing returns booleanlocal integer OY9=CN[GetPlayerId(GetTriggerPlayer())]if OY9>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n0GQ')))+" "+I2S(OY9))endifreturn falseendfunctionfunction H48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OP9))call TriggerAddAction(t,function OR9)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function OX9))set t=nullendfunctionfunction OZ9 takes unit u,real x,real y returns nothingif u!=null thencall ZO7(R54,u,Y94,S44)call IssueTargetOrder(R24,"thunderbolt",u)endifendfunctionfunction OA9 takes unit X97,unit U47,real OB9 returns nothinglocal group glocal integer SR7=GetUnitAbilityLevel(X97,'A1NI')local real xlocal real yset R54=X97set S44=(60+70*SR7)*OB9/ W44set R_4=(1+0.75*SR7)*OB9/ W44set R24=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(R24,'A0X6')call SetUnitAbilityLevel(R24,'A0X6',ZJ7(R_4))set I04=X97if X97==U47 thencall OZ9(U47,GetUnitX(U47),GetUnitY(U47))elseif GetUnitTypeId(U47)!='h0BD' thencall OZ9(U47,GetUnitX(U47),GetUnitY(U47))elseset x=GetUnitX(U47)set y=GetUnitY(U47)set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),200,Condition(function Y47))set U47=FirstOfGroup(g)call T67(g)call OZ9(U47,x,y)set g=nullendifif U47!=null thencall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",GetUnitX(U47),GetUnitY(U47)))endifendfunctionfunction OC9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local unit ZF7=MZ7(NO7,"Projectile")local real OB9=N47(NO7,"Elapsed")local real O39=N47(NO7,"OriginalTime")local real l4=W77(GetUnitX(ZF7),GetUnitY(ZF7),GetUnitX(m5),GetUnitY(m5))local real x=GetUnitX(ZF7)+18*Cos(l4*bj_DEGTORAD)local real y=GetUnitY(ZF7)+18*Sin(l4*bj_DEGTORAD)call SetUnitX(ZF7,x)call SetUnitY(ZF7,y)if J87(x,y,GetUnitX(m5),GetUnitY(m5))<=18 thencall KillUnit(ZF7)call OA9(p5,m5,OB9)call K_7(NO7)call NM7(t)elseif(TimerGetElapsed(P))-O39>(W44+2.0)thencall KillUnit(ZF7)call OA9(p5,ZF7,OB9)call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullset ZF7=nullreturn falseendfunctionfunction O69 takes unit p5,unit m5,real OB9,real O39 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZF7=CreateUnit(GetOwningPlayer(p5),'h0BD',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call MF7(NO7,"Projectile",ZF7)call M97(NO7,"Elapsed",OB9*1.0)call M97(NO7,"OriginalTime",O39*1.0)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function OC9))set t=nullset ZF7=nullendfunctionfunction OL9 takes string O19,unit m5,unit O09 returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,O19,0.033)call SetTextTagPosUnit(tt,m5,64)call SetTextTagColor(tt,255,0,0,255)call SetTextTagVelocity(tt,0,0.0355)call SetTextTagFadepoint(tt,0.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,0.65)if IsUnitVisible(O09,GetLocalPlayer())or TV7(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction O59 takes real O29 returns stringif O29>4.5 thenreturn"5.0"elseif O29>4.0 thenreturn"4.5"elseif O29>3.5 thenreturn"4.0"elseif O29>3.0 thenreturn"3.5"elseif O29>2.5 thenreturn"3.0"elseif O29>2.0 thenreturn"2.5"elseif O29>1.5 thenreturn"2.0"elseif O29>1.0 thenreturn"1.5"elseif O29>0.5 thenreturn"1.0"elseif O29>0.0 thenreturn"0.5"elsereturn"0.0"endifreturn" "endfunctionfunction O_9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local real O39=N47(NO7,"OriginalTime")local real Z_7=(TimerGetElapsed(P))local real P49=5.0-(Z_7-O39)local real O88=VB7(Z_7-O39,5.0)local integer P79=M_7(NO7,"Count")+1if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(LoadInteger(C7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(C7,(GetHandleId(p5)),(704)))=='A1NI' thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NI',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NH',false)call SetUnitVertexColor(p5,255,255,255,255)call DestroyEffect((LoadEffectHandle(C7,(NO7),(32))))call K_7(NO7)call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A1NH' thenif T37(GetSpellTargetUnit())==false thencall O69(p5,GetSpellTargetUnit(),O88,O39)endifif(LoadInteger(C7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(C7,(GetHandleId(p5)),(704)))=='A1NI' thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NI',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NH',false)call SetUnitVertexColor(p5,255,255,255,255)call DestroyEffect((LoadEffectHandle(C7,(NO7),(32))))call K_7(NO7)call NM7(t)endifelsecall SaveInteger(C7,(NO7),StringHash("Count"),(P79))if P49>=0 thencall OL9(O59(P49),p5,p5)if ModuloInteger(P79,2)==0 thencall SetUnitVertexColor(p5,255,125,125,255)elsecall SetUnitVertexColor(p5,255,175,175,255)endifelsecall SetUnitVertexColor(p5,255,0,0,255)endifif Z_7-O39>(W44+2.0)thencall OA9(p5,p5,W44)if(LoadInteger(C7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(C7,(GetHandleId(p5)),(704)))=='A1NI' thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NI',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NH',false)call SetUnitVertexColor(p5,255,255,255,255)call DestroyEffect((LoadEffectHandle(C7,(NO7),(32))))call K_7(NO7)call NM7(t)endifendifset t=nullset p5=nullreturn falseendfunctionfunction P89 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local string st="war3mapImported\\UnstableConcoctionRangeDisplay3.mdx"if GetLocalPlayer()!=GetOwningPlayer(p5)thenset st=""endifcall MF7(NO7,"Source",p5)call M97(NO7,"OriginalTime",TimerGetElapsed(P)*1.0)call SaveEffectHandle(C7,(NO7),(32),(AddSpecialEffectTarget(st,p5,"origin")))call TriggerRegisterTimerEvent(t,0.5,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O_9))call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NI',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1NH',true)call UW7(p5,'A1NH')call UnitMakeAbilityPermanent(p5,true,'A1NH')call TriggerEvaluate(t)set p5=nullset t=nullendfunctionfunction P99 takes nothing returns booleanif GetSpellAbilityId()=='A1NI' thencall P89()endifreturn falseendfunctionfunction H78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function P99))call VQ7('A0X6')set t=nullendfunctionfunction ZV takes nothing returns booleanreturn GetSpellAbilityId()=='A0IL'endfunctionfunction RB takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitTypeId(GetFilterUnit())!='n0F5'endfunctionfunction Rc takes nothing returns nothingcall UnitDamageTarget(L7,GetEnumUnit(),D8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)endfunctionfunction RC takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit oA=MZ7(NO7,"Caster")local integer Rd=M_7(NO7,"Counter")local real x=GetUnitX(oA)local real y=GetUnitY(oA)local boolexpr hPlocal group B47if Rd>12 thencall KillUnit(oA)call PauseTimer(t)call K_7(NO7)call DestroyTimer(t)elseset L7=TX7set D8=GetUnitAbilityLevel(TX7,'A0IL')*8set hP=Condition(function RB)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,650,hP)call ForGroup(B47,function Rc)call T67(B47)call DestroyBoolExpr(hP)set Rd=Rd+1call M87(NO7,"Counter",Rd)set B47=nullset hP=nullendifset t=nullset TX7=nullset oA=nullendfunctionfunction Re takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location Mk=GetSpellTargetLoc()local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)local unit oA=CreateUnit(GetOwningPlayer(TX7),'e01E',x,y,0)local timer t=CreateTimer()local integer NO7=GetHandleId(t)call RemoveLocation(Mk)call UW7(oA,'A0J4')call SetUnitAbilityLevel(oA,'A0J4',GetUnitAbilityLevel(TX7,'A0IL'))call UW7(oA,'Aloc')call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",oA)call M87(NO7,"Counter",0)call TimerStart(t,1,true,function RC)set TX7=nullset Mk=nullset oA=nullset t=nullendfunctionfunction H88 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function Re)call TriggerAddCondition(t,Condition(function ZV))call VQ7('A0J4')set t=nullendfunctionfunction PD9 takes nothing returns nothingcall ZO7(DN,GetEnumUnit(),Y84,dN)endfunctionfunction PE9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0E3')local real V37=(0.35+0.25*SR7)*(GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))local group g=TL7()call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",m5,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"chest"))call DestroyEffect(AddSpecialEffect("war3mapImported\\Enchantment.mdx",GetUnitX(m5),GetUnitY(m5)))call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),325,Condition(function YK7))set dN=V37set DN=TX7call ForGroup(g,function PD9)call PlaySoundOnUnitBJ(oO,100,m5)call T67(g)set TX7=nullset m5=nullset g=nullendfunctionfunction PF9 takes nothing returns booleanif GetSpellAbilityId()=='A0E3' and T37(GetSpellTargetUnit())==false thencall PE9()endifreturn falseendfunctionfunction CS7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PF9))set t=nullendfunctionfunction PG9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZM7=MZ7(NO7,"Caster")local integer RU8=GetTriggerEvalCount(t)local integer PH9=R2I(((0.9-0.3)/ 0.5)/ 0.03)local integer PI9=R2I((175/ PH9))local integer PJ9=R2I((255/ PH9)*1.75)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")if RU8>PH9 thencall SetUnitVertexColor(ZM7,255,255,255,0)call SetUnitVertexColor(TX7,255,255,255,255)call ShowUnit(ZM7,false)call K_7(NO7)call NM7(t)elsecall SetUnitVertexColor(ZM7,255,255,255,175-PI9*RU8)call SetUnitX(ZM7,x)call SetUnitY(ZM7,y)call SetUnitVertexColor(TX7,255,255,255,PJ9*RU8)endifset t=nullset ZM7=nullset TX7=nullreturn falseendfunctionfunction PK9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit ZM7=MZ7(GetHandleId(TX7),"BlinkAM_Caster")local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)call SetUnitX(ZM7,x)call SetUnitY(ZM7,y)call SetUnitX(TX7,x)call SetUnitY(TX7,y)call SetUnitVertexColor(TX7,255,255,255,0)call SetUnitVertexColor(ZM7,255,255,255,175)call SetUnitTimeScale(ZM7,0.5)call MF7(NO7,"Caster",ZM7)call MF7(NO7,"Hero",TX7)call M97(NO7,"x",x*1.0)call M97(NO7,"y",y*1.0)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function PG9))set TX7=nullset ZM7=nullset t=nullendfunctionfunction PM9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit ZM7local integer NO7=GetHandleId(TX7)local real a=W77(GetUnitX(TX7),GetUnitY(TX7),GetSpellTargetX(),GetSpellTargetY())local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)call SetUnitPathing(TX7,false)call UW7(TX7,'Aeth')set ZM7=CreateUnit(GetOwningPlayer(TX7),'h06K',GetUnitX(TX7),GetUnitY(TX7),a)call U37(ZM7,5)call SetUnitPathing(ZM7,false)call UW7(ZM7,'Aeth')call UW7(ZM7,'Aloc')call UW7(ZM7,'A04R')call SetUnitVertexColor(ZM7,255,255,255,0)call SetUnitX(ZM7,x)call SetUnitY(ZM7,y)call SetUnitX(TX7,x)call SetUnitY(TX7,y)call SetUnitAnimation(ZM7,"Spell Throw")call SetUnitPathing(TX7,true)call UnitRemoveAbility(TX7,'Aeth')call MF7(NO7,"BlinkAM_Caster",ZM7)set TX7=nullset ZM7=nullendfunctionfunction PN9 takes nothing returns booleanif GetSpellAbilityId()=='AEbl' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall PK9()elsecall PM9()endifendifreturn falseendfunctionfunction CT7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PN9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function PN9))set t=nullcall U67('h06K')endfunctionfunction PO9 takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A1V6')local real PP9=16+12*ZN7local real PQ9=GetUnitState(U47,UNIT_STATE_MANA)local real PR9=RMinBJ(PP9,PQ9)if PR9>0 thencall SetUnitState(U47,UNIT_STATE_MANA,PQ9-PR9)call ZO7(X97,U47,Y94,PR9*0.6)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",U47,"origin"))endifendfunctionfunction PS9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer PT9=(LoadInteger(C7,(V_7),(30)))local unit U47=QL7(PT9)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall DisableTrigger(t)call PO9(X97,U47)call Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction PU9 takes nothing returns nothinglocal trigger t=CreateTrigger()local unit U47=GetTriggerUnit()local unit X97=GetAttacker()local integer V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,0.4,false)call TriggerAddCondition(t,Condition(function PS9))call SaveInteger(C7,(V_7),(30),(Q07(U47)))call SaveUnitHandle(C7,(V_7),(2),(X97))set U47=nullset X97=nullset t=nullendfunctionfunction PV9 takes nothing returns nothinglocal unit X97=GetAttacker()if NF7(X97,"CooldownState")==false thencall NQ7(X97,"CooldownState",0.4)call PU9()endifset X97=nullendfunctionfunction PW9 takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A1V6')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(C7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and TU7(GetTriggerUnit())==false thencall PV9()endifreturn falseendfunctionfunction PX9 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function PW9))call SaveUnitHandle(C7,(GetHandleId(t)),(14),(GetTriggerUnit()))set t=nullendfunctionfunction PY9 takes nothing returns booleanif GetLearnedSkill()=='A1V6' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1V6')==1 thencall PX9()endifreturn falseendfunctionfunction CU7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function PY9))set t=nullendfunctionfunction PZ9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0OO'endfunctionfunction PA9 takes nothing returns nothingif(GetUnitTypeId(GetEnumUnit())=='n01Q' or GetUnitTypeId(GetEnumUnit())=='n01M' or GetUnitTypeId(GetEnumUnit())=='n01R' or GetUnitTypeId(GetEnumUnit())=='n01S')thencall KillUnit(GetEnumUnit())endifendfunctionfunction PB9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit PC9=(LoadUnitHandle(C7,(V_7),(2)))local real P39=(LoadReal(C7,(V_7),(6)))local real P69=(LoadReal(C7,(V_7),(7)))local real PL9=GetUnitX(PC9)local real P19=GetUnitY(PC9)call SaveReal(C7,(V_7),(6),((PL9)*1.0))call SaveReal(C7,(V_7),(7),((P19)*1.0))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif P39==PL9 and P69==P19 thenif GetUnitAbilityLevel(PC9,'A1WG')==0 thencall UW7(PC9,'A1WG')endifelseif GetUnitAbilityLevel(PC9,'A1WG')>0 thencall UnitRemoveAbility(PC9,'A1WG')endifendifendifset t=nullset PC9=nullreturn falseendfunctionfunction P09 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local player j8=GetOwningPlayer(TX7)local integer SR7=GetUnitAbilityLevel(TX7,'A0OO')local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local group B47=TL7()local unit PC9local trigger tlocal integer V_7call GroupEnumUnitsOfPlayer(B47,j8,Condition(function Q37))call ForGroup(B47,function PA9)call T67(B47)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",x,y))if(SR7==1)thenset PC9=CreateUnit(j8,'n01Q',x,y,270)call UnitApplyTimedLife(PC9,'BTLF',60)elseif(SR7==2)thenset PC9=CreateUnit(j8,'n01Q',x,y,270)call UnitApplyTimedLife(PC9,'BTLF',70)call UnitApplyTimedLife(CreateUnit(j8,'n01M',x,y,270),'BTLF',70)elseif(SR7==3)thenset PC9=CreateUnit(j8,'n01R',x,y,270)call UnitApplyTimedLife(PC9,'BTLF',80)call UnitApplyTimedLife(CreateUnit(j8,'n01M',x,y,270),'BTLF',80)elseif(SR7==4)thenset PC9=CreateUnit(j8,'n01R',x,y,270)call UnitApplyTimedLife(PC9,'BTLF',80)call UnitApplyTimedLife(CreateUnit(j8,'n01S',x,y,270),'BTLF',90)endifif SR7==3 or SR7==4 thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,PC9,EVENT_UNIT_DEATH)call SaveReal(C7,(V_7),(6),((GetUnitX(PC9))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(PC9))*1.0))call SaveUnitHandle(C7,(V_7),(2),(PC9))call TriggerAddCondition(t,Condition(function PB9))endifset TX7=nullset j8=nullset B47=nullset PC9=nullset t=nullendfunctionfunction CX7 takes nothing returns nothingset nJ=CreateTrigger()call WH7(nJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(nJ,Condition(function PZ9))call TriggerAddAction(nJ,function P09)endfunctionfunction P59 takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local real a=bj_RADTODEG*Atan2(y-I34,x-IZ4)local real P29local real P_9if Sin((a-IL4)*bj_DEGTORAD)<0 thenset P29=GetUnitX(GetEnumUnit())+15*Cos((IL4-90)*bj_DEGTORAD)set P_9=GetUnitY(GetEnumUnit())+15*Sin((IL4-90)*bj_DEGTORAD)call SetUnitPosition(GetEnumUnit(),P29,P_9)call SetUnitFacingTimed(GetEnumUnit(),IL4+90,0.3)elseset P29=GetUnitX(GetEnumUnit())+15*Cos((IL4+90)*bj_DEGTORAD)set P_9=GetUnitY(GetEnumUnit())+15*Sin((IL4+90)*bj_DEGTORAD)call SetUnitPosition(GetEnumUnit(),P29,P_9)call SetUnitFacingTimed(GetEnumUnit(),IL4-90,0.3)endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",GetEnumUnit(),"origin"))endfunctionfunction Q49 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real l4=N47(NO7,"Angle")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local group g=M67(NO7,"g")if GetTriggerEvalCount(t)>16 thencall T67(g)call K_7(NO7)call NM7(t)elseset IZ4=xset I34=yset IL4=l4call ForGroup(g,function P59)endifset t=nullset g=nullreturn falseendfunctionfunction Q79 takes nothing returns nothingcall ZO7(I04,GetEnumUnit(),Y84,IZ4)endfunctionfunction Q89 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(T_7,'A0O2')local unit ZM7local real Q99=bj_RADTODEG*Atan2(GetUnitY(U47)-GetUnitY(T_7),GetUnitX(U47)-GetUnitX(T_7))local real xlocal real ylocal group g=TL7()local group g2=TL7()if ZN7==0 thenset ZN7=GetUnitAbilityLevel(T_7,'A289')endifcall MO7(NO7,"g",g)call M97(NO7,"Angle",Q99*1.0)call M97(NO7,"x",GetUnitX(T_7)*1.0)call M97(NO7,"y",GetUnitY(T_7)*1.0)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function Q49))set x=GetUnitX(T_7)+50*Cos(Q99*bj_DEGTORAD)set y=GetUnitY(T_7)+50*Sin(Q99*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,250,Condition(function YK7))call GroupAddGroup(g2,g)call GroupClear(g2)set ZM7=CreateUnit(GetOwningPlayer(T_7),'o00Y',x,y,Q99)call UnitApplyTimedLife(ZM7,'BTLF',1)call UW7(ZM7,'A0NY')call SetUnitAbilityLevel(ZM7,'A0NY',ZN7)call IssueImmediateOrder(ZM7,"thunderclap")set x=GetUnitX(T_7)+250*Cos(Q99*bj_DEGTORAD)set y=GetUnitY(T_7)+250*Sin(Q99*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,250,Condition(function YK7))call GroupAddGroup(g2,g)call GroupClear(g2)set ZM7=CreateUnit(GetOwningPlayer(T_7),'o00Y',x,y,Q99)call UnitApplyTimedLife(ZM7,'BTLF',1)call UW7(ZM7,'A0NY')call SetUnitAbilityLevel(ZM7,'A0NY',ZN7)call IssueImmediateOrder(ZM7,"thunderclap")set x=GetUnitX(T_7)+450*Cos(Q99*bj_DEGTORAD)set y=GetUnitY(T_7)+450*Sin(Q99*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,250,Condition(function YK7))call GroupAddGroup(g2,g)call GroupClear(g2)set ZM7=CreateUnit(GetOwningPlayer(T_7),'o00Y',x,y,Q99)call UnitApplyTimedLife(ZM7,'BTLF',1)call UW7(ZM7,'A0NY')call SetUnitAbilityLevel(ZM7,'A0NY',ZN7)call IssueImmediateOrder(ZM7,"thunderclap")if GetUnitAbilityLevel(T_7,'A0O2')==0 thenset x=GetUnitX(T_7)+650*Cos(Q99*bj_DEGTORAD)set y=GetUnitY(T_7)+650*Sin(Q99*bj_DEGTORAD)call GroupEnumUnitsInRange(g2,x,y,250,Condition(function YK7))call GroupAddGroup(g2,g)call GroupClear(g2)set ZM7=CreateUnit(GetOwningPlayer(T_7),'o00Y',x,y,Q99)call UnitApplyTimedLife(ZM7,'BTLF',1)call UW7(ZM7,'A0NY')call SetUnitAbilityLevel(ZM7,'A0NY',ZN7)call IssueImmediateOrder(ZM7,"thunderclap")endifcall T67(g2)call GroupRemoveUnit(g,U47)set IZ4=100*ZN7set I04=T_7call ForGroup(g,function Q79)set t=nullset T_7=nullset U47=nullset ZM7=nullset g=nullset g2=nullendfunctionfunction QD9 takes nothing returns booleanif(GetSpellAbilityId()=='A0O2' or GetSpellAbilityId()=='A289')and T37(GetSpellTargetUnit())==false thencall Q89()endifreturn falseendfunctionfunction CV7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QD9))set t=nullendfunctionfunction QE9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0O1'endfunctionfunction QF9 takes unit TX7,real x,real y,group QG9 returns nothinglocal group B47=TL7()local unit CR7call WK7(x,y,150)call GroupEnumUnitsInRange(B47,x,y,150,Condition(function Q37))loopset CR7=FirstOfGroup(B47)exitwhen CR7==nullif IsUnitInGroup(CR7,QG9)==false and IsUnitEnemy(CR7,GetOwningPlayer(TX7))thenif(GetUnitAbilityLevel(CR7,'A04R')!=1 and GetUnitState(CR7,UNIT_STATE_LIFE)>0 and IsUnitType(CR7,UNIT_TYPE_STRUCTURE)==false)thencall GroupAddUnit(QG9,CR7)call UnitDamageTarget(TX7,CR7,60+GetUnitAbilityLevel(TX7,'A0O1')*30,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_METAL_HEAVY_SLICE)call AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",CR7,"overhead")endifendifcall GroupRemoveUnit(B47,CR7)endloopcall T67(B47)set B47=nullset CR7=nullendfunctionfunction QH9 takes nothing returns nothinglocal integer V_7=GetHandleId(GetExpiredTimer())local unit QI9=MZ7(V_7,"Axe")local unit T_7=MZ7(V_7,"Hero")local real Ax=N47(V_7,"Ax")local real Ay=N47(V_7,"Ay")local real Cx=N47(V_7,"Cx")local real Cy=N47(V_7,"Cy")local real Bx=N47(V_7,"Bx")local real By=N47(V_7,"By")local real a=N47(V_7,"a")local real b=1-alocal boolean QJ9=N77(V_7,"FirstPass")local group QK9=M67(V_7,"AlreadyDamaged")local real QM9=RMaxBJ(J87(Ax,Ay,Cx,Cy)/1300,0.4)call SetUnitX(QI9,VK7(Ax*a*a+Bx*2*a*b+Cx*b*b))call SetUnitY(QI9,VM7(Ay*a*a+By*2*a*b+Cy*b*b))call QF9(T_7,GetUnitX(QI9),GetUnitY(QI9),QK9)if(QJ9)thencall M97(V_7,"a",(a-.02/QM9)*1.0)elsecall M97(V_7,"a",(a+.02/QM9)*1.0)call M97(V_7,"Ax",GetUnitX(T_7)*1.0)call M97(V_7,"Ay",GetUnitY(T_7)*1.0)endifif(a<0 and QJ9)thencall ME7(V_7,"FirstPass",false)call M97(V_7,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+(N47(V_7,"AngleOffset"))))*1.0)call M97(V_7,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+(N47(V_7,"AngleOffset"))))*1.0)endifif(a>1 and QJ9==false)thencall PauseTimer(GetExpiredTimer())call T67(QK9)call K_7(V_7)call RemoveUnit(QI9)call DestroyTimer(GetExpiredTimer())endifset QI9=nullset T_7=nullset QK9=nullendfunctionfunction QN9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real Ax=GetUnitX(TX7)local real Ay=GetUnitY(TX7)local real Cx=GetLocationX(GetSpellTargetLoc())local real Cy=GetLocationY(GetSpellTargetLoc())local unit QO9=CreateUnit(GetOwningPlayer(TX7),'e01T',Ax,Ay,270.0)local unit QP9=CreateUnit(GetOwningPlayer(TX7),'e01T',Ax,Ay,270.0)local integer QQ9local integer QR9local timer QS9=CreateTimer()local timer QT9=CreateTimer()if GetSpellTargetUnit()!=null thenset Cx=GetUnitX(GetSpellTargetUnit())set Cy=GetUnitY(GetSpellTargetUnit())endifcall UW7(QO9,'Amrf')call UnitRemoveAbility(QO9,'Amrf')call SetUnitFlyHeight(QO9,150,0)call UW7(QP9,'Amrf')call UnitRemoveAbility(QP9,'Amrf')call SetUnitFlyHeight(QP9,150,0)set QQ9=GetHandleId(QS9)call MF7(QQ9,"Hero",TX7)call MF7(QQ9,"Axe",QO9)call MO7(QQ9,"AlreadyDamaged",TL7())call M97(QQ9,"Ax",(Ax)*1.0)call M97(QQ9,"Ay",(Ay)*1.0)call M97(QQ9,"Cx",(Cx)*1.0)call M97(QQ9,"Cy",(Cy)*1.0)call M97(QQ9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)call M97(QQ9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)+45))*1.0)call M97(QQ9,"a",(1)*1.0)call M97(QQ9,"AngleOffset",(-45)*1.0)call ME7(QQ9,"FirstPass",true)set QR9=GetHandleId(QT9)call MF7(QR9,"Hero",TX7)call MF7(QR9,"Axe",QP9)call MO7(QR9,"AlreadyDamaged",TL7())call M97(QR9,"Ax",(Ax)*1.0)call M97(QR9,"Ay",(Ay)*1.0)call M97(QR9,"Cx",(Cx)*1.0)call M97(QR9,"Cy",(Cy)*1.0)call M97(QR9,"Bx",(Ax+300*Cos(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)call M97(QR9,"By",(Ay+300*Sin(Atan2(Cy-Ay,Cx-Ax)-45))*1.0)call M97(QR9,"a",(1)*1.0)call M97(QR9,"AngleOffset",(45)*1.0)call ME7(QR9,"FirstPass",true)call TimerStart(QS9,.025,true,function QH9)call TimerStart(QT9,.025,true,function QH9)set TX7=nullset QO9=nullset QP9=nullset QS9=nullset QT9=nullendfunctionfunction CW7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QE9))call TriggerAddAction(t,function QN9)set t=nullendfunctionfunction QU9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call UnitRemoveAbility(p5,'A140')call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction QV9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()call UW7(p5,'A140')call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function QU9))call MF7(NO7,"Source",p5)set t=nullset p5=nullendfunctionfunction QW9 takes nothing returns booleanif GetSpellAbilityId()=='A13Z' thencall QV9()endifreturn falseendfunctionfunction CY7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QW9))set t=nullendfunctionfunction QX9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer NO7=GetHandleId(p5)local player p=MB7(NO7,"Track|SourcePlayer")local integer ZN7=M_7(NO7,"Track|Level")local texttag tt=CreateTextTag()local integer S18local integer i=1local unit QY9local player QZ9if ZN7==1 thenset S18=150elseif ZN7==2 thenset S18=200elseset S18=250endifcall SetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(p,PLAYER_STATE_RESOURCE_GOLD)+S18)call SetTextTagText(tt,"+"+I2S(S18),0.025)call SetTextTagPosUnit(tt,G7[GetPlayerId(p)],100)call SetTextTagColor(tt,255,220,0,255)call SetTextTagVelocity(tt,0,0.03)call SetTextTagVisibility(tt,false)if GetLocalPlayer()==p thencall SetTextTagVisibility(tt,true)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set UI4[GetPlayerId(p)]=UI4[GetPlayerId(p)]+S18set XX4=XX4+S18if ZN7==1 thenset S18=50elseif ZN7==2 thenset S18=100elseset S18=150endifloopexitwhen i>5if Q_7(p)thenset QZ9=Y7[i]elseset QZ9=Z7[i]endifif QZ9!=p thenset QY9=G7[GetPlayerId(QZ9)]if J77(QY9,p5)<950 thenset tt=CreateTextTag()call SetPlayerState(QZ9,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(QZ9,PLAYER_STATE_RESOURCE_GOLD)+S18)call SetTextTagText(tt,"+"+I2S(S18),0.025)call SetTextTagPosUnit(tt,QY9,100)call SetTextTagColor(tt,255,220,0,255)call SetTextTagVelocity(tt,0,0.03)call SetTextTagVisibility(tt,false)if GetLocalPlayer()==QZ9 thencall SetTextTagVisibility(tt,true)endifcall SetTextTagFadepoint(tt,2)call SetTextTagLifespan(tt,3)call SetTextTagPermanent(tt,false)set UI4[GetPlayerId(QZ9)]=UI4[GetPlayerId(QZ9)]+S18set XX4=XX4+S18endifendifset i=i+1endloopset p5=nullset p=nullset tt=nullset QY9=nullset QZ9=nullendfunctionfunction QA9 takes nothing returns booleanif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and N47(GetHandleId(GetTriggerUnit()),"Track|Time")>JM7()thencall QX9()endifreturn falseendfunctionfunction QB9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit oA=MZ7(NO7,"Caster")call SetUnitX(oA,GetUnitX(m5))call SetUnitY(oA,GetUnitY(m5))if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>10 and GetUnitAbilityLevel(m5,'B00L')==0)thencall DestroyEffect(ML7(NO7,"FX"))call KillUnit(oA)call K_7(NO7)call NM7(t)endifset t=nullset m5=nullset oA=nullreturn falseendfunctionfunction QC9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(m5),'e01V',GetUnitX(m5),GetUnitY(m5),0)local string Q39="war3mapImported\\TrackBuff.mdx"if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(m5))and TV7(GetLocalPlayer())==false thenset Q39=""endifcall UW7(oA,'A115')call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QB9))call MF7(NO7,"Target",m5)call MF7(NO7,"Caster",oA)call MG7(NO7,"FX",AddSpecialEffectTarget(Q39,m5,"overhead"))call M97(GetHandleId(GetSpellTargetUnit()),"Track|Time",(((JM7())+30)*1.0))call MM7(GetHandleId(GetSpellTargetUnit()),"Track|SourcePlayer",GetOwningPlayer(GetTriggerUnit()))call M87(GetHandleId(GetSpellTargetUnit()),"Track|Level",GetUnitAbilityLevel(GetTriggerUnit(),'A0B4'))set t=nullset m5=nullset p5=nullset oA=nullendfunctionfunction Q69 takes nothing returns booleanif GetSpellAbilityId()=='A0B4' thencall QC9()endifreturn falseendfunctionfunction C37 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q69))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QA9))set t=nullendfunctionfunction QL9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")call UnitRemoveAbility(m5,'A1IW')call UnitRemoveAbility(m5,'B0CA')call K_7(NO7)call NM7(t)set t=nullset m5=nullreturn falseendfunctionfunction Q19 takes unit p5,unit m5 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,3.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QL9))call MF7(NO7,"Target",m5)call UW7(m5,'A1IW')call UnitMakeAbilityPermanent(m5,true,'A1IW')call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A1IW',false)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",m5,"chest"))set t=nullendfunctionfunction Q09 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)=='umtw' or GetUnitTypeId(m5)=='ebal')and N77(GetHandleId(p5),"JinadaActive")==true thencall Q19(p5,m5)call ME7(GetHandleId(p5),"JinadaActive",false)call M97(GetHandleId(p5),"LastUsed",TimerGetElapsed(P)*1.0)call UnitRemoveAbility(p5,'A1IS')call UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')call Q67(ZR7)call K_7(NO7)call NM7(t)endifelsecall Q67(ZR7)call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction Q59 takes nothing returns booleanlocal trigger tlocal integer NO7local unit m5local unit p5local integer SR7if GetTriggerEventId()==EVENT_UNIT_DEATH thencall ME7(GetHandleId(GetTriggerUnit()),"JinadaActive",false)call M97(GetHandleId(GetTriggerUnit()),"LastUsed",TimerGetElapsed(P)*1.0)call UnitRemoveAbility(GetTriggerUnit(),'A1IS')call UnitRemoveAbility(GetTriggerUnit(),'A1J4')call UnitRemoveAbility(GetTriggerUnit(),'A1J3')call UnitRemoveAbility(GetTriggerUnit(),'A1J5')call UnitRemoveAbility(GetTriggerUnit(),'A1IU')elseif GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"JinadaHero")thenif IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and N77(GetHandleId(GetAttacker()),"JinadaActive")==true thenset t=CreateTrigger()set NO7=GetHandleId(t)set m5=GetTriggerUnit()set p5=GetAttacker()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function Q09))call M87(NO7,"TargetIndex",Q07(m5))call MF7(NO7,"Source",p5)set SR7=GetUnitAbilityLevel(p5,'A1IQ')if SR7==0 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==1 thencall UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==2 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==3 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1IU')elseif SR7==4 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')endifset m5=nullset p5=nullset t=nullendifendifreturn falseendfunctionfunction Q29 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real Q_9=TimerGetElapsed(P)local integer SR7=GetUnitAbilityLevel(TX7,'A1IQ')local real R49=N47(GetHandleId(TX7),"LastUsed")local boolean R79=N77(GetHandleId(TX7),"JinadaActive")if Q_9-R49>14-SR7*2 and R79==false and UY7(TX7)==false thencall ME7(GetHandleId(TX7),"JinadaActive",true)call UW7(TX7,'A1IS')if GetUnitAbilityLevel(TX7,'B068')==0 thenif SR7==1 thencall UW7(TX7,'A1J4')elseif SR7==2 thencall UW7(TX7,'A1J3')elseif SR7==3 thencall UW7(TX7,'A1J5')elseif SR7==4 thencall UW7(TX7,'A1IU')endifendifcall SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1J4',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1J3',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1J5',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1IU',false)elseif R79==false and GetUnitAbilityLevel(TX7,'B068')==0 thencall UnitRemoveAbility(TX7,'A1IS')call UnitRemoveAbility(TX7,'A1J4')call UnitRemoveAbility(TX7,'A1J3')call UnitRemoveAbility(TX7,'A1J5')call UnitRemoveAbility(TX7,'A1IU')endifset t=nullset TX7=nullreturn falseendfunctionfunction R89 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()local integer NO7=GetHandleId(t)local integer RD9=GetHandleId(t2)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function Q29))call WH7(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t2,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function Q59))call MF7(NO7,"Hero",TX7)call MF7(RD9,"JinadaHero",TX7)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tset Rj[GetPlayerId(GetOwningPlayer(TX7))]=t2endifset TX7=nullset t=nullset t2=nullendfunctionfunction RE9 takes nothing returns booleanif GetLearnedSkill()=='A1IQ' and GetUnitAbilityLevel(GetTriggerUnit(),'A1IQ')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall R89(GetTriggerUnit(),false)endifreturn falseendfunctionfunction C67 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RE9))set t=nullendfunctionfunction RF9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")local integer SR7=GetUnitAbilityLevel(p5,'A07A')if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 thencall K_7(NO7)call NM7(t)if NF7(p5,"WindWalk|CD")==false thencall NQ7(p5,"WindWalk|CD",0.5)if IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(m5,GetOwningPlayer(p5))thencall ZO7(p5,m5,Y94,30*SR7)call WD7(I2S(R2I(30*SR7)),1,p5,0.027,216,0,0,216)call NJ7(p5,"WindWalkBH|Active")set t=M37(GetHandleId(p5),"ai|WWTrigger")call K_7(GetHandleId(t))call NM7(t)endifendifendifelsecall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction RG9 takes nothing returns booleanlocal trigger t=nulllocal unit m5=nulllocal unit p5=nulllocal integer NO7local integer SR7if NF7(GetAttacker(),"WindWalkBH|Active")thenset t=CreateTrigger()set m5=GetTriggerUnit()set p5=GetAttacker()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function RF9))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)if N77(GetHandleId(p5),"JinadaActive")thenset SR7=GetUnitAbilityLevel(p5,'A1IQ')if SR7==0 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==1 thencall UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==2 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==3 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1IU')elseif SR7==4 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')endifelsecall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')endifset m5=nullset p5=nullset t=nullendifreturn falseendfunctionfunction RH9 takes nothing returns booleanlocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit p5=MZ7(NO7,"Hero")local integer SR7call NJ7(p5,"WindWalkBH|Active")if GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH thenif N77(GetHandleId(p5),"JinadaActive")thenset SR7=GetUnitAbilityLevel(p5,'A1IQ')if SR7==0 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==1 thencall UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==2 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')elseif SR7==3 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1IU')elseif SR7==4 thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')endifelsecall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')endifelseif not N77(GetHandleId(p5),"JinadaActive")thencall UnitRemoveAbility(p5,'A1J4')call UnitRemoveAbility(p5,'A1J3')call UnitRemoveAbility(p5,'A1J5')call UnitRemoveAbility(p5,'A1IU')endifendifcall K_7(NO7)call NM7(GetTriggeringTrigger())set p5=nullreturn falseendfunctionfunction RI9 takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Hero")if IsTriggerEnabled(M37(NO7,"CancelTr"))thencall NH7(p5,"WindWalkBH|Active")endifcall K_7(NO7)call NM7(t)set p5=nullset t=nullendfunctionfunction RJ9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A07A')call TriggerRegisterTimerEvent(t,1.25-0.25*SR7-0.01,false)call TriggerAddAction(t,function RI9)call MF7(NO7,"Hero",p5)set t=CreateTrigger()call MH7(NO7,"CancelTr",t)set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,10+5*SR7,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_CAST)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function RH9))call MF7(NO7,"Hero",p5)call MH7(GetHandleId(p5),"ai|WWTrigger",t)call UW7(p5,'A1J4')call UW7(p5,'A1J3')call UW7(p5,'A1J5')call UW7(p5,'A1IU')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1J4',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1J3',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1J5',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1IU',false)set t=nullset p5=nullendfunctionfunction RK9 takes nothing returns booleanif GetSpellAbilityId()=='A07A' thencall RJ9()endifreturn falseendfunctionfunction CL7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RK9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function RG9))set t=nullendfunctionfunction RM9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0GP' or GetSpellAbilityId()=='A0FW'endfunctionfunction RN9 takes integer SR7,integer a returns integerif a==0 thenreturn 1elsereturn(SR7-1)*5+1+aendifendfunctionfunction Ry takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='e00X'endfunctionfunction RY takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Rz takes player p returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,p,Condition(function Ry))call ForGroup(g,function RY)call T67(g)set g=nullendfunctionfunction RO9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit T_7=MZ7(GetHandleId(t),"Hero")local integer V_7=GetHandleId(T_7)local integer ZN7=GetUnitAbilityLevel(T_7,'A0FV')local integer RP9=(M_7(V_7,"Warpath|Level")-1)local integer RQ9=VA7(RP9,0,5)local unit ZM7=MZ7(V_7,"Warpath|Caster")local integer RR9if ZN7==1 thenset RR9=10+RQ9*10elseif ZN7==2 thenset RR9=20+RQ9*15elseif ZN7==3 thenset RR9=30+RQ9*20endifif RP9==0 thenset RR9=0endifcall ZU7(T_7,RR9)if GetUnitTypeId(ZM7)=='e00X'thencall SetUnitAbilityLevel(ZM7,'A0EF',RN9(ZN7,RQ9))call M87(V_7,"Warpath|Level",RP9)elsecall Rz(MB7(GetHandleId(t),"p"))endifcall K_7(GetHandleId(t))call NM7(t)set t=nullset T_7=nullset ZM7=nullreturn falseendfunctionfunction RS9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local integer V_7=GetHandleId(T_7)local unit ZM7=MZ7(V_7,"Warpath|Caster")local integer ZN7=GetUnitAbilityLevel(T_7,'A0FV')local integer RP9=(M_7(V_7,"Warpath|Level")+1)local integer RQ9=VA7(RP9,0,5)local integer RT9=RN9(ZN7,RQ9)local trigger t=CreateTrigger()local integer RR9if ZN7==1 thenset RR9=10+RQ9*10elseif ZN7==2 thenset RR9=20+RQ9*15elseif ZN7==3 thenset RR9=30+RQ9*20endifcall ZU7(T_7,RR9)call SetUnitAbilityLevel(ZM7,'A0EF',RT9)call M87(V_7,"Warpath|Level",RP9)call MF7(GetHandleId(t),"Hero",T_7)call MM7(GetHandleId(t),"p",GetOwningPlayer(T_7))call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function RO9))set t=nullset T_7=nullset ZM7=nullendfunctionfunction RU9 takes unit TX7,boolean R99 returns nothinglocal integer ZN7=GetUnitAbilityLevel(TX7,'A0FV')local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00X',0,0,0)local trigger t=CreateTrigger()call UW7(oA,'A0EF')call MF7(GetHandleId(TX7),"Warpath|Caster",oA)call SetUnitInvulnerable(oA,true)call UW7(oA,'Aloc')call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RM9))call TriggerAddAction(t,function RS9)if R99 thenset Vj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset oA=nullset t=nullendfunctionfunction RV9 takes nothing returns booleanif GetLearnedSkill()=='A0FV' and GetUnitAbilityLevel(GetTriggerUnit(),'A0FV')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall RU9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction C17 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RV9))call VQ7('A0EF')set t=nullendfunctionfunction RW9 takes nothing returns booleanreturn(GetSpellAbilityId()=='A0FW')and T37(GetSpellTargetUnit())==falseendfunctionfunction R6 takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction R7 takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='e00E')endfunctionfunction R9 takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())call SetUnitPositionLoc(GetEnumUnit(),Mk)if GetUnitUserData(GetEnumUnit())==4 thencall IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())elsecall IncUnitAbilityLevel(GetEnumUnit(),'A0FZ')call IssueTargetOrderById(GetEnumUnit(),852662,GetSpellTargetUnit())call SetUnitUserData(GetEnumUnit(),(GetUnitUserData(GetEnumUnit())+1))endifcall RemoveLocation(Mk)set Mk=nullendfunctionfunction RX9 takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local location sA=GetUnitLoc(GetSpellTargetUnit())local group sb=TL7()if(UnitHasBuffBJ(GetSpellTargetUnit(),'B02U')==true)thencall GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))call ForGroupBJ(sb,function R9)elsecall GroupEnumUnitsOfPlayer(sb,GetOwningPlayer(GetSpellTargetUnit()),Condition(function R7))call ForGroupBJ(sb,function R6)call DisableTrigger(EA)call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(GetSpellTargetUnit()),Mk,sA)call EnableTrigger(EA)call UnitAddAbility(bj_lastCreatedUnit,'A0FZ')call SetUnitAbilityLevelSwapped('A0FZ',bj_lastCreatedUnit,((GetUnitAbilityLevelSwapped('A0FW',GetTriggerUnit())*4)-3))call IssueTargetOrderById(bj_lastCreatedUnit,852662,GetSpellTargetUnit())call SetUnitUserData(bj_lastCreatedUnit,1)endifcall T67(sb)call RemoveLocation(Mk)call RemoveLocation(sA)set Mk=nullset sA=nullset sb=nullendfunctionfunction C07 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RW9))call TriggerAddAction(t,function RX9)set t=nullendfunctionfunction RY9 takes nothing returns booleanreturn IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==falseendfunctionfunction sC takes unit TX7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UW7(ZM7,'A0GP')call SetUnitAbilityLevel(ZM7,'A0GP',GetUnitAbilityLevel(TX7,'A0GP'))call IssueImmediateOrder(ZM7,"fanofknives")set ZM7=nullendfunctionfunction sd takes unit TX7,real V37 returns nothinglocal integer NO7=GetHandleId(TX7)local real sD=N47(NO7,"Bristleback_DamageStack")if sD>250 thencall M97(NO7,"Bristleback_DamageStack",((0)*1.0))call sC(TX7)elsecall M97(NO7,"Bristleback_DamageStack",((sD+V37)*1.0))endifendfunctionfunction RZ9 takes nothing returns nothinglocal unit sE=GetTriggerUnit()local unit PU8=GetEventDamageSource()local real sf=W47(PU8,sE)local real sF=GetUnitFacing(sE)local real sglocal real V37=GetEventDamage()local real sGlocal real RKif(V37>5)and GetUnitState(sE,UNIT_STATE_LIFE)>1 thenif((sF-sf)<(-180.00))thenset sg=(sF-sf+360)elseif((sF-sf)>180.)thenset sg=(sF-sf-360)elseset sg=(sF-sf)endifendifset RK=RAbsBJ(sg)if RK<=70 thenset sG=(GetUnitAbilityLevel(sE,'A0M3')*0.08+0.08)*V37call sd(sE,V37-sG)call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)elseif RK<=110 thenset sG=(GetUnitAbilityLevel(sE,'A0M3')*0.04+0.04)*V37call SetUnitState(sE,UNIT_STATE_LIFE,GetUnitState(sE,UNIT_STATE_LIFE)+sG)endifendifset sE=nullset PU8=nullendfunctionfunction RA9 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function RY9))call TriggerAddAction(t,function RZ9)if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction RB9 takes nothing returns booleanif GetLearnedSkill()=='A0M3' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0M3')==1 thencall RA9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction C57 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RB9))set t=nullendfunctionfunction RC9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0GP'endfunctionfunction R39 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1endfunctionfunction R69 takes nothing returns nothinglocal integer RL9=GetHandleId(GetEnumUnit())local integer R19=LoadInteger(C7,X8,RL9)local real R09=VB7(D8+R19*30,220)call UnitDamageTarget(L7,GetEnumUnit(),R09,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call SaveInteger(C7,X8,RL9,R19+1)endfunctionfunction R59 takes nothing returns nothinglocal integer RL9=GetHandleId(GetEnumUnit())local integer R19=LoadInteger(C7,X8,RL9)call SaveInteger(C7,X8,RL9,R19-1)endfunctionfunction sK takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"UnitVar")local group B47=M67(NO7,"GroupVar")set X8=GetHandleId(TX7)call ForGroup(B47,function R59)call T67(B47)call K_7(NO7)call NM7(t)set t=nullset TX7=nullset B47=nullreturn falseendfunctionfunction R29 takes nothing returns nothinglocal unit OS9=GetTriggerUnit()local group R_9=TL7()local trigger t=CreateTrigger()if IsUnitType(OS9,UNIT_TYPE_HERO)==false thenset OS9=G7[GetPlayerId(GetOwningPlayer(OS9))]endifcall GroupEnumUnitsInRange(R_9,GetUnitX(OS9),GetUnitY(OS9),650,Condition(function R39))set L7=CreateUnit(GetOwningPlayer(OS9),'e00E',GetUnitX(OS9),GetUnitY(OS9),0)set D8=GetUnitAbilityLevel(OS9,'A0GP')*20set X8=GetHandleId(OS9)call ForGroup(R_9,function R69)call MF7(GetHandleId(t),"UnitVar",OS9)call MO7(GetHandleId(t),"GroupVar",R_9)call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function sK))set t=nullset OS9=nullset R_9=nullendfunctionfunction C27 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RC9))call TriggerAddAction(t,function R29)set t=nullendfunctionfunction sL takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(p5,'A00L')local real S49call ZO7(p5,m5,Y84,100+SR7*75)set S49=100+SR7*75if GetUnitState(p5,UNIT_STATE_LIFE)<=S49*0.75 thenset S49=GetUnitState(p5,UNIT_STATE_LIFE)/ 0.75-10endifcall ZO7(p5,p5,Y84,S49)call DestroyEffect(AddSpecialEffect("war3mapImported\\DoubleEdgeTarget.mdx",GetUnitX(m5),GetUnitY(m5)))set p5=nullset m5=nullendfunctionfunction S79 takes nothing returns booleanif GetSpellAbilityId()=='A00L'thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall sL()elsecall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\DoubleEdgeCaster.mdx",GetTriggerUnit(),"hand, right"))endifendifreturn falseendfunctionfunction C_7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function S79))set t=nullendfunctionfunction S89 takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),'A00V')>0 and GetUnitAbilityLevel(GetAttacker(),'A04R')!=1 and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitTypeId(GetAttacker())!='n0F5'endfunctionfunction S99 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetAttacker()local integer ZN7=GetUnitAbilityLevel(X97,'A00V')local integer SD9=GetHeroStr(X97,true)local real R09=(14+2*ZN7)+(0.18+0.08*ZN7)*SD9call ZO7(X97,U47,Y94,R09)set X97=nullset U47=nullendfunctionfunction L47 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function S89))call TriggerAddAction(t,function S99)set t=nullendfunctionfunction sN takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SR7=M_7(NO7,"Level")local real soif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>10 thenset so=GetEventDamage()*.07*SR7call DisableTrigger(t)call ZO7(GetEventDamageSource(),GetTriggerUnit(),Y94,so)call EnableTrigger(t)endifelsecall K_7(NO7)call NM7(t)endifset t=nullreturn falseendfunctionfunction sO takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A0KM')call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl",p5,"chest"))call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,7.,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function sN))set t=nullset m5=nullset p5=nullendfunctionfunction SE9 takes nothing returns booleanif GetSpellAbilityId()=='A0KM'thencall sO()endifreturn falseendfunctionfunction Op takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SE9))set t=nullendfunctionfunction SF9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0LT' or GetSpellAbilityId()=='A1CS'endfunctionfunction sq takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1endfunctionfunction SG9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer sr=GetUnitAbilityLevel(TX7,'A0LT')local group B47=GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function sq))local unit PZif sr==0 thenset sr=GetUnitAbilityLevel(TX7,'A1CS')endifloopset PZ=FirstOfGroup(B47)exitwhen PZ==nullif(IsUnitAlly(PZ,GetOwningPlayer(TX7)))thencall SetWidgetLife(PZ,(GetUnitStateSwap(UNIT_STATE_LIFE,PZ)+100+(100*sr)))call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))endifcall GroupRemoveUnit(B47,PZ)endloopcall DestroyGroup(B47)set B47=GetUnitsInRectOfPlayer(bj_mapInitialPlayableArea,GetOwningPlayer(TX7))loopset PZ=FirstOfGroup(B47)exitwhen PZ==nullif(IsUnitType(PZ,UNIT_TYPE_HERO)==false and GetUnitTypeId(PZ)!='n00C')thencall SetUnitLifePercentBJ(PZ,100)call DestroyEffect(AddSpecialEffectTargetUnitBJ("chest",PZ,"Abilities\\Spells\\Human\\Resurrect\\ResurrectTarget.mdl"))endifcall GroupRemoveUnit(B47,PZ)endloopcall DestroyGroup(B47)set TX7=nullset B47=nullset PZ=nullendfunctionfunction Oq takes nothing returns nothingset do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(do,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(do,Condition(function SF9))call TriggerAddAction(do,function SG9)endfunctionfunction SH9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0LV'endfunctionfunction SI9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit st=MZ7(NO7,"Chen")local unit u=MZ7(NO7,"Unit")local real x=N47(NO7,"x")local real y=N47(NO7,"y")call DestroyEffect(ML7(NO7,"FX"))if N77(GetHandleId(u),"Grapple")==false and GetUnitAbilityLevel(u,'A04R')==0 thencall NQ7(u,"4409",1)call SetUnitPosition(u,x,y)endifif N77(GetHandleId(u),"Grapple")thencall VH7(GetOwningPlayer(st),GetObjectName('n036'))endifcall K_7(NO7)call NM7(t)set t=nullset st=nullset u=nullreturn falseendfunctionfunction SJ9 takes unit u,unit SK9,integer SM9,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)if IsUnitOwnedByPlayer(u,GetOwningPlayer(SK9))thencall TriggerRegisterTimerEvent(t,0.1,false)elsecall TriggerRegisterTimerEvent(t,7-SM9,false)endifcall TriggerAddCondition(t,Condition(function SI9))call MG7(V_7,"FX",AddSpecialEffectTarget("effects\\Test_of_Faith_FX.mdx",u,"overhead"))call MF7(V_7,"Unit",u)call MF7(V_7,"Chen",SK9)call M97(V_7,"x",x)call M97(V_7,"y",y)set t=nullendfunctionfunction SN9 takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit st=GetTriggerUnit()local location Mk=GetUnitLoc(st)local unit oAlocal integer sr=GetUnitAbilityLevel(st,'A0LV')local real sXlocal location sylocal effect fxif(Q_7(GetOwningPlayer(st)))thenset sy=GetRectCenter(Z9)elseset sy=GetRectCenter(Y9)endifif(IsUnitAlly(m5,GetOwningPlayer(st))==false)thenif T37(GetSpellTargetUnit())==false thenset sX=GetRandomInt(50*sr,100*sr)call WD7(I2S(R2I(sX)),1,m5,.023,255,255,0,216)call UnitDamageTargetBJ(st,m5,sX,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)set fx=AddSpecialEffectTargetUnitBJ("chest",m5,"Abilities\\Spells\\Human\\HolyBolt\\HolyBoltSpecialArt.mdl")call DestroyEffect(fx)endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(N77(GetHandleId(GetOwningPlayer(m5)),"DisableHelp")==false)thencall SJ9(m5,st,sr,GetLocationX(sy),GetLocationY(sy))endifelseif(IsUnitOwnedByPlayer(m5,GetOwningPlayer(st)))thencall SetUnitPositionLoc(m5,sy)endifendifcall RemoveLocation(Mk)call RemoveLocation(sy)set m5=nullset st=nullset Mk=nullset oA=nullset sy=nullset fx=nullendfunctionfunction L87 takes nothing returns nothingset VJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(VJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(VJ,Condition(function SH9))call TriggerAddAction(VJ,function SN9)endfunctionfunction SO9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00C',x,y,0)local integer ZN7=GetUnitAbilityLevel(X97,'A1E9')call UW7(ZM7,'A01D')call SetUnitAbilityLevel(ZM7,'A01D',ZN7)call IssueTargetOrder(ZM7,"frostnova",ZM7)call RemoveLocation(l)call UW7(ZM7,'Aloc')call UnitApplyTimedLife(ZM7,'BTLF',2)set X97=nullset ZM7=nullset l=nullendfunctionfunction SP9 takes nothing returns booleanif GetSpellAbilityId()=='A1E9' thencall SO9()endifreturn falseendfunctionfunction L97 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SP9))set t=nullendfunctionfunction SQ9 takes nothing returns booleanreturn(GetSpellAbilityId()=='A069')endfunctionfunction SR9 takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAliveBJ(GetFilterUnit()))and(not JS7(GetFilterUnit()))and(GetUnitTypeId(GetFilterUnit())!='ncop')and(GetUnitAbilityLevel(GetFilterUnit(),'Aeth')==1)and((GetUnitAbilityLevel(GetFilterUnit(),'A0KO')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KQ')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KR')==1)or(GetUnitAbilityLevel(GetFilterUnit(),'A0KP')==1)))endfunctionfunction sS takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit st=MZ7(NO7,"Chen")local integer sT=M_7(NO7,"MaxUnits")local group B47=GetUnitsOfPlayerMatching(GetOwningPlayer(st),Condition(function SR9))local unit PZloopexitwhen(CountUnitsInGroup(B47)<=sT)set PZ=GroupPickRandomUnit(B47)call GroupRemoveUnit(B47,PZ)call RemoveUnit(PZ)endloopcall DestroyGroup(B47)call K_7(NO7)call NM7(t)set st=nullset t=nullset B47=nullset PZ=nullreturn falseendfunctionfunction SS9 takes nothing returns nothinglocal unit sU=GetSpellTargetUnit()local unit st=GetTriggerUnit()local integer sr=GetUnitAbilityLevel(st,'A069')local integer sT=1local integer playerid=GetPlayerId(GetOwningPlayer(st))local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call V17(sU)if(sr==1)thencall UW7(sU,'A0KO')elseif(sr==2)thencall UW7(sU,'A0KQ')elseif(sr==3)thenset sT=2call UW7(sU,'A0KR')elseif(sr==4)thenset sT=3call UW7(sU,'A0KP')endifcall UW7(sU,'Aeth')call UW7(sU,'A12G')call MF7(NO7,"Chen",st)call M87(NO7,"MaxUnits",sT)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function sS))set t=nullset sU=nullset st=nullendfunctionfunction ST9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7local real xlocal real yif IsUnitEnemy(U47,GetOwningPlayer(X97))thenset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A069')call SetUnitAbilityLevel(ZM7,'A069',GetUnitAbilityLevel(X97,'A28T'))call IssueTargetOrder(ZM7,"charm",U47)elseif Q_7(GetOwningPlayer(X97))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifif(N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))==false thencall SJ9(U47,X97,GetUnitAbilityLevel(X97,'A28T'),x,y)endifendifset X97=nullset U47=nullset ZM7=nullendfunctionfunction SU9 takes nothing returns booleanif GetSpellAbilityId()=='A28T' and T37(GetSpellTargetUnit())==false thencall ST9()endifreturn falseendfunctionfunction SV9 takes nothing returns booleanif GetSpellAbilityId()=='A28T' thenif IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true thenif IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit())thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0K9'))endifendifendifreturn falseendfunctionfunction L77 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SQ9))call TriggerAddAction(t,function SS9)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function SV9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SU9))set t=nullendfunctionfunction SW9 takes nothing returns nothingcall ZO7(FB,GetEnumUnit(),Y84,fB)endfunctionfunction SX9 takes unit p5,real x,real y,integer SR7 returns nothinglocal group g=TL7()if SR7==1 thenset fB=105elseif SR7==2 thenset fB=170elseif SR7==3 thenset fB=250elseif SR7==4 thenset fB=310endifset FB=p5set I04=p5call GroupEnumUnitsInRange(g,x,y,240,Condition(function Y47))call ForGroup(g,function SW9)call T67(g)set g=nullendfunctionfunction SY9 takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(I04),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(oA,'A10T')call IssueTargetOrder(oA,"slow",GetEnumUnit())set oA=nullendfunctionfunction SZ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")local integer SA9=ModuloInteger(GetTriggerEvalCount(t),4)+1local real alocal real dlocal real xlocal real ylocal group g=TL7()set I04=TX7call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),710,Condition(function Y47))call ForGroup(g,function SY9)if SA9==1 thenset a=GetRandomReal(0,90)elseif SA9==2 thenset a=GetRandomReal(90,180)elseif SA9==3 thenset a=GetRandomReal(180,270)elseset a=GetRandomReal(270,360)endifset d=GetRandomReal(140,710)if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and(GetSpellAbilityId()=='A03R' or GetSpellAbilityId()=='A0AV')thencall K_7(NO7)call NM7(t)call StopSound(vX,false,true)elseset x=GetUnitX(TX7)+d*Cos(a*bj_DEGTORAD)set y=GetUnitY(TX7)+d*Sin(a*bj_DEGTORAD)call DestroyEffect(AddSpecialEffect("effects\\SnowyBlizzardTarget.mdx",x,y))call SX9(TX7,x,y,SR7)endifcall T67(g)set t=nullset g=nullset TX7=nullreturn falseendfunctionfunction SB9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7call WN7(vX,GetUnitX(TX7),GetUnitY(TX7))if GetSpellAbilityId()=='A03R' thenset SR7=GetUnitAbilityLevel(TX7,'A03R')elseset SR7=GetUnitAbilityLevel(TX7,'A0AV')+1endifcall TriggerRegisterTimerEvent(t,0.10,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function SZ9))call MF7(NO7,"Hero",TX7)call M87(NO7,"Level",SR7)set t=nullset TX7=nullendfunctionfunction SC9 takes nothing returns booleanif GetSpellAbilityId()=='A03R' or GetSpellAbilityId()=='A0AV' thencall SB9()endifreturn falseendfunctionfunction LD7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SC9))call VQ7('A03X')set t=nullendfunctionfunction S39 takes unit X97 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A2AI')if GetUnitTypeId(X97)=='Hlgr' thencall SetUnitAbilityLevel(X97,'A0AR',ZN7)elsecall SetUnitAbilityLevel(X97,'A0AR',ZN7+4)endifendfunctionfunction S69 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2AI')if ZN7==1 thencall UW7(X97,'A0AR')endifcall S39(X97)set X97=nullendfunctionfunction SL9 takes nothing returns booleanif GetLearnedSkill()=='A2AI' and IsUnitIllusion(GetTriggerUnit())==false thencall S69()endifreturn falseendfunctionfunction S19 takes nothing returns nothinglocal unit u=GetTriggerUnit()if GetUnitTypeId(u)=='H00G' or GetUnitTypeId(u)=='H00F' or GetUnitTypeId(u)=='H00E' thencall SetUnitAnimation(u,"stand")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"head"))elseif GetUnitTypeId(u)=='Hlgr' thencall SetUnitAnimation(u,"stand defend")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Defend\\DefendCaster.mdl",u,"origin"))endifset u=nullendfunctionfunction S09 takes nothing returns booleanif GetSpellAbilityId()=='A0AR' thencall S19()endifreturn falseendfunctionfunction G28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S09))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function SL9))call VQ7('A0AR')set t=nullendfunctionfunction S59 takes nothing returns booleanreturn GetLearnedSkill()=='A0CL'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction S29 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()call SetPlayerTechResearched(GetOwningPlayer(TX7),'R006',GetPlayerTechCount(GetOwningPlayer(TX7),'R006',true)+1)set TX7=nullendfunctionfunction G58 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function S59))call TriggerAddAction(t,function S29)set t=nullendfunctionfunction S_9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call S39(X97)call NM7(t)call FlushChildHashtable(C7,(V_7))set t=nullset X97=nullreturn falseendfunctionfunction T49 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call S39(X97)call NM7(t)call FlushChildHashtable(C7,(V_7))set t=nullset X97=nullreturn falseendfunctionfunction B57 takes nothing returns nothingif GetUnitAbilityLevel(I04,'A0AR')>0 thencall S39(I04)endifendfunctionfunction T79 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function S_9))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function T49))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction T89 takes nothing returns booleanif GetSpellAbilityId()=='A03G' thencall T79()endifreturn falseendfunctionfunction G_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T89))set t=nullendfunctionfunction T99 takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call SetUnitX(YZ[id],x)call SetUnitY(YZ[id],y)if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(YZ[id],'A0DM')call SetUnitAbilityLevel(YZ[id],'A0DM',ZZ)endifcall IssueImmediateOrder(YZ[id],"fanofknives")endfunctionfunction TD9 takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local integer id=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall SetUnitX(YZ[id],x)call SetUnitY(YZ[id],y)if GetPlayerController(GetOwningPlayer(YZ[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(YZ[id],'A0DM')call SetUnitAbilityLevel(YZ[id],'A0DM',ZZ)endifcall IssueImmediateOrder(YZ[id],"fanofknives")endifendfunctionfunction TE9 takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==true and UY7(GetFilterUnit())==falseendfunctionfunction TF9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=TL7()local integer id=GetPlayerId(GetOwningPlayer(p5))local integer SR7=GetUnitAbilityLevel(p5,'A0DH')if SR7==0 thenset SR7=GetUnitAbilityLevel(p5,'A1OB')endifset YZ[id]=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)set zZ[id]=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)set ZZ=SR7call SetUnitScale(YZ[id],0.25,0.25,0.25)call UW7(YZ[id],'A0DM')call UW7(zZ[id],'A1H0')call SetUnitAbilityLevel(YZ[id],'A0DM',SR7)call SetUnitAbilityLevel(zZ[id],'A1H0',SR7)call GroupEnumUnitsInRange(g,x,y,575,Condition(function TE9))call ForGroup(g,function T99)if GetUnitAbilityLevel(p5,'A1OB')>0 thencall ForGroup(g,function TD9)endifcall T67(g)set p5=nullset g=nullendfunctionfunction TG9 takes nothing returns booleanif GetSpellAbilityId()=='A0DH' or GetSpellAbilityId()=='A1OB' thencall TF9()endifreturn falseendfunctionfunction LE7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TG9))set t=nullcall VQ7('A0DM')endfunctionfunction TH9 takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(GetEnumUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(oA,'A0SJ')call SetUnitAbilityLevel(oA,'A0SJ',IY4)call IssueTargetOrder(oA,"thunderbolt",GetEnumUnit())call ZO7(GetTriggerUnit(),GetEnumUnit(),Y84,IZ4)set oA=nullendfunctionfunction TI9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local location l=GetSpellTargetLoc()local integer i=1local real iN=GetUnitX(TX7)local real io=GetUnitY(TX7)local real hNlocal real holocal real xlocal real ylocal real alocal group g=TL7()local group g2=TL7()if m5==null thenset hN=GetLocationX(l)set ho=GetLocationY(l)elseset hN=GetUnitX(m5)set ho=GetUnitY(m5)endifset a=bj_DEGTORAD*W77(iN,io,hN,ho)call RemoveLocation(l)loopexitwhen i>20set x=VK7(iN+i*60*Cos(a))set y=VM7(io+i*60*Sin(a))call GroupEnumUnitsInRange(g2,x,y,250,Condition(function YK7))call GroupAddGroup(g2,g)call GroupClear(g2)call W67(CreateDestructable('B000',x,y,GetRandomReal(0,360),0.5,GetRandomInt(0,2)),8)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Volcano\\VolcanoDeath.mdl",x,y))set i=i+1endloopset IY4=GetUnitAbilityLevel(TX7,'A0SK')set IZ4=IY4*50+75call ForGroup(g,function TH9)call T67(g)call T67(g2)set TX7=nullset l=nullset m5=nullset g=nullset g2=nullendfunctionfunction TJ9 takes nothing returns booleanif GetSpellAbilityId()=='A0SK' thencall TI9()endifreturn falseendfunctionfunction LF7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TJ9))call VQ7('A0SJ')set t=nullendfunctionfunction TK9 takes nothing returns booleanreturn((GetUnitAbilityLevel(GetSpellAbilityUnit(),'A0DJ')>0)and(((GetSpellAbilityId()=='A0SK')or(GetSpellAbilityId()=='A0DL')or(GetSpellAbilityId()=='A0DH')or(GetSpellAbilityId()=='A1OB')))or(GetUnitPointValue(GetTriggerUnit())==500)and SJ7(GetSpellAbilityId()))endfunctionfunction TM9 takes nothing returns nothinglocal location sb=GetUnitLoc(GetTriggerUnit())call CreateNUnitsAtLoc(1,'e00E',GetOwningPlayer(GetTriggerUnit()),sb,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0DI')call SetUnitAbilityLevelSwapped('A0DI',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A0DJ',GetSpellAbilityUnit()))call IssueImmediateOrderById(bj_lastCreatedUnit,852127)call RemoveLocation(sb)set sb=nullendfunctionfunction OZ takes nothing returns nothingset dq=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dq,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dq,Condition(function TK9))call TriggerAddAction(dq,function TM9)endfunctionfunction TN9 takes nothing returns booleanif(GetItemTypeId(GetManipulatedItem())=='I00K')and(GetUnitTypeId(GetTriggerUnit())=='Otch')thenreturn trueendifreturn falseendfunctionfunction TO9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UW7(oA,'AIrr')call IssueImmediateOrder(oA,"roar")call K_7(NO7)call NM7(t)set t=nullset TX7=nullset oA=nullreturn falseendfunctionfunction TP9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UnitRemoveAbility(TX7,'B01P')call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function TO9))set t=nullset TX7=nullendfunctionfunction LG7 takes nothing returns nothingset IR4=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IR4,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(IR4,Condition(function TN9))call TriggerAddAction(IR4,function TP9)endfunctionfunction TQ9 takes nothing returns booleanreturn(UnitHasBuffBJ(GetAttacker(),'Broa'))endfunctionfunction TR9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall UnitRemoveAbility(X97,'Broa')endifelsecall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction TS9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit U47=GetTriggerUnit()local unit X97=GetAttacker()call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.5,false)call TriggerAddCondition(t,Condition(function TR9))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullendfunctionfunction O4 takes nothing returns nothingset dr=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dr,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(dr,Condition(function TQ9))call TriggerAddAction(dr,function TS9)endfunctionfunction TT9 takes unit u returns booleanreturn IsUnitType(u,UNIT_TYPE_HERO)==false and IsUnitType(u,UNIT_TYPE_ANCIENT)==false and GetUnitTypeId(u)!='n01E' and GetUnitTypeId(u)!='n019'endfunctionfunction TU9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))call UnitRemoveAbility(U47,'Bslo')call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset U47=nullreturn falseendfunctionfunction TV9 takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function TU9))call SaveUnitHandle(C7,(V_7),(17),(m5))call SetUnitOwner(m5,GetOwningPlayer(p5),true)call UnitApplyTimedLife(m5,'BTLF',80)call UW7(m5,'Aeth')call UW7(m5,'A12G')call V17(m5)set m5=nullset p5=nullset t=nullendfunctionfunction TW9 takes nothing returns booleanif GetSpellAbilityId()=='A0DX' and TT9(GetSpellTargetUnit())thencall TV9()endifreturn falseendfunctionfunction LH7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TW9))set t=nullendfunctionfunction TX9 takes nothing returns booleanreturn ji()and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)!=GetUnitState(GetFilterUnit(),UNIT_STATE_MAX_LIFE)endfunctionfunction TY9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer Rd=M_7(NO7,"Counter")local group glocal unit CR7if Rd>10 thencall K_7(NO7)call NM7(t)elsecall M87(NO7,"Counter",Rd+1)set I04=p5set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),300,Condition(function TX9))set CR7=GroupPickRandomUnit(g)call T67(g)call SetUnitState(CR7,UNIT_STATE_LIFE,GetUnitState(CR7,UNIT_STATE_LIFE)+10)endifset t=nullset p5=nullset g=nullset CR7=nullreturn falseendfunctionfunction TZ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call AddUnitAnimationProperties(X97,"alternate",false)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction TA9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer i=1local trigger tlocal integer V_7loopexitwhen i>(1+2*GetUnitAbilityLevel(p5,'A01B'))set t=CreateTrigger()call MF7(GetHandleId(t),"Source",p5)call M87(GetHandleId(t),"Counter",0)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function TY9))set i=i+1endloopif GetUnitTypeId(p5)=='E02X' thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function TZ9))call SaveUnitHandle(C7,(V_7),(2),(p5))set t=nullendifset t=nullset p5=nullendfunctionfunction TB9 takes nothing returns booleanif GetSpellAbilityId()=='A01B' thencall TA9()endifreturn falseendfunctionfunction LI7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TB9))set t=nullendfunctionfunction TC9 takes real x1,real y1,real x2,real y2 returns realreturn SquareRoot(((x1-x2)*(x1-x2))+((y1-y2)*(y1-y2)))endfunctionfunction T39 takes unit u returns integerlocal integer ZN7=GetUnitAbilityLevel(u,'A0DY')if ZN7>0 thenreturn ZN7endifset ZN7=GetUnitAbilityLevel(u,'A1WB')return ZN7endfunctionfunction T69 takes nothing returns booleanlocal real dlocal real TL9if GetUnitAbilityLevel(GetTriggerUnit(),'B03U')>0 and T39(GetEventDamageSource())>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),'B03U')set TL9=RMinBJ(TC9(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),GetUnitX(GetEventDamageSource()),GetUnitY(GetEventDamageSource())),2500)set d=(0.10+0.05*I2R(T39(GetEventDamageSource())))*TL9call WD7("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,3,216,216,216)call DisableTrigger(GetTriggeringTrigger())call ZO7(GetEventDamageSource(),GetTriggerUnit(),YD4,d)call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction T19 takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call MF7(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function T69))endifset t=nullset m5=nullset p5=nullendfunctionfunction Sn takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif T39(GetAttacker())>0 and(N77(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")thencall T19()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==852255)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==852256)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A0DY' or GetSpellAbilityId()=='A1WB')thencall T19()endifreturn falseendfunctionfunction T09 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function Sn))call MF7(GetHandleId(t),"Hero",TX7)if R99 thenset Vj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction T59 takes nothing returns booleanif(GetLearnedSkill()=='A0DY' or GetLearnedSkill()=='A1WB')and IsUnitIllusion(GetTriggerUnit())==false and T39(GetTriggerUnit())==1 thencall T09(GetTriggerUnit(),false)endifreturn falseendfunctionfunction LJ7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function T59))set t=nullendfunctionfunction T29 takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenreturn GetUnitAbilityLevel(GetSpellTargetUnit(),'A0DW')>0elsereturn GetUnitAbilityLevel(GetTriggerUnit(),'A0DW')>0endifendfunctionfunction T_9 takes nothing returns nothinglocal unit p5local unit m5local unit oAif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenset p5=GetSpellTargetUnit()set m5=GetTriggerUnit()elseset p5=GetTriggerUnit()set m5=GetAttacker()endifset oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A0B0')call SetUnitAbilityLevel(oA,'A0B0',GetUnitAbilityLevel(p5,'A0DW'))call IssueTargetOrder(oA,"acidbomb",m5)set p5=nullset m5=nullset oA=nullendfunctionfunction LK7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T29))call TriggerAddAction(t,function T_9)set t=nullendfunctionfunction U49 takes real x returns reallocal real H7=GetRectMinX(bj_mapInitialPlayableArea)+150if(x<H7)thenreturn H7endifset H7=GetRectMaxX(bj_mapInitialPlayableArea)-150if(x>H7)thenreturn H7endifreturn xendfunctionfunction U79 takes real y returns reallocal real H7=GetRectMinY(bj_mapInitialPlayableArea)+150if(y<H7)thenreturn H7endifset H7=GetRectMaxY(bj_mapInitialPlayableArea)-150if(y>H7)thenreturn H7endifreturn yendfunctionfunction U89 takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())=='n00U' or GetUnitTypeId(GetFilterUnit())=='n00Y' or GetUnitTypeId(GetFilterUnit())=='n00Z' or GetUnitTypeId(GetFilterUnit())=='n0KU' or GetUnitTypeId(GetFilterUnit())=='n0KV' or GetUnitTypeId(GetFilterUnit())=='n0KW' or S17(GetUnitTypeId(GetFilterUnit())))and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(MZ7(GetHandleId(GetTriggeringTrigger()),"BlackHole")))==trueendfunctionfunction U99 takes nothing returns nothinglocal location UD9=GetUnitLoc(GetEnumUnit())local location UE9=GetUnitLoc(MZ7(GetHandleId(GetTriggeringTrigger()),"BlackHole"))local location UF9=JP7(UE9,DistanceBetweenPoints(UE9,UD9)-2,AngleBetweenPoints(UE9,UD9))call SetUnitPositionLoc(GetEnumUnit(),UF9)call RemoveLocation(UD9)call RemoveLocation(UE9)call RemoveLocation(UF9)set UD9=nullset UE9=nullset UF9=nullendfunctionfunction UG9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local group B47local integer NO7=GetHandleId(t)local unit UH9=MZ7(NO7,"BlackHole")local unit ZM7local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()=='A1BX' thencall KillUnit(UH9)set ZM7=MZ7(NO7,"Caster")call UnitApplyTimedLife(MZ7(NO7,"Shadow1"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow2"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow3"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow4"),'BTLF',1)call K_7(NO7)call NM7(t)call KillUnit(ZM7)elseif GetTriggerEvalCount(t)>90 thenset ZM7=MZ7(NO7,"Caster")call UnitApplyTimedLife(MZ7(NO7,"Shadow1"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow2"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow3"),'BTLF',1)call UnitApplyTimedLife(MZ7(NO7,"Shadow4"),'BTLF',1)call K_7(NO7)call NM7(t)call KillUnit(UH9)call KillUnit(ZM7)call JN7(MZ7(NO7,"Source"))elseset x=GetUnitX(UH9)set y=GetUnitY(UH9)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,400,Condition(function U89))call ForGroup(B47,function U99)call T67(B47)endifset ZM7=nullset UH9=nullset t=nullset B47=nullreturn falseendfunctionfunction UI9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)local unit UH9=CreateUnit(GetOwningPlayer(p5),'u004',x,y,0)call RemoveLocation(l)call SetUnitAbilityLevel(UH9,'A0C0',GetUnitAbilityLevel(p5,'A1BX'))if R47(GetOwningPlayer(p5))thencall UW7(ZM7,'A0X4')elsecall UW7(ZM7,'A0X3')endifcall IssuePointOrder(ZM7,"cloudoffog",x,y)call MF7(NO7,"Caster",ZM7)call MF7(NO7,"Shadow1",CreateUnit(GetOwningPlayer(p5),'h06R',x,y,0))call MF7(NO7,"Shadow2",CreateUnit(GetOwningPlayer(p5),'h06R',x,y,0))call MF7(NO7,"Shadow3",CreateUnit(GetOwningPlayer(p5),'h06R',x,y,0))call MF7(NO7,"Shadow4",CreateUnit(GetOwningPlayer(p5),'h06R',x,y,0))call MF7(NO7,"BlackHole",UH9)call MF7(NO7,"Source",p5)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function UG9))set p5=nullset UH9=nullset t=nullset l=nullset ZM7=nullendfunctionfunction UJ9 takes nothing returns booleanif GetSpellAbilityId()=='A1BX' thencall UI9()endifreturn falseendfunctionfunction UK9 takes nothing returns booleanlocal location llocal real xlocal real yif GetSpellAbilityId()=='A1BX' thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)set l=nullif(x!=U49(x)and y!=U79(y))or RectContainsCoords(eE,x,y)or RectContainsCoords(oE,x,y)or RectContainsCoords(aE,x,y)or RectContainsCoords(nE,x,y)or RectContainsCoords(VE,x,y)or RectContainsCoords(EE,x,y)thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),"Cannot cast Blackhole here")endifendifreturn falseendfunctionfunction LM7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UJ9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function UK9))call VQ7('A0C0')set t=nullendfunctionfunction SV takes unit p5,unit m5,integer SR7 returns nothinglocal real V37if SR7==1 thenset V37=30elseif SR7==2 thenset V37=40elseif SR7==3 thenset V37=65elseset V37=80endifcall ZK7(m5,m5,1)call ZO7(p5,m5,Y84,V37)endfunctionfunction Sw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")call SV(p5,m5,SR7)call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction SW takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger tlocal integer NO7local integer SR7=GetUnitAbilityLevel(p5,'A0I7')call SV(p5,m5,SR7)if SR7>1 thenset t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function Sw))endifif SR7==4 thenset t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function Sw))endifset t=nullset p5=nullset m5=nullendfunctionfunction UM9 takes nothing returns booleanif GetSpellAbilityId()=='A0I7' and T37(GetSpellTargetUnit())==false thencall SW()endifreturn falseendfunctionfunction LN7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UM9))set t=nullendfunctionfunction UN9 takes nothing returns booleanreturn(GetSpellAbilityId()=='A0B1')endfunctionfunction UO9 takes nothing returns nothinglocal location sb=GetUnitLoc(GetTriggerUnit())local location Sa=GetSpellTargetLoc()local integer kt=GetUnitAbilityLevel(GetTriggerUnit(),'A0B1')local unit UP9call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(GetTriggerUnit()),sb,Sa)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLifeBJ(8.,'BTLF',bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0B2')call SetUnitAbilityLevelSwapped('A0B2',bj_lastCreatedUnit,kt)call IssuePointOrderByIdLoc(bj_lastCreatedUnit,852221,Sa)if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_USER)thenset UP9=bj_lastCreatedUnitloopcall I17(0.9)exitwhen(IsUnitDeadBJ(UP9))if(GetUnitCurrentOrder(UP9)!=852221)thencall UnitRemoveAbility(UP9,'A0B2')call UnitAddAbility(UP9,'A0B2')call SetUnitAbilityLevelSwapped('A0B2',UP9,kt)call IssuePointOrderByIdLoc(UP9,852221,Sa)endifendloopendifcall RemoveLocation(sb)call RemoveLocation(Sa)set UP9=nullset sb=nullset Sa=nullendfunctionfunction LO7 takes nothing returns nothingset dR=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dR,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(dR,Condition(function UN9))call TriggerAddAction(dR,function UO9)endfunctionfunction UQ9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local integer SR7=GetUnitAbilityLevel(p5,'A180')local unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)call SetUnitState(m5,UNIT_STATE_LIFE,1)call ZO7(p5,m5,Y94,20)call ZO7(p5,m5,Y84,20)call ZO7(p5,m5,YD4,20)call UW7(oA,'A17Z')call SetUnitAbilityLevel(oA,'A17Z',SR7)call IssueImmediateOrder(oA,"lavamonster")set p5=nullset m5=nullset oA=nullendfunctionfunction UR9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer US9=GetUnitLevel(m5)if GetOwningPlayer(m5)!=Y7[0]and GetOwningPlayer(m5)!=Z7[0]and US9>4 thencall JN7(TX7)call VH7(GetOwningPlayer(TX7),(GetObjectName(('n0CX'))))endifset TX7=nullset m5=nullendfunctionfunction UT9 takes nothing returns booleanif GetSpellAbilityId()=='A180' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall UQ9()elsecall UR9()endifendifreturn falseendfunctionfunction LP7 takes nothing returns nothinglocal trigger t=CreateTrigger()local region regDemonicConversion=CreateRegion()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function UT9))set t=nullendfunctionfunction SZ takes nothing returns nothinglocal integer O5=0if IsUnitInGroup(GetEnumUnit(),J44)==false thencall GroupAddUnit(J44,GetEnumUnit())call ZO7(I04,GetEnumUnit(),Y84,IZ4)if((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(I04,QP4)))thenset O5=GetPlayerId(GetOwningPlayer(I04))if((hq[240+O5]>Bz)and(h4[16+O5]==GetEnumUnit())and(J07(G7[O5]))and(JC7(G7[O5]))and(GetUnitLifePercent(G7[O5])>65.)and(G0[128+O5])and(not IsUnitInRange(G7[O5],GetEnumUnit(),450.))and(kJ(GetUnitX(I04),GetUnitY(I04))))thenset PH4[16+O5]=GetEnumUnit()endifendifendifendfunctionfunction S0 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local group g=M67(NO7,"g")local unit oA=MZ7(NO7,"Caster")local integer SR7=M_7(NO7,"Level")local real RK=N47(NO7,"Angle")local group S1local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH thenset I04=CreateUnit(GetOwningPlayer(oA),'h06O',GetUnitX(MZ7(NO7,"Hero")),GetUnitY(MZ7(NO7,"Hero")),0)call SetUnitScale(I04,2.5,2.5,2.5)call KillUnit(I04)call SetUnitPosition(MZ7(NO7,"Hero"),GetUnitX(oA),GetUnitY(oA))call ShowUnit((MZ7(NO7,"Hero")),false)call ShowUnit((MZ7(NO7,"Hero")),true)call SelectUnitAddForPlayer((MZ7(NO7,"Hero")),GetOwningPlayer((MZ7(NO7,"Hero"))))set PH4[GetPlayerId(GetOwningPlayer(oA))]=nullcall T67(g)call K_7(NO7)call NM7(t)elseif GetTriggerEvalCount(t)>'x'thenset PH4[GetPlayerId(GetOwningPlayer(oA))]=nullcall T67(g)call K_7(NO7)call NM7(t)call SetUnitScale(oA,2.5,2.5,2.5)call KillUnit(oA)elseset x=GetUnitX(oA)set y=GetUnitY(oA)set S1=TL7()set J44=gset PH4[16+GetPlayerId(GetOwningPlayer(oA))]=nullset I04=oAset IZ4=SR7*70call GroupEnumUnitsInRange(S1,x,y,225,Condition(function jh))call ForGroup(S1,function SZ)call T67(S1)call SetUnitX(oA,VK7(x+15*Cos(RK*bj_DEGTORAD)))call SetUnitY(oA,VM7(y+15*Sin(RK*bj_DEGTORAD)))if(IsUnitInForce(oA,QP4))thenif(PH4[16+GetPlayerId(GetOwningPlayer(oA))]!=null)thencall IssueImmediateOrderById(G7[GetPlayerId(GetOwningPlayer(oA))],852185)set hq[512+GetPlayerId(GetOwningPlayer(oA))]=Bz+1.elseif((h4[16+GetPlayerId(GetOwningPlayer(oA))]==G7[GetPlayerId(GetOwningPlayer(oA))])and(J07(G7[GetPlayerId(GetOwningPlayer(oA))]))and(not IsUnitInRange(G7[GetPlayerId(GetOwningPlayer(oA))],oA,550.))and(kJ(GetUnitX(oA),GetUnitY(oA)))and(JC7(G7[GetPlayerId(GetOwningPlayer(oA))])))thencall IssueImmediateOrderById(G7[GetPlayerId(GetOwningPlayer(oA))],852185)endifendifendifset t=nullset g=nullset S1=nullset oA=nullreturn falseendfunctionfunction S2 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local group g=TL7()local unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real RK=W77(x1,y1,x2,y2)local integer SR7=GetUnitAbilityLevel(TX7,'A0S9')local unit oA=CreateUnit(GetOwningPlayer(TX7),'h06O',x1,y1,RK)call WN7(UX,x1,y1)call UW7(GetTriggerUnit(),'A0SA')set PH4[GetPlayerId(GetOwningPlayer(TX7))]=oAcall SetUnitScale(oA,3.5,3.5,3.5)call MF7(NO7,"Caster",oA)call M87(NO7,"Level",SR7)call MO7(NO7,"g",g)call M97(NO7,"Angle",RK)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,.025,true)call TriggerRegisterUnitEvent(t,oA,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function S0))call RemoveLocation(l)set t=nullset oA=nullset g=nullset TX7=nullset l=nullendfunctionfunction S3 takes nothing returns nothinglocal integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if PH4[i]==null thencall VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n037'))elsecall SetUnitScale(PH4[i],2.5,2.5,2.5)call KillUnit(PH4[i])endifendfunctionfunction UU9 takes nothing returns booleanif GetSpellAbilityId()=='A0S9'thencall S2()endifif GetSpellAbilityId()=='A0SA'thencall S3()endifreturn falseendfunctionfunction fwv takes nothing returns booleanif GetLearnedSkill()=='A0S9'and GetUnitAbilityLevel(GetTriggerUnit(),'A0S9')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall UW7(GetTriggerUnit(),'A0SA')endifreturn falseendfunctionfunction IM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UU9))set t=nullendfunctionfunction S6 takes nothing returns nothingcall ZO7(GetTriggerUnit(),GetEnumUnit(),Y84,IZ4)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationTarget.mdx",GetEnumUnit(),"chest"))endfunctionfunction S7 takes nothing returns nothinglocal group g=TL7()local unit TX7=GetTriggerUnit()local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local integer SR7=GetUnitAbilityLevel(TX7,'A0SC')local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',x,y,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\StaffOfPurification\\PurificationCaster.mdx",x,y))call UW7(oA,'A0SD')call SetUnitAbilityLevel(oA,'A0SD',SR7)call IssuePointOrderById(oA,852592,x,y)set IZ4=SR7*60call GroupEnumUnitsInRange(g,x,y,425,Condition(function jF))call ForGroup(g,function S6)call T67(g)set oA=nullset g=nullset TX7=nullendfunctionfunction UV9 takes nothing returns booleanif GetSpellAbilityId()=='A0SC'thencall S7()endifreturn falseendfunctionfunction uI takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UV9))set t=nullendfunctionfunction UW9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer JK7local integer UX9if(GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER and GetIssuedOrderId()!=OrderId("phaseshift"))or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetUnitInvulnerable(TX7,false)call UnitRemoveAbility(TX7,'A04R')call K_7(NO7)call NM7(t)elseset JK7=(M_7(NO7,"Level"))set UX9=(M_7(NO7,"Counter"))+1call M87(NO7,"Counter",(UX9))if UX9>3*JK7 or J87(GetUnitX(TX7),GetUnitY(TX7),(N47(NO7,"x")),(N47(NO7,"y")))>125 thencall SetUnitInvulnerable(TX7,false)call UnitRemoveAbility(TX7,'A04R')call K_7(NO7)call NM7(t)endifendifset t=nullset TX7=nullreturn falseendfunctionfunction UY9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call SetUnitInvulnerable(TX7,true)call UW7(TX7,'A04R')call MF7(NO7,"Hero",TX7)call M87(NO7,"Level",GetUnitAbilityLevel(TX7,'A0SB'))call M87(NO7,"Counter",0)call M97(NO7,"x",((GetUnitX(TX7))*1.0))call M97(NO7,"y",((GetUnitY(TX7))*1.0))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function UW9))call NQ7(TX7,"4266",5.9)set t=nullset TX7=nullendfunctionfunction UZ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))call IssueImmediateOrder(T_7,"phaseshiftoff")call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset T_7=nullreturn falseendfunctionfunction UA9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(14),(T_7))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function UZ9))set t=nullset T_7=nullendfunctionfunction UB9 takes nothing returns booleanif GetIssuedOrderId()==OrderId("phaseshift")and IsUnitIllusion(GetTriggerUnit())==false and NF7(GetTriggerUnit(),"4266")==false thencall UY9()elseif GetIssuedOrderId()==OrderId("phaseshifton")thencall UA9()endifreturn falseendfunctionfunction IN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function UB9))set t=nullendfunctionfunction UC9 takes unit p5,unit m5,integer SR7,integer U39 returns nothingcall ZK7(p5,m5,0.75+0.75*SR7)if U39==1 thencall ZO7(p5,m5,Y84,SR7*50+50)elsecall ZO7(p5,m5,Y84,SR7*50+50+100)endifendfunctionfunction U69 takes unit p5,unit m5 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UnitAddAbility(oA,'A0SF')call IssueTargetOrder(oA,"thunderbolt",m5)set oA=nullendfunctionfunction UL9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SR7=(LoadInteger(C7,(NO7),(5)))local integer U39=(LoadInteger(C7,(NO7),(152)))local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local integer XQ7=(LoadInteger(C7,(NO7),(30)))local unit m5=QL7(XQ7)local lightning i7=(LoadLightningHandle(C7,(NO7),(196)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyLightning(i7)call Q67(XQ7)call K_7(NO7)call NM7(t)elsecall MoveLightning(i7,true,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))if J87(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))>600 thencall DestroyLightning(i7)call Q67(XQ7)call K_7(NO7)call NM7(t)call UC9(p5,m5,SR7,U39)endifendifset t=nullset p5=nullset m5=nullset i7=nullreturn falseendfunctionfunction tC takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local lightning i7=AddLightning("HWPB",true,GetUnitX(CM4),GetUnitY(CM4),GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))call SetLightningColor(i7,0,.7,1,1)call SaveLightningHandle(C7,(NO7),(196),(i7))call SaveUnitHandle(C7,(NO7),(2),(CM4))call SaveInteger(C7,(NO7),(30),(Q07(GetEnumUnit())))call SaveInteger(C7,(NO7),(5),(B54))call SaveInteger(C7,(NO7),(152),(B24))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,CM4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function UL9))call ZO7(GetTriggerUnit(),GetEnumUnit(),Y84,B_4)call U69(GetTriggerUnit(),GetEnumUnit())set t=nullset i7=nullendfunctionfunction td takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00U',x,y,0)local group g=TL7()local integer SR7=GetUnitAbilityLevel(TX7,'A0S8')local real U19=5local integer U39=1if SR7==0 thenset SR7=GetUnitAbilityLevel(TX7,'A1QP')set U19=7set U39=2endifcall RemoveLocation(l)call SetUnitAnimation(oA,"channel")call W57(oA,U19)set CM4=oAset CK4=U19set B_4=SR7*50+50set B54=SR7set B24=U39call GroupEnumUnitsInRange(g,x,y,400,Condition(function YY7))call ForGroup(g,function tC)call T67(g)set g=nullset oA=nullset TX7=nullset l=nullendfunctionfunction U09 takes nothing returns booleanif GetSpellAbilityId()=='A0S8' or GetSpellAbilityId()=='A1QP' thencall td()endifreturn falseendfunctionfunction IO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U09))set t=nullendfunctionfunction U59 takes nothing returns booleanreturn GetSpellAbilityId()=='A21E'endfunctionfunction U29 takes nothing returns nothingcall SetUnitX(GetEnumUnit(),VR4)call SetUnitY(GetEnumUnit(),VS4)endfunctionfunction U_9 takes nothing returns nothinglocal destructable array dxlocal integer HF9local integer V49local fogmodifier V79local unit ZM7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local location V89local real xlocal real ylocal group g=TL7()if U47==null thenset V89=GetSpellTargetLoc()elseset V89=GetUnitLoc(U47)endifset x=GetLocationX(V89)set y=GetLocationY(V89)set VR4=xset VS4=yif IsUnitAlly(ZM7,GetOwningPlayer(U47))==true or T37(GetSpellTargetUnit())==false thenset I04=ZM7call GroupEnumUnitsInRange(g,x,y,150,Condition(function Y47))call WB7(CreateFogModifierRadiusLocBJ(true,GetOwningPlayer(ZM7),FOG_OF_WAR_VISIBLE,V89,1000.00),2.25+0.75*GetUnitAbilityLevel(ZM7,'A21E'))set HF9=1set V49=8loopexitwhen HF9>V49call W67(CreateDestructableLoc('B005',JP7(V89,150.00,(I2R(HF9)*45.00)),GetRandomReal(0,360),1,0),2.25+0.75*GetUnitAbilityLevel(ZM7,'A21E'))call MK7(GetHandleId(ZM7),"AI|SproutTree"+I2S(HF9),bj_lastCreatedDestructable)set HF9=HF9+1endloopendifcall RemoveLocation(V89)call ForGroup(g,function U29)call T67(g)set V79=nullset ZM7=nullset U47=nullset V89=nullset g=nullendfunctionfunction V99 takes nothing returns nothingif GetSpellAbilityId()=='A21E' and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))endifendfunctionfunction LR7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U59))call TriggerAddAction(t,function U_9)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function V99)set t=nullendfunctionfunction VD9 takes nothing returns booleanreturn GetSpellAbilityId()=='A01O'endfunctionfunction VE9 takes nothing returns nothinglocal location Mk=GetSpellTargetLoc()local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetTriggerUnit()))thencall PingMinimapEx(x,y,3,255,255,255,false)endifcall DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",x,y))call DestroyEffect(AddSpecialEffect("war3mapImported\\FurionTeleportTarget.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))call RemoveLocation(Mk)set Mk=nullendfunctionfunction LS7 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function VD9))call TriggerAddAction(t,function VE9)set t=nullendfunctionfunction VF9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local integer JK7=(LoadInteger(C7,(TM7),(5)))local unit XR7=(LoadUnitHandle(C7,(TM7),(17)))local integer VG9=Ld(XR7)local real X97=GetUnitState(XR7,UNIT_STATE_LIFE)local real VH9=GetUnitState(XR7,UNIT_STATE_MAX_LIFE)local real VI9if X97/VH9>0.4 thenset VI9=I2R(JK7)/4*0.2*VG9+2*JK7elseset VI9=I2R(JK7)/4*0.6*VG9+2*JK7endifset VI9=VI9/8.0if GetTriggerEvalCount(t)>16*8.0 thencall DestroyEffect((LoadEffectHandle(C7,(TM7),(31))))call UnitRemoveAbility(XR7,'A0QO')call FlushChildHashtable(C7,(TM7))call NM7(t)elsecall SetUnitState(XR7,UNIT_STATE_LIFE,X97+VI9)endifset XR7=nullset t=nullreturn falseendfunctionfunction VJ9 takes nothing returns nothinglocal unit XR7=GetSpellTargetUnit()local unit XT7=GetTriggerUnit()local integer JK7=GetUnitAbilityLevel(XT7,'A0QP')local trigger t=CreateTrigger()local integer TM7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1/8.0,true)call TriggerAddCondition(t,Condition(function VF9))call SaveInteger(C7,(TM7),(5),(JK7))call SaveUnitHandle(C7,(TM7),(17),(XR7))call SaveEffectHandle(C7,(TM7),(31),(AddSpecialEffectTarget("InnerVitality.mdx",XR7,"chest")))call UW7(XR7,'A0QO')call SetUnitAbilityLevel(XR7,'A0QO',JK7)set XR7=nullset XT7=nullset t=nullendfunctionfunction VK9 takes nothing returns booleanif GetSpellAbilityId()=='A0QP'thencall VJ9()endifreturn falseendfunctionfunction HY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VK9))set t=nullendfunctionfunction VM9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer RD9local string VN9local integer VO9local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local unit p5=MZ7(NO7,"Source")if GetTriggerEvalCount(t)>6 or UY7(m5)thencall DestroyEffect(ML7(NO7,"Effect"))call K_7(NO7)set RD9=GetHandleId(p5)set VN9=I2S(GetHandleId(m5))+"NumOfSpears"set VO9=M_7(RD9,VN9)set VO9=VO9-1if VO9==0 thencall M87(RD9,VN9,0)elsecall M87(RD9,VN9,VO9)endifcall Q67(ZR7)call NM7(t)elsecall ZO7(p5,m5,Y84,4*GetUnitAbilityLevel(p5,'A0QN'))endifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction VP9 takes unit p5,unit m5 returns nothinglocal integer NO7=GetHandleId(p5)local integer RD9local trigger tlocal integer VN9=M_7(NO7,I2S(GetHandleId(m5))+"NumOfSpears")set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function VM9))set RD9=GetHandleId(t)call MF7(RD9,"Source",p5)call M87(RD9,"TargetIndex",Q07(m5))call M87(NO7,I2S(GetHandleId(m5))+"NumOfSpears",VN9+1)call MG7(RD9,"Effect",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))set t=nullendfunctionfunction VQ9 takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),'B081')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0QN')>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,VC7(GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)-15,1))call UnitRemoveAbility(GetTriggerUnit(),'B081')call VP9(GetEventDamageSource(),GetTriggerUnit())call DisableTrigger(GetTriggeringTrigger())call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction VR9 takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call MF7(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function VQ9))endifset t=nullset m5=nullset p5=nullendfunctionfunction VS9 takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),'A0QN')>0 and(N77(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")thencall VR9()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==OrderId("poisonarrows"))thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0QN' thencall VR9()endifreturn falseendfunctionfunction VT9 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function VS9))call MF7(GetHandleId(t),"Hero",TX7)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction VU9 takes nothing returns booleanif GetLearnedSkill()=='A0QN' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0QN')==1 thencall VT9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction HZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function VU9))set t=nullendfunctionfunction tQ takes nothing returns booleanlocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit TX7=MZ7(NO7,"Hero")local real VV9=GetUnitState(TX7,UNIT_STATE_LIFE)local real MaxHealth=GetUnitState(TX7,UNIT_STATE_MAX_LIFE)local integer VW9local integer VX9local integer SR7=GetUnitAbilityLevel(TX7,'A0QQ')local boolean VY9=N77(NO7,"HasFX")if IsUnitType(TX7,UNIT_TYPE_HERO)and SR7>0 thenset VW9=R2I(100*GetUnitState(TX7,UNIT_STATE_LIFE)/GetUnitState(TX7,UNIT_STATE_MAX_LIFE))set VX9=VZ7(VY7(R2I(100-VW9)/7,14),1)if UY7(TX7)==false thencall ZU7(TX7,SR7*VX9*2)call ZY7(TX7,SR7*VX9*3)if VW9<40 thenif VY9==false thencall ME7(NO7,"HasFX",true)call MG7(NO7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\TrollBerserk\\HeadhunterWEAPONSLeft.mdl",TX7,"left weapon"))call MG7(NO7,"FX2",AddSpecialEffectTarget("effects\\HeadhunterWEAPONSRight_NoSound.mdx",TX7,"right weapon"))endifelseif VY9==true thencall ME7(NO7,"HasFX",false)call DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))endifendifendifendifset TX7=nullreturn falseendfunctionfunction VZ9 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddCondition(t,Condition(function tQ))call MF7(GetHandleId(t),"Hero",TX7)call ME7(GetHandleId(t),"HasFX",false)if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction VA9 takes nothing returns booleanif GetLearnedSkill()=='A0QQ'and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0QQ')==1 thencall VZ9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction HA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function VA9))set t=nullendfunctionfunction VB9 takes nothing returns nothinglocal unit p5=GetEnumUnit()local real l4=J87(GetUnitX(p5),GetUnitY(p5),VO4,VP4)if l4<VN4 and IsUnitVisible(p5,GetOwningPlayer(VQ4))==true thenset VM4=GetEnumUnit()set VN4=l4endifset p5=nullendfunctionfunction VC9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer NO7=GetUnitAbilityLevel(GetTriggerUnit(),'A1W8')local integer P79='A07X'local group glocal unit q5if NO7==0 thenset NO7=GetUnitAbilityLevel(GetTriggerUnit(),'A1W9')set P79='A0AL'endifif m5==null thenset VM4=nullset VQ4=p5set VN4=999999set VO4=GetSpellTargetX()set VP4=GetSpellTargetY()set I04=p5set g=TL7()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Y47))call ForGroup(g,function VB9)call T67(g)set m5=VM4set g=nullendifif m5!=null thenset q5=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),0)call UW7(q5,P79)call SetUnitAbilityLevel(q5,P79,NO7)call IssueTargetOrder(q5,"chainlightning",m5)set q5=nullendifset p5=nullset m5=nullendfunctionfunction V39 takes nothing returns booleanif GetSpellAbilityId()=='A1W8' or GetSpellAbilityId()=='A1W9' thencall VC9()endifreturn falseendfunctionfunction LT7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function V39))set t=nullendfunctionfunction V69 takes unit X97,unit U47 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=GetUnitAbilityLevel(X97,'A0QR')local real VL9local real V19=0.5if ZN7==0 thenset ZN7=GetUnitAbilityLevel(X97,'A1B3')set V19=0.65endifcall UW7(ZM7,'A0QU')call SetUnitAbilityLevel(ZM7,'A0QU',ZN7)call IssueTargetOrder(ZM7,"slow",U47)if ZN7==1 thenset VL9=0.35elseif ZN7==2 thenset VL9=0.30elseset VL9=0.25endifcall ZO7(X97,X97,Y84,GetUnitState(X97,UNIT_STATE_LIFE)*VL9)call ZO7(X97,U47,Y84,GetUnitState(U47,UNIT_STATE_LIFE)*V19)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",X97,"chest"))call DestroyEffect(AddSpecialEffectTarget("effects\\LifeBreak.mdx",U47,"chest"))set X97=nullset U47=nullset ZM7=nullendfunctionfunction V09 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real P39=(LoadReal(C7,(V_7),(23)))local real P69=(LoadReal(C7,(V_7),(24)))local real xlocal real ylocal real V59=GetUnitX(X97)local real V29=GetUnitY(X97)local real WR7=GetUnitX(U47)local real WS7=GetUnitY(U47)local real Q99=Atan2(WS7-V29,WR7-V59)if GetUnitTypeId(X97)=='E02X' thencall SetUnitAnimationByIndex(X97,1)elsecall SetUnitAnimationByIndex(X97,17)endifif GetTriggerEventId()==EVENT_WIDGET_DEATH or J87(P39,P69,WR7,WS7)>1400 or V78(X97)thencall SetUnitPathing(X97,true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call UnitRemoveAbility(X97,'A0ST')call SetUnitTimeScale(X97,1.0)call FlushChildHashtable(C7,(V_7))call NM7(t)elseif J87(V59,V29,WR7,WS7)<125 thencall SetUnitPathing(X97,true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call UnitRemoveAbility(X97,'A0ST')call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitTimeScale(X97,1.0)if U47!=null and UY7(U47)==false thencall IssueTargetOrder(X97,"attack",U47)call V69(X97,U47)endifelsecall SetUnitPathing(X97,false)set P39=WR7set P69=WS7call SaveReal(C7,(V_7),(23),((P39)*1.0))call SaveReal(C7,(V_7),(24),((P69)*1.0))set x=V59+15*Cos(Q99)set y=V29+15*Sin(Q99)call SetUnitPosition(X97,x,y)call SetUnitFacing(X97,Q99*bj_RADTODEG)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction V_9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.015,true)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function V09))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(23),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(U47))*1.0))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",X97,"hand right alternate")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\LifeBreakCharge.mdx",X97,"hand left alternate")))call SetUnitPathing(X97,false)call UW7(X97,'A0ST')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A0ST',false)call SetUnitAnimationByIndex(X97,17)call SetUnitTimeScale(X97,3.0)set X97=nullset U47=nullset t=nullendfunctionfunction W49 takes nothing returns booleanif(GetSpellAbilityId()=='A0QR' or GetSpellAbilityId()=='A1B3')and T37(GetSpellTargetUnit())==false thencall V_9()endifreturn falseendfunctionfunction HB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function W49))set t=nullcall VQ7('A0QU')endfunctionfunction W79 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SR7=M_7(NO7,"Level")local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")if GetTriggerEvalCount(t)>10 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(ML7(NO7,"FX"))call UnitRemoveAbility(m5,'A1G5')call UnitRemoveAbility(m5,'A1G3')call UnitRemoveAbility(m5,'A1G6')call UnitRemoveAbility(m5,'A1G4')call K_7(NO7)call NM7(t)elsecall ZO7(p5,m5,Y84,(SR7*5+5)/ 2)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction W89 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=FNlocal unit p5=fNlocal unit m5=GetEnumUnit()if SR7==1 thencall UW7(m5,'A1G5')call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A1G5',false)elseif SR7==2 thencall UW7(m5,'A1G3')call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A1G3',false)elseif SR7==3 thencall UW7(m5,'A1G6')call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A1G6',false)elseif SR7==4 thencall UW7(m5,'A1G4')call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A1G4',false)endifcall MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\BreathOfFire\\BreathOfFireDamage.mdl",m5,"chest"))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function W79))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",GetUnitX(m5),GetUnitY(m5)))set t=nullset p5=nullset m5=nullendfunctionfunction W99 takes unit p5,unit m5 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A0O8')local real x=GetUnitX(m5)local real y=GetUnitY(m5)local group g=TL7()local group g2=TL7()set FN=SR7set fN=p5set I04=p5call GroupEnumUnitsInRange(g,x,y,200,Condition(function Y27))call GroupEnumUnitsInRange(g2,x,y,200,Condition(function YH7))call GroupAddGroup(g2,g)call ForGroup(g,function W89)call T67(g)call T67(g2)set t=nullset g=nullset g2=nullendfunctionfunction WD9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and(GetEventDamage()>40 or IsUnitType(m5,UNIT_TYPE_STRUCTURE)==true or GetUnitTypeId(m5)=='umtw' or GetUnitTypeId(m5)=='ebal')and N77(GetHandleId(p5),"LiquidFire|Active")==true thencall W99(p5,m5)call ME7(GetHandleId(p5),"LiquidFire|Active",false)call M97(GetHandleId(p5),"LiquidFire|LastUsed",TimerGetElapsed(P)*1.0)endifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction WE9 takes nothing returns booleanlocal trigger tlocal integer NO7local unit m5local unit p5if GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"LiquidAttacker")and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false thenset t=CreateTrigger()set NO7=GetHandleId(t)set m5=GetTriggerUnit()set p5=GetAttacker()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function WD9))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)set m5=nullset p5=nullset t=nullendifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction WF9 takes nothing returns booleancall ME7(GetHandleId(GetTriggerUnit()),"LiquidFire|Active",false)call M97(GetHandleId(GetTriggerUnit()),"LiquidFire|LastUsed",TimerGetElapsed(P)*1.0)call UnitRemoveAbility(GetTriggerUnit(),'A1FC')call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())return falseendfunctionfunction WG9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real T47=(TimerGetElapsed(P))local integer SR7=GetUnitAbilityLevel(TX7,'A0O8')local real R49=N47(GetHandleId(TX7),"LiquidFire|LastUsed")local boolean WS8=N77(GetHandleId(TX7),"LiquidFire|Active")if T47-R49>25-SR7*5 and WS8==false and UY7(TX7)==false thencall ME7(GetHandleId(TX7),"LiquidFire|Active",true)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WF9))call UW7(TX7,'A1FC')elseif WS8==false thencall UnitRemoveAbility(TX7,'A1FC')endifset t=nullset TX7=nullreturn falseendfunctionfunction WH9 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()local integer NO7=GetHandleId(t)local integer RD9=GetHandleId(t2)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function WG9))call MF7(NO7,"Hero",TX7)call M97(NO7,"LiquidFire|LastUsed",0)call WH7(t2,EVENT_PLAYER_UNIT_ATTACKED)call MF7(RD9,"LiquidAttacker",TX7)call TriggerAddCondition(t2,Condition(function WE9))if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tset Aj[GetPlayerId(GetOwningPlayer(TX7))]=t2endifset TX7=nullset t=nullset t2=nullendfunctionfunction WI9 takes nothing returns booleanif GetLearnedSkill()=='A0O8' and GetUnitAbilityLevel(GetTriggerUnit(),'A0O8')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall WH9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction CA7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function WI9))set t=nullendfunctionfunction WJ9 takes real x1,real y1,real x2,real y2,real x3,real y3,real x,real y returns booleanlocal real WK9=(y-y1)*(x2-x1)-(x-x1)*(y2-y1)local real WM9=(y-y3)*(x1-x3)-(x-x3)*(y1-y3)local real WN9=(y-y2)*(x3-x2)-(x-x2)*(y3-y2)return(WK9*WM9>0)and(WN9*WM9>0)endfunctionfunction WO9 takes nothing returns booleanlocal real WP9=IZ4local real WQ9=I34local real WR9=IL4local real WS9=Zllocal real WT9=vLlocal real WU9=eLreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and WJ9(WP9,WQ9,WR9,WS9,WT9,WU9,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))endfunctionfunction WV9 takes real WW9,real WK9,real WM9 returns nothinglocal real WN9=550local real WX9=200local real WY9=250local real WZ9=Asin((WY9-WX9)/ WN9)local real x=WX9/ Sin(WZ9)local real y=(WN9+WY9+x)*Tan(WZ9)local real WP9=WK9+x*Cos((WW9-180)*bj_DEGTORAD)local real WQ9=WM9+x*Sin((WW9-180)*bj_DEGTORAD)local real WR9=(WK9+(WN9+WY9)*Cos(WW9*bj_DEGTORAD))+y*Cos((WW9-90)*bj_DEGTORAD)local real WS9=(WM9+(WN9+WY9)*Sin(WW9*bj_DEGTORAD))+y*Sin((WW9-90)*bj_DEGTORAD)local real WT9=(WK9+(WN9+WY9)*Cos(WW9*bj_DEGTORAD))+y*Cos((WW9+90)*bj_DEGTORAD)local real WU9=(WM9+(WN9+WY9)*Sin(WW9*bj_DEGTORAD))+y*Sin((WW9+90)*bj_DEGTORAD)set IZ4=WP9set I34=WQ9set IL4=WR9set Zl=WS9set vL=WT9set eL=WU9endfunctionfunction WA9 takes nothing returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(ZM7,'A0OA')call IssueTargetOrder(ZM7,"frostnova",GetEnumUnit())set ZM7=nullendfunctionfunction WB9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local real Y5=N47(NO7,"TargetX")local real Z5=N47(NO7,"TargetY")local integer SR7=M_7(NO7,"Level")local unit ZM7if GetTriggerEvalCount(t)>1 thencall SetUnitAnimation(TX7,"stand")call K_7(NO7)call NM7(t)elsecall SetUnitAnimation(TX7,"spell")set ZM7=CreateUnit(p,'e00E',x,y,0)call UW7(ZM7,'A0OC')call SetUnitAbilityLevel(ZM7,'A0OC',SR7)call IssuePointOrder(ZM7,"breathoffrost",Y5,Z5)endifset t=nullset p=nullset TX7=nullset ZM7=nullreturn falseendfunctionfunction WC9 takes unit u,player p,integer SR7,location l,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MM7(NO7,"p",p)call M97(NO7,"x",(x)*1.0)call M97(NO7,"y",(y)*1.0)call M97(NO7,"TargetX",GetLocationX(l)*1.0)call M97(NO7,"TargetY",GetLocationY(l)*1.0)call M87(NO7,"Level",SR7)call MF7(NO7,"Hero",u)call TriggerRegisterTimerEvent(t,0.3,true)call TriggerAddCondition(t,Condition(function WB9))set t=nullendfunctionfunction W39 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0O7')local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local location llocal unit ZM7local group g=TL7()if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()elseset l=GetUnitLoc(GetSpellTargetUnit())endifcall WV9(bj_RADTODEG*Atan2(GetLocationY(l)-y,GetLocationX(l)-x),x,y)call GroupEnumUnitsInRange(g,x,y,2000,Condition(function WO9))call ForGroup(g,function WA9)call T67(g)set ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',x,y,0)call UW7(ZM7,'A0OB')call SetUnitAbilityLevel(ZM7,'A0OB',SR7)call IssuePointOrder(ZM7,"breathoffire",GetLocationX(l),GetLocationY(l))call WC9(TX7,GetOwningPlayer(TX7),SR7,l,x+50*Cos(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)),y+50*Sin(Atan2(GetLocationY(l)-y,GetLocationX(l)-x)))call RemoveLocation(l)set TX7=nullset l=nullset g=nullset ZM7=nullendfunctionfunction W69 takes nothing returns booleanif GetSpellAbilityId()=='A0O7' thencall W39()endifreturn falseendfunctionfunction CZ7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function W69))call VQ7('A0OB')call VQ7('A0OC')call VQ7('A0OA')set t=nullendfunctionfunction TD takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE)==false)and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetDyingUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false)and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0))endfunctionfunction Te takes nothing returns booleanreturn GetUnitTypeId(GetDyingUnit())=='e01U'endfunctionfunction TE takes nothing returns nothinglocal unit u=GetDyingUnit()local integer sr=GetUnitUserData(u)local group glocal unit Tflocal unit TFlocal boolexpr hP=Condition(function TD)set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),175,hP)loopset TF=FirstOfGroup(g)exitwhen(TF==null)call GroupRemoveUnit(g,TF)set Tf=CreateUnit(GetOwningPlayer(u),'e00E',GetUnitX(TF),GetUnitY(TF),0)call UW7(Tf,'A0OF')call SetUnitAbilityLevel(Tf,'A0OF',sr)call IssueTargetOrderById(Tf,852095,TF)call UnitApplyTimedLife(Tf,'BTLF',1)call UW7(Tf,'Aloc')endloopcall T67(g)call DestroyBoolExpr(hP)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(u),GetUnitY(u)))set u=nullset g=nullset Tf=nullset TF=nullendfunctionfunction Tg takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=GetUnitAbilityLevel(TX7,'A0O6')local real x=N47(NO7,"IcePathX")local real y=N47(NO7,"IcePathY")local real RK=N47(NO7,"IcePathAngle")local unit Tflocal integer Rd=M_7(NO7,"IcePath|Counter")set x=x+100*Cos(RK*bj_DEGTORAD)set y=y+100*Sin(RK*bj_DEGTORAD)call M97(NO7,"IcePathX",x)call M97(NO7,"IcePathY",y)set Tf=CreateUnit(GetOwningPlayer(TX7),'e01U',x,y,GetRandomReal(0,359))call UnitApplyTimedLife(Tf,'BTLF',.5)call SetUnitUserData(Tf,SR7)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",x,y))set Rd=Rd+1call M87(NO7,"IcePath|Counter",Rd)if Rd>=10 thencall PauseTimer(t)call K_7(NO7)call DestroyTimer(t)endifset t=nullset TX7=nullset Tf=nullendfunctionfunction WL9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0O6'endfunctionfunction W19 takes nothing returns nothinglocal timer t=CreateTimer()local unit TX7=GetTriggerUnit()local location sy=GetSpellTargetLoc()local location TH=GetUnitLoc(TX7)local integer NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call M97(NO7,"IcePathX",GetUnitX(TX7))call M97(NO7,"IcePathY",GetUnitY(TX7))call M97(NO7,"IcePathAngle",AngleBetweenPoints(TH,sy))call M87(NO7,"IcePath|Counter",0)call RemoveLocation(TH)call RemoveLocation(sy)call TimerStart(t,.05,true,function Tg)set t=nullset TX7=nullset TH=nullset sy=nullendfunctionfunction CB7 takes nothing returns nothinglocal trigger t=CreateTrigger()set EJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function Te))call TriggerAddAction(t,function TE)call TriggerRegisterAnyUnitEventBJ(EJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(EJ,Condition(function WL9))call TriggerAddAction(EJ,function W19)set t=nullendfunctionfunction W09 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local real a=N47(NO7,"a")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local integer id=GetPlayerId(GetOwningPlayer(p5))local integer RU8=GetTriggerEvalCount(t)local real W59=x+150*RU8*Cos(a)local real W29=y+150*RU8*Sin(a)local integer W_9=6if GetUnitAbilityLevel(p5,'A0O5')==0 thenset W_9=9endifif GetPlayerController(GetOwningPlayer(RG4[id]))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(RG4[GetPlayerId(GetOwningPlayer(p5))],'A0OE')call SetUnitAbilityLevel(RG4[GetPlayerId(GetOwningPlayer(p5))],'A0OE',SR7)endifcall IssuePointOrder(RG4[id],"flamestrike",W59,W29)if RU8==(W_9)thencall K_7(NO7)call NM7(t)call SetUnitAnimation(p5,"stand")endifset t=nullset p5=nullreturn falseendfunctionfunction X49 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local integer SR7=GetUnitAbilityLevel(p5,'A0O5')local integer o6='A0OE'if SR7==0 thenset SR7=GetUnitAbilityLevel(p5,'A1B1')set o6='A1B2'endifcall RemoveLocation(l)call SetUnitAnimation(p5,"spell")set RG4[GetPlayerId(GetOwningPlayer(p5))]=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)call UW7(RG4[GetPlayerId(GetOwningPlayer(p5))],o6)call SetUnitAbilityLevel(RG4[GetPlayerId(GetOwningPlayer(p5))],o6,SR7)call M87(NO7,"Level",SR7)call M97(NO7,"x",(GetUnitX(p5))*1.0)call M97(NO7,"y",(GetUnitY(p5))*1.0)call M97(NO7,"a",(a)*1.0)call MF7(NO7,"Source",p5)if o6=='A0OE' thencall TriggerRegisterTimerEvent(t,0.1,true)elsecall TriggerRegisterTimerEvent(t,0.05,true)endifcall TriggerAddCondition(t,Condition(function W09))set t=nullset p5=nullset l=nullendfunctionfunction X79 takes nothing returns booleanif GetSpellAbilityId()=='A0O5' or GetSpellAbilityId()=='A1B1' thencall X49()endifreturn falseendfunctionfunction CC7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X79))call VQ7('A0OE')set t=nullendfunctionfunction X89 takes nothing returns booleanreturn GetUnitTypeId(GetSummonedUnit())=='o00C' or GetUnitTypeId(GetSummonedUnit())=='o01G' or GetUnitTypeId(GetSummonedUnit())=='o01H' or GetUnitTypeId(GetSummonedUnit())=='o01I'endfunctionfunction X99 takes nothing returns nothingcall SetUnitAbilityLevelSwapped('A058',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A047',GetSummoningUnit()))endfunctionfunction LU7 takes nothing returns nothingset dT=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dT,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(dT,Condition(function X89))call TriggerAddAction(dT,function X99)endfunctionfunction To takes unit TX7,unit m5 returns nothinglocal real a=GetRandomReal(0,360)local real x=GetUnitX(m5)+50*Cos(a*bj_DEGTORAD)local real y=GetUnitY(m5)+50*Sin(a*bj_DEGTORAD)call SetUnitPosition(TX7,x,y)call SetUnitFacing(TX7,bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(TX7),GetUnitX(m5)-GetUnitX(TX7)))call SetUnitAnimation(TX7,"Attack")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Blink\\BlinkCaster.mdl",TX7,"chest"))call ZO7(TX7,m5,Y94,GetRandomReal(175,250))call IssueTargetOrder(TX7,"attack",m5)endfunctionfunction XD9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit m5=MZ7(NO7,"Target")call To(TX7,m5)call K_7(NO7)call NM7(t)set t=nullset TX7=nullset m5=nullreturn falseendfunctionfunction XE9 takes unit TX7 returns nothinglocal group g=TL7()set I04=TX7call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),450,Condition(function YD7))set I04=GroupPickRandomUnit(g)if I04!=null thencall To(TX7,I04)endifcall T67(g)set g=nullendfunctionfunction XF9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit ZM7=MZ7(NO7,"Caster")local integer Tq=M_7(NO7,"Limit")local integer TQ=M_7(NO7,"BFLevel")local integer Rd=M_7(NO7,"Counter")local unit Trcall SetUnitPosition(ZM7,GetUnitX(TX7),GetUnitY(TX7))if Rd>Tq thencall KillUnit(ZM7)call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A05G',true)call SetUnitPathing(TX7,true)call SetUnitInvulnerable(TX7,false)call NJ7(TX7,"Omnislashing")call SetUnitVertexColor(TX7,255,255,255,255)elsecall M87(NO7,"Counter",Rd+1)call XE9(TX7)if I04==null thencall KillUnit(ZM7)call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A05G',true)call SetUnitPathing(TX7,true)call SetUnitInvulnerable(TX7,false)call NJ7(TX7,"Omnislashing")call SetUnitVertexColor(TX7,255,255,255,255)endifendifset t=nullset TX7=nullset Tr=nullset ZM7=nullreturn falseendfunctionfunction XG9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0M1')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer TQ=GetUnitAbilityLevel(TX7,'A05G')local player p=GetOwningPlayer(TX7)local integer XH9=3local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'o00D',GetUnitX(TX7),GetUnitY(TX7),0)if SR7==0 thenset SR7=GetUnitAbilityLevel(TX7,'A1AX')if SR7==1 thenset XH9=6elseif SR7==2 thenset XH9=9elseif SR7==3 thenset XH9=12endifelseif SR7==2 thenset XH9=6elseif SR7==3 thenset XH9=9endifcall SetPlayerAbilityAvailable(p,'A05G',false)call SetUnitVertexColor(TX7,255,255,255,125)call SetUnitPathing(TX7,false)call SetUnitInvulnerable(TX7,true)call NH7(TX7,"Omnislashing")call MF7(NO7,"Hero",TX7)call MF7(NO7,"Target",m5)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function XD9))set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",ZM7)call M87(NO7,"Limit",XH9)call M87(NO7,"BFLevel",TQ)call M87(NO7,"Counter",2)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",TX7,"weapon"))call TriggerRegisterTimerEvent(t,0.4,true)call TriggerAddCondition(t,Condition(function XF9))set TX7=nullset m5=nullset t=nullset p=nullendfunctionfunction XI9 takes nothing returns booleanif GetSpellAbilityId()=='A0M1' or GetSpellAbilityId()=='A1AX' thencall XG9()endifreturn falseendfunctionfunction XJ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitAnimationByIndex(X97,4)set t=nullset X97=nullreturn falseendfunctionfunction XK9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function XJ9))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction XM9 takes nothing returns booleanif GetSpellAbilityId()=='A0M1' or GetSpellAbilityId()=='A1AX' thencall XK9()endifreturn falseendfunctionfunction LV7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XI9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function XM9))set t=nullendfunctionfunction XN9 takes integer SR7 returns integerif SR7==1 thenreturn'A10Z'elseif SR7==2 thenreturn'A111'elseif SR7==3 thenreturn'A10Y'elseif SR7==4 thenreturn'A110'endifreturn 0endfunctionfunction XO9 takes integer SR7 returns integerif SR7==1 thenreturn'B09M'elseif SR7==2 thenreturn'B09N'elseif SR7==3 thenreturn'B09O'elseif SR7==4 thenreturn'B09L'endifreturn 0endfunctionfunction XP9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local real xN=N47(NO7,"LastX")local real xo=N47(NO7,"LastY")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))local real vB=(0.00030+SR7*0.00005)*d*GetUnitState(m5,UNIT_STATE_MAX_MANA)local integer QI=GetTriggerEvalCount(t)local unit ZM7if TU7(m5)==true thenset vB=0endifif d>300 thenset vB=0endifif vB>1 and ModuloInteger(GetTriggerEvalCount(t),3)==0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",m5,"chest"))endifif vB>0 thencall SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-vB)endifcall M97(NO7,"LastX",x)call M97(NO7,"LastY",y)if GetTriggerEventId()==EVENT_UNIT_DEATH or QI==(SR7+3)*10 thencall UnitRemoveAbility(m5,XN9(SR7))call UnitRemoveAbility(m5,XO9(SR7))call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseif GetUnitState(m5,UNIT_STATE_MANA)<1 thencall ZK7(MZ7(NO7,"Source"),m5,1+0.3*SR7)set ZM7=nullcall UnitRemoveAbility(m5,XN9(SR7))call UnitRemoveAbility(m5,XO9(SR7))call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction XQ9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A10X')call UW7(m5,XN9(SR7))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)call M97(NO7,"LastX",GetUnitX(m5))call M97(NO7,"LastY",GetUnitY(m5))call MG7(NO7,"FX",AddSpecialEffectTarget("effects\\BasicWaterFlash.mdx",m5,"chest"))call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function XP9))set p5=nullset m5=nullset t=nullendfunctionfunction XR9 takes nothing returns booleanif GetSpellAbilityId()=='A10X' and T37(GetSpellTargetUnit())==false thencall XQ9()endifreturn falseendfunctionfunction LX7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XR9))set t=nullendfunctionfunction XS9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real Tw=N47(NO7,"Mana")call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+Tw)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIim\\AIimTarget.mdl",m5,"origin"))call K_7(NO7)call NM7(t)set m5=nullset t=nullreturn falseendfunctionfunction XT9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Target",m5)call M97(NO7,"Mana",75*GetUnitAbilityLevel(TX7,'A112'))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function XS9))set t=nullset TX7=nullset m5=nullendfunctionfunction XU9 takes nothing returns booleanif GetSpellAbilityId()=='A112' thencall XT9()endifreturn falseendfunctionfunction LY7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XU9))set t=nullendfunctionfunction XV9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit XW9=(LoadUnitHandle(C7,(V_7),(19)))local real Q99=(LoadReal(C7,(V_7),(13)))local integer XX9=(LoadInteger(C7,(V_7),(34)))local real XY9=GetUnitX(XW9)-50*Cos(Q99)local real XZ9=GetUnitY(XW9)-50*Sin(Q99)local unit ZM7=CreateUnit(GetOwningPlayer(XW9),'e00E',XY9,XZ9,0)local real x=GetUnitX(ZM7)+50*Cos(Q99)local real y=GetUnitY(ZM7)+50*Sin(Q99)local real x2=x+(300+50*XX9)*Cos(Q99)local real y2=y+(300+50*XX9)*Sin(Q99)call UW7(ZM7,'A087')call SetUnitAbilityLevel(ZM7,'A087',XX9)call IssuePointOrder(ZM7,"breathoffire",x,y)call KillUnit(XW9)call FlushChildHashtable(C7,(V_7))call NM7(t)set ZM7=nullset t=nullreturn falseendfunctionfunction XA9 takes unit XW9,integer XX9,real Q99 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function XV9))call SaveUnitHandle(C7,(V_7),(19),(XW9))call SaveReal(C7,(V_7),(13),((Q99)*1.0))call SaveInteger(C7,(V_7),(34),(XX9))set t=nullendfunctionfunction XB9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=M_7(NO7,"Count")local integer XC9=iX-1local real RK=N47(NO7,"Angle")local unit oA=MZ7(NO7,"Caster")local unit TX7=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")local integer X39=2+SR7*2local boolean X69=N77(NO7,"SpiritCast")local unit XL9if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST thencall M87(NO7,"Count",iX+1)endifcall SetUnitScale(oA,I2R(100+20*XC9)/ 100,I2R(100+20*XC9)/ 100,I2R(100+20*XC9)/ 100)if(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and X69==false)or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()=='A121')or XC9==X39 thenif X69 thenset XL9=MZ7(NO7,"Dummy")call ShowUnit(XL9,false)call UnitApplyTimedLife(XL9,'BTLF',1)endifcall K_7(NO7)call NM7(t)if(LoadInteger(C7,(GetHandleId(TX7)),(704)))==0 or(LoadInteger(C7,(GetHandleId(TX7)),(704)))=='A085' thencall SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A085',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A121',false)call UnitRemoveAbility(TX7,'A121')call XA9(oA,XC9,RK)endifset oA=CreateUnit(GetOwningPlayer(oA),'h06M',GetUnitX(oA)+150*(XC9)*Cos(RK),GetUnitY(oA)+150*(XC9)*Sin(RK),0)call UnitApplyTimedLife(oA,'BTLF',7)set t=nullset oA=nullset TX7=nullset XL9=nullreturn falseendfunctionfunction X19 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")call IssueImmediateOrder(TX7,"stop")call K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction X09 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real RK=Atan2(GetLocationY(l)-GetUnitY(TX7),GetLocationX(l)-GetUnitX(TX7))local real xlocal real ylocal unit oAlocal unit XL9local boolean X69=falseif GetLocationY(l)==GetUnitY(TX7)and GetLocationX(l)==GetUnitX(TX7)thenset RK=GetUnitFacing(TX7)*bj_DEGTORADendifset x=GetUnitX(TX7)+150*Cos(RK)set y=GetUnitY(TX7)+150*Sin(RK)set oA=CreateUnit(GetOwningPlayer(TX7),'u00J',x,y,RK*bj_RADTODEG)call RemoveLocation(l)if GetUnitTypeId(TX7)=='H06X' or GetUnitTypeId(TX7)=='H06Y' or GetUnitTypeId(TX7)=='H06W' thenset X69=trueendifcall ME7(NO7,"SpiritCast",X69)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",oA)call M87(NO7,"Count",1)call M87(NO7,"Level",GetUnitAbilityLevel(TX7,'A085'))call M97(NO7,"Angle",RK)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function XB9))if X69 thenset XL9=CreateUnit(GetOwningPlayer(TX7),'h06Z',GetUnitX(TX7),GetUnitY(TX7),RK*bj_RADTODEG)call SetUnitX(XL9,GetUnitX(TX7))call SetUnitY(XL9,GetUnitY(TX7))call SetUnitAnimation(XL9,"spell")call QueueUnitAnimation(XL9,"spell")call QueueUnitAnimation(XL9,"spell")call SetUnitVertexColor(XL9,255,255,255,75)call MF7(NO7,"Dummy",XL9)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function X19))call MF7(NO7,"Hero",TX7)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A085',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A121',true)call XJ7(TX7,'A121',1,6)set t=nullset TX7=nullset oA=nullset XL9=nullset l=nullendfunctionfunction X59 takes nothing returns booleanif GetSpellAbilityId()=='A085' thencall X09()endifreturn falseendfunctionfunction LZ7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X59))set t=nullendfunctionfunction X29 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real x1local real y1local real x2local real y2if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>2 and R77(GetOwningPlayer(GetEventDamageSource())))thencall DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))call K_7(NO7)call NM7(t)elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH thenset x1=GetUnitX(p5)set y1=GetUnitY(p5)set x2=GetUnitX(m5)set y2=GetUnitY(m5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",x1,y1))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",x2,y2))call NQ7(m5,"4410",1)call SetUnitPosition(m5,GetUnitX(p5),GetUnitY(p5))call DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))call K_7(NO7)call NM7(t)call R17(m5)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction X_9 takes nothing returns nothinglocal unit p5=GetEnumUnit()local real l4=J87(GetUnitX(p5),GetUnitY(p5),VV4,VW4)if l4<VU4 thenset VT4=GetEnumUnit()set VU4=l4endifset p5=nullendfunctionfunction Y49 takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit p5=GetTriggerUnit()local trigger tlocal integer NO7local real Hklocal group gif m5==null thenset VT4=nullset VU4=999999set VV4=GetSpellTargetX()set VW4=GetSpellTargetY()set I04=p5set g=TL7()call GroupEnumUnitsInRange(g,0,0,9999,Condition(function YC7))call GroupRemoveUnit(g,p5)call ForGroup(g,function X_9)call T67(g)set m5=VT4set g=nullendifif GetSpellAbilityId()=='A10U' thenset Hk=5elseif GetSpellAbilityId()=='A11Y' thenset Hk=4elseif GetSpellAbilityId()=='A11Z' thenset Hk=3elseif GetSpellAbilityId()=='A1N1' thenset Hk=3endifif m5!=null thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function X29))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call MG7(NO7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",p5,"origin"))call MG7(NO7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",m5,"origin"))endifset m5=nullset p5=nullset t=nullendfunctionfunction Y79 takes nothing returns booleanif GetSpellAbilityId()=='A10U' or GetSpellAbilityId()=='A11Y' or GetSpellAbilityId()=='A11Z' thencall Y49()endifreturn falseendfunctionfunction Y89 takes nothing returns booleanif GetSpellAbilityId()=='A10U' or GetSpellAbilityId()=='A11Y' or GetSpellAbilityId()=='A11Z' thenif GetSpellTargetUnit()!=null and N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),S27('n038'))endifendifreturn falseendfunctionfunction LA7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Y79))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Y89))set t=nullendfunctionfunction Y99 takes nothing returns nothinglocal unit m5=GetEnumUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real a=Atan2(y-tN,x-SN)set x=VK7(x+25*Cos(a))set y=VM7(y+25*Sin(a))call WK7(x,y,150)call SetUnitX(m5,x)call SetUnitY(m5,y)set m5=nullendfunctionfunction YD9 takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit ZM7=CreateUnit(J74,'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(ZM7,'A10W')call SetUnitAbilityLevel(ZM7,'A10W',pN)call IssueTargetOrder(ZM7,"drunkenhaze",m5)set m5=nullset ZM7=nullendfunctionfunction YE9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local real t5=N47(NO7,"SourceX")local real w5=N47(NO7,"SourceY")local integer o6=M_7(NO7,"AbilityID")local group g=M67(NO7,"g")local integer RU8=GetTriggerEvalCount(t)set SN=t5set tN=w5call ForGroup(g,function Y99)if RU8==10 thenif o6=='A11X' thenset pN=1elseif o6=='A11V' thenset pN=2elseset pN=3endifset J74=pcall ForGroup(g,function YD9)call T67(g)call K_7(NO7)call NM7(t)endifset t=nullset p=nullset g=nullreturn falseendfunctionfunction YF9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local real t5=N47(NO7,"SourceX")local real w5=N47(NO7,"SourceY")local integer o6=M_7(NO7,"AbilityID")local group g=M67(NO7,"g")call NM7(t)call K_7(NO7)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.04,true)call TriggerAddCondition(t,Condition(function YE9))call MM7(NO7,"p",p)call M97(NO7,"SourceX",t5*1.0)call M97(NO7,"SourceY",w5*1.0)call MO7(NO7,"g",g)call M87(NO7,"AbilityID",o6)set t=nullset p=nullset g=nullreturn falseendfunctionfunction YG9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local group g=TL7()local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call KillUnit(CreateUnit(GetOwningPlayer(p5),'h06P',x,y,0))set I04=p5call GroupEnumUnitsInRange(g,x,y,700,Condition(function YN7))call TriggerRegisterTimerEvent(t,0.4,false)call TriggerAddCondition(t,Condition(function YF9))call MM7(NO7,"p",GetOwningPlayer(GetTriggerUnit()))call M97(NO7,"SourceX",(x)*1.0)call M97(NO7,"SourceY",(y)*1.0)call MO7(NO7,"g",g)call M87(NO7,"AbilityID",GetSpellAbilityId())call RemoveLocation(l)set l=nullset t=nullset g=nullset p5=nullendfunctionfunction YH9 takes nothing returns booleanif GetSpellAbilityId()=='A11X' or GetSpellAbilityId()=='A11V' or GetSpellAbilityId()=='A11W' thencall YG9()endifreturn falseendfunctionfunction LB7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YH9))set t=nullendfunctionfunction YI9 takes unit u returns booleanreturn GetUnitTypeId(u)=='u009'endfunctionfunction YJ9 takes nothing returns booleanif YI9(GetFilterUnit())or YU7()thenif LoadInteger(C7,tl,GetHandleId(GetFilterUnit()))<IY4 thenreturn trueendifendifreturn falseendfunctionfunction YK9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer YM9=M_7(NO7,"LucentLevel")local integer Tq=M_7(NO7,"Limit")local integer YN9=M_7(NO7,"TargetLimit")local group g=TL7()local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local unit m5local real r1=GetRandomInt(200,350)local real r2=GetRandomInt(200,350)if GetRandomInt(1,2)==1 thenset r1=-1*r1set r2=-1*r2endifset I04=TX7set IY4=YN9set tl=GetHandleId(t)call GroupEnumUnitsInRange(g,x,y,700,Condition(function YJ9))set m5=GroupPickRandomUnit(g)call T67(g)if UY7(TX7)==false and m5!=null and YI9(m5)==false thencall SaveInteger(C7,tl,GetHandleId(m5),LoadInteger(C7,tl,GetHandleId(m5))+1)call V57("effects\\Eclipse.mdx",m5,"origin",3)if GetPlayerController(GetOwningPlayer(TX7))==MAP_CONTROL_COMPUTER thencall ZO7(TX7,m5,Y84,300)elsecall ZO7(TX7,m5,Y84,YM9*75)endifelseif UY7(TX7)==false thenset x=x+GetRandomInt(-350,350)set y=y+GetRandomInt(-350,350)call V27("effects\\Eclipse.mdx",x,y,1.5)endifif(GetTriggerEvalCount(t)+1)==Tq thencall K_7(NO7)call NM7(t)endifset t=nullset TX7=nullset g=nullset m5=nullreturn falseendfunctionfunction YO9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer Tqlocal integer YP9=GetUnitAbilityLevel(T_7,'A042')local integer YN9local unit ZM7=CreateUnit(GetOwningPlayer(T_7),'e00E',GetUnitX(T_7),GetUnitY(T_7),0)if YP9==0 and GetUnitTypeId(T_7)!='E005' thenset YP9=4endifcall UW7(ZM7,'A1T6')if GetSpellAbilityId()=='A054' thenset Tq=1+3*GetUnitAbilityLevel(T_7,'A054')set YN9=4elseset Tq=4*GetUnitAbilityLevel(T_7,'A00U')set YN9=6endifcall M87(NO7,"LucentLevel",YP9)call M87(NO7,"Limit",Tq)call M87(NO7,"TargetLimit",YN9)call MF7(NO7,"Hero",T_7)call TriggerRegisterTimerEvent(t,0.6,true)call TriggerAddCondition(t,Condition(function YK9))call TriggerEvaluate(t)call IssueImmediateOrderById(ZM7,852621)set t=nullset T_7=nullset ZM7=nullendfunctionfunction YQ9 takes nothing returns booleanif GetSpellAbilityId()=='A054' or GetSpellAbilityId()=='A00U' thencall YO9()endifreturn falseendfunctionfunction LC7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YQ9))set t=nullendfunctionfunction YR9 takes nothing returns booleanif GetLearnedSkill()=='A041' thencall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'Remg',GetUnitAbilityLevel(GetTriggerUnit(),'A041'))elseif GetLearnedSkill()=='A062' thencall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R00I',1)endifreturn falseendfunctionfunction pX takes nothing returns nothingset du=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(du,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(du,Condition(function YR9))endfunctionfunction YS9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0KU'endfunctionfunction YT9 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction YU9 takes nothing returns nothingcall UW7(GetEnumUnit(),'A0KT')call SetUnitAbilityLevel(GetEnumUnit(),'A0KT',pe)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Invisibility\\InvisibilityTarget.mdl",GetEnumUnit(),"chest"))endfunctionfunction YV9 takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'A0KT')endfunctionfunction uD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local group B47=M67(NO7,"Group")call ForGroup(B47,function YV9)call T67(B47)call Mv(t)set t=nullset B47=nullendfunctionfunction YW9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local boolexpr hP=Condition(function YT9)local group B47=TL7()local timer t=CreateTimer()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(TX7,'A0KU')local real U19=11set pe=SR7call GroupEnumUnitsInRange(B47,0,0,9999,hP)call ForGroup(B47,function YU9)call DestroyBoolExpr(hP)call MO7(NO7,"Group",B47)call TimerStart(t,U19,false,function uD)set TX7=nullset hP=nullset B47=nullset t=nullendfunctionfunction HG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YS9))call TriggerAddAction(t,function YW9)set t=nullendfunctionfunction uE takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",GetEnumUnit(),"origin"))endfunctionfunction uf takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit m5=MZ7(NO7,"Target")call ZO7(TX7,m5,Y84,GetUnitAbilityLevel(TX7,'A0KV')*37.5)call K_7(NO7)call NM7(t)set t=nullset TX7=nullset m5=nullreturn falseendfunctionfunction uF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local group g=TL7()local unit m5=MZ7(NO7,"Target")call DestroyEffect(ML7(NO7,"FX"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallTarget.mdl",m5,"origin"))call K_7(NO7)call NM7(t)call T67(g)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Target",m5)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function uf))set t=nullset TX7=nullset g=nullset m5=nullreturn falseendfunctionfunction ug takes nothing returns nothingcall ZO7(I04,GetEnumUnit(),Y84,IZ4)endfunctionfunction uG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local group g=M67(NO7,"g")set IZ4=GetUnitAbilityLevel(TX7,'A0KV')*75set I04=TX7call ForGroup(g,function ug)call T67(g)call K_7(NO7)call NM7(t)set t=nullset TX7=nullset g=nullreturn falseendfunctionfunction uh takes nothing returns nothinglocal real in=Ma(GetTriggerUnit(),GetEnumUnit())if in>650 thenelsecall GroupAddUnit(J44,GetEnumUnit())endifendfunctionfunction YX9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local group g=TL7()local unit m5set I04=TX7set J44=TL7()call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),900,Condition(function YM7))call ForGroup(g,function uh)call T67(g)set g=J44call ForGroup(g,function uE)call MO7(NO7,"g",g)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,.5,false)call TriggerAddCondition(t,Condition(function uG))set I04=TX7set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),200,Condition(function YM7))set m5=GroupPickRandomUnit(g)call T67(g)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Target",m5)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Starfall\\StarfallCaster.mdl",TX7,"origin"))call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function uF))set t=nullset g=nullset TX7=nullset m5=nullendfunctionfunction YY9 takes nothing returns booleanif GetSpellAbilityId()=='A0KV'thencall YX9()endifreturn falseendfunctionfunction HH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YY9))set t=nullendfunctionfunction YZ9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0L8'endfunctionfunction uj takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==falseendfunctionfunction uJ takes real uk,real uK,real iN,real io returns integerlocal real in=SquareRoot((iN-uk)*(iN-uk)+(io-uK)*(io-uK))return VY7(R2I(in/150),10)endfunctionfunction ul takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit IJ=MZ7(NO7,"Projectile")local real hN=N47(NO7,"TargetX")local real ho=N47(NO7,"TargetY")local real RK=N47(NO7,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real Il=VK7(GetUnitX(IJ)+30*Cos(RK))local real IL=VM7(GetUnitY(IJ)+30*Sin(RK))local boolexpr hP=Condition(function uj)local group B47=TL7()local unit oAlocal unit m5local real uklocal real uKcall SetUnitX(IJ,Il)call SetUnitY(IJ,IL)set L7=TX7call GroupEnumUnitsInRange(B47,Il,IL,140,hP)set m5=FirstOfGroup(B47)call T67(B47)call DestroyBoolExpr(hP)if m5!=null thenif IsUnitType(m5,UNIT_TYPE_HERO)==true thenset RB4[GetPlayerId(GetOwningPlayer(TX7))]=RB4[GetPlayerId(GetOwningPlayer(TX7))]+1call AT7("AA_Hits"+I2S(GetPlayerId(GetOwningPlayer(TX7))),RB4[GetPlayerId(GetOwningPlayer(TX7))])endifset uk=N47(NO7,"OriginalX")set uK=N47(NO7,"OriginalY")set oA=CreateUnit(GetOwningPlayer(m5),'e00E',iN,io,0)call UW7(oA,'A0L7')call SetUnitAbilityLevel(oA,'A0L7',uJ(uk,uK,iN,io))call IssueTargetOrderById(oA,852095,m5)call UnitDamageTarget(TX7,m5,90*GetUnitAbilityLevel(TX7,'A0L8'),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call KillUnit(IJ)call Mv(t)set oA=nullelseif(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1600 thencall KillUnit(IJ)call Mv(t)endifset TX7=nullset IJ=nullset t=nullset hP=nullset B47=nullset m5=nullendfunctionfunction YA9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real iN=VK7(GetUnitX(TX7))local real io=VM7(GetUnitY(TX7))local location sy=GetSpellTargetLoc()local real hN=GetLocationX(sy)local real ho=GetLocationY(sy)local real RK=Atan2(ho-io,hN-iN)local timer t=CreateTimer()local integer NO7=GetHandleId(t)local unit IJ=CreateUnit(GetOwningPlayer(TX7),'h005',iN,io,RK*bj_RADTODEG)set RC4[GetPlayerId(GetOwningPlayer(TX7))]=RC4[GetPlayerId(GetOwningPlayer(TX7))]+1call AT7("AA_Total"+I2S(GetPlayerId(GetOwningPlayer(TX7))),RC4[GetPlayerId(GetOwningPlayer(TX7))])call RemoveLocation(sy)call SetUnitFacing(IJ,RK*bj_RADTODEG)call SetUnitPathing(IJ,false)set hN=VK7(iN+3000*Cos(RK))set ho=VM7(io+3000*Sin(RK))call M97(NO7,"OriginalX",iN)call M97(NO7,"OriginalY",io)call M97(NO7,"TargetX",hN)call M97(NO7,"TargetY",ho)call M97(NO7,"Angle",RK)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Projectile",IJ)call TimerStart(t,.035,true,function ul)set TX7=nullset sy=nullset t=nullset IJ=nullendfunctionfunction YB9 takes nothing returns booleanlocal integer YC9=RB4[GetPlayerId(GetTriggerPlayer())]local integer D5=RC4[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(G7[GetPlayerId(GetTriggerPlayer())])=='N01V' and D5>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n0GM')))+" "+R2S(I2R(YC9)/ I2R(D5)*100)+"% ("+I2S(YC9)+"/"+I2S(D5)+")")endifreturn falseendfunctionfunction HI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YZ9))call TriggerAddAction(t,function YA9)call VQ7('A0L7')set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function YB9))set t=nullendfunctionfunction Y39 takes nothing returns booleanreturn GetSpellAbilityId()=='A0LN'endfunctionfunction uM takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(L7))endfunctionfunction un takes nothing returns nothinglocal unit TX7=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e01R',0,0,0)call UW7(oA,'A0LO')call SetUnitAbilityLevel(oA,'A0LO',GetUnitAbilityLevel(L7,'A0LN'))call UnitApplyTimedLife(oA,'BTLF',10)set TX7=nullset oA=nullendfunctionfunction uN takes unit TX7 returns nothinglocal group B47=TL7()local boolexpr hP=Condition(function uM)set L7=TX7call GroupEnumUnitsInRange(B47,GetUnitX(TX7),GetUnitY(TX7),800,hP)call ForGroup(B47,function un)call DestroyBoolExpr(hP)call T67(B47)set B47=nullset hP=nullendfunctionfunction uo takes unit TX7 returns nothinglocal integer NO7=GetHandleId(TX7)local string uO=N87(NO7,"OrderType")local string up=OrderId2String(M_7(NO7,"OrderId"))local real hNlocal real holocal unit m5local trigger t=M37(NO7,"Trigger_TrackOrder")local boolean uP=not N77(NO7,"Idle")local boolean uq=N77(NO7,"SuperOrder")call DisableTrigger(t)call IssueImmediateOrderById(TX7,851972)if uO=="Target"and(uP or uq)thenset m5=MZ7(NO7,"OrderTarget")call IssueTargetOrder(TX7,up,m5)elseif uO=="Point"and(uP or uq)thenset hN=N47(NO7,"OrderPointX")set ho=N47(NO7,"OrderPointY")call IssuePointOrder(TX7,up,hN,ho)elseif(uP or uq)thencall IssueImmediateOrder(TX7,"OrderString")endifcall ME7(NO7,"SuperOrder",false)call EnableTrigger(t)set m5=nullset t=nullendfunctionfunction uQ takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real ur=N47(NO7,"DistanceRemaining")local real uR=N47(NO7,"OriginalDistance")local real RK=N47(NO7,"Angle")local real Il=GetUnitX(TX7)+30*Cos(RK*bj_DEGTORAD)local real IL=GetUnitY(TX7)+30*Sin(RK*bj_DEGTORAD)local real us=200local real uS=(1-ur/uR)*us*2if uS>us thenset uS=us*2-uSendifcall SetUnitFlyHeight(TX7,VC7(uS,0),0)call SetUnitX(TX7,VK7(Il))call SetUnitY(TX7,VM7(IL))call SetUnitFacing(TX7,RK)call M97(NO7,"DistanceRemaining",ur-20)if uS<1 and ur-uR!=0 thencall ME7(GetHandleId(TX7),"InAir",false)call SetUnitFacing(TX7,RK)call SetUnitAnimation(TX7,"stand")call SetUnitPathing(TX7,true)call uo(TX7)call uN(TX7)call PauseTimer(t)call K_7(NO7)call DestroyTimer(t)endifset t=nullset TX7=nullendfunctionfunction Y69 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0LN')local real in=350+50*SR7local real RK=GetUnitFacing(TX7)local real iN=GetUnitX(TX7)local real io=GetUnitY(TX7)local real hN=VK7(iN+in*Cos(RK*bj_DEGTORAD))local real ho=VM7(io+in*Sin(RK*bj_DEGTORAD))local timer t=CreateTimer()local integer NO7=GetHandleId(t)local trigger uT=M37(GetHandleId(TX7),"Trigger_TrackOrder")set in=SquareRoot((iN-hN)*(iN-hN)+(io-ho)*(io-ho))if in>'d'thencall UW7(TX7,'Amrf')call UnitRemoveAbility(TX7,'Amrf')call SetUnitPathing(TX7,false)call SetUnitAnimationByIndex(TX7,6)call DisableTrigger(uT)call IssueImmediateOrderById(TX7,851972)call EnableTrigger(uT)call M97(NO7,"DistanceRemaining",in)call M97(NO7,"OriginalDistance",in)call M97(NO7,"Angle",RK)call MF7(NO7,"Hero",TX7)call TimerStart(t,.025,true,function uQ)call ME7(GetHandleId(TX7),"Leap_InAir",true)call ME7(GetHandleId(TX7),"SuperOrder",false)endifset TX7=nullset t=nullset uT=nullendfunctionfunction uu takes nothing returns booleanreturn OrderId2String(GetIssuedOrderId())!="windwalk"endfunctionfunction uU takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer NO7=GetHandleId(TX7)local boolean uv=N77(NO7,"Leap_InAir")call M87(NO7,"OrderId",GetIssuedOrderId())call ME7(NO7,"Idle",false)if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thencall MD7(NO7,"OrderType","Target")call MQ7(NO7,"OrderTarget",GetOrderTarget())elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER thenif uv or J87(GetUnitX(TX7),GetUnitY(TX7),GetOrderPointX(),GetOrderPointY())>800 thencall MD7(NO7,"OrderType","Point")call M97(NO7,"OrderPointX",GetOrderPointX())call M97(NO7,"OrderPointY",GetOrderPointY())elsecall ME7(NO7,"Idle",true)endifelsecall MD7(NO7,"OrderType","Instant")endifif uv thencall ME7(NO7,"SuperOrder",true)endifset TX7=nullendfunctionfunction uV takes nothing returns nothinglocal unit TX7=MZ7(GetHandleId(GetExpiredTimer()),"Hero")local integer NO7=GetHandleId(TX7)local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local string uO=N87(NO7,"OrderType")if uO=="Point"and J87(GetUnitX(TX7),GetUnitY(TX7),N47(NO7,"OrderPointX"),N47(NO7,"OrderPointY"))<'d'thencall ME7(NO7,"Idle",true)endifset TX7=nullendfunctionfunction uw takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local timer t2call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddAction(t,function uU)call TriggerAddCondition(t,Condition(function uu))call MH7(GetHandleId(TX7),"Trigger_TrackOrder",t)set t2=CreateTimer()call MF7(GetHandleId(t2),"Hero",TX7)call TimerStart(t2,.3,true,function uV)call MP7(GetHandleId(TX7),"Timer_CheckIdle",t2)set TX7=nullset t=nullset t2=nullendfunctionfunction uW takes nothing returns nothingif GetUnitAbilityLevel(GetTriggerUnit(),'A0LN')==1 thencall uw()endifendfunctionfunction HJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Y39))call TriggerAddAction(t,function Y69)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddAction(t,function uW)set t=nullendfunctionfunction ux takes nothing returns nothinglocal unit TX7=MZ7(GetHandleId(GetTriggeringTrigger()),"Morphling")local real rlocal real glocal real blocal integer YL9local integer Y19local real Y09local real rStr2Agiif GetUnitTypeId(TX7)!='O00P' thencall DisableTrigger(GetTriggeringTrigger())elseif UY7(TX7)==false and N77(GetHandleId(TX7),"Waveforming")==false thenset YL9=GetHeroAgi(TX7,true)set Y19=GetHeroStr(TX7,true)set Y09=RMaxBJ(75+2*(YL9-Y19),35)set r=Y09set g=Y09set b=Y09call SetUnitVertexColorBJ(TX7,r,g,b,GetRandomReal(0.00,10.00))endifset TX7=nullendfunctionfunction Y59 takes nothing returns booleanreturn GetUnitTypeId(GetTriggerUnit())=='O00P'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction Y29 takes nothing returns nothinglocal trigger tif(N77(GetHandleId(GetTriggerUnit()),"HasMorphling")==false)thenset t=CreateTrigger()call MF7(GetHandleId(t),"Morphling",GetTriggerUnit())call MH7(GetHandleId(GetTriggerUnit()),"ColorTrigger",t)call TriggerAddAction(t,function ux)call TriggerRegisterTimerEvent(t,1.0,true)call ME7(GetHandleId(GetTriggerUnit()),"HasMorphling",true)call UnitAddItem(GetTriggerUnit(),CreateItem('I00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifset t=nullendfunctionfunction L37 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function Y59))call TriggerAddAction(t,function Y29)set t=nullendfunctionfunction Y_9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0FN'endfunctionfunction uz takes nothing returns booleanlocal unit T3=GetFilterUnit()if IsUnitInGroup(T3,N8)thenset T3=nullreturn falseendifif IsUnitEnemy(T3,GetOwningPlayer(L7))and GetUnitAbilityLevel(T3,'A04R')!=1 and GetUnitState(T3,UNIT_STATE_LIFE)>0 and IsUnitType(T3,UNIT_TYPE_STRUCTURE)==false thenset T3=nullreturn trueendifset T3=nullreturn falseendfunctionfunction uZ takes nothing returns nothingcall UnitDamageTarget(L7,GetEnumUnit(),D8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endfunctionfunction Z49 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit oA=MZ7(NO7,"Caster")local unit TX7=MZ7(NO7,"UnitVar")local real RK=N47(NO7,"Angle")local integer u3=M_7(NO7,"Remaining")local group Ro=M67(NO7,"AlreadyDamaged")local real u4=GetUnitX(TX7)local real u5=GetUnitY(TX7)local real P39=(LoadReal(C7,(NO7),(23)))local real P69=(LoadReal(C7,(NO7),(24)))local real Il=P39+1000*0.05*Cos(RK)local real IL=P69+1000*0.05*Sin(RK)local group B47=TL7()call SaveReal(C7,(NO7),(23),((Il)*1.0))call SaveReal(C7,(NO7),(24),((IL)*1.0))set L7=TX7set D8=GetUnitAbilityLevel(TX7,'A0FN')*75+25set N8=Rocall GroupEnumUnitsInRange(B47,u4,u5,280,Condition(function uz))call ForGroup(B47,function uZ)call GroupAddGroup(B47,Ro)call T67(B47)set u3=u3-1call M87(NO7,"Remaining",u3)call SetUnitPosition(TX7,Il,IL)call SetUnitPosition(oA,Il,IL)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",u4,u5))if u3==0 thencall RemoveUnit(oA)call SetUnitVertexColor(TX7,255,255,255,255)call ME7(GetHandleId(TX7),"Waveforming",false)call SetUnitInvulnerable(TX7,false)call SetUnitPathing(TX7,true)call ClearSelectionForPlayer(GetOwningPlayer(TX7))call SelectUnitAddForPlayer(TX7,GetOwningPlayer(TX7))call K_7(NO7)call NM7(t)endifset TX7=nullset oA=nullset Ro=nullset B47=nullset t=nullreturn falseendfunctionfunction Z79 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real iN=GetUnitX(TX7)local real io=GetUnitY(TX7)local location sy=GetSpellTargetLoc()local real hN=GetLocationX(sy)local real ho=GetLocationY(sy)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local group Ro=TL7()local unit oA=CreateUnit(GetOwningPlayer(TX7),'o00G',iN,io,0)local integer IB7=GetPlayerId(GetOwningPlayer(TX7))call RemoveLocation(sy)if GetSpellTargetUnit()!=null thenset hN=GetUnitX(GetSpellTargetUnit())set ho=GetUnitY(GetSpellTargetUnit())endifcall SetUnitVertexColor(TX7,255,255,255,0)call ME7(GetHandleId(TX7),"Waveforming",true)call SetUnitInvulnerable(TX7,true)call SetUnitPathing(TX7,false)call SetUnitPathing(oA,false)call MF7(NO7,"UnitVar",TX7)call MF7(NO7,"Caster",oA)call SaveReal(C7,(NO7),(23),((iN)*1.0))call SaveReal(C7,(NO7),(24),((io)*1.0))call MO7(NO7,"AlreadyDamaged",Ro)call M97(NO7,"Angle",Atan2(ho-io,hN-iN))call M87(NO7,"Remaining",VZ7(R2I(SquareRoot((hN-iN)*(hN-iN)+(ho-io)*(ho-io))/50),1))call TriggerRegisterTimerEvent(t,.04,true)call TriggerAddCondition(t,Condition(function Z49))call ShowUnit(TX7,false)call ShowUnit(TX7,true)call SelectUnitAddForPlayer(TX7,GetOwningPlayer(TX7))set t=nullset TX7=nullset sy=nullset Ro=nullset oA=nullendfunctionfunction L67 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Y_9))call TriggerAddAction(t,function Z79)set t=nullendfunctionfunction u7 takes nothing returns nothinglocal unit u8=MZ7(GetHandleId(GetTriggeringTrigger()),"Morphling")if GetHeroStatBJ(1,u8,false)>2*GetUnitAbilityLevel(u8,'A0KX')and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. thencall SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)call ModifyHeroStat(1,u8,1,2*GetUnitAbilityLevel(u8,'A0KX'))call ModifyHeroStat(0,u8,0,2*GetUnitAbilityLevel(u8,'A0KX'))endifset u8=nullendfunctionfunction u9 takes nothing returns nothinglocal unit u8=MZ7(GetHandleId(GetTriggeringTrigger()),"Morphling")if GetHeroStatBJ(0,u8,false)>2*GetUnitAbilityLevel(u8,'A0KX')and GetUnitState(u8,UNIT_STATE_MANA)>=20. and GetUnitState(u8,UNIT_STATE_LIFE)>1. thencall SetUnitManaBJ(u8,GetUnitState(u8,UNIT_STATE_MANA)-20)call ModifyHeroStat(0,u8,1,2*GetUnitAbilityLevel(u8,'A0KX'))call ModifyHeroStat(1,u8,0,2*GetUnitAbilityLevel(u8,'A0KX'))endifset u8=nullendfunctionfunction Z89 takes nothing returns booleanreturn(((GetIssuedOrderId()==852550)or(GetIssuedOrderId()==852547))and(GetTriggerUnit()==MZ7(GetHandleId(GetTriggeringTrigger()),"Morphling")))endfunctionfunction UA takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local trigger Ub=M37(NO7,"MorphStr")local trigger UB=M37(NO7,"MorphAgi")if(GetIssuedOrderId()==852547)thencall DisableTrigger(Ub)elseif(GetIssuedOrderId()==852550)thencall DisableTrigger(UB)endifset Ub=nullset UB=nullendfunctionfunction Z99 takes nothing returns booleanreturn(((GetIssuedOrderId()==852549)or(GetIssuedOrderId()==852546))and(GetTriggerUnit()==MZ7(GetHandleId(GetTriggeringTrigger()),"Morphling")))endfunctionfunction UC takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local trigger Ub=M37(NO7,"MorphStr")local trigger UB=M37(NO7,"MorphAgi")if(GetIssuedOrderId()==852546)thencall EnableTrigger(Ub)call DisableTrigger(UB)elseif(GetIssuedOrderId()==852549)thencall DisableTrigger(Ub)call EnableTrigger(UB)endifset Ub=nullset UB=nullendfunctionfunction ZD9 takes nothing returns booleanreturn GetLearnedSkill()=='A0KX'and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))!=MAP_CONTROL_COMPUTERendfunctionfunction ZE9 takes unit TX7,integer ZF9,integer ZG9 returns nothinglocal integer ZH9=GetHeroAgi(TX7,false)local integer ZI9=GetHeroStr(TX7,false)local real ZJ9=GetUnitState(TX7,UNIT_STATE_MANA)if ZF9==0 thenif ZJ9>=ZG9 and ZH9>2 and UY7(TX7)==false thencall SetUnitState(TX7,UNIT_STATE_MANA,ZJ9-ZG9)call SetHeroAgi(TX7,ZH9-2,true)call SetHeroStr(TX7,ZI9+2,true)endifelseif ZF9==1 thenif ZJ9>=ZG9 and ZI9>2 and UY7(TX7)==false thencall SetUnitState(TX7,UNIT_STATE_MANA,ZJ9-ZG9)call SetHeroAgi(TX7,ZH9+2,true)call SetHeroStr(TX7,ZI9-2,true)endifendifendfunctionfunction ZK9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer ZM9=GetUnitAbilityLevel(TX7,'A0KX')call ZE9(TX7,1,20/ ZM9)set t=nullset TX7=nullreturn falseendfunctionfunction ZN9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer ZM9=GetUnitAbilityLevel(TX7,'A0KX')call ZE9(TX7,0,20/ ZM9)set t=nullset TX7=nullreturn falseendfunctionfunction ZO9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local trigger ZP9=M37(NO7,"Iterate")local integer ZM9=GetUnitAbilityLevel(TX7,'A0KX')local integer ZQ9=M_7(NO7,"LastOrder")local real ZR9=1.0/ ZM9if GetIssuedOrderId()==852549 thenif ZP9!=null thencall K_7(GetHandleId(ZP9))call NM7(ZP9)endifset ZP9=CreateTrigger()call TriggerRegisterTimerEvent(ZP9,ZR9,true)call TriggerAddCondition(ZP9,Condition(function ZK9))call MF7(GetHandleId(ZP9),"Hero",TX7)call MH7(NO7,"Iterate",ZP9)call M87(NO7,"LastOrder",GetIssuedOrderId())call UnitAddAbility(TX7,'A22L')call UnitRemoveAbility(TX7,'A22T')elseif GetIssuedOrderId()==852546 thenif ZP9!=null thencall K_7(GetHandleId(ZP9))call NM7(ZP9)endifset ZP9=CreateTrigger()call TriggerRegisterTimerEvent(ZP9,ZR9,true)call TriggerAddCondition(ZP9,Condition(function ZN9))call MF7(GetHandleId(ZP9),"Hero",TX7)call MH7(NO7,"Iterate",ZP9)call M87(NO7,"LastOrder",GetIssuedOrderId())call UnitAddAbility(TX7,'A22T')call UnitRemoveAbility(TX7,'A22L')elseif GetIssuedOrderId()==852550 thenif ZP9!=null thencall K_7(GetHandleId(ZP9))call NM7(ZP9)endifcall MF7(NO7,"Iterate",null)call M87(NO7,"LastOrder",GetIssuedOrderId())call UnitRemoveAbility(TX7,'A22L')call UnitRemoveAbility(TX7,'A22T')elseif GetIssuedOrderId()==852547 thenif ZP9!=null thencall K_7(GetHandleId(ZP9))call NM7(ZP9)endifcall MF7(NO7,"Iterate",null)call M87(NO7,"LastOrder",GetIssuedOrderId())call UnitRemoveAbility(TX7,'A22L')call UnitRemoveAbility(TX7,'A22T')elseif GetIssuedOrderId()==852548 and ZQ9!=852546 and ZQ9!=852546 thencall ZE9(TX7,1,20/ ZM9)elseif GetIssuedOrderId()==852545 and ZQ9!=852546 and ZQ9!=852546 thencall ZE9(TX7,0,20/ ZM9)endifset t=nullset TX7=nullset ZP9=nullreturn falseendfunctionfunction ZS9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(GetTriggerUnit(),'A0KX')if ZN7==1 thencall SetHeroAgi(T_7,GetHeroAgi(T_7,false)+3,true)call SetHeroStr(T_7,GetHeroStr(T_7,false)+3,true)elsecall SetHeroAgi(T_7,GetHeroAgi(T_7,false)+1,true)call SetHeroStr(T_7,GetHeroStr(T_7,false)+1,true)endifif ZN7==1 thenset t=CreateTrigger()set V_7=GetHandleId(t)call UW7(T_7,'A0KW')call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function ZO9))call MF7(V_7,"Iterate",null)elsecall SetUnitAbilityLevel(T_7,'A0KW',ZN7)endifset t=nullset T_7=nullendfunctionfunction ZT9 takes nothing returns booleanreturn GetLearnedSkill()=='A0KX'and IsUnitIllusion(GetTriggerUnit())==false and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTERendfunctionfunction ZU9 takes nothing returns nothinglocal unit u8=GetTriggerUnit()local trigger Uelocal trigger UElocal trigger Ublocal trigger UBif(GetUnitAbilityLevel(u8,'A0KX')==1)thencall UW7(u8,'A0KW')set UB=CreateTrigger()call DisableTrigger(UB)call TriggerRegisterTimerEventPeriodic(UB,1.)call TriggerAddAction(UB,function u9)call MF7(GetHandleId(UB),"Morphling",u8)set Ub=CreateTrigger()call DisableTrigger(Ub)call TriggerRegisterTimerEventPeriodic(Ub,1.)call TriggerAddAction(Ub,function u7)call MF7(GetHandleId(Ub),"Morphling",u8)set Ue=CreateTrigger()call ky(Ue,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(Ue,Condition(function Z99))call TriggerAddAction(Ue,function UC)call MH7(GetHandleId(Ue),"MorphAgi",UB)call MH7(GetHandleId(Ue),"MorphStr",Ub)call MF7(GetHandleId(Ue),"Morphling",u8)set UE=CreateTrigger()call ky(UE,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(UE,Condition(function Z89))call TriggerAddAction(UE,function UA)call MH7(GetHandleId(UE),"MorphAgi",UB)call MH7(GetHandleId(UE),"MorphStr",Ub)call MF7(GetHandleId(UE),"Morphling",u8)if(GetPlayerController(GetOwningPlayer(u8))!=MAP_CONTROL_USER)thencall MH7(GetHandleId(GetOwningPlayer(u8)),"MorphAgi",UB)call MH7(GetHandleId(GetOwningPlayer(u8)),"MorphStr",Ub)endifelsecall SetUnitAbilityLevel(u8,'A0KW',GetUnitAbilityLevel(u8,'A0KX'))endifset u8=nullset Ue=nullset UE=nullset Ub=nullset UB=nullendfunctionfunction pZ takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZD9))call TriggerAddAction(t,function ZS9)set t=nullendfunctionfunction L07 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZT9))call TriggerAddAction(t,function ZU9)set t=nullendfunctionfunction ZV9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0G6' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and T37(GetSpellTargetUnit())==falseendfunctionfunction ZW9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0G6')local unit ZM7local location AK8local real l4local integer YL9=GetHeroAgi(TX7,true)local integer Y19=GetHeroStr(TX7,true)local real ZX9=I2R(YL9)/ I2R(Y19)local real ZY9=I2R(Y19)/ I2R(YL9)local real ZZ9local real ZA9local real ZB9local real ZC9local real V37local real Z39local integer Z69local integer ZL9local integer Z19local string Z09local string Z59local string Z29if ZX9<0.5 thenset ZZ9=0.25set ZA9=20*SR7elseif ZX9>1.5 thenset ZZ9=0.5*SR7set ZA9=20*SR7elseset ZZ9=0.25+(ZX9-0.5)*(0.5*SR7-0.25)set ZA9=20*SR7endifif ZY9<0.5 thenset ZB9=0.25set ZC9=100elseif ZY9>1.5 thenset ZB9=0.75*SR7set ZC9=300elseset ZC9=100+(ZY9-0.5)*200set ZB9=0.25+(ZY9-0.5)*(0.75*SR7-0.25)endifset V37=ZA9+ZZ9*YL9set Z39=ZB9set Z69=R2I(Z39)set ZL9=R2I(10*Z39-Z69*10)set Z19=R2I(100*Z39-ZL9*10-Z69*100)set Z09=I2S(Z69)set Z59=I2S(ZL9)set Z29=I2S(Z19)set l4=Atan2(GetUnitY(m5)-GetUnitY(TX7),GetUnitX(m5)-GetUnitX(TX7))set AK8=Location(GetUnitX(m5)+ZC9*Cos(l4),GetUnitY(m5)+ZC9*Sin(l4))call SetUnitPositionLoc(m5,AK8)call WK7(GetLocationX(AK8),GetLocationY(AK8),200)call RemoveLocation(AK8)call WD7("|c001ce6b9+"+I2S(R2I(V37))+"|r |c00ff0303+"+Z09+"."+Z59+Z29+"|r",1,m5,0.023,255,255,255,216)call ZO7(TX7,m5,Y84,V37)call ZK7(TX7,m5,Z39)set TX7=nullset m5=nullset ZM7=nullset AK8=nullendfunctionfunction LL7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZV9))call TriggerAddAction(t,function ZW9)set t=nullcall VQ7('A0X6')endfunctionfunction Z_9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=(LoadInteger(C7,(V_7),(34)))-1local texttag ttcall SaveInteger(C7,(V_7),(34),(S08))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseset tt=CreateTextTag()call SetTextTagText(tt,I2S(S08),0.03)call SetTextTagPosUnit(tt,X97,0)call SetTextTagColorBJ(tt,0,29,255,15)call SetTextTagVelocity(tt,0,0.035)call SetTextTagFadepoint(tt,3)call SetTextTagLifespan(tt,0.9)call SetTextTagPermanent(tt,false)call SetTextTagVisibility(tt,false)if GetOwningPlayer(X97)==GetLocalPlayer()thencall SetTextTagVisibility(tt,true)endifset tt=CreateTextTag()call SetTextTagText(tt,I2S(S08),0.03)call SetTextTagPosUnit(tt,U47,0)call SetTextTagColorBJ(tt,0,29,255,15)call SetTextTagVelocity(tt,0,0.035)call SetTextTagFadepoint(tt,3)call SetTextTagLifespan(tt,0.9)call SetTextTagPermanent(tt,false)call SetTextTagVisibility(tt,false)if GetOwningPlayer(X97)==GetLocalPlayer()thencall SetTextTagVisibility(tt,true)endifendifset t=nullset tt=nullset X97=nullset U47=nullreturn falseendfunctionfunction A49 takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit T_7=(LoadUnitHandle(C7,(GetHandleId(t)),(14)))local unit A79=(LoadUnitHandle(C7,(GetHandleId(T_7)),(229)))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(A79),GetUnitY(A79)))call RemoveUnit(A79)call UnitRemoveAbility(T_7,('A0GC'))if(LoadInteger(C7,(GetHandleId(T_7)),(704)))==0 or(LoadInteger(C7,(GetHandleId(T_7)),(704)))==('A0G8')thencall SetPlayerAbilityAvailable(GetOwningPlayer(T_7),('A0G8'),true)endifcall FlushChildHashtable(C7,(GetHandleId(t)))call NM7((t))set T_7=nullset A79=nullset t=nullendfunctionfunction A89 takes nothing returns booleanif GetSpellAbilityId()==('A0GC')thenreturn trueendifreturn falseendfunctionfunction A99 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local integer V_7=GetHandleId(T_7)local unit A79=(LoadUnitHandle(C7,(V_7),(229)))local real x=GetUnitX(A79)local real y=GetUnitY(A79)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",GetUnitX(T_7),GetUnitY(T_7)))call KillUnit(A79)call SetUnitX(T_7,x)call SetUnitY(T_7,y)call PanCameraToTimedForPlayer(GetOwningPlayer(T_7),x,y,0)call IssueImmediateOrder(T_7,"stop")set T_7=nullset A79=nullendfunctionfunction AD9 takes nothing returns booleanreturn GetUnitAbilityLevel(GetSummonedUnit(),('B030'))>0 and GetUnitState(GetSummonedUnit(),UNIT_STATE_LIFE)>0endfunctionfunction AE9 takes nothing returns nothinglocal unit T_7=GetSummoningUnit()local integer V_7=GetHandleId(T_7)local unit U47=(LoadUnitHandle(C7,(V_7),(228)))local unit A79=GetSummonedUnit()local trigger tcall SetPlayerAbilityAvailable(GetOwningPlayer(T_7),('A0G8'),false)call UW7(T_7,('A0GC'))call SetUnitColor(A79,GetPlayerColor(GetOwningPlayer(U47)))call SaveUnitHandle(C7,(V_7),(229),(A79))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,A79,EVENT_UNIT_DEATH)call TriggerAddAction(t,function A49)call SaveUnitHandle(C7,(GetHandleId(t)),(14),(T_7))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,A79,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function Z_9))call SaveUnitHandle(C7,(GetHandleId(t)),(2),(T_7))call SaveUnitHandle(C7,(GetHandleId(t)),(17),(A79))call SaveInteger(C7,(GetHandleId(t)),(34),(GetUnitAbilityLevel(T_7,('A0G8'))*15+15-1))set T_7=nullset U47=nullset A79=nullset t=nullendfunctionfunction AF9 takes nothing returns booleanreturn GetSpellAbilityId()==('A0G8')endfunctionfunction AG9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call SaveUnitHandle(C7,(GetHandleId(T_7)),(228),(U47))set T_7=nullset U47=nullendfunctionfunction AH9 takes nothing returns booleanif GetSpellAbilityId()==('A0G8')thenif GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit())thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LF'))endifendifreturn falseendfunctionfunction L17 takes nothing returns nothinglocal trigger tset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AF9))call TriggerAddAction(t,function AG9)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function AD9))call TriggerAddAction(t,function AE9)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A89))call TriggerAddAction(t,function A99)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AH9))set t=nullendfunctionfunction AI9 takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),YV4)==false thencall GroupAddUnit(YW4,GetEnumUnit())call UnitRemoveAbility(GetEnumUnit(),'B02J')call UnitRemoveAbility(GetEnumUnit(),'BUsp')call UnitRemoveAbility(GetEnumUnit(),'Bust')endifendfunctionfunction AJ9 takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'B02J')call UnitRemoveAbility(GetEnumUnit(),'BUsp')call UnitRemoveAbility(GetEnumUnit(),'Bust')endfunctionfunction AK9 takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),YU4)==false thencall GroupAddUnit(YU4,GetEnumUnit())call SetUnitOwner(YT4,GetOwningPlayer(GetEnumUnit()),false)call IssueTargetOrder(YT4,"sleep",GetEnumUnit())endifendfunctionfunction AM9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local group glocal group AN9=(LoadGroupHandle(C7,(V_7),(187)))if GetTriggerEvalCount(t)==10 thencall UW7(X97,'A24E')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A07U',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A24E',true)endifif GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>140 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A24E')thenif(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A07U' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A07U',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A24E',false)call ForGroup(AN9,function AJ9)call T67(AN9)call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97set YS4=X97set YT4=ZM7set YU4=AN9call GroupEnumUnitsInRange(g,x,y,1250+25,Condition(function X67))call ForGroup(g,function AK9)set YV4=gset YW4=TL7()call ForGroup(AN9,function AI9)call GroupRemoveGroup(YW4,AN9)call T67(g)call T67(YW4)endifset t=nullset g=nullset X97=nullset AN9=nullset ZM7=nullreturn falseendfunctionfunction AO9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)call UnitAddAbility(ZM7,'A07T')call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AM9))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\SongOfTheSiren_2.mdx",X97,"origin")))set t=nullset X97=nullendfunctionfunction AP9 takes nothing returns booleanif GetSpellAbilityId()=='A07U' thencall AO9()endifreturn falseendfunctionfunction L57 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AP9))set t=nullendfunctionfunction AQ9 takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A2KU')local integer id='A244'call ZO7(X97,U47,Y84,100+30*ZN7)if ZN7==2 thenset id='A245'elseif ZN7==3 thenset id='A246'elseif ZN7==4 thenset id='A247'endifif VG8(U47)==false thencall XJ7(U47,id,1,8)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",U47,"chest"))set X97=nullset U47=nullendfunctionfunction AR9 takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),G17)==false thencall GroupAddUnit(G17,GetEnumUnit())call AQ9(GL7,GetEnumUnit())endifendfunctionfunction AS9 takes nothing returns nothinglocal unit X97=GetEnumUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real x=GetUnitX(X97)local real y=GetUnitY(X97)local group g=TL7()call DestroyEffect(AddSpecialEffect("war3mapImported\\RipTide09.mdx",x,y))set I04=X97call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function Y47))call ForGroup(g,function AR9)call T67(g)set t=nullset g=nullendfunctionfunction AT9 takes nothing returns booleanreturn IsUnitIllusion(GetFilterUnit())and UY7(GetFilterUnit())==falseendfunctionfunction AU9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local group g=TL7()local integer i=0set G17=TL7()set GL7=X97call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(X97),Condition(function AT9))call GroupAddUnit(g,X97)call ForGroup(g,function AS9)call T67(g)call T67(G17)set X97=nullset g=nullendfunctionfunction AV9 takes nothing returns booleanif GetSpellAbilityId()=='A2KU' thencall AU9()endifreturn falseendfunctionfunction L27 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AV9))set t=nullendfunctionfunction AW9 takes unit X97,unit U47,integer ZN7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UnitAddAbility(ZM7,'A0BA')call SetUnitAbilityLevel(ZM7,'A0BA',ZN7)call IssueTargetOrder(ZM7,"ensnare",U47)set ZM7=nullendfunctionfunction AX9 takes nothing returns booleanif IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())=='HC49' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall AW9(GetFilterUnit(),YY4,GetUnitAbilityLevel(GetTriggerUnit(),'A24D'))endifreturn falseendfunctionfunction AY9 takes nothing returns booleanif IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())=='HC49' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall SetUnitFacing(GetFilterUnit(),IZ4)call SetUnitAnimation(GetFilterUnit(),"spell")endifreturn falseendfunctionfunction AZ9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local group g=TL7()set IZ4=W77(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(YY4),GetUnitY(YY4))call GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),700,Condition(function AY9))call T67(g)set T_7=nullset g=nullendfunctionfunction AA9 takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=YY4local group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),700,Condition(function AX9))call T67(g)set T_7=nullset g=nullendfunctionfunction AB9 takes nothing returns booleanif GetSpellAbilityId()=='A24D' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif T37(GetSpellTargetUnit())==false thenset YX4=0set YY4=GetSpellTargetUnit()call AW9(GetTriggerUnit(),YY4,GetUnitAbilityLevel(GetTriggerUnit(),'A24D'))call AA9()endifelsecall AZ9()endifendifreturn falseendfunctionfunction L_7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function AB9))set t=nullendfunctionfunction AC9 takes unit A39 returns integerlocal real r=GetRandomReal(0,100)local integer SR7=GetUnitAbilityLevel(A39,'A088')local boolean A69=KO7(A39,OU[GG4])!=nulllocal integer AL9=0local integer id=GetPlayerId(GetOwningPlayer(A39))set A69=falseif SR7==1 thenset SN4[id]=SN4[id]+1if A69 thenif r<30 thenset SK4[id]=SK4[id]+1set AL9=3elseif r<60 thenset SJ4[id]=SJ4[id]+1set AL9=2endifelseif r<25 thenset AL9=2set SJ4[id]=SJ4[id]+1endifendifelseif SR7==2 thenset SN4[id]=SN4[id]+1if A69 thenif r<17.5 thenset AL9=4set SM4[id]=SM4[id]+1elseif r<35 thenset AL9=3set SK4[id]=SK4[id]+1elseif r<70 thenset AL9=2set SJ4[id]=SJ4[id]+1endifelseif r<20 thenset AL9=3set SK4[id]=SK4[id]+1elseif r<40 thenset AL9=2set SJ4[id]=SJ4[id]+1endifendifelseif SR7==3 thenset SN4[id]=SN4[id]+1if A69 thenif r<10 thenset AL9=5set N4[id]=N4[id]+1elseif r<20 thenset AL9=4set SM4[id]=SM4[id]+1elseif r<40 thenset AL9=3set SK4[id]=SK4[id]+1elseif r<80 thenset AL9=2set SJ4[id]=SJ4[id]+1endifelseif r<12.5 thenset AL9=4set SM4[id]=SM4[id]+1elseif r<25 thenset AL9=3set SK4[id]=SK4[id]+1elseif r<50 thenset AL9=2set SJ4[id]=SJ4[id]+1endifendifendifreturn AL9endfunctionfunction A19 takes nothing returns booleanlocal unit m5=GetFilterUnit()local unit TX7=GetTriggerUnit()if IsUnitAlly(m5,GetOwningPlayer(TX7))and GetUnitState(m5,UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(m5,'Bblo')==0 thenif(GetOwningPlayer(m5)==Y7[0]or GetOwningPlayer(m5)==Z7[0])thenif(GetUnitTypeId(m5)=='ugho' or GetUnitTypeId(m5)=='u001' or GetUnitTypeId(m5)=='unec' or GetUnitTypeId(m5)=='u002')thenset m5=nullset TX7=nullreturn trueendifif(GetUnitTypeId(m5)=='esen' or GetUnitTypeId(m5)=='e00V' or GetUnitTypeId(m5)=='edry' or GetUnitTypeId(m5)=='e00W')thenset m5=nullset TX7=nullreturn trueendifreturn falseelseif IsUnitType(m5,UNIT_TYPE_HERO)==true thenset m5=nullset TX7=nullreturn trueelseif GetOwningPlayer(m5)==GetOwningPlayer(TX7)thenset m5=nullset TX7=nullreturn trueendifendifset m5=nullset TX7=nullreturn falseendfunctionfunction A09 takes integer r returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=rlocal group B47=TL7()local unit ZM7local unit CR7local integer A59=GetSpellAbilityId()local integer T8=1if r==2 thencall WD7(GetObjectName('n0K7'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==3 thencall WD7(GetObjectName('n0JT'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==4 thencall WD7(GetObjectName('n0K8'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==5 thencall WD7(GetObjectName('n0JO'),5,GetTriggerUnit(),0.03,255,0,0,255)endifset r=r-1call GroupEnumUnitsInRange(B47,GetUnitX(TX7),GetUnitY(TX7),600,Condition(function A19))if TX7!=GetSpellTargetUnit()thencall GroupAddUnit(B47,TX7)endifloopexitwhen T8>SR7set T8=T8+1set ZM7=CreateUnit(GetOwningPlayer(TX7),'e00C',GetUnitX(TX7),GetUnitY(TX7),270)call UW7(ZM7,A59)call SetUnitAbilityLevel(ZM7,A59,GetUnitAbilityLevel(TX7,A59))call UnitApplyTimedLife(ZM7,'BTLF',1.0)set CR7=GroupPickRandomUnit(B47)call IssueTargetOrder(ZM7,"bloodlust",CR7)call SetUnitPathing(ZM7,false)call SetUnitInvulnerable(ZM7,true)call UW7(ZM7,'Aloc')call GroupRemoveUnit(B47,CR7)endloopcall T67(B47)set TX7=nullset B47=nullset ZM7=nullset CR7=nullendfunctionfunction A29 takes nothing returns booleanlocal integer rif GetUnitAbilityLevel(GetTriggerUnit(),'A088')>0 and(GetSpellAbilityId()=='A083' or GetSpellAbilityId()=='A08I' or GetSpellAbilityId()=='A08G' or GetSpellAbilityId()=='A08F')thenset r=AC9(GetTriggerUnit())if r>1 thencall A09(r)endifendifreturn falseendfunctionfunction D78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function A29))set t=nullendfunctionfunction A_9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A2KR')call IssueTargetOrder(ZM7,"thunderbolt",U47)set X97=nullset U47=nullset ZM7=nullendfunctionfunction B49 takes nothing returns nothinglocal unit X97=I04call UW7(X97,'A2KQ')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2KQ',true)call ME7(GetHandleId(X97),"AI|Magi2Blast",true)set X97=nullendfunctionfunction B79 takes nothing returns nothinglocal unit X97=I04call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2KQ',false)set X97=nullendfunctionfunction B89 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")local integer B99=M_7(NO7,"Iterations")local integer SR7=M_7(NO7,"Level")local integer BD9=M_7(NO7,"Spell")local unit ZM7if GetTriggerEvalCount(t)>B99 thencall K_7(NO7)call NM7(t)elseset ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)if BD9=='A2KQ' thenset BD9='A2KR'endifcall UW7(ZM7,BD9)call SetUnitAbilityLevel(ZM7,BD9,SR7)call IssueTargetOrder(ZM7,"thunderbolt",m5)endifset t=nullset m5=nullset p5=nullset ZM7=nullreturn falseendfunctionfunction BE9 takes integer r returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer BD9=GetSpellAbilityId()local integer SR7=GetUnitAbilityLevel(p5,BD9)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)if r==2 thencall WD7(GetObjectName('n0K7'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==3 thencall WD7(GetObjectName('n0JT'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==4 thencall WD7(GetObjectName('n0K8'),5,GetTriggerUnit(),0.03,255,0,0,255)elseif r==5 thencall WD7(GetObjectName('n0JO'),5,GetTriggerUnit(),0.03,255,0,0,255)endifset r=r-1call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call M87(NO7,"Iterations",r)call M87(NO7,"Level",SR7)call M87(NO7,"Spell",BD9)call TriggerRegisterTimerEvent(t,0.3,true)call TriggerAddCondition(t,Condition(function B89))set t=nullset m5=nullset p5=nullendfunctionfunction BF9 takes nothing returns booleanlocal integer rif GetUnitAbilityLevel(GetTriggerUnit(),'A088')>0 and T37(GetSpellTargetUnit())==false and(GetSpellAbilityId()=='A04W' or GetSpellAbilityId()=='A08D' or GetSpellAbilityId()=='A08A' or GetSpellAbilityId()=='A089' or GetSpellAbilityId()=='A2KQ')thenset r=AC9(GetTriggerUnit())if r>1 and((LoadInteger(C7,(GetHandleId((GetSpellTargetUnit()))),((4322))))==1)==false thencall BE9(r)endifendifif T37(GetSpellTargetUnit())==false and GetSpellAbilityId()=='A2KQ' thencall A_9()endifreturn falseendfunctionfunction BG9 takes nothing returns booleanlocal integer id=GetPlayerId(GetTriggerPlayer())local string Z09local string Z59local string Z29local string BH9local string BI9local string str6if SN4[id]>0 thenset Z09=GetObjectName('n0JH')+" "+I2S(SN4[id])set Z59=GetObjectName('n0JM')+" "+I2S(SJ4[id]+SK4[id]+SM4[id]+N4[id])+" ("+I2S((SJ4[id]+SK4[id]+SM4[id]+N4[id])*100/ SN4[id])+"%)"set Z29=GetObjectName('n0JL')+" "+I2S(SJ4[id])+" ("+I2S(100*SJ4[id]/ SN4[id])+"%)"set BH9=GetObjectName('n0JK')+" "+I2S(SK4[id])+" ("+I2S(100*SK4[id]/ SN4[id])+"%)"set BI9=GetObjectName('n0JJ')+" "+I2S(SM4[id])+" ("+I2S(100*SM4[id]/ SN4[id])+"%)"call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,Z09)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,Z59)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,Z29)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,BH9)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,BI9)endifreturn falseendfunctionfunction D48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BF9))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function BG9))set t=nullendfunctionfunction BJ9 takes nothing returns booleanreturn GetSpellAbilityId()=='A08N'endfunctionfunction Uu takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction UU takes nothing returns nothingcall ZO7(GetTriggerUnit(),GetEnumUnit(),YD4,D8)endfunctionfunction BK9 takes nothing returns nothinglocal boolexpr hP=Condition(function Uu)local group B47=TL7()local real x=GetUnitX(GetSpellTargetUnit())local real y=GetUnitY(GetSpellTargetUnit())set D8=90*GetUnitAbilityLevel(GetTriggerUnit(),'A08N')call GroupEnumUnitsInRange(B47,x,y,250,hP)call ForGroup(B47,function UU)if GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)>1 thencall SetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE,GetUnitState(GetSpellTargetUnit(),UNIT_STATE_LIFE)+D8)endifcall T67(B47)call DestroyBoolExpr(hP)set B47=nullset hP=nullendfunctionfunction PN takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BJ9))call TriggerAddAction(t,function BK9)set t=nullendfunctionfunction BM9 takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==ME4[21]and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())and IsUnitIllusion(GetFilterUnit())==false thenset I04=GetFilterUnit()endifreturn falseendfunctionfunction BN9 takes nothing returns nothinglocal unit BO9=GetTriggerUnit()local unit p5local group g=TL7()local real xlocal real yset I04=nullcall GroupEnumUnitsInRange(g,GetUnitX(BO9),GetUnitY(BO9),1000,Condition(function BM9))call T67(g)set p5=I04if p5!=null thenset x=GetUnitX(p5)set y=GetUnitY(p5)call SetUnitPosition(BO9,x,y)endifset x=GetUnitX(BO9)+600*Cos(GetUnitFacing(BO9)*bj_DEGTORAD)set y=GetUnitY(BO9)+600*Sin(GetUnitFacing(BO9)*bj_DEGTORAD)call IssuePointOrder(BO9,"move",x,y)set BO9=nullset p5=nullset g=nullendfunctionfunction BP9 takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),'B03A')>0 thencall BN9()endifreturn falseendfunctionfunction Po takes nothing returns nothinglocal trigger t=CreateTrigger()local region r=CreateRegion()call RegionAddRect(r,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,r,null)call TriggerAddCondition(t,Condition(function BP9))set t=nullset r=nullendfunctionfunction BQ9 takes nothing returns booleanreturn((IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(UnitHasBuffBJ(GetAttacker(),'B03B'))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_ANCIENT)))endfunctionfunction BR9 takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),'B03B')>0 thenset IY4=IY4+1endifreturn falseendfunctionfunction BS9 takes nothing returns nothinglocal unit BT9=GetAttacker()local group g=TL7()local integer BU9=GetRandomInt(1,100)local integer BV9=GetUnitAbilityLevel(BT9,'A0DB')local integer BW9=GetUnitAbilityLevel(BT9,'A0YK')local unit ZM7local integer BX9=2*BV9local integer BY9=12set IY4=0call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(BT9),Condition(function BR9))call T67(g)if IY4<BX9 thenif IsUnitIllusion(BT9)==false and BU9<=(BY9+2*BW9)thenset ZM7=CreateUnit(GetOwningPlayer(BT9),'e00E',GetUnitX(BT9),GetUnitY(BT9),0)call UW7(ZM7,'A0DD')call IssueTargetOrderById(ZM7,852274,BT9)endifif IsUnitIllusion(BT9)==true and BU9<=(1+2*BW9)and BW9>0 thenset ZM7=CreateUnit(GetOwningPlayer(BT9),'e00E',GetUnitX(BT9),GetUnitY(BT9),0)call UW7(ZM7,'A0DD')call IssueTargetOrderById(ZM7,852274,BT9)endifendifset BT9=nullset g=nullset ZM7=nullendfunctionfunction PO takes nothing returns nothingset dU=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dU,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(dU,Condition(function BQ9))call TriggerAddAction(dU,function BS9)endfunctionfunction BZ9 takes nothing returns booleanlocal unit BA9=GetSummonedUnit()local unit oAlocal unit m5if GetUnitAbilityLevel(BA9,'B098')>0 thenset oA=GetSummoningUnit()set m5=MZ7(GetHandleId(oA),"SpiritTarget")call SetUnitX(BA9,GetUnitX(m5))call SetUnitY(BA9,GetUnitY(m5))call IssueTargetOrder(BA9,"attack",m5)endifset BA9=nullset oA=nullset m5=nullreturn falseendfunctionfunction BB9 takes unit p5,unit m5,integer SR7 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitX(m5),0)local integer BC9call MF7(GetHandleId(oA),"SpiritTarget",m5)if SR7==1 thenset BC9='A10H'elseif SR7==2 thenset BC9='A10G'elseif SR7==3 thenset BC9='A10I'elseset BC9='A10F'endifcall UW7(oA,BC9)call IssueTargetOrderById(oA,852274,p5)set oA=nullendfunctionfunction B39 takes unit p5,unit m5,integer SR7,boolean B69,boolean BL9 returns nothinglocal real B19=50+50*SR7local unit oAif BL9 thenset oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A10C')call SetUnitAbilityLevel(oA,'A10C',SR7)call IssueTargetOrder(oA,"cripple",m5)call ZO7(oA,m5,Y84,B19)if B69 thencall BB9(p5,m5,SR7)endifendifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\IllidanMissile\\IllidanMissile.mdl",m5,"origin"))set oA=nullendfunctionfunction B09 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local boolean BL9=N77(NO7,"damage")local unit IJ=MZ7(NO7,"Projectile")local real x=GetUnitX(IJ)local real y=GetUnitY(IJ)local real hN=GetUnitX(m5)local real ho=GetUnitY(m5)local real Ik=1000*0.035local real IK=W77(x,y,hN,ho)local real Il=x+Ik*Cos(IK*bj_DEGTORAD)local real IL=y+Ik*Sin(IK*bj_DEGTORAD)call SetUnitX(IJ,Il)call SetUnitY(IJ,IL)call SetUnitFacing(IJ,IK)if J87(hN,ho,Il,IL)<=Ik thencall B39(p5,m5,SR7,true,BL9)call KillUnit(IJ)call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullset IJ=nullreturn falseendfunctionfunction B59 takes unit p5,integer SR7,unit m5,boolean BL9 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit IJ=CreateUnit(GetOwningPlayer(p5),'h06L',GetUnitX(p5),GetUnitY(p5),W77(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call ME7(NO7,"damage",BL9)call MF7(NO7,"Projectile",IJ)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,0.035,true)call TriggerAddCondition(t,Condition(function B09))set t=nullset IJ=nullendfunctionfunction B29 takes nothing returns booleanif IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())=='Ogrh' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall B59(GetFilterUnit(),GetUnitAbilityLevel(GetTriggerUnit(),'A10D'),GetSpellTargetUnit(),false)endifreturn falseendfunctionfunction B_9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A10D')local unit m5=GetSpellTargetUnit()local group g=TL7()local boolean C49=T37(GetSpellTargetUnit())call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),700,Condition(function B29))if C49 thencall B59(TX7,SR7,m5,false)elsecall B59(TX7,SR7,m5,true)endifcall T67(g)set TX7=nullset m5=nullset g=nullendfunctionfunction C79 takes nothing returns booleanif IsUnitIllusion(GetFilterUnit())==true and GetUnitTypeId(GetFilterUnit())=='Ogrh' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())thencall SetUnitFacing(GetFilterUnit(),IZ4)call SetUnitAnimation(GetFilterUnit(),"spell")endifreturn falseendfunctionfunction C89 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local group g=TL7()set IZ4=W77(GetUnitX(TX7),GetUnitY(TX7),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),700,Condition(function C79))call T67(g)set TX7=nullset g=nullendfunctionfunction C99 takes nothing returns booleanif GetSpellAbilityId()=='A10D' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall B_9()elsecall C89()endifendifreturn falseendfunctionfunction D88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C99))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function C99))call VQ7('A10C')call VQ7('A10H')call VQ7('A10G')call VQ7('A10I')call VQ7('A10F')set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function BZ9))set t=nullendfunctionfunction CD9 takes nothing returns nothinglocal unit u=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(u),'e00E',GetUnitX(u),GetUnitY(u),0)call UW7(oA,'A0DC')call IssueTargetOrderById(oA,852274,u)set u=nullset oA=nullendfunctionfunction CE9 takes nothing returns booleanif GetSpellAbilityId()=='A0D7' thencall CD9()endifreturn falseendfunctionfunction D98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CE9))set t=nullendfunctionfunction CF9 takes nothing returns booleanreturn GetSpellAbilityId()=='A07Z'endfunctionfunction U4 takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0endfunctionfunction U5 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e022',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),270)call UW7(oA,'A06T')call SetUnitAbilityLevel(oA,'A06T',GetUnitAbilityLevel(TX7,'A07Z'))call IssueTargetOrderById(oA,852171,GetEnumUnit())set TX7=nullset oA=nullendfunctionfunction CG9 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local group B47=TL7()local boolexpr hP=Condition(function U4)call GroupEnumUnitsInRange(B47,GetUnitX(TX7),GetUnitY(TX7),650,hP)call ForGroup(B47,function U5)call DestroyBoolExpr(hP)call T67(B47)set TX7=nullset B47=nullendfunctionfunction DD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CF9))call TriggerAddAction(t,function CG9)set t=nullendfunctionfunction CH9 takes unit p5,integer SR7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),0)call UW7(ZM7,'A1GB')call SetUnitAbilityLevel(ZM7,'A1GB',SR7)call IssueTargetOrder(ZM7,"invisibility",p5)call UW7(p5,'A23O')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A23O',false)set ZM7=nullendfunctionfunction CI9 takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='h0BT'endfunctionfunction CJ9 takes unit CK9 returns booleanlocal group g=TL7()local boolean CM9=falsecall GroupEnumUnitsInRange(g,GetUnitX(CK9),GetUnitY(CK9),375,Condition(function CI9))if FirstOfGroup(g)!=null thenset CM9=trueendifcall T67(g)set g=nullreturn CM9endfunctionfunction CN9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ZR7=M_7(NO7,"TargetIndex")local unit RH7=QL7(ZR7)local integer P79=M_7(NO7,"Count")local integer SR7=M_7(NO7,"Level")local real WG8=(LoadReal(C7,(NO7),(442)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED and GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thenset P79=P79+1call M87(NO7,"Count",P79)elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A01Z' and GetTriggerUnit()==RH7 thencall SaveReal(C7,(NO7),(442),(((TimerGetElapsed(P))+1.0)*1.0))call DisableTrigger(GetTriggeringTrigger())call CH9(RH7,SR7)call EnableTrigger(GetTriggeringTrigger())call M87(NO7,"Count",0)endifif nA(GetUnitX(RH7),GetUnitY(RH7),375)==false and CJ9(RH7)==false thenif WG8<(TimerGetElapsed(P))or GetTriggerEvalCount(t)==1 thencall UnitRemoveAbility(RH7,'B021')call UnitRemoveAbility(RH7,'A1GA')call UnitRemoveAbility(RH7,'A23O')call UnitRemoveAbility(RH7,'B0E9')call K_7(NO7)call NM7(t)endifelseif(N77(NO7,"NaturesGuise|Special")and P79>(150*SR7))thencall UnitRemoveAbility(RH7,'B021')call UnitRemoveAbility(RH7,'A1GA')call UnitRemoveAbility(RH7,'A23O')call UnitRemoveAbility(RH7,'B0E9')call K_7(NO7)call NM7(t)elseif N77(NO7,"NaturesGuise|Special")and GetUnitAbilityLevel(RH7,'B021')==0 and GetUnitAbilityLevel(RH7,'A1GA')>0 thencall SaveReal(C7,(NO7),(442),(((TimerGetElapsed(P))+1.0)*1.0))call DisableTrigger(GetTriggeringTrigger())call CH9(RH7,SR7)call EnableTrigger(GetTriggeringTrigger())elseif GetUnitAbilityLevel(RH7,'B021')==0 thencall UnitRemoveAbility(RH7,'B021')call UnitRemoveAbility(RH7,'A1GA')call UnitRemoveAbility(RH7,'A23O')call UnitRemoveAbility(RH7,'B0E9')call K_7(NO7)call NM7(t)elsecall SaveReal(C7,(NO7),(442),(((TimerGetElapsed(P))+1.0)*1.0))endifset t=nullset RH7=nullreturn falseendfunctionfunction CO9 takes nothing returns nothinglocal unit RH7=GetAttacker()local integer RP7=GetHandleId(RH7)local trigger t=M37(RP7,"Nature|Trg")local integer T97=GetHandleId(t)if N77(T97,"NaturesGuise|Special")and GetAttacker()==RH7 thencall UnitRemoveAbility(RH7,'B021')call UnitRemoveAbility(RH7,'A1GA')call K_7(T97)call NM7(t)endifset RH7=nullset t=nullendfunctionfunction CP9 takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'B021')>0 or GetUnitAbilityLevel(GetAttacker(),'A1GA')>0 thencall CO9()endifreturn falseendfunctionfunction CQ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()!=EVENT_WIDGET_DEATH thenif GetUnitAbilityLevel(X97,'B021')>0 thencall UW7(X97,'A1GA')endifendifcall FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction CR9 takes nothing returns nothinglocal trigger tlocal integer NO7set t=CreateTrigger()set NO7=GetHandleId(t)call M87(NO7,"TargetIndex",Q07(GetSpellTargetUnit()))call M87(NO7,"Level",GetUnitAbilityLevel(GetTriggerUnit(),'A01Z'))call M87(NO7,"Count",0)call SaveReal(C7,(NO7),(442),(((TimerGetElapsed(P))+1.0)*1.0))call TriggerAddCondition(t,Condition(function CN9))call TriggerRegisterTimerEvent(t,0.1,true)call UW7(GetSpellTargetUnit(),'A23O')call SetPlayerAbilityAvailable(GetOwningPlayer(GetSpellTargetUnit()),'A23O',false)if GetTriggerUnit()==GetSpellTargetUnit()thencall ME7(NO7,"NaturesGuise|Special",true)call MH7(GetHandleId(GetSpellTargetUnit()),"Nature|Trg",t)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set t=CreateTrigger()call SaveUnitHandle(C7,(GetHandleId(t)),(2),(GetTriggerUnit()))call TriggerAddCondition(t,Condition(function CQ9))call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterDeathEvent(t,GetTriggerUnit())endifset t=nullendfunctionfunction CS9 takes nothing returns booleanif GetSpellAbilityId()=='A01Z' thencall CR9()endifreturn falseendfunctionfunction DE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CS9))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function CP9))set t=nullendfunctionfunction CT9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real CU9=(LoadReal(C7,(GetHandleId(U47)),(686)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or CU9<(TimerGetElapsed(P))or TU7(U47)thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SaveReal(C7,(GetHandleId(U47)),(686),((0)*1.0))call UnitRemoveAbility(U47,'A24P')call UnitRemoveAbility(U47,'A24P')call UnitRemoveAbility(U47,'A24P')call UnitRemoveAbility(U47,'A24P')call UnitRemoveAbility(U47,'B0EG')elsecall ZO7(X97,U47,Y84,15+15*ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction CV9 takes unit X97,unit U47 returns nothinglocal trigger tlocal integer V_7local real CU9=(LoadReal(C7,(GetHandleId(U47)),(686)))local integer ZN7=GetUnitAbilityLevel(X97,'A1G7')if CU9>(TimerGetElapsed(P))thencall SaveReal(C7,(GetHandleId(U47)),(686),(((TimerGetElapsed(P))+4)*1.0))elseset t=CreateTrigger()set V_7=GetHandleId(t)call SaveReal(C7,(GetHandleId(U47)),(686),(((TimerGetElapsed(P))+4)*1.0))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function CT9))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\AcidBomb\\BottleImpact.mdl",U47,"overhead")))if ZN7==1 thencall UW7(U47,'A24P')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24P',false)elseif ZN7==2 thencall UW7(U47,'A24P')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24P',false)elseif ZN7==3 thencall UW7(U47,'A24P')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24P',false)elseif ZN7==4 thencall UW7(U47,'A24P')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24P',false)endifendifset t=nullendfunctionfunction Sentinel_FindClosest takes nothing returns booleanif GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(SV4)and(GetUnitTypeId(GetFilterUnit())=='h0BT' or GetUnitTypeId(GetFilterUnit())=='h0BU')thenif J87(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),SW4,SX4)<SY4 thenset SU4=GetFilterUnit()set SY4=J87(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),SW4,SX4)endifendifreturn falseendfunctionfunction CW9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47local group glocal real S98=(LoadReal(C7,(V_7),(442)))local real xlocal real ylocal integer SN7local real hplocal integer S08=(LoadInteger(C7,(V_7),(34)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_DEATH thenset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))endifif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenif GetTriggerUnit()==ZM7 thencall UnitRemoveAbility(ZM7,'Apiv')call FlushChildHashtable(C7,(V_7))call NM7(t)endifelseif GetUnitTypeId(ZM7)=='h0BT' thenset I04=ZM7set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(ZM7),GetUnitY(ZM7),110,Condition(function Y47))set U47=IP9(g,GetUnitX(ZM7),GetUnitY(ZM7))call T67(g)if U47!=null thencall CV9(X97,U47)set x=GetUnitX(ZM7)set y=GetUnitY(ZM7)set hp=GetUnitState(ZM7,UNIT_STATE_LIFE)call ShowUnit(ZM7,false)call DisableTrigger(t)call KillUnit(ZM7)call EnableTrigger(t)set ZM7=CreateUnit(GetOwningPlayer(X97),'h0BU',x,y,0)call SetUnitState(ZM7,UNIT_STATE_LIFE,hp)call UnitApplyTimedLife(ZM7,'BTLF',480-((TimerGetElapsed(P))-S98))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveReal(C7,(V_7),(411),(((TimerGetElapsed(P))+4)*1.0))endifelseif GetUnitTypeId(ZM7)=='h0BU' and(LoadReal(C7,(V_7),(411)))<(TimerGetElapsed(P))thenset x=GetUnitX(ZM7)set y=GetUnitY(ZM7)set hp=GetUnitState(ZM7,UNIT_STATE_LIFE)call ShowUnit(ZM7,false)call DisableTrigger(t)call KillUnit(ZM7)call EnableTrigger(t)set ZM7=CreateUnit(GetOwningPlayer(X97),'h0BT',x,y,0)call SetUnitState(ZM7,UNIT_STATE_LIFE,hp)call UnitApplyTimedLife(ZM7,'BTLF',480-((TimerGetElapsed(P))-S98))call SaveUnitHandle(C7,(V_7),(19),(ZM7))endifset t=nullset X97=nullset U47=nullset ZM7=nullset g=nullreturn falseendfunctionfunction CX9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A1G7')local real x=GetSpellTargetX()local real y=GetSpellTargetY()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'h0BT',x,y,0)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UnitApplyTimedLife(ZM7,'BTLF',480)call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function CW9))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P)))*1.0))call SaveInteger(C7,(V_7),(34),(0))set t=nullset X97=nullset ZM7=nullendfunctionfunction CY9 takes nothing returns booleanif GetSpellAbilityId()=='A1G7' thencall CX9()endifreturn falseendfunctionfunction DG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CY9))set t=nullendfunctionfunction gg_ForestSentinelHack takes nothing returns nothinglocal unit XT7=GetTriggerUnit()local integer JK7=GetUnitAbilityLevel(XT7,'A1G7')local real x=0.local real y=0.local unit CZ9=nulllocal trigger t=nulllocal integer TM7=0local unit TF7=nulllocal unit u=nulllocal group g=nulllocal boolexpr b=Condition(function PJ7)if((R97(GetOwningPlayer(XT7))))thenset t=CreateTrigger()set TM7=GetHandleId(t)set g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(XT7),800,Condition(function PJ7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(XT7))endloopset TF7=uendifcall DestroyGroup(g)if(TF7!=null)thenset x=GetUnitX(TF7)+GetRandomReal(-10.,10.)set y=GetUnitY(TF7)+GetRandomReal(-10.,10.)elseset x=GetUnitX(XT7)+GetRandomReal(-10.,10.)set y=GetUnitY(XT7)+GetRandomReal(-10.,10.)endifset CZ9=CreateUnit(GetOwningPlayer(XT7),'h0BT',x,y,0)call UnitApplyTimedLife(CZ9,'BTLF',480)call TriggerRegisterUnitEvent(t,CZ9,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,XT7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function CW9))call SaveUnitHandle(C7,(TM7),(19),(CZ9))call SaveUnitHandle(C7,(TM7),(2),(XT7))call SaveReal(C7,(TM7),(442),(((TimerGetElapsed(P)))*1.0))call UnitAddAbility(XT7,'A1QV')call TG7(XT7,CZ9)endifset t=nullset XT7=nullset CZ9=nullcall DestroyBoolExpr(b)set TF7=nullset g=nullset u=nullendfunctionfunction CA9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7local player pif X97==null or UY7(X97)thencall UnitRemoveAbility(ZM7,'A24N')call UnitRemoveAbility(ZM7,'A24M')call UnitRemoveAbility(ZM7,'A254')call UnitRemoveAbility(ZM7,'A253')call UnitRemoveAbility(ZM7,'A27Y')call UnitRemoveAbility(ZM7,'A280')call UnitRemoveAbility(ZM7,'A27Z')call UnitRemoveAbility(ZM7,'A281')elseif(Q_7(GetOwningPlayer(X97))==true and Q_7(GetOwningPlayer(ZM7))==false)or(Q_7(GetOwningPlayer(X97))==false and Q_7(GetOwningPlayer(ZM7))==true)thenif Q_7(GetOwningPlayer(X97))thenset p=Y7[0]elseset p=Z7[0]endifcall SetUnitOwner(ZM7,p,false)endifset ZN7=GetUnitAbilityLevel(X97,'A24O')if VI7()thencall UnitRemoveAbility(ZM7,'A24N')call UnitRemoveAbility(ZM7,'A24M')call UnitRemoveAbility(ZM7,'A254')call UnitRemoveAbility(ZM7,'A253')call UnitAddAbility(ZM7,'A280')call UnitAddAbility(ZM7,'A27Y')call UnitAddAbility(ZM7,'A281')call UnitAddAbility(ZM7,'A27Z')call SetUnitAbilityLevel(ZM7,'A280',ZN7)call SetUnitAbilityLevel(ZM7,'A27Y',ZN7)call SetUnitAbilityLevel(ZM7,'A281',ZN7)call SetUnitAbilityLevel(ZM7,'A27Z',ZN7)elsecall UnitRemoveAbility(ZM7,'A27Y')call UnitRemoveAbility(ZM7,'A280')call UnitRemoveAbility(ZM7,'A27Z')call UnitRemoveAbility(ZM7,'A281')call UnitAddAbility(ZM7,'A24M')call UnitAddAbility(ZM7,'A24N')call UnitAddAbility(ZM7,'A253')call UnitAddAbility(ZM7,'A254')call SetUnitAbilityLevel(ZM7,'A24M',ZN7)call SetUnitAbilityLevel(ZM7,'A24N',ZN7)call SetUnitAbilityLevel(ZM7,'A253',ZN7)call SetUnitAbilityLevel(ZM7,'A254',ZN7)endifcall SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))endifset t=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction CB9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local player plocal unit ZM7if Q_7(GetOwningPlayer(X97))thenset p=Y7[0]elseset p=Z7[0]endifset ZM7=CreateUnit(p,'e01V',0,0,0)call UW7(X97,'A293')call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function CA9))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullset ZM7=nullendfunctionfunction CC9 takes nothing returns booleanif GetLearnedSkill()=='A24O' and GetUnitAbilityLevel(GetTriggerUnit(),'A24O')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall CB9()endifreturn falseendfunctionfunction DF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CC9))call VQ7('A24M')call VQ7('A253')call VQ7('A280')call VQ7('A281')call VQ7('A24N')call VQ7('A254')call VQ7('A27Y')call VQ7('A27Z')set t=nullendfunctionfunction C39 takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local real C69=(LoadReal(C7,(V_7),(21)))call SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+C69)set X97=nullset U47=nullendfunctionfunction CL9 takes nothing returns nothinglocal trigger t=WX7(Z54,GetEnumUnit(),'h0D8',"C39",400)local integer V_7=GetHandleId(t)call SaveReal(C7,(V_7),(21),((Z24)*1.0))set t=nullendfunctionfunction C19 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local group gif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A273')call UnitRemoveAbility(U47,'B0EL')elseif GetTriggerEvalCount(t)>3 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A273')call UnitRemoveAbility(U47,'B0EL')endifcall DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\EntBirthTarget\\EntBirthTarget.mdl",U47,"origin"))set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),525,Condition(function YQ7))set Z54=U47set Z24=15+15*ZN7call ForGroup(g,function CL9)call T67(g)call ZO7(X97,U47,Y84,Z24)endifset t=nullset X97=nullset U47=nullset g=nullreturn falseendfunctionfunction C09 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A26N')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UW7(U47,'A273')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A273',false)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function C19))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P)))*1.0))call SaveInteger(C7,(V_7),(5),(ZN7))set t=nullset X97=nullendfunctionfunction LeechSeed takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call WX7(X97,U47,'h0D9',"C09",600)set X97=nullset U47=nullendfunctionfunction C59 takes nothing returns booleanif GetSpellAbilityId()=='A26N' and T37(GetSpellTargetUnit())==false thencall C09()endifreturn falseendfunctionfunction DH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C59))set t=nullendfunctionfunction C29 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local integer P79=M_7(NO7,"Count")if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and P79<(4+SR7)thenset P79=P79+1call M87(NO7,"Count",P79)call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-5-5*SR7)call ZO7(p5,m5,Y84,10+10*SR7)elseif P79>=(4+SR7)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()!='A12W' and GetSpellAbilityId()!='A0FO' and GetSpellAbilityId()!='A1MO' and GetSpellAbilityId()!='A1C0' and GetSpellAbilityId()!='A1ZI' and GetSpellAbilityId()!='A28Y' and BM7(GetSpellAbilityId())==false and(SJ7(GetSpellAbilityId())or GetSpellAbilityId()=='A06K'))thencall DestroyEffect(ML7(NO7,"FX"))call UnitRemoveAbility(m5,'A1PS')call UnitRemoveAbility(m5,'B0CQ')call K_7(NO7)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction C_9 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer SR7=GetUnitAbilityLevel(p5,'A14L')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UW7(m5,'A1PS')call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function C29))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareTarget.mdl",m5,"overhead"))call M87(NO7,"Level",SR7)call M87(NO7,"Count",0)set p5=nullset m5=nullset t=nullendfunctionfunction L49 takes nothing returns nothinglocal group g=TL7()local location l=GetSpellTargetLoc()set I04=GetTriggerUnit()set oZ=GetTriggerUnit()call GroupEnumUnitsInRange(g,GetLocationX(l),GetLocationY(l),375,Condition(function Y57))call ForGroup(g,function C_9)call V27("war3mapImported\\CotS.mdx",GetLocationX(l),GetLocationY(l),5)call T67(g)call RemoveLocation(l)set g=nullset l=nullendfunctionfunction L79 takes nothing returns booleanif GetSpellAbilityId()=='A14L' thencall L49()endifreturn falseendfunctionfunction DI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L79))set t=nullendfunctionfunction L89 takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),'B05X')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0LZ')>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),'B05X')set d=(0.15+0.15*I2R(GetUnitAbilityLevel(GetEventDamageSource(),'A0LZ')))*GetHeroInt(GetEventDamageSource(),true)call WD7("+"+I2S(R2I(d)),1,GetTriggerUnit(),0.023,3,216,216,216)call DisableTrigger(GetTriggeringTrigger())call ZO7(GetEventDamageSource(),GetTriggerUnit(),YD4,d)call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction L99 takes nothing returns nothinglocal trigger tlocal unit U47local unit X97if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset U47=GetSpellTargetUnit()set X97=GetTriggerUnit()elseset U47=GetTriggerUnit()set X97=GetAttacker()endifif IsUnitIllusion(X97)==false thenset t=CreateTrigger()call MF7(GetHandleId(t),"Source",X97)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function L89))endifset t=nullset U47=nullset X97=nullendfunctionfunction ve takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),'A0LZ')>0 and(N77(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")thencall L99()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==852255)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==852256)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0LZ'thencall L99()endifreturn falseendfunctionfunction LD9 takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function ve))call MF7(GetHandleId(t),"Hero",TX7)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction LE9 takes nothing returns booleanif GetLearnedSkill()=='A0LZ'and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0LZ')==1 thencall LD9(GetTriggerUnit(),false)endifreturn falseendfunctionfunction DJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function LE9))set t=nullendfunctionfunction LF9 takes nothing returns booleanreturn GetSpellAbilityId()=='A0L3'endfunctionfunction LG9 takes nothing returns booleancall NM7(GetTriggeringTrigger())call VolumeGroupReset()return falseendfunctionfunction LH9 takes nothing returns nothinglocal location UM8=GetUnitLoc(GetTriggerUnit())local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),'A0L3')+2,false)call TriggerAddCondition(t,Condition(function LG9))call CreateNUnitsAtLoc(1,'e00E',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call ShowUnitHide(bj_lastCreatedUnit)call UnitApplyTimedLifeBJ(5.00,'BTLF',bj_lastCreatedUnit)call UnitAddAbility(bj_lastCreatedUnit,'A0L2')call SetUnitAbilityLevelSwapped('A0L2',bj_lastCreatedUnit,GetUnitAbilityLevel(GetTriggerUnit(),'A0L3'))call IssuePointOrderLoc(bj_lastCreatedUnit,"silence",UM8)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_UNITSOUNDS,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_COMBAT,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_SPELLS,.0)call VolumeGroupSetVolume(SOUND_VOLUMEGROUP_MUSIC,.0)call RemoveLocation(UM8)set t=nullset UM8=nullendfunctionfunction GS takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LF9))call TriggerAddAction(t,function LH9)set t=nullendfunctionfunction LI9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A0MC')call FlushChildHashtable(C7,(V_7))call NM7(t)if UY7(X97)==false and UY7(U47)==false thenendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction LJ9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=GetUnitAbilityLevel(X97,'A0MC')call FlushChildHashtable(C7,(V_7))call NM7(t)if UY7(X97)==false and UY7(U47)==false thencall UW7(ZM7,'A0LS')call SetUnitAbilityLevel(ZM7,'A0LS',ZN7)call IssueTargetOrder(ZM7,"soulburn",U47)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerAddCondition(t,Condition(function LI9))call TriggerRegisterTimerEvent(t,0.01,false)call SaveUnitHandle(C7,(GetHandleId(t)),(2),(X97))call SaveUnitHandle(C7,(GetHandleId(t)),(17),(U47))call SaveInteger(C7,(GetHandleId(t)),(5),(ZN7))endifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction LK9 takes integer id returns booleanreturn id=='A0DY' or id=='A1WB' or id=='A026' or id=='A09V' or id=='AHfa' or id=='A0LZ' or id=='A0QN' or id=='A0OI'endfunctionfunction LM9 takes nothing returns booleanlocal unit U47=GetTriggerUnit()local unit X97=(LoadUnitHandle(C7,(GetHandleId(GetTriggeringTrigger())),(2)))local trigger tif GetUnitAbilityLevel(GetTriggerUnit(),'B05V')>0 and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 and BM7(GetSpellAbilityId())==false and GetSpellAbilityId()!='AIbk' and GetSpellAbilityId()!='A05Z' and GetSpellAbilityId()!='A0FP' and GetSpellAbilityId()!='A0QY' and GetSpellAbilityId()!='A06X' and GetSpellAbilityId()!='A0AQ' and GetSpellAbilityId()!='A21X' and GetSpellAbilityId()!='A21W' and GetSpellAbilityId()!='A21V' and GetSpellAbilityId()!='A12W' and GetSpellAbilityId()!='A06K' and GetSpellAbilityId()!='Aeat' and GetSpellAbilityId()!='A0JY' and GetSpellAbilityId()!='A0FO' and GetSpellAbilityId()!='A1NI' and GetSpellAbilityId()!='A1MI' and GetSpellAbilityId()!='A1Q8' and GetSpellAbilityId()!='A1RA' and GetSpellAbilityId()!='A1QV' and GetSpellAbilityId()!='A21Y' and GetSpellAbilityId()!='A1GU' and(GetSpellAbilityId()!='A1YY')and LK9(GetSpellAbilityId())==false thenif IsUnitEnemy(U47,GetOwningPlayer(X97))==true and BJ7(GetSpellAbilityId())==false thenif((LoadInteger(C7,(GetHandleId((U47))),((4305))))==1)==false thenset t=CreateTrigger()call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function LJ9))call SaveUnitHandle(C7,(GetHandleId(t)),(2),(X97))call SaveUnitHandle(C7,(GetHandleId(t)),(17),(U47))set t=nullendifendifendifset U47=nullset X97=nullreturn falseendfunctionfunction LN9 takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I_4local real R09=(LoadReal(C7,(V_7),(20)))call SetHeroInt(X97,GetHeroInt(X97,false)+1,true)call WD7("+1 "+GetObjectName('n0JP'),3,X97,0.023,0,255,0,230)set X97=nullendfunctionfunction LO9 takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I_4local real R09=(LoadReal(C7,(V_7),(20)))call SetHeroInt(X97,GetHeroInt(X97,false)+2,true)call WD7("+2 "+GetObjectName('n0JP'),3,X97,0.023,0,255,0,230)set X97=nullendfunctionfunction LP9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit UB7=GetTriggerUnit()if IsUnitType(UB7,UNIT_TYPE_HERO)==true and GetUnitTypeId(UB7)!='H00J' and IsUnitIllusion(UB7)==false and IsUnitInRange(X97,UB7,850)and UY7(X97)==false and IsUnitAlly(X97,GetOwningPlayer(UB7))==false thenif X97==GetKillingUnit()thenset R64[GetPlayerId(GetOwningPlayer(X97))]=R64[GetPlayerId(GetOwningPlayer(X97))]+2call WD7("-2 "+GetObjectName('n0JP'),3,UB7,0.023,255,0,0,230)call SetHeroInt(UB7,GetHeroInt(UB7,false)-2,true)call WX7(UB7,X97,'h0CP',"LO9",450)elseset R64[GetPlayerId(GetOwningPlayer(X97))]=R64[GetPlayerId(GetOwningPlayer(X97))]+1call WD7("-1 "+GetObjectName('n0JP'),3,UB7,0.023,255,0,0,230)call SetHeroInt(UB7,GetHeroInt(UB7,false)-1,true)call WX7(UB7,X97,'h0CP',"LN9",450)endifendifset t=nullset X97=nullset UB7=nullreturn falseendfunctionfunction LQ9 takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LM9))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=CreateTrigger()set V_7=GetHandleId(t)call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function LP9))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction LR9 takes nothing returns booleanif GetLearnedSkill()=='A0MC' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0MC')==1 thencall LQ9()endifreturn falseendfunctionfunction LS9 takes nothing returns booleanlocal integer LT9=R64[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(G7[GetPlayerId(GetTriggerPlayer())])=='N01A' and LT9>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetObjectName('n0HM')+" "+I2S(LT9))endifreturn falseendfunctionfunction DK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function LR9))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function LS9))set t=nullendfunctionfunction LU9 takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall ZO7(LS,GetEnumUnit(),Y84,ET)call IssueTargetOrder(DT,"slow",GetEnumUnit())elsecall ZO7(LS,GetEnumUnit(),Y84,ET/ 3)call IssueTargetOrder(DT,"slow",GetEnumUnit())endifendfunctionfunction LV9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local unit ZM7=MZ7(V_7,"Caster")local integer ZN7=M_7(V_7,"Level")local real x=N47(V_7,"x")local real y=N47(V_7,"y")local group g=TL7()local real dlocal real alocal real x2local real y2set I04=X97call GroupEnumUnitsInRange(g,x,y,375,Condition(function Y27))set LS=X97set ET=ZN7*12set DT=ZM7call ForGroup(g,function LU9)call T67(g)call DestroyEffect(ML7(V_7,"FX0"))call DestroyEffect(ML7(V_7,"FX1"))call DestroyEffect(ML7(V_7,"FX2"))call DestroyEffect(ML7(V_7,"FX3"))call DestroyEffect(ML7(V_7,"FX4"))call DestroyEffect(ML7(V_7,"FX5"))call DestroyEffect(ML7(V_7,"FX6"))call DestroyEffect(ML7(V_7,"FX7"))call DestroyEffect(ML7(V_7,"FX8"))if GetTriggerEvalCount(t)==8 thencall K_7(V_7)call NM7(t)elseset d=0set a=0set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX0",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=150set a=45set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX1",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=90set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX2",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=150set a=135set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX3",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=180set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX4",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=150set a=225set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX5",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=270set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX6",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=150set a=305set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX7",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))set d=275set a=360set x2=x+d*Cos(a*bj_DEGTORAD)set y2=y+d*Sin(a*bj_DEGTORAD)call MG7(V_7,"FX8",AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x2,y2))endifset t=nullset X97=nullset ZM7=nullset g=nullreturn falseendfunctionfunction LW9 takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=GetUnitAbilityLevel(p5,'A064')local real x1=N47(NO7,"x")local real y1=N47(NO7,"y")local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x1,y1,0)local real x2local real y2local real dlocal real alocal integer icall UW7(ZM7,'A19F')call SetUnitAbilityLevel(ZM7,'A19F',SR7)if GetTriggerEvalCount(t)==1 thenset i=1loopexitwhen i>10set d=GetRandomReal(0,450)set a=GetRandomReal(0,360)set x2=x1+d*Cos(a*bj_DEGTORAD)set y2=y1+d*Sin(a*bj_DEGTORAD)set ZM7=CreateUnit(GetOwningPlayer(p5),'e00J',GetUnitX(p5),GetUnitY(p5),90)call IssuePointOrder(ZM7,"attackground",x2,y2)call UnitApplyTimedLife(ZM7,'BTLF',0.5)set i=i+1endloopelsecall K_7(NO7)call NM7(t)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call M97(NO7,"x",(x1)*1.0)call M97(NO7,"y",(y1)*1.0)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function LV9))call TriggerEvaluate(t)endifset p5=nullset ZM7=nullset t=nullreturn falseendfunctionfunction LX9 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call TriggerRegisterTimerEvent(t,0.4,true)call TriggerAddCondition(t,Condition(function LW9))call MF7(NO7,"Source",p5)call M97(NO7,"x",(x)*1.0)call M97(NO7,"y",(y)*1.0)call RemoveLocation(l)set t=nullset p5=nullset l=nullendfunctionfunction LY9 takes nothing returns booleanif GetSpellAbilityId()=='A064' thencall LX9()endifreturn falseendfunctionfunction DM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LY9))call VQ7('A19F')set t=nullendfunctionfunction LZ9 takes nothing returns booleanreturn GetLearnedSkill()=='A03U'endfunctionfunction LA9 takes nothing returns nothingcall SetPlayerTechResearchedSwap('R005',GetUnitAbilityLevelSwapped('A03U',GetTriggerUnit()),GetOwningPlayer(GetLearningUnit()))endfunctionfunction Pv takes nothing returns nothingset dX=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dX,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dX,Condition(function LZ9))call TriggerAddAction(dX,function LA9)endfunctionfunction LB9 takes nothing returns booleanreturn GetLearnedSkill()=='A00J'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction LC9 takes nothing returns nothingif(GetUnitAbilityLevel(GetTriggerUnit(),'A0MB')==0)thencall UW7(GetTriggerUnit(),'A0MB')endifcall SetUnitAbilityLevel(GetTriggerUnit(),'A0MB',GetUnitAbilityLevel(GetTriggerUnit(),'A00J'))endfunctionfunction Pw takes nothing returns nothingset dY=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dY,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dY,Condition(function LB9))call TriggerAddAction(dY,function LC9)endfunctionfunction L39 takes nothing returns nothinglocal unit X97=GetAttacker()local unit U47=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0DZ')local boolean L69=N77(GetHandleId(X97),"Backstab|Free")local real d=RAbsBJ(GetUnitFacing(U47)-GetUnitFacing(X97))if d>180 thenset d=360-dendifif d<=105 or L69 thencall ME7(GetHandleId(X97),"Backstab|Free",false)if GetUnitAbilityLevel(U47,'A04R')==0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",U47,"chest"))call ZO7(X97,U47,Y94,GetHeroAgi(X97,true)*(0.25*ZN7+0.25))endifendifset X97=nullset U47=nullendfunctionfunction LL9 takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A0DZ')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false thencall L39()endifreturn falseendfunctionfunction DO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function LL9))set t=nullendfunctionfunction L19 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit oA=CreateUnit(GetOwningPlayer(TX7),'e003',x,y,0)local integer SR7=GetUnitAbilityLevel(TX7,'A0RG')local real vr=(83+17*SR7)*0.01call SetUnitVertexColor(oA,255,255,255,150)call UnitApplyTimedLife(oA,'BTLF',6)call SetUnitScale(oA,vr,vr,vr)if R47(GetOwningPlayer(TX7))thencall UW7(oA,'A019')call SetUnitAbilityLevel(oA,'A019',SR7)elsecall UW7(oA,'A0E7')call SetUnitAbilityLevel(oA,'A0E7',SR7)endifcall IssuePointOrder(oA,"cloudoffog",x,y)call RemoveLocation(l)set TX7=nullset l=nullset oA=nullendfunctionfunction L09 takes nothing returns booleanif GetSpellAbilityId()=='A0RG' thencall L19()endifreturn falseendfunctionfunction DP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L09))set t=nullendfunctionfunction L59 takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real V37=30*GetUnitAbilityLevel(p5,'A0K9')local trigger tlocal integer NO7local real x=GetUnitX(m5)-75*Cos(GetUnitFacing(m5)*bj_DEGTORAD)local real y=GetUnitY(m5)-75*Sin(GetUnitFacing(m5)*bj_DEGTORAD)call SetUnitX(p5,x)call SetUnitY(p5,y)call SetUnitFacing(p5,GetUnitFacing(m5))call DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",x,y))if IsUnitEnemy(m5,GetOwningPlayer(p5))thencall ZO7(p5,m5,Y84,V37)call ME7(GetHandleId(p5),"Backstab|Free",true)call IssueTargetOrder(p5,"attack",m5)if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)thencall I17(0.01)call IssueTargetOrder(p5,"attack",m5)endifendifset p5=nullset m5=nullset t=nullendfunctionfunction L29 takes nothing returns booleanif GetSpellAbilityId()=='A0K9' thencall L59()endifreturn falseendfunctionfunction L_9 takes nothing returns booleanif GetSpellAbilityId()=='A0K9' thencall DestroyEffect(AddSpecialEffect("war3mapImported\\BlinkStrike.mdx",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifreturn falseendfunctionfunction DQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function L29))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function L_9))set t=nullendfunctionfunction D4D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call SetUnitAnimationByIndex(X97,8)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction D7D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SetUnitAnimationByIndex(X97,7)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function D4D))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction D8D takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())=='N0M0' thencall D7D()endifreturn falseendfunctionfunction KL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function D8D))set t=nullendfunctionfunction D9D takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call ZO7(RE4,GetEnumUnit(),Y84,RF4)endfunctionfunction DDD takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer DED=GetHandleId(t2)local trigger t1=M37(DED,"t1")local integer DFD=GetHandleId(t1)local unit DGD=MZ7(DED,"Remnant")local group glocal integer ZN7=M_7(DED,"Level")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall ShowUnit(DGD,false)call KillUnit(DGD)call K_7(DFD)call NM7(t1)call K_7(DED)call NM7(t2)elseif IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(DGD))==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 thenset g=TL7()set I04=DGDset RE4=DGDset RF4=100+40*ZN7call GroupEnumUnitsInRange(g,GetUnitX(DGD),GetUnitY(DGD),285,Condition(function Y47))call ForGroup(g,function D9D)call T67(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(DGD),GetUnitY(DGD)))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetUnitX(DGD),GetUnitY(DGD)))call ShowUnit(DGD,false)call KillUnit(DGD)call K_7(DFD)call NM7(t1)call K_7(DED)call NM7(t2)endifset t1=nullset t2=nullset DGD=nullset g=nullreturn falseendfunctionfunction DHD takes nothing returns booleanlocal trigger t1=GetTriggeringTrigger()local integer DID=GetHandleId(t1)local trigger t2local integer RD9local unit DJDlocal integer SR7local real x=N47(DID,"x")local real y=N47(DID,"y")local real DKDlocal integer RU8=GetTriggerEvalCount(t1)if RU8==1 thencall DestroyEffect(ML7(DID,"FX1"))elseif RU8==2 thencall DestroyEffect(ML7(DID,"FX2"))set t2=CreateTrigger()set RD9=GetHandleId(t2)set SR7=M_7(DID,"Level")set DKD=N47(DID,"Facing")set DJD=CreateUnit(GetOwningPlayer(MZ7(DID,"Source")),'h07F',x,y,DKD)call SetUnitVertexColor(DJD,255,255,255,100)call UnitApplyTimedLife(DJD,'BTLF',12)call MF7(DID,"Remnant",DJD)call MF7(RD9,"Remnant",DJD)call MH7(RD9,"t1",t1)call M87(RD9,"Level",SR7)call TriggerRegisterUnitInRange(t2,DJD,235,Condition(function Q37))call TriggerRegisterUnitEvent(t2,DJD,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function DDD))call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",DJD,"origin"))elseif RU8>2 thenset DJD=MZ7(DID,"Remnant")call DestroyEffect(AddSpecialEffectTarget("effects\\ManaFlareBoltImpact_NoSound.mdx",DJD,"origin"))endifset t1=nullset t2=nullset DJD=nullreturn falseendfunctionfunction DMD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t1=CreateTrigger()local integer DID=GetHandleId(t1)local real x=GetUnitX(p5)local real y=GetUnitY(p5)call TriggerRegisterTimerEvent(t1,0.5,true)call TriggerAddCondition(t1,Condition(function DHD))call M97(DID,"x",(x)*1.0)call M97(DID,"y",(y)*1.0)call M87(DID,"Level",GetUnitAbilityLevel(p5,'A14P'))call MF7(DID,"Source",p5)call M97(DID,"Facing",GetUnitFacing(p5)*1.0)call MG7(DID,"FX1",AddSpecialEffect("Abilities\\Spells\\Orc\\LightningShield\\LightningShieldTarget.mdl",x,y))call MG7(DID,"FX2",AddSpecialEffect("effects\\Static_Remnant_FX.mdx",x,y))set p5=nullset t1=nullendfunctionfunction DND takes nothing returns booleanif GetSpellAbilityId()=='A14P' thencall DMD()endifreturn falseendfunctionfunction I78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DND))set t=nullendfunctionfunction DOD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real RK=N47(NO7,"Angle")local real x=GetUnitX(m5)-5*Cos(RK)local real y=GetUnitY(m5)-5*Sin(RK)local integer SR7=M_7(NO7,"Level")local real DPD=N47(NO7,"x")local real DQD=N47(NO7,"y")if((DPD-x)*(DPD-x))+((DQD-y)*(DQD-y))<100 thenset x=DPDset y=DQDendifcall SetUnitX(m5,x)call SetUnitY(m5,y)if GetTriggerEvalCount(t)==(10+10*SR7)thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction DRD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit oA=CreateUnit(GetOwningPlayer(p5),'u00X',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))local integer SR7=GetUnitAbilityLevel(p5,'A14R')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function DOD))call MF7(NO7,"Target",m5)call M97(NO7,"Angle",Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5)))call M87(NO7,"Level",SR7)call M97(NO7,"x",GetUnitX(p5))call M97(NO7,"y",GetUnitY(p5))call UW7(oA,'A14Q')call SetUnitAbilityLevel(oA,'A14Q',SR7)call IssueTargetOrder(oA,"magicleash",m5)if not R97(GetOwningPlayer(p5))thencall UnitApplyTimedLife(oA,'BTLF',0.5+0.5*SR7)endifset oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call UW7(oA,'A14S')call IssueTargetOrder(oA,"slow",p5)set p5=nullset m5=nullset oA=nullset t=nullendfunctionfunction DSD takes nothing returns booleanif GetSpellAbilityId()=='A14R' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and T37(GetSpellTargetUnit())==false thencall DRD()endifreturn falseendfunctionfunction I88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DSD))set t=nullendfunctionfunction DTD takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(FZ),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(oA,'A0S5')call IssueTargetOrder(oA,"slow",GetEnumUnit())call ZO7(FZ,GetEnumUnit(),Y84,gZ)set oA=nullendfunctionfunction DUD takes unit p5,unit m5 returns nothinglocal integer NO7=GetHandleId(p5)local group g=TL7()call DestroyEffect(ML7(NO7,"OverloadFX1"))call DestroyEffect(ML7(NO7,"OverloadFX2"))call NJ7(p5,"OverloadActive")set I04=p5set FZ=p5set gZ=GetUnitAbilityLevel(p5,'A0QW')*20+10call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),300,Condition(function Y47))call ForGroup(g,function DTD)call T67(g)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\Thunderclap\\ThunderClapCaster.mdl",GetUnitX(m5),GetUnitY(m5)))set g=nullendfunctionfunction DVD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and NF7(p5,"OverloadActive")thencall DisableTrigger(t)call DUD(p5,m5)call K_7(NO7)call NM7(t)endifelsecall K_7(NO7)call NM7(t)endifset t=nullset m5=nullset p5=nullreturn falseendfunctionfunction DWD takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddCondition(t,Condition(function DVD))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)set t=nullset m5=nullset p5=nullendfunctionfunction DXD takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A0QW')>0 and NF7(GetAttacker(),"OverloadActive")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false thencall DWD()endifreturn falseendfunctionfunction DYD takes nothing returns nothinglocal trigger t=CreateTrigger()local unit p5=GetTriggerUnit()local integer NO7=GetHandleId(p5)local string fx=""if IsUnitAlly(p5,GetLocalPlayer())or TV7(GetLocalPlayer())thenset fx="Abilities\\Weapons\\FarseerMissile\\FarseerMissile.mdl"endifcall MG7(NO7,"OverloadFX1",AddSpecialEffectTarget(fx,p5,"right hand"))call MG7(NO7,"OverloadFX2",AddSpecialEffectTarget(fx,p5,"left hand"))set t=nullset p5=nullendfunctionfunction DZD takes nothing returns booleanif((GetSpellAbilityId()=='A14O' or GetSpellAbilityId()=='A14P' or GetSpellAbilityId()=='A14R')or(GetUnitPointValue(GetTriggerUnit())==500)and SJ7(GetSpellAbilityId()))and NF7(GetTriggerUnit(),"OverloadActive")==false thencall NH7(GetTriggerUnit(),"OverloadActive")call DYD()endifreturn falseendfunctionfunction DAD takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DZD))if R99 thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function DXD))if R99 thenset Aj[GetPlayerId(GetOwningPlayer(p5))]=tendifset p5=nullset t=nullendfunctionfunction DBD takes nothing returns booleanif GetLearnedSkill()=='A0QW' and GetUnitAbilityLevel(GetTriggerUnit(),'A0QW')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall DAD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction I98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function DBD))set t=nullendfunctionfunction DCD takes nothing returns nothingif(LoadBoolean(C7,jZ,GetHandleId(GetEnumUnit()))==false)thencall SaveBoolean(C7,jZ,GetHandleId(GetEnumUnit()),true)call ZO7(LZ,GetEnumUnit(),Y84,mZ*(JZ*4+4)/ 100)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetEnumUnit(),"origin"))endifendfunctionfunction D3D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SR7=M_7(NO7,"Level")local unit oA=MZ7(NO7,"Caster")local unit p5=MZ7(NO7,"Source")local unit D6D=MZ7(NO7,"Fake")local integer u3=M_7(NO7,"Remaining")local real hN=N47(NO7,"x")local real ho=N47(NO7,"y")local real u4=GetUnitX(p5)local real u5=GetUnitY(p5)local real RK=Atan2(ho-u5,hN-u4)local real Il=u4+(25+25*SR7)*Cos(RK)local real IL=u5+(25+25*SR7)*Sin(RK)local lightning IF9=M17(NO7,"Light")local real DLD=N47(NO7,"lx")local real D1D=N47(NO7,"ly")local real P68=GetUnitState(p5,UNIT_STATE_MANA)local real D0D=(25+25*SR7)*(10+0.01*GetUnitState(p5,UNIT_STATE_MAX_MANA))/ 100local group g=TL7()local real D5D=N47(NO7,"Traveled")set D5D=D5D+25+25*SR7call M97(NO7,"Traveled",D5D)if GetTriggerEvalCount(t)>25 thenset DLD=DLD+(25+25*SR7)*Cos(RK)set D1D=D1D+(25+25*SR7)*Sin(RK)call M97(NO7,"lx",DLD)call M97(NO7,"ly",D1D)endifcall SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(P68-D0D,0))call MoveLightning(IF9,true,DLD,D1D,Il,IL)call SetUnitX(p5,Il)call SetUnitY(p5,IL)call SetUnitPosition(oA,Il,IL)call SetUnitPosition(D6D,Il,IL)set I04=p5set LZ=p5set jZ=NO7set JZ=SR7set mZ=D5Dcall GroupEnumUnitsInRange(g,Il,IL,75+75*SR7,Condition(function Y47))call ForGroup(g,function DCD)call T67(g)set u3=u3-1call M87(NO7,"Remaining",u3)call SetUnitVertexColor(p5,255,255,255,0)if u3==0 or GetUnitState(p5,UNIT_STATE_MANA)<1 thencall DestroyLightning(IF9)call WK7(Il,IL,75)call DestroyEffect(ML7(NO7,"FX"))call RemoveUnit(oA)call RemoveUnit(D6D)call SetUnitVertexColor(p5,255,255,255,255)call SetUnitPathing(p5,true)call SetUnitInvulnerable(p5,false)call K_7(NO7)call NM7(t)elsecall WK7(Il,IL,75)endifset t=nullset oA=nullset p5=nullset IF9=nullset g=nullset D6D=nullreturn falseendfunctionfunction D2D takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real iN=GetUnitX(p5)local real io=GetUnitY(p5)local unit oAlocal unit D6Dlocal location llocal real xlocal real ylocal trigger tlocal integer NO7local lightning IF9local integer SR7=GetUnitAbilityLevel(p5,'A14O')local real P68=GetUnitState(p5,UNIT_STATE_MANA)local real D0D=15+0.07*GetUnitState(p5,UNIT_STATE_MAX_MANA)call SetUnitState(p5,UNIT_STATE_MANA,RMaxBJ(P68-D0D,0))if GetUnitState(p5,UNIT_STATE_MANA)>10 thenset t=CreateTrigger()set NO7=GetHandleId(t)set oA=CreateUnit(GetOwningPlayer(p5),'o010',iN,io,0)set D6D=CreateUnit(GetOwningPlayer(p5),'H07G',iN,io,0)set IF9=AddLightning("FORK",true,iN,io,iN,io)if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)elseset x=GetUnitX(GetSpellTargetUnit())set y=GetUnitY(GetSpellTargetUnit())endifcall SetUnitVertexColor(p5,255,255,255,0)call SetUnitVertexColor(D6D,255,255,255,0)call SetUnitPathing(p5,false)call SetUnitPathing(oA,false)call SetUnitInvulnerable(p5,true)call MF7(NO7,"Caster",oA)call MF7(NO7,"Source",p5)call MF7(NO7,"Fake",D6D)call MI7(NO7,"Light",IF9)call M87(NO7,"Level",SR7)call M97(NO7,"x",x)call M97(NO7,"y",y)call M97(NO7,"lx",iN)call M97(NO7,"ly",io)call M97(NO7,"Traveled",0)call M87(NO7,"Remaining",VZ7(R2I(SquareRoot((x-iN)*(x-iN)+(y-io)*(y-io))/(25+25*SR7)),1))call MG7(NO7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",D6D,"origin"))call TriggerRegisterTimerEvent(t,0.04,true)call TriggerAddCondition(t,Condition(function D3D))call ShowUnit(p5,false)call ShowUnit(p5,true)call SelectUnitAddForPlayer(p5,GetOwningPlayer(p5))endifset p5=nullset oA=nullset D6D=nullset l=nullset t=nullset IF9=nullendfunctionfunction D_D takes nothing returns booleanif GetSpellAbilityId()=='A14O' thencall D2D()endifreturn falseendfunctionfunction E4D takes nothing returns booleanif GetSpellAbilityId()=='A14O' thenif GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)<(15+0.07*GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_MANA))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0G8'))endifendifreturn falseendfunctionfunction ID8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D_D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function E4D))set t=nullendfunctionfunction E7D takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))endfunctionfunction E8D takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())=='H00S' thencall E7D()endifreturn falseendfunctionfunction IE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function E8D))set t=nullendfunctionfunction E9D takes nothing returns nothinglocal integer NO7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local unit EDD=MZ7(NO7,"BearItemHolder")local unit EED=MZ7(NO7,"MyBear")if EDD!=null and W==false and RJ4==false thencall UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,0))call UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,1))call UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,2))call UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,3))call UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,4))call UnitAddItem(EED,UnitRemoveItemFromSlot(EDD,5))endifset EDD=nullset EED=nullendfunctionfunction EFD takes nothing returns booleanreturn GetSpellAbilityId()=='A0A5'endfunctionfunction EGD takes nothing returns booleanif UY7(GetFilterUnit())thenreturn falseendifif((GetUnitTypeId(GetFilterUnit())=='n01G'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n01C'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n018'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n004'))thenreturn trueendifreturn falseendfunctionfunction HGv takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local player j8=GetOwningPlayer(TX7)local location AK8=GetUnitLoc(TX7)local boolexpr EHD=Condition(function EGD)local group B47=TL7()local integer SR7=GetUnitAbilityLevel(TX7,'A0A5')local integer NO7=GetHandleId(j8)local boolean EIDcall GroupEnumUnitsOfPlayer(B47,GetOwningPlayer(TX7),EHD)set EID=CountUnitsInGroup(B47)==0if EID==false thencall JN7(TX7)call VH7(j8,(GetObjectName(('n03M'))))endifcall T67(B47)call RemoveLocation(AK8)call DestroyBoolExpr(EHD)set TX7=nullset j8=nullset B47=nullset EHD=nullset AK8=nullendfunctionfunction EJD takes nothing returns booleanif((GetUnitTypeId(GetFilterUnit())=='n01G'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n01C'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n018'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n004'))thenreturn trueendifreturn falseendfunctionfunction EKD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit EEDlocal unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),0)local integer SR7=GetUnitAbilityLevel(p5,GetSpellAbilityId())local group g=TL7()call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(p5),Condition(function EJD))set EED=FirstOfGroup(g)call T67(g)if GetSpellAbilityId()=='A1EF' thencall UW7(ZM7,'A0AA')call SetUnitAbilityLevel(ZM7,'A0AA',SR7)elseif GetSpellAbilityId()=='A1EE' thencall UW7(ZM7,'A0AB')call SetUnitAbilityLevel(ZM7,'A0AB',SR7)elseif GetSpellAbilityId()=='A1EH' thencall UW7(ZM7,'A0AC')call SetUnitAbilityLevel(ZM7,'A0AC',SR7)elseif GetSpellAbilityId()=='A1EI' thencall UW7(ZM7,'A0AD')call SetUnitAbilityLevel(ZM7,'A0AD',SR7)elseif GetSpellAbilityId()=='A1EG' thencall UW7(ZM7,'A0AE')call SetUnitAbilityLevel(ZM7,'A0AE',SR7)endifcall IssueTargetOrder(ZM7,"bloodlust",p5)if EED!=null and UY7(EED)==false thencall IssueTargetOrder(ZM7,"bloodlust",EED)endifset g=nullset p5=nullset EED=nullset ZM7=nullendfunctionfunction EMD takes nothing returns booleanif GetSpellAbilityId()=='A1EF' or GetSpellAbilityId()=='A1EE' or GetSpellAbilityId()=='A1EH' or GetSpellAbilityId()=='A1EI' or GetSpellAbilityId()=='A1EG' thencall EKD()endifreturn falseendfunctionfunction DR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EMD))set t=nullendfunctionfunction END takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit W88=(LoadUnitHandle(C7,(V_7),(2)))local real EODif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and R77(GetOwningPlayer(GetEventDamageSource()))thencall SaveReal(C7,(V_7),(714),(((TimerGetElapsed(P)))*1.0))endifendifset EOD=(LoadReal(C7,(V_7),(714)))if EOD+3<(TimerGetElapsed(P))thenif(LoadInteger(C7,(V_7),(34)))==2 thencall SaveInteger(C7,(V_7),(34),(1))call SetPlayerAbilityAvailable(GetOwningPlayer(W88),'A0A7',true)endifelseif(LoadInteger(C7,(V_7),(34)))==1 thencall SaveInteger(C7,(V_7),(34),(2))call SetPlayerAbilityAvailable(GetOwningPlayer(W88),'A0A7',false)endifendifset t=nullset W88=nullreturn falseendfunctionfunction EPD takes unit W88 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerRegisterUnitEvent(t,W88,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,W88,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function END))call SaveUnitHandle(C7,(V_7),(2),(W88))call SaveReal(C7,(V_7),(714),((0)*1.0))call SaveInteger(C7,(V_7),(34),(1))call SetPlayerAbilityAvailable(GetOwningPlayer(W88),'A0A7',true)set t=nullendfunctionfunction EQD takes nothing returns nothinglocal unit OS9=GetTriggerUnit()local player j8=GetOwningPlayer(OS9)local location UM8=GetUnitLoc(OS9)local boolexpr EHD=Condition(function EGD)local group R_9=TL7()local integer ZN7=GetUnitAbilityLevel(OS9,'A0A5')local integer V_7=GetHandleId(j8)local boolean EIDlocal unit W88call GroupEnumUnitsOfPlayer(R_9,GetOwningPlayer(OS9),EHD)set EID=CountUnitsInGroup(R_9)==0if(ZN7==1 and EID)thencall CreateNUnitsAtLoc(1,'n004',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call MF7(V_7,"MyBear",bj_lastCreatedUnit)call E9D()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif(ZN7==2 and EID)thencall CreateNUnitsAtLoc(1,'n018',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call MF7(V_7,"MyBear",bj_lastCreatedUnit)call E9D()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif(ZN7==3 and EID)thencall CreateNUnitsAtLoc(1,'n01C',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call MF7(V_7,"MyBear",bj_lastCreatedUnit)call E9D()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif(ZN7==4 and EID)thencall CreateNUnitsAtLoc(1,'n01G',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call MF7(V_7,"MyBear",bj_lastCreatedUnit)call E9D()call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif EID==false thenset W88=FirstOfGroup(R_9)call AddSpecialEffectTargetUnitBJ("chest",W88,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call SetUnitState(W88,UNIT_STATE_LIFE,GetUnitState(W88,UNIT_STATE_MAX_LIFE))call SetUnitPosition(W88,GetUnitX(OS9),GetUnitY(OS9))set W88=nullendifcall SetUnitAbilityLevel(bj_lastCreatedUnit,'A09Y',ZN7)call T67(R_9)call RemoveLocation(UM8)call DestroyBoolExpr(EHD)set EHD=nullset OS9=nullset j8=nullset UM8=nullset R_9=nullset W88=nullendfunctionfunction DT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EFD))call TriggerAddAction(t,function EQD)set t=nullendfunctionfunction ERD takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B0C1')>0endfunctionfunction ESD takes nothing returns nothingcall ZO7(D2,GetEnumUnit(),Y94,30)endfunctionfunction ETD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit EUD=MZ7(NO7,"Bear")local group g=TL7()set I04=EUDset D2=EUDcall GroupEnumUnitsInRange(g,GetUnitX(EUD),GetUnitY(EUD),2000,Condition(function ERD))call ForGroup(g,function ESD)call T67(g)set t=nullset g=nullset EUD=nullreturn falseendfunctionfunction EVD takes nothing returns nothinglocal unit EUD=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function ETD))call MF7(NO7,"Bear",EUD)set EUD=nullset t=nullendfunctionfunction VF takes nothing returns booleanreturn GetLearnedSkill()=='A0A5'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction Vg takes nothing returns booleanif UY7(GetFilterUnit())thenreturn falseendifif((GetUnitTypeId(GetFilterUnit())=='n01C'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n018'))thenreturn trueendifif((GetUnitTypeId(GetFilterUnit())=='n004'))thenreturn trueendifreturn falseendfunctionfunction EWD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local player j8=GetOwningPlayer(TX7)local location UM8=GetUnitLoc(TX7)local boolexpr hP=Condition(function Vg)local group B47=TL7()local integer ZN7=GetUnitAbilityLevel(TX7,'A0A5')local integer V_7=GetHandleId(j8)local integer Vhlocal unit W88local real VW9call GroupEnumUnitsOfPlayer(B47,GetOwningPlayer(TX7),hP)call DestroyBoolExpr(hP)if(ZN7==1)thencall EVD()endifset Vh=CountUnitsInGroup(B47)if(Vh==1)thenset W88=FirstOfGroup(B47)set VW9=GetUnitLifePercent(W88)set UM8=GetUnitLoc(W88)call ShowUnit(W88,false)call KillUnit(W88)if(ZN7==2)thencall CreateNUnitsAtLoc(1,'n018',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif(ZN7==3)thencall CreateNUnitsAtLoc(1,'n01C',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)elseif(ZN7==4)thencall CreateNUnitsAtLoc(1,'n01G',GetOwningPlayer(GetTriggerUnit()),UM8,bj_UNIT_FACING)call AddSpecialEffectTargetUnitBJ("chest",bj_lastCreatedUnit,"Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl")call EPD(bj_lastCreatedUnit)endifcall SetUnitLifePercentBJ(bj_lastCreatedUnit,VW9)call MF7(V_7,"MyBear",bj_lastCreatedUnit)call E9D()endifcall T67(B47)set TX7=nullset j8=nullset UM8=nullset hP=nullset B47=nullset W88=nullendfunctionfunction DV8 takes nothing returns nothingset dZ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(dZ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(dZ,Condition(function VF))call TriggerAddAction(dZ,function EWD)endfunctionfunction EXD takes nothing returns booleanreturn GetUnitTypeId(GetAttacker())=='n01G'or GetUnitTypeId(GetAttacker())=='n01C'or GetUnitTypeId(GetAttacker())=='n018'or GetUnitTypeId(GetAttacker())=='n004'endfunctionfunction EYD takes nothing returns nothinglocal unit VD=GetAttacker()local unit VI=G7[GetPlayerId(GetOwningPlayer(VD))]if((GetUnitX(VI)-GetUnitX(VD))*(GetUnitX(VI)-GetUnitX(VD))+(GetUnitY(VI)-GetUnitY(VD))*(GetUnitY(VI)-GetUnitY(VD))>=(1210000))thencall IssueImmediateOrder(VD,"stop")elseif(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)thenif((GetHeroLevel(VI)<12)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>150.)and((GetOwningPlayer(GetTriggerUnit())==Y7[0])or(GetOwningPlayer(GetTriggerUnit())==Z7[0]))and(eY[GetPlayerId(GetOwningPlayer(GetAttacker()))]==1)and(Bz>hq[240+GetPlayerId(GetOwningPlayer(GetAttacker()))]))thencall TriggerSleepAction(0.1)call jW(GetAttacker(),851986,h9[GetPlayerId(GetOwningPlayer(GetAttacker()))])endifendifset VD=nullset VI=nullendfunctionfunction DS8 takes nothing returns nothingset d0=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d0,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(d0,Condition(function EXD))call TriggerAddAction(d0,function EYD)endfunctionfunction EZD takes nothing returns booleanreturn GetSpellAbilityId()=='A0A7'endfunctionfunction EAD takes nothing returns nothinglocal unit VD=GetTriggerUnit()local unit VI=G7[GetPlayerId(GetOwningPlayer(VD))]call SetUnitX(VD,GetUnitX(VI)+GetRandomReal(25,50)*Cos(GetRandomReal(0,360)))call SetUnitY(VD,GetUnitY(VI)+GetRandomReal(25,50)*Sin(GetRandomReal(0,360)))set VD=nullset VI=nullendfunctionfunction DU8 takes nothing returns nothingset IS4=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IS4,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(IS4,Condition(function EZD))call TriggerAddAction(IS4,function EAD)endfunctionfunction EBD takes nothing returns booleanreturn GetLearnedSkill()=='A0A8'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction ECD takes nothing returns nothingcall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R000',GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),'R000',true)+1)call SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'R001',GetPlayerTechCount(GetOwningPlayer(GetTriggerUnit()),'R001',true)+1)endfunctionfunction qb takes nothing returns nothingset IT4=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IT4,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(IT4,Condition(function EBD))call TriggerAddAction(IT4,function ECD)endfunctionfunction E3D takes item JW7 returns booleanreturn JU7(JW7)==D84 or JU7(JW7)==D94 or JU7(JW7)==AV or JU7(JW7)==BVendfunctionfunction E6D takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='n01G' or GetUnitTypeId(GetTriggerUnit())=='n01C' or GetUnitTypeId(GetTriggerUnit())=='n018' or GetUnitTypeId(GetTriggerUnit())=='n004')and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction ELD takes nothing returns nothinglocal location E1Dif Q_7(GetOwningPlayer(GetTriggerUnit()))thenset E1D=GetRectCenter(Z9)elseset E1D=GetRectCenter(Y9)endifif E3D(GetEnumItem())==false thencall SetItemPositionLoc(GetEnumItem(),E1D)endifcall RemoveLocation(E1D)set E1D=nullendfunctionfunction E0D takes nothing returns nothinglocal integer NO7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local unit m7=MZ7(NO7,"BearItemHolder")local unit VD=MZ7(NO7,"MyBear")local integer xlocal integer yif m7==null thenif Q_7(GetOwningPlayer(VD))thenset x=-6390set y=-5615elseset x=5875set y=5000endifset m7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e01F',x,y,0)call MF7(NO7,"BearItemHolder",m7)endifif E3D(GetEnumItem())==false thencall UnitAddItem(m7,GetEnumItem())endifcall ShowUnit(m7,true)set m7=nullset VD=nullendfunctionfunction VL takes nothing returns nothinglocal integer VX8=JU7(GetEnumItem())if GetWidgetLife(GetEnumItem())>0 and VX8!=T5 thenif W==true or RJ4==true thencall ELD()elsecall E0D()endifelseendifendfunctionfunction E5D takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local rect E2D=RectFromCenterSizeBJ(Mk,400.00,400.00)local unit VI=G7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]call SetHeroXP(VI,(GetHeroXP(VI)-(GetHeroXP(VI)/(125-(25*GetUnitAbilityLevel(VI,'A0A5'))))),false)call UnitDamageTargetBJ(GetKillingUnit(),VI,(100.00*I2R(GetUnitAbilityLevel(VI,'A0A5'))),ATTACK_TYPE_NORMAL,DAMAGE_TYPE_NORMAL)call EnumItemsInRectBJ(E2D,function VL)call RemoveLocation(Mk)call RemoveRect(E2D)set Mk=nullset VI=nullset E2D=nullendfunctionfunction qB takes nothing returns nothingset d3=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d3,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(d3,Condition(function E6D))call TriggerAddAction(d3,function E5D)endfunctionfunction E_D takes nothing returns booleanreturn(GetUnitTypeId(GetTriggerUnit())=='N013'or GetUnitTypeId(GetTriggerUnit())=='N01O'or GetUnitTypeId(GetTriggerUnit())=='N015'or GetUnitTypeId(GetTriggerUnit())=='N014')and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction F4D takes nothing returns nothinglocal unit VD=MZ7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MyBear")call KillUnit(VD)set VD=nullendfunctionfunction qc takes nothing returns nothingset d4=CreateTrigger()call ky(d4,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(d4,Condition(function E_D))call TriggerAddAction(d4,function F4D)endfunctionfunction F7D takes nothing returns booleanreturn(GetLearnedSkill()=='A0AK' or GetLearnedSkill()=='A1FY')and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction F8D takes nothing returns nothingif(GetUnitAbilityLevel(GetTriggerUnit(),'A0AK')==1 or GetUnitAbilityLevel(GetTriggerUnit(),'A1FY')==1)thencall UW7(GetTriggerUnit(),'A1WF')endifendfunctionfunction qC takes nothing returns nothingset d5=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d5,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(d5,Condition(function F7D))call TriggerAddAction(d5,function F8D)endfunctionfunction F9D takes nothing returns booleanif(GetSpellAbilityId()=='A0AM' or GetSpellAbilityId()=='A0A3' or GetSpellAbilityId()=='A0A4' or GetSpellAbilityId()=='A02T' or GetSpellAbilityId()=='A1FZ' or GetSpellAbilityId()=='A1WF')thenreturn trueelseif GetSpellAbilityId()=='A0AK' or GetSpellAbilityId()=='A1FY' thenif GetUnitAbilityLevel(GetTriggerUnit(),'A1WF')==0 thencall UW7(GetTriggerUnit(),'A1WF')endifendifreturn falseendfunctionfunction FDD takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0))endfunctionfunction FED takes nothing returns nothingcall IssueImmediateOrderById(GetEnumUnit(),852556)endfunctionfunction Vq takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),300.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction VQ takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),450.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction Vr takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),600.,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction FFD takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetEnumUnit(),750.00,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE)endfunctionfunction FGD takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==WG4 and GetUnitTypeId(GetFilterUnit())==WF4 and UY7(GetFilterUnit())==falseendfunctionfunction FHD takes player p,integer SN7,real x,real y returns nothinglocal group g=TL7()set WG4=pset WF4=SN7call GroupEnumUnitsInRange(g,x,y,716,Condition(function FGD))call ForGroup(g,function FED)call T67(g)set g=nullendfunctionfunction FID takes nothing returns nothinglocal real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local group B47call DisableTrigger(IU4)set V0=trueif(GetSpellAbilityId()=='A0AM')thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call WP7(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,425,Condition(function FDD))call ForGroup(B47,function Vq)call RemoveUnit(GetTriggerUnit())call T67(B47)elseif(GetSpellAbilityId()=='A0A3')thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call WP7(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,435,Condition(function FDD))call ForGroup(B47,function VQ)call RemoveUnit(GetTriggerUnit())call T67(B47)elseif(GetSpellAbilityId()=='A0A4')thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call WP7(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,450,Condition(function FDD))call ForGroup(B47,function Vr)call RemoveUnit(GetTriggerUnit())call T67(B47)elseif(GetSpellAbilityId()=='A1FZ')thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)call WP7(GetOwningPlayer(GetTriggerUnit()),3,x,y,500)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,450,Condition(function FDD))call ForGroup(B47,function FFD)call RemoveUnit(GetTriggerUnit())call T67(B47)elseif(GetSpellAbilityId()=='A02T')thenset B47=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),'o018')call ForGroup(B47,function FED)call DestroyGroup(B47)set B47=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),'o002')call ForGroup(B47,function FED)call DestroyGroup(B47)set B47=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),'o00B')call ForGroup(B47,function FED)call DestroyGroup(B47)set B47=GetUnitsOfPlayerAndTypeId(GetOwningPlayer(GetTriggerUnit()),'o01B')call ForGroup(B47,function FED)call DestroyGroup(B47)endifif(GetSpellAbilityId()=='A1WF')thenset x=GetSpellTargetX()set y=GetSpellTargetY()call FHD(GetOwningPlayer(GetTriggerUnit()),'o018',x,y)call FHD(GetOwningPlayer(GetTriggerUnit()),'o002',x,y)call FHD(GetOwningPlayer(GetTriggerUnit()),'o00B',x,y)call FHD(GetOwningPlayer(GetTriggerUnit()),'o01B',x,y)endifset V0=falsecall EnableTrigger(IU4)set B47=nullendfunctionfunction FJD takes nothing returns nothinglocal integer id=GetUnitTypeId(GetTriggerUnit())local real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local group B47if id=='o018' thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,425,Condition(function FDD))call ForGroup(B47,function Vq)call T67(B47)endifif id=='o002' thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,435,Condition(function FDD))call ForGroup(B47,function VQ)call T67(B47)endifif id=='o00B' thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,450,Condition(function FDD))call ForGroup(B47,function Vr)call T67(B47)endifif id=='o01B' thencall V27("Abilities\\Spells\\Human\\FlameStrike\\FlameStrike1.mdl",x,y,5)set B47=TL7()call GroupEnumUnitsInRange(B47,x,y,450,Condition(function FDD))call ForGroup(B47,function FFD)call T67(B47)endifset B47=nullendfunctionfunction FKD takes nothing returns booleanlocal integer id=GetUnitTypeId(GetTriggerUnit())if id=='o018' or id=='o002' or id=='o00B' or id=='o01B' thencall FJD()endifreturn falseendfunctionfunction qD takes nothing returns nothinglocal trigger t=CreateTrigger()call II9("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav")call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function FID)call TriggerAddCondition(t,Condition(function F9D))set IU4=CreateTrigger()call WH7(IU4,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(IU4,Condition(function FKD))set t=nullendfunctionfunction FMD takes nothing returns booleanif((GetUnitTypeId(GetTriggerUnit())=='n00O'))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())=='n00P'))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())=='n00Q'))thenreturn trueendifif((GetUnitTypeId(GetTriggerUnit())=='n00N'))thenreturn trueendifif GetUnitTypeId(GetTriggerUnit())=='o018' or GetUnitTypeId(GetTriggerUnit())=='o002' or GetUnitTypeId(GetTriggerUnit())=='o00B' or GetUnitTypeId(GetTriggerUnit())=='o01B' thenif Ab[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]thenendifendifreturn falseendfunctionfunction FND takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit()))and((GetUnitTypeId(GetFilterUnit())=='n00O')or(GetUnitTypeId(GetFilterUnit())=='n00P')or(GetUnitTypeId(GetFilterUnit())=='n00Q')or(GetUnitTypeId(GetFilterUnit())=='n00N')))endfunctionfunction FOD takes rect r,boolexpr FPD returns groupset CB=TL7()call GroupEnumUnitsInRect(CB,r,FPD)call DestroyBoolExpr(FPD)return CBendfunctionfunction FQD takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='H00E' or GetUnitTypeId(GetFilterUnit())=='H00G' or GetUnitTypeId(GetFilterUnit())=='H00F' or GetUnitTypeId(GetFilterUnit())=='E00P' or GetUnitTypeId(GetFilterUnit())=='N00B' or GetUnitTypeId(GetFilterUnit())=='UC60' or GetUnitTypeId(GetFilterUnit())=='EC77' or GetUnitTypeId(GetFilterUnit())=='U00P' or GetUnitTypeId(GetFilterUnit())=='E02N' or GetUnitTypeId(GetFilterUnit())=='E02O' or GetUnitTypeId(GetFilterUnit())=='O016' or GetUnitTypeId(GetFilterUnit())=='O017' or GetUnitTypeId(GetFilterUnit())=='E02F' or GetUnitTypeId(GetFilterUnit())=='H0DO')and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(I04))endfunctionfunction FRD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit FSD=MZ7(V_7,"Mine")local group gif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(AddSpecialEffect("war3mapImported\\NewGroundEX.mdx",GetUnitX(FSD),GetUnitY(FSD)))call K_7(V_7)call NM7(t)elseset g=TL7()set I04=FSDcall GroupEnumUnitsInRange(g,GetUnitX(FSD),GetUnitY(FSD),200,Condition(function FQD))if FirstOfGroup(g)!=null thencall K_7(V_7)call NM7(t)call SetUnitExploded(FSD,true)call KillUnit(FSD)endifcall T67(g)endifset t=nullset FSD=nullset g=nullreturn falseendfunctionfunction FTD takes nothing returns nothinglocal integer V_7=GetHandleId(GetOwningPlayer(GetTriggerUnit()))local group B47=FOD(bj_mapInitialPlayableArea,Condition(function FND))local integer Vu=M_7(V_7,"GMCount")local integer VU=0local unit Vvlocal integer VVlocal unit CR7local integer Vwlocal integer T8local integer U8local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.4,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FRD))call MF7(GetHandleId(t),"Mine",GetTriggerUnit())set Vu=(Vu+1)call StartTimerBJ(MC7(V_7,"MineTimer"+I2S(Vu)),false,15000.00)call MF7(V_7,"GMUnit"+I2S(Vu),GetTriggerUnit())set VU=CountUnitsInGroup(B47)if(VU>20)thenset VV=99999set T8=1set U8=Vuloopexitwhen T8>U8set CR7=MZ7(V_7,"GMUnit"+I2S(T8))set Vw=R2I(TimerGetRemaining(MC7(V_7,"MineTimer"+I2S(T8))))if(GetUnitState(CR7,UNIT_STATE_LIFE)>0 and Vw<VV)thenset Vv=CR7set VV=Vwendifset T8=T8+1endloopcall ExplodeUnitBJ(Vv)elsecall WD7(I2S(VU),1,GetTriggerUnit(),0.027,130,130,130,216)endifcall M87(V_7,"GMCount",Vu)call T67(B47)set t=nullset B47=nullset Vv=nullset CR7=nullendfunctionfunction FUD takes nothing returns booleanif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and(GetUnitTypeId(GetFilterUnit())=='n00O' or GetUnitTypeId(GetFilterUnit())=='n00P' or GetUnitTypeId(GetFilterUnit())=='n00Q' or GetUnitTypeId(GetFilterUnit())=='n00N')thenset n0=n0+1endifreturn falseendfunctionfunction FVD takes nothing returns booleanlocal group g=TL7()set n0=0call GroupEnumUnitsOfPlayer(g,GetTriggerPlayer(),Condition(function FUD))if n0>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n0FC')))+": "+I2S(n0))endifcall T67(g)set g=nullreturn falseendfunctionfunction qe takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function FVD))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function FMD))call TriggerAddAction(t,function FTD)set t=nullendfunctionfunction FWD takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit ZM7=CreateUnit(GetOwningPlayer(T_7),'e00E',GetUnitX(T_7),GetUnitY(T_7),0)local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer i=0local real a=0local real r=0local integer ZN7=GetUnitAbilityLevel(T_7,'A0BQ')call UW7(ZM7,'A05F')call SetUnitAbilityLevel(ZM7,'A05F',ZN7)loopexitwhen i>40exitwhen IssuePointOrder(ZM7,"stampede",x+r*Cos(a),y+r*Sin(a))set i=i+1set a=a+0.4set r=r+10endloopcall RemoveLocation(l)set T_7=nullset ZM7=nullset l=nullendfunctionfunction FXD takes nothing returns booleanif GetSpellAbilityId()=='A0BQ' thencall FWD()endifreturn falseendfunctionfunction DW8 takes nothing returns nothingset d8=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d8,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(d8,Condition(function FXD))endfunctionfunction FYD takes nothing returns booleanreturn GetSpellAbilityId()=='A049' and T37(GetSpellTargetUnit())==falseendfunctionfunction FZD takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetSpellTargetUnit(),GetUnitAbilityLevel(GetTriggerUnit(),'A049')*80,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endfunctionfunction DX8 takes nothing returns nothingset d9=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(d9,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(d9,Condition(function FYD))call TriggerAddAction(d9,function FZD)endfunctionfunction FAD takes unit u returns booleanreturn GetUnitTypeId(u)=='H00F' or GetUnitTypeId(u)=='H00E' or GetUnitTypeId(u)=='H00G' or GetUnitTypeId(u)=='O017'endfunctionfunction FBD takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==true thencall ZO7(IU,GetEnumUnit(),Y84,JU/3)elsecall ZO7(IU,GetEnumUnit(),Y84,JU)endifendfunctionfunction FCD takes unit X97,real x,real y,real r,real d returns nothinglocal group g=TL7()set I04=X97call GroupEnumUnitsInRange(g,x,y,r,Condition(function Y27))set IU=X97set JU=dcall ForGroup(g,function FBD)call T67(g)set g=nullendfunctionfunction F3D takes nothing returns booleanif YJ7()and JS7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit()))thenreturn trueendifreturn falseendfunctionfunction F6D takes unit TX7 returns unitlocal unit p5=nulllocal group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),275,Condition(function F3D))call GroupRemoveUnit(g,TX7)set p5=GroupPickRandomUnit(g)call T67(g)set I04=p5set p5=nullset g=nullreturn I04endfunctionfunction FLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit TX7=MZ7(NO7,"Hero")local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real F1D=N47(NO7,"Tossx0")local real F0D=N47(NO7,"Tossy0")local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetUnitX(m5)local real y2=GetUnitY(m5)local real RKlocal real F5Dlocal real F2Dlocal real F_Dlocal real Illocal real ILlocal location lif J87(F1D,F0D,x2,y2)>1000 thenset x2=F1Dset y2=F0Dendifset RK=W77(x1,y1,x2,y2)set F5D=J87(x1,y1,x2,y2)set F2D=F5D/(51-iX)set F_D=(iX-25)*(iX-25)set Il=x1+F2D*Cos(RK*bj_DEGTORAD)set IL=y1+F2D*Sin(RK*bj_DEGTORAD)if iX<51 thenif FAD(p5)==false thencall SetUnitFlyHeight(p5,775-F_D,0)endifcall SetUnitPosition(p5,Il,IL)elseif FAD(p5)==false thencall SetUnitFlyHeight(p5,GetUnitDefaultFlyHeight(p5),0)endifcall PauseUnit(p5,false)call SetUnitPathing(p5,true)call SetUnitPosition(p5,x2,y2)call NJ7(p5,"Tossed")set l=Location(x2,y2)call TerrainDeformationRippleBJ(0.2,true,l,1.00,300.00,96.00,1,64.00)call RemoveLocation(l)call DestroyEffect(ML7(NO7,"FX"))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(p5),GetUnitY(p5)))if IsUnitAlly(p5,GetOwningPlayer(TX7))thenelseif(KO7((TX7),OU[HG4])!=null)thencall ZO7(TX7,p5,Y84,(0.2+0.15*(GetUnitAbilityLevel(TX7,'A0CY')+1))*75*GetUnitAbilityLevel(TX7,'A0BZ'))elsecall ZO7(TX7,p5,Y84,(0.2+0.15*GetUnitAbilityLevel(TX7,'A0CY'))*75*GetUnitAbilityLevel(TX7,'A0BZ'))endifendifcall WK7(x2,y2,300)call FCD(TX7,x2,y2,300,75*GetUnitAbilityLevel(TX7,'A0BZ'))call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullset p5=nullset m5=nullset l=nullreturn falseendfunctionfunction G4D takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit p5=UK4local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call SetUnitAnimationByIndex(TX7,4)call PauseUnit(p5,true)call SetUnitPathing(p5,false)if FAD(p5)==false thencall UW7(p5,'Amrf')call UnitRemoveAbility(p5,'Amrf')endifcall NH7(p5,"Tossed")call MF7(NO7,"Hero",TX7)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",p5,"origin"))call M97(NO7,"Tossx0",GetUnitX(m5))call M97(NO7,"Tossy0",GetUnitY(m5))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function FLD))set TX7=nullset p5=nullset m5=nullset t=nullendfunctionfunction G7D takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit p5=F6D(TX7)local unit m5=GetSpellTargetUnit()set UK4=p5if p5==null thencall JN7(TX7)call VH7(GetOwningPlayer(TX7),S27('n0DA'))elseif GetOwningPlayer(m5)==GetOwningPlayer(TX7)thencall JN7(TX7)call VH7(GetOwningPlayer(TX7),S27('n0CY'))endifset TX7=nullset p5=nullset m5=nullendfunctionfunction G8D takes nothing returns booleanif GetSpellAbilityId()=='A0BZ' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall G7D()elsecall G4D()endifendifreturn falseendfunctionfunction DB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G8D))set t=nullendfunctionfunction G9D takes nothing returns nothinglocal unit X97=GetTriggerUnit()call IR9('A2KK')endfunctionfunction GDD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local integer S08if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 and GetEventDamage()>20. thenset S08=M_7(GetHandleId(X97),"WarClub_Count")if NF7(X97,"WarClubState")==false thencall NQ7(X97,"WarClubState",.1)call M87(GetHandleId(X97),"WarClub_Count",(S08+1))endifcall FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall FlushChildHashtable(C7,(V_7))call NM7(t)endifset X97=nullset t=nullreturn falseendfunctionfunction GED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer RP7=GetHandleId(t)local unit AE7=MZ7(RP7,"Source")local integer GFD=M_7(GetHandleId(AE7),"WarClub_Count")call M87(RP7,"WarClub_Cooldown",1)call UnitRemoveAbility(AE7,'A1VG')if(KO7(AE7,OU[HG4])!=null)thencall UW7(AE7,'A1VH')endifcall SetPlayerAbilityAvailable(GetOwningPlayer(AE7),'A1VH',true)if GFD>5 thencall FlushChildHashtable(C7,RP7)call NM7(t)endifset AE7=nullset t=nullreturn falseendfunctionfunction GGD takes nothing returns nothinglocal trigger tlocal unit AE7=GetAttacker()local integer RP7=GetHandleId(AE7)local integer GFD=M_7(RP7,"WarClub_Count")if GFD<6 thenif not NF7(AE7,"WarClubState")thenset t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.,false)call TriggerAddCondition(t,Condition(function GDD))call MF7(GetHandleId(t),"Source",AE7)endifelsecall M87(RP7,"WarClub_Count",(0))call UnitRemoveAbility(AE7,'A1W1')if(M_7(RP7,"WarClub_Cooldown"))==1 thenset t=M37(RP7,"WarClub_EndTrig")call FlushChildHashtable(C7,GetHandleId(t))call NM7(t)endifendifset AE7=nullset t=nullendfunctionfunction GHD takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A1W1')>0 thencall GGD()endifreturn falseendfunctionfunction WarClub_Animation takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEvalCount(t)==1 thencall SetUnitTimeScalePercent(X97,250)elsecall SetUnitTimeScalePercent(X97,100)call SetUnitAnimationByIndex(X97,12)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction GID takes nothing returns booleanlocal trigger tif GetSpellAbilityId()=='A1VH' thencall NQ7(GetTriggerUnit(),"WarClubCastState",29.9)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1VH',false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1VG',true)call UW7(GetTriggerUnit(),'A1VG')call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1W1',false)call UW7(GetTriggerUnit(),'A1W1')call IssueTargetOrder(GetTriggerUnit(),"grabtree",GetSpellTargetDestructable())set t=CreateTrigger()call TriggerRegisterTimerEvent(t,30,false)call TriggerAddCondition(t,Condition(function GED))call MF7(GetHandleId(t),"Source",GetTriggerUnit())call MH7(GetHandleId(GetTriggerUnit()),"WarClub_EndTrig",t)call M87(GetHandleId(GetTriggerUnit()),"WarClub_Cooldown",(0))call M87(GetHandleId(GetTriggerUnit()),"WarClub_Count",(0))set t=nullelseif GetSpellAbilityId()=='A2KA' thencall RemoveDestructable(GetSpellTargetDestructable())call ShowUnit(GetTriggerUnit(),false)call ShowUnit(GetTriggerUnit(),true)call UnitRemoveAbility(GetTriggerUnit(),'Aloc')call UnitAddAbility(GetTriggerUnit(),'A2KB')call UnitRemoveAbility(GetTriggerUnit(),'A2KB')call UnitAddAbility(GetTriggerUnit(),'A2KC')call UnitRemoveAbility(GetTriggerUnit(),'A2KC')call AddUnitAnimationProperties(GetTriggerUnit(),"upgrade",false)endifreturn falseendfunctionfunction WarClub_Scan takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if(KO7((X97),OU[HG4])!=null)thenif NF7(X97,"WarClubCastState")==false thenif GetUnitAbilityLevel(X97,'A1VH')==0 and GetUnitAbilityLevel(X97,'A1VG')==0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1VH',true)call UW7(X97,'A1VH')endifendifelsecall UnitRemoveAbility(X97,'A1VH')call UnitRemoveAbility(X97,'A1VG')endifset t=nullset X97=nullreturn falseendfunctionfunction H99 takes nothing returns nothinglocal unit p5=B2local unit m5=C2local unit ZM7=MZ7(GetHandleId(p5),"GrowCaster")call MF7(GetHandleId(m5),"GrowCaster",ZM7)call SetUnitOwner(ZM7,GetOwningPlayer(m5),true)set p5=nullset m5=nullset ZM7=nullendfunctionfunction T58 takes nothing returns nothinglocal unit TX7=J84local unit ZM7=MZ7(GetHandleId(TX7),"GrowCaster")if ZM7!=null and GetUnitTypeId(ZM7)=='e01V' thencall RemoveUnit(ZM7)endifset TX7=nullset ZM7=nullendfunctionfunction GJD takes nothing returns booleanreturn GetLearnedSkill()=='A0CY' and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction GKD takes nothing returns nothinglocal unit GMD=MZ7(GetHandleId(GetTriggeringTrigger()),"Tiny")local integer SR7=GetUnitAbilityLevel(GMD,'A0CY')if GetUnitState(GMD,UNIT_STATE_LIFE)>1 thencall SetUnitScale(GMD,0.5+0.25*SR7,0.5+0.25*SR7,0.5+0.25*SR7)endifset GMD=nullendfunctionfunction GND takes nothing returns booleanlocal integer SR7if IsUnitIllusion(GetTriggerUnit())and(GetUnitTypeId(GetTriggerUnit())=='Ucrl' or GetUnitTypeId(GetTriggerUnit())=='U01X')thenset SR7=GetUnitAbilityLevel(MZ7(GetHandleId(GetTriggeringTrigger()),"Tiny"),'A0CY')call SetUnitScale(GetTriggerUnit(),0.5+0.25*SR7,0.5+0.25*SR7,0.5+0.25*SR7)endifreturn falseendfunctionfunction GOD takes nothing returns nothinglocal trigger tlocal unit GPD=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(GPD,'A0CY')local unit ZM7local unit T_7=GetTriggerUnit()local region GQDif ZN7==1 thenset ZM7=CreateUnit(GetOwningPlayer(T_7),'e01V',0,0,0)call UW7(ZM7,'A10B')call MF7(GetHandleId(T_7),"GrowCaster",ZM7)elseset ZM7=MZ7(GetHandleId(T_7),"GrowCaster")endifif ZN7==2 thencall UnitRemoveAbility(ZM7,'A10B')call UW7(ZM7,'A10A')elseif ZN7==3 thencall UnitRemoveAbility(ZM7,'A10B')call UnitRemoveAbility(ZM7,'A10A')call UW7(ZM7,'A0ZS')endifcall SetPlayerTechResearched(GetOwningPlayer(GPD),'R00E',ZN7)if ZN7==1 thenset t=CreateTrigger()call TriggerAddAction(t,function GKD)call TriggerRegisterTimerEvent(t,2.00,true)call MF7(GetHandleId(t),"Tiny",GPD)call SetUnitScale(GPD,0.5+0.25*ZN7,0.5+0.25*ZN7,0.5+0.25*ZN7)set t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,GetWorldBounds())call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function GND))call MF7(GetHandleId(t),"Tiny",GPD)set t=nullset GQD=nullendifset GPD=nullset T_7=nullset ZM7=nullendfunctionfunction DZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function GJD))call TriggerAddAction(t,function GOD)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GID))call G9D()set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function GHD))set t=nullendfunctionfunction GRD takes nothing returns booleanif NF7(GetFilterUnit(),"Tossed")thencall ZO7(gB,GetFilterUnit(),Y84,lB)endifreturn falseendfunctionfunction GSD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',x,y,0)local integer SR7=GetUnitAbilityLevel(TX7,'A0LL')local group g=TL7()call UW7(oA,'A10J')call SetUnitAbilityLevel(oA,'A10J',SR7)set gB=TX7if SR7==1 thenset lB=25elseif SR7==2 thenset lB=45elseif SR7==3 thenset lB=65elseif SR7==4 thenset lB=75endifcall GroupEnumUnitsInRange(g,x,y,275+24,Condition(function GRD))call T67(g)if GetTriggerEvalCount(t)>6 thencall K_7(NO7)call NM7(t)endifset t=nullset TX7=nullset oA=nullset g=nullreturn falseendfunctionfunction GTD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local location l=GetSpellTargetLoc()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)local integer SR7=GetUnitAbilityLevel(TX7,'A0LL')call UW7(oA,'A10M')call SetUnitAbilityLevel(oA,'A10M',SR7)call IssuePointOrder(oA,"clusterrockets",GetLocationX(l),GetLocationY(l))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function GSD))call MF7(NO7,"Hero",TX7)call M97(NO7,"x",GetLocationX(l))call M97(NO7,"y",GetLocationY(l))call TriggerEvaluate(t)call RemoveLocation(l)set TX7=nullset l=nullset t=nullset oA=nullendfunctionfunction GUD takes nothing returns booleanif GetSpellAbilityId()=='A0LL' thencall GTD()endifreturn falseendfunctionfunction DA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GUD))set t=nullendfunctionfunction GVD takes nothing returns booleanlocal unit X97=GetTriggerUnit()local unit U47=GetAttacker()local integer ZN7=GetUnitAbilityLevel(X97,'A19Q')local unit ZM7if GetRandomInt(1,100)<=ZN7*6 and J77(X97,U47)<325 thenset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A0BV')call SetUnitAbilityLevel(ZM7,'A0BV',ZN7)call IssueTargetOrder(ZM7,"thunderbolt",U47)set ZM7=nullendifset X97=nullset U47=nullreturn falseendfunctionfunction GWD takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function GVD))if R99 thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction GXD takes nothing returns booleanif GetLearnedSkill()=='A19Q' and GetUnitAbilityLevel(GetTriggerUnit(),'A19Q')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall GWD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction DC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function GXD))set t=nullendfunctionfunction GYD takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A0O0')>0 and NF7(GetAttacker(),"BeastRageTrigger")==falseendfunctionfunction GZD takes nothing returns nothinglocal unit GAD=GetAttacker()local unit U47=GetTriggerUnit()local integer V_7=GetHandleId(GAD)local unit GBD=MZ7(V_7,"BeastRage|PreviousTarget")local integer GCD=VZ7(M_7(V_7,"BeastRage|Counter"),0)local integer ZN7=GetUnitAbilityLevel(GAD,'A0O0')if GBD!=U47 thenset GCD=1elseset GCD=VY7(GCD+1,2+ZN7)endifcall VX7(GAD,'A0NZ',GCD)call M87(V_7,"BeastRage|Counter",GCD)call MF7(V_7,"BeastRage|PreviousTarget",U47)call NQ7(GAD,"BeastRageTrigger",.4)set GAD=nullset U47=nullset GBD=nullendfunctionfunction E98 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function GYD))call TriggerAddAction(t,function GZD)call VQ7('A0NZ')set t=nullendfunctionfunction G3D takes unit X97,unit U47,unit ZM7,integer ZN7 returns nothingcall SetUnitOwner(ZM7,GetOwningPlayer(U47),false)call SetUnitAbilityLevel(ZM7,'A21O',ZN7)call IssueTargetOrder(ZM7,"curse",U47)call ZO7(X97,U47,Y84,75+50*ZN7)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",U47,"overhead"))endfunctionfunction G6D takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZJ4)==false thencall GroupAddUnit(ZJ4,GetEnumUnit())call G3D(ZG4,GetEnumUnit(),ZH4,ZK4)endifendfunctionfunction GLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit G1D=(LoadUnitHandle(C7,(V_7),(675)))local unit G0D=(LoadUnitHandle(C7,(V_7),(676)))local real a=(LoadReal(C7,(V_7),(13)))local real d=(LoadReal(C7,(V_7),(433)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local group g=TL7()if GetTriggerEvalCount(t)<=50 thenset a=a+20set d=d+7call SaveReal(C7,(V_7),(13),((a)*1.0))call SaveReal(C7,(V_7),(433),((d)*1.0))elseif GetTriggerEvalCount(t)<=100 thenset a=a+20set d=d-7call SaveReal(C7,(V_7),(13),((a)*1.0))call SaveReal(C7,(V_7),(433),((d)*1.0))endifcall SetUnitX(G1D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(G1D,VM7(y+d*Sin(a*bj_DEGTORAD)))set a=a+180call SetUnitX(G0D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(G0D,VM7(y+d*Sin(a*bj_DEGTORAD)))set I04=X97set ZG4=X97set ZH4=ZM7set ZJ4=AN9set ZK4=ZN7call GroupEnumUnitsInRange(g,GetUnitX(G1D),GetUnitY(G1D),125,Condition(function Y47))call ForGroup(g,function G6D)set I04=X97call GroupEnumUnitsInRange(g,GetUnitX(G0D),GetUnitY(G0D),125,Condition(function Y47))call ForGroup(g,function G6D)call T67(g)if GetTriggerEvalCount(t)>100 thencall KillUnit(G1D)call KillUnit(G0D)call KillUnit(ZM7)call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset G1D=nullset G0D=nullset ZM7=nullreturn falseendfunctionfunction G5D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit G1D=CreateUnit(GetOwningPlayer(X97),'e02Y',x,y,0)local unit G0D=CreateUnit(GetOwningPlayer(X97),'e02Y',x,y,0)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)call UnitAddAbility(ZM7,'A21O')call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveUnitHandle(C7,(V_7),(675),(G1D))call SaveUnitHandle(C7,(V_7),(676),(G0D))call SaveReal(C7,(V_7),(13),((0)*1.0))call SaveReal(C7,(V_7),(433),((0)*1.0))call SaveInteger(C7,(V_7),(5),(GetUnitAbilityLevel(X97,'A21N')))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function GLD))set X97=nullset G1D=nullset G0D=nullset t=nullset ZM7=nullendfunctionfunction G2D takes unit X97,unit U47,unit ZM7,integer ZN7 returns nothingcall SetUnitOwner(ZM7,GetOwningPlayer(U47),false)call SetUnitAbilityLevel(ZM7,'A21P',ZN7)call IssueTargetOrder(ZM7,"slow",U47)call ZO7(X97,U47,Y84,75)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",U47,"overhead"))endfunctionfunction G_D takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZJ4)==false and ZI4!=null and UY7(ZI4)==false thencall GroupAddUnit(ZJ4,GetEnumUnit())call G2D(ZG4,GetEnumUnit(),ZH4,ZK4)endifendfunctionfunction H4D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local unit G1D=(LoadUnitHandle(C7,(V_7),(393)))local unit G0D=(LoadUnitHandle(C7,(V_7),(394)))local unit H7D=(LoadUnitHandle(C7,(V_7),(395)))local unit H8D=(LoadUnitHandle(C7,(V_7),(396)))local unit H9D=(LoadUnitHandle(C7,(V_7),(397)))local real a=(LoadReal(C7,(V_7),(13)))-12.5local real d=(LoadReal(C7,(V_7),(433)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local unit QI9local group glocal group AN9=(LoadGroupHandle(C7,(V_7),(187)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))set d=d+900/20.0call SaveReal(C7,(V_7),(433),((d)*1.0))call SetUnitX(G1D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(G1D,VM7(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(G0D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(G0D,VM7(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(H7D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(H7D,VM7(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(H8D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(H8D,VM7(y+d*Sin(a*bj_DEGTORAD)))set a=a+6.25call SetUnitX(H9D,VK7(x+d*Cos(a*bj_DEGTORAD)))call SetUnitY(H9D,VM7(y+d*Sin(a*bj_DEGTORAD)))set ZG4=X97set ZH4=ZM7set ZJ4=AN9set ZK4=ZN7set QI9=G1Dif QI9!=null and UY7(QI9)==false thenset x=GetUnitX(QI9)set y=GetUnitY(QI9)set ZI4=QI9set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function Y47))call ForGroup(g,function G_D)call T67(g)endifset QI9=G0Dif QI9!=null and UY7(QI9)==false thenset x=GetUnitX(QI9)set y=GetUnitY(QI9)set ZI4=QI9set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function Y47))call ForGroup(g,function G_D)call T67(g)endifset QI9=H7Dif QI9!=null and UY7(QI9)==false thenset x=GetUnitX(QI9)set y=GetUnitY(QI9)set ZI4=QI9set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function Y47))call ForGroup(g,function G_D)call T67(g)endifset QI9=H8Dif QI9!=null and UY7(QI9)==false thenset x=GetUnitX(QI9)set y=GetUnitY(QI9)set ZI4=QI9set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function Y47))call ForGroup(g,function G_D)call T67(g)endifset QI9=H9Dif QI9!=null and UY7(QI9)==false thenset x=GetUnitX(QI9)set y=GetUnitY(QI9)set ZI4=QI9set I04=X97set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function Y47))call ForGroup(g,function G_D)call T67(g)endifif GetTriggerEvalCount(t)>20 thencall KillUnit(G1D)call KillUnit(G0D)call KillUnit(H7D)call KillUnit(H8D)call KillUnit(H9D)call KillUnit(ZM7)call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset G1D=nullset G0D=nullset H7D=nullset H8D=nullset H9D=nullset ZM7=nullreturn falseendfunctionfunction HDD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x0=GetUnitX(X97)local real y0=GetUnitY(X97)local real x1=GetSpellTargetX()local real y1=GetSpellTargetY()local real a=W77(x0,y0,x1,y1)local unit G1D=CreateUnit(GetOwningPlayer(X97),'e02Z',x0,y0,a-12.5)local unit G0D=CreateUnit(GetOwningPlayer(X97),'e02Z',x0,y0,a-6.25)local unit H7D=CreateUnit(GetOwningPlayer(X97),'e02Z',x0,y0,a)local unit H8D=CreateUnit(GetOwningPlayer(X97),'e02Z',x0,y0,a+6.25)local unit H9D=CreateUnit(GetOwningPlayer(X97),'e02Z',x0,y0,a+12.5)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x0,y0,0)call UnitAddAbility(ZM7,'A21P')call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveUnitHandle(C7,(V_7),(393),(G1D))call SaveUnitHandle(C7,(V_7),(394),(G0D))call SaveUnitHandle(C7,(V_7),(395),(H7D))call SaveUnitHandle(C7,(V_7),(396),(H8D))call SaveUnitHandle(C7,(V_7),(397),(H9D))call SaveReal(C7,(V_7),(6),((x0)*1.0))call SaveReal(C7,(V_7),(7),((y0)*1.0))call SaveReal(C7,(V_7),(433),((0)*1.0))call SaveReal(C7,(V_7),(13),((a)*1.0))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call SaveInteger(C7,(V_7),(5),(GetUnitAbilityLevel(X97,'A21M')))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function H4D))set X97=nullset G1D=nullset G0D=nullset H7D=nullset H8D=nullset H9D=nullset t=nullset ZM7=nullendfunctionfunction HED takes nothing returns booleanif GetSpellAbilityId()=='A21M' thencall HDD()elseif GetSpellAbilityId()=='A21N' thencall G5D()endifreturn falseendfunctionfunction HFD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A21L')local player p=(LoadPlayerHandle(C7,(V_7),(54)))if GetUnitTypeId(X97)=='N017' or GetUnitTypeId(X97)=='N02B' thenif((LoadInteger(C7,(GetHandleId((X97))),((4416))))==1)==false or p!=GetOwningPlayer(X97)thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21N',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21M',false)call SaveInteger(C7,(GetHandleId((X97))),((4416)),(1))call SaveInteger(C7,(GetHandleId((X97))),((4417)),(2))if p!=GetOwningPlayer(X97)thencall SavePlayerHandle(C7,(V_7),(54),(GetOwningPlayer(X97)))endifendifif GetUnitAbilityLevel(X97,'A21N')!=ZN7 thencall SetUnitAbilityLevel(X97,'A21N',ZN7)endifelseif GetUnitTypeId(X97)=='N016' thenif((LoadInteger(C7,(GetHandleId((X97))),((4417))))==1)==false or p!=GetOwningPlayer(X97)thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21N',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21M',true)call SaveInteger(C7,(GetHandleId((X97))),((4417)),(1))call SaveInteger(C7,(GetHandleId((X97))),((4416)),(2))if p!=GetOwningPlayer(X97)thencall SavePlayerHandle(C7,(V_7),(54),(GetOwningPlayer(X97)))endifendifif GetUnitAbilityLevel(X97,'A21M')!=ZN7 thencall SetUnitAbilityLevel(X97,'A21M',ZN7)endifendifset t=nullset X97=nullreturn falseendfunctionfunction HGD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call UW7(X97,'A21N')call UW7(X97,'A21M')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21N',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21M',false)call SaveInteger(C7,(GetHandleId((X97))),((4416)),(2))call SaveInteger(C7,(GetHandleId((X97))),((4417)),(2))call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function HFD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SavePlayerHandle(C7,(V_7),(54),(GetOwningPlayer(X97)))set t=nullset X97=nullendfunctionfunction HHD takes nothing returns booleanif GetLearnedSkill()=='A21L' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A21L')==1 thencall HGD()endifreturn falseendfunctionfunction ED8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function HHD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HED))set t=nullendfunctionfunction HID takes nothing returns nothingif GetEnumUnit()==GetTriggerUnit()thencall XO7(GetEnumUnit(),'A0XE',D0,C0*2,'B00B')elsecall XO7(GetEnumUnit(),'A0XE',D0,C0,'B00B')endifcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A0XE',false)endfunctionfunction HJD takes nothing returns nothinglocal group g=TL7()set D0=GetUnitAbilityLevel(GetTriggerUnit(),'A1EJ')set C0=5call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Z47))call ForGroup(g,function HID)call T67(g)set g=nullendfunctionfunction HKD takes nothing returns booleanif GetSpellAbilityId()=='A1EJ' thencall HJD()endifreturn falseendfunctionfunction EE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HKD))set t=nullendfunctionfunction HMD takes nothing returns booleanreturn GetSpellAbilityId()=='A0BE'endfunctionfunction HND takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitAbilityLevel(X97,'A09E',GetUnitAbilityLevel(X97,'A0BE'))call UnitRemoveAbility(X97,'B09Y')set t=nullset X97=nullreturn falseendfunctionfunction HOD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function HND))set t=nullset X97=nullendfunctionfunction E78 takes nothing returns nothingset Dc=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerRegisterAnyUnitEventBJ(Dc,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Dc,Condition(function HMD))call TriggerAddAction(Dc,function HOD)endfunctionfunction HPD takes nothing returns booleanreturn GetLearnedSkill()=='A0BE'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction HQD takes nothing returns nothingcall SetUnitAbilityLevel(GetTriggerUnit(),'A09E',GetUnitAbilityLevel(GetTriggerUnit(),'A0BE'))endfunctionfunction E88 takes nothing returns nothingset DC=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DC,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(DC,Condition(function HPD))call TriggerAddAction(DC,function HQD)endfunctionfunction HRD takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit HSD=MZ7(GetHandleId(t),"MeldTarget")call UnitRemoveAbility(HSD,'A0RC')call K_7(GetHandleId(t))call DestroyTimer(t)set HSD=nullset t=nullendfunctionfunction HTD takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local timer t2=nulllocal integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit HSD=GetTriggerUnit()if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==TX7 thencall DestroyTrigger(t)call ZO7(TX7,HSD,Y94,50*GetUnitAbilityLevel(TX7,'A0RV'))call WD7(I2S(50*GetUnitAbilityLevel(TX7,'A0RV')),1.,HSD,0.03,255,0,0,255)set t2=CreateTimer()call UW7(HSD,'A0RC')call SetUnitAbilityLevel(HSD,'A0RC',GetUnitAbilityLevel(TX7,'A0RV'))call MF7(GetHandleId(t2),"MeldTarget",HSD)call TimerStart(t2,10,false,function HRD)endifelsecall DestroyTrigger(t)endifset HSD=nullset TX7=nullset t2=nullset t=nullendfunctionfunction HUD takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local trigger t2=nulllocal integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local unit HVD=nulllocal real jUv=9999local unit HSD=GetOrderTargetUnit()if GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER and IsUnitEnemy(GetOrderTargetUnit(),GetOwningPlayer(TX7))and(GetIssuedOrderId()==OrderId("attack")or GetIssuedOrderId()==OrderId("smart"))thenif J87(x,y,GetUnitX(HSD),GetUnitY(HSD))<(145+50*GetUnitAbilityLevel(TX7,'A0RO'))thencall UnitRemoveAbility(TX7,'B08K')call T77(t)if IsUnitType(GetOrderTargetUnit(),UNIT_TYPE_STRUCTURE)==false thenset t2=CreateTrigger()call TriggerRegisterUnitEvent(t2,HSD,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t2,2,false)set NO7=GetHandleId(t2)call MF7(NO7,"Hero",TX7)call TriggerAddAction(t2,function HTD)endifendifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_CAST or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(TX7,'B08K')call T77(t)elseif x!=GetUnitX(TX7)or y!=GetUnitY(TX7)thencall UnitRemoveAbility(TX7,'B08K')call T77(t)endifendifset HVD=nullset TX7=nullset t2=nullset t=nullset HSD=nullendfunctionfunction HWD takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("effects\\PurpleAura.mdx",T_7,"origin"))call WN7(aO,GetUnitX(T_7),GetUnitY(T_7))call TriggerRegisterTimerEvent(t,0.2,true)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_SPELL_CAST)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddAction(t,function HUD)call MF7(NO7,"Hero",T_7)call M97(NO7,"x",GetUnitX(T_7))call M97(NO7,"y",GetUnitY(T_7))call IssueImmediateOrder(T_7,"holdposition")set t=nullset T_7=nullendfunctionfunction HXD takes nothing returns booleanif GetSpellAbilityId()=='A0RV' thencall HWD()endifreturn falseendfunctionfunction IF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HXD))set t=nullendfunctionfunction HYD takes nothing returns booleanlocal unit TX7=GetTriggerUnit()local integer NO7=GetHandleId(TX7)local integer HZD=M_7(NO7,"RefractionPrevent_Remaining")if HZD>0 and GetTriggerEventId()!=EVENT_UNIT_DEATH thenif GetEventDamage()>5 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",TX7,"right hand"))call V67(TX7,GetEventDamage())call M87(NO7,"RefractionPrevent_Remaining",HZD-1)endifelsecall UnitRemoveAbility(TX7,'A0RN')call UnitRemoveAbility(TX7,'B08J')call M87(NO7,"RefractionPrevent_Remaining",0)endifset TX7=nullreturn falseendfunctionfunction HAD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit T_7=MZ7(GetHandleId(t),"Hero")local integer V_7=GetHandleId(T_7)local integer UA8=M_7(V_7,"RefractionDamage_Remaining")if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED and GetAttacker()==T_7 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false)thenif GetTriggerEventId()!=EVENT_UNIT_DEATH and UA8>0 and GetEventDamage()>0 thencall M87(V_7,"RefractionDamage_Remaining",UA8-1)elsecall UnitRemoveAbility(T_7,'A0RF')call UnitRemoveAbility(T_7,'A0RM')call UnitRemoveAbility(T_7,'B08I')call M87(V_7,"RefractionDamage_Remaining",0)endifendifset t=nullset T_7=nullreturn falseendfunctionfunction HBD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit T_7=MZ7(GetHandleId(t),"Hero")local integer V_7=GetHandleId(T_7)call M87(V_7,"RefractionPrevent_Remaining",0)call M87(V_7,"RefractionDamage_Remaining",0)call UnitRemoveAbility(T_7,'A0RF')call UnitRemoveAbility(T_7,'A0RM')call UnitRemoveAbility(T_7,'A0RN')call K_7(GetHandleId(t))call NM7(t)set t=nullset T_7=nullreturn falseendfunctionfunction HCD takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local integer V_7=GetHandleId(T_7)local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,17,false)call TriggerAddCondition(t,Condition(function HBD))call MF7(GetHandleId(t),"Hero",T_7)call WN7(YO,GetUnitX(T_7),GetUnitY(T_7))call UW7(T_7,'A0RN')call M87(V_7,"RefractionPrevent_Remaining",GetUnitAbilityLevel(T_7,'A1EA')+2)call UW7(T_7,'A0RF')call SetUnitAbilityLevel(T_7,'A0RF',GetUnitAbilityLevel(T_7,'A1EA'))call UW7(T_7,'A0RM')call M87(V_7,"RefractionDamage_Remaining",GetUnitAbilityLevel(T_7,'A1EA')+2)set T_7=nullset t=nullendfunctionfunction H3D takes unit T_7,boolean R99 returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HYD))call M87(GetHandleId(T_7),"RefractionPrevent_Remaining",0)if R99 thenset rj[GetPlayerId(GetOwningPlayer(T_7))]=tendifset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HAD))call MF7(GetHandleId(t),"Hero",T_7)call M87(GetHandleId(T_7),"RefractionDamage_Remaining",0)if R99 thenset Ej[GetPlayerId(GetOwningPlayer(T_7))]=tendifset t=nullset T_7=nullendfunctionfunction H6D takes nothing returns booleanif GetLearnedSkill()=='A1EA' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1EA')==1 thencall H3D(GetTriggerUnit(),false)endifreturn falseendfunctionfunction HLD takes nothing returns booleanif GetSpellAbilityId()=='A1EA' thencall HCD()endifreturn falseendfunctionfunction IG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HLD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function H6D))set t=nullendfunctionfunction H1D takes unit u,real wP,real wq,real wQ,real wr,real wR returns booleanlocal real ws=wQ-wPlocal real wS=wr-wqlocal real wt=GetUnitX(u)-wPlocal real wT=GetUnitY(u)-wqreturn wR>=RAbsBJ(ws*wT-wS*wt)/ RAbsBJ(Pow(Pow(ws,2)+Pow(wS,2),0.5))endfunctionfunction H0D takes unit p5,unit m5,real V37,real wU,real wv returns nothinglocal integer ZN7=GetUnitAbilityLevel(p5,'A0RO')local real wV=(300+20*ZN7)*2local real ww=80+25local unit wWlocal real dxlocal real dylocal real wxlocal real xlocal real ylocal group g=TL7()local boolean wXlocal boolean wyset dx=GetUnitX(m5)-GetUnitX(p5)set dy=GetUnitY(m5)-GetUnitY(p5)set wx=Pow(Pow(dx,2)+Pow(dy,2),0.5)set x=GetUnitX(m5)+(wV/ 2-25)*(dx/ wx)set y=GetUnitY(m5)+(wV/ 2-25)*(dy/ wx)set I04=p5set IZ4=V37call GroupEnumUnitsInRange(g,x,y,Pow(Pow(wV/ 2,2)+Pow(ww/ 2,2),0.5),Condition(function Y47))call GroupRemoveUnit(g,m5)set wW=FirstOfGroup(g)loopexitwhen wW==nullset wX=H1D(wW,GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),ww/ 2)set wy=H1D(wW,x,y,x-100,y+100*x*Pow(y,-1),0.01+wV/ 2)if wX and wy thencall ZO7(p5,wW,YD4,V37)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PriestMissile\\PriestMissile.mdl",wW,"chest"))endifcall GroupRemoveUnit(g,wW)set wW=FirstOfGroup(g)endloopcall T67(g)set wW=nullset g=nullendfunctionfunction H5D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and GetEventDamage()>1 thencall DisableTrigger(t)call H0D(p5,m5,GetEventDamage(),N47(NO7,"InitX"),N47(NO7,"InitY"))call K_7(NO7)call NM7(t)endifelsecall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction H2D takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.0,false)call TriggerAddCondition(t,Condition(function H5D))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call M97(NO7,"InitX",GetUnitX(p5))call M97(NO7,"InitY",GetUnitY(p5))set m5=nullset p5=nullset t=nullendfunctionfunction H_D takes nothing returns nothinglocal unit p5=GetAttacker()if NF7(p5,"VorpalCooldown")==false thencall NQ7(p5,"VorpalCooldown",0.4)call H2D()endifset p5=nullendfunctionfunction I7D takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A0RO')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")thencall H_D()endifreturn falseendfunctionfunction I8D takes nothing returns nothinglocal trigger tif GetUnitAbilityLevel(GetTriggerUnit(),'A0RO')==1 thenset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function I7D))call MF7(GetHandleId(t),"Hero",GetTriggerUnit())endifcall SetPlayerTechResearched(GetOwningPlayer(GetTriggerUnit()),'Repb',GetUnitAbilityLevel(GetTriggerUnit(),'A0RO'))set t=nullendfunctionfunction I9D takes nothing returns booleanif GetLearnedSkill()=='A0RO' and IsUnitIllusion(GetTriggerUnit())==false thencall I8D()endifreturn falseendfunctionfunction IH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function I9D))set t=nullendfunctionfunction IDD takes unit u returns nothinglocal unit TX7=G7[GetPlayerId(GetOwningPlayer(u))]local integer NO7=GetHandleId(TX7)local integer w3local integer ilocal integer xlocal unit w4if GetUnitTypeId(TX7)!='E01Y' thenreturnendifset w3=M_7(NO7,"TrapMax")set i=1loopexitwhen i>w3set w4=MZ7(NO7,"Trap"+I2S(i))if w4==u thenset x=iloopexitwhen x==w3call MF7(NO7,"Trap"+I2S(x),MZ7(NO7,"Trap"+I2S(x+1)))set x=x+1endloopset i=w3endifset i=i+1endloopcall M87(NO7,"TrapMax",w3-1)set w4=nullset TX7=nullendfunctionfunction IED takes unit u returns nothinglocal unit TX7=G7[GetPlayerId(GetOwningPlayer(u))]local integer NO7=GetHandleId(TX7)local integer w3=M_7(NO7,"TrapMax")set w3=w3+1call MF7(NO7,"Trap"+I2S(w3),u)call M87(NO7,"TrapMax",w3)if Ab[GetPlayerId(GetOwningPlayer(TX7))]thencall SelectUnitAddForPlayer(u,GetOwningPlayer(TX7))endifset TX7=nullendfunctionfunction IFD takes nothing returns nothingcall IDD(GetTriggerUnit())endfunctionfunction IGD takes unit u returns nothinglocal integer w8=GetUnitAbilityLevel(u,'A0RP')*3+2local integer NO7=GetHandleId(u)local integer w3=M_7(NO7,"TrapMax")local unit w4=MZ7(NO7,"Trap1")if w3==w8 thencall IDD(w4)call RemoveUnit(w4)endifset w4=nullendfunctionfunction IHD takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(oA,'A0RU')call IssueTargetOrder(oA,"slow",GetEnumUnit())set oA=nullendfunctionfunction IID takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=TL7()call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\TomeOfRetraining\\TomeOfRetrainingCaster.mdl",x,y))call GroupEnumUnitsInRange(g,x,y,400,Condition(function YK7))call ForGroup(g,function IHD)call T67(g)call IDD(p5)call RemoveUnit(p5)set g=nullset p5=nullendfunctionfunction IJD takes unit u returns nothingcall IssueImmediateOrder(u,"locustswarm")endfunctionfunction IKD takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==J74 and GetUnitTypeId(GetFilterUnit())=='e020'endfunctionfunction IMD takes nothing returns nothinglocal real Wc=J87(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),IZ4,I34)local real WC=J87(GetUnitX(I04),GetUnitY(I04),IZ4,I34)if Wc<WC thenset I04=GetEnumUnit()endifendfunctionfunction IND takes nothing returns nothinglocal group g=TL7()set J74=GetOwningPlayer(GetTriggerUnit())call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),9000,Condition(function IKD))set I04=FirstOfGroup(g)set IZ4=GetUnitX(GetTriggerUnit())set I34=GetUnitY(GetTriggerUnit())call ForGroup(g,function IMD)call IJD(I04)call T67(g)set g=nullendfunctionfunction IOD takes nothing returns nothingcall UW7(GetTriggerUnit(),'A0RT')endfunctionfunction IPD takes nothing returns nothinglocal location l=GetSpellTargetLoc()call UW7(GetTriggerUnit(),'A0RT')call IGD(GetTriggerUnit())call IED(CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e020',GetLocationX(l),GetLocationY(l),0))call RemoveLocation(l)set l=nullendfunctionfunction IQD takes nothing returns booleanif GetSpellAbilityId()=='A0RP' thencall IPD()endifif GetSpellAbilityId()=='A0RT' thencall IND()endifreturn falseendfunctionfunction IRD takes nothing returns booleanif GetSpellAbilityId()=='A0RQ' thencall IID()endifreturn falseendfunctionfunction ISD takes nothing returns booleanif GetLearnedSkill()=='A0RP' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0RP')==1 thencall IOD()endifreturn falseendfunctionfunction ITD takes nothing returns booleanif GetUnitTypeId(GetDyingUnit())=='e020' thencall IFD()endifreturn falseendfunctionfunction II8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IQD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ITD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IRD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ISD))set t=nullendfunctionfunction IUD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(p5,'A1N3')call UnitRemoveAbility(p5,'A1N6')call UnitRemoveAbility(p5,'A1N7')call UnitRemoveAbility(p5,'B0CH')call K_7(NO7)call NM7(t)elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetTriggerUnit()==p5 and GetSpellAbilityId()=='A1N4' and TimerGetElapsed(P)>N47(NO7,"OriginalTime")thencall K_7(NO7)call NM7(t)elseif VP8(GetSpellAbilityId())and p5==GetSpellTargetUnit()thencall UnitRemoveAbility(p5,'A1N3')call UnitRemoveAbility(p5,'A1N6')call UnitRemoveAbility(p5,'A1N7')call UnitRemoveAbility(p5,'B0CH')call K_7(NO7)call NM7(t)endifelsecall UnitRemoveAbility(p5,'A1N3')call UnitRemoveAbility(p5,'A1N6')call UnitRemoveAbility(p5,'A1N7')call UnitRemoveAbility(p5,'B0CH')call K_7(NO7)call NM7(t)endifset t=nullset p5=nullreturn falseendfunctionfunction IVD takes nothing returns nothinglocal unit p5=GetAttacker()local integer NO7=GetHandleId(p5)local integer SR7=GetUnitAbilityLevel(p5,'A1N4')local integer P79=M_7(NO7,"Count")local integer IWD=2+SR7local trigger t=nullset P79=P79+1call M87(NO7,"Count",P79)if P79>=IWD thencall UnitRemoveAbility(p5,'A1N3')call UnitRemoveAbility(p5,'A1N6')call UnitRemoveAbility(p5,'A1N7')call UnitRemoveAbility(p5,'B0CH')set t=M37(NO7,"OverpowerEndTrig")call K_7(GetHandleId(t))call NM7(t)set t=nullendifset p5=nullendfunctionfunction IXD takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'B0CH')>0 thencall IVD()endifreturn falseendfunctionfunction IYD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A1N4')call UW7(p5,'A1N3')call UW7(p5,'A1N6')call UW7(p5,'A1N7')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1N6',false)call TriggerRegisterTimerEvent(t,15,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IUD))call MH7(GetHandleId(p5),"OverpowerEndTrig",t)call M87(GetHandleId(p5),"Count",0)call MF7(NO7,"Source",p5)call M97(NO7,"OriginalTime",(TimerGetElapsed(P)+1)*1.0)set t=nullset p5=nullendfunctionfunction IZD takes nothing returns booleanif GetSpellAbilityId()=='A1N4' thencall IYD()endifreturn falseendfunctionfunction D38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IZD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function IXD))call VQ7('A1N3')set t=nullendfunctionfunction IAD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local integer ZN7=GetUnitAbilityLevel(X97,'A0LC')local integer ES9local integer IBDif GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(X97,'B02H')==0 or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and X97==GetSpellTargetUnit()and VP8(GetSpellAbilityId()))thencall K_7(V_7)call NM7(t)call UnitRemoveAbility(X97,'B02H')call ZU7(X97,0)elseset ES9=R2I(GetUnitState(X97,UNIT_STATE_LIFE)*(0.04+0.01*ZN7))set IBD=M_7(V_7,"LastBonus")if ES9!=IBD thencall M87(V_7,"LastBonus",ES9)call ZU7(X97,ES9)endifendifset t=nullset X97=nullreturn falseendfunctionfunction ICD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.25,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IAD))call MF7(NO7,"Source",GetTriggerUnit())call M87(NO7,"LastBonus",0)set t=nullendfunctionfunction I3D takes nothing returns booleanif GetSpellAbilityId()=='A0LC' thencall ICD()endifreturn falseendfunctionfunction I6D takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'B02H')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 thenendifreturn falseendfunctionfunction D68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I3D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function I6D))set t=nullendfunctionfunction ILD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real I1D=N47(NO7,"rRealX1")local real x2=N47(NO7,"x2")local real I0D=N47(NO7,"rRealY1")local real y2=N47(NO7,"y2")call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",p5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathPact\\DeathPactTarget.mdl",m5,"origin"))call SetUnitPosition(p5,x2,y2)call NQ7(m5,"4407",1)call SetUnitPosition(m5,I1D,I0D)call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction I5D takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real I1D=GetUnitX(p5)local real I0D=GetUnitY(p5)local real x2=GetUnitX(m5)local real y2=GetUnitY(m5)local trigger tlocal integer NO7if IsUnitAlly(p5,GetOwningPlayer(m5))==true or T37(GetSpellTargetUnit())==false thenset t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M97(NO7,"rRealX1",(I1D)*1.0)call M97(NO7,"x2",(x2)*1.0)call M97(NO7,"rRealY1",(I0D)*1.0)call M97(NO7,"y2",(y2)*1.0)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function ILD))call W97("SPLK",I1D,I0D,x2,y2,0.5,0,1,1,0.3)call WK7(I1D,I0D,300)call WK7(x2,y2,300)endifset p5=nullset m5=nullset t=nullendfunctionfunction I2D takes nothing returns booleanif GetSpellAbilityId()=='A0IN' or GetSpellAbilityId()=='A1AW' thencall I5D()endifreturn falseendfunctionfunction I_D takes nothing returns nothingif(IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n03B'))))endifendfunctionfunction J4D takes nothing returns booleanif GetSpellAbilityId()=='A0IN' or GetSpellAbilityId()=='A1AW' thencall I_D()endifreturn falseendfunctionfunction DL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I2D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function J4D))set t=nullendfunctionfunction J7D takes unit ZM7,real x,real y,integer SR7 returns nothingcall SetUnitPosition(ZM7,x,y)if GetPlayerController(GetOwningPlayer(ZM7))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(ZM7,'A0AP')call SetUnitAbilityLevel(ZM7,'A0AP',SR7)endifcall IssueImmediateOrder(ZM7,"howlofterror")call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\HowlOfTerror\\HowlCaster.mdl",x,y))set ZM7=nullendfunctionfunction J8D takes nothing returns booleanif(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),p0)==false thencall GroupAddUnit(p0,GetFilterUnit())if GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>s0 thencall SetUnitState(GetFilterUnit(),UNIT_STATE_LIFE,GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)-(s0*0.75))elsecall ZO7(Q0,GetFilterUnit(),Y84,s0)endifendifreturn falseendfunctionfunction J9D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local real l4=N47(NO7,"Angle")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local integer SR7=M_7(NO7,"Level")local group QG9=M67(NO7,"AlreadyDamaged")local group gif GetTriggerEvalCount(t)>10 thencall T67(QG9)call K_7(NO7)call NM7(t)elseset p0=QG9set Q0=p5set s0=SR7*25set I04=p5set g=TL7()call GroupEnumUnitsInRange(g,x,y,325,Condition(function J8D))call T67(g)set g=nullcall J7D(ZM7,x,y,SR7)if ModuloInteger(GetTriggerEvalCount(t),2)==0 thencall KillUnit(CreateUnit(GetOwningPlayer(p5),'e02A',x,y,0))endifset x=VK7(x+200*Cos(l4*bj_DEGTORAD))set y=VM7(y+200*Sin(l4*bj_DEGTORAD))call M97(NO7,"x",x*1.0)call M97(NO7,"y",y*1.0)endifset t=nullset p5=nullset ZM7=nullset QG9=nullreturn falseendfunctionfunction JDD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real l4=W77(x1,y1,x2,y2)local integer SR7=GetUnitAbilityLevel(p5,'A17O')local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x1,y1,0)call UW7(ZM7,'A0AP')call SetUnitAbilityLevel(ZM7,'A0AP',SR7)call RemoveLocation(l)call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call M87(NO7,"Level",SR7)call M97(NO7,"x",x1*1.0)call M97(NO7,"y",y1*1.0)call M97(NO7,"Angle",l4*1.0)call MO7(NO7,"AlreadyDamaged",TL7())call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function J9D))set t=nullset p5=nullset l=nullset ZM7=nullendfunctionfunction JED takes nothing returns booleanif GetSpellAbilityId()=='A17O' thencall JDD()endifreturn falseendfunctionfunction D18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JED))set t=nullendfunctionfunction JFD takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareMissile.mdl",GetTriggerUnit(),"weapon"))endfunctionfunction JGD takes nothing returns booleanif GetSpellAbilityId()=='A02A' thencall JFD()endifreturn falseendfunctionfunction D08 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function JGD))call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)set t=nullendfunctionfunction JHD takes nothing returns booleanreturn(GetSpellAbilityId()==('A0JC')or GetSpellAbilityId()==('A020')or GetSpellAbilityId()==('A29G')or GetSpellAbilityId()==('A29H')or(GetUnitPointValue(GetTriggerUnit())==500))and GetUnitAbilityLevel(GetTriggerUnit(),('A0N5'))>0endfunctionfunction JID takes nothing returns nothinglocal real JJD=GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)local real JKD=0.03+0.02*GetUnitAbilityLevel(GetTriggerUnit(),'A0N5')local real R09=JJD*JKDcall UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),R09,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ForkedLightning\\ForkedLightningTarget.mdl",GetEnumUnit(),"overhead"))endfunctionfunction JMD takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==falseendfunctionfunction JND takes nothing returns nothinglocal location UM8=GetUnitLoc(GetTriggerUnit())local group R_9=TL7()local real x=GetLocationX(UM8)local real y=GetLocationY(UM8)local boolexpr JOD=Condition(function JMD)call GroupEnumUnitsInRange(R_9,x,y,1025,JOD)call ForGroup(R_9,function JID)call RemoveLocation(UM8)call T67(R_9)call DestroyBoolExpr(JOD)set UM8=nullset R_9=nullset JOD=nullendfunctionfunction D58 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JHD))call TriggerAddAction(t,function JND)set t=nullendfunctionfunction JPD takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetFilterUnit())!='H00J' and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(E_7))==trueendfunctionfunction JQD takes nothing returns nothinglocal real x=GetUnitX(GetEnumUnit())local real y=GetUnitY(GetEnumUnit())local unit KW7=CreateUnit(GetOwningPlayer(E_7),'e000',x,y,0)call UnitAddAbility(KW7,'A05S')call SetUnitAbilityLevel(KW7,'A05S',F47)call IssueTargetOrder(KW7,"chainlightning",GetEnumUnit())call UnitApplyTimedLife(KW7,'BTLF',3)call UnitAddAbility(KW7,'Aloc')if(GetPlayerController(GetOwningPlayer(KW7))==MAP_CONTROL_COMPUTER)thencall IssueTargetOrderById(KW7,852119,GetEnumUnit())endifset KW7=nullendfunctionfunction JRD takes nothing returns nothinglocal group g=TL7()set E_7=GetTriggerUnit()if GetSpellAbilityId()=='A29G' thenset F47=GetUnitAbilityLevel(GetTriggerUnit(),'A29G')+4elseset F47=GetUnitAbilityLevel(GetTriggerUnit(),'A29H')+7endifcall GroupEnumUnitsInRect(g,bj_mapInitialPlayableArea,Condition(function JPD))call ForGroup(g,function JQD)call T67(g)set g=nullendfunctionfunction JSD takes nothing returns booleanif GetSpellAbilityId()=='A29G' or GetSpellAbilityId()=='A29H' thencall JRD()endifreturn falseendfunctionfunction D28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JSD))set t=nullendfunctionfunction JTD takes nothing returns booleanreturn GetSpellAbilityId()=='A0JC' and T37(GetSpellTargetUnit())==falseendfunctionfunction JUD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e000',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A05S')call SetUnitAbilityLevel(oA,'A05S',GetUnitAbilityLevel(TX7,'A0JC'))call IssueTargetOrderById(oA,852119,m5)call UnitApplyTimedLife(oA,'BTLF',3)call SetUnitPathing(oA,false)call UW7(oA,'Aloc')if(GetPlayerController(GetOwningPlayer(oA))==MAP_CONTROL_COMPUTER)thencall I17(0.01)call IssueTargetOrderById(oA,852119,m5)endifset TX7=nullset m5=nullset oA=nullendfunctionfunction D_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JTD))call TriggerAddAction(t,function JUD)set t=nullendfunctionfunction JVD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")call SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))if GetTriggerEvalCount(t)>80 thencall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset ZM7=nullreturn falseendfunctionfunction JWD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e02C',GetUnitX(p5),GetUnitY(p5),0)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UW7(ZM7,'A1FM')call SetUnitAbilityLevel(ZM7,'A1FM',GetUnitAbilityLevel(p5,'A020'))call IssueTargetOrder(ZM7,"chainlightning",m5)call UnitApplyTimedLife(ZM7,'BTLF',10)call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function JVD))set p5=nullset m5=nullset ZM7=nullset t=nullendfunctionfunction JXD takes nothing returns booleanif GetSpellAbilityId()=='A020' and T37(GetSpellTargetUnit())==false thencall JWD()endifreturn falseendfunctionfunction E48 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function JXD))call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set t=nullendfunctionfunction JYD takes nothing returns booleanreturn GetSpellAbilityId()==('A0I3')and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or T37(GetSpellTargetUnit())==false)endfunctionfunction WU takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real V37=N47(NO7,"Damage")call UnitDamageTarget(TX7,TX7,V37,false,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call K_7(NO7)call PauseTimer(t)call DestroyTimer(t)set t=nullset TX7=nullendfunctionfunction JZD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real V37=25+25*GetUnitAbilityLevel(TX7,'A0I3')local timer t=CreateTimer()local integer NO7=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",m5,"origin"))if IsUnitAlly(m5,GetOwningPlayer(TX7))and GetUnitState(m5,UNIT_STATE_LIFE)>1. thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+2*V37)elsecall UnitDamageTarget(TX7,m5,2*V37,false,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)endifcall MF7(NO7,"Hero",TX7)call M97(NO7,"Damage",V37)call TimerStart(t,0,false,function WU)set TX7=nullset m5=nullset t=nullendfunctionfunction GS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JYD))call TriggerAddAction(t,function JZD)set t=nullendfunctionfunction WV takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(MB),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(oA,'A0MJ')call SetUnitAbilityLevel(oA,'A0MJ',IY4)call IssueTargetOrder(oA,"forkedlightning",GetEnumUnit())set oA=nullendfunctionfunction JAD takes unit p5,unit m5,integer SR7 returns nothinglocal group g=TL7()set I04=p5set IY4=SR7set MB=p5call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),700,Condition(function YM7))call ForGroup(g,function WV)call T67(g)set g=nullendfunctionfunction WW takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local real JBD=N47(V_7,"Life")local unit X97local unit U47=MZ7(V_7,"Target")local integer ZN7if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif NF7(GetTriggerUnit(),"BorrowedTime|Active")==false thenif JBD<GetEventDamage()thenset X97=MZ7(V_7,"Source")set ZN7=M_7(V_7,"Level")call DestroyEffect(ML7(V_7,"FX"))call ME7(GetHandleId(U47),"AphoticShield|Active",false)call K_7(V_7)call NM7(t)call V67(GetTriggerUnit(),JBD)call JAD(X97,GetTriggerUnit(),ZN7)set GZ[256+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseelseif GetEventDamage()>0 thencall V67(GetTriggerUnit(),GetEventDamage())call M97(V_7,"Life",JBD-GetEventDamage())endifendifelseset X97=MZ7(V_7,"Source")set ZN7=M_7(V_7,"Level")call ME7(GetHandleId(U47),"AphoticShield|Active",false)set GZ[256+GetPlayerId(GetOwningPlayer(MZ7(V_7,"AphTarg")))]=falsecall DestroyEffect(ML7(V_7,"FX"))call K_7(V_7)call NM7(t)call JAD(X97,U47,ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction JCD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit U47=GetSpellTargetUnit()local unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0MF')local integer DED=GetHandleId(U47)local real JBDif N77(DED,"AphoticShield|Active")==true thencall TriggerEvaluate(M37(DED,"AphoticShield|Trigger"))endifcall UnitRemoveBuffs(U47,false,true)call VK8(U47,0,0)if ZN7==1 thenset JBD=110elseif ZN7==2 thenset JBD=140elseif ZN7==3 thenset JBD=170elseset JBD=200endifcall M97(V_7,"Life",JBD)call MG7(V_7,"FX",AddSpecialEffectTarget("war3mapImported\\Defensive Barrier big.mdx",U47,"chest"))call MF7(V_7,"Source",X97)call M87(V_7,"Level",ZN7)call MF7(V_7,"Target",U47)set GZ[256+GetPlayerId(GetOwningPlayer(GetSpellTargetUnit()))]=truecall TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,15,false)call TriggerAddCondition(t,Condition(function WW))call MH7(DED,"AphoticShield|Trigger",t)call ME7(DED,"AphoticShield|Active",true)set t=nullset U47=nullset X97=nullendfunctionfunction J3D takes nothing returns booleanif GetSpellAbilityId()=='A0MF' thencall JCD()endifreturn falseendfunctionfunction WY takes nothing returns nothingif GetUnitAbilityLevel(GetSpellTargetUnit(),'BNdo')>0 thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),S27('n03I'))endifendfunctionfunction J6D takes nothing returns booleanif GetSpellAbilityId()=='A0MF' thencall WY()endifreturn falseendfunctionfunction s7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function J6D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J3D))set t=nullendfunctionfunction JLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetTriggerEventId()==EVENT_UNIT_DEATH or IssueImmediateOrder(TX7,"windwalk")thencall K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction J1D takes unit TX7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JLD))call MF7(NO7,"Hero",TX7)set t=nullendfunctionfunction J0D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit T_7=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(T_7,'A0NS')local integer J5Dlocal real P68if ZN7==0 thenset ZN7=GetUnitAbilityLevel(T_7,'A1DA')+2endifset J5D=2+ZN7if GetTriggerEventId()==EVENT_UNIT_DAMAGED and NF7(T_7,"BorrowedTime|Active")thencall V67(T_7,GetEventDamage())call V67(T_7,GetEventDamage())elseif(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A0NS' or GetSpellAbilityId()=='A1DA'))or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and NF7(T_7,"BorrowedTime|CD")==false and GetUnitState(T_7,UNIT_STATE_LIFE)<400)thencall TimerStart(NP4[GetPlayerId(GetOwningPlayer(T_7))],60,false,null)call NQ7(T_7,"BorrowedTime|Active",J5D)call NQ7(T_7,"BorrowedTime|CD",60)call UnitRemoveBuffs(T_7,false,true)call VK8(T_7,0,0)if GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall DisableTrigger(t)set F77=trueif IssueImmediateOrder(T_7,"windwalk")==false thencall J1D(T_7)endifset F77=falsecall EnableTrigger(t)endifcall V57("Abilities\\Spells\\Undead\\Unsummon\\UnsummonTarget.mdl",T_7,"origin",J5D)endifset t=nullset T_7=nullreturn falseendfunctionfunction J2D takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J0D))if R99 thenset Vj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction J_D takes nothing returns booleanif(GetLearnedSkill()=='A0NS' or GetLearnedSkill()=='A1DA')and IsUnitIllusion(GetTriggerUnit())==false and(GetUnitAbilityLevel(GetTriggerUnit(),'A0NS')==1 or GetUnitAbilityLevel(GetTriggerUnit(),'A1DA')==1)thencall J2D(GetTriggerUnit(),false)endifreturn falseendfunctionfunction GU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function J_D))set t=nullendfunctionfunction K4D takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),('B066'))>0 or GetUnitAbilityLevel(GetAttacker(),('A0MG'))>0endfunctionfunction K7D takes nothing returns nothinglocal unit PU8=GetAttacker()local unit m5=GetTriggerUnit()local unit K8Dlocal integer SR7=GetUnitAbilityLevel(PU8,('A0MG'))local unit ZM7=CreateUnit(GetOwningPlayer(PU8),'e00E',GetUnitX(PU8),GetUnitY(PU8),0)if SR7>0 thencall M87(GetHandleId(m5),"MarkOfTheAbyss|Level",SR7)elseset SR7=M_7(GetHandleId(m5),"MarkOfTheAbyss|Level")endifif IsUnitEnemy(m5,GetOwningPlayer(PU8))==true thencall UW7(ZM7,('A0MH'))call SetUnitAbilityLevel(ZM7,('A0MH'),SR7)call IssueTargetOrder(ZM7,"bloodlust",PU8)endifset PU8=nullset m5=nullset K8D=nullset ZM7=nullendfunctionfunction GT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function K4D))call TriggerAddAction(t,function K7D)set t=nullendfunctionfunction K9D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local integer S08=(LoadInteger(C7,(V_7),(34)))local real R09local integer J5Dlocal unit SR8if ZN7==1 thenset R09=15set J5D=10elseif ZN7==2 thenset R09=21set J5D=13elseif ZN7==3 thenset R09=27set J5D=16elseif ZN7==4 thenset R09=33set J5D=19endifif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetTriggerEvalCount(t)>1 and GetSpellAbilityId()=='A0S1' and T37(GetSpellTargetUnit())==false and U47==GetSpellTargetUnit()thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenset SR8=GetKillingUnit()if AN7(SR8)thenset SR8=(G7[GetPlayerId(GetOwningPlayer((SR8)))])endifif GetTriggerUnit()==U47 or SR8==U47 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A1W3')call UnitRemoveAbility(U47,'B0DO')endifelseset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))if S08==J5D thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A1W3')call UnitRemoveAbility(U47,'B0DO')endifcall ZO7(X97,U47,Y84,R09)endifset t=nullset X97=nullset U47=nullset SR8=nullreturn falseendfunctionfunction KDD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0S1')local real KEDlocal real JNIcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\ReviveDemon\\ReviveDemon.mdl",U47,"overhead"))call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A1W3',false)call UW7(U47,'A1W3')call TriggerRegisterTimerEvent(t,1,true)call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K9D))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(34),(0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\SoulBurn\\SoulBurnbuff.mdl",U47,"overhead")))set X97=nullset U47=nullset t=nullendfunctionfunction KFD takes nothing returns nothingif GetUnitAbilityLevel(GetEnumUnit(),'B0DO')>0 thenset GX7=GX7+1endifendfunctionfunction KGD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group g=TL7()set I04=X97set GX7=0call GroupEnumUnitsInRange(g,0,0,9999,Condition(function Y47))call ForGroup(g,function KFD)call T67(g)if GX7==0 thenif GetUnitAbilityLevel(X97,'B0EZ')>0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')endifelseif GX7==1 thenif GetUnitAbilityLevel(X97,'A2AR')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AR')endifelseif GX7==2 thenif GetUnitAbilityLevel(X97,'A2AS')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AS')endifelseif GX7==3 thenif GetUnitAbilityLevel(X97,'A2AU')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AU')endifelseif GX7==4 thenif GetUnitAbilityLevel(X97,'A2AT')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AT')endifelseif GX7==5 thenif GetUnitAbilityLevel(X97,'A2AQ')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AQ')endifelseif GX7>=6 thenif GetUnitAbilityLevel(X97,'A2AP')==0 thencall UnitRemoveAbility(X97,'A2AR')call UnitRemoveAbility(X97,'A2AS')call UnitRemoveAbility(X97,'A2AU')call UnitRemoveAbility(X97,'A2AT')call UnitRemoveAbility(X97,'A2AQ')call UnitRemoveAbility(X97,'A2AP')call UnitRemoveAbility(X97,'B0EZ')call UnitAddAbility(X97,'A2AP')endifendifset t=nullset X97=nullreturn falseendfunctionfunction KHD takes nothing returns booleanif GetSpellAbilityId()=='A0S1' and T37(GetSpellTargetUnit())==false thencall KDD()endifreturn falseendfunctionfunction KID takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function KGD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AR',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AS',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AU',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AT',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AQ',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AP',false)set t=nullendfunctionfunction KJD takes nothing returns booleanif GetLearnedSkill()=='A0S1' and GetUnitAbilityLevel(GetTriggerUnit(),'A0S1')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall KID()endifreturn falseendfunctionfunction EF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KHD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function KJD))set t=nullendfunctionfunction xb takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call ZO7(GetTriggerUnit(),GetEnumUnit(),Y94,GetUnitAbilityLevel(GetTriggerUnit(),'A0C6')*30+70)endfunctionfunction KKD takes nothing returns nothinglocal group g=TL7()local unit TX7=GetTriggerUnit()call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),300,Condition(function jF))call ForGroup(g,function xb)call SetUnitAnimation(TX7,"spin")call W17(TX7,.6)call NQ7(TX7,"KKD",0.7-0.05*GetUnitAbilityLevel(GetTriggerUnit(),'A0C6'))call T67(g)set g=nullset TX7=nullendfunctionfunction KMD takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),'B03P')>0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitType(GetAttacker(),UNIT_TYPE_MECHANICAL)==false and GetUnitAbilityLevel(GetAttacker(),'A04R')==0 and IsUnitAlly(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==false and GetRandomReal(0,100)<17 and NF7(GetTriggerUnit(),"KKD")==false thencall KKD()endifreturn falseendfunctionfunction EG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function KMD))set t=nullendfunctionfunction xC takes nothing returns booleanreturn YK7()and GetUnitAbilityLevel(GetFilterUnit(),'B008')==0 and GetUnitAbilityLevel(GetFilterUnit(),'Bcyc')==0endfunctionfunction xd takes integer V_7,integer KND returns nothinglocal integer i=1loopexitwhen i>KNDcall DestroyEffect((LoadEffectHandle(C7,(V_7),(2700+i))))set i=i+1endloopendfunctionfunction KOD takes nothing returns nothingif((IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER))thenset hq[640+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),'A0I6'))set hq[832+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=Bz+1+(.5*GetUnitAbilityLevel(GetTriggerUnit(),'A0I6'))call IssueTargetOrderById(GetEnumUnit(),851971,F97)elsecall IssueTargetOrderById(GetEnumUnit(),851983,F97)endifendfunctionfunction xE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local group g=LoadGroupHandle(C7,(V_7),(220))local unit T_7=LoadUnitHandle(C7,(V_7),(14))local integer KND=LoadInteger(C7,(V_7),(365))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local integer S08=(LoadInteger(C7,(V_7),(34)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_PLAYER_UNIT_ISSUED_ORDER thenset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))if S08==(4+2*ZN7)thencall UnitRemoveAbility(T_7,'A0I5')call T67(g)call xd(V_7,KND)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall DisableTrigger(t)set F97=T_7call ForGroup(g,function KOD)call EnableTrigger(t)endifelseif IsUnitInGroup(GetTriggerUnit(),g)==true and UnitIsSleeping(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'B008')==0 and GetIssuedOrderId()!=851973 and F77==false thencall DisableTrigger(t)if((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))thencall DisableTrigger(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])call IssueTargetOrderById(GetTriggerUnit(),851971,T_7)call EnableTrigger(QY4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])elsecall IssueTargetOrderById(GetTriggerUnit(),851983,T_7)endifcall EnableTrigger(t)endifendifset t=nullset g=nullset T_7=nullreturn falseendfunctionfunction xf takes nothing returns nothingset IY4=IY4+1call SaveEffectHandle(C7,(tl),(2700+IY4),(AddSpecialEffectTarget("Abilities\\Weapons\\LavaSpawnMissile\\LavaSpawnBirthMissile.mdl",GetEnumUnit(),"chest")))endfunctionfunction xF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit T_7=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(T_7,'A0I6')local group g=TL7()call UW7(T_7,'A0I5')call SetUnitAbilityLevel(T_7,'A0I5',ZN7)set I04=T_7set F97=T_7set IY4=0set tl=V_7call GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),300,Condition(function xC))call ForGroup(g,function xf)call ForGroup(g,function KOD)call SaveInteger(C7,(V_7),(365),IY4)call SaveUnitHandle(C7,(V_7),(14),T_7)call SaveGroupHandle(C7,(V_7),(220),g)call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(34),(0))call TriggerRegisterTimerEvent(t,0.25,true)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function xE))set t=nullset g=nullset T_7=nullendfunctionfunction KPD takes nothing returns booleanif GetSpellAbilityId()=='A0I6'thencall xF()endifreturn falseendfunctionfunction EH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KPD))set t=nullendfunctionfunction KQD takes nothing returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A2IC',false)call XO7(GetEnumUnit(),'A2IC',1,6,'B0FV')endfunctionfunction KRD takes nothing returns booleanreturn GetSpellAbilityId()=='A0E2' or GetSpellAbilityId()=='A1MR'endfunctionfunction KSD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local real JBD=GetUnitState(U47,UNIT_STATE_LIFE)local integer ZN7=GetUnitAbilityLevel(TX7,'A0E2')local unit ZM7local boolean KTD=falselocal group gif ZN7==0 thenset ZN7=GetUnitAbilityLevel(TX7,'A1MR')set KTD=trueendifif(JBD<=300 and ZN7==1)or(JBD<=450 and ZN7==2)or(JBD<=625 and ZN7==3)thenif KTD thenendifcall PlaySoundOnUnitBJ(BN,100,U47)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile.mdl",U47,"overhead"))set ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',0,0,0)call UnitRemoveBuffs(U47,true,true)call UnitRemoveAbility(U47,'Aetl')call UnitDamageTarget(ZM7,U47,100000000.,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\AxeUltiMSFX_01.mdx",TX7,"origin"))set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),625,Condition(function Y37))call ForGroup(g,function KQD)call T67(g)set g=nullendifset TX7=nullset U47=nullset ZM7=nullendfunctionfunction EI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KRD))call TriggerAddAction(t,function KSD)set t=nullendfunctionfunction KUD takes nothing returns booleanreturn GetSpellAbilityId()=='A0GK' and T37(GetSpellTargetUnit())==falseendfunctionfunction KVD takes nothing returns nothingcall UnitDamageTargetBJ(GetTriggerUnit(),GetSpellTargetUnit(),20+70*GetUnitAbilityLevel(GetTriggerUnit(),'A0GK'),ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC)if GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>1 thencall SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+20+70*GetUnitAbilityLevel(GetTriggerUnit(),'A0GK'))endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetSpellTargetUnit(),"origin"))endfunctionfunction xI takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")local player p=MB7(NO7,"p")local integer SR7=M_7(NO7,"Level")local unit oAif GetUnitAbilityLevel(m5,'B02F')==0 thencall K_7(NO7)call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_ATTACKED and GetTriggerUnit()==m5 thenif((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER))thencall IssuePointOrderById(GetAttacker(),851986,GetUnitX(GetAttacker())+GetRandomReal(0,150.)-75.,GetUnitY(GetAttacker())+GetRandomReal(0,150.)-75.)elsecall UnitRemoveAbility(m5,'B02F')set oA=CreateUnit(p,'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A04Y')call SetUnitAbilityLevel(oA,'A04Y',SR7)call IssueTargetOrderById(oA,852227,GetAttacker())call K_7(NO7)call NM7(t)endifelseif GetTriggerEventId()!=EVENT_UNIT_ATTACKED thenif GetUnitState(m5,UNIT_STATE_LIFE)>21 thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-20)elsecall UnitRemoveAbility(m5,'B02F')call ZO7(p5,m5,Y84,50)call K_7(NO7)call NM7(t)endifendifset t=nullset p=nullset oA=nullset m5=nullset p5=nullreturn falseendfunctionfunction xj takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)set NO7=GetHandleId(t)call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call MM7(NO7,"p",GetOwningPlayer(p5))call M87(NO7,"Level",GetUnitAbilityLevel(p5,'A04Y'))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function xI))set VX4=truecall ZO7(p5,m5,Y94,0)set VX4=falseset p5=nullset m5=nullset t=nullendfunctionfunction KWD takes nothing returns booleanif GetSpellAbilityId()=='A04Y'and JS7(GetSpellTargetUnit())==false thencall xj()endifreturn falseendfunctionfunction KXD takes nothing returns booleanif GetSpellAbilityId()=='A04Y' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true thenif GetOwningPlayer(GetTriggerUnit())!=GetOwningPlayer(GetSpellTargetUnit())and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))endifendifreturn falseendfunctionfunction EJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KWD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function KXD))set t=nullendfunctionfunction KYD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit p5=MZ7(V_7,"Source")local unit m5=MZ7(V_7,"Target")local real P68local integer S08=6local fogmodifier KZD=(LoadFogModifierHandle(C7,(V_7),(42)))if GetUnitAbilityLevel(p5,'A1D9')>0 thenset S08=7endifif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall FogModifierStop(KZD)call DestroyFogModifier(KZD)call K_7(V_7)call NM7(t)elseif GetTriggerEvalCount(t)>S08 thencall FogModifierStop(KZD)call DestroyFogModifier(KZD)call K_7(V_7)call NM7(t)call JN7(p5)elseset P68=RMinBJ(0.05*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))if GetUnitAbilityLevel(p5,'A1D9')>0 thenset P68=RMinBJ(0.1*GetUnitState(m5,UNIT_STATE_MAX_MANA),GetUnitState(m5,UNIT_STATE_MANA))endifif P68>0 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+P68)call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-P68)endifendifset t=nullset p5=nullset m5=nullset KZD=nullreturn falseendfunctionfunction KAD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local fogmodifier KZD=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,GetUnitX(m5),GetUnitY(m5),350,true,true)call FogModifierStart(KZD)call UnitRemoveAbility(m5,'B02F')call UnitRemoveAbility(m5,'BUsp')call UnitRemoveAbility(m5,'Bust')call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function KYD))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call SaveFogModifierHandle(C7,(NO7),(42),(KZD))set p5=nullset m5=nullset t=nullset KZD=nullendfunctionfunction KBD takes nothing returns booleanif GetSpellAbilityId()=='A02Q' or GetSpellAbilityId()=='A1D9' thencall KAD()endifreturn falseendfunctionfunction EK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KBD))set t=nullendfunctionfunction KCD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetUnitAbilityLevel(U47,'B02D')==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A221')call UnitRemoveAbility(U47,'A223')call UnitRemoveAbility(U47,'A224')call UnitRemoveAbility(U47,'A222')endifset t=nullset U47=nullreturn falseendfunctionfunction K3D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A04V')if ZN7==1 thencall UW7(U47,'A221')call UnitRemoveAbility(U47,'A223')call UnitRemoveAbility(U47,'A224')call UnitRemoveAbility(U47,'A222')elseif ZN7==2 thencall UW7(U47,'A223')call UnitRemoveAbility(U47,'A221')call UnitRemoveAbility(U47,'A224')call UnitRemoveAbility(U47,'A222')elseif ZN7==3 thencall UW7(U47,'A224')call UnitRemoveAbility(U47,'A221')call UnitRemoveAbility(U47,'A223')call UnitRemoveAbility(U47,'A222')elseif ZN7==4 thencall UW7(U47,'A222')call UnitRemoveAbility(U47,'A221')call UnitRemoveAbility(U47,'A223')call UnitRemoveAbility(U47,'A224')endifcall TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function KCD))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullendfunctionfunction K6D takes nothing returns booleanif GetSpellAbilityId()=='A04V' and T37(GetSpellTargetUnit())==false thencall K3D()endifreturn falseendfunctionfunction EN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K6D))set t=nullendfunctionfunction KLD takes unit X97,unit U47,real K1D returns nothingcall SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)+GetUnitState(U47,UNIT_STATE_MAX_LIFE)*K1D)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HeroBloodElfBlood.mdl",X97,"overhead"))endfunctionfunction K0D takes nothing returns booleanif UY7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'A0LE')>0 and IsUnitEnemy(X64,GetOwningPlayer(GetFilterUnit()))thencall KLD(GetFilterUnit(),X64,GetUnitAbilityLevel(GetFilterUnit(),'A0LE')*0.1*0.5)endifreturn falseendfunctionfunction K5D takes unit X97,unit U47,integer ZN7 returns nothinglocal group g=TL7()set X64=U47call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),250,Condition(function K0D))call T67(g)set X64=nullset g=nullendfunctionfunction K2D takes nothing returns booleanlocal unit X97=GetKillingUnit()local unit U47=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0LE')if IsUnitIllusion(U47)==false and IsUnitType(U47,UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(U47)!='n00L' thenif IsUnitType(U47,UNIT_TYPE_HERO)==false thenif ZN7>0 thencall KLD(X97,U47,ZN7*0.05+0.05)endifelseif ZN7>0 thencall KLD(X97,U47,ZN7*0.1)elsecall K5D(X97,U47,ZN7)endifendifendifset X97=nullset U47=nullreturn falseendfunctionfunction EO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function K2D))set t=nullendfunctionfunction xn takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local real xN=N47(NO7,"LastX")local real xo=N47(NO7,"LastY")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real d=SquareRoot((xN-x)*(xN-x)+(xo-y)*(xo-y))local real K_D=0.2*SR7*dlocal integer QI=M_7(NO7,"Iteration")if d>1300 thenset K_D=0endifif K_D>5 thencall DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"origin"))endifif K_D>0 and UY7(m5)==false thencall ZO7(p5,m5,YD4,K_D)endifcall M97(NO7,"LastX",x)call M97(NO7,"LastY",y)call M87(NO7,"Iteration",QI+1)if UY7(m5)thencall K_7(NO7)call NM7(t)elseif QI>4*(6+SR7)thencall UnitRemoveAbility(m5,'A0IH')call UnitRemoveAbility(m5,'B08L')call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction xp takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A0LH')call UW7(m5,'A0IH')call SetUnitAbilityLevel(m5,'A0IH',SR7)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",m5,"chest"))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call M97(NO7,"LastX",GetUnitX(m5))call M97(NO7,"LastY",GetUnitY(m5))call M87(NO7,"Iteration",0)call TriggerRegisterTimerEvent(t,.25,true)call TriggerAddCondition(t,Condition(function xn))call ZO7(p5,m5,YD4,50+100*SR7)set p5=nullset m5=nullset t=nullendfunctionfunction M4D takes nothing returns booleanif GetSpellAbilityId()=='A0LH' and T37(GetSpellTargetUnit())==false thencall xp()endifreturn falseendfunctionfunction EP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M4D))set t=nullendfunctionfunction M7D takes nothing returns nothinglocal unit ZM7if Y77(GetEnumUnit())==false thencall UnitRemoveAbility(GetEnumUnit(),'B0EY')call UnitShareVision(GetEnumUnit(),GetOwningPlayer(YM4),true)elsecall UnitShareVision(GetEnumUnit(),GetOwningPlayer(YM4),true)if GetUnitAbilityLevel(GetEnumUnit(),'B0EY')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B00T')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B00L')==0 thenset ZM7=CreateUnit(GetOwningPlayer(YM4),1697656901,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UnitAddAbility(ZM7,'A2AH')call IssueTargetOrder(ZM7,"faeriefire",GetEnumUnit())set ZM7=nullendifendifendfunctionfunction M8D takes nothing returns nothingif UY7(YM4)==true or IsUnitInGroup(GetEnumUnit(),YK4)==false or GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>0.4 or(GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)>0.2 and Y77(GetEnumUnit())==true)thencall GroupRemoveUnit(YJ4,GetEnumUnit())call UnitShareVision(GetEnumUnit(),GetOwningPlayer(YM4),false)call UnitRemoveAbility(GetEnumUnit(),'B0EY')endifendfunctionfunction M9D takes nothing returns nothingif UY7(YM4)==false and IsUnitInGroup(GetEnumUnit(),YJ4)==false and IsUnitIllusion(GetEnumUnit())==false thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<0.4 and Y77(GetEnumUnit())==false thencall GroupAddUnit(YJ4,GetEnumUnit())elseif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)/GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)<0.2 thencall GroupAddUnit(YJ4,GetEnumUnit())endifendifendfunctionfunction MDD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group MED=(LoadGroupHandle(C7,(V_7),(22)))local group g=TL7()local integer ZN7=GetUnitAbilityLevel(X97,'A0I8')set I04=X97set YM4=X97set YJ4=MEDset YN4=ZN7call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),25+1500*ZN7,Condition(function YZ7))call ForGroup(g,function M9D)set YK4=gcall ForGroup(YJ4,function M8D)call ForGroup(YJ4,function M7D)if FirstOfGroup(YJ4)==null thencall UnitRemoveAbility(X97,YI4[1])call UnitRemoveAbility(X97,YI4[2])call UnitRemoveAbility(X97,YI4[3])call UnitRemoveAbility(X97,YI4[4])call UnitRemoveAbility(X97,'A214')elseif ZN7==1 thencall UnitRemoveAbility(X97,YI4[2])call UnitRemoveAbility(X97,YI4[3])call UnitRemoveAbility(X97,YI4[4])call UnitRemoveAbility(X97,'B0E5')call UnitRemoveAbility(X97,'B0E4')call UnitRemoveAbility(X97,'B0E6')elseif ZN7==2 thencall UnitRemoveAbility(X97,YI4[1])call UnitRemoveAbility(X97,YI4[3])call UnitRemoveAbility(X97,YI4[4])call UnitRemoveAbility(X97,'B05R')call UnitRemoveAbility(X97,'B0E4')call UnitRemoveAbility(X97,'B0E6')elseif ZN7==3 thencall UnitRemoveAbility(X97,YI4[1])call UnitRemoveAbility(X97,YI4[2])call UnitRemoveAbility(X97,YI4[4])call UnitRemoveAbility(X97,'B05R')call UnitRemoveAbility(X97,'B0E5')call UnitRemoveAbility(X97,'B0E6')elseif ZN7==4 thencall UnitRemoveAbility(X97,YI4[1])call UnitRemoveAbility(X97,YI4[2])call UnitRemoveAbility(X97,YI4[3])call UnitRemoveAbility(X97,'B05R')call UnitRemoveAbility(X97,'B0E5')call UnitRemoveAbility(X97,'B0E4')endifcall UW7(X97,YI4[ZN7])call UW7(X97,'A214')call UnitMakeAbilityPermanent(X97,true,YI4[ZN7])call SetPlayerAbilityAvailable(GetOwningPlayer(X97),YI4[ZN7],false)endifcall T67(g)set t=nullset X97=nullset g=nullset MED=nullreturn falseendfunctionfunction MFD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function MDD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveGroupHandle(C7,(V_7),(22),(TL7()))set t=nullset X97=nullendfunctionfunction MGD takes nothing returns booleanif GetLearnedSkill()=='A0I8' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0I8')==1 thencall MFD()endifreturn falseendfunctionfunction ER8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function MGD))set YI4[1]='A210'set YI4[2]='A211'set YI4[3]='A212'set YI4[4]='A213'set t=nullendfunctionfunction MHD takes nothing returns booleanif GetSpellAbilityId()=='A0EC' and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp"))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))endifreturn falseendfunctionfunction EQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function MHD))set t=nullendfunctionfunction MID takes nothing returns booleanreturn GetUnitTypeId(GetSummonedUnit())=='o003'endfunctionfunction MJD takes nothing returns nothinglocal unit xU=GetSummonedUnit()local unit xv=GetSummoningUnit()local integer NO7=GetHandleId(xv)local integer SR7=GetUnitAbilityLevel(xv,'A0BG')local integer xV=M_7(NO7,"TotalWebs")local unit xw=MZ7(NO7,"Web1")local integer x=1set xV=xV+1call SetUnitVertexColorBJ(xU,100,100,100,80)call UW7(xU,'Aloc')call MF7(NO7,"Web"+I2S(xV),xU)if(xV>SR7*2)thencall KillUnit(xw)loopexitwhen x==xVcall MF7(NO7,"Web"+I2S(x),MZ7(NO7,"Web"+I2S(x+1)))set x=x+1endloopset xV=xV-1endifcall M87(NO7,"TotalWebs",xV)call SetUnitAbilityLevel(xU,'A0BF',SR7)set xU=nullset xv=nullset xw=nullendfunctionfunction ES8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function MID))call TriggerAddAction(t,function MJD)set t=nullendfunctionfunction MKD takes unit xv returns nothinglocal integer NO7=GetHandleId(xv)local integer SR7=GetUnitAbilityLevel(xv,'A0BG')local integer xV=M_7(NO7,"TotalWebs")local integer x=1local unit VXloopexitwhen x>xVset VX=MZ7(NO7,"Web"+I2S(x))call SetUnitAbilityLevel(VX,'A0BF',SR7)set x=x+1endloopset VX=nullendfunctionfunction MMD takes nothing returns nothinglocal unit MND=MZ7(GetHandleId(GetTriggeringTrigger()),"Spider")if MND==null thencall FlushChildHashtable(C7,(GetHandleId(GetTriggeringTrigger())))call NM7(GetTriggeringTrigger())elseif IsUnitType(MND,UNIT_TYPE_HERO)==true thenif GetUnitAbilityLevel(MND,'B01C')>0 thencall UW7(MND,'A021')elsecall UnitRemoveAbility(MND,'A021')endifelseif GetUnitAbilityLevel(MND,'B01C')>0 thencall UW7(MND,'A29C')elsecall UnitRemoveAbility(MND,'A29C')endifendifendifset MND=nullendfunctionfunction MOD takes unit X97 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,1.50)call TriggerAddAction(t,function MMD)call MF7(GetHandleId(t),"Spider",X97)set t=nullendfunctionfunction MPD takes nothing returns booleanif GetUnitTypeId(GetSummonedUnit())=='n01E' or GetUnitTypeId(GetSummonedUnit())=='n019' thencall MOD(GetSummonedUnit())endifreturn falseendfunctionfunction MQD takes unit TX7,boolean R99 returns nothinglocal trigger tif(GetUnitAbilityLevel(TX7,'A0BG')==1 or R99)thencall MOD(TX7)elsecall MKD(TX7)endifif R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction MRD takes nothing returns booleanif GetLearnedSkill()=='A0BG' and IsUnitIllusion(GetTriggerUnit())==false thencall MQD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction ET8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function MRD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function MPD))set t=nullendfunctionfunction MSD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and VP8(GetSpellAbilityId())and GetSpellTargetUnit()==TX7)thenif UY7(TX7)==false thencall UnitRemoveAbility(TX7,'A0WR')call UnitRemoveAbility(TX7,'B01E')endifcall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction MTD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()call TriggerRegisterTimerEvent(t,14,false)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MSD))call MF7(NO7,"Hero",TX7)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",TX7,"origin"))call UW7(TX7,'A0WR')call SetUnitAbilityLevel(TX7,'A0WR',GetUnitAbilityLevel(TX7,'A0WQ'))call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A0WR',false)set t=nullset TX7=nullendfunctionfunction MUD takes nothing returns booleanif GetSpellAbilityId()=='A0WQ' thencall MTD()endifreturn falseendfunctionfunction EU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MUD))set t=nullendfunctionfunction MVD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEvalCount(t)>300 thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetUnitAbilityLevel(U47,'B0E7')>0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call ZO7(X97,U47,Y84,GetUnitAbilityLevel(X97,'A0BH')*75)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction MWD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call TriggerRegisterTimerEvent(t,0.01,true)call TriggerAddCondition(t,Condition(function MVD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullendfunctionfunction MXD takes nothing returns booleanif GetSpellAbilityId()=='A0BH' thencall MWD()endifreturn falseendfunctionfunction EV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MXD))set t=nullendfunctionfunction MYD takes nothing returns booleanreturn GetSpellAbilityId()=='A055'endfunctionfunction MZD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real R09=(LoadReal(C7,(V_7),(20)))call ZO7(X97,U47,Y84,R09)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction MAD takes nothing returns nothinglocal location UM8=GetUnitLoc(GetSpellTargetUnit())local integer ZN7=GetUnitAbilityLevel(GetTriggerUnit(),'A055')local integer MBD=GetRandomInt(1,ZN7+1)local unit OS9=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local real R09=GetRandomReal(1,200)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local texttag tt=CreateTextTag()if ZN7==2 thenset R09=GetRandomReal(50,225)elseif ZN7==3 thenset R09=GetRandomReal(75,250)elseif ZN7==4 thenset R09=GetRandomReal(100,275)endifcall TriggerRegisterTimerEvent(t,J77(OS9,U47)/1500,false)call TriggerAddCondition(t,Condition(function MZD))call SaveUnitHandle(C7,(V_7),(2),(OS9))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(20),((R09)*1.0))if(ZN7==4)thenset MBD=GetRandomInt(2,4)endifcall CreateNUnitsAtLoc(1,'e00E',GetOwningPlayer(OS9),UM8,bj_UNIT_FACING)call UW7(bj_lastCreatedUnit,'A04U')call SetUnitAbilityLevel(bj_lastCreatedUnit,'A04U',MBD)call IssueTargetOrder(bj_lastCreatedUnit,"thunderbolt",U47)call WD7(I2S(MBD),MBD,U47,0.03,127,127,255,255)call SetTextTagText(tt,"+"+I2S(R2I(R09)),0.025)call SetTextTagPosUnit(tt,U47,10)call SetTextTagColor(tt,255,0,0,255)call SetTextTagVelocity(tt,0,0.0355)call SetTextTagFadepoint(tt,2)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,2)if IsUnitVisible(U47,GetLocalPlayer())or TV7(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset t=nullset tt=nullendfunctionfunction EX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MYD))call TriggerAddAction(t,function MAD)endfunctionfunction MCD takes nothing returns booleanreturn GetLearnedSkill()=='AHfa'and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction M3D takes nothing returns nothingif(UnitHasBuffBJ(GetTriggerUnit(),'BOwk'))thencall UnitRemoveAbility(GetTriggerUnit(),'BOwk')endifcall DisableTrigger(DF)endfunctionfunction GQ8 takes nothing returns nothingset DF=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DF,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(DF,Condition(function MCD))call TriggerAddAction(DF,function M3D)endfunctionfunction M6D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XT7=(LoadUnitHandle(C7,(TM7),(2)))local real MLD=GetUnitState(XT7,UNIT_STATE_LIFE)call UnitRemoveAbility(XT7,'A1R0')call UnitRemoveAbility(XT7,'B0D5')call ZU7(XT7,0)call ZW7(XT7,0)call SetUnitState(XT7,UNIT_STATE_LIFE,MLD)call FlushChildHashtable(C7,(TM7))call NM7(t)set t=nullset XT7=nullreturn falseendfunctionfunction M1D takes nothing returns nothinglocal unit XT7=GetTriggerUnit()local unit XR7=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer TM7=GetHandleId(t)local integer JK7=GetUnitAbilityLevel(XT7,'A04Q')local real M0D=GetUnitState(XR7,UNIT_STATE_LIFE)local real MLD=GetUnitState(XT7,UNIT_STATE_LIFE)local integer M5D=R2I((0.035+0.015*JK7)*M0D)local integer M2D=R2I((0.35+0.15*JK7)*M0D)call ZU7(XT7,M5D)call ZW7(XT7,M2D)call UW7(XT7,'A1R0')call SetUnitState(XR7,UNIT_STATE_LIFE,1)call ZO7(XT7,XR7,Y94,20)call ZO7(XT7,XR7,Y84,20)call ZO7(XT7,XR7,YD4,20)call SetUnitState(XT7,UNIT_STATE_LIFE,MLD+M2D)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",XR7,"chest"))call SaveUnitHandle(C7,(TM7),(2),(XT7))call TriggerRegisterUnitEvent(t,XT7,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,35,false)call TriggerAddCondition(t,Condition(function M6D))set XT7=nullset XR7=nullset t=nullendfunctionfunction M_D takes nothing returns booleanif GetSpellAbilityId()=='A04Q' and GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)>0.5 and JS7(GetSpellTargetUnit())==false thencall M1D()endifreturn falseendfunctionfunction GR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M_D))set t=nullendfunctionfunction N4D takes integer x returns booleanreturn x=='A21F' or x=='A21G' or x=='A14O' or x=='A0NE' or x=='A14O' or x=='A1C0' or x=='A0SB'endfunctionfunction N7D takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),'B06X')>0 and(SJ7(GetSpellAbilityId())or GetSpellAbilityId()=='A0OI')and N4D(GetSpellAbilityId())==false and BM7(GetSpellAbilityId())==falseendfunctionfunction N8D takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit TX7=GetTriggerUnit()local unit x9=MZ7(NO7,"Destroyer")local integer sr=GetUnitAbilityLevel(x9,'A0IF')if GetRandomInt(1,100)<=sr*10 and m9(TX7,x9,1400)thencall SetUnitState(TX7,UNIT_STATE_MANA,GetUnitState(TX7,UNIT_STATE_MANA)+0.25*GetUnitState(TX7,UNIT_STATE_MAX_MANA))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",TX7,"overhead"))endifset TX7=nullset x9=nullendfunctionfunction N9D takes unit TX7,boolean R99 returns nothinglocal integer sr=GetUnitAbilityLevel(TX7,'A0IF')local trigger tif(sr==1 or R99)thenset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function N7D))call TriggerAddAction(t,function N8D)call MF7(GetHandleId(t),"Destroyer",TX7)if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tendifendifif R99 thencall UnitAddAbility(TX7,'A0OL')if sr>1 thencall UnitAddAbility(TX7,'A0OM')endifif sr>2 thencall UnitAddAbility(TX7,'A0ON')endifif sr>3 thencall UnitAddAbility(TX7,'A0OH')endifelseif(sr==1)thencall UW7(TX7,'A0OL')elseif(sr==2)thencall UW7(TX7,'A0OM')elseif(sr==3)thencall UW7(TX7,'A0ON')elseif(sr==4)thencall UW7(TX7,'A0OH')endifendifset t=nullendfunctionfunction NDD takes nothing returns booleanif GetLearnedSkill()=='A0IF' and IsUnitIllusion(GetTriggerUnit())==false thencall N9D(GetTriggerUnit(),false)endifreturn falseendfunctionfunction G68 takes nothing returns nothingset RJ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(RJ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(RJ,Condition(function NDD))endfunctionfunction XA takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),'B06Y')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0OI')>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),'B06Y')set d=.01*(5+GetUnitAbilityLevel(GetEventDamageSource(),'A0OI'))*(GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+100)if(IsUnitType(GetTriggerUnit(),UNIT_TYPE_SUMMONED)or IsUnitIllusion(GetTriggerUnit()))and GetUnitTypeId(GetTriggerUnit())!='n004'and GetUnitTypeId(GetTriggerUnit())!='n018'and GetUnitTypeId(GetTriggerUnit())!='n01C'and GetUnitTypeId(GetTriggerUnit())!='n01G'and GetUnitTypeId(GetTriggerUnit())!='n00U'and GetUnitTypeId(GetTriggerUnit())!='n00Y'and GetUnitTypeId(GetTriggerUnit())!='n00Z'thenset d=d+100*GetUnitAbilityLevel(GetEventDamageSource(),'A0OI')endifcall WD7("+"+I2S(R2I(d)),1,GetTriggerUnit(),.023,191,64,255,216)if(GetRandomInt(1,100)<=GetUnitAbilityLevel(GetEventDamageSource(),'A0IF')*10)and(N77(GetHandleId(GetTriggeringTrigger()),"DoneViaSpell")==false)thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_MANA,GetUnitState(GetEventDamageSource(),UNIT_STATE_MANA)+.25*GetUnitState(GetEventDamageSource(),UNIT_STATE_MAX_MANA))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCasterOverhead.mdl",GetEventDamageSource(),"overhead"))endifcall DisableTrigger(GetTriggeringTrigger())call ZO7(GetEventDamageSource(),GetTriggerUnit(),YD4,d)call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction Xb takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thencall ME7(GetHandleId(t),"DoneViaSpell",true)elsecall ME7(GetHandleId(t),"DoneViaSpell",false)endifcall MF7(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function XA))endifset t=nullset m5=nullset p5=nullendfunctionfunction XB takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),'A0OI')>0 and(N77(GetHandleId(GetTriggeringTrigger()),"OrbOn")or(GZ[304+GetPlayerId(GetOwningPlayer(GetAttacker()))]))and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")thencall Xb()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==852255)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==852256)thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0OI'thencall Xb()endifreturn falseendfunctionfunction NED takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function XB))call MF7(GetHandleId(t),"Hero",TX7)if R99 thenset rj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction NFD takes nothing returns booleanif GetLearnedSkill()=='A0OI'and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0OI')==1 thencall NED(GetTriggerUnit(),false)endifreturn falseendfunctionfunction GL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NFD))set t=nullendfunctionfunction NGD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer NHD=M_7(NO7,"StolenInt")call SetHeroInt(m5,GetHeroInt(m5,false)+NHD,true)call SetHeroInt(p5,GetHeroInt(p5,false)-NHD,true)call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction NID takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")call NJ7(m5,"AstralImprisonmentState")call DestroyEffect(ML7(NO7,"FX"))call SetUnitInvulnerable(m5,false)call PauseUnit(m5,false)call ShowUnit(m5,true)call ClearSelectionForPlayer(GetOwningPlayer(m5))call SelectUnitAddForPlayer(m5,GetOwningPlayer(m5))call M47(GetHandleId(p5),"748")call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction NJD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0OJ')local integer NKD=VY7(GetHeroInt(U47,false),ZN7*2)local trigger tlocal integer V_7local unit ZM7=CreateUnit(GetOwningPlayer(U47),'o019',GetUnitX(U47),GetUnitY(U47),0)call UnitApplyTimedLife(ZM7,'BTLF',ZN7+1)if(IsUnitEnemy(U47,GetOwningPlayer(X97)))==false or T37(GetSpellTargetUnit())==false thencall NH7(U47,"AstralImprisonmentState")set t=CreateTrigger()set V_7=GetHandleId(t)call SelectUnitRemoveForPlayer(U47,GetOwningPlayer(U47))call SetUnitInvulnerable(U47,true)call PauseUnit(U47,true)call ShowUnit(U47,false)call MG7(V_7,"FX",AddSpecialEffect("Abilities\\Spells\\Demon\\DarkConversion\\ZombifyTarget.mdl",GetUnitX(U47),GetUnitY(U47)))call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)call TriggerRegisterTimerEvent(t,ZN7,false)call TriggerAddCondition(t,Condition(function NID))if(IsUnitEnemy(U47,GetOwningPlayer(X97)))==true thencall MF7(GetHandleId(X97),"748",U47)call SetHeroInt(U47,GetHeroInt(U47,false)-NKD,true)call SetHeroInt(X97,GetHeroInt(X97,false)+NKD,true)set t=CreateTrigger()set V_7=GetHandleId(t)call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)call M87(V_7,"StolenInt",NKD)call TriggerRegisterTimerEvent(t,60,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NGD))endifendifset ZM7=nullset X97=nullset U47=nullset t=nullendfunctionfunction NMD takes nothing returns booleanif GetSpellAbilityId()=='A0OJ' thencall NJD()endifreturn falseendfunctionfunction NND takes nothing returns nothingif IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and GetSpellTargetUnit()!=GetTriggerUnit()thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n038'))))endifendfunctionfunction NOD takes nothing returns booleanif GetSpellAbilityId()=='A0OJ' thencall NND()endifreturn falseendfunctionfunction G18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NMD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function NOD))set t=nullendfunctionfunction NPD takes nothing returns booleanreturn GetSpellAbilityId()=='A0OK' or GetSpellAbilityId()=='A1VW'endfunctionfunction NQD takes nothing returns nothinglocal unit U47=GetEnumUnit()local unit NRD=GetTriggerUnit()local integer NSD=GetHeroInt(NRD,true)-GetHeroInt(U47,true)local integer array NTDlocal integer ZN7=GetUnitAbilityLevel(NRD,'A0OK')local integer NUD=7+1*ZN7if ZN7==0 thenset ZN7=GetUnitAbilityLevel(NRD,'A1VW')set NUD=7+1*ZN7+1endifset NTD[1]=10set NTD[2]=30set NTD[3]=50if(NSD>0)thencall UnitDamageTarget(NRD,U47,NSD*NUD,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call WD7(I2S(R2I(NSD*NUD)),3,U47,0.023,216,30,30,216)if(NSD<NTD[ZN7])thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\SpellBreakerAttack.mdl",U47,"overhead"))call SetUnitState(U47,UNIT_STATE_MANA,GetUnitState(U47,UNIT_STATE_MANA)*.25)endifendifset U47=nullset NRD=nullendfunctionfunction NVD takes nothing returns booleanif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true)thenif(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))thenreturn trueendifendifreturn falseendfunctionfunction NWD takes nothing returns nothinglocal unit OS9=GetTriggerUnit()local integer SM9=GetUnitAbilityLevel(OS9,'A0OK')local real x=GetLocationX(GetSpellTargetLoc())local real y=GetLocationY(GetSpellTargetLoc())local group R_9=TL7()local integer MO9=0local unit NXD=(MZ7(GetHandleId(OS9),"748"))if SM9==0 thenset SM9=GetUnitAbilityLevel(OS9,'A1VW')endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x,y))loopexitwhen MO9>=360call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosTarget.mdl",x+(200+SM9*50)*Cos(MO9*bj_DEGTORAD),y+(200+SM9*50)*Sin(MO9*bj_DEGTORAD)))set MO9=MO9+45endloopcall GroupEnumUnitsInRange(R_9,x,y,300+SM9*100,Condition(function NVD))if NXD!=null and J87(x,y,GetUnitX(NXD),GetUnitY(NXD))<(300+SM9*100)thencall SetUnitInvulnerable(NXD,false)call GroupAddUnit(R_9,NXD)endifcall ForGroup(R_9,function NQD)if NXD!=null and UY7(NXD)==false thencall SetUnitInvulnerable(NXD,true)endifcall T67(R_9)set OS9=nullset R_9=nullendfunctionfunction G08 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NPD))call TriggerAddAction(t,function NWD)set t=nullendfunctionfunction NYD takes nothing returns nothingcall ZO7(RM4,GetEnumUnit(),Y84,RN4)endfunctionfunction NZD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=MZ7(V_7,"Target")local unit X97=MZ7(V_7,"Source")local group glocal integer S08=M_7(V_7,"Count")if GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEvalCount(t)>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0QG' and GetSpellTargetUnit()==U47)thencall DestroyEffect(ML7(V_7,"Effect"))call K_7(V_7)call NM7(t)elseset S08=S08+1call M87(V_7,"Count",S08)set g=TL7()set I04=X97set RM4=X97set RN4=1.0+2.0*GetUnitAbilityLevel(X97,'A0QG')call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),275,Condition(function Y47))call GroupRemoveUnit(g,U47)call ForGroup(g,function NYD)call T67(g)endifset U47=nullset t=nullset X97=nullset g=nullreturn falseendfunctionfunction NAD takes nothing returns nothinglocal trigger t=CreateTrigger()local effect fx=AddSpecialEffectTarget("war3mapImported\\NewSoulArmor.mdx",GetSpellTargetUnit(),"chest")local integer V_7=GetHandleId(t)call WN7(JO,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call MF7(V_7,"Source",GetTriggerUnit())call MF7(V_7,"Target",GetSpellTargetUnit())call MG7(V_7,"Effect",fx)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,GetSpellTargetUnit(),EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NZD))set t=nullset fx=nullendfunctionfunction NBD takes nothing returns booleanif GetSpellAbilityId()=='A0QG' thencall NAD()endifreturn falseendfunctionfunction HW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NBD))set t=nullendfunctionfunction NCD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real x=N47(NO7,"x")local real y=N47(NO7,"y")local integer SR7local unit p5local unit m5local real x1local real y1local real dlocal real aif GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)elseset m5=MZ7(NO7,"Target")set d=N47(NO7,"d")set x=N47(NO7,"x")set y=N47(NO7,"y")set a=N47(NO7,"a")set x1=GetUnitX(m5)+d/ 15*Cos(a)set y1=GetUnitY(m5)+d/ 15*Sin(a)if IsUnitType(m5,UNIT_TYPE_HERO)==true thencall SetUnitPosition(m5,x1,y1)elsecall SetUnitX(m5,x1)call SetUnitY(m5,y1)endifif GetTriggerEvalCount(t)>15 thenset p5=MZ7(NO7,"Source")set SR7=M_7(NO7,"Level")call K_7(NO7)call NM7(t)call ZO7(p5,m5,Y84,SR7*40)set p5=nullendifset m5=nullendifset t=nullreturn falseendfunctionfunction N3D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function NCD))call M97(NO7,"x",(j0)*1.0)call M97(NO7,"y",(K0)*1.0)call M97(NO7,"d",(J87(j0,K0,GetUnitX(m5),GetUnitY(m5)))*1.0)call M97(NO7,"a",(Atan2(K0-GetUnitY(m5),j0-GetUnitX(m5)))*1.0)call M87(NO7,"Level",l0)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)set t=nullset p5=nullset m5=nullendfunctionfunction N6D takes nothing returns nothinglocal group g=TL7()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer SR7=GetUnitAbilityLevel(GetTriggerUnit(),'A0QE')local real r=200+100*SR7set I04=GetTriggerUnit()call WN7(YO,x,y)call DestroyEffect(AddSpecialEffect("war3mapImported\\Star Aura.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,r,Condition(function YN7))set j0=xset K0=yset l0=SR7call ForGroup(g,function N3D)call WK7(x,y,200)call RemoveLocation(l)call T67(g)set l=nullset g=nullendfunctionfunction NLD takes nothing returns booleanif GetSpellAbilityId()=='A0QE' thencall N6D()endifreturn falseendfunctionfunction N1D takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)if WM7(x,y)==false or(IsPointInRegion(J94,((x)*1.0),((y)*1.0)))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n03K'))))endifcall RemoveLocation(l)set l=nullendfunctionfunction N0D takes nothing returns booleanif GetSpellAbilityId()=='A0QE' thencall N1D()endifreturn falseendfunctionfunction HV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NLD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function N0D))set t=nullendfunctionfunction Xq takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")call UnitRemoveAbility(m5,'B07W')call UnitRemoveAbility(m5,'Bblo')call UnitRemoveAbility(m5,'B062')call UnitRemoveAbility(m5,'B065')call UnitRemoveAbility(m5,'Bcrs')call UnitRemoveAbility(m5,'B016')call UnitRemoveAbility(m5,'B05R')set t=nullset m5=nullreturn falseendfunctionfunction XQ takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(GetTriggerUnit(),'A0R7')*1.5+.5,false)call TriggerAddCondition(t,Condition(function Xq))call MF7(GetHandleId(t),"Target",GetSpellTargetUnit())call WN7(bR,GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))call DestroyEffect(AddSpecialEffectTarget("effects\\Surge.mdx",GetSpellTargetUnit(),"origin"))set t=nullendfunctionfunction N5D takes nothing returns booleanif GetSpellAbilityId()=='A0R7'thencall XQ()endifreturn falseendfunctionfunction tU takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function N5D))set t=nullendfunctionfunction N2D takes boolean N_D returns booleanlocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit O4D=MZ7(NO7,"Wall")local unit m5=GetTriggerUnit()local unit XS=CreateUnit(GetOwningPlayer(O4D),'e01S',GetUnitX(m5),GetUnitY(m5),0)local unit T_7=G7[GetPlayerId(GetOwningPlayer(O4D))]local integer ZN7=GetUnitAbilityLevel(T_7,'A0QK')if ZN7==0 thenset ZN7=GetUnitAbilityLevel(T_7,'A21Q')endifcall SetUnitAbilityLevel(O4D,'A0QL',ZN7)set PI4=GetUnitX(m5)set PJ4=GetUnitY(m5)set PK4=m5if N_D thencall SetUnitAbilityLevel(O4D,'A0QL',3+ZN7)call IssueTargetOrderById(O4D,852274,m5)call ZO7(O4D,m5,Y84,150)elsecall IssueTargetOrderById(O4D,852274,m5)call ZO7(O4D,m5,Y84,150)endifcall UnitApplyTimedLife(XS,'BTLF',.5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(m5),GetUnitY(m5)))set O4D=nullset m5=nullset XS=nullreturn falseendfunctionfunction O7D takes nothing returns booleanlocal group gif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(MZ7(GetHandleId(GetTriggeringTrigger()),"Wall")))and(GetUnitTypeId((GetFilterUnit()))=='H00J')==false thenset g=M67(GetHandleId(GetTriggeringTrigger()),"g1")if IsUnitInGroup(GetFilterUnit(),g)==false thencall GroupAddUnit(g,GetFilterUnit())call N2D(false)endifendifset g=nullreturn falseendfunctionfunction O8D takes nothing returns booleanlocal group gif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(MZ7(GetHandleId(GetTriggeringTrigger()),"Wall")))and(GetUnitTypeId((GetFilterUnit()))=='H00J')==false thenset g=M67(GetHandleId(GetTriggeringTrigger()),"g1")if IsUnitInGroup(GetFilterUnit(),g)==false thencall GroupAddUnit(g,GetFilterUnit())call N2D(true)endifendifset g=nullreturn falseendfunctionfunction WallOfReplica_FindSource takes nothing returns nothingif GetPlayerId(GetOwningPlayer(GetEnumUnit()))==IY4 thencall GroupAddUnit(J44,GetEnumUnit())endifendfunctionfunction O9D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)call GroupRemoveUnit(M67(V_7,"g1"),MZ7(V_7,"imagesource"))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))call K_7(V_7)call DisableTrigger(t)set t=nullreturn falseendfunctionfunction ODD takes nothing returns booleanlocal unit O4D=GetSummoningUnit()local unit SO8=GetSummonedUnit()local integer V_7=GetHandleId(O4D)local integer OED=M_7(V_7,"NumOfImages")local trigger t=CreateTrigger()call SetUnitVertexColor(SO8,255,255,255,100)call TriggerRegisterUnitEvent(t,SO8,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O9D))call MO7(GetHandleId(t),"g1",M67(V_7,"g1"))call MF7(GetHandleId(t),"imagesource",PK4)set OED=OED+1call M87(V_7,"NumOfImages",OED)call MF7(V_7,"Illusion"+I2S(OED),SO8)call MH7(V_7,"IllusionTrig"+I2S(OED),t)call SetUnitX(SO8,PI4)call SetUnitY(SO8,PJ4)set O4D=nullset SO8=nullset t=nullreturn falseendfunctionfunction OFD takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction Xw takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer v5=GetHandleId(t)local trigger XW=M37(v5,"mastert")local integer tK=GetHandleId(XW)local trigger v7=M37(tK,"DetectTrig")local group Xx=M67(tK,"g1")local group XX=M67(tK,"g2")local unit OGD=MZ7(tK,"Wall")local integer Xy=GetHandleId(OGD)local integer Xv=M_7(Xy,"NumOfImages")local integer ilocal unit ucall ForGroup(XX,function OFD)set i=1loopexitwhen i>Xvset u=MZ7(Xy,"Illusion"+I2S(i))call K_7(GetHandleId(M37(Xy,"IllusionTrig"+I2S(i))))call NM7(M37(Xy,"IllusionTrig"+I2S(i)))if IsUnitIllusion(u)thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImageCaster.mdl",GetUnitX(u),GetUnitY(u)))call RemoveUnit(u)endifset i=i+1endloopcall K_7(v5)call K_7(tK)call K_7(Xy)call RemoveUnit(OGD)call T67(Xx)call T67(XX)call NM7(XW)call NM7(v7)call NM7(t)set t=nullset XW=nullset v7=nullset Xx=nullset XX=nullset OGD=nullset u=nullreturn falseendfunctionfunction OHD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real OID=GetUnitFacing(TX7)-45local unit OGD=CreateUnit(GetOwningPlayer(TX7),'h00O',x,y,OID)local unit ulocal real P29local real P_9local integer ilocal real Xklocal trigger t=CreateTrigger()local group g1=TL7()local integer NO7=GetHandleId(t)local group g2=TL7()local trigger XW=tlocal integer ZN7=GetUnitAbilityLevel(TX7,'A0QK')local boolean N_D=falseif ZN7==0 thenset N_D=trueset ZN7=GetUnitAbilityLevel(TX7,'A21Q')endifcall SetUnitAbilityLevel(OGD,'A0QL',ZN7)call WN7(hR,x,y)call MO7(NO7,"g1",g1)call MO7(GetHandleId(OGD),"g1",g1)call MO7(NO7,"g2",g2)call MF7(NO7,"Wall",OGD)call M87(GetHandleId(OGD),"NumOfImages",0)set i=0loopexitwhen i>39set P29=x+(500-25*i)*Cos((OID-45)*bj_DEGTORAD)set P_9=y+(500-25*i)*Sin((OID-45)*bj_DEGTORAD)set u=CreateUnit(GetOwningPlayer(TX7),'h00P',P29,P_9,OID)call GroupAddUnit(g2,u)call TriggerRegisterUnitInRange(t,u,17,Condition(function Q37))set i=i+1endloopif N_D thencall TriggerAddCondition(t,Condition(function O8D))elsecall TriggerAddCondition(t,Condition(function O7D))endifset t=CreateTrigger()call TriggerRegisterUnitEvent(t,OGD,EVENT_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function ODD))call MH7(NO7,"DetectTrig",t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15*ZN7,false)call TriggerAddCondition(t,Condition(function Xw))call MH7(GetHandleId(t),"mastert",XW)call RemoveLocation(l)set TX7=nullset l=nullset u=nullset t=nullset XW=nullset g1=nullset g2=nullset OGD=nullendfunctionfunction OJD takes nothing returns booleanif GetSpellAbilityId()=='A0QK' or GetSpellAbilityId()=='A21Q' thencall OHD()endifreturn falseendfunctionfunction HX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OJD))set t=nullendfunctionfunction OKD takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZE4)==false and TU7(GetEnumUnit())==false thencall GroupAddUnit(ZE4,GetEnumUnit())call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),ZF4,false)call XO7(GetEnumUnit(),ZF4,1,3,'B05Q')call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\SpellShieldAmulet\\SpellShieldCaster.mdl",GetEnumUnit(),"overhead"))endifendfunctionfunction OMD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))local real x2=(LoadReal(C7,(V_7),(66)))local real y2=(LoadReal(C7,(V_7),(67)))local real a=(LoadReal(C7,(V_7),(137)))local integer S08=GetTriggerEvalCount(t)local real x=GetUnitX(T_7)local real y=GetUnitY(T_7)local real P39=(LoadReal(C7,(V_7),(23)))local real P69=(LoadReal(C7,(V_7),(24)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local group g=TL7()local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local integer ZN7=GetUnitAbilityLevel(T_7,'A0LK')if J87(x,y,x2,y2)<=FU thenset x=x2set y=y2elseset x=P39+65*Cos(a*bj_DEGTORAD)set y=P69+65*Sin(a*bj_DEGTORAD)endifif ZN7==1 thenset ZF4='A29A'elseif ZN7==2 thenset ZF4='A299'elseif ZN7==3 thenset ZF4='A29B'elseif ZN7==4 thenset ZF4='A298'endifset I04=T_7set ZE4=AN9call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))call ForGroup(g,function OKD)call T67(g)call SaveReal(C7,(V_7),(23),((x)*1.0))call SaveReal(C7,(V_7),(24),((y)*1.0))call SetUnitPosition(T_7,x,y)if(x==x2 and y==y2)or S08>40 thencall SetUnitX(ZM7,x)call SetUnitY(ZM7,y)call IssueImmediateOrder(ZM7,"thunderclap")call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitAnimation(T_7,"stand")call SetUnitPathing(T_7,true)call SetUnitInvulnerable(T_7,false)if GetUnitTypeId(T_7)=='E02X' thencall SetUnitVertexColor(T_7,255,255,255,255)elsecall SetUnitVertexColor(T_7,0,255,150,255)endifcall NJ7(T_7,"TimeWalk|Active")endifset t=nullset T_7=nullset ZM7=nullreturn falseendfunctionfunction OND takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local location llocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real x1=GetUnitX(T_7)local real y1=GetUnitY(T_7)local real x2local real y2local real alocal unit ZM7=CreateUnit(GetOwningPlayer(T_7),'e00E',x1,y1,0)if GetSpellTargetUnit()==null thenset l=GetSpellTargetLoc()elseset l=GetUnitLoc(GetSpellTargetUnit())endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=W77(x1,y1,x2,y2)call RemoveLocation(l)call SetUnitAnimationByIndex(T_7,0)call SetUnitPathing(T_7,false)call SetUnitInvulnerable(T_7,true)call SetUnitVertexColor(T_7,0,0,0,255)call NH7(T_7,"TimeWalk|Active")call SaveReal(C7,(V_7),(66),((x2)*1.0))call SaveReal(C7,(V_7),(67),((y2)*1.0))call SaveReal(C7,(V_7),(23),((x1)*1.0))call SaveReal(C7,(V_7),(24),((y1)*1.0))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveUnitHandle(C7,(V_7),(14),(T_7))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call UW7(ZM7,'A0LA')call SetUnitAbilityLevel(ZM7,'A0LA',GetUnitAbilityLevel(T_7,'A0LK'))call TriggerRegisterTimerEvent(t,VH4,true)call TriggerAddCondition(t,Condition(function OMD))set T_7=nullset l=nullset t=nullset ZM7=nullendfunctionfunction OOD takes nothing returns booleanif GetSpellAbilityId()=='A0LK' thencall OND()endifreturn falseendfunctionfunction EY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OOD))set t=nullendfunctionfunction X6 takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real V37=GetEventDamage()if(V37>0)and GetUnitState(TX7,UNIT_STATE_LIFE)>1 thenif(GetRandomInt(1,100)<=(5+(5*GetUnitAbilityLevel(TX7,'A0CZ'))))thencall SetUnitState(TX7,UNIT_STATE_LIFE,GetUnitState(TX7,UNIT_STATE_LIFE)+V37)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\WingedSerpentMissile\\WingedSerpentMissile.mdl",TX7,"hand,left"))endifendifset TX7=nullendfunctionfunction OPD takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddAction(t,function X6)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction OQD takes nothing returns booleanif GetLearnedSkill()=='A0CZ' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0CZ')==1 thencall OPD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction EA8 takes nothing returns nothingset IV4=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(IV4,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(IV4,Condition(function OQD))endfunctionfunction ORD takes nothing returns booleanreturn GetSpellAbilityId()=='A0J1' or GetSpellAbilityId()=='A1D7'endfunctionfunction OSD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit ya=MZ7(NO7,"Caster")call SetUnitTimeScale(ya,0)call PauseTimer(t)call K_7(NO7)call DestroyTimer(t)set t=nullset ya=nullendfunctionfunction OTD takes unit S4 returns booleanlocal integer ID=GetUnitTypeId(S4)return ID=='osp4' or ID=='o008' or ID=='o009' or ID=='ebal' or ID=='e026' or ID=='umtw' or ID=='u00R'endfunctionfunction OUD takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())!=GetOwningPlayer(L7)and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or OTD(GetFilterUnit()))endfunctionfunction OVD takes nothing returns nothingcall PauseUnit(GetEnumUnit(),true)call SetUnitTimeScale(GetEnumUnit(),0)call UnitRemoveAbility(GetEnumUnit(),'BUsl')call UnitRemoveAbility(GetEnumUnit(),'BUsp')call UnitRemoveAbility(GetEnumUnit(),'BUst')call SaveInteger(C7,(GetHandleId((GetEnumUnit()))),((4306)),(1))endfunctionfunction OWD takes nothing returns nothingcall SaveInteger(C7,(GetHandleId((GetEnumUnit()))),((4306)),(2))call PauseUnit(GetEnumUnit(),false)call SetUnitTimeScale(GetEnumUnit(),1)endfunctionfunction OXD takes nothing returns nothinglocal unit RA7=GetEnumUnit()if(IsUnitType(RA7,UNIT_TYPE_STRUCTURE)and(IsUnitEnemy(RA7,GetOwningPlayer(hx)))and(IsUnitVisible(RA7,GetOwningPlayer(hx)))and(hS==null))thenset hS=RA7elseif(IsUnitType(RA7,UNIT_TYPE_HERO)and(IsUnitEnemy(RA7,GetOwningPlayer(hx)))and(IsUnitVisible(RA7,GetOwningPlayer(hx)))and((hS==null)or(IsUnitType(hS,UNIT_TYPE_STRUCTURE))or(GetUnitLifePercent(hS)>GetUnitLifePercent(RA7))))thenset hS=RA7endifset RA7=nullendfunctionfunction OYD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit OZD=MZ7(NO7,"Caster")local unit TX7=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")local group OAD=M67(NO7,"Group")local integer T8=M_7(NO7,"Counter")local real Y5=GetUnitX(OZD)local real Z5=GetUnitY(OZD)local boolexpr EHD=Condition(function OUD)local group B47=TL7()local integer O5=GetPlayerId(GetOwningPlayer(TX7))local integer J5D=35+SR7*5if GetUnitAbilityLevel(TX7,'A1D7')>0 thenset J5D=30+SR7*10endifcall ForGroup(OAD,function OWD)set L7=TX7call GroupEnumUnitsInRange(B47,Y5,Z5,425,EHD)call GroupClear(OAD)call GroupAddGroup(B47,OAD)call ForGroup(B47,function OVD)if(GetPlayerController(GetOwningPlayer(TX7))==MAP_CONTROL_COMPUTER)thenif(h4[16+O5]==null)thenset hS=nullset hx=TX7call ForGroup(B47,function OXD)set h4[16+O5]=hSendifif(h4[16+O5]!=null)thenif((IsUnitAliveBJ(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],'B02F')==0))thenif((not IsUnitInRange(TX7,h4[16+O5],300.))and(IsUnitType(h4[16+O5],UNIT_TYPE_HERO)))thenif(not IssueTargetOrderById(TX7,852218,h4[16+O5]))thencall IssueTargetOrderById(TX7,851983,h4[16+O5])endifelseif(not jP(TX7,OU[A1]))thencall IssueTargetOrderById(TX7,851983,h4[16+O5])endifelseset h4[16+O5]=nullendifendifendifcall T67(B47)set T8=T8+1call M87(NO7,"Counter",T8)if T8>J5D thenset GZ[384+O5]=falseset h4[16+O5]=nullif C8==false thencall ForGroup(OAD,function OWD)endifcall RemoveUnit(OZD)call T67(OAD)call PauseTimer(t)call K_7(NO7)call DestroyTimer(t)endifset t=nullset OZD=nullset TX7=nullset OAD=nullcall DestroyBoolExpr(EHD)set EHD=nullset B47=nullendfunctionfunction OBD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,('A0J1'))local location m5=GetSpellTargetLoc()local real Y5=GetLocationX(m5)local real Z5=GetLocationY(m5)local unit OZD=CreateUnit(GetOwningPlayer(TX7),('u00L'),Y5,Z5,0)local timer t=CreateTimer()local integer NO7=GetHandleId(t)local group OAD=TL7()local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if SR7==0 thenset SR7=GetUnitAbilityLevel(TX7,'A1D7')endifset GZ[384+O5]=trueset h4[16+O5]=nullset hq[512+O5]=Bz+2.+(SR7)call MF7(GetHandleId(t),"Caster",OZD)call TimerStart(t,0.8,false,function OSD)set t=CreateTimer()set NO7=GetHandleId(t)call MF7(NO7,"Caster",OZD)call MF7(NO7,"Hero",TX7)call MO7(NO7,"Group",OAD)call M87(NO7,"Counter",0)call M87(NO7,"Level",SR7)call TimerStart(t,0.1,true,function OYD)call RemoveLocation(m5)set TX7=nullset m5=nullset OZD=nullset t=nullset OAD=nullendfunctionfunction EB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ORD))call TriggerAddAction(t,function OBD)set t=nullendfunctionfunction OCD takes unit u,real O3D returns nothinglocal integer d=R2I(O3D)local integer array blocal integer a=dlocal integer c=1local integer i=0local integer O6Dlocal real differenceset CN4[0]='A23H'set CN4[1]='A23K'set CN4[2]='A23L'set CN4[3]='A23J'set CN4[4]='A23I'set CN4[5]='A23M'if d<1 thencall UnitRemoveAbility(u,CN4[0])call UnitRemoveAbility(u,CN4[1])call UnitRemoveAbility(u,CN4[2])call UnitRemoveAbility(u,CN4[3])call UnitRemoveAbility(u,CN4[4])call UnitRemoveAbility(u,CN4[5])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset O6D=5set i=0loopexitwhen i>O6Dif b[i]==1 thencall UW7(u,CN4[i])call SetPlayerAbilityAvailable(GetOwningPlayer(u),CN4[i],false)elsecall UnitRemoveAbility(u,CN4[i])endifset i=i+1endloopendfunctionfunction OLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A23G')local real WG8=(LoadReal(C7,(GetHandleId(U47)),(682)))local integer S08=(LoadInteger(C7,(GetHandleId(U47)),(683)))-1call OCD(U47,S08*ZN7)call SaveInteger(C7,(GetHandleId(U47)),(683),(S08))call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction O1D takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A23G')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer S08=(LoadInteger(C7,(GetHandleId(U47)),(683)))+1call OCD(U47,S08*ZN7)call SaveInteger(C7,(GetHandleId(U47)),(683),(S08))call SaveReal(C7,(GetHandleId(U47)),(682),(((TimerGetElapsed(P))+CS4-0.01)*1.0))call TriggerRegisterTimerEvent(t,CS4,false)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function OLD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",U47,"origin"))set t=nullendfunctionfunction O0D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer PT9=(LoadInteger(C7,(V_7),(30)))local unit U47=QL7(PT9)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall DisableTrigger(t)if GetUnitAbilityLevel(U47,'A04R')==0 thencall O1D(X97,U47)endifcall Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction O5D takes nothing returns nothinglocal trigger t=CreateTrigger()local unit U47=GetTriggerUnit()local unit X97=GetAttacker()local integer V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function O0D))call SaveInteger(C7,(V_7),(30),(Q07(U47)))call SaveUnitHandle(C7,(V_7),(2),(X97))set U47=nullset X97=nullset t=nullendfunctionfunction O2D takes nothing returns nothinglocal unit X97=GetAttacker()if((LoadInteger(C7,(GetHandleId((X97))),((4307))))==1)==false thencall NQ7(X97,"4307",0.3)call O5D()endifendfunctionfunction O_D takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A23G')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(C7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall O2D()endifreturn falseendfunctionfunction P4D takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function O_D))call SaveUnitHandle(C7,(GetHandleId(t)),(14),(GetTriggerUnit()))set t=nullendfunctionfunction P7D takes nothing returns booleanif GetLearnedSkill()=='A23G' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A23G')==1 thencall P4D()endifreturn falseendfunctionfunction EC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function P7D))set t=nullendfunctionfunction P8D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetUnitAbilityLevel(p5,'B0C2')==0 thencall K_7(NO7)call NM7(t)call SetUnitTimeScale(p5,1)call M87(GetHandleId(p5),"TimeLocked",2)elsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))endifset t=nullset p5=nullreturn falseendfunctionfunction P9D takes unit p5 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call SetUnitTimeScale(p5,0)call M87(GetHandleId(p5),"TimeLocked",1)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function P8D))call MF7(NO7,"Source",p5)set t=nullendfunctionfunction PDD takes nothing returns booleanif GetUnitAbilityLevel(GetFilterUnit(),'B0C2')>0 and(M_7(GetHandleId(GetFilterUnit()),"TimeLocked")==1)==false thencall P9D(GetFilterUnit())endifreturn falseendfunctionfunction PED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local group g=TL7()set P2=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),450,Condition(function PDD))call T67(g)set t=nullset p5=nullset g=nullreturn falseendfunctionfunction PFD takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function PED))call MF7(NO7,"Source",p5)if R99 thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction PGD takes nothing returns booleanif GetLearnedSkill()=='A081' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A081')==1 thencall PFD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction EZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function PGD))set t=nullendfunctionfunction PHD takes unit H57 returns booleanreturn(GetUnitTypeId(H57)=='H00I'or GetUnitTypeId(H57)=='H00J' or GetUnitTypeId(H57)==GetUnitTypeId(GetTriggerUnit()))and GetUnitState(H57,UNIT_STATE_LIFE)>.5 and GetOwningPlayer(H57)==GetOwningPlayer(GetTriggerUnit())endfunctionfunction PID takes nothing returns booleanreturn GetSpellAbilityId()=='A0N8'endfunctionfunction PJD takes nothing returns booleanreturn PHD(GetFilterUnit())endfunctionfunction PKD takes nothing returns nothinglocal unit PMD=GetEnumUnit()local real yg=VL7(PMD,V9)if yg<D8 thenset D8=ygset L7=PMDendifset PMD=nullendfunctionfunction PND takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0endfunctionfunction POD takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\Feedback\\ArcaneTowerAttack.mdl",GetEnumUnit(),"origin"))call UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),D8,true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_FIRE,WEAPON_TYPE_WHOKNOWS)endfunctionfunction PPD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local location V89local real xlocal real ylocal real V59=GetUnitX(p5)local real V29=GetUnitY(p5)local group R_9local boolexpr JODlocal boolean PQD=falseif U47!=null and PHD(U47)thenset x=GetUnitX(U47)set y=GetUnitY(U47)set PQD=trueelseset JOD=Condition(function PJD)set R_9=TL7()call GroupEnumUnitsInRange(R_9,0,0,999999,JOD)if U47!=null thenset V89=GetUnitLoc(U47)elseset V89=GetSpellTargetLoc()endifset L7=FirstOfGroup(R_9)if L7!=null thenset PQD=truecall GroupRemoveUnit(R_9,L7)set D8=VL7(L7,V89)set V9=V89call ForGroup(R_9,function PKD)set U47=L7set x=GetUnitX(U47)set y=GetUnitY(U47)endifcall T67(R_9)call DestroyBoolExpr(JOD)call RemoveLocation(V89)endifif PQD thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",V59,V29))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\ToonBoom\\ToonBoom.mdl",x,y))call SetUnitX(p5,x)call SetUnitY(p5,y)set D8=60+GetUnitAbilityLevel(GetTriggerUnit(),('A0N8'))*20set JOD=Condition(function PND)set R_9=TL7()call GroupEnumUnitsInRange(R_9,V59,V29,400,JOD)call ForGroup(R_9,function POD)call T67(R_9)set R_9=TL7()call GroupEnumUnitsInRange(R_9,x,y,400,JOD)call ForGroup(R_9,function POD)call T67(R_9)call DestroyBoolExpr(JOD)endifcall DestroyBoolExpr(JOD)set p5=nullset U47=nullset V89=nullset R_9=nullset JOD=nullendfunctionfunction yj takes nothing returns nothingcall SetUnitAnimationByIndex(MZ7(GetHandleId(GetExpiredTimer()),"UnitVar"),2)endfunctionfunction PRD takes nothing returns nothinglocal timer t=CreateTimer()call SetUnitAnimationByIndex(GetTriggerUnit(),2)call MF7(GetHandleId(t),"UnitVar",GetTriggerUnit())call TimerStart(t,1,false,function yj)set t=nullendfunctionfunction HK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function PID))call TriggerAddAction(t,function PRD)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PID))call TriggerAddAction(t,function PPD)set t=nullendfunctionfunction PSD takes nothing returns booleanreturn GetSpellAbilityId()=='A0NB'endfunctionfunction yK takes nothing returns booleanreturn TU7(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(L7))and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>.5 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitTypeId(GetFilterUnit())!='n00L'endfunctionfunction PTD takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(L7),'e00E',D8,Co,0)call UW7(oA,'A0NC')call IssueTargetOrderById(oA,852106,GetEnumUnit())set oA=nullendfunctionfunction yL takes unit IJ,real x,real y returns nothinglocal boolexpr hP=Condition(function yK)local group B47=TL7()set L7=IJcall GroupEnumUnitsInRange(B47,x,y,245,hP)set D8=xset Co=ycall ForGroup(B47,function PTD)call T67(B47)call DestroyBoolExpr(hP)set hP=nullset B47=nullendfunctionfunction ym takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit IJ=MZ7(NO7,"Projectile")local real hN=N47(NO7,"TargetX")local real ho=N47(NO7,"TargetY")local real RK=N47(NO7,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real Il=GetUnitX(IJ)+30*Cos(RK)local real IL=GetUnitY(IJ)+30*Sin(RK)if(Il-hN)*(Il-hN)+(IL-ho)*(IL-ho)<1200 thencall SetUnitX(IJ,hN)call SetUnitY(IJ,ho)call yL(IJ,hN,ho)call PauseTimer(t)call K_7(NO7)call KillUnit(IJ)call DestroyTimer(t)elsecall SetUnitX(IJ,Il)call SetUnitY(IJ,IL)endifset t=nullset IJ=nullendfunctionfunction PUD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location sy=GetSpellTargetLoc()local real hN=VK7(GetLocationX(sy))local real ho=VM7(GetLocationY(sy))local real iN=VK7(GetUnitX(TX7))local real io=VM7(GetUnitY(TX7))local unit IJ=CreateUnit(GetOwningPlayer(TX7),'h00C',iN,io,0)local real RK=Atan2(ho-io,hN-iN)local timer t=CreateTimer()local integer NO7=GetHandleId(t)call SetUnitScale(IJ,2,2,2)call MF7(NO7,"Projectile",IJ)call M97(NO7,"TargetX",hN)call M97(NO7,"TargetY",ho)call M97(NO7,"Angle",RK)call TimerStart(t,.035,true,function ym)call RemoveLocation(sy)set sy=nullset IJ=nullset TX7=nullset t=nullendfunctionfunction HM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PSD))call TriggerAddAction(t,function PUD)set t=nullendfunctionfunction PVD takes unit u returns booleanreturn GetUnitTypeId(u)=='H00I'or GetUnitTypeId(u)=='H00J'endfunctionfunction PWD takes unit H57 returns booleanreturn GetUnitTypeId(H57)=='H00I'or GetUnitTypeId(H57)=='H00J'endfunctionfunction DoubleTrouble_IsKoboldCondition takes nothing returns booleanreturn GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(L7)and GetFilterUnit()!=L7 and(GetUnitTypeId(GetFilterUnit())=='H00I'or GetUnitTypeId(GetFilterUnit())=='H00J')endfunctionfunction DoubleTrouble_UnshareXPCondition takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(L7))and PWD(GetFilterUnit())==falseendfunctionfunction DoubleTrouble_UnshareXPGive takes nothing returns nothingcall AddHeroXP(GetEnumUnit(),pe,true)endfunctionfunction PXD takes nothing returns nothinglocal integer yp=GetHandleId(GetTriggeringTrigger())local player j8=MB7(yp,"PlayerVar")local integer yP=GetHandleId(j8)local unit CF7=MZ7(yP,"Kobold0")local unit CG7=MZ7(yP,"Kobold1")local unit CH7=MZ7(yP,"Kobold2")local unit CI7=MZ7(yP,"Kobold3")local unit CJ7=MZ7(yP,"Kobold4")local integer yq=GetUnitAbilityLevel(CF7,'Aamk')*2local integer yQ=GetHeroAgi(CF7,false)local integer yr=GetHeroAgi(CF7,true)-yQ-yqlocal integer yR=GetHeroStr(CF7,false)local integer ys=GetHeroStr(CF7,true)-yR-yqlocal integer yS=GetHeroInt(CF7,false)local integer yt=GetHeroInt(CF7,true)-yS-yqlocal real yT=.25local integer yu=R2I(yQ+yr*yT)local integer yU=R2I(yR+ys*yT)local integer yv=R2I(yS+yt*yT)if GetUnitState(CF7,UNIT_STATE_LIFE)>1 thenif CG7!=null thencall SetHeroAgi(CG7,yu,false)call SetHeroStr(CG7,yU,false)call SetHeroInt(CG7,yv,false)endifif CH7!=null thencall SetHeroAgi(CH7,yu,false)call SetHeroStr(CH7,yU,false)call SetHeroInt(CH7,yv,false)endifif CI7!=null thencall SetHeroAgi(CI7,yu,false)call SetHeroStr(CI7,yU,false)call SetHeroInt(CI7,yv,false)endifif CJ7!=null thencall SetHeroAgi(CJ7,yu,false)call SetHeroStr(CJ7,yU,false)call SetHeroInt(CJ7,yv,false)endifendifset j8=nullset CF7=nullset CG7=nullset CH7=nullset CI7=nullendfunctionfunction PYD takes nothing returns nothinglocal integer PZD=GetHandleId(GetTriggeringTrigger())local player PAD=MB7(PZD,"PlayerVar")local integer PBD=GetHandleId(PAD)local unit CF7=MZ7(PBD,"Kobold0")local unit CG7=MZ7(PBD,"Kobold1")local unit CH7=MZ7(PBD,"Kobold2")local unit CI7=MZ7(PBD,"Kobold3")local unit CJ7=MZ7(PBD,"Kobold4")local integer PCD=GetHandleId(CF7)local integer P3D=GetHandleId(CG7)local integer P6D=GetHandleId(CH7)local integer PLD=GetHandleId(CI7)local integer P1D=GetHandleId(CJ7)local integer P0D=M_7(PCD,"XPEarned")local integer P5D=M_7(PCD,"XPGiven")local integer P2D=M_7(P3D,"XPEarned")local integer P_D=M_7(P3D,"XPGiven")local integer Q4D=M_7(P6D,"XPEarned")local integer Q7D=M_7(P6D,"XPGiven")local integer Q8D=M_7(PLD,"XPEarned")local integer Q9D=M_7(PLD,"XPGiven")local integer QDD=M_7(P1D,"XPEarned")local integer QED=M_7(P1D,"XPGiven")local integer QFD=GetHeroXP(CF7)local integer QGD=GetHeroXP(CG7)local integer QHD=GetHeroXP(CH7)local integer QID=GetHeroXP(CI7)local integer QJD=GetHeroXP(CJ7)local integer QKD=QFD-P0D-P5Dlocal integer QMD=QGD-P2D-P_Dlocal integer QND=QHD-Q4D-Q7Dlocal integer QOD=QID-Q8D-Q9Dlocal integer QPD=QJD-QDD-QEDif GetUnitState(CF7,UNIT_STATE_LIFE)>1 thenset P0D=P0D+QKDset P2D=P2D+QMDset Q4D=Q4D+QNDset Q8D=Q8D+QODset QDD=QDD+QPDif CF7!=null thencall AddHeroXP(CG7,QKD,false)if GetHeroXP(CG7)!=QGD thenset P_D=P_D+QKDendifcall AddHeroXP(CH7,QKD,false)if GetHeroXP(CH7)!=QHD thenset Q7D=Q7D+QKDendifcall AddHeroXP(CI7,QKD,false)if GetHeroXP(CI7)!=QID thenset Q9D=Q9D+QKDendifcall AddHeroXP(CJ7,QKD,false)if GetHeroXP(CJ7)!=QJD thenset QED=QED+QKDendifendifif CG7!=null thencall AddHeroXP(CF7,QMD,false)if GetHeroXP(CF7)!=QFD thenset P5D=P5D+QMDendifcall AddHeroXP(CH7,QMD,false)if GetHeroXP(CH7)!=QHD thenset Q7D=Q7D+QMDendifcall AddHeroXP(CI7,QMD,false)if GetHeroXP(CI7)!=QID thenset Q9D=Q9D+QMDendifcall AddHeroXP(CJ7,QMD,false)if GetHeroXP(CJ7)!=QJD thenset QED=QED+QMDendifendifif CH7!=null thencall AddHeroXP(CG7,QND,false)if GetHeroXP(CG7)!=QGD thenset P_D=P_D+QNDendifcall AddHeroXP(CF7,QND,false)if GetHeroXP(CF7)!=QFD thenset P5D=P5D+QNDendifcall AddHeroXP(CI7,QND,false)if GetHeroXP(CI7)!=QID thenset Q9D=Q9D+QNDendifcall AddHeroXP(CJ7,QND,false)if GetHeroXP(CJ7)!=QJD thenset QED=QED+QNDendifendifif CI7!=null thencall AddHeroXP(CG7,QOD,false)if GetHeroXP(CG7)!=QGD thenset P_D=P_D+QODendifcall AddHeroXP(CH7,QOD,false)if GetHeroXP(CH7)!=QHD thenset Q7D=Q7D+QODendifcall AddHeroXP(CF7,QOD,false)if GetHeroXP(CF7)!=QFD thenset P5D=P5D+QODendifcall AddHeroXP(CJ7,QOD,false)if GetHeroXP(CJ7)!=QJD thenset QED=QED+QODendifendifif CJ7!=null thencall AddHeroXP(CG7,QPD,false)if GetHeroXP(CG7)!=QGD thenset P_D=P_D+QPDendifcall AddHeroXP(CH7,QPD,false)if GetHeroXP(CH7)!=QHD thenset Q7D=Q7D+QPDendifcall AddHeroXP(CF7,QPD,false)if GetHeroXP(CF7)!=QFD thenset P5D=P5D+QPDendifcall AddHeroXP(CI7,QPD,false)if GetHeroXP(CI7)!=QID thenset Q9D=Q9D+QPDendifendifcall M87(PCD,"XPEarned",P0D)call M87(PCD,"XPGiven",P5D)call M87(P3D,"XPEarned",P2D)call M87(P3D,"XPGiven",P_D)call M87(P6D,"XPEarned",Q4D)call M87(P6D,"XPGiven",Q7D)call M87(PLD,"XPEarned",Q8D)call M87(PLD,"XPGiven",Q9D)call M87(P1D,"XPEarned",QDD)call M87(P1D,"XPGiven",QED)endifset PAD=nullset CF7=nullset CG7=nullset CH7=nullset CI7=nullendfunctionfunction QQD takes nothing returns booleanreturn PWD(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction QRD takes nothing returns nothinglocal unit R08=GetTriggerUnit()local integer NO7=GetHandleId(GetOwningPlayer(R08))local unit CF7=MZ7(NO7,"Kobold0")local unit CG7=MZ7(NO7,"Kobold1")local unit CH7=MZ7(NO7,"Kobold2")local unit CI7=MZ7(NO7,"Kobold3")local unit CJ7=MZ7(NO7,"Kobold4")local boolean XFv=falsecall DisableTrigger(XR)if CF7!=null and CF7!=R08 thencall KillUnit(CF7)endifif CG7!=null and CG7!=R08 thencall KillUnit(CG7)endifif CH7!=null and CH7!=R08 thencall KillUnit(CH7)endifif CI7!=null and CI7!=R08 thencall KillUnit(CI7)endifif CJ7!=null and CJ7!=R08 thencall KillUnit(CJ7)endifcall EnableTrigger(XR)set R08=nullset CF7=nullset CG7=nullset CH7=nullset CI7=nullset CJ7=nullendfunctionfunction QSD takes nothing returns booleanreturn PWD(GetTriggerUnit())and IsUnitIllusion(GetTriggerUnit())==falseendfunctionfunction QTD takes unit QUD,unit T_7 returns nothinglocal trigger t=M37(GetHandleId(GetOwningPlayer(T_7)),"Kobold|ItemTrigger")local integer i=0local boolean QVD=falselocal boolean QWD=falselocal boolean QXD=falselocal boolean QYD=falselocal boolean QZD=falselocal boolean QAD=falselocal boolean QBD=falselocal boolean QCD=falselocal boolean Q3D=falsecall DisableTrigger(t)call DisableTrigger(HR4)loopexitwhen i>5if GetItemTypeId(UnitItemInSlot(T_7,i))==OU[BU]thenset QVD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[N6]thenset QWD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[A6]thenset QXD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[W6]thenset QYD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[V6]thenset QZD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[D_4]thenset QAD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==OU[FS4]thenset QBD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==(OU[EC])thenset QCD=trueendifif GetItemTypeId(UnitItemInSlot(T_7,i))==(OU[FC])thenset Q3D=trueendifset i=i+1endloopif Q3D thencall UnitAddItem(QUD,CreateItem((OU[FC]),0,0))elseif QCD thencall UnitAddItem(QUD,CreateItem((OU[EC]),0,0))elseif QBD thencall UnitAddItem(QUD,CreateItem(OU[FS4],0,0))elseif QAD thencall UnitAddItem(QUD,CreateItem(OU[D_4],0,0))elseif QZD thencall UnitAddItem(QUD,CreateItem(OU[V6],0,0))elseif QYD thencall UnitAddItem(QUD,CreateItem(OU[W6],0,0))elseif QXD thencall UnitAddItem(QUD,CreateItem(OU[A6],0,0))elseif QWD thencall UnitAddItem(QUD,CreateItem(OU[N6],0,0))elseif QVD thencall UnitAddItem(QUD,CreateItem(OU[BU],0,0))endifcall EnableTrigger(t)call EnableTrigger(HR4)set t=nullendfunctionfunction Q6D takes nothing returns nothinglocal unit CK7=GetTriggerUnit()local integer i=0local boolean QVD=falselocal boolean QWD=falselocal boolean QXD=falselocal boolean QYD=falselocal boolean QZD=falselocal boolean QAD=falselocal boolean QBD=falselocal boolean QCD=falselocal boolean Q3D=falselocal integer PBD=GetHandleId(GetOwningPlayer(CK7))local unit CF7=MZ7(PBD,"Kobold0")local unit CG7=MZ7(PBD,"Kobold1")local unit CH7=MZ7(PBD,"Kobold2")local unit CI7=MZ7(PBD,"Kobold3")local unit CJ7=MZ7(PBD,"Kobold4")local integer QLDlocal boolean Q1D=falselocal integer Q0D=0local integer Q5D=0local integer Q2D=0local integer Q_D=0local integer R4D=0local integer R7D=0local integer R8D=0local integer R9D=0local integer RDD=0call DisableTrigger(GetTriggeringTrigger())if GetUnitTypeId(CK7)=='H00J'thencall UnitRemoveItemFromSlot(CK7,0)call EnableTrigger(GetTriggeringTrigger())returnendifif not(GetItemTypeId(GetManipulatedItem())==OU[BU]or GetItemTypeId(GetManipulatedItem())==OU[N6]or GetItemTypeId(GetManipulatedItem())==OU[A6]or GetItemTypeId(GetManipulatedItem())==OU[W6]or GetItemTypeId(GetManipulatedItem())==OU[V6]or GetItemTypeId(GetManipulatedItem())==OU[D_4]or GetItemTypeId(GetManipulatedItem())==OU[FS4]or GetItemTypeId(GetManipulatedItem())==(OU[EC])or GetItemTypeId(GetManipulatedItem())==(OU[FC]))thencall EnableTrigger(GetTriggeringTrigger())returnendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenset Q1D=trueendifloopexitwhen i>5set QLD=GetItemTypeId(UnitItemInSlot(CK7,i))if QLD==OU[BU]thenset Q0D=Q0D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(Q0D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QVD=trueendifendifif QLD==OU[N6]thenset Q5D=Q5D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(Q5D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QWD=trueendifendifif QLD==OU[A6]thenset Q2D=Q2D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(Q2D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QXD=trueendifendifif QLD==OU[W6]thenset Q_D=Q_D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(Q_D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QYD=trueendifendifif QLD==OU[V6]thenset R4D=R4D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(R4D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QZD=trueendifendifif QLD==OU[D_4]thenset R7D=R7D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(R7D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QAD=trueendifendifif QLD==(OU[FS4])thenset R8D=R8D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(R8D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QBD=trueendifendifif QLD==(OU[EC])thenset R9D=R9D+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(R9D>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset QCD=trueendifendifif QLD==(OU[FC])thenset RDD=RDD+1if(not(Q1D and QLD==GetItemTypeId(GetManipulatedItem())))or(RDD>1 and QLD==GetItemTypeId(GetManipulatedItem()))thenset Q3D=trueendifendifset i=i+1endloopcall RemoveItem(UnitRemoveItemFromSlot(CG7,0))if CH7!=null thencall RemoveItem(UnitRemoveItemFromSlot(CH7,0))endifif CI7!=null thencall RemoveItem(UnitRemoveItemFromSlot(CI7,0))endifif CJ7!=null thencall RemoveItem(UnitRemoveItemFromSlot(CJ7,0))endifif Q3D thencall UnitAddItem(CG7,CreateItem((OU[FC]),0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem((OU[FC]),0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem((OU[FC]),0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[FC]),0,0))endifelseif QCD thencall UnitAddItem(CG7,CreateItem((OU[EC]),0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem((OU[EC]),0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem((OU[EC]),0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[EC]),0,0))endifelseif QBD thencall UnitAddItem(CG7,CreateItem((OU[FS4]),0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem((OU[FS4]),0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem((OU[FS4]),0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[FS4]),0,0))endifelseif QAD thencall UnitAddItem(CG7,CreateItem(OU[D_4],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[D_4],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[D_4],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[D_4]),0,0))endifelseif QZD thencall UnitAddItem(CG7,CreateItem(OU[V6],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[V6],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[V6],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[V6]),0,0))endifelseif QYD thencall UnitAddItem(CG7,CreateItem(OU[W6],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[W6],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[W6],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[W6]),0,0))endifelseif QXD thencall UnitAddItem(CG7,CreateItem(OU[A6],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[A6],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[A6],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[A6]),0,0))endifelseif QWD thencall UnitAddItem(CG7,CreateItem(OU[N6],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[N6],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[N6],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[N6]),0,0))endifelseif QVD thencall UnitAddItem(CG7,CreateItem(OU[BU],0,0))if CH7!=null thencall UnitAddItem(CH7,CreateItem(OU[BU],0,0))endifif CI7!=null thencall UnitAddItem(CI7,CreateItem(OU[BU],0,0))endifif CJ7!=null thencall UnitAddItem(CJ7,CreateItem((OU[BU]),0,0))endifendifcall EnableTrigger(GetTriggeringTrigger())set CK7=nullset CF7=nullset CG7=nullset CH7=nullset CI7=nullendfunctionfunction RED takes unit RFD,integer RGD returns nothinglocal integer yP=GetHandleId(GetOwningPlayer(RFD))local unit CF7=MZ7(yP,"Kobold0")local unit CG7=MZ7(yP,"Kobold1")local unit CH7=MZ7(yP,"Kobold2")local unit CI7=MZ7(yP,"Kobold3")local unit CJ7=MZ7(yP,"Kobold4")if CF7!=null and CF7!=RFD thencall SelectHeroSkill(CF7,RGD)endifif CG7!=null and CG7!=RFD thencall SelectHeroSkill(CG7,RGD)endifif CH7!=null and CH7!=RFD thencall SelectHeroSkill(CH7,RGD)endifif CI7!=null and CI7!=RFD thencall SelectHeroSkill(CI7,RGD)endifif CJ7!=null and CJ7!=RFD thencall SelectHeroSkill(CJ7,RGD)endifset CF7=nullset CG7=nullset CH7=nullset CI7=nullset CJ7=nullendfunctionfunction RHD takes integer N7,unit qf,unit qF returns nothinglocal integer T8=1local integer U8=GetUnitAbilityLevel(qf,N7)loopexitwhen T8>U8call SelectHeroSkill(qF,N7)set T8=T8+1endloopendfunctionfunction RID takes unit QUD,unit RJD returns nothingcall AddHeroXP(QUD,GetHeroXP(RJD),false)call M87(GetHandleId(QUD),"XPGiven",GetHeroXP(RJD))call M87(GetHandleId(QUD),"XPEarned",0)call RHD('A0N8',RJD,QUD)call RHD('A0NB',RJD,QUD)call RHD('A0N7',RJD,QUD)call RHD('Aamk',RJD,QUD)call RHD('A0MW',RJD,QUD)call RHD('A27C',RJD,QUD)endfunctionfunction RKD takes unit CG7,unit CH7,integer YJ,integer Yg,integer YG returns nothingif Yg>YG thencall SelectHeroSkill(CH7,YJ)elseif YG>Yg thencall SelectHeroSkill(CG7,YJ)endifendfunctionfunction RMD takes unit CG7,unit CH7 returns nothinglocal integer y8=GetHeroXP(CG7)local integer y9=GetHeroXP(CH7)local integer yW=GetHandleId(CG7)local integer yx=GetHandleId(CH7)local integer yZ=M_7(yW,"XPGiven")local integer y4=M_7(yx,"XPGiven")local integer VXif y8>y9 thenset VX=y8-y9call AddHeroXP(CH7,VX,true)if y9!=GetHeroXP(CH7)thencall M87(yx,"XPGiven",y4+VX)endifelseif y8<y9 thenset VX=y9-y8call AddHeroXP(CG7,VX,true)if y8!=GetHeroXP(CG7)thencall M87(yW,"XPGiven",yZ+VX)endifendifendfunctionfunction RND takes unit CG7,unit CH7 returns nothinglocal integer ROD=GetUnitAbilityLevel(CG7,'A0N8')local integer RPD=GetUnitAbilityLevel(CG7,'A0NB')local integer RQD=GetUnitAbilityLevel(CG7,'A0N7')local integer RRD=GetUnitAbilityLevel(CG7,'A0MW')local integer RSD=GetUnitAbilityLevel(CG7,'Aamk')local integer RTD=GetUnitAbilityLevel(CG7,'A27C')local integer RUD=GetUnitAbilityLevel(CH7,'A0N8')local integer RVD=GetUnitAbilityLevel(CH7,'A0NB')local integer RWD=GetUnitAbilityLevel(CH7,'A0N7')local integer RXD=GetUnitAbilityLevel(CH7,'A0MW')local integer RYD=GetUnitAbilityLevel(CH7,'Aamk')local integer RZD=GetUnitAbilityLevel(CH7,'A27C')call RMD(CG7,CH7)call RKD(CG7,CH7,'A0N8',ROD,RUD)call RKD(CG7,CH7,'A0NB',RPD,RVD)call RKD(CG7,CH7,'A0N7',RQD,RWD)call RKD(CG7,CH7,'A0MW',RRD,RXD)call RKD(CG7,CH7,'A27C',RTD,RZD)call RKD(CG7,CH7,'Aamk',RSD,RYD)endfunctionfunction RAD takes unit CG7,unit CH7 returns nothingif CG7!=null and CH7!=null thencall RND(CG7,CH7)endifendfunctionfunction RBD takes nothing returns nothinglocal integer PBD=GetHandleId(MB7(GetHandleId(GetTriggeringTrigger()),"PlayerVar"))local unit CF7=MZ7(PBD,"Kobold0")local unit CG7=MZ7(PBD,"Kobold1")local unit CH7=MZ7(PBD,"Kobold2")local unit CI7=MZ7(PBD,"Kobold3")local unit CJ7=MZ7(PBD,"Kobold4")call DisableTrigger(PM4)call RAD(CF7,CG7)call RAD(CF7,CH7)call RAD(CF7,CI7)call RAD(CF7,CJ7)call RAD(CG7,CH7)call RAD(CG7,CI7)call RAD(CG7,CJ7)call RAD(CH7,CI7)call RAD(CH7,CJ7)call RAD(CI7,CJ7)call EnableTrigger(PM4)set CF7=nullset CG7=nullset CH7=nullset CI7=nullset CJ7=nullendfunctionfunction RCD takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddAction(t,function RBD)call MM7(GetHandleId(t),"PlayerVar",GetOwningPlayer(GetTriggerUnit()))set t=nullendfunctionfunction R3D takes unit X97 returns nothinglocal trigger tcall MF7(GetHandleId(GetOwningPlayer(X97)),"Kobold0",X97)call M87(GetHandleId(X97),"XPEarned",GetHeroXP(X97))call M87(GetHandleId(X97),"XPGiven",0)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddAction(t,function PYD)call MM7(GetHandleId(t),"PlayerVar",GetOwningPlayer(X97))call MH7(GetHandleId(GetOwningPlayer(X97)),"Kobold|XPTrigger",t)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.3,true)call TriggerAddAction(t,function PXD)call MM7(GetHandleId(t),"PlayerVar",GetOwningPlayer(X97))call MH7(GetHandleId(GetOwningPlayer(X97)),"Kobold|AttributesTrigger",t)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function QRD)call TriggerAddCondition(t,Condition(function QQD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddAction(t,function Q6D)call TriggerAddCondition(t,Condition(function QSD))call MH7(GetHandleId(GetOwningPlayer(X97)),"Kobold|ItemTrigger",t)call ExecuteFunc("RCD")set t=nullendfunctionfunction R6D takes unit X97,boolean RLD returns nothinglocal player PAD=GetOwningPlayer(X97)local integer V_7=GetHandleId(PAD)local unit QUDset AG4=AG4+1if AG4==1 thencall R3D(X97)endifcall TriggerExecute(M37(GetHandleId(GetOwningPlayer(X97)),"Kobold|XPTrigger"))call TriggerExecute(M37(GetHandleId(GetOwningPlayer(X97)),"Kobold|AttributesTrigger"))if RLD==false thencall RED(X97,'A0MW')call RED(X97,'A27C')endifset QUD=CreateUnit(GetOwningPlayer(X97),'H00J',GetUnitX(X97),GetUnitY(X97),0)call RID(QUD,X97)call QTD(QUD,X97)call MF7(V_7,"Kobold"+I2S(AG4),QUD)set QUD=nullendfunctionfunction R1D takes nothing returns nothingif AH4==false thenset AH4=truecall DisableTrigger(PM4)call R6D(I04,true)call EnableTrigger(PM4)endifendfunctionfunction R0D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if IsUnitIllusion(GetTriggerUnit())==false and GetOwningPlayer(GetTriggerUnit())==GetOwningPlayer(X97)and PVD(GetTriggerUnit())thenif GetLearnedSkill()=='A0MW' or GetLearnedSkill()=='A27C' thencall DisableTrigger(GetTriggeringTrigger())call R6D(GetTriggerUnit(),false)call EnableTrigger(GetTriggeringTrigger())elseif GetLearnedSkill()=='Aamk' or GetLearnedSkill()=='A0N8' or GetLearnedSkill()=='A0NB' or GetLearnedSkill()=='A0N7' thencall TriggerExecute(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|XPTrigger"))call TriggerExecute(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"Kobold|AttributesTrigger"))call DisableTrigger(GetTriggeringTrigger())call RED(GetTriggerUnit(),GetLearnedSkill())call EnableTrigger(GetTriggeringTrigger())endifendifset X97=nullreturn falseendfunctionfunction R5D takes nothing returns nothinglocal unit X97=I04local integer V_7set AF4=CreateTrigger()set PM4=AF4set V_7=GetHandleId(AF4)call WH7(AF4,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(AF4,Condition(function R0D))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullendfunctionfunction Yu takes nothing returns booleanreturn IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false and VI8(GetFilterUnit())==false)endfunctionfunction YU takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")local group glocal unit ulocal real dlocal real alocal real R2Dlocal real R_Dlocal unit ZM7=MZ7(NO7,"Caster")if GetTriggerEvalCount(t)>32 thencall K_7(NO7)call NM7(t)elseset g=TL7()set I04=TX7call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),500,Condition(function Yu))set u=GroupPickRandomUnit(g)if u==null thenset d=GetRandomReal(175,400)set a=GetRandomReal(0,6)set R2D=GetUnitX(TX7)+d*Cos(a)set R_D=GetUnitY(TX7)+d*Sin(a)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",R2D,R_D))elsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SteamTank\\SteamTankImpact.mdl",u,"origin"))call ZO7(ZM7,u,YF4,12.5*SR7)endifcall T67(g)endifset u=nullset g=nullset t=nullset TX7=nullreturn falseendfunctionfunction Yv takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\RocketMissile\\RocketMissile.mdl",TX7,"hand right"))call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",ZM7)call M87(NO7,"Level",GetUnitAbilityLevel(TX7,'A20T'))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function YU))set t=nullset TX7=nullendfunctionfunction S4D takes nothing returns booleanif GetSpellAbilityId()=='A20T'thencall Yv()endifreturn falseendfunctionfunction E38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S4D))set t=nullendfunctionfunction S7D takes nothing returns nothinglocal unit X97=YG4local unit U47=GetEnumUnit()call ZO7(X97,U47,Y84,YH4)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",U47,"origin"))set X97=nullset U47=nullendfunctionfunction S8D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit X97=MZ7(NO7,"Source")local integer ZN7=GetUnitAbilityLevel(X97,'A21F')local group gif ZN7!=0 thenif ZN7==1 thenset YH4=66elseif ZN7==2 thenset YH4=100elseset YH4=144endifelseset ZN7=GetUnitAbilityLevel(X97,'A21G')if ZN7==1 thenset YH4=88elseif ZN7==2 thenset YH4=133elseset YH4=177endifendifif GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(X97,UNIT_STATE_MANA)<20*ZN7 or(LoadInteger(C7,(GetHandleId(X97)),(704)))==-1 or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A21H' or GetSpellAbilityId()=='A27H'))thenif(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A21F' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21F',true)endifif(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A21G' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21G',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21H',false)call K_7(NO7)call NM7(t)call NJ7(X97,"AI|PulseNova")elseif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MANA)-20*ZN7)set I04=X97set YG4=X97set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),475,Condition(function Y47))call ForGroup(g,function S7D)call T67(g)set g=nullendifset t=nullreturn falseendfunctionfunction S9D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",X97,"origin"))call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21F',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21G',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A21H',true)call UnitAddAbility(X97,'A21H')call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S8D))call MF7(NO7,"Source",X97)call TriggerEvaluate(t)call NH7(X97,"AI|PulseNova")set X97=nullset t=nullendfunctionfunction Yy takes nothing returns booleanif GetSpellAbilityId()=='A21F'or GetSpellAbilityId()=='A21G'thencall S9D()endifreturn falseendfunctionfunction E68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Yy))set t=nullendfunctionfunction SDD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit XW9=(LoadUnitHandle(C7,(V_7),(374)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local integer SED=(LoadInteger(C7,(V_7),(233)))local integer SFD=(LoadInteger(C7,(V_7),(12)))local unit ZM7local group glocal real alocal real xlocal real ylocal integer SGD=(LoadInteger(C7,(V_7),(720)))if SGD>0 thenset SGD=SGD-1call SaveInteger(C7,(V_7),(720),(SGD))return falseendifif J87(GetUnitX(XW9),GetUnitY(XW9),GetUnitX(U47),GetUnitY(U47))>20 thenset a=W77(GetUnitX(XW9),GetUnitY(XW9),GetUnitX(U47),GetUnitY(U47))call SetUnitFacing(XW9,a)set x=GetUnitX(XW9)+13.5*Cos(a*bj_DEGTORAD)set y=GetUnitY(XW9)+13.5*Sin(a*bj_DEGTORAD)call SetUnitX(XW9,x)call SetUnitY(XW9,y)elseif UY7(U47)==false thenset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A091')call SetUnitAbilityLevel(ZM7,'A091',ZN7)call IssueTargetOrder(ZM7,"frostnova",U47)endifif SED>SFD thencall RemoveUnit(XW9)call FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),600,Condition(function YM7))call GroupRemoveUnit(g,U47)set U47=GroupPickRandomUnit(g)call T67(g)if U47==null thencall RemoveUnit(XW9)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall SaveInteger(C7,(V_7),(720),(10))call SaveInteger(C7,(V_7),(233),(SED+1))call SaveUnitHandle(C7,(V_7),(17),(U47))endifendifendifset t=nullset X97=nullset U47=nullset XW9=nullset ZM7=nullset g=nullreturn falseendfunctionfunction SHD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A05T')local integer SFD=7local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit XW9if GetSpellAbilityId()=='A08H' thenset ZN7=GetUnitAbilityLevel(X97,'A08H')+1set SFD=7endifset XW9=CreateUnit(GetOwningPlayer(X97),'e009',GetUnitX(X97),GetUnitY(X97),0)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(374),(XW9))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(233),(1))call SaveInteger(C7,(V_7),(12),(SFD))call SaveInteger(C7,(V_7),(720),(0))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function SDD))set X97=nullset U47=nullset XW9=nullset t=nullendfunctionfunction SID takes nothing returns booleanif GetSpellAbilityId()=='A05T' or GetSpellAbilityId()=='A08H' thencall SHD()endifreturn falseendfunctionfunction E18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SID))set t=nullendfunctionfunction SJD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(p5,'A094')local integer SKD=GetHeroLevel(m5)if ModuloInteger(SKD,7-SR7)==0 or SKD==25 thencall ZO7(p5,m5,Y84,275)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Demon\\DemonBoltImpact\\DemonBoltImpact.mdl",m5,"chest"))endifset p5=nullset m5=nullendfunctionfunction SMD takes nothing returns booleanif GetSpellAbilityId()=='A094' thencall SJD()endifreturn falseendfunctionfunction E08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SMD))set t=nullendfunctionfunction SND takes unit X97 returns nothingcall UnitRemoveAbility(X97,'A1OQ')call UnitRemoveAbility(X97,'A1OR')call UnitRemoveAbility(X97,'A1OS')call UnitRemoveAbility(X97,'A1OT')call UnitRemoveAbility(X97,'A1OU')call UnitRemoveAbility(X97,'A1OV')call UnitRemoveAbility(X97,'A1OW')call UnitRemoveAbility(X97,'A1OX')call UnitRemoveAbility(X97,'A1OY')call UnitRemoveAbility(X97,'S00M')call UnitRemoveAbility(X97,'A1OZ')call UnitRemoveAbility(X97,'S00N')call UnitRemoveAbility(X97,'A1P0')call UnitRemoveAbility(X97,'A1P1')call UnitRemoveAbility(X97,'A1P7')call UnitRemoveAbility(X97,'A1PA')call UnitRemoveAbility(X97,'A1P3')call UnitRemoveAbility(X97,'A1P4')call UnitRemoveAbility(X97,'A1P5')call UnitRemoveAbility(X97,'A1P6')call UnitRemoveAbility(X97,'A2AG')endfunctionfunction SOD takes unit X97,unit U47 returns nothinglocal integer SPD=GetUnitTypeId(U47)local integer SQD=0local integer SRD=0if SPD=='n0HX' thenset SQD='A1OQ'elseif SPD=='nomg' thenset SQD='A1OR'elseif SPD=='nfpu' thenset SQD='A1OS'elseif SPD=='nstl' thenset SQD='A1OT'elseif SPD=='nsat' thenset SQD='A1OU'elseif SPD=='nsth' thenset SQD='A1OV'set SRD='A1OW'elseif SPD=='n00S' thenset SQD='A1OX'set SRD='A1OY'elseif SPD=='nkol' thenset SQD='S00M'elseif SPD=='nfsh' thenset SQD='A1OZ'set SRD='A2AG'elseif SPD=='ncnk' thenset SQD='S00N'set SRD='A1P0'elseif SPD=='ngns' thenset SQD='A1P1'elseif SPD=='ngh1' thenset SQD='A1P7'set SRD='A1PA'elseif SPD=='nowe' thenset SQD='A1P3'set SRD='A1P4'elseif SPD=='ndtw' thenset SQD='A1P5'set SRD='A1P6'elseif SPD=='nwlg' thenset SQD='A1OY'endifif SQD!=0 thencall SND(X97)call UW7(X97,SQD)endifif SRD!=0 thencall UW7(X97,SRD)endifendfunctionfunction SSD takes real STD returns stringlocal string c1="|c00ff0303"local string c="||"local string p=" "local string s=c1+c+"|r"local string SUDif STD>85 thenset SUD=s+p+s+p+s+p+s+p+s+p+s+p+selseif STD>70 thenset SUD=s+p+s+p+s+p+s+p+s+p+s+p+celseif STD>55 thenset SUD=s+p+s+p+s+p+s+p+s+p+c+p+celseif STD>40 thenset SUD=s+p+s+p+s+p+s+p+c+p+c+p+celseif STD>25 thenset SUD=s+p+s+p+s+p+c+p+c+p+c+p+celseif STD>10 thenset SUD=s+p+s+p+c+p+c+p+c+p+c+p+celseif STD>0 thenset SUD=s+p+c+p+c+p+c+p+c+p+c+p+celseset SUD=c+p+c+p+c+p+c+p+c+p+c+p+cendifreturn SUDendfunctionfunction SVD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")local integer SWD=M_7(NO7,"TypeID")local real HP=N47(NO7,"HP")local texttag tt=MA7(NO7,"tt")local integer iX=GetTriggerEvalCount(t)local real SXD=VC7(HP-iX,0)local boolean SYD=truecall SetTextTagText(tt,SSD(100*SXD/ HP),0.018)call SetTextTagPosUnit(tt,TX7,0)if IsUnitVisible(TX7,GetLocalPlayer())==false and TV7(GetLocalPlayer())==false thenset SYD=falseendifcall SetTextTagVisibility(tt,SYD)if SXD==0 thencall W07(GetOwningPlayer(TX7),TX7,20+20*SR7)endifif SXD==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A10R',true)call UnitRemoveAbility(TX7,'A10S')call K_7(NO7)call NM7(t)call DestroyTextTag(tt)endifset t=nullset TX7=nullreturn falseendfunctionfunction SZD takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(T_7,'A10R')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real HP=GetUnitState(U47,UNIT_STATE_LIFE)local integer SAD=GetUnitLevel(U47)local integer SWD=GetUnitTypeId(U47)local texttag tt=CreateTextTag()local boolean SYD=truelocal unit ZM7=CreateUnit(GetOwningPlayer(T_7),'e00E',0,0,0)call W97("SPLK",GetUnitX(T_7),GetUnitY(T_7),GetUnitX(U47),GetUnitY(U47),0.1,0.1,0.2,.9,0.5)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\Devour\\DevourEffectArt.mdl",GetUnitX(U47),GetUnitY(U47)))if IsUnitVisible(T_7,GetLocalPlayer())==false thenset SYD=falseendifcall SOD(T_7,U47)call SetTextTagText(tt,SSD(100),0.018)call SetTextTagPosUnit(tt,T_7,0)call SetTextTagVisibility(tt,SYD)call SetTextTagPermanent(tt,true)call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A10R',false)call UW7(T_7,'A10S')call MF7(NO7,"Hero",T_7)call MR7(NO7,"tt",tt)call M87(NO7,"TypeID",SWD)call M87(NO7,"Level",SR7)call M97(NO7,"HP",HP)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function SVD))call ShowUnit(U47,false)call UnitRemoveBuffs(U47,true,true)call UnitRemoveAbility(U47,'Aetl')call UnitDamageTarget(ZM7,U47,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set t=nullset T_7=nullset U47=nullset ZM7=nullendfunctionfunction SBD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A10R')local integer SAD=GetUnitLevel(m5)if(GetOwningPlayer(m5)!=Y7[0]and GetOwningPlayer(m5)!=Z7[0])and((SR7==1 and SAD>2)or(SR7==2 and SAD>4)or(SR7==3 and SAD>5)or(SR7==4 and SAD>6))thencall JN7(TX7)call VH7(GetOwningPlayer(TX7),S27('n0CX'))endifset TX7=nullset m5=nullendfunctionfunction SCD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer id=M_7(NO7,"Count")call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction S3D takes nothing returns nothinglocal integer id=GetSpellAbilityId()local trigger tlocal integer NO7if id=='A1OQ' or id=='A1OR' or id=='A1OS' or id=='A1OT' or id=='A1OU' or id=='A1OV' or id=='A1OW' or id=='A1OX' or id=='A1OY' or id=='S00M' or id=='A1OZ' or id=='S00N' or id=='A1P0' or id=='A1P1' or id=='A1P2' or id=='A1P3' or id=='A1P4' or id=='A1P5' or id=='A1P6' thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function SCD))call MF7(NO7,"Source",GetTriggerUnit())call M87(NO7,"Count",id)set t=nullendifendfunctionfunction S6D takes nothing returns booleanif GetSpellAbilityId()=='A10R' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall SBD()elsecall SZD()endifelseif GetUnitTypeId(GetTriggerUnit())=='UC42' thencall S3D()endifreturn falseendfunctionfunction E58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function S6D))set t=nullendfunctionfunction SLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call UnitRemoveAbility(p5,'A1OL')call UnitRemoveAbility(p5,'A1ON')call UnitRemoveAbility(p5,'A1OO')call UnitRemoveAbility(p5,'A1OM')call UnitRemoveAbility(p5,'B04J')call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction S1D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A1OP')if ZN7==1 thencall UW7(X97,'A1OL')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1OL',false)elseif ZN7==2 thencall UW7(X97,'A1ON')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1ON',false)elseif ZN7==3 thencall UW7(X97,'A1OO')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1OO',false)elseif ZN7==4 thencall UW7(X97,'A1OM')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1OM',false)endifcall TriggerRegisterTimerEvent(t,8+2*ZN7,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function SLD))call MF7(V_7,"Source",X97)set X97=nullset t=nullendfunctionfunction S0D takes nothing returns booleanif GetSpellAbilityId()=='A1OP' thencall S1D()endifreturn falseendfunctionfunction E28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S0D))set t=nullendfunctionfunction S5D takes nothing returns booleanlocal real xlocal real yif(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))thenset x=A2+GetRandomReal(20,70)*Cos(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)set y=N2+GetRandomReal(20,70)*Sin(GetUnitFacing(GetTriggerUnit())*bj_DEGTORAD)call SetUnitPosition(GetFilterUnit(),x,y)endifreturn falseendfunctionfunction S2D takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=TL7()local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)local integer ZN7=GetUnitAbilityLevel(p5,'A29L')set A2=GetUnitX(p5)+100*Cos(GetUnitFacing(p5)*bj_DEGTORAD)set N2=GetUnitY(p5)+100*Sin(GetUnitFacing(p5)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,410+24,Condition(function S5D))call T67(g)call UW7(ZM7,'A06F')call SetUnitAbilityLevel(ZM7,'A06F',ZN7)call IssueImmediateOrder(ZM7,"stomp")set p5=nullset g=nullendfunctionfunction S_D takes nothing returns booleanif GetSpellAbilityId()=='A29L' thencall S2D()endifreturn falseendfunctionfunction E_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S_D))set t=nullendfunctionfunction T4D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XR7=(LoadUnitHandle(C7,(TM7),(17)))if GetUnitAbilityLevel(XR7,'B00U')==0 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(XR7,'A1Q0')call UnitRemoveAbility(XR7,'A1Q1')call UnitRemoveAbility(XR7,'A1Q2')call UnitRemoveAbility(XR7,'A1Q3')call FlushChildHashtable(C7,(TM7))call NM7(t)endifset t=nullset XR7=nullreturn falseendfunctionfunction T7D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer TM7=GetHandleId(t)local unit XT7=GetTriggerUnit()local unit XR7=GetSpellTargetUnit()local integer JK7=GetUnitAbilityLevel(XT7,'A037')local integer T8Dif JK7==1 thenset T8D='A1Q0'elseif JK7==2 thenset T8D='A1Q1'elseif JK7==3 thenset T8D='A1Q2'elseif JK7==4 thenset T8D='A1Q3'endifcall SetPlayerAbilityAvailable(GetOwningPlayer(XR7),T8D,false)call UW7(XR7,T8D)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,XR7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T4D))call SaveUnitHandle(C7,(TM7),(17),(XR7))set t=nullset XT7=nullset XR7=nullendfunctionfunction T9D takes nothing returns booleanif GetSpellAbilityId()=='A037' thencall T7D()endifreturn falseendfunctionfunction F48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T9D))set t=nullendfunctionfunction TDD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XR7=(LoadUnitHandle(C7,(TM7),(17)))call UnitRemoveAbility(XR7,'A1Q6')call UnitRemoveAbility(XR7,'B0CX')call FlushChildHashtable(C7,(TM7))call NM7(t)set t=nullset XR7=nullreturn falseendfunctionfunction TED takes unit XT7,unit XR7,integer JK7 returns nothinglocal trigger t=CreateTrigger()local integer TM7=GetHandleId(t)call SetUnitPathing(XR7,true)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterUnitEvent(t,XR7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TDD))call SaveUnitHandle(C7,(TM7),(17),(XR7))call UW7(XR7,'A1Q6')call UnitMakeAbilityPermanent(XR7,true,'A1Q6')call SetPlayerAbilityAvailable(GetOwningPlayer(XR7),'A1Q6',false)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\HumanBloodKnight.mdl",XR7,"chest"))call ZO7(XT7,XR7,Y84,70*JK7)set t=nullendfunctionfunction TFD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XT7=(LoadUnitHandle(C7,(TM7),(2)))local unit TGD=(LoadUnitHandle(C7,(TM7),(393)))local unit THD=(LoadUnitHandle(C7,(TM7),(394)))local unit TID=(LoadUnitHandle(C7,(TM7),(395)))local unit TJD=(LoadUnitHandle(C7,(TM7),(396)))local integer JK7=(LoadInteger(C7,(TM7),(5)))local real XW7=(LoadReal(C7,(TM7),(47)))local real XX7=(LoadReal(C7,(TM7),(48)))local real TKD=(LoadReal(C7,(TM7),(13)))local real TMD=(LoadReal(C7,(TM7),(6)))local real TND=(LoadReal(C7,(TM7),(7)))local real XA7=VN7(TMD+19*Cos(TKD))local real XB7=VP7(TND+19*Sin(TKD))local group glocal integer TOD=(LoadInteger(C7,(TM7),(12)))local location lcall SetUnitPosition(XT7,XA7,XB7)call SetUnitFacing(XT7,TKD*bj_RADTODEG)call SaveReal(C7,(TM7),(6),((XA7)*1.0))call SaveReal(C7,(TM7),(7),((XB7)*1.0))if ModuloInteger(GetTriggerEvalCount(t),4)==0 thencall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",XA7,XB7))endifif GetTriggerEvalCount(t)==2 thencall SetUnitAnimationByIndex(XT7,3)endifif TGD==null or THD==null or TID==null or TJD==null thenset I04=XT7set g=TL7()call GroupEnumUnitsInRange(g,XA7,XB7,120,Condition(function Y47))if FirstOfGroup(g)!=null thenif TGD!=null thencall GroupRemoveUnit(g,TGD)endifif THD!=null thencall GroupRemoveUnit(g,THD)endifif TID!=null thencall GroupRemoveUnit(g,TID)endifif FirstOfGroup(g)!=null thenif TGD==null thenset TGD=FirstOfGroup(g)call SetUnitPathing(TGD,false)call NQ7(TGD,"4404",5)elseif THD==null and JK7>1 thenset THD=FirstOfGroup(g)call SetUnitPathing(THD,false)call NQ7(THD,"4404",5)elseif TID==null and JK7>2 thenset TID=FirstOfGroup(g)call SetUnitPathing(TID,false)call NQ7(TID,"4404",5)elseif TJD==null and JK7>3 thenset TJD=FirstOfGroup(g)call SetUnitPathing(TJD,false)call NQ7(TJD,"4404",5)endifendifendifcall T67(g)set g=nullendifcall SaveUnitHandle(C7,(TM7),(393),(TGD))call SaveUnitHandle(C7,(TM7),(394),(THD))call SaveUnitHandle(C7,(TM7),(395),(TID))call SaveUnitHandle(C7,(TM7),(396),(TJD))if TGD!=null thencall SetUnitPosition(TGD,XA7,XB7)endifif THD!=null thencall SetUnitPosition(THD,XA7,XB7)endifif TID!=null thencall SetUnitPosition(TID,XA7,XB7)endifif TJD!=null thencall SetUnitPosition(TJD,XA7,XB7)endifif ModuloInteger(GetTriggerEvalCount(t),3)==0 thencall WK7(XA7,XB7,200)endifif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>TOD thencall DestroyEffect((LoadEffectHandle(C7,(TM7),(175))))call SetUnitAnimationByIndex(XT7,0)call SetUnitTimeScale(XT7,1.0)call SetUnitPathing(XT7,true)call FlushChildHashtable(C7,(TM7))call NM7(t)if TGD!=null thenif IsPointInRegion(J94,GetUnitX(TGD),GetUnitY(TGD))==true thenset l=VJ8(GetUnitX(TGD),GetUnitY(TGD))call SetUnitX(TGD,VN7(GetLocationX(l)))call SetUnitY(TGD,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall TED(XT7,TGD,JK7)call WK7(GetUnitX(TGD),GetUnitY(TGD),300)endifif THD!=null thenif IsPointInRegion(J94,GetUnitX(THD),GetUnitY(THD))==true thenset l=VJ8(GetUnitX(THD),GetUnitY(THD))call SetUnitX(THD,VN7(GetLocationX(l)))call SetUnitY(THD,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall TED(XT7,THD,JK7)call WK7(GetUnitX(THD),GetUnitY(THD),300)endifif TID!=null thenif IsPointInRegion(J94,GetUnitX(TID),GetUnitY(TID))==true thenset l=VJ8(GetUnitX(TID),GetUnitY(TID))call SetUnitX(TID,VN7(GetLocationX(l)))call SetUnitY(TID,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall TED(XT7,TID,JK7)call WK7(GetUnitX(TID),GetUnitY(TID),300)endifif TJD!=null thenif IsPointInRegion(J94,GetUnitX(TJD),GetUnitY(TJD))==true thenset l=VJ8(GetUnitX(TJD),GetUnitY(TJD))call SetUnitX(TJD,VN7(GetLocationX(l)))call SetUnitY(TJD,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifcall TED(XT7,TJD,JK7)call WK7(GetUnitX(TJD),GetUnitY(TJD),300)endifif TGD!=null and UY7(TGD)==false thencall IssueTargetOrder(XT7,"attack",TGD)elseif THD!=null and UY7(THD)==false thencall IssueTargetOrder(XT7,"attack",THD)elseif TID!=null and UY7(TID)==false thencall IssueTargetOrder(XT7,"attack",TID)elseif TJD!=null and UY7(TJD)==false thencall IssueTargetOrder(XT7,"attack",TJD)endifcall WK7(XA7,XB7,375)if IsPointInRegion(J94,GetUnitX(XT7),GetUnitY(XT7))==true thenset l=VJ8(GetUnitX(XT7),GetUnitY(XT7))call SetUnitX(XT7,VN7(GetLocationX(l)))call SetUnitY(XT7,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifendifset t=nullset XT7=nullset TGD=nullset THD=nullset TID=nullset TJD=nullreturn falseendfunctionfunction TPD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer TM7=GetHandleId(t)local real XW7=VN7(GetSpellTargetX())local real XX7=VP7(GetSpellTargetY())local unit XT7=GetTriggerUnit()local real KED=GetUnitX(XT7)local real TQD=GetUnitY(XT7)local integer JK7=GetUnitAbilityLevel(XT7,'A1RD')local real a=W77(KED,TQD,XW7,XX7)*bj_DEGTORADif J87(KED,TQD,XW7,XX7)>825 thenset XW7=VN7(KED+825*Cos(a))set XX7=VP7(TQD+825*Sin(a))endifcall SetUnitPathing(XT7,false)call SetUnitAnimationByIndex(XT7,3)call SetUnitTimeScale(XT7,1.5)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,XT7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TFD))call SaveUnitHandle(C7,(TM7),(2),(XT7))call SaveInteger(C7,(TM7),(5),(JK7))call SaveUnitHandle(C7,(TM7),(393),(null))call SaveUnitHandle(C7,(TM7),(394),(null))call SaveUnitHandle(C7,(TM7),(395),(null))call SaveUnitHandle(C7,(TM7),(396),(null))call SaveReal(C7,(TM7),(47),((XW7)*1.0))call SaveReal(C7,(TM7),(48),((XX7)*1.0))call SaveReal(C7,(TM7),(6),((KED)*1.0))call SaveReal(C7,(TM7),(7),((TQD)*1.0))call SaveReal(C7,(TM7),(13),((Atan2(XX7-TQD,XW7-KED))*1.0))call SaveInteger(C7,(TM7),(12),(R2I(J87(KED,TQD,XW7,XX7)/19.0)))call SaveEffectHandle(C7,(TM7),(175),(AddSpecialEffectTarget("war3mapImported\\SkewerTuskGlow_1.mdx",XT7,"head")))set t=nullset XT7=nullendfunctionfunction TRD takes nothing returns booleanif GetSpellAbilityId()=='A1RD' thencall TPD()endifreturn falseendfunctionfunction TSD takes nothing returns booleanif GetSpellAbilityId()=='A1RD' thencall SetUnitAnimationByIndex(GetTriggerUnit(),7)endifreturn falseendfunctionfunction F78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TRD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function TSD))set t=nullendfunctionfunction TTD takes nothing returns booleanif GetSpellAbilityId()=='A1C0' thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ET',false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ES',false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1EQ',false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A1ER',false)call SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A23F',false)endifreturn falseendfunctionfunction F88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TTD))set t=nullendfunctionfunction TUD takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(iZ))==true and IsUnitInGroup(GetFilterUnit(),nZ)==false and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(aZ))==true thenset d=J87(GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()),GetUnitX(iZ),GetUnitY(iZ))if d<VZ thenset rZ=GetFilterUnit()set VZ=dendifendifreturn falseendfunctionfunction TVD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local integer SR7=M_7(NO7,"Level")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local group TWD=M67(NO7,"AlreadyHit")local real TXD=N47(NO7,"StolenMana")local real TYD=N47(NO7,"ManaCounter")local real TZD=N47(NO7,"DmgCounter")local real P68local group glocal real alocal real xlocal real yset a=Atan2(GetUnitY(m5)-GetUnitY(ZM7),GetUnitX(m5)-GetUnitX(ZM7))if p5==m5 thenset x=GetUnitX(ZM7)+25*Cos(a)set y=GetUnitY(ZM7)+25*Sin(a)elseset x=GetUnitX(ZM7)+15*Cos(a)set y=GetUnitY(ZM7)+15*Sin(a)endifcall SetUnitX(ZM7,x)call SetUnitY(ZM7,y)if J87(x,y,GetUnitX(m5),GetUnitY(m5))<60 thencall SetUnitX(ZM7,GetUnitX(m5))call SetUnitY(ZM7,GetUnitY(m5))if p5==m5 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+TXD)call KillUnit(ZM7)call T67(TWD)call K_7(NO7)call NM7(t)elseif IsUnitVisible(m5,GetOwningPlayer(ZM7))==true thencall ZO7(p5,m5,Y84,(40+40*SR7)+0.2*TZD*(40+40*SR7))set TZD=TZD+1if GetUnitState(m5,UNIT_STATE_MANA)>0 thenset P68=RMinBJ(GetUnitState(m5,UNIT_STATE_MANA),(10+10*SR7)+0.2*TYD*(10+10*SR7))call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-P68)call WN7(oI,GetUnitX(m5),GetUnitY(m5))set TXD=TXD+P68set TYD=TYD+1endifendifcall M97(NO7,"StolenMana",(TXD)*1.0)call M97(NO7,"DmgCounter",(TZD)*1.0)call M97(NO7,"ManaCounter",(TYD)*1.0)set g=TL7()set rZ=nullset iZ=m5set nZ=TWDset VZ=99999set aZ=p5call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),500,Condition(function TUD))call T67(g)if rZ==null or TZD==(2+SR7)thencall M87(NO7,"TargetIndex",Q07(p5))elsecall M87(NO7,"TargetIndex",Q07(rZ))call GroupAddUnit(TWD,rZ)endifendifcall Q67(ZR7)endifset t=nullset p5=nullset m5=nullset g=nullset ZM7=nullset TWD=nullreturn falseendfunctionfunction TAD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(p5,'A0G2')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local group g=TL7()local real TZD=0local real TYD=0local real P68=0local real TXD=0local unit ZM7=CreateUnit(GetOwningPlayer(p5),'h090',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call WN7(eI,GetUnitX(p5),GetUnitY(p5))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function TVD))call MO7(NO7,"AlreadyHit",g)call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call M87(NO7,"Level",SR7)call M87(NO7,"TargetIndex",Q07(m5))call M87(NO7,"Count",0)call M97(NO7,"StolenMana",(TXD)*1.0)call M97(NO7,"DmgCounter",(TZD)*1.0)call M97(NO7,"ManaCounter",(TYD)*1.0)call GroupAddUnit(g,m5)set p5=nullset m5=nullset t=nullset g=nullset ZM7=nullendfunctionfunction TBD takes nothing returns booleanif GetSpellAbilityId()=='A0G2' thencall TAD()endifreturn falseendfunctionfunction F98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function TBD))set t=nullendfunctionfunction TCD takes nothing returns nothingcall GroupAddUnit(Q04,GetEnumUnit())call IssueTargetOrder(QL4,"purge",GetEnumUnit())endfunctionfunction T3D takes unit X97,unit U47 returns booleanlocal real a=W47(U47,X97)local real T6D=GetUnitFacing(U47)local real c1local real c2local real d1=-1.0local real d2=-1.0local real e1local real e2local real f1=-1.0local real f2=-1.0if IsUnitVisible(X97,GetOwningPlayer(U47))==false thenreturn falseendifset c1=RMaxBJ(T6D-75,0)set c2=T6Dif T6D-75<=0 thenset d1=360-(75-(c2-c1))set d2=360endifset e1=T6Dset e2=RMinBJ(T6D+75,360)if T6D+75>=360 thenset f1=0set f2=0+(75-(e2-e1))endifif a<0 thenset a=a+360elseif a>360 thenset a=a-360endifif(a>c1 and a<c2)or(d1!=-1 and a>d1 and a<d2)or(a>e1 and a<e2)or(f1!=-1 and a>f1 and a<f2)thenreturn trueendifreturn falseendfunctionfunction TLD takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),Q04)==false and T3D(I04,GetFilterUnit())and GetUnitAbilityLevel(GetFilterUnit(),'B0BQ')==0endfunctionfunction T1D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local integer ZN7=GetUnitAbilityLevel(X97,'A1AT')local unit ZM7=MZ7(V_7,"Caster")local group g=TL7()local group AN9=M67(V_7,"AlreadyHit")set QL4=ZM7set Q14=X97set I04=X97set Q04=AN9call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),825,Condition(function TLD))call ForGroup(g,function TCD)call T67(g)call DestroyEffect(ML7(V_7,"FX"))if GetTriggerEvalCount(t)>100 thencall NM7(t)call K_7(V_7)call T67(AN9)elsecall MG7(V_7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",X97,"chest"))endifset X97=nullset ZM7=nullset g=nullset t=nullset AN9=nullreturn falseendfunctionfunction T0D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),0)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function T1D))call MF7(V_7,"Source",GetTriggerUnit())call MF7(V_7,"Caster",ZM7)call UW7(ZM7,'A02V')call MO7(V_7,"AlreadyHit",TL7())call MG7(V_7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\EtherealForm\\SpiritWalkerChange.mdl",GetTriggerUnit(),"chest"))call SetUnitAbilityLevel(ZM7,'A02V',GetUnitAbilityLevel(GetTriggerUnit(),'A1AT'))call TriggerEvaluate(t)set t=nullset ZM7=nullendfunctionfunction T5D takes nothing returns booleanif GetSpellAbilityId()=='A1AT' thencall T0D()endifreturn falseendfunctionfunction FD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T5D))set t=nullendfunctionfunction zS takes nothing returns nothingif IY4<=tl thenset IY4=IY4+1call GroupAddUnit(J44,GetEnumUnit())endifendfunctionfunction zt takes unit p5,unit m5 returns nothingcall W97("SPLK",GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5),.1,.6,.44,.9,.6)endfunctionfunction zT takes nothing returns nothingcall SetUnitState(I04,UNIT_STATE_LIFE,GetUnitState(I04,UNIT_STATE_LIFE)+25)if GetUnitTypeId(GetEnumUnit())!='n0F5' thencall XF7(GetEnumUnit(),25)endifcall zt(GetEnumUnit(),I04)endfunctionfunction zu takes nothing returns nothingcall ZO7(I_4,I04,Y84,25)if GetUnitTypeId(GetEnumUnit())!='n0F5' thencall XF7(GetEnumUnit(),25)endifcall zt(GetEnumUnit(),I04)endfunctionfunction zU takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local group g=TL7()local integer zv=GetUnitAbilityLevel(TX7,'A0R5')*5set J44=TL7()set IY4=0set tl=zvset I04=TX7call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),1000,Condition(function ny))call GroupRemoveUnit(g,TX7)call GroupRemoveUnit(g,GetSpellTargetUnit())call ForGroup(g,function zS)call T67(g)set g=J44set I04=GetSpellTargetUnit()set I_4=TX7if IsUnitAlly(I04,GetOwningPlayer(TX7))thencall ForGroup(g,function zT)elsecall ForGroup(g,function zu)endifcall T67(g)set TX7=nullset g=nullendfunctionfunction T2D takes nothing returns booleanif GetSpellAbilityId()=='A0R5' and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_STRUCTURE)==false or GetOwningPlayer(GetSpellTargetUnit())==GetOwningPlayer(GetTriggerUnit()))thencall zU()endifreturn falseendfunctionfunction H_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function T2D))set t=nullendfunctionfunction T_D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer U4D=M_7(NO7,"Last")if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(N77(NO7,"SourceDone")==false and GetTriggerUnit()==MZ7(NO7,"Source"))thencall ME7(NO7,"SourceDone",true)call SetHeroStr(MZ7(NO7,"Source"),GetHeroStr(MZ7(NO7,"Source"),false)-U4D,true)elseif(N77(NO7,"TargetDone")==false and GetTriggerUnit()==MZ7(NO7,"Target"))thencall ME7(NO7,"TargetDone",true)call SetHeroStr(MZ7(NO7,"Target"),GetHeroStr(MZ7(NO7,"Target"),false)+U4D,true)endifelseif(N77(NO7,"SourceDone")==false)thencall ME7(NO7,"SourceDone",true)call SetHeroStr(MZ7(NO7,"Source"),GetHeroStr(MZ7(NO7,"Source"),false)-U4D,true)endifif(N77(NO7,"TargetDone")==false)thencall ME7(NO7,"TargetDone",true)call SetHeroStr(MZ7(NO7,"Target"),GetHeroStr(MZ7(NO7,"Target"),false)+U4D,true)endifcall K_7(NO7)call NM7(t)endifset t=nullreturn falseendfunctionfunction U7D takes nothing returns nothinglocal unit p5=sZlocal unit m5=GetEnumUnit()local integer U4Dlocal integer SR7=tZlocal trigger tlocal integer NO7if IsUnitType(m5,UNIT_TYPE_HERO)==true and GetUnitTypeId(m5)!='H00J' thenset U4D=IMinBJ(GetHeroStr(m5,false)-1,4)set t=CreateTrigger()set NO7=GetHandleId(t)call SetHeroStr(p5,GetHeroStr(p5,false)+U4D,true)call SetHeroStr(m5,GetHeroStr(m5,false)-U4D,true)call TriggerRegisterTimerEvent(t,18+3*SR7,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T_D))call ME7(NO7,"SourceDone",false)call ME7(NO7,"TargetDone",false)call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Last",U4D)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",p5,"origin"))endifcall ZO7(p5,m5,Y84,40*SR7)set p5=nullset m5=nullset t=nullendfunctionfunction U8D takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local group g=TL7()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A15S')local unit oA=CreateUnit(GetOwningPlayer(p5),'h07J',x,y,0)call DestroyEffect(AddSpecialEffect("effects\\DecayGreen_Groundonly_1.mdx",x,y))call RemoveLocation(l)set I04=p5set sZ=p5set tZ=SR7call GroupEnumUnitsInRange(g,x,y,325,Condition(function YF7))call ForGroup(g,function U7D)call T67(g)call KillUnit(oA)set p5=nullset l=nullset g=nullset t=nullset oA=nullendfunctionfunction U9D takes nothing returns booleanif GetSpellAbilityId()=='A15S' thencall U8D()endifreturn falseendfunctionfunction H58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function U9D))set t=nullendfunctionfunction UDD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local unit UED=MZ7(NO7,"Zombie")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall Q67(ZR7)call K_7(NO7)call NM7(t)if GetTriggerUnit()==m5 thencall KillUnit(UED)endifelseif C8==true thencall Q67(ZR7)call K_7(NO7)call NM7(t)call PauseUnit(UED,true)elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thencall DisableTrigger(t)call IssueTargetOrder(UED,"attack",m5)call EnableTrigger(t)elseif GetUnitState(m5,UNIT_STATE_LIFE)<(100*UZ)and GetUnitAbilityLevel(UED,'B0AN')==0 thencall IssueTargetOrder(wZ[GetPlayerId(GetOwningPlayer(UED))],"bloodlust",UED)elseif IsUnitVisible(m5,GetOwningPlayer(UED))==false thenif(N77(NO7,"VisionBuffer1"))==true thenif(N77(NO7,"VisionBuffer2"))==true thenif(N77(NO7,"VisionBuffer3"))==true thencall K_7(NO7)call NM7(t)call KillUnit(UED)elsecall ME7(NO7,"VisionBuffer3",true)endifelsecall ME7(NO7,"VisionBuffer2",true)endifelsecall ME7(NO7,"VisionBuffer1",true)endifelsecall ME7(NO7,"VisionBuffer1",false)call ME7(NO7,"VisionBuffer2",false)call ME7(NO7,"VisionBuffer3",false)endifset t=nullset m5=nullset UED=nullreturn falseendfunctionfunction UFD takes nothing returns booleanlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit m5=GetEnumUnit()local unit UED=CreateUnit(TZ,'n0F5',GetUnitX(m5),GetUnitY(m5),0)call IssueTargetOrder(UED,"attack",m5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,UED,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,UED,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,UED,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,UED,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function UDD))call M87(NO7,"TargetIndex",Q07(m5))call MF7(NO7,"Zombie",UED)call M87(NO7,"Level",UZ)set t=nullset m5=nullset UED=nullreturn falseendfunctionfunction UGD takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())=='n0F5' and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction UHD takes player p returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,p,Condition(function UGD))call T67(g)set g=nullendfunctionfunction UID takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit UJD=MZ7(NO7,"Acolyte1")local unit UKD=MZ7(NO7,"Acolyte2")local unit UMD=MZ7(NO7,"Acolyte3")local integer SR7=M_7(NO7,"Level")local group glocal player UNDif Q_7(GetOwningPlayer(p5))thenset UND=Z7[0]elseset UND=Y7[0]endifif GetTriggerEventId()==EVENT_UNIT_DEATH thenif(N77(NO7,"NeedsFix"))thencall WP7(UND,.4,GetUnitX(p5),GetUnitY(p5),600)endifcall K_7(NO7)call NM7(t)call ShowUnit(p5,false)call RemoveUnit(UJD)call RemoveUnit(UKD)call RemoveUnit(UMD)call UHD(GetOwningPlayer(p5))elseif IsUnitVisible(p5,UND)thencall ME7(NO7,"NeedsFix",true)endifset g=TL7()set I04=p5set TZ=GetOwningPlayer(p5)set UZ=SR7call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),25+200+200*SR7,Condition(function YM7))if C8==false thencall ForGroup(g,function UFD)endifcall T67(g)set g=nullendifset t=nullset p5=nullset UJD=nullset UKD=nullset UMD=nullset UND=nullreturn falseendfunctionfunction UOD takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit p5local real P29local real P_9local real UPDlocal unit UJDlocal unit UKDlocal unit UMDlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(GetTriggerUnit(),'A15V')local integer idif SR7==1 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FJ',x,y,0)elseif SR7==2 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FI',x,y,0)elseif SR7==3 thenset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0F6',x,y,0)elseset p5=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'n0FH',x,y,0)endifcall WN7(Y_4,x,y)set id=GetPlayerId(GetOwningPlayer(p5))if wZ[id]==null thenset wZ[id]=CreateUnit(GetOwningPlayer(p5),'e01V',x,y,0)call UW7(wZ[id],'A176')endifcall SetUnitPosition(p5,VK7(x),VM7(y))call UnitApplyTimedLife(p5,'BTLF',10+5*SR7)call RemoveLocation(l)call WK7(x,y,300)set P29=x+200*Cos(0*bj_DEGTORAD)set P_9=y+200*Sin(0*bj_DEGTORAD)set UPD=W77(P29,P_9,x,y)set UJD=CreateUnit(GetOwningPlayer(p5),'h07H',P29,P_9,UPD)call SetUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")call QueueUnitAnimation(UJD,"Stand Work Gold")set P29=x+200*Cos(120*bj_DEGTORAD)set P_9=y+200*Sin(120*bj_DEGTORAD)set UPD=W77(P29,P_9,x,y)set UKD=CreateUnit(GetOwningPlayer(p5),'h07H',P29,P_9,UPD)call SetUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")call QueueUnitAnimation(UKD,"Stand Work Gold")set P29=x+200*Cos(240*bj_DEGTORAD)set P_9=y+200*Sin(240*bj_DEGTORAD)set UPD=W77(P29,P_9,x,y)set UMD=CreateUnit(GetOwningPlayer(p5),'h07H',P29,P_9,UPD)call SetUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call QueueUnitAnimation(UMD,"Stand Work Gold")call SetUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call QueueUnitAnimation(p5,"Stand Work")call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,3,true)call TriggerAddCondition(t,Condition(function UID))call MF7(NO7,"Source",p5)call MF7(NO7,"Acolyte1",UJD)call MF7(NO7,"Acolyte2",UKD)call MF7(NO7,"Acolyte3",UMD)call M87(NO7,"Level",SR7)call ME7(NO7,"NeedsFix",false)call TriggerEvaluate(t)set p5=nullset UJD=nullset UKD=nullset UMD=nullset l=nullset t=nullendfunctionfunction UQD takes nothing returns booleanif GetSpellAbilityId()=='A15V' thencall UOD()endifreturn falseendfunctionfunction H28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UQD))set t=nullendfunctionfunction URD takes unit A39 returns booleanif KO7(A39,OU[GH4])!=null thenreturn trueendifreturn falseendfunctionfunction USD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=GetUnitAbilityLevel(p5,'A15J')call SetUnitAbilityLevel(p5,'A15K',SR7)call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction UTD takes nothing returns nothingif IsUnitType(I04,UNIT_TYPE_HERO)==true thenif URD(I_4)thencall SetUnitState(I_4,UNIT_STATE_LIFE,GetUnitState(I_4,UNIT_STATE_LIFE)+GetUnitState(I_4,UNIT_STATE_MAX_LIFE)*0.10)elsecall SetUnitState(I_4,UNIT_STATE_LIFE,GetUnitState(I_4,UNIT_STATE_LIFE)+GetUnitState(I_4,UNIT_STATE_MAX_LIFE)*0.06)endifelseif URD(I_4)thencall SetUnitState(I_4,UNIT_STATE_LIFE,GetUnitState(I_4,UNIT_STATE_LIFE)+GetUnitState(I_4,UNIT_STATE_MAX_LIFE)*0.03)elsecall SetUnitState(I_4,UNIT_STATE_LIFE,GetUnitState(I_4,UNIT_STATE_LIFE)+GetUnitState(I_4,UNIT_STATE_MAX_LIFE)*0.02)endifendifendfunctionfunction UUD takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer RD9=GetHandleId(t2)local trigger t1=M37(RD9,"t1")local integer DID=GetHandleId(t1)local unit p5=MZ7(RD9,"Source")local unit m5local real dlocal real alocal boolean UVD=N77(RD9,"IgnorePlague")if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetTriggerUnit()==p5)or(GetTriggerEventId()!=EVENT_UNIT_DAMAGED and GetTriggerEventId()!=EVENT_UNIT_DEATH)thencall K_7(DID)call K_7(RD9)call NM7(t1)call NM7(t2)elseif GetTriggerEventId()==EVENT_UNIT_DEATH thenif IsUnitIllusion(GetDyingUnit())==false thencall WX7(GetDyingUnit(),p5,'h07Y',"UTD",600)endifelseif UVD==false thenset m5=GetTriggerUnit()set d=J77(p5,m5)if d<775 and GetEventDamage()>4 thenif URD(p5)thenset a=20+5*WZelseset a=15+5*WZendifif d>200 thenset a=a-15*((d-150)/(775-150))endifcall ME7(RD9,"IgnorePlague",true)call ZO7(GetEventDamageSource(),GetTriggerUnit(),YD4,GetEventDamage()*a/ 100)call ME7(RD9,"IgnorePlague",false)endifendifset t2=nullset t1=nullset p5=nullset m5=nullreturn falseendfunctionfunction UWD takes nothing returns booleanlocal trigger t1=GetTriggeringTrigger()local integer DID=GetHandleId(t1)local trigger t2=M37(DID,"t2")local integer RD9=GetHandleId(t2)local unit m5=GetTriggerUnit()local unit p5=MZ7(DID,"Source")if IsUnitEnemy(p5,GetOwningPlayer(m5))==true and IsUnitType(m5,UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(m5,'A04R')==0 thenif N77(RD9,"Registered"+I2S(GetHandleId(m5)))==false thencall TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t2,m5,EVENT_UNIT_DEATH)call ME7(RD9,"Registered"+I2S(GetHandleId(m5)),true)endifendifset t1=nullset t2=nullset m5=nullset p5=nullreturn falseendfunctionfunction UXD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t1=CreateTrigger()local integer DID=GetHandleId(t1)local trigger t2=CreateTrigger()local integer RD9=GetHandleId(t2)local trigger t3=CreateTrigger()local integer UYD=GetHandleId(t3)local integer SR7=GetUnitAbilityLevel(p5,'A15J')set WZ=SR7call TriggerRegisterUnitInRange(t1,p5,750,Condition(function Q37))call TriggerAddCondition(t1,Condition(function UWD))call MH7(DID,"t2",t2)call MF7(DID,"Source",p5)call TriggerRegisterTimerEvent(t2,30,false)call TriggerRegisterUnitEvent(t2,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t2,Condition(function UUD))call MH7(RD9,"t1",t1)call MF7(RD9,"Source",p5)call ME7(RD9,"IgnorePlague",false)call TriggerRegisterTimerEvent(t3,0.01,false)call TriggerAddCondition(t3,Condition(function USD))call MF7(UYD,"Source",p5)set p5=nullset t1=nullset t2=nullset t3=nullendfunctionfunction UZD takes nothing returns booleanif GetSpellAbilityId()=='A15J' and GetUnitTypeId(GetTriggerUnit())=='H00R' thencall UXD()endifreturn falseendfunctionfunction I48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function UZD))call VQ7('A15K')set t=nullendfunctionfunction UAD takes nothing returns nothinglocal unit U47=GetEnumUnit()local unit X97=RH4local real UBD=GetUnitState(U47,UNIT_STATE_LIFE)local real UCD=GetUnitState(U47,UNIT_STATE_MAX_LIFE)local real U3D=((0.004+0.002*RI4)*UCD)/2if UBD<U3D thencall SetUnitState(U47,UNIT_STATE_LIFE,1)call ZO7(X97,U47,YD4,100)call ZO7(X97,U47,Y84,100)call ZO7(X97,U47,Y94,100)elsecall SetUnitState(U47,UNIT_STATE_LIFE,VC7(GetUnitState(U47,UNIT_STATE_LIFE)-U3D,1))endifset U47=nullset X97=nullendfunctionfunction U6D takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false and(GetUnitAbilityLevel((GetFilterUnit()),'Bcyc')>0)==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and GetUnitAbilityLevel(GetFilterUnit(),'B084')>0endfunctionfunction ULD takes nothing returns booleanlocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit p5=MZ7(NO7,"Source")local group gif UY7(p5)==false thenset g=TL7()set I04=p5set RH4=p5set RI4=GetUnitAbilityLevel(p5,'A01N')call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),1025,Condition(function U6D))call ForGroup(g,function UAD)call T67(g)endifset g=nullset p5=nullreturn falseendfunctionfunction U1D takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function ULD))call MF7(GetHandleId(t),"Source",TX7)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction U0D takes nothing returns booleanif GetLearnedSkill()=='A01N' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A01N')==1 thencall U1D(GetTriggerUnit(),false)endifreturn falseendfunctionfunction FH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function U0D))set t=nullendfunctionfunction U5D takes nothing returns booleanreturn(UnitHasBuffBJ(GetKillingUnit(),'B02R'))endfunctionfunction U2D takes nothing returns nothinglocal real U_Dlocal integer ZN7call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",GetKillingUnit(),"origin"))if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitAbilityLevel(GetKillingUnit(),'A060')==4 thencall SetUnitState(GetKillingUnit(),UNIT_STATE_MANA,GetUnitState(GetKillingUnit(),UNIT_STATE_MANA)+600)elseset ZN7=GetUnitAbilityLevelSwapped('A060',GetKillingUnit())set U_D=12*ZN7if ZN7==4 thenset U_D=60endifcall SetUnitManaBJ(GetKillingUnit(),(GetUnitStateSwap(UNIT_STATE_MANA,GetKillingUnit())+U_D))endifendfunctionfunction FE8 takes nothing returns nothingset Dk=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dk,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(Dk,Condition(function U5D))call TriggerAddAction(Dk,function U2D)endfunctionfunction V4D takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local real R09=N47(V_7,"Damage")local real C69=N47(V_7,"Heal")if IsUnitAlly(U47,GetOwningPlayer(X97))thencall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+C69)elsecall ZO7(X97,U47,Y84,R09)endifset X97=nullset U47=nullendfunctionfunction V7D takes nothing returns nothinglocal trigger t=WX7(I04,GetEnumUnit(),'h00W',"V4D",400)local integer NO7=GetHandleId(t)call M97(NO7,"Damage",IZ4)call M97(NO7,"Heal",I34)set t=nullendfunctionfunction V8D takes nothing returns nothingif IsUnitVisible(GetEnumUnit(),GetOwningPlayer(I04))thencall V7D()endifendfunctionfunction V9D takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local group g=TL7()local integer ZN7=GetUnitAbilityLevel(T_7,PN4)local real rlocal real R09local real C69if ZN7==1 thenset R09=75set C69=50set r=500elseif ZN7==2 thenset R09=125set C69=75set r=500elseif ZN7==3 thenset R09=200set C69=100set r=500elseif ZN7==4 thenset R09=275set C69=130set r=500endifset I04=T_7set IZ4=R09set I34=C69call GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),r,Condition(function YB7))call GroupRemoveUnit(g,T_7)call ForGroup(g,function V8D)call T67(g)call SetUnitState(T_7,UNIT_STATE_LIFE,GetUnitState(T_7,UNIT_STATE_LIFE)+C69)set T_7=nullset g=nullendfunctionfunction VDD takes nothing returns booleanif GetSpellAbilityId()==PN4 thencall V9D()endifreturn falseendfunctionfunction FF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VDD))set t=nullendfunctionfunction VED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real VL9=(LoadReal(C7,(V_7),(680)))call FlushChildHashtable(C7,(V_7))call NM7(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",U47,"origin"))call ZO7(X97,U47,Y84,VL9*(GetUnitState(U47,UNIT_STATE_MAX_LIFE)-GetUnitState(U47,UNIT_STATE_LIFE)))set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction VFD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer VGD=GetUnitAbilityLevel(X97,'A067')local integer VHD=GetUnitAbilityLevel(X97,'A08P')local real VL9if VGD==1 thenset VL9=0.4elseif VGD==2 or VHD==1 thenset VL9=0.6elseif VGD==3 or VHD==2 thenset VL9=0.9elseif VHD==3 thenset VL9=1.2endifcall SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(680),((VL9)*1.0))call TriggerRegisterTimerEvent(t,1.0,false)call TriggerAddCondition(t,Condition(function VED))set t=nullset X97=nullset U47=nullendfunctionfunction VID takes nothing returns booleanif(GetSpellAbilityId()=='A067' or GetSpellAbilityId()=='A08P')and T37(GetSpellTargetUnit())==false thencall VFD()endifreturn falseendfunctionfunction FG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VID))set t=nullendfunctionfunction VJD takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I_4local unit U47=I04local integer VKD=GetUnitAbilityLevel(X97,'A0CQ')local integer VMDlocal integer ZN7=GetUnitAbilityLevel(X97,'A0BR')if ZN7==1 thenset VMD=12elseif ZN7==2 thenset VMD=20elseif ZN7==3 thenset VMD=28elseset VMD=36endifset VMD=VMD+1if IsUnitType(U47,UNIT_TYPE_HERO)==false thenset VKD=VKD+1elseset VKD=VKD+6endifset VKD=IMinBJ(VMD,VKD)call SetUnitAbilityLevel(X97,'A0CQ',VKD)call SaveInteger(C7,(GetHandleId(X97)),(710),(VKD))set X97=nullendfunctionfunction VND takes nothing returns nothinglocal integer VKDlocal integer ZN7local integer VMDlocal trigger tlocal integer V_7local unit X97=GetKillingUnit()if GetUnitTypeId(X97)=='e00C' thenset X97=G7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))]endifset VKD=GetUnitAbilityLevel(X97,'A0CQ')set ZN7=GetUnitAbilityLevel(X97,'A0BR')if ZN7==1 thenset VMD=12elseif ZN7==2 thenset VMD=20elseif ZN7==3 thenset VMD=28elseset VMD=36endifif VKD<=VMD thenset t=WX7(GetTriggerUnit(),X97,'h0CR',"VJD",500)set V_7=GetHandleId(t)set t=nullcall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\ZigguratMissile\\ZigguratMissile.mdl",GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit())))endifset X97=nullendfunctionfunction VOD takes nothing returns nothingcall SaveInteger(C7,(GetHandleId(GetTriggerUnit())),(710),(R2I(GetUnitAbilityLevel(GetTriggerUnit(),'A0CQ')*0.5)+1))call SetUnitAbilityLevel(GetTriggerUnit(),'A0CQ',R2I(GetUnitAbilityLevel(GetTriggerUnit(),'A0CQ')*.5)+1)endfunctionfunction VPD takes nothing returns booleanif GetUnitAbilityLevel(GetKillingUnit(),'A0BR')>0 and IsUnitIllusion(GetTriggerUnit())==false thencall VND()elseif GetUnitAbilityLevel(G7[GetPlayerId(GetOwningPlayer(GetKillingUnit()))],'A0BR')>0 and GetUnitTypeId(GetKillingUnit())=='e00C' thencall VND()endifif GetUnitAbilityLevel(GetTriggerUnit(),'A0BR')>0 and IsUnitIllusion(GetTriggerUnit())==false thencall VOD()endifreturn falseendfunctionfunction VQD takes nothing returns booleanlocal unit T_7=G7[GetPlayerId(GetTriggerPlayer())]local integer VRD=GetUnitAbilityLevel(T_7,'A0CQ')-1local integer VSD=0local integer ZN7=GetUnitAbilityLevel(T_7,'A0BR')if ZN7==1 thenset VSD=12elseif ZN7==2 thenset VSD=20elseif ZN7==3 thenset VSD=28elseif ZN7==4 thenset VSD=36endifset VRD=IMaxBJ(IMinBJ(VRD,VSD),0)if GetUnitTypeId(T_7)=='Nfir' thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetObjectName('n0KE')+" "+I2S(VRD)+"/"+I2S(VSD))endifset T_7=nullreturn falseendfunctionfunction FI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VPD))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function VQD))set t=nullendfunctionfunction VTD takes nothing returns booleanreturn GetSpellAbilityId()=='A0EY'or GetSpellAbilityId()=='A0FH'or GetSpellAbilityId()=='A0F0'endfunctionfunction VUD takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')!=1endfunctionfunction VVD takes nothing returns nothingcall UnitDamageTarget(GetTriggerUnit(),GetEnumUnit(),75*GetUnitAbilityLevel(GetTriggerUnit(),GetSpellAbilityId()),true,false,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_DEATH,WEAPON_TYPE_WHOKNOWS)endfunctionfunction VWD takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit ZM7local group R_9=TL7()local boolexpr JOD=Condition(function VUD)local real UO7=GetUnitFacing(T_7)local real xlocal real yif GetSpellAbilityId()=='A0EY'thenset x=GetUnitX(T_7)+200*Cos(UO7*bj_DEGTORAD)set y=GetUnitY(T_7)+200*Sin(UO7*bj_DEGTORAD)set ZM7=CreateUnit(GetOwningPlayer(T_7),'e006',x,y,0)call UnitApplyTimedLife(ZM7,'BTLF',2.)call GroupEnumUnitsInRange(R_9,x,y,275.,JOD)call ForGroup(R_9,function VVD)call GroupClear(R_9)elseif GetSpellAbilityId()=='A0FH'thenset x=GetUnitX(T_7)+450*Cos(UO7*bj_DEGTORAD)set y=GetUnitY(T_7)+450*Sin(UO7*bj_DEGTORAD)set ZM7=CreateUnit(GetOwningPlayer(T_7),'e006',x,y,0)call UnitApplyTimedLife(ZM7,'BTLF',2.)call GroupEnumUnitsInRange(R_9,x,y,275.,JOD)call ForGroup(R_9,function VVD)call GroupClear(R_9)elseif GetSpellAbilityId()=='A0F0'thenset x=GetUnitX(T_7)+700*Cos(UO7*bj_DEGTORAD)set y=GetUnitY(T_7)+700*Sin(UO7*bj_DEGTORAD)set ZM7=CreateUnit(GetOwningPlayer(T_7),'e006',x,y,0)call UnitApplyTimedLife(ZM7,'BTLF',2.)call GroupEnumUnitsInRange(R_9,x,y,275.,JOD)call ForGroup(R_9,function VVD)call GroupClear(R_9)endifcall T67(R_9)call DestroyBoolExpr(JOD)set T_7=nullset ZM7=nullset R_9=nullset JOD=nullendfunctionfunction FJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function VWD)call TriggerAddCondition(t,Condition(function VTD))set t=nullendfunctionfunction VXD takes nothing returns nothingif(GetLearnedSkill()=='A0EY')thenif(GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit())==1)thencall UnitAddAbility(GetTriggerUnit(),'A0F0')call UnitAddAbility(GetTriggerUnit(),'A0FH')elsecall SetUnitAbilityLevelSwapped('A0F0',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit()))call SetUnitAbilityLevelSwapped('A0FH',GetTriggerUnit(),GetUnitAbilityLevelSwapped('A0EY',GetTriggerUnit()))endifendifif(GetLearnedSkill()=='A0BR')thenif(GetUnitAbilityLevelSwapped('A0BR',GetTriggerUnit())==1)thencall UnitAddAbility(GetTriggerUnit(),'A0CQ')endifendifendfunctionfunction RM takes nothing returns nothingset DK=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DK,EVENT_PLAYER_HERO_SKILL)call TriggerAddAction(DK,function VXD)endfunctionfunction VYD takes nothing returns booleanreturn GetSpellAbilityId()=='A29J' or GetSpellAbilityId()=='A1MP'endfunctionfunction VZD takes nothing returns nothinglocal integer z5=(LoadInteger(C7,(GetHandleId(GetTriggerUnit())),(710)))local integer Zdlocal integer U8local unit TX7=GetTriggerUnit()local location Mk=GetUnitLoc(GetTriggerUnit())local location sAlocal integer SR7=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())if SR7==0 thenset SR7=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())+1endifset z5=z5/2set Zd=1set U8=z5loopexitwhen Zd>U8set sA=JP7(Mk,50.,(I2R(Zd)*(360/z5)))call CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(TX7),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0HG')call SetUnitAbilityLevelSwapped('A0HG',bj_lastCreatedUnit,SR7)call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)call IssuePointOrderLoc(bj_lastCreatedUnit,"carrionswarm",sA)call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call RemoveLocation(sA)set Zd=Zd+1endloopcall RemoveLocation(Mk)set Mk=nullset TX7=nullset sA=nullendfunctionfunction FK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VYD))call TriggerAddAction(t,function VZD)set t=nullendfunctionfunction VAD takes nothing returns booleanif(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)thenreturn falseendifif(GetUnitAbilityLevelSwapped('A04R',GetFilterUnit())==1)thenreturn falseendifif(IsUnitAliveBJ(GetFilterUnit())==false)thenreturn falseendifif(GetUnitTypeId(GetFilterUnit())=='o003')thenreturn falseendifif(IsUnitEnemy(GetFilterUnit(),GetTriggerPlayer())==false)thenreturn falseendifif(GetTriggerUnit()==GetFilterUnit())thenreturn falseendifif(IsUnitVisible(GetFilterUnit(),GetTriggerPlayer())==false)thenreturn falseendifreturn trueendfunctionfunction ZE takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location Mk=GetUnitLoc(TX7)local integer SR7=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())if SR7==0 thenset SR7=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(TX7),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0HH')call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,SR7)call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call RemoveLocation(Mk)set Mk=nullset TX7=nullendfunctionfunction Zf takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location Mk=GetUnitLoc(TX7)local integer SR7=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())if SR7==0 thenset SR7=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(TX7),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0HH')call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,SR7)call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call RemoveLocation(Mk)set Mk=nullset TX7=nullendfunctionfunction ZF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location Mk=GetUnitLoc(TX7)local integer SR7=GetUnitAbilityLevelSwapped('A29J',GetTriggerUnit())if SR7==0 thenset SR7=GetUnitAbilityLevelSwapped('A1MP',GetTriggerUnit())endifcall CreateNUnitsAtLoc(1,'e00C',GetOwningPlayer(TX7),Mk,bj_UNIT_FACING)call UnitAddAbility(bj_lastCreatedUnit,'A0HH')call SetUnitAbilityLevelSwapped('A0HH',bj_lastCreatedUnit,SR7)call UnitApplyTimedLifeBJ(2.,'BTLF',bj_lastCreatedUnit)call IssueTargetOrder(bj_lastCreatedUnit,"cripple",GetEnumUnit())call SetUnitPathing(bj_lastCreatedUnit,false)call SetUnitInvulnerable(bj_lastCreatedUnit,true)call UnitAddAbility(bj_lastCreatedUnit,'Aloc')call RemoveLocation(Mk)set Mk=nullset TX7=nullendfunctionfunction Zg takes nothing returns nothinglocal location Mk=GetUnitLoc(GetTriggerUnit())local unit TX7=GetTriggerUnit()local group B47set B47=TL7()call GroupEnumUnitsInRangeOfLoc(B47,Mk,700,Condition(function VAD))call ForGroup(B47,function ZE)call T67(B47)set B47=TL7()call GroupEnumUnitsInRangeOfLoc(B47,Mk,400,Condition(function VAD))call ForGroup(B47,function Zf)call T67(B47)set B47=TL7()call GroupEnumUnitsInRangeOfLoc(B47,Mk,200,Condition(function VAD))call ForGroup(B47,function ZF)call T67(B47)call RemoveLocation(Mk)set Mk=nullset TX7=nullset B47=nullendfunctionfunction Rm takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VYD))call TriggerAddAction(t,function Zg)set t=nullendfunctionfunction VBD takes nothing returns booleanreturn GetSpellAbilityId()=='A02H'endfunctionfunction VCD takes nothing returns nothinglocal unit oAif(VI7()==false)thenset oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)call UW7(oA,'A02R')call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())elseset oA=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),bj_UNIT_FACING)call UW7(oA,'A1H1')call IssueTargetOrderById(oA,852075,GetSpellTargetUnit())endifset oA=nullendfunctionfunction FN8 takes nothing returns nothingset Dm=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dm,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(Dm,Condition(function VBD))call TriggerAddAction(Dm,function VCD)endfunctionfunction V3D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XT7=(LoadUnitHandle(C7,(TM7),(2)))local unit V6D=(LoadUnitHandle(C7,(TM7),(19)))call ResetUnitAnimation(XT7)call RemoveUnit(V6D)call FlushChildHashtable(C7,(TM7))call NM7(t)set XT7=nullset V6D=nullset t=nullreturn falseendfunctionfunction VLD takes nothing returns nothinglocal unit XT7=GetTriggerUnit()local unit V6D=CreateUnit(GetOwningPlayer(XT7),'u01I',GetUnitX(XT7),GetUnitY(XT7),GetUnitFacing(XT7))local trigger t=CreateTrigger()local integer TM7=GetHandleId(t)call TriggerRegisterUnitEvent(t,XT7,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function V3D))call SaveUnitHandle(C7,(TM7),(2),(XT7))call SaveUnitHandle(C7,(TM7),(19),(V6D))call SetUnitVertexColorBJ(V6D,0,0,0,75)call SetUnitAnimation(V6D,"spell third")set XT7=nullset V6D=nullset t=nullendfunctionfunction V1D takes nothing returns booleanif GetSpellAbilityId()=='A08C' and GetUnitAbilityLevel(GetTriggerUnit(),'A08C')<5 thencall VLD()endifreturn falseendfunctionfunction FO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function V1D))set t=nullendfunctionfunction V0D takes nothing returns booleanlocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit V5D=MZ7(V_7,"NightStalker")local unit V2D=MZ7(V_7,"VisionUnit")if V5D==null or UY7(V5D)or VI7()or(KO7(V5D,OU[GW4])==null and KO7(V5D,OU[H94])==null)thencall ShowUnit(V2D,false)elsecall ShowUnit(V2D,true)call SetUnitX(V2D,GetUnitX(V5D))call SetUnitY(V2D,GetUnitY(V5D))endifif GetOwningPlayer(V2D)!=GetOwningPlayer(V5D)thencall SetUnitOwner(V2D,GetOwningPlayer(V5D),true)endifset V5D=nullset V2D=nullreturn falseendfunctionfunction V_D takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit V5D=MZ7(NO7,"NightStalker")if V5D!=null and VI7()and UY7(V5D)==false thencall UnitRemoveAbility(V5D,'A116')call UnitRemoveAbility(V5D,'A117')call SetUnitAbilityLevel(V5D,'S00A',5)call SetUnitAbilityLevel(V5D,'A08C',5)elseif V5D!=null and VI7()==false and UY7(V5D)==false thencall UW7(V5D,'A116')call UW7(V5D,'A117')call SetUnitAbilityLevel(V5D,'S00A',GetUnitAbilityLevel(V5D,'A086'))call SetUnitAbilityLevel(V5D,'A08C',GetUnitAbilityLevel(V5D,'A08E'))endifset V5D=nullendfunctionfunction W4D takes unit V5D,boolean R99,integer W7D returns nothinglocal integer V_7=GetHandleId(V5D)local trigger tif N77(V_7,"NightStalkerAlreadyLearned")==false or R99 thencall ME7(V_7,"NightStalkerAlreadyLearned",true)set t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,2.00)call TriggerRegisterGameStateEventTimeOfDay(t,LESS_THAN,6.00)call TriggerRegisterGameStateEventTimeOfDay(t,GREATER_THAN,18.00)call TriggerAddAction(t,function V_D)call MF7(GetHandleId(t),"NightStalker",V5D)if R99 thenif W7D=='A08E' thenset aj[GetPlayerId(GetOwningPlayer(V5D))]=telseif W7D=='A086' thenset nj[GetPlayerId(GetOwningPlayer(V5D))]=tendifendifset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function V0D))call MF7(V_7,"NightStalker",V5D)call MF7(V_7,"VisionUnit",CreateUnit(GetOwningPlayer(V5D),'o01A',GetUnitX(V5D),GetUnitY(V5D),0))if R99 thenif W7D=='A08E' thenset Rj[GetPlayerId(GetOwningPlayer(V5D))]=telseif W7D=='A086' thenset Aj[GetPlayerId(GetOwningPlayer(V5D))]=tendifendifendifif(W7D=='A086')thencall UW7(V5D,'S00A')if(VI7())thencall SetUnitAbilityLevel(V5D,'S00A',5)elsecall SetUnitAbilityLevel(V5D,'S00A',GetUnitAbilityLevel(V5D,'A086'))endifendifif(W7D=='A08E')thencall UnitAddAbility(V5D,'A08C')if(VI7())thencall SetUnitAbilityLevel(V5D,'A08C',5)elsecall SetUnitAbilityLevel(V5D,'A08C',GetUnitAbilityLevel(V5D,'A08E'))endifendifset t=nullendfunctionfunction W8D takes nothing returns booleanif(GetLearnedSkill()=='A086' or GetLearnedSkill()=='A08E')and IsUnitIllusion(GetTriggerUnit())==false thencall W4D(GetTriggerUnit(),false,GetLearnedSkill())endifreturn falseendfunctionfunction FM8 takes nothing returns nothingset NJ=CreateTrigger()call WH7(NJ,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(NJ,Condition(function W8D))endfunctionfunction W9D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)call UnitRemoveAbility(p5,'A1CO')call K_7(NO7)call NM7(t)set t=nullset p5=nullset m5=nullreturn falseendfunctionfunction WDD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(p5,'A0PL')local trigger tlocal integer NO7call DestroyEffect(AddSpecialEffect("war3mapImported\\PhantomStrike.mdx",GetUnitX(p5),GetUnitY(p5)))call SetUnitX(p5,GetUnitX(m5))call SetUnitY(p5,GetUnitY(m5))if IsUnitAlly(p5,GetOwningPlayer(m5))==false thenset t=CreateTrigger()set NO7=GetHandleId(t)call UW7(p5,'A1CO')call M87(GetHandleId(p5),"Count",0)call MF7(GetHandleId(p5),"Target",m5)call IssueTargetOrder(p5,"attack",m5)if(GetPlayerController(GetOwningPlayer(p5))!=MAP_CONTROL_USER)thencall I17(0.01)call IssueTargetOrder(p5,"attack",m5)endifcall TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function W9D))call MF7(NO7,"Source",p5)call M87(NO7,"TargetIndex",Q07(m5))endifset p5=nullset m5=nullset t=nullendfunctionfunction WED takes nothing returns booleanif GetSpellAbilityId()=='A0PL' thencall WDD()endifreturn falseendfunctionfunction WFD takes unit p5 returns nothinglocal integer NO7=GetHandleId(p5)local unit m5=MZ7(NO7,"Target")local integer P79=M_7(NO7,"Count")if GetTriggerUnit()!=m5 or P79>=4 thencall UnitRemoveAbility(p5,'A1CO')call K_7(NO7)elseset P79=P79+1call M87(NO7,"Count",P79)endifset m5=nullendfunctionfunction WGD takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A1CO')>0 thencall WFD(GetAttacker())endifreturn falseendfunctionfunction FR8 takes nothing returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WED))call WH7(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t2,Condition(function WGD))set t=nullset t2=nullendfunctionfunction WHD takes unit X97,boolean WID returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A03P')if WID==false thencall UnitRemoveAbility(X97,'A13F')call UnitRemoveAbility(X97,'B0A2')elsecall UW7(X97,'A13F')endifendfunctionfunction WJD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group glocal integer S08=(LoadInteger(C7,(V_7),(34)))local boolean WKD=(LoadBoolean(C7,(V_7),(674)))set S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))if X97!=null and UY7(X97)==false and GetUnitAbilityLevel(X97,'A03P')>0 thenset I04=X97set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1625,Condition(function Y87))if FirstOfGroup(g)==null thenif WKD==true and S08>15 thenset WKD=falsecall SaveBoolean(C7,(V_7),(674),(WKD))set S08=0call SaveInteger(C7,(V_7),(34),(S08))endifif WKD==false thenset S08=0call SaveInteger(C7,(V_7),(34),(S08))call SaveInteger(C7,(GetHandleId((X97))),((4302)),(2))call WHD(X97,false)call SetUnitVertexColorBJ(X97,100,100,100,0)if GetUnitAbilityLevel(X97,'A20S')==0 thencall UnitSetUsesAltIcon(X97,false)endifendifelseif WKD==false and S08>15 thenset WKD=trueset S08=0call SaveBoolean(C7,(V_7),(674),(WKD))call SaveInteger(C7,(V_7),(34),(S08))endifif WKD==true thenset S08=0call SaveInteger(C7,(V_7),(34),(S08))call SaveInteger(C7,(GetHandleId((X97))),((4302)),(1))call WHD(X97,true)call SetUnitVertexColorBJ(X97,100,100,100,75)if IsPlayerEnemy(GetOwningPlayer(X97),GetLocalPlayer())==true and TV7(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(X97,true)elsecall UnitSetUsesAltIcon(X97,false)endifendifendifcall T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction WMD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function WJD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(0))call SaveBoolean(C7,(V_7),(674),(false))set t=nullset X97=nullendfunctionfunction WND takes nothing returns booleanif GetLearnedSkill()=='A03P' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A03P')==1 thencall WMD()endifreturn falseendfunctionfunction FP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function WND))set t=nullendfunctionfunction WOD takes nothing returns nothinglocal unit ZM7if IsUnitInGroup(GetEnumUnit(),J44)==false thencall GroupAddUnit(J44,GetEnumUnit())set ZM7=CreateUnit(GetOwningPlayer(ZZ4),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(ZM7,'A0RI')call SetUnitAbilityLevel(ZM7,'A0RI',GetUnitAbilityLevel(ZZ4,'A0RA'))call IssueTargetOrder(ZM7,"ensnare",GetEnumUnit())call ZO7(ZZ4,GetEnumUnit(),Y84,100)endifset ZM7=nullendfunctionfunction WPD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ilocal group g=M67(NO7,"g")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local group WQD=TL7()local unit OS9=MZ7(NO7,"UnitVar")set I04=OS9set ZZ4=OS9call GroupEnumUnitsInRange(WQD,x,y,300,Condition(function Y47))set J44=gcall ForGroup(WQD,function WOD)call T67(WQD)if GetTriggerEvalCount(t)>ZX4*10 thenset i=1loopexitwhen i>16call DestroyEffect(ML7(NO7,"Effect"+I2S(i)))set i=i+1endloopcall T67(g)call K_7(NO7)call NM7(t)endifset t=nullset g=nullset WQD=nullset OS9=nullreturn falseendfunctionfunction WRD takes nothing returns nothinglocal integer i=1local location l=GetSpellTargetLoc()local real WSD=GetLocationX(l)local real WTD=GetLocationY(l)local real xlocal real ylocal integer WUD=16local string fx="Abilities\\Spells\\Undead\\Graveyard\\GraveMarker.mdl"local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local group g=TL7()call WP7(GetOwningPlayer(GetTriggerUnit()),ZX4,WSD,WTD,ZY4+500)call WN7(ZN,WSD,WTD)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function WPD))call MO7(V_7,"g",g)call MF7(V_7,"UnitVar",GetTriggerUnit())call M97(V_7,"x",WSD)call M97(V_7,"y",WTD)call CreateCorpse(GetOwningPlayer(GetTriggerUnit()),'ugho',WSD,WTD,0)loopexitwhen i>WUDset x=WSD+ZY4*Cos(i*360/WUD*bj_DEGTORAD)set y=WTD+ZY4*Sin(i*360/WUD*bj_DEGTORAD)call MG7(V_7,"Effect"+I2S(i),AddSpecialEffect(fx,x,y))if i==1 or i==5 or i==9 or i==13 thenset x=WSD+275*Cos(i*360/WUD*bj_DEGTORAD)set y=WTD+275*Sin(i*360/WUD*bj_DEGTORAD)call CreateCorpse(GetOwningPlayer(GetTriggerUnit()),'ugho',x,y,0)endifset i=i+1endloopcall RemoveLocation(l)set l=nullset t=nullset g=nullendfunctionfunction WVD takes nothing returns booleanif GetSpellAbilityId()=='A0RA'thencall WRD()endifreturn falseendfunctionfunction H68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WVD))set t=nullendfunctionfunction WWD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit p5=MZ7(V_7,"Source")local unit ZM7=MZ7(V_7,"DarkRiftFXUnit")local integer SR7=M_7(V_7,"Level")local integer WXD=90local integer RU8=GetTriggerEvalCount(t)if SR7==1 thenset WXD=160elseif SR7==2 thenset WXD=120endifcall SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))if RU8>WXD thencall KillUnit(ZM7)call NM7(t)call K_7(V_7)elseif RU8>30 thencall ShowUnit(ZM7,true)endifset t=nullset ZM7=nullset p5=nullreturn falseendfunctionfunction WYD takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call NQ7(GetEnumUnit(),"4406",1)call SetUnitPosition(GetEnumUnit(),IZ4,I34)call PanCameraToTimedForPlayer(GetOwningPlayer(GetEnumUnit()),IZ4,I34,0)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Items\\AIil\\AIilTarget.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call R17(GetEnumUnit())endfunctionfunction WZD takes unit p5,unit m5 returns nothinglocal group g=TL7()call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(p5),GetUnitY(p5)))call DestroyEffect(AddSpecialEffect("Doodads\\Cinematic\\ShimmeringPortal\\ShimmeringPortal.mdl",GetUnitX(m5),GetUnitY(m5)))set IZ4=GetUnitX(m5)set I34=GetUnitY(m5)set I04=p5call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),475,Condition(function YC7))call ForGroup(g,function WYD)call T67(g)set g=nullendfunctionfunction WAD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit p5=MZ7(V_7,"Source")local unit m5=MZ7(V_7,"Target")call DestroyEffect(ML7(V_7,"FX"))if GetTriggerEventId()==EVENT_UNIT_DEATH or m5==null or UY7(m5)thencall VH7(GetOwningPlayer(p5),GetObjectName('n03F'))elseif p5==null or UY7(p5)thencall VH7(GetOwningPlayer(p5),GetObjectName('n03G'))elsecall WZD(p5,m5)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction WBD takes nothing returns booleanlocal real dif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==false or GetUnitAbilityLevel(GetFilterUnit(),'A04R')>0 or GetOwningPlayer(GetFilterUnit())==Player(15)thenreturn falseendifif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)or(IY4>0 and LT8(GetFilterUnit()))thenset d=J87(I34,IL4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<IZ4 thenset IZ4=dset I04=GetFilterUnit()endifendifreturn falseendfunctionfunction WCD takes unit p5 returns unitlocal location llocal group glocal real xlocal real yset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)set g=TL7()set IY4=GetUnitAbilityLevel(p5,'A0R0')set I04=nullset IZ4=9999set I34=xset IL4=ycall GroupEnumUnitsInRange(g,x,y,4000,Condition(function WBD))call T67(g)call RemoveLocation(l)set l=nullset g=nullreturn I04endfunctionfunction W3D takes unit p5 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit m5=GetSpellTargetUnit()local unit uif m5==null thenset m5=WCD(p5)endifif m5==null thencall VH7(GetOwningPlayer(p5),GetObjectName('n03H'))returnendifcall TriggerRegisterTimerEvent(t,6-GetUnitAbilityLevel(p5,'A0R0'),false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WAD))call MG7(V_7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdl",m5,"overhead"))call MF7(V_7,"Source",p5)call MF7(V_7,"Target",m5)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,.03,true)call TriggerAddCondition(t,Condition(function WWD))call M87(V_7,"Level",GetUnitAbilityLevel(p5,'A0R0'))call MF7(V_7,"Source",p5)set u=CreateUnit(GetOwningPlayer(p5),'h098',GetUnitX(p5),GetUnitY(p5),0)call MF7(V_7,"DarkRiftFXUnit",u)call ShowUnit(u,false)set t=nullset m5=nullset u=nullendfunctionfunction W6D takes nothing returns nothinglocal unit U47=GetSpellTargetUnit()local unit T_7=GetTriggerUnit()if U47!=null thenif IsUnitAlly(U47,GetOwningPlayer(T_7))==false thencall JN7(T_7)call VH7(GetOwningPlayer(T_7),GetObjectName('n041'))elseif GetUnitAbilityLevel(T_7,'A0R0')>0 and LT8(U47)==false thencall JN7(T_7)call VH7(GetOwningPlayer(T_7),GetObjectName('n041'))endifendifif U47==null thenset U47=WCD(T_7)endifif U47==null thencall JN7(T_7)call VH7(GetOwningPlayer(T_7),GetObjectName('n040'))endifset U47=nullset T_7=nullendfunctionfunction WLD takes nothing returns booleanif GetSpellAbilityId()=='A0R0' thencall W6D()endifreturn falseendfunctionfunction W1D takes nothing returns booleanif GetSpellAbilityId()=='A0R0' thencall W3D(GetTriggerUnit())endifreturn falseendfunctionfunction HC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function WLD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function W1D))set t=nullcall U67('h094')call U67('h095')call U67('h096')endfunctionfunction W0D takes nothing returns nothingcall ZO7(ZB4,GetEnumUnit(),Y84,ZA4)endfunctionfunction W5D takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+ZA4*0.5)endfunctionfunction W2D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=MZ7(V_7,"Hero")local real x=N47(V_7,"x")local real y=N47(V_7,"y")local group g=TL7()local real r1=600local real r2=600local unit W_Dset x=GetUnitX(T_7)set y=GetUnitY(T_7)call GroupEnumUnitsInRange(g,x,y,r1,Condition(function YL7))set W_D=FirstOfGroup(g)call T67(g)if W_D==null thenif N77(V_7,"NoCorpse1")and N77(V_7,"NoCorpse2")thencall UnitRemoveAbility(T_7,'A283')call K_7(V_7)call NM7(t)elseif N77(V_7,"NoCorpse1")==false thencall ME7(V_7,"NoCorpse1",true)elsecall ME7(V_7,"NoCorpse2",true)endifendifelseset x=GetUnitX(W_D)set y=GetUnitY(W_D)call ME7(V_7,"NoCorpse1",false)call ME7(V_7,"NoCorpse2",false)call K_7(GetHandleId(W_D))call DestroyEffect(AddSpecialEffect("war3mapImported\\CorpseExplosion.mdx",x,y))call RemoveUnit(W_D)set g=TL7()set I04=T_7set ZB4=T_7set ZA4=20*GetUnitAbilityLevel(T_7,'A288')call GroupEnumUnitsInRange(g,x,y,r2,Condition(function Y47))call ForGroup(g,function W0D)set I04=T_7call GroupEnumUnitsInRange(g,x,y,r2,Condition(function YQ7))call ForGroup(g,function W5D)call T67(g)endifset g=nullset T_7=nullset W_D=nullset t=nullreturn falseendfunctionfunction X4D takes nothing returns nothinglocal real x=GetUnitX(GetTriggerUnit())local real y=GetUnitY(GetTriggerUnit())local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call WN7(Z84,x,y)call TriggerRegisterTimerEvent(t,1.5,true)call TriggerAddCondition(t,Condition(function W2D))call UW7(GetTriggerUnit(),'A283')call MF7(V_7,"Hero",GetTriggerUnit())call M97(V_7,"x",x)call M97(V_7,"y",y)call ME7(V_7,"NoCorpse1",false)call ME7(V_7,"NoCorpse2",false)set t=nullendfunctionfunction X7D takes nothing returns booleanif GetSpellAbilityId()=='A288'thencall X4D()endifreturn falseendfunctionfunction H38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function X7D))set t=nullendfunctionfunction X8D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit ZM7=(MZ7(V_7,"Caster"))if GetSpellAbilityId()=='A26O' thencall KillUnit(ZM7)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset ZM7=nullreturn falseendfunctionfunction X9D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer ZN7=GetUnitAbilityLevel(X97,'A26O')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function X8D))call MF7(V_7,"Source",X97)call MF7(V_7,"Caster",ZM7)call UW7(ZM7,'A26P')call SetUnitAbilityLevel(ZM7,'A26P',ZN7)call IssuePointOrder(ZM7,"rainoffire",x,y)set X97=nullset ZM7=nullendfunctionfunction XDD takes nothing returns booleanif GetSpellAbilityId()=='A26O'thencall X9D()endifreturn falseendfunctionfunction HL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XDD))set t=nullendfunctionfunction XED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A24Q')local integer XFDlocal real XGDlocal real XHD=3+ZN7if GetTriggerEventId()==EVENT_WIDGET_DEATH or GetTriggerEvalCount(t)>4*XHD thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'A24Z')call UnitRemoveAbility(U47,'A250')call UnitRemoveAbility(U47,'A24X')call UnitRemoveAbility(U47,'A251')call UnitRemoveAbility(U47,'A24Y')call UnitRemoveAbility(U47,'B0EH')elseset XGD=100*GetUnitState(U47,UNIT_STATE_LIFE)/GetUnitState(U47,UNIT_STATE_MAX_LIFE)if XGD<20 thenset XFD=5elseif XGD<40 thenset XFD=4elseif XGD<60 thenset XFD=3elseif XGD<80 thenset XFD=2elseset XFD=1endifif XFD==1 thenif GetUnitAbilityLevel(U47,'A24Z')==0 thencall UnitRemoveAbility(U47,'A250')call UnitRemoveAbility(U47,'A24X')call UnitRemoveAbility(U47,'A251')call UnitRemoveAbility(U47,'A24Y')call UnitRemoveAbility(U47,'B0EH')call UnitAddAbility(U47,'A24Z')endifelseif XFD==2 thenif GetUnitAbilityLevel(U47,'A250')==0 thencall UnitRemoveAbility(U47,'A24Z')call UnitRemoveAbility(U47,'A24X')call UnitRemoveAbility(U47,'A251')call UnitRemoveAbility(U47,'A24Y')call UnitRemoveAbility(U47,'B0EH')call UnitAddAbility(U47,'A250')endifelseif XFD==3 thenif GetUnitAbilityLevel(U47,'A24X')==0 thencall UnitRemoveAbility(U47,'A24Z')call UnitRemoveAbility(U47,'A250')call UnitRemoveAbility(U47,'A251')call UnitRemoveAbility(U47,'A24Y')call UnitRemoveAbility(U47,'B0EH')call UnitAddAbility(U47,'A24X')endifelseif XFD==4 thenif GetUnitAbilityLevel(U47,'A251')==0 thencall UnitRemoveAbility(U47,'A24Z')call UnitRemoveAbility(U47,'A250')call UnitRemoveAbility(U47,'A24X')call UnitRemoveAbility(U47,'A24Y')call UnitRemoveAbility(U47,'B0EH')call UnitAddAbility(U47,'A251')endifelseif XFD==5 thenif GetUnitAbilityLevel(U47,'A24Y')==0 thencall UnitRemoveAbility(U47,'A24Z')call UnitRemoveAbility(U47,'A250')call UnitRemoveAbility(U47,'A24X')call UnitRemoveAbility(U47,'A251')call UnitRemoveAbility(U47,'B0EH')call UnitAddAbility(U47,'A24Y')endifendifcall ZO7(X97,U47,Y84,0.01*4*0.25*GetUnitState(U47,UNIT_STATE_MAX_LIFE))if ModuloInteger(GetTriggerEvalCount(t),4)==0 thencall CreateCorpse(GetOwningPlayer(X97),'ugho',GetUnitX(U47),GetUnitY(U47),0)endifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction XID takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A24Q')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("effects\\EntanglingBonesTarget.mdx",U47,"chest")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function XED))call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24Z',false)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A250',false)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24X',false)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A251',false)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A24Y',false)set X97=nullset U47=nullset t=nullendfunctionfunction XJD takes nothing returns booleanif GetSpellAbilityId()=='A24Q' and T37(GetSpellTargetUnit())==false thencall XID()endifreturn falseendfunctionfunction H18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XJD))set t=nullendfunctionfunction XKD takes unit X97,integer XMD returns nothingcall SaveInteger(C7,(GetHandleId(X97)),(687),(XMD))call UnitRemoveAbility(X97,'A25X')call UnitRemoveAbility(X97,'A25Y')call UnitRemoveAbility(X97,'A25Z')call UnitRemoveAbility(X97,'A25T')call UnitRemoveAbility(X97,'A25V')call UnitRemoveAbility(X97,'A25U')call UnitRemoveAbility(X97,'A25S')call UnitRemoveAbility(X97,'A25R')call UnitRemoveAbility(X97,'A25W')call UnitRemoveAbility(X97,'A260')call UnitRemoveAbility(X97,'A26M')call UnitRemoveAbility(X97,'A26L')call UnitRemoveAbility(X97,'A26G')call UnitRemoveAbility(X97,'A26H')call UnitRemoveAbility(X97,'A26F')call UnitRemoveAbility(X97,'A26E')call UnitRemoveAbility(X97,'A256')call UnitRemoveAbility(X97,'A26I')call UnitRemoveAbility(X97,'A26J')call UnitRemoveAbility(X97,'A26K')call UnitRemoveAbility(X97,'A26D')if XMD==0 thencall UnitAddAbility(X97,'A26M')endifif XMD==1 thencall UW7(X97,'A25X')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25X',false)call UnitAddAbility(X97,'A26L')elseif XMD==2 thencall UW7(X97,'A25Y')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25Y',false)call UnitAddAbility(X97,'A26G')elseif XMD==3 thencall UW7(X97,'A25Z')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25Z',false)call UnitAddAbility(X97,'A26H')elseif XMD==4 thencall UW7(X97,'A25T')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25T',false)call UnitAddAbility(X97,'A26F')elseif XMD==5 thencall UW7(X97,'A25V')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25V',false)call UnitAddAbility(X97,'A26E')elseif XMD==6 thencall UW7(X97,'A25U')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25U',false)call UnitAddAbility(X97,'A256')elseif XMD==7 thencall UW7(X97,'A25S')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25S',false)call UnitAddAbility(X97,'A26I')elseif XMD==8 thencall UW7(X97,'A25R')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25R',false)call UnitAddAbility(X97,'A26J')elseif XMD==9 thencall UW7(X97,'A25W')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A25W',false)call UnitAddAbility(X97,'A26K')elseif XMD==10 thencall UW7(X97,'A260')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A260',false)call UnitAddAbility(X97,'A26D')endifendfunctionfunction XND takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer XMD=(LoadInteger(C7,(GetHandleId(X97)),(687)))local group glocal unit W_Dlocal integer ZN7=GetUnitAbilityLevel(X97,'A261')local integer XOD=2+2*ZN7if XMD<XOD and UY7(X97)==false thenset g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),925,Condition(function YL7))set W_D=FirstOfGroup(g)call T67(g)if W_D!=null thenset XMD=XMD+1call XKD(X97,XMD)call WX7((W_D),(X97),'h0D6',"CorpseCollector_FX_Nothing",400)call RemoveUnit(W_D)endifendifset t=nullset X97=nullset W_D=nullreturn falseendfunctionfunction XPD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,4,true)call TriggerAddCondition(t,Condition(function XND))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction XQD takes nothing returns nothingcall ZO7(ZC4,GetEnumUnit(),Y84,Z34)endfunctionfunction XRD takes unit X97,integer ZN7,real WR7,real WS7,integer XMD,boolean ES9 returns nothinglocal group g=TL7()set ZC4=X97set Z34=30*XMDif ES9 thenset Z34=Z34+10*XMDendifset I04=X97call GroupEnumUnitsInRange(g,WR7,WS7,350,Condition(function Y47))call ForGroup(g,function XQD)call T67(g)endfunctionfunction XSD takes unit X97,real PL9,real P19 returns booleanlocal real WR7=(LoadReal(C7,(GetHandleId(X97)),(690)))local real WS7=(LoadReal(C7,(GetHandleId(X97)),(691)))if WR7==0 and WS7==0 thenreturn falseendifif J87(PL9,P19,WR7,WS7)<425 thenreturn trueendifreturn falseendfunctionfunction XTD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer XMD=(LoadInteger(C7,(V_7),(34)))local integer ZN7=GetUnitAbilityLevel(X97,'A261')local integer i=1local unit ZM7local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local real xlocal real ylocal real a=(LoadReal(C7,(V_7),(137)))local boolean ES9=(LoadBoolean(C7,(V_7),(688)))local boolean XUD=(LoadBoolean(C7,(V_7),(689)))local real XVD=(LoadReal(C7,(V_7),(549)))local real XWD=(LoadReal(C7,(V_7),(567)))set XVD=VK7(XVD+10*Cos(a))set XWD=VM7(XWD+10*Sin(a))call SaveReal(C7,(V_7),(549),((XVD)*1.0))call SaveReal(C7,(V_7),(567),((XWD)*1.0))if ES9==false thenset ES9=XSD(X97,XVD,XWD)if ES9==true thencall SaveBoolean(C7,(V_7),(688),(ES9))endifendifif ES9 and XUD==false thenset XUD=truecall SaveBoolean(C7,(V_7),(689),(XUD))loopexitwhen i>XMDset ZM7=(LoadUnitHandle(C7,(V_7),(393+i)))call SaveEffectHandle(C7,(V_7),(609+i),(AddSpecialEffectTarget("war3mapImported\\CorpseFire.mdx",ZM7,"origin")))set i=i+1endloopendifset i=1if J87(XVD,XWD,WR7,WS7)<15 thenloopexitwhen i>XMDif ES9 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(609+i))))endifcall KillUnit((LoadUnitHandle(C7,(V_7),(393+i))))set i=i+1endloopcall FlushChildHashtable(C7,(V_7))call NM7(t)call XRD(X97,ZN7,WR7,WS7,XMD,ES9)elseloopexitwhen i>XMDset ZM7=(LoadUnitHandle(C7,(V_7),(393+i)))set x=(LoadReal(C7,(V_7),(549+i)))set y=(LoadReal(C7,(V_7),(567+i)))set x=VK7(x+10*Cos(a))set y=VM7(y+10*Sin(a))call SaveReal(C7,(V_7),(549+i),((x)*1.0))call SaveReal(C7,(V_7),(567+i),((y)*1.0))call SetUnitX(ZM7,x)call SetUnitY(ZM7,y)set i=i+1endloopendifset t=nullset ZM7=nullset X97=nullreturn falseendfunctionfunction XXD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real WR7=GetSpellTargetX()local real WS7=GetSpellTargetY()local integer ZN7=GetUnitAbilityLevel(X97,'A261')local integer XMD=(LoadInteger(C7,(GetHandleId(X97)),(687)))local integer i=1local unit ZM7local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real x=GetUnitX(X97)local real y=GetUnitY(X97)local real a=W77(GetUnitX(X97),GetUnitY(X97),WR7,WS7)*bj_DEGTORADcall SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(XMD))call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveReal(C7,(V_7),(549),((x)*1.0))call SaveReal(C7,(V_7),(567),((y)*1.0))call SaveBoolean(C7,(V_7),(688),(false))call SaveBoolean(C7,(V_7),(689),(false))loopexitwhen i>XMDset ZM7=CreateUnit(GetOwningPlayer(X97),'h0D7',x+GetRandomInt(-200,200),y+GetRandomInt(-200,200),0)call SaveUnitHandle(C7,(V_7),(393+i),(ZM7))call SaveReal(C7,(V_7),(549+i),((GetUnitX(ZM7))*1.0))call SaveReal(C7,(V_7),(567+i),((GetUnitY(ZM7))*1.0))set i=i+1endloopcall TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function XTD))call XKD(X97,0)set X97=nullset t=nullset ZM7=nullendfunctionfunction XYD takes nothing returns booleanif GetSpellAbilityId()=='A261' thencall XXD()endifreturn falseendfunctionfunction XZD takes nothing returns booleanif GetLearnedSkill()=='A261' and GetUnitAbilityLevel(GetTriggerUnit(),'A261')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall XPD()endifreturn falseendfunctionfunction H08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XYD))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function XZD))set t=nullendfunctionfunction XAD takes nothing returns booleanreturn GetUnitAbilityLevel(GetTriggerUnit(),'A06K')>0endfunctionfunction XBD takes nothing returns nothingif(GetIssuedOrderId()==String2OrderIdBJ("immolation"))thenif(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)thencall UW7(GetTriggerUnit(),'A0AZ')elsecall I17(0.1)if(GetUnitAbilityLevel(GetTriggerUnit(),'B02T')>0)thencall UnitAddAbility(GetTriggerUnit(),'A0AZ')endifendifelseif(GetIssuedOrderId()==String2OrderIdBJ("unimmolation"))thenif(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_USER)thencall UnitRemoveAbility(GetTriggerUnit(),'A0AZ')elsecall I17(0.1)if(GetUnitAbilityLevel(GetTriggerUnit(),'B02T')==0)thencall UnitRemoveAbility(GetTriggerUnit(),'A0AZ')endifendifendifendfunctionfunction FS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function XAD))call TriggerAddAction(t,function XBD)set t=nullendfunctionfunction XCD takes nothing returns nothinglocal integer V_7=GetHandleId(GetEnumUnit())if GetTriggerUnit()!=GetEnumUnit()thencall SaveInteger(C7,(V_7),(672),((LoadInteger(C7,(V_7),(672)))+1))endifendfunctionfunction X3D takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='U00F' and IsUnitIllusion(GetFilterUnit())==false and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))==trueendfunctionfunction X6D takes nothing returns booleanlocal group gif IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and GetUnitTypeId(GetTriggerUnit())!='H00J' and IsUnitIllusion(GetTriggerUnit())==false thenset g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),475,Condition(function X3D))if GetUnitTypeId(GetKillingUnit())=='U00F' thencall GroupAddUnit(g,GetKillingUnit())endifcall ForGroup(g,function XCD)call T67(g)set g=nullendifreturn falseendfunctionfunction XLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEvalCount(t)==1 thencall ShowUnit(p5,false)elseif GetTriggerEvalCount(t)>80 thencall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset p5=nullreturn falseendfunctionfunction X1D takes nothing returns booleanlocal unit ZM7local unit p5local unit UB7local trigger tlocal integer V_7if GetUnitTypeId(GetTriggerUnit())=='U00F' thenset p5=GetTriggerUnit()set UB7=GetKillingUnit()if p5==UB7 thenset ZM7=CreateUnit(GetOwningPlayer(p5),'h0BB',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitTimeScale(ZM7,0.75)call UnitApplyTimedLife(ZM7,'BTLF',1.0)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodAbomination.mdl",ZM7,"origin"))set ZM7=nullcall SetSoundPosition(DP,GetUnitX(p5),GetUnitY(p5),50)call SetSoundVolumeBJ(DP,100)call PlaySoundBJ(DP)call SetSoundPosition(EP,GetUnitX(p5),GetUnitY(p5),50)call SetSoundVolumeBJ(EP,100)call PlaySoundBJ(EP)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function XLD))call SaveUnitHandle(C7,(V_7),(2),(p5))set t=nullendifset p5=nullset UB7=nullendifreturn falseendfunctionfunction X0D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local unit X97=(LoadUnitHandle(C7,(GetHandleId(t)),(2)))local integer V_7=GetHandleId(X97)local integer X5D=(LoadInteger(C7,(V_7),(672)))local integer X2D=(LoadInteger(C7,(V_7),(673)))local integer ZN7=GetUnitAbilityLevel(X97,'A06D')local integer X_D=R2I(I2R(X5D)*(0.6+0.3*ZN7))if X_D>X2D thencall ModifyHeroStat(0,X97,bj_MODIFYMETHOD_ADD,X_D-X2D)call SaveInteger(C7,(V_7),(673),(X_D))call WD7("+"+I2S(X_D-X2D)+" "+GetObjectName('n0MJ'),3,X97,0.023,0,255,0,230)endifset t=nullset X97=nullreturn falseendfunctionfunction Y4D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function X0D))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction Y7D takes nothing returns booleanif GetLearnedSkill()=='A06D' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A06D')==1 thencall Y4D()endifreturn falseendfunctionfunction Y8D takes nothing returns booleanif GetUnitTypeId(G7[GetPlayerId(GetTriggerPlayer())])=='U00F' thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,GetObjectName('n09R')+" "+I2S((LoadInteger(C7,(GetHandleId(G7[GetPlayerId(GetTriggerPlayer())])),(673))))+" "+GetObjectName('n09S'))endifreturn falseendfunctionfunction FT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Y7D))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function Y8D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function X1D))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function X6D))set t=nullendfunctionfunction Y9D takes unit X97,unit U47 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local unit YDD=CreateUnit(GetOwningPlayer(X97),'e02A',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A0PZ')call IssueTargetOrder(ZM7,"thunderbolt",U47)call UnitApplyTimedLife(ZM7,'BTLF',1)call UnitApplyTimedLife(YDD,'BTLF',1)set ZM7=nullset YDD=nullendfunctionfunction YED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer YFD=M_7(NO7,"LinkNumber")local boolean YGD=N77(NO7,"FoundTarget")local unit m5local unit YHD=MZ7(NO7,"Link"+I2S(YFD))if YGD thenset m5=MZ7(NO7,"Target")call SetUnitX(m5,GetUnitX(YHD))call SetUnitY(m5,GetUnitY(YHD))endifcall RemoveUnit(YHD)set YFD=YFD-1call M87(NO7,"LinkNumber",YFD)if YFD==0 thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullset YHD=nullreturn falseendfunctionfunction YID takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer YFD=M_7(NO7,"LinkNumber")local integer SR7=M_7(NO7,"Level")local real l4=N47(NO7,"Angle")local unit TX7=MZ7(NO7,"Hero")local trigger YJD=M37(NO7,"RetractTrigger")local integer YKD=GetHandleId(YJD)local group glocal unit ulocal real xlocal real yif YFD<10+5*SR7 thenset YFD=YFD+1call M87(NO7,"LinkNumber",YFD)set x=GetUnitX(TX7)+YFD*40*Cos(l4*bj_DEGTORAD)set y=GetUnitY(TX7)+YFD*40*Sin(l4*bj_DEGTORAD)call MF7(YKD,"Link"+I2S(YFD),CreateUnit(GetOwningPlayer(TX7),'u00H',x,y,l4))set g=TL7()call GroupEnumUnitsInRange(g,x,y,125,Condition(function YA7))call GroupRemoveUnit(g,TX7)set u=GroupPickRandomUnit(g)call T67(g)if u!=null thencall K_7(NO7)call NM7(t)call TriggerRegisterTimerEvent(YJD,0.03,true)call TriggerAddCondition(YJD,Condition(function YED))call M87(YKD,"LinkNumber",YFD)call ME7(YKD,"FoundTarget",true)call MF7(YKD,"Target",u)if IsUnitEnemy(u,GetOwningPlayer(TX7))thenif IsUnitType(u,UNIT_TYPE_HERO)==true thencall AT7("HA_Hits"+I2S(GetPlayerId(GetOwningPlayer(TX7))),Q34[GetPlayerId(GetOwningPlayer(TX7))])set Q34[GetPlayerId(GetOwningPlayer(TX7))]=Q34[GetPlayerId(GetOwningPlayer(TX7))]+1call NQ7(TX7,"4400",1.5)endifset Q64[GetPlayerId(GetOwningPlayer(TX7))]=Q64[GetPlayerId(GetOwningPlayer(TX7))]+1call AT7("HA_Total"+I2S(GetPlayerId(GetOwningPlayer(TX7))),Q64[GetPlayerId(GetOwningPlayer(TX7))])call Y9D(TX7,u)call ZO7(TX7,u,YD4,90*SR7)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Human\\HumanBlood\\BloodElfSpellThiefBlood.mdl",u,"origin"))endifendifelsecall K_7(NO7)call NM7(t)set Q64[GetPlayerId(GetOwningPlayer(TX7))]=Q64[GetPlayerId(GetOwningPlayer(TX7))]+1call TriggerRegisterTimerEvent(YJD,0.03,true)call TriggerAddCondition(YJD,Condition(function YED))call M87(YKD,"LinkNumber",YFD)call ME7(YKD,"FoundTarget",false)endifset t=nullset TX7=nullset YJD=nullset g=nullset u=nullreturn falseendfunctionfunction YMD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real l4=W77(GetUnitX(TX7),GetUnitY(TX7),GetLocationX(l),GetLocationY(l))local integer SR7=GetUnitAbilityLevel(TX7,'A06I')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call M87(NO7,"Level",SR7)call M97(NO7,"Angle",l4*1.0)call M87(NO7,"LinkNumber",0)call MH7(NO7,"RetractTrigger",CreateTrigger())call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function YID))call RemoveLocation(l)set TX7=nullset l=nullset t=nullendfunctionfunction YND takes nothing returns booleanif GetSpellAbilityId()=='A06I' thencall YMD()endifreturn falseendfunctionfunction YOD takes nothing returns booleanlocal integer YC9=Q34[GetPlayerId(GetTriggerPlayer())]local integer D5=Q64[GetPlayerId(GetTriggerPlayer())]if GetUnitTypeId(G7[GetPlayerId(GetTriggerPlayer())])=='U00F' and D5>0 thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,L8,10.00,(GetObjectName(('n0EL')))+" "+R2S(I2R(YC9)/ I2R(D5)*100)+"% ("+I2S(YC9)+"/"+I2S(D5)+")")endifreturn falseendfunctionfunction FU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YND))set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-stats",true)call TriggerRegisterPlayerChatEvent(t,Y7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-st",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-st",true)call TriggerAddCondition(t,Condition(function YOD))set t=nullendfunctionfunction YPD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local real V37=(25+50*SR7)+(0.75)*GetHeroStr(p5,true)local integer RU8=M_7(NO7,"Count")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST and GetSpellAbilityId()=='A1CX')thencall K_7(NO7)call NM7(t)endifelseif GetTriggerEvalCount(t)>4 thencall K_7(NO7)call NM7(t)call JN7(p5)elseif SR7>0 thenset RU8=RU8+1if(RU8<4 and IsUnitType(m5,UNIT_TYPE_HERO)==true)or(RU8<8 and IsUnitType(m5,UNIT_TYPE_HERO)==false)thencall SetUnitState(p5,UNIT_STATE_LIFE,GetUnitState(p5,UNIT_STATE_LIFE)+V37)call ZO7(p5,m5,Y84,V37)endifcall M87(NO7,"Count",RU8)endifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction YQD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(p5,'A1CX')call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function YPD))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call M87(NO7,"Count",0)call TriggerEvaluate(t)set t=nullset p5=nullset m5=nullendfunctionfunction YRD takes nothing returns booleanif GetSpellAbilityId()=='A1CX' and T37(GetSpellTargetUnit())==false thencall YQD()endifreturn falseendfunctionfunction FV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YRD))set t=nullendfunctionfunction YSD takes nothing returns booleanreturn((GetUnitTypeId(GetSummonedUnit())=='o00L')or(GetUnitTypeId(GetSummonedUnit())=='o00M')or(GetUnitTypeId(GetSummonedUnit())=='o00N')or(GetUnitTypeId(GetSummonedUnit())=='o00O'))endfunctionfunction YTD takes nothing returns nothingcall SetUnitAbilityLevelSwapped('A08T',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A09D',GetSummoningUnit()))call SetUnitAbilityLevelSwapped('A0CF',GetSummonedUnit(),GetUnitAbilityLevelSwapped('A09D',GetSummoningUnit()))call IssueImmediateOrderById(GetSummonedUnit(),852512)endfunctionfunction R4 takes nothing returns nothingset Do=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Do,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(Do,Condition(function YSD))call TriggerAddAction(Do,function YTD)endfunctionfunction YUD takes unit p5,unit m5 returns nothinglocal real YVD=20+20*T0local real YWD=35+35*T0local real V37=YVD+(YWD-YVD)*w0/ 700call ZO7(p5,m5,Y84,V37)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\ChimaeraLightningMissile\\ChimaeraLightningMissile.mdl",m5,"chest"))endfunctionfunction YXD takes nothing returns nothinglocal unit m5=GetEnumUnit()local group QG9=t0local unit p5=U0if IsUnitInGroup(m5,QG9)==false thencall GroupAddUnit(QG9,m5)call YUD(p5,m5)endifset m5=nullset QG9=nullset p5=nullendfunctionfunction YYD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local group QG9=M67(NO7,"AlreadyDamaged")local effect fxlocal integer P79=GetTriggerEvalCount(t)local real xlocal real x0=GetUnitX(p5)local real ylocal real y0=GetUnitY(p5)local integer ilocal integer dlocal group g=TL7()call SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))set t0=QG9set U0=p5set T0=GetUnitAbilityLevel(p5,'A1E7')if P79>20 thenset d=21*36+(20-P79)*36set w0=dset i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I04=p5call GroupEnumUnitsInRange(g,x,y,100,Condition(function YE7))call ForGroup(g,function YXD)set i=i+1endloopelseset d=P79*36set w0=dset i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I04=p5call GroupEnumUnitsInRange(g,x,y,100,Condition(function YE7))call ForGroup(g,function YXD)set i=i+1endloopendifcall T67(g)if P79==40 thencall KillUnit(ZM7)call T67(QG9)call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseif P79==20 thencall GroupClear(QG9)set fx=nullendifset t=nullset ZM7=nullset QG9=nullset p5=nullset g=nullreturn falseendfunctionfunction YZD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'h092',x,y,0)local integer i=0local group QG9=TL7()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MG7(NO7,"FX",AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",TX7,"origin"))call MO7(NO7,"AlreadyDamaged",QG9)call MF7(NO7,"Source",TX7)call MF7(NO7,"Caster",ZM7)call TriggerRegisterTimerEvent(t,0.06,true)call TriggerAddCondition(t,Condition(function YYD))set t=nullset ZM7=nullset TX7=nullset QG9=nullendfunctionfunction YAD takes nothing returns booleanif GetSpellAbilityId()=='A1E7' thencall YZD()endifreturn falseendfunctionfunction HR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YAD))set t=nullendfunctionfunction YBD takes integer YCD returns booleanreturn YCD!='A09V' and YCD!='A026' and YCD!='A0LZ' and YCD!='A0QN' and YCD!='A0OI' and YCD!='A0DY' and YCD!='A1WB' and YCD!='AHfa'endfunctionfunction Y3D takes unit Y6D,unit p5,unit m5,integer SR7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(Y6D),'e00E',GetUnitX(p5),GetUnitY(p5),0)call UW7(ZM7,'A1AK')call SetUnitAbilityLevel(ZM7,'A1AK',SR7)call IssueTargetOrder(ZM7,"chainlightning",m5)call UW7(ZM7,'A18D')call SetUnitAbilityLevel(ZM7,'A18D',SR7)call IssueTargetOrder(ZM7,"purge",m5)set ZM7=nullendfunctionfunction YLD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7if GetSpellTargetUnit()==p5 and YBD(GetSpellAbilityId())==true and IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(p5))==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true thenset SR7=GetUnitAbilityLevel(p5,'A1E6')call Y3D(p5,p5,GetTriggerUnit(),SR7)endifset t=nullset p5=nullreturn falseendfunctionfunction Y1D takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YLD))call MF7(NO7,"Source",p5)if R99 thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset p5=nullset t=nullendfunctionfunction Y0D takes nothing returns booleanif GetLearnedSkill()=='A1E6' and GetUnitAbilityLevel(GetTriggerUnit(),'A1E6')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall Y1D(GetTriggerUnit(),false)endifreturn falseendfunctionfunction HS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function Y0D))set t=nullendfunctionfunction Y5D takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZA7if d<1 thencall UnitRemoveAbility(u,W0[0])call UnitRemoveAbility(u,W0[1])call UnitRemoveAbility(u,W0[2])call UnitRemoveAbility(u,W0[3])call UnitRemoveAbility(u,W0[4])call UnitRemoveAbility(u,W0[5])call UnitRemoveAbility(u,W0[6])call UnitRemoveAbility(u,W0[7])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZA7=iset i=0loopexitwhen i>ZA7if b[i]==1 thencall UW7(u,W0[i])elsecall UnitRemoveAbility(u,W0[i])endifset i=i+1endloopendfunctionfunction Y2D takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZA7if d<1 thencall UnitRemoveAbility(u,z0[0])call UnitRemoveAbility(u,z0[1])call UnitRemoveAbility(u,z0[2])call UnitRemoveAbility(u,z0[3])call UnitRemoveAbility(u,z0[4])call UnitRemoveAbility(u,z0[5])call UnitRemoveAbility(u,z0[6])call UnitRemoveAbility(u,z0[7])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZA7=iset i=0loopexitwhen i>ZA7if b[i]==1 thencall UW7(u,z0[i])elsecall UnitRemoveAbility(u,z0[i])endifset i=i+1endloopendfunctionfunction Y_D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH thenif GetTriggerUnit()==p5 thencall Y5D(p5,0)call MF7(NO7,"Source",null)elsecall Y2D(m5,0)call MF7(NO7,"Target",null)endifelseif p5!=null thencall Y5D(p5,0)endifif m5!=null thencall Y2D(m5,0)endifcall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction Z4D takes unit X97,unit U47,unit OT9 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)if OT9==null thencall TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)elseif OT9==U47 thencall Y2D(U47,0)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call MF7(V_7,"Source",X97)call MF7(V_7,"Target",null)elsecall Y5D(X97,0)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call MF7(V_7,"Source",null)call MF7(V_7,"Target",U47)endifcall TriggerRegisterTimerEvent(t,18,false)call TriggerAddCondition(t,Condition(function Y_D))set t=nullendfunctionfunction Z7D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local unit U47=MZ7(V_7,"Target")local lightning Z8D=M17(V_7,"Light")local integer ZN7=M_7(V_7,"Level")local integer S08=GetTriggerEvalCount(t)local unit ZM7=MZ7(V_7,"Caster")call MoveLightning(Z8D,true,GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))call SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))if J87(GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))>700 or GetTriggerEventId()==EVENT_UNIT_DEATH or IsUnitVisible(U47,GetOwningPlayer(X97))==false thencall DestroyLightning(Z8D)call KillUnit(ZM7)if GetTriggerEventId()==EVENT_UNIT_DEATH thencall Z4D(X97,U47,GetTriggerUnit())elsecall Z4D(X97,U47,null)endifcall K_7(V_7)call NM7(t)elseif S08>160 thencall DestroyLightning(Z8D)call KillUnit(ZM7)call Z4D(X97,U47,null)call K_7(V_7)call NM7(t)elseif ModuloInteger(S08,20)==0 or S08==1 thencall Y5D(X97,(ZN7*7)*R2I(S08/ 20))call Y2D(U47,(ZN7*7)*R2I(S08/ 20))endifset t=nullset X97=nullset U47=nullset Z8D=nullset ZM7=nullreturn falseendfunctionfunction Z9D takes unit p5,unit m5,lightning ZDD,unit ZM7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A1DP')call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function Z7D))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call MI7(NO7,"Light",ZDD)call MF7(NO7,"Caster",ZM7)set t=nullendfunctionfunction ZED takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local lightning ZDD=M17(NO7,"Light")local unit ZM7=MZ7(NO7,"Caster")local real ZFD=GetUnitX(p5)local real ZGD=GetUnitY(p5)local real I1D=N47(NO7,"rRealX1")local real I0D=N47(NO7,"rRealY1")local real a=N47(NO7,"a")local unit m5=nulllocal group g=TL7()set I1D=VK7(I1D+25*Cos(a))set I0D=VM7(I0D+25*Sin(a))call M97(NO7,"rRealX1",I1D*1.0)call M97(NO7,"rRealY1",I0D*1.0)call MoveLightning(ZDD,true,ZFD,ZGD,I1D,I0D)call SetUnitX(ZM7,I1D)call SetUnitY(ZM7,I0D)set I04=p5call GroupEnumUnitsInRange(g,I1D,I0D,225,Condition(function Z77))set m5=FirstOfGroup(g)call T67(g)if m5!=null thencall Z9D(p5,m5,ZDD,ZM7)call K_7(NO7)call NM7(t)elseif GetTriggerEvalCount(t)>25 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyLightning(ZDD)call KillUnit(ZM7)call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset ZDD=nullset m5=nullset g=nullset ZM7=nullreturn falseendfunctionfunction ZHD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger tlocal integer NO7local location llocal lightning ZDD=AddLightning("CLSB",true,GetUnitX(p5),GetUnitY(p5),GetUnitX(p5),GetUnitY(p5))local unit ZM7=CreateUnit(GetOwningPlayer(p5),'h088',GetUnitX(p5),GetUnitY(p5),0)call SetLightningColor(ZDD,0.3,0.5,1,1)if m5==null thenset l=GetSpellTargetLoc()set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ZED))call MF7(NO7,"Source",p5)call MI7(NO7,"Light",ZDD)call MF7(NO7,"Caster",ZM7)call M97(NO7,"a",(Atan2(GetLocationY(l)-GetUnitY(p5),GetLocationX(l)-GetUnitX(p5)))*1.0)call M97(NO7,"rRealX1",(GetUnitX(p5))*1.0)call M97(NO7,"rRealY1",(GetUnitY(p5))*1.0)call RemoveLocation(l)set l=nullset t=nullelsecall Z9D(p5,m5,ZDD,ZM7)endifset m5=nullset p5=nullset l=nullset t=nullset ZM7=nullendfunctionfunction ZID takes nothing returns booleanif GetSpellAbilityId()=='A1DP' thencall ZHD()endifreturn falseendfunctionfunction HT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZID))set t=nullset W0[0]='A1DV'set W0[1]='A1DQ'set W0[2]='A1DR'set W0[3]='A1DS'set W0[4]='A1DT'set W0[5]='A1DU'set W0[6]='A1DW'set W0[7]='A1DX'set z0[0]='A1E4'set z0[1]='A1E3'set z0[2]='A1E2'set z0[3]='A1E1'set z0[4]='A1E0'set z0[5]='A1E5'set z0[6]='A1DZ'set z0[7]='A1DY'endfunctionfunction ZJD takes integer NO7 returns nothinglocal integer i=1local integer ZKD=M_7(NO7,"MaxIndex")local unit m5local integer ZR7if ZKD==0 thenreturnendifloopexitwhen i>ZKDset ZR7=M_7(NO7,"Target_"+I2S(i))set m5=QL7(ZR7)call Q67(ZR7)call UnitRemoveAbility(m5,n1[0])call UnitRemoveAbility(m5,n1[1])call UnitRemoveAbility(m5,n1[2])call UnitRemoveAbility(m5,n1[3])call UnitRemoveAbility(m5,n1[4])call UnitRemoveAbility(m5,n1[5])set i=i+1endloopset m5=nullendfunctionfunction ZMD takes unit m5,integer NO7 returns nothinglocal integer ZR7=Q07(m5)local integer ZKD=M_7(NO7,"MaxIndex")set ZKD=ZKD+1call M87(NO7,"MaxIndex",ZKD)call M87(NO7,"Target_"+I2S(ZKD),ZR7)endfunctionfunction ZND takes unit u returns integerreturn GetUnitAbilityLevel(u,n1[0])*1+GetUnitAbilityLevel(u,n1[1])*2+GetUnitAbilityLevel(u,n1[2])*4+GetUnitAbilityLevel(u,n1[3])*8+GetUnitAbilityLevel(u,n1[4])*16endfunctionfunction ZOD takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer ZA7if d<1 thencall UnitRemoveAbility(u,n1[0])call UnitRemoveAbility(u,n1[1])call UnitRemoveAbility(u,n1[2])call UnitRemoveAbility(u,n1[3])call UnitRemoveAbility(u,n1[4])call UnitRemoveAbility(u,n1[5])returnendifloopexitwhen c==0set c=a/ 2set b[i]=a-c*2set a=cset i=i+1endloopset ZA7=iset i=0loopexitwhen i>ZA7if b[i]==1 thencall UW7(u,n1[i])elsecall UnitRemoveAbility(u,n1[i])endifset i=i+1endloopendfunctionfunction ZPD takes unit u,integer d returns nothingif IsUnitType(u,UNIT_TYPE_STRUCTURE)==false thencall ZOD(u,d+ZND(u))call ZMD(u,a1)endifendfunctionfunction ZQD takes unit p5,unit ZM7,unit m5,integer SR7 returns nothingcall IssueTargetOrder(ZM7,"chainlightning",m5)call ZS7(p5,m5,2,(50+25*SR7)/ 2,0.3)call ZPD(m5,1)endfunctionfunction ZRD takes nothing returns booleanif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!='n00L' thenif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 thenset o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)set RO4=GetFilterUnit()endifendifreturn falseendfunctionfunction ZSD takes nothing returns booleanif(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false))and GetUnitTypeId(GetFilterUnit())!='emow' and GetUnitTypeId(GetFilterUnit())!='uzig' and GetUnitTypeId(GetFilterUnit())!='n00L' thenif GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<o1 thenset o1=GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)set RO4=GetFilterUnit()endifendifreturn falseendfunctionfunction ZTD takes unit p5,unit ZM7,integer SR7 returns nothinglocal group g=TL7()set RO4=nullset o1=999999set Z0=30+30*SR7set v1=p5set I04=p5if GetUnitAbilityLevel(p5,'A1UV')>0 thencall GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function ZSD))elsecall GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function ZRD))endifcall T67(g)if RO4!=null thencall ZQD(p5,ZM7,RO4,SR7)endifset g=nullendfunctionfunction ZUD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local integer SR7=M_7(NO7,"Level")local integer RU8=GetTriggerEvalCount(t)local integer ZVDif GetTriggerEventId()==EVENT_UNIT_DEATH thencall ZJD(NO7)call K_7(NO7)call NM7(t)if GetTriggerUnit()==p5 thencall KillUnit(ZM7)endifelseif GetUnitAbilityLevel(p5,'A1UV')>0 thenif SR7==1 thenset ZVD=14elseif SR7==2 thenset ZVD=12elseset ZVD=10endifelseif SR7==1 thenset ZVD=17elseif SR7==2 thenset ZVD=15elseset ZVD=12endifendifif ModuloInteger(RU8,ZVD)==0 or RU8==1 thenset a1=NO7call ZTD(p5,ZM7,SR7)endifcall SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))endifset t=nullset p5=nullset ZM7=nullreturn falseendfunctionfunction ZWD takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A1AO')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(p5),'h081',GetUnitX(p5),GetUnitY(p5),0)if SR7==0 thenset SR7=GetUnitAbilityLevel(p5,'A1UV')endifcall UnitApplyTimedLife(ZM7,'BTLF',15+5*SR7)call SetUnitAbilityLevel(ZM7,'A1DJ',SR7)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function ZUD))call MF7(NO7,"Caster",ZM7)call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)set p5=nullset t=nullset ZM7=nullendfunctionfunction ZXD takes nothing returns booleanif GetSpellAbilityId()=='A1AO' or GetSpellAbilityId()=='A1UV' thencall ZWD()endifreturn falseendfunctionfunction HU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZXD))set t=nullset n1[0]='A1DK'set n1[1]='A1DL'set n1[2]='A1DN'set n1[3]='A1DM'set n1[4]='A1DO'endfunctionfunction ZYD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer ZZD=GetTriggerEvalCount(t)local real y=(ZZD-13)*(ZZD-13)if ZZD<26 thenif FAD(TX7)==false thencall SetUnitFlyHeight(TX7,375-y,0)endifelsecall PauseUnit(TX7,false)if FAD(TX7)==false thencall SetUnitFlyHeight(TX7,GetUnitDefaultFlyHeight(TX7),0)endifcall ZO7(MZ7(NO7,"Source"),TX7,Y84,N47(NO7,"Damage"))call ZK7(MZ7(NO7,"Source"),TX7,N47(NO7,"Duration"))call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction ZAD takes unit TX7,unit p5,real Hk,real ZBD,real ZCD returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call PauseUnit(TX7,true)if FAD(TX7)==false thencall UnitAddAbility(TX7,'Amrf')call UnitRemoveAbility(TX7,'Amrf')endifcall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleHitTarget.mdl",GetUnitX(TX7),GetUnitY(TX7)))call MF7(NO7,"Hero",TX7)call MF7(NO7,"Source",p5)call M97(NO7,"Damage",ZBD)call M97(NO7,"Duration",Hk)call TriggerRegisterTimerEvent(t,0.02/ 0.52*ZCD,true)call TriggerAddCondition(t,Condition(function ZYD))set t=nullendfunctionfunction Z3D takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false and TU7(GetEnumUnit())==false and NF7(GetEnumUnit(),"Omnislashing")==false thencall GroupAddUnit(J44,GetEnumUnit())call ZAD(GetEnumUnit(),I04,I34,IZ4,IL4)endifendfunctionfunction Z6D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local real ZBD=N47(NO7,"damage")local real Hk=N47(NO7,"duration")local real x1=N47(NO7,"x1")local real y1=N47(NO7,"y1")local real x2=N47(NO7,"x2")local real y2=N47(NO7,"y2")local real w=N47(NO7,"w")local real ZLD=N47(NO7,"TempReal")local real a=Atan2(y2-y1,x2-x1)local group g=M67(NO7,"g")local group Z1D=TL7()local real ZCD=ZLD*0.0625local real Z0D=N47(NO7,"LastFX_x")local real Z5D=N47(NO7,"LastFX_y")local real Z2D=N47(NO7,"FX_Interval")local real Z_D=N47(NO7,"airtime")if ZCD>J87(x1,y1,x2,y2)thenset x1=x2set y1=y2elseset x1=x1+ZCD*Cos(a)set y1=y1+ZCD*Sin(a)endifset I04=p5set IZ4=ZBDset I34=Hkset IL4=Z_Dset J44=gcall GroupEnumUnitsInRange(Z1D,x1,y1,w,Condition(function Y47))call ForGroup(Z1D,function Z3D)call T67(Z1D)if J87(x1,y1,Z0D,Z5D)>=Z2D thencall M97(NO7,"LastFX_x",x1)call M97(NO7,"LastFX_y",y1)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\Impale\\ImpaleMissTarget.mdl",x1,y1))endifcall M97(NO7,"x1",x1)call M97(NO7,"y1",y1)if x1==x2 and y1==y2 thenif N77(NO7,"destroyGroup")==true thencall T67(g)endifcall K_7(NO7)call NM7(t)endifset g=nullset Z1D=nullset p5=nullset t=nullreturn falseendfunctionfunction A4D takes real A7D,real A8D returns integerif A7D/ A8D-R2I(A7D/ A8D)>=0.5 thenreturn R2I(A7D/ A8D)+1endifreturn R2I(A7D/ A8D)endfunctionfunction A9D takes unit p5,unit m5,real ZBD,real Hk,real Z_D,real x1,real y1,real x2,real y2,real w,group ADD,boolean AED,real ZLD returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real AFD=J87(x1,y1,x2,y2)local integer AGD=A4D(AFD,ON)local real Z2D=AFD/ AGDlocal group gcall MF7(NO7,"Source",p5)call M97(NO7,"damage",ZBD)call M97(NO7,"duration",Hk)call M97(NO7,"airtime",Z_D)call M97(NO7,"x1",x1)call M97(NO7,"y1",y1)call M97(NO7,"x2",x2)call M97(NO7,"y2",y2)call M97(NO7,"w",w)call M97(NO7,"TempReal",ZLD)if ADD==null thenset g=TL7()if m5!=null and IsUnitIllusion(m5)==false thencall GroupAddUnit(g,m5)endifcall MO7(NO7,"g",g)call ME7(NO7,"destroyGroup",AED)elsecall MO7(NO7,"g",ADD)call ME7(NO7,"destroyGroup",AED)endifcall M97(NO7,"FX_Interval",Z2D)call M97(NO7,"LastFX_x",x1)call M97(NO7,"LastFX_y",y1)call TriggerRegisterTimerEvent(t,0.0625,true)call TriggerAddCondition(t,Condition(function Z6D))set t=nullset g=nullendfunctionfunction AHD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")call SetUnitPosition(TX7,x,y)call SetUnitAnimation(TX7,"morph ALTERNATE")call K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction AID takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A06O')local location llocal real AJDlocal real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local real AKDlocal real AMDlocal real ANDlocal real AODlocal real CasterXlocal real CasterYlocal integer BurrowstrikeTempIntlocal unit oAlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real V37local real Hk=1.65local unit m5=nullif SR7==1 thenset V37=100elseif SR7==2 thenset V37=160elseif SR7==3 thenset V37=220elseif SR7==4 thenset V37=280endifif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset AKD=GetLocationX(l)set AMD=GetLocationY(l)call RemoveLocation(l)set AJD=W77(x,y,AKD,AMD)call MF7(NO7,"Hero",TX7)call M97(NO7,"x",AKD)call M97(NO7,"y",AMD)call TriggerRegisterTimerEvent(t,J87(x,y,AKD,AMD)/ 2000,false)call TriggerAddCondition(t,Condition(function AHD))if J87(x,y,AKD,AMD)<150 thenset AKD=x+150*Cos(AJD*bj_DEGTORAD)set AMD=y+150*Sin(AJD*bj_DEGTORAD)endifif GetSpellTargetUnit()!=null and T37(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall A9D(TX7,m5,V37,Hk,0.52,x,y,AKD,AMD,175,null,true,1600)set oA=nullset l=nullset TX7=nullset t=nullset m5=nullendfunctionfunction APD takes nothing returns booleanif GetSpellAbilityId()=='A06O'thencall AID()endifreturn falseendfunctionfunction FX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function APD))set t=nullendfunctionfunction AQD takes nothing returns nothingcall ZO7(e0,GetEnumUnit(),Y84,110)if GetPlayerController(GetOwningPlayer(o0))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(o0,'A17B')endifcall IssueTargetOrder(o0,"slow",GetEnumUnit())endfunctionfunction ARD takes unit p5,real x,real y,integer SR7,integer ASD returns nothinglocal group g=TL7()local real rlocal string fxif ASD==8 thenset r=675elseif ASD==9 thenset r=700elseif ASD==10 thenset r=725elseset r=250+50*ASDendifif ASD<4 thenset fx=CU4elseif ASD<8 thenset fx=CL4elseset fx=C_4endifcall DestroyEffect(AddSpecialEffect(fx,x,y))set I04=p5set e0=p5set o0=v0[GetPlayerId(GetOwningPlayer(p5))]call GroupEnumUnitsInRange(g,x,y,r,Condition(function Y47))call ForGroup(g,function AQD)call T67(g)call nm(0.03,false,x,y,150+100*ASD,150+100*ASD,72,0.03,512)set g=nullendfunctionfunction ATD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local unit TX7=MZ7(NO7,"Hero")local real AUD=N47(NO7,"LastX")local real AVD=N47(NO7,"LastY")local boolean A69=N77(NO7,"Scepter")local integer SR7=M_7(NO7,"Level")local integer ASD=M_7(NO7,"Iteration")local integer AWD=4+SR7*2local real x=AUDlocal real y=AVDif A69 thenset AWD=AWD+2endifif ASD>AWD thencall K_7(NO7)call NM7(t)elseif TX7!=null and UY7(TX7)==false thenset x=GetUnitX(TX7)set y=GetUnitY(TX7)endifcall ARD(TX7,x,y,SR7,ASD)call M87(NO7,"Iteration",ASD+1)call M97(NO7,"LastX",(x)*1.0)call M97(NO7,"LastY",(y)*1.0)endifset t=nullset p=nullset TX7=nullreturn falseendfunctionfunction AXD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local player p=GetOwningPlayer(TX7)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(TX7,'A06R')local boolean A69=falseif SR7==0 thenset A69=trueset SR7=GetUnitAbilityLevel(TX7,'A1B4')endifif Q_7(p)thenset v0[GetPlayerId(p)]=CreateUnit(Z7[0],'e00E',GetUnitX(TX7),GetUnitY(TX7),0)elseset v0[GetPlayerId(p)]=CreateUnit(Y7[0],'e00E',GetUnitX(TX7),GetUnitY(TX7),0)endifcall UW7(v0[GetPlayerId(p)],'A17B')call MF7(NO7,"Hero",TX7)call MM7(NO7,"p",GetOwningPlayer(TX7))call M97(NO7,"LastX",(GetUnitX(TX7))*1.0)call M97(NO7,"LastY",(GetUnitY(TX7))*1.0)call M87(NO7,"Level",SR7)call M87(NO7,"Iteration",2)call ME7(NO7,"Scepter",A69)call TriggerRegisterTimerEvent(t,0.35,true)call TriggerAddCondition(t,Condition(function ATD))call ARD(TX7,GetUnitX(TX7),GetUnitY(TX7),SR7,1)set TX7=nullset p=nullset t=nullendfunctionfunction AYD takes nothing returns booleanif GetSpellAbilityId()=='A06R' or GetSpellAbilityId()=='A1B4' thencall AXD()endifreturn falseendfunctionfunction FY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(t,Condition(function AYD))call VQ7('A17B')set t=nullendfunctionfunction AZD takes nothing returns booleanreturn(GetSpellAbilityId()=='A0H0')endfunctionfunction AAD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),bj_UNIT_FACING)call UW7(oA,'A0HO')call SetUnitAbilityLevel(oA,'A0HO',GetUnitAbilityLevel(TX7,'A0H0'))call IssueTargetOrderById(oA,852069,TX7)call K_7(NO7)call NM7(t)set t=nullset TX7=nullset oA=nullreturn falseendfunctionfunction ABD takes nothing returns nothinglocal unit ACDlocal unit A3D=GetTriggerUnit()local unit array A6Dlocal integer Rdlocal trigger t=CreateTrigger()call NH7(A3D,"Sandstorm")set ACD=CreateUnit(GetOwningPlayer(A3D),'e00Q',GetUnitX(A3D),GetUnitY(A3D),bj_UNIT_FACING)call SetUnitPathing(ACD,false)call SetUnitInvulnerable(ACD,true)call UnitAddAbility(ACD,'Aloc')call UnitAddAbility(ACD,'A0HM')call SetUnitAbilityLevelSwapped('A0HM',ACD,GetUnitAbilityLevelSwapped('A0H0',A3D))call IssueImmediateOrderById(ACD,852177)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function AAD))call MF7(GetHandleId(t),"Hero",A3D)set Rd=1set A6D[Rd]=CreateUnit(GetOwningPlayer(A3D),'e00Q',GetUnitX(A3D)+150,GetUnitY(A3D)+150,bj_UNIT_FACING)call SetUnitTimeScalePercent(A6D[Rd],.0)call SetUnitPathing(A6D[Rd],false)call SetUnitInvulnerable(A6D[Rd],true)call UnitAddAbility(A6D[Rd],'Aloc')set Rd=2set A6D[Rd]=CreateUnit(GetOwningPlayer(A3D),'e00Q',GetUnitX(A3D)+150,GetUnitY(A3D)-150,bj_UNIT_FACING)call SetUnitTimeScalePercent(A6D[Rd],.0)call SetUnitPathing(A6D[Rd],false)call SetUnitInvulnerable(A6D[Rd],true)call UnitAddAbility(A6D[Rd],'Aloc')set Rd=3set A6D[Rd]=CreateUnit(GetOwningPlayer(A3D),'e00Q',GetUnitX(A3D)-150,GetUnitY(A3D)+150,bj_UNIT_FACING)call SetUnitTimeScalePercent(A6D[Rd],.0)call SetUnitPathing(A6D[Rd],false)call SetUnitInvulnerable(A6D[Rd],true)call UnitAddAbility(A6D[Rd],'Aloc')set Rd=4set A6D[Rd]=CreateUnit(GetOwningPlayer(A3D),'e00Q',GetUnitX(A3D)-150,GetUnitY(A3D)-150,bj_UNIT_FACING)call SetUnitTimeScalePercent(A6D[Rd],.0)call SetUnitPathing(A6D[Rd],false)call SetUnitInvulnerable(A6D[Rd],true)call UnitAddAbility(A6D[Rd],'Aloc')if R87(GetOwningPlayer(A3D))thencall UnitApplyTimedLife(A6D[1],'BTLF',20*GetUnitAbilityLevel(A3D,'A0H0'))call UnitApplyTimedLife(A6D[2],'BTLF',20*GetUnitAbilityLevel(A3D,'A0H0'))call UnitApplyTimedLife(A6D[3],'BTLF',20*GetUnitAbilityLevel(A3D,'A0H0'))call UnitApplyTimedLife(A6D[4],'BTLF',20*GetUnitAbilityLevel(A3D,'A0H0'))endifset t=nullset ACD=nullset A3D=nullendfunctionfunction sa takes nothing returns nothingset DO=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DO,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(DO,Condition(function AZD))call TriggerAddAction(DO,function ABD)endfunctionfunction ALD takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='e00Q')endfunctionfunction ScarabsFilter takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='u012')or(GetUnitTypeId(GetFilterUnit())=='u013')endfunctionfunction FilterEidolons takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='hwat')or(GetUnitTypeId(GetFilterUnit())=='hwt2')or(GetUnitTypeId(GetFilterUnit())=='hwt3')or(GetUnitTypeId(GetFilterUnit())=='h006')endfunctionfunction A1D takes nothing returns nothingcall RemoveUnit(GetEnumUnit())endfunctionfunction A0D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local group g=M67(NO7,"g")local unit T_7=MZ7(NO7,"Hero")if NF7(T_7,"Sandstorm")==false thencall UnitRemoveAbility(T_7,'B04R')endifcall ForGroup(g,function A1D)call DestroyGroup(g)call K_7(NO7)call NM7(t)set t=nullset g=nullset T_7=nullreturn falseendfunctionfunction Trig_Sand_Storm_Turn_Off_Func005001002 takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='U00K')endfunctionfunction A5D takes nothing returns nothinglocal unit A3D=GetTriggerUnit()local group B47local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call NJ7(A3D,"Sandstorm")set B47=GetUnitsOfPlayerMatching(GetOwningPlayer(A3D),Condition(function ALD))call MO7(NO7,"g",B47)call MF7(NO7,"Hero",A3D)call TriggerRegisterTimerEvent(t,GetUnitAbilityLevel(A3D,'A0H0')*.3,false)call TriggerAddCondition(t,Condition(function A0D))set t=nullset A3D=nullset B47=nullendfunctionfunction sB takes nothing returns nothingset Dp=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(Dp,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call TriggerAddCondition(Dp,Condition(function AZD))call TriggerAddAction(Dp,function A5D)endfunctionfunction A2D takes nothing returns nothingcall ZO7(m0,GetEnumUnit(),Y94,50*M0)endfunctionfunction A_D takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)local group g=TL7()local integer SR7=GetUnitAbilityLevel(p5,'A29K')call UW7(ZM7,'A0M9')call SetUnitAbilityLevel(ZM7,'A0M9',SR7)call IssueImmediateOrder(ZM7,"thunderclap")call UW7(ZM7,'A01W')call SetUnitAbilityLevel(ZM7,'A01W',SR7)call IssueImmediateOrder(ZM7,"stomp")set m0=p5set M0=SR7call GroupEnumUnitsInRange(g,x,y,350+25,Condition(function YK7))call ForGroup(g,function A2D)call T67(g)set p5=nullset ZM7=nullset g=nullendfunctionfunction B4D takes nothing returns booleanif GetSpellAbilityId()=='A29K' thencall A_D()endifreturn falseendfunctionfunction FZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B4D))set t=nullendfunctionfunction B7D takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"UnitVar")local unit B8D=MZ7(NO7,"Owner")local unit ZM7local real XP7=N47(NO7,"Duration")local integer SR7=GetUnitAbilityLevel(B8D,('A0HW'))local real B9D=N47(NO7,"x")local real BDD=N47(NO7,"y")local real W59=GetUnitX(TX7)local real W29=GetUnitY(TX7)if(W59-B9D)*(W59-B9D)+(W29-BDD)*(W29-BDD)>900 thenset ZM7=CreateUnit(GetOwningPlayer(B8D),('h002'),GetUnitX(TX7),GetUnitY(TX7),0)call SetUnitAbilityLevel(ZM7,('A0I2'),SR7)call SetUnitAbilityLevel(ZM7,('A0HY'),SR7)call UnitApplyTimedLife(ZM7,'BTLF',7)call M97(NO7,"x",(W59)*1.0)call M97(NO7,"y",(W29)*1.0)endifset XP7=XP7+0.2call M97(NO7,"Duration",(XP7)*1.0)if XP7>7 or GetUnitState(TX7,UNIT_STATE_LIFE)<1 thencall PauseTimer(t)call K_7(NO7)endifset t=nullset TX7=nullset B8D=nullset ZM7=nullendfunctionfunction BED takes nothing returns nothinglocal unit m5=GetEnumUnit()local sound WO7local timer tlocal integer NO7call UnitDamageTarget(L7,m5,D8,true,true,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)call GroupAddUnit(N8,m5)if IsUnitType(m5,UNIT_TYPE_HERO)==true thenset t=CreateTimer()set NO7=GetHandleId(t)set WO7=CreateSound("Sounds\\Spectral Dagger.mp3",false,true,true,10,10,"DefaultEAXON")call SetSoundPosition(WO7,GetUnitX(m5),GetUnitY(m5),0)call SetSoundDistanceCutoff(WO7,700)call StartSound(WO7)call KillSoundWhenDone(WO7)call MF7(NO7,"UnitVar",m5)call MF7(NO7,"Owner",L7)call M97(NO7,"x",(GetUnitX(m5))*1.0)call M97(NO7,"y",(GetUnitY(m5))*1.0)call TimerStart(t,0.2,true,function B7D)endifset m5=nullset t=nullset WO7=nullendfunctionfunction BFD takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and IsUnitInGroup(GetFilterUnit(),N8)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==falseendfunctionfunction BGD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local group QG9=M67(NO7,"AlreadyDamaged")local group B47=TL7()local boolexpr EHD=Condition(function BFD)local unit TX7=MZ7(NO7,"Hero")local unit ZF7=MZ7(NO7,"Projectile")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real t5=GetUnitX(ZF7)local real w5=GetUnitY(ZF7)local real l4=Atan2(Z5-w5,Y5-t5)local real W59=VK7(GetUnitX(ZF7)+30*Cos(l4))local real W29=VM7(GetUnitY(ZF7)+30*Sin(l4))local unit ZM7local integer SR7=GetUnitAbilityLevel(TX7,('A0HW'))if N77(NO7,"TrailNext")thencall ME7(NO7,"TrailNext",false)set ZM7=CreateUnit(GetOwningPlayer(TX7),('h002'),t5,w5,0)call SetUnitAbilityLevel(ZM7,('A0I2'),SR7)call SetUnitAbilityLevel(ZM7,('A0HY'),SR7)call UnitApplyTimedLife(ZM7,'BTLF',12)elsecall ME7(NO7,"TrailNext",true)endifcall SetUnitX(ZF7,W59)call SetUnitY(ZF7,W29)call SetUnitFacing(ZF7,l4*bj_RADTODEG)set N8=QG9set L7=TX7set D8=50*GetUnitAbilityLevel(TX7,('A0HW'))call GroupEnumUnitsInRange(B47,W59,W29,150,EHD)call ForGroup(B47,function BED)call T67(B47)if(W59-Y5)*(W59-Y5)+(W29-Z5)*(W29-Z5)<1600 thencall PauseTimer(t)call Q67(ZR7)call K_7(NO7)call KillUnit(ZF7)call T67(QG9)endifset t=nullset QG9=nullset B47=nullcall DestroyBoolExpr(EHD)set EHD=nullset TX7=nullset ZF7=nullset m5=nullset ZM7=nullendfunctionfunction BHD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local group QG9=M67(NO7,"AlreadyDamaged")local group B47=TL7()local boolexpr EHD=Condition(function BFD)local unit TX7=MZ7(NO7,"Hero")local unit ZF7=MZ7(NO7,"Projectile")local real Y5=N47(NO7,"TargetX")local real Z5=N47(NO7,"TargetY")local real t5=GetUnitX(ZF7)local real w5=GetUnitY(ZF7)local real l4=N47(NO7,"Angle")local real W59=VK7(GetUnitX(ZF7)+30*Cos(l4))local real W29=VM7(GetUnitY(ZF7)+30*Sin(l4))local unit ZM7local integer SR7=GetUnitAbilityLevel(TX7,('A0HW'))if N77(NO7,"TrailNext")thencall ME7(NO7,"TrailNext",false)set ZM7=CreateUnit(GetOwningPlayer(TX7),('h002'),t5,w5,0)call SetUnitAbilityLevel(ZM7,('A0I2'),SR7)call SetUnitAbilityLevel(ZM7,('A0HY'),SR7)call UnitApplyTimedLife(ZM7,'BTLF',12)elsecall ME7(NO7,"TrailNext",true)endifcall SetUnitX(ZF7,W59)call SetUnitY(ZF7,W29)set N8=QG9set L7=TX7set D8=50*GetUnitAbilityLevel(TX7,('A0HW'))call GroupEnumUnitsInRange(B47,W59,W29,150,EHD)call ForGroup(B47,function BED)call T67(B47)if(W59-Y5)*(W59-Y5)+(W29-Z5)*(W29-Z5)<1600 thencall PauseTimer(t)call K_7(NO7)call KillUnit(ZF7)call T67(QG9)endifset t=nullset QG9=nullset B47=nullcall DestroyBoolExpr(EHD)set EHD=nullset TX7=nullset ZF7=nullset ZM7=nullendfunctionfunction BID takes unit TX7,integer D5 returns booleanif(GetItemTypeId(UnitItemInSlot(TX7,D5))=='pspd')thenreturn trueendifif(GetItemTypeId(UnitItemInSlot(TX7,D5))=='oflg')thenreturn trueendifreturn falseendfunctionfunction BJD takes nothing returns nothinglocal timer t=GetExpiredTimer()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real XP7=N47(NO7,"Duration")local integer T8=0loopexitwhen T8>5if BID(TX7,T8)thenif GetUnitAbilityLevel(TX7,('B047'))==0 thencall SetItemDropOnDeath(UnitItemInSlot(TX7,T8),true)if GetItemTypeId(UnitItemInSlot(TX7,T8))=='oflg' thencall SetItemDroppable(UnitItemInSlot(TX7,T8),true)endifelsecall SetItemDropOnDeath(UnitItemInSlot(TX7,T8),false)if GetItemTypeId(UnitItemInSlot(TX7,T8))=='oflg' thencall SetItemDroppable(UnitItemInSlot(TX7,T8),false)endifendifendifset T8=T8+1endloopset XP7=XP7+0.2call M97(NO7,"Duration",(XP7)*1.0)if GetUnitAbilityLevel(TX7,('B047'))==0 thencall SetUnitPathing(TX7,true)elsecall SetUnitPathing(TX7,false)endifif XP7>30 thencall PauseTimer(t)call K_7(NO7)call SetUnitPathing(TX7,true)set T8=0loopexitwhen T8>5if BID(TX7,T8)thencall SetItemDropOnDeath(UnitItemInSlot(TX7,T8),true)if GetItemTypeId(UnitItemInSlot(TX7,T8))=='oflg' thencall SetItemDroppable(UnitItemInSlot(TX7,T8),true)endifendifset T8=T8+1endloopendifset t=nullset TX7=nullendfunctionfunction BKD takes nothing returns booleanreturn GetSpellAbilityId()==('A0HW')endfunctionfunction BMD takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real t5=VK7(GetUnitX(TX7))local real w5=VM7(GetUnitY(TX7))local unit ZF7=CreateUnit(GetOwningPlayer(TX7),('h003'),t5,w5,0)local timer t=CreateTimer()local integer NO7=GetHandleId(t)local group QG9=TL7()local location BNDlocal real l4local real Y5local real Z5call SetUnitPathing(ZF7,false)call MO7(NO7,"AlreadyDamaged",QG9)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Projectile",ZF7)if m5!=null thencall M87(NO7,"TargetIndex",Q07(m5))call TimerStart(t,0.035,true,function BGD)elseset BND=GetSpellTargetLoc()set Y5=GetLocationX(BND)set Z5=GetLocationY(BND)set l4=Atan2(Z5-w5,Y5-t5)call SetUnitFacing(ZF7,l4*bj_RADTODEG)set Y5=VK7(t5+2100*Cos(l4))set Z5=VM7(w5+2100*Sin(l4))call M97(NO7,"TargetX",(Y5)*1.0)call M97(NO7,"TargetY",(Z5)*1.0)call M97(NO7,"Angle",l4*1.0)call TimerStart(t,0.035,true,function BHD)endifset t=CreateTimer()set NO7=GetHandleId(t)call SetUnitPathing(TX7,false)call MF7(NO7,"Hero",TX7)call TimerStart(t,0.2,true,function BJD)set TX7=nullset m5=nullset ZF7=nullset t=nullset QG9=nullcall RemoveLocation(BND)set BND=nullendfunctionfunction GV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BKD))call TriggerAddAction(t,function BMD)call CreateSound("Sounds\\Spectral Dagger.mp3",false,false,false,10,10,"DefaultEAXON")call VQ7('A0I2')call VQ7('A0HY')set t=nullendfunctionfunction BOD takes nothing returns booleanreturn IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and GetUnitAbilityLevel(GetAttacker(),'A0FX')>0endfunctionfunction BPD takes nothing returns booleanreturn IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==falseendfunctionfunction BQD takes nothing returns nothinglocal unit PU8=GetAttacker()local unit sE=GetTriggerUnit()local group B47=TL7()local boolexpr hP=Condition(function BPD)local integer NO7call GroupEnumUnitsInRange(B47,GetUnitX(sE),GetUnitY(sE),350,hP)call GroupRemoveUnit(B47,sE)if FirstOfGroup(B47)==null thenset NO7=GetHandleId(PU8)if NF7(PU8,"Desolate")==false thencall UnitDamageTarget(PU8,sE,10+10*GetUnitAbilityLevel(PU8,'A0FX'),true,true,ATTACK_TYPE_HERO,DAMAGE_TYPE_DIVINE,WEAPON_TYPE_WHOKNOWS)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayTarget.mdl",sE,"overhead"))call NQ7(PU8,"Desolate",.3)endifendifcall T67(B47)call DestroyBoolExpr(hP)set PU8=nullset sE=nullset B47=nullset hP=nullendfunctionfunction GW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function BOD))call TriggerAddAction(t,function BQD)set t=nullendfunctionfunction aDx takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction aDX takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)local real V37=D8call UnitAddAbility(oA,'A0NN')call IssueTargetOrderById(oA,852095,m5)call UnitDamageTarget(TX7,m5,V37,true,false,ATTACK_TYPE_HERO,DAMAGE_TYPE_MAGIC,WEAPON_TYPE_WHOKNOWS)set TX7=nullset m5=nullset oA=nullendfunctionfunction BRD takes nothing returns nothinglocal real d=J77(GetTriggerUnit(),GetEnumUnit())-25local real BSD=0if d<300 thenset BSD=1elseif d<1000 thenset BSD=(1000-d)/700endifif BSD>0 thenset VY4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=truecall ZO7(GetTriggerUnit(),GetEnumUnit(),YD4,KS*BSD)set VY4[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=falsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\DeathandDecay\\DeathandDecayDamage.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction BTD takes nothing returns booleanlocal unit T_7=GetTriggerUnit()local real R09=GetEventDamage()local integer ZN7=GetUnitAbilityLevel(T_7,'A0NA')local group gif AO7(R09)thenset g=TL7()set KS=R09*(0.06+0.04*ZN7)call V67(T_7,KS)call GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),1025,Condition(function YK7))call ForGroup(g,function BRD)call T67(g)endifset T_7=nullset g=nullreturn falseendfunctionfunction BUD takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function BTD))if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction BVD takes nothing returns booleanif GetLearnedSkill()=='A0NA' and GetUnitAbilityLevel(GetTriggerUnit(),'A0NA')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall BUD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction GX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function BVD))set t=nullendfunctionfunction BWD takes nothing returns booleanreturn GetSpellAbilityId()=='A0H9'endfunctionfunction BXD takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit TX7=GetTriggerUnit()local unit oA=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(m5),GetUnitY(m5),0)call MF7(GetHandleId(oA),"HauntTarget",m5)call UW7(oA,'A0N9')call SetUnitAbilityLevel(oA,'A0N9',GetUnitAbilityLevel(TX7,'A0H9'))call IssueTargetOrderById(oA,852274,TX7)set m5=nullset TX7=nullset oA=nullendfunctionfunction BYD takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction BZD takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit XU=MZ7(NO7,"HauntImage")local unit m5=MZ7(NO7,"HauntTarget")local integer BAD=M_7(NO7,"HauntPhase")if GetTriggerEventId()!=EVENT_UNIT_DEATH and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER thenset BAD=BAD+1call M87(NO7,"HauntPhase",BAD)endifif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DisableTrigger(GetTriggeringTrigger())call K_7(GetHandleId(GetTriggeringTrigger()))call M87(NO7,"HauntPhase",BAD)if m5==GetTriggerUnit()thencall KillUnit(XU)endifelseif IsUnitPaused(XU)==false thenif BAD==2 thencall SetUnitVertexColor(XU,255,255,255,255)endifif BAD>1 thencall DisableTrigger(GetTriggeringTrigger())call IssueTargetOrder(XU,"attack",m5)call EnableTrigger(GetTriggeringTrigger())elsecall DisableTrigger(GetTriggeringTrigger())call IssueTargetOrderById(XU,851986,m5)call EnableTrigger(GetTriggeringTrigger())endifendifset XU=nullset m5=nullendfunctionfunction BBD takes nothing returns booleanreturn GetUnitAbilityLevel(GetSummonedUnit(),'B06L')>0endfunctionfunction BCD takes nothing returns nothinglocal unit oA=GetSummoningUnit()local unit XU=GetSummonedUnit()local unit m5=MZ7(GetHandleId(oA),"HauntTarget")local trigger t=CreateTrigger()call SaveUnitHandle(C7,GetHandleId(G7[GetPlayerId(GetOwningPlayer(oA))]),StringHash("HauntTarget")+GetHandleId(XU),m5)call SetUnitPathing(XU,false)call SetUnitMoveSpeed(XU,400)call SetUnitX(XU,GetUnitX(m5))call SetUnitY(XU,GetUnitY(m5))call IssueTargetOrderById(XU,851986,m5)call SetUnitVertexColor(XU,255,255,255,50)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,XU,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function BZD)call DestroyEffect(AddSpecialEffect("units\\nightelf\\SpiritOfVengeance\\SpiritOfVengeance.mdl",GetUnitX(XU),GetUnitY(XU)))call MF7(GetHandleId(t),"HauntTarget",m5)call MF7(GetHandleId(t),"HauntImage",XU)call M87(GetHandleId(t),"HauntPhase",0)if(M67(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp")!=null)thencall GroupAddUnit(M67(GetHandleId(GetOwningPlayer(GetSummoningUnit())),"MGrp"),GetSummonedUnit())call SetUnitUserData(GetSummonedUnit(),GetPlayerId(GetOwningPlayer(MZ7(GetHandleId(oA),"HauntTarget"))))endifcall K_7(GetHandleId(oA))set t=nullset m5=nullset XU=nullset oA=nullendfunctionfunction B3D takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local group B47=TL7()local boolexpr hP=Condition(function BYD)local sound HTcall UW7(GetTriggerUnit(),('A0HA'))if(M67(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp")!=null)thencall GroupClear(M67(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"MGrp"))endifcall SetUnitPathing(T_7,false)call GroupEnumUnitsInRect(B47,bj_mapInitialPlayableArea,hP)call ForGroup(B47,function BXD)call SetUnitPathing(T_7,true)if FirstOfGroup(B47)!=null thenset HT=CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")call StartSound(HT)call KillSoundWhenDone(HT)endifcall DestroyBoolExpr(hP)call T67(B47)set T_7=nullset B47=nullset hP=nullendfunctionfunction B6D takes nothing returns booleanreturn GetLearnedSkill()=='A0H9'and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0H9')==1endfunctionfunction BLD takes nothing returns nothingcall UW7(GetTriggerUnit(),'A0HA')endfunctionfunction GY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BWD))call TriggerAddAction(t,function B3D)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function BBD))call TriggerAddAction(t,function BCD)set t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function B6D))call TriggerAddAction(t,function BLD)call CreateSound("Abilities\\Spells\\Other\\ANsa\\SacrificeUnit.wav",false,false,false,10,10,"DefaultEAXON")call VQ7('A0N9')set t=nullendfunctionfunction B1D takes nothing returns booleanreturn GetSpellAbilityId()=='A0HA'endfunctionfunction B0D takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'B06L')>0endfunctionfunction B5D takes nothing returns nothinglocal unit TX7local real in=VL7(GetEnumUnit(),GetSpellTargetLoc())if in<D8 thenset L7=GetEnumUnit()set D8=inendifset TX7=nullendfunctionfunction B2D takes nothing returns unitlocal group B47=TL7()local boolexpr hP=Condition(function B0D)set L7=nullset D8=9999999call GroupEnumUnitsOfPlayer(B47,GetOwningPlayer(GetTriggerUnit()),hP)call ForGroup(B47,function B5D)set Zz=B47call DestroyBoolExpr(hP)set B47=nullset hP=nullreturn L7endfunctionfunction B_D takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction C4D takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=B2D()local unit C7D=LoadUnitHandle(C7,GetHandleId(TX7),StringHash("HauntTarget")+GetHandleId(m5))local real hNlocal real hoif m5==null thencall VH7(GetOwningPlayer(TX7),"Cannot find any of your Haunting illusions")elseset hN=GetUnitX(m5)set ho=GetUnitY(m5)call ForGroup(Zz,function B_D)call T67(Zz)set Zz=nullcall SetUnitX(TX7,hN)call SetUnitY(TX7,ho)if J87(GetCameraEyePositionX(),GetCameraEyePositionY(),GetUnitX(m5),GetUnitY(m5))>1400 thencall PanCameraToTimedForPlayer(GetOwningPlayer(TX7),hN,ho,0)endifcall IssueTargetOrderById(TX7,851983,C7D)endifset TX7=nullset m5=nullset C7D=nullendfunctionfunction Reality_CheckValid takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=B2D()if m5==null thencall JN7(TX7)call VH7(GetOwningPlayer(TX7),"Cannot find any of your Haunting illusions")endifset TX7=nullset m5=nullendfunctionfunction GZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B1D))call TriggerAddAction(t,function C4D)set t=nullendfunctionfunction C8D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=GetUnitAbilityLevel(p5,'A0ES')local integer OY9local integer C9Dif SR7>0 and UY7(p5)==false thenset OY9=R2I(GetUnitMoveSpeed(p5)*0.04*SR7)set C9D=M_7(NO7,"LastBonus")if OY9!=C9D thencall M87(NO7,"LastBonus",OY9)call ZU7(p5,OY9)endifendifset t=nullset p5=nullreturn falseendfunctionfunction CDD takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function C8D))call MF7(NO7,"Source",TX7)call M87(NO7,"LastBonus",0)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction CED takes nothing returns booleanif GetLearnedSkill()=='A0ES' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0ES')==1 thencall CDD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction FB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CED))set t=nullendfunctionfunction CFD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real CU9=(LoadReal(C7,(GetHandleId(X97)),(685)))call FlushChildHashtable(C7,(V_7))call NM7(t)if CU9<(TimerGetElapsed(P))or GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SaveReal(C7,(GetHandleId(X97)),(685),((0)*1.0))call UnitRemoveAbility(X97,'A24H')call UnitRemoveAbility(X97,'B0EC')endifset t=nullset X97=nullreturn falseendfunctionfunction CGD takes unit X97 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UW7(X97,'A24H')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A24H',false)call SaveReal(C7,(GetHandleId(X97)),(685),(((TimerGetElapsed(P))+YZ4-0.01)*1.0))call TriggerRegisterTimerEvent(t,YZ4,false)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function CFD))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullendfunctionfunction CHD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real Q99=(LoadReal(C7,(V_7),(13)))local real x=GetUnitX(U47)local real y=GetUnitY(U47)local integer S08=GetTriggerEvalCount(t)local real K1D=(LoadReal(C7,(V_7),(193)))local integer SFD=(LoadInteger(C7,(V_7),(12)))if S08>35 thencall SaveReal(C7,(V_7),(193),((K1D*0.98)*1.0))endifif GetTriggerEventId()==EVENT_UNIT_DEATH or S08>SFD thencall FlushChildHashtable(C7,(V_7))call NM7(t)elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))call WK7(x,y,150)set x=VK7(x+K1D*Cos(Q99))set y=VM7(y+K1D*Sin(Q99))if(IsPointInRegion(J94,((x)*1.0),((y)*1.0)))==false thencall SetUnitX(U47,x)call SetUnitY(U47,y)endifif S08==1 and(LoadBoolean(C7,(V_7),(698)))==false thencall IssueTargetOrder(X97,"attack",U47)endifendifset t=nullset U47=nullset X97=nullreturn falseendfunctionfunction CID takes unit X97,unit U47,boolean CJD,boolean CKD returns nothinglocal trigger tlocal integer V_7local real Q99=Atan2(GetUnitY(U47)-GetUnitY(X97),GetUnitX(U47)-GetUnitX(X97))local integer ZN7=GetUnitAbilityLevel(X97,'A0G5')local unit ZM7if CJD thenendifif ZN7>0 thenset ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A1WQ')call SetUnitAbilityLevel(ZM7,'A1WQ',ZN7)if IssueTargetOrder(ZM7,"thunderbolt",U47)thenset t=CreateTrigger()set V_7=GetHandleId(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\PhoenixMissile\\Phoenix_Missile_mini.mdl",X97,"weapon"))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(13),((Q99)*1.0))call SaveReal(C7,(V_7),(193),((2)*1.0))call SaveBoolean(C7,(V_7),(698),(CKD))call SaveInteger(C7,(V_7),(12),(75+20*ZN7))call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,0.01,true)call TriggerAddCondition(t,Condition(function CHD))call ZO7(X97,U47,Y84,25*ZN7)call CGD(X97)endifif CKD==false thencall NQ7(X97,"pIv",1.5)endifendifset t=nullset X97=nullset U47=nullset ZM7=nullendfunctionfunction CMD takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A0G5')>0 and IsUnitIllusion(GetAttacker())==false and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitTypeId(GetTriggerUnit())!='n00L'and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))and GetRandomInt(1,100)<=17 and NF7(GetAttacker(),"pIv")==false thencall CID(GetAttacker(),GetTriggerUnit(),false,false)endifreturn falseendfunctionfunction FC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function CMD))set t=nullendfunctionfunction CND takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),Y64)==false thencall GroupAddUnit(Y64,GetEnumUnit())call CID(YB4,GetEnumUnit(),false,true)endifendfunctionfunction COD takes integer id returns booleanif id=='A1P8' or id=='A0ES' or id=='A0G4' or id=='A1D8' or id=='A0G5' or id=='Aamk' thenreturn trueendifif id==852002 or id==852003 or id==852004 or id==852005 or id==852006 or id==852007 thenreturn trueendifif id>1000000 thenreturn trueendifreturn falseendfunctionfunction CPD takes nothing returns booleanif(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(YB4))==true thenif J77(YC4,GetFilterUnit())<Y34 thenset Y34=J77(YC4,GetFilterUnit())set YA4=GetFilterUnit()endifendifreturn falseendfunctionfunction CQD takes unit X97,unit U47 returns unitlocal group g=TL7()set I04=X97set YB4=X97set YA4=nullset Y34=999999set YC4=U47call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),4000,Condition(function CPD))call T67(g)set g=nullreturn YA4endfunctionfunction CRD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real CSD=(350+75*ZN7)*0.02local real P39=(LoadReal(C7,(V_7),(23)))local real P69=(LoadReal(C7,(V_7),(24)))local real xlocal real ylocal real alocal real dlocal string fxlocal group gif(GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==X97)or GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or V88(X97)or(LoadReal(C7,(V_7),(442)))<(TimerGetElapsed(P))thenif(GetTriggerEventId()!=EVENT_UNIT_ISSUED_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_POINT_ORDER and GetTriggerEventId()!=EVENT_UNIT_ISSUED_TARGET_ORDER)or((GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)and COD(GetIssuedOrderId())==false)thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call UnitRemoveAbility(U47,'A24L')call UnitRemoveAbility(U47,'B0ED')call T67((LoadGroupHandle(C7,(V_7),(187))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitTimeScale(X97,1)call KillUnit(ZM7)call SetUnitPathing(X97,true)call SetUnitVertexColor(X97,255,255,255,255)call UnitRemoveAbility(X97,'A179')call WK7(GetUnitX(X97),GetUnitY(X97),200)if GetTriggerEventId()!=EVENT_WIDGET_DEATH thencall ResetUnitAnimation(X97)endifendifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH and GetTriggerUnit()==U47 thenset fx=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))or TV7(GetLocalPlayer())thenset fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"endifcall UnitRemoveAbility(U47,'A24L')call UnitRemoveAbility(U47,'B0ED')set U47=CQD(X97,U47)if U47!=null thencall SaveUnitHandle(C7,(V_7),(17),(U47))call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget(fx,U47,"overhead")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget(fx,U47,"overhead")))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P))+50)*1.0))call TriggerRegisterDeathEvent(t,U47)elsecall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call UnitRemoveAbility(U47,'A24L')call UnitRemoveAbility(U47,'B0ED')call T67((LoadGroupHandle(C7,(V_7),(187))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitTimeScale(X97,1)call KillUnit(ZM7)call SetUnitPathing(X97,true)call ResetUnitAnimation(X97)call SetUnitVertexColor(X97,255,255,255,255)call UnitRemoveAbility(X97,'A179')call SetUnitPosition(X97,GetUnitX(X97),GetUnitY(X97))call WK7(GetUnitX(X97),GetUnitY(X97),500)endifelseset d=J87(GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))if d<100 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call UnitRemoveAbility(U47,'A24L')call UnitRemoveAbility(U47,'B0ED')call T67((LoadGroupHandle(C7,(V_7),(187))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitTimeScale(X97,1)call KillUnit(ZM7)set ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A0GS')call SetUnitAbilityLevel(ZM7,'A0GS',ZN7)call IssueTargetOrder(ZM7,"thunderbolt",U47)call SetUnitPathing(X97,true)call SetUnitVertexColor(X97,255,255,255,255)call UnitRemoveAbility(X97,'A179')call SetUnitPosition(X97,GetUnitX(X97),GetUnitY(X97))call WK7(GetUnitX(X97),GetUnitY(X97),200)set YL4=ZN7call IssueTargetOrder(X97,"attack",U47)if R97(GetOwningPlayer(X97))thenset hq[832+GetPlayerId(GetOwningPlayer(X97))]=0endifelseif GetTriggerEvalCount(t)==1 thencall DisableTrigger(t)call IssueImmediateOrder(X97,"holdposition")call EnableTrigger(t)endifif ModuloInteger(GetTriggerEvalCount(t),65)==0 thenif GetUnitTypeId(X97)=='E02X' thencall SetUnitAnimationByIndex(X97,1)elsecall SetUnitAnimationByIndex(X97,2)endifendifset a=W47(X97,U47)*bj_DEGTORADcall SetUnitFacing(X97,a*bj_RADTODEG)set x=P39+CSD*Cos(a)set y=P69+CSD*Sin(a)call SetUnitX(X97,x)call SetUnitY(X97,y)call SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))call SaveReal(C7,(V_7),(23),((x)*1.0))call SaveReal(C7,(V_7),(24),((y)*1.0))set Y64=(LoadGroupHandle(C7,(V_7),(187)))set g=TL7()set I04=X97set YB4=X97call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))call GroupRemoveUnit(g,U47)set YL4=ZN7call ForGroup(g,function CND)call T67(g)set g=nullif d<3000 and GetUnitAbilityLevel(U47,'A24L')==0 thencall UW7(U47,'A24L')endifif R97(GetOwningPlayer(X97))thenset hq[832+GetPlayerId(GetOwningPlayer(X97))]=Bz+1endifendifendifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction CTD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'o00Q',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=GetUnitAbilityLevel(X97,'A1P8')local string fx=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))or TV7(GetLocalPlayer())thenset fx="Abilities\\Spells\\Other\\HowlOfTerror\\HowlTarget.mdl"call PingMinimapEx(GetUnitX(U47),GetUnitY(U47),2,255,255,255,false)endifcall IssueTargetOrder(X97,"move",U47)call SetUnitPathing(X97,false)if GetUnitTypeId(X97)=='E02X' thencall SetUnitAnimationByIndex(X97,1)elsecall SetUnitAnimationByIndex(X97,2)endifcall SetUnitTimeScale(X97,2.5)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A179',false)call SetUnitVertexColor(X97,255,255,255,100)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P))+50)*1.0))call SaveReal(C7,(V_7),(23),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(X97))*1.0))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget(fx,U47,"overhead")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget(fx,U47,"overhead")))call SaveEffectHandle(C7,(V_7),(177),(AddSpecialEffectTarget("war3mapImported\\ShockwaveMissilePurple.mdx",X97,"origin")))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerAddCondition(t,Condition(function CRD))set t=nullset X97=nullset U47=nullset ZM7=nullendfunctionfunction CUD takes nothing returns booleanif GetSpellAbilityId()=='A1P8' and T37(GetSpellTargetUnit())==false thencall CTD()endifreturn falseendfunctionfunction FA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CUD))set t=nullcall VQ7('A0X6')endfunctionfunction CVD takes unit X97,unit U47 returns nothinglocal trigger tlocal integer V_7local real l4=Atan2(GetUnitY(U47)-GetUnitY(X97),GetUnitX(U47)-GetUnitX(X97))local integer ZN7=4call CID(X97,U47,true,true)set t=nullendfunctionfunction CWD takes nothing returns nothingcall CVD(V_4,GetEnumUnit())endfunctionfunction CXD takes unit X97,unit U47 returns nothinglocal group g=TL7()set I04=X97set V_4=X97call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),275,Condition(function Y47))call ForGroup(g,function CWD)call T67(g)set g=nullendfunctionfunction CYD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=GetTriggerEvalCount(t)local integer CZDlocal integer ZN7local real Q99local real P39=(LoadReal(C7,(V_7),(23)))local real P69=(LoadReal(C7,(V_7),(24)))local real x=GetUnitX(U47)local real y=GetUnitY(U47)local real d=J87(x,y,P39,P69)call SaveReal(C7,(V_7),(23),((x)*1.0))call SaveReal(C7,(V_7),(24),((y)*1.0))if GetTriggerEventId()==EVENT_UNIT_DEATH or S08==200 or d>1800 thencall SetUnitVertexColor(X97,255,255,255,255)call UnitShareVision(U47,GetOwningPlayer(X97),false)call UnitRemoveAbility(X97,'A179')call FlushChildHashtable(C7,(V_7))call NM7(t)elseif S08<100 thenset CZD=S08elseset CZD=200-S08endifcall SetUnitVertexColor(X97,255,255,255,255*(100-CZD)/100)if S08==100 thenset ZN7=(LoadInteger(C7,(V_7),(5)))set Q99=Atan2(GetUnitY(U47)-GetUnitY(X97),GetUnitX(U47)-GetUnitX(X97))call SetUnitPosition(X97,GetUnitX(U47)+80*Cos(Q99),GetUnitY(U47)+80*Sin(Q99))call SetUnitAnimation(X97,"attack")call IssueTargetOrder(X97,"attack",U47)if GetUnitAbilityLevel(X97,'A0G4')>0 thencall CVD(X97,U47)elsecall CXD(X97,U47)endifcall ZO7(X97,U47,Y84,50+100*ZN7)endifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction CAD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A0G4')if ZN7==0 thenset ZN7=GetUnitAbilityLevel(X97,'A1D8')endifcall UnitShareVision(U47,GetOwningPlayer(X97),true)call IssueImmediateOrder(X97,"halt")call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveReal(C7,(V_7),(23),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(U47))*1.0))call TriggerRegisterTimerEvent(t,0.01,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function CYD))call UW7(X97,'A179')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A179',false)set t=nullset X97=nullset U47=nullendfunctionfunction CBD takes nothing returns booleanif(GetSpellAbilityId()=='A0G4' or GetSpellAbilityId()=='A1D8')and T37(GetSpellTargetUnit())==false thencall CAD()endifreturn falseendfunctionfunction F38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CBD))set t=nullendfunctionfunction CCD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A275')if ZN7==1 thencall UW7(X97,'A276')elseif ZN7==2 thencall UnitRemoveAbility(X97,'A276')call UW7(X97,'A279')elseif ZN7==3 thencall UnitRemoveAbility(X97,'A276')call UnitRemoveAbility(X97,'A279')call UW7(X97,'A277')elseif ZN7==4 thencall UnitRemoveAbility(X97,'A276')call UnitRemoveAbility(X97,'A279')call UnitRemoveAbility(X97,'A277')call UW7(X97,'A278')endifset X97=nullendfunctionfunction C3D takes nothing returns booleanif GetLearnedSkill()=='A275' and IsUnitIllusion(GetTriggerUnit())==false thencall CCD()endifreturn falseendfunctionfunction F18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function C3D))set t=nullendfunctionfunction C6D takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real CLD=N47(NO7,"SourceLifePercent")local real C1D=N47(NO7,"TargetLifePercent")local integer SR7=GetUnitAbilityLevel(p5,'A07Q')local real C0D=0.33if SR7==2 thenset C0D=0.28elseif SR7==3 thenset C0D=0.23endifif GetSpellTargetUnit()==p5 thencall SetUnitState(p5,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(p5,UNIT_STATE_MAX_LIFE)*C1D*0.01,GetUnitState(p5,UNIT_STATE_MAX_LIFE)*C0D))endifif GetSpellTargetUnit()==m5 thencall SetUnitLifePercentBJ(m5,CLD)if GetUnitLifePercent(m5)<33.00 and SR7==1 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,33.00)endifif GetUnitLifePercent(m5)<28.00 and SR7==2 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,28.00)endifif GetUnitLifePercent(m5)<23.00 and SR7==3 and GetUnitState(m5,UNIT_STATE_LIFE)>1 thencall SetUnitLifePercentBJ(m5,23.00)endifendifif GetTriggerEvalCount(t)==2 thencall K_7(NO7)call NM7(t)endifset p5=nullset m5=nullset t=nullendfunctionfunction C5D takes nothing returns booleanif GetSpellAbilityId()=='A07R' thencall C6D()endifreturn falseendfunctionfunction C2D takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit ZM7call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M97(NO7,"SourceLifePercent",(GetUnitLifePercent(p5))*1.0)call M97(NO7,"TargetLifePercent",(GetUnitLifePercent(m5))*1.0)call TriggerAddCondition(t,Condition(function C5D))set ZM7=CreateUnit(GetOwningPlayer(m5),'e00Y',GetUnitX(m5),GetUnitY(m5),0)call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_SPELL_EFFECT)call UW7(ZM7,'A07R')call IssueTargetOrder(ZM7,"thunderbolt",p5)call ShowUnit(ZM7,false)call SetUnitPathing(ZM7,false)call SetUnitInvulnerable(ZM7,true)call UnitApplyTimedLife(ZM7,'BTLF',0.2)set ZM7=CreateUnit(GetOwningPlayer(p5),'e00Y',GetUnitX(p5),GetUnitY(p5),0)call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_SPELL_EFFECT)call UW7(ZM7,'A07R')call IssueTargetOrder(ZM7,"thunderbolt",m5)call ShowUnit(ZM7,false)call SetUnitPathing(ZM7,false)call SetUnitInvulnerable(ZM7,true)call UnitApplyTimedLife(ZM7,'BTLF',0.2)set t=nullset p5=nullset m5=nullset ZM7=nullendfunctionfunction C_D takes nothing returns booleanif GetSpellAbilityId()=='A07Q' thencall C2D()endifreturn falseendfunctionfunction F68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function C_D))set t=nullendfunctionfunction L4D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit SO8=(LoadUnitHandle(C7,(V_7),(335)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerUnit()!=SO8 thencall KillUnit(SO8)endifelsecall IssueTargetOrder(SO8,"attack",U47)endifset t=nullset SO8=nullset U47=nullreturn falseendfunctionfunction L7D takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit SO8if GetSummoningUnit()==ZM7 thencall FlushChildHashtable(C7,(V_7))call NM7(t)set SO8=GetSummonedUnit()set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterDeathEvent(t,SO8)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function L4D))call SaveUnitHandle(C7,(V_7),(335),(SO8))call SaveUnitHandle(C7,(V_7),(17),(U47))call UnitAddAbility(SO8,'Aloc')call SetUnitPosition(SO8,GetUnitX(U47)+100,GetUnitY(U47)+100)call IssueTargetOrder(SO8,"attack",U47)call SetUnitMoveSpeed(SO8,522)call SetUnitVertexColorBJ(SO8,100,100,100,60)endifset t=nullset U47=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction L8D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A27A')local integer idlocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)local trigger tlocal integer V_7if ZN7==1 thenset id='A26X'elseif ZN7==2 thenset id='A26V'elseif ZN7==3 thenset id='A26Y'elseif ZN7==4 thenset id='A26W'endifcall SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)if VG8(U47)==false thencall XO7(U47,id,1,4,'B0EJ')endifset t=CreateTrigger()set V_7=GetHandleId(t)call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function L7D))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call UW7(ZM7,'A24K')call SetUnitAbilityLevel(ZM7,'A24K',ZN7)call IssueTargetOrderById(ZM7,852274,U47)set X97=nullset U47=nullset ZM7=nullset t=nullendfunctionfunction L9D takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call WP7(GetOwningPlayer(X97),2.5,x,y,400)call GroupEnumUnitsInRange(g,x,y,375,Condition(function YK7))call ForGroup(g,function L8D)call T67(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\BlackChakraExplosion.mdx",x,y))call WN7(Y04,x,y)set g=nullset X97=nullendfunctionfunction LDD takes nothing returns booleanif GetSpellAbilityId()=='A27A' thencall L9D()endifreturn falseendfunctionfunction FL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LDD))set t=nullendfunctionfunction LED takes nothing returns nothinglocal unit X97=GetSummoningUnit()local unit SO8=GetSummonedUnit()call SelectUnitAddForPlayer(SO8,GetOwningPlayer(X97))set X97=nullset SO8=nullendfunctionfunction LFD takes nothing returns booleanif GetUnitAbilityLevel(GetSummonedUnit(),'B0EI')>0 thencall LED()endifreturn falseendfunctionfunction LGD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7local integer ZN7=GetUnitAbilityLevel(X97,'A1RI')if ZN7>1 thenset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UW7(ZM7,'A08Q')call SetUnitAbilityLevel(ZM7,'A08Q',ZN7)call IssueTargetOrderById(ZM7,852274,X97)if ZN7==4 thencall IssueTargetOrderById(ZM7,852274,X97)endifendifcall FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction LHD takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.2,false)call TriggerAddCondition(t,Condition(function LGD))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))set t=nullendfunctionfunction LID takes nothing returns booleanif GetSpellAbilityId()=='A1RI' and GetUnitTypeId(GetTriggerUnit())=='Eevi' thencall LHD()endifreturn falseendfunctionfunction F28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LID))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function LFD))set t=nullendfunctionfunction LJD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(4*(4+ZN7))or TU7(U47)or J77(X97,U47)>700 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call KillUnit(ZM7)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetTriggerEvalCount(t)>1 and GetSpellAbilityId()=='A1RA' thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A1RA')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1PH',true)call KillUnit(ZM7)endifelseif IsUnitVisible(U47,GetOwningPlayer(X97))==false thenif(LoadInteger(C7,(V_7),(34)))==1 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call KillUnit(ZM7)elsecall SaveInteger(C7,(V_7),(34),(1))endifelsecall SaveInteger(C7,(V_7),(34),(0))if IsUnitAlly(X97,GetOwningPlayer(U47))==false thencall SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)+ZN7*25.0/4.0)elsecall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+ZN7*50.0/4.0)endifendifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction LKD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(X97,'A1RA')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1PH',true)call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEvalCount(t)==1 thencall IssueImmediateOrderById(X97,851993)endifif IsUnitAlly(X97,GetOwningPlayer(U47))==false thencall SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))elsecall SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))endifendifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction LMD takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A1PH')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7if IsUnitAlly(X97,GetOwningPlayer(U47))==false thenset ZM7=CreateUnit(GetOwningPlayer(X97),'u01G',0,0,0)call UW7(ZM7,'A04L')call SetUnitAbilityLevel(ZM7,'A04L',ZN7)call SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))call IssueTargetOrderById(ZM7,852487,U47)elsecall UW7(X97,'A1RA')call UnitMakeAbilityPermanent(X97,true,'A1RA')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1PH',false)set ZM7=CreateUnit(A7,'u01G',0,0,0)call UW7(ZM7,'A04L')call SetUnitAbilityLevel(ZM7,'A04L',ZN7)call SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))call IssueTargetOrderById(ZM7,852487,X97)endifcall TriggerRegisterTimerEvent(t,0.25,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LJD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(34),(0))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,true)call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function LKD))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))set X97=nullset U47=nullset t=nullendfunctionfunction LND takes nothing returns booleanif GetSpellAbilityId()=='A1PH' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or T37(GetSpellTargetUnit())==false)thencall LMD()endifreturn falseendfunctionfunction F58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LND))endfunctionfunction LOD takes nothing returns booleanreturn GetSpellAbilityId()=='A0H4'endfunctionfunction LPD takes nothing returns nothinglocal unit OS9=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(OS9,'A0H4')local unit ZM7=CreateUnit(GetOwningPlayer(OS9),'e00E',GetUnitX(OS9),GetUnitY(OS9),0)call UnitAddAbility(ZM7,'A2JN')call SetUnitAbilityLevel(ZM7,'A2JN',ZN7)call IssueTargetOrderById(ZM7,852274,OS9)endfunctionfunction F08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LOD))call TriggerAddAction(t,function LPD)endfunctionfunction LQD takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=GetEventDamageSource()local real d=GetEventDamage()local real O88=N47(NO7,"KrakenShell|Damage")local real LRD=N47(NO7,"KrakenShell|LastTime")if R77(GetOwningPlayer(m5))thenif(LRD+M2)<(JM7())thenset O88=0endifset LRD=(JM7())set O88=O88+dif O88>p2 and GetUnitAbilityLevel(p5,'BNdo')==0 thenset O88=0call VO8(p5)call VK8(p5,0,0)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",p5,"origin"))endifcall M97(NO7,"KrakenShell|Damage",O88)call M97(NO7,"KrakenShell|LastTime",LRD)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction LSD takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function LQD))call MF7(NO7,"Source",p5)call M97(NO7,"KrakenShell|Damage",0)call M97(NO7,"KrakenShell|LastTime",JM7())if R99 thenset aj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullendfunctionfunction LTD takes nothing returns booleanif GetLearnedSkill()=='A04E' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A04E')==1 thencall LSD(GetTriggerUnit(),false)endifreturn falseendfunctionfunction F_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function LTD))set t=nullendfunctionfunction LUD takes nothing returns booleanreturn GetSpellAbilityId()=='A046' and T37(GetSpellTargetUnit())==falseendfunctionfunction LVD takes nothing returns nothinglocal unit t=GetSpellTargetUnit()local real LWD=(60.+(50.*I2R(GetUnitAbilityLevelSwapped('A046',GetTriggerUnit()))))call UnitDamageTargetBJ(GetTriggerUnit(),t,LWD,ATTACK_TYPE_NORMAL,DAMAGE_TYPE_COLD)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",t,"chest"))set t=nullendfunctionfunction G48 takes nothing returns nothingset DQ=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(DQ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(DQ,Condition(function LUD))call TriggerAddAction(DQ,function LVD)endfunctionfunction LXD takes nothing returns booleanreturn GetSpellAbilityId()=='A0OR'endfunctionfunction LYD takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0endfunctionfunction LZD takes nothing returns nothingcall ZO7(L7,GetEnumUnit(),Y94,D8)endfunctionfunction LAD takes unit X97,unit U47,real R09 returns nothinglocal group R_9=TL7()local boolexpr JOD=Condition(function LYD)set L7=X97set D8=R09call GroupEnumUnitsInRange(R_9,GetUnitX(U47),GetUnitY(U47),195,JOD)call ForGroup(R_9,function LZD)call DestroyBoolExpr(JOD)call T67(R_9)set R_9=nullset JOD=nullendfunctionfunction LBD takes nothing returns booleanreturn IsUnitInGroup(GetFilterUnit(),N8)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false and GetFilterUnit()!=F87endfunctionfunction LCD takes group L3D,unit L6D,unit X97,unit pzv returns unitlocal group R_9=TL7()local boolexpr JOD=Condition(function LBD)local unit LLD=nulllocal unit L1Dset N8=L3Dset L7=X97call GroupEnumUnitsInRange(R_9,GetUnitX(L6D),GetUnitY(L6D),500,JOD)set L1D=FirstOfGroup(R_9)set LLD=L1Dloopexitwhen L1D==nullif GetUnitState(L1D,UNIT_STATE_LIFE)!=GetUnitState(L1D,UNIT_STATE_MAX_LIFE)thenif L1D!=X97 and IsUnitType(L1D,UNIT_TYPE_HERO)==true and IsUnitType(LLD,UNIT_TYPE_HERO)==false thenset LLD=L1Delseif L1D!=X97 and GetUnitState(L1D,UNIT_STATE_LIFE)<GetUnitState(LLD,UNIT_STATE_LIFE)and IsUnitType(L1D,UNIT_TYPE_HERO)==true and IsUnitType(LLD,UNIT_TYPE_HERO)==true thenset LLD=L1Delseif L1D!=X97 and IsUnitType(LLD,UNIT_TYPE_HERO)==false and GetUnitState(L1D,UNIT_STATE_LIFE)<GetUnitState(LLD,UNIT_STATE_LIFE)thenset LLD=L1Delseif L1D==X97 thenset LLD=L1Dendifendifcall GroupRemoveUnit(R_9,L1D)set L1D=FirstOfGroup(R_9)endloopcall T67(R_9)call DestroyBoolExpr(JOD)set R_9=nullset JOD=nullset L1D=nullset FE7=LLDreturn FE7endfunctionfunction L0D takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local string L5D="Abilities\\Spells\\Undead\\ReplenishMana\\ReplenishManaCaster.mdl"local string L2D="origin"local unit array L_Dlocal integer xlocal integer i=1local integer ZN7=GetUnitAbilityLevel(T_7,'A0OR')local real R09=60+ZN7*20local group L3D=TL7()local integer D4Elocal boolean D7E=falseset F87=T_7if ZN7==3 thenset D4E=4elseif ZN7==4 thenset D4E=5elseset D4E=3endifcall SetUnitState(T_7,UNIT_STATE_LIFE,GetUnitState(T_7,UNIT_STATE_LIFE)+R09)call LAD(T_7,T_7,R09)call GroupAddUnit(L3D,T_7)call V57(L5D,T_7,L2D,2)if U47==T_7 thenset L_D[i]=LCD(L3D,T_7,T_7,U47)elseset L_D[i]=U47endifif L_D[i]==null thencall T67(L3D)returnendifcall SetUnitState(L_D[i],UNIT_STATE_LIFE,GetUnitState(L_D[i],UNIT_STATE_LIFE)+R09)call LAD(T_7,L_D[i],R09)call GroupAddUnit(L3D,L_D[i])call V57(L5D,L_D[i],L2D,2)call W97("SPLK",GetUnitX(T_7),GetUnitY(T_7),GetUnitX(L_D[i]),GetUnitY(L_D[i]),0.3,0.5,0.9,1.,0.7)set i=2loopexitwhen i>D4E or D7Eset L_D[i]=LCD(L3D,L_D[i-1],T_7,U47)if L_D[i]==null thenset D7E=trueelsecall GroupAddUnit(L3D,L_D[i])call V57(L5D,L_D[i],L2D,2)call SetUnitState(L_D[i],UNIT_STATE_LIFE,GetUnitState(L_D[i],UNIT_STATE_LIFE)+R09)call LAD(T_7,L_D[i],R09)call W97("SPLK",GetUnitX(L_D[i-1]),GetUnitY(L_D[i-1]),GetUnitX(L_D[i]),GetUnitY(L_D[i]),0.3,0.5,0.9,1.,0.7)set i=i+1endifendlooploopset i=i-1set L_D[i]=nullexitwhen i<2endloopcall T67(L3D)set T_7=nullset U47=nullset L3D=nullendfunctionfunction HN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LXD))call TriggerAddAction(t,function L0D)set t=nullendfunctionfunction D8E takes nothing returns booleanreturn GetSpellAbilityId()==('A0NQ')and T37(GetSpellTargetUnit())==falseendfunctionfunction D9E takes unit p5,unit m5,integer SR7 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A0NJ')call SetUnitAbilityLevel(oA,'A0NJ',SR7)call IssueTargetOrderById(oA,852075,m5)set oA=nullendfunctionfunction DDE takes unit p5,unit m5 returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A0NK')call IssueTargetOrderById(oA,852095,m5)set oA=nullendfunctionfunction DEE takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local unit U47=MZ7(V_7,"Target")local integer ZN7=GetUnitAbilityLevel(X97,'A0NQ')local integer DFE=GetTriggerExecCount(t)local real R09=8*ZN7local unit ZM7=MZ7(V_7,"Caster")if ZN7==1 thencall UW7(U47,'A0OW')call ZO7(ZM7,U47,Y94,R09)if DFE==8 thencall UnitRemoveAbility(U47,'A0OW')call K_7(V_7)call NM7(t)endifendifif ZN7==2 thenif DFE==1 thencall D9E(X97,U47,2)endifif DFE>1 thencall UW7(U47,'A0OW')call ZO7(ZM7,U47,Y94,R09)endifif DFE==9 thencall UnitRemoveAbility(U47,'A0OW')call K_7(V_7)call NM7(t)endifendifif ZN7==3 thenif DFE==1 thencall D9E(X97,U47,2)endifif DFE==2 thencall DDE(X97,U47)endifif DFE>2 thencall UW7(U47,'A0OW')call ZO7(ZM7,U47,Y94,R09)endifif DFE==10 thencall UnitRemoveAbility(U47,'A0OW')call K_7(V_7)call NM7(t)endifendifif ZN7==4 thenif DFE==1 thencall D9E(X97,U47,2)endifif DFE==2 thencall DDE(X97,U47)endifif DFE>2 thencall UW7(U47,'A0OW')call ZO7(ZM7,U47,Y94,R09)endifif DFE==10 thencall UnitRemoveAbility(U47,'A0OW')call K_7(V_7)call NM7(t)endifendifset t=nullset ZM7=nullset X97=nullset U47=nullendfunctionfunction DGE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(GetTriggerUnit()),'e00E',GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()),0)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddAction(t,function DEE)call MF7(NO7,"Source",GetTriggerUnit())call MF7(NO7,"Target",GetSpellTargetUnit())call MF7(NO7,"Caster",(ZM7))call D9E(GetTriggerUnit(),GetSpellTargetUnit(),1)set t=nullset ZM7=nullendfunctionfunction HO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D8E))call TriggerAddAction(t,function DGE)call VQ7('A0NJ')call VQ7('A0NK')set t=nullendfunctionfunction DHE takes string WF7,unit U47,unit T_7 returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,WF7,0.033)call SetTextTagPosUnit(tt,U47,64)call SetTextTagColor(tt,160,0,255,255)call SetTextTagVelocity(tt,0,0.0355)call SetTextTagFadepoint(tt,0.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,0.65)if IsUnitAlly(T_7,GetLocalPlayer())or TV7(GetLocalPlayer())thencall SetTextTagVisibility(tt,true)elsecall SetTextTagVisibility(tt,false)endifset tt=nullendfunctionfunction DIE takes real J5D returns stringif J5D>4.5 thenreturn"5.0"elseif J5D>4.0 thenreturn"4.5"elseif J5D>3.5 thenreturn"4.0"elseif J5D>3.0 thenreturn"3.5"elseif J5D>2.5 thenreturn"3.0"elseif J5D>2.0 thenreturn"2.5"elseif J5D>1.5 thenreturn"2.0"elseif J5D>1.0 thenreturn"1.5"elseif J5D>0.5 thenreturn"1.0"elseif J5D>0.0 thenreturn"0.5"elsereturn"0.0"endifreturn" "endfunctionfunction DJE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=MZ7(V_7,"Target")local integer S08=GetTriggerEvalCount(t)if S08>11 thencall FlushChildHashtable(C7,(V_7))call NM7(t)elsecall DHE(DIE(5.5-0.5*S08),U47,U47)endifset t=nullset U47=nullreturn falseendfunctionfunction DKE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real B19=N47(NO7,"Damage")local real DME=VC7(GetUnitState(m5,UNIT_STATE_LIFE)-B19,1)local real DNE=N47(GetHandleId(m5),"ShallowGrave|FakeLife")call SetUnitState(m5,UNIT_STATE_LIFE,DME)call M97(GetHandleId(m5),"ShallowGrave|FakeLife",DNE-B19)call K_7(NO7)call NM7(t)set t=nullset m5=nullreturn falseendfunctionfunction DOE takes unit m5,real B19 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real DNE=N47(GetHandleId(m5),"ShallowGrave|FakeLife")call MF7(NO7,"Target",m5)call M97(NO7,"Damage",B19)call M97(GetHandleId(m5),"ShallowGrave|FakeLife",DNE+B19)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function DKE))set t=nullendfunctionfunction DPE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5local real Wxlocal real B19local integer iX=GetTriggerEvalCount(t)local real DNElocal real DQE=N47(NO7,"LastFrame")local real DRE=N47(NO7,"FrameDamage")if DQE!=JM7()thenset DQE=JM7()set DRE=0call M97(NO7,"LastFrame",DQE)call M97(NO7,"FrameDamage",DRE)endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset m5=GetTriggerUnit()set DNE=N47(GetHandleId(m5),"ShallowGrave|FakeLife")set Wx=GetUnitState(m5,UNIT_STATE_LIFE)set B19=GetEventDamage()if((Wx-DNE-DRE)-B19)<1 thencall SetUnitState(m5,UNIT_STATE_LIFE,Wx+B19+DRE)call DOE(m5,B19)elseset DRE=DRE+B19call M97(NO7,"FrameDamage",DRE)endifelsecall NJ7(MZ7(NO7,"Target"),"ShallowGrave|Active")call DestroyEffect(ML7(NO7,"FX"))call UnitRemoveAbility((MZ7(NO7,"Target")),'A21I')call UnitRemoveAbility((MZ7(NO7,"Target")),'B07D')call K_7(NO7)call NM7(t)endifset m5=nullset t=nullreturn falseendfunctionfunction DSE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call UW7(U47,'A21I')call TriggerRegisterTimerEvent(t,5,false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function DPE))call MG7(V_7,"FX",AddSpecialEffectTarget("war3mapImported\\DarkHands.mdx",U47,"overhead"))call M97(GetHandleId(U47),"ShallowGrave|FakeLife",0)call M97(V_7,"LastFrame",JM7())call M97(V_7,"FrameDamage",0)call MF7(V_7,"Target",U47)call NH7(U47,"ShallowGrave|Active")set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function DJE))call MF7(V_7,"Target",U47)set t=nullset p5=nullset U47=nullendfunctionfunction DTE takes nothing returns booleanif GetSpellAbilityId()=='A10L' thencall DSE()endifreturn falseendfunctionfunction HP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DTE))set t=nullendfunctionfunction DUE takes nothing returns nothinglocal unit m5=GetEnumUnit()if UY7(m5)==false thencall UnitRemoveAbility(m5,'A0NU')call UnitRemoveAbility(m5,'A0NW')elseif IsUnitType(m5,UNIT_TYPE_HERO)==true thencall WZ7(m5,'A0NU',5.1)call WZ7(m5,'A0NW',5.1)endifset m5=nullendfunctionfunction DVE takes nothing returns nothinglocal unit m5=GetEnumUnit()if UY7(m5)==false thenif IsUnitAlly(m5,J74)==false thenif IY4==0 thencall UW7(m5,'A0NU')elsecall SetUnitAbilityLevel(m5,'A0NU',IY4+1)endifelseif IY4==0 thencall UW7(m5,'A0NW')elsecall SetUnitAbilityLevel(m5,'A0NW',IY4+1)endifendifendifset m5=nullendfunctionfunction DWE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local group g=M67(NO7,"g")local player p=MB7(NO7,"p")local integer RU8=GetTriggerEvalCount(t)local integer XP7=M_7(NO7,"Duration")set J74=pset IY4=RU8if RU8==XP7 thencall ForGroup(g,function DUE)call T67(g)call K_7(NO7)call NM7(t)elsecall ForGroup(g,function DVE)endifset t=nullset g=nullset p=nullreturn falseendfunctionfunction DXE takes nothing returns nothingcall V57(OL,GetEnumUnit(),"chest",3)call V57(OL,GetEnumUnit(),"chest",3)call V57(OL,GetEnumUnit(),"right hand",3)call V57(OL,GetEnumUnit(),"left hand",3)endfunctionfunction DYE takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local group g=TL7()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(TX7,'A10Q')local integer XP7=6+6*SR7local real x=GetLocationX(l)local real y=GetLocationY(l)local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'h007',x,y,0)local boolean A69=falseif SR7==0 thenset SR7=GetUnitAbilityLevel(TX7,'A1DB')set XP7=6+6*SR7+6set A69=trueendifcall RemoveLocation(l)set OL="Abilities\\Weapons\\AvengerMissile\\AvengerMissile.mdl"call SetUnitVertexColor(ZM7,255,255,255,255)call UnitApplyTimedLife(ZM7,'BTLF',5)if A69 thencall GroupEnumUnitsInRange(g,x,y,800,Condition(function Y67))elsecall GroupEnumUnitsInRange(g,x,y,600,Condition(function Y67))endifcall ForGroup(g,function DXE)call MO7(NO7,"g",g)call MM7(NO7,"p",GetOwningPlayer(TX7))call M87(NO7,"Duration",XP7)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function DWE))call TriggerEvaluate(t)set TX7=nullset l=nullset g=nullset t=nullset ZM7=nullendfunctionfunction DZE takes nothing returns booleanif GetSpellAbilityId()=='A10Q' or GetSpellAbilityId()=='A1DB' thencall DYE()endifreturn falseendfunctionfunction HQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DZE))call VQ7('A0NU')call VQ7('A0NW')set t=nullendfunctionfunction DAE takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false thenset vZ=CreateUnit(GetOwningPlayer(I04),'e00E',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UW7(vZ,'A17N')call SetUnitAbilityLevel(vZ,'A17N',eZ)call IssueTargetOrder(vZ,"shadowstrike",GetEnumUnit())call GroupAddUnit(J44,GetEnumUnit())endifendfunctionfunction DBE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local group g=M67(NO7,"g")local unit oA=MZ7(NO7,"Caster")local integer SR7=M_7(NO7,"Level")local real RK=N47(NO7,"Angle")local group B47local real xlocal real ylocal real DCE=30set eZ=SR7if GetTriggerEvalCount(t)>28 thencall T67(g)call K_7(NO7)call NM7(t)call ShowUnit(oA,false)call KillUnit(oA)elseset x=GetUnitX(oA)set y=GetUnitY(oA)set B47=TL7()set J44=gset I04=oAset IZ4=SR7*70call GroupEnumUnitsInRange(B47,x,y,150,Condition(function Y07))call ForGroup(B47,function DAE)call T67(B47)call SetUnitX(oA,VK7(x+DCE*Cos(RK*bj_DEGTORAD)))call SetUnitY(oA,VM7(y+DCE*Sin(RK*bj_DEGTORAD)))endifset t=nullset g=nullset B47=nullset oA=nullreturn falseendfunctionfunction D3E takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local group g=TL7()local unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real x2=GetLocationX(l)local real y2=GetLocationY(l)local real RK=W77(x1,y1,x2,y2)local integer SR7=GetUnitAbilityLevel(TX7,'A173')local unit oA=CreateUnit(GetOwningPlayer(TX7),'h07K',x1,y1,RK)call WN7(QR,x1,y1)call MF7(NO7,"Caster",oA)call M87(NO7,"Level",SR7)call MO7(NO7,"g",g)call M97(NO7,"Angle",RK)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function DBE))call RemoveLocation(l)set t=nullset oA=nullset g=nullset TX7=nullset l=nullendfunctionfunction D6E takes nothing returns booleanif GetSpellAbilityId()=='A173' thencall D3E()endifreturn falseendfunctionfunction G98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D6E))set t=nullendfunctionfunction DLE takes nothing returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(I04),'o00I',GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),0)call UnitApplyTimedLife(oA,'BTLF',2)set oA=nullendfunctionfunction D1E takes nothing returns booleanreturn Y47()and GetUnitAbilityLevel(GetFilterUnit(),'B028')==0endfunctionfunction PoisonNova_Iterate takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer D0E=M_7(NO7,"NovaLevel")local real r=N47(NO7,"r")local group gif GetTriggerEvalCount(t)>13 thencall K_7(NO7)call NM7(t)elseset r=r+53call M97(NO7,"r",r)set g=TL7()set I04=TX7set IY4=D0Ecall GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),r,Condition(function D1E))call ForGroup(g,function DLE)call T67(g)endifset t=nullset TX7=nullset g=nullreturn falseendfunctionfunction D5E takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer D0Elocal integer i=1local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local unit oAif GetSpellAbilityId()=='A013'thenset D0E=GetUnitAbilityLevel(TX7,'A013')elseset D0E=GetUnitAbilityLevel(TX7,'A0A6')+1endifloopexitwhen i>18set oA=CreateUnit(GetOwningPlayer(TX7),'e017',x,y,0)if(GetPlayerController(GetOwningPlayer(TX7))==MAP_CONTROL_COMPUTER)thencall RemoveGuardPosition(oA)endifcall UW7(oA,'A057')call SetUnitAbilityLevel(oA,'A057',D0E)call IssuePointOrderById(oA,851986,x+675*Cos(i*20*bj_DEGTORAD),y+675*Sin(i*20*bj_DEGTORAD))call UnitApplyTimedLife(oA,'BTLF',1.15)set i=i+1endloopset TX7=nullset oA=nullendfunctionfunction D2E takes nothing returns booleanif GetSpellAbilityId()=='A013'or GetSpellAbilityId()=='A0A6'thencall D5E()endifreturn falseendfunctionfunction GD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D2E))set t=nullendfunctionfunction D_E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call ZU7(p5,0)call NJ7(p5,"D_E")set t=nullset p5=nullreturn falseendfunctionfunction E4E takes unit PU8,unit m5 returns nothinglocal real A98=100*GetUnitState(m5,UNIT_STATE_LIFE)/ GetUnitState(m5,UNIT_STATE_MAX_LIFE)local integer E7E=2*GetUnitAbilityLevel(PU8,'A1A3')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call NH7(PU8,"D_E")call TriggerRegisterTimerEvent(t,0.35,false)call TriggerAddCondition(t,Condition(function D_E))call MF7(NO7,"Source",PU8)if IsUnitType(m5,UNIT_TYPE_HERO)==false thenset E7E=E7E/ 2endifif A98>80 thencall ZU7(PU8,E7E)elseif A98>60 thencall ZU7(PU8,E7E*2)elseif A98>40 thencall ZU7(PU8,E7E*2*2)elseif A98>20 thencall ZU7(PU8,E7E*2*2*2)elsecall ZU7(PU8,E7E*2*2*2*2)endifset t=nullendfunctionfunction E8E takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thenif GetSpellAbilityId()=='A09V' and GetUnitAbilityLevel(GetTriggerUnit(),'A1A3')>0 thencall E4E(GetTriggerUnit(),GetSpellTargetUnit())endifelseif GetUnitAbilityLevel(GetAttacker(),'A1A3')>0 and IsUnitIllusion(GetAttacker())==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))==true and NF7(GetAttacker(),"D_E")==false thencall E4E(GetAttacker(),GetTriggerUnit())endifendifreturn falseendfunctionfunction GE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function E8E))set t=nullendfunctionfunction E9E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real CU9=(LoadReal(C7,(GetHandleId(U47)),(684)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or CU9<(TimerGetElapsed(P))or TU7(U47)thencall FlushChildHashtable(C7,(V_7))call NM7(t)call SaveReal(C7,(GetHandleId(U47)),(684),((0)*1.0))call UnitRemoveAbility(U47,'A23W')call UnitRemoveAbility(U47,'A23U')call UnitRemoveAbility(U47,'A23V')call UnitRemoveAbility(U47,'A23X')call UnitRemoveAbility(U47,'B0EA')elsecall ZO7(X97,U47,Y84,5+5*ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction EDE takes nothing returns nothinglocal trigger tlocal integer V_7local unit X97=GetTriggerUnit()local unit U47=GetAttacker()local real CU9=(LoadReal(C7,(GetHandleId(U47)),(684)))local integer ZN7=GetUnitAbilityLevel(X97,'A0MM')if CU9>(TimerGetElapsed(P))thencall SaveReal(C7,(GetHandleId(U47)),(684),(((TimerGetElapsed(P))+3)*1.0))elseset t=CreateTrigger()set V_7=GetHandleId(t)call SaveReal(C7,(GetHandleId(U47)),(684),(((TimerGetElapsed(P))+3)*1.0))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function E9E))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))if VG8(U47)==false thenif ZN7==1 thencall UW7(U47,'A23W')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A23W',false)elseif ZN7==2 thencall UW7(U47,'A23U')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A23U',false)elseif ZN7==3 thencall UW7(U47,'A23V')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A23V',false)elseif ZN7==4 thencall UW7(U47,'A23X')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A23X',false)endifendifendifset t=nullset X97=nullset U47=nullendfunctionfunction EEE takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),'A0MM')>0 and GetUnitAbilityLevel(GetAttacker(),'A04R')==0 and IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE)==false and IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))and TU7(GetAttacker())==false thencall EDE()endifreturn falseendfunctionfunction GF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function EEE))set t=nullendfunctionfunction EFE takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()call UnitRemoveAbility(m5,'BEsh')call UnitRemoveAbility(m5,'B0AQ')set m5=nullendfunctionfunction EGE takes nothing returns booleanif GetSpellAbilityId()=='A080' or GetSpellAbilityId()=='A1UZ' thencall EFE()endifreturn falseendfunctionfunction GG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EGE))set t=nullendfunctionfunction EHE takes nothing returns booleanreturn GetSpellAbilityId()=='A08X'endfunctionfunction EIE takes nothing returns nothinglocal location AK8=GetUnitLoc(GetSpellAbilityUnit())call CreateNUnitsAtLocFacingLocBJ(1,'e00E',GetOwningPlayer(GetSpellAbilityUnit()),AK8,AK8)call RemoveLocation(AK8)call UnitAddAbility(bj_lastCreatedUnit,'A09C')call SetUnitAbilityLevelSwapped('A09C',bj_lastCreatedUnit,GetUnitAbilityLevelSwapped('A08X',GetSpellAbilityUnit()))call IssueTargetOrder(bj_lastCreatedUnit,"bloodlust",GetSpellAbilityUnit())endfunctionfunction GI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EHE))call TriggerAddAction(t,function EIE)set t=nullendfunctionfunction EJE takes unit p5,integer SR7,integer EKE returns nothingcall UnitRemoveAbility(p5,'A1KR')call UnitRemoveAbility(p5,'A1KS')call UnitRemoveAbility(p5,'A1KQ')call UnitRemoveAbility(p5,'A1KP')call UnitRemoveAbility(p5,'A1K1')call UnitRemoveAbility(p5,'A1KW')call UnitRemoveAbility(p5,'A1KX')call UnitRemoveAbility(p5,'A1KY')call UnitRemoveAbility(p5,'A1L4')call UnitRemoveAbility(p5,'A1L3')call UnitRemoveAbility(p5,'A1L2')call UnitRemoveAbility(p5,'A1L1')call UnitRemoveAbility(p5,'A1L8')call UnitRemoveAbility(p5,'A1L7')call UnitRemoveAbility(p5,'A1L9')call UnitRemoveAbility(p5,'A1LB')if SR7==1 thenif EKE==1 thencall UW7(p5,'A1KR')elseif EKE==2 thencall UW7(p5,'A1KS')elseif EKE==3 thencall UW7(p5,'A1KQ')elseif EKE==4 thencall UW7(p5,'A1KP')endifelseif SR7==2 thenif EKE==1 thencall UW7(p5,'A1K1')elseif EKE==2 thencall UW7(p5,'A1KW')elseif EKE==3 thencall UW7(p5,'A1KX')elseif EKE==4 thencall UW7(p5,'A1KY')endifelseif SR7==3 thenif EKE==1 thencall UW7(p5,'A1L4')elseif EKE==2 thencall UW7(p5,'A1L3')elseif EKE==3 thencall UW7(p5,'A1L2')elseif EKE==4 thencall UW7(p5,'A1L1')endifelseif SR7==4 thenif EKE==1 thencall UW7(p5,'A1L8')elseif EKE==2 thencall UW7(p5,'A1L7')elseif EKE==3 thencall UW7(p5,'A1L9')elseif EKE==4 thencall UW7(p5,'A1LB')endifendifendfunctionfunction EME takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer ENE=M_7(NO7,"ShellCache")local unit p5=MZ7(ENE,"Source")local integer EKE=M_7(ENE,"ShellCounter")local integer SR7=GetUnitAbilityLevel(p5,'A0VX')set EKE=VY7(EKE+1,4)call M87(ENE,"ShellCounter",EKE)call EJE(p5,SR7,EKE)call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction EOE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer EKE=M_7(NO7,"ShellCounter")local integer SR7=GetUnitAbilityLevel(GetTriggerUnit(),'A0VX')if GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and R77(GetOwningPlayer(GetEventDamageSource()))thenif EKE>0 thenendifset EKE=VZ7(EKE-1,0)call M87(NO7,"ShellCounter",EKE)call EJE(p5,SR7,EKE)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,14-SR7,false)call TriggerAddCondition(t,Condition(function EME))call M87(NO7,"ShellCache",GetHandleId(GetTriggeringTrigger()))endifset t=nullset p5=nullreturn falseendfunctionfunction EPE takes nothing returns nothinglocal trigger tlocal integer NO7local unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(GetTriggerUnit(),'A0VX')if SR7==1 thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function EOE))call MF7(NO7,"Source",p5)call M87(NO7,"ShellCounter",4)endifcall EJE(p5,SR7,4)set t=nullset p5=nullendfunctionfunction EQE takes nothing returns booleanif GetLearnedSkill()=='A0VX' and IsUnitIllusion(GetTriggerUnit())==false thencall EPE()endifreturn falseendfunctionfunction ERE takes player p returns nothingcall SetPlayerAbilityAvailable(p,'A1KR',false)call SetPlayerAbilityAvailable(p,'A1KS',false)call SetPlayerAbilityAvailable(p,'A1KQ',false)call SetPlayerAbilityAvailable(p,'A1KP',false)call SetPlayerAbilityAvailable(p,'A1KU',false)call SetPlayerAbilityAvailable(p,'A1KV',false)call SetPlayerAbilityAvailable(p,'A1K1',false)call SetPlayerAbilityAvailable(p,'A1KW',false)call SetPlayerAbilityAvailable(p,'A1KX',false)call SetPlayerAbilityAvailable(p,'A1KY',false)call SetPlayerAbilityAvailable(p,'A1KZ',false)call SetPlayerAbilityAvailable(p,'A1KT',false)call SetPlayerAbilityAvailable(p,'A1L4',false)call SetPlayerAbilityAvailable(p,'A1L3',false)call SetPlayerAbilityAvailable(p,'A1L2',false)call SetPlayerAbilityAvailable(p,'A1L1',false)call SetPlayerAbilityAvailable(p,'A1L0',false)call SetPlayerAbilityAvailable(p,'A1L5',false)call SetPlayerAbilityAvailable(p,'A1L8',false)call SetPlayerAbilityAvailable(p,'A1L7',false)call SetPlayerAbilityAvailable(p,'A1L9',false)call SetPlayerAbilityAvailable(p,'A1LB',false)call SetPlayerAbilityAvailable(p,'A1LA',false)call SetPlayerAbilityAvailable(p,'A1L6',false)call SetPlayerAbilityAvailable(p,'A1LH',false)call SetPlayerAbilityAvailable(p,'A1M3',false)call SetPlayerAbilityAvailable(p,'A1M4',false)call SetPlayerAbilityAvailable(p,'A1MC',false)call SetPlayerAbilityAvailable(p,'A1M7',false)call SetPlayerAbilityAvailable(p,'A1M8',false)call SetPlayerAbilityAvailable(p,'A1M9',false)call SetPlayerAbilityAvailable(p,'A1MA',false)call SetPlayerAbilityAvailable(p,'A1M5',false)call SetPlayerAbilityAvailable(p,'A1MB',false)call SetPlayerAbilityAvailable(p,'A1M6',false)endfunctionfunction GK8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EQE))loopexitwhen i>5call ERE(Y7[i])call ERE(Z7[i])set i=i+1endloopset t=nullendfunctionfunction ESE takes nothing returns nothinglocal integer ZN7local unit X97=GetTriggerUnit()local unit ZM7if GetUnitTypeId(X97)=='u017' or GetUnitTypeId(X97)=='u019' or GetUnitTypeId(X97)=='u018' or GetUnitTypeId(X97)=='u01A' or GetUnitTypeId(X97)=='u01B' or GetUnitTypeId(X97)=='u01C' or GetUnitTypeId(X97)=='u01U' or GetUnitTypeId(X97)=='u01V' or GetUnitTypeId(X97)=='u01W' thenreturnendifset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)if GetUnitTypeId(X97)=='u014' or GetUnitTypeId(X97)=='u01D' or GetUnitTypeId(X97)=='u01R' thenset ZN7=1elseif GetUnitTypeId(X97)=='u015' or GetUnitTypeId(X97)=='u01E' or GetUnitTypeId(X97)=='u01S' thenset ZN7=2elseset ZN7=3endifcall UW7(ZM7,'A1NF')call SetUnitAbilityLevel(ZM7,'A1NF',ZN7)call IssueImmediateOrder(ZM7,"stomp")set X97=nullset ZM7=nullendfunctionfunction ETE takes unit EUE,integer UA8,integer ZN7 returns nothinglocal integer EVEif ZN7==1 thenset EVE=8elseif ZN7==2 thenset EVE=14elseif ZN7==3 thenset EVE=22endifcall ZU7(EUE,UA8*EVE)endfunctionfunction EWE takes nothing returns booleanlocal integer UA8local integer RP7local integer ZN7local unit EUE=GetAttacker()local integer id=GetUnitTypeId(EUE)if id=='u014' or id=='u015' or id=='u016' or id=='u01D' or id=='u01E' or id=='u01F' or id=='u01R' or id=='u01S' or id=='u01T' thenset RP7=GetHandleId(EUE)set ZN7=M_7(RP7,"Level")set UA8=M_7(RP7,"Remaining")set UA8=IMaxBJ(UA8-1,0)call M87(RP7,"Remaining",UA8)call ETE(EUE,UA8,ZN7)endifset EUE=nullreturn falseendfunctionfunction EXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit EUE=MZ7(V_7,"Source")local unit X97=EUElocal integer ZN7=M_7(V_7,"Level")local integer GCD=M_7(V_7,"Counter")local integer UA8=M_7(GetHandleId(EUE),"Remaining")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(V_7)call NM7(t)elseset GCD=GCD+1call M87(V_7,"Counter",GCD)if ModuloInteger(GCD,15)==0 thenset UA8=IMinBJ(UA8+1,7)call M87(GetHandleId(EUE),"Remaining",UA8)endifif GetUnitTypeId(X97)=='u017' or GetUnitTypeId(X97)=='u019' or GetUnitTypeId(X97)=='u018' or GetUnitTypeId(X97)=='u01A' or GetUnitTypeId(X97)=='u01B' or GetUnitTypeId(X97)=='u01C' or GetUnitTypeId(X97)=='u01U' or GetUnitTypeId(X97)=='u01V' or GetUnitTypeId(X97)=='u01W' thenset UA8=7call M87(GetHandleId(EUE),"Remaining",UA8)endifcall ETE(EUE,UA8,ZN7)if GetUnitTypeId(EUE)=='u017' or GetUnitTypeId(EUE)=='u019' or GetUnitTypeId(EUE)=='u018' or GetUnitTypeId(EUE)=='u01A' or GetUnitTypeId(EUE)=='u01B' or GetUnitTypeId(EUE)=='u01C' or GetUnitTypeId(EUE)=='u01U' or GetUnitTypeId(EUE)=='u01V' or GetUnitTypeId(EUE)=='u01W' thencall SetUnitState(EUE,UNIT_STATE_LIFE,GetUnitState(EUE,UNIT_STATE_LIFE)+31.25+18.75*ZN7)endifendifset t=nullset EUE=nullreturn falseendfunctionfunction EYE takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())=='u014' or GetUnitTypeId(GetFilterUnit())=='u015' or GetUnitTypeId(GetFilterUnit())=='u016' or GetUnitTypeId(GetFilterUnit())=='u01D' or GetUnitTypeId(GetFilterUnit())=='u01E' or GetUnitTypeId(GetFilterUnit())=='u01F' or GetUnitTypeId(GetFilterUnit())=='u01R' or GetUnitTypeId(GetFilterUnit())=='u01S' or GetUnitTypeId(GetFilterUnit())=='u01T' or GetUnitTypeId(GetFilterUnit())=='u017' or GetUnitTypeId(GetFilterUnit())=='u019' or GetUnitTypeId(GetFilterUnit())=='u018' or GetUnitTypeId(GetFilterUnit())=='u01A' or GetUnitTypeId(GetFilterUnit())=='u01B' or GetUnitTypeId(GetFilterUnit())=='u01C' or GetUnitTypeId(GetFilterUnit())=='u01U' or GetUnitTypeId(GetFilterUnit())=='u01V' or GetUnitTypeId(GetFilterUnit())=='u01W' thencall KillUnit(GetFilterUnit())endifreturn falseendfunctionfunction EZE takes nothing returns nothinglocal group g=TL7()local unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local integer ZN7=GetUnitAbilityLevel(X97,'A1NE')local unit EAElocal unit EBElocal unit ECElocal trigger tlocal integer V_7local boolean KTD=falsecall GroupEnumUnitsOfPlayer(g,GetOwningPlayer(X97),Condition(function EYE))call T67(g)if ZN7==0 thenset ZN7=GetUnitAbilityLevel(X97,'A2IG')set KTD=trueendifif ZN7==1 thenset EAE=CreateUnit(GetOwningPlayer(X97),'u014',x+75,y+75,GetUnitFacing(X97))set EBE=CreateUnit(GetOwningPlayer(X97),'u01D',x-75,y-75,GetUnitFacing(X97))elseif ZN7==2 thenset EAE=CreateUnit(GetOwningPlayer(X97),'u015',x+75,y+75,GetUnitFacing(X97))set EBE=CreateUnit(GetOwningPlayer(X97),'u01E',x-75,y-75,GetUnitFacing(X97))elseif ZN7==3 thenset EAE=CreateUnit(GetOwningPlayer(X97),'u016',x+75,y+75,GetUnitFacing(X97))set EBE=CreateUnit(GetOwningPlayer(X97),'u01F',x-75,y-75,GetUnitFacing(X97))endifcall SelectUnitAddForPlayer(EAE,GetOwningPlayer(X97))call SelectUnitAddForPlayer(EBE,GetOwningPlayer(X97))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",EAE,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",EBE,"origin"))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,EAE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EXE))call MF7(V_7,"Source",EAE)call M87(V_7,"Level",ZN7)call M87(V_7,"Counter",0)call M87(GetHandleId(EAE),"Remaining",7)call M87(GetHandleId(EAE),"Level",ZN7)call ETE(EAE,7,ZN7)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,EBE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EXE))call MF7(V_7,"Source",EBE)call M87(V_7,"Level",ZN7)call M87(V_7,"Counter",0)call M87(GetHandleId(EBE),"Remaining",7)call M87(GetHandleId(EBE),"Level",ZN7)call ETE(EBE,7,ZN7)if KTD thenif ZN7==1 thenset ECE=CreateUnit(GetOwningPlayer(X97),'u01R',x+75,y,GetUnitFacing(X97))elseif ZN7==2 thenset ECE=CreateUnit(GetOwningPlayer(X97),'u01S',x+75,y,GetUnitFacing(X97))elseif ZN7==3 thenset ECE=CreateUnit(GetOwningPlayer(X97),'u01T',x+75,y,GetUnitFacing(X97))endifcall SelectUnitAddForPlayer(ECE,GetOwningPlayer(X97))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\RaiseSkeletonWarrior\\RaiseSkeleton.mdl",ECE,"origin"))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,ECE,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function EXE))call MF7(V_7,"Source",ECE)call M87(V_7,"Level",ZN7)call M87(V_7,"Counter",0)call M87(GetHandleId(ECE),"Remaining",7)call M87(GetHandleId(ECE),"Level",ZN7)call ETE(ECE,7,ZN7)endifset g=nullset X97=nullset EAE=nullset EBE=nullset ECE=nullendfunctionfunction E3E takes nothing returns booleanif GetSpellAbilityId()=='A1NE' or GetSpellAbilityId()=='A2IG' thencall EZE()elseif GetSpellAbilityId()=='A1NB' or GetSpellAbilityId()=='A1NC' or GetSpellAbilityId()=='A1ND' or GetSpellAbilityId()=='A1NL' or GetSpellAbilityId()=='A1NM' or GetSpellAbilityId()=='A1NN' or GetSpellAbilityId()=='A2IZ' or GetSpellAbilityId()=='A2J0' or GetSpellAbilityId()=='A2J1' thencall ESE()endifreturn falseendfunctionfunction GH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E3E))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function EWE))set t=nullendfunctionfunction E6E takes unit X97,integer ELE,integer E1E returns nothinglocal string c1="|c0000cc00"local string c="||"local string p=" "local string s=c1+"|||r"local string E0Elocal boolean E5E=falselocal texttag tt=MA7(GetHandleId(X97),"SoulAssumption|Text")if ELE==0 thenset E0E=" "elseif E1E==1 thenif ELE==0 thenset E0E=c+p+c+p+celseif ELE==1 thenset E0E=s+p+c+p+celseif ELE==2 thenset E0E=s+p+s+p+celseif ELE==3 thenset E0E=s+p+s+p+sendifelseif E1E==2 thenif ELE==0 thenset E0E=c+p+c+p+c+p+celseif ELE==1 thenset E0E=s+p+c+p+c+p+celseif ELE==2 thenset E0E=s+p+s+p+c+p+celseif ELE==3 thenset E0E=s+p+s+p+s+p+celseif ELE==4 thenset E0E=s+p+s+p+s+p+sendifelseif E1E==3 thenif ELE==0 thenset E0E=c+p+c+p+c+p+c+p+celseif ELE==1 thenset E0E=s+p+c+p+c+p+c+p+celseif ELE==2 thenset E0E=s+p+s+p+c+p+c+p+celseif ELE==3 thenset E0E=s+p+s+p+s+p+c+p+celseif ELE==4 thenset E0E=s+p+s+p+s+p+s+p+celseif ELE==5 thenset E0E=s+p+s+p+s+p+s+p+sendifelseif E1E==4 thenif ELE==0 thenset E0E=c+p+c+p+c+p+c+p+c+p+celseif ELE==1 thenset E0E=s+p+c+p+c+p+c+p+c+p+celseif ELE==2 thenset E0E=s+p+s+p+c+p+c+p+c+p+celseif ELE==3 thenset E0E=s+p+s+p+s+p+c+p+c+p+celseif ELE==4 thenset E0E=s+p+s+p+s+p+s+p+c+p+celseif ELE==5 thenset E0E=s+p+s+p+s+p+s+p+s+p+celseif ELE==6 thenset E0E=s+p+s+p+s+p+s+p+s+p+sendifendifcall SetTextTagText(tt,E0E,0.023)if GetOwningPlayer(X97)==GetLocalPlayer()thenset E5E=trueendifif UY7(X97)thenset E5E=falseendifcall SetTextTagPosUnit(tt,X97,0)call SetTextTagVisibility(tt,E5E)call SetTextTagPermanent(tt,true)endfunctionfunction E2E takes unit TX7,integer SR7 returns nothinglocal integer E_E=GetUnitAbilityLevel(TX7,'A1NA')call E6E(TX7,SR7,E_E)if SR7==0 or NF7(TX7,"SoulAssumptionState")==true thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UW7(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')call UnitRemoveAbility(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')elseif SR7==1 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A1O1')call UW7(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')call UW7(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')elseif SR7==2 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UW7(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')call UnitRemoveAbility(TX7,'A0LR')call UW7(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')elseif SR7==3 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UW7(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')if E_E==1 thencall UW7(TX7,'A1O7')elsecall UW7(TX7,'A1N9')endifelseif SR7==4 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UW7(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')if E_E==2 thencall UW7(TX7,'A1O8')elsecall UW7(TX7,'A1NY')endifelseif SR7==5 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UW7(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')call UnitRemoveAbility(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UW7(TX7,'A0NF')call UnitRemoveAbility(TX7,'A0MD')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UnitRemoveAbility(TX7,'A1O3')if E_E==3 thencall UW7(TX7,'A1O9')elsecall UW7(TX7,'A1O0')endifelseif SR7==6 thencall UnitRemoveAbility(TX7,'A1O7')call UnitRemoveAbility(TX7,'A1O8')call UnitRemoveAbility(TX7,'A1O9')call UnitRemoveAbility(TX7,'A1O1')call UnitRemoveAbility(TX7,'A1O2')call UnitRemoveAbility(TX7,'A1NZ')call UnitRemoveAbility(TX7,'A1N9')call UnitRemoveAbility(TX7,'A1NY')call UnitRemoveAbility(TX7,'A1O0')call UW7(TX7,'A1O3')call UnitRemoveAbility(TX7,'A0LR')call UnitRemoveAbility(TX7,'A0YP')call UnitRemoveAbility(TX7,'A0OG')call UnitRemoveAbility(TX7,'A0YO')call UnitRemoveAbility(TX7,'A0NF')call UW7(TX7,'A0MD')endifif(GetUnitAbilityLevel(TX7,'A1NA')+2)==SR7 thencall UW7(TX7,'A1NJ')elsecall UnitRemoveAbility(TX7,'A1NJ')endifendfunctionfunction F4E takes unit p5,real V37 returns nothinglocal integer SR7=0local real F7E=110if V37>F7E*6 thenset SR7=6elseif V37>F7E*5 thenset SR7=5elseif V37>F7E*4 thenset SR7=4elseif V37>F7E*3 thenset SR7=3elseif V37>F7E*2 thenset SR7=2elseif V37>F7E*1 thenset SR7=1endifset SR7=VY7(SR7,2+GetUnitAbilityLevel(p5,'A1NA'))call M87(GetHandleId(p5),"Level",SR7)call E2E(p5,SR7)endfunctionfunction F8E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=GetUnitAbilityLevel(p5,'A1NA')call E6E(p5,M_7(GetHandleId(p5),"Level"),SR7)call F4E(p5,N47(GetHandleId(p5),"RecentDamage"))set t=nullset p5=nullreturn falseendfunctionfunction F9E takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit p5=I04local unit m5=I_4local real V37=N47(NO7,"Damage")if IsUnitAlly(m5,GetOwningPlayer(p5))==false thenset f3=truecall ZO7(p5,m5,Y84,V37)set f3=falseelsecall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+V37)endifset p5=nullset m5=nullendfunctionfunction FDE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call F4E(p5,N47(GetHandleId(p5),"RecentDamage"))call K_7(NO7)call NM7(t)set t=nullset p5=nullreturn falseendfunctionfunction FEE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=M_7(GetHandleId(p5),"Level")local trigger t=WX7(p5,m5,'h0BE',"F9E",1000)local integer NO7=GetHandleId(t)call M97(NO7,"Damage",(20+SR7*60)*1.0)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AntiMagicShell\\AntiMagicShell.mdl",p5,"chest"))call M97(GetHandleId(p5),"RecentDamage",0*1.0)call F4E(p5,0)call NQ7(p5,"SoulAssumptionState",4)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerAddCondition(t,Condition(function FDE))call TriggerRegisterTimerEvent(t,4,false)call MF7(NO7,"Source",p5)set p5=nullset m5=nullset t=nullendfunctionfunction FFE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local real V37=N47(NO7,"Damage")if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1NA')thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall M97(GetHandleId(p5),"RecentDamage",(N47(GetHandleId(p5),"RecentDamage")-V37)*1.0)endifcall F4E(p5,N47(GetHandleId(p5),"RecentDamage"))call K_7(NO7)call NM7(t)endifset t=nullset p5=nullreturn falseendfunctionfunction FGE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer NO7=GetHandleId(p5)local texttag tt=CreateTextTag()local boolean E5E=falselocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function F8E))call MF7(GetHandleId(t),"Source",p5)if GetOwningPlayer(p5)==GetLocalPlayer()thenset E5E=trueendifcall SetTextTagText(tt," ",0.023)call SetTextTagPosUnit(tt,p5,0)call SetTextTagVisibility(tt,E5E)call SetTextTagPermanent(tt,true)set D3[GetPlayerId(GetOwningPlayer(p5))]=p5call M97(NO7,"RecentDamage",0*1.0)call F4E(p5,0)call MR7(NO7,"SoulAssumption|Text",tt)set p5=nullset t=nullset tt=nullendfunctionfunction FHE takes unit FIE,unit FJE returns nothinglocal real V37=GetEventDamage()local integer SR7=GetUnitAbilityLevel(FIE,'A1NA')local real FKE=N47(GetHandleId(FIE),"RecentDamage")local trigger tlocal integer NO7if J77(FIE,FJE)<1400 and f3==false thenif AO7(V37)and GetEventDamage()>2 and GetEventDamageSource()!=GetTriggerUnit()and(R77(GetOwningPlayer(GetEventDamageSource()))or GetUnitTypeId(GetEventDamageSource())=='n00L')thenset FKE=FKE+V37call M97(GetHandleId(FIE),"RecentDamage",FKE*1.0)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",FIE)call M97(NO7,"Damage",V37*1.0)call TriggerRegisterTimerEvent(t,6,false)call TriggerRegisterUnitEvent(t,FIE,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,FIE,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FFE))call F4E(FIE,FKE)endifendifset t=nullendfunctionfunction FME takes nothing returns nothinglocal integer i=0loopexitwhen i>12if D3[i]!=null thencall FHE(D3[i],GetTriggerUnit())endifset i=i+1endloopendfunctionfunction FNE takes nothing returns booleanif GetLearnedSkill()=='A1NA' and GetUnitAbilityLevel(GetTriggerUnit(),'A1NA')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall FGE()endifreturn falseendfunctionfunction FOE takes nothing returns booleanif GetSpellAbilityId()=='A1NA' thencall FEE()endifreturn falseendfunctionfunction GJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function FNE))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FOE))set t=nullcall PX8("FME")endfunctionfunction FPE takes nothing returns booleanreturn GetSpellAbilityId()=='A06P'endfunctionfunction FQE takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(L7))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1endfunctionfunction FRE takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit oA=CreateUnit(GetOwningPlayer(L7),'e00C',GetUnitX(m5),GetUnitY(m5),0)call UW7(oA,'A0JE')call SetUnitAbilityLevel(oA,'A0JE',pe)call IssueTargetOrderById(oA,852075,m5)call UnitApplyTimedLifeBJ(2.,'BTLF',oA)call UnitAddAbility(oA,'Aloc')set oA=nullset m5=nullendfunctionfunction FSE takes unit ZM7,unit TX7 returns nothinglocal group B47=TL7()local boolexpr hP=Condition(function FQE)set L7=TX7call GroupEnumUnitsInRange(B47,GetUnitX(ZM7),GetUnitY(ZM7),675,hP)call ForGroup(B47,function FRE)call T67(B47)call DestroyBoolExpr(hP)set B47=nullset hP=nullendfunctionfunction FTE takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7local unit oA=MZ7(NO7,"Caster")if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall KillUnit(oA)call K_7(NO7)call NM7(t)elseif GetTriggerEvalCount(t)>22 thencall KillUnit(oA)call K_7(NO7)call NM7((t))call JN7(MZ7(NO7,"Hero"))elsecall SetUnitAnimation(oA,"birth")set TX7=MZ7(NO7,"Hero")set pe=GetTriggerExecCount(t)*GetUnitAbilityLevel(TX7,'A06P')/2call FSE(oA,TX7)endifset t=nullset oA=nullset TX7=nullendfunctionfunction FUE takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location Mk=GetSpellTargetLoc()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real x=GetLocationX(Mk)local real y=GetLocationY(Mk)local unit oA=CreateUnit(GetOwningPlayer(TX7),'e01G',x,y,0)call RemoveLocation(Mk)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function FTE)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",oA)set TX7=nullset Mk=nullset t=nullset oA=nullendfunctionfunction H98 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddAction(t,function FUE)call TriggerAddCondition(t,Condition(function FPE))call VQ7('A0JE')set t=nullendfunctionfunction FVE takes nothing returns booleanreturn GetSpellAbilityId()=='A0J5'endfunctionfunction FWE takes nothing returns nothingcall UW7(GetEnumUnit(),'A0P2')endfunctionfunction FXE takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'A0P2')endfunctionfunction FYE takes unit FZE,unit FAE returns nothingif FZE!=null and FAE!=null thencall W97("CLPB",GetUnitX(FZE),GetUnitY(FZE),GetUnitX(FAE),GetUnitY(FAE),.7,.1,.9,1,.3)endifendfunctionfunction FBE takes nothing returns nothinglocal unit TX7=MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")local real V37=0.2*GetEventDamage()set V37=VB7(V37,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE))if GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>1 and GetEnumUnit()!=GetTriggerUnit()thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)<V37 thencall ZO7(TX7,GetEnumUnit(),YD4,V37)elsecall XF7(GetEnumUnit(),V37)endifendifset TX7=nullendfunctionfunction FCE takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local group B47=M67(NO7,"Group")if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall ForGroup(B47,function FXE)call K_7(NO7)call T67(B47)call NM7(t)elseif GetEventDamage()>10 and GetEventDamage()<6000 thencall DisableTrigger(t)call ForGroup(B47,function FBE)call EnableTrigger(t)endifset t=nullset B47=nullendfunctionfunction F3E takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>1endfunctionfunction F6E takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local group B47=TL7()local integer SR7=GetUnitAbilityLevel(TX7,'A0J5')local boolexpr hP=Condition(function F3E)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer i=2local group FLE=TL7()local unit array F1Elocal string F0E="Abilities\\Spells\\Undead\\Curse\\CurseTarget.mdl"call MF7(NO7,"Hero",TX7)call FYE(TX7,m5)call V57(F0E,m5,"overhead",25)set F1E[1]=m5call MF7(NO7,"Unit1",F1E[1])call TriggerRegisterUnitEvent(t,F1E[1],EVENT_UNIT_DAMAGED)call GroupEnumUnitsInRange(B47,GetUnitX(m5),GetUnitY(m5),600,hP)call GroupRemoveUnit(B47,m5)call GroupAddUnit(FLE,m5)call MO7(NO7,"Group",FLE)loopexitwhen i>(2+SR7)or FirstOfGroup(B47)==nullset F1E[i]=FirstOfGroup(B47)call FYE(F1E[i-1],F1E[i])call TriggerRegisterUnitEvent(t,F1E[i],EVENT_UNIT_DAMAGED)call GroupAddUnit(FLE,F1E[i])call GroupRemoveUnit(B47,F1E[i])call V57(F0E,F1E[i],"overhead",25)set i=i+1endloopcall M87(NO7,"FXCount",i-1)set pe=GetUnitAbilityLevel(TX7,'A0J5')call ForGroup(FLE,function FWE)call TriggerRegisterTimerEvent(t,25,false)call TriggerAddAction(t,function FCE)call DestroyBoolExpr(hP)set TX7=nullset m5=nullcall T67(B47)set B47=nullset hP=nullset t=nullset FLE=nullendfunctionfunction HD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FVE))call TriggerAddAction(t,function F6E)call VQ7('A0J9')set t=nullendfunctionfunction F5E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer ZN7=GetUnitAbilityLevel(p5,'A0AS')if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(ML7(NO7,"FX"))call UnitRemoveAbility(m5,'A17K')call UnitRemoveAbility(m5,'B0AP')call K_7(NO7)call NM7(t)elsecall ZO7(p5,m5,Y84,ZN7*10)endifset p5=nullset m5=nullset t=nullreturn falseendfunctionfunction F2E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=GetUnitAbilityLevel(p5,'A0AS')if GetTriggerEvalCount(t)>9 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(ML7(NO7,"FX"))call UnitRemoveAbility(m5,'A0P0')call UnitRemoveAbility(m5,'B073')call K_7(NO7)call NM7(t)elsecall MK(m5,SR7*10)endifset p5=nullset m5=nullset t=nullreturn falseendfunctionfunction F_E takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)if IsUnitAlly(m5,GetOwningPlayer(p5))thencall TriggerAddCondition(t,Condition(function F2E))call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\StaffOfSanctuary\\Staff_Sanctuary_Target.mdl",m5,"chest"))call UW7(m5,'A0P0')elseif T37(GetSpellTargetUnit())==false thencall TriggerAddCondition(t,Condition(function F5E))call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Voodoo\\VoodooAuraTarget.mdl",m5,"overhead"))call UW7(m5,'A17K')endifset p5=nullset m5=nullset t=nullendfunctionfunction G4E takes nothing returns booleanif GetSpellAbilityId()=='A0AS' thencall F_E()endifreturn falseendfunctionfunction HE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G4E))call VQ7('A0P0')call VQ7('A17K')set t=nullendfunctionfunction G7E takes nothing returns nothingcall ZO7(V54,GetEnumUnit(),Y84,20+10*V24)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\Immolation\\ImmolationDamage.mdl",GetEnumUnit(),"head"))endfunctionfunction G8E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7local integer SN7=GetUnitTypeId(X97)local group gif SN7=='n00U' or SN7=='n0KU' thenset ZN7=1elseif SN7=='n00Y' or SN7=='n0KV' thenset ZN7=2elseif SN7=='n00Z' or SN7=='n0KW' thenset ZN7=3endifif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseset I04=X97set V54=X97set V24=ZN7set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),275,Condition(function Y47))call ForGroup(g,function G7E)call T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction G9E takes unit u returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function G8E))call SaveUnitHandle(C7,(V_7),(2),(u))set t=nullendfunctionfunction GDE takes nothing returns booleanlocal integer SN7=GetUnitTypeId(GetTriggerUnit())if SN7=='n00U' or SN7=='n0KU' or SN7=='n00Y' or SN7=='n0KV' or SN7=='n00Z' or SN7=='n0KW' thencall G9E(GetTriggerUnit())endifreturn falseendfunctionfunction GEE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local real GFE=(LoadReal(C7,(V_7),(191)))local real GGE=(LoadReal(C7,(V_7),(192)))local integer ZN7=GetUnitAbilityLevel(X97,'S00U')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GFE,GGE,0)call UW7(ZM7,'S00U')call SetUnitAbilityLevel(ZM7,'S00U',ZN7)call IssuePointOrderById(ZM7,852224,x,y)call FlushChildHashtable(C7,(V_7))call NM7(t)set X97=nullset ZM7=nullset t=nullreturn falseendfunctionfunction GHE takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.3,false)call TriggerAddCondition(t,Condition(function GEE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((GetSpellTargetX())*1.0))call SaveReal(C7,(V_7),(7),((GetSpellTargetY())*1.0))call SaveReal(C7,(V_7),(191),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(192),((GetUnitY(X97))*1.0))set X97=nullset t=nullendfunctionfunction GIE takes nothing returns booleanif GetSpellAbilityId()=='S00U' and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true thencall GHE()endifreturn falseendfunctionfunction HF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GIE))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetEntireMapRect())call TriggerAddCondition(t,Condition(function GDE))set t=nullendfunctionfunction GJE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetUnitAbilityLevel(TX7,'BHfs')==0 thencall UnitRemoveAbility(TX7,'A0C9')call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction GKE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()call UW7(TX7,'A0C9')call SetUnitAbilityLevel(TX7,'A0C9',GetUnitAbilityLevel(TX7,'A0CA'))call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,.2,true)call TriggerAddCondition(t,Condition(function GJE))set TX7=nullset t=nullendfunctionfunction GME takes nothing returns booleanif GetSpellAbilityId()=='A0CA'thencall GKE()endifreturn falseendfunctionfunction GM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GME))set t=nullendfunctionfunction GNE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)call SetUnitState(MZ7(NO7,"Unit"),UNIT_STATE_MANA,N47(NO7,"Mana"))call K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction GOE takes unit u,real GPE returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function GNE))call MF7(NO7,"Unit",u)call M97(NO7,"Mana",GPE)set t=nullendfunctionfunction GQE takes nothing returns booleanreturn GetSpellAbilityId()=='A0CT'endfunctionfunction GRE takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggerUnit())local real Wx=VC7(N47(NO7,"TLLife1"),1)local real Tw=VC7(N47(NO7,"TLMana1"),1)local real x=N47(NO7,"TLX1")local real y=N47(NO7,"TLY1")local unit TX7=GetTriggerUnit()if N47(NO7,"TLLife1")>1 and GetUnitState(TX7,UNIT_STATE_LIFE)>1 thencall AddSpecialEffect("Abilities\\Spells\\NightElf\\Blink\\BlinkTarget.mdl",GetUnitX(TX7),GetUnitY(TX7))call SetUnitX(TX7,x)call SetUnitY(TX7,y)call SetUnitState(TX7,UNIT_STATE_LIFE,Wx)call SetUnitState(TX7,UNIT_STATE_MANA,Tw)call UnitRemoveBuffs(TX7,false,true)call VO8(TX7)call GOE(TX7,Tw)endifset TX7=nullendfunctionfunction GN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GQE))call TriggerAddAction(t,function GRE)set t=nullendfunctionfunction GSE takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit TX7=MZ7(GetHandleId(t),"UnitVar")local integer NO7=GetHandleId(TX7)local integer T8=1local integer U8=10loopexitwhen T8>U8call M97(NO7,"TLX"+I2S(T8-1),N47(NO7,"TLX"+I2S(T8)))call M97(NO7,"TLY"+I2S(T8-1),N47(NO7,"TLY"+I2S(T8)))call M97(NO7,"TLLife"+I2S(T8-1),N47(NO7,"TLLife"+I2S(T8)))call M97(NO7,"TLMana"+I2S(T8-1),N47(NO7,"TLMana"+I2S(T8)))set T8=T8+1endloopcall M97(NO7,"TLX10",GetUnitX(TX7))call M97(NO7,"TLY10",GetUnitY(TX7))call M97(NO7,"TLLife10",GetUnitState(TX7,UNIT_STATE_LIFE))call M97(NO7,"TLMana10",GetUnitState(TX7,UNIT_STATE_MANA))set t=nullset TX7=nullendfunctionfunction GTE takes nothing returns nothinglocal unit OS9=I04local trigger tset t=CreateTrigger()call TriggerRegisterTimerEventPeriodic(t,.5)call TriggerAddAction(t,function GSE)call MF7(GetHandleId(t),"UnitVar",OS9)set t=nullendfunctionfunction GO8 takes nothing returns nothingendfunctionfunction GUE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(TM7),(2)))local unit U47=(LoadUnitHandle(C7,(TM7),(17)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(U47,'A1QZ')call SaveInteger(C7,(GetHandleId((U47))),((4290)),(2))call FlushChildHashtable(C7,(TM7))call NM7(t)if GetTriggerUnit()==U47 thencall KillUnit(X97)endifelseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall SetUnitAbilityLevel(U47,'A1QZ',GetUnitAbilityLevel(U47,'A1QZ')+1)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\SkeletalMageMissile\\SkeletalMageMissile.mdl",U47,"chest"))endifelsecall SetUnitX(X97,GetUnitX(U47)-40)call SetUnitY(X97,GetUnitY(U47)-40)if Y77(U47)and IsUnitVisible(U47,GetOwningPlayer(X97))==false thencall KillUnit(X97)elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 thencall IssueTargetOrder(X97,"attack",U47)endifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction GVE takes unit GWE,unit U47,integer ZN7 returns nothinglocal trigger t=CreateTrigger()local integer TM7=GetHandleId(t)call UnitRemoveAbility(GWE,'Avul')call SaveUnitHandle(C7,(TM7),(2),(GWE))call SaveUnitHandle(C7,(TM7),(17),(U47))call UW7(U47,'A1QZ')call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,GWE,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function GUE))call TriggerEvaluate(t)call UnitApplyTimedLife(GWE,'BTLF',4+4*ZN7)set t=nullendfunctionfunction GXE takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and((LoadInteger(C7,(GetHandleId((GetFilterUnit()))),((4290))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))==true or Y77(GetFilterUnit())==false)endfunctionfunction GYE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local group glocal integer i=1local unit XT7=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local real a=(LoadReal(C7,(V_7),(137)))local unit GZElocal unit XR7local real XW7=(LoadReal(C7,(V_7),(47)))local real XX7=(LoadReal(C7,(V_7),(48)))set x=VK7(x+18*Cos(a))set y=VM7(y+18*Sin(a))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))if GetTriggerEvalCount(t)>166 thenloopexitwhen i>12if(LoadBoolean(C7,(V_7),(511+i-1)))==false thencall KillUnit((LoadUnitHandle(C7,(V_7),(393+i-1))))endifset i=i+1endloopcall FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=XT7call GroupEnumUnitsInRange(g,x,y,400,Condition(function GXE))loopexitwhen i>12if(LoadBoolean(C7,(V_7),(511+i-1)))==false thenset GZE=(LoadUnitHandle(C7,(V_7),(393+i-1)))set x=(LoadReal(C7,(V_7),(549+i-1)))set y=(LoadReal(C7,(V_7),(567+i-1)))set x=VK7(x+18*Cos(a))set y=VM7(y+18*Sin(a))call SaveReal(C7,(V_7),(549+i-1),((x)*1.0))call SaveReal(C7,(V_7),(567+i-1),((y)*1.0))call SetUnitX(GZE,x)call SetUnitY(GZE,y)set XR7=FirstOfGroup(g)if XR7!=null thencall GroupRemoveUnit(g,XR7)call SaveInteger(C7,(GetHandleId((XR7))),((4290)),(1))call SaveBoolean(C7,(V_7),(511+i-1),(true))call GVE(GZE,XR7,GetUnitAbilityLevel(XT7,'A1QW'))endifendifset i=i+1endloopcall T67(g)set g=nullset GZE=nullset XR7=nullendifset t=nullset XT7=nullreturn falseendfunctionfunction GAE takes nothing returns nothinglocal location l=GetSpellTargetLoc()local real GBE=GetLocationX(l)local real GCE=GetLocationY(l)local unit XT7=GetTriggerUnit()local real x=GetUnitX(XT7)local real y=GetUnitY(XT7)local real a=W77(x,y,GBE,GCE)*bj_DEGTORADlocal unit CZ9local real XA7=VK7(x+3000*Cos(a))local real XB7=VM7(y+3000*Sin(a))local integer i=1local trigger t=CreateTrigger()local integer TM7=GetHandleId(t)local real LT9local integer JK7=GetUnitAbilityLevel(XT7,'A1QW')local integer G3Ecall RemoveLocation(l)if JK7==1 thenset G3E='u01K'elseif JK7==2 thenset G3E='u01H'elseif JK7==3 thenset G3E='u01J'elseif JK7==4 thenset G3E='u01L'endifloopexitwhen i>12set CZ9=CreateUnit(GetOwningPlayer(XT7),G3E,x+GetRandomInt(-300,300),y+GetRandomInt(-300,300),a*bj_RADTODEG)call SaveUnitHandle(C7,(TM7),(393+i-1),(CZ9))call SaveBoolean(C7,(TM7),(511+i-1),(false))call SaveReal(C7,(TM7),(549+i-1),((GetUnitX(CZ9))*1.0))call SaveReal(C7,(TM7),(567+i-1),((GetUnitY(CZ9))*1.0))set i=i+1endloopcall TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function GYE))call SaveUnitHandle(C7,(TM7),(2),(XT7))call SaveReal(C7,(TM7),(6),((x)*1.0))call SaveReal(C7,(TM7),(7),((y)*1.0))call SaveReal(C7,(TM7),(137),((a)*1.0))call SaveReal(C7,(TM7),(47),((XA7)*1.0))call SaveReal(C7,(TM7),(48),((XB7)*1.0))set XT7=nullset CZ9=nullset l=nullset t=nullendfunctionfunction G6E takes nothing returns booleanif GetSpellAbilityId()=='A1QW' thencall GAE()endifreturn falseendfunctionfunction GP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G6E))call U67('u01K')call U67('u01H')call U67('u01J')call U67('u01L')call VQ7('A1QZ')set t=nullendfunctionfunction GLE takes unit p5,unit NY,unit G1E,integer SR7,boolean G0E returns reallocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(NY),GetUnitY(NY),0)if G0E thencall UW7(oA,'A0WY')elsecall UW7(oA,'A0NL')endifcall IssueTargetOrderById(oA,852095,G1E)if IsUnitType(G1E,UNIT_TYPE_HERO)==false thencall ZT7(p5,G1E,1,50+25*SR7,0.4)elsecall ZT7(p5,G1E,1,50,0.4)endifif G0E thenreturn((GetUnitX(G1E)-GetUnitX(NY))*(GetUnitX(G1E)-GetUnitX(NY))+(GetUnitY(G1E)-GetUnitY(NY))*(GetUnitY(G1E)-GetUnitY(NY)))/1000000endifset oA=nullreturn((GetUnitX(G1E)-GetUnitX(NY))*(GetUnitX(G1E)-GetUnitX(NY))+(GetUnitY(G1E)-GetUnitY(NY))*(GetUnitY(G1E)-GetUnitY(NY)))/360000endfunctionfunction G5E takes unit p5,unit NY returns unitlocal group g=TL7()set I04=p5call GroupEnumUnitsInRange(g,GetUnitX(NY),GetUnitY(NY),600,Condition(function YM7))call GroupRemoveUnit(g,NY)set I04=GroupPickRandomUnit(g)call T67(g)set g=nullreturn I04endfunctionfunction G2E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local unit NY=MZ7(NO7,"Old")local integer iX=M_7(NO7,"Count")local unit G1Elocal real Hkcall K_7(NO7)call NM7(t)if iX<(SR7*2+1)thenset G1E=G5E(p5,NY)if G1E!=null thenset Hk=GLE(p5,NY,G1E,SR7,false)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)call MF7(NO7,"Old",G1E)call M87(NO7,"Count",iX+1)call TriggerRegisterTimerEvent(t,Hk+.4,false)call TriggerAddCondition(t,Condition(function G2E))endifendifset t=nullset p5=nullset NY=nullset G1E=nullreturn falseendfunctionfunction G_E takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit H4E=GetSpellTargetUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0NM')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real Hk=GLE(TX7,TX7,H4E,SR7,true)call MF7(NO7,"Source",TX7)call M87(NO7,"Level",SR7)call MF7(NO7,"Old",H4E)call M87(NO7,"Count",1)call TriggerRegisterTimerEvent(t,Hk,false)call TriggerAddCondition(t,Condition(function G2E))set TX7=nullset H4E=nullset t=nullendfunctionfunction H7E takes nothing returns booleanif GetSpellAbilityId()=='A0NM' and T37(GetSpellTargetUnit())==false thencall G_E()endifreturn falseendfunctionfunction GA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H7E))set t=nullendfunctionfunction H8E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=GetUnitAbilityLevel(TX7,'A0NE')call UnitRemoveAbility(TX7,'A0NE')call UW7(TX7,'A0NE')call SetUnitAbilityLevel(TX7,'A0NE',SR7)call K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction H9E takes unit m5,integer SR7 returns nothinglocal real HDE=(8+SR7*8)/ 3call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+HDE)endfunctionfunction HEE takes nothing returns booleanif ji()thencall H9E(GetFilterUnit(),IY4)endifreturn falseendfunctionfunction HFE takes unit TX7 returns nothinglocal integer SR7=GetUnitAbilityLevel(TX7,'A0NE')local group g=TL7()set I04=TX7set IY4=SR7call GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),375,Condition(function HEE))call T67(g)set g=nullendfunctionfunction HGE takes unit TX7 returns nothinglocal integer ZN7=GetUnitAbilityLevel(TX7,'A0NE')local real HHE=2+6*ZN7call SetUnitState(TX7,UNIT_STATE_MANA,GetUnitState(TX7,UNIT_STATE_MANA)-(HHE/3))if GetUnitState(TX7,UNIT_STATE_MANA)<HHE thenif NF7(TX7,"DeathWardOn")==false thencall IssueImmediateOrder(TX7,"unimmolation")endifendifendfunctionfunction HIE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==852178 thencall K_7(NO7)call NM7(t)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function H8E))endifelsecall HFE(TX7)call HGE(TX7)endifset t=nullset TX7=nullreturn falseendfunctionfunction HJE takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,0.33,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function HIE))set TX7=nullset t=nullendfunctionfunction HKE takes nothing returns booleanif GetSpellAbilityId()=='A0NE' thencall HJE()endifreturn falseendfunctionfunction GC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HKE))set t=nullendfunctionfunction HME takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=GetUnitAbilityLevel(p5,'A0NO')local integer iX=GetTriggerEvalCount(t)local real HNE=N47(NO7,"StartingHP")local real HOE=0if GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseif iX==4 or iX==8 or iX==12 thencall DestroyEffect(ML7(NO7,"FX"))if iX==12 thencall K_7(NO7)call NM7(t)elseif iX==4 or iX==8 thencall MG7(NO7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))endifset HOE=SR7*0.1*VC7(HNE-GetUnitState(m5,UNIT_STATE_LIFE),0)if HOE>0 thencall WD7("+"+I2S(R2I(HOE)),2,m5,0.023,68,0,187,216)endifendifcall ZO7(p5,m5,Y84,SR7*5+HOE)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction HPE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()call DestroyEffect(AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HME))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call M97(NO7,"StartingHP",GetUnitState(m5,UNIT_STATE_LIFE))call MG7(NO7,"FX",AddSpecialEffectTarget("effects\\NetherInferno.mdx",m5,"origin"))set t=nullset p5=nullset m5=nullendfunctionfunction HQE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local group g=TL7()local integer SR7=GetUnitAbilityLevel(p5,'A0NO')call GroupEnumUnitsInRange(g,x,y,175,Condition(function YX7))call ForGroup(g,function HPE)call T67(g)call RemoveLocation(l)set l=nullset g=nullset p5=nullendfunctionfunction HRE takes nothing returns booleanif GetSpellAbilityId()=='A0NO' thencall HQE()endifreturn falseendfunctionfunction GB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HRE))set t=nullendfunctionfunction HSE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call K_7(NO7)call NM7(t)if GetTriggerEventId()!=EVENT_UNIT_SPELL_ENDCAST thencall JN7(p5)endifset p5=nullset t=nullreturn falseendfunctionfunction HTE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterTimerEvent(t,10,false)call TriggerAddCondition(t,Condition(function HSE))set t=nullset p5=nullendfunctionfunction HUE takes nothing returns booleanif GetSpellAbilityId()=='A0NT' or GetSpellAbilityId()=='A0NX' thencall HTE()endifreturn falseendfunctionfunction HVE takes nothing returns booleanif GetUnitTypeId(GetSummonedUnit())=='o000' or GetUnitTypeId(GetSummonedUnit())=='o001' or GetUnitTypeId(GetSummonedUnit())=='o00A' or GetUnitTypeId(GetSummonedUnit())=='o00X' thencall NQ7(GetSummoningUnit(),"DeathWardOn",8)endifreturn falseendfunctionfunction G38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function HVE))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HUE))set t=nullendfunctionfunction HWE takes nothing returns booleanlocal integer id=0local unit m5local real Z_7=(TimerGetElapsed(P))local real mplocal real hploopexitwhen id>12set m5=G7[id]if m5!=null and GetUnitAbilityLevel(m5,'B0CD')>0 thenif w2[id]>Z_7 and UY7(m5)==false thenif IsUnitInRegion(N3,m5)==true thenset hp=GetUnitState(m5,UNIT_STATE_LIFE)set mp=GetUnitState(m5,UNIT_STATE_MANA)set W2[id]=hpset Z2[id]=mpelseset hp=GetUnitState(m5,UNIT_STATE_LIFE)set mp=GetUnitState(m5,UNIT_STATE_MANA)if hp<W2[id]thenset W2[id]=hpelseendifif mp<Z2[id]thenset Z2[id]=mpelseendifcall SetUnitState(m5,UNIT_STATE_LIFE,W2[id])endifset e3[id]=e3[id]+1if e3[id]==10 thenset e3[id]=0if o3[id]==1 thencall ZO7(v3[id],m5,Y84,12.5)elseif o3[id]==2 thencall ZO7(v3[id],m5,Y84,20)elseif o3[id]==3 thencall ZO7(v3[id],m5,Y84,32)endifendifelseif w2[id]>Z_7 and UY7(m5)==true thenset w2[id]=0set W2[id]=9999set Z2[id]=9999endifif GetUnitAbilityLevel(m5,'B0CD')>0 and w2[id]<Z_7 thencall UnitRemoveAbility(m5,'A1JA')call UnitRemoveAbility(m5,'B0CD')call UnitRemoveAbility(m5,'A1LD')endifendifset id=id+1endloopset m5=nullreturn falseendfunctionfunction HXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit U47=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local unit ZM7if GetUnitAbilityLevel(U47,'B0CD')==0 thencall K_7(NO7)call NM7(t)elseif GetOwningPlayer(U47)!=GetOwningPlayer(GetEventDamageSource())and GetUnitState(U47,UNIT_STATE_MAX_LIFE)*(0.09+0.01*SR7)>GetUnitState(U47,UNIT_STATE_LIFE)and NF7(U47,"ShallowGrave|Active")==false thencall K_7(NO7)call NM7(t)call UnitRemoveAbility(U47,'A1JA')call UnitRemoveAbility(U47,'B0CD')call UnitRemoveAbility(U47,'A1LD')call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"overhead"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"origin"))set ZM7=CreateUnit(GetOwningPlayer(GetEventDamageSource()),'e00E',0,0,0)call UnitRemoveBuffs(U47,true,true)call UnitRemoveAbility(U47,'Aetl')call UnitDamageTarget(ZM7,U47,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set ZM7=nullendifset t=nullset U47=nullreturn falseendfunctionfunction HYE takes unit p5,unit m5 returns nothinglocal integer SR7=GetUnitAbilityLevel(p5,'A1MI')local integer id=GetPlayerId(GetOwningPlayer(m5))local trigger tlocal integer NO7if SR7>0 and IsUnitType(m5,UNIT_TYPE_HERO)==true and IsUnitIllusion(m5)==false and GetUnitTypeId(m5)!='H00J' thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function HXE))call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call UW7(m5,'A1JA')call UW7(m5,'A1LD')set w2[id]=(TimerGetElapsed(P))+7+SR7set W2[id]=GetUnitState(m5,UNIT_STATE_LIFE)set Z2[id]=GetUnitState(m5,UNIT_STATE_MANA)set v3[id]=p5set o3[id]=SR7endifset t=nullendfunctionfunction JW8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer id=0local integer i=0local player pcall TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function HWE))loopexitwhen id>12set W2[id]=9999set Z2[id]=9999set id=id+1endlooploopexitwhen i>5set p=Y7[i]call SetPlayerAbilityAvailable(p,'A1LD',false)set p=Z7[i]call SetPlayerAbilityAvailable(p,'A1LD',false)set i=i+1endloopset t=nullset p=nullendfunctionfunction HZE takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),'A1HZ')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1HZ')call UnitRemoveAbility(GetEnumUnit(),'B0C5')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1I4')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1I4')call UnitRemoveAbility(GetEnumUnit(),'B0C5')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1I3')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1I3')call UnitRemoveAbility(GetEnumUnit(),'B0C5')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1I6')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1I6')call UnitRemoveAbility(GetEnumUnit(),'B0C5')endifendfunctionfunction HAE takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif TU7(GetEnumUnit())==false thenif a3==1 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1HZ')==0 thencall UnitRemoveAbility(GetEnumUnit(),'B0C5')call UW7(GetEnumUnit(),'A1HZ')endifelseif a3==2 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1I4')==0 thencall UnitRemoveAbility(GetEnumUnit(),'B0C5')call UW7(GetEnumUnit(),'A1I4')endifelseif a3==3 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1I3')==0 thencall UnitRemoveAbility(GetEnumUnit(),'B0C5')call UW7(GetEnumUnit(),'A1I3')endifelseif a3==4 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1I6')==0 thencall UnitRemoveAbility(GetEnumUnit(),'B0C5')call UW7(GetEnumUnit(),'A1I6')endifendifendifendfunctionfunction HBE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local group HCE=M67(NO7,"ActiveGroup")local real x=GetUnitX(ZM7)local real y=GetUnitY(ZM7)local group g=TL7()local group g2if GetTriggerEventId()==EVENT_UNIT_DEATH thencall ForGroup(HCE,function HZE)call T67(g)call T67(HCE)call K_7(NO7)call NM7(t)call ShowUnit(ZM7,false)set t=nullset p5=nullset ZM7=nullset HCE=nullreturn falseendifset n3=p5set a3=GetUnitAbilityLevel(p5,'A1HS')set I04=p5call GroupEnumUnitsInRange(g,x,y,300,Condition(function Y47))call GroupRemoveGroup(g,HCE)call ForGroup(HCE,function HZE)call ForGroup(g,function HAE)call MO7(NO7,"ActiveGroup",g)call T67(HCE)set t=nullset p5=nullset ZM7=nullset HCE=nullset g=nullreturn falseendfunctionfunction H3E takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local integer SR7=GetUnitAbilityLevel(p5,'A1HS')local unit ZM7=CreateUnit(GetOwningPlayer(p5),'n0HQ',x,y,0)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call UnitApplyTimedLife(ZM7,'BTLF',12)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HBE))call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call MO7(NO7,"ActiveGroup",TL7())set p5=nullcall RemoveLocation(l)set l=nullset ZM7=nullset t=nullendfunctionfunction H6E takes nothing returns booleanif GetSpellAbilityId()=='A1HS' thencall H3E()endifreturn falseendfunctionfunction JT8 takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0local player pcall WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H6E))set t=nullloopexitwhen i>5set p=Y7[i]call SetPlayerAbilityAvailable(p,'A1HZ',false)call SetPlayerAbilityAvailable(p,'A1I4',false)call SetPlayerAbilityAvailable(p,'A1I3',false)call SetPlayerAbilityAvailable(p,'A1I6',false)set p=Z7[i]call SetPlayerAbilityAvailable(p,'A1HZ',false)call SetPlayerAbilityAvailable(p,'A1I4',false)call SetPlayerAbilityAvailable(p,'A1I3',false)call SetPlayerAbilityAvailable(p,'A1I6',false)set i=i+1endloopset p=nullendfunctionfunction HLE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local integer SR7=M_7(NO7,"Level")local unit ZM7local real V37=(100+50*SR7)/ 4if GetTriggerEventId()==EVENT_UNIT_DEATH or J87(x,y,GetUnitX(m5),GetUnitY(m5))>765 or GetUnitAbilityLevel(m5,'B0CC')==0 thencall DestroyEffect(ML7(NO7,"FX"))call DestroyEffect(ML7(NO7,"fx2"))call UnitRemoveAbility(m5,'A1J9')call UnitRemoveAbility(m5,'B0CC')call K_7(NO7)call NM7(t)elseif GetTriggerEvalCount(t)==(10*0.8)thencall DestroyEffect(ML7(NO7,"FX"))call MG7(NO7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call ZO7(p5,m5,Y84,V37)elseif GetTriggerEvalCount(t)==(10*1.6)thencall DestroyEffect(ML7(NO7,"FX"))call MG7(NO7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call ZO7(p5,m5,Y84,V37)elseif GetTriggerEvalCount(t)==(10*2.5)thencall DestroyEffect(ML7(NO7,"FX"))call MG7(NO7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call ZO7(p5,m5,Y84,V37)elseif GetTriggerEvalCount(t)==(10*3.4)thencall DestroyEffect(ML7(NO7,"FX"))call ZO7(p5,m5,Y84,V37)elseif GetTriggerEvalCount(t)>(10*3.9)thencall DestroyEffect(ML7(NO7,"fx2"))call UnitRemoveAbility(m5,'A1J9')call UnitRemoveAbility(m5,'B0CC')call K_7(NO7)call NM7(t)set ZM7=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(ZM7,'A1MJ')call SetUnitAbilityLevel(ZM7,'A1MJ',SR7)call IssueTargetOrder(ZM7,"thunderbolt",m5)set ZM7=nullendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction H1E takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A1MG')local string s="Doodads\\Cinematic\\GlowingRunes\\GlowingRunes4.mdl"if GetLocalPlayer()==GetOwningPlayer(m5)thenendifcall UW7(m5,'A1J9')call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M97(NO7,"x",GetUnitX(m5)*1.0)call M97(NO7,"y",GetUnitY(m5)*1.0)call M87(NO7,"Level",SR7)call MG7(NO7,"FX",AddSpecialEffectTarget("war3mapImported\\ShivasEnchantment.mdx",m5,"overhead"))call MG7(NO7,"fx2",AddSpecialEffect(s,GetUnitX(m5),GetUnitY(m5)))call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function HLE))set p5=nullset m5=nullset t=nullendfunctionfunction H0E takes nothing returns booleanif GetSpellAbilityId()=='A1MG' and T37(GetSpellTargetUnit())==false thencall H1E()endifreturn falseendfunctionfunction JU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H0E))set t=nullendfunctionfunction H5E takes nothing returns nothinglocal unit p5=E3local unit m5=GetEnumUnit()local integer SR7=V3call HYE(p5,m5)call ZO7(p5,m5,Y84,150+100*SR7)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\PlasmaShot.mdl",m5,"chest"))set p5=nullset m5=nullendfunctionfunction H2E takes nothing returns nothinglocal unit p5=E3local unit m5=GetEnumUnit()local integer SR7=V3call HYE(p5,m5)set p5=nullset m5=nullendfunctionfunction H_E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZF7=MZ7(NO7,"Projectile")local real Y5=N47(NO7,"TargetX")local real Z5=N47(NO7,"TargetY")local real l4=N47(NO7,"Angle")local real I4E=N47(NO7,"AOE")local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local real x=GetUnitX(ZF7)+30*Cos(l4)local real y=GetUnitY(ZF7)+30*Sin(l4)local group glocal fogmodifier I7Eif J87(x,y,Y5,Z5)<35 or x!=VK7(x)or y!=VM7(y)thenset x=Y5set y=Z5call SetUnitX(ZF7,x)call SetUnitY(ZF7,y)call DestroyEffect(ML7(NO7,"FX"))set I7E=MX7(NO7,"Fog")call FogModifierStop(I7E)call DestroyFogModifier(I7E)set I7E=nullif DO7 thenset bj_forLoopAIndex=0set bj_forLoopAIndexEnd=M_7(NO7,"FUN|EffNum")loopexitwhen bj_forLoopAIndex>=bj_forLoopAIndexEndcall DestroyEffect(ML7(NO7,"FUN|Eff"+I2S(bj_forLoopAIndex)))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifcall K_7(NO7)call NM7(t)call KillUnit(ZF7)set I04=p5set E3=p5set V3=SR7set g=TL7()call GroupEnumUnitsInRange(g,x,y,I4E+25,Condition(function Y47))call ForGroup(g,function H5E)call T67(g)set g=nullelsecall SetUnitX(ZF7,x)call SetUnitY(ZF7,y)set I04=p5set E3=p5set V3=SR7set g=TL7()call GroupEnumUnitsInRange(g,x,y,300,Condition(function Y47))call ForGroup(g,function H2E)call T67(g)set g=nullendifset t=nullset ZF7=nullset p5=nullreturn falseendfunctionfunction I8E takes unit p5,real x,real y,real I9E,effect FX,fogmodifier I7E returns nothinglocal real l4=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZF7=CreateUnit(GetOwningPlayer(p5),'h0B6',GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)local integer SR7=GetUnitAbilityLevel(p5,'A1MI')local real I4E=VB7(225+25*I9E*2,1000)local real UPD=J87(GetUnitX(p5),GetUnitY(p5),x,y)if IsUnitEnemy(ZF7,GetLocalPlayer())and TV7(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(ZF7,true)endifcall TriggerRegisterTimerEvent(t,VB7(2.0/(UPD/ 30),0.04),true)call TriggerAddCondition(t,Condition(function H_E))call MF7(NO7,"Projectile",ZF7)call M97(NO7,"TargetX",x*1.0)call M97(NO7,"TargetY",y*1.0)call M97(NO7,"Angle",l4*1.0)call M97(NO7,"AOE",I4E*1.0)call M87(NO7,"Level",SR7)call MF7(NO7,"Source",p5)call MJ7(NO7,"Fog",I7E)call MG7(NO7,"FX",FX)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1MI',true)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1MN',false)if DO7 thenset D97=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(p5))thenset D97=DQ7endifset bj_forLoopAIndex=0set bj_forLoopAIndexEnd=R2I(I4E/100)+10loopexitwhen bj_forLoopAIndex>=bj_forLoopAIndexEndset DD7=I2R(bj_forLoopAIndex)*(6.2831853/I2R(bj_forLoopAIndexEnd))call MG7(NO7,"FUN|Eff"+I2S(bj_forLoopAIndex),AddSpecialEffect(D97,x+Cos(DD7)*I4E,y+Sin(DD7)*I4E))set bj_forLoopAIndex=bj_forLoopAIndex+1endloopcall M87(NO7,"FUN|EffNum",bj_forLoopAIndexEnd)endifset t=nullset ZF7=nullendfunctionfunction IDE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZF7=MZ7(NO7,"Projectile")local unit p5=MZ7(NO7,"Source")local real l4=N47(NO7,"Angle")local real xlocal real ylocal real I9E=TimerGetElapsed(P)-N47(NO7,"CastTime")local string slocal fogmodifier I7Elocal effect FXlocal real IEE=GetUnitX(ZF7)+30*Cos(l4)local real IFE=GetUnitY(ZF7)+30*Sin(l4)local boolean J4local integer iset x=VK7(IEE)set y=VM7(IFE)call SetUnitX(ZF7,x)call SetUnitY(ZF7,y)if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1MN')or x!=IEE or y!=IFE thencall K_7(NO7)call NM7(t)call RemoveUnit(ZF7)set s=""if IsPlayerAlly(GetOwningPlayer(p5),GetLocalPlayer())or TV7(GetLocalPlayer())thenset s="war3mapImported\\IceWindGroundFX.mdl"endifset I7E=CreateFogModifierRadius(GetOwningPlayer(p5),FOG_OF_WAR_VISIBLE,x,y,500,true,true)call FogModifierStart(I7E)set FX=AddSpecialEffect(s,x,y)call I8E(p5,x,y,I9E,FX,I7E)set I7E=nullset FX=nullelseif R97(GetOwningPlayer(p5))thenset DD7=J87(x,y,N47(NO7,"AI|TgtX"),N47(NO7,"AI|TgtY"))if DD7>N47(NO7,"AI|MaxDist")or N77(NO7,"AI|Blast")thenif JC7(p5)thencall K37(p5,852526,'A1MN')elsecall ME7(NO7,"AI|Blast",true)endifelsecall M97(NO7,"AI|MaxDist",DD7)if Bz>N47(NO7,"AI|NextUp")thencall M97(NO7,"AI|NextUp",Bz+1)set J4=falseset i=M_7(GetHandleId(p5),"AI|IBClose")if(i==1)thenset J4=(UD7(p5,MZ7(GetHandleId(p5),"AI|IBTgt"),500.,0.02,1500.)!=null)elseif(i==0)thenset J4=(UD7(p5,MZ7(GetHandleId(p5),"AI|IBTgt"),1500.,2.02,99999.)!=null)elseif(i==2)thencall jv(MZ7(GetHandleId(p5),"AI|IBTgt"))call MoveLocation(FD7,GetLocationX(HA),GetLocationY(HA))endifif J4 thencall M97(NO7,"AI|TgtX",GetLocationX(FD7))call M97(NO7,"AI|TgtY",GetLocationY(FD7))call M97(NO7,"AI|MaxDist",99999.)endifendifendifendifset t=nullset ZF7=nullset p5=nullreturn falseendfunctionfunction IGE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZF7=CreateUnit(GetOwningPlayer(p5),'H0B8',GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)if IsUnitEnemy(ZF7,GetLocalPlayer())and TV7(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(ZF7,true)endifcall MF7(NO7,"Projectile",ZF7)call MF7(NO7,"Source",p5)call M97(NO7,"Angle",a*1.0)call M97(NO7,"CastTime",TimerGetElapsed(P)*1.0)if R97(GetOwningPlayer(p5))thencall M97(NO7,"AI|TgtX",x)call M97(NO7,"AI|TgtY",y)call M97(NO7,"AI|MaxDist",99999.)call M97(NO7,"AI|NextUp",Bz+1)endifcall TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function IDE))call SetUnitColor(ZF7,GetPlayerColor(Player(14)))call RemoveLocation(l)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1MI',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1MN',true)call UW7(p5,'A1MN')if R97(GetOwningPlayer(p5))thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1MN',false)endifset p5=nullset l=nullset t=nullset ZF7=nullendfunctionfunction IHE takes nothing returns booleanif GetSpellAbilityId()=='A1MI' thencall IGE()endifreturn falseendfunctionfunction JV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IHE))set t=nullendfunctionfunction IIE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local integer IJE=M_7(GetHandleId(p5),"ChillingCounter")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and GetEventDamage()>1 thencall DisableTrigger(t)if IJE>0 thencall M87(GetHandleId(p5),"ChillingCounter",IJE-1)call WD7("+"+I2S(30+10*SR7),1,p5,0.024,100,200,255,255)call ZO7(p5,m5,Y84,30+10*SR7)endifcall K_7(NO7)call NM7(t)endifelsecall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction IKE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=X3if GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenset p5=GetAttacker()endifif GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED or(M_7(GetHandleId(p5),"ChillingCounter")==0 and GetUnitAbilityLevel(p5,'A1HN')>0)thencall DestroyEffect(ML7(GetHandleId(p5),"fx1"))call DestroyEffect(ML7(GetHandleId(p5),"fx2"))call M87(GetHandleId(p5),"ChillingCounter",0)call K_7(NO7)if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED thencall NM7(t)endifcall UnitRemoveAbility(p5,'A1HN')call UnitRemoveAbility(p5,'B0CJ')call UnitRemoveAbility(p5,'A1IP')elseif GetUnitAbilityLevel(p5,'A1HN')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and NF7(p5,"ChillingTouchState")==false thencall NQ7(p5,"ChillingTouchState",0.4)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.0,false)call TriggerAddCondition(t,Condition(function IIE))call MF7(NO7,"Target",GetTriggerUnit())call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)endifset t=nullset p5=nullreturn falseendfunctionfunction IME takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A1HQ')set X3=SR7call UW7(m5,'A1HN')call UW7(m5,'A1IP')call M87(GetHandleId(m5),"ChillingCounter",1+SR7)call MF7(NO7,"Source",m5)call MG7(GetHandleId(m5),"fx1",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"right,hand"))call MG7(GetHandleId(m5),"fx2",AddSpecialEffectTarget("war3mapImported\\FrostHands.mdx",m5,"left,hand"))call TriggerRegisterTimerEvent(t,40,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function IKE))set p5=nullset m5=nullset t=nullendfunctionfunction INE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=TL7()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call RemoveLocation(l)call DestroyEffect(AddSpecialEffect("war3mapImported\\IcyWind.mdl",x,y))call GroupEnumUnitsInRange(g,x,y,475,Condition(function Z87))call ForGroup(g,function IME)call T67(g)set p5=nullset g=nullset l=nullendfunctionfunction IOE takes nothing returns booleanif GetSpellAbilityId()=='A1HQ' thencall INE()endifreturn falseendfunctionfunction JX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IOE))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function IKE))set t=nullendfunctionfunction IPE takes nothing returns nothingcall ZO7(A3,GetEnumUnit(),Y84,(GetUnitAbilityLevel(A3,'A1IM')*75)/10)endfunctionfunction IQE takes unit X97 returns nothinglocal real IRE=(GetUnitAbilityLevel(X97,'A1IM')*75)/2set IRE=IRE/10.0if GetUnitState(X97,UNIT_STATE_LIFE)<=IRE*0.75 thenset IRE=GetUnitState(X97,UNIT_STATE_LIFE)/0.75-10endifcall ZO7(X97,X97,Y84,IRE)endfunctionfunction ISE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit X97=MZ7(NO7,"Source")local real x=GetUnitX(X97)local real y=GetUnitY(X97)local group glocal real V37local unit ZM7local integer SR7=0local integer S08=GetTriggerEvalCount(t)if GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)return falseelseif GetTriggerEvalCount(t)==1 thenset ZM7=CreateUnit(GetOwningPlayer(X97),'h0B2',x,y,0)call UnitApplyTimedLife(ZM7,'BTLF',1)set ZM7=nullcall TriggerRegisterTimerEvent(t,0.1,true)set g=TL7()set A3=X97set I04=X97call GroupEnumUnitsInRange(g,x,y,350,Condition(function Y47))call ForGroup(g,function IPE)call IQE(X97)call T67(g)elseif S08==10 thencall K_7(NO7)call NM7(t)endifset g=TL7()set A3=X97set I04=X97call GroupEnumUnitsInRange(g,x,y,350,Condition(function Y47))call ForGroup(g,function IPE)call IQE(X97)call T67(g)call VO8(X97)call VK8(X97,0,0)endifendifset t=nullset g=nullset X97=nullreturn falseendfunctionfunction ITE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local real V37=(GetUnitAbilityLevel(p5,'A1IM')*75)/ 2call TriggerRegisterTimerEvent(t,1.5,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ISE))call MF7(NO7,"Source",p5)set t=nullset p5=nullendfunctionfunction IUE takes nothing returns booleanif GetSpellAbilityId()=='A1IM' thencall ITE()endifreturn falseendfunctionfunction JB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IUE))set t=nullendfunctionfunction IVE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local player IWElocal integer SR7=GetUnitAbilityLevel(p5,'A1IN')local integer MainLevel=GetUnitAbilityLevel(p5,'A1IN')local real Z_7=TimerGetElapsed(P)local real IXE=N47(NO7,"Buffer1")local real IYE=N47(NO7,"Buffer2")if UY7(p5)thenset t=nullset p5=nullreturn falseendifif Q_7(GetOwningPlayer(p5))thenset IWE=Z7[1]elseset IWE=Y7[1]endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetOwningPlayer(GetEventDamageSource())==A7 thenif GetUnitAbilityLevel(p5,'A1IE')>0 thencall UnitRemoveAbility(p5,'A1IE')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IF')>0 thencall UnitRemoveAbility(p5,'A1IF')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IG')>0 thencall UnitRemoveAbility(p5,'A1IG')call UnitRemoveAbility(p5,'B0C9')endifcall M97(NO7,"NightcrawlerTime",(Z_7+2)*1.0)set t=nullset p5=nullreturn falseendifif N47(NO7,"NightcrawlerTime")>Z_7 thenset t=nullset p5=nullreturn falseendifif IsUnitVisible(p5,IWE)or GetUnitAbilityLevel(p5,'BNdo')>0 thenset IYE=0if GetUnitAbilityLevel(p5,'A1IE')>0 or GetUnitAbilityLevel(p5,'A1IF')>0 or GetUnitAbilityLevel(p5,'A1IG')>0 thenset IXE=IXE+0.1if IXE>0.4 thenset IXE=0if GetUnitAbilityLevel(p5,'A1IE')>0 thencall UnitRemoveAbility(p5,'A1IE')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IF')>0 thencall UnitRemoveAbility(p5,'A1IF')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IG')>0 thencall UnitRemoveAbility(p5,'A1IG')call UnitRemoveAbility(p5,'B0C9')endifendifendifcall M97(NO7,"Buffer1",IXE*1.0)call M97(NO7,"Buffer2",IYE*1.0)elseif IsUnitVisible(p5,IWE)==false thenset IXE=0if(SR7==1 and GetUnitAbilityLevel(p5,'A1IE')==0)or(SR7==2 and GetUnitAbilityLevel(p5,'A1IF')==0)or(SR7==3 and GetUnitAbilityLevel(p5,'A1IG')==0)thenset IYE=IYE+0.1if IYE>0.6 thenset IYE=0if SR7==1 thenif GetUnitAbilityLevel(p5,'A1IE')==0 thencall UW7(p5,'A1IE')endifendifif SR7==2 thenif GetUnitAbilityLevel(p5,'A1IE')>0 thencall UnitRemoveAbility(p5,'A1IE')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IF')==0 thencall UW7(p5,'A1IF')endifendifif SR7==3 thenif GetUnitAbilityLevel(p5,'A1IE')>0 thencall UnitRemoveAbility(p5,'A1IE')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IF')>0 thencall UnitRemoveAbility(p5,'A1IF')call UnitRemoveAbility(p5,'B0C9')endifif GetUnitAbilityLevel(p5,'A1IG')==0 thencall UW7(p5,'A1IG')endifendifendifendifcall M97(NO7,"Buffer1",IXE*1.0)call M97(NO7,"Buffer2",IYE*1.0)endifset t=nullset p5=nullset IWE=nullreturn falseendfunctionfunction IZE takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call M97(NO7,"Buffer1",0*1.0)call M97(NO7,"Buffer2",0*1.0)call M97(NO7,"NightcrawlerTime",TimerGetElapsed(P)*1.0)call MF7(NO7,"Source",TX7)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function IVE))call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1IE',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1IF',false)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A1IG',false)set t=nullendfunctionfunction IAE takes nothing returns booleanif GetLearnedSkill()=='A1IN' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1IN')==1 thencall IZE(GetTriggerUnit(),false)endifreturn falseendfunctionfunction JA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function IAE))set t=nullendfunctionfunction IBE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=GetDyingUnit()if GetOwningPlayer(GetKillingUnit())==GetOwningPlayer(X97)and IsUnitType(U47,UNIT_TYPE_HERO)==true and IsUnitIllusion(U47)==false thenendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction ICE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer I3E=(LoadInteger(C7,(V_7),(422)))local integer I6E=(LoadInteger(C7,(V_7),(423)))local integer NKD=(LoadInteger(C7,(V_7),(424)))if GetTriggerEventId()==EVENT_UNIT_DEATH thenif(LoadBoolean(C7,(V_7),(276)))==false and GetTriggerUnit()==X97 thencall SaveBoolean(C7,(V_7),(276),(true))call SetHeroAgi(X97,GetHeroAgi(X97,false)-I3E-I6E-NKD,true)elseif(LoadBoolean(C7,(V_7),(277)))==false and GetTriggerUnit()==U47 thencall SaveBoolean(C7,(V_7),(277),(true))call SetHeroAgi(U47,GetHeroAgi(U47,false)+I3E,true)call SetHeroStr(U47,GetHeroStr(U47,false)+I6E,true)call SetHeroInt(U47,GetHeroInt(U47,false)+NKD,true)endifelseif(LoadBoolean(C7,(V_7),(276)))==false thencall SaveBoolean(C7,(V_7),(276),(true))call SetHeroAgi(X97,GetHeroAgi(X97,false)-I3E-I6E-NKD,true)endifif(LoadBoolean(C7,(V_7),(277)))==false thencall SaveBoolean(C7,(V_7),(277),(true))call SetHeroAgi(U47,GetHeroAgi(U47,false)+I3E,true)call SetHeroStr(U47,GetHeroStr(U47,false)+I6E,true)call SetHeroInt(U47,GetHeroInt(U47,false)+NKD,true)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction ILE takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A1HR')local integer I1E=TW7(U47)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer I3Elocal integer I6Elocal integer NKDlocal real J5Dif I1E==2 thenset I3E=IMinBJ(GetHeroAgi(U47,false)-1,1)set I6E=IMinBJ(GetHeroStr(U47,false)-1,1)set NKD=IMinBJ(GetHeroInt(U47,false)-1,1)elseif I1E==3 thenset I3E=IMinBJ(GetHeroAgi(U47,false)-1,1)set I6E=IMinBJ(GetHeroStr(U47,false)-1,1)set NKD=IMinBJ(GetHeroInt(U47,false)-1,1)elseif I1E==1 thenset I3E=IMinBJ(GetHeroAgi(U47,false)-1,1)set I6E=IMinBJ(GetHeroStr(U47,false)-1,1)set NKD=IMinBJ(GetHeroInt(U47,false)-1,1)endifcall SetHeroAgi(X97,GetHeroAgi(X97,false)+I3E+NKD+I6E,true)call SetHeroAgi(U47,GetHeroAgi(U47,false)-I3E,true)call SetHeroStr(U47,GetHeroStr(U47,false)-I6E,true)call SetHeroInt(U47,GetHeroInt(U47,false)-NKD,true)call SaveInteger(C7,(V_7),(422),(I3E))call SaveInteger(C7,(V_7),(424),(NKD))call SaveInteger(C7,(V_7),(423),(I6E))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveBoolean(C7,(V_7),(276),(false))call SaveBoolean(C7,(V_7),(277),(false))if ZN7==1 thenset J5D=15elseif ZN7==2 thenset J5D=30elseif ZN7==3 thenset J5D=60elseif ZN7==4 thenset J5D=120endifcall TriggerRegisterTimerEvent(t,J5D,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ICE))set t=nullendfunctionfunction I0E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall ILE(X97,U47)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction I5E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer PT9=(LoadInteger(C7,(V_7),(30)))local unit U47=QL7(PT9)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall DisableTrigger(t)call Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function I0E))call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))endifelsecall Q67(PT9)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction I2E takes nothing returns nothinglocal trigger t=CreateTrigger()local unit U47=GetTriggerUnit()local unit X97=GetAttacker()local integer V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function I5E))call SaveInteger(C7,(V_7),(30),(Q07(U47)))call SaveUnitHandle(C7,(V_7),(2),(X97))set U47=nullset X97=nullset t=nullendfunctionfunction I_E takes nothing returns nothinglocal unit X97=GetAttacker()if NF7(X97,"CooldownState")==false thencall NQ7(X97,"CooldownState",0.45-GetUnitAbilityLevel(GetAttacker(),'A1HR')*0.05)call I2E()endifendfunctionfunction J4E takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A1HR')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==(LoadUnitHandle(C7,(GetHandleId(GetTriggeringTrigger())),(14)))and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall I_E()endifreturn falseendfunctionfunction J7E takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function J4E))call SaveUnitHandle(C7,(GetHandleId(t)),(14),(GetTriggerUnit()))set t=CreateTrigger()set V_7=GetHandleId(t)call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function IBE))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))set t=nullendfunctionfunction J8E takes nothing returns booleanif GetLearnedSkill()=='A1HR' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A1HR')==1 thencall J7E()endifreturn falseendfunctionfunction JY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function J8E))set t=nullendfunctionfunction J9E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local integer SR7=M_7(NO7,"Level")if GetTriggerEvalCount(t)>5.5/0.03 thencall KillUnit(ZM7)call K_7(NO7)call NM7(t)elsecall SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))endifset t=nullset p5=nullset ZM7=nullreturn falseendfunctionfunction JDE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A1IN')local real d=5.5local unit ZM7=CreateUnit(GetOwningPlayer(p5),'h0B1',GetUnitX(p5),GetUnitY(p5),0)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call XJ7(p5,'A1HW',1,d)call XJ7(p5,'A1HX',1,d)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function J9E))call MF7(NO7,"Caster",ZM7)call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)set p5=nullset ZM7=nullset t=nullendfunctionfunction JEE takes nothing returns booleanif GetSpellAbilityId()=='A1IN' thencall JDE()endifreturn falseendfunctionfunction JZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JEE))set t=nullendfunctionfunction JFE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer P79=GetTriggerEvalCount(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local lightning JGE=M17(NO7,"Lightning")local integer SR7=M_7(NO7,"Level")local real t5=N47(NO7,"SourceX")local real w5=N47(NO7,"SourceY")local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real JHElocal real JIElocal real AUD=N47(NO7,"LastX")local real AVD=N47(NO7,"LastY")local real l4local real UPD=J87(AUD,AVD,Y5,Z5)call M97(NO7,"LastX",Y5)call M97(NO7,"LastY",Z5)if UPD>100 or P79>(3.5/ .03)or TU7(m5)==true thencall DestroyLightning(JGE)call K_7(NO7)call NM7(t)elsecall MoveLightning(JGE,true,t5,w5,Y5,Z5)if J87(t5,w5,Y5,Z5)>325 thenset l4=Atan2(Z5-w5,Y5-t5)set JHE=t5+(325)*Cos(l4)set JIE=w5+(325)*Sin(l4)call SetUnitX(m5,JHE)call SetUnitY(m5,JIE)endifendifset t=nullset p5=nullset m5=nullset JGE=nullreturn falseendfunctionfunction JJE takes unit X97,unit U47,integer ZN7 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local lightning Z8D=AddLightning("PONC",true,GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))call SetLightningColor(Z8D,1,1,1,1)call SaveLightningHandle(C7,(V_7),StringHash("Lightning"),(Z8D))call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)call M87(V_7,"Level",ZN7)call M97(V_7,"SourceX",GetUnitX(X97)*1.0)call M97(V_7,"SourceY",GetUnitY(X97)*1.0)call M97(V_7,"LastX",GetUnitX(U47)*1.0)call M97(V_7,"LastY",GetUnitY(U47)*1.0)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JFE))call ZO7(X97,U47,Y84,70*ZN7)call IssueTargetOrder(X97,"attack",U47)set t=nullset Z8D=nullendfunctionfunction JKE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer S08=GetTriggerEvalCount(t)local integer ZN7=M_7(V_7,"Level")local unit X97=MZ7(V_7,"Source")local real Q99=N47(V_7,"Angle")local real GFE=N47(V_7,"SourceX")local real GGE=N47(V_7,"SourceY")local real WR7=N47(V_7,"TargetX")local real WS7=N47(V_7,"TargetY")local real WV7=GFE+(30*(20+4*2)/30)*S08*Cos(Q99*bj_DEGTORAD)local real WW7=GGE+(30*(20+4*2)/30)*S08*Sin(Q99*bj_DEGTORAD)local real JME=SquareRoot((WV7-WR7)*(WV7-WR7)+(WW7-WS7)*(WW7-WS7))local real JNE=700local real JOE=175local real JPE=(1-JME/ JNE)*JOE*2local group g=TL7()local unit U47if S08==1 thencall SetUnitAnimationByIndex(X97,5)call SetUnitTimeScale(X97,1.5)endifif JPE>JOE thencall SetUnitAnimationByIndex(X97,5)set JPE=JOE*2-JPEendifcall SetUnitFlyHeight(X97,VC7(JPE,0),0)call SetUnitX(X97,VK7(WV7))call SetUnitY(X97,VM7(WW7))call SetUnitFacing(X97,Q99)set I04=X97call GroupEnumUnitsInRange(g,WV7,WW7,120,Condition(function YS7))set U47=FirstOfGroup(g)call T67(g)if JME<30 or U47!=null or GetTriggerEvalCount(t)>75 thencall SetUnitFlyHeight(X97,0,0)call SetUnitFacing(X97,Q99)call SetUnitTimeScale(X97,1)call SetUnitAnimation(X97,"stand")call SetUnitPathing(X97,true)call UnitRemoveAbility(X97,'A1J6')call WK7(GetUnitX(X97),GetUnitY(X97),100)if U47!=null and TU7(U47)==false thencall NQ7(U47,"4408",5)call JJE(X97,U47,ZN7)endifcall K_7(V_7)call NM7(t)endifset t=nullset X97=nullset U47=nullset g=nullreturn falseendfunctionfunction JQE takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A1J7')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real JRE=700local real Q99=GetUnitFacing(X97)local real V59=GetUnitX(X97)local real V29=GetUnitY(X97)local real WR7=VK7(V59+JRE*Cos(Q99*bj_DEGTORAD))local real WS7=VM7(V29+JRE*Sin(Q99*bj_DEGTORAD))call UW7(X97,'Amrf')call UnitRemoveAbility(X97,'Amrf')call SetUnitPathing(X97,false)call UW7(X97,'A1J6')call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function JKE))call MF7(V_7,"Source",X97)call M87(V_7,"Level",ZN7)call M97(V_7,"Angle",Q99*1.0)call M97(V_7,"SourceX",V59*1.0)call M97(V_7,"SourceY",V29*1.0)call M97(V_7,"TargetX",WR7*1.0)call M97(V_7,"TargetY",WS7*1.0)set X97=nullset t=nullendfunctionfunction JSE takes nothing returns booleanif GetSpellAbilityId()=='A1J7' thencall JQE()endifreturn falseendfunctionfunction JC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JSE))set t=nullendfunctionfunction JTE takes nothing returns nothinglocal integer NO7=GetHandleId(GetTriggeringTrigger())local unit p5=I04local unit m5=I_4local real V37=N47(NO7,"Damage")call ZO7(p5,m5,Y84,V37)set p5=nullset m5=nullendfunctionfunction JUE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local trigger t=WX7(p5,m5,'h0BP',"JTE",700)local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(p5,'A04A')local real R09if ZN7==1 thenset R09=85elseif ZN7==2 thenset R09=165elseif ZN7==3 thenset R09=225elseif ZN7==4 thenset R09=300endifcall M97(V_7,"Damage",R09)set p5=nullset m5=nullset t=nullendfunctionfunction JVE takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local integer ZN7=GetUnitAbilityLevel(X97,'A04A')call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),500,Condition(function YK7))call ForGroup(g,function JUE)call T67(g)call PlaySoundOnUnitBJ(GP,100,X97)set X97=nullset g=nullendfunctionfunction JWE takes nothing returns booleanif GetSpellAbilityId()=='A04A' thencall JVE()endifreturn falseendfunctionfunction J38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JWE))set t=nullendfunctionfunction JXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall K_7(NO7)call NM7(t)elsecall K_7(NO7)call NM7(t)call JN7(p5)endifset t=nullset p5=nullreturn falseendfunctionfunction JYE takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A00P')call TriggerRegisterTimerEvent(t,1+1.75+0.75*SR7,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function JXE))call MF7(NO7,"Source",p5)set p5=nullset t=nullendfunctionfunction JZE takes nothing returns booleanif GetSpellAbilityId()=='A00P' thencall JYE()endifreturn falseendfunctionfunction J68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JZE))set t=nullendfunctionfunction JAE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>(15+5*ZN7)or TU7(X97)thencall NJ7(X97,"IcarusDive|Disarmed")call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))if NF7(X97,"SunRay|Disarmed")==false thencall UnitRemoveAbility(X97,'Abun')endifcall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction JBE takes unit X97,integer ZN7 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UnitAddAbility(X97,'Abun')call UnitMakeAbilityPermanent(X97,true,'Abun')call NH7(X97,"IcarusDive|Disarmed")call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function JAE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\TalkToMe\\TalkToMe.mdl",X97,"overhead")))set t=nullendfunctionfunction JCE takes nothing returns booleanif IsUnitInGroup(GetEnumUnit(),WZ4)==false and TU7(GetEnumUnit())==false thencall GroupAddUnit(WZ4,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireBlast.mdx",GetEnumUnit(),"chest"))call ZO7(WB4,GetEnumUnit(),Y84,50+50*WA4)if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall JBE(GetEnumUnit(),WA4)endifendifreturn falseendfunctionfunction J3E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer S08=(LoadInteger(C7,(V_7),(34)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real V59=(LoadReal(C7,(V_7),(189)))local real V29=(LoadReal(C7,(V_7),(190)))local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local real a=(LoadReal(C7,(V_7),(13)))local real J6E=(1-I2R(S08)/50)*bj_PIlocal real JLE=W34/2*Cos(J6E)local real J1E=WC4/2*Sin(J6E)local real x=VK7(WR7+JLE*Cos(a)-J1E*Sin(a))local real y=VM7(WS7+JLE*Sin(a)+J1E*Cos(a))local group QK9=(LoadGroupHandle(C7,(V_7),(133)))local group glocal integer ZN7=GetUnitAbilityLevel(X97,'A1RJ')if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and S08>0)or S08>100 or V88(X97)thencall WK7(x,y,300)call SetUnitVertexColor(X97,255,255,255,255)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1RJ' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1RJ',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A20N',false)call SetUnitPathing(X97,true)call T67(QK9)call FlushChildHashtable(C7,(V_7))call NM7(t)elseif ModuloInteger(S08,10)==0 thencall WK7(x,y,200)endifcall SaveInteger(C7,(V_7),(34),(S08+1))call SetUnitX(X97,x)call SetUnitY(X97,y)call SetUnitFacing(X97,(a+J6E-bj_PI/2)*bj_RADTODEG)set g=TL7()set WZ4=QK9set I04=X97set WB4=X97set WA4=GetUnitAbilityLevel(X97,'A1RJ')call GroupEnumUnitsInRange(g,x,y,325,Condition(function YF7))call ForGroup(g,function JCE)call T67(g)endifset t=nullset X97=nullset g=nullset QK9=nullreturn falseendfunctionfunction J0E takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real V59=GetUnitX(X97)local real V29=GetUnitY(X97)local real a=W77(V59,V29,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal real WR7=V59+1400/2*Cos(a)local real WS7=V29+1400/2*Sin(a)call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)-GetUnitState(X97,UNIT_STATE_LIFE)*0.1)call NQ7(X97,"DashState1",2)call NQ7(X97,"DashState2",2)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J3E))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(189),((V59)*1.0))call SaveReal(C7,(V_7),(190),((V29)*1.0))call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))call SaveReal(C7,(V_7),(13),((a)*1.0))call SaveGroupHandle(C7,(V_7),(133),(TL7()))call SetUnitPathing(X97,false)call SetUnitVertexColor(X97,255,255,255,50)call UW7(X97,'A20N')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1RJ',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A20N',true)set t=nullset X97=nullendfunctionfunction J5E takes nothing returns booleanif GetSpellAbilityId()=='A1RJ' thencall J0E()endifreturn falseendfunctionfunction JL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function J5E))set t=nullendfunctionfunction J2E takes nothing returns nothinglocal unit X97=X74local unit U47=GetEnumUnit()call ZO7(X97,U47,Y84,40+20*X84)call V57("Doodads\\Cinematic\\FireTrapUp\\FireTrapUp.mdl",U47,"origin",1)set X97=nullset U47=nullendfunctionfunction J_E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A1RK')local group gif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseset I04=X97set X74=X97set X84=ZN7set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1025,Condition(function Y47))call ForGroup(g,function J2E)call T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction K4E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit K7E=(LoadUnitHandle(C7,(V_7),(589)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif IsUnitIllusion(GetEventDamageSource())==true thencall V67(K7E,GetEventDamage())endifelseif GetUnitX(K7E)!=x or GetUnitY(K7E)!=y thencall SetUnitPosition(K7E,x,y)endifif GetUnitY(X97)!=x or GetUnitY(X97)!=y thencall SetUnitPosition(X97,x,y)endifendifif GetTriggerEvalCount(t)==1 thencall PauseUnit(X97,true)endifset t=nullset K7E=nullset X97=nullreturn falseendfunctionfunction K8E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit K9E=(LoadUnitHandle(C7,(V_7),(588)))local unit K7E=(LoadUnitHandle(C7,(V_7),(589)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local unit KDE=(LoadUnitHandle(C7,(V_7),(239)))local integer ZN7=GetUnitAbilityLevel(X97,'A1RK')local group glocal unit ZM7if GetTriggerEventId()==EVENT_UNIT_DEATH thencall StopSound(U94,false,false)call ShowUnit(K9E,false)call ShowUnit(KDE,false)call FlushChildHashtable(C7,(V_7))call NM7(t)call ShowUnit(X97,true)call UnitRemoveAbility(X97,'A04R')call SetUnitInvulnerable(X97,false)call PauseUnit(X97,false)if GetLocalPlayer()==GetOwningPlayer(X97)thencall ClearSelection()call SelectUnit(X97,true)endifcall SetUnitState(X97,UNIT_STATE_LIFE,1)set ZM7=CreateUnit(GetOwningPlayer(GetKillingUnit()),'e00E',0,0,0)call UnitRemoveBuffs(X97,true,true)call UnitRemoveAbility(X97,'Aetl')call UnitDamageTarget(ZM7,X97,100000000.00,true,false,ATTACK_TYPE_MELEE,DAMAGE_TYPE_NORMAL,WEAPON_TYPE_WHOKNOWS)set ZM7=nullelseif GetTriggerEvalCount(t)==1 thencall SetUnitFlyHeight(K7E,0,200)elseif GetTriggerEvalCount(t)==2 thencall PauseUnit(K7E,false)call UnitApplyTimedLife(K7E,'BTLF',0.1)call StopSound(U94,false,false)call StartSound(UD4)call DestroyEffect(AddSpecialEffect("war3mapImported\\FireNova2.mdx",GetUnitX(K9E),GetUnitY(K9E)))call FlushChildHashtable(C7,(V_7))call NM7(t)call ShowUnit(X97,true)call UnitRemoveAbility(X97,'A04R')call SetUnitInvulnerable(X97,false)call SetUnitAnimationByIndex(X97,8)call QueueUnitAnimation(X97,"idle")call PauseUnit(X97,false)if GetLocalPlayer()==GetOwningPlayer(X97)thencall ClearSelection()call SelectUnit(X97,true)endifcall ShowUnit(K9E,false)call ShowUnit(KDE,false)call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_MAX_LIFE))call SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MAX_MANA))set ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UW7(ZM7,'A1ZT')call SetUnitAbilityLevel(ZM7,'A1ZT',ZN7)call IssueImmediateOrder(ZM7,"stomp")set ZM7=nullendifendifset t=nullset X97=nullset K9E=nullset KDE=nullset K7E=nullreturn falseendfunctionfunction KEE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit K9Elocal unit K7Elocal unit KDE=CreateUnit(GetOwningPlayer(X97),'h0CL',GetUnitX(X97),GetUnitY(X97),0)local integer ZN7=GetUnitAbilityLevel(X97,'A1RK')local unit ZM7set K9E=CreateUnit(GetOwningPlayer(X97),'h0BX',x,y,0)if ZN7==1 thenset K7E=CreateUnit(GetOwningPlayer(X97),'h0CV',x,y,0)elseif ZN7==2 thenset K7E=CreateUnit(GetOwningPlayer(X97),'h0CX',x,y,0)elseif ZN7==3 thenset K7E=CreateUnit(GetOwningPlayer(X97),'h0CW',x,y,0)endifcall AddSpecialEffectTarget("war3mapImported\\PhoenixDown_2.mdl",K9E,"origin")if GetLocalPlayer()==GetOwningPlayer(X97)thencall ClearSelection()call SelectUnit(K7E,true)endifcall WK7(x,y,400)call ShowUnit(X97,false)call UW7(X97,'A04R')call VK8(X97,0,0)call SetUnitInvulnerable(X97,true)call UnitRemoveBuffs(X97,true,true)call StartSound(U94)call UnitRemoveAbility(K7E,'Arav')call UnitApplyTimedLife(K9E,'BTLF',6.1)call UnitApplyTimedLife(KDE,'BTLF',6.1)call UnitApplyTimedLife(K7E,'BTLF',6.1)call TriggerRegisterTimerEvent(t,5.2,false)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function K8E))call TriggerRegisterUnitEvent(t,K7E,EVENT_UNIT_DEATH)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(588),(K9E))call SaveUnitHandle(C7,(V_7),(589),(K7E))call SaveUnitHandle(C7,(V_7),(239),(KDE))call SaveReal(C7,(V_7),(6),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(X97))*1.0))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,K7E,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function J_E))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,.02,true)call TriggerRegisterUnitEvent(t,K7E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,K7E,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function K4E))call SaveUnitHandle(C7,(V_7),(589),(K7E))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(X97))*1.0))set t=nullset X97=nullset K9E=nullset K7E=nullendfunctionfunction KFE takes nothing returns booleanif GetSpellAbilityId()=='A1RK' thencall KEE()endifreturn falseendfunctionfunction J_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KFE))call VQ7('A0X6')call VQ7('A1ZT')set t=nullendfunctionfunction KGE takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+Z_4)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BirdShitTarget_1.mdx",GetEnumUnit(),"origin"))endfunctionfunction KHE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local group glocal integer ZN7=GetUnitAbilityLevel(X97,'A27B')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))call FlushChildHashtable(C7,(V_7))call NM7(t)set g=TL7()set Z_4=50+75*ZN7set I04=X97call GroupEnumUnitsInRange(g,x,y,425,Condition(function YQ7))call ForGroup(g,function KGE)call T67(g)set t=nullset X97=nullset g=nullreturn falseendfunctionfunction KIE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call TriggerRegisterTimerEvent(t,3,false)call TriggerAddCondition(t,Condition(function KHE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))if IsPlayerAlly(GetOwningPlayer(X97),GetLocalPlayer())or TV7(GetLocalPlayer())thencall SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\BirdShit_1.mdx",x,y)))elsecall SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("",x,y)))endifif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))or TV7(GetLocalPlayer())thencall PingMinimapEx(x,y,3,255,0,0,false)call WN7(WV4,x,y)endifcall WP7(GetOwningPlayer(X97),4,x,y,500)call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)*0.9)set t=nullset X97=nullendfunctionfunction KJE takes nothing returns booleanif GetSpellAbilityId()=='A27B' thencall KIE()endifreturn falseendfunctionfunction J18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KJE))set t=nullendfunctionfunction KKE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall UnitRemoveAbility(U47,'A270')call UnitRemoveAbility(U47,'B0EK')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEvalCount(t)>4 thencall UnitRemoveAbility(U47,'A270')call UnitRemoveAbility(U47,'B0EK')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call ZO7(X97,U47,Y84,16+12*ZN7)elsecall ZO7(X97,U47,Y84,16+12*ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction KME takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real P39=(LoadReal(C7,(V_7),(23)))local real P69=(LoadReal(C7,(V_7),(24)))local real a=(LoadReal(C7,(V_7),(137)))local real x=P39+12*Cos(a)local real y=P69+12*Sin(a)call SetUnitX(U47,x)call SetUnitY(U47,y)call SaveReal(C7,(V_7),(23),((x)*1.0))call SaveReal(C7,(V_7),(24),((y)*1.0))if GetTriggerEvalCount(t)>25 thencall WK7(x,y,100)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction KNE takes unit X97,unit U47,real x,real y,real a returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A271')call SetUnitPosition(U47,GetUnitX(U47),GetUnitY(U47))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(137),((a*bj_DEGTORAD)*1.0))call SaveReal(C7,(V_7),(23),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(U47))*1.0))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function KME))set t=CreateTrigger()set V_7=GetHandleId(t)call SaveInteger(C7,(V_7),(5),(ZN7))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",U47,"chest")))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function KKE))call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A270',false)call UW7(U47,'A270')set t=nullendfunctionfunction KOE takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),A44)==false thenif J77(A84,GetEnumUnit())<24 or RAbsBJ(Cos(W47(A84,GetEnumUnit())-AE4))<0.26 thencall GroupAddUnit(A44,GetEnumUnit())if Sin((W47(A84,GetEnumUnit())-AE4)*bj_DEGTORAD)<0 thencall KNE(A74,GetEnumUnit(),A94,AD4,AE4-90)elsecall KNE(A74,GetEnumUnit(),A94,AD4,AE4+90)endifendifendifendfunctionfunction KPE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local real a=(LoadReal(C7,(V_7),(137)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local group gif GetTriggerEvalCount(t)>125 thencall KillUnit(WQ7)call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)elseset x=x+8*Cos(a)set y=y+8*Sin(a)call SetUnitX(WQ7,x)call SetUnitY(WQ7,y)call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))set I04=X97set A94=xset AD4=yset AE4=a*bj_RADTODEGset A44=AN9set A74=X97set A84=WQ7set g=TL7()call GroupEnumUnitsInRange(g,x,y,225,Condition(function Y47))call ForGroup(g,function KOE)call T67(g)endifset t=nullset X97=nullreturn falseendfunctionfunction KQE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real WR7=GetSpellTargetX()local real WS7=GetSpellTargetY()local real Q99=Atan2(WS7-GetUnitY(X97),WR7-GetUnitX(X97))local integer ZN7=GetUnitAbilityLevel(X97,'A271')local unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0DA',GetUnitX(X97),GetUnitY(X97),Q99*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.01,true)call TriggerAddCondition(t,Condition(function KPE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveReal(C7,(V_7),(137),((Q99)*1.0))call SaveReal(C7,(V_7),(6),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(X97))*1.0))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveGroupHandle(C7,(V_7),(187),(TL7()))set t=nullset X97=nullendfunctionfunction KRE takes nothing returns booleanif GetSpellAbilityId()=='A271' thencall KQE()endifreturn falseendfunctionfunction J28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KRE))set t=nullendfunctionfunction KSE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer WC7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(WC7),(2)))local real KTE=(LoadReal(C7,(GetHandleId(X97)),(681)))call FlushChildHashtable(C7,(WC7))call NM7(t)if((TimerGetElapsed(P))-KTE<0.249)==false or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(X97,'A1Z4')call UnitRemoveAbility(X97,'A1ZA')call UnitRemoveAbility(X97,'A1ZB')call UnitRemoveAbility(X97,'A1Z9')call UnitRemoveAbility(X97,'B0DV')endifset t=nullset X97=nullreturn falseendfunctionfunction KUE takes unit X97 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer KVEcall TriggerRegisterTimerEvent(t,0.25,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function KSE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(GetHandleId(X97)),(681),(((TimerGetElapsed(P)))*1.0))if W54==1 thenset KVE='A1Z4'call UnitRemoveAbility(X97,'A1ZA')call UnitRemoveAbility(X97,'A1ZB')call UnitRemoveAbility(X97,'A1Z9')elseif W54==2 thenset KVE='A1ZA'call UnitRemoveAbility(X97,'A1Z4')call UnitRemoveAbility(X97,'A1ZB')call UnitRemoveAbility(X97,'A1Z9')elseif W54==3 thenset KVE='A1ZB'call UnitRemoveAbility(X97,'A1Z4')call UnitRemoveAbility(X97,'A1ZA')call UnitRemoveAbility(X97,'A1Z9')elseif W54==4 thenset KVE='A1Z9'call UnitRemoveAbility(X97,'A1Z4')call UnitRemoveAbility(X97,'A1ZA')call UnitRemoveAbility(X97,'A1ZB')endifcall UW7(X97,KVE)call UnitMakeAbilityPermanent(X97,true,KVE)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),KVE,false)set t=nullendfunctionfunction KWE takes nothing returns nothinglocal unit U47=GetEnumUnit()local real R09=(15*W54+0.06*GetUnitState(U47,UNIT_STATE_MAX_LIFE))/5if W24==U47 thenelseif IsUnitType(U47,UNIT_TYPE_HERO)==false thencall ZO7(W24,U47,YD4,R09)elsecall ZO7(W24,U47,YD4,R09)if TU7(U47)==false thencall KUE(U47)endifcall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FireRayTarget.mdx",U47,"origin"))call WP7(GetOwningPlayer(U47),2,GetUnitX(W24),GetUnitY(W24),500)endifset U47=nullendfunctionfunction KXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer KYE=(LoadInteger(C7,(V_7),(34)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real KZE=GetUnitFacing(X97)local real a=KZE*bj_DEGTORADlocal location l1=GetUnitLoc(X97)local real KAE=GetLocationZ(l1)local location l2=Location(GetUnitX(X97)+W64*Cos(a),GetUnitY(X97)+W64*Sin(a))local real KBE=GetLocationZ(l2)local lightning KCE=(LoadLightningHandle(C7,(V_7),(676)))local lightning K3E=(LoadLightningHandle(C7,(V_7),(677)))local lightning K6E=(LoadLightningHandle(C7,(V_7),(678)))local lightning KLE=(LoadLightningHandle(C7,(V_7),(679)))local lightning K1E=(LoadLightningHandle(C7,(V_7),(680)))local real K0E=1local real V59local real V29local real K5Elocal real K2Elocal real K_Elocal real M4Elocal real M7Elocal real M8Elocal real M9Elocal real MDElocal real MEElocal real MFElocal real MGElocal real MHElocal real MIElocal real MJElocal real MKElocal real MMElocal real MNElocal real MOElocal real MPElocal real MQElocal real MRElocal real MSElocal real MTElocal real MUElocal real MVElocal real MWElocal real MXElocal real MYElocal real MZElocal real MAElocal real MBElocal group glocal real xlocal real ylocal integer ilocal real MCElocal real M3Elocal real M6Elocal boolean MLE=FALSElocal boolean M1E=falselocal unit M0E=(LoadUnitHandle(C7,(V_7),(17)))local unit M5E=nulllocal unit DriftTarget=nulllocal real M2Elocal real M_Elocal real N4Elocal real N7E=(LoadReal(C7,(V_7),(688)))local boolean N8E=(LoadBoolean(C7,(V_7),(689)))local boolean N9E=(LoadBoolean(C7,(V_7),(672)))local real NDElocal ubersplat NEElocal real O32=(LoadReal(C7,(V_7),(23)))local real O42=(LoadReal(C7,(V_7),(24)))if GetUnitCurrentOrder(X97)==852001 thencall DisableTrigger(t)call JN7(X97)call EnableTrigger(t)endifcall RemoveLocation(l1)call RemoveLocation(l2)if IsUnitPaused(X97)==false and(GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER)thenset V59=GetUnitX(X97)set V29=GetUnitY(X97)if GetIssuedOrderId()!=852490 and GetIssuedOrderId()!=852185 and GetIssuedOrderId()!=852600 thencall DisableTrigger(t)call JN7(X97)call EnableTrigger(t)endifif GetIssuedOrderId()==851971 thenif GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER thenset x=GetUnitX(GetOrderTargetUnit())set y=GetUnitY(GetOrderTargetUnit())elseset x=GetOrderPointX()set y=GetOrderPointY()endifset MCE=W77(x,y,V59,V29)if MCE<0 thenset MCE=MCE+360endifset M6E=KZE-MCEif M6E<0 thenset M6E=M6E+360endifif M6E<180 thenset MLE=trueset M3E=KZE+6elseset M1E=trueset M3E=KZE-6endifset N7E=W77(x,y,V59,V29)+180call SaveReal(C7,(V_7),(688),((N7E)*1.0))endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT or GetTriggerEventId()==EVENT_WIDGET_DEATH or GetUnitState(X97,UNIT_STATE_MANA)<10 or V78(X97)or SG7(X97)or IsUnitPaused(X97)or SL7(X97)or(LoadInteger(C7,(GetHandleId(X97)),(704)))==-1 thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and(GetSpellAbilityId()=='A1Z3' or GetSpellAbilityId()=='A1RK' or GetSpellAbilityId()=='A27H'))thencall NJ7(X97,"SunRay|Disarmed")if NF7(X97,"IcarusDive|Disarmed")==false thencall UnitRemoveAbility(X97,'Abun')endifcall SetUnitPathing(X97,true)call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A205')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z3',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A205',false)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1YY' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YY',true)endifcall DestroyLightning(KCE)call DestroyLightning(K3E)call DestroyLightning(K6E)call DestroyLightning(KLE)call DestroyLightning(K1E)call StopSound(WU4,false,true)endifif GetUnitState(X97,UNIT_STATE_LIFE)<50 thenendifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==String2OrderIdBJ("immolation")thenset N8E=trueendifif GetIssuedOrderId()==String2OrderIdBJ("unimmolation")thenset N8E=falseendifcall SaveBoolean(C7,(V_7),(689),(N8E))elseset MCE=KZE-N7Eif MCE<-180 thenset MCE=MCE+360elseif MCE>180 thenset MCE=MCE-360endifset NDE=1if KYE<35 and N9E==true thenset NDE=7endifif MCE<(-1*NDE)thenset KZE=KZE+NDEelseif MCE>NDE thenset KZE=KZE-NDEelseset N9E=falsecall SaveBoolean(C7,(V_7),(672),(N9E))set KZE=N7Eendifif NF7(X97,"DashState1")==false thencall SetUnitFacing(X97,KZE)endifset a=KZE*bj_DEGTORADset KYE=KYE+1call SaveInteger(C7,(V_7),(34),(KYE))set K5E=W64set V59=GetUnitX(X97)+50*Cos(a)set V29=GetUnitY(X97)+50*Sin(a)call WK7(V59,V29,200)set W_4=TL7()set I04=X97set i=0loopexitwhen i*50>W64 or M5E!=nullset x=V59+i*50*Cos(a)set y=V29+i*50*Sin(a)set g=TL7()call GroupEnumUnitsInRange(g,x,y,100,Condition(function Y47))call GroupAddGroup(g,W_4)call GroupEnumUnitsInRange(g,x,y,100,Condition(function YZ7))set M5E=FirstOfGroup(g)call T67(g)if ModuloInteger(KYE,10)==0 thenif ModuloInteger(i,3)==0 thencall WP7(GetOwningPlayer(X97),2,x,y,225)endifendifset i=i+1endloopif N8E and X27(X97)==false thenset N4E=aset M2E=VK7(GetUnitX(X97)+5*Cos(N4E))set M_E=VM7(GetUnitY(X97)+5*Sin(N4E))call WK7(M2E,M_E,200)call SetUnitX(X97,M2E)call SetUnitY(X97,M_E)endifset W24=X97set W54=GetUnitAbilityLevel(X97,'A1YY')call RemoveSavedHandle(C7,(V_7),(17))set M0E=M5Eif M0E!=null thencall SaveUnitHandle(C7,(V_7),(17),(M0E))endifset X44=(10+5*W54)+(2+2*W54)*GetHeroLevel(X97)set X44=X44/5if ModuloInteger(KYE,10)==0 thencall SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MANA)-(0.04*GetUnitState(X97,UNIT_STATE_MAX_MANA)/5.0))if M0E!=null thenset g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(M0E),GetUnitY(M0E),200,Condition(function Y47))call GroupAddGroup(g,W_4)call T67(g)endifcall ForGroup(W_4,function KWE)endifcall T67(W_4)set g=nullset W_4=nullif UY7(X97)==false thenif M0E!=null thenset K5E=J77(X97,M0E)endifset K2E=V59set K_E=V29set M4E=KAE+200set M7E=K2E+K5E*Cos(a)set M8E=K_E+K5E*Sin(a)set M9E=KBEset MDE=V59+WL4*Cos((KZE-90)*bj_DEGTORAD)set MEE=V29+W14*Cos((KZE-90)*bj_DEGTORAD)set MFE=KAE+200set MGE=MDE+K5E*Cos(a)set MHE=MEE+K5E*Sin(a)set MIE=KBEset MJE=V59+WL4*Cos((KZE+90)*bj_DEGTORAD)set MKE=V29+W14*Cos((KZE+90)*bj_DEGTORAD)set MME=KAE+200set MNE=MJE+K5E*Cos(a)set MOE=MKE+K5E*Sin(a)set MPE=KBEset MQE=V59set MRE=V29set MSE=KAE+200+W04set MTE=MQE+K5E*Cos(a)set MUE=MRE+K5E*Sin(a)set MVE=KBEset MWE=V59set MXE=V29set MYE=KAE+200-W04set MZE=MWE+K5E*Cos(a)set MAE=MXE+K5E*Sin(a)set MBE=KBEif ModuloInteger(KYE,10)==0 and K5E==W64 thenset x=GetUnitX(X97)+(W64)*Cos(a)set y=GetUnitY(X97)+(W64)*Sin(a)call DestroyEffect(AddSpecialEffect("war3mapImported\\FireRayTarget.mdx",x,y))endifif ModuloInteger(KYE,10)==0 thencall SetSoundPosition(WU4,GetUnitX(X97),GetUnitY(X97),100)set x=GetUnitX(X97)+(K5E)*Cos(a)set y=GetUnitY(X97)+(K5E)*Sin(a)set NEE=CreateUbersplat(x,y,"SRAY",255,255,255,255,false,false)call SetUbersplatRenderAlways(NEE,true)call IN9(NEE,10)set NEE=nullendifcall MoveLightningEx(KCE,false,K2E,K_E,M4E,M7E,M8E,M9E)call MoveLightningEx(K3E,false,MDE,MEE,MFE,MGE,MHE,MIE)call MoveLightningEx(K6E,false,MJE,MKE,MME,MNE,MOE,MPE)call MoveLightningEx(KLE,false,MQE,MRE,MSE,MTE,MUE,MVE)call MoveLightningEx(K1E,false,MWE,MXE,MYE,MZE,MAE,MBE)if TV7(GetLocalPlayer())thenset K0E=1endifcall SetLightningColor(KCE,1.00,1.00,1.00,K0E)call SetLightningColor(K3E,1.00,1.00,1.00,K0E)call SetLightningColor(K6E,1.00,1.00,1.00,K0E)call SetLightningColor(KLE,1.00,1.00,1.00,K0E)call SetLightningColor(K1E,1.00,1.00,1.00,K0E)endifendifset t=nullset X97=nullset KCE=nullset K3E=nullset K6E=nullset KLE=nullset K1E=nullset l1=nullset l2=nullreturn falseendfunctionfunction NFE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real a=W77(GetUnitX(X97),GetUnitY(X97),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal real WR7=VK7(GetUnitX(X97)+W64*Cos(a))local real WS7=VM7(GetUnitY(X97)+W64*Sin(a))local lightning KCE=AddLightning("SRAY",false,GetUnitX(X97),GetUnitY(X97),WR7,WS7)local lightning K3E=AddLightning("SRAY",false,GetUnitX(X97),GetUnitY(X97),WR7,WS7)local lightning K6E=AddLightning("SRAY",false,GetUnitX(X97),GetUnitY(X97),WR7,WS7)local lightning KLE=AddLightning("SRAY",false,GetUnitX(X97),GetUnitY(X97),WR7,WS7)local lightning K1E=AddLightning("SRAY",false,GetUnitX(X97),GetUnitY(X97),WR7,WS7)call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)-GetUnitState(X97,UNIT_STATE_LIFE)*0.20)call SetUnitFacing(X97,a*bj_RADTODEG)call StartSound(WU4)call SetSoundPosition(WU4,GetUnitX(X97),GetUnitY(X97),100)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KXE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(13),((a)*1.0))call SaveReal(C7,(V_7),(688),((a*bj_RADTODEG)*1.0))call SaveLightningHandle(C7,(V_7),(676),(KCE))call SaveLightningHandle(C7,(V_7),(677),(K3E))call SaveLightningHandle(C7,(V_7),(678),(K6E))call SaveLightningHandle(C7,(V_7),(679),(KLE))call SaveLightningHandle(C7,(V_7),(680),(K1E))call SaveBoolean(C7,(V_7),(689),(false))call SaveBoolean(C7,(V_7),(672),(true))call SaveReal(C7,(V_7),(688),((a*bj_RADTODEG)*1.0))call SaveReal(C7,(V_7),(23),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(X97))*1.0))call UW7(X97,'Abun')call NH7(X97,"SunRay|Disarmed")call SetUnitPathing(X97,false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z3',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A205',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YY',false)call UW7(X97,'A1Z3')call UnitMakeAbilityPermanent(X97,true,'A1Z3')call UW7(X97,'A205')call UnitMakeAbilityPermanent(X97,true,'A205')call TriggerEvaluate(t)set t=nullset X97=nullset X97=nullset KCE=nullset K3E=nullset K6E=nullset KLE=nullset K1E=nullendfunctionfunction NGE takes nothing returns booleanif GetSpellAbilityId()=='A1YY' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thenelsecall NFE()endifendifreturn falseendfunctionfunction J58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function NGE))call IQ9('A1Z4')call IQ9('A1ZA')call IQ9('A1ZB')call IQ9('A1Z9')set t=nullendfunctionfunction NHE takes nothing returns nothingcall ZO7(X94,GetEnumUnit(),Y84,XE4)endfunctionfunction NIE takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+XE4*0.5)endfunctionfunction NJE takes unit X97,unit WQ7,real XGD,unit ZM7,unit U47 returns nothinglocal group g=TL7()local group g1=TL7()local group g2=TL7()local real x=GetUnitX(WQ7)local real y=GetUnitY(WQ7)set X94=X97set XD4=ZM7set XE4=(GetUnitAbilityLevel(X97,'A1YX')*20+10)*XGDset I04=X97call GroupEnumUnitsInRange(g1,x,y,425,Condition(function Y47))if X97!=U47 thencall GroupEnumUnitsInRange(g2,GetUnitX(X97),GetUnitY(X97),425,Condition(function Y47))endifcall GroupAddGroup(g1,g)call GroupAddGroup(g2,g)call ForGroup(g,function NHE)call GroupClear(g)call GroupClear(g1)call GroupClear(g2)set I04=X97call GroupEnumUnitsInRange(g1,x,y,425,Condition(function YQ7))if X97!=U47 thencall GroupEnumUnitsInRange(g2,GetUnitX(X97),GetUnitY(X97),425,Condition(function YQ7))endifcall GroupAddGroup(g1,g)call GroupAddGroup(g2,g)call ForGroup(g,function NIE)call T67(g)call T67(g1)call T67(g2)call DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",x,y))if X97!=U47 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Firaga_2.mdx",GetUnitX(X97),GetUnitY(X97)))endifcall KillUnit(WQ7)call ShowUnit(WQ7,false)set g=nullset g1=nullset g2=nullendfunctionfunction NKE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer S08=(LoadInteger(C7,(V_7),(34)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit NME=(LoadUnitHandle(C7,(V_7),(393)))local real XGD=(LoadReal(C7,(V_7),(685)))local real WR7local real WS7local real xlocal real ylocal real alocal real r=18local integer ZN7=GetUnitAbilityLevel(X97,'A1YX')if GetTriggerEventId()==EVENT_UNIT_DEATH thenset WR7=GetUnitX(U47)set WS7=GetUnitY(U47)call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))call RemoveSavedHandle(C7,(V_7),(17))call SaveUnitHandle(C7,(V_7),(17),(null))elseif U47==null thenset WR7=(LoadReal(C7,(V_7),(47)))set WS7=(LoadReal(C7,(V_7),(48)))elseset WR7=GetUnitX(U47)set WS7=GetUnitY(U47)endifset a=W77(GetUnitX(NME),GetUnitY(NME),WR7,WS7)call SetUnitFacing(NME,a)set x=GetUnitX(NME)+r*Cos(a*bj_DEGTORAD)set y=GetUnitY(NME)+r*Sin(a*bj_DEGTORAD)call SetUnitX(NME,x)call SetUnitY(NME,y)if J87(x,y,WR7,WS7)<r*2 thencall NJE(X97,NME,XGD,ZM7,U47)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullset NME=nullset ZM7=nullreturn falseendfunctionfunction NNE takes unit X97,unit NME,unit U47,real XGD,unit ZM7 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local group glocal unit NewTargetcall SetUnitVertexColor(NME,255,255,255,255)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NKE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(393),(NME))call SaveReal(C7,(V_7),(47),((GetSpellTargetX())*1.0))call SaveReal(C7,(V_7),(48),((GetSpellTargetY())*1.0))call SaveReal(C7,(V_7),(685),((XGD)*1.0))call SaveUnitHandle(C7,(V_7),(19),(ZM7))set t=nullendfunctionfunction NOE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer S08=(LoadInteger(C7,(V_7),(34)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real V59=GetUnitX(X97)local real V29=GetUnitY(X97)local unit NPE=(LoadUnitHandle(C7,(V_7),(393)))local unit NQE=(LoadUnitHandle(C7,(V_7),(394)))local unit NRE=(LoadUnitHandle(C7,(V_7),(395)))local unit NSE=(LoadUnitHandle(C7,(V_7),(396)))local integer ZN7=GetUnitAbilityLevel(X97,'A1YX')local real a=GetUnitFacing(X97)local real xlocal real ylocal group glocal group g2local real CSD=-1*360*0.02/4local real a2local real MO9local real XGD=(LoadReal(C7,(V_7),(685)))local real NTElocal unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local integer NUE=GetHandleId(X97)local player pl=GetOwningPlayer(X97)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A1Z2' thencall NNE(X97,NPE,GetSpellTargetUnit(),XGD,ZM7)call RemoveSavedHandle(C7,(V_7),(393))call NNE(X97,NQE,GetSpellTargetUnit(),XGD,ZM7)call RemoveSavedHandle(C7,(V_7),(394))call NNE(X97,NRE,GetSpellTargetUnit(),XGD,ZM7)call RemoveSavedHandle(C7,(V_7),(395))call NNE(X97,NSE,GetSpellTargetUnit(),XGD,ZM7)call RemoveSavedHandle(C7,(V_7),(396))if(R97(pl))thencall M47(NUE,"Bird4")endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z2',false)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1YX' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YX',true)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetSpellAbilityId()=='A1RK' thenif NPE!=null and UY7(NPE)==false thencall NNE(X97,NPE,X97,XGD,ZM7)endifif NQE!=null and UY7(NQE)==false thencall NNE(X97,NQE,X97,XGD,ZM7)endifif NRE!=null and UY7(NRE)==false thencall NNE(X97,NRE,X97,XGD,ZM7)endifif NSE!=null and UY7(NSE)==false thencall NNE(X97,NSE,X97,XGD,ZM7)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z2',false)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1YX' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YX',true)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)if(R97(pl))thencall M47(NUE,"Bird4")call M87(NUE,"BirdsCounter",0)endifendifelseset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))if(R97(pl))thencall M87(NUE,"BirdsCounter",S08)endifif NPE!=null and UY7(NPE)==false thenset MO9=360*4/4.0set a2=MO9+CSD*S08set x=VK7(V59+200*Cos(a2*bj_DEGTORAD))set y=VM7(V29+200*Sin(a2*bj_DEGTORAD))call SetUnitFacing(NPE,a2-90)call SetUnitX(NPE,x)call SetUnitY(NPE,y)endifif NQE!=null and UY7(NQE)==false thenset MO9=360*3/4.0set a2=MO9+CSD*S08set x=VK7(V59+200*Cos(a2*bj_DEGTORAD))set y=VM7(V29+200*Sin(a2*bj_DEGTORAD))call SetUnitFacing(NQE,a2-90)call SetUnitX(NQE,x)call SetUnitY(NQE,y)endifif NRE!=null and UY7(NRE)==false thenset MO9=360*2/4.0set a2=MO9+CSD*S08set x=VK7(V59+200*Cos(a2*bj_DEGTORAD))set y=VM7(V29+200*Sin(a2*bj_DEGTORAD))call SetUnitFacing(NRE,a2-90)call SetUnitX(NRE,x)call SetUnitY(NRE,y)endifif NSE!=null and UY7(NSE)==false thenset MO9=360*1/4.0set a2=MO9+CSD*S08set x=VK7(V59+200*Cos(a2*bj_DEGTORAD))set y=VM7(V29+200*Sin(a2*bj_DEGTORAD))call SetUnitFacing(NSE,a2-90)call SetUnitX(NSE,x)call SetUnitY(NSE,y)endifif S08>625 or GetTriggerEventId()==EVENT_UNIT_DEATH thenif NPE!=null and UY7(NPE)==false thencall NNE(X97,NPE,X97,XGD,ZM7)endifif NQE!=null and UY7(NQE)==false thencall NNE(X97,NQE,X97,XGD,ZM7)endifif NRE!=null and UY7(NRE)==false thencall NNE(X97,NRE,X97,XGD,ZM7)endifif NSE!=null and UY7(NSE)==false thencall NNE(X97,NSE,X97,XGD,ZM7)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z2',false)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1YX' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YX',true)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)if(R97(pl))thencall M47(NUE,"Bird4")call M87(NUE,"BirdsCounter",0)endifelseset XGD=RMinBJ(0.25+0.75*(I2R(S08)/500.0),1)call SaveReal(C7,(V_7),(685),((XGD)*1.0))set NTE=0.25+(XGD-0.2)*2.5call SetUnitScale(NPE,NTE,NTE,NTE)call SetUnitScale(NQE,NTE,NTE,NTE)call SetUnitScale(NRE,NTE,NTE,NTE)call SetUnitScale(NSE,NTE,NTE,NTE)if S08==450 thencall W_7(WV4,GetOwningPlayer(X97))endifif S08>425 thenif ModuloInteger(S08,10)==0 or ModuloInteger(S08,10)==1 or ModuloInteger(S08,10)==2 or ModuloInteger(S08,10)==3 or ModuloInteger(S08,10)==4 thencall SetUnitVertexColor(NPE,255,0,0,255)call SetUnitVertexColor(NQE,255,0,0,255)call SetUnitVertexColor(NRE,255,0,0,255)call SetUnitVertexColor(NSE,255,0,0,255)elsecall SetUnitVertexColor(NPE,255,255,255,255)call SetUnitVertexColor(NQE,255,255,255,255)call SetUnitVertexColor(NRE,255,255,255,255)call SetUnitVertexColor(NSE,255,255,255,255)endifendifendifendifset t=nullset X97=nullset NPE=nullset NQE=nullset NRE=nullset NSE=nullset ZM7=nullreturn falseendfunctionfunction NVE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real V59=GetUnitX(X97)local real V29=GetUnitY(X97)local real xlocal real ylocal unit NPElocal unit NQElocal unit NRElocal unit NSElocal real a=GetUnitFacing(X97)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',V59,V29,0)local integer NUE=GetHandleId(X97)local player pl=GetOwningPlayer(X97)call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)-GetUnitState(X97,UNIT_STATE_LIFE)*0.1)call UW7(X97,'A1Z2')call UnitMakeAbilityPermanent(X97,true,'A1Z2')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1Z2',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1YX',false)set x=GetUnitX(X97)+200*Cos(bj_DEGTORAD*360*4/4.0*-1.0)set y=GetUnitY(X97)+200*Sin(bj_DEGTORAD*360*4/4.0*-1.0)set NPE=CreateUnit(GetOwningPlayer(X97),'h0CU',x,y,360*4/4.0*-1.0)set x=GetUnitX(X97)+200*Cos(bj_DEGTORAD*360*3/4.0*-1.0)set y=GetUnitY(X97)+200*Sin(bj_DEGTORAD*360*3/4.0*-1.0)set NQE=CreateUnit(GetOwningPlayer(X97),'h0CU',x,y,360*3/4.0*-1.0)set x=GetUnitX(X97)+200*Cos(bj_DEGTORAD*360*2/4.0*-1.0)set y=GetUnitY(X97)+200*Sin(bj_DEGTORAD*360*2/4.0*-1.0)set NRE=CreateUnit(GetOwningPlayer(X97),'h0CU',x,y,360*2/4.0*-1.0)set x=GetUnitX(X97)+200*Cos(bj_DEGTORAD*360*1/4.0*-1.0)set y=GetUnitY(X97)+200*Sin(bj_DEGTORAD*360*1/4.0*-1.0)set NSE=CreateUnit(GetOwningPlayer(X97),'h0CU',x,y,360*1/4.0*-1.0)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NOE))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(393),(NPE))call SaveUnitHandle(C7,(V_7),(394),(NQE))call SaveUnitHandle(C7,(V_7),(395),(NRE))call SaveUnitHandle(C7,(V_7),(396),(NSE))call SaveUnitHandle(C7,(V_7),(19),(ZM7))if(R97(pl))thencall MF7(NUE,"Bird4",NSE)endifset X97=nullset NPE=nullset NQE=nullset NRE=nullset NSE=nullset ZM7=nullendfunctionfunction NWE takes nothing returns booleanif GetSpellAbilityId()=='A1YX' thencall NVE()endifreturn falseendfunctionfunction J08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NWE))set t=nullendfunctionfunction NXE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit hn=MZ7(NO7,"Hero")call K_7(NO7)call NM7(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))call UnitRemoveAbility(hn,'A0ZC')call UnitRemoveAbility(hn,'B00V')set t=nullset hn=nullreturn falseendfunctionfunction NYE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit hn=MZ7(NO7,"Hero")call K_7(NO7)call NM7(t)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaosDone.mdl",hn,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspirittarget.mdl",hn,"origin"))set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,18-0.1,false)call TriggerAddCondition(t,Condition(function NXE))call MF7(NO7,"Hero",hn)set t=nullset hn=nullreturn falseendfunctionfunction NZE takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit hn=GetTriggerUnit()local unit NAE=CreateUnit(GetOwningPlayer(hn),'e01V',0,0,0)local real NBE=18call UW7(NAE,'A0ZC')call UnitApplyTimedLife(NAE,'BTLF',NBE)call U27(hn,NBE,175)call TriggerRegisterTimerEvent(t,0.1,false)call TriggerAddCondition(t,Condition(function NYE))call MF7(NO7,"Hero",hn)set t=nullset NAE=nullset hn=nullendfunctionfunction NCE takes nothing returns booleanif GetSpellAbilityId()=='A093' and GetUnitTypeId(GetTriggerUnit())=='U008' thencall NZE()endifreturn falseendfunctionfunction I08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NCE))set t=nullendfunctionfunction H89 takes nothing returns nothinglocal unit p5=B2local unit m5=C2local unit ZM7=MZ7(GetHandleId(p5),"FeralHeartCaster")call MF7(GetHandleId(m5),"FeralHeartCaster",ZM7)call SetUnitOwner(ZM7,GetOwningPlayer(m5),true)set p5=nullset m5=nullset ZM7=nullendfunctionfunction T08 takes nothing returns nothinglocal unit T_7=J84local unit ZM7=MZ7(GetHandleId(T_7),"FeralHeartCaster")if ZM7!=null and GetUnitTypeId(ZM7)=='e01V' thencall RemoveUnit(ZM7)endifset T_7=nullset ZM7=nullendfunctionfunction N3E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if ZM7!=null and GetUnitTypeId(ZM7)=='e01V' thenif UY7(X97)==false thencall SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))endifendifset t=nullset ZM7=nullset X97=nullreturn falseendfunctionfunction N6E takes unit T_7,boolean R99 returns nothinglocal integer ZN7=GetUnitAbilityLevel(T_7,'A03E')local unit ZM7local trigger tlocal integer V_7if ZN7==1 or R99 thenset ZM7=CreateUnit(GetOwningPlayer(T_7),'e01V',0,0,0)call UW7(ZM7,'A0ZJ')call MF7(GetHandleId(T_7),"FeralHeartCaster",ZM7)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerAddCondition(t,Condition(function N3E))call TriggerRegisterTimerEvent(t,0.2,true)call SaveUnitHandle(C7,(V_7),(2),(T_7))call SaveUnitHandle(C7,(V_7),(19),(ZM7))elseset ZM7=MZ7(GetHandleId(T_7),"FeralHeartCaster")endifif ZN7==2 thencall UnitRemoveAbility(ZM7,'A0ZJ')call UW7(ZM7,'A0ZI')elseif ZN7==3 thencall UnitRemoveAbility(ZM7,'A0ZJ')call UnitRemoveAbility(ZM7,'A0ZI')call UW7(ZM7,'A0ZH')elseif ZN7==4 thencall UnitRemoveAbility(ZM7,'A0ZJ')call UnitRemoveAbility(ZM7,'A0ZI')call UnitRemoveAbility(ZM7,'A0ZH')call UW7(ZM7,'A0ZG')endifset ZM7=nullendfunctionfunction NLE takes nothing returns booleanif GetLearnedSkill()=='A03E' and IsUnitIllusion(GetTriggerUnit())==false thencall N6E(GetTriggerUnit(),false)endifreturn falseendfunctionfunction I58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NLE))set t=nullendfunctionfunction N1E takes nothing returns nothinglocal unit hn=GetTriggerUnit()local unit NAElocal integer i=1local boolean N0E=Q_7(GetOwningPlayer(hn))local player plocal integer N5Elocal integer N2Elocal integer N_E=GetUnitAbilityLevel(hn,'A0ZF')if N_E==1 thenset N5E='A104'set N2E='A107'elseif N_E==2 thenset N5E='A101'set N2E='A106'elseif N_E==3 thenset N5E='A102'set N2E='A105'elseif N_E==4 thenset N5E='A103'set N2E='A108'endifloopexitwhen i>5if N0E thenset p=Y7[i]elseset p=Z7[i]endifset NAE=CreateUnit(p,'e01V',0,0,0)call UW7(NAE,N5E)call UW7(NAE,N2E)call UnitApplyTimedLife(NAE,'BTLF',12)set i=i+1endloopset hn=nullset NAE=nullset p=nullendfunctionfunction O4E takes nothing returns booleanif GetSpellAbilityId()=='A0ZF' thencall N1E()endifreturn falseendfunctionfunction I28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O4E))set t=nullendfunctionfunction O7E takes nothing returns nothingcall U18()call U58()endfunctionfunction GM9 takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=J37(S2I(SubString(VH,3,StringLength(VH))))if((pl!=null)and(RD7(pl))and(IsPlayerInForce(pl,QP4)))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r creepstats:   K: "+I2S(P7[GetPlayerId(pl)])+"   D: "+I2S(T7[GetPlayerId(pl)]))endifset pl=nullendfunctionfunction GN9 takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=J37(S2I(SubString(VH,3,StringLength(VH))))if((pl!=null)and(RD7(pl))and(IsPlayerInForce(pl,QP4)))thenif(G7[GetPlayerId(pl)]==null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r has no Hero")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r movespeed is "+I2S(R2I(GetUnitMoveSpeed(G7[GetPlayerId(pl)]))))endifendifset pl=nullendfunctionfunction O8E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitAlly(GetFilterUnit(),GetTriggerPlayer()))and(not IsUnitIllusion(GetFilterUnit()))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not J_7(GetFilterUnit()))and(JC7(GetFilterUnit())))endfunctionfunction O9E takes nothing returns nothinglocal unit it=GetEnumUnit()local unit m5=G7[GetPlayerId(GetTriggerPlayer())]local integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local boolean J4set GZ[64+GetPlayerId(GetOwningPlayer(it))]=trueif(i1=='UC01')thenset J4=(IsUnitInRange(it,m5,300.))and(K37(it,852526,'A04A'))elseif(i1=='UC42')thenset J4=(KH7(500.,m5,Condition(function k8))>0)and(K37(it,OrderId("fanofknives"),'A1OP'))elseif(i1=='H00U')thenset J4=(IsUnitInRange(it,m5,650.))and RX7(it,BN4,BN4,BO4,'A0VQ')and KZ7(it,852490,'A0VQ',m5)elseif(i1=='E02I')thenset J4=(IsUnitInRange(it,m5,560.))and(IssueImmediateOrderById(it,852594))elseif(i1=='Ekee')thenset J4=(IsUnitInRange(it,m5,500.))and(KH7(500.,m5,Condition(function k8))>0)and(K37(it,852594,'A20T'))elseif((i1=='Eevi')or(i1=='Eevm'))thenset J4=((GetUnitLifePercent(it)-30.)>GetUnitLifePercent(m5))and(KZ7(it,852189,'A07Q',m5))elseif(i1=='Ulic')thenset J4=KZ7(it,852225,'A08R',m5)elseif(i1=='UC11')thenset J4=KZ7(it,852066,'A037',m5)elseif(i1=='U008')thenset J4=(IsUnitInRange(it,m5,500.))and(K37(it,OrderId("channel"),'A0ZF'))elseif(i1=='Udea')thenset J4=(IssueTargetOrderById(it,852119,m5))or(IssueTargetOrderById(it,852662,m5))elseif(i1=='Opgh')thenset J4=(IsUnitInRange(it,m5,400.))and(KH7(400.,m5,Condition(function k8))>0)and(IssueImmediateOrderById(it,852096))elseif(i1=='U00E')thenset J4=(IsUnitInRange(it,m5,500.))and(K37(it,852526,'A05V'))elseif(i1=='H001')thenset J4=(IsUnitInRange(it,m5,430.))and(K37(it,852526,'A2IS'))elseif(i1=='N0HP')thenset J4=(IsUnitInRange(it,m5,760.))and(KZ7(it,OrderId("berserk"),'A1HQ',m5))elseif(i1=='H00H')thenset J4=(IsUnitInRange(it,m5,400.))and(KH7(400.,m5,Condition(function k8))>0)and(IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))elseif(i1=='E01A')thenif((GetUnitManaPercent(it)>50.)and(IsUnitInRange(it,m5,300.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0NE',true)set J4=(GetUnitAbilityLevel(it,'B06J')==0)and(IssueImmediateOrderById(it,852177))endifelseif(i1=='E01C')thenset J4=IssueTargetOrderById(it,852248,m5)elseif(i1=='N01W')thenset J4=((GetUnitLifePercent(it)<40.)and(IssueTargetOrderById(it,852536,m5)))or(IssueTargetOrderById(it,852229,m5))elseif((i1=='H00R')or(i1=='H07I'))thenset I04=itset J4=(KH7(1000.,it,Condition(function ny))>2)and(IssueTargetOrderById(it,852699,m5))elseif(i1=='H00N')thenset J4=(KZ7(it,852101,'A0R7',m5))or((KH7(350.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852095,m5)))elseif(i1=='H008')thenset J4=(IsUnitInRange(it,m5,500.))and(KH7(500.,m5,Condition(function k8))>0)and(K37(it,852526,'A0GP'))elseif(i1=='Usyl')thenset J4=(KH7(500.,m5,Condition(function k8))>0)and(KZ7(it,852089,'A064',m5))elseif(i1=='Harf')thenset J4=KZ7(it,852225,'A08N',m5)elseif(i1=='Hvwd')thenset J4=(IsUnitInRange(it,m5,500.))and(KH7(500.,m5,Condition(function k8))>0)and(KZ7(it,OrderId("volcano"),'A17O',m5))elseif(i1=='Emoo')thenset J4=(IsUnitInRange(it,m5,500.))and(K37(it,852556,'A01B'))elseif(i1=='Uktl')thenset J4=(KH7(500.,m5,Condition(function k8))>0)and(IssueTargetOrderById(it,852600,m5))elseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenset J4=KZ7(it,OrderId("acolyteharvest"),'A112',m5)elseif(i1=='HC49')thenset J4=(IsUnitInRange(it,m5,500.))and(KH7(500.,m5,Condition(function k8))>0)and(K37(it,852123,'A063'))elseif(i1=='HC92')thenset J4=(KH7(500.,m5,Condition(function k8))>0)and(KZ7(it,852089,'A0RG',m5))elseif(i1=='H00A')thenset J4=(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(it,852600))elseif(i1=='H004')thenset J4=(KH7(150.,m5,Condition(function k6))>0)and(KZ7(it,852232,'A027',m5))elseif(i1=='Ucrl')thenset J4=(KH7(400.,m5,Condition(function k8))>0)and(KZ7(it,852089,'A0LL',m5))elseif(i1=='Hamg')thenset J4=((K6(m5))and(IssueTargetOrderById(it,852069,m5)))elseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenset J4=(KH7(400.,m5,Condition(function k8))>0)and(KZ7(it,852089,'A0IL',m5))elseif(i1=='H00Q')thenset J4=(GetUnitLifePercent(m5)<95.)and(IssueTargetOrderById(it,852095,m5))endifif(not J4)thenif(KJ7(it,OU[O0]))thenset J4=(IsUnitInRange(it,m5,300.))and(UnitUseItem(it,KO7(it,OU[O0])))elseif(KJ7(it,OU[FS4]))thenset J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,KO7(it,OU[FS4])))elseif(KJ7(it,OU[DU4]))thenset J4=(IsUnitInRange(it,m5,590.))and(UnitUseItem(it,KO7(it,OU[DU4])))elseif(KJ7(it,OU[F6]))thenset J4=(IsUnitInRange(it,m5,500.))and(UnitUseItem(it,KO7(it,OU[F6])))endifendifif((not J4)and(GetHeroLevel(it)>5))thenset m5=KF7(800.,jv(m5),Condition(function k6))if(m5!=null)thenif(i1=='E02J')and(IsUnitInRange(it,m5,895.))thenif(W87(it,m5))or(not IsUnitInRange(m5,it,800))thencall UG7(it,m5,1.2,900)elsecall MoveLocation(FD7,GetUnitX(m5),GetUnitY(m5))endifset J4=(IL7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,FD7))))endifif(not J4)thencall IssueTargetOrderById(it,851983,m5)endifif(h4[GetPlayerId(GetOwningPlayer(it))]==null)thenset h4[GetPlayerId(GetOwningPlayer(it))]=m5endifendifendifset GZ[64+GetPlayerId(GetOwningPlayer(it))]=falseset m5=nullset it=nullendfunctionfunction GO9 takes nothing returns nothingif((G7[GetPlayerId(GetTriggerPlayer())]!=null)and(J07(G7[GetPlayerId(GetTriggerPlayer())])))thencall ju(GetUnitsInRangeOfLocMatching(1100.,jv(G7[GetPlayerId(GetTriggerPlayer())]),Condition(function O8E)),function O9E)call DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,8.,"AI Allies nearby will assist you")set hq[464+GetPlayerId(GetTriggerPlayer())]=Bz+5.endifendfunctionfunction ODE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction OEE takes nothing returns nothingif(GetWidgetLife(GetEnumUnit())>.405)thencall SetWidgetLife(GetEnumUnit(),GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)+8.)elsecall GroupRemoveUnit(ij,GetEnumUnit())endifendfunctionfunction OFE takes nothing returns nothingcall ForGroup(ij,function OEE)call SetWidgetLife(JT4,GetUnitState(JT4,UNIT_STATE_LIFE)+12.)call SetWidgetLife(KE4,GetUnitState(KE4,UNIT_STATE_LIFE)+12.)endfunctionfunction K89 takes nothing returns nothinglocal trigger t=CreateTrigger()local boolexpr Ig=Condition(function ODE)set ij=TL7()call GroupEnumUnitsInRect(ij,bj_mapInitialPlayableArea,Ig)call TriggerRegisterTimerEventPeriodic(t,1.)call TriggerAddAction(t,function OFE)set TT=truecall DestroyBoolExpr(Ig)set Ig=nullendfunctionfunction K99 takes nothing returns nothingset UT=truecall EnableTrigger(QT4)endfunctionfunction OGE takes nothing returns booleanreturn GetDyingUnit()==G7[GetPlayerId(GetTriggerPlayer())]endfunctionfunction OHE takes nothing returns nothinglocal integer O5=1local integer ilocal integer aloopexitwhen O5>11if R97(Player(O5))thenset a=BT[O5]-X54[64+O5]if a>0 thenset i=1loopexitwhen i>aset X54[96+O5]=R2I(Bz+L24)if ZT thencall SetPlayerHandicapXPBJ(Player(O5),X54[16+O5]+(GetPlayerHandicapXPBJ(Player(O5))-X54[16+O5])*LC4)endifif AT thenset X54[48+O5]=X54[32+O5]+R2I((X54[48+O5]-X54[32+O5])*L14)endifset i=i+1endloopset X54[64+O5]=BT[O5]endifendifset O5=O5+1endloopendfunctionfunction OIE takes nothing returns nothinglocal player p=GetOwningPlayer(GetDyingUnit())local player pl=GetOwningPlayer(GetKillingUnit())if IsUnitInForce(GetDyingUnit(),QP4)and GetDyingUnit()!=GetKillingUnit()thenset X54[96+GetPlayerId(p)]=R2I(Bz+L24)if ZT thenif GetPlayerHandicapXP(p)*100<X54[16+GetPlayerId(p)]thencall SetPlayerHandicapXP(p,X54[16+GetPlayerId(p)]*0.01)elsecall SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+LA4)if GetPlayerHandicapXP(p)*100>(X54[16+GetPlayerId(p)]+L34*100)thencall SetPlayerHandicapXP(p,(X54[16+GetPlayerId(p)])*0.01+L34)endifendifendifif AT thenif X54[48+GetPlayerId(p)]<X54[32+GetPlayerId(p)]thenset X54[48+GetPlayerId(p)]=X54[32+GetPlayerId(p)]elseset X54[48+GetPlayerId(p)]=X54[48+GetPlayerId(p)]+L64if X54[48+GetPlayerId(p)]>L04 thenset X54[48+GetPlayerId(p)]=L04endifendifendifendifif GetKillingUnit()!=null and IsUnitInForce(GetKillingUnit(),QP4)and GetDyingUnit()!=GetKillingUnit()thenset X54[96+GetPlayerId(pl)]=R2I(Bz+L24)if ZT thencall SetPlayerHandicapXPBJ(pl,X54[16+GetPlayerId(pl)]+(GetPlayerHandicapXPBJ(pl)-X54[16+GetPlayerId(pl)])*LB4)endifif AT thenset X54[48+GetPlayerId(pl)]=X54[32+GetPlayerId(pl)]+R2I((X54[48+GetPlayerId(pl)]-X54[32+GetPlayerId(pl)])*LL4)endifendifcall TimerStart(LW4,0.5,false,function OHE)set p=nullset pl=nullendfunctionfunction OJE takes nothing returns nothinglocal integer O5=1local player pif Bz<L54+L24+P04 thenreturnendifloopexitwhen O5>11if O5==6 thenset O5=7endifif IsPlayerInForce(Player(O5),QP4)thenif(Bz>X54[96+O5])thenset p=Player(O5)if ZT thenif GetPlayerHandicapXP(p)*100<X54[16+GetPlayerId(p)]thencall SetPlayerHandicapXP(p,X54[16+GetPlayerId(p)]*0.01)elsecall SetPlayerHandicapXP(p,GetPlayerHandicapXP(p)+LA4/2)if GetPlayerHandicapXP(p)*100>(X54[16+GetPlayerId(p)]+L34*100)thencall SetPlayerHandicapXP(p,(X54[16+GetPlayerId(p)])/100+L34)endifendifendifif AT thenif X54[48+GetPlayerId(p)]<X54[32+GetPlayerId(p)]thenset X54[48+GetPlayerId(p)]=X54[32+GetPlayerId(p)]elseset X54[48+GetPlayerId(p)]=X54[48+GetPlayerId(p)]+L64/2if X54[48+GetPlayerId(p)]>L04 thenset X54[48+GetPlayerId(p)]=L04endifendifendifset X54[96+O5]=R2I(Bz+L24)endifendifset O5=O5+1endloopendfunctionfunction OKE takes nothing returns nothinglocal integer ilocal integer mlocal integer nlocal trigger t=nullset LV4=CreateTrigger()call ky(LV4,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(LV4,Condition(function OGE))call TriggerAddAction(LV4,function OIE)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddAction(t,function OJE)set t=nullset LW4=CreateTimer()endfunctionfunction KD9 takes nothing returns nothingif LV4==null thencall OKE()endifset ZT=trueendfunctionfunction KE9 takes nothing returns nothingif LV4==null thencall OKE()endifset AT=trueendfunctionfunction OME takes integer ONE,integer OOE,integer OPE,integer OQE,integer ORE,integer OSE,integer OTE,integer OUE,integer OVE,integer OWE,integer OXE,integer OYE,integer OZE,integer OAE,integer OBE,integer OCE,integer O3E returns nothingcall SaveInteger(L_4,ONE,0,OOE)call SaveInteger(L_4,ONE,1,OPE)call SaveInteger(L_4,ONE,2,OQE)call SaveInteger(L_4,ONE,3,ORE)call SaveInteger(L_4,ONE,4,OSE)call SaveInteger(L_4,ONE,5,OTE)call SaveInteger(L_4,ONE,6,OUE)call SaveInteger(L_4,ONE,7,OVE)call SaveInteger(L_4,ONE,8,OWE)call SaveInteger(L_4,ONE,9,OXE)call SaveInteger(L_4,ONE,10,OYE)call SaveInteger(L_4,ONE,11,OZE)call SaveInteger(L_4,ONE,12,OAE)call SaveInteger(L_4,ONE,13,OBE)call SaveInteger(L_4,ONE,14,OCE)call SaveInteger(L_4,ONE,15,O3E)if(bj_forLoopBIndex<=2)thenset eY[336+16*bj_forLoopBIndex+bj_forLoopAIndex]=ONEendifset bj_forLoopBIndex=bj_forLoopBIndex+1endfunctionfunction O6E takes unit H57,integer ONE,integer OLE returns integerset bj_forLoopBIndex=GetUnitAbilityLevel(H57,ONE)if bj_forLoopBIndex==0 thenreturn 0endifreturn LoadInteger(L_4,ONE,OLE+bj_forLoopBIndex-1)endfunctionfunction O1E takes integer O0E returns nothingset bj_forLoopBIndex=0if O0E=='Hvwd' thencall OME('A02A',10,10,10,10,110,120,130,140,500,500,500,500,0,0,0,0)call OME('A17O',15,15,15,15,40,40,40,40,1700,1700,1700,1700,0,0,0,0)call OME('ACac',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A0IN',45,45,45,11,100,150,200,110,600,900,1200,600,125,125,125,125)call OME('A1AW',10,10,10,11,100,150,200,110,600,900,1200,600,125,125,125,125)elseif O0E=='Hmbr' thencall OME('A020',2,2,2,2,65,70,75,80,700,700,700,700,500,500,500,500)call OME('A0JC',6,6,6,6,75,95,115,135,700,700,700,700,0,0,0,0)call OME('A0N5',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A29G',120,120,120,0,225,325,450,0,0,0,0,0,0,0,0,0)call OME('A29H',120,120,120,0,225,325,450,0,0,0,0,0,0,0,0,0)elseif O0E=='Emoo' thencall OME('A0DW',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0DX',30,25,20,15,65,65,65,65,700,700,700,700,0,0,0,0)call OME('A01B',45,45,45,45,125,140,155,170,0,0,0,0,300,300,300,300)call OME('A0DY',0,0,0,0,55,60,65,0,550,550,550,0,0,0,0,0)call OME('A1WB',0,0,0,0,55,60,65,0,715,715,715,0,0,0,0,0)elseif O0E=='O00P' thencall OME('A0FN',11,11,11,11,140,155,160,165,1000,1000,1000,1000,0,0,0,0)call OME('A0G6',10,10,10,10,100,100,100,100,600,700,800,900,0,0,0,0)call OME('A0KX',1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0G8',80,80,80,0,25,25,25,0,700,1100,1500,0,200,200,200,0)elseif O0E=='Hjai' thencall OME('A1E9',15,15,15,15,100,120,140,160,700,700,700,700,400,400,400,400)call OME('A04C',10,10,10,10,115,125,140,150,500,500,500,500,0,0,0,0)call OME('AHab',0,0,0,0,0,0,0,0,0,0,0,0,99999,99999,99999,99999)call OME('A03R',150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)call OME('A0AV',150,120,90,0,200,400,600,0,500,500,500,500,0,0,0,0)elseif O0E=='H001' thencall OME('A190',15,15,15,15,140,140,140,140,600,600,600,600,255,255,255,255)call OME('A01K',0,0,0,0,0,0,0,0,0,0,0,0,200,200,200,200)call OME('A2IS',36,30,24,18,25,25,25,25,0,0,0,0,0,0,0,0)call OME('A1WH',80,80,80,30,100,150,200,25,0,0,0,0,0,0,0,0)elseif O0E=='HC49' thencall OME('A063',40,40,40,40,70,80,90,100,128,128,128,128,1000,1000,1000,1000)call OME('A24D',14,14,14,14,75,85,95,115,650,650,650,650,0,0,0,0)call OME('A2KU',10,10,10,10,80,90,100,110,0,0,0,0,0,0,0,0)call OME('A07U',180,120,60,0,100,100,100,0,500,500,500,500,0,0,0,0)elseif O0E=='Otch' thencall OME('A0SK',15,15,15,15,125,140,155,170,1200,1200,1200,1200,0,0,0,0)call OME('A0DL',7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A0DJ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0DH',150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)call OME('A1OB',150,130,110,9,145,205,265,100,0,0,0,0,500,500,500,475)elseif O0E=='HC92' thencall OME('A0RG',13,13,13,13,75,80,85,90,425,425,425,425,250,275,300,325)call OME('A0K9',20,15,10,5,50,50,50,50,700,700,700,700,0,0,0,0)call OME('A0DZ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A00J',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='N01O' thencall OME('A0A5',180,160,140,120,75,75,75,75,0,0,0,0,200,200,200,200)call OME('A1EF',30,30,30,30,50,50,50,50,0,0,0,0,400,450,475,500)call OME('A0A8',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0AG',0,0,0,0,25,25,25,0,0,0,0,0,0,0,0,0)elseif O0E=='H004' thencall OME('A01F',9,9,9,9,90,105,125,140,800,800,800,800,275,275,275,275)call OME('A027',7,7,7,7,90,100,110,125,600,600,600,600,225,225,225,225)call OME('A18X',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A01P',120,90,55,9,280,420,680,120,600,600,600,700,0,0,0,500)call OME('A09Z',120,90,55,9,280,420,640,120,900,900,900,700,0,0,0,500)elseif O0E=='Nbbc' thencall OME('A05G',30,28,26,24,110,110,110,110,0,0,0,0,250,250,250,250)call OME('A047',60,60,60,60,80,100,120,140,350,350,350,350,0,0,0,0)call OME('A00K',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0M1',130,120,110,9,200,275,350,75,450,450,450,600,0,0,0,0)call OME('A1AX',110,100,90,9,200,275,350,75,450,450,450,600,0,0,0,0)elseif O0E=='N01A' thencall OME('A14L',20,18,16,14,75,95,115,135,800,800,800,800,350,350,350,350)call OME('A0LZ',0,0,0,0,15,15,15,15,600,600,600,600,0,0,0,0)call OME('A0MC',0,0,0,0,0,0,0,0,0,0,0,0,750,750,750,750)call OME('A0L3',160,160,160,0,250,350,450,0,500,500,500,500,0,0,0,0)elseif O0E=='Hamg' thencall OME('A01Z',10,8,6,4,90,80,70,60,300,300,300,300,0,0,0,0)call OME('A26N',18,16,14,12,140,140,140,140,350,350,350,350,0,0,0,0)call OME('A24O',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A07Z',115,105,95,0,150,175,200,0,500,500,500,500,0,0,0,0)elseif O0E=='Uktl' thencall OME('A0I7',15,15,15,15,110,130,150,160,600,600,600,600,0,0,0,0)call OME('A180',35,35,35,35,170,170,170,170,700,700,700,700,0,0,0,0)call OME('A0B1',25,25,25,25,95,110,125,140,500,500,500,500,400,400,400,400)call OME('A1BX',200,190,180,0,200,300,400,0,250,250,250,500,375,375,375,0)elseif O0E=='Hblm' thencall OME('A085',10,10,10,10,150,150,150,150,800,800,800,800,0,0,0,0)call OME('A10X',18,18,18,18,75,75,75,75,550,700,850,1000,0,0,0,0)call OME('A112',19,18,17,16,40,55,70,85,900,900,900,900,0,0,0,0)call OME('A11T',80,70,60,120,100,100,100,150,0,0,0,0,0,0,0,0)elseif O0E=='Huth' thencall OME('A03Y',6,6,6,6,75,75,75,75,0,0,0,0,385,385,385,385)call OME('A1N4',10,10,10,10,45,55,65,75,0,0,0,0,0,0,0,0)call OME('ANic',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0LC',25,25,25,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='Hmkg' thencall OME('A04W',12,12,12,12,75,85,95,105,600,600,600,600,0,0,0,0)call OME('A011',15,15,15,15,95,105,115,125,700,700,700,700,0,0,0,0)call OME('A083',20,20,20,20,75,75,75,75,600,600,600,600,0,0,0,0)call OME('A088',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A2KQ',20,15,15,0,400,140,155,0,600,1200,1200,500,0,0,0,0)call OME('A08D',6,6,6,6,185,195,205,215,600,600,600,600,0,0,0,0)call OME('A08A',8,8,8,8,145,155,165,175,600,600,600,600,0,0,0,0)call OME('A089',10,10,10,10,105,115,125,135,600,600,600,600,0,0,0,0)call OME('A00F',15,15,15,15,95,105,115,125,700,700,700,700,450,450,450,450)call OME('A01T',15,15,15,15,95,105,115,125,700,700,700,700,300,300,300,300)call OME('A007',15,15,15,15,95,105,115,125,700,700,700,700,150,150,150,150)call OME('A08I',5,5,5,5,75,75,75,75,600,600,600,600,0,0,0,0)call OME('A08G',10,10,10,10,75,75,75,75,600,600,600,600,0,0,0,0)call OME('A08F',15,15,15,15,75,75,75,75,600,600,600,600,0,0,0,0)elseif O0E=='Ntin' thencall OME('A049',14,14,14,14,95,120,145,170,550,550,550,550,0,0,0,0)call OME('A05E',25,25,25,25,120,140,160,180,0,0,0,0,2500,2500,2500,2500)call OME('A0BQ',35,35,35,35,145,150,165,190,300,300,300,300,300,300,300,300)call OME('A065',0,0,0,0,150,250,350,0,500,500,500,500,0,0,0,0)elseif O0E=='Emns' thencall OME('A21E',11,10,9,8,100,120,140,160,600,600,600,600,110,110,110,110)call OME('A01O',50,40,30,20,50,50,50,50,99999,99999,99999,99999,0,0,0,0)call OME('AEfn',37,37,37,37,160,160,160,160,750,750,750,750,150,225,300,375)call OME('A1W8',90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)call OME('A1W9',90,75,60,0,150,200,250,0,99999,99999,99999,500,0,0,0,0)elseif O0E=='Ogrh' thencall OME('A10D',7,7,7,7,125,130,135,140,750,750,750,750,0,0,0,0)call OME('A0D7',30,25,20,15,150,120,90,60,0,0,0,0,0,0,0,0)call OME('A0DB',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A0YK',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='Ucrl' thencall OME('A0LL',17,17,17,17,120,120,120,120,600,600,600,600,275,275,275,275)call OME('A0BZ',10,10,10,10,120,120,120,120,700,900,1100,1300,300,300,300,300)call OME('A19Q',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0CY',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,900)elseif O0E=='H00K' thencall OME('A05J',25,20,15,12,125,150,175,205,100,100,100,100,200,200,200,200)call OME('A06H',20,16,13,10,80,110,140,160,150,150,150,150,0,0,0,0)call OME('A06B',180,170,160,150,100,125,150,175,0,0,0,0,0,0,0,0)call OME('A0AK',10,10,10,7,200,240,300,30,500,500,500,500,0,0,0,0)call OME('A1FY',10,10,10,7,200,240,300,30,700,700,700,500,0,0,0,0)elseif O0E=='H00A' thencall OME('A0KM',14,14,14,14,100,100,100,100,600,600,600,600,0,0,0,0)call OME('A0LV',24,24,24,24,175,175,175,175,600,600,600,600,0,0,0,0)call OME('A28T',30,26,22,18,100,100,100,100,900,900,900,900,0,0,0,0)call OME('A0LT',120,120,120,0,200,300,400,0,500,500,500,500,0,0,0,0)call OME('A1CS',30,30,30,0,200,300,400,0,500,500,500,500,0,0,0,0)elseif O0E=='E005' thencall OME('A042',6,6,6,6,90,100,110,120,800,800,800,800,0,0,0,0)call OME('A041',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A062',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A054',160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)call OME('A00U',160,150,140,0,150,200,250,0,500,500,500,500,0,0,0,0)elseif O0E=='Usyl' thencall OME('A064',15,15,15,15,120,120,120,120,1200,1200,1200,1200,350,350,350,350)call OME('A03S',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A03U',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A04P',20,15,10,9,175,275,375,75,1500,2000,2500,600,0,0,0,0)elseif O0E=='N016' thencall OME('A0BE',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A21M',20,20,20,20,50,50,50,50,900,900,900,900,0,0,0,0)call OME('A0O0',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A1EJ',20,20,20,9,75,75,75,100,0,0,0,0,400,450,475,475)call OME('A21N',12,12,12,12,50,50,50,50,700,700,700,700,0,0,0,0)elseif O0E=='Orkn' thencall OME('A010',8,8,8,8,95,105,135,160,600,600,600,600,200,200,200,200)call OME('A0RX',13,13,13,13,110,140,170,200,500,500,500,500,0,0,0,0)call OME('A00P',16,16,16,16,110,130,155,185,400,400,400,400,0,0,0,0)call OME('A00H',110,110,110,7,200,350,600,30,550,550,550,500,0,0,0,0)call OME('A0A1',110,110,110,7,200,350,600,30,600,600,600,500,0,0,0,0)elseif O0E=='H008' thencall OME('A0FW',2,2,2,2,30,30,30,30,600,600,600,600,0,0,0,0)call OME('A0GP',3,3,3,3,35,35,35,35,0,0,0,0,700,700,700,700)call OME('A0M3',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0FV',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='Npbm' thencall OME('A06M',12,12,12,12,90,105,130,150,0,0,0,0,400,400,400,400)call OME('Acdh',8,8,8,8,50,50,50,50,850,850,850,850,10,10,10,10)call OME('A0MX',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0MQ',180,160,140,180,125,150,175,150,0,0,0,0,128,128,128,128)call OME('A1B6',160,140,120,180,125,150,175,150,0,0,0,0,128,128,128,128)elseif O0E=='H000' thencall OME('A00S',13,13,13,13,85,100,115,130,0,0,0,0,315,315,315,315)call OME('A00L',8,8,8,8,0,0,0,0,150,150,150,150,0,0,0,0)call OME('A00V',0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)call OME('A01L',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='Naka' thencall OME('A004',10,10,10,10,90,115,135,155,650,650,650,650,0,0,0,0)call OME('A1IQ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A07A',15,15,15,15,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A0B4',10,7,5,0,70,60,50,0,900,1050,1200,0,0,0,0,0)elseif O0E=='Hlgr' thencall OME('A03F',12,12,12,12,100,110,120,130,500,500,500,500,150,150,150,150)call OME('A0AR',9,9,9,9,100,100,100,75,150,150,150,600,0,0,0,0)call OME('A0CL',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A03G',115,115,115,180,50,50,50,150,0,0,0,0,0,0,0,0)elseif O0E=='Edem' thencall OME('A022',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('AEbl',12,9,7,5,60,60,60,60,99999,99999,99999,99999,0,0,0,0)call OME('A0KY',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0E3',70,70,70,9,125,200,275,75,600,600,600,600,0,0,0,0)elseif O0E=='Nbrn' thencall OME('A026',0,0,0,0,12,12,12,12,625,625,625,625,0,0,0,0)call OME('A0QB',15,15,15,15,90,90,90,90,900,900,900,900,300,300,300,300)call OME('A029',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A0VC',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='Harf' thencall OME('A08N',12,12,12,12,100,120,140,160,400,500,600,700,0,0,0,0)call OME('A08V',14,14,14,14,50,50,50,50,500,500,500,500,0,0,0,0)call OME('A06A',0,0,0,0,0,0,0,0,0,0,0,0,300,300,300,300)call OME('A0ER',150,150,150,25,125,175,250,50,0,0,0,0,600,600,600,650)elseif O0E=='H00D' thencall OME('A0O1',13,13,13,13,120,120,120,120,1300,1300,1300,1300,100,100,100,100)call OME('A0OO',40,40,40,40,25,25,25,25,0,0,0,0,200,200,200,200)call OME('A0BD',0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)call OME('A0O2',80,75,70,9,150,175,200,75,600,600,600,600,0,0,0,0)call OME('A289',45,45,45,9,150,175,200,75,950,950,950,600,0,0,0,0)elseif O0E=='E00P' thencall OME('A0O7',10,10,10,10,135,140,155,170,500,500,500,500,0,0,0,0)call OME('A0O6',12,11,10,9,75,75,75,75,1100,1100,1100,1100,0,0,0,0)call OME('A0O8',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0O5',60,60,60,8,220,330,440,100,850,850,850,700,0,0,0,125)call OME('A1B1',60,60,60,8,220,330,440,100,1150,1150,1150,700,0,0,0,125)elseif O0E=='N01I' thencall OME('A0IL',22,22,22,22,160,160,160,160,900,900,900,900,625,625,625,625)call OME('A1NI',16,16,16,16,120,120,120,120,0,0,0,0,0,0,0,0)call OME('A0O3',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('ANcr',45,45,45,30,50,100,150,25,0,0,0,0,0,0,0,0)elseif O0E=='N01V' thencall OME('A0KV',12,12,12,12,100,120,140,160,500,500,500,500,0,0,0,0)call OME('A0L8',25,25,25,25,100,100,100,100,3000,3000,3000,3000,0,0,0,0)call OME('A0LN',30,26,22,18,40,35,30,20,0,0,0,0,0,0,0,0)call OME('A0KU',160,140,120,0,175,175,175,0,500,500,500,500,0,0,0,0)elseif O0E=='H00S' thencall OME('A14P',4,4,4,4,70,80,90,100,0,0,0,0,400,450,475,500)call OME('A14R',20,20,20,20,100,110,120,130,300,300,300,300,500,500,500,500)call OME('A0QW',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A14O',0,0,0,0,0,0,0,0,99999,99999,99999,0,0,0,0,0)elseif O0E=='H00Q' thencall OME('A0QP',25,25,25,25,170,170,170,170,400,400,400,400,0,0,0,0)call OME('A0QN',0,0,0,0,0,0,0,0,450,450,450,450,0,0,0,0)call OME('A0QQ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0QR',45,30,15,0,0,0,0,0,550,550,550,500,0,0,0,0)call OME('A1B3',24,16,8,0,0,0,0,0,550,550,550,500,0,0,0,0)elseif O0E=='E01Y' thencall OME('A1EA',17,17,17,17,75,75,75,75,0,0,0,0,0,0,0,0)call OME('A0RV',7,7,7,7,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A0RO',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0RP',11,9,7,0,15,15,15,0,2000,2000,2000,500,300,300,300,0)elseif O0E=='N00B' thencall OME('A0S9',13,13,13,13,150,150,150,150,3000,3000,3000,3000,0,0,0,0)call OME('A0SC',16,16,16,16,100,110,120,130,500,500,500,500,0,0,0,0)call OME('A0SB',6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0S8',85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)call OME('A1QP',85,85,85,6,100,150,200,75,750,750,750,800,375,375,375,200)elseif O0E=='H00T' thencall OME('A0Z4',32,28,24,20,75,75,75,75,500,500,500,500,0,0,0,0)call OME('A0Z5',15,15,15,15,50,60,70,80,500,500,500,500,0,0,0,0)call OME('A0Z6',20,18,16,14,50,50,50,50,99999,99999,99999,99999,575,575,575,575)call OME('A0Z8',70,55,40,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)call OME('A1CV',15,15,15,0,150,150,150,0,2000,2500,3000,500,0,0,0,0)elseif O0E=='H06S' thencall OME('A136',12,12,12,12,120,120,120,120,1500,1500,1500,1500,215,215,215,215)call OME('A13T',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A11N',16,16,16,16,80,90,100,110,500,650,800,950,0,0,0,0)call OME('A11K',90,80,70,0,150,200,250,0,1000,1000,1000,500,0,0,0,0)elseif O0E=='N0EG' thencall OME('A12J',12,12,12,12,90,100,110,120,800,800,800,800,500,500,500,500)call OME('A12K',9,9,9,9,90,100,110,120,1700,1700,1700,1700,0,0,0,0)call OME('A14I',15,15,15,15,100,100,100,100,0,0,0,0,400,450,475,500)call OME('A12P',60,60,60,0,200,300,400,0,600,600,600,500,0,0,0,0)call OME('A1D6',15,15,15,0,200,300,400,0,600,600,600,500,0,0,0,0)elseif O0E=='Eevi' thencall OME('A27A',20,20,20,20,75,75,75,75,600,600,600,600,350,350,350,350)call OME('A275',0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1)call OME('A1RI',70,70,70,70,100,100,100,100,0,0,0,0,0,0,0,0)call OME('A07Q',160,110,60,0,200,100,0,0,250,250,250,0,0,0,0,0)elseif O0E=='Ekee' thencall OME('A06W',9,9,9,9,100,125,140,160,750,750,750,750,150,175,200,225)call OME('A20T',22,22,22,22,95,120,135,155,0,0,0,0,0,0,0,0)call OME('A06V',6,6,6,6,100,115,130,145,700,700,700,700,650,650,650,650)call OME('A21F',1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)call OME('A21G',1,1,1,0,110,110,110,0,0,0,0,0,0,0,0,0)elseif O0E=='Ulic' thencall OME('A07F',9,9,9,8,125,150,170,190,600,600,600,600,200,200,200,200)call OME('A08R',5,5,5,5,50,50,50,50,800,800,800,800,0,0,0,0)call OME('A053',35,30,25,20,25,25,25,25,400,400,400,400,0,0,0,0)call OME('A05T',145,115,60,6,200,325,500,50,750,750,750,800,0,0,0,0)call OME('A08H',145,115,60,6,200,325,500,50,850,850,850,800,0,0,0,0)elseif O0E=='UC76' thencall OME('A02M',8,8,8,8,105,120,140,165,600,600,600,600,110,110,110,110)call OME('A0P6',15,15,15,15,80,80,80,80,900,900,900,900,200,275,350,350)call OME('A02C',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A073',100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)call OME('A078',4,4,4,4,80,95,115,140,600,600,600,600,110,110,110,110)call OME('A074',5,5,5,5,85,100,120,145,600,600,600,600,110,110,110,110)call OME('A072',6,6,6,6,90,105,125,150,600,600,600,600,110,110,110,110)call OME('A06N',7,7,7,7,95,110,130,155,600,600,600,600,110,110,110,110)call OME('A07M',11,11,11,11,55,55,55,55,900,900,900,900,200,275,350,350)call OME('A07J',12,12,12,12,60,60,60,60,900,900,900,900,200,275,350,350)call OME('A07I',13,13,13,13,65,65,65,65,900,900,900,900,200,275,350,350)call OME('A07H',14,14,14,14,70,70,70,70,900,900,900,900,200,275,350,350)call OME('A04N',100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)call OME('A04M',100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)call OME('A04J',100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)call OME('A03J',100,100,100,180,200,300,400,150,0,0,0,0,700,700,700,800)elseif O0E=='UC18' thencall OME('A0X5',12,12,12,12,100,120,145,170,500,500,500,500,0,0,0,0)call OME('A0MN',15,15,15,15,125,150,175,200,500,500,500,500,0,0,0,0)call OME('A02N',25,20,15,10,10,10,10,10,600,650,700,750,800,800,800,800)call OME('A095',150,90,55,9,200,420,650,120,700,700,700,700,500,500,500,500)call OME('A09W',150,90,50,9,200,420,625,120,700,700,700,700,500,500,500,500)elseif O0E=='EC57' thencall OME('A173',22,22,22,22,90,105,120,135,800,800,800,800,0,0,0,0)call OME('A0MY',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0MS',5,5,5,5,20,20,20,20,850,850,850,850,0,0,0,0)call OME('A013',140,120,100,40,200,300,400,125,0,0,0,0,200,200,200,200)call OME('A0A6',140,120,60,40,200,300,400,125,0,0,0,0,200,200,200,200)elseif O0E=='UC11' thencall OME('A02S',11,10,9,8,90,90,90,90,500,500,500,500,150,150,150,150)call OME('A037',12,12,12,10,40,40,40,40,800,800,800,800,0,0,0,0)call OME('A1RD',30,30,30,30,80,80,80,80,99999,99999,99999,99999,100,100,100,100)call OME('A29L',120,110,100,0,200,250,300,0,0,0,0,0,0,0,0,0)elseif O0E=='UC60' thencall OME('A08X',10,10,10,10,70,80,90,100,700,700,700,700,0,0,0,0)call OME('A1NA',4,4,4,4,170,160,150,140,1000,1000,1000,1000,0,0,0,0)call OME('A0VX',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A1NE',180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)call OME('A2IG',180,160,140,9,150,150,150,100,0,0,0,0,0,0,0,475)elseif O0E=='U00A' thencall OME('A055',10,10,10,10,140,140,140,140,500,500,500,500,0,0,0,0)call OME('A0RW',24,18,12,6,70,70,70,70,550,600,650,700,0,0,0,0)call OME('A03N',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A03O',140,140,140,3,125,200,275,150,128,128,128,128,1000,1000,1000,1000)elseif O0E=='U008' thencall OME('A03D',30,30,30,30,125,125,125,125,800,800,800,800,200,200,200,200)call OME('A0ZF',50,45,40,35,15,20,25,30,500,500,500,500,0,0,0,0)call OME('A03E',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A093',100,70,40,180,100,100,100,150,0,0,0,0,0,0,0,0)elseif O0E=='U006' thencall OME('A0BH',10,10,10,10,120,120,120,120,700,700,700,700,0,0,0,0)call OME('A0BG',30,30,30,30,50,50,50,50,600,600,600,600,650,650,650,650)call OME('A0BK',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0WQ',45,45,45,0,100,100,100,0,500,500,500,500,0,0,0,0)elseif O0E=='Ewar' thencall OME('A0YM',8,8,8,8,30,25,20,15,1200,1200,1200,1200,0,0,0,0)call OME('A0PL',14,11,8,5,50,50,50,50,1000,1000,1000,1000,0,0,0,0)call OME('A03P',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A03Q',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='H00V' thencall OME('A1C0',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0G2',11,11,11,11,140,150,160,170,800,800,800,800,500,500,500,500)call OME('A0MP',0,0,0,0,0,0,0,0,128,128,128,128,0,0,0,0)call OME('A1AT',140,110,80,0,200,100,0,0,500,500,500,500,0,0,0,0)elseif O0E=='Udre' thencall OME('A02H',8,8,8,8,80,90,100,110,525,525,525,525,0,0,0,0)call OME('A08E',0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)call OME('A086',0,0,0,0,0,0,0,0,500,500,500,500,0,0,0,0)call OME('A03K',180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A1B0',180,150,120,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='NC00' thencall OME('AHtb',8,8,8,8,140,140,140,140,525,525,525,525,0,0,0,0)call OME('AUav',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('AOcr',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A01Y',260,160,60,240,140,140,140,0,0,0,0,0,0,0,0,0)elseif O0E=='UC42' thencall OME('A10R',60,55,50,45,60,60,60,60,300,300,300,300,0,0,0,0)call OME('A1OP',60,55,50,45,60,65,70,75,0,0,0,0,0,0,0,0)call OME('A094',8,8,8,8,110,110,110,110,600,600,600,600,0,0,0,0)call OME('A0MU',110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)call OME('A0A2',110,110,110,120,150,200,250,125,550,550,550,400,0,0,0,0)elseif O0E=='U000' thencall OME('A0X7',11,11,11,11,95,115,135,155,500,500,500,500,0,0,0,0)call OME('A1H5',28,20,12,4,90,110,130,150,600,600,600,600,0,0,0,0)call OME('A2KO',10,10,10,10,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A09U',70,60,50,5,160,210,260,75,0,0,0,0,0,0,0,0)elseif O0E=='UC91' thencall OME('A05C',40,40,40,40,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A29K',8,8,8,8,80,95,105,115,0,0,0,0,0,0,0,0)call OME('A0JJ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A034',10,10,10,0,25,25,25,0,700,700,700,0,0,0,0,0)elseif O0E=='UC01' thencall OME('A0Q7',20,16,12,8,80,100,120,140,400,400,400,400,0,0,0,0)call OME('A0ME',12,10,8,6,60,60,60,60,99999,99999,99999,99999,0,0,0,0)call OME('A04A',7,7,7,7,110,120,130,140,0,0,0,0,500,500,500,500)call OME('A28R',135,135,135,8,250,360,500,100,700,700,700,700,100,100,100,125)call OME('A28S',100,70,40,8,250,360,500,100,700,700,700,700,100,100,100,125)elseif O0E=='E004' thencall OME('A030',60,50,40,30,90,90,90,90,0,0,0,0,0,0,0,0)call OME('AHfa',0,0,0,0,8,8,8,8,600,600,600,600,0,0,0,0)call OME('A025',20,20,20,20,75,75,75,75,0,0,0,0,0,0,0,0)call OME('A04Q',45,45,45,0,100,100,100,0,400,400,400,0,0,0,0,0)elseif O0E=='EC45' thencall OME('A0LK',19,17,15,13,120,120,120,120,700,900,1100,1300,0,0,0,0)call OME('A0CZ',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A081',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0J1',120,110,100,6,150,175,200,70,600,600,600,800,400,400,400,200)call OME('A1D7',60,60,60,6,150,175,200,70,600,600,600,800,400,400,400,200)elseif O0E=='EC77' thencall OME('A09V',4,3,0,0,20,20,20,20,600,600,600,600,0,0,0,0)call OME('A1A3',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0MM',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A080',80,50,30,8,125,175,250,65,500,500,500,300,0,0,0,0)call OME('A1UZ',12,12,12,8,125,125,125,65,800,800,800,300,0,0,0,0)elseif O0E=='E002' thencall OME('A1E7',14,14,14,14,125,125,125,125,0,0,0,0,0,0,0,0)call OME('A1DP',25,25,25,25,20,30,40,50,600,600,600,600,0,0,0,0)call OME('A1E6',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A1AO',80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)call OME('A1UV',80,70,60,0,100,150,200,0,600,600,600,500,0,0,0,0)elseif O0E=='U00C' thencall OME('A0T2',15,15,15,15,75,75,75,75,0,0,0,0,0,0,0,0)call OME('A0SS',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A194',24,20,16,12,110,110,110,110,700,700,700,700,500,500,500,500)call OME('A0SW',100,100,100,0,50,50,50,0,150,150,150,500,0,0,0,0)elseif O0E=='H00H' thencall OME('A0MT',6,6,6,6,85,105,125,145,400,400,400,400,400,400,400,400)call OME('A0CE',13,11,9,7,100,100,100,100,700,700,700,700,0,0,0,0)call OME('A09D',35,35,35,35,80,80,80,80,0,0,0,0,100,100,100,100)call OME('A0CC',22,22,22,8,125,175,225,75,850,850,850,500,850,850,850,800)call OME('A02Z',0,0,0,8,125,175,225,75,900,900,900,500,900,900,900,800)elseif O0E=='Ofar' thencall OME('A046',12,12,12,12,120,120,120,120,700,700,700,700,0,0,0,0)call OME('A04E',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A226',7,6,5,4,30,40,50,60,0,0,0,0,0,0,0,0)call OME('A29I',150,150,150,12,150,225,325,75,0,0,0,0,0,0,0,500)elseif O0E=='Oshd' thencall OME('A04V',12,12,12,12,95,105,115,125,1000,1000,1000,1000,0,0,0,0)call OME('A0GK',14,14,14,14,125,150,175,200,600,600,600,600,500,500,500,500)call OME('A04Y',15,15,15,15,165,165,165,165,500,550,600,650,0,0,0,0)call OME('A02Q',100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)call OME('A1D9',100,100,100,0,200,300,400,0,625,625,625,0,0,0,0,0)elseif O0E=='U00E' thencall OME('A05V',8,7,6,5,125,145,165,185,0,0,0,0,400,450,475,500)call OME('A01N',0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)call OME('A060',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A067',100,85,70,9,175,340,500,75,600,600,600,600,0,0,0,0)call OME('A08P',70,70,70,9,150,340,500,75,600,600,600,600,0,0,0,0)elseif O0E=='U00F' thencall OME('A06I',14,13,12,11,110,120,130,140,600,800,1000,1200,0,0,0,0)call OME('A06K',0,0,0,0,0,0,0,0,0,0,0,0,250,250,250,250)call OME('A06D',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0FL',30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)call OME('A1CX',30,30,30,0,100,130,170,0,160,160,160,0,0,0,0,0)elseif O0E=='O00J' thencall OME('A1P8',35,35,35,35,100,100,100,100,99999,99999,99999,99999,0,0,0,0)call OME('A0ES',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A0G5',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0G4',75,75,75,0,125,150,175,0,400,550,700,500,0,0,0,0)call OME('A1D8',20,20,20,0,125,150,175,0,550,700,850,500,0,0,0,0)elseif O0E=='Ubal' thencall OME('A1QW',36,33,30,27,100,100,100,100,3000,3000,3000,3000,0,0,0,0)call OME('A0CA',12,10,8,6,60,60,60,60,0,0,0,0,0,0,0,0)call OME('A0CG',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0CT',60,50,40,0,150,75,0,0,0,0,0,500,0,0,0,0)elseif O0E=='Nfir' thencall OME('A0EY',10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)call OME('A0BR',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0FU',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A29J',120,110,100,0,150,175,200,0,0,0,0,0,0,0,0,0)call OME('A0F0',10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)call OME('A0FH',10,10,10,10,75,75,75,75,0,0,0,0,0,0,0,0)elseif O0E=='U00K' thencall OME('A06O',11,11,11,11,110,120,130,140,350,450,550,650,0,0,0,0)call OME('A0H0',40,30,20,10,60,50,40,30,500,500,500,500,0,0,0,0)call OME('A0FA',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A06R',140,120,100,0,175,250,325,0,500,500,500,500,0,0,0,0)call OME('A1B4',120,100,80,0,175,250,325,0,500,500,500,500,0,0,0,0)elseif O0E=='Opgh' thencall OME('A0I6',10,10,10,10,80,90,100,110,500,500,500,500,0,0,0,0)call OME('A0S1',20,15,10,5,75,85,95,105,900,900,900,900,0,0,0,0)call OME('A0C6',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A0E2',75,65,55,9,120,160,200,120,150,150,150,700,150,150,150,500)call OME('A1MR',6,6,6,9,120,160,200,120,150,150,150,700,150,150,150,500)elseif O0E=='Hvsh' thencall OME('A0EC',12,10,8,6,80,80,80,80,800,800,800,800,0,0,0,0)call OME('A0LE',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0I8',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0LH',70,60,50,0,150,200,250,0,1000,1000,1000,500,0,0,0,0)elseif O0E=='Udea' thencall OME('A0I3',6,6,6,6,75,75,75,75,800,800,800,800,0,0,0,0)call OME('A0MF',14,12,10,8,100,105,110,115,500,500,500,500,1,1,1,1)call OME('A0MG',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0NS',60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)call OME('A1DA',60,60,60,5,0,0,0,75,0,0,0,0,0,0,0,0)elseif O0E=='E01B' thencall OME('A0HW',16,16,16,16,130,140,150,160,2000,2000,2000,2000,0,0,0,0)call OME('A0FX',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0NA',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0H9',120,120,120,0,150,150,150,0,0,0,0,500,0,0,0,0)elseif O0E=='E01A' thencall OME('A0NM',20,18,16,14,110,120,130,140,700,700,700,700,500,500,500,500)call OME('A0NE',0,0,0,0,15,40,65,90,0,0,0,0,340,340,340,340)call OME('A0NO',35,35,35,35,120,120,120,120,400,400,400,400,150,150,150,150)call OME('A0NT',90,90,90,120,200,200,200,150,300,350,400,700,0,0,0,0)call OME('A0NX',90,90,90,120,200,200,200,150,300,350,400,700,0,0,0,0)elseif O0E=='U00P' thencall OME('A0OI',0,0,0,0,100,100,100,100,450,450,450,450,0,0,0,0)call OME('A0OJ',18,16,14,12,120,140,160,180,550,550,550,550,500,500,500,500)call OME('A0IF',0,0,0,0,0,0,0,0,0,0,0,0,1000,1000,1000,1000)call OME('A0OK',160,160,160,0,175,250,325,0,600,650,700,0,375,475,575,0)call OME('A1VW',160,160,160,0,175,250,325,0,700,750,800,0,375,475,575,0)elseif O0E=='E01C' thencall OME('A0J5',25,25,25,25,120,120,120,120,800,800,800,800,0,0,0,0)call OME('A0AS',20,20,20,20,90,110,130,150,500,500,500,500,0,0,0,0)call OME('A06P',50,50,50,50,100,110,120,130,700,700,700,700,650,650,650,650)call OME('S008',165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)call OME('S00U',165,165,165,30,200,250,300,100,1200,1200,1200,900,600,600,600,250)elseif O0E=='H00I' thencall OME('A0NB',20,16,12,8,100,100,100,100,500,750,1000,1250,220,220,220,220)call OME('A0N8',14,12,10,8,80,80,80,80,99999,99999,99999,99999,0,0,0,0)call OME('A0N7',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A0MW',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A27C',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='N01W' thencall OME('A0NQ',15,13,11,9,100,115,130,145,600,600,600,600,0,0,0,0)call OME('A10L',60,45,30,15,140,130,120,110,400,600,800,1000,0,0,0,0)call OME('A0OR',12,10,8,6,80,90,100,110,900,900,900,900,0,0,0,0)call OME('A10Q',40,40,40,0,100,100,100,0,2000,2000,2000,0,575,575,575,0)call OME('A1DB',40,40,40,0,100,100,100,0,2000,2000,2000,0,775,775,775,0)elseif O0E=='N00R' thencall OME('A26O',16,16,16,16,100,110,120,130,775,775,775,775,450,450,450,450)call OME('A0RA',24,21,18,15,100,115,130,145,750,750,750,750,275,275,275,275)call OME('A288',18,18,18,18,125,135,145,155,0,0,0,0,0,0,0,0)call OME('A0R0',130,130,130,0,75,150,225,0,99999,99999,99999,500,0,0,0,0)elseif O0E=='H00R' thencall OME('A15S',10,8,6,4,70,90,110,130,625,625,625,625,300,300,300,300)call OME('A0R5',25,20,15,10,50,75,100,125,650,650,650,650,0,0,0,0)call OME('A15V',60,60,60,60,120,130,140,150,600,600,600,600,0,0,0,0)call OME('A15J',75,75,75,180,100,100,100,150,0,0,0,0,0,0,0,0)elseif O0E=='H00N' thencall OME('A0QE',16,16,16,16,100,130,160,190,550,550,550,550,275,375,475,575)call OME('A0QG',10,10,10,10,70,90,110,130,600,600,600,600,0,0,0,0)call OME('A0R7',12,11,10,9,20,30,40,50,600,600,600,600,0,0,0,0)call OME('A0QK',100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)call OME('A21Q',100,100,100,0,200,300,400,0,500,900,1300,500,300,300,300,0)elseif O0E=='H00U' thencall OME('A21W',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A21X',0,0,0,9,0,0,0,100,0,0,0,0,0,0,0,475)call OME('A21V',0,0,0,25,0,0,0,50,0,0,0,0,0,0,0,650)call OME('A21Y',22,17,12,5,20,40,60,80,0,0,0,0,0,0,0,0)call OME('A1GU',16,8,4,2,0,0,0,0,0,0,0,0,0,0,0,0)elseif O0E=='N0HP' thencall OME('A1MG',15,13,11,9,150,150,150,150,700,700,700,700,0,0,0,0)call OME('A1HS',6,6,6,6,80,90,100,110,1500,1500,1500,1500,250,250,250,250)call OME('A1HQ',50,46,42,38,140,140,140,140,800,800,800,800,450,450,450,450)call OME('A1MI',45,45,45,0,100,125,150,0,99999,99999,99999,500,0,0,0,0)elseif O0E=='O015' thencall OME('A1AA',15,15,15,15,100,115,130,145,500,500,500,500,0,0,0,0)call OME('A1A8',16,16,16,16,110,110,110,110,1200,1200,1200,1200,0,0,0,0)call OME('A1CD',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A1A1',100,100,100,0,175,175,175,0,1600,1600,1600,500,0,0,0,0)elseif O0E=='H071' thencall OME('A1IM',10,9,8,7,55,50,45,40,0,0,0,0,0,0,0,0)call OME('A1J7',20,16,12,8,75,75,75,75,500,500,500,500,0,0,0,0)call OME('A1HR',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A1IN',25,25,25,5,120,120,120,75,0,0,0,0,0,0,0,0)elseif O0E=='O016' thencall OME('A1EL',3,3,3,3,20,20,20,20,700,700,700,700,375,375,375,375)call OME('A19V',11,11,11,11,80,100,120,140,1500,1500,1500,1500,375,375,375,375)call OME('A19Z',40,40,40,40,100,100,100,100,0,0,0,0,-1,-1,-1,-1)call OME('A19O',90,70,50,9,150,150,150,120,175,175,175,700,500,500,500,500)elseif O0E=='E02I' thencall OME('A1YO',18,16,14,12,120,120,120,120,1500,1500,1500,1500,0,0,0,0)call OME('A1S7',28,28,28,28,75,75,75,75,1250,1250,1250,1250,0,0,0,0)call OME('A1YR',50,50,50,50,75,75,75,75,0,0,0,0,100,100,100,100)call OME('A1YQ',30,24,18,9,50,75,100,100,0,0,0,0,0,0,0,475)elseif O0E=='E02N' thencall OME('A1SO',7,7,6,6,90,90,90,90,500,500,500,500,0,0,0,0)call OME('A1SQ',20,17,14,11,120,130,140,150,1050,1050,1050,1050,500,500,500,500)call OME('A229',20,20,20,20,50,50,50,50,0,0,0,0,0,0,0,0)call OME('A1T5',55,50,45,6,125,125,125,75,1000,1000,1000,800,400,400,400,200)call OME('A235',55,50,45,6,125,125,125,75,99999,99999,99999,800,400,400,400,200)elseif O0E=='E02J' thencall OME('A1TV',16,16,16,16,130,130,130,130,800,800,800,800,0,0,0,0)call OME('A1SW',60,50,40,30,160,130,100,70,600,1000,1400,1800,500,500,500,500)call OME('A1SU',14,14,14,14,70,70,70,70,900,900,900,900,300,300,300,300)call OME('A1U6',85,85,85,0,125,175,225,0,800,800,800,500,375,375,375,0)elseif O0E=='O01F' thencall OME('A1TA',12,12,12,12,40,40,40,40,1800,1800,1800,1800,1,1,1,1)call OME('A1T8',20,18,16,14,120,130,140,150,0,0,0,0,0,0,0,0)call OME('A28Q',2,2,2,2,0,0,0,0,128,128,128,128,0,0,0,0)call OME('A1TB',90,75,60,0,100,100,100,0,99999,99999,99999,500,0,0,0,0)elseif O0E=='E02H' thencall OME('A1S8',25,22,19,16,120,120,120,120,600,600,600,600,500,500,500,500)call OME('A1SB',13,13,13,13,50,50,50,50,600,600,600,600,500,500,500,500)call OME('A1S4',3,3,3,3,50,50,50,50,1500,1500,1500,1500,0,0,0,0)call OME('A1SA',50,50,50,0,200,200,200,0,800,800,800,0,0,0,0,0)elseif O0E=='E02F' thencall OME('A1RJ',25,25,25,25,100,100,100,100,99999,99999,99999,99999,0,0,0,0)call OME('A1YX',30,30,30,30,75,75,75,75,1200,1200,1200,1200,0,0,0,0)call OME('A1YY',0,0,0,0,10,20,30,40,2000,2000,2000,2000,0,0,0,0)call OME('A1RK',110,110,110,0,200,200,200,0,700,700,700,500,0,0,0,0)elseif O0E=='E02X' thencall OME('A27F',18,18,18,18,120,120,120,120,550,575,600,625,0,0,0,0)call OME('A27G',16,14,12,10,150,150,150,150,800,800,800,800,0,0,0,0)call OME('A27V',0,0,0,0,0,0,0,0,0,0,0,0,900,900,900,900)call OME('A27H',20,18,16,0,25,25,25,0,1000,1000,1000,500,0,0,0,0)elseif O0E=='N0M0' thencall OME('A2H3',14,12,10,8,110,110,110,110,0,0,0,0,0,0,0,0)call OME('A2H0',30,22,14,6,50,50,50,50,700,700,700,700,250,350,450,550)call OME('A2HS',35,35,35,35,80,90,100,110,1200,1200,1200,1200,0,0,0,0)call OME('A2JK',0,0,0,0,0,0,0,0,1500,1500,1500,500,0,0,0,0)elseif O0E=='E02K' thencall OME('A2JB',18,18,18,18,100,100,100,100,1000,1000,1000,1000,315,315,315,315)call OME('A2J2',15,15,15,15,80,90,100,110,800,800,800,800,0,0,0,0)call OME('A2EY',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A2CI',50,50,50,0,75,75,75,0,100,100,100,500,0,0,0,0)elseif O0E=='H0DO' thencall OME('A2BE',5,4,3,2,70,70,70,70,800,800,800,800,500,500,500,500)call OME('A2IT',20,19,18,17,110,110,110,110,0,0,0,0,0,0,0,0)call OME('A2HN',11,11,11,11,80,90,100,110,700,700,700,700,0,0,0,0)call OME('A2BG',60,40,20,0,350,575,800,0,1200,1200,1200,500,170,170,170,0)elseif O0E=='E032' thencall OME('A2FK',8,8,8,8,70,80,90,100,0,0,0,0,0,0,0,0)call OME('A2E3',4,4,4,4,60,70,80,90,800,1000,1200,1400,0,0,0,0)call OME('A2E4',0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)call OME('A2E5',8,8,8,0,125,150,175,0,1200,1200,1200,500,200,200,200,0)endifendfunctionfunction O5E takes integer O5,integer o6,integer n6,integer O2E,integer O_E,integer P4E,integer P7E,integer P8E returns nothingset eY[128+O5]=o6set eY[144+O5]=n6set eY[160+O5]=O2Eset eY[172+O5]=O_Eset eY[188+O5]=P4Eset hG[144+O5]=P7Eset hG[160+O5]=P8Eendfunctionfunction P9E takes unit it returns booleanlocal integer i1=GetUnitTypeId(it)return((i1=='H00D')or(i1=='Otch')or(i1=='N0HP')or(i1=='H00U')or(i1=='Npbm')or(i1=='H001')or(i1=='Ucrl')or(i1=='Hamg')or(i1=='Hlgr')or(i1=='U00K')or(i1=='O00J')or(i1=='Ofar')or(i1=='Opgh')or(i1=='U00A')or(i1=='U00C')or(i1=='Udea')or(i1=='NC00')or(i1=='UC91')or(i1=='E002')or(i1=='Huth')or(i1=='U006')or(i1=='U000')or(i1=='EC57')or(i1=='EC77')or(i1=='N00B')or(i1=='H004')or(i1=='UC60')or(i1=='Hmkg')or(i1=='E00P')or(i1=='H00N')or(i1=='UC76')or(i1=='UC18')or(i1=='Uktl')or(i1=='Ulic')or(i1=='U00E')or(i1=='E01C'))endfunctionfunction PDE takes integer O5,unit it,integer i1 returns nothingif(i1=='H00V')thencall O5E(O5,'A0MP','A0G2','A1C0','A1AT',0,12,13)elseif(i1=='U00C')thencall O5E(O5,'A0T2','A0SS','A194','A0SW',0,101,101)elseif(i1=='EC77')thencall O5E(O5,'A0MM','A09V','A1A3','A080','A1UZ',7,3)elseif(i1=='EC45')thencall O5E(O5,'A0CZ','A081','A0LK','A0J1','A1D7',9,9)elseif(i1=='U000')thencall O5E(O5,'A0X7','A1H5','A2KO','A09U',0,21,17)elseif(i1=='E004')thencall O5E(O5,'AHfa','A030','A025','A04Q',0,9,11)elseif(i1=='Udre')thencall O5E(O5,'A086','A02H','A08E','A03K','A1B0',1,11)elseif(i1=='UC01')thencall O5E(O5,'A04A','A0Q7','A0ME','A28R','A28S',13,20)elseif(i1=='UC91')thencall O5E(O5,'A05C','A29K','A0JJ','A034',0,8,1)elseif(i1=='UC42')thencall O5E(O5,'A10R','A094','A1OP','A0MU','A0A2',15,16)elseif(i1=='NC00')thencall O5E(O5,'AHtb','AUav','AOcr','A01Y',0,11,6)elseif((i1=='Eevi')or(i1=='Eevm'))thencall O5E(O5,'A27A','A275','A1RI','A07Q',0,10,13)elseif(i1=='Ekee')thencall O5E(O5,'A06V','A06W','A20T','A21F','A21G',102,23)elseif(i1=='Ulic')thencall O5E(O5,'A07F','A053','A08R','A05T','A08H',25,25)elseif(i1=='U006')thencall O5E(O5,'A0BH','A0BG','A0BK','A0WQ',0,14,16)elseif(i1=='UC18')thencall O5E(O5,'A0X5','A0MN','A02N','A095','A09W',23,17)elseif(i1=='EC57')thencall O5E(O5,'A173','A0MY','A0MS','A013','A0A6',8,8)elseif(i1=='UC11')thencall O5E(O5,'A02S','A037','A1RD','A29L',0,8,11)elseif(i1=='UC60')thencall O5E(O5,'A08X','A1NA','A0VX','A1NE','A2IG',107,107)elseif(i1=='U008')thencall O5E(O5,'A03E','A03D','A0ZF','A093',0,1,6)elseif(i1=='U00A')thencall O5E(O5,'A055','A0RW','A03N','A03O',0,10,1)elseif(i1=='Ewar')thencall O5E(O5,'A0YM','A0PL','A03P','A03Q',0,3,11)elseif(i1=='Udea')thencall O5E(O5,'A0MF','A0I3','A0MG','A0NS','A1DA',4,4)elseif(i1=='Hvsh')thencall O5E(O5,'A0LE','A0I8','A0EC','A0LH',0,1,11)elseif(i1=='Ubal')thencall O5E(O5,'A1QW','A0CA','A0CG','A0CT',0,6,6)elseif(i1=='Opgh')thencall O5E(O5,'A0C6','A0S1','A0I6','A0E2','A1MR',104,4)elseif(i1=='U00K')thencall O5E(O5,'A06O','A0FA','A0H0','A06R','A1B4',8,11)elseif(i1=='Nfir')thencall O5E(O5,'A0BR','A0EY','A0FU','A29J',0,7,8)elseif(i1=='O00J')thencall O5E(O5,'A1P8','A0ES','A0G5','A0G4','A1D8',1,1)elseif(i1=='U00F')thencall O5E(O5,'A06I','A06K','A06D','A0FL','A1CX',103,4)elseif(i1=='U00E')thencall O5E(O5,'A05V','A060','A01N','A067','A08P',21,25)elseif(i1=='Oshd')thencall O5E(O5,'A0GK','A04Y','A04V','A02Q','A1D9',18,17)elseif(i1=='Ofar')thencall O5E(O5,'A046','A04E','A226','A29I',0,11,15)elseif(i1=='H00H')thencall O5E(O5,'A0MT','A0CE','A09D','A0CC','A02Z',21,21)elseif(i1=='UC76')thencall O5E(O5,0,'A02C',0,0,0,25,25)elseif(i1=='E01B')thencall O5E(O5,'A0HW','A0FX','A0NA','A0H9',0,10,6)elseif(i1=='E01A')thencall O5E(O5,'A0NM','A0NO','A0NE','A0NT','A0NX',105,23)elseif(i1=='U00P')thencall O5E(O5,'A0IF','A0OI','A0OJ','A0OK','A1VW',23,22)elseif(i1=='E01C')thenif(KL7(not IsPlayerAlly(Player(O5),Y7[0]))>2)thencall O5E(O5,'A0AS','A06P','A0J5','S008','S00U',17,20)elsecall O5E(O5,'A0AS','A0J5','A06P','S008','S00U',17,20)endifelseif(i1=='H00I')thencall O5E(O5,'A0N7','A0N8','A0NB','A0MW','A27C',106,106)elseif(i1=='N01W')thencall O5E(O5,'A0OR','A10L','A0NQ','A10Q','A1DB',17,18)elseif(i1=='N00R')thencall O5E(O5,'A26O','A0RA','A288','A0R0',0,15,16)elseif(i1=='H00R')thencall O5E(O5,'A15S','A0R5','A15V','A15J',0,5,5)elseif(i1=='H00N')thencall O5E(O5,'A0QG','A0QE','A0R7','A0QK','A21Q',5,5)elseif(i1=='H008')thencall O5E(O5,'A0M3','A0FW','A0GP','A0FV',0,4,4)elseif(i1=='E005')thencall O5E(O5,'A062','A041','A042','A054','A00U',154,154)elseif(i1=='Npbm')thencall O5E(O5,'A06M','A0MX','Acdh','A0MQ','A1B6',6,10)elseif(i1=='H000')thencall O5E(O5,'A00S','A00L','A00V','A01L',0,6,10)elseif(i1=='Nbrn')thencall O5E(O5,'A026','A029','A0QB','A0VC',0,9,7)elseif(i1=='Hlgr')thencall O5E(O5,'A03F','A2AI','A0CL','A03G',0,15,6)elseif(i1=='Edem')thencall O5E(O5,'A022','A0KY','AEbl','A0E3',0,9,3)elseif(i1=='Usyl')thencall O5E(O5,'A03S','A03U','A064','A04P',0,3,13)elseif(i1=='Harf')thencall O5E(O5,'A08N','A08V','A06A','A0ER',0,18,5)elseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thencall O5E(O5,'A0BE','A21L','A0O0','A1EJ',0,12,9)elseif(i1=='Naka')thencall O5E(O5,'A004','A1IQ','A07A','A0B4',0,1,3)elseif(i1=='Orkn')thencall O5E(O5,'A00P','A010','A0RX','A00H','A0A1',17,23)elseif(i1=='Hvwd')thencall O5E(O5,'A02A','ACac','A17O','A0IN','A1AW',14,4)elseif(i1=='Hmbr')thencall O5E(O5,'A0JC','A020','A0N5','A29G','A29H',16,20)elseif(i1=='Emoo')thencall O5E(O5,'A0DW','A0DX','A01B','A0DY','A1WB',26,22)elseif(i1=='Uktl')thencall O5E(O5,'A0I7','A180','A0B1','A1BX',0,18,25)elseif(i1=='Hblm')thencall O5E(O5,'A085','A112','A10X','A11T',0,19,19)elseif(i1=='Ntin')thencall O5E(O5,'A05E','A049','A0BQ','A065',0,157,19)elseif(i1=='Emns')thencall O5E(O5,'A21E','AEfn','A01O','A1W8','A1W9',18,19)elseif(i1=='O00P')thencall O5E(O5,'A0FN','A0G6','A0KX','A0G8',0,1,12)elseif(i1=='HC49')thencall O5E(O5,'A063','A24D','A2KU','A07U',0,10,9)elseif(i1=='Nbbc')thencall O5E(O5,'A05G','A00K','A047','A0M1','A1AX',1,11)elseif(i1=='Hjai')thencall O5E(O5,'A1E9','A04C','AHab','A03R','A0AV',8,17)elseif(i1=='HC92')thencall O5E(O5,'A0DZ','A0K9','A0RG','A00J',0,1,10)elseif(i1=='H001')thencall O5E(O5,'A190','A01K','A2IS','A1WH',0,11,4)elseif(i1=='H00A')thencall O5E(O5,'A28T','A0KM','A0LV','A0LT','A1CS',153,153)elseif(i1=='H004')thencall O5E(O5,'A01F','A027','A18X','A01P','A09Z',16,23)elseif(i1=='Ucrl')thencall O5E(O5,'A0BZ','A0LL','A19Q','A0CY',0,15,16)elseif(i1=='Otch')thencall O5E(O5,'A0SK','A0DJ','A0DL','A0DH','A1OB',15,16)if IsPlayerAlly(Player(O5),Y7[0])thenset FG7=trueelseset FH7=trueendifelseif(i1=='N01A')thencall O5E(O5,'A14L','A0LZ','A0MC','A0L3',0,26,22)elseif(i1=='H00K')thencall O5E(O5,'A05J','A06B','A06H','A0AK','A1FY',151,151)elseif(i1=='Huth')thencall O5E(O5,'ANic','A1N4','A03Y','A0LC',0,156,156)elseif(i1=='Ogrh')thencall O5E(O5,'A0DB','A10D','A0D7','A0YK',0,10,9)elseif(i1=='Hamg')thencall O5E(O5,'A01Z','A26N','A24O','A07Z',0,152,20)elseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thencall O5E(O5,'A0A5','A0A8',0,'A0AG',0,3,11)elseif(i1=='Hmkg')thencall O5E(O5,0,0,0,'A088',0,16,23)elseif(i1=='H00D')thencall O5E(O5,'A0O1','A0OO','A0BD','A0O2','A289',155,16)elseif(i1=='E00P')thencall O5E(O5,'A0O6','A0O7','A0O8','A0O5','A1B1',19,25)elseif(i1=='N01I')thencall O5E(O5,'A0O3','A1NI','A0IL','ANcr',0,6,11)elseif(i1=='N01V')thencall O5E(O5,'A0KV','A0L8','A0LN','A0KU',0,14,12)elseif(i1=='H00Q')thencall O5E(O5,'A0QP','A0QN','A0QQ','A0QR','A1B3',11,11)elseif(i1=='E01Y')thencall O5E(O5,'A0RO','A1EA','A0RV','A0RP',0,9,10)elseif(i1=='N00B')thencall O5E(O5,'A0S9','A0SC','A0SB','A0S8','A1QP',13,18)elseif(i1=='N0HP')thencall O5E(O5,'A1MG','A1HS','A1HQ','A1MI','0',1,1)elseif(i1=='H071')thencall O5E(O5,'A1IM','A1J7','A1HR','A1IN','0',1,1)elseif(i1=='E002')thencall O5E(O5,'A1E7','A1DP','A1E6','A1AO','A1UV',1,1)elseif(i1=='E02J')thencall O5E(O5,'A1TV','A1SW','A1SU','A1U6','0',1,1)elseif(i1=='E02I')thencall O5E(O5,'A1YO','A1S7','A1YR','A1YQ','0',1,1)elseif(i1=='E02F')thencall O5E(O5,'A1RJ','A1YX','A1YY','A1RK','0',1,1)elseif(i1=='E02X')thencall O5E(O5,'A27F','A27G','A27V','A27H','0',1,1)if R97(Player(O5))thenset FF7=trueendifelseif(i1=='H00T')thencall O5E(O5,'A0Z4','A0Z5','A0Z6','A0Z8','A1CV',1,1)elseif(i1=='H00U')thencall O5E(O5,'A21W','A21X','A21V','A21Y','A1GU',1,1)elseif(i1=='N0EG')thencall O5E(O5,'A12J','A12K','A14I','A12P','A1D6',1,1)elseif(i1=='E02N')thencall O5E(O5,'A1SO','A1SQ','A229','A1T5','A235',1,1)elseif(i1=='O01F')thencall O5E(O5,'A1TA','A1T8','A28Q','A1TB',0,1,1)elseif(i1=='H00S')thencall O5E(O5,'A14P','A14R','A0QW','A14O',0,1,1)elseif(i1=='O016')thencall O5E(O5,'A1EL','A19V','A19Z','A19O',0,1,1)elseif(i1=='E02H')thencall O5E(O5,'A1S8','A1SB','A1S4','A1SA',0,1,1)elseif(i1=='N0M0')thencall O5E(O5,'A2H3','A2H0','A2HS','A2JK',0,1,1)elseif(i1=='E02K')thencall O5E(O5,'A2JB','A2J2','A2EY','A2CI',0,1,1)elseif(i1=='H0DO')thencall O5E(O5,'A2BE','A2IT','A2HN','A2BG',0,1,1)elseif(i1=='E032')thencall O5E(O5,'A2FK','A2E3','A2E4','A2E5',0,1,1)elsecall O5E(O5,HA4[GetUnitPointValue(it)],HB4[GetUnitPointValue(it)],HC4[GetUnitPointValue(it)],H34[GetUnitPointValue(it)],H64[GetUnitPointValue(it)],1,1)endifset bj_forLoopAIndex=O5call O1E(i1)endfunctionfunction PEE takes nothing returns nothingcall L08(GetTriggerUnit())if(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)thenif(GetUnitTypeId(GetTriggerUnit())!='H00J')thencall ExecuteFunc("UD")elsecall ExecuteFunc("xh")endifelseif(GetUnitTypeId(GetTriggerUnit())!='H00J')thenif not(((QR4!=null)and(IsTriggerEnabled(QR4)))and(((GetOwningPlayer(GetTriggerUnit())==QK4)and(QN4!=null))or((GetOwningPlayer(GetTriggerUnit())==QM4)and(QO4!=null))))thenset bj_lastLoadedUnit=GetTriggerUnit()call PDE(GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)),bj_lastLoadedUnit,GetUnitTypeId(bj_lastLoadedUnit))call ExecuteFunc("PFE")endifendifendfunctionfunction PGE takes integer O5,integer IO7 returns nothinglocal integer PHE=0local real xlocal real ylocal integer PIE=MG4local integer PJE=MJ4local integer kg=0local player pl=Player(O5)local integer i=0if(RD7(pl)and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(G7[GetPlayerId(pl)]==null))thenif(((Q_7(pl))and(not L))or((L)and(GetRandomInt(1,2)==1)))thenset PIE=MG4set PJE=MH4elseset PIE=MI4set PJE=MJ4endifif(Q_7(pl))thenset x=GetRandomReal(GetRectMinX(Z9),GetRectMaxX(Z9))set y=GetRandomReal(GetRectMinY(Z9),GetRectMaxY(Z9))elseset x=GetRandomReal(GetRectMinX(Y9),GetRectMaxX(Y9))set y=GetRandomReal(GetRectMinY(Y9),GetRectMaxY(Y9))endifset eY[GetPlayerId(pl)]=0loopset PHE=GetRandomInt(PIE,PJE)if((not v[PHE])and(IN7(ME4[PHE],IO7)or i>20))thenset G7[GetPlayerId(pl)]=CreateUnit(pl,ME4[PHE],x,y,bj_UNIT_FACING)endifset i=i+1exitwhen(G7[GetPlayerId(pl)]!=null)endloopif(not(B or C or Y8 or IJ4))thencall AdjustPlayerStateBJ(-250,pl,PLAYER_STATE_RESOURCE_GOLD)endifendifset pl=nullendfunctionfunction SEv takes nothing returns nothingif(IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))thenif(GetUnitTypeId(GetEnumUnit())=='U006')thencall ExecuteFunc("T78")endifelseif((GetUnitTypeId(GetEnumUnit())=='n004')or(GetUnitTypeId(GetEnumUnit())=='n018')or(GetUnitTypeId(GetEnumUnit())=='n01C')or(GetUnitTypeId(GetEnumUnit())=='n01G'))thencall RemoveUnit(GetEnumUnit())endifendfunctionfunction PKE takes player pl,boolean PME returns nothinglocal integer PIElocal integer PJElocal integer PHElocal integer O5=GetPlayerId(pl)local integer IO7=M_7(GetHandleId(pl),"AI|Class")local integer i=0if(((Q_7(pl))and(not L))or((L)and(GetRandomInt(1,2)==1)))thenset PIE=MG4set PJE=MH4elseset PIE=MI4set PJE=MJ4endifif(PME)thenif L or W8 thenset V4=100endifcall AdjustPlayerStateBJ(-1*V4,pl,PLAYER_STATE_RESOURCE_GOLD)endifcall GroupClear(H8)set bj_groupEnumOwningPlayer=plcall GroupEnumUnitsInRect(H8,GetWorldBounds(),filterGetUnitsInRectOfPlayer)call ForGroup(H8,function G39)call VW7(G7[O5])set G7[O5]=nullset I[O5]=trueloopset PHE=GetRandomInt(PIE,PJE)if(v[PHE]==false and(IN7(ME4[PHE],IO7)or i>20))thenset v[PHE]=trueif(Q_7(pl))thenset G7[O5]=CreateUnit(pl,ME4[PHE],GetRectCenterX(C9),GetRectCenterY(C9),bj_UNIT_FACING)elseset G7[O5]=CreateUnit(pl,ME4[PHE],GetRectCenterX(B9),GetRectCenterY(B9),bj_UNIT_FACING)endifcall R07(ME4[PHE])endifset i=i+1exitwhen G7[O5]!=nullendloopendfunctionfunction PNE takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local player pl=J37(S2I(SubString(VH,9,StringLength(VH))))if((pl!=null)and(RD7(pl))and(IsPlayerInForce(pl,QP4)))thenif((IsPlayerAlly(GetTriggerPlayer(),pl))or(K57(not IsPlayerAlly(GetTriggerPlayer(),Y7[0]))==null))thenif((I[GetPlayerId(pl)])or(G7[GetPlayerId(pl)]==null))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot repick")elseif(Bz>60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Too late to repick")elsecall PKE(pl,false)endifelsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Cannot force repick on enemies with human ally")endifendifset pl=nullendfunctionfunction POE takes nothing returns nothinglocal string VH=GetEventPlayerChatString()local integer PPE=1local boolean O6=IsPlayerAlly(GetTriggerPlayer(),Y7[0])local boolean PQEif((J)and((VH=="-pa")or(VH=="-pe")))thenset Gs=trueif(VH=="-pa")thenset PQE=O6elseset PQE=not O6endifloopif(R97(K07(PPE,PQE))and G7[GetPlayerId(K07(PPE,PQE))]==null)thenexitwhen trueendifset PPE=PPE+1exitwhen(PPE>5)endloopif((PPE<=5)and(K27(O6)==null))thenif((G7[GetPlayerId(K57(O6))]==null)and(not oo[GetPlayerId(K57(O6))]))thenif(O6)thenset QN4=K07(PPE,PQE)elseset QO4=K07(PPE,PQE)endifif(not L)thencall SetUnitOwner(h4[512+GetPlayerId(K57(O6))],K27(O6),false)call SetUnitOwner(h4[512+GetPlayerId(K27(O6))],K57(O6),false)if VH=="-pe" thenset nc=CreateUnitAtLoc(K57(O6),'n00C',GetRectCenter(pr),0)set Vc=CreateUnitAtLoc(K57(O6),'n00C',GetRectCenter(qr),0)if not L thencall R_7(GetTriggerPlayer())endifendifendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Pick a hero for "+K[GetPlayerId(K27(O6))]+GetPlayerName(K27(O6))+"|r. Type "+EV7+"-px|r to cancel.")elsecall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"You should pick heroes for the AI before choosing your own hero. Randomized instead.")call PGE(GetPlayerId(K07(PPE,PQE)),0)endifelseif(K27(O6)!=null)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Already picking for "+K[GetPlayerId(K27(O6))]+GetPlayerName(K27(O6))+"|r")endifelseif(VH=="-px")thenif not L thencall S47(GetTriggerPlayer())endifif(K27(O6)!=null)thencall SetUnitOwner(h4[512+GetPlayerId(K57(O6))],K57(O6),false)call SetUnitOwner(h4[512+GetPlayerId(K27(O6))],K27(O6),false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullif(O6)thenset QN4=nullelseset QO4=nullendifcall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"Picking cancelled")endifelseif((not J)and((VH=="-pa")or(VH=="-pe")))thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,5.,"|c00888888Too early to pick a hero.|r")endifendfunctionfunction PRE takes nothing returns booleanlocal integer O5=1loopexitwhen O5>5if(R87(Y7[O5])and(G7[GetPlayerId(Y7[O5])]==null))thenreturn trueelseif(R87(Z7[O5])and(G7[GetPlayerId(Z7[O5])]==null))thenreturn trueendifset O5=O5+1endloopreturn falseendfunctionfunction PSE takes nothing returns nothinglocal integer O5=1local boolean array PTElocal integer ilocal integer jif(Bz<68.)thenif(((R8)or(not Gs))and(Bz>43.))thenelseif(PRE()or Bz<30.)thenreturnelsecall I17(1.)endifendifcall DestroyTrigger(GetTriggeringTrigger())call DisableTrigger(QR4)if(QN4!=null)thencall DisplayTimedTextToPlayer(QK4,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(QK4)],QK4,false)call SetUnitOwner(h4[512+GetPlayerId(QN4)],QN4,false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset QN4=nullendifif(QO4!=null)thencall DisplayTimedTextToPlayer(QM4,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(QM4)],QM4,false)call SetUnitOwner(h4[512+GetPlayerId(QO4)],QO4,false)call RemoveUnit(nc)call RemoveUnit(Vc)set nc=nullset Vc=nullset QO4=nullendifif((B)or(Y8)or(C)or(IJ4)or(O34)or(F9)or(RJ4)or(RA4))thenreturnendifset O5=1loopexitwhen O5>5if G7[GetPlayerId(Y7[O5])]!=null thenset PTE[IK7(GetUnitTypeId(G7[GetPlayerId(Y7[O5])]))]=trueendifif G7[GetPlayerId(Z7[O5])]!=null thenset PTE[6+IK7(GetUnitTypeId(G7[GetPlayerId(Z7[O5])]))]=trueendifset O5=O5+1endloopif IG4<=4 thenset PTE[DA7]=trueendifif IG4<=3 thenif GetRandomInt(0,2)==0 thenset PTE[DB7]=trueelseset PTE[DC7]=trueendifendifif IG4<=2 thenif PTE[DB7]thenset PTE[DC7]=trueelseset PTE[DB7]=trueendifendifif IH4<=4 thenset PTE[6+DA7]=trueendifif IH4<=3 thenif GetRandomInt(0,2)==0 thenset PTE[6+DB7]=trueelseset PTE[6+DC7]=trueendifendifif IH4<=2 thenif PTE[DB7]thenset PTE[6+DC7]=trueelseset PTE[6+DB7]=trueendifendifset O5=1loopexitwhen O5>5if(R97(Y7[O5])and(G7[GetPlayerId(Y7[O5])]==null))thenset j=0loopexitwhen j>5set i=GetRandomInt(1,5)if PTE[i]thenset i=0elseexitwhen trueendifset j=j+1endloopif i==0 thenset i=5loopexitwhen(not PTE[i])or i==0set i=i-1endloopendifcall PGE(GetPlayerId(Y7[O5]),i)if not(i==0 or IN7(GetUnitTypeId(G7[GetPlayerId(Y7[O5])]),i))thenset i=IK7(GetUnitTypeId(G7[GetPlayerId(Y7[O5])]))endifset PTE[i]=truecall M87(GetHandleId(Y7[O5]),"AI|Class",i)call I17(1.0)endifif(R97(Z7[O5])and(G7[GetPlayerId(Z7[O5])]==null))thenset j=0loopexitwhen j>5set i=GetRandomInt(1,5)if PTE[6+i]thenset i=0elseexitwhen trueendifset j=j+1endloopif i==0 thenset i=5loopexitwhen(not PTE[6+i])or i==0set i=i-1endloopendifcall PGE(GetPlayerId(Z7[O5]),i)if not(i==0 or IN7(GetUnitTypeId(G7[GetPlayerId(Z7[O5])]),i))thenset i=IK7(GetUnitTypeId(G7[GetPlayerId(Z7[O5])]))endifset PTE[6+i]=truecall M87(GetHandleId(Z7[O5]),"AI|Class",i)call I17(1.0)endifset O5=O5+1endloopendfunctionfunction PUE takes unit it,integer PVE returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(it),PVE,true)call SelectHeroSkill(it,PVE)endfunctionfunction PWE takes integer i1 returns booleanreturn(((i1=='N016')or(i1=='N017')or(i1=='N02B')))endfunctionfunction PXE takes integer i1 returns booleanreturn((i1=='UC76')or(i1=='Ntin')or(i1=='U00P')or(i1=='Udre')or((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))or(i1=='Huth')or(i1=='N01W')or(i1=='N00R')or(i1=='Nbrn')or(i1=='Ekee')or(i1=='U00A'))endfunctionfunction PYE takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer PZE=0local integer PAE=0local integer PBE=0local integer PCE=0local integer kt=0local integer UPlocal player P3E=GetOwningPlayer(it)local integer P6E=0if(X54[GetPlayerId(P3E)]==X_4)thenset P6E=1elseif(X54[GetPlayerId(P3E)]==Y44)thenset P6E=2elseif(X54[GetPlayerId(P3E)]==Y74)thenset P6E=3endifloopcall TriggerSleepAction(0.1)set PBE=GetHeroSkillPoints(it)exitwhen((PZE>10)or(PBE==0)or(PAE>25)or(not J07(it)))set kt=GetHeroLevel(it)+1-PBEif((kt<=14)and(PZE<7))thenset PCE=GetRandomInt(0,2)elseset PCE=GetRandomInt(0,4)endifif(PZE==0)thenset PCE=0if((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseif(kt>=15)thenset PCE=4endifendifif(PCE==3)thenif((PXE(i1))and(kt<10))thenset PCE=GetRandomInt(0,1)elseif((i1=='N01O')and(kt<14))thenset PCE=GetRandomInt(0,2)endifelseif(PZE==0)thenif((PXE(i1))and(kt==10))thenset PCE=3elseif((i1=='N01O')and((kt==14)or(kt==15)))thenset PCE=3endifendifif((PCE==2)and(kt<10))thenset PCE=GetRandomInt(0,1)endifif(((i1=='Hvsh')or(i1=='N01W'))and(PZE<2))thenif((kt==2)or(kt==5))thenset PCE=2elseif(((kt==10)or(kt==12))and(PCE==2))thenset PCE=GetRandomInt(0,1)endifelseif(((i1=='UC01')or(i1=='Edem')or(i1=='EC45')or(i1=='U00P')or(i1=='Emns')or(i1=='HC92')or(i1=='N01V')or(i1=='N00B'))and(PZE<2))thenif(kt==1)thenset PCE=2elseif((kt==10)and(PCE==2))thenset PCE=GetRandomInt(0,1)endifelseif((i1=='Udea')and(kt==2)and(PZE<3))thenset PCE=2endifif((i1=='E01A')and(PZE<3))thenif((kt<=16)and(PCE==2))thenset PCE=4elseif(((kt==17)or(kt==18)or(kt==19)or(kt==20))and(PCE==4))thenset PCE=2endifelseif((i1=='Ubal')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==8)or(kt==12))thenset PCE=0elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))thenset PCE=1elseif((kt==3)or(kt==7)or(kt==10)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Ogrh')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==17))thenset PCE=2elseif((kt==9)or(kt==11)or(kt==16))thenset PCE=3elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseset PCE=4endifelseif((i1=='U006')and(PZE<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==10)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==4)or(kt==8)or(kt==9)or(kt==12))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00I')and(PZE<3))thenif((kt==1)or(kt==8)or(kt==10)or(kt==18))thenset PCE=0elseif((kt==3)or(kt==15)or(kt==19)or(kt==25))thenset PCE=2elseif((kt==7)or(kt==9)or(kt==12)or(kt==13))thenset PCE=1elseif((kt<=14)and(PCE!=3))thenset PCE=4endifelseif((i1=='Hamg')and(PZE<3))thenif((kt==3)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==1)or(kt==5)or(kt==8)or(kt==10))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Ewar')and(PZE<3))thenif((kt==1)or(kt==23)or(kt==24)or(kt==25))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==7)or(kt==8))thenset PCE=1elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))thenset PCE=2elseif((kt<=17)and(PCE!=3))thenset PCE=4endifelseif((i1=='E004')and(PZE<3))thenif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='NC00')and(PZE<3))thenif((kt==12)or(kt==13)or(kt==14)or(kt==15))thenset PCE=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset PCE=2elseif((kt<=12)and(PCE!=3)and(PCE!=0))thenset PCE=4endifelseif((i1=='UC91')and(PZE<3))thenif((kt==10)or(kt==11)or(kt==12)or(kt==13))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3endifelseif((i1=='Huth')and(PZE<3))thenif((kt==2)or(kt==8)or(kt==9)or(kt==25))thenset PCE=1elseif((kt==4)or(kt==10)or(kt==11)or(kt==12))thenset PCE=2elseif((kt==6)or(kt==15)or(kt==16))thenset PCE=3elseif((kt<=20)and(PCE!=0))thenset PCE=4endifelseif((i1=='E005')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Opgh')and(PZE<3))thenif(P6E==1)thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==21)or(kt==22)or(kt==23)or(kt==24))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(P6E==2)thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(P6E==3)thenif((kt==2)or(kt==8)or(kt==9)or(kt==12))thenset PCE=0elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((kt==2)or(kt==8)or(kt==9)or(kt==12))thenset PCE=0elseif((kt==3)or(kt==5)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifendifelseif((i1=='O00P')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==8))thenset PCE=0elseif((kt==10)or(kt==16)or(kt==17)or(kt==18))thenset PCE=1elseif((kt==12)or(kt==23)or(kt==24)or(kt==25))thenset PCE=2elseif((kt==11)or(kt==19)or(kt==20))thenset PCE=3elseset PCE=4endifelseif((i1=='Hjai')and(PZE<3))thenif((kt==4)or(kt==18)or(kt==19)or(kt==20))thenset PCE=0elseif((kt==1)or(kt==13)or(kt==14)or(kt==15))thenset PCE=1elseif((kt==2)or(kt==3)or(kt==6)or(kt==9))thenset PCE=2elseif((kt==11)or(kt==16)or(kt==17))thenset PCE=3elseset PCE=4endifelseif((i1=='EC57')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))thenset PCE=1elseif((kt==4)or(kt==8)or(kt==10)or(kt==13))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='N01A')and(PZE<3))thenif((kt==1)or(kt==8)or(kt==9)or(kt==14))thenset PCE=0elseif((kt==4)or(kt==10)or(kt==12)or(kt==13))thenset PCE=1elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='EC45')and(PZE<3))thenif((kt==3)or(kt==5)or(kt==7)or(kt==9))thenset PCE=0elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))thenset PCE=1elseif((kt==1)or(kt==17)or(kt==18)or(kt==19))thenset PCE=2elseif((kt==10)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(((i1=='N01O')or(i1=='N013'))or((i1=='N014')or(i1=='N015'))and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))thenset PCE=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset PCE=2elseif((kt==11)or(kt==12)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Hmbr')and(PZE<3))thenif((kt==3)or(kt==4)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==18)or(kt==19)or(kt==20))thenset PCE=1elseif((kt==8)or(kt==9)or(kt==10)or(kt==17))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))and(PZE<3)thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==4)or(kt==7)or(kt==11))thenset PCE=1elseif((kt==4)or(kt==8)or(kt==12)or(kt==13))thenset PCE=2elseif((kt==6)or(kt==15)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))and(PZE<3))thenif((kt==4)or(kt==5)or(kt==12)or(kt==13))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))thenset PCE=1elseif((kt==17)or(kt==18)or(kt==19)or(kt==20))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U00F')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==7)or(kt==13))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==12))thenset PCE=1elseif((kt==8)or(kt==9)or(kt==10)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00K')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset PCE=0elseif((kt==3)or(kt==13)or(kt==15)or(kt==17))thenset PCE=1elseif((kt==2)or(kt==18)or(kt==20)or(kt==22))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='N0HP')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==12)or(kt==17)or(kt==18)or(kt==19))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00U')and(PZE<3))thenif((kt==4)or(kt==14)or(kt==15)or(kt==16)or(kt==18)or(kt==20)or(kt==21))thenset PCE=0elseif((kt==6)or(kt==10)or(kt==19)or(kt==22)or(kt==23)or(kt==24)or(kt==25))thenset PCE=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==8)or(kt==9)or(kt==11)or(kt==13))thenset PCE=2elseif((kt==2)or(kt==7)or(kt==12)or(kt==17))thenset PCE=3endifelseif(((i1=='H004')or(i1=='E02I'))and(PZE<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H071')and(PZE<3))thenif((kt==3)or(kt==4)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E02F')and(PZE<3))thenif((kt==1)or(kt==8)or(kt==9)or(kt==10))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(((i1=='H06S')or(i1=='H00D'))and(PZE<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Uktl')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H000')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==10)or(kt==13))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Otch')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Harf')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==9)or(kt==10)or(kt==12))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Npbm')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))thenset PCE=1elseif((kt==13)or(kt==14)or(kt==15)or(kt==17))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H001')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==8)or(kt==9)or(kt==10)or(kt==12))thenset PCE=1elseif((kt==2)or(kt==13)or(kt==14)or(kt==15))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Ucrl')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==6)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='O015')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='EC77')and(PZE<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00Q')and(PZE<3))thenif((kt==9)or(kt==11)or(kt==12)or(kt==13))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==15)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U00E')and(PZE<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==9)or(kt==10)or(kt==12))thenset PCE=1elseif((kt==4)or(kt==8)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Nbrn')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==8)or(kt==10))thenset PCE=0elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Naka')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==3)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Usyl')and(PZE<3))thenif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==7)or(kt==9))thenset PCE=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==8))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='N00R')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==7)or(kt==9))thenset PCE=1elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U00A')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==6)or(kt==8))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==12)or(kt==13)or(kt==14)or(kt==15))thenset PCE=2elseif((kt==10)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Nbbc')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==10)or(kt==13)or(kt==15)or(kt==17))thenset PCE=1elseif((kt==8)or(kt==9)or(kt==12)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U00K')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Oshd')and(PZE<3))thenif((kt==4)or(kt==8)or(kt==10)or(kt==13))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==2)or(kt==9)or(kt==12)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00N')and(PZE<3))thenif((kt==2)or(kt==6)or(kt==8)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='UC76')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==6)or(kt==8))thenset PCE=2elseif((kt==9)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U000')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Hvwd')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E01B')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==4)or(kt==9)or(kt==12)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==8)or(kt==10)or(kt==13))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='UC11')and(PZE<3))thenif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='UC60')and(PZE<3))thenif((kt==2)or(kt==8)or(kt==9)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==4)or(kt==7))thenset PCE=1elseif((kt==5)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(((i1=='H00R')or(i1=='H07I'))and(PZE<3))thenif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset PCE=1elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((((i1=='N016')or(i1=='N017')or(i1=='N02B')))and(PZE<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==12))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==9)or(kt==10)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E02J')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E002')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='U00C')and(PZE<3))thenif((kt==2)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='O00J')and(PZE<3))thenif((kt==4)or(kt==8)or(kt==9)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==2)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='Emoo')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=0elseif((kt==9)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==8)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='UC42')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==8)or(kt==9))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E02X')and(PZE<3))thenif((kt==1)or(kt==4)or(kt==8)or(kt==9))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif(((i1=='Eevi')or(i1=='Eevm'))and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==4)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==2)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='HC49')and(PZE<3))thenif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==2)or(kt==11)or(kt==12)or(kt==13))thenset PCE=0elseif((kt==4)or(kt==8)or(kt==9)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==14)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00T')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==9))thenset PCE=0elseif((kt==10)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==1)or(kt==3)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='H00S')and(PZE<3))thenif((kt==3)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==1)or(kt==8)or(kt==9)or(kt==10))thenset PCE=1elseif((kt==2)or(kt==4)or(kt==5)or(kt==7))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='O016')and(PZE<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset PCE=1elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E02H')and(PZE<3))thenif((kt==2)or(kt==12)or(kt==13)or(kt==14))thenset PCE=0elseif((kt==3)or(kt==5)or(kt==8)or(kt==10))thenset PCE=1elseif((kt==1)or(kt==4)or(kt==7)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='E02N')and(PZE<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==10))thenset PCE=0elseif((kt==1)or(kt==12)or(kt==14)or(kt==17))thenset PCE=1elseif((kt==3)or(kt==4)or(kt==7)or(kt==9))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='O01F')and(PZE<3))thenif((kt==1)or(kt==19)or(kt==21)or(kt==23))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==9)or(kt==11)or(kt==13)or(kt==16))thenset PCE=2elseif((kt==6)or(kt==14)or(kt==17))thenset PCE=3elseset PCE=4endifelseif(((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))and(PZE<3))thenif((kt==4)or(kt==8)or(kt==9)or(kt==10))thenset PCE=0elseif((kt==2)or(kt==3)or(kt==5)or(kt==7))thenset PCE=1elseif((kt==1)or(kt==12)or(kt==13)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseset PCE=4endifelseif((i1=='N0M0')and(PZE<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==12))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))thenset PCE=1elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))thenset PCE=0elseset PCE=4endifelseif((i1=='E02K')and(PZE<3))thenif((kt==2)or(kt==5)or(kt==8)or(kt==12))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseif((kt==1)or(kt==4)or(kt==7)or(kt==10))thenset PCE=1elseif((kt==3)or(kt==9)or(kt==13)or(kt==14))thenset PCE=0elseset PCE=4endifelseif((i1=='H0DO')and(PZE<3))thenif((kt==3)or(kt==7)or(kt==10)or(kt==14))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseif((kt==2)or(kt==5)or(kt==9)or(kt==13))thenset PCE=1elseif((kt==1)or(kt==4)or(kt==8)or(kt==12))thenset PCE=0elseset PCE=4endifelseif((i1=='E032')and(PZE<3))thenif((kt==2)or(kt==4)or(kt==8)or(kt==10))thenset PCE=2elseif((kt==6)or(kt==11)or(kt==16))thenset PCE=3elseif((kt==3)or(kt==12)or(kt==13)or(kt==14))thenset PCE=1elseif((kt==1)or(kt==5)or(kt==7)or(kt==9))thenset PCE=0elseset PCE=4endifendifif(i1=='UC76')thenif(PCE==0)thencall PUE(it,kT(it))elseif(PCE==1)thencall SelectHeroSkill(it,'A02C')elseif(PCE==2)thencall PUE(it,kS(it))elseif(PCE==3)thencall PUE(it,O17(it))endifelseif(i1=='Hmkg')thenif(PCE==0)thencall PUE(it,O07(it))elseif(PCE==1)thencall PUE(it,O57(it))elseif(PCE==2)thencall PUE(it,O27(it))elseif(PCE==3)thencall SelectHeroSkill(it,'A088')endifelseif(PCE==0)thencall PUE(it,eY[128+O5])if(i1=='Naka')thenset UP=GetUnitAbilityLevel(it,'A004')if(UP<=2)thenset hq[272+O5]=I2R(75*UP)elseset hq[272+O5]=I2R(15+(57*UP))endifendifelseif(PCE==1)thenif(i1=='Nfir')thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0FH',true)call SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0F0',true)endifcall PUE(it,eY[144+O5])if(i1=='Hamg')thenset UP=GetUnitAbilityLevel(it,'A1G7')if(UP==1)thenset hq[272+O5]=85.elseif(UP==2)thenset hq[272+O5]=70.elseif(UP==3)thenset hq[272+O5]=55.elseset hq[272+O5]=40.endifendifelseif(PCE==2)thenif((i1=='N01O')or(i1=='N013'))or((i1=='N014')or(i1=='N015'))thencall SelectHeroSkill(it,'A1EG')call SelectHeroSkill(it,'A1EI')call SelectHeroSkill(it,'A1EH')call SelectHeroSkill(it,'A1EE')call SelectHeroSkill(it,'A1EF')elseif(PWE(i1))thencall SelectHeroSkill(it,'Aamk')elsecall PUE(it,eY[160+O5])endifelseif(PCE==3)thencall PUE(it,eY[172+O5])if(eY[188+O5]!=0)thencall PUE(it,eY[188+O5])endifif(i1=='Hjai')thenset UP=GetUnitAbilityLevel(it,'A03R')if(UP==0)thenset UP=GetUnitAbilityLevel(it,'A0AV')endifif(UP<=2)thenset hq[272+O5]=I2R(200+(100*UP))elseset hq[272+O5]=600.endifelseif(i1=='Oshd')thenset hq[272+O5]=I2R(85+(GetUnitAbilityLevel(it,'A02Q')*135))elseif(i1=='Orkn')thenset UP=GetUnitAbilityLevel(it,'A00H')if(UP==0)thenset UP=GetUnitAbilityLevel(it,'A0A1')endifif(UP<=2)thenset hq[272+O5]=I2R(50+(150*UP))elseset hq[272+O5]=610.endifelseif(i1=='EC77')thenset UP=GetUnitAbilityLevel(it,'A080')if(UP==0)thenset UP=GetUnitAbilityLevel(it,'A1UZ')set hq[272+O5]=125.elseif(UP<=2)thenset hq[272+O5]=I2R(105+(30*UP))elseset hq[272+O5]=250.endifendifelseif(i1=='O00J')thenset UP=GetUnitAbilityLevel(it,'A0G4')if(UP>0)thenif(UP==1)thenset SL4[64+O5]=400.elseif(UP==2)thenset SL4[64+O5]=550.elseset SL4[64+O5]=700.endifelseset UP=GetUnitAbilityLevel(it,'A1D8')if(UP>0)thenif(UP==1)thenset SL4[64+O5]=550.elseif(UP==2)thenset SL4[64+O5]=700.elseset SL4[64+O5]=850.endifendifendifendifendifendifif(PCE==4)thenif((i1=='Nfir')or(i1=='O00P')or(i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015')or((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))or(i1=='H00K')or(i1=='E02F')or(i1=='O01F')or(i1=='E02X')or(i1=='H0BC')or(i1=='H06W')or(i1=='H06X')or(i1=='H06Y')or(i1=='O016')or(i1=='O017')or(i1=='UC60')or(i1=='UC42')or(i1=='O00P')or(i1=='H00R')or(i1=='H07I'))thencall SelectHeroSkill(it,'A0NR')elseif((PWE(i1))and(kt>21))thencall PUE(it,eY[160+O5])call SelectHeroSkill(it,'Aamk')elsecall SelectHeroSkill(it,'Aamk')endifendifset PZE=PZE+1set PAE=PAE+1if(PBE!=GetHeroSkillPoints(it))thenset PZE=0endifendloopif(i1=='UC76')thenset eY[336+O5]=kT(it)set eY[368+O5]=kS(it)set eY[172+O5]=O17(it)elseif(i1=='Hmkg')thenset eY[336+O5]=O07(it)set eY[352+O5]=O57(it)set eY[368+O5]=O27(it)endifset it=nullset P3E=nullendfunctionfunction PLE takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if((i1=='Hamg')or(i1=='U006')or(KJ7(it,'tgrh'))or(KJ7(it,'I001'))or(KJ7(it,'oflg')))thenreturn 2elseif((i1=='Hvsh')or(i1=='Naka')or(i1=='UC91')or(i1=='N01A'))thenreturn 1endifreturn 0endfunctionfunction P1E takes unit it returns stringif(IsUnitAlly(it,Y7[0]))thenreturn"Sent"elsereturn"Scrg"endifendfunctionfunction P0E takes unit it returns booleanlocal integer O5=1local integer UPlocal integer P5E=0local boolean J4=falselocal boolean P2E=falselocal integer Izloopif(IsUnitAlly(it,Y7[0]))thenset UP=GetPlayerId(Y7[O5])elseset UP=GetPlayerId(Z7[O5])endifif((IsPlayerInForce(Player(UP),QP4))and(G7[UP]!=null))thenset Iz=PLE(G7[UP])if(Iz==2)thenset P5E=P5E+1set J4=trueelseif(Iz==1)thenset P5E=P5E+1endifset P2E=(P2E)or((Iz==0)and(KJ7(G7[UP],'tlum'))and(not KK7(G7[UP])))endifset O5=O5+1exitwhen O5>5endloopif((P2E)and(not KJ7(G7[UP],'tlum')))thenreturn falseendifif(KL7(IsUnitAlly(it,Y7[0]))==1)thenreturn((P5E==0)and(N77(QC4,P1E(it)+"|G")))elsereturn(((not J4)and(N77(QC4,P1E(it)+"|G")))or(P5E<R2I(KL7(IsUnitAlly(it,Y7[0]))/2)))endifendfunctionfunction P_E takes integer i1 returns booleanreturn((i1==AV or i1==BV)or i1==YX or i1==SY or i1==SX or i1==NZ or i1==C3 or(i1>=XZ and i1<=YA)or(i1==D84 or i1==D94))endfunctionfunction Q4E takes integer VX8 returns booleanreturn VX8==TC or VX8==VC or VX8==YC or VX8==ACendfunctionfunction Q7E takes integer i1 returns booleanreturn((i1==HY)or(i1==LU)or(i1==EV)or(i1==ZX)or(i1==BA)or(i1==CU)or(i1==JV)or(i1==RX)or(i1==JB)or(i1==HW)or(i1==EZ)or(i1==NV))or((i1==ZC or i1==AC)or(i1==ZA)or(i1==SY)or(i1==ZY or i1==DZ)or(i1==YX)or(i1==SX)or(i1==YW)or(i1==CV)or(i1==QW)or(i1==UV)or(i1==BU)or(i1==FQ4))endfunctionfunction Q8E takes integer O5,unit it returns booleanlocal integer i=0local integer i1=0loopexitwhen i>5set i1=GetItemTypeId(UnitItemInSlot(it,i))if i1==0 thenelseif(i1==OU[H3])or(i1==OU[YC])or(i1==OU[AV])or(i1==OU[BV])thenreturn trueelseif(i1==QU[H3])or(i1==QU[YC])or(i1==QU[AV])or(i1==QU[BV])thenreturn trueendifset i1=GetItemTypeId(UnitItemInSlot(K04[O5],i))if i1==0 thenelseif(i1==OU[H3])or(i1==OU[YC])or(i1==OU[AV])or(i1==OU[BV])thenreturn trueelseif(i1==QU[H3])or(i1==QU[YC])or(i1==QU[AV])or(i1==QU[BV])thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction Q9E takes integer O5,unit it,item JW7,integer i1,boolean QDE returns integerset bj_forLoopAIndex=M_7('CItm',"Prio|"+I2S(GetHandleId(G7[O5]))+I2S(i1))if bj_forLoopAIndex!=0 thenreturn bj_forLoopAIndexendifif(i1==T5)or(i1==D84 or i1==D94)or(RU[i1]==RU[F04])thenreturn 101elseif(JW7!=null)and(GetItemPlayer(JW7)!=Player(O5))and(i1!=G27[O5]and i1!=G27[16+O5])and(QDE or(VY8(i1)==false and P_E(i1)==false))thenreturn-1elseif(not QDE)and(i1==G27[O5]or i1==G27[16+O5])and(IsUnitType(it,UNIT_TYPE_HERO))thenreturn 97elseif(i1==Y3)or(i1==E1 or i1==F1)or(i1==J1)or(i1==P1 or i1==DV4)or(i1>=Q1 and i1<=U1)or(i1==A1)or(i1==DM4)or(i1==E0)or(i1==J0)or(i1==R0)or(i1==X0)or(i1==Y0)or(i1>=G5 and i1<=S5)or(i1==W5 or i1==A5)or(i1==B5)or(i1>=C5 and i1<=H2)or(i1==R2 or i1==T2 or i1==X2)or(i1==D44 or i1==D74)or(i1==DD4)or(i1==DE4 or i1==DF4)or(i1==DG4 or i1==DH4)or(i1==DJ4 or i1==DK4)or(i1==DN4 or i1==DO4)or(i1==DP4)or(i1==DQ4)or(i1==DR4)or(i1==DX4)or(i1==DY4)or(i1==DZ4)or(i1==DA4)or(i1==DB4 or i1==DC4 or i1==D34 or i1==D64)or(i1==DL4 or i1==D54)or(i1==D24)or(i1==E74)or(i1==E84)or(i1==EG4)or(i1==FP4)or(i1==GC)or(i1==Z3)or(i1==B3)thenreturn 100elseif(i1==HW or i1==NW)or(i1==F5)or(i1==V1 or i1==X1)thenreturn 99elseif(i1==N6 or i1==V6 or i1==W6 or i1==A6 or i1==D_4 or i1==EC or i1==FC or i1==FS4)thenif G57[304+O5]!=null and GetWidgetLife(G57[304+O5])>0 and G_7[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)thenreturn-1elsereturn 100endifelseif(i1==BU)thenif G57[304+O5]!=null and G_7[304+O5]!=i1 and IsUnitType(it,UNIT_TYPE_HERO)thenreturn-1elsereturn 99endifelseif(i1==ZC or i1==AC)thenif QDE or H47[64+O5]thenreturn 1elsereturn 98endifelseif(i1==DS4 or i1==DT4)thenreturn 23elseif(i1==AV or i1==BV)thenif QDE thenreturn 2elsereturn 22endifelseif(i1==XC)or(i1==YC)or(i1==H3)or(i1==U3)thenif QDE thenreturn 1elsereturn 15endifelseif(i1==GY)thenreturn 21elseif(i1==TV)or(i1==RW)or(i1==UW)thenreturn 20elseif(i1==C3)thenreturn 19elseif(i1==DL or i1==HL)or(i1==O0)or(i1==EE4 or i1==EF4)thenreturn 18elseif(i1==LL or i1==D1)thenreturn 17elseif(i1==QV)or(i1==LV)or(i1==EZ)thenreturn 16elseif(i1==WB or i1==YB)thenreturn 15elseif(i1==YW)thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)thenreturn 10elsereturn 15endifelseif(i1>=XZ and i1<=JA)thenreturn 14elseif(i1==W3)thenreturn 13elseif(i1==TW)or(i1==RZ)or(i1==JB)or(i1==RL)thenreturn 12elseif(i1==OV)or(i1==ZW)thenreturn 11elseif(i1==MV)or(i1==GX)thenreturn 10elseif(i1==UV)or(i1==HZ)or(i1==SX)or(i1==NZ)thenreturn 9elseif(i1==ZA)or(i1==E44)or(i1==FO4)thenif(GetUnitState(it,UNIT_STATE_MAX_MANA)>500.)thenreturn 8elsereturn 12endifelseif(i1==FV)or(i1==VW)or(i1==UY)or(i1==CV)or(i1==QW)or(i1==RX)or(i1==NC or i1==OC)thenreturn 9elseif(i1==BA)or(i1==G6 or i1==H6)or(i1==E94 or i1==ED4)thenreturn 8elseif(i1==FQ4 or i1==FR4)thenreturn 7elseif(i1==WL or i1==ZL or i1==AL)thenreturn 6elseif(i1==E6)or(i1==F6)thenreturn 5elseif(i1==CU)or(i1==LU)or(i1==EV)or(i1==ZX)or(i1==JV)or(i1==NV)thenreturn 4elseif(i1==GB)or(i1==YX)or(i1==SY)or(i1==ZY or i1==DZ)thenreturn 3elseif(i1==DV)or(i1==XV)or(i1==OW)or(i1==HY)or(i1==WX)thenreturn 2elseif(i1==PC)or(i1==TC)or(i1==VC)or(i1==BC)or(i1==CC)or(i1==DW4)thenreturn 1elseif(i1==EW)thenreturn 0elseif(i1>=EH4 and i1<=FY4)thenreturn-1elseif(i1==QB or i1==VB)or(i1==QC)or(i1==LC)or(i1==R3)or(i1==DU4)thenreturn-1endifreturn-1endfunctionfunction QEE takes integer O5,unit it,boolean QFE returns integerlocal integer i=0local integer j=0local item JW7=nullloopexitwhen i>5set JW7=UnitItemInSlot(it,i)if JW7==null thenset j=j+1elseif QFE thenif(Q9E(O5,it,JW7,JU7(JW7),false)<99)thenset j=j+1endifendifset i=i+1endloopset JW7=nullreturn jendfunctionfunction QGE takes integer O5,unit it,item JW7,integer i1 returns booleancall DisableTrigger(HR4)if(IsItemPowerup(JW7))thenif i1==0 thenset i1=JU7(JW7)endifset bj_lastCreatedItem=CreateItem(OU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(bj_lastCreatedItem,HJ7)call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)call SetItemCharges(bj_lastCreatedItem,GetItemCharges(JW7))call RemoveItem(JW7)set JW7=bj_lastCreatedItemendifset DG7=UnitAddItem(it,JW7)call EnableTrigger(HR4)return DG7endfunctionfunction QHE takes nothing returns nothinglocal item NJ8=GetEnumItem()local unit u=OT4local player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(NJ8)>0 and GetItemPlayer(NJ8)==p thencall SetItemPosition(NJ8,K54[id],K24[id])call SetItemVisible(NJ8,HJ7)call QGE(id,K04[id],NJ8,0)endifset NJ8=nullset u=nullset p=nullendfunctionfunction QIE takes nothing returns booleanreturn JQ7(GetFilterUnit())or JR7(GetFilterUnit())endfunctionfunction QJE takes integer O5 returns nothinglocal integer i=0local unit u=nulllocal item JW7=nullcall GroupEnumUnitsInRange(H8,GetUnitX(K04[O5]),GetUnitY(K04[O5]),1300,Condition(function QIE))loopset u=FirstOfGroup(H8)exitwhen u==nullcall GroupRemoveUnit(H8,u)set i=0loopexitwhen i>5set JW7=UnitItemInSlot(u,i)if JW7!=null and GetItemPlayer(JW7)==Player(O5)thencall DisableTrigger(HR4)call UnitRemoveItem(u,JW7)call SetItemPosition(JW7,K54[O5],K24[O5])if not UnitAddItem(K04[O5],JW7)thencall SetItemVisible(JW7,HJ7)endifcall EnableTrigger(HR4)endifset i=i+1endloopendloopset OT4=K04[O5]if IsPlayerAlly(Player(O5),Y7[0])thencall EnumItemsInRect(ED,Condition(function Q37),function QHE)elsecall EnumItemsInRect(FD,Condition(function Q37),function QHE)endifset u=nullset JW7=nullendfunctionfunction QKE takes integer O5,integer j returns nothinglocal integer iset i=0loopexitwhen i>23if G57[O5*24+i]!=null thencall SetItemUserData(G57[O5*24+i],j)endifset i=i+1endloopendfunctionfunction QME takes nothing returns nothinglocal integer ilocal integer jlocal integer i1local unit it=HS7local integer O5=HT7if it==null thenset it=G7[O5]endifset i=12set j=QEE(O5,K04[O5],false)set eY[512+O5]=1loopexitwhen(i>=G27[128+O5])or(j<=0)if(G57[O5*24+i]!=null)thenif(GetWidgetLife(G57[O5*24+i])>0)and(not IsItemOwned(G57[O5*24+i]))thencall QGE(O5,K04[O5],G57[O5*24+i],G_7[O5*24+i])set j=j-1endifset G57[O5*24+i]=nullendifset i=i+1endloopset i=0loopexitwhen i>5set G57[O5*24+i]=UnitItemInSlot(it,i)set G_7[O5*24+i]=JU7(G57[O5*24+i])if(G57[304+O5]==null or GetWidgetLife(G57[304+O5])<=0)and(G_7[O5*24+i]==BU or G_7[O5*24+i]==V6 or G_7[O5*24+i]==W6 or G_7[O5*24+i]==A6 or G_7[O5*24+i]==D_4 or G_7[O5*24+i]==EC or G_7[O5*24+i]==FC or G_7[O5*24+i]==FS4 or G_7[O5*24+i]==N6)and(IsUnitType(it,UNIT_TYPE_HERO))thenset G57[304+O5]=G57[O5*24+i]set G_7[304+O5]=G_7[O5*24+i]endifset G57[O5*24+6+i]=UnitItemInSlot(K04[O5],i)set G_7[O5*24+6+i]=JU7(G57[O5*24+6+i])set i=i+1endloopset i=12set j=12loopexitwhen i>23if G57[O5*24+i]!=null thenif i!=j thenset G57[O5*24+j]=G57[O5*24+i]set G_7[O5*24+j]=G_7[O5*24+i]set G57[O5*24+i]=nullendifset j=j+1endifset i=i+1endloopif j<12 thenset G27[128+O5]=12elseset G27[128+O5]=jendifset it=nullendfunctionfunction QNE takes integer O5,unit it returns nothingset HS7=itset HT7=O5call ExecuteFunc("QME")endfunctionfunction QOE takes integer O5 returns integerlocal integer i=0local integer j=6call QNE(O5,G7[O5])loopexitwhen(i>=G27[128+O5])if(G57[O5*24+i]!=null)and(GetWidgetLife(G57[O5*24+i])>0)and(Q9E(O5,G7[O5],G57[O5*24+i],G_7[O5*24+i],false)>=99)thenset j=j-1endifset i=i+1endloopreturn jendfunctionfunction QPE takes unit it,integer i1 returns booleanreturn((i1==P1 or i1==DV4)or(i1>=Q1 and i1<=U1)or(i1==V1 or i1==X1)or(i1==A1)or(i1==DM4)or(i1==X0)or((i1==DN4 or i1==DO4)and IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))or(i1==BA or i1==GB))endfunctionfunction QQE takes unit it,integer i1 returns booleanreturn((i1>=Q1 and i1<=U1)or(i1==X0)or(i1==DN4 or i1==DO4)or(i1==FQ4 or i1==FR4))endfunctionfunction QRE takes integer O5,unit it,integer i1 returns booleanlocal boolean QSE=QPE(it,i1)local boolean QTE=QQE(it,i1)local integer i=GetUnitTypeId(it)if(i=='EC77')or(i=='E004')or(i=='U00P')or(i=='Nbrn')or(i=='Emoo')or(i=='N01A')or(i=='H00Q')or(i=='U006' or i=='U00K' or i=='Huth')thenreturn(not(QSE or QTE))elseif(i=='Edem' or i=='Ubal')thenreturn(not(QSE))elseif(i=='Udea' or i=='H00I')thenreturn(not(QTE))elseif(H47[16+O5]and QSE)thenreturn falseelseif(H47[32+O5]and QTE)thenreturn falseelseif(i1==HW or i1==NW)and(i=='Hvwd' or i=='U00F')thenreturn falseelseif(i1==BA or i1==GB)and(i=='H06S')thenreturn falseelseif QSE and N77('CItm',"Orb|"+I2S(GetHandleId(it)))thenreturn falseelseif QTE and N77('CItm',"Buff|"+I2S(GetHandleId(it)))thenreturn falseendifreturn trueendfunctionfunction QUE takes integer i1 returns booleanreturn((i1==Y3)or(i1==R2 or i1==T2 or i1==X2)or(i1==DG4 or i1==DH4)or(i1==DX4)or(i1==DY4)or(i1==DL4 or i1==D54)or(i1==E84)or(i1==O0)or(i1==EE4 or i1==EF4))endfunctionfunction QVE takes integer i1 returns booleanreturn((i1==Y0))endfunctionfunction QWE takes integer O5,integer i1 returns booleanif(i1==DS4 or i1==DT4)thenreturn trueelseif(i1==XC)or(i1==YC)or(i1==AV or i1==BV)or(i1==ZC or i1==AC)or(i1==H3)or(i1==U3)or(i1==PC)or(i1==TC)or(i1==VC)or(i1==BC)or(i1==CC)or(i1==DW4)thenif(i1==G27[O5]or i1==G27[16+O5])thenelsereturn trueendifelseif(i1==DL or i1==HL)or(i1==O0)or(i1==EE4 or i1==EF4)thenreturn trueelseif(i1==WB or i1==YB)thenreturn trueelseif(i1>=XZ and i1<=JA)thenreturn trueelseif(i1==W3)thenreturn trueelseif(i1==ZA)or(i1==E44)or(i1==FO4)thenreturn trueelseif(i1==BA or i1==GB)or(i1==E94 or i1==ED4)thenreturn trueelseif(i1==WL or i1==ZL or i1==AL)thenreturn trueendifreturn falseendfunctionfunction QXE takes unit it,boolean QYE returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(it))local unit uif(not H47[112+O5])thenreturn nullendifset u=MZ7(GetHandleId(Player(O5)),"MyBear")if QYE thenif(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thencall SelectHeroSkill(it,'A0A5')call I17(0.1)if IssueImmediateOrderById(it,852594)thencall I17(1.)set u=MZ7(GetHandleId(Player(O5)),"MyBear")endifelseif GetUnitTypeId(u)!='n004' thencall SetUnitX(u,GetUnitX(it))call SetUnitY(u,GetUnitY(it))endifcall IssueTargetOrderById(u,851986,it)endifif(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thenset u=MZ7(GetHandleId(Player(O5)),"BearItemHolder")if u==null thenif Q_7(GetOwningPlayer(it))thenset u=CreateUnit(Player(O5),'e01F',-6390,-5615,0)elseset u=CreateUnit(Player(O5),'e01F',5875,5000,0)endifcall MF7(GetHandleId(Player(O5)),"BearItemHolder",u)endifendifset bj_lastReplacedUnit=uset u=nullreturn bj_lastReplacedUnitendfunctionfunction QZE takes integer O5,unit it,boolean QAE returns unitlocal unit H57local unit uif(not H47[112+O5])thenreturn nullendifset H57=MZ7(GetHandleId(Player(O5)),"aiBearDummy")if(H57==null)thenif Q_7(GetOwningPlayer(it))thenset H57=CreateUnit(Player(O5),'e01F',-6390,-5615,0)elseset H57=CreateUnit(Player(O5),'e01F',5875,5000,0)endifcall MF7(GetHandleId(Player(O5)),"aiBearDummy",H57)call ShowUnit(H57,true)endifif not(H47[48+O5])thenset u=QXE(it,QAE)if not(u==null or GetUnitState(u,UNIT_STATE_LIFE)<=0)thencall SetUnitPosition(H57,GetUnitX(u),GetUnitY(u))endifendifset bj_lastReplacedUnit=H57set u=nullset H57=nullreturn bj_lastReplacedUnitendfunctionfunction QBE takes integer O5,unit it returns nothinglocal unit u=QXE(it,false)local item JW7local integer i=0if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 thenloopexitwhen i>5set bj_lastCreatedItem=UnitItemInSlot(it,i)if bj_lastCreatedItem!=null thenset JW7=UnitItemInSlot(u,i)if JW7==null or GetItemTypeId(bj_lastCreatedItem)!=GetItemTypeId(JW7)thencall RemoveItem(JW7)call DisableTrigger(HR4)set JW7=CreateItem(GetItemTypeId(bj_lastCreatedItem),GetUnitX(u),GetUnitY(u))call SetItemVisible(JW7,HJ7)call SetItemPlayer(JW7,Player(O5),false)call SetItemCharges(JW7,GetItemCharges(bj_lastCreatedItem))call SetItemUserData(JW7,0)call UnitAddItem(u,JW7)call EnableTrigger(HR4)endifelsecall RemoveItem(UnitItemInSlot(u,i))endifset i=i+1endloopendifset u=nullset JW7=nullendfunctionfunction QCE takes integer O5,unit it returns nothinglocal unit ulocal integer i=0if(not H47[192+O5])or(H47[48+O5])thenreturnendifif(it!=null)thenif GetUnitTypeId(it)=='e01F' thenset u=MZ7(GetHandleId(Player(O5)),"MyBear")if u!=null and GetUnitState(u,UNIT_STATE_LIFE)>0 thencall SetUnitPosition(it,GetUnitX(u),GetUnitY(u))endifendifelseset u=MZ7(GetHandleId(Player(O5)),"aiBearDummy")if Q_7(Player(O5))thencall SetUnitPosition(u,-6390,-5615)elsecall SetUnitPosition(u,5875,5000)endifcall QBE(O5,u)endifset u=nullendfunctionfunction Q3E takes integer O5,boolean Q6E,boolean QLE returns integerlocal integer i=999local integer Q1E=5local integer j=0local integer IW7=0local integer Q0E=0local integer i1if not Q6E thenset Q1E=23endifloopexitwhen(j>Q1E)if(G57[O5*24+j]!=null)thenif(G_7[O5*24+j]==E44 and G27[144+O5]!=HF7)thenelseset Q0E=Q9E(O5,G7[O5],G57[O5*24+j],G_7[O5*24+j],false)if(Q0E<=i)and(Q0E!=-1)and(Q0E<99)and(not N77('CItm',"NoSell|"+I2S(GetHandleId(G7[O5]))+I2S(G_7[O5*24+j])))and(LoadInteger(L_4,G27[224+O5],GetHandleId(G57[O5*24+j]))==0)and(not LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+j])))thenset i=Q0Eset IW7=jendifendifendifset j=j+1endloopif i<99 and((not QLE)or(QWE(O5,G_7[O5*24+IW7])))thenreturn IW7endifreturn-1endfunctionfunction Q5E takes integer O5,boolean Q2E returns integerlocal integer i=0local integer j=0local integer k=0local item JW7=nullloopexitwhen i>23set JW7=G57[O5*24+i]set k=G_7[O5*24+i]if JW7==null or(GetWidgetLife(JW7)<=0)thenset JW7=nullset k=0if i<=5 thenset JW7=UnitItemInSlot(G7[O5],i)elseif i<=11 thenset JW7=UnitItemInSlot(K04[O5],i-6)endifendifif(JW7!=null)and(Q2E or(not VY8(k)))and(LoadInteger(L_4,G27[224+O5],GetHandleId(G57[O5*24+i]))==0)and(not LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+i])))thenset j=j+1endifset i=i+1endloopset JW7=nullreturn jendfunctionfunction Q_E takes integer O5,unit it returns integerlocal integer i=0local integer Q1E=0local integer j=0local integer IW7=999local item JW7loopexitwhen i>5set JW7=UnitItemInSlot(it,i)if JW7!=null thenset j=Q9E(O5,null,null,JU7(JW7),false)if j<99 and j<IW7 thenset IW7=jset Q1E=iendifelseset bj_lastCreatedItem=nullset bj_forLoopBIndexEnd=-2set JW7=nullreturn iendifset i=i+1endloopset JW7=nullif IW7<999 thenset bj_lastCreatedItem=UnitItemInSlot(it,Q1E)set bj_forLoopBIndexEnd=IW7return Q1Eendifreturn-1endfunctionfunction R4E takes integer O5,unit it returns booleanlocal boolean KT7=falselocal boolean J4set bj_lastCreatedItem=nullif(G27[O5]!=0)and(Q9E(O5,it,null,G27[O5],true)>Q9E(O5,it,null,G27[16+O5],true))thenreturn KJ7(it,OU[G27[O5]])elseif(G27[16+O5]!=0)thenreturn KJ7(it,OU[G27[16+O5]])endifreturn falseendfunctionfunction R7E takes integer O5,unit it,integer i1,item JW7,boolean R8E,boolean R9E,boolean RDE returns integerlocal integer ilocal integer Q1E=Q9E(O5,it,JW7,i1,false)local integer j=0local integer IW7=0local integer k=0local integer Q0E=0local item REE=nulllocal boolean KT7=falseset Q0E=0set i=999set DJ7=nullloopexitwhen(j>5)set REE=G57[O5*24+j+k]if GetWidgetLife(REE)<=0 thenset REE=nullendifif(REE!=null)thenif(UnitHasItem(it,REE))thenset Q0E=Q9E(O5,G7[O5],REE,G_7[O5*24+j+k],(not R9E))if(Q0E<=i)thenset i=Q0Eset DJ7=REEset IW7=j+kendifendifelseif UnitItemInSlot(it,j+k)==null thenset IW7=j+kset DJ7=nullset R8E=trueexitwhen trueendifendifset j=j+1endloopset REE=nullcall HW7(O5,"UnitAddItem "+GetItemName(JW7)+" "+I2S(Q1E)+" vs "+GetItemName(DJ7)+" "+I2S(i))if(Q1E>i)or R8E thenset Q1E=GetItemTypeId(JW7)set REE=DJ7if REE!=null thenset G57[O5*24+G27[128+O5]]=REEset G_7[O5*24+G27[128+O5]]=JU7(REE)set G27[128+O5]=G27[128+O5]+1set G57[O5*24+IW7]=nullendifcall QCE(O5,it)call DisableTrigger(HR4)if REE!=null thencall UnitRemoveItem(it,REE)call SetItemPosition(REE,GetUnitX(K04[O5]),GetUnitY(K04[O5]))call SetItemVisible(REE,HJ7)if not IsUnitType(it,UNIT_TYPE_HERO)thencall SaveBoolean(L_4,G27[256+O5],GetHandleId(REE),true)endifendifif(not RDE)thenif(Q1E!=NU[i1])and((i1!=BV)and(i1!=HL)and(i1!=X1)and(i1!=D34 and i1!=D64)and(i1!=D54)and(not VY8(i1)))thencall UnitAddItem(it,JW7)set KT7=trueelseset RDE=trueendifendifcall EnableTrigger(HR4)if RDE thenif Q1E!=NU[i1]thenset bj_lastCreatedItem=CreateItem(NU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(bj_lastCreatedItem,HJ7)call SetItemPlayer(bj_lastCreatedItem,Player(O5),false)call SetItemCharges(bj_lastCreatedItem,GetItemCharges(JW7))call RemoveItem(JW7)set JW7=bj_lastCreatedItemendifset eY[512+O5]=0call UnitAddItem(it,JW7)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(0.1)endloopif not IsUnitType(it,UNIT_TYPE_HERO)thencall SaveBoolean(L_4,G27[256+O5],GetHandleId(G57[288+O5]),true)endifif(eY[512+O5]==1)thenset KT7=trueelseif(eY[512+O5]==2)or(eY[512+O5]==3)thenloopif eY[512+O5]==3 thenset JW7=G57[288+O5]exitwhen trueendifcall TriggerSleepAction(0.1)endloopendifendifendifif KT7 thenreturn IW7elseset bj_forLoopAIndex=GetItemUserData(JW7)call SetItemPosition(JW7,GetUnitX(K04[O5]),GetUnitY(K04[O5]))call SetItemUserData(JW7,bj_forLoopAIndex)call SetItemVisible(JW7,HJ7)set G57[O5*24+G27[128+O5]]=JW7set G_7[O5*24+G27[128+O5]]=JU7(JW7)set G27[128+O5]=G27[128+O5]+1endifreturn-1endfunctionfunction RFE takes integer O5,unit it,item JW7,integer i1 returns nothingif VY8(i1)thencall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+(GetItemCharges(JW7)/VA8(i1))*(HZ4[i1]/2))elsecall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HZ4[i1]/2)endifcall RemoveItem(JW7)call DestroyEffect(AddSpecialEffectTarget("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",it,"overhead"))endfunctionfunction RGE takes integer O5,unit it,integer i1,boolean R8E returns booleanlocal player MS8=Player(O5)local boolean KT7=falselocal item JW7=nulllocal integer ilocal integer j=HZ4[i1]if(i1==TC or i1==VC or i1==AC)and(X54[O5]>=Y44)thenset j=j/2endifif GetPlayerState(MS8,PLAYER_STATE_RESOURCE_GOLD)>=j thencall SetPlayerState(MS8,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(MS8,PLAYER_STATE_RESOURCE_GOLD)-j)if H47[48+O5]thenset G27[192+O5]=G27[192+O5]+jendifset JW7=CreateItem(NU[i1],GetUnitX(it),GetUnitY(it))call SetItemVisible(JW7,HJ7)call SetItemPlayer(JW7,Player(O5),false)if VY8(i1)thencall SetItemCharges(JW7,VA8(i1))elseif i1==H3 thencall SetItemCharges(JW7,2)endifcall QCE(O5,it)set eY[512+O5]=0call UnitAddItem(it,JW7)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(0.1)endloopif(eY[512+O5]==1)thenset KT7=trueelseif(eY[512+O5]==2)or(eY[512+O5]==3)thenloopif eY[512+O5]==3 thenset KT7=(R7E(O5,it,i1,G57[288+O5],R8E,false,false)!=-1)exitwhen trueendifcall TriggerSleepAction(0.1)endloopendifset G27[96+O5]=0endifset MS8=nullset JW7=nullreturn KT7endfunctionfunction RHE takes integer O5 returns nothinglocal integer jlocal integer IW7local integer klocal unit ulocal player MS8=Player(O5)call QNE(O5,null)if H47[48+O5]thenreturnendifset j=6set k=G27[128+O5]-1loopexitwhen j>kif G57[O5*24+j]!=null and((not H47[192+O5])or(not LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+j]))))thenif IsItemOwned(G57[O5*24+j])thencall DisableTrigger(HR4)call UnitRemoveItem(K04[O5],G57[O5*24+j])call EnableTrigger(HR4)endifset IW7=R7E(O5,G7[O5],G_7[O5*24+j],G57[O5*24+j],false,true,false)if IW7!=-1 and IW7<6 thenset G57[O5*24+IW7]=G57[O5*24+j]if(G57[O5*24+IW7]==null)or(GetWidgetLife(G57[O5*24+IW7])<=0)thenset G57[O5*24+IW7]=G57[288+O5]endifset G_7[O5*24+IW7]=G_7[O5*24+j]endifcall SetItemVisible(G57[O5*24+j],HJ7)set G57[O5*24+j]=nullendifset j=j+1endloopif H47[192+O5]thenset j=GetUnitTypeId(G7[O5])if(j=='N01O' or j=='N013' or j=='N014' or j=='N015')thenset u=QZE(O5,G7[O5],false)endifif u!=null thencall QNE(O5,u)set j=6set k=G27[128+O5]-1loopexitwhen j>kif G57[O5*24+j]!=null and(LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+j])))thenset IW7=R7E(O5,u,G_7[O5*24+j],G57[O5*24+j],false,true,false)if IW7!=-1 and IW7<6 thenset G57[O5*24+IW7]=G57[O5*24+j]if(G57[O5*24+IW7]==null)or(GetWidgetLife(G57[O5*24+IW7])<=0)thenset G57[O5*24+IW7]=G57[288+O5]endifset G_7[O5*24+IW7]=G_7[O5*24+j]endifcall SetItemVisible(G57[O5*24+j],HJ7)set G57[O5*24+j]=nullendifset j=j+1endloopendifset u=nullendifcall QNE(O5,null)set j=12loopexitwhen j>G27[128+O5]-1if G57[O5*24+j]!=null thencall RFE(O5,G7[O5],G57[O5*24+j],G_7[O5*24+j])set G57[O5*24+j]=nullendifset j=j+1endloopset MS8=nullset u=nullendfunctionfunction RIE takes integer O5,unit it,integer RJE,integer i1 returns booleanlocal integer ilocal integer jlocal integer Q1Elocal integer RKE=0local item JW7=nulllocal boolean KT7=truelocal integer RMElocal boolean RNE=falselocal boolean ROE=IsUnitType(it,UNIT_TYPE_HERO)if(it==null)or((not J07(it))and(not H47[48+O5]))thenreturn falseelseif(H47[48+O5])and KK7(K04[O5])thenset H47[128+O5]=truereturn falseendifif(H47[224+O5])and(KK7(it)and G27[320+O5]<=0)thenset G27[96+O5]=i1return falseendifif(not IsUnitType(it,UNIT_TYPE_HERO))thenset RKE=AUif false thenset H47[288+O5]=trueif(H47[224+O5])thenreturn falseendifendifendifif RJE>=0 or RJE==-2 thencall HW7(O5,"Item Buy "+I2S(RJE)+" "+GetObjectName(OU[i1])+" "+I2S(G27[32+O5])+"/"+I2S(G27[48+O5])+" S="+HA7(H47[48+O5]))elsecall HW7(O5,"    "+GetObjectName(OU[i1]))endifif(RJE==-1)thenset G27[64+O5]=G27[64+O5]+1elseset G27[64+O5]=0endifset RME=G27[64+O5]if(H47[112+O5])thenif(RME==0)thencall QNE(O5,it)call QKE(O5,0)endifset i=0loopexitwhen(i>23)if(G57[O5*24+i]!=null)thenset KT7=falseif(G_7[O5*24+i]==i1)thenset KT7=trueelseif KQ7(i1,G_7[O5*24+i],false)thenset KT7=trueendifif KT7 thenset Q1E=LoadInteger(L_4,G27[368+O5],i1+RKE)if(RME==0)and(Q1E==0)thenset Q1E=LoadInteger(L_4,G27[352+O5],i1+RKE)if Q1E==0 thenset Q1E=1endifcall SaveInteger(L_4,G27[368+O5],i1+RKE,Q1E)endifset Q1E=LoadInteger(L_4,G27[224+O5],GetHandleId(G57[O5*24+i]))if Q1E==0 thenset Q1E=G27[48+O5]endifcall HW7(O5,"        Found "+HZ7(GetHandleId(G57[O5*24+i]))+HZ7(i)+GetItemName(G57[O5*24+i])+" "+I2S(Q1E)+"/"+HZ7(G27[48+O5])+HA7(GetItemPlayer(G57[O5*24+i])==Player(O5))+HA7(not H47[48+O5])+HA7(Q1E==G27[48+O5])+HA7(not LoadBoolean(L_4,G27[208+O5],GetHandleId(G57[O5*24+i])))+HA7(not H47[192+O5])+HA7(ROE==(not LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+i])))))if(GetItemPlayer(G57[O5*24+i])==Player(O5))and((not H47[48+O5])or((Q1E==G27[48+O5])and(not LoadBoolean(L_4,G27[208+O5],GetHandleId(G57[O5*24+i])))))thenif(RME==0)thencall SaveInteger(L_4,G27[368+O5],i1+RKE,LoadInteger(L_4,G27[368+O5],i1+RKE)-1)endifif(RME!=0)or(LoadInteger(L_4,G27[368+O5],i1+RKE)<=0)thenset JW7=G57[O5*24+i]exitwhen((not H47[192+O5])or(ROE==(not LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+i])))))endifendifendifendifset i=i+1endloopif JW7!=null and H47[48+O5]thencall SaveBoolean(L_4,G27[208+O5],GetHandleId(JW7),true)call SaveInteger(L_4,G27[224+O5],GetHandleId(JW7),G27[48+O5])endifset KT7=trueif(RME==0)thenset H47[272+O5]=trueif(not H47[96+O5])and(H47[48+O5]or(G27[32+O5]>=G27[48+O5]))thenif QUE(i1)thenif IsPlayerAlly(Player(O5),Y7[0])thencall M87('CItm',"Sent|"+I2S(i1),M_7('CItm',"Sent|"+I2S(i1))+1)call HW7(O5,"---- Sentinel's shared item: "+GetObjectName(OU[i1])+" "+I2S(M_7('CItm',"Sent|"+I2S(i1))))elsecall M87('CItm',"Scrg|"+I2S(i1),M_7('CItm',"Scrg|"+I2S(i1))+1)endifendifcall M87('CILx',I2S(GetHandleId(it))+"|"+I2S(i1),M_7('CILx',I2S(GetHandleId(it))+"|"+I2S(i1))+1)if QPE(it,i1)thencall ME7('CItm',"Orb|"+I2S(GetHandleId(it)),true)endifif QQE(it,i1)thencall ME7('CItm',"Buff|"+I2S(GetHandleId(it)),true)endifset H47[96+O5]=trueendifendifendifif G27[64+O5]<99 thenif JW7!=null thencall SetItemUserData(JW7,1)if(not UnitHasItem(it,JW7))thenset H47[272+O5]=falseif(not H47[48+O5])and(not H47[224+O5])thencall R7E(O5,it,i1,JW7,true,false,true)endifelseset i=0loopexitwhen i>5if G57[O5*24+i]==JW7 thenset G57[O5*24+i]=nullexitwhen trueendifset i=i+1endloopif not H47[48+O5]thencall DisableTrigger(HR4)call UnitRemoveItem(it,JW7)call EnableTrigger(HR4)set eY[512+O5]=0call UnitAddItem(it,JW7)loopexitwhen eY[512+O5]!=0call TriggerSleepAction(0.1)endloopset JW7=G57[288+O5]if(not ROE)thencall SaveBoolean(L_4,G27[256+O5],GetHandleId(G57[288+O5]),true)endifendifendifelseset i=1loopexitwhen(i>F14 or FL4[i]==i1)if i1==H6 and FL4[i]==G6 thenexitwhen trueelseif i1==W5 and FL4[i]==A5 thenexitwhen trueendifset i=i+1endloopif i<=F14 thenif KT7 and(FA4[i]!=0)thenset KT7=(RIE(O5,it,-1,FA4[i]))endifif KT7 and(FB4[i]!=0)thenset KT7=(RIE(O5,it,-1,FB4[i]))endifif KT7 and(FC4[i]!=0)thenset KT7=(RIE(O5,it,-1,FC4[i]))endifif KT7 and(F34[i]!=0)thenset KT7=(RIE(O5,it,-1,F34[i]))endifif KT7 and(F64[i]!=0)thenset KT7=(RIE(O5,it,-1,F64[i]))endifif KT7 thenif(H47[48+O5])thencall SaveBoolean(L_4,G27[208+O5],GetHandleId(G57[288+O5]),true)elseif(i1==H6)thencall UnitUseItem(it,G57[288+O5])endifendifif RJE==-1 thenset H47[144+O5]=trueendifendifset RNE=trueelseif(H47[112+O5])thenif H47[48+O5]thenset KT7=RGE(O5,K04[O5],i1,false)if KT7 thencall SaveInteger(L_4,G27[224+O5],GetHandleId(G57[288+O5]),G27[48+O5])endifelseif(H47[224+O5])thenif(not Q7E(i1))thenset KT7=falseelseif(G27[320+O5]>0)and IsUnitType(it,UNIT_TYPE_HERO)and KK7(it)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HZ4[i1])and KJ7(it,OU[EW])thencall RFE(O5,it,bj_lastCreatedItem,EW)set G27[320+O5]=G27[320+O5]-1endifset KT7=RGE(O5,it,i1,true)elseset KT7=RGE(O5,it,i1,true)endifif not KT7 thenset G27[96+O5]=i1endifendifendifif KT7 and(not ROE)thencall SaveBoolean(L_4,G27[256+O5],GetHandleId(G57[288+O5]),true)endifendifif RME==0 thenif(not KT7)thenset G27[112+O5]=i1elseif(not(G27[32+O5]<G27[48+O5]))or(H47[48+O5])thenset G27[112+O5]=0endifendifif(not H47[128+O5])and(H47[48+O5])and KK7(K04[O5])thenset H47[128+O5]=trueendifif RME==0 and KT7 thenif not(G27[144+O5]==HD7)thenif(not H47[48+O5])and((not H47[224+O5])or(H47[272+O5]))thenset G27[32+O5]=G27[32+O5]+1elseif RNE thenset H47[128+O5]=truecall M87('CItm',I2S(GetHandleId(it))+"|s"+I2S(G27[48+O5]),i1)endifset G27[48+O5]=G27[48+O5]+1endifendifset H47[96+O5]=falseif(not H47[48+O5])and ROE thenif(i1==N6)thenset H47[64+O5]=truecall QNE(O5,it)set i=0loopexitwhen(i>23)set Q1E=G_7[O5*24+i]if(Q1E==BU or Q1E==V6 or Q1E==W6 or Q1E==A6 or Q1E==D_4 or Q1E==EC or Q1E==FC or Q1E==FS4)thencall RFE(O5,it,G57[O5*24+i],Q1E)if KJ7(it,OU[AC])thencall RFE(O5,it,bj_lastCreatedItem,AC)endifif KJ7(K04[O5],OU[AC])thencall RFE(O5,it,bj_lastCreatedItem,AC)endifexitwhen trueendifset i=i+1endloopelseif G27[336+O5]!=0 thenset i=0loopexitwhen(i>23)if(G_7[O5*24+i]==G27[336+O5])thencall RFE(O5,it,G57[O5*24+i],G27[336+O5])exitwhen trueendifset i=i+1endloopset G27[336+O5]=0endifendifif(H47[112+O5])and(not H47[48+O5])and ROE thenset Q1E=Q5E(O5,false)-6loopset i=Q3E(O5,false,false)exitwhen(i==-1)or(Q1E<=0)call RFE(O5,it,G57[O5*24+i],G_7[O5*24+i])set G57[O5*24+i]=nullset Q1E=Q1E-1endloopendifif(not H47[128+O5])and(H47[48+O5])and(Q9E(O5,it,null,i1,true)>=99)thenset H47[128+O5]=trueendifif(H47[192+O5])and(not H47[48+O5])and(GetUnitTypeId(it)=='e01F')thencall QBE(O5,it)endifendifendifif(not H47[112+O5])thenreturn trueendifif(RME==0)and(not H47[80+O5])and KT7 and(RJE==G27[240+O5])thenif(not H47[48+O5])thenset G27[144+O5]=HF7elseset H47[160+O5]=trueendifendifreturn KT7endfunctionfunction RPE takes nothing returns nothinglocal integer i=GetHandleId(GetTriggeringTrigger())local integer O5=M_7(i,"p")set H47[208+O5]=RIE(O5,MZ7(i,"u"),M_7(i,"i"),M_7(i,"id"))set G27[272+O5]=0endfunctionfunction RQE takes integer O5,unit it,integer RJE,integer i1 returns booleanlocal integer ilocal integer RKE=0if(not H47[112+O5])thenif RJE>=0 and(G27[240+O5]<=RJE)thenset G27[240+O5]=RJEendifif(not IsUnitType(it,UNIT_TYPE_HERO))thenset RKE=AUendifcall SaveInteger(L_4,G27[352+O5],i1+RKE,LoadInteger(L_4,G27[352+O5],i1+RKE)+1)return trueendifif(H47[112+O5])and(RJE>=0)and(((not H47[48+O5])and(G27[32+O5]!=RJE))or((H47[48+O5])and(G27[48+O5]!=RJE)))thenreturn falseendifif Bz<G27[272+O5]thenset i=R2I(Bz)+10loopcall TriggerSleepAction(1)exitwhen(Bz>i or Bz>G27[272+O5])endloopif Bz<G27[272+O5]thenreturn falseendifendifset i=GetHandleId(QY4[112+O5])call MF7(i,"u",it)call M87(i,"i",RJE)if(i1==R0)and(N77(QC4,P1E(it)+"|D"))and(IsUnitType(it,UNIT_TYPE_HERO))thencall M87(i,"id",Z3)elsecall M87(i,"id",i1)endifset G27[272+O5]=R2I(Bz)+15set H47[208+O5]=falsecall TriggerExecute(QY4[112+O5])loopcall TriggerSleepAction(0.2)exitwhen Bz>G27[272+O5]endloopreturn H47[208+O5]endfunctionfunction RRE takes integer O5,unit it,integer i1,boolean RSE returns booleanlocal boolean RTE=KJ7(it,OU[i1])or KJ7(K04[O5],OU[i1])if N77('CMis',I2S(GetHandleId(it))+"|"+I2S(i1))thenset RSE=falseendifif RSE and(IsItemOwned(bj_lastCreatedItem)or(not KK7(it)))thenif not((G27[O5]==i1 or G27[16+O5]==i1)and RTE)thenif G27[O5]==0 and G27[16+O5]!=i1 thenset G27[O5]=i1elseif G27[16+O5]==0 and G27[O5]!=i1 thenset G27[16+O5]=i1endifif not RTE thenreturn RGE(O5,it,i1,true)endifendifelseif RTE thenif(G27[O5]==i1)thenset G27[O5]=0elseif(G27[16+O5]==i1)thenset G27[16+O5]=0endifendifendifreturn falseendfunctionfunction RUE takes integer O5 returns nothinglocal integer i=0local item JW7=nulllocal integer i1loopexitwhen i>5set JW7=UnitItemInSlot(K04[O5],i)if JW7!=null thenset bj_forLoopAIndex=GetItemTypeId(JW7)set i1=-1if(bj_forLoopAIndex==OU[G27[O5]])thenset i1=G27[O5]set G27[O5]=0elseif(bj_forLoopAIndex==OU[G27[16+O5]])thenset i1=G27[16+O5]set G27[16+O5]=0elseif(bj_forLoopAIndex==OU[AC])thencall RFE(O5,G7[O5],JW7,AC)endifif i1!=-1 thencall ME7('CMis',I2S(GetHandleId(G7[O5]))+"|"+I2S(i1),true)call RFE(O5,G7[O5],JW7,i1)endifendifset i=i+1endloopset JW7=nullendfunctionfunction RVE takes integer O5,unit it,boolean RWE returns nothinglocal integer i1=GetUnitTypeId(it)local integer array RXElocal boolean KT7=falselocal boolean RYE=falselocal boolean RZE=falselocal boolean J4=falselocal string RAElocal integer ilocal integer Q1Elocal integer jlocal integer IW7local integer RBElocal integer klocal integer Q0Elocal unit uif(not(Bz>=G27[160+O5]))or GZ[192+O5]thenreturnendifif(not H47[112+O5])thenset G27[144+O5]=HE7elseset G27[160+O5]=R2I(Bz)+HH7call QNE(O5,it)endifset H47[48+O5]=RWEset H47[160+O5]=(RWE and H47[176+O5])set i=G27[144+O5]if(G27[144+O5]==HD7)and(not RWE)thenif(PT4)thenelsecall RRE(O5,it,TC,true)endifcall RGE(O5,it,VC,true)endifset Q1E=M_7(GetHandleId(Player(O5)),"AI|Class")set RXE[10]=DJ4if(G27[144+O5]==HD7)and(not RWE)thenset IW7=TW7(it)if Q1E==DB7 thenelseif IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)thencall RGE(O5,it,ZY,false)if i1!='H06S' thencall RGE(O5,it,BA,false)endifelsecall RGE(O5,it,WX,false)if IW7==1 thencall RQE(O5,it,-2,AL)elseif IW7==2 thencall RQE(O5,it,-2,ZL)elsecall RQE(O5,it,-2,WL)endifendifendifset G27[144+O5]=HE7set G27[112+O5]=0endifif(i1=='H00D')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DS4)call RQE(O5,it,4,F04)call RQE(O5,it,5,X2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4endifelseif(i1=='H0DO')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,GC)call RQE(O5,it,4,C5)call RQE(O5,it,5,E74)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DR4set RXE[2]=H2endifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,V1)call RQE(O5,it,4,R0)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4set RXE[1]=DM4set RXE[2]=DP4endifelseif(i1=='Harf')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,O0)call RQE(O5,it,3,EE4)call RQE(O5,it,4,WB)call RQE(O5,it,5,E0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DR4set RXE[2]=R0endifelseif(i1=='Naka')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,R0)call RQE(O5,it,4,WB)call RQE(O5,it,5,DE4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DP4set RXE[1]=DM4set RXE[2]=DD4endifelseif(i1=='U00P')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,E74)call RQE(O5,it,4,D24)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=F04set RXE[1]=DR4endifelseif(i1=='Ntin')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,D24)call RQE(O5,it,4,A5)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E74set RXE[1]=DR4endifelseif(i1=='Udre')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,DC4)call RQE(O5,it,4,F04)call RQE(O5,it,5,V1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DD4set RXE[2]=G5endifelseif(i1=='E004')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,D24)call RQE(O5,it,4,D44)call RQE(O5,it,5,DE4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4set RXE[1]=G5endifelseif(i1=='U00C')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DC4)call RQE(O5,it,3,E1)call RQE(O5,it,4,R0)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4set RXE[1]=B3endifelseif(i1=='N01A')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,WB)call RQE(O5,it,4,D24)call RQE(O5,it,5,D44)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=G5endifelseif(i1=='Huth')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,HW)call RQE(O5,it,4,DS4)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4set RXE[1]=B3endifelseif(i1=='Eevi')or(i1=='Eevm')or(i1=='E02V')or(i1=='E02W')or(i1=='E02U')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,OC)call RQE(O5,it,2,E44)call RQE(O5,it,3,WB)call RQE(O5,it,4,R0)call RQE(O5,it,5,W5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DE4set RXE[1]=DM4endifelseif(i1=='H00S')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,D24)call RQE(O5,it,3,D44)call RQE(O5,it,4,C5)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=H2endifelseif(i1=='UC01')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,D24)call RQE(O5,it,3,F04)call RQE(O5,it,4,D44)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4endifelseif(i1=='Emoo')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,D24)call RQE(O5,it,4,F04)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4endifelseif(i1=='H004')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,C5)call RQE(O5,it,3,D24)call RQE(O5,it,4,WB)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DO4set RXE[1]=H2endifelseif(i1=='E02X')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,C5)call RQE(O5,it,3,R2)call RQE(O5,it,4,D24)call RQE(O5,it,5,GC)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=DO4set RXE[2]=H2endifelseif(i1=='N0HP')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,C5)call RQE(O5,it,4,E74)call RQE(O5,it,5,GC)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=DL4set RXE[2]=H2endifelseif(i1=='Nfir')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,B5)call RQE(O5,it,4,D44)call RQE(O5,it,5,A5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DP4endifelseif(i1=='Nbrn')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,B5)call RQE(O5,it,4,V1)call RQE(O5,it,5,A5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DD4set RXE[2]=DP4endifelseif(i1=='N00R')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,WB)call RQE(O5,it,4,DS4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DG4set RXE[1]=DR4endifelseif(i1=='U00F')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,DS4)call RQE(O5,it,4,DA4)call RQE(O5,it,5,E74)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=F04set RXE[2]=DG4endifelseif(i1=='U00K')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,F04)call RQE(O5,it,5,E74)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DG4endifelseif(i1=='UC11')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,V1)call RQE(O5,it,4,WB)call RQE(O5,it,5,HW)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4set RXE[1]=DM4set RXE[2]=DJ4endifelseif(i1=='H00R')or(i1=='H07I')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DS4)call RQE(O5,it,4,F04)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4endifelseif(i1=='Hvwd')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,WB)call RQE(O5,it,4,E74)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=B5set RXE[1]=A5endifelseif(i1=='Ofar')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,V1)call RQE(O5,it,4,HW)call RQE(O5,it,5,DA4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DQ4set RXE[2]=DM4set RXE[3]=E84endifelseif(i1=='H00I')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,O0)call RQE(O5,it,3,DA4)call RQE(O5,it,4,WB)call RQE(O5,it,5,DX4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=F04endifelseif(i1=='Udea')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DX4)call RQE(O5,it,4,F04)call RQE(O5,it,5,W5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4endifelseif(i1=='U008')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,WB)call RQE(O5,it,4,E1)call RQE(O5,it,5,R0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4set RXE[1]=B3endifelseif(i1=='U006')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DX4)call RQE(O5,it,4,D24)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4endifelseif(i1=='Hmbr')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,E74)call RQE(O5,it,4,C5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=E0set RXE[2]=H2endifelseif(i1=='O00P')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,D44)call RQE(O5,it,3,V1)call RQE(O5,it,4,A5)call RQE(O5,it,5,FP4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DO4endifelseif(i1=='Hjai')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,EC)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,C5)call RQE(O5,it,4,E0)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=H2endifelseif(i1=='H001')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,WB)call RQE(O5,it,4,V1)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4set RXE[1]=DM4set RXE[2]=DD4endifelseif(i1=='HC49')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,WB)call RQE(O5,it,4,Q1)call RQE(O5,it,5,W5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DE4endifelseif(i1=='HC92')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,Q1)call RQE(O5,it,4,LL)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=W5set RXE[2]=DP4set RXE[3]=B3endifelseif(i1=='Otch')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,E74)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DQ4endifelseif(i1=='Ogrh')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,Q1)call RQE(O5,it,4,W5)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DG4set RXE[2]=B3endifelseif(i1=='Nbbc')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,V1)call RQE(O5,it,4,B5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=W5set RXE[1]=DM4set RXE[2]=DP4endifelseif(i1=='Hamg')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,R2)call RQE(O5,it,4,DG4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=DQ4endifelseif(i1=='E005')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,V1)call RQE(O5,it,3,B5)call RQE(O5,it,4,A5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DD4endifelseif(i1=='Usyl')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,V1)call RQE(O5,it,3,B5)call RQE(O5,it,4,A5)call RQE(O5,it,5,DD4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DO4endifelseif(i1=='Hmkg')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,F04)call RQE(O5,it,4,C5)call RQE(O5,it,5,DZ4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=H2endifelseif(i1=='Emns')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,B5)call RQE(O5,it,3,R2)call RQE(O5,it,4,F04)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=A5endifelseif(i1=='Ucrl')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,C5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DY4set RXE[2]=H2endifelseif(i1=='Hblm')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,EC)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,B5)call RQE(O5,it,4,C5)call RQE(O5,it,5,R2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=H2set RXE[2]=DR4endifelseif(i1=='Uktl')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,E74)call RQE(O5,it,5,D44)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DG4endifelseif(i1=='H00K')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,E74)call RQE(O5,it,4,F04)call RQE(O5,it,5,E0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DR4endifelseif(i1=='H00A')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,O0)call RQE(O5,it,3,E74)call RQE(O5,it,4,F04)call RQE(O5,it,5,R2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=E0endifelseif(i1=='Orkn')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E0)call RQE(O5,it,3,E74)call RQE(O5,it,4,F04)call RQE(O5,it,5,R2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DQ4set RXE[1]=X2endifelseif(i1=='H008')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,E74)call RQE(O5,it,4,R0)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4endifelseif(i1=='Npbm')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,HW)call RQE(O5,it,4,F04)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=W5endifelseif(i1=='H000')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,HW)call RQE(O5,it,4,DG4)call RQE(O5,it,5,DA4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=DY4endifelseif(i1=='Hlgr')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,V1)call RQE(O5,it,4,R0)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4set RXE[1]=DM4endifelseif(i1=='Edem')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,W5)call RQE(O5,it,4,E1)call RQE(O5,it,5,F5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DD4set RXE[1]=DP4set RXE[2]=B3endifelseif(i1=='E00P')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,F04)call RQE(O5,it,4,C5)call RQE(O5,it,5,R2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2set RXE[1]=H2set RXE[2]=DL4endifelseif(i1=='N01V')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,A5)call RQE(O5,it,3,Q1)call RQE(O5,it,4,R0)call RQE(O5,it,5,DE4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DP4endifelseif(i1=='N01I')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,Y0)call RQE(O5,it,4,R0)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4endifelseif(i1=='EC57')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,B5)call RQE(O5,it,4,F04)call RQE(O5,it,5,A5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DR4endifelseif(i1=='UC18')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,C5)call RQE(O5,it,4,F04)call RQE(O5,it,5,DZ4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=H2endifelseif(i1=='UC76')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,DZ4)call RQE(O5,it,4,DA4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=DJ4endifelseif(i1=='Ekee')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,DZ4)call RQE(O5,it,4,F04)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4endifelseif(i1=='Ulic')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,EC)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,F04)call RQE(O5,it,4,DZ4)call RQE(O5,it,5,DQ4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4endifelseif(i1=='N0EG')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,D24)call RQE(O5,it,3,E74)call RQE(O5,it,4,F04)call RQE(O5,it,5,Q1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DE4endifelseif(i1=='E01Y')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,NC)call RQE(O5,it,3,HW)call RQE(O5,it,4,DT4)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4set RXE[1]=DD4endifelseif(i1=='N00B')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,F04)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=D44endifelseif(i1=='H00Q')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,DC4)call RQE(O5,it,4,V1)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DY4set RXE[2]=G5endifelseif(i1=='H06S')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,B5)call RQE(O5,it,4,Y0)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4set RXE[1]=DY4endifelseif(i1=='U00F')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,DS4)call RQE(O5,it,4,DA4)call RQE(O5,it,5,E74)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=DL4set RXE[2]=F04endifelseif(i1=='H00T')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,DS4)call RQE(O5,it,4,F04)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4set RXE[1]=DY4endifelseif(i1=='NC00')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DC4)call RQE(O5,it,3,B5)call RQE(O5,it,4,X0)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4endifelseif(i1=='O00J')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DC4)call RQE(O5,it,4,V1)call RQE(O5,it,5,R0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=F04endifelseif(i1=='U00A')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DX4)call RQE(O5,it,3,Q1)call RQE(O5,it,4,W5)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DY4set RXE[2]=B3endifelseif(i1=='H00V')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,V1)call RQE(O5,it,3,A5)call RQE(O5,it,4,DO4)call RQE(O5,it,5,DE4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DP4endifelseif(i1=='EC77')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,B5)call RQE(O5,it,3,A5)call RQE(O5,it,4,F04)call RQE(O5,it,5,FP4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DP4endifelseif(i1=='E002')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,B5)call RQE(O5,it,3,A5)call RQE(O5,it,4,F04)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4endifelseif(i1=='E02N')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,B5)call RQE(O5,it,3,F04)call RQE(O5,it,4,Q1)call RQE(O5,it,5,A5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DP4endifelseif(i1=='Ubal')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,D44)call RQE(O5,it,3,A5)call RQE(O5,it,4,DG4)call RQE(O5,it,5,DP4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DO4endifelseif(i1=='Ewar')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,V1)call RQE(O5,it,3,Y0)call RQE(O5,it,4,W5)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DE4set RXE[2]=B3endifelseif(i1=='EC45')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,V1)call RQE(O5,it,3,W5)call RQE(O5,it,4,F5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=Y0set RXE[2]=DD4endifelseif(i1=='Hvsh')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,B5)call RQE(O5,it,3,R0)call RQE(O5,it,4,V1)call RQE(O5,it,5,F5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DD4set RXE[2]=DG4endifelseif(i1=='E01B')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,Q1)call RQE(O5,it,4,W5)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=R1set RXE[1]=DP4endifelseif(i1=='N0M0')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,OC)call RQE(O5,it,3,R0)call RQE(O5,it,4,Y0)call RQE(O5,it,5,DG4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4set RXE[1]=DJ4endifelseif(i1=='H071')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,V1)call RQE(O5,it,4,R0)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DM4set RXE[1]=DY4set RXE[2]=B3endifelseif(i1=='Opgh')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,HW)call RQE(O5,it,4,J1)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4endifelseif(i1=='E032')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,DS4)call RQE(O5,it,4,Y0)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84endifelseif(i1=='E02K')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,R0)call RQE(O5,it,4,Y0)call RQE(O5,it,5,E1)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4set RXE[1]=B3endifelseif(i1=='UC42')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,D_4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,B5)call RQE(O5,it,4,F04)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4endifelseif(i1=='E02I')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,B5)call RQE(O5,it,4,R0)call RQE(O5,it,5,Y0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DL4endifelseif(i1=='UC91')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,HW)call RQE(O5,it,4,R0)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DJ4endifelseif(i1=='O015')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,W6)call RQE(O5,it,1,E44)call RQE(O5,it,2,WB)call RQE(O5,it,3,E74)call RQE(O5,it,4,X0)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4endifelseif(i1=='H00N')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,F04)call RQE(O5,it,4,DG4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DY4endifelseif(i1=='U000')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,C5)call RQE(O5,it,3,R2)call RQE(O5,it,4,R0)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=X2set RXE[2]=H2endifelseif(i1=='E02F')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,C5)call RQE(O5,it,4,R2)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=X2set RXE[2]=H2endifelseif(i1=='O01F')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,DA4)call RQE(O5,it,4,C5)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=E84set RXE[2]=H2endifelseif(i1=='U00E')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,DS4)call RQE(O5,it,3,DA4)call RQE(O5,it,4,C5)call RQE(O5,it,5,F04)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DG4set RXE[1]=E84set RXE[2]=H2endifelseif(i1=='H00H')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E44)call RQE(O5,it,2,E74)call RQE(O5,it,3,C5)call RQE(O5,it,4,F04)call RQE(O5,it,5,R2)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=X2set RXE[2]=H2endifelseif(i1=='N01W')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,O0)call RQE(O5,it,2,E74)call RQE(O5,it,3,F04)call RQE(O5,it,4,GC)call RQE(O5,it,5,DA4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84endifelseif(i1=='E01A')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,FS4)call RQE(O5,it,1,E74)call RQE(O5,it,2,C5)call RQE(O5,it,3,B5)call RQE(O5,it,4,F04)call RQE(O5,it,5,G5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=H2endifelseif(i1=='E01C')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E74)call RQE(O5,it,2,F04)call RQE(O5,it,3,R2)call RQE(O5,it,4,DQ4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X2endifelseif(i1=='Oshd')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E74)call RQE(O5,it,2,R2)call RQE(O5,it,3,F04)call RQE(O5,it,4,C5)call RQE(O5,it,5,DR4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=H2set RXE[1]=X2endifelseif(i1=='UC60')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,EE4)call RQE(O5,it,2,DT4)call RQE(O5,it,3,F04)call RQE(O5,it,4,DG4)call RQE(O5,it,5,DL4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84endifelseif(i1=='E02J')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,EE4)call RQE(O5,it,2,E74)call RQE(O5,it,3,C5)call RQE(O5,it,4,GC)call RQE(O5,it,5,DR4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DO4set RXE[1]=H2endifelseif(i1=='E02H')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,EE4)call RQE(O5,it,2,E74)call RQE(O5,it,3,C5)call RQE(O5,it,4,GC)call RQE(O5,it,5,X0)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=DR4set RXE[1]=H2endifelseif(i1=='O016')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,HW)call RQE(O5,it,4,DT4)call RQE(O5,it,5,C5)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=E84set RXE[1]=DR4set RXE[2]=H2endifelseif(i1=='H00U')thenif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,A6)call RQE(O5,it,1,E44)call RQE(O5,it,2,EE4)call RQE(O5,it,3,F04)call RQE(O5,it,4,D24)call RQE(O5,it,5,DR4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=G5set RXE[1]=X2endifelseif(i1=='N01O' or i1=='N013' or i1=='N014' or i1=='N015')thenif H47[112+O5]thenset u=QZE(O5,it,(not RWE))set H47[192+O5]=trueelseset u=nullendifif(G27[144+O5]==HE7)and(not H47[160+O5])thencall RQE(O5,it,0,V6)call RQE(O5,u,1,D_4)call RQE(O5,it,2,E44)call RQE(O5,it,3,WB)call RQE(O5,u,4,DX4)call RQE(O5,it,5,DS4)call I17(1.)call RQE(O5,u,6,DG4)call RQE(O5,it,7,E1)call RQE(O5,u,8,DY4)call RQE(O5,it,9,R0)call RQE(O5,u,10,R0)call RQE(O5,u,11,DE4)endifif(G27[144+O5]==HF7)or(H47[160+O5])thenset RXE[0]=X0set RXE[1]=B3endifset u=nullelseset J4=trueendifif(not H47[112+O5])thenset H47[112+O5]=trueset G27[32+O5]=0set G27[144+O5]=HD7set QY4[112+O5]=CreateTrigger()call TriggerAddAction(QY4[112+O5],function RPE)call M87(GetHandleId(QY4[112+O5]),"p",O5)returnendifif(not J4)and((G27[144+O5]==HF7)or(H47[160+O5]))and(J07(it))thenif RWE thenset H47[176+O5]=trueelseif not H47[80+O5]thencall RHE(O5)set H47[80+O5]=trueset H47[176+O5]=trueendifendifif G27[112+O5]==0 thenif IsPlayerAlly(Player(O5),Y7[0])thenset RAE="Sent|"elseset RAE="Scrg|"endifset RZE=falseloopset RYE=falseset Q1E=1if H47[64+O5]thenset Q1E=0endifset KT7=trueloopset i=QOE(O5)exitwhen((i<=Q1E)or(KT7==false))set k=0set i=0set IW7=0set RBE=0loopexitwhen i>9if RXE[i]!=0 thenset IW7=i+1endifif RXE[10+i]!=0 thenset RBE=i+1endifset i=i+1endloopset i=0set KT7=falseloopexitwhen(((not H47[64+O5])and(i>=IW7+IW7))or(i>=IW7+IW7+RBE+RBE))if i<IW7 thenset j=GetRandomInt(0,IW7)elseif i<IW7+IW7 thenset j=i-IW7elseif i<IW7+IW7+RBE thenset j=10+GetRandomInt(0,RBE)elseset j=10+(i-(IW7+IW7+RBE))endifif RXE[j]!=0 thenset k=M_7('CItm',RAE+I2S(RXE[j]))set Q0E=M_7('CILx',I2S(GetHandleId(it))+"|"+I2S(RXE[j]))if(k>=1)or(((not QVE(RXE[j]))and(Q0E>0))or(Q0E>1))or(not QRE(O5,it,RXE[j]))thenset RXE[j]=0elseset KT7=RQE(O5,it,-2,RXE[j])exitwhen trueendifendifset i=i+1endloopendloopcall RHE(O5)if G27[112+O5]==0 and(not RZE)thenset RZE=trueset KT7=trueloopexitwhen KT7==falseset i=0set j=0set IW7=0set k=0set Q0E=-1set KT7=falseloopexitwhen(i>5)set bj_lastCreatedItem=UnitItemInSlot(it,i)set Q1E=JU7(bj_lastCreatedItem)set j=0if(LoadInteger(L_4,G27[224+O5],GetHandleId(bj_lastCreatedItem))!=0)or(N77('CLxU',I2S(GetHandleId(it))+"|"+I2S(Q1E)))thenelseif(Q1E==YW)thenset j=10elseif(Q1E==DA4)thenif(M_7('CItm',RAE+I2S(E84))<=1)thenset j=10elseset j=1endifelseif(Q1E==V1)thenset j=8elseif((Q1E==WB or Q1E==YB)and(not KJ7(it,OU[DY4]))and(M_7('CItm',RAE+I2S(DY4))<=1))thenset j=8elseif(Q1E==R2 or Q1E==T2)thenset j=7elseif(Q1E==C5 or Q1E==L5 or Q1E==E2 or Q1E==F2)thenset j=6elseif((Q1E==Q1 and GetItemCharges(bj_lastCreatedItem)<=3)or Q1E==T1)or(Q1E==DB4 or Q1E==DC4)or(Q1E==DS4 or Q1E==DT4)thenset j=5elseif(Q1E==F5)thenset j=4elseif(Q1E==E1)thenset j=4elseif(Q1E==BU or Q1E==V6 or Q1E==W6 or Q1E==A6 or Q1E==D_4 or Q1E==EC or Q1E==FC or Q1E==FS4)and(not H47[64+O5])thenset j=3endifif j>IW7 thenset IW7=jset k=iset Q0E=Q1Eendifset i=i+1endloopif IW7!=0 thenif RWE thencall SaveInteger(L_4,G27[224+O5],GetHandleId(bj_lastCreatedItem),G27[48+O5])endifcall ME7('CLxU',I2S(GetHandleId(it))+"|"+I2S(Q0E),true)call QNE(O5,it)if(Q0E==YW)thenset KT7=RQE(O5,it,-2,DA4)elseif(Q0E==DA4)and(M_7('CItm',RAE+I2S(E84))<=1)thenset KT7=RQE(O5,it,-2,E84)elseif(Q0E==V1)thenset KT7=RQE(O5,it,-2,DM4)elseif(Q0E==R2 or Q0E==T2)thenset KT7=RQE(O5,it,-2,X2)elseif(Q0E==C5 or Q0E==L5 or Q0E==E2 or Q0E==F2)thenset KT7=RQE(O5,it,-2,H2)elseif(Q0E==Q1 or Q0E==T1)thenset KT7=RQE(O5,it,-2,R1)elseif(Q0E==F5)thenset KT7=RQE(O5,it,-2,DD4)elseif(Q0E==E1)thenset KT7=RQE(O5,it,-2,B3)elseif(Q0E==BU or Q0E==V6 or Q0E==W6 or Q0E==A6 or Q0E==D_4 or Q0E==EC or Q0E==FC or Q0E==FS4)thenset KT7=RQE(O5,it,-2,N6)if KT7 thenset RYE=trueendifelseif(Q0E==DA4)thenset KT7=RQE(O5,it,-2,E84)elseif(Q0E==WB or Q0E==YB)thenset G27[336+O5]=Q0Eset KT7=RQE(O5,it,-2,DY4)elseif(Q0E==DB4 or Q0E==DC4)or(Q1E==DS4 or Q1E==DT4)thenset G27[336+O5]=Q0Eset KT7=RQE(O5,it,-2,DJ4)endifendifendloopendifexitwhen(not RYE)endloopendifendifif(not J4)and(i!=HD7)and(not H47[64+O5])and(not RWE)and(not KJ7(it,OU[AC]))and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HZ4[AC])thenset Q1E=Q5E(O5,false)-5if Q1E>0 thenset j=Q3E(O5,false,false)if j!=-1 thencall RFE(O5,it,G57[O5*24+j],G_7[O5*24+j])endifendifendifif(not J4)and(i==HD7)thencall RHE(O5)set Q1E=QEE(O5,it,false)if GetHeroLevel(it)>=6 and H47[64+O5]==false thenset Q1E=Q1E-1endifif Q1E>0 and HI7 thencall SetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)+HZ4[YX])call RGE(O5,it,YX,false)set Q1E=Q1E-1endifif KJ7(it,OU[VC])thencall RGE(O5,it,VC,false)endifset G27[320+O5]=Q1Eloopexitwhen(Q1E<=0)call RGE(O5,it,EW,false)set Q1E=Q1E-1endloopendifset H47[48+O5]=falseif not RWE thenif G27[48+O5]<G27[32+O5]thenset G27[48+O5]=G27[32+O5]endifif H47[192+O5]thencall QCE(O5,null)endifcall FlushChildHashtable(L_4,G27[224+O5])endifcall FlushChildHashtable(L_4,G27[208+O5])call FlushChildHashtable(L_4,G27[368+O5])call HW7(O5,"------------------------Buy End -")set G27[160+O5]=0endfunctionfunction RCE takes unit it returns nothinglocal integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal integer ilocal integer jlocal item JW7=nulllocal boolean KT7=truelocal boolean R3E=falseif GZ[192+O5]thenset GZ[192+O5]=falseset G27[O5]=0set G27[16+O5]=0set G27[32+O5]=0set G27[48+O5]=0set G27[96+O5]=0set G27[112+O5]=0set G27[144+O5]=HD7set H47[16+O5]=falseset H47[32+O5]=falseset H47[64+O5]=falseset H47[80+O5]=falseset H47[96+O5]=falseset H47[128+O5]=trueset H47[160+O5]=falseset H47[176+O5]=falseif G7[O5]!=null thenset UP=0loopexitwhen UP>5call RemoveItem(UnitItemInSlot(G7[O5],UP))call RemoveItem(UnitItemInSlot(K04[O5],UP))set UP=UP+1endloopendifendifif not((Bz>=P04-HG7)and(Bz>G27[176+O5])and(i1!='H00J'))thenreturnendifset G27[176+O5]=R2I(Bz)+HH7set hq[592+O5]=Bz+EH7set G0[320+O5]=falseif(GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8)==false and G27[96+O5]!=0 thenif(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HZ4[G27[96+O5]])thencall RVE(O5,it,true)endifendifloopexitwhen GetUnitState(it,UNIT_STATE_LIFE)>1000. or GetUnitState(it,UNIT_STATE_LIFE)/GetUnitState(it,UNIT_STATE_MAX_LIFE)>0.8if GetUnitState(it,UNIT_STATE_LIFE)<=.405 or IX4[O5]thenset G27[176+O5]=0returnendifcall TriggerSleepAction(1.)endloopif(S54 and T74[O5]==true)thenif(UnitHasItem(it,T94[O5]))thencall DisableTrigger(HR4)call UnitRemoveItem(it,T94[O5])call RemoveItem(T94[O5])call SetItemVisible(T94[O5],HJ7)call EnableTrigger(HR4)endifif(T84[O5]!=null)thencall I17(0.2)call UnitAddItem(it,T84[O5])endifset T94[O5]=nullset T84[O5]=nullendifif(TF4[O5]==true)thenif(KJ7(it,OU[AC]))thenset TE4[O5]=bj_lastCreatedItemcall DisableTrigger(HR4)call UnitRemoveItem(it,TE4[O5])call SetItemPosition(TE4[O5],9999,-9999)call SetItemVisible(TE4[O5],HJ7)call EnableTrigger(HR4)set TE4[O5]=nullendifif(TD4[O5]!=null)thencall I17(0.2)call UnitAddItem(it,TD4[O5])endifset TF4[O5]=falseset TD4[O5]=nullendifif(KJ7(it,OU[DB4])and(NF7(it,"ArmletOfMordigan|Active")==true))thencall UnitUseItem(it,bj_lastCreatedItem)endifloopcall TriggerSleepAction(0.1)exitwhen Bz>G27[160+O5]if GetWidgetLife(it)<.405 thenset JW7=nullset G27[176+O5]=0returnendifendloopif((D4)and(hG[128+O5]>0))thenset UP=GetPlayerState(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD)if(UP>=hG[128+O5])thencall SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,UP-hG[128+O5])set hG[128+O5]=0elsecall SetPlayerStateBJ(GetOwningPlayer(it),PLAYER_STATE_RESOURCE_GOLD,0)set hG[128+O5]=hG[128+O5]-UPendifendifset UP=0set DI7=nullloopset JW7=UnitItemInSlot(it,UP)set i=GetPlayerId(GetItemPlayer(JW7))if((JW7!=null)and((i!=O5))and(i!=15))thenif IsUnitEnemy(it,Player(i))thenset i=O5elseif DI7==null thenset DI7=CreateForce()call ForceEnumAllies(DI7,Player(O5),null)endifset bj_forLoopAIndex=GetPlayerId(GetItemPlayer(JW7))call O87(it,DI7,"Returning "+K[bj_forLoopAIndex]+GetPlayerName(Player(bj_forLoopAIndex))+"|r's |c00ffcc00"+GetItemName(JW7)+"|r in Circle.")endifcall SetItemPosition(JW7,GetUnitX(K04[i]),GetUnitY(K04[i]))call UnitRemoveItem(it,JW7)call SetItemVisible(JW7,true)endifset UP=UP+1exitwhen(UP>=bj_MAX_INVENTORY)endloopif DI7!=null thencall DestroyForce(DI7)set DI7=nullendifcall TriggerSleepAction(0.1)set H47[48+O5]=falseset G57[304+O5]=nullif KT7 and(G27[32+O5]<G27[48+O5])thenloopset UP=M_7('CItm',I2S(GetHandleId(it))+"|s"+I2S(G27[32+O5]))if UP!=0 thenif G27[32+O5]>G27[240+O5]thenset i=-2elseset i=G27[32+O5]endifset KT7=RQE(O5,it,i,UP)endifexitwhen G27[32+O5]==G27[48+O5]or UP==0 or(not KT7)endloopendifcall QJE(O5)set G27[320+O5]=0if KT7 and G27[96+O5]!=0 and(not H47[144+O5])thenset KT7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HZ4[G27[96+O5]])endifif KT7 and G27[112+O5]!=0 and G27[144+O5]!=HE7 thenset KT7=RQE(O5,it,-2,G27[112+O5])call RHE(O5)endifif((N77(QC4,P1E(it)+"|W"))and(GetHeroLevel(it)>6))and(not Q8E(O5,it))thenif((KJ7(it,OU[N6]))or(i1=='Emns')or(i1=='E01B')or(i1=='H00I')or(i1=='N00R')or(P0E(it)))thenif(N77(QC4,P1E(it)+"|G"))and(GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1500.)and(Bz>=N47(QC4,P1E(it)+"|GTimer"))and(RRE(O5,it,AV,true))thencall M97(QC4,P1E(it)+"|GTimer",Bz+480.)elseif((i1!='Naka')and(i1!='Hvsh')and(i1!='UC91')and(i1!='N01A'))thenif(IK7(i1)<=2 or GetRandomInt(1,3)==1)thencall RRE(O5,it,H3,true)elsecall RRE(O5,it,YC,true)endifendifendifendifif(not R3E)and((not H47[64+O5])and((GetHeroLevel(it)>10)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!='Emns')and(i1!='E01B')and(i1!='H00I')and(i1!='N00R'))thenif not(KJ7(it,OU[AC])or KJ7(K04[O5],OU[AC]))and(not KK7(it))thencall RGE(O5,it,AC,true)set R3E=trueendifendifcall RRE(O5,it,YW,(((GetHeroLevel(it)<17)and(N77(QC4,P1E(it)+"|X"))and(i1!='U00F')and(i1!='Edem')and(i1!='EC77'))and((not KJ7(it,OU[DA4]))and(not KJ7(it,OU[E84])))))if KT7 or(G27[32+O5]<G27[48+O5])thencall RVE(O5,it,false)endifset G27[192+O5]=0set H47[128+O5]=falseset H47[144+O5]=falsecall RHE(O5)set G57[304+O5]=nullif(not R3E)and((not H47[64+O5])and((GetHeroLevel(it)>10)or(GetUnitState(it,UNIT_STATE_MAX_LIFE)>1000))and(i1!='Emns')and(i1!='E01B')and(i1!='H00I')and(i1!='N00R'))and(not KK7(it))thenif not(KJ7(it,OU[AC])or KJ7(K04[O5],OU[AC]))and(not KK7(it))thencall RGE(O5,it,AC,true)set R3E=trueendifendifif(PT4)thencall RRE(O5,it,VC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))elsecall RRE(O5,it,TC,(GetHeroLevel(it)<8)and(GetUnitState(it,UNIT_STATE_MAX_LIFE)<1000))endifcall QKE(O5,1)if KJ7(it,OU[AC])and GetItemCharges(bj_lastCreatedItem)==1 thencall RGE(O5,it,AC,false)endifif KJ7(it,OU[YC])and GetItemCharges(bj_lastCreatedItem)==1 thencall RGE(O5,it,YC,false)endifif KJ7(it,OU[VC])and GetItemCharges(bj_lastCreatedItem)==1 thencall RGE(O5,it,VC,false)endifif KJ7(it,OU[TC])and GetItemCharges(bj_lastCreatedItem)==1 thencall RGE(O5,it,TC,false)endifif KJ7(it,OU[YB])thencall RGE(O5,it,FT4,false)endifcall QKE(O5,0)call QJE(O5)call RUE(O5)call QNE(O5,it)call QCE(O5,null)set G27[176+O5]=0set it=nullset JW7=nullendfunctionfunction R6E takes nothing returns nothinglocal unit ulocal integer jlocal integer IW7local integer klocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)thencall RCE(GetTriggerUnit())elseif false and(Bz>=G27[160+O5])and(Bz>G27[176+O5])and(YG7(GetTriggerUnit()))thenset u=GetTriggerUnit()set G27[160+O5]=R2I(Bz)+HH7call QNE(O5,u)set j=6set k=G27[128+O5]-1loopexitwhen j>kif G57[O5*24+j]!=null and(LoadBoolean(L_4,G27[256+O5],GetHandleId(G57[O5*24+j])))thenset IW7=R7E(O5,u,G_7[O5*24+j],G57[O5*24+j],false,true,false)if IW7!=-1 and IW7<6 thenset G57[O5*24+IW7]=G57[O5*24+j]set G_7[O5*24+IW7]=G_7[O5*24+j]endifcall SetItemVisible(G57[O5*24+j],HJ7)set G57[O5*24+j]=nullendifset j=j+1endloopset u=nullset G27[160+O5]=0endifendfunctionfunction RLE takes nothing returns nothinglocal integer O5=1local integer R1E=11local boolean KT7=falselocal boolean J4=truelocal integer i=R2I(Bz)+HH7loopexitwhen O5>R1Eif O5==6 thenset O5=7endifset KT7=trueset J4=falseif R97(Player(O5))and G7[O5]!=null and(Bz>G27[160+O5])and(Bz>G27[176+O5])thenif KT7 and G27[96+O5]!=0 thenset KT7=(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>=HZ4[G27[96+O5]])endifif((KT7)and(G27[96+O5]!=0)and(G27[144+O5]==HE7)and(eY[O5]==1)and(eY[80+O5]==1 or eY[80+O5]==2)and(G27[32+O5]==G27[48+O5])and(Q7E(G27[96+O5]))and(not GZ[160+O5])and((not KK7(G7[O5]))or(G27[320+O5]>0)))and(not H47[288+O5])thenset H47[240+O5]=trueset KT7=falseelseif H47[240+O5]thenset H47[240+O5]=falseset bj_forLoopAIndex=GetUnitUserData(h8[O5])if bj_forLoopAIndex>100 thencall R17(G7[O5])endifendifif KT7 and G27[112+O5]!=0 and G27[144+O5]!=HE7 thenset G27[160+O5]=iset G27[176+O5]=iset H47[48+O5]=trueset KT7=RQE(O5,G7[O5],-2,G27[112+O5])if KT7 thenset G27[112+O5]=0endifset G27[160+O5]=0set G27[176+O5]=0set H47[48+O5]=falseset J4=trueendifif KT7 thenset G27[176+O5]=icall RVE(O5,G7[O5],true)set G27[176+O5]=0elseif J4 thencall FlushChildHashtable(L_4,G27[208+O5])endifif(G27[192+O5]>H97)and(H47[144+O5])thenset H47[128+O5]=trueendifendifset O5=O5+1endloopendfunctionfunction R0E takes nothing returns nothingif(not RD7(GetOwningPlayer(GetTriggerUnit())))thenif((GetItemPlayer(GetManipulatedItem())!=null)and(GetItemPlayer(GetManipulatedItem())!=Player(15))and(GetItemPlayer(GetManipulatedItem())!=GetOwningPlayer(GetTriggerUnit()))and((GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(J77(GetTriggerUnit(),K67(GetTriggerUnit()))<=2000.)))thencall UnitAddItem(G7[GetPlayerId(GetItemPlayer(GetManipulatedItem()))],GetManipulatedItem())elseif((GetItemPlayer(GetManipulatedItem())==null)or(GetItemPlayer(GetManipulatedItem())==Player(15)))thencall SetItemPlayer(GetManipulatedItem(),GetOwningPlayer(GetTriggerUnit()),false)endifendifendfunctionfunction R5E takes integer O5,real x,real y returns nothinglocal unit it=CreateUnit(Player(15),'e00C',x,y,270.)local texttag t=nullcall UnitAddAbility(it,'Aloc')call UnitAddAbility(it,'A04R')call UnitAddAbility(it,'A0P4')call SetUnitUserData(it,O5)set h7[O5]=itcall SetUnitX(it,x)call SetUnitY(it,y)if(((O5>10)and(O5<18))or((O5>30)and(O5<40))or((O5>50)and(O5<60)))thencall GroupAddUnit(ii,it)endifset it=nullendfunctionfunction R2E takes integer O5,integer RC7,integer R37,real x,real y returns nothingcall R5E(O5,x,y)set hj[O5]=RC7set hj[256+O5]=R37endfunctionfunction R_E takes integer i,boolean IU7,real S4E returns integerif i>5 and i<11 thenset i=11elseif i>17 and i<25 thenset i=17elseif i>25 and i<31 thenset i=31elseif i>39 and i<45 thenset i=39elseif i>45 and i<51 thenset i=51elseif i>59 and i<100 thenset i=59endifif S4E>2000 thenreturn iendifif i>=11 and i<=17 thenif IU7 thenif i>15 and PB4==0 thenset i=15elseif i>16 and PB4<=1 thenset i=16endifelseif i<13 and PY4==0 thenset i=13elseif i<12 and PY4<=1 thenset i=12endifendifelseif i>=31 and i<=39 thenif IU7 thenif i>35 and PC4==0 thenset i=35elseif i>37 and PC4<=1 thenset i=37endifelseif i<34 and PZ4==0 thenset i=34elseif i<33 and PZ4<=1 thenset i=33endifendifelseif i>=51 and i<=59 thenif IU7 thenif i>57 and P34==0 thenset i=57elseif i>58 and P34<=1 thenset i=58endifelseif i<55 and PA4==0 thenset i=55elseif i<52 and PA4<=1 thenset i=52endifendifendifreturn iendfunctionfunction S7E takes integer O5,integer i,integer k,boolean IU7 returns integerif(i==31)or(i==32)thenreturn 334elseif(i==33)thenreturn 328elseif(i==34)thenif(h8[96+O5]==null or(GetUnitX(h7[35])-GetUnitY(h8[96+O5]))<=2100.)and G0[208+O5]thenreturn 329elseset G0[208+O5]=falsereturn 326endifelseif(i==35)or(i==36)thenreturn 329elseif(i==37)or(i==38)or(i==39)thenreturn 330elseif(i==51)or(i==52)or(i==53)thenreturn 331elseif(i==54)or(i==55)or(i==56)thenreturn 332elseif(i==57)thenif(h8[96+O5]==null or(GetUnitY(h8[96+O5])-GetUnitX(h7[55]))<=2850.)and G0[208+O5]thenreturn 332elseset G0[208+O5]=falsereturn 327endifelseif(i==58)or(i==59)thenreturn 333elseif(k==1)thenif(i==11)or(i==12)thenreturn 334elseif(i==13)thenreturn 335elseif(i==14)thenif IU7 thenreturn 336elsereturn 335endifelseif(i==15)thenreturn 336elseif(i==16)or(i==17)thenreturn 337endifelseif(k==2)thenif(i==11)or(i==12)thenreturn 338elseif(i==13)thenreturn 339elseif(i==14)thenif IU7 thenreturn 341elsereturn 340endifelseif(i==15)or(i==16)thenreturn 341elseif(i==17)thenreturn 342endifendifreturn 0endfunctionfunction S8E takes integer O5,integer i,integer j returns booleanif i==j thenreturn trueelseif(i==328 or i==334 or i==335 or i==326)and(j==328 or j==334 or j==335 or j==326)thenreturn trueelseif(i==329 or i==330 or i==326)and(j==329 or j==330 or j==326)thenreturn trueelseif(i==331 or i==332 or i==327)and(j==331 or j==332 or j==327)thenreturn trueelseif eY[272+O5]==0 thenif(i==338 or i==339 or i==340 or i==331 or i==332)and(j==338 or j==339 or j==340 or j==331 or j==332)thenreturn trueelseif(i==329 or i==330 or i==336 or i==337)and(j==329 or j==330 or j==336 or j==337)thenreturn trueendifendifreturn falseendfunctionfunction S9E takes nothing returns nothinglocal unit H57=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(H57))local integer UP=M_7(GetHandleId(GetTriggeringTrigger()),"SentNum")local integer iif GetPlayerController(Player(O5))==MAP_CONTROL_USER and H57==G7[O5]thenif(IsUnitAlly(H57,Y7[0]))thenset UP=M_7(GetHandleId(GetTriggeringTrigger()),"SentNum")elseset UP=M_7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")endifset h8[O5]=h7[UP+1]set h8[80+O5]=h7[UP]set h9[O5]=h7[UP-1]set h9[16+O5]=h7[hj[UP]]set h8[16+O5]=h7[hj[256+UP]]endifif((GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and(IsUnitType(H57,UNIT_TYPE_HERO)))thenif(IsUnitAlly(H57,Y7[0]))thenset UP=M_7(GetHandleId(GetTriggeringTrigger()),"SentNum")elseset UP=M_7(GetHandleId(GetTriggeringTrigger()),"ScrgNum")endifif(eY[O5]==9)thenif(not JL7(H57))thenset G0[176+O5]=trueendifif((h8[128+O5]==h7[UP])and(eY[272+O5]==0))thenset h8[O5]=h7[UP]set eY[O5]=1elseif((h8[48+O5]==h7[UP]and(eY[272+O5]<=1))or((eY[272+O5]==1)and(G0[176+O5])))thenif eY[272+O5]==1 thenset h8[32+O5]=h7[S7E(O5,M_7(GetHandleId(GetTriggeringTrigger()),"SentNum"),eY[304+O5],(IsUnitAlly(H57,Y7[0])))]endifset h8[48+O5]=h8[32+O5]set h9[O5]=K67(H57)if(iU(H57))thenif JC7(H57)thenif G0[176+O5]thencall jW(H57,851986,h8[48+O5])elseif hq[640+O5]<=Bz thencall jW(H57,851986,h9[O5])elsecall jW(H57,851983,h9[O5])endifendifendifendifelseif eY[272+O5]>=4 thenset DG7=trueif(h8[128+O5]==h7[UP])thenset eY[O5]=1elseif(h8[48+O5]==h7[UP])and(eY[272+O5]==5)thenset h8[48+O5]=h8[128+O5]elseif(h8[112+O5]==h7[UP])and(eY[272+O5]==4)thenset eY[272+O5]=5set i=GetUnitUserData(h8[112+O5])if IsUnitAlly(H57,Y7[0])thenif(i>35 and i<40)thenset h8[48+O5]=h7[35]elseif(i>55 and i<60)thenset h8[48+O5]=h7[55]endifelseif(i>30 and i<35)thenset h8[48+O5]=h7[35]elseif(i>50 and i<55)thenset h8[48+O5]=h7[55]endifendifset h8[32+O5]=h8[48+O5]elseset DG7=falseendifif DG7 thenif h8[96+O5]!=null thenset h4[O5]=h8[96+O5]endifif JC7(H57)thenif(h8[96+O5]!=null and JL7(h8[96+O5]))thencall IssueTargetOrderById(H57,851983,h8[96+O5])elsecall jW(H57,851983,h8[48+O5])endifendifendifendifelseif eY[O5]==1 and H47[240+O5]and((UP==35 or UP==57)or(UP==136 or UP==154))thenset bj_lastLoadedUnit=H57set bj_lastLoadedUnit=KF7(800,jv(H57),Condition(function P87))if(bj_lastLoadedUnit==null)thenif UP==34 or UP==35 or UP==136 or UP==135 thenset h8[O5]=h7[353]set h9[O5]=h7[353]elseif UP==56 or UP==57 or UP==154 or UP==153 thenset h8[O5]=h7[354]set h9[O5]=h7[354]endifset H47[256+O5]=truecall jW(H57,851986,h8[O5])endifendifif((h8[O5]==h7[UP])or(h9[O5]==h7[UP])or((h8[16+O5]==h7[hj[256+UP]])and(h9[16+O5]==h7[hj[UP]]))or(h8[16+O5]==h7[hj[UP]])or(h9[16+O5]==h7[hj[256+UP]]))thencall R67(H57,UP)endifif((J_7(H57))and(not Id(O5))and(GetUnitCurrentOrder(H57)==851986))thenif((UP==38)or(UP==37)or(UP==36))thencall R67(H57,32)elseif((UP==138)or(UP==137)or(UP==136))thencall R67(H57,132)elseif((UP==58)or(UP==57)or(UP==56))thencall R67(H57,52)elseif((UP==158)or(UP==157)or(UP==156))thencall R67(H57,152)endifendifelseif(O5==GetPlayerId(Y7[0]))thenif((hj[256+UP]==18)or(hj[UP]==10))thenset i=UP-10if(hB+1==i)thenset hB=iendifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=UP-30if(hc+1==i)thenset hc=iendifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset i=UP-50if(hC+1==i)thenset hC=iendifendifelseif(O5==GetPlayerId(Z7[0]))thenif((hj[256+UP]==18)or(hj[UP]==10))thenset i=UP-10if(hB-1==i)thenset hB=iendifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=UP-30if(hc-1==i)thenset hc=iendifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset i=UP-50if(hC-1==i)thenset hC=iendifendifendifset H57=nullendfunctionfunction SDE takes nothing returns booleanreturn((((GetOwningPlayer(GetTriggerUnit())==Y7[0])or(GetOwningPlayer(GetTriggerUnit())==Z7[0]))and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)))or((not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))))endfunctionfunction SEE takes nothing returns booleanreturn((GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)))endfunctionfunction SFE takes integer SGE,integer SHE returns nothinglocal trigger tlocal integer i=SGElocal boolexpr Ig=Condition(function SDE)loopset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],400.,QA4)call M87(GetHandleId(t),"SentNum",i)call M87(GetHandleId(t),"ScrgNum",hj[512+i])call TriggerAddCondition(t,Ig)call TriggerAddAction(t,function S9E)set i=i+1exitwhen i>SHEendloopset t=nullset Ig=nullendfunctionfunction SIE takes integer O5,integer UP,integer i,boolean IU7 returns integerlocal integer jlocal integer kif UP==326 thenif i==34 thenset j=34elseset j=S7E(O5,i,1,IU7)endifelseif UP==327 thenif i==57 thenset j=57elseset j=S7E(O5,i,2,IU7)endifelseset k=eY[304+O5]set j=S7E(O5,i,k,IU7)if(j!=0)and(UP!=j)thenif S8E(O5,UP,j)thenelseif(k==1)thenset j=326elseif(k==2)thenset j=327endifelseset j=iendifendifreturn jendfunctionfunction SJE takes integer O5,boolean IU7,integer UP returns nothinglocal integer ilocal integer jlocal boolexpr SKE=nulllocal unit H57=nullif eY[272+O5]>3 thenreturnendifset eY[272+O5]=3set i=1set DG7=trueset bj_lastLoadedUnit=h7[ID7(IU7,0,100)]if((hq[656+O5]<Bz)or((h8[96+O5]!=null)and(J77(bj_lastLoadedUnit,h8[96+O5])<J77(bj_lastLoadedUnit,h8[112+O5]))))thenloopexitwhen i>5if IU7 thenset j=GetPlayerId(Y7[i])elseset j=GetPlayerId(Z7[i])endifif((G7[j]!=null)and(GetWidgetLife(G7[j])>.405)and(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])and(J_7(G7[j])==false))thenif eY[272+j]<3 thenset DG7=falseendifendifset i=i+1endloopendifif DG7 thenif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]>0))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifset SKE=Condition(function PJ7)call GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(G7[O5]),GetUnitY(G7[O5]),1800.,SKE)call GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),1800.,SKE)call DestroyBoolExpr(SKE)call GroupAddGroup(H8,iA)set SKE=nullset j=0loopset H57=FirstOfGroup(iA)exitwhen H57==nullcall GroupRemoveUnit(iA,H57)if GetUnitTypeId(H57)!='H00J' and GetUnitLifePercent(H57)>50 thenif IsUnitAlly(H57,Player(O5))thenset j=j+1elseif eY[32+GetPlayerId(GetOwningPlayer(H57))]>0 thenset j=j-1endifendifendloopif IU7 thenset DI7=W7elseset DI7=X7endifif j>=0 thenif IU7 thenset bj_lastLoadedUnit=nullif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Y7[0]))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifelseif(h8[96+O5]!=null and GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Z7[0]))thenset bj_lastLoadedUnit=h8[96+O5]elseset bj_lastLoadedUnit=h8[112+O5]endifendifcall OF7(DI7,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit),O5)set h8[48+O5]=h8[112+O5]set h8[32+O5]=h8[48+O5]set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(h8[96+O5]))set i=1loopexitwhen i>5if IU7 thenset j=GetPlayerId(Y7[i])elseset j=GetPlayerId(Z7[i])endifif(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])thenset h8[96+j]=h8[96+O5]if GetWidgetLife(h8[96+O5])>.405 and IsUnitVisible(h8[96+O5],Player(O5))thenset h4[j]=h8[96+O5]endifset h8[48+j]=h8[48+O5]set h8[32+j]=h8[32+O5]if not JC7(G7[j])thenif h4[j]!=null thencall IssueTargetOrderById(G7[j],851983,h4[j])elsecall jW(G7[j],851983,h8[48+j])endifendifset eY[272+j]=4set hq[624+j]=Bz+ES7set GZ[128+j]=trueset G0[128+j]=trueset G0[256+j]=truecall OG7(G7[j],DI7)if h8[96+O5]!=null thencall O87(G7[j],DI7,"Ambushing "+K[bj_forLoopAIndex]+GetUnitName(h8[96+O5])+"|r")elsecall O87(G7[j],DI7,"Ambushing"+IQ7(eY[288+O5],false)+"|r")endifendifset i=i+1endloopelseset bj_lastLoadedUnit=h7[SIE(O5,GetUnitUserData(h8[32+O5]),GetUnitUserData(h8[128+O5]),IU7)]if h8[32+O5]==bj_lastLoadedUnit thenset h8[32+O5]=h8[128+O5]elseset h8[32+O5]=bj_lastLoadedUnitendifset i=1loopexitwhen i>5if IU7 thenset j=GetPlayerId(Y7[i])elseset j=GetPlayerId(Z7[i])endifif(eY[272+j]!=0)and(eY[j]==9)and(eY[288+j]==eY[288+O5])thenset eY[272+j]=0set h8[128+j]=h8[128+O5]set h8[32+j]=h8[32+O5]set h8[48+j]=h8[32+j]if JC7(G7[O5])thencall jW(G7[O5],851986,h8[32+j])endifcall OG7(G7[j],DI7)call O87(G7[j],DI7,"Cancelling ambush")endifset i=i+1endloopendifelseif not G0[192+O5]thenset hq[656+O5]=Bz+ER7set G0[192+O5]=trueendifset h8[48+O5]=h7[UP]if JC7(G7[O5])thencall IssueImmediateOrderById(G7[O5],851993)endifendifset H57=nullendfunctionfunction SME takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))return((GetTriggerUnit()==G7[O5])and(eY[O5]==9)and(R97(Player(O5))))endfunctionfunction SNE takes nothing returns nothinglocal unit H57=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(H57))local integer UPlocal integer ilocal integer jlocal integer klocal boolean IU7set UP=M_7(GetHandleId(GetTriggeringTrigger()),"Num")set IU7=IsUnitAlly(H57,Y7[0])if(eY[272+O5]==0)or((eY[272+O5]<=3)and(h8[48+O5]==h7[UP]))thenif eY[272+O5]==0 thenset i=GetUnitUserData(h8[128+O5])elseset i=GetUnitUserData(h8[112+O5])endifset j=SIE(O5,UP,i,IU7)if(eY[272+O5]==0)thenset h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]if JC7(G7[O5])thencall jW(G7[O5],851983,h8[48+O5])endifelseif j<100 thencall SJE(O5,IU7,UP)elseset eY[272+O5]=2set h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]if is(G7[O5])thencall jW(G7[O5],851983,h8[48+O5])endifendifendifendifset H57=nullendfunctionfunction SOE takes integer k,integer j returns nothinglocal trigger tlocal integer i=klocal boolexpr SPE=Condition(function SME)loopexitwhen i>jset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],400.,QA4)call M87(GetHandleId(t),"Num",i)call TriggerAddCondition(t,SPE)call TriggerAddAction(t,function SNE)set i=i+1endloopset SPE=nullset t=nullendfunctionfunction SQE takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))return((GetTriggerUnit()==G7[O5])and(H47[240+O5])and(R97(Player(O5))))endfunctionfunction SRE takes nothing returns nothinglocal unit it=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=M_7(GetHandleId(GetTriggeringTrigger()),"Num")if(G27[144+O5]==HE7)thenset H47[224+O5]=trueset G27[176+O5]=R2I(Bz)+HH7call RVE(O5,it,false)set G27[176+O5]=0set H47[224+O5]=falseendifset H47[240+O5]=falseset H47[256+O5]=falseif Q_7(Player(O5))thenif UP==353 thencall R67(it,34)elseif UP==354 thencall R67(it,56)endifelseif UP==353 thencall R67(it,135)elseif UP==354 thencall R67(it,153)endifendifif(is(it))thencall jW(it,851986,h9[O5])endifset it=nullendfunctionfunction SSE takes integer k,integer j returns nothinglocal trigger tlocal integer i=klocal boolexpr SPE=Condition(function SQE)loopexitwhen i>jset t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[i],200.,QA4)call M87(GetHandleId(t),"Num",i)call TriggerAddCondition(t,SPE)call TriggerAddAction(t,function SRE)set i=i+1endloopset SPE=nullset t=nullendfunctionfunction STE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local integer UP=M_7(GetHandleId(GetTriggeringTrigger()),"Num")if(((UP==311)or(UP==312))and(eY[O5]==1))thenif(IsUnitAlly(GetTriggerUnit(),Y7[0]))thenif(h8[O5]==h7[36])thencall R67(GetTriggerUnit(),34)endifelseif(h8[O5]==h7[136])thencall R67(GetTriggerUnit(),134)endifendifelseif(UP==313)thenif(IsUnitAlly(GetTriggerUnit(),Z7[0]))thenif(h8[O5]==h7[136])thenset h9[O5]=h7[135]endifendifelseif(UP==314)thenif(IsUnitAlly(GetTriggerUnit(),Y7[0]))thenif(h8[O5]==h7[36])thenset h9[O5]=h7[35]endifelseif(h8[O5]==h7[136])thencall R67(GetTriggerUnit(),135)endifendifelseif(((UP==321)or(UP==322))and(eY[O5]==1))thenif(IsUnitAlly(GetTriggerUnit(),Y7[0]))thenif(h8[O5]==h7[56])thencall R67(GetTriggerUnit(),54)endifelseif(h8[O5]==h7[156])thencall R67(GetTriggerUnit(),154)endifendifelseif((UP==315)and(h8[32+O5]==h7[315])and(eY[O5]==10))thenset h8[32+O5]=h9[32+O5]call jW(GetTriggerUnit(),851986,h8[32+O5])elseif((UP==325)and(h8[32+O5]==h7[325])and(eY[O5]==10))thenset h8[32+O5]=h9[32+O5]call jW(GetTriggerUnit(),851986,h8[32+O5])endifendfunctionfunction SUE takes integer SGE returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[SGE],400.,QA4)call M87(GetHandleId(t),"Num",SGE)call TriggerAddCondition(t,Condition(function SEE))call TriggerAddAction(t,function STE)endfunctionfunction SVE takes nothing returns nothingcall R5E(0,-7100,-6985)call R5E(100,6644,6239)call R5E(1,-5088.,-6426.)call R5E(101,4826.,4177.)call R5E(2,-4290.,-4302.)call R5E(3,-3288.,-6529.)call R5E(4,-6238.,-3594.)call R5E(102,3493.,3180.)call R5E(103,3041.,5967.)call R5E(104,6041.,2585.)set h7[10]=h7[0]set h7[118]=h7[1]call R2E(11,10,14,-4166.,-4124.)call R2E(12,10,14,-2897.,-2633.)call R2E(13,10,14,-1363.,-1425.)call R2E(14,10,18,-594.,-602.)call R2E(15,14,18,553.,-55.)call R2E(16,14,18,1858.,1109.)call R2E(17,14,18,3207.,2741.)call RB7(111,17,110,114)call RB7(112,16,110,114)call RB7(113,15,110,114)call RB7(114,14,110,118)call RB7(115,13,114,118)call RB7(116,12,114,118)call RB7(117,11,114,118)set h7[18]=h7[101]set h7[110]=h7[100]set h7[30]=h7[0]set h7[140]=h7[1]call R2E(31,30,35,-6267.,-3320.)call R2E(32,30,35,-6377.,-1771.)call R2E(33,30,35,-6066.,273.)call R2E(34,30,35,-6241.,2786.)call R2E(35,30,40,-6056.,5347.)call R2E(36,35,40,-3254.,5752.)call R2E(37,35,40,-819.,5859.)call R2E(38,35,40,1086.,5572.)call R2E(39,35,40,2675.,6207.)call RB7(131,39,130,135)call RB7(132,38,130,135)call RB7(133,37,130,135)call RB7(134,36,130,135)call RB7(135,35,130,140)call RB7(136,34,135,140)call RB7(137,33,135,140)call RB7(138,32,135,140)call RB7(139,31,135,140)set h7[40]=h7[101]set h7[130]=h7[100]set h7[50]=h7[0]set h7[160]=h7[1]call R2E(51,50,55,-3196.,-6567.)call R2E(52,50,55,-237.,-6939.)call R2E(53,50,55,1811.,-6860.)call R2E(54,50,55,3727.,-6784.)call R2E(55,50,60,5532.,-6495.)call R2E(56,55,60,5943.,-5216.)call R2E(57,55,60,6186.,-3270.)call R2E(58,55,60,6040.,-646.)call R2E(59,55,60,6018.,2213.)call RB7(151,59,150,155)call RB7(152,58,150,155)call RB7(153,57,150,155)call RB7(154,56,150,155)call RB7(155,55,150,160)call RB7(156,54,155,160)call RB7(157,53,155,160)call RB7(158,52,155,160)call RB7(159,51,155,160)set h7[60]=h7[101]set h7[150]=h7[100]set h7[211]=h7[12]set h7[212]=h7[13]set h7[213]=h7[16]call R5E(221,-6220.,3550.)set h7[222]=h7[36]set h7[223]=h7[37]set h7[231]=h7[53]set h7[232]=h7[54]set h7[233]=h7[56]call R5E(234,6070.,-3550.)set h7[235]=h7[58]call R5E(250,GetRectCenterX(Qr),GetRectCenterY(Qr))call R5E(251,GetRectCenterX(Br),GetRectCenterY(Br))call R5E(252,GetRectCenterX(cr),GetRectCenterY(cr))call R5E(253,GetRectCenterX(Cr),GetRectCenterY(Cr))call R5E(254,GetRectCenterX(fr),GetRectCenterY(fr))call R5E(255,GetRectCenterX(Fr),GetRectCenterY(Fr))call R5E(256,GetRectCenterX(Hr),GetRectCenterY(Hr))call R5E(257,GetRectCenterX(jr),GetRectCenterY(jr))call R5E(258,GetRectCenterX(Jr),GetRectCenterY(Jr))call R5E(259,GetRectCenterX(lr),GetRectCenterY(lr))call R5E(260,GetRectCenterX(mr),GetRectCenterY(mr))call R5E(261,GetRectCenterX(Ni),GetRectCenterY(Ni))call R5E(262,GetRectCenterX(Bi),GetRectCenterY(Bi))call R5E(311,-5232.,3757.)call R5E(312,-3490.,4685.)call R5E(313,-6209.,4324.)call R5E(314,-5024.,5571.)call R5E(315,-1717.,894.)call R5E(321,3995.,-5720.)call R5E(322,4976.,-5129.)call R5E(325,2222.,-2405.)call R5E(326,-2300.,1600.)call R5E(327,3000.,-1820.)call R5E(328,-4250.,-110.)call R5E(329,-3950.,4100.)call R5E(330,150.,2460.)call R5E(331,2100.,-5600.)call R5E(332,4350.,-4750.)call R5E(333,4650.,-1050.)call R5E(334,-3300.,-1450.)call R5E(335,-1750.,-100.)call R5E(336,-250.,700.)call R5E(337,890.,2100.)call R5E(338,-2100.,-4200.)call R5E(339,-310.,-2900.)call R5E(340,800.,-2200.)call R5E(341,1900.,-1300.)call R5E(342,3600.,-100.)call R5E(351,-5210,5660)call R5E(352,5260,-6470)call R5E(353,-7080,4280)call R5E(354,7210,-4230)endfunctionfunction SWE takes nothing returns nothinglocal trigger tcall SFE(11,17)if(not P44)thencall SFE(31,39)call SFE(51,59)endifcall SUE(311)call SUE(312)call SUE(313)call SUE(314)call SUE(315)call SUE(321)call SUE(322)call SUE(325)call SOE(326,342)call SSE(353,354)endfunctionfunction SXE takes integer o6,integer PPE,integer n6 returns integerif(PPE<o6)thenreturn o6elseif(PPE>n6)thenreturn n6endifreturn PPEendfunctionfunction SYE takes unit it,integer o6 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])local integer SZEif(IsUnitAlly(it,Y7[0]))thenif(((o6==-1)and((hj[256+UP]==18)or(hj[UP]==10)))or(o6==0))thenset SZE=9+hBcall R67(it,SXE(11,SZE,17))elseif(((o6==-1)and((hj[256+UP]==40)or(hj[UP]==30)))or(o6==1))thenset SZE=29+hccall R67(it,SXE(31,SZE,39))elseif(((o6==-1)and((hj[256+UP]==60)or(hj[UP]==50)))or(o6==2))thenset SZE=49+hCcall R67(it,SXE(51,SZE,59))endifelseset UP=hj[512+UP]if(((o6==-1)and((hj[256+UP]==118)or(hj[UP]==110)))or(o6==0))thenset SZE=117-hBcall R67(it,SXE(111,SZE,117))elseif(((o6==-1)and((hj[256+UP]==140)or(hj[UP]==130)))or(o6==1))thenset SZE=139-hccall R67(it,SXE(131,SZE,139))elseif(((o6==-1)and((hj[256+UP]==160)or(hj[UP]==150)))or(o6==2))thenset SZE=159-hCcall R67(it,SXE(151,SZE,159))endifendifendfunctionfunction SAE takes unit it,unit SBE returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local real J47=Bz+10if(i1!='H00J')thenset h9[16+O5]=K67(it)set h9[O5]=K67(it)call IY7(it,O5)set G0[32+O5]=trueset GZ[O5]=falseset G0[48+O5]=falseset G0[O5]=falseset GZ[160+O5]=falseendifcall RemoveGuardPosition(it)loopexitwhen((GetUnitLifePercent(it)>95.)and(GetUnitManaPercent(it)>95.)and(Bz>J47 or(Bz>G27[160+O5])))if(((PP4)and(IsUnitAlly(it,Y7[0])))or((PQ4)and(IsUnitAlly(it,Z7[0]))))thenexitwhen((GetUnitLifePercent(it)>75.)and(GetUnitManaPercent(it)>25.))endifif(not J07(it))thenset eY[O5]=1exitwhen trueendifif(IsUnitInRange(it,SBE,600.))thencall SetUnitLifePercentBJ(it,RMinBJ(GetUnitLifePercent(it)+5.,100.))call SetUnitManaPercentBJ(it,RMinBJ(GetUnitManaPercent(it)+5.,100.))if(is(it))thencall IssueTargetOrderById(it,851971,SBE)endifelseif(not J07(SBE))thenexitwhen trueendifcall TriggerSleepAction(1.)endloopendfunctionfunction SCE takes integer O5,unit S3E,unit S6E,unit SLE,unit R37 returns integerlocal integer kc=0if(O5==0)thencall MoveLocation(Ha,GetUnitX(S3E),GetUnitY(S3E))elseif(O5==1)thencall MoveLocation(Ha,GetUnitX(S6E),GetUnitY(S6E))elseif(O5==2)thencall MoveLocation(Ha,GetUnitX(SLE),GetUnitY(SLE))elsecall MoveLocation(Ha,GetUnitX(R37),GetUnitY(R37))endifset kc=KG7(1400.,Ha,Condition(function k0))-(KG7(1400.,Ha,Condition(function PG7))*4)return kcendfunctionfunction S1E takes nothing returns nothinglocal integer i=1local integer j=0loopexitwhen j>4set DR7[112+j]=0set DR7[112+6+j]=0set j=j+1endlooploopexitwhen i>5set j=eY[80+GetPlayerId(Y7[i])]set DR7[112+j]=DR7[112+j]+1set j=eY[80+GetPlayerId(Z7[i])]set DR7[112+6+j]=DR7[112+6+j]+1set i=i+1endloopendfunctionfunction S0E takes integer S5E returns integerlocal integer kc=0local integer O5=1loopif(eY[80+GetPlayerId(Y7[O5])]==S5E)thenset kc=kc+1endifset O5=O5+1exitwhen O5>5endloopreturn kcendfunctionfunction S2E takes integer S5E returns integerlocal integer kc=0local integer O5=1loopif(eY[80+GetPlayerId(Z7[O5])]==S5E)thenset kc=kc+1endifset O5=O5+1exitwhen O5>5endloopreturn kcendfunctionfunction S_E takes unit T4E returns integerlocal integer S5E=3local integer O5=GetPlayerId(GetOwningPlayer(T4E))if(G3>=0)thenset S5E=G3elseif(GetHeroLevel(T4E)<6)thenset S5E=eY[64+O5]elseif(GetHeroLevel(T4E)>=PW4)thenif(PQ4 and DR7[64+O5]>=0)thenset S5E=ID7(DR7[64+O5]==3,0,DR7[64+O5])elseif(G1>=0)thenset S5E=G1endifendifif(S5E==3)thenif(SCE(PB4,KG4,KJ4,KN4,h7[17])>5)thenset S5E=0elseif(SCE(PC4,KF4,KI4,KM4,h7[39])>5)thenset S5E=1elseif(SCE(P34,KH4,KK4,KO4,h7[59])>5)thenset S5E=2elseif(IC(GetPlayerId(GetOwningPlayer(T4E))))thenif(S2E(0)>0)thenset S5E=0elseif(S2E(1)>0)thenif((S2E(2)==0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifendifelseif(((S2E(0)==0)and(S0E(0)>0))or((S0E(0)-S2E(0))>1))thenset S5E=0elseif((S0E(1)-S2E(1))>1)thenset S5E=1elseif((S0E(2)-S2E(2))>1)thenset S5E=2elseif((S2E(1)==0)and(S0E(1)>0))thenif((S2E(2)>0)or(S0E(2)==0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifelseif((S2E(2)==0)and(S0E(2)>0))thenset S5E=2elseif(S2E(0)==0)thenset S5E=0elseif(S2E(1)==0)thenif((S2E(2)>0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifelseif(S2E(2)==0)thenset S5E=2endifelseif((GetHeroLevel(T4E)>13)and(G3<0)and(G1>=0)and(S5E==G1)and((S0E(S5E)-S2E(S5E))<=0))thenif((S5E!=0)and(PB4>=2)and(SCE(4,KG4,KJ4,KN4,h7[17])>5))thenset S5E=0elseif((S5E!=1)and(PC4>=2)and(SCE(4,KF4,KI4,KM4,h7[39])>5))thenset S5E=1elseif((S5E!=2)and(P34>=2)and(SCE(4,KH4,KK4,KO4,h7[59])>5))thenset S5E=2endifendifif(S5E>=3)thenset S5E=GetRandomInt(0,2)endifreturn S5Eendfunctionfunction T7E takes unit H57 returns nothinglocal unit J27=nulllocal integer O5=GetPlayerId(GetOwningPlayer(H57))local integer ilocal boolean J4=falselocal integer IV7=ID7(IsUnitAlly(H57,Y7[0]),0,24)set hq[576+O5]=Bz+EK7set hq[320+O5]=Bz+15.set hq[480+O5]=Bz+15.if((is(H57))and(not J_7(H57))and(not G0[32+O5]))and(h4[O5]==null)thencall GroupClear(H8)set bj_lastLoadedUnit=H57call GroupEnumUnitsInRange(H8,GetUnitX(H57),GetUnitY(H57),700.,DU7)set i=(NS7(H8))if G0[48+O5]and Bz>hq[768+O5]thenset J4=(i>2)if not J4 thenset G0[48+O5]=falseendifif not J4 thenelseendifendifif(not J4)and JC7(H57)thenset bj_lastLoadedUnit=I47(IsUnitAlly(H57,Y7[0]),JH4,K84)set DD7=J77(H57,bj_lastLoadedUnit)if G0[240+O5]thenif(DD7>3500.)thencall jW(H57,851986,h9[O5])set J4=trueelseset G0[240+O5]=falseendifendifif(not J4)thenif(DD7>6000.)thencall jW(H57,851986,h9[O5])elseif DD7<700. and i>0 thenset J4=jW(H57,851983,h8[64+O5])elseif(not J4)and G0[224+O5]thenset J27=DS7[48+O5]if J27!=null and GetWidgetLife(J27)>.405 thenset J4=IssueTargetOrderById(H57,851983,J27)endifif not J4 thenset G0[224+O5]=falseendifendifif not J4 thenset J27=DS7[IV7+DR7[64+O5]]if J27!=null and GetWidgetLife(J27)>.405 thenset J4=IssueTargetOrderById(H57,851983,J27)endifendifif not J4 thenset J27=DS7[IV7+16+DR7[64+O5]]if J27==null or GetWidgetLife(J27)<.405 thenset J27=FirstOfGroup(H8)if J27!=null thenset DS7[IV7+16+DR7[64+O5]]=J27elseset J27=DS7[IV7+12+DR7[64+O5]]if J27==null or GetWidgetLife(J27)<.405 thenset J27=h8[64+O5]endifendifendifif(J77(H57,J27)>EE7)thenset J4=jW(H57,851986,J27)elseif GetUnitCurrentOrder(H57)!=851983 thenset J4=jW(H57,851983,J27)endifendifendifendifendifendifset H57=nullset J27=nullendfunctionfunction T8E takes unit T4E,integer O5,boolean T9E returns nothinglocal integer jlocal integer IV7set G0[32+O5]=falseif(T9E)thenset IV7=ID7(IsUnitAlly(T4E,Y7[0]),0,24)if DR7[64+O5]>=0 and DR7[IV7+DR7[64+O5]]>DL7 thenset eY[O5]=ID7((not GZ[480+O5]),3,4)elseset j=IT7(IsUnitAlly(T4E,Y7[0]))if j!=-1 thenset DR7[64+O5]=jset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1call IY7(T4E,O5)set eY[O5]=ID7((not GZ[480+O5]),3,4)endifendifendifif(eY[O5]==3 or eY[O5]==4)thencall T7E(T4E)elseif(Bz>P04)and(is(T4E))thencall jW(T4E,851983,h8[O5])endifset eY[O5]=1endifif(hG[O5]==100)thenset hG[32+O5]=-1endifendfunctionfunction TDE takes integer S5E,integer TEE returns integerif((P44)or((P94)and(P74)))thenreturn 0elseif((P84)and(P74))thenreturn 1elseif((P84)and(P94))thenreturn 2elseif((TEE>15)or((S5E==0)and(not P84))or((S5E==1)and(not P94))or((S5E==2)and(not P74)))thenreturn S5Eelseif((not P84)and(((P94)and(P74))or(GetRandomInt(1,2)==1)))thenreturn 0elseif((not P94)and((P74)or(GetRandomInt(1,2)==1)))thenreturn 1elseif(not P74)thenreturn 2endifreturn GetRandomInt(0,2)endfunctionfunction TFE takes nothing returns nothinglocal integer S5Elocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local unit T4E=GetTriggerUnit()if(eY[O5]==2)thenif(GetUnitTypeId(T4E)!='H00J')thenset T4E=nullreturnendifendifif(GetUnitTypeId(T4E)!='H00J')thenset eY[O5]=2set h8[O5]=h7[111]endifcall SAE(T4E,K84)if(GetUnitTypeId(T4E)!='H00J')thenset S5E=TDE(S_E(T4E),GetHeroLevel(T4E))if(S5E==0)thenset h8[O5]=h7[111]set h8[16+O5]=h7[114]elseif(S5E==1)thenset h8[O5]=h7[131]set h8[16+O5]=h7[135]elseset h8[O5]=h7[151]set h8[16+O5]=h7[155]endifcall T8E(T4E,O5,PQ4)set hq[576+O5]=Bz+EO7endifset T4E=nullendfunctionfunction TGE takes unit T4E returns integerlocal integer S5E=3local integer O5=GetPlayerId(GetOwningPlayer(T4E))if(G4>=0)thenset S5E=G4elseif(GetHeroLevel(T4E)<6)thenset S5E=eY[64+GetPlayerId(GetOwningPlayer(T4E))]elseif(GetHeroLevel(T4E)>=PW4)thenif(PP4 and DR7[64+O5]>=0)thenset S5E=ID7(DR7[64+O5]==3,0,DR7[64+O5])elseif(G1>=0)thenset S5E=G2endifendifif(S5E==3)thenif(SCE(PY4,JV4,JY4,JB4,h7[11])>5)thenset S5E=0elseif(SCE(PZ4,JU4,JX4,JA4,h7[31])>5)thenset S5E=1elseif(SCE(PA4,JW4,JZ4,JC4,h7[51])>5)thenset S5E=2elseif(IC(GetPlayerId(GetOwningPlayer(T4E))))thenif(S0E(0)>0)thenset S5E=0elseif(S0E(1)>0)thenif((S0E(2)==0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifendifelseif(((S0E(0)==0)and(S2E(0)>0))or((S2E(0)-S0E(0))>1))thenset S5E=0elseif((S2E(1)-S0E(1))>1)thenset S5E=1elseif((S2E(2)-S0E(2))>1)thenset S5E=2elseif((S0E(1)==0)and(S2E(1)>0))thenif((S0E(2)>0)or(S2E(2)==0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifelseif((S0E(2)==0)and(S2E(2)>0))thenset S5E=2elseif(S0E(0)==0)thenset S5E=0elseif(S0E(1)==0)thenif((S0E(2)>0)or(GetRandomInt(1,2)==1))thenset S5E=1elseset S5E=2endifelseif(S0E(2)==0)thenset S5E=2endifelseif((GetHeroLevel(T4E)>13)and(G4<0)and(G2>=0)and(S5E==G2)and((S2E(S5E)-S0E(S5E))>=0))thenif((S5E!=0)and(PY4>=2)and(SCE(4,JV4,JY4,JB4,h7[11])>5))thenset S5E=0elseif((S5E!=1)and(PZ4>=2)and(SCE(4,JU4,JX4,JA4,h7[31])>5))thenset S5E=1elseif((S5E!=2)and(PA4>=2)and(SCE(4,JW4,JZ4,JC4,h7[51])>5))thenset S5E=2endifendifif(S5E>=3)thenset S5E=GetRandomInt(0,2)endifreturn S5Eendfunctionfunction THE takes nothing returns nothinglocal integer S5Elocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local unit T4E=GetTriggerUnit()if(eY[O5]==2)thenif(GetUnitTypeId(T4E)!='H00J')thenset T4E=nullreturnendifendifif(GetUnitTypeId(T4E)!='H00J')thenset eY[O5]=2set h8[O5]=h7[11]endifcall SAE(T4E,JH4)if(GetUnitTypeId(T4E)!='H00J')thenset S5E=TDE(TGE(T4E),GetHeroLevel(T4E))if(S5E==0)thenset h8[O5]=h7[11]set h8[16+O5]=h7[14]elseif(S5E==1)thenset h8[O5]=h7[31]set h8[16+O5]=h7[35]elseset h8[O5]=h7[51]set h8[16+O5]=h7[55]endifcall T8E(T4E,O5,PP4)set hq[576+O5]=Bz+EO7endifset T4E=nullendfunctionfunction TIE takes integer O5,boolean IU7 returns nothinglocal integer i=1local integer TJE=ID7(IU7,0,6)local integer IV7=ID7(IU7,0,24)if(eY[O5]==3 and R97(Player(O5))and GetWidgetLife(G7[O5])>.405)thenset G0[48+O5]=falseif GetUnitLifePercent(G7[O5])<90. or GetUnitManaPercent(G7[O5])<90. thenset eY[O5]=1call OI7(G7[O5],true)call MF7(QC4,"OB|U",G7[O5])call ExecuteFunc("TKE")elseif(J87(GetUnitX(G7[O5]),GetUnitY(G7[O5]),DT7[IV7],DT7[IV7+1])<12000.)thenif(h9[16+O5]==h7[35])thenset h8[16+O5]=h7[35]set h8[O5]=h7[35]elseif(h9[16+O5]==h7[55])thenset h8[16+O5]=h7[55]set h8[O5]=h7[55]elseif(h9[16+O5]==h7[14])thenset h8[16+O5]=h7[14]set h8[O5]=h7[14]elseif(J87(GetUnitX(G7[O5]),GetUnitY(G7[O5]),DT7[IV7],DT7[IV7+1])>5000.)thenif(eY[80+O5]==0)thenset h8[16+O5]=h7[14]set h8[O5]=h7[14]elseif(eY[80+O5]==1)thenset h8[16+O5]=h7[35]set h8[O5]=h7[35]elseif(eY[80+O5]==2)thenset h8[16+O5]=h7[55]set h8[O5]=h7[55]endifendifset h9[16+O5]=K67(G7[O5])set h9[O5]=K67(G7[O5])endifif(is(G7[O5]))thencall jW(G7[O5],851983,h8[O5])endifset eY[O5]=1endifendifendfunctionfunction TME takes boolean IU7 returns booleanlocal group g=CreateGroup()local unit H57=nulllocal integer O5=0local integer TJE=ID7(IU7,0,6)local integer IV7=ID7(IU7,0,24)local integer ilocal integer jlocal boolean bIsDef=falseset i=0loopexitwhen i>18set DR7[IV7+i]=0set i=i+1endloopset DR7[IV7+19]=-1set DR7[IV7+20]=-1set DR7[IV7+21]=-1set DR7[IV7+22]=-1set DR7[IV7+23]=-1call GroupEnumUnitsInRange(g,DT7[IV7],DT7[IV7+1],6000.,QA4)loopset H57=FirstOfGroup(g)exitwhen H57==nullcall GroupRemoveUnit(g,H57)set O5=GetPlayerId(GetOwningPlayer(H57))set i=GetUnitTypeId(H57)if((GetUnitAbilityLevel(H57,'A04R')!=0 and((i=='umtw' or i=='u00R')or(i=='ebal' or i=='e026'))==false)or GetUnitAbilityLevel(H57,'Aloc')!=0 or GetWidgetLife(H57)<50.)thenelseif(IsUnitAlly(H57,Y7[0])==IU7)or O5==12 or O5>14 thenelseif not(IsUnitType(H57,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(H57,UNIT_TYPE_RANGED_ATTACKER))thenelseset j=-1if(IU7 and(PR4==false or PA4>2 or PY4>2 or PZ4>2))or(IU7==false and(PS4==false or P34>2 or PB4>2 or PC4>2))thenif J87(GetUnitX(H57),GetUnitY(H57),DT7[IV7+2],DT7[IV7+3])<=1400. thenset j=3endifendifif j==-1 thenset i=R2I(Atan2(GetUnitY(H57)-DT7[IV7+1],GetUnitX(H57)-DT7[IV7])*bj_RADTODEG)if i>360 thenset i=i-360elseif i<0 thenset i=i+360endifif IU7 thenif i<25 and PA4>=2 thenset j=2elseif i>65 and PZ4>=2 thenset j=1elseif PY4>=2 thenset j=0endifelseif i>245 and P34>=2 thenset j=2elseif i<205 and PC4>=2 thenset j=1elseif PB4>=2 thenset j=0endifendifendifif j!=-1 and((j!=0 or(not P84))and(j!=1 or(not P94))and(j!=2 or(not P74)))thenset i=GetUnitTypeId(H57)if IsUnitType(H57,UNIT_TYPE_HERO)and i!='H00J' thenset DR7[IV7+4+j]=DR7[IV7+4+j]+1set DR7[IV7+19+O5-TJE-1]=jset DR7[IV7+j]=DR7[IV7+j]+D67if(DS7[IV7+12+j]==null or GetWidgetLife(DS7[IV7+12+j])<.405)or(GetWidgetLife(H57)<GetWidgetLife(DS7[IV7+12+j]))thenset DS7[IV7+12+j]=H57endifelseif O5!=GetPlayerId(Y7[0])and O5!=GetPlayerId(Z7[0])thenset DR7[IV7+j]=DR7[IV7+j]+3elseif(i=='ugho' or i=='unec')or(i=='u001' or i=='u002')or(i=='esen' or i=='edry')or(i=='e00V' or i=='e00W')thenset DR7[IV7+j]=DR7[IV7+j]+1if DS7[IV7+16+j]==null or GetWidgetLife(DS7[IV7+16+j])<.405 thenset DS7[IV7+16+j]=H57endifelseif(i=='umtw' or i=='u00R')or(i=='ebal' or i=='e026')thenset DR7[IV7+j]=DR7[IV7+j]+3if DS7[IV7+4+j]==null or GetWidgetLife(DS7[IV7+4+j])<.405 thenset DS7[IV7+4+j]=H57endifelseset DR7[IV7+j]=DR7[IV7+j]+5if DS7[IV7+8+j]==null or GetWidgetLife(DS7[IV7+8+j])<.405 thenset DS7[IV7+8+j]=H57endifendifendifendifendifendloopcall DestroyGroup(g)set g=nullif((IU7 and PP4)or((not IU7)and PQ4))thenif DR7[IV7+0]<=DL7 and DR7[IV7+1]<=DL7 and DR7[IV7+2]<=DL7 and DR7[IV7+3]<=DL7 thenreturn falseendifendifif IU7 thenif PA4>2 and DR7[IV7+2]>DL7 thenset DR7[IV7+2]=DR7[IV7+2]+D17endifif PZ4>2 and DR7[IV7+1]>DL7 thenset DR7[IV7+1]=DR7[IV7+1]+D17endifif PY4>2 and DR7[IV7+0]>DL7 thenset DR7[IV7+0]=DR7[IV7+0]+D17endifif GetWidgetLife(J34)<.405 and DR7[IV7+3]>DL7 thenset DR7[IV7+3]=DR7[IV7+3]+D17endifif GetWidgetLife(J64)<.405 and DR7[IV7+3]>DL7 thenset DR7[IV7+3]=DR7[IV7+3]+D17endifelseif P34>2 and DR7[IV7+2]>DL7 thenset DR7[IV7+2]=DR7[IV7+2]+D17endifif PC4>2 and DR7[IV7+1]>DL7 thenset DR7[IV7+1]=DR7[IV7+1]+D17endifif PB4>2 and DR7[IV7+0]>DL7 thenset DR7[IV7+0]=DR7[IV7+0]+D17endifif GetWidgetLife(KP4)<.405 and DR7[IV7+3]>DL7 thenset DR7[IV7+3]=DR7[IV7+3]+D17endifif GetWidgetLife(KQ4)<.405 and DR7[IV7+3]>DL7 thenset DR7[IV7+3]=DR7[IV7+3]+D17endifendifif DR7[IV7+0]<=D37 and DR7[IV7+1]<=D37 and DR7[IV7+2]<=D37 and DR7[IV7+3]<=D37 thenreturn falseendifset j=0set i=0loopexitwhen j>4set DR7[IV7+8+j]=DR7[IV7+4+j]if GetWidgetLife(DS7[IV7+12+j])>.405 thenelseif GetWidgetLife(DS7[IV7+8+j])>.405 thenset DS7[IV7+j]=DS7[IV7+8+j]elseif GetWidgetLife(DS7[IV7+4+j])>.405 thenset DS7[IV7+j]=DS7[IV7+4+j]elseif GetWidgetLife(DS7[IV7+12+j])>.405 thenset DS7[IV7+j]=DS7[IV7+12+j]elseset DS7[IV7+j]=nullendifendifset j=j+1endloopif IU7 thenif DR7[IV7+1]>DL7 and DR7[IV7+9]==0 thenset DR7[IV7+9]=1endifif DR7[IV7+0]>DL7 and DR7[IV7+8]==0 thenset DR7[IV7+8]=1endifif DR7[IV7+2]>DL7 and DR7[IV7+10]==0 thenset DR7[IV7+10]=1endifset hD=IMaxBJ(1,DR7[IV7+4]+DR7[IV7+5]+DR7[IV7+6]+DR7[IV7+7])elseif DR7[IV7+1]>DL7 and DR7[IV7+9]==0 thenset DR7[IV7+9]=1endifif DR7[IV7+0]>DL7 and DR7[IV7+8]==0 thenset DR7[IV7+8]=1endifif DR7[IV7+2]>DL7 and DR7[IV7+10]==0 thenset DR7[IV7+10]=1endifset hE=IMaxBJ(1,DR7[IV7+4]+DR7[IV7+5]+DR7[IV7+6]+DR7[IV7+7])endifif DR7[IV7+3]>DL7 and DR7[IV7+11]==0 thenset DR7[IV7+11]=1endifset i=1loopexitwhen i>5set O5=DR7[80+TJE+i]if(O5!=-1)and(eY[O5]==2 or eY[O5]==3 or eY[O5]==4)==false and(J_7(G7[O5])or GetWidgetLife(G7[O5])<.405)==false thenset DR7[48+TJE+i]=DR7[80+TJE+i]elseset DR7[48+TJE+i]=-1endifset DR7[96+O5]=0set i=i+1endloopset i=1loopexitwhen i>5set O5=DR7[80+TJE+i]if(O5!=-1)and G7[O5]!=null thenif(eY[O5]==3 or eY[O5]==4)and DR7[64+O5]!=-1 and(J_7(G7[O5])or GetWidgetLife(G7[O5])<.405)==false thenif DR7[IV7+8+DR7[64+O5]]>0 thenset DR7[48+TJE+i]=-1set DR7[IV7+8+DR7[64+O5]]=DR7[IV7+8+DR7[64+O5]]-1set DR7[IV7+12+DR7[64+O5]]=DR7[IV7+12+DR7[64+O5]]+1elseset DR7[48+TJE+i]=O5endifendifendifset i=i+1endloopif DR7[IV7+11]>0 and DR7[IV7+15]==0 thenset i=1loopexitwhen i>10if i>5 thenset j=j-5elseset j=iendifset O5=DR7[80+TJE+j]if(O5!=-1)and(DR7[48+TJE+j]==-1)thenif(eY[O5]==3 or eY[O5]==4)and((DR7[48+TJE+j]!=-1)or(DR7[64+O5]==-1)or(DR7[IV7+8+DR7[64+O5]]<=0)or((DR7[IV7+12+DR7[64+O5]]>1)or(i>5)))thenset DR7[64+O5]=3set DR7[IV7+11]=DR7[IV7+11]-1set DR7[IV7+15]=DR7[IV7+15]+1set DR7[96+O5]=1endifendifset DR7[96+O5]=0set i=i+1endloopendifset i=1loopexitwhen i>5set O5=DR7[48+TJE+i]if O5!=-1 and(eY[O5]==3 or eY[O5]==4)thenset j=IT7(IU7)if j==-1 thenset bj_forLoopAIndex=0set bj_forLoopBIndex=DL7loopexitwhen bj_forLoopAIndex>3if DR7[IV7+bj_forLoopAIndex]>bj_forLoopBIndex and DR7[IV7+8+j]>-1 thenset bj_forLoopBIndex=DR7[IV7+bj_forLoopAIndex]set j=bj_forLoopAIndexendifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopendifif j!=-1 thenif j!=DR7[64+O5]thenset G0[240+O5]=trueset DR7[96+O5]=1set DR7[64+O5]=jendifset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1set DR7[48+TJE+i]=-1elsecall TIE(O5,IU7)endifendifset i=i+1endloopif DR7[IV7+8]<=0 and DR7[IV7+9]<=0 and DR7[IV7+10]<=0 and DR7[IV7+11]<=0 thenreturn trueendifset i=1loopexitwhen i>5set O5=DR7[48+TJE+i]if(O5!=-1)thenset j=JD7(G7[O5])if DR7[IV7+8+j]+DR7[IV7+12+j]>0 thenset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1set DR7[64+O5]=jset DR7[96+O5]=1set DR7[48+TJE+i]=-1endifendifset i=i+1endloopset i=1loopexitwhen i>5 or(DR7[IV7+8]<=0 and DR7[IV7+9]<=0 and DR7[IV7+10]<=0 and DR7[IV7+11]<=0)set O5=DR7[48+TJE+i]if(O5!=-1)thenif Bz>hq[528+O5]thenset DD7=J87(GetUnitX(G7[O5]),GetUnitY(G7[O5]),DT7[IV7],DT7[IV7+1])if DD7<=12000 thenset j=IT7(IU7)if j!=-1 thenif DD7>5000 thenset G0[240+O5]=trueendifset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1set DR7[64+O5]=jset DR7[96+O5]=1set DR7[48+TJE+i]=-1endifendifendifendifset i=i+1endloopset i=1loopexitwhen i>5 or(DR7[IV7+8]<=0 and DR7[IV7+9]<=0 and DR7[IV7+10]<=0 and DR7[IV7+11]<=0)set O5=DR7[48+TJE+i]if(O5!=-1)thenif J87(GetUnitX(G7[O5]),GetUnitY(G7[O5]),DT7[ID7(IU7,24,0)],DT7[ID7(IU7,25,1)])>6000 thenset j=IT7(IU7)if j!=-1 thenset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1set DR7[64+O5]=jset DR7[96+O5]=1set DR7[48+TJE+i]=-1endifendifendifset i=i+1endloopset bj_forLoopAIndex=DR7[IV7+4]+DR7[IV7+5]+DR7[IV7+6]+DR7[IV7+7]if(bj_forLoopAIndex>=ID7(IU7,IH4,IG4)-1 and bj_forLoopAIndex>=3)thenset i=1loopexitwhen i>5set O5=DR7[80+TJE+i]if(O5!=-1)and G7[O5]!=null thenif GetWidgetLife(G7[O5])<.405 thenif((TimerGetRemaining(N[O5])>20.)and(TimerGetElapsed(N[O5])>4.))thenset j=0loopexitwhen NZ4[j]==GetEnumUnit()or j>NC4set j=j+1endloopif NZ4[j]!=null and GetUnitAbilityLevel(K04[O5],'A20U')==0 thenif IssueImmediateOrderById(K04[O5],S9[O5])thenset j=IT7(IU7)if j!=-1 thenset DR7[IV7+8+j]=DR7[IV7+8+j]-1set DR7[IV7+12+j]=DR7[IV7+12+j]+1set DR7[64+O5]=jset DR7[96+O5]=1endifendifendifendifendifendifset i=i+1endloopendifif IU7 thenset DI7=W7elseset DI7=X7endifset i=1loopexitwhen i>5if IU7 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i])endifif R97(Player(O5))and DR7[96+O5]!=0 thencall IY7(G7[O5],O5)call J3(G7[O5],JC7(G7[O5]))call OG7(G7[O5],DI7)if eY[O5]==3 or eY[O5]==4 thencall O87(G7[O5],DI7,"Defending change area"+IQ7(DR7[64+O5],true))elsecall O87(G7[O5],DI7,"Defending"+IQ7(DR7[64+O5],true))endifset eY[O5]=3set DR7[96+O5]=0endifset i=i+1endloopset H57=nullset DI7=nullreturn trueendfunctionfunction TNE takes boolean IU7 returns booleanlocal unit H57=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(H57))local integer TJE=ID7(IU7,0,6)local integer IV7=ID7(IU7,0,24)local integer ilocal integer jif((IU7 and PZ4<2 and PY4<2 and PA4<2)or(IU7==false and PC4<2 and PB4<2 and P34<2))thenreturn falseelseif O5!=GetPlayerId(Y7[0])and O5!=GetPlayerId(Z7[0])thenreturn falseelseif(IsUnitAlly(H57,Y7[0])==IU7)or OB7(H57)==false thenreturn falseendifset i=R2I(Atan2(GetUnitY(H57)-DT7[IV7+1],GetUnitX(H57)-DT7[IV7])*bj_RADTODEG)set j=-1if i>360 thenset i=i-360elseif i<0 thenset i=i+360endifif IU7 thenif i<25 and PA4>=2 thenset j=2elseif i>65 and PZ4>=2 thenset j=1elseif PY4>=2 thenset j=0endifelseif i>245 and P34>=2 thenset j=2elseif i<205 and PC4>=2 thenset j=1elseif PB4>=2 thenset j=0endifendifif j==-1 thenreturn falseendifreturn TME(IU7)endfunctionfunction TOE takes boolean IU7 returns nothinglocal integer i=1local integer O5loopexitwhen i>5if IU7 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i])endifcall TIE(O5,IU7)set i=i+1endloopendfunctionfunction TPE takes nothing returns booleanif TNE(false)thencall DisableTrigger(QV4)call EnableTrigger(QX4)set PQ4=trueendifreturn falseendfunctionfunction TQE takes nothing returns booleanif not TME(false)thencall EnableTrigger(QV4)call DisableTrigger(QX4)set PQ4=falsecall TOE(false)endifreturn falseendfunctionfunction TRE takes nothing returns booleanif TNE(true)thencall DisableTrigger(QU4)call EnableTrigger(QW4)set PP4=trueendifreturn falseendfunctionfunction TSE takes nothing returns booleanif not TME(true)thencall EnableTrigger(QU4)call DisableTrigger(QW4)set PP4=falsecall TOE(true)endifreturn falseendfunctionfunction TRv takes nothing returns booleanif((IsUnitEnemy(GetFilterUnit(),Y7[0]))and(kn(GetFilterUnit()))and((IsUnitVisible(GetFilterUnit(),Y7[0]))or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)and(GetUnitLifePercent(GetFilterUnit())>30.))thenset hD=hD+1endifreturn trueendifreturn falseendfunctionfunction TTE takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(GetWidgetLife(GetFilterUnit())>.405)and(OB7(GetFilterUnit())))endfunctionfunction TUE takes real K1,unit u returns unitlocal unit RA7=nulllocal unit TVE=nulllocal boolexpr Ig=Condition(function TTE)local real IW=J77(u,h9[16+GetPlayerId(GetOwningPlayer(u))])local real TWEcall GroupClear(iE)call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)loopset RA7=FirstOfGroup(iE)exitwhen(RA7==null)if((IsUnitVisible(RA7,GetOwningPlayer(u)))and(RA7!=u))thenset TWE=J77(RA7,h9[16+GetPlayerId(GetOwningPlayer(u))])if(TWE<IW)thenset TVE=RA7set IW=TWEendifendifcall GroupRemoveUnit(iE,RA7)endloopcall DestroyBoolExpr(Ig)set Ig=nullset RA7=nullset hr=TVEset TVE=nullreturn hrendfunctionfunction TXE takes nothing returns booleanreturn((IsHeroUnitId(GetUnitTypeId(GetFilterUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetFilterUnit()!=GetEnumUnit()))endfunctionfunction TYE takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if((i1=='Edem')or(i1=='Opgh')or(i1=='O00P')or(i1=='H000')or(i1=='HC49')or(i1=='Npbm')or(i1=='Ogrh')or(i1=='U00A')or(KJ7(it,OU[DJ4]))or(KJ7(it,OU[W5])))thenreturn 3elseif(kq(i1))thenreturn 2elsereturn 1endifendfunctionfunction TZE takes real K1,unit u returns unitlocal unit RA7=nulllocal unit TVE=nulllocal boolexpr Ig=Condition(function TXE)local real TAE=0local real TBE=0call GroupClear(iE)call GroupEnumUnitsInRange(iE,GetUnitX(u),GetUnitY(u),K1,Ig)loopset RA7=FirstOfGroup(iE)exitwhen(RA7==null)set TAE=GetUnitState(RA7,UNIT_STATE_LIFE)if(GetUnitLifePercent(RA7)<60.)thenelseif((TVE==null)or(TYE(RA7)>TYE(TVE)))thenset TVE=RA7set TBE=TAEelseif((TYE(RA7)==TYE(TVE))and(TBE<TAE))thenset TVE=RA7set TBE=TAEendifcall GroupRemoveUnit(iE,RA7)endloopcall DestroyBoolExpr(Ig)set Ig=nullset RA7=nullset hr=TVEset TVE=nullreturn hrendfunctionfunction TCE takes unit it,boolean J2 returns booleanlocal integer kt=GetUnitAbilityLevel(it,'A0LN')local real kl=GetUnitFacing(it)*bj_DEGTORADlocal real T3E=GetUnitX(it)+(350.+I2R(50*kt))*Cos(kl)local real T6E=GetUnitY(it)+(350.+I2R(50*kt))*Sin(kl)if((kJ(T3E,T6E))and((J2)or(J87(T3E,T6E,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<J77(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))thenset GZ[GetPlayerId(GetOwningPlayer(it))]=truereturn J8(GetPlayerId(GetOwningPlayer(it)),K37(it,852129,'A0LN'))endifreturn falseendfunctionfunction TLE takes unit it,boolean J2 returns booleanlocal integer kt=GetUnitAbilityLevel(it,'A1J7')local real kl=GetUnitFacing(it)*bj_DEGTORADlocal real T3E=GetUnitX(it)+(300.+I2R(100*kt))*Cos(kl)local real T6E=GetUnitY(it)+(300.+I2R(100*kt))*Sin(kl)if((kJ(T3E,T6E))and((J2)or(J87(T3E,T6E,GetUnitX(h9[16+GetPlayerId(GetOwningPlayer(it))]),GetUnitY(h9[16+GetPlayerId(GetOwningPlayer(it))]))<J77(it,h9[16+GetPlayerId(GetOwningPlayer(it))]))))thenset GZ[GetPlayerId(GetOwningPlayer(it))]=truereturn J8(GetPlayerId(GetOwningPlayer(it)),IssueImmediateOrderById(it,852600))endifreturn falseendfunctionfunction T1E takes unit it returns booleanlocal integer i1=GetUnitTypeId(it)local boolean J4=falselocal location b5=nulllocal unit m5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueendifif(i1=='EC45')thenset b5=kk(it,I2R(400+(200*GetUnitAbilityLevel(it,'A0LK'))),h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))elseif((i1=='UC01')or(i1=='Edem'))thenset b5=kk(it,800.,h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852525,b5))elseif((i1=='Ewar')or(i1=='HC92'))thenif(i1=='Ewar')thenset DD7=600+GetUnitAbilityLevel(it,'A0PL')*100elseset DD7=700.endifset m5=TUE(DD7,it)if((m5!=null)and(it!=m5))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,400.))and(IssueTargetOrderById(it,852600,m5))endifelseif(i1=='U00K')thenset b5=kk(it,I2R(280+(100*GetUnitAbilityLevel(it,'A06O'))),h9[16+O5])set J4=(b5!=null)and(IssuePointOrderByIdLoc(it,852218,b5))elseif(i1=='O00P')thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0FN',true)set GZ[O5]=trueif(GetUnitLifePercent(it)<48.)thenset J4=J8(O5,IssuePointOrderByIdLoc(it,852218,b5))endifendifelseif(i1=='UC11')thenset b5=kk(it,800.,h9[16+O5])if(b5!=null)and(Bz>SL4[32+O5])thenset J4=KA7(it,852218,'A1RD',b5)endifelseif(i1=='N01V')thenset J4=TCE(it,false)elseif(i1=='E02F')thenset b5=kk(it,550.,h9[16+O5])if(b5!=null)thenif(GetUnitLifePercent(it)<35.)thenset GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(it,852600,b5))endifendifif((not J4)and(GetUnitLifePercent(it)<35.))thenset J4=IssueImmediateOrderById(it,852662)endifelseif(i1=='H00S')thenif(GetUnitManaPercent(it)>15.)thenset b5=kk(it,1200.,h9[16+O5])if(b5!=null)thenset J4=KA7(it,852218,'A14O',b5)endifif not J4 thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thenset J4=KA7(it,852218,'A14O',b5)endifendifif J4 thenset h9[O5]=h9[16+O5]endifendifelseif(i1=='N0M0')thenif(GetUnitState(it,UNIT_STATE_MANA)>100.)and(LoadInteger(C7,GetHandleId(it),(747))>0)and(not NF7(it,"AI|EmberEscape"))thenset b5=kk(it,1500.,h9[16+O5])if(b5!=null)thenset J4=IssuePointOrderByIdLoc(it,852490,b5)endifif not J4 thenset b5=kk(it,600.,h9[16+O5])if(b5!=null)thenset J4=IssuePointOrderByIdLoc(it,852490,b5)endifendifif J4 thenset h9[O5]=h9[16+O5]call NH7(it,"AI|EmberEscape")endifendifelseif(i1=='E032')thenif GetUnitAbilityLevel(it,'A2E3')!=0 thenset b5=kk(it,600+200*GetUnitAbilityLevel(it,'A2E3'),h9[16+O5])if(b5!=null)and(QZ7(b5,300))thenset J4=IssuePointOrderById(it,852662,GetDestructableX(VZ4),GetDestructableY(VZ4))endifif(not J4)thenset b5=kk(it,800.,h9[16+O5])if(b5!=null)and(QZ7(b5,300))thenset J4=IssuePointOrderById(it,852662,GetDestructableX(VZ4),GetDestructableY(VZ4))endifendifendifelseif(i1=='H071')thenset J4=TLE(it,false)elseif(i1=='O01F')thenset m5=TUE(1800.,it)if((m5!=null)and(it!=m5))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IsUnitInRange(m5,it,1000.))and(KZ7(it,852119,'A1TA',m5))endifendifif(i1=='E02X')and(not J4)and(hq[816+O5]>Bz)thenset G0[288+O5]=trueset J4=T1E(it)set G0[304+O5]=falseendifif(not J4)and(not G0[304+O5])thenset bj_lastLoadedUnit=itif(not J4)and((KJ7(it,OU[W5]))and(J_7(it))and(KH7(800.,it,Condition(function P87))>0))thenset GZ[224+O5]=trueset J4=(i1!='Eevm')and(UnitUseItem(it,bj_lastCreatedItem))set GZ[224+O5]=falseendifif(not J4)and(KJ7(it,OU[HW]))thenset b5=kk(it,700.,h9[16+O5])set J4=(b5!=null)and(UnitUseItemPointLoc(it,bj_lastCreatedItem,b5))endifif(not J4)and(KJ7(it,OU[E74]))thenif I27(it,h9[16+O5],20)thenset b5=kk(it,600.,h9[16+O5])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))if J4 thenset h9[O5]=h9[16+O5]endifelseif(I27(it,h9[O5],20))and(h9[O5]!=h9[16+O5])thenset b5=kk(it,600.,h9[O5])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifendifendifset b5=nullset m5=nullreturn J4endfunctionfunction T0E takes nothing returns booleanif(((GetOwningPlayer(GetFilterUnit())==Y7[0])or(GetOwningPlayer(GetFilterUnit())==Z7[0]))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(hr)))and(GetWidgetLife(GetFilterUnit())>.405))thenif(IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and(true))thenset hF=hF+1endifreturn trueendifreturn falseendfunctionfunction T5E takes real T2E,unit it,boolean T_E,boolean U4E returns integerlocal real U7Elocal real U8Elocal real T3E=GetUnitX(it)local real T6E=GetUnitY(it)local integer kc=0local integer UP=0local integer O5=GetPlayerId(GetOwningPlayer(it))if(T2E>0)thenset U7E=Bz+T2Eloopset U8E=U7E-Bzexitwhen U8E<=0call TriggerSleepAction(0.5)set hr=itif((GetWidgetLife(it)<=.405)or(GetUnitCurrentOrder(it)==851983)or(not is(it)))thenset U7E=Bzelseif(not U4E)thenset FJ7=LoadUnitHandle(C7,(GetHandleId(it)),(652))set FK7=MZ7((GetHandleId(it)),"AI|TetherSource")if JC7(it)and(not J_7(it))thenif(FJ7!=null)and(not IsUnitInRange(it,FJ7,700)and(IsUnitType(FJ7,UNIT_TYPE_HERO)))thencall jW(it,851986,FJ7)elseif(FK7!=null)and(not IsUnitInRange(it,FK7,700))thencall jW(it,851986,FK7)elsecall jW(it,851986,h9[O5])endifendifset hF=0set UP=KH7(700.,it,Condition(function T0E))if((T2E-U8E>1.)and(hF>0))thenset U7E=Bzset kc=2elseif((T_E)and(T2E-U8E>1.)and(UP>1))thenset U7E=Bzset kc=1elseif(((T2E-U8E>2.)or((T2E-U8E>1.)and(T_E))))thencall MoveLocation(Ha,T3E,T6E)if(KG7(700.,Ha,Condition(function T0E))>1)thenset U7E=Bzset kc=3endifelseif((T2E-U8E>=2.)and(iy(it)))thenset U7E=Bzset kc=1endifendifendloopendifreturn kcendfunctionfunction U9E takes nothing returns nothinglocal unit it=MZ7(GetHandleId(GetTriggeringTrigger()),"Unit")local integer O5=GetPlayerId(GetOwningPlayer(it))local boolean UDE=GZ[512+O5]local integer UEEif K47(O5)thenreturnendifset G0[48+O5]=trueif(JC7(it))thencall jW(it,851986,h9[O5])endifif(GetUnitTypeId(it)=='H00J')thencall TriggerSleepAction(1.)set UEE=0elseif eY[O5]==11 thenset UEE=T5E(1.,it,true,false)elseif(UDE)thenset UEE=T5E(5.,it,true,false)elseset UEE=T5E(3.,it,false,false)endifset G0[48+O5]=falseif((GetWidgetLife(it)<=.405)or(not is(it)))thenelseif(not JC7(it))thenelseif((UEE==2)and(not J_7(it))and(not G0[32+O5]))thencall IssueImmediateOrderById(it,851993)elseif((UDE)or(UEE==3))thenif((not J_7(it))and(not G0[32+O5])and(G0[128+O5]))thencall jW(it,851983,h8[O5])elsecall OI7(it,false)endifendifset it=nullendfunctionfunction UFE takes unit it,boolean UDE returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))set GZ[512+O5]=UDEif(QY4[64+O5]!=null)thencall TriggerExecute(QY4[64+O5])endifendfunctionfunction UGE takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer UP=GetUnitUserData(h8[O5])local integer SZE=0local real RZ7=0.if(IsUnitAlly(it,Y7[0]))thenif((hj[256+UP]==18)or(hj[UP]==10))thenset SZE=11+hBif(UP>SZE)thencall SYE(it,0)endifelseif((hj[256+UP]==40)or(hj[UP]==30))thenset SZE=31+hcif(UP>SZE)thencall SYE(it,1)endifelseif((hj[256+UP]==60)or(hj[UP]==50))thenset SZE=51+hCif(UP>SZE)thencall SYE(it,2)endifendifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset SZE=119-hBif(UP>SZE)thencall SYE(it,0)endifelseif((hj[256+UP]==140)or(hj[UP]==130))thenset SZE=141-hcif(UP>SZE)thencall SYE(it,1)endifelseif((hj[256+UP]==160)or(hj[UP]==150))thenset SZE=161-hCif(UP>SZE)thencall SYE(it,2)endifendifendifif((eY[O5]==1)and(h4[O5]!=null)and((not Id(O5))or(GetUnitLifePercent(it)<70.)))thenset RZ7=J77(it,h8[O5])if(((RZ7>2000.)and(J77(it,K67(it))>J77(h8[O5],K67(it))))or((RZ7>1400.)and((GZ[400+O5])and(Bz>hq[544+O5]))))thenset h4[O5]=nullcall jW(it,851986,h9[O5])call UFE(it,true)endifendifendfunctionfunction UHE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))endfunctionfunction UIE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))set GZ[16+O5]=trueset eY[256+O5]=GetIssuedOrderId()set hq[448+O5]=Bz+3.endfunctionfunction UJE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction UKE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction UME takes unit H57,unit J27 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(H57))local integer UPlocal integer jlocal integer klocal integer S5E=J97(GetUnitUserData(J27))local boolean IU7=IsUnitAlly(H57,Y7[0])set h4[144+O5]=nullset G0[32+O5]=falseset G0[160+O5]=falseset G0[176+O5]=falseset h4[O5]=nullset GZ[128+O5]=falseset eY[272+O5]=0set UP=GetUnitUserData(J27)if IsUnitAlly(H57,Y7[0])thenset UP=UP-1elseset UP=UP+1endifset UP=R_E(UP,IsUnitAlly(H57,Y7[0]),H07(H57))set k=JD7(H57)if(J77(H57,K67(H57))<5000.)thenif(S5E==0)thenset h8[O5]=h7[14]set h8[16+O5]=h7[14]elseif(S5E==1)thenset h8[O5]=h7[35]set h8[16+O5]=h7[35]elseset h8[O5]=h7[55]set h8[16+O5]=h7[55]endifset eY[O5]=1set h9[O5]=K67(H57)set h9[16+O5]=K67(H57)set hq[576+O5]=Bz+E07if JC7(H57)thencall jW(H57,851983,h8[O5])endifreturnendifset h8[128+O5]=h7[UP]set eY[288+O5]=S5Eif eY[288+O5]!=0 thenset eY[304+O5]=eY[288+O5]elseset eY[304+O5]=kif eY[304+O5]==0 thenset eY[304+O5]=GetRandomInt(1,2)endifendifset UP=R_E(GetUnitUserData(h9[O5]),IsUnitAlly(H57,Y7[0]),H07(H57))set h8[48+O5]=h7[UP]set UP=S7E(O5,UP,eY[304+O5],IU7)set h8[32+O5]=h7[UP]if((hG[32+O5]!=-1)and((hG[32+O5]-GetPlayerState(GetOwningPlayer(H57),PLAYER_STATE_RESOURCE_GOLD))<600))thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(H57),PLAYER_STATE_RESOURCE_GOLD)+300endifset eY[O5]=9set hq[576+O5]=Bz+E07set hq[592+O5]=Bz+EH7set G0[176+O5]=((not JL7(H57))and(h8[48+O5]==h8[32+O5]))set eY[208+O5]=GetUnitUserData(J27)set h8[144+O5]=J27if JC7(H57)thenif h8[48+O5]!=h8[32+O5]or G0[176+O5]thencall jW(H57,851983,h8[48+O5])elsecall jW(H57,851983,h9[O5])endifendifendfunctionfunction UNE takes unit H57,unit J27 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(H57))local integer OK7=GetPlayerId(GetOwningPlayer(J27))local boolean IU7=IsUnitAlly(H57,Y7[0])local integer UPlocal integer UOElocal integer S5E=J97(GetUnitUserData(J27))local integer icall UFE(G7[O5],false)set G0[160+O5]=trueset h4[144+O5]=G7[OK7]set G0[32+O5]=falseset h4[O5]=nullset GZ[128+O5]=falseset G0[192+O5]=falseset G0[208+O5]=trueset hq[640+O5]=Bz+EF7set h8[96+O5]=J27set h8[160+O5]=h8[80+OK7]set eY[288+O5]=JD7(J27)if eY[288+O5]!=0 thenset eY[304+O5]=eY[288+O5]elseset eY[304+O5]=JD7(H57)if eY[304+O5]==0 thenset eY[304+O5]=GetRandomInt(1,2)endifendifset eY[272+O5]=1set UOE=R_E(GetUnitUserData(h8[80+OK7])+ID7(IU7,1,-1),IU7,H07(H57))set h8[112+O5]=h7[UOE]set UP=GetUnitUserData(h8[80+O5])set UOE=S7E(O5,UP,eY[304+O5],IU7)set h8[32+O5]=h7[UOE]set h8[48+O5]=h8[32+O5]set UP=JD7(H57)set i=ID7(IsUnitAlly(H57,Y7[0]),-1,1)if(UP==0)thenif(J77(H57,K67(H57))>J77(h7[14],K67(H57)))thenset h8[48+O5]=h7[14+i]endifelseif(UP==1)thenif(J77(H57,K67(H57))>J77(h7[34],K67(H57)))thenset h8[48+O5]=h7[34+i]endifelseif(UP==2)thenif(J77(H57,K67(H57))>J77(h7[57],K67(H57)))thenset h8[48+O5]=h7[57+i]endifendifset UP=GetUnitUserData(h8[112+O5])if(IU7)thenif((hj[256+UP]==18)or(hj[UP]==10))thenset i=IMaxBJ(10+hB,11)elseif((hj[256+UP]==40)or(hj[UP]==30))thenset i=IMaxBJ(30+hc,31)elseset i=IMaxBJ(50+hC,51)endifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset i=IMaxBJ(118-hB,111)elseif((hj[256+UP]==140)or(hj[UP]==130))thenset i=IMaxBJ(140-hc,131)elseset i=IMaxBJ(160-hC,151)endifendifset h8[128+O5]=h7[i]if((hG[32+O5]!=-1)and((hG[32+O5]-GetPlayerState(GetOwningPlayer(H57),PLAYER_STATE_RESOURCE_GOLD))<600))thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(H57),PLAYER_STATE_RESOURCE_GOLD)+300endifset eY[O5]=9set hq[576+O5]=Bz+E07set hq[592+O5]=Bz+EH7set G0[176+O5]=((not JL7(H57))and(h8[48+O5]==h8[32+O5]))if JC7(H57)and GetUnitCurrentOrder(H57)==851983 thenif h8[48+O5]!=h8[32+O5]or G0[176+O5]thencall jW(H57,851983,h8[48+O5])elsecall jW(H57,851983,h9[O5])endifendifendfunctionfunction UPE takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local real UQE=GetUnitX(it)local real URE=GetUnitY(it)if(i1=='H00J')thenif(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)thencall J3(it,false)endifreturnendifif(GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)thenif((GetHeroSkillPoints(it)>0)and(Bz>P04)and(JC7(it)))thencall ExecuteFunc("PYE")endifif((J77(it,h8[O5])<150.)and(h8[O5]!=h7[1])and(h8[O5]!=h7[101]))thenif(IsUnitAlly(it,Y7[0]))thenset hF=GetUnitUserData(h8[O5])elseset hF=hj[512+GetUnitUserData(h8[O5])]endifif(hF>0)thencall R67(it,hF)elseif(h8[O5]!=h9[O5])thenset h8[O5]=h9[O5]elseset h8[O5]=K67(it)endifelseif(eY[O5]==1)thencall UGE(it)endifif(P44)thenset hF=GetUnitUserData(h8[O5])if(((hF>30)and(hF<40))or((hF>50)and(hF<60)))thencall SYE(it,0)endifendifif((h4[80+O5]!=null)and(GetWidgetLife(h4[80+O5])<=.405))thenset h4[80+O5]=nullendifif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])<=.405))thenset h4[96+O5]=nullendifif((h4[128+O5]!=null)and((GetWidgetLife(h4[128+O5])<=.405)))thenset h4[128+O5]=nullendifif((h4[160+O5]!=null)and((GetWidgetLife(h4[160+O5])<=.405)or(not IsUnitInRange(it,h4[160+O5],1000.))))thenset h4[160+O5]=nullendifif((h4[48+O5]!=null)and(((eY[O5]!=3)and(eY[O5]!=4))or(GetWidgetLife(h4[48+O5])<=.405)))thenset h4[48+O5]=nullendifif((J87(UQE,URE,GetLocationX(HC[32+O5]),GetLocationY(HC[32+O5]))<20.)and(Bz>P04))thenset G0[48+O5]=falseif(eY[O5]!=2)thenif((GZ[144+O5])and(JC7(it))and(KH7(700.,it,Condition(function KX))==0)and(((eY[O5]!=9 or eY[272+O5]!=3)and eY[O5]!=10 and eY[O5]!=11)or(KH7(700.,it,Condition(function KA))==0)))thencall ExecuteFunc("USE")elseset GZ[144+O5]=trueif((eY[O5]==3)or(eY[O5]==4))thencall IY7(it,O5)endifif(iU(it))thencall J3(it,true)endifendifelseif((GetUnitLifePercent(it)>90)and(GetUnitManaPercent(it)>90))thenif(GZ[144+O5])thenif(IsUnitAlly(it,Y7[0]))thencall T8E(it,O5,PP4)elsecall T8E(it,O5,PQ4)endifelseset GZ[144+O5]=trueendifendifelseif(GZ[144+O5])thenset GZ[144+O5]=falseendifcall MoveLocation(HC[32+O5],UQE,URE)if((eY[O5]==10)and(hq[432+O5]<Bz))thenset eY[O5]=1set h4[64+O5]=nullendifif((GZ[480+O5])and(eY[O5]!=4)and(eY[O5]!=2))thenset GZ[480+O5]=falseendifif((GZ[16+O5])and(hq[448+O5]<Bz)and(eY[256+O5]==GetUnitCurrentOrder(it)))thencall J3(it,true)set GZ[16+O5]=falseendifelseif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_NONE)and(IsUnitInForce(it,QP4)))thenif((is(it))and(GetUnitCurrentOrder(it)!=851983))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'Amov',true)call SetPlayerController(GetOwningPlayer(it),MAP_CONTROL_COMPUTER)call J3(it,true)endifendifset GZ[32+O5]=falseset GZ[400+O5]=falseendfunctionfunction UTE takes nothing returns nothinglocal integer O5=1local integer NW7local integer i=0local integer j=0local integer k=0local real UUElocal real UVElocal boolean UWE=falselocal string UXE=""local boolean UYE=(Bz>P04)local boolean UZE=(Bz>P04)set O5=1loopexitwhen O5>11if O5==6 thenset O5=7endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thencall GroupClear(iE)call GroupEnumUnitsOfPlayer(iE,Player(O5),ip)call ForGroup(iE,function UPE)if G7[O5]!=null thenset UUE=2+GetHeroAgi(G7[O5],true)*0.14set UVE=1set i=0loopexitwhen i>5set j=GetItemTypeId(UnitItemInSlot(G7[O5],i))if((j==OU[NV])or(j==OU[J1])or(j==OU[F6])or(j==OU[O0])or(j==OU[CV])or(j==OU[Y3])or(j==OU[V1])or(j==OU[DM4])or(j==OU[DB4])or(j==OU[DC4]))thenset UUE=UUE+5elseif((j==OU[ZW])or(j==OU[DY4])or(j==OU[DL4]))thenset UUE=UUE+10elseif(j==OU[JB])thenset UVE=UVE+0.25elseif(j==OU[DP4])thenset UVE=UVE+0.3endifset i=i+1endloopset UUE=(0.06*UUE)/(1.+0.06*UUE)set hq[752+O5]=(1/(1-UUE))*(UVE)endifif G7[O5]!=null and GetHeroLevel(G7[O5])<11 thenif IsPlayerAlly(Player(O5),Y7[0])thenset UZE=falseelseset UYE=falseendifendifset eY[80+O5]=JE7(O5)endifset O5=O5+1endloopif UYE and(not LP4)thenset LP4=trueset DG7=falseset O5=1loopexitwhen O5>5if R97(Y7[O5])thenset DG7=trueendifset O5=O5+1endloopif DG7 thenset O5=1loopexitwhen O5>5set NW7=GetPlayerId(Y7[O5])if LO4[16+NW7]thenset LO4[16+NW7]=falsecall NX7(JH4,"AI missing hero report is automatically turned |c00ff9090off|r.
Use "+EV7+"-aimsgmiss|r to re-enable.",Y7[O5])endifset O5=O5+1endloopendifendifif UZE and(not LQ4)thenset LQ4=trueset DG7=falseset O5=1loopexitwhen O5>5if R97(Z7[O5])thenset DG7=trueendifset O5=O5+1endloopif DG7 thenset O5=1loopexitwhen O5>5set NW7=GetPlayerId(Z7[O5])if LO4[16+NW7]thenset LO4[16+NW7]=falsecall NX7(K84,"AI missing hero report is automatically turned |c00ff9090off|r.
Use "+EV7+"-aimsgmiss|r to re-enable.",Z7[O5])endifset O5=O5+1endloopendifendifif((G1==0)and(not Ev)and(not Av))thenset G1=GetRandomInt(1,2)elseif((G1==1)and(not Rv)and(not av))thenif((Nv)or(Ov))thenset G1=2elseset G1=-1endifelseif((G1==2)and(not Nv)and(not Ov))thenif((Rv)or(av))thenset G1=1elseset G1=-1endifendifif((G2==0)and(not Bv)and(not Dv))thenset G2=GetRandomInt(1,2)elseif((G2==1)and(not bv)and(not Cv))thenif((cv)or(fv))thenset G2=2elseset G2=-1endifelseif((G2==2)and(not cv)and(not fv))thenif((bv)or(Cv))thenset G2=1elseset G2=-1endifendifset E07=EK7-EM7*Bzif E07<EN7 thenset E07=EN7endifcall S1E()if PU4 and G4==-1 thenset DI7=W7set i=1loopexitwhen i>5set O5=DR7[80+i]if O5!=-1 and G7[O5]!=null and GetWidgetLife(G7[O5])>.405 and(not J_7(G7[O5]))and eY[O5]==1 and h4[O5]==null and(Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5])and(GetHeroLevel(G7[O5])<PW4)and(GetHeroLevel(G7[O5])>=6)thenif(((eY[80+O5]==1 or eY[80+O5]==2)and DR7[112+eY[80+O5]]>2)or(eY[80+O5]==0 and DR7[112+eY[80+O5]]>1))and(DR7[112+eY[80+O5]]-DR7[118+eY[80+O5]]>=0)thenset j=0set k=-1loopexitwhen j>2if DR7[112+j]==0 thenset k=jexitwhen trueelseif DR7[112+j]==1 thenif k==-1 or GetRandomInt(1,2)==1 thenset k=jendifendifset j=j+1endloopif(k!=-1 and k!=eY[80+O5]and((k==0)or(eY[80+O5]==0)))and((k!=0 or(not P84))and(k!=1 or(not P94))and(k!=2 or(not P74))and((k==0)or(not P44)))thenif(k==1)thencall UME(G7[O5],h7[29+hc])call O87(G7[O5],DI7,"Heading left (auto)")elseif(k==2)thencall UME(G7[O5],h7[49+hC])call O87(G7[O5],DI7,"Heading right (auto)")elsecall UME(G7[O5],h7[9+hB])call O87(G7[O5],DI7,"Heading mid (auto)")endifcall OG7(G7[O5],DI7)set DR7[112+eY[80+O5]]=DR7[112+eY[80+O5]]-1set eY[80+O5]=kset DR7[112+eY[80+O5]]=DR7[112+eY[80+O5]]+1endifendifendifset i=i+1endloopendifif PV4 and G3==-1 thenset DI7=X7set i=1loopexitwhen i>5set O5=DR7[86+i]if O5!=-1 and G7[O5]!=null and GetWidgetLife(G7[O5])>.405 and(not J_7(G7[O5]))and eY[O5]==1 and h4[O5]==null and Bz>hq[576+O5]and(GetHeroLevel(G7[O5])<PX4)and(GetHeroLevel(G7[O5])>=6)thenif(((eY[80+O5]==1 or eY[80+O5]==2)and DR7[118+eY[80+O5]]>2)or(eY[80+O5]==0 and DR7[118+eY[80+O5]]>1))and(DR7[118+eY[80+O5]]-DR7[112+eY[80+O5]]>=0)thenset j=0set k=-1loopexitwhen j>2if DR7[118+j]==0 thenset k=jexitwhen trueelseif DR7[118+j]==1 thenif k==-1 or GetRandomInt(1,2)==1 thenset k=jendifendifset j=j+1endloopif k!=-1 and k!=eY[80+O5]and((k==0)or(eY[80+O5]==0))and((k!=0 or(not P84))and(k!=1 or(not P94))and(k!=2 or(not P74))and((k==0)or(not P44)))thenif(k==1)thencall UME(G7[O5],h7[139-hc])call O87(G7[O5],DI7,"Heading left (auto)")elseif(k==2)thencall UME(G7[O5],h7[159-hC])call O87(G7[O5],DI7,"Heading right (auto)")elsecall UME(G7[O5],h7[117-hB])call O87(G7[O5],DI7,"Heading mid (auto)")endifset DR7[118+eY[80+O5]]=DR7[118+eY[80+O5]]-1set eY[80+O5]=kset DR7[118+eY[80+O5]]=DR7[118+eY[80+O5]]+1endifendifendifset i=i+1endloopendifset O5=1loopexitwhen O5>11if O5==6 thenset O5=7endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thenset UWE=falseif G7[O5]!=null and GetWidgetLife(G7[O5])>.405 thenif JL7(G7[O5])thenif h4[176+O5]==null or J77(G7[O5],h4[176+O5])>3000. or GetWidgetLife(h4[176+O5])>0 thenset EJ7=nullset i=1loopexitwhen EJ7!=null or i>5if IsPlayerAlly(Player(O5),Y7[0])thenset NW7=GetPlayerId(Z7[i])elseset NW7=GetPlayerId(Y7[i])endifif G7[NW7]!=null and GetWidgetLife(G7[NW7])>.405 and R97(Player(NW7))thenif J77(G7[NW7],G7[O5])<1800. thenset EJ7=G7[NW7]endifendifset i=i+1endloopif EJ7!=null thenset h4[176+O5]=EJ7endifendifset DT7[48+O5]=GetUnitX(G7[O5])set DT7[64+O5]=GetUnitY(G7[O5])set eY[336+O5]=eY[80+O5]if eY[240+O5]<R2I(Bz)thenset EJ7=h4[176+O5]if EJ7==null thenset EJ7=h4[192+O5]endifif EJ7!=null thenset NW7=GetPlayerId(GetOwningPlayer(EJ7))set UWE=trueset UXE="|r"+K[NW7]+M74[NW7]+"|r: Sighted"+IQ7(eY[80+O5],true)+" - "+K[O5]+GetUnitName(G7[O5])+"|r"set h4[192+O5]=nullendifendifset eY[240+O5]=R2I(Bz)+EI7elseif eY[240+O5]<R2I(Bz)and h4[176+O5]!=null thenset NW7=GetPlayerId(GetOwningPlayer(h4[176+O5]))set UWE=trueset UXE="|r"+K[NW7]+M74[NW7]+"|r: Missing"+IQ7(eY[336+NW7],true)+" - "+K[O5]+GetUnitName(G7[O5])+"|r"set h4[192+O5]=h4[176+O5]set h4[176+O5]=nullendifelseset h4[176+O5]=nullendifif UWE thencall TriggerSleepAction(0.4)if IsPlayerAlly(Player(O5),Y7[0])thenset DI7=X7elseset DI7=W7endifif LO4[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),DI7)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,UXE)call OF7(DI7,DT7[48+O5],DT7[64+O5],NW7)endifendifendifset O5=O5+1endloopset DI7=nullendfunctionfunction UAE takes nothing returns nothinglocal unit H57=MZ7(GetHandleId(GetTriggeringTrigger()),"Unit")local unit UBE=nulllocal boolean IU7=IsUnitAlly(H57,Y7[0])local integer O5=0local integer j=0local integer i=0local integer k=0local integer Q0E=0local integer UPlocal boolean KT7=falselocal real UCE=0if(GetWidgetLife(H57)<.405 or VI8(H57))or((not((IU7 and PU4)or((not IU7)and PV4))))or(P44)or(H57==null)or(N47(GetHandleId(H57),"DefCD")>Bz)thenset H57=nullreturnendifif((H57==JV4)or(H57==JY4)or(H57==KG4)or(H57==KJ4))and(not P84)thenset j=0elseif((H57==JU4)or(H57==JX4)or(H57==KF4)or(H57==KI4))and(not P94)thenset j=1elseif(H57==JW4)or(H57==JZ4)or(H57==KH4)or(H57==KK4)and(not P74)thenset j=2elseset H57=nullreturnendifcall M97(GetHandleId(H57),"DefCD",Bz+1.)set DG7=falseset bj_lastLoadedUnit=nullset UCE=9999999call GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(H57),GetUnitY(H57),1800.,QA4)loopset UBE=FirstOfGroup(H8)exitwhen UBE==nullcall GroupRemoveUnit(H8,UBE)set O5=GetPlayerId(GetOwningPlayer(UBE))set i=GetUnitTypeId(UBE)if((GetUnitAbilityLevel(UBE,'A04R')!=0 and((i=='umtw' or i=='u00R')or(i=='ebal' or i=='e026'))==false)or GetUnitAbilityLevel(UBE,'Aloc')!=0 or GetWidgetLife(UBE)<50.)thenelseif O5==12 or O5>14 thenelseif not(IsUnitType(UBE,UNIT_TYPE_MELEE_ATTACKER)or IsUnitType(UBE,UNIT_TYPE_RANGED_ATTACKER))thenelseset i=GetUnitTypeId(UBE)set UP=0if IsUnitType(UBE,UNIT_TYPE_HERO)and i!='H00J' thenif(IsUnitAlly(UBE,Y7[0])==IU7)thenset DG7=trueset DD7=J77(H57,UBE)if DD7<UCE and R97(Player(O5))thenset bj_lastLoadedUnit=UBEset UCE=DD7endifelseset k=k+1endifelseif O5!=GetPlayerId(Y7[0])and O5!=GetPlayerId(Z7[0])thenset UP=3elseif(i=='ugho' or i=='unec')or(i=='u001' or i=='u002')or(i=='esen' or i=='edry')or(i=='e00V' or i=='e00W')thenset UP=1elseif(i=='umtw' or i=='u00R')or(i=='ebal' or i=='e026')thenset UP=3elseset UP=5endifendifif(IsUnitAlly(UBE,Y7[0])==IU7)thenset Q0E=Q0E-UPelseset Q0E=Q0E+UPendifendifendloopset Q0E=Q0E+IMaxBJ(600-R2I(GetWidgetLife(H57)),0)/30if(not DG7)and(k==0)and(Q0E>D37)thenset k=k+1endifcall S1E()set k=k-DR7[112+ID7(IU7,0,6)+j]if k<=0 thenset H57=nullreturnendifif bj_lastLoadedUnit!=null and GetWidgetLife(H57)<E97 thenif Bz>N47(GetHandleId(H57),"PingCD")thencall M97(GetHandleId(H57),"PingCD",Bz+30.)if IU7 thencall OF7(W7,GetUnitX(H57),GetUnitY(H57),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))elsecall OF7(X7,GetUnitX(H57),GetUnitY(H57),GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit)))endifendifendifif(H57==KG4)thenset UBE=h7[14]elseif(H57==KF4)thenset UBE=h7[35]elseif(H57==KH4)thenset UBE=h7[57]elseif(H57==KJ4)thenset UBE=h7[16]elseif(H57==KI4)thenset UBE=h7[37]elseif(H57==KK4)thenset UBE=h7[58]elseif(H57==KN4)thenset UBE=h7[17]elseif(H57==KM4)thenset UBE=h7[39]elseif(H57==KO4)thenset UBE=h7[59]elseif(H57==JV4)thenset UBE=h7[14]elseif(H57==JU4)thenset UBE=h7[34]elseif(H57==JW4)thenset UBE=h7[55]elseif(H57==JY4)thenset UBE=h7[12]elseif(H57==JX4)thenset UBE=h7[33]elseif(H57==JZ4)thenset UBE=h7[52]elseif(H57==JB4)thenset UBE=h7[11]elseif(H57==JA4)thenset UBE=h7[31]elseif(H57==JC4)thenset UBE=h7[51]endifset i=1set Q0E=ID7(IU7,0,6)set KT7=falseloopexitwhen(i>5)set O5=DR7[80+Q0E+i]if O5!=-1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER thenset DR7[96+O5]=0set UP=JD7(G7[O5])set bj_lastLoadedUnit=G7[O5]if(G7[O5]==null)or((eY[O5]!=1 or(GetUnitCurrentOrder(G7[O5])==851986 and G0[48+O5]==false))and eY[O5]!=10)or(GetWidgetLife(G7[O5])<.405)or(J_7(G7[O5]))thenelseif(UP==j)thenset h4[144+O5]=H57set hq[320+O5]=Bz+10.set hq[480+O5]=Bz+45.set hq[576+O5]=Bz+EO7set h9[64+O5]=H57elseif(Bz<hq[320+O5])or(Bz<hq[528+O5])or(h4[O5]!=null)or(UP!=0 and j!=0)or(X54[O5]==X_4)or(GetHeroLevel(G7[O5])<D07)or(GetUnitLifePercent(G7[O5])<50.)thenelseset DR7[96+O5]=1endifendifset i=i+1endlooploopexitwhen(i>15 or k==0)if i>5 thenset O5=DR7[80+Q0E+i-5]elseif i>10 thenset O5=DR7[80+Q0E+i-10]elseset O5=DR7[80+Q0E+i]endifif O5!=-1 and DR7[96+O5]==1 and GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER thenif(i<5)and(Bz>hq[576+O5])thenelseif(i<=10)and((IU7 and((DR7[112+UP]-DR7[118+UP]<0)or(DR7[112+UP]<=1)))or((not IU7)and((DR7[118+UP]-DR7[112+UP]<0)or(DR7[118+UP]<=1))))thenelseset DR7[96+O5]=1set bj_lastCreatedUnit=KF7(1200.,jv(G7[O5]),Condition(function KI7))if((bj_lastCreatedUnit==null)or(GetWidgetLife(bj_lastCreatedUnit)>300.))thenset DG7=falseset hq[320+O5]=Bz+1.set hq[480+O5]=Bz+1.set hq[576+O5]=Bz+1.if KH7(1500.,G7[O5],Condition(function P87))==0 thenset DG7=OO7(G7[O5],H57)if DG7 thencall UME(G7[O5],UBE)endifendifif not DG7 thenif(j==0)thenset DG7=(UP!=0)elseif(j==1)thenset DG7=(UP!=1)elseset DG7=(UP!=2)endifif(DG7)thencall UME(G7[O5],UBE)set h8[144+O5]=H57endifendifif(DG7)thenset k=k-1set h4[144+O5]=H57set hq[528+O5]=Bz+10.set hq[320+O5]=Bz+10.set hq[576+O5]=Bz+EO7set hq[480+O5]=Bz+60.set h9[64+O5]=H57set DR7[112+Q0E+UP]=DR7[112+Q0E+UP]-1if eY[O5]==10 thenset eY[O5]=1endifset KT7=trueendifendifendifendifset i=i+1endloopif KT7 thencall M97(GetHandleId(H57),"DefCD",Bz+15.)endifset H57=nullset UBE=nullendfunctionfunction U3E takes nothing returns booleanreturn((GetWidgetLife(GetTriggerUnit())>50.)and(OB7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),Y7[0])))endfunctionfunction U6E takes nothing returns booleanreturn((GetWidgetLife(GetTriggerUnit())>50.)and(OB7(GetTriggerUnit()))and(IsUnitEnemy(GetTriggerUnit(),Z7[0])))endfunctionfunction ULE takes unit H57 returns triggerlocal trigger t=CreateTrigger()if GetOwningPlayer(H57)==Y7[0]thencall TriggerRegisterUnitInRange(t,H57,1200.,Condition(function U3E))elsecall TriggerRegisterUnitInRange(t,H57,1200.,Condition(function U6E))endifcall TriggerAddAction(t,function UAE)call MF7(GetHandleId(t),"Unit",H57)return tendfunctionfunction U1E takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer k=0local integer i=0local boolean U0E=falselocal unit H57=nulllocal player pl=GetOwningPlayer(it)local boolean U5E=falselocal integer U2Elocal boolean U_E=falselocal boolean KT7=falselocal boolean V4E=IsUnitInRange(it,K67(it),5000.)local boolean V7E=falseset i=GetUnitTypeId(it)if R97(pl)and((i=='H00R')or(i=='H07I')or(i=='U006')or(i=='Uktl'))thenset V7E=trueset GZ[O5]=trueendifset i=0call GroupClear(H8)call GroupClear(iA)call GroupClear(H9)call GroupEnumUnitsInRange(iA,GetUnitX(it),GetUnitY(it),1800.,null)loopset H57=FirstOfGroup(iA)exitwhen H57==nullcall GroupRemoveUnit(iA,H57)if not IsUnitIllusion(H57)thencall GroupAddUnit(H8,H57)endifif(not U5E)and IsUnitType(H57,UNIT_TYPE_HERO)and IsUnitEnemy(H57,pl)and GetWidgetLife(H57)>.405 and eY[32+GetPlayerId(GetOwningPlayer(H57))]>0 thenset U5E=truecall GroupEnumUnitsInRange(H9,GetUnitX(H57),GetUnitY(H57),1200.,null)call GroupAddGroup(H9,H8)endifendloopset h4[304+O5]=nullloopset H57=FirstOfGroup(H8)exitwhen(H57==null)if(GetWidgetLife(H57)<=.405)thenelseif J_7(H57)thenelseif(IsUnitType(H57,UNIT_TYPE_HERO))thenif(IsUnitEnemy(H57,pl))thenif((not IsUnitInRange(it,H57,600.))or(kD(H57)))and(eY[32+GetPlayerId(GetOwningPlayer(H57))]==0)thenelseif(GetUnitTypeId(H57)!='H00J')thenset k=k-1set KT7=trueif(V7E)and(GetUnitTypeId(H57)=='Otch')thenset GZ[O5]=falseendifelseif(not U_E)thenset U_E=trueendifelseif IsUnitInRange(H57,it,1200.)or V4E thenif((GetUnitTypeId(H57)!='H00J')and(H57!=it)and(not J_7(H57)))thenset k=k+1set i=i+1endifendifelseif((IsUnitType(H57,UNIT_TYPE_STRUCTURE)and IsUnitType(H57,UNIT_TYPE_RANGED_ATTACKER))and(J77(H57,it)<1000.)and(H07(it)<2000.))thenif(IsUnitEnemy(H57,pl))thenset k=k-1set h4[304+O5]=H57elseif IsUnitAlly(H57,pl)thenset k=k+1endifendifcall GroupRemoveUnit(H8,H57)endloopif(U_E)thenset k=k-1set U0E=trueendifset eY[320+O5]=kif not KT7 thenset h4[304+O5]=nullendifset KT7=IsUnitAlly(it,Y7[0])set k=1loopexitwhen k>5if KT7 thenset H57=G7[GetPlayerId(Y7[k])]elseset H57=G7[GetPlayerId(Z7[k])]endifif H57!=null and GetWidgetLife(H57)>.405 thenset i=i-1endifset k=k+1endloopset GZ[208+O5]=(i>=-1)return U0Eendfunctionfunction V8E takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer kc=0local boolean J4=falselocal boolean U0E=falselocal player pl=GetOwningPlayer(it)local integer UPset U0E=U1E(it)if K47(O5)thenset pl=nullreturn falseendifif(J77(it,K67(it))<600.)thenset kc=0elseset kc=-eY[320+O5]if(not G0[128+O5])thenset kc=kc+1endifif((GetUnitLifePercent(it)<70.)or(IC(O5)))thenset kc=kc+1endifif(eY[O5]==3 or eY[O5]==4)thenset kc=kc-1endifendifset G0[144+O5]=U0Eif(kc>2)and(eY[O5]<9)and(h4[O5]==null or(not J57(h4[O5],it)))thenset h4[O5]=nullset GZ[128+O5]=falseset G0[128+O5]=falseset G0[256+O5]=falseset hq[496+O5]=Bz+3.if(is(it))thencall jW(it,851986,h9[O5])endifset J4=trueelseif kc>1 thenset G0[256+O5]=falseelseset G0[128+O5]=trueset G0[256+O5]=trueendifset pl=nullreturn J4endfunctionfunction V9E takes nothing returns booleanreturn((not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and(OB7(GetFilterUnit())))endfunctionfunction VDE takes nothing returns nothinglocal unit it=MZ7(GetHandleId(GetTriggeringTrigger()),"Unit")local unit m5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal string UXEif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset UP=KH7(1250.,m5,Condition(function V9E))if(eY[O5]==9)thencall R17(it)endifif((GetHeroLevel(it)<6)or((not Id(O5))and(Bz>hq[512+O5])))thenif((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*40)))and(UP<3))thenset h4[O5]=nullset GZ[128+O5]=falsecall UFE(it,false)elseif((GetUnitLifePercent(m5)>20.)and((UP<1)or(((OC7(it))or(GetHeroLevel(it)<10))and(UP<2))))thencall UFE(it,true)endifelseif(J_7(it))thenset h4[O5]=nullset GZ[128+O5]=falsecall UFE(it,false)endifif(GetUnitAbilityLevel(m5,'Avul')>0)thencall SYE(it,-1)elseset h4[128+O5]=m5endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,Player(O5)))thencall V8E(it)if(iy(it))thenset h4[160+O5]=m5endifset UP=GetPlayerId(GetOwningPlayer(m5))if(R97(Player(O5)))and(eY[240+UP]<R2I(Bz))thenset UXE="|r"+K[O5]+M74[O5]+"|r: Sighted"+IQ7(JE7(O5),true)+" - "+K[UP]+GetUnitName(m5)+"|r"set h4[192+UP]=nullset eY[240+UP]=R2I(Bz)+EI7call TriggerSleepAction(0.4)if IsUnitAlly(it,Y7[0])thenset DI7=W7elseset DI7=X7endifif LO4[16+GetPlayerId(GetLocalPlayer())]and IsPlayerInForce(GetLocalPlayer(),DI7)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,UXE)call OF7(DI7,GetUnitX(m5),GetUnitY(m5),O5)endifendifendifset it=nullset m5=nullendfunctionfunction VEE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(J07(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Y7[0])))endfunctionfunction VFE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(J07(GetTriggerUnit()))and(IsUnitAlly(GetTriggerUnit(),Z7[0])))endfunctionfunction VGE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(J07(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==Y7[0])and((GetUnitTypeId(GetTriggerUnit())=='e00R')or(GetUnitTypeId(GetTriggerUnit())=='e011')or(GetUnitTypeId(GetTriggerUnit())=='e00S')or(GetUnitTypeId(GetTriggerUnit())=='e019')))endfunctionfunction VHE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(J07(GetTriggerUnit()))and(GetOwningPlayer(GetTriggerUnit())==Z7[0])and((GetUnitTypeId(GetTriggerUnit())=='u00M')or(GetUnitTypeId(GetTriggerUnit())=='u00D')or(GetUnitTypeId(GetTriggerUnit())=='u00N')or(GetUnitTypeId(GetTriggerUnit())=='u00T')))endfunctionfunction VIE takes unit it returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(it))if(QY4[32+O5]!=null)thencall K_7(GetHandleId(QY4[32+O5]))call DestroyTrigger(QY4[32+O5])endifset QY4[32+O5]=CreateTrigger()call MF7(GetHandleId(QY4[32+O5]),"Unit",it)if(IsUnitAlly(it,Y7[0]))thencall TriggerRegisterUnitInRange(QY4[32+O5],it,1000.,Condition(function VFE))call TriggerRegisterUnitInRange(QY4[32+O5],it,1000.,Condition(function VHE))elsecall TriggerRegisterUnitInRange(QY4[32+O5],it,1000.,Condition(function VEE))call TriggerRegisterUnitInRange(QY4[32+O5],it,1000.,Condition(function VGE))endifcall TriggerAddAction(QY4[32+O5],function VDE)if(QY4[64+O5]!=null)thencall K_7(GetHandleId(QY4[64+O5]))call DestroyTrigger(QY4[64+O5])endifset QY4[64+O5]=CreateTrigger()call MF7(GetHandleId(QY4[64+O5]),"Unit",it)call TriggerAddAction(QY4[64+O5],function U9E)endfunctionfunction VJE takes nothing returns nothingcall U1E(MZ7(GetHandleId(GetTriggeringTrigger()),"Unit"))endfunctionfunction PFE takes nothing returns nothinglocal unit H57=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(H57))if(QY4[32+O5]!=null)thencall K_7(GetHandleId(QY4[32+O5]))call DestroyTrigger(QY4[32+O5])endifset QY4[32+O5]=CreateTrigger()call MF7(GetHandleId(QY4[32+O5]),"Unit",H57)if(IsUnitAlly(H57,Y7[0]))thencall TriggerRegisterUnitInRange(QY4[32+O5],H57,1000.,Condition(function VFE))elsecall TriggerRegisterUnitInRange(QY4[32+O5],H57,1000.,Condition(function VEE))endifcall TriggerAddAction(QY4[32+O5],function VJE)set H57=nullendfunctionfunction xh takes nothing returns nothinglocal trigger t=CreateTrigger()local unit it=GetTriggerUnit()call MF7(GetHandleId(t),"Unit",it)if(IsUnitAlly(it,Y7[0]))thencall TriggerRegisterUnitInRange(t,it,1000.,Condition(function VFE))call TriggerRegisterUnitInRange(t,it,1000.,Condition(function VHE))elsecall TriggerRegisterUnitInRange(t,it,1000.,Condition(function VEE))call TriggerRegisterUnitInRange(t,it,1000.,Condition(function VGE))endifcall TriggerAddAction(t,function VDE)set it=nullendfunctionfunction VKE takes player VME,string kf returns nothingif(M37(GetHandleId(VME),kf)!=null)thencall K_7(GetHandleId(M37(GetHandleId(VME),kf)))call DestroyTrigger(M37(GetHandleId(VME),kf))call MF7(GetHandleId(VME),kf,null)endifendfunctionfunction VNE takes unit it returns nothinglocal player pl=GetOwningPlayer(it)local integer kg=1local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer VOE=0local boolean VPE=falsecall PDE(O5,it,i1)if(i1=='H00V')or(i1=='EC77')or(i1=='E004')or(i1=='U00P')or(i1=='Nbrn')or(i1=='Emoo')or(i1=='N01A')or(i1=='H00Q')thencall ExecuteFunc("VQE")elseif(i1=='E01B')thencall MO7(GetHandleId(GetOwningPlayer(it)),"MGrp",CreateGroup())elseif(i1=='H00I')thencall ExecuteFunc("VRE")elseif(i1=='Hblm')thencall ExecuteFunc("VSE")elseif(i1=='O00P')thencall ExecuteFunc("VTE")elseif(i1=='H00A')thencall ExecuteFunc("VUE")elseif(i1=='Hamg')thenset HC[240+O5]=Location(0.,0.)elseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thenset hG[256+O5]=0call ExecuteFunc("VVE")endifif false thenif(i1=='Otch')thencall VS7(it,'A0SK')endifif(i1=='Hblm')thencall VS7(it,'A085')endifif(i1=='Emns')thencall VS7(it,'A1W8')endifif(i1=='UC18')thencall VS7(it,'A0X5')endifif(i1=='U000')thencall VS7(it,'A0X7')endifif(i1=='E002')thencall VS7(it,'A1DP')endifif(i1=='U00F')thencall VS7(it,'A06I')endifif(i1=='U00K')thencall VS7(it,'A06O')endifif(i1=='E01B')thencall VS7(it,'A0HW')endifif(i1=='H00I')thencall VS7(it,'A0N8')endifif(i1=='N00R')thencall VS7(it,'A0R0')endifendifif(i1=='H00U')or(i1=='Hvwd')thenset EU[O5]=GetRandomInt(1,3)endifcall M87(GetHandleId(Player(O5)),"AI|Class",IK7(i1))set H47[O5]=trueset H47[112+O5]=falsecall RVE(O5,it,false)if((not W)and GetUnitName(it)!="Bloodrune")thenif(S04==false)thenif(not BK4)thenset M74[GetPlayerId(pl)]=I2S(i5(pl))+H27(pl)+TQ7(it)call SetPlayerName(pl,S57(pl))endifelseif(SubString(M74[GetPlayerId(pl)],3,11)=="Computer" or SubString(M74[GetPlayerId(pl)],4,12)=="Computer")thenloopif(P9E(it))thenset VOE=GetRandomInt(1,25)elseset VOE=GetRandomInt(26,119)endifif(S14[VOE]!="")thenset M74[GetPlayerId(pl)]="+"+S14[VOE]call SetPlayerName(pl,S57(pl)+" ("+TP7(it)+")")set S14[VOE]=""set VPE=trueendifexitwhen(VPE)endloopendifendifelseif(Bz<150.)and GetUnitName(it)!="Bloodrune" thenset M74[GetPlayerId(pl)]=I2S(i5(pl))+H27(pl)+" Computer"call SetPlayerName(pl,S57(pl)+" ("+TP7(G7[GetPlayerId(pl)])+")")elseset pl=nullreturnendifif(Q_7(pl))thenloopexitwhen(M7[kg]==pl)or(kg>5)set kg=kg+1endloopcall MultiboardSetItemValueBJ(E4,1,(kg+2),(K[GetPlayerId(pl)]+(S57(pl)+"|r")))elseloopexitwhen(O7[kg]==pl)or(kg>5)set kg=kg+1endloopcall MultiboardSetItemValueBJ(E4,1,(kg+3+IG4),(K[GetPlayerId(pl)]+(S57(pl)+"|r")))endifset pl=nullendfunctionfunction UD takes nothing returns nothinglocal unit RA7=GetTriggerUnit()call VKE(GetOwningPlayer(RA7),"HasAtkM")call VKE(GetOwningPlayer(RA7),"HasMM")call VKE(GetOwningPlayer(RA7),"HasAM")call VKE(GetOwningPlayer(RA7),"HasOrb")call VNE(RA7)call VIE(RA7)set RA7=nullendfunctionfunction Uf takes nothing returns nothinglocal unit RA7=MZ7(QC4,"AIHSwap|U")call VKE(GetOwningPlayer(RA7),"HasAtkM")call VKE(GetOwningPlayer(RA7),"HasMM")call VKE(GetOwningPlayer(RA7),"HasAM")call VKE(GetOwningPlayer(RA7),"HasOrb")call VNE(RA7)call VIE(RA7)set RA7=nullendfunctionfunction VWE takes nothing returns booleanlocal integer O5=1local unit m5=nullif not IsUnitType(GetDyingUnit(),UNIT_TYPE_HERO)thenreturn falseendifset m5=GetDyingUnit()loopexitwhen O5>11if O5==6 thenset O5=7endifif R97(Player(O5))thenif h4[O5]==m5 thenset h4[O5]=nullif GZ[208+O5]thenset h4[O5]=QJ7(800.,G7[O5])endifcall J3(h4[O5],false)endifendifset O5=O5+1endloopset m5=nullreturn falseendfunctionfunction VXE takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(IsUnitInForce(GetTriggerUnit(),QP4))and(GetUnitTypeId(GetAttacker())!='umtw')and(GetUnitTypeId(GetAttacker())!='ebal')and(GetUnitTypeId(GetAttacker())!='u00R')and(GetUnitTypeId(GetAttacker())!='e026')and(OB7(GetTriggerUnit())))endfunctionfunction VYE takes nothing returns nothinglocal unit m5=GetTriggerUnit()local unit OP7=GetAttacker()local integer O5=GetPlayerId(GetOwningPlayer(m5))local integer i1=GetUnitTypeId(m5)if K47(O5)thenset m5=nullset OP7=nullreturnendifif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(not G0[O5])and(i1!='H00J'))thenif(((GetUnitLifePercent(OP7)>10.)or(KH7(800.,OP7,Condition(function k0))>1)or(R2I(GetWidgetLife(m5))<(500+(GetHeroLevel(m5)*30)))or(not Id(O5)))and(not K47(O5)))thenif((eY[320+O5]>=0)and(hq[720+O5]>-0.05))thenelseif((not JC7(m5))and(((i1!='Hblm')and(i1!='Orkn'))or(GetUnitCurrentOrder(m5)!=852600))and((i1!='E01C')or(GetUnitCurrentOrder(m5)!=852089))and((i1!='UC18')or(GetUnitCurrentOrder(m5)!=852487)))thenelseif(((H07(m5)>1500.)and(hq[720+O5]>-0.05)and(GetHeroLevel(m5)>10))or(((i1=='EC45')or(i1=='U00K'))and(GZ[384+O5])and(not J_7(m5)))or(GZ[256+O5]))thenelseif((GetHeroLevel(m5)>6)and(GetUnitAbilityLevel(OP7,'Avul')==0)and(Id(O5))and(GetUnitState(m5,UNIT_STATE_LIFE)>500+(GetHeroLevel(m5)*30)))thenelseif(h4[O5]!=null and J_7(h4[O5])and(hq[720+O5]>-0.1)and G0[256+O5])thenelsecall jW(m5,851986,h9[O5])if((h4[O5]!=null)and((GetHeroLevel(m5)<6)or(J_7(m5))or(not Id(O5))))thenset h4[O5]=nullendifset G0[O5]=truecall TriggerSleepAction(1.)if((J07(m5))and(J07(OP7))and(IsUnitInRange(m5,OP7,1200.))and(G0[O5]))thencall TriggerSleepAction(1.)endifset G0[O5]=falseif((J07(m5))and(J07(OP7))and(GetUnitCurrentOrder(m5)==851986)and(not IsUnitInRange(m5,OP7,1300.))and(KH7(800.,OP7,Condition(function k5))>1))thencall J3(m5,true)endifendifelseif((not Id(O5))and(JC7(m5)))thencall IssueTargetOrderById(m5,851983,OP7)endifelseif((i1=='H00J')or(i1=='u014')or(i1=='u015')or(i1=='u016')or(i1=='u01D')or(i1=='u01E')or(i1=='u01F')or(i1=='e00K')or(i1=='e00I')or(i1=='e00L')or(i1=='n027')or((GetUnitTypeId(G7[O5])=='H00A')and(i1!='H00A')))thencall jW(m5,851986,h9[16+O5])set G0[16+O5]=truecall I17(1.)if((J07(m5))and(J07(OP7))and(IsUnitInRange(m5,OP7,1300.)))thencall jW(m5,851986,h9[16+O5])endifset G0[16+O5]=falseendifset m5=nullset OP7=nullendfunctionfunction VZE takes nothing returns booleanreturn((IsUnitInForce(GetTriggerUnit(),QP4))and(IsUnitAlly(GetTriggerUnit(),Y7[0]))and(OB7(GetTriggerUnit())))endfunctionfunction VAE takes nothing returns booleanreturn((IsUnitInForce(GetTriggerUnit(),QP4))and(IsUnitAlly(GetTriggerUnit(),Z7[0]))and(OB7(GetTriggerUnit())))endfunctionfunction VBE takes unit SBE returns nothingloopcall jW(GetTriggerUnit(),851986,h9[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])call TriggerSleepAction(0.3)exitwhen((not J07(GetTriggerUnit()))or(not J07(SBE))or(not IsUnitInRange(GetTriggerUnit(),SBE,1200.)))endloopendfunctionfunction VCE takes nothing returns nothingif((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit())))thenset GZ[128+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=falseset h4[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]=nullif(IsUnitAlly(GetTriggerUnit(),Z7[0]))thencall VBE(JH4)elsecall VBE(K84)endifelseif(not IsUnitIllusion(GetTriggerUnit()))thencall jW(GetTriggerUnit(),851986,h9[16+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))])endifendfunctionfunction V3E takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(GetUnitCurrentOrder(GetTriggerUnit())!=851986)and(not IsUnitType(GetAttacker(),UNIT_TYPE_STRUCTURE))and(not IsUnitType(GetAttacker(),UNIT_TYPE_HERO)))endfunctionfunction V6E takes nothing returns nothinglocal unit it=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPif((Bz<hq[288+O5])or(not is(it))or((G0[224+O5]or Bz<hq[672+O5])and J_7(it)==false))thenset it=nullreturnelseif K47(O5)thenset it=nullreturnendifset hq[288+O5]=Bz+1.set hq[496+O5]=Bz+1.5call MoveLocation(Ha,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))set bj_lastLoadedUnit=I47(IsUnitAlly(it,Y7[0]),JH4,K84)set DD7=J77(it,bj_lastLoadedUnit)if KG7(150.,Ha,Condition(function k0))>6 thencall UFE(it,true)elseif(DD7<900. and DD7+IX7(it)>650.)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))thencall jW(it,851986,bj_lastLoadedUnit)elseif(((eY[O5]==3)or(eY[O5]==4))and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(GetUnitCurrentOrder(it)==851983)and(not GZ[48+O5])and(J77(it,K67(it))<6500.))thenif((Bz<hq[784+O5])or(hq[720+O5]<-EU7)or((KG7(1000.,Ha,Condition(function P47))==0)and(KG7(700.,Ha,Condition(function k5))==0)and(KG7(600.,Ha,Condition(function k0))>3)))thencall jW(it,851986,bj_lastLoadedUnit)set G0[48+O5]=trueset hq[768+O5]=Bz+1.set hq[784+O5]=Bz+5.endifendifif((not(IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER)))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))thenif(not J_7(it))thenif((eY[O5]<10)and((R2I(GetUnitState(it,UNIT_STATE_LIFE))<(550+(GetHeroLevel(it)*40)))or((GetHeroLevel(it)<10)and(IsUnitType(GetAttacker(),UNIT_TYPE_MELEE_ATTACKER)))))thencall UFE(it,true)endifelsecall OI7(it,false)endifelseif((IsUnitType(it,UNIT_TYPE_MELEE_ATTACKER))and(not GZ[128+O5])and(h4[O5]==null)and(iU(it))and(hq[512+O5]<Bz))thenif(not J_7(it))thenif((eY[O5]<10)and(GetUnitLifePercent(it)<60.)and((KH7(300.,GetTriggerUnit(),Condition(function k5))<3)))thenif(not(KJ7(it,OU[DM4]))and(not(KJ7(it,OU[V1])))and(not(KJ7(it,OU[A1])))and((GetUnitAbilityLevel(it,'BUav')==0)or(GetUnitAbilityLevel(it,'B026')==0)or(GetUnitAbilityLevel(it,'B01E')==0))and((KH7(1000.,it,Condition(function P47))>0)or(KH7(900.,it,Condition(function PF7))>0)))thencall UFE(it,true)endifendifelsecall OI7(it,false)endifelseif((J_7(it))and(not Id(O5)))thencall OI7(it,true)elseif((GetHeroLevel(it)<6)or((GetUnitLifePercent(it)<60.)and(R2I(GetUnitState(it,UNIT_STATE_LIFE))<(400+(GetHeroLevel(it)*50)))and((h4[O5]==null)or(GetUnitState(h4[O5],UNIT_STATE_LIFE)>(GetUnitState(it,UNIT_STATE_LIFE)+(15.*GetHeroLevel(it)))))))thenif((GetHeroLevel(it)<3)or(KH7(500.,GetTriggerUnit(),Condition(function k0))>2))thenset GZ[128+O5]=falsecall UFE(it,true)endifelseif(GetUnitTypeId(it)=='H00K')and(h4[O5]==null)and(J77(it,h9[48+O5])>700)thenset UP=GetUnitCurrentOrder(it)if(UP==852278 or UP==852114 or UP==852504)thencall UFE(it,true)endifendifendifset it=nullendfunctionfunction VLE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetAttacker()))if(R97(Player(O5)))and(GetUnitAbilityLevel(GetAttacker(),'B06L')>0)and(Bz>SL4[64+O5])and(h4[O5]==GetTriggerUnit())thencall IssuePointOrderById(G7[O5],852185,GetUnitX(GetAttacker()),GetUnitY(GetAttacker()))endifendfunctionfunction V1E takes nothing returns booleanif not((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))))thenreturn falseelseif IsUnitIllusion(GetAttacker())thencall VLE()return falseendifendifreturn(IsUnitType(GetAttacker(),UNIT_TYPE_HERO))endfunctionfunction V0E takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hz)))and(hZ!=GetFilterUnit())and(hz!=GetFilterUnit())and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not J_7(GetFilterUnit())))endfunctionfunction V5E takes nothing returns nothingif((not IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO))and(kn(GetEnumUnit()))and(GetUnitCurrentOrder(GetEnumUnit())!=851986)and(IsUnitInRange(GetEnumUnit(),hz,1200.)))thencall IssueTargetOrderById(GetEnumUnit(),851983,hz)endifendfunctionfunction V2E takes unit H57,unit V_E returns nothinglocal integer NW7=GetPlayerId(GetOwningPlayer(H57))local integer O5local unit UBE=nulllocal boolean J4=falselocal integer i=0local integer TJE=0local integer j=0local integer k=0local boolean W4E=falselocal unit W7E=nulllocal boolean KT7=falselocal boolean IU7if((GetWidgetLife(V_E)>1.)and(H57!=null)and(Bz>hq[416+NW7]or(Bz+2.>hq[416+NW7]and(J_7(H57)or K47(NW7)))))thenset hq[416+NW7]=Bz+5.set k=GetRandomInt(-1,1)if k<0 thenset k=0endifif J_7(H57)thenset k=k+1endifset IU7=IsUnitAlly(H57,Y7[0])set TJE=ID7(IU7,0,6)set W7E=I47(IU7,JH4,K84)set W4E=IsUnitInRange(H57,W7E,6000.)set i=1loopexitwhen(i>5)set O5=DR7[80+TJE+i]if(O5!=-1)and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)thenset UBE=G7[O5]set bj_lastLoadedUnit=UBEset hq[416+O5]=Bz+2.set J4=falseset KT7=falseif(UBE==null)or(J_7(UBE))or GetWidgetLife(UBE)<.405 thenelseif((G0[O5])or(hq[480+O5]>Bz))or(h4[O5]!=null and h4[O5]!=V_E and(J77(H57,h4[O5])+300<J77(H57,V_E)))thenelseif(not W4E)and(eY[O5]==3 or eY[O5]==4 or Bz<hq[528+O5])thenelseif(W4E and eY[O5]!=2 and IsUnitInRange(UBE,W7E,6000.))thenset J4=trueelseif((IsUnitInRange(H57,UBE,3000.))or(eY[80+O5]==eY[80+NW7]))and((hq[624+NW7]>Bz)or(GetUnitLifePercent(H57)<60.))thenset J4=trueelseif(Bz>hq[320+O5]and(eY[O5]!=9 or(GetUnitLifePercent(H57)<70.)))and(eY[320+NW7]+j<=k)and(GetHeroLevel(UBE)>=6)and(J77(H57,UBE)>3000)and(GetUnitLifePercent(UBE)>80.)and(GetUnitManaPercent(UBE)>50.)and((X54[O5]==Y44 and GetRandomInt(1,3)==1)or(X54[O5]==Y74))and(Bz+(5-i)*EP7>hq[576+O5])and(eY[O5]!=1 or(GetUnitCurrentOrder(UBE)!=851986 and G0[48+O5]==false))thenif(not KT7)and((GetUnitAbilityLevel(UBE,'A01O')>0)and(Bz>SL4[32+O5]))thenset KT7=IssuePointOrderById(UBE,852525,GetUnitX(H57)+GetRandomReal(-200.,200.),GetUnitY(H57)+GetRandomReal(-200.,200.))endifif(not KT7)and(GetUnitAbilityLevel(UBE,'A0H9')>0 and(Bz>SL4[O5]))thenset KT7=IssueImmediateOrderById(UBE,852490)endifif(not KT7)and(GetUnitAbilityLevel(UBE,'A0R0')>0 and(Bz>SL4[O5]))thenset KT7=IssuePointOrderById(UBE,852600,GetUnitX(H57),GetUnitY(H57))endifif(not KT7)and(GetUnitAbilityLevel(UBE,'A1TB')>0 and(Bz>SL4[O5]))thenif(Bz>SL4[16+O5])thenset bj_lastReplacedUnit=P_7(1800.,UBE,false)if bj_lastReplacedUnit!=null thenset KT7=KZ7(UBE,852119,'A1TA',bj_lastReplacedUnit)set h8[160+O5]=H57endifendifif(not KT7)thenset KT7=IssuePointOrderById(UBE,852662,GetUnitX(H57)+GetRandomReal(-200.,200.),GetUnitY(H57)+GetRandomReal(-200.,200.))endifendifif(not KT7)and(GetPlayerController(GetOwningPlayer(H57))==MAP_CONTROL_COMPUTER)and(JC7(H57))and(JC7(UBE))and((GetUnitTypeId(H57)=='Hblm' and K37(H57,852180,'A11T'))or((GetUnitAbilityLevel(H57,'A11Z')+GetUnitAbilityLevel(H57,'A10U')+GetUnitAbilityLevel(H57,'A11Y'))>0))and(KH7(800.,UBE,Condition(function P87))==0)thenif(IssueTargetOrderById(H57,852248,UBE))thenset KT7=truecall UFE(UBE,true)endifendifif(not KT7)and(eY[224+O5]<R2I(Bz)and GetUnitState(UBE,UNIT_STATE_MANA)>DN7)thenset J4=OO7(UBE,H57)endifendifif J4 thenif(h4[O5]==V_E)thenif((GetUnitAbilityLevel(V_E,'B02F')==0)and(is(UBE))and(GetUnitCurrentOrder(UBE)!=851983))thencall IssueTargetOrderById(UBE,851983,V_E)set KT7=trueendifelseif((h4[O5]==null)or(hq[464+GetPlayerId(GetOwningPlayer(H57))]>Bz)or((GetUnitLifePercent(V_E)+10.)<GetUnitLifePercent(h4[O5])and(GetWidgetLife(V_E)<GetWidgetLife(h4[O5]))))thenset h4[O5]=V_Eif((is(UBE))and(GetUnitAbilityLevel(V_E,'B02F')==0))thencall IssueTargetOrderById(UBE,851983,V_E)set KT7=trueendifendifif(hq[624+NW7]>Bz)thenset hq[624+O5]=Bz+ES7endifendifif KT7 thenset h4[O5]=V_Eset j=j+1set hq[576+O5]=Bz+EO7set hq[480+O5]=Bz+15.set hq[320+O5]=Bz+10.if eY[O5]==9 or eY[O5]==10 thencall RL7(UBE,H57)set eY[O5]=1endifendifendifset i=i+1endloopif(IsUnitInForce(H57,QP4))thencall GroupClear(iH)call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(H57),QA4)call ForGroup(iH,function V5E)endifif eY[320+NW7]+j<0 and Bz>hq[800+NW7]and R97(Player(NW7))and J_7(H57)thenif IU7 thenset DI7=W7elseset DI7=X7endifcall OF7(DI7,GetUnitX(H57),GetUnitY(H57),GetPlayerId(GetOwningPlayer(H57)))set hq[800+NW7]=Bz+15.endifendifset DI7=nullendfunctionfunction W8E takes nothing returns nothinglocal unit GAD=GetAttacker()local unit W9E=GetTriggerUnit()if(not IsUnitInForce(GAD,QP4))thencall TriggerSleepAction(0.2)call V2E(GAD,W9E)endifif(not IsUnitInForce(W9E,QP4))thencall TriggerSleepAction(0.2)call V2E(W9E,GAD)endifset GAD=nullset W9E=nullendfunctionfunction WDE takes nothing returns booleanreturn((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(not IsUnitInForce(GetSpellTargetUnit(),QP4)))endfunctionfunction WEE takes nothing returns nothingcall V2E(GetSpellTargetUnit(),GetTriggerUnit())endfunctionfunction WFE takes nothing returns nothinglocal unit H57=GetTriggerUnit()local unit V_E=GetAttacker()local unit UBE=nulllocal player pl=nulllocal integer NW7local integer i=0local integer jlocal integer k=0local real WGElocal integer O5set NW7=GetPlayerId(GetOwningPlayer(V_E))if NW7==GetPlayerId(Y7[0])or NW7==GetPlayerId(Z7[0])thenset j=-1if((H57==JA4)or(H57==JL4)or(H57==J54))or((H57==KM4)or(H57==KR4)or(H57==KU4))thenset j=1elseif((H57==JB4)or(H57==J14)or(H57==J24))or((H57==KN4)or(H57==KS4)or(H57==KV4))thenset j=0elseif((H57==JC4)or(H57==J04)or(H57==J_4))or((H57==KO4)or(H57==KT4)or(H57==KW4))thenset j=2elseif((H57==J34)or(H57==J34)or(H57==JT4))or((H57==KP4)or(H57==KP4)or(H57==KE4))thenset j=3endifif(j!=-1 or GetWidgetLife(H57)<=ED7)thenset DG7=IsUnitAlly(H57,Y7[0])set pl=Player(NW7)if(N47(GetHandleId(H57),"AI|Glyph|CD")>Bz)thenelseif(Bz>N47(QC4,"AI|Glyph|"+IG7(DG7,"Sent","Scrg")))thencall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(H57),GetUnitY(H57),900.,null)loopset UBE=FirstOfGroup(H8)exitwhen UBE==nullcall GroupRemoveUnit(H8,UBE)if GetWidgetLife(UBE)<.405 thenelseif IsUnitType(UBE,UNIT_TYPE_HERO)and GetUnitTypeId(UBE)!='H00J' thenif IsUnitAlly(UBE,pl)thenset k=k+1elseset k=k-1endifelseif H57!=UBE and OB7(UBE)and IsUnitInRange(UBE,H57,300.)thenif IsUnitAlly(UBE,pl)thenset k=GetUnitTypeId(UBE)if(k=='ugho' or k=='unec')or(k=='u001' or k=='u002')or(k=='esen' or k=='edry')or(k=='e00V' or k=='e00W')thenset i=i+1elseif(k=='umtw' or k=='u00R')or(k=='ebal' or k=='e026')thenset i=i+2elseset i=i+2endifelseset i=-99999endifendifendloopif((DG7 and E47)or((not DG7)and E77))thenset bj_forLoopAIndex=E97elseset bj_forLoopAIndex=ED7endifif(i>0 and i+k*3>D_7-IMaxBJ(bj_forLoopAIndex-R2I(GetWidgetLife(H57)),-100)/25)thenif DG7 thenset DI7=W7elseset DI7=X7endifset i=1set k=-1set WGE=99999.loopexitwhen i>5if DG7 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i])endifif R97(Player(O5))thenif((DG7 and E47)or((not DG7)and E77))thencall IssueImmediateOrder(K04[O5],"coldarrows")exitwhen trueelseif k==-1 thenset k=O5if G7[O5]!=null and GetWidgetLife(G7[O5])>.405 thenset WGE=J77(H57,G7[O5])endifelseif G7[O5]!=null and GetWidgetLife(G7[O5])>.405 thenset DD7=J77(H57,G7[O5])if DD7<WGE thenset k=O5set WGE=DD7endifelseif WGE==99999. and GetRandomInt(1,i)==1 thenset k=O5endifendifendifendifset i=i+1endloopif k!=-1 thencall O87(G7[k],DI7,D57)call OF7(DI7,GetUnitX(H57),GetUnitY(H57),k)call M97(GetHandleId(H57),"AI|Glyph|CD",Bz+D27)endifendifendifendifset O5=GetUnitTypeId(V_E)if j!=-1 and((O5=='ugho' or O5=='unec')or(O5=='u001' or O5=='u002')or(O5=='esen' or O5=='edry')or(O5=='e00V' or O5=='e00W'))thenset i=1set DD7=99999.set bj_forLoopAIndex=-1loopexitwhen i>5if NW7==GetPlayerId(Y7[0])thenset O5=GetPlayerId(Z7[i])elseset O5=GetPlayerId(Y7[i])endifif((G7[O5]!=null)and(not J_7(G7[O5]))and(GetWidgetLife(G7[O5])>400.)and(eY[O5]==3 or eY[O5]==4)and(DR7[64+O5]==j)and(Bz>hq[672+O5]))thenset WGE=J77(G7[O5],H57)if WGE<DD7 thenset DD7=WGEset bj_forLoopAIndex=O5endifendifset i=i+1endloopif bj_forLoopAIndex!=-1 thenset O5=bj_forLoopAIndexset G0[224+O5]=trueset DS7[48+O5]=GetAttacker()if JC7(G7[O5])thencall IssueTargetOrderById(G7[O5],851983,DS7[48+O5])endifendifendifendifset H57=nullset V_E=nullset UBE=nullset pl=nullendfunctionfunction WHE takes nothing returns booleanlocal real WIE=0.local integer O5if IsUnitType(GetAttacker(),UNIT_TYPE_HERO)thenset O5=GetPlayerId(GetOwningPlayer(GetAttacker()))if G0[224+O5]and GetTriggerUnit()==DS7[48+O5]thenset G0[224+O5]=falseset hq[672+O5]=Bz+2.endifelseif IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)and Bz>E87 thenset E87=Bz+1.call WFE()endifif(Bz<600.)thenset WIE=130.elseif(Bz<1200.)thenset WIE=140.elseif(Bz>1200.)thenset WIE=150.endifreturn((not IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE))and(GetWidgetLife(GetTriggerUnit())<WIE))endfunctionfunction WJE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))set h4[96+O5]=GetTriggerUnit()call DisableTrigger(QY4[O5])call IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())call EnableTrigger(QY4[O5])endfunctionfunction WKE takes nothing returns booleanlocal integer O5if((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))thenset O5=GetPlayerId(GetOwningPlayer(GetFilterUnit()))if((K47(O5))or((h4[304+O5]!=null)and(IX7(GetFilterUnit())+J77(GetTriggerUnit(),h4[304+O5])<J77(GetFilterUnit(),h4[304+O5]))))thenelseif((iU(GetFilterUnit()))and(not Id(O5))and(not J_7(GetFilterUnit()))and((h4[96+O5]==null)or(not J07(h4[96+O5]))or((h4[96+O5]!=null)and(J07(h4[96+O5]))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(IsUnitAlly(GetFilterUnit(),GetOwningPlayer(h4[96+O5]))))))thenreturn((Jw(GetFilterUnit()))and(G0[128+O5])and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(Bz>hq[496+O5])and((not OC7(GetFilterUnit()))or(IsUnitInRange(GetFilterUnit(),GetTriggerUnit(),500.)))and((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))or(GetHeroLevel(GetFilterUnit())<15)))endifendifreturn falseendfunctionfunction WME takes nothing returns nothingcall GroupClear(iG)call GroupEnumUnitsInRange(iG,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),800.,QB4)call ForGroup(iG,function WJE)endfunctionfunction WNE takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetKillingUnit()))if GetKillingUnit()==G7[O5]and(eY[O5]==3 or eY[O5]==4)thencall T7E(G7[O5])endifreturn falseendfunctionfunction WOE takes nothing returns booleanreturn((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction WPE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1=='ncnk'))endfunctionfunction WQE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player(12))and(GetWidgetLife(GetFilterUnit())>.405)and(i1=='nkol'))endfunctionfunction WRE takes nothing returns nothingif((h0==null)or(GetUnitLevel(GetEnumUnit())>GetUnitLevel(h0))or((GetUnitLevel(GetEnumUnit())==GetUnitLevel(h0))and(GetUnitState(h0,UNIT_STATE_LIFE)<GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE))))thenset h0=GetEnumUnit()endifendfunctionfunction WSE takes unit R37 returns unitlocal boolexpr Ig=Condition(function WOE)set h0=nullcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(R37),GetUnitY(R37),600.,Ig)call ForGroup(H8,function WRE)call DestroyBoolExpr(Ig)set Ig=nullreturn h0endfunctionfunction WTE takes unit R37,integer IB7,integer WUE returns unitlocal boolexpr Ig=nullif(WUE=='ncnk')thenset Ig=Condition(function WPE)elseif(WUE=='nkol')thenset Ig=Condition(function WQE)elseset Ig=Condition(function WPE)endifset h0=nullcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(R37),GetUnitY(R37),600.,Ig)call ForGroup(H8,function WRE)call DestroyBoolExpr(Ig)set Ig=nullreturn h0endfunctionfunction WVE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(eY[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]==1)and(GetHeroLevel(GetTriggerUnit())>3)and(not J_7(GetTriggerUnit()))and(not IsUnitIllusion(GetTriggerUnit()))and(GetUnitAbilityLevel(GetTriggerUnit(),'B02Z')==0))endfunctionfunction WWE takes unit R37 returns booleanlocal integer O5=1local boolean O6=IsUnitAlly(GetTriggerUnit(),Y7[0])local boolean WXE=falselocal integer WYE=0local integer WZE=0if((O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G2>=0))thenset WZE=KH7(1200.,GetTriggerUnit(),Condition(function PG7))set WXE=WZE>0elseif((not O6)and(GetHeroLevel(GetTriggerUnit())>15)and(G1>=0))thenset WZE=KH7(1200.,GetTriggerUnit(),Condition(function PG7))set WXE=WZE>0endifloopif((eY[GetPlayerId(Y7[O5])]==10)and(h8[48+GetPlayerId(Y7[O5])]==R37))thenreturn trueendifif((eY[GetPlayerId(Z7[O5])]==10)and(h8[48+GetPlayerId(Z7[O5])]==R37))thenreturn trueendifif((WXE)and(eY[80+GetPlayerId(K07(O5,not O6))]==eY[80+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]))thenset WYE=WYE+1endifset O5=O5+1exitwhen O5>5endloopif(WXE)thenreturn WYE>=WZEendifreturn falseendfunctionfunction WAE takes unit it returns booleanlocal integer WBE=0local boolean J4=truelocal unit RA7=nulllocal player pl=GetOwningPlayer(it)call GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(it),GetUnitY(it),1600.,QA4)loopset RA7=FirstOfGroup(H8)exitwhen((RA7==null)or(not J4))if((not J07(RA7))or(not kn(RA7)))thenelseif(IsUnitEnemy(RA7,pl))thenif((IsUnitType(RA7,UNIT_TYPE_HERO))or(IsUnitType(RA7,UNIT_TYPE_STRUCTURE)))thenset J4=falseelseif(((GetOwningPlayer(RA7)==Y7[0])or(GetOwningPlayer(RA7)==Z7[0]))and(IsUnitInRange(RA7,it,1200.)))thenset WBE=WBE+1set J4=WBE<=3endifendifcall GroupRemoveUnit(H8,RA7)endloopset pl=nullreturn J4endfunctionfunction WCE takes unit W3E,unit RH7 returns unitlocal integer O5=GetPlayerId(GetOwningPlayer(RH7))if(W3E==h7[211]or W3E==h7[212])thenif(GetHeroLevel(RH7)>7)thenif(WTE(h7[262],O5,'ncnk')!=null)thenreturn h7[262]elseif(WTE(h7[260],O5,'ncnk')!=null)thenreturn h7[260]elseif(WTE(h7[253],O5,'ncnk')!=null)thenreturn h7[253]elseif(WTE(h7[258],O5,'ncnk')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'ncnk')!=null)thenreturn h7[256]elsereturn h7[262]endifelseif(WTE(h7[262],O5,'nkol')!=null)thenreturn h7[262]elseif(WTE(h7[260],O5,'nkol')!=null)thenreturn h7[260]elseif(WTE(h7[253],O5,'nkol')!=null)thenreturn h7[253]elseif(WTE(h7[258],O5,'nkol')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'nkol')!=null)thenreturn h7[256]elsereturn h7[260]endifendifelseif(W3E==h7[213])thenif(GetHeroLevel(RH7)>7)thenif(WTE(h7[257],O5,'ncnk')!=null)thenreturn h7[257]elseif(WTE(h7[259],O5,'ncnk')!=null)thenreturn h7[259]elseif(WTE(h7[261],O5,'ncnk')!=null)thenreturn h7[261]elsereturn h7[257]endifelseif(WTE(h7[261],O5,'nkol')!=null)thenreturn h7[261]elseif(WTE(h7[259],O5,'nkol')!=null)thenreturn h7[259]elsereturn h7[261]endifendifelseif((W3E==h7[221])or(W3E==h7[222]))thenif(GetHeroLevel(RH7)>7)thenif(WTE(h7[254],O5,'ncnk')!=null)thenreturn h7[254]elseif(WTE(h7[255],O5,'ncnk')!=null)thenreturn h7[255]elsereturn h7[254]endifelseif(WTE(h7[254],O5,'nkol')!=null)thenreturn h7[254]elseif(WTE(h7[255],O5,'nkol')!=null)thenreturn h7[255]elsereturn h7[254]endifendifelseif(W3E==h7[223])thenif(GetHeroLevel(RH7)>7)thenif((IsUnitAlly(RH7,Z7[0])))thenif(WTE(h7[254],O5,'ncnk')!=null)thenreturn h7[254]elseif(WTE(h7[255],O5,'ncnk')!=null)thenreturn h7[255]elsereturn h7[255]endifendifelseif((IsUnitAlly(RH7,Z7[0])))thenif(WTE(h7[254],O5,'nkol')!=null)thenreturn h7[254]elseif(WTE(h7[255],O5,'nkol')!=null)thenreturn h7[255]elsereturn h7[255]endifendifendifelseif(W3E==h7[231])thenif(GetHeroLevel(RH7)>7)thenif((IsUnitAlly(RH7,Y7[0])))thenif(WTE(h7[253],O5,'ncnk')!=null)thenreturn h7[253]elseif(WTE(h7[258],O5,'ncnk')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'ncnk')!=null)thenreturn h7[256]elsereturn h7[253]endifendifelseif((IsUnitAlly(RH7,Y7[0])))thenif(WTE(h7[253],O5,'nkol')!=null)thenreturn h7[253]elseif(WTE(h7[258],O5,'nkol')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'nkol')!=null)thenreturn h7[256]elsereturn h7[253]endifendifendifelseif((W3E==h7[232])or(W3E==h7[233]))thenif(GetHeroLevel(RH7)>7)thenif((IsUnitAlly(RH7,Y7[0])))thenif(WTE(h7[256],O5,'ncnk')!=null)thenreturn h7[256]elseif(WTE(h7[258],O5,'ncnk')!=null)thenreturn h7[258]elsereturn h7[256]endifendifelseif((IsUnitAlly(RH7,Y7[0])))thenif(WTE(h7[256],O5,'nkol')!=null)thenreturn h7[256]elseif(WTE(h7[258],O5,'nkol')!=null)thenreturn h7[258]elsereturn h7[256]endifendifendifelseif(W3E==h7[234])thenif(GetHeroLevel(RH7)>7)thenif(WTE(h7[258],O5,'ncnk')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'ncnk')!=null)thenreturn h7[256]elsereturn h7[258]endifelseif(WTE(h7[258],O5,'nkol')!=null)thenreturn h7[258]elseif(WTE(h7[256],O5,'nkol')!=null)thenreturn h7[256]elsereturn h7[258]endifendifendifreturn nullendfunctionfunction W6E takes unit it,unit WLE,integer j returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1=GetUnitTypeId(it)local integer UPlocal unit W1E=nulllocal unit m5=nulllocal boolean W0E=falselocal boolean W5E=falselocal boolean W2E=(i1=='H00A')or(i1=='U00C')or(i1=='Opgh')or(i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J')or(i1=='UC42')if J_7(it)or((Bz>hq[528+O5]and Bz>hq[320+O5]and Bz>hq[480+O5]and Bz>hq[576+O5]))==false thenreturn falseendifcall MoveLocation(Ha,GetUnitX(it),GetUnitY(it))if((not iy(it))or(not WAE(it))or((GetHeroLevel(it)<7)and(i1!='U00C')and(i1!='Opgh')and(i1!='Eevi')and(i1!='Eevm')and(i1!='UC42')))thenset W0E=falseelseif(i1=='H00A')thenset UP=IH(GetOwningPlayer(it),Condition(function SR9))set W0E=(Bz>hq[O5])and(GetUnitManaPercent(it)>20.)and(UP<(GetUnitAbilityLevel(it,'A28T')-1))set W5E=(UP>0)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>75.)elseif(((IsUnitAlly(it,Y7[0]))and(not Gv))or((IsUnitAlly(it,Z7[0]))and(not Gw))or(Bz<hq[528+O5]))thenset W0E=falseelseif(i1=='U00C')thenif(GetHeroLevel(it)<18)thenset W0E=trueelseset W0E=(GetRandomInt(1,6)==1 or(j!=0))endifset W5E=GetHeroLevel(it)>10elseif((i1=='Udre')and(not VI7()))thenset W0E=falseelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenset W0E=(GetUnitManaPercent(it)>50.)and(Bz>hq[O5])elseif(KJ7(it,OU[DL]))thenset W0E=(Bz>hq[144+O5])and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)if((not W0E)and(i1=='Emoo'))thenif(GetHeroLevel(it)<18)thenset W0E=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])elseset W0E=(GetRandomInt(1,8)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])endifendifelseif((i1=='E01A')or(i1=='H00K')or(i1=='Oshd')or(i1=='Uktl')or(X54[GetPlayerId(GetOwningPlayer(it))]==X_4)or((GetHeroLevel(it)>20)and(Bz>2700.))or(GetHeroLevel(it)>=25))thenset W0E=falseelseif(i1=='Emoo')thenif(GetHeroLevel(it)<18)thenset W0E=(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])elseset W0E=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)and(Bz>hq[O5])endifelseif(i1=='UC42')thenif(((GetUnitAbilityLevel(it,'A1P0')==0)and(GetHeroLevel(it)>7))or(((GetUnitAbilityLevel(it,'S00M')==0)and(GetHeroLevel(it)<8))))thenset W0E=trueelseif(GetHeroLevel(it)<13)thenset W0E=(GetRandomInt(1,3)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)elseif(GetHeroLevel(it)<16)thenset W0E=(GetRandomInt(1,5)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)elseset W0E=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>75.)endifendifif((W0E)and(Bz<SL4[16+O5])or((SL4[16+O5]-Bz)>5))thenset W0E=falseendifelseif(i1=='Hblm')thenset W0E=(GetHeroLevel(it)<15)and(GetRandomInt(1,2)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(Bz>hq[O5])and(GetUnitLifePercent(it)>85.)elseif(i1=='Ekee')thenif(GetHeroLevel(it)<18)thenset W0E=(GetRandomInt(1,2)==1 or(j!=0))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])elseset W0E=(GetRandomInt(1,10)==1 or(j!=0))and(GetUnitManaPercent(it)>40.)and(GetUnitLifePercent(it)>70.)and(Bz>hq[O5])endifelseif((i1=='Hvsh')or(i1=='Eevi')or(i1=='Eevm')or(i1=='Huth')or((i1=='NC00')and(GetHeroLevel(it)>11))or(KJ7(it,OU[V1]))or(KJ7(it,OU[DM4]))or(KJ7(it,OU[A1]))or(KJ7(it,OU[DX4])))thenif(GetHeroLevel(it)<18)thenset W0E=(GetRandomInt(1,2)==1 or(j!=0))elseset W0E=(GetRandomInt(1,6)==1 or(j!=0))endifset W5E=(GetHeroLevel(it)>10)and(i1!='Eevi')and(i1!='Eevm')elseif((GetHeroLevel(it)>8)and(GetUnitLifePercent(it)>90.)and(GetUnitManaPercent(it)>50.))thenif(GetHeroLevel(it)>=18)thenset W0E=falseelseif(((kq(i1))and(i1!='E01B')and(i1!='Usyl')and(i1!='HC92')and(i1!='Ogrh'))or(i1=='H00H')or(i1=='U00E'))thenset W0E=(GetRandomInt(1,3)==1 or(j!=0))elseset W0E=(GetHeroLevel(it)>11)and(GetRandomInt(1,5)==1 or(j!=0))endifendifif(W0E)thenif(j!=0)thenset W1E=h7[j]elseif(WLE==h7[211])thenif((IsUnitAlly(it,Y7[0]))or(W2E))thenset W1E=h7[262]endifelseif(WLE==h7[212])thenif(((W5E)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.)))thenset W5E=trueset W1E=h7[252]set m5=WSE(W1E)if(m5==null)thenset W1E=h7[260]endifelseif((IsUnitAlly(it,Y7[0]))or(W2E))thenset W1E=h7[260]endifelseif(WLE==h7[213])thenif((IsUnitAlly(it,Z7[0]))or(W2E))thenset W1E=h7[261]set m5=WSE(W1E)if(m5==null)thenset W1E=h7[259]endifendifelseif((WLE==h7[221])or(WLE==h7[222]))thenset W1E=h7[254]elseif(WLE==h7[223])thenif((IsUnitAlly(it,Z7[0]))or(W2E))thenset W1E=h7[257]set m5=WSE(W1E)if((m5==null)or((not W5E)and((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))))thenset W1E=h7[255]endifendifelseif(WLE==h7[231])thenif((IsUnitAlly(it,Y7[0]))or(W2E))thenset W1E=h7[253]endifelseif((WLE==h7[232])or(WLE==h7[233]))thenset W1E=h7[256]elseif(WLE==h7[234])thenif((IsUnitAlly(it,Z7[0]))or(W2E))thenset W1E=h7[258]endifelseif(WLE==h7[235])thenset W1E=h7[251]set W5E=((W5E)and(GetHeroLevel(it)>15))or((GetHeroLevel(it)>20)and(GetUnitLifePercent(it)>80.))elseset W1E=nullendifif((i1=='UC42')and(((GetHeroLevel(it)>7)and(GetUnitAbilityLevel(it,'A1P0')==0))or((GetHeroLevel(it)<8)and(GetUnitAbilityLevel(it,'S00M')==0))))thenset W1E=WCE(WLE,it)endifset m5=WSE(W1E)if((m5==null)or(WWE(W1E)))thenset W0E=falseelseif((IsUnitType(m5,UNIT_TYPE_ANCIENT))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)))thenset W0E=W5Eendifset W0E=((W1E!=null)and(W0E))if W0E thenset h8[48+O5]=W1Eset h8[32+O5]=WLEset h4[64+O5]=m5call OH7(it,"Jungling")set eY[O5]=10set hq[432+O5]=Bz+40.if j==0 thenif GetRandomInt(0,1)==0 thenset eY[384+O5]=-1elseset eY[384+O5]=1endifendifendifendifset it=nullset WLE=nullset m5=nullset W1E=nullreturn W0Eendfunctionfunction W_E takes nothing returns nothingcall W6E(GetTriggerUnit(),MZ7(GetHandleId(GetTriggeringTrigger()),"CrpRect"),0)endfunctionfunction X4E takes integer SGE returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitInRange(t,h7[SGE],400.,QA4)call MF7(GetHandleId(t),"CrpRect",h7[SGE])call TriggerAddCondition(t,Condition(function WVE))call TriggerAddAction(t,function W_E)endfunctionfunction X7E takes nothing returns nothingcall X4E(211)call X4E(212)call X4E(213)call X4E(221)call X4E(222)call X4E(223)call X4E(231)call X4E(232)call X4E(233)call X4E(234)call X4E(235)endfunctionfunction X8E takes nothing returns nothinglocal item JW7=GetEnumItem()local integer i1if(GetWidgetLife(JW7)<=.405)thenelseset DH7=GetItemPlayer(JW7)set i1=JU7(JW7)if(not IsVisibleToPlayer(GetItemX(JW7),GetItemY(JW7),Player(HR7)))and(i1!=T5 and i1!=D84 and i1!=D94 and i1!=AV)thenelseif IsPlayerAlly(DH7,Player(HR7))and((IsUnitInRangeLoc(h9[16+HR7],jv(JW7),700)and(i1!=D84 and i1!=D94 and i1!=AV))or(IsUnitInRangeLoc(K04[GetPlayerId(DH7)],jv(JW7),100))or((DH7!=Player(HR7))and(not IX4[GetPlayerId(DH7)])and(IsUnitInRangeXY(G7[GetPlayerId(DH7)],GetItemX(JW7),GetItemY(JW7),700))))thenelseif IsUnitInRangeLoc(HP7,jv(JW7),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))thenelseset DE7=J77(G7[HR7],JW7)if(Hu==null)or(i1==T5 or i1==D84 or i1==D94)or(DE7<DD7 and(HQ7!=T5 and HQ7!=D84 and HQ7!=D94))thenset Hu=JW7set HQ7=i1set DD7=DE7endifendifendifset JW7=nullendfunctionfunction X9E takes unit it returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))local boolean J4=falselocal boolean XDE=falselocal integer i1if eY[528+O5]>3 or Bz<G27[160+O5]thenset G57[336+O5]=nullset eY[528+O5]=0return falseelseif((G57[336+O5]!=null)and((not IsItemVisible(G57[336+O5]))or(GetWidgetLife(G57[336+O5])<=.405)or(not IsUnitInRangeXY(it,GetItemX(G57[336+O5]),GetItemY(G57[336+O5]),800.))))thenset G57[336+O5]=nullendifif G57[320+O5]!=null and GetWidgetLife(G57[320+O5])<=0 thenset G57[320+O5]=nullendifif(G57[336+O5]==null)thenset eY[528+O5]=1if G57[320+O5]==null thencall SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set Hu=nullset bj_lastCreatedUnit=itset HR7=O5set HQ7=0set DD7=999999if IsUnitAlly(it,Y7[0])thenset HP7=K84elseset HP7=JH4endifcall EnumItemsInRect(He,QA4,function X8E)set G57[336+O5]=Huelseset Hu=G57[320+O5]endifelseset Hu=G57[336+O5]set eY[528+O5]=eY[528+O5]+1endifif((Hu!=null)and(iU(it)))thenset i1=HQ7set bj_forLoopAIndex=GetItemTypeId(Hu)set DH7=GetItemPlayer(Hu)if((bj_forLoopAIndex=='I00K')or(bj_forLoopAIndex=='I006')or(bj_forLoopAIndex=='I008')or(bj_forLoopAIndex=='I00J')or(bj_forLoopAIndex=='I007'))thenelseif Hu==G57[320+O5]thenset XDE=trueelseif(i1==T5 or i1==D84 or i1==D94)and(Q_E(O5,it)!=-1 and bj_forLoopBIndexEnd<100)thenelseif IsPlayerEnemy(Player(O5),DH7)and(not VY8(i1))and(i1!=AV and i1!=BV)thenset XDE=trueelseif DH7!=Player(O5)and(not VY8(i1))and(not P_E(i1))and(HZ4[i1]<500)thenset XDE=trueelseif(i1==AV or i1==BV)and(KS7(it,OU[AV]))thenset XDE=trueelseif(not KK7(it))thenelseif(Q_E(O5,it)!=-1)thenif(Q9E(O5,null,Hu,i1,false)<Q9E(O5,null,bj_lastCreatedItem,JU7(bj_lastCreatedItem),false))thenset XDE=trueendifelseif R4E(O5,it)thenelseset XDE=trueendifif(not XDE)thenif IsUnitInRangeLoc(HP7,jv(Hu),700)thenelseset J4=(IssueTargetOrderById(it,851971,Hu))set G27[288+O5]=i1endifelseif IsUnitInRangeLoc(HP7,jv(Hu),700)and(IsUnitType(bj_lastCreatedUnit,UNIT_TYPE_MELEE_ATTACKER))thenelseset J4=(IssueTargetOrderById(it,851983,Hu))endifendifif J4 thenset hq[832+O5]=Bz+(J87(GetUnitX(it),GetUnitY(it),GetItemX(Hu),GetItemY(Hu))/GetUnitMoveSpeed(it))+1.endifif(not J4)thenset G57[336+O5]=nullendifendifset Hu=nullreturn J4endfunctionfunction XEE takes nothing returns nothingif((H0==null)and(GetWidgetLife(GetEnumDestructable())>0.5))thenset H0=GetEnumDestructable()endifendfunctionfunction XFE takes unit it returns booleanset H0=nullcall SetRect(He,GetUnitX(it)-450.,GetUnitY(it)-450.,GetUnitX(it)+450.,GetUnitY(it)+450.)call EnumDestructablesInRect(He,Condition(function K8),function XEE)return((H0!=null)and(UnitUseItemTarget(it,KO7(it,OU[VC]),H0)))endfunctionfunction XGE takes integer O5,boolean O6 returns nothingif(not O6)thenif(h8[32+O5]==h7[213])thenset h8[32+O5]=h7[17]elseif(h8[32+O5]==h7[212])thenif(h8[48+O5]==h7[252])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[15]elseset h8[32+O5]=h7[325]set h9[32+O5]=h7[15]endifelseif(h8[32+O5]==h7[211])thenset h8[32+O5]=h7[13]elseif(h8[32+O5]==h7[223])thenset h8[32+O5]=h7[38]elseif(h8[32+O5]==h7[222])thenset h8[32+O5]=h7[37]elseif(h8[32+O5]==h7[221])thenset h8[32+O5]=h7[36]call R67(GetEnumUnit(),135)elseif(h8[32+O5]==h7[235])thenset h8[32+O5]=h7[59]elseif(h8[32+O5]==h7[234])thenset h8[32+O5]=h7[325]set h9[32+O5]=h7[58]elseif(h8[32+O5]==h7[233])thenset h8[32+O5]=h7[234]elseif(h8[32+O5]==h7[232])thenset h8[32+O5]=h7[56]call R67(GetEnumUnit(),155)elseif(h8[32+O5]==h7[231])thenset h8[32+O5]=h7[54]endifelseif(O6)thenif(h8[32+O5]==h7[213])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[13]elseif(h8[32+O5]==h7[212])thenset h8[32+O5]=h7[12]elseif(h8[32+O5]==h7[211])thenset h8[32+O5]=h7[11]elseif(h8[32+O5]==h7[223])thenset h8[32+O5]=h7[36]elseif(h8[32+O5]==h7[222])thenset h8[32+O5]=h7[221]call R67(GetEnumUnit(),35)elseif(h8[32+O5]==h7[221])thenset h8[32+O5]=h7[315]set h9[32+O5]=h7[33]elseif(h8[32+O5]==h7[235])thenset h8[32+O5]=h7[325]set h9[32+O5]=h7[56]elseif(h8[32+O5]==h7[234])thenset h9[32+O5]=h7[56]elseif(h8[32+O5]==h7[233])thenset h8[32+O5]=h7[54]call R67(GetEnumUnit(),55)elseif(h8[32+O5]==h7[232])thenset h8[32+O5]=h7[53]elseif(h8[32+O5]==h7[231])thenset h8[32+O5]=h7[52]endifendifendfunctionfunction XHE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(not kD(GetFilterUnit()))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction XIE takes location b5 returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local unit m5=h4[64+O5]local integer i1local boolean J4=falselocal integer XJE=0local integer ilocal integer jlocal integer klocal integer XKEif(KH7(900.,h8[32+O5],Condition(function XHE))>0)thencall XGE(O5,IsUnitAlly(it,Y7[0]))endifif((J_7(it))or(KG7(900.,b5,Condition(function k6))>0))thenset eY[O5]=1set hq[544+O5]=Bz+30.set h4[64+O5]=nullcall XGE(O5,IsUnitAlly(it,Y7[0]))call J3(it,false)if((not J_7(it))and(h4[O5]==null)and(G0[128+O5]))thenset h4[O5]=KF7(900.,b5,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(it,851983,h4[O5])endifendifset it=nullset m5=nullreturnendifset XJE=KH7(600.,h8[48+O5],Condition(function WOE))if XJE==0 thenset i1=GetUnitTypeId(it)set j=GetHeroLevel(it)if IN7(i1,DY7)or IN7(i1,DZ7)thenif j<12 thenset i=0elseset i=GetRandomInt(0,(j-12)/2)endifelseif IN7(i1,DA7)thenset i=GetRandomInt(0,2)elseset i=GetRandomInt(0,3)endifif i==0 thenset i=0loopexitwhen(i>9)or(h8[48+O5]==h7[DV7[i]])set i=i+1endloopset XKE=iset j=0set k=eY[384+O5]loopif i==0 or i==4 or i==5 or i==9 thenset k=-kset eY[384+O5]=kset i=XKEendifset i=i+kexitwhen(j>5)or(W6E(it,h8[48+O5],DV7[i]))set j=j+1endloopset XJE=KH7(600.,h8[48+O5],Condition(function WOE))endifendifif(XJE==0)thenif(h8[48+O5]!=h8[32+O5])thenset h8[48+O5]=h8[32+O5]call J3(it,false)endifif(J77(h8[32+O5],it)<400.)thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)endifelseif(h8[48+O5]!=h8[32+O5])and(J77(h8[48+O5],it)<400.)thenset bj_lastLoadedUnit=KF7(600.,jv(h8[48+O5]),Condition(function WOE))if UnitIsSleeping(bj_lastLoadedUnit)thencall IssueTargetOrderById(it,851983,bj_lastLoadedUnit)set J4=trueendifendifif(XJE==0)or J4 thenelseif((m5!=null)and(J07(m5))and(GetOwningPlayer(m5)==GetOwningPlayer(it)))thenif(is(it))thencall jW(it,851983,h8[48+O5])endifcall jW(m5,851983,h8[48+O5])elseif(GetUnitTypeId(GetEnumUnit())=='H00A')thenif((m5==null)or(not J07(m5)))thencall jW(it,851983,h8[48+O5])elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))thenset J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(KZ7(it,852131,'A28T',m5))or(jW(it,851983,h8[48+O5]))endifelseif(GetUnitTypeId(GetEnumUnit())=='Emoo')thenif((m5==null)or(not J07(m5)))thencall jW(it,851983,h8[48+O5])elseif(GetOwningPlayer(m5)!=GetOwningPlayer(it))thenset J4=((not IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,851971,m5)))or(KZ7(it,852075,'A0DX',m5)or(jW(it,851983,h8[48+O5])))endifelseif(is(it))thenif((h4[64+O5]==null)or(not J07(h4[64+O5]))or(not IsUnitInRange(it,h4[64+O5],800.)))thenset h4[64+O5]=KD7(800.,b5,Condition(function WOE))endifset m5=h4[64+O5]if((m5!=null)and(GetWidgetLife(m5)>.405)and(KJ7(it,OU[V1])))thenset i1=GetUnitTypeId(m5)set J4=(((i1=='nomg')or(i1=='nfpc')or(i1=='nsth')or(i1=='ncnk'))and(UnitUseItemTarget(it,KO7(it,OU[V1]),m5)))elseif((m5!=null)and(GetWidgetLife(m5)>.405)and(KJ7(it,OU[DL])))thenset i1=GetUnitTypeId(m5)set J4=((i1!='nkob')and(i1!='ngns')and(i1!='nkot')and(UnitUseItemTarget(it,KO7(it,OU[DL]),m5)))endifif(not J4)thenset J4=((m5!=null)and(IssueTargetOrderById(it,851983,m5)))or(jW(it,851983,h8[48+O5]))endifendifset it=nullset m5=nullendfunctionfunction XME takes unit u returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(u))local integer UP=0if(J_7(u))thenif JC7(u)thencall jW(u,851986,h9[O5])endifelseif(J77(u,K67(u))<12000.)thenif(not IsUnitAlly(u,Y7[0]))thenset UP=100endifif(h9[16+O5]==h7[35])thenset h8[16+O5]=h7[35+UP]set h8[O5]=h7[35+UP]elseif(h9[16+O5]==h7[55])thenset h8[16+O5]=h7[55+UP]set h8[O5]=h7[55+UP]elseif(h9[16+O5]==h7[14])thenset h8[16+O5]=h7[14+UP]set h8[O5]=h7[14+UP]endifset h9[O5]=K67(u)set h9[16+O5]=K67(u)endifif JC7(u)thencall jW(u,851983,h8[O5])endifset eY[O5]=1set G0[32+O5]=falseset hq[528+O5]=Bz+60.set hq[592+O5]=Bz+EH7if(hG[32+O5]!=-1)thenif((hG[32+O5]-GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD))<1000)thenset hG[32+O5]=GetPlayerState(GetOwningPlayer(u),PLAYER_STATE_RESOURCE_GOLD)+1000endifendifendifendfunctionfunction XNE takes nothing returns nothingif(GetItemTypeId(GetEnumItem())==NU[T5])and(GetWidgetLife(GetEnumItem())>.405)thenset Hu=GetEnumItem()endifendfunctionfunction XOE takes nothing returns nothinglocal real J47=Bz+3.local unit m5=nulllocal integer i=1local integer jlocal integer IW7local integer klocal integer O5=0local unit H57=nulllocal unit UBE=nulllocal item JW7=nulllocal player pl=nulllocal boolean KT7=truelocal boolean J4=trueif not(GetUnitTypeId(GetDyingUnit())=='n00L')thenreturnendifset H57=GetKillingUnit()set pl=GetOwningPlayer(H57)set m5=GetDyingUnit()loopset i=1loopexitwhen i>10if i<=5 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i-5])endifif(G7[O5]!=null)and(GetWidgetLife(G7[O5])>.405)and(IsUnitInRange(G7[O5],m5,1200.))thenif(IsUnitEnemy(G7[O5],pl))and(IsUnitVisible(G7[O5],pl))thenset J47=0.1exitwhen trueendifendifset i=i+1endloopexitwhen Bz>J47call TriggerSleepAction(0.3)endloopcall SetRect(He,GetUnitX(m5)-600.,GetUnitY(m5)-600.,GetUnitX(m5)+600.,GetUnitY(m5)+600.)set Hu=nullcall EnumItemsInRect(He,QA4,function XNE)if Hu!=null thenset H57=nullset UBE=nullset j=0set IW7=0set k=0set i=1loopexitwhen i>10if i<=5 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i-5])endifif(G7[O5]!=null)and(GetWidgetLife(G7[O5])>.405)and(R97(Player(O5)))and(IsUnitInRange(G7[O5],m5,1000.)and(IsVisibleToPlayer(GetItemX(Hu),GetItemY(Hu),Player(O5))))thenset IW7=M[O5]+BT[O5]if(IsUnitAlly(G7[O5],pl))thenif H57==null or(j>IW7)thenif(not KK7(G7[O5]))or(R4E(O5,G7[O5]))thenset KT7=falseset H57=G7[O5]set j=IW7elseif KT7 thenset H57=G7[O5]set j=IW7endifendifelseif UBE==null or(k>IW7)thenif(not KK7(G7[O5]))or(R4E(O5,G7[O5]))thenset J4=falseset UBE=G7[O5]set k=IW7elseif J4 thenset UBE=G7[O5]set k=IW7endifendifendifendifset i=i+1endloopendifset i=1loopexitwhen i>10if i<=5 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i-5])endifif eY[O5]==11 thencall XME(G7[O5])endifset i=i+1endloopif Hu!=null thenset G57[336+GetPlayerId(GetOwningPlayer(H57))]=Huset G57[336+GetPlayerId(GetOwningPlayer(UBE))]=Huset FM7=Bz+3.loopexitwhen IsItemOwned(Hu)or GetWidgetLife(Hu)<.405 or((H57!=null and GetWidgetLife(H57)<.405)and(UBE!=null and GetWidgetLife(UBE)<.405))if H57!=null and GetWidgetLife(H57)>.405 thenif KT7 thencall IssueTargetOrderById(H57,851983,Hu)elsecall IssueTargetOrderById(H57,851971,Hu)endifendifif UBE!=null and GetWidgetLife(UBE)>.405 thenif J4 thencall IssueTargetOrderById(UBE,851983,Hu)elsecall IssueTargetOrderById(UBE,851971,Hu)endifendifcall TriggerSleepAction(0.5)endloopendifset m5=nullset H57=nullset UBE=nullset JW7=nullset pl=nullendfunctionfunction XPE takes location b5 returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))set hq[544+O5]=Bz+30.if((J_7(it))or(KG7(900.,b5,Condition(function k6))>0))thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)if((not J_7(it))and(h4[O5]==null)and(G0[128+O5]))thenset h4[O5]=KF7(900.,b5,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(it,851983,h4[O5])endifendifelseif GetWidgetLife(P4)<.405 and Bz>FM7 thenset eY[O5]=1set h4[64+O5]=nullcall J3(it,false)elseif((j1(it,Qr)>2000.)or(G0[O5]))thenif((IsUnitAlly(it,Z7[0]))or(GetUnitX(it)>2300.))thencall jW(it,851986,h7[250])elsecall IssuePointOrderById(it,851986,2736.,-2656.)endifelseif G0[48+O5]thenelseif hq[704+O5]<-0.05 thencall UFE(it,false)elseif not IsUnitInRegion(ow,it)thencall jW(it,851986,h7[250])elseif IsUnitInRange(it,P4,700.)thencall IssueTargetOrderById(it,851983,P4)elsecall jW(it,851983,h7[250])endifendifset it=nullendfunctionfunction XQE takes nothing returns booleanset DH7=GetOwningPlayer(GetFilterUnit())return(DH7==Y7[0]or DH7==Z7[0])and IsUnitEnemy(bj_lastLoadedUnit,DH7)and GetWidgetLife(GetFilterUnit())>.405 and((GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0)and(GetUnitAbilityLevel(GetFilterUnit(),'Aloc')==0))endfunctionfunction XRE takes unit H57 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(H57))local boolean XSE=h8[32+O5]==h8[128+O5]local boolean XTE=truelocal integer UPlocal integer OK7local integer ilocal integer Q1Elocal integer jlocal integer klocal boolean IU7=IsUnitAlly(H57,Y7[0])if J_7(H57)thenset eY[O5]=1call R17(H57)call OI7(H57,true)endifset hq[544+O5]=Bz+30.if(eY[272+O5]!=0)thenset UP=GetUnitUserData(h8[112+O5])elseset UP=GetUnitUserData(h8[128+O5])endifif(IU7)thenif((hj[256+UP]==18)or(hj[UP]==10))thenset Q1E=IMaxBJ(10+hB-1,11)elseif((hj[256+UP]==40)or(hj[UP]==30))thenset Q1E=IMaxBJ(30+hc-1,31)elseset Q1E=IMaxBJ(50+hC-1,51)endifelseset UP=hj[512+UP]if((hj[256+UP]==118)or(hj[UP]==110))thenset Q1E=IMaxBJ(118-hB-1,111)elseif((hj[256+UP]==140)or(hj[UP]==130))thenset Q1E=IMaxBJ(140-hc-1,131)elseset Q1E=IMaxBJ(160-hC-1,151)endifendifset i=Q1Eif eY[272+O5]==0 thenif(IU7)thenif(UP>i)thenset h8[128+O5]=h7[i]elseset XTE=falseendifif((h8[128+O5]==h7[15])and(J07(KG4)))thenset h8[128+O5]=h7[14]endifelseif(UP>i)thenset h8[128+O5]=h7[i]elseset XTE=falseendifif((h8[128+O5]==h7[13])and(J07(JV4)))thenset h8[128+O5]=h7[14]endifendifelseif(IU7)thenset h8[128+O5]=h7[i]if((h8[128+O5]==h7[15])and(J07(KG4)))thenset h8[128+O5]=h7[14]endifelseset h8[128+O5]=h7[i]if((h8[128+O5]==h7[13])and(J07(JV4)))thenset h8[128+O5]=h7[14]endifendifset j=eY[288+O5]if(h8[96+O5]!=null)thenset OK7=GetPlayerId(GetOwningPlayer(h8[96+O5]))set j=J97(GetUnitUserData(h8[80+OK7]))endifif((h8[96+O5]==null)or(GetWidgetLife(h8[96+O5])<.405)or(j!=eY[288+O5])or(eY[32+GetPlayerId(GetOwningPlayer(h8[96+O5]))]<=0)or(not IsUnitInRange(h8[96+O5],h8[160+O5],2000.)))thenset bj_lastCreatedUnit=h8[96+O5]set bj_lastLoadedUnit=H57set bj_forLoopBIndex=eY[288+O5]set h8[96+O5]=nullif eY[272+O5]>=4 thenset h8[96+O5]=QN7(3000.,H57,Condition(function P77))endifif h8[96+O5]==null thenset h8[96+O5]=QN7(3000.,h7[i],Condition(function P77))endifif(bj_lastCreatedUnit!=null and h8[96+O5]!=bj_lastCreatedUnit)thenset OK7=GetPlayerId(GetOwningPlayer(h8[96+O5]))set k=1loopexitwhen k>11if((IsPlayerAlly(Player(k),Player(O5)))and(eY[k]==9)and(eY[272+k]!=0)and(h8[96+k]==bj_lastCreatedUnit))thenset h8[96+k]=h8[96+O5]endifset k=k+1endloopendifendifif(h8[96+O5]!=null and eY[32+OK7]>0)thenset h8[160+O5]=h8[80+OK7]set i=GetUnitUserData(h8[OK7])if(J77(h8[96+O5],h9[OK7])<J77(h8[80+OK7],h9[OK7]))or(J77(h8[96+O5],h8[80+OK7])<300)thenif IU7 thenset i=i+1elseset i=i-1endifendifset i=R_E(i,IU7,H07(H57))set j=GetUnitUserData(h8[112+O5])if(((IU7)and(i>j or j-i>1))or((not IU7)and(i<j or i-j>1)))and(J77(H57,h8[112+O5])>2000)thenset h8[112+O5]=h7[i]endifelseif(IU7)thenif(UP<i)thenset bj_lastLoadedUnit=h8[112+O5]set h8[112+O5]=h7[i]endifif((h8[112+O5]==h7[15])and(J07(KG4)))thenset h8[112+O5]=h7[14]endifelseif(UP<i)thenset bj_lastLoadedUnit=h8[112+O5]set h8[112+O5]=h7[i-1]endifif((h8[112+O5]==h7[13])and(J07(JV4)))thenset h8[112+O5]=h7[14]endifendifif h8[32+O5]==bj_lastLoadedUnit thenset h8[32+O5]=h8[112+O5]endifif h8[48+O5]==bj_lastLoadedUnit thenset h8[48+O5]=h8[112+O5]endifendifif eY[272+O5]==2 or eY[272+O5]==3 thenset i=GetUnitUserData(h8[112+O5])set k=J97(GetUnitUserData(h8[80+O5]))if k==0 thenset k=J97(GetUnitUserData(h8[112+O5]))endifset UP=GetUnitUserData(h8[48+O5])set j=S7E(O5,i,k,IU7)if(j!=0)and(UP!=j)thenif S8E(O5,UP,j)thenelseif(k==1)thenset j=326elseif(k==2)thenset j=327endifset bj_lastLoadedUnit=h8[48+O5]set h8[48+O5]=h7[j]set h8[32+O5]=h8[48+O5]set eY[272+O5]=2endifendifendifif((XSE)and(XTE))thenset h8[32+O5]=h8[128+O5]set h8[48+O5]=h8[128+O5]endifif((h4[144+O5]!=null)and((Bz+4.)>hq[512+O5]))thenset hq[512+O5]=Bz+4.endifset bj_lastLoadedUnit=KF7(700.,jv(H57),Condition(function k6))if((not G0[160+O5])and((bj_lastLoadedUnit!=null)or((h4[O5]!=null)and(eY[272+O5]!=4))))thenset eY[O5]=1if(eY[272+O5]>=4)thenset h8[96+O5]=bj_lastLoadedUnitset h4[O5]=bj_lastLoadedUnitcall R17(H57)set hq[624+O5]=Bz+ES7set hq[416+O5]=0call V2E(H57,h8[96+O5])elseif((h4[144+O5]!=null)and((Bz+6.)>hq[512+O5]))thenset hq[512+O5]=Bz+6.endifif(h8[128+O5]==h8[48+O5])thenif(J77(H57,h8[128+O5])<J77(H57,h8[O5]))thenif(IsUnitAlly(H57,Y7[0]))thencall R67(H57,GetUnitUserData(h8[128+O5]))elsecall R67(H57,hj[512+GetUnitUserData(h8[128+O5])])endifendifelseif(J77(H57,h8[128+O5])<J77(H57,h8[48+O5]))thenset i=GetUnitUserData(h8[128+O5])elseset i=GetUnitUserData(h8[48+O5])endifif i>100 thenset i=Q1Eelseif(not IU7)thenset i=hj[512+i]endifcall R67(H57,i)endifif((h4[O5]==null)and(G0[128+O5]))thenset h4[O5]=KE7(1000.,H57,Condition(function k6))if(h4[O5]!=null)thencall IssueTargetOrderById(H57,851983,h4[O5])endifendifendifelseif eY[272+O5]==3 thencall SJE(O5,IU7,UP)elseif(eY[272+O5]>=4)thenif(h8[96+O5]!=null and J77(H57,h8[96+O5])<1000.)thenset eY[O5]=1call R17(H57)set hq[624+O5]=Bz+ES7set hq[416+O5]=0call V2E(H57,h8[96+O5])elseif(J77(H57,h8[128+O5])<1000.)and(h8[96+O5]==null or IsUnitVisible(h8[96+O5],Player(O5))==false)thenset eY[O5]=1call R17(H57)elseif(J77(H57,h8[48+O5])<1000.)and(eY[272+O5]==5)thenset h8[48+O5]=h8[128+O5]elseif(J77(H57,h8[112+O5])<1000.)and(eY[272+O5]==4)thenset eY[272+O5]=5call R17(H57)set i=GetUnitUserData(h8[112+O5])if IU7 thenif(i>35 and i<40)thenset h8[48+O5]=h7[35]elseif(i>55 and i<60)thenset h8[48+O5]=h7[55]endifelseif(i>30 and i<35)thenset h8[48+O5]=h7[35]elseif(i>50 and i<55)thenset h8[48+O5]=h7[55]endifendifset h8[32+O5]=h8[48+O5]endifif h8[96+O5]!=null thenset h4[O5]=h8[96+O5]endifif JC7(H57)thenif(h8[96+O5]!=null and JL7(h8[96+O5]))thencall IssueTargetOrderById(H57,851983,h8[96+O5])elsecall jW(H57,851986,h8[48+O5])endifendifelseif(J77(H57,h8[128+O5])<1000.)and(eY[272+O5]==0)thenset eY[O5]=1if JC7(H57)thencall jW(H57,851983,h8[48+O5])endifcall R17(H57)elseif(h8[48+O5]!=h8[32+O5])and(J77(H57,h8[48+O5])<1000.)and(eY[272+O5]<=1)thenset h8[48+O5]=h8[32+O5]if(J77(H57,h8[48+O5])<500. and(not JL7(H57)))thenset G0[176+O5]=trueendifif JC7(H57)thenif G0[176+O5]thencall J3(H57,false)elseif hq[640+O5]<=Bz thencall jW(H57,851986,h9[O5])elseif GetUnitCurrentOrder(H57)==851983 thencall jW(H57,851983,h9[O5])endifendifendifelseif((not G0[176+O5])and(h8[48+O5]==h8[32+O5]))and(eY[272+O5]<=1)thenif JC7(H57)thenif hq[640+O5]<=Bz thencall jW(H57,851986,h9[O5])elseif GetUnitCurrentOrder(H57)==851983 thencall jW(H57,851983,h9[O5])endifendifelseif((is(H57))and((KH7(700.,H57,Condition(function k6))==0)))thencall jW(H57,851986,h8[48+O5])endifset hq[576+O5]=Bz+EN7set H57=nullendfunctionfunction XUE takes real XVE,location b5 returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local integer UP=0local integer SZE=0local unit m5=nulllocal unit RA7=nullif(GetUnitCurrentOrder(GetEnumUnit())==851983)thencall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),RMaxBJ(XVE,500.),QA4)loopset RA7=FirstOfGroup(H8)exitwhen(RA7==null)if((not J07(RA7))or(not kn(RA7))or(IsUnitType(RA7,UNIT_TYPE_STRUCTURE)))thenelseif((GetOwningPlayer(RA7)==Y7[0])or(GetOwningPlayer(RA7)==Z7[0]))thenif(IsUnitEnemy(RA7,GetOwningPlayer(GetEnumUnit())))thenset UP=UP+1set SZE=SZE+1elseset UP=UP-1endifelseif((m5==null)and(IsHeroUnitId(GetUnitTypeId(RA7)))and(IsUnitEnemy(RA7,GetOwningPlayer(GetEnumUnit())))and(IsUnitVisible(RA7,GetOwningPlayer(GetEnumUnit()))))thenset m5=RA7endifcall GroupRemoveUnit(H8,RA7)endloopif((SZE<5)and(UP<0)and(m5!=null)and(IsHeroUnitId(GetUnitTypeId(m5))))thenset J4=IssueTargetOrderById(GetEnumUnit(),851983,m5)set GZ[48+O5]=falseendifset m5=nullendifreturn J4endfunctionfunction XWE takes real j4,real Ja,location b5 returns booleanlocal unit XXE=nulllocal unit XYE=nulllocal unit RA7=nulllocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local boolean J4=falselocal unit H57=nullif(K47(O5))thenreturn falseelseif((Id(O5))or((GZ[128+O5])and(KG7(800.,b5,Condition(function k6))>0)))thenreturn falseelseif((h4[96+O5]!=null)and(GetWidgetLife(h4[96+O5])>.405)and(IsUnitInRange(GetEnumUnit(),h4[96+O5],800.)))thencall IssueTargetOrderById(GetEnumUnit(),851983,h4[96+O5])return trueendifset H57=GetEnumUnit()if(GetUnitLifePercent(H57)<70.)thenset j4=j4-150.set Ja=Ja-150.endifcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(H57),GetUnitY(H57),RMaxBJ(j4,Ja),QA4)loopset RA7=FirstOfGroup(H8)exitwhen((RA7==null)or((XXE!=null)and(XYE!=null)))if((not J07(RA7))or(not kn(RA7)))thenelseif((GetOwningPlayer(RA7)==Y7[0])or(GetOwningPlayer(RA7)==Z7[0]))thenif((h4[304+O5]!=null)and(IX7(H57)+J77(RA7,h4[304+O5])<J77(H57,h4[304+O5])))thenelseif(IsUnitEnemy(RA7,GetOwningPlayer(H57)))thenif((XYE==null)and(GetUnitState(RA7,UNIT_STATE_LIFE)<150.)and(GetUnitLifePercent(RA7)<25.)and(IsUnitInRange(RA7,H57,Ja)))thenset XYE=RA7endifelseif((XXE==null)and(GetUnitState(RA7,UNIT_STATE_LIFE)<150.)and(((not IsUnitType(RA7,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(RA7)<25.))or(GetUnitLifePercent(RA7)<5.)))thenset XXE=RA7if IsUnitType(XXE,UNIT_TYPE_STRUCTURE)and(TT==true or IsUnitType(XXE,UNIT_TYPE_RANGED_ATTACKER)==false)thenif KH7(1800.,XXE,Condition(function k6))==0 thenset XXE=nullendifendifendifendifendifcall GroupRemoveUnit(H8,RA7)endloopset RA7=nullif((XXE!=null)and((IsUnitType(XXE,UNIT_TYPE_STRUCTURE))or(GetHeroLevel(H57)<=20)or(GetUnitAbilityLevel(H57,'A0S0')>0)))thenset h4[96+O5]=XXEcall DisableTrigger(QY4[O5])set J4=IssueTargetOrderById(H57,851983,XXE)call EnableTrigger(QY4[O5])elseif(XYE!=null)thenset h4[96+O5]=XYEcall DisableTrigger(QY4[O5])set J4=IssueTargetOrderById(H57,851983,XYE)call EnableTrigger(QY4[O5])endifset H57=nullset XXE=nullset XYE=nullreturn J4endfunctionfunction XZE takes location b5 returns booleanlocal unit RA7=nulllocal integer kc=0local real j4=J77(GetEnumUnit(),h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])local boolean XAE=falselocal boolean XBE=falseif(ke(GetEnumUnit()))thenreturn trueendifcall GroupClear(H8)call GroupEnumUnitsInRange(H8,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),1500.,QA4)loopset RA7=FirstOfGroup(H8)exitwhen(RA7==null)if((not J07(RA7))or(not kn(RA7)))thenelseif(IsUnitEnemy(RA7,GetOwningPlayer(GetEnumUnit())))thenif((not XAE)and(GetOwningPlayer(RA7)!=Player(12)))thenif((IsUnitVisible(RA7,GetOwningPlayer(GetEnumUnit())))or(GetOwningPlayer(RA7)==Y7[0])or(GetOwningPlayer(RA7)==Z7[0]))thenset XAE=trueelseif((IsUnitType(RA7,UNIT_TYPE_HERO))and(eY[32+GetPlayerId(GetOwningPlayer(RA7))]>0)or((not kD(RA7))and(IsUnitInRange(RA7,GetEnumUnit(),600.))))thenset XAE=trueendifendifelseif((GetOwningPlayer(RA7)==Y7[0])or(GetOwningPlayer(RA7)==Z7[0]))thenif(J77(RA7,h8[16+GetPlayerId(GetOwningPlayer(GetEnumUnit()))])<j4)thenif(IsUnitInRange(RA7,GetEnumUnit(),700.))thenset kc=kc+1endifset XBE=trueelseif((IsUnitType(RA7,UNIT_TYPE_STRUCTURE))and(IsUnitInRange(RA7,GetEnumUnit(),900.)))thenset XBE=trueendifendifcall GroupRemoveUnit(H8,RA7)endloopreturn((kc>1)or((not XAE)and(XBE)))endfunctionfunction XCE takes location b5 returns nothinglocal unit X3E=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(X3E))local real kllocal boolean KT7=falseif K47(O5)thenreturnendifset KT7=((N77(GetHandleId(X3E),"WaterSword|Active"))and(KG7(1200.,jv(X3E),Condition(function k6))>=1)and(G0[256+O5]))if((eY[O5]==1)and((GetHeroLevel(X3E)<9)or(GetUnitLifePercent(X3E)<75.))and(GetUnitCurrentOrder(X3E)==851983)and(not G0[48+O5])and(not G0[O5])and(not GZ[128+O5])and(not G0[32+O5]))thenif KT7 thenelseif((not GZ[48+O5])and(KG7(300.,b5,Condition(function Kv))==0)and(KG7(600.,b5,Condition(function Kv))>1))thencall IssueImmediateOrderById(X3E,851993)endifendifif((GetHeroLevel(X3E)>8)and(GetUnitLifePercent(X3E)>65.))thenif((not J_7(X3E))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(X3E))and(not XUE(300.,b5))and(not XWE(650.,650.,b5))and((GetUnitCurrentOrder(X3E)==851986)or(GetUnitCurrentOrder(X3E)==851993))and(not G0[32+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(XZE(b5)))thencall jW(X3E,851983,h8[O5])endifelseif((not J_7(X3E))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(X3E))and(not XWE(650.,550.,b5)))thenif((GetUnitCurrentOrder(X3E)==851983)and(not GZ[48+O5])and(not KT7))thenif((GetHeroLevel(X3E)<8)and((KG7(300.,b5,Condition(function Kv))>0)or(KG7(500.,b5,Condition(function Kw))>0)))thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(X3E),GetUnitX(h9[O5])-GetUnitX(X3E))call IssuePointOrderById(X3E,851986,GetUnitX(X3E)+200.*Cos(kl),GetUnitY(X3E)+200.*Sin(kl))elseif(KG7(400.,b5,Condition(function Kv))>1)thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(X3E),GetUnitX(h9[O5])-GetUnitX(X3E))call IssuePointOrderById(X3E,851986,GetUnitX(X3E)+250.*Cos(kl),GetUnitY(X3E)+250.*Sin(kl))endifelseif(((GetUnitCurrentOrder(X3E)==851986)or(GetUnitCurrentOrder(X3E)==851993))and(not G0[32+O5])and(not G0[48+O5])and(not G0[48+O5])and(Bz>hq[496+O5])and(XZE(b5)))thencall jW(X3E,851983,h8[O5])endifendifset X3E=nullendfunctionfunction X6E takes location b5 returns nothinglocal unit XLE=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(XLE))local real klif((not J_7(XLE))and(not G0[O5])and(not G0[48+O5])and(not G0[64+O5])and(iU(XLE))and(not XUE(550.,b5))and(not XWE(900.,800.,b5)))thenif(((GetUnitCurrentOrder(XLE)==851986)or(GetUnitCurrentOrder(XLE)==851993))and(not G0[32+O5])and(Bz>hq[496+O5])and(XZE(b5)))thencall jW(XLE,851983,h8[O5])elseif((GetUnitCurrentOrder(XLE)==851983)and(not GZ[48+O5]))thenif eY[O5]==3 or eY[O5]==4 thenelseif(((GetHeroLevel(XLE)<6)or(GetUnitLifePercent(XLE)<75.))and(KG7(300.,b5,Condition(function Kv))>1))thenset kl=Atan2(GetUnitY(h9[O5])-GetUnitY(XLE),GetUnitX(h9[O5])-GetUnitX(XLE))call IssuePointOrderById(XLE,851986,GetUnitX(XLE)+250.*Cos(kl),GetUnitY(XLE)+250.*Sin(kl))elseif((GetHeroLevel(XLE)<7)and(Bz>hq[496+O5])and((h4[80+O5]==null)or(GetOwningPlayer(h4[80+O5])==Y7[0])or(GetOwningPlayer(h4[80+O5])==Z7[0]))and(KG7(800.,b5,Condition(function Kv))>0))thenset kl=GetRandomReal(0.,360.)*bj_DEGTORADcall IssuePointOrderById(XLE,851986,GetUnitX(XLE)+GetRandomReal(50.,90.)*Cos(kl),GetUnitY(XLE)+GetRandomReal(50.,90.)*Sin(kl))endifendifendifset XLE=nullendfunctionfunction X1E takes location b5 returns nothinglocal unit X0E=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(X0E))local unit m5=nullif(not iU(X0E))thenelseif((IsUnitVisible(X0E,Y7[0]))and(IsUnitVisible(X0E,Z7[0])))thenif(((KG7(1000.,b5,Condition(function PR7)))>0)and((KG7(1000.,b5,Condition(function k6)))>0)and((KG7(900.,b5,Condition(function Kd)))<3))thencall jW(X0E,851986,h9[O5])elsecall XCE(b5)endifelseif((KG7(1200.,b5,Condition(function k6)))==0)thenif(GetUnitCurrentOrder(X0E)==851983)thenset m5=KD7(400.,b5,Condition(function KA))if(m5==null)thenset m5=KD7(700.,b5,Condition(function Ka))endifif(m5!=null)thencall IssueTargetOrderById(X0E,851983,m5)endifendifelseif(((KG7(1000.,b5,Condition(function Kd)))<2)and(KG7(1000.,b5,Condition(function k8))>1)and(KG7(500.,b5,Condition(function P07))==0))thencall jW(X0E,851986,h9[O5])elseif((not G0[O5])and(not G0[64+O5])and(iU(X0E))and(not XWE(750.,650.,b5)))thenif(KG7(250.,b5,Condition(function k8))==0)thencall IssueImmediateOrderById(X0E,851993)elsecall IssuePointOrderById(X0E,851986,GetUnitX(m5)+GetRandomReal(0,200.)-100.,GetUnitY(m5)+GetRandomReal(0,200.)-100.)endifendifendifset m5=nullset X0E=nullendfunctionfunction X5E takes unit it,integer O5,location b5 returns booleanlocal unit m5=nulllocal real X2E=bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))local real X_Ecall MoveLocation(Ha,GetUnitX(it)+300.*Cos(X2E*bj_DEGTORAD),GetUnitY(it)+300.*Sin(X2E*bj_DEGTORAD))if(KG7(500.,Ha,Condition(function Kd))>2)thenset m5=KF7(500.,Ha,Condition(function Kd))if(m5!=null)thenset X_E=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))elsereturn falseendifif(RAbsBJ(X_E-X2E)>20)thenset m5=nullreturn falseelseif(X_E>X2E)thenset X2E=X2E-20.elseset X2E=X2E+20.endifcall IssuePointOrderById(it,851986,GetUnitX(it)+600.*Cos(bj_DEGTORAD*X2E),GetUnitY(it)+600.*Sin(bj_DEGTORAD*X2E))set m5=nullreturn trueelsereturn falseendifendfunctionfunction Y4E takes nothing returns nothingcall ExecuteFunc("Y7E")endfunctionfunction Y7E takes nothing returns nothinglocal unit it=GetEnumUnit()local unit WLE=nulllocal integer O5=GetPlayerId(GetOwningPlayer(it))local location b5local integer UPlocal real Y8E=J77(it,K67(it))local boolean J4=falseif(GetUnitTypeId(it)!='H00J')thenset b5=HC[16+O5]elseif(M07(GetHandleId(it),"MCSLoc")!=null)thenset b5=M07(GetHandleId(it),"MCSLoc")elseset b5=GetUnitLoc(it)call MS7(GetHandleId(it),"MCSLoc",b5)endifendifcall MoveLocation(b5,GetUnitX(it),GetUnitY(it))if((J_7(it))and(is(it))and(not Id(O5))and(GetUnitAbilityLevel(it,'A0PV')==0)and(GetUnitAbilityLevel(it,'B02Z')==0))thenif(not X5E(it,O5,b5))thenif(Y8E<1000)or(not T1E(it))thenif((Y8E+100.)<J77(h9[O5],K67(it)))thencall jW(it,851986,h9[16+O5])elsecall jW(it,851986,h9[O5])endifendifendifendifset J4=V8E(it)if false and(eY[O5]==1 or eY[O5]==9)and(not H47[240+O5])thenset UP=-1if((J77(it,h8[O5])<400)and(GetUnitCurrentOrder(it)==851983))thenset UP=GetUnitUserData(h8[O5])elseif((J77(it,h9[O5])<400)and(GetUnitCurrentOrder(it)==851986))thenset UP=GetUnitUserData(h9[O5])endifif(UP>=11 and UP<=17)or(UP>=31 and UP<=39)or(UP>=51 and UP<=59)thenif R47(Player(O5))thenset UP=hj[512+UP]endifcall R67(it,UP)endifendifif((eY[O5]==2)and(not J4)and(is(it))and(Y8E>500.))thenif(IsUnitAlly(it,Y7[0]))thencall T8E(it,O5,PP4)elsecall T8E(it,O5,PQ4)endifendifif((eY[O5]==1)and(not J4)and(is(it))and(GetUnitAbilityLevel(it,'B0DV')>0))thenset J4=jW(it,851986,h9[16+O5])set G0[64+O5]=trueendifif((not J4)and(Y8E>4500.)and(is(it)))thenif(GetUnitAbilityLevel(it,'B0CD')==0)thenif(not J4)and(KJ7(it,OU[VC]))thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+175.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)if((eY[O5]==1)and(UP<100)and(UP>50)and(Bz>hq[256+O5]))thenset J4=(h4[O5]==null)and(KG7(1000.,b5,Condition(function QH7))==0)and(KG7(1000.,b5,Condition(function PR7))==0)and(iy(it))and(XFE(it))endifendifif(not J4)and(KJ7(it,OU[EC]))thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)elseset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)endifif(eY[O5]==1)and(UP<100)and(UP>45)thenset J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(KG7(1100.,b5,Condition(function KX))==0)and(KG7(700.,b5,Condition(function KA))==0)and(UnitUseItem(it,bj_lastCreatedItem))endifendifif(not J4)and(KJ7(it,OU[TC]))thenif(GetUnitState(it,UNIT_STATE_MAX_LIFE)<700.)thenset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+275.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)elseset UP=R2I(((GetUnitState(it,UNIT_STATE_LIFE)+375.)/GetUnitState(it,UNIT_STATE_MAX_LIFE))*100.)endifif((eY[O5]==1)and(UP<100)and(UP>45)and(GetUnitAbilityLevel(it,'B02Z')==0))thenset J4=(h4[O5]==null)and(iy(it))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,it,false,false)==0)and(KG7(1100.,b5,Condition(function KX))==0)and(KG7(700.,b5,Condition(function KA))==0)and(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifendifendifif((not J4)and(Y8E>6000.)and(not G0[O5]))thenif eY[208+O5]!=0 thenif eY[O5]!=1 or J77(it,h7[eY[208+O5]])<3000. thenset eY[208+O5]=0endifendifif(eY[O5]==1)thenif((hG[32+O5]!=-1)and(Bz>hq[592+O5])and(GetHeroLevel(it)>5)and(H47[128+O5])and(h4[O5]==null)and(KF7(1200.,b5,Condition(function KX))==null)and((GetHeroLevel(it)<12)or((J77(it,JX(it))>6000.)and(KG7(1200.,b5,Condition(function PB7))==0))))thenset G0[320+O5]=truecall OI7(it,true)if(IsUnitAlly(it,Y7[0]))thenset J4=OO7(it,JH4)elseset J4=OO7(it,K84)endifelseif(eY[208+O5]!=0 and KG7(800.,b5,Condition(function k6))==0)thenif h8[144+O5]!=null thenset J4=OO7(it,h8[144+O5])elseset J4=OO7(it,h7[eY[208+O5]])endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenif(KG7(800.,b5,Condition(function k6))>0)thenelseif(J_7(it))thenelseif(IsUnitAlly(it,Y7[0]))thenif(DR7[64+O5]==0)thenif(PY4<3)thenset J4=OO7(it,JB4)elseif(GetWidgetLife(J14)>.405)thenset J4=OO7(it,J14)elseif(GetWidgetLife(J24)>.405)thenset J4=OO7(it,J24)elseif(GetWidgetLife(J34)>.405)thenset J4=OO7(it,J34)elseif(GetWidgetLife(J64)>.405)thenset J4=OO7(it,J64)elseif(GetWidgetLife(JT4)>.405)thenset J4=OO7(it,JT4)endifelseif(DR7[64+O5]==1)thenif(PZ4<3)thenset J4=OO7(it,JA4)elseif(GetWidgetLife(JL4)>.405)thenset J4=OO7(it,JL4)elseif(GetWidgetLife(J54)>.405)thenset J4=OO7(it,J54)elseif(GetWidgetLife(J34)>.405)thenset J4=OO7(it,J34)elseif(GetWidgetLife(J64)>.405)thenset J4=OO7(it,J64)elseif(GetWidgetLife(JT4)>.405)thenset J4=OO7(it,JT4)endifelseif(DR7[64+O5]==2)thenif(PA4<3)thenset J4=OO7(it,JC4)elseif(GetWidgetLife(J04)>.405)thenset J4=OO7(it,J04)elseif(GetWidgetLife(J_4)>.405)thenset J4=OO7(it,J_4)elseif(GetWidgetLife(J34)>.405)thenset J4=OO7(it,J34)elseif(GetWidgetLife(J64)>.405)thenset J4=OO7(it,J64)elseif(GetWidgetLife(JT4)>.405)thenset J4=OO7(it,JT4)endifelseif(DR7[64+O5]==3)thenif(GetWidgetLife(JT4)>.405)thenset J4=OO7(it,JT4)endifendifif(not J4)thenset J4=OO7(it,JH4)endifelseif(DR7[64+O5]==0)thenif(PB4<3)thenset J4=OO7(it,KN4)elseif(GetWidgetLife(KS4)>.405)thenset J4=OO7(it,KS4)elseif(GetWidgetLife(KV4)>.405)thenset J4=OO7(it,KV4)elseif(GetWidgetLife(KP4)>.405)thenset J4=OO7(it,KP4)elseif(GetWidgetLife(KQ4)>.405)thenset J4=OO7(it,KQ4)elseif(GetWidgetLife(KE4)>.405)thenset J4=OO7(it,KE4)endifelseif(DR7[64+O5]==1)thenif(PC4<3)thenset J4=OO7(it,KM4)elseif(GetWidgetLife(KR4)>.405)thenset J4=OO7(it,KR4)elseif(GetWidgetLife(KU4)>.405)thenset J4=OO7(it,KU4)elseif(GetWidgetLife(KP4)>.405)thenset J4=OO7(it,KP4)elseif(GetWidgetLife(KQ4)>.405)thenset J4=OO7(it,KQ4)elseif(GetWidgetLife(KE4)>.405)thenset J4=OO7(it,KE4)endifelseif(DR7[64+O5]==2)thenif(P34<3)thenset J4=OO7(it,KO4)elseif(GetWidgetLife(KT4)>.405)thenset J4=OO7(it,KT4)elseif(GetWidgetLife(KW4)>.405)thenset J4=OO7(it,KW4)elseif(GetWidgetLife(KP4)>.405)thenset J4=OO7(it,KP4)elseif(GetWidgetLife(KQ4)>.405)thenset J4=OO7(it,KQ4)elseif(GetWidgetLife(KE4)>.405)thenset J4=OO7(it,KE4)endifelseif(DR7[64+O5]==3)thenif(GetWidgetLife(KE4)>.405)thenset J4=OO7(it,KE4)endifendifif(not J4)thenset J4=OO7(it,K84)endifendifendifendifif((not J4)and(Y8E>8500.)and(eY[O5]!=11))thenset WLE=h4[128+O5]if((WLE!=null)and(J07(WLE))and(IsUnitInRange(it,WLE,1000.)))thenif((GetUnitTypeId(it)=='u00T')or(GetUnitTypeId(it)=='e019'))thenset UP=KH7(1000.,WLE,Condition(function KC))if((UP==0)and(not Id(O5))and(GetUnitState(it,UNIT_STATE_LIFE)<1600.)and(Bz>hq[512+O5]))thenset h4[O5]=nullset J4=jW(it,851986,h9[O5])endifelseif(((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(400+(GetHeroLevel(it)*50)))and(GetHeroLevel(it)>=6))or(hq[512+O5]>Bz))thenif((J77(it,JX(it)))<(J77(WLE,JX(it))-200.))thenset h4[O5]=nullset J4=jW(it,851986,h9[O5])set hq[512+O5]=0.endifelseif((GetHeroLevel(it)<11)and((J77(it,JX(it)))<(J77(WLE,JX(it))+I2R(500-(GetHeroLevel(it)*20))))and(not iy(it))and(h4[80+O5]!=WLE))thenset h4[O5]=nullset J4=jW(it,851986,h9[O5])set hq[512+O5]=0.elseif((Bz>hq[512+O5])and((h4[O5]==null)or((not Id(O5))and((GetHeroLevel(it)<16)or(GetUnitState(it,UNIT_STATE_LIFE)<1300.)))))thenset UP=KH7(1000.,WLE,Condition(function KC))set J4=((J77(it,JX(it))<(J77(WLE,JX(it))-200.))or(UP==0)or((GetUnitState(it,UNIT_STATE_LIFE)<1300.)and(UP<2)))and(jW(it,851986,h9[O5]))set hq[512+O5]=0.endifif((not J4)and(iy(it))and(eY[O5]==1)and(GetHeroLevel(it)>10)and(GetUnitCurrentOrder(it)==851983)and(not G0[O5]))thenset UP=KH7(900.,WLE,Condition(function KC))if((UP>1)and(GetUnitLifePercent(it)>60.))thencall IssueTargetOrderById(it,851983,WLE)endifendifif((not J4)and(GetUnitLifePercent(WLE)<20.)and(eY[O5]==1)and(GetHeroLevel(it)>10)and(h4[O5]==null)and(not G0[O5])and(iU(it))and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))thenset J4=IssueTargetOrderById(it,851983,WLE)endifelseif((Y8E>12000.)and(not G0[O5])and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))or(h4[O5]!=null)))thenset WLE=KF7(1000.,b5,Condition(function KB))if(WLE!=null)thenif((Id(O5))and(R2I(GetUnitState(it,UNIT_STATE_LIFE))>(500+(GetHeroLevel(it)*30)))and(GetHeroLevel(it)>=6))thenif((J77(it,JX(it)))<(J77(WLE,JX(it))-350.))thenset h4[O5]=nullset J4=jW(it,851986,h9[O5])endifelseif(h4[O5]==null)thenset J4=(iU(it))and((GetUnitLifePercent(WLE)<10.)or(KG7(700.,b5,Condition(function KX))<4))and(IssueTargetOrderById(it,851983,WLE))elseif((kA(it,h4[O5],200.))or((J77(it,JX(it)))<(J77(WLE,JX(it))-250.)))thenset h4[O5]=nullset J4=((KG7(700.,b5,Condition(function KX))<4)and(IssueTargetOrderById(it,851983,WLE)))or(jW(it,851986,h9[O5]))endifendifendifendifendifif((eY[O5]!=2)and(not J4)and(is(it)))thenset UP=GetUnitCurrentOrder(it)if((UP==0)or(UP==851972))thencall J3(it,true)elseif((G0[32+O5])and(eY[O5]==1)and(UP!=851986)and(GetUnitAbilityLevel(it,'B02Z')==0)and(KG7(900.,b5,Condition(function k8))==0))thencall OI7(it,false)endifif((h4[O5]==null)and(Y8E>2800.))thenset J4=(j1(it,Z9)>2000.)and(j1(it,Y9)>2000.)and(X9E(it))set h4[O5]=KF7(800.,b5,Condition(function K4))if((not J4)and(h4[O5]!=null)and(not J_7(it)))thencall IssueTargetOrderById(it,851983,h4[O5])endifendifif((not J4)and(not Id(O5)))thenif((eY[O5]!=1)or(Y8E<3000.)or(hq[512+O5]>Bz)or((GetHeroLevel(it)>15)and(GetWidgetLife(it)>1600.))or((h4[O5]!=null)and((GetUnitLifePercent(h4[O5])+15.)<GetUnitLifePercent(it))and(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(h4[O5],UNIT_STATE_LIFE))))thenelseif(((UP==851983)or(UP==851993))and((not GZ[48+O5])or(GetHeroLevel(it)<6))and(KG7(700.,b5,Condition(function P07))==0)and(Y8E>3500.))thenif(GetHeroLevel(it)<10)thenset UP=KG7(900.,b5,Condition(function Kd))elseset UP=KG7(900.,b5,Condition(function KC))endifif((iy(it))and(GetUnitLifePercent(it)>60.)and((h4[80+O5]==null)or(not IsUnitType(h4[80+O5],UNIT_TYPE_STRUCTURE))))thenset J4=(UP==0)and(KG7(900.,b5,Condition(function Ky))>1)and(jW(it,851986,h9[O5]))if((not J4)and(((h4[128+O5]==null)or(not IsUnitInRange(it,h4[128+O5],1800.)))and(((not OC7(it))and(GetHeroLevel(it)>9))or(GetHeroLevel(it)>14))))thenset WLE=KF7(600.,b5,Condition(function KV))if((WLE!=null)and(h4[80+O5]!=WLE))thencall IssueTargetOrderById(it,851983,WLE)endifendifelseset J4=(UP<=2)and(KG7(900.,b5,Condition(function Ky))>((UP*2)+1))and(jW(it,851986,h9[O5]))endifelseif((UP==851986)and(not G0[64+O5])and(JC7(it)))thenif((GetUnitAbilityLevel(it,'B02Z')>0)and(GetUnitLifePercent(it)<95.))thenset WLE=KD7(400.,b5,Condition(function P07))if(WLE!=null)thenset J4=((KH7(1200.,WLE,Condition(function k8))==0)and(J77(h9[16+O5],WLE)>J77(h9[16+O5],it)+500.)and(jW(it,851983,h8[O5])))endifelseif((not G0[32+O5])and(not J_7(it)))thenset WLE=KF7(400.,b5,Condition(function P07))if(WLE!=null)thenset UP=KH7(1200.,WLE,Condition(function k8))set J4=((UP<2)or((UP<4)and(KH7(1200.,WLE,Condition(function k6))==0))and(J77(h9[16+O5],WLE)>J77(h9[16+O5],it)+500.)and(jW(it,851983,h8[O5])))endifendifendifendifif((J4)or(not is(it)))thenelseif(eY[O5]==1)thenif H47[256+O5]and(h8[O5]!=h7[353])and(h8[O5]!=h7[354])thenset H47[256+O5]=falseendifif(GetUnitAbilityLevel(it,'B0DV')>0)thencall jW(it,851986,h9[O5])set G0[64+O5]=trueelseif H47[256+O5]thenelseif(OC7(it))thenif((GetUnitAbilityLevel(it,'A00J')==0)or(h4[O5]!=null))thencall XCE(b5)elsecall X1E(b5)endifelsecall X6E(b5)endifif h9[64+O5]!=null thenif(GetUnitState(h9[64+O5],UNIT_STATE_LIFE)<0.45)or(J77(h9[64+O5],it)>3000)or(KF7(3000.,jv(h9[64+O5]),Condition(function k6))==null)thenset h9[64+O5]=nullelseset hq[320+O5]=Bz+10.endifendifelseif((eY[O5]==3)or(eY[O5]==4))thenif(Y8E<6000.)thencall T7E(it)elseset J4=T1E(it)endifelseif(eY[O5]==9)thencall XRE(it)elseif(eY[O5]==10)thencall XIE(b5)elseif(eY[O5]==11)thencall XPE(b5)endifendifset it=nullset WLE=nullset b5=nullendfunctionfunction Y9E takes unit it returns integerlocal integer i1=GetUnitTypeId(it)if(i1=='H00U')thenreturn 19elseif(i1=='N0HP')thenreturn 18elseif(i1=='E002')thenreturn 17elseif(i1=='UC42')thenreturn 16elseif(i1=='Hmbr')thenreturn 15elseif(i1=='UC76')thenreturn 14elseif(i1=='Ekee')thenreturn 13elseif(i1=='H00H')thenreturn 12elseif(i1=='Ulic')thenreturn 11elseif(i1=='UC18')thenreturn 10elseif(i1=='H004')thenreturn 9elseif(i1=='Orkn')thenreturn 8elseif(i1=='Ntin')thenreturn 7elseif(i1=='U00E')thenreturn 6elseif(i1=='N00B')thenreturn 5elseif(i1=='Nfir')thenreturn 4elseif(i1=='EC77')thenreturn 3elseif(i1=='EC57')thenreturn 2elseif(i1=='H00V')thenreturn 1elsereturn 0endifendfunctionfunction YDE takes nothing returns booleanreturn((not P44)and(not P84)and(not P94)and(not P74))endfunctionfunction YEE takes nothing returns nothinglocal integer iZ=1local integer YFE=1local integer YGE=1local unit YHE=nulllocal unit YIE=nullloopexitwhen iZ>5if(R97(Y7[iZ]))thenif((YHE==null)or(((Y9E(G7[GetPlayerId(Y7[iZ])]))>(Y9E(YHE)))or((Y9E(YHE)==0)and((IX7(G7[GetPlayerId(Y7[iZ])])>IX7(YHE))or((IX7(G7[GetPlayerId(Y7[iZ])])==IX7(YHE))and(GetHeroStr(G7[GetPlayerId(Y7[iZ])],false)>=GetHeroAgi(G7[GetPlayerId(Y7[iZ])],false))and(GetHeroStr(G7[GetPlayerId(Y7[iZ])],false)>=GetHeroInt(G7[GetPlayerId(Y7[iZ])],false)))))))thenset YHE=G7[GetPlayerId(Y7[iZ])]set eY[64+GetPlayerId(Y7[iZ])]=0endifendifif(R97(Z7[iZ]))thenif((YIE==null)or(((Y9E(G7[GetPlayerId(Z7[iZ])]))>(Y9E(YIE)))or((Y9E(YIE)==0)and((IX7(G7[GetPlayerId(Z7[iZ])])>IX7(YIE))or((IX7(G7[GetPlayerId(Z7[iZ])])==IX7(YIE))and(GetHeroStr(G7[GetPlayerId(Z7[iZ])],false)>=GetHeroAgi(G7[GetPlayerId(Z7[iZ])],false))and(GetHeroStr(G7[GetPlayerId(Z7[iZ])],false)>=GetHeroInt(G7[GetPlayerId(Z7[iZ])],false)))))))thenset YIE=G7[GetPlayerId(Z7[iZ])]set eY[64+GetPlayerId(Z7[iZ])]=0endifendifset iZ=iZ+1endloopset iZ=1loopexitwhen iZ>5if((R97(Y7[iZ]))and(Y7[iZ]!=GetOwningPlayer(YHE)))thenif(YFE<3)thenset eY[64+GetPlayerId(Y7[iZ])]=YFEelseset eY[64+GetPlayerId(Y7[iZ])]=YFE-2endifset YFE=YFE+1endifif((R97(Z7[iZ]))and(Z7[iZ]!=GetOwningPlayer(YIE)))thenif(YGE<3)thenset eY[64+GetPlayerId(Z7[iZ])]=YGEelseset eY[64+GetPlayerId(Z7[iZ])]=YGE-2endifset YGE=YGE+1endifset iZ=iZ+1endloopset iZ=1loopexitwhen iZ>5set YGE=GetPlayerId(Y7[iZ])if(eY[64+YGE]==0)thenset h8[YGE]=h7[11]set h8[16+YGE]=h7[14]elseif(eY[64+YGE]==1)thenset h8[YGE]=h7[31]set h8[16+YGE]=h7[35]elseset h8[YGE]=h7[51]set h8[16+YGE]=h7[55]endifset YGE=GetPlayerId(Z7[iZ])if(eY[64+YGE]==0)thenset h8[YGE]=h7[111]set h8[16+YGE]=h7[114]elseif(eY[64+YGE]==1)thenset h8[YGE]=h7[131]set h8[16+YGE]=h7[135]elseset h8[YGE]=h7[151]set h8[16+YGE]=h7[155]endifset iZ=iZ+1endloopset YHE=nullset YIE=nullendfunctionfunction YJE takes nothing returns nothinglocal integer O5=1if Bz<P04 thenreturnendifloopexitwhen O5>11if(IsPlayerInForce(Player(O5),QP4))thencall GroupClear(iC)call GroupEnumUnitsOfPlayer(iC,Player(O5),iL)call ForGroup(iC,function Y4E)endifif(IsPlayerInForce(Player(O5),W7))thenif((G7[O5]!=null)and(GetWidgetLife(G7[O5])>.405))thenif(IsUnitVisible(G7[O5],Z7[0]))thenset eY[32+O5]=4elseif(eY[32+O5]>0)thenset eY[32+O5]=eY[32+O5]-1endifendifelseif(IsPlayerInForce(Player(O5),X7))thenif((G7[O5]!=null)and(GetWidgetLife(G7[O5])>.405))thenif(IsUnitVisible(G7[O5],Y7[0]))thenset eY[32+O5]=4elseif(eY[32+O5]>0)thenset eY[32+O5]=eY[32+O5]-1endifendifendifset O5=O5+1endloopendfunctionfunction YKE takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))if not JC7(it)thenelseif(Bz<=P04-23.)thenif J77(it,K67(it))<600. and eY[O5]!=0 thenif iU(it)thencall IssueImmediateOrderById(it,851993)endifelseif IsUnitAlly(it,Y7[0])thencall IssuePointOrderById(it,851986,GetRectCenterX(Z9),GetRectCenterY(Z9))elsecall IssuePointOrderById(it,851986,GetRectCenterX(Y9),GetRectCenterY(Y9))endifendifelseif(eY[O5]==2)or(not(Bz>G27[160+O5]))thenelseif(IsUnitAlly(it,Z7[0]))thenif(h8[16+O5]==h7[14])thencall IssueTargetOrderById(it,851971,KN4)elseif(h8[16+O5]==h7[35])thencall IssueTargetOrderById(it,851971,KM4)elsecall IssueTargetOrderById(it,851971,KO4)endifelseif(h8[16+O5]==h7[14])thencall IssueTargetOrderById(it,851971,JB4)elseif(h8[16+O5]==h7[35])thencall IssueTargetOrderById(it,851971,JA4)elsecall IssueTargetOrderById(it,851971,JC4)endifendifset it=nullendfunctionfunction YME takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer O5=M_7(GetHandleId(t),"pID")call RCE(G7[O5])set QY4[80+O5]=nullcall K_7(GetHandleId(t))call DestroyTrigger(t)set t=nullendfunctionfunction YNE takes nothing returns nothinglocal integer O5local integer ilocal integer jlocal integer kif BK4 thenreturnendifif(Bz<(P04+2.))thenif(Bz==P04-HG7)thenif(YDE())thencall ExecuteFunc("YEE")endifif(not D47)thenset D47=trueset O5=1set OG4=trueloopexitwhen O5>11if O5==6 thenset O5=7endifif R97(Player(O5))and G7[O5]!=null thenset QY4[80+O5]=CreateTrigger()call TriggerRegisterTimerEvent(QY4[80+O5],0.1,false)call TriggerAddAction(QY4[80+O5],function YME)call M87(GetHandleId(QY4[80+O5]),"pID",O5)endifset O5=O5+1endloopendifendifcall GroupClear(QZ4)call GroupEnumUnitsInRect(QZ4,bj_mapInitialPlayableArea,iL)call ForGroup(QZ4,function YKE)elsecall DestroyTrigger(GetTriggeringTrigger())call DestroyTrigger(QR4)set QR4=nullcall DestroyTrigger(Ho)call EnableTrigger(QS4)call EnableTrigger(DK7)call EnableTrigger(QV4)call EnableTrigger(QU4)call EnableTrigger(QQ4)if(QN4!=null)thencall DisplayTimedTextToPlayer(QK4,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(QK4)],QK4,false)call SetUnitOwner(h4[512+GetPlayerId(QN4)],QN4,false)set QN4=nullendifif(QO4!=null)thencall DisplayTimedTextToPlayer(QM4,0,0,5.,"Picking for AI has ended.")call SetUnitOwner(h4[512+GetPlayerId(QM4)],QM4,false)call SetUnitOwner(h4[512+GetPlayerId(QO4)],QO4,false)set QO4=nullendifset O5=1loopexitwhen O5>11if O5==6 thenset O5=7endifset DG7=IsPlayerAlly(Player(O5),Y7[0])set j=ID7(DG7,0,6)if R97(Player(O5))and G7[O5]!=null thenset bj_forLoopBIndex=IP7(GetUnitTypeId(G7[O5]))set i=1loopexitwhen i>5if DR7[48+j+i]==-1 thenset DR7[48+j+i]=O5exitwhen trueelseif IP7(GetUnitTypeId(G7[DR7[48+j+i]]))>bj_forLoopBIndex thenset k=5loopexitwhen k==iset DR7[48+j+k]=DR7[48+j+k-1]set k=k-1endloopset DR7[48+j+i]=O5exitwhen trueendifset i=i+1endloopendifset O5=O5+1endloopset D97=""set i=1loopexitwhen i>5set DR7[80+i]=DR7[48+i]set DR7[86+i]=DR7[54+i]set i=i+1endloopendifendfunctionfunction YOE takes nothing returns nothinglocal integer O5=1local integer UP=0local integer YPE=0local integer YQE=0local integer YRE=0loopexitwhen O5>5if((G7[GetPlayerId(Y7[O5])]==null)and(GetPlayerSlotState(Y7[O5])==PLAYER_SLOT_STATE_PLAYING))thenreturnelseif(not RD7(Y7[O5]))thenelseif(GetPlayerController(Y7[O5])==MAP_CONTROL_COMPUTER)thenif(h8[16+GetPlayerId(Y7[O5])]==h7[14])thenset YRE=YRE+1elseif(h8[16+GetPlayerId(Y7[O5])]==h7[35])thenset YPE=YPE+1elseset YQE=YQE+1endifelseset UP=GetPlayerId(Y7[O5])if(IsUnitInRange(G7[UP],JB4,700.))thenset YRE=YRE+1elseif(IsUnitInRange(G7[UP],JA4,700.))thenset YPE=YPE+1elseif(IsUnitInRange(G7[UP],JC4,700.))thenset YQE=YQE+1elseif((j1(G7[UP],Z9)<4000.)or(RectContainsUnit(Cz,G7[UP])))thenelseif(RAbsBJ(GetUnitX(G7[UP])-GetUnitY(G7[UP]))<1500.)thenset YRE=YRE+1elseif(((GetUnitY(G7[UP])>5000.)and(GetUnitY(G7[UP])<6700.))or((GetUnitX(G7[UP])>-7000.)and(GetUnitX(G7[UP])<-5500.)))thenset YPE=YPE+1elseif(((GetUnitY(G7[UP])>-7500.)and(GetUnitY(G7[UP])<-6300.))or((GetUnitX(G7[UP])>5000.)and(GetUnitX(G7[UP])<6700.)))thenset YQE=YQE+1endifendifset O5=O5+1endloopif(IG4<=3)thenset UP=1elseset UP=2endifif((P44)or((P84)and(P94))or((P84)and(P74))or((P94)and(P74)))thenset UP=5endifset O5=1loopexitwhen O5>5if((RD7(Y7[O5]))and(GetPlayerController(Y7[O5])==MAP_CONTROL_COMPUTER))thenif(h8[16+GetPlayerId(Y7[O5])]==h7[14])thenif(((YRE>1)and(YDE()))or((YRE>UP)and(not(YDE()))))thenif((not P94)and(YPE<UP))thenset h8[16+GetPlayerId(Y7[O5])]=h7[35]set h8[GetPlayerId(Y7[O5])]=h7[32]set eY[64+GetPlayerId(Y7[O5])]=1set YPE=YPE+1set YRE=YRE-1elseif((not P74)and(YQE<UP))thenset h8[16+GetPlayerId(Y7[O5])]=h7[55]set h8[GetPlayerId(Y7[O5])]=h7[52]set eY[64+GetPlayerId(Y7[O5])]=2set YQE=YQE+1set YRE=YRE-1endifendifelseif(h8[16+GetPlayerId(Y7[O5])]==h7[35])thenif(YPE>UP)thenif((not P84)and(((YRE<1)and(YDE()))or((YRE<UP)and(not(YDE())))))thenset h8[16+GetPlayerId(Y7[O5])]=h7[14]set h8[GetPlayerId(Y7[O5])]=h7[12]set eY[64+GetPlayerId(Y7[O5])]=0set YRE=YRE+1set YPE=YPE-1elseif((not P74)and(YQE<UP))thenset h8[16+GetPlayerId(Y7[O5])]=h7[55]set h8[GetPlayerId(Y7[O5])]=h7[52]set eY[64+GetPlayerId(Y7[O5])]=2set YQE=YQE+1set YPE=YPE-1endifendifelseif(YQE>UP)thenif((not P84)and(((YRE<1)and(YDE()))or((YRE<UP)and(not(YDE())))))thenset h8[16+GetPlayerId(Y7[O5])]=h7[14]set h8[GetPlayerId(Y7[O5])]=h7[12]set eY[64+GetPlayerId(Y7[O5])]=0set YRE=YRE+1set YQE=YQE-1elseif((not P94)and(YPE<UP))thenset h8[16+GetPlayerId(Y7[O5])]=h7[35]set h8[GetPlayerId(Y7[O5])]=h7[32]set eY[64+GetPlayerId(Y7[O5])]=1set YPE=YPE+1set YQE=YQE-1endifendifendifendifset O5=O5+1endloopendfunctionfunction YSE takes nothing returns nothinglocal integer O5=1local integer UP=0local integer YPE=0local integer YQE=0local integer YRE=0loopexitwhen O5>5if((G7[GetPlayerId(Z7[O5])]==null)and(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING))thenreturnelseif(not RD7(Z7[O5]))thenelseif(GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)thenif(h8[16+GetPlayerId(Z7[O5])]==h7[114])thenset YRE=YRE+1elseif(h8[16+GetPlayerId(Z7[O5])]==h7[135])thenset YPE=YPE+1elseset YQE=YQE+1endifelseset UP=GetPlayerId(Z7[O5])if(IsUnitInRange(G7[UP],KN4,700.))thenset YRE=YRE+1elseif(IsUnitInRange(G7[UP],KM4,700.))thenset YPE=YPE+1elseif(IsUnitInRange(G7[UP],KO4,700.))thenset YQE=YQE+1elseif((j1(G7[UP],Y9)<4000.)or(RectContainsUnit(cz,G7[UP])))thenelseif(RAbsBJ(GetUnitX(G7[UP])-GetUnitY(G7[UP]))<1500.)thenset YRE=YRE+1elseif(((GetUnitY(G7[UP])>5000.)and(GetUnitY(G7[UP])<6700.))or((GetUnitX(G7[UP])>-7000.)and(GetUnitX(G7[UP])<-5500.)))thenset YPE=YPE+1elseif(((GetUnitY(G7[UP])>-7500.)and(GetUnitY(G7[UP])<-6300.))or((GetUnitX(G7[UP])>5000.)and(GetUnitX(G7[UP])<6700.)))thenset YQE=YQE+1endifendifset O5=O5+1endloopif(IH4<=3)thenset UP=1elseset UP=2endifif((P44)or((P84)and(P94))or((P84)and(P74))or((P94)and(P74)))thenset UP=5endifset O5=1loopexitwhen O5>5if((RD7(Z7[O5]))and(GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER))thenif(h8[16+GetPlayerId(Z7[O5])]==h7[114])thenif(((YRE>1)and(YDE()))or((YRE>UP)and(not(YDE()))))thenif((not P94)and(YPE<UP))thenset h8[16+GetPlayerId(Z7[O5])]=h7[135]set h8[GetPlayerId(Z7[O5])]=h7[132]set eY[64+GetPlayerId(Z7[O5])]=1set YPE=YPE+1set YRE=YRE-1elseif((not P74)and(YQE<UP))thenset h8[16+GetPlayerId(Z7[O5])]=h7[155]set h8[GetPlayerId(Z7[O5])]=h7[152]set eY[64+GetPlayerId(Z7[O5])]=2set YQE=YQE+1set YRE=YRE-1endifendifelseif(h8[16+GetPlayerId(Z7[O5])]==h7[135])thenif(YPE>UP)thenif((not P84)and(((YRE<1)and(YDE()))or((YRE<UP)and(not(YDE())))))thenset h8[16+GetPlayerId(Z7[O5])]=h7[114]set h8[GetPlayerId(Z7[O5])]=h7[112]set eY[64+GetPlayerId(Z7[O5])]=0set YRE=YRE+1set YPE=YPE-1elseif((not P74)and(YQE<UP))thenset h8[16+GetPlayerId(Z7[O5])]=h7[155]set h8[GetPlayerId(Z7[O5])]=h7[152]set eY[64+GetPlayerId(Z7[O5])]=2set YQE=YQE+1set YPE=YPE-1endifendifelseif(YQE>UP)thenif((not P84)and(((YRE<1)and(YDE()))or((YRE<UP)and(not(YDE())))))thenset h8[16+GetPlayerId(Z7[O5])]=h7[114]set h8[GetPlayerId(Z7[O5])]=h7[112]set eY[64+GetPlayerId(Z7[O5])]=0set YRE=YRE+1set YQE=YQE-1elseif((not P94)and(YPE<UP))thenset h8[16+GetPlayerId(Z7[O5])]=h7[135]set h8[GetPlayerId(Z7[O5])]=h7[132]set eY[64+GetPlayerId(Z7[O5])]=1set YPE=YPE+1set YQE=YQE-1endifendifendifendifset O5=O5+1endloopendfunctionfunction YTE takes nothing returns nothingif((Bz>26.)and((not P44)or((P84)and(P94))or((P84)and(P74))or((P94)and(P74)))and((Bz<=P04-30)or(Bz>=P04-18)))thenif(QK4!=null)thencall YOE()endifif(QM4!=null)thencall YSE()endifendifendfunctionfunction YUE takes nothing returns nothinglocal unit it=MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")local integer kiif((GetUnitAbilityLevel(it,'A0KX')>0)and(GetUnitLifePercent(it)>90.)and(not IsUnitHidden(it))and(iU(it)))thenset ki=GetHandleId(GetOwningPlayer(it))if((GetHeroStr(it,true)>(30+(4*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))thenif(IsTriggerEnabled(M37(ki,"MorphStr")))thencall IssueImmediateOrderById(it,852547)elseif(not IsTriggerEnabled(M37(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,852549)endifelseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it)))))thenif(IsTriggerEnabled(M37(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,852550)elseif(not IsTriggerEnabled(M37(ki,"MorphStr")))thencall IssueImmediateOrderById(it,852546)endifelseif(IsTriggerEnabled(M37(ki,"MorphStr")))thencall IssueImmediateOrderById(it,852547)elseif(IsTriggerEnabled(M37(ki,"MorphAgi")))thencall IssueImmediateOrderById(it,852550)endifendifset it=nullendfunctionfunction VTE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM",t)call MF7(GetHandleId(t),"Hero",GetTriggerUnit())call TriggerRegisterTimerEventPeriodic(t,1.)call TriggerAddAction(t,function YUE)elseset t=M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAM")call MF7(GetHandleId(t),"Hero",GetTriggerUnit())endifendfunctionfunction YVE takes unit it,integer X5 returns nothingif((it!=null)and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),800.))and(GetUnitLifePercent(it)>50.))thencall IssuePointOrderById(it,X5,GetOrderPointX(),GetOrderPointY())endifendfunctionfunction YWE takes nothing returns nothinglocal integer X5=GetIssuedOrderId()local integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if((X5<852000)and(X5!=851973)and(X5!=851974)and((not G0[16+O5])or(X5==851986)))thencall YVE(G7[16+O5],X5)call YVE(G7[32+O5],X5)call YVE(G7[48+O5],X5)endifendfunctionfunction VRE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasMM",t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerAddAction(t,function YWE)endifendfunctionfunction YXE takes nothing returns booleanreturn(GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero"))endfunctionfunction YYE takes unit it,integer YZE,boolean YAE returns nothingset GZ[304+GetPlayerId(GetOwningPlayer(it))]=YAEcall SetPlayerAbilityAvailable(GetOwningPlayer(it),YZE,YAE)endfunctionfunction YBE takes nothing returns nothinglocal unit IB=GetAttacker()local unit m5=GetTriggerUnit()local integer i1=GetUnitTypeId(IB)local integer O5=GetPlayerId(GetOwningPlayer(IB))local integer ktlocal integer YZElocal real YCE=0.local real Y3E=0.local integer UPlocal boolean J4local integer X5=0if((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif((IsUnitType(m5,UNIT_TYPE_HERO)or IsUnitType(m5,UNIT_TYPE_STRUCTURE)))thenset J4=(i1!='H00V')and(K37(IB,852139,'A1C0'))elseset J4=(i1=='H00V')and(K37(IB,852138,'A1C0'))endifelseif(i1=='EC77')thenset J4=((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])or((Bz+30.)<hq[O5])))call YYE(IB,'A09V',J4)set X5=852255set YZE='A09V'elseif(i1=='E004')thenset YCE=37+(GetHeroLevel(IB)*2.88)set Y3E=10+10*(GetUnitAbilityLevel(IB,'AHfa'))call YYE(IB,'AHfa',((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>100.)or(J_7(m5))))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>YCE)and(GetWidgetLife(m5)<YCE+Y3E)))set X5=852174set YZE='AHfa'elseif(i1=='U00P')thenset YCE=49+(GetHeroLevel(IB)*2.68)set Y3E=GetUnitState(IB,UNIT_STATE_MANA)*(0.05+0.01*(GetUnitAbilityLevel(IB,'A0OI')))call YYE(IB,'A0OI',((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(J_7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>YCE)and(GetWidgetLife(m5)<YCE+Y3E)))set X5=852255set YZE='A0OI'elseif(i1=='Nbrn')thencall YYE(IB,'A026',(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(J_7(m5))))set YZE='A026'set X5=852244elseif(i1=='Emoo')thenset YCE=47+(GetHeroLevel(IB)*2.68)set UP=GetUnitAbilityLevel(IB,'A0DY')if(UP==0)thenset UP=GetUnitAbilityLevel(IB,'A1WB')if(UP>0)thenset Y3E=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,'A1WB')))call YYE(IB,'A1WB',((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(J_7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>68.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>YCE)and(GetWidgetLife(m5)<YCE+Y3E)))set YZE='A1WB'endifelseset Y3E=DistanceBetweenPoints(GetUnitLoc(m5),GetUnitLoc(IB))*(0.1+0.05*(GetUnitAbilityLevel(IB,'A0DY')))call YYE(IB,'A0DY',((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(J_7(m5))))or((GetHeroLevel(IB)>19)and(GetUnitManaPercent(IB)>75.))or((GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.)and(GetWidgetLife(m5)>YCE)and(GetWidgetLife(m5)<YCE+Y3E)))set YZE='A0DY'endifset X5=852255elseif(i1=='N01A')thenset Y3E=GetHeroInt(IB,true)*0.15*(GetUnitAbilityLevel(IB,'A0LZ'))call YYE(IB,'A0LZ',((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitState(IB,UNIT_STATE_MANA)>150.)or(J_7(m5))))or((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.))or((GetHeroLevel(IB)>5)and(GetUnitState(IB,UNIT_STATE_MANA)>150.)and(GetWidgetLife(m5)>YCE)and(GetWidgetLife(m5)<YCE+Y3E)))set YZE='A0LZ'set X5=852255elseif(i1=='H00Q')thencall YYE(IB,'A0QN',(GetUnitState(IB,UNIT_STATE_LIFE)>100.)and((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(IB)>60.)or(J_7(m5))))or((GetHeroLevel(IB)>14)and(GetUnitLifePercent(IB)>70.)))set YZE='A0QN'set X5=852255endifif((GZ[304+O5])and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset kt=GetUnitAbilityLevel(IB,YZE)if((SG7(IB))or(hq[32+O5]>Bz)or(kt==0)or(GetUnitAbilityLevel(IB,'B05V')>0))thenset GZ[304+O5]=falseelseif(i1=='EC77')thenif(kt<=2)thenset hq[32+O5]=Bz+5.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>20.elseif(i1=='E004')thenif(kt<=2)thenset hq[32+O5]=Bz+5.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>8.elseif(i1=='U00P')thenif(kt<=3)thenset hq[32+O5]=Bz+8.-(2.*kt)endifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>100.elseif(i1=='Nbrn')thenset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>12.elseif(i1=='Emoo')thenif(kt<=3)thenset hq[32+O5]=Bz+7.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>35.+(5.*kt)elseif(i1=='N01A')thenif(kt<=3)thenset hq[32+O5]=Bz+4.-ktendifset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_MANA)>15.elseif(i1=='H00Q')thenset GZ[304+O5]=GetUnitState(IB,UNIT_STATE_LIFE)>101.endifendifif IssueImmediateOrderById(IB,X5)thencall IssueTargetOrderById(IB,851983,m5)endifset IB=nullset m5=nullendfunctionfunction VQE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasOrb",t)call MF7(GetHandleId(t),"Hero",GetTriggerUnit())if(Q_7(GetOwningPlayer(GetTriggerUnit())))thencall TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call c6(t,EVENT_PLAYER_UNIT_ATTACKED)elsecall TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call B6(t,EVENT_PLAYER_UNIT_ATTACKED)endifcall TriggerRegisterPlayerUnitEvent(t,A7,EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function YXE))call TriggerAddAction(t,function YBE)endifendfunctionfunction Y6E takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())=='n01G')or(GetUnitTypeId(GetTriggerUnit())=='n01C')or(GetUnitTypeId(GetTriggerUnit())=='n018')or(GetUnitTypeId(GetTriggerUnit())=='n004'))and(IsUnitInForce(GetTriggerUnit(),QP4)))endfunctionfunction YLE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if((h4[O5]==null)and(not GZ[272+O5])and((GetUnitLifePercent(GetTriggerUnit())<50.)or((G7[O5]!=null)and(GetHeroLevel(G7[O5])<10))))thenset GZ[272+O5]=truecall TriggerSleepAction(0.2)call jW(GetTriggerUnit(),851986,h9[O5])call TriggerSleepAction(1.)set GZ[272+O5]=falseendifendfunctionfunction VVE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function Y6E))call TriggerAddAction(t,function YLE)endifendfunctionfunction Y1E takes nothing returns booleanreturn((GetUnitAbilityLevel(GetTriggerUnit(),'Aeth')==1)and(not IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitInForce(GetTriggerUnit(),QP4)))endfunctionfunction Y0E takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if(((h4[O5]==null)or(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<400.)or(GetRandomInt(1,10)>4))and(GetUnitCurrentOrder(GetTriggerUnit())!=851986))thencall TriggerSleepAction(0.5)call jW(GetTriggerUnit(),851986,h9[O5])endifendfunctionfunction VUE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function Y1E))call TriggerAddAction(t,function Y0E)endifendfunctionfunction Y5E takes nothing returns booleanreturn(((GetUnitTypeId(GetTriggerUnit())=='e00K')or(GetUnitTypeId(GetTriggerUnit())=='e00I')or(GetUnitTypeId(GetTriggerUnit())=='e00L'))and(IsUnitInForce(GetTriggerUnit(),QP4)))endfunctionfunction Y2E takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))call TriggerSleepAction(0.5)call jW(GetTriggerUnit(),851986,h9[512+O5])if(GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)<200.)thencall jW(GetTriggerUnit(),852525,K67(GetTriggerUnit()))endifendfunctionfunction VSE takes nothing returns nothinglocal trigger tif(M37(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM")==null)thenset t=CreateTrigger()call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"HasAtkM",t)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(GetTriggerUnit()),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function Y5E))call TriggerAddAction(t,function Y2E)endifendfunctionfunction Y_E takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(GetUnitAbilityLevel(GetFilterUnit(),'B04R')>0))and(GetUnitAbilityLevel(GetFilterUnit(),'Bcyc')==0)and(GetUnitAbilityLevel(GetFilterUnit(),'Bcy2')==0))endfunctionfunction Z4E takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(bj_lastLoadedUnit)))or(GetUnitAbilityLevel(GetFilterUnit(),'B04R')>0))and(GetUnitAbilityLevel(GetFilterUnit(),'Bcyc')==0)and(GetUnitAbilityLevel(GetFilterUnit(),'Bcy2')==0))endfunctionfunction Z7E takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return((GetOwningPlayer(GetFilterUnit())==Player(bj_forLoopAIndexEnd))and((i1=='o018')or(i1=='o002')or(i1=='o00B')or(i1=='o01B'))and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction Z8E takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),GetUnitUserData(GetEnumUnit())+1)call GroupAddUnit(iA,GetEnumUnit())endfunctionfunction Z9E takes nothing returns nothingcall SetUnitUserData(GetEnumUnit(),0)endfunctionfunction ZDE takes nothing returns nothinglocal integer O5=1local group jU=M67(GetHandleId(GetTriggeringTrigger()),"MGrp")local boolexpr RA7=ND7(GetHandleId(GetTriggeringTrigger()),"MFilt")local unit H57=nullloopif O5==6 thenset O5=7endifexitwhen O5>11if(GetUnitTypeId(G7[O5])=='H00K')and(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)and((X54[O5]!=X_4)or(GetRandomInt(1,10)<=7))thencall GroupClear(jU)call GroupClear(iA)set bj_forLoopAIndexEnd=O5set bj_lastLoadedUnit=G7[O5]call GroupEnumUnitsOfPlayer(jU,Player(O5),RA7)loopset H57=FirstOfGroup(jU)exitwhen H57==nullcall GroupRemoveUnit(jU,H57)if(KH7(400.,H57,Condition(function Z4E))>0)thencall IssueImmediateOrderById(H57,852556)elseif((GetUnitUserData(GetEnumUnit())<2)and(KH7(400.,H57,Condition(function PP7))>3)and(KH7(1200.,H57,Condition(function Z4E))==0))thencall IssueImmediateOrderById(H57,852556)call GroupClear(H9)call GroupEnumUnitsInRange(H9,GetUnitX(H57),GetUnitY(H57),400.,RA7)call ForGroup(H9,function Z8E)endifendloopcall ForGroup(iA,function Z9E)endifset O5=O5+1endloopset jU=nullset RA7=nullset H57=nullendfunctionfunction ZEE takes nothing returns booleanreturn(((GetLearnedSkill()=='A0AK')or((GetLearnedSkill()=='A1FY')))and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Uzv takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetTriggerUnit())return(((i1=='o018')or(i1=='o002')or(i1=='o00B')or(i1=='o01B'))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction UZv takes nothing returns nothingif(hq[240+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]>Bz)thencall SetUnitUserData(GetTriggerUnit(),1)endifendfunctionfunction ZFE takes nothing returns nothinglocal trigger t=CreateTrigger()call DisableTrigger(GetTriggeringTrigger())call TriggerRegisterTimerEventPeriodic(t,1.50)call TriggerAddAction(t,function ZDE)set Hc=Location(0.,0.)call MO7(GetHandleId(t),"MGrp",CreateGroup())call MT7(GetHandleId(t),"MFilt",Condition(function Z7E))call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction qg takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZEE))call TriggerAddAction(t,function ZFE)endfunctionfunction ZGE takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())=='e020')and(GetWidgetLife(GetFilterUnit())>.405))endfunctionfunction ZHE takes nothing returns nothingif((GetPlayerController(GetOwningPlayer(GetEnumUnit()))!=MAP_CONTROL_USER)and((X54[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]!=X_4)or(GetRandomInt(1,10)<=7)))thencall MoveLocation(Hc,GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()))if((KG7(400.,Hc,Condition(function Y_E))>0)and(KG7(1100.,Hc,Condition(function PB7))>0))thencall IssueImmediateOrderById(GetEnumUnit(),852556)endifendifendfunctionfunction ZIE takes nothing returns nothinglocal integer O5=1local group jU=M67(GetHandleId(GetTriggeringTrigger()),"MGrp")local boolexpr RA7=ND7(GetHandleId(GetTriggeringTrigger()),"MFilt")loopif((GetPlayerController(Y7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(G7[GetPlayerId(Y7[O5])])=='E01Y'))thencall GroupClear(jU)call GroupEnumUnitsOfPlayer(jU,Y7[O5],RA7)call ForGroup(jU,function ZHE)endifif((GetPlayerController(Z7[O5])==MAP_CONTROL_COMPUTER)and(GetUnitTypeId(G7[GetPlayerId(Z7[O5])])=='E01Y'))thencall GroupClear(jU)call GroupEnumUnitsOfPlayer(jU,Z7[O5],RA7)call ForGroup(jU,function ZHE)endifset O5=O5+1endloopset jU=nullset RA7=nullendfunctionfunction ZJE takes nothing returns booleanreturn((GetLearnedSkill()=='A0RP')and(not IsUnitIllusion(GetTriggerUnit()))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction ZKE takes nothing returns nothinglocal trigger t=CreateTrigger()call DisableTrigger(GetTriggeringTrigger())call TriggerRegisterTimerEventPeriodic(t,1.50)call TriggerAddAction(t,function ZIE)set Hc=Location(0.,0.)call MO7(GetHandleId(t),"MGrp",CreateGroup())call MT7(GetHandleId(t),"MFilt",Condition(function ZGE))call DestroyTrigger(GetTriggeringTrigger())endfunctionfunction IJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZJE))call TriggerAddAction(t,function ZKE)endfunctionfunction ZME takes unit U47 returns locationcall MoveLocation(HA,(LoadReal(C7,(GetHandleId(U47)),(7400))),(LoadReal(C7,(GetHandleId(U47)),(7500))))return HAendfunctionfunction ZNE takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and(J07(GetFilterUnit()))and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit()))))thencall ZME(GetFilterUnit())return((J87(GetLocationX(HA),GetLocationY(HA),GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit())))>3000.)endifreturn falseendfunctionfunction ZOE takes nothing returns nothinglocal unit ZPE=GetTriggerUnit()local player pl=GetOwningPlayer(ZPE)local integer O5=GetPlayerId(GetOwningPlayer(ZPE))local integer UP=0call SetPlayerAbilityAvailable(pl,'A0X7',false)call SetPlayerAbilityAvailable(pl,'A1H5',false)set h4[80+GetPlayerId(pl)]=nullif(h4[288+O5]==null)thenset h4[288+O5]=QJ7(1500.,ZPE)endifif(J_7(ZPE))thencall jW(ZPE,851986,h9[O5])elseif(h4[288+O5]!=null)thencall IssueTargetOrderById(ZPE,851983,h4[288+O5])set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(ZPE,'A09U'))elsecall jW(ZPE,851983,h8[O5])set hq[512+O5]=Bz+5.+I2R(15*GetUnitAbilityLevel(ZPE,'A09U'))endifloopcall I17(0.5)exitwhen(GetUnitAbilityLevel(ZPE,'B00K')==0)if(not G0[128+O5])thenset h4[288+O5]=nullelseif((h4[288+O5]==null)or(not J07(h4[288+O5]))or(OA7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],pl))))thenset h4[288+O5]=QJ7(1500.,ZPE)endifif((J_7(ZPE))or(not G0[128+O5])or(G0[64+O5])or(G0[O5]))thencall jW(ZPE,851986,h9[O5])elseif(h4[288+O5]!=null)thencall IssueTargetOrderById(ZPE,851983,h4[288+O5])elsecall J3(ZPE,true)endifendloopif((h4[288+O5]!=null)and(J07(h4[288+O5]))and(IsUnitInRange(ZPE,h4[288+O5],1200.)))thenset h4[O5]=h4[288+O5]endifcall SetPlayerAbilityAvailable(pl,'A0X7',true)set hq[512+O5]=Bz+3.set h4[288+O5]=nullset ZPE=nullset pl=nullendfunctionfunction ZQE takes nothing returns booleanreturn((P47())and(GetUnitAbilityLevel(GetFilterUnit(),'Bcmg')==0))endfunctionfunction ZRE takes nothing returns booleanreturn((k3())and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MECHANICAL))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_MAGIC_IMMUNE))and(GetUnitAbilityLevel(GetFilterUnit(),'Bcmg')==0))endfunctionfunction ZSE takes nothing returns nothinglocal unit ZPE=GetTriggerUnit()local unit ZTE=nulllocal integer O5=GetPlayerId(GetOwningPlayer(ZPE))local real klif(J_7(ZPE))thencall jW(ZPE,851986,h9[O5])elseif(h4[288+O5]!=null)thencall jW(ZPE,851971,h4[288+O5])set hq[512+O5]=Bz+5.elsecall jW(ZPE,851983,h8[O5])set hq[512+O5]=Bz+5.endifloopcall I17(0.3)exitwhen(GetUnitAbilityLevel(ZPE,'BHfs')==0)if(not G0[128+O5])thenset h4[288+O5]=nullelseif((h4[288+O5]==null)or(not J07(h4[288+O5]))or(OA7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(ZPE)))))thenset h4[288+O5]=KD7(1000.,jv(ZPE),Condition(function ZQE))endifif((h4[288+O5]!=null)and(KH7(800.,h4[288+O5],Condition(function PF7))>0)and((not J_7(h4[288+O5]))or(not IsUnitInRange(h4[288+O5],ZPE,400.))))thenset h4[288+O5]=nullendifif((J_7(ZPE))or(G0[O5])or(not G0[128+O5])or(G0[64+O5]))thencall jW(ZPE,851986,h9[O5])elseif(h4[288+O5]!=null)thenset ZTE=nullif(GetUnitAbilityLevel(h4[288+O5],'Bcmg')==0)thenset kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(ZPE),GetUnitX(h4[288+O5])-GetUnitX(ZPE))call IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))elseif(GetUnitAbilityLevel(h4[288+O5],'Bcmg')>0)thenif((GetUnitLifePercent(h4[288+O5])<45.)or((GetHeroLevel(ZPE)>10)and(h4[O5]==h4[288+O5])and(GetUnitLifePercent(h4[288+O5])<65.)))thenif(IsUnitInRange(ZPE,h4[288+O5],200.))thencall UnitRemoveAbility(ZPE,'BHfs')call IssueTargetOrderById(ZPE,851983,h4[288+O5])elseset kl=Atan2(GetUnitY(h4[288+O5])-GetUnitY(ZPE),GetUnitX(h4[288+O5])-GetUnitX(ZPE))call IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+250.*Cos(kl),GetUnitY(h4[288+O5])+250.*Sin(kl))endifelseset h4[288+O5]=nullendifendifelseif((ZTE!=null)and(GetUnitAbilityLevel(ZTE,'Bcmg')>0))thenset ZTE=nullendifif((ZTE==null)and(GetHeroLevel(ZPE)>10)and(KH7(800.,ZPE,Condition(function P47))<=1))thenset ZTE=KF7(600.,jv(ZPE),Condition(function ZRE))endifif(ZTE!=null)thencall IssuePointOrderById(ZPE,851986,GetUnitX(ZTE),GetUnitY(ZTE))elsecall jW(ZPE,851986,h9[O5])endifendifendloopset hq[512+O5]=Bz+3.set h4[288+O5]=nullset ZPE=nullset ZTE=nullendfunctionfunction ZUE takes nothing returns nothinglocal unit ZPE=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(ZPE))local real RZ7local boolean J4if(GetUnitTypeId(ZPE)=='Nfir')thenset RZ7=150.elseif(GetUnitTypeId(ZPE)=='EC57')thenset RZ7=350.endifset h4[288+O5]=QJ7(1500.,ZPE)if(h4[288+O5]!=null)thencall IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)elsecall jW(ZPE,851983,h8[O5])endifset hq[512+O5]=Bz+30.loopcall I17(0.4)exitwhen((GetUnitAbilityLevel(ZPE,'B07T')==0)or(J_7(ZPE)))if((h4[288+O5]!=null)and(IsUnitInRange(h4[288+O5],ZPE,RZ7)))thenif(GetUnitTypeId(ZPE)=='Nfir')thenif(GetUnitCurrentOrder(ZPE)!=852273)thencall K37(ZPE,852273,'A29J')endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(ZPE),'A0A6',true)set GZ[O5]=truecall J8(O5,K37(ZPE,852594,'A013'))endifelseif(JC7(ZPE))thenset J4=(G0[O5])or(G0[64+O5])or(not G0[128+O5])if((h4[288+O5]!=null)and((J4)or(not J07(h4[288+O5]))or(OA7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(ZPE))))))thenset h4[288+O5]=nullcall jW(ZPE,851986,h9[O5])endifif((h4[288+O5]==null)and(not J4))thenset h4[288+O5]=QJ7(1200.,ZPE)endifif((h4[288+O5]!=null)and(not J4)and(not J_7(ZPE)))thencall IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)elseif((J_7(ZPE))or(J4))thencall jW(ZPE,851986,h9[O5])endifendifendloopset hq[512+O5]=Bz+3.set h4[288+O5]=nullset GZ[272+O5]=falseset ZPE=nullendfunctionfunction ZVE takes nothing returns nothinglocal unit ZPE=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(ZPE))local integer ZWElocal integer UPif(J_7(ZPE))thencall jW(ZPE,851986,h9[O5])set ZPE=nullreturnendifif(GetUnitTypeId(ZPE)=='Naka')thenset ZWE='B068'call SetPlayerAbilityAvailable(GetOwningPlayer(ZPE),'A004',false)elseif(GetUnitTypeId(ZPE)=='E004')thenset ZWE='B076'elseset ZWE='B07T'endifset h4[288+O5]=QJ7(1500.,ZPE)if(h4[288+O5]!=null)thencall IssueTargetOrderById(ZPE,851983,h4[288+O5])elsecall J3(ZPE,true)endifset hq[512+O5]=Bz+30.loopcall I17(0.5)exitwhen((GetUnitAbilityLevel(ZPE,ZWE)==0)or(J_7(ZPE)))if((h4[288+O5]!=null)and((G0[O5])or(G0[64+O5])or(not G0[128+O5])or(not J07(h4[288+O5]))or(OA7(h4[288+O5]))or((kD(h4[288+O5]))and(not IsUnitVisible(h4[288+O5],GetOwningPlayer(ZPE))))))thenset h4[288+O5]=nullcall jW(ZPE,851986,h9[O5])endifif((h4[288+O5]!=null)and(not J_7(ZPE)))thenif((ZWE!='B068')and(IsUnitInRange(ZPE,h4[288+O5],300.)))thencall UnitRemoveAbility(ZPE,ZWE)set GZ[O5]=trueif((GetUnitTypeId(ZPE)!='E004')or(not K37(ZPE,852100,'A030')))thencall IssueTargetOrderById(ZPE,851983,h4[288+O5])endifset GZ[O5]=falseelseif(ZWE=='B068')thencall IssueTargetOrderById(ZPE,851983,h4[288+O5])elsecall IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)endifelseif((h4[288+O5]==null)and(not J_7(ZPE))and(not G0[O5])and(not G0[64+O5])and(G0[128+O5]))thenset h4[288+O5]=QJ7(1500.,ZPE)if(h4[288+O5]!=null)thencall IssuePointOrderById(ZPE,851971,GetUnitX(h4[288+O5])+5.,GetUnitY(h4[288+O5])+5.)endifelsecall jW(ZPE,851986,h9[O5])endifendloopif(GetTriggerEventId()==EVENT_PLAYER_UNIT_USE_ITEM)thenset GZ[272+O5]=falseendifset hq[512+O5]=Bz+3.set h4[288+O5]=nullset ZPE=nullendfunctionfunction AIChargeOfDarknessWait takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local integer O5=GetPlayerId(pl)call SetPlayerController(pl,MAP_CONTROL_NONE)call I17(1.)loopcall I17(0.5)exitwhen((GetUnitAbilityLevel(j5,'B01Z')==0)or(not J07(m5))or(J_7(j5))or(OA7(m5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)call I17(0.1)if((J07(m5))and(IsUnitInRange(j5,m5,350.))and((not J_7(j5))or(J_7(m5)))and(SL4[O5]>Bz))thenset h4[O5]=m5call IssueTargetOrderById(j5,851983,m5)elseif((J07(m5))and(IsUnitInRange(j5,m5,SL4[64+O5]))and((not J_7(j5))or(J_7(m5)))and(SL4[O5]<Bz))thenset h4[O5]=m5call IssueTargetOrderById(j5,852248,m5)elsecall J3(j5,true)endifcall R17(j5)set m5=nullset j5=nullset pl=nullendfunctionfunction ZXE takes nothing returns booleanreturn((GetSpellAbilityId()=='A01O')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction ZYE takes nothing returns nothinglocal unit j5=GetTriggerUnit()call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call I17(0.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call I17(0.0)call J3(j5,false)call I17(1.)if(J77(j5,K67(j5))<1500.)thenset h9[GetPlayerId(GetOwningPlayer(j5))]=K67(j5)call OI7(j5,true)elsecall R17(j5)endifset j5=nullendfunctionfunction po takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function ZXE))call TriggerAddAction(t,function ZYE)endfunctionfunction ZZE takes nothing returns booleanreturn((GetSpellAbilityId()=='A0FL')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction ZAE takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real ZBE=0.call SetPlayerController(pl,MAP_CONTROL_NONE)call V2E(j5,m5)set ZBE=Bzloopcall I17(0.5)exitwhen((GetUnitAbilityLevel(m5,'B03I')==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+30.if((IsUnitAliveBJ(m5))and(not J_7(j5)))thencall IssueTargetOrderById(j5,851983,m5)elsecall J3(j5,false)endifset m5=nullset j5=nullset pl=nullendfunctionfunction FW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function ZZE))call TriggerAddAction(t,function ZAE)endfunctionfunction ZCE takes nothing returns booleanreturn((GetSpellAbilityId()=='A02Q' or GetSpellAbilityId()=='A1D9')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Z3E takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real ZBE=0.call SetPlayerController(pl,MAP_CONTROL_NONE)call V2E(j5,m5)set ZBE=Bzloopcall I17(0.5)exitwhen((GetUnitAbilityLevel(m5,'B04B')==0)or(IsUnitDeadBJ(m5))or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+120.if((not IsUnitDeadBJ(m5))and(not J_7(j5))and(not KZ7(j5,852119,'A0GK',m5)))thencall IssueTargetOrderById(j5,851983,m5)elsecall J3(j5,false)endifset m5=nullset j5=nullset pl=nullendfunctionfunction EM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function ZCE))call TriggerAddAction(t,function Z3E)endfunctionfunction Z6E takes nothing returns booleanreturn((GetSpellAbilityId()=='A1BX')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction ZLE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal player pl=GetOwningPlayer(j5)local real ZBE=0.call SetPlayerController(pl,MAP_CONTROL_NONE)set ZBE=Bzset m5=K2(400.,HC[GetPlayerId(pl)])if(m5!=null)thencall V2E(j5,m5)endifloopcall I17(0.5)exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(IsUnitDeadBJ(j5)))endloopcall SetPlayerController(pl,MAP_CONTROL_COMPUTER)set hq[GetPlayerId(pl)]=Bz+210.-(GetUnitAbilityLevel(j5,'A1BX')*10.)call J3(j5,false)set j5=nullset m5=nullset pl=nullendfunctionfunction LQ7 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Z6E))call TriggerAddAction(t,function ZLE)endfunctionfunction Z1E takes nothing returns booleanreturn((GetSpellAbilityId()=='A04P')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Z0E takes nothing returns nothinglocal unit j5=GetTriggerUnit()call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call I17(0.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call I17(0.0)if(GetSpellTargetUnit()!=null)thencall V2E(j5,GetSpellTargetUnit())endifset j5=nullendfunctionfunction PV takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Z1E))call TriggerAddAction(t,function Z0E)endfunctionfunction Z5E takes nothing returns booleanreturn((GetSpellAbilityId()=='A0MQ' or GetSpellAbilityId()=='A1B6')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction Z2E takes unit it,integer O5 returns nothingif(J77(h9[O5],it)<400.)thenset h8[O5]=h9[O5]set h9[O5]=K67(it)elseif(J77(h8[O5],it)<400.)thenset h9[O5]=h8[O5]if(IsUnitAlly(it,Y7[0]))thenset h8[O5]=h7[18]elseset h8[O5]=h7[118]endifendifendfunctionfunction Z_E takes unit it,integer O5,boolean J4 returns nothinglocal unit m5=nullif(not J4)thenif((eY[O5]!=3)and(eY[O5]!=4))thencall jW(it,851983,h8[O5])elseset m5=KD7(1200.,jv(it),Condition(function k8))set J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(jW(it,851983,h8[O5]))endifendifset m5=nullendfunctionfunction A4E takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))set GZ[O5]=falseset GZ[272+O5]=J_7(j5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call I17(0.5)call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call I17(1.5)set h8[512+O5]=h8[16+O5]set h9[512+O5]=h9[16+O5]set h8[528+O5]=h8[16+O5]set h9[528+O5]=h9[16+O5]loopexitwhen(not IsUnitHidden(j5))call I17(1.)endloopif(J07(j5))thencall R17(j5)endifset j5=nullendfunctionfunction KU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Z5E))call TriggerAddAction(t,function A4E)endfunctionfunction A7E takes nothing returns booleanlocal integer X5=GetIssuedOrderId()local integer i=GetUnitTypeId(GetTriggerUnit())if(X5!=852557)and(X5!=851985)and(X5!=852558)and(not IsUnitInRange(GetTriggerUnit(),G7[GetPlayerId(GetOwningPlayer(GetTriggerUnit()))],50.))thenif i=='u00G' or i=='u00I' thencall DisableTrigger(GetTriggeringTrigger())call IssueImmediateOrderById(GetTriggerUnit(),852557)call EnableTrigger(GetTriggeringTrigger())endifendifreturn falseendfunctionfunction aiExorcismFilter takes nothing returns booleanreturn(GetUnitTypeId(GetFilterUnit())=='u00G' and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(bj_lastLoadedUnit))endfunctionfunction A8E takes nothing returns nothinglocal unit H57=GetEnumUnit()local player pl=GetOwningPlayer(H57)local trigger t=M37(GetHandleId(pl),"ExorTrig")local integer i=GetUnitCurrentOrder(H57)if J77(H57,bj_lastLoadedUnit)>750. thencall DisableTrigger(t)call IssuePointOrderById(H57,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))call EnableTrigger(t)elseif((i==0)or(i==851986 and J77(H57,bj_lastLoadedUnit)<450.))thencall IssueImmediateOrderById(H57,852557)endifset H57=nullset t=nullset pl=nullendfunctionfunction A9E takes nothing returns nothinglocal unit H57=GetEnumUnit()local player pl=GetOwningPlayer(H57)local trigger t=M37(GetHandleId(pl),"NAttTrig")local integer i=GetUnitCurrentOrder(H57)if J77(H57,bj_lastLoadedUnit)>350. thencall DisableTrigger(t)call IssuePointOrderById(H57,851986,GetUnitX(bj_lastLoadedUnit),GetUnitY(bj_lastLoadedUnit))call EnableTrigger(t)elseif((i==0)or(i==851986 and J77(H57,bj_lastLoadedUnit)<200.))thencall IssueImmediateOrderById(H57,852557)endifset H57=nullset t=nullset pl=nullendfunctionfunction ADE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real U7E=Bz+29.5local trigger t=M37(GetHandleId(pl),"ExorTrig")local integer AEE=GetSpellAbilityId()local group AFE=M67(GetHandleId(pl),"ExorG")set hq[GetPlayerId(pl)]=Bz+120.call RemoveGuardPosition(j5)if(t==null)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,pl,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerAddCondition(t,Condition(function A7E))call MH7(GetHandleId(pl),"ExorTrig",t)set AFE=CreateGroup()call MO7(GetHandleId(pl),"ExorG",AFE)elsecall EnableTrigger(t)call GroupClear(AFE)endifloopcall TriggerSleepAction(0.5)if((iU(j5))and(GetUnitCurrentOrder(j5)!=851983)and(KH7(750.,j5,Condition(function k0))==0)and(not J_7(j5))and((GetUnitLifePercent(j5)>90.)or(not G0[GetPlayerId(GetOwningPlayer(j5))])))thencall jW(j5,851983,h8[GetPlayerId(GetOwningPlayer(j5))])endifexitwhen((Bz>U7E)or(not J07(j5)))set bj_lastLoadedUnit=j5call ForGroup(AFE,function A8E)endloopcall DisableTrigger(t)set t=nullset j5=nullendfunctionfunction AGE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local player pl=GetOwningPlayer(j5)local real U7E=Bz+9.5local trigger t=M37(GetHandleId(pl),"NAttTrig")local integer AEE=GetSpellAbilityId()local group AFE=M67(GetHandleId(pl),"NAttG")call RemoveGuardPosition(j5)if(t==null)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_ORDER,null)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(j5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,null)call TriggerAddCondition(t,Condition(function A7E))call MH7(GetHandleId(GetOwningPlayer(GetTriggerUnit())),"NAttTrig",t)set AFE=CreateGroup()call MO7(GetHandleId(pl),"NAttG",AFE)elsecall EnableTrigger(t)call GroupClear(AFE)endifloopcall TriggerSleepAction(0.3)exitwhen((Bz>U7E)or(not J07(j5)))set bj_lastLoadedUnit=j5call ForGroup(AFE,function A9E)endloopcall DisableTrigger(t)set t=nullset j5=nullendfunctionfunction AHE takes nothing returns booleanreturn((GetSpellAbilityId()=='A0RV')and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction AIE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal real U7E=Bz+.5local integer O5=GetPlayerId(GetOwningPlayer(j5))call SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_NONE)call TriggerSleepAction(0.01)loopif((h4[O5]!=null)and(J07(h4[O5]))and(IsUnitInRange(j5,h4[O5],145+(40*GetUnitAbilityLevel(j5,'A0RO')))))thenset m5=h4[O5]elseset m5=KF7(I2R(145+(40*GetUnitAbilityLevel(j5,'A0RO'))),jv(j5),Condition(function P47))endifif(m5!=null)thencall UnitRemoveAbility(j5,'B08K')call IssueTargetOrderById(j5,851983,m5)endifexitwhen((not G0[128+O5])or(GetUnitAbilityLevel(j5,'B08K')==0)or(not J07(j5))or(Bz>=U7E))call I17(.5)endloopcall SetPlayerController(GetOwningPlayer(j5),MAP_CONTROL_COMPUTER)call J3(j5,false)set j5=nullset m5=nullendfunctionfunction IK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AHE))call TriggerAddAction(t,function AIE)endfunctionfunction AJE takes nothing returns booleanreturn((GetSpellAbilityId()=='A01Z')and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction AKE takes nothing returns nothinglocal real IWlocal real JDlocal real Jelocal integer O5=GetPlayerId(GetOwningPlayer(hr))if((GetDestructableTypeId(GetEnumDestructable())=='WTst')or(GetDestructableTypeId(GetEnumDestructable())=='ITtc')or(GetDestructableTypeId(GetEnumDestructable())=='ITtw')or(GetDestructableTypeId(GetEnumDestructable())=='NTtw')or(GetDestructableTypeId(GetEnumDestructable())=='ATtr'))thenset JD=GetUnitX(h9[16+O5])set Je=GetUnitY(h9[16+O5])set IW=J87(GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()),JD,Je)if(((J87(GetUnitX(hr),GetUnitY(hr),JD,Je)-150.)>IW)and((GetLocationX(HC[240+O5])==0.)or(((J87(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),JD,Je)-150.)>IW))and(J87(GetLocationX(HC[240+O5]),GetLocationY(HC[240+O5]),GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))>250.)))thencall MoveLocation(HC[240+O5],GetDestructableX(GetEnumDestructable()),GetDestructableY(GetEnumDestructable()))endifendifendfunctionfunction AME takes nothing returns nothinglocal unit ANE=GetSpellTargetUnit()local integer O5=GetPlayerId(GetOwningPlayer(ANE))local integer ki=GetHandleId(GetOwningPlayer(GetSpellTargetUnit()))local location APE=nullcall I17(0.5)set GZ[272+O5]=falseif(HC[240+O5]==null)thenset HC[240+O5]=Location(0.,0.)endifloopcall SetRect(He,GetUnitX(ANE)-600.,GetUnitY(ANE)-600.,GetUnitX(ANE)+600.,GetUnitY(ANE)+600.)set hr=ANEcall EnumDestructablesInRect(He,QA4,function AKE)set APE=HC[240+O5]if(GetLocationX(APE)!=0.)thencall IssuePointOrderByIdLoc(ANE,851986,APE)elsecall jW(ANE,851986,h9[O5])endifcall I17(0.8)exitwhen((GetUnitAbilityLevel(ANE,'B021')==0)or(GZ[272+O5])or((KH7(1200.,ANE,Condition(function P47))==0)and(iy(ANE))))if((GetLocationX(APE)!=0.)and(IsUnitInRangeLoc(ANE,APE,150.)))thencall MoveLocation(APE,0.,0.)endifendloopif(APE!=null)thencall MoveLocation(APE,0.,0.)endifset APE=nullset ANE=nullendfunctionfunction Pr takes nothing returns nothinglocal trigger t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AJE))call TriggerAddAction(t,function AME)endfunctionfunction AQE takes real T3E,real T6E,boolean ARE returns booleanlocal boolean J4=falselocal unit ASE=nulllocal unit it=GetEnumUnit()if J87(GetUnitX(it),GetUnitY(it),T3E,T6E)>3000 thenif(ARE)thencall OM7(it)set J4=((GetUnitTypeId(it)=='Emns')and(IssuePointOrderById(it,852525,T3E,T6E)))or((GetUnitTypeId(it)=='N00R')and(((IsUnitAlly(it,Y7[0]))and(IssueTargetOrderById(it,852600,JH4)))or((IsUnitAlly(it,Z7[0]))and(IssueTargetOrderById(it,852600,K84)))))elsecall MoveLocation(HB,T3E,T6E)set ASE=KD7(1200.,HB,Condition(function Kd))if((ASE!=null)and(KH7(1000.,ASE,Condition(function Kd))>3)and(KH7(1200.,ASE,Condition(function k6))<2)and(J77(ASE,K67(it))>4000.)and(kJ(GetUnitX(ASE),GetUnitY(ASE))))thencall OM7(it)set J4=((GetUnitTypeId(it)=='Emns')and(IssuePointOrderById(it,852525,GetUnitX(ASE),GetUnitY(ASE))))or((GetUnitTypeId(it)=='N00R')and(IssueTargetOrderById(it,852600,ASE)))or((KJ7(it,OU[N6]))and(UnitUseItemTarget(it,bj_lastCreatedItem,ASE)))endifendifendifset ASE=nullset it=nullreturn J4endfunctionfunction ATE takes integer AUE returns booleanlocal unit u=GetEnumUnit()local boolean J4=falseif(AUE==0)thenif(IsUnitAlly(u,Z7[0]))thenset J4=(AQE(Tm,Um,false))or(AQE(Jm,lm,false))or(AQE(cm,Cm,false))or(AQE(Zq,vQ,false))elseset J4=(AQE(bQ,BQ,false))or(AQE(aQ,EQ,false))or(AQE(Zq,vQ,false))or(AQE(cm,Cm,false))endifelseif(AUE==1)thenif(IsUnitAlly(u,Z7[0]))thenset J4=(AQE(-6240.,-3808.,false))or(AQE(-6112.,-1312.,false))or(AQE(-6112.,1504.,false))or(AQE(3169.,5920.,false))elseset J4=(AQE(-4704.,5920.,false))or(AQE(32.,5856.,false))or(AQE(3169.,5920.,false))or(AQE(-6112.,1504.,false))endifelseif(AUE==2)thenif(IsUnitAlly(u,Z7[0]))thenset J4=(AQE(-3424.,-6560.,false))or(AQE(-544.,-6688.,false))or(AQE(4960.,-6752.,false))or(AQE(6044.,2874.,false))elseset J4=(AQE(6048.,-2080.,false))or(AQE(6112.,-96.,false))or(AQE(6044.,2874.,false))or(AQE(4960.,-6752.,false))endifelseif(AUE==3)thenset J4=AQE(GetUnitX(K67(u)),GetUnitY(K67(u)),true)endifset u=nullreturn J4endfunctionfunction AVE takes unit it returns integerif(GetUnitAbilityLevel(it,'A28S')==0)thenreturn 150+(150*GetUnitAbilityLevel(it,'A28R'))elsereturn 160+(180*GetUnitAbilityLevel(it,'A28S'))endifendfunctionfunction AWE takes unit it returns integerlocal integer kt=GetHeroLevel(it)if(W or RJ4)thenreturn(45*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<5)thenreturn(30*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<11)thenreturn(40*kt)elseif(hG[GetPlayerId(GetOwningPlayer(it))]<15)thenreturn(55*kt)elsereturn(70*kt)endifendfunctionfunction AXE takes unit it returns integerlocal integer kc=GetUnitAbilityLevel(it,'A0MU')if((kc==0)and(GetUnitAbilityLevel(it,'A0A2')>0))thenreturn GetUnitAbilityLevel(it,'A0A2')endifreturn kcendfunctionfunction AYE takes unit it returns integerif(GetUnitAbilityLevel(it,'A09W')==0)thenreturn 236+(150*GetUnitAbilityLevel(it,'A095'))elsereturn 350+(150*GetUnitAbilityLevel(it,'A09W'))endifendfunctionfunction AZE takes unit it returns integerif(GetUnitAbilityLevel(it,'A09Z')==0)thenreturn 236+(150*GetUnitAbilityLevel(it,'A01P'))elsereturn 332+(150*GetUnitAbilityLevel(it,'A09Z'))endifendfunctionfunction AAE takes unit it returns realif((it==JV4)or(it==JY4)or(it==JB4)or(it==J64)or(it==J34)or(it==JW4))thenreturn 50.elseif((it==JU4)or(it==JX4)or(it==JA4))thenreturn 100.elseif((it==JZ4)or(it==JC4))thenreturn 10.elseif((it==KJ4)or(it==KN4)or(it==KP4)or(it==KQ4))thenreturn 230.elseif((it==KH4)or(it==KK4)or(it==KO4))thenreturn 270.elseif(it==KM4)thenreturn 150.elsereturn 180.endifendfunctionfunction ABE takes unit it returns reallocal real ACE=VC7(N47(GetHandleId(it),"TLLife1"),1.)-GetUnitState(it,UNIT_STATE_LIFE)local real A3E=GetUnitState(it,UNIT_STATE_MAX_LIFE)if(A3E==0)thenreturn 0.00elsereturn(ACE/A3E)*100.0endifendfunctionfunction A6E takes unit it,real XVE,integer X5,integer o6 returns booleancall MoveLocation(Ha,GetUnitX(it)+XVE*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+XVE*Sin(GetUnitFacing(it)*bj_DEGTORAD))return((KG7(260.,Ha,Condition(function k6))>0)and(K37(it,X5,o6)))endfunctionfunction ALE takes unit it,real XVE,boolexpr Ig returns booleancall MoveLocation(Ha,GetUnitX(it)+XVE*Cos(GetUnitFacing(it)*bj_DEGTORAD),GetUnitY(it)+XVE*Sin(GetUnitFacing(it)*bj_DEGTORAD))return KG7(260.,Ha,Ig)>0endfunctionfunction A1E takes unit j5,unit m5 returns booleanif((GetUnitAbilityLevel(j5,'A06I')!=0)and(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))]))thenset DD7=200+(200*GetUnitAbilityLevel(j5,'A06I'))return((UD7(j5,m5,40/0.03,0,DD7)!=null)and(T27(j5,m5,GetLocationX(FD7),GetLocationY(FD7),125,Condition(function YA7)))and(IssuePointOrderByIdLoc(j5,852600,FD7)))endifreturn falseendfunctionfunction A0E takes unit j5,unit m5 returns booleanif((GetUnitAbilityLevel(j5,'A0L8')!=0)and(Bz>hq[32+GetPlayerId(GetOwningPlayer(j5))]))thenreturn((UD7(j5,m5,30/0.035,0,3000.)!=null)and(T27(j5,m5,GetLocationX(FD7),GetLocationY(FD7),140,Condition(function uj)))and(IssuePointOrderByIdLoc(j5,852662,FD7)))endifreturn falseendfunctionfunction A5E takes unit j5,unit m5 returns booleanlocal integer I8=0local item jalocal boolean jR=falseloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(OL7(GetItemTypeId(ja))))thenset jR=UnitUseItemTarget(j5,ja,m5)set I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn jRendfunctionfunction A2E takes unit it returns booleanlocal integer I8=0local item jaloopset ja=UnitItemInSlot(it,I8)if((ja!=null)and(ks(GetItemTypeId(ja))))thenset ja=nullreturn trueendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn falseendfunctionfunction A_E takes unit j5 returns booleanlocal integer I8=0local item jalocal boolean jR=falseloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(ks(GetItemTypeId(ja))))thenset GZ[224+GetPlayerId(GetOwningPlayer(j5))]=trueset jR=UnitUseItem(j5,ja)set GZ[224+GetPlayerId(GetOwningPlayer(j5))]=falseset I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset ja=nullreturn jRendfunctionfunction B4E takes unit j5,unit m5 returns booleanlocal integer I8=0local item ja=nulllocal location B7E=nulllocal boolean jR=falseif(OA7(m5))thenreturn falseendifloopset ja=UnitItemInSlot(j5,I8)if((ja!=null)and(GetItemTypeId(ja)==OU[HW]))thenset B7E=kL(j5,m5,100.)if(B7E!=null)thenset jR=UnitUseItemPointLoc(j5,ja,B7E)if((jR)and(hq[512+GetPlayerId(GetOwningPlayer(j5))]<Bz))thenset hq[512+GetPlayerId(GetOwningPlayer(j5))]=Bz+1.endifendifset I8=bj_MAX_INVENTORYendifset I8=I8+1exitwhen I8>=bj_MAX_INVENTORYendloopset B7E=nullset ja=nullreturn jRendfunctionfunction B8E takes nothing returns booleanif((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))and(GetWidgetLife(GetFilterUnit())>.405)and((IsUnitVisible(GetFilterUnit(),GetOwningPlayer(GetEnumUnit())))or(eY[32+GetPlayerId(GetOwningPlayer(GetFilterUnit()))]>0))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0))thenreturn(GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)<=DD7)endifreturn falseendfunctionfunction B9E takes unit it,unit m5 returns nothingif((it!=null)and(it!=GetTriggerUnit())and(is(it))and(IsUnitInRange(it,GetTriggerUnit(),1200.))and(GetUnitLifePercent(it)>50.))thenif(not IssuePointOrderById(it,852553,GetUnitX(m5)+5.,GetUnitY(m5)+5.))thencall IssueTargetOrderById(it,851983,m5)endifendifendfunctionfunction BDE takes unit it,unit m5 returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(it))if(hq[240+O5]<Bz)thenset GZ[O5]=trueif(UD7(it,m5,30/0.035,0,(GetUnitAbilityLevel(it,'A0NB')+1)*250)!=null)and(J8(O5,KA7(it,852089,'A0NB',FD7)))thenset hq[240+O5]=Bz+1.5return trueendifendifreturn falseendfunctionfunction BEE takes nothing returns nothingcall R17(GetEnumUnit())endfunctionfunction BFE takes unit it,unit m5,boolean BGE returns booleanlocal integer i1=GetUnitTypeId(it)local boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(it))if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif(i1=='H00U')thenset J4=(((GetUnitState(it,UNIT_STATE_MANA))>290)and(RN7(it,'A0VM')or(Bz>SL4[O5]))and(RX7(it,BM4,BN4,BO4,'A0VM')and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(RN7(it,'A0VK')or(Bz>SL4[O5]))and(Bz>SL4[96+O5])and RX7(it,BN4,BN4,BM4,'A0VK')and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5)))elseif(i1=='E02I')thenset J4=(IssueTargetOrderById(it,852185,m5))elseif(i1=='U000')thenset J4=KZ7(it,852555,'A0X7',m5)elseif(i1=='Udre')thenset J4=((i2(m5))or(BGE))and(KZ7(it,852095,'A02H',m5))elseif(i1=='UC91')thenset J4=(IsUnitInRange(it,m5,200.))and(K37(it,852127,'A29K'))elseif(i1=='UC42')thenset J4=((i2(m5))or(BGE))and(KZ7(it,852231,'A094',m5))elseif(i1=='NC00')thenset J4=KZ7(it,852095,'AHtb',m5)elseif(i1=='H001')thenset J4=KZ7(it,OrderId("acidbomb"),'A190',m5)elseif(i1=='UC18')thenset J4=(KZ7(it,852555,'A0X5',m5))or((not BGE)and(KZ7(it,852502,'A0MN',m5)))elseif(i1=='Ekee')thenset J4=KZ7(it,852224,'A06W',m5)elseif(i1=='UC11')thenset J4=(IsUnitInRange(it,m5,300.))and(K37(it,852127,'A29L'))elseif(i1=='U00A')thenset J4=KZ7(it,852231,'A055',m5)elseif(i1=='Opgh')thenset J4=(not BGE)and(i2(m5))and(IsUnitInRange(it,m5,500.))and(IssueImmediateOrderById(it,852600))elseif(i1=='U00K')thenset J4=IssueTargetOrderById(it,852218,m5)elseif(i1=='U00F')thenset J4=((IsUnitInRange(it,m5,300.))and(KB7(it,852480,'A0FL','A1CX',m5)))or(((i2(m5))or(BGE))and(A1E(it,m5)))elseif(i1=='U00E')thenset J4=(GetUnitLifePercent(m5)<60.)and(KB7(it,852095,'A067','A08P',m5))elseif(i1=='E01A')thenset J4=KZ7(it,852218,'A0NM',m5)elseif(i1=='U00P')thenset J4=(i2(m5))and(KZ7(it,852119,'A0OJ',m5))elseif(i1=='UC76')thenset J4=(not BGE)and(i2(m5))and(KZ7(it,852592,kS(it),m5))elseif(i1=='N00R')thenset J4=KZ7(it,852488,'A0RA',m5)elseif(i1=='H00N')thenset J4=(i2(m5))and(KZ7(it,852238,'A0QE',m5))elseif(i1=='E005')thenset J4=((i2(m5))or(BGE))and(KZ7(it,852231,'A042',m5))elseif(i1=='Oshd')thenset J4=((not BGE)and(KZ7(it,852227,'A04Y',m5)))or((GetUnitState(it,UNIT_STATE_MANA)>hq[272+GetPlayerId(GetOwningPlayer(it))])and(KZ7(it,852480,'A02Q',m5)))elseif(i1=='Ofar')thenset J4=(IsUnitInRange(it,m5,500.))and(K37(it,852588,'A29I'))elseif(i1=='Npbm')thenset J4=(IsUnitInRange(it,m5,200.))and(K37(it,852096,'A06M'))elseif(i1=='H000')thenset J4=((IsUnitInRange(it,m5,200.))and(K37(it,852127,'A00S')))or((i2(m5))and(KZ7(it,852231,'A00L',m5)))elseif(i1=='Nbrn')thenset J4=(not BGE)and(i2(m5))and(KZ7(it,852592,'A0QB',m5))elseif(i1=='Hlgr')thenset J4=(IsUnitInRange(it,m5,300.))and(KZ7(it,852095,'A0AR',m5))elseif(i1=='Naka')thenset J4=((i2(m5))or(BGE))and(KZ7(it,852095,'A004',m5))elseif(i1=='Orkn')thenset J4=(KZ7(it,852502,'A0RX',m5))or((IsUnitInRange(it,m5,400)or V98(m5))and(KZ7(it,852480,'A00P',m5)))elseif(i1=='Hmbr')thenset J4=(i2(m5))and(KZ7(it,852095,'A0JC',m5))elseif(i1=='Hvwd')thenset J4=KZ7(it,852095,'A02A',m5)elseif(i1=='Uktl')thenset J4=IssueTargetOrderById(it,852662,m5)elseif(i1=='HC49')thenset J4=(not BGE)and(((i2(m5))and(IssueImmediateOrderById(it,852600)))or(KZ7(it,852095,'A24D',m5)))elseif(i1=='Hjai')thenset J4=KZ7(it,852171,'A04C',m5)elseif(i1=='N0HP')thenset J4=KZ7(it,OrderId("channel"),'A1MG',m5)elseif(i1=='HC92')thenset J4=(i2(m5))and(KZ7(it,852089,'A0RG',m5))elseif(i1=='H004')thenset J4=KZ7(it,852232,'A027',m5)elseif(i1=='Otch')thenset J4=KZ7(it,OrderId("channel"),'A0SK',m5)elseif(i1=='Ogrh')thenset J4=((i2(m5))or(BGE))and(KZ7(it,OrderId("acidbomb"),'A10D',m5))elseif(i1=='Ucrl')thenset J4=KZ7(it,852089,'A0LL',m5)elseif(i1=='Hmkg')thenset J4=KZ7(it,852095,O07(it),m5)or(N77(GetHandleId(it),"AI|Magi2Blast")and KZ7(it,852600,'A2KQ',m5))elseif(i1=='E00P')thenset J4=KZ7(it,852580,'A0O6',m5)elseif(i1=='N01V')thenset J4=A0E(it,m5)elseif(i1=='N00B')thenset J4=(i2(m5))and((IsUnitInRange(it,m5,350.))and(IssueImmediateOrderById(it,852600)))elseif(i1=='H06S')thenset J4=KZ7(it,OrderId("blizzard"),'A136',m5)elseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenset J4=(NF7(it,"AlcheBrew"))and(IssueTargetOrderById(it,852600,m5))elseif(i1=='H00S')thenset J4=(KZ7(it,852119,'A14R',m5))elseif(i1=='N0EG')thenset J4=(not JC7(m5))and(KZ7(it,852119,'A12J',m5))elseif(i1=='O016')thenset J4=(KZ7(it,852119,'A19O',m5))or(KZ7(it,852218,'A19V',m5))elseif(i1=='E02H')thenset J4=KZ7(it,852119,'A1S8',m5)elseif(i1=='E02X')thenset J4=KZ7(it,852214,'A27F',m5)elseif(i1=='E02K')thenset J4=(not BGE)and(IssueTargetOrderById(it,852095,m5))endifif(not J4)thenif(not J4)and(KJ7(it,OU[E0]))thenset J4=(not BGE)and((i2(m5))or(J_7(it)))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(it,OU[DR4]))thenset J4=(not BGE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(it,OU[B3]))thenset J4=(not BGE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(it,OU[D24])and(V78(m5)==false)and(SG7(m5)==false))thenset J4=(not BGE)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(it,OU[DL4]))thenset J4=(not BGE)and(UnitUseItem(it,bj_lastCreatedItem))endifendifif(i1=='E02X')and(not J4)and(hq[816+O5]>Bz)thenset G0[288+O5]=trueset J4=BFE(it,m5,BGE)endifreturn J4endfunctionfunction BHE takes unit BIE,unit BJE returns booleanlocal integer i1=GetUnitTypeId(BIE)local integer O5=GetPlayerId(GetOwningPlayer(BIE))local boolean J4=falseif(i1=='H00U')thenset J4=((Bz>SL4[16+O5])and RX7(BIE,BM4,BM4,BM4,'A0VZ')and(KZ7(BIE,852505,'A0VZ',BJE)))or(((GetUnitState(BIE,UNIT_STATE_MANA))>400)and(Bz>SL4[112+O5])and RX7(BIE,BM4,BN4,BO4,'A0VM')and IssuePointOrderById(BIE,852215,GetUnitX(BJE),GetUnitY(BJE)))elseif(i1=='E02I')thenset J4=(IssuePointOrderById(BIE,852662,GetUnitX(BJE),GetUnitY(BJE)))elseif(i1=='E002')thenset J4=(IsUnitInRange(BIE,BJE,650.))and(GetUnitManaPercent(BIE)>60.)and(Bz>SL4[16+O5])and(K37(BIE,852526,'A1E7'))elseif(i1=='E02J')thenset J4=(IsUnitInRange(BIE,BJE,795.))and(GetUnitAbilityLevel(BIE,'A1TV')<3)and(GetUnitManaPercent(BIE)>70.)and(IssueTargetOrderById(BIE,852095,BJE))if(not J4)thenset J4=(IsUnitInRange(BIE,BJE,795.))and(GetUnitAbilityLevel(BIE,'A1U6')>0)and(GetUnitAbilityLevel(BIE,'A1TV')>=3)and(((Bz>SL4[48+O5])and(GetUnitManaPercent(BIE)>55.)and(IA7(O5,BIE,'A1TV','A1SU'))and(IssueTargetOrderById(BIE,852095,BJE)))or((GetUnitManaPercent(BIE)>20.)and(IssueTargetOrderById(BIE,852095,QJ7(795.,BIE)))))endifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenset J4=KZ7(BIE,852119,'A0G2',BJE)elseif(i1=='U000')thenset J4=(KZ7(BIE,852555,'A0X7',BJE))or(KZ7(BIE,OrderId("creepheal"),'A1H5',BJE))elseif(i1=='UC01')thenset J4=KZ7(BIE,852527,'A0Q7',BJE)elseif(i1=='EC57')thenset J4=KZ7(BIE,OrderId("volcano"),'A173',BJE)elseif(i1=='Ewar')thenset J4=KZ7(BIE,OrderId("acidbomb"),'A0YM',BJE)elseif(i1=='Ulic')thenset J4=KZ7(BIE,852226,'A07F',BJE)elseif(i1=='UC11')thenset J4=KZ7(BIE,852125,'A02S',BJE)elseif(i1=='Udea')thenset J4=IssueTargetOrderById(BIE,852662,BJE)elseif(i1=='U00E')thenset J4=(IsUnitInRange(BIE,BJE,400.))and(K37(BIE,852526,'A05V'))elseif(i1=='Oshd')thenset J4=KZ7(BIE,852119,'A0GK',BJE)elseif(i1=='Ofar')thenset J4=KZ7(BIE,852662,'A046',BJE)elseif(i1=='H00H')thenset J4=(IsUnitInRange(BIE,BJE,500.))and(IssueTargetOrderById(BIE,852089,BJE))elseif(i1=='UC76')thenset J4=KZ7(BIE,852218,kT(BIE),BJE)elseif(i1=='Hlgr')thenset J4=(KZ7(BIE,852580,'A03F',BJE))or(KZ7(BIE,852095,'A0AR',BJE))elseif(i1=='E01B')thenset J4=IssueTargetOrderById(BIE,852662,BJE)elseif(i1=='N00R')thenset J4=KZ7(BIE,852238,'A26O',BJE)elseif((i1=='H00R')or(i1=='H07I'))thenset I04=BIEset J4=(KH7(1000.,BIE,Condition(function ny))>3)and(IssueTargetOrderById(BIE,852699,BJE))elseif(i1=='H00N')thenset J4=KZ7(BIE,852238,'A0QE',BJE)elseif(i1=='H008')thenset J4=(IsUnitInRange(BIE,BJE,400.))and(K37(BIE,852526,'A0GP'))elseif(i1=='H000')thenset J4=((IsUnitInRange(BIE,BJE,200.))and(K37(BIE,852127,'A00S')))or(KZ7(BIE,852231,'A00L',BJE))elseif(i1=='Usyl')thenset J4=IssueTargetOrderById(BIE,852089,BJE)elseif(i1=='Orkn')thenset J4=KZ7(BIE,852587,'A010',BJE)elseif(i1=='Hmbr')thenset J4=(KZ7(BIE,852095,'A0JC',BJE))or(KZ7(BIE,852119,'A020',BJE))elseif(i1=='Ntin')thenset J4=(K37(BIE,852526,'A05E'))or(KZ7(BIE,852585,'A049',BJE))elseif(i1=='O00P')thenset J4=(KZ7(BIE,852218,'A0FN',BJE))or(IssueTargetOrderById(BIE,852662,BJE))elseif(i1=='Hjai')thenset J4=KZ7(BIE,OrderId("blizzard"),'A1E9',BJE)elseif(i1=='H00A')thenset J4=KZ7(BIE,852095,'A0LV',BJE)elseif(i1=='H004')thenset J4=(KZ7(BIE,852125,'A01F',BJE))or(KZ7(BIE,852232,'A027',BJE))elseif(i1=='N01A')thenset J4=IssueTargetOrderById(BIE,852662,BJE)elseif(i1=='E00P')thenset J4=KZ7(BIE,852218,'A0O7',BJE)elseif(i1=='N01V')thenset J4=(IsUnitInRange(BIE,BJE,500.))and(IssueImmediateOrderById(BIE,852600))elseif(i1=='N00B')thenset J4=((IsUnitInRange(BIE,BJE,350.))and(IssueImmediateOrderById(BIE,852600)))or(IssuePointOrderById(BIE,852662,GetUnitX(BJE),GetUnitY(BJE)))elseif(i1=='N016')thenset J4=KZ7(BIE,852218,'A21M',BJE)elseif(i1=='N017' or i1=='N02B')thenset J4=(IsUnitInRange(BIE,BJE,400.)and(K37(BIE,852096,'A21N')))elseif(i1=='E02X')thenset J4=KZ7(BIE,852184,'A27G',BJE)elseset J4=BFE(BIE,BJE,true)endifreturn J4endfunctionfunction BKE takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((G0[32+O5])or(not G0[128+O5])or(G0[O5]))thenelseif(h4[O5]==null)thenset h4[O5]=hzif(JC7(GetEnumUnit()))thencall BHE(GetEnumUnit(),hz)endifelseif(JC7(GetEnumUnit()))thencall BHE(GetEnumUnit(),hz)endifendfunctionfunction BME takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((G0[32+O5])or(not G0[128+O5])or(G0[O5])or(GT))thenelseif(h4[O5]==null)thenset h4[O5]=hzif(JC7(GetEnumUnit()))thenset GT=BFE(GetEnumUnit(),hz,true)endifelseif(JC7(GetEnumUnit()))thenset GT=BFE(GetEnumUnit(),hz,true)endifendfunctionfunction BNE takes unit BIE,unit BJE returns nothingset hZ=BIEset hz=BJEif(GetWidgetLife(BJE)>1.)thencall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(BIE),GetUnitY(BIE),1200.,iP)call ForGroup(iA,function BKE)endifendfunctionfunction BOE takes unit BIE,unit BJE returns nothingset hZ=BIEset hz=BJEif(GetWidgetLife(BJE)>1.)thencall GroupClear(iA)call GroupEnumUnitsInRange(iA,GetUnitX(BIE),GetUnitY(BIE),1200.,iP)set GT=falsecall ForGroup(iA,function BME)endifendfunctionfunction BPE takes unit IB,unit m5,boolean BQE returns nothingif((m5==null)or(not J07(m5))or(not IsUnitType(m5,UNIT_TYPE_HERO))or(IsUnitAlly(m5,GetOwningPlayer(IB))))thenreturnendifset h4[GetPlayerId(GetOwningPlayer(IB))]=m5call V2E(IB,m5)if((not IsUnitInForce(IB,QP4))or(not JC7(IB)))thenelseif((BQE)and(G0[128+GetPlayerId(GetOwningPlayer(IB))])and((not J_7(IB))or(J_7(m5))))thencall IssueTargetOrderById(IB,851983,m5)elseif((J_7(IB))and(not K97(m5,IB)))thencall jW(IB,851986,h9[GetPlayerId(GetOwningPlayer(IB))])endifendfunctionfunction BRE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(j5))local real J47=Bz+4.5local real BSE=Bz+7.5local real UCE=775local boolean KT7=falselocal boolean BTE=R97(Player(O5))set hq[O5]=Bz+120.if BTE thencall NH7(j5,"AlcheBrew")if h4[O5]!=null thenset UCE=J77(j5,h4[O5])endifendifloopcall TriggerSleepAction(0.5)if BTE thenif h4[O5]!=null thenif(not IsUnitInRange(j5,h4[O5],600))thenexitwhen trueendifelseset bj_lastLoadedUnit=j5if KH7(600,j5,Condition(function P87))==0 thenexitwhen trueendifendifendifexitwhen((not J07(j5))or(Bz>J47))endloopif not R97(Player(O5))thencall BOE(j5,j5)set j5=nullreturnendifif(J07(j5))thenset m5=h4[O5]if(m5==null)or(not J07(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenset m5=QK7(775.,j5)endifloopexitwhen(Bz>BSE)if(m5==null)or(not J07(m5))or(not IsUnitInRange(m5,j5,750.))or(IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenset m5=QK7(775.,j5)endifif m5!=null and IssueTargetOrderById(j5,852600,m5)thenset h4[O5]=m5exitwhen trueendifif m5==null and KT7==false and Bz+2.>=BSE thencall UFE(j5,true)set KT7=trueendifcall TriggerSleepAction(0.25)endloopendifcall NJ7(j5,"AlcheBrew")set j5=nullset m5=nullendfunctionfunction BUE takes integer O5,unit j5 returns nothinglocal integer UP=0loopexitwhen(h4[O5]==null)or(not J07(j5))or(J_7(j5))or(not J07(h4[O5]))or(not NF7(j5,"SunRay|Disarmed"))or(UP>9)or G0[48+O5]or G0[32+O5]or(not IsUnitInRange(j5,h4[O5],1150))or(not G0[256+O5])call TriggerSleepAction(0.15)set I04=j5if(not T27(j5,h4[O5],GetUnitX(h4[O5]),GetUnitY(h4[O5]),75,Condition(function Y47)))thenset UP=UP+1elseset UP=0endifif(not IsUnitInRange(j5,h4[O5],700))thencall IssueImmediateOrderById(j5,852177)elseif(IsUnitInRange(j5,h4[O5],500))thencall IssueImmediateOrderById(j5,852178)endifcall IssueTargetOrderById(j5,851971,h4[O5])endloopcall IssueImmediateOrderById(j5,852217)endfunctionfunction BVE takes nothing returns booleanlocal unit j5=GetTriggerUnit()local unit m5=GetOrderTargetUnit()local integer i1=GetUnitTypeId(GetTriggerUnit())local location b5=nulllocal boolean J4=falseif((i1=='EC45')and(GetUnitLifePercent(m5)<55.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not OA7(m5))and(KH7(800.,m5,Condition(function P47))<2)and(KH7(800.,m5,Condition(function PF7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset b5=kL(j5,m5,150.)set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852218,b5))elseif((i1=='Edem')and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,800.))and(not OA7(m5))and(KH7(800.,m5,Condition(function P47))<2)and(KH7(800.,m5,Condition(function PF7))==0)and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset b5=kL(j5,m5,200.)set J4=(b5!=null)and(IssuePointOrderByIdLoc(j5,852525,b5))elseif(((i1=='U00A')or(i1=='Ewar')or(i1=='HC92'))and(GetUnitLifePercent(m5)<75.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(not OA7(m5))and(KH7(800.,m5,Condition(function P47))<2)and(KH7(800.,m5,Condition(function PF7))==0)and(kJ(GetUnitX(m5),GetUnitY(m5)))and(not IC(GetPlayerId(GetOwningPlayer(j5)))))thenset J4=IssueTargetOrderById(j5,852600,m5)elseif((i1=='O00J')and(not IsUnitInRange(m5,j5,700.))and(((KH7(900.,m5,Condition(function P47))<=2)and(KJ7(j5,OU[V1]))or(KJ7(j5,OU[DM4])))or((KH7(900.,m5,Condition(function P47))<2)))and(GetUnitLifePercent(m5)<70.))thenset J4=KZ7(j5,OrderId("channel"),'A1P8',m5)elseif((i1=='U00F')and(GetUnitLifePercent(m5)<80.)and(not IsUnitInRange(j5,m5,300.)))thenset J4=(Bz>hq[16+GetPlayerId(GetOwningPlayer(j5))])and(A1E(j5,m5))elseif((i1=='UC11')and(GetUnitAbilityLevel(j5,'B00U')==0)and((hq[416+GetPlayerId(GetOwningPlayer(j5))]>Bz)or(h4[GetPlayerId(GetOwningPlayer(j5))]==m5))and(not IsUnitInRange(j5,m5,200.)))thenset J4=KZ7(j5,852066,'A037',j5)endifif((not J4)and(OC7(j5))and(KJ7(j5,OU[HW]))and(not IC(GetPlayerId(GetOwningPlayer(j5))))and(GetUnitLifePercent(m5)<50.)and(not IsUnitInRange(j5,m5,250.))and(IsUnitInRange(j5,m5,700.))and(KH7(800.,m5,Condition(function P47))<2)and(KH7(800.,m5,Condition(function PF7))==0))thenset J4=B4E(j5,m5)endifset j5=nullset m5=nullset b5=nullreturn J4endfunctionfunction BWE takes integer O5,unit j5,boolean BXE returns nothingcall DisableTrigger(QY4[O5])call DisableTrigger(QY4[16+O5])if(BXE)thencall PauseUnit(j5,true)call IssueImmediateOrderById(j5,851972)call PauseUnit(j5,false)endifset G0[272+O5]=truecall J3(j5,true)set G0[272+O5]=falsecall EnableTrigger(QY4[O5])call EnableTrigger(QY4[16+O5])endfunctionfunction BYE takes nothing returns booleanlocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if O5==0 or O5==6 or O5>11 thenreturn falseendifset eY[464+O5]=GetIssuedOrderId()set h4[336+O5]=nullset eY[480+O5]=0set eY[496+O5]=0if GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER thenset h4[336+O5]=GetOrderTargetUnit()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER thenset eY[480+O5]=R2I(GetOrderPointX())set eY[496+O5]=R2I(GetOrderPointY())endifreturn falseendfunctionfunction BZE takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetTriggerUnit()))and((GetIssuedOrderId()>852000)or(GetIssuedOrderId()==851983)))endfunctionfunction BAE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=nulllocal integer X5=GetIssuedOrderId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))local boolean BBE=falselocal integer BCElocal boolean J4if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)thenset m5=GetOrderTargetUnit()if(m5!=null)thenif(not J07(m5))thencall BWE(O5,j5,false)set BBE=trueelseif((X5==852125)or(X5==852555)or(X5==852089)or(X5==852218)or(X5==852652))thenif((GetUnitAbilityLevel(m5,'Bcyc')>0)or(GetUnitAbilityLevel(m5,'Bcy2')>0))thencall BWE(O5,j5,false)set BBE=trueendifelseif((X5==852600)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(OA7(m5)))thencall BWE(O5,j5,false)set BBE=trueelseif((X5==851983)and(GetUnitAbilityLevel(m5,'B02F')>0))thencall BWE(O5,j5,false)set BBE=trueendifif((not BBE)and(X5>=852000))thenif((GetUnitAbilityLevel(j5,'B03V')>0)and(GetUnitManaPercent(j5)>40.)and((h4[O5]==null)or(IsUnitAlly(m5,GetOwningPlayer(j5)))or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall BWE(O5,j5,false)set BBE=trueelseif((GetUnitAbilityLevel(j5,'B01O')>0)and(J_7(j5)))thencall BWE(O5,j5,false)set BBE=trueendifendifif((not BBE)and(X5==851983)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))call DisableTrigger(QY4[O5])set BBE=(GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitAbilityLevel(j5,'BHwe')==0)and(BVE())call EnableTrigger(QY4[O5])endifelseset BBE=trueendifif((X5==851983)and(not BBE))thenset GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)set h4[80+O5]=m5set BBE=trueendifif(BBE)thenset m5=nullset j5=nullreturnendifcall MoveLocation(HC[48+O5],GetUnitX(m5),GetUnitY(m5))elseif((X5>=852008)and(X5<=852013))thenset BCE=GetItemTypeId(UnitItemInSlot(j5,X5-852008))if((BCE==OU[AC])or(BCE==OU[ZC])or(BCE==OU[N6]))thenset BBE=trueendifelseif(X5==851983)thenset BBE=trueset GZ[48+O5]=falseelseif(X5>=852000)thenif((GetUnitAbilityLevel(j5,'B03V')>0)and(GetUnitManaPercent(j5)>40.)and(h4[O5]==null))thencall BWE(O5,j5,false)set BBE=trueelseif((GetUnitAbilityLevel(j5,'B01O')>0)and(J_7(j5)))thencall BWE(O5,j5,false)set BBE=trueendifendifif(BBE)thenset m5=nullset j5=nullreturnendifcall MoveLocation(HC[48+O5],GetOrderPointX(),GetOrderPointY())endifif((X5>=852008)and(X5<=852013))thenset X5=O37(j5)set J4=trueif((X5==OU[HW])or(X5==OU[N6])or(X5==OU[DL])or(X5==OU[AC])or(X5==OU[ZC])or(X5==OU[YC])or((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))))thenif((X5==OU[E0])and((not J_7(j5))or((UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)>0)))and(not i2(m5))and(GetUnitAbilityLevel(m5,'B009')==0)and(GetUnitAbilityLevel(m5,'B00B')==0)and(GetUnitAbilityLevel(m5,'B01E')==0)and(GetUnitAbilityLevel(m5,'B01P')==0))thenset J4=falseelseif(OL7(X5))thenif((((i1!='U00E')and(GetUnitLifePercent(m5)>50.))or(GetUnitLifePercent(m5)>75.))and(GetUnitAbilityLevel(m5,'B01N')==0)and(GetUnitAbilityLevel(m5,'B05H')==0))thenset J4=falseelseif((i1=='U000')and(GetUnitAbilityLevel(j5,'B00K')>0))thenset J4=falseendifelseif((X5==OU[TC])and((GetUnitAbilityLevel(m5,'B02Z')>0)or(m5!=j5)or(J77(j5,K67(j5))<4500.)or(KH7(1200.,m5,Condition(function k0))>0)))thenset J4=falseelseif((X5==OU[HW])and(GetUnitAbilityLevel(j5,'B067')>0))thenset J4=falseendifelseif((X5==OU[Q1])or(X5==OU[V1]))thenif((GetOwningPlayer(m5)==Y7[0])or(GetOwningPlayer(m5)==Z7[0]))thenset J4=falseelseif(GetOwningPlayer(m5)==Player(12))thenset X5=GetUnitTypeId(m5)if((X5!='nomg')and(X5!='nfpc')and(X5!='nsth')and(X5!='ncnk'))thenset J4=falseendifelseset X5=GetUnitTypeId(m5)if((X5=='u003')or(X5=='u005')or(X5=='u009'))thenset J4=falseendifendifelseset J4=falseendifif not J4 thencall PauseUnit(j5,true)call IssueImmediateOrderById(j5,851972)call PauseUnit(j5,false)call OZ7(O5,j5,0)endifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif((X5==852111)and((GetUnitAbilityLevel(j5,'B03V')>0)or((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_SUMMONED)))))thencall OZ7(O5,j5,'A1AT')endifelseif(i1=='E02J')thenif((X5==852089)and(not GZ[O5]))thencall OZ7(O5,j5,'A1SU')endifelseif(i1=='U00C')thenif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A194')elseif(X5==852600)thenendifelseif(i1=='EC77')thenif((X5==852527)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not J_7(j5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(400*GetUnitAbilityLevel(j5,'A080')))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(460*GetUnitAbilityLevel(j5,'A1UZ')))))))thencall J6(O5,j5,'A080','A1UZ')endifelseif(i1=='EC45')thenif((X5==852652)and((not GZ[O5])or(KG7(380.,HC[48+O5],Condition(function P47))==0)))thencall OZ7(O5,j5,'A0J1')endifelseif(i1=='U000')thenif((X5==OrderId("creepheal"))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*GetUnitAbilityLevel(j5,'A09U'))))and(not J_7(m5)))or(GetUnitState(m5,UNIT_STATE_MANA)<100.)or(GetUnitAbilityLevel(j5,'B00K')>0)))thencall OZ7(O5,j5,'A1H5')elseif(X5==852555)thenif(((not GZ[O5])or(GetUnitAbilityLevel(j5,'B00K')>0)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and((KG7(1500.,HC[48+O5],Condition(function P47))>0)or(GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6)))thencall OZ7(O5,j5,'A0X7')endifendifelseif(i1=='Udre')thenif((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((VI7())and(GetUnitLifePercent(m5)>80.))))thencall OZ7(O5,j5,'A02H')elseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A08C')endifelseif(i1=='UC01')thenif((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KG7(600.,HC[48+O5],Condition(function k3))<6))thencall J6(O5,j5,'A28R','A28S')elseif((X5==852527)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0Q7')elseif(X5==852525)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1=='UC91')thenif((X5==852149)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A034')endifelseif(i1=='UC42')thenif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(j5,UNIT_STATE_MANA))<(200+(50*AXE(j5))))and(not i2(m5))and(not J_7(m5)))))thencall OZ7(O5,j5,'A094')elseif((X5==852583)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not J_7(j5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(350+(350*AXE(j5)))))))thencall J6(O5,j5,'A0MU','A0A2')elseif((X5==OrderId("channel"))and(GetUnitManaPercent(j5)<45.))thencall OZ7(O5,j5,'A10R')endifelseif(i1=='NC00')thenif((X5==852095)and(not J_7(m5))and(not J_7(j5))and((GetUnitAbilityLevel(j5,'B03V')>0)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(250+(50*GetUnitAbilityLevel(j5,'A01Y'))))))thencall OZ7(O5,j5,'AHtb')endifelseif((i1=='Eevi')or(i1=='Eevm'))thenif((X5==852189)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(j5)+10.>GetUnitLifePercent(m5))))thencall OZ7(O5,j5,'A07Q')elseif(X5==852189)thencall RemoveGuardPosition(j5)endifelseif(i1=='Ekee')thenif(X5==852224)thencall OZ7(O5,j5,'A06W')elseif(X5==852119)thencall OZ7(O5,j5,'A06V')endifelseif(i1=='Ulic')thenif((X5==852066)and((GetUnitLifePercent(m5)<50.)or(GetUnitManaPercent(j5)>80.)))thencall OZ7(O5,j5,'A053')elseif((X5==852227)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall J6(O5,j5,'A05T','A08H')elseif((X5==852225)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A08R')endifelseif(i1=='U006')thenif(X5==852224)thencall OZ7(O5,j5,'A0BG')elseif(X5==852601)thencall OZ7(O5,j5,'A0BH')endifelseif(i1=='UC18')thenif((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0MN')elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall J6(O5,j5,'A095','A09W')elseif((X5==852487)and((IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)>70.)))thencall OZ7(O5,j5,'A02N')endifelseif(i1=='EC57')thenif((X5==OrderId("volcano"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A173')endifelseif(i1=='UC11')thenif((X5==852066)and(not kQ(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitAbilityLevel(m5,'B00U')>0)or(KG7(800.,HC[48+O5],Condition(function k3))==0)or(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,'A29L')*100)))))thencall OZ7(O5,j5,'A037')elseif(X5==852218)and(not GZ[O5])thencall OZ7(O5,j5,'A1RD')endifelseif(i1=='UC60')thenif((X5==852189)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A08X')endifelseif(i1=='U00A')thenif((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A055')elseif(X5==852600)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1=='Ewar')thenif((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0YM')elseif(X5==852600)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1=='Hvsh')thenif((X5==852668)and(j5!=m5)and(not(IN7(GetUnitTypeId(m5),DC7))))thencall OZ7(O5,j5,'A0EC')elseif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall OZ7(O5,j5,'A0LH')endifelseif(i1=='Opgh')thenif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,'A0E2'))))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(150+(150*GetUnitAbilityLevel(j5,'A1MR')))))))thencall J6(O5,j5,'A0E2','A1MR')endifelseif(i1=='O00J')thenif((X5==OrderId("channel")))thenset hq[O5]=Bz+41.call I17(1.)endifelseif(i1=='E02F')thenif(X5==852600)thenset TK4[O5]=trueendifelseif(i1=='U00F')thenif((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J6(O5,j5,'A0FL','A1CX')endifelseif(i1=='U00E')thenif((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>60.)))thencall J6(O5,j5,'A067','A08P')endifelseif(i1=='Oshd')thenif((X5==852227)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A04Y')elseif((X5==852119)and(not kQ(j5))and(GetUnitLifePercent(j5)>70.)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thenif((GetUnitLifePercent(j5)>90.)or(KG7(1200.,HC[48+O5],Condition(function P47))>0)or(GetUnitManaPercent(j5)<70.))thencall OZ7(O5,j5,'A0GK')endifelseif((X5==852066)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A04V')elseif((X5==852480)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A02Q')endifelseif(i1=='Ofar')thenif((X5==852662)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A046')endifelseif(i1=='H00H')thenif((X5==852486)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0CE')elseif((X5==852487)and(((not IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(j5)>70.))or(not IsUnitInRange(j5,m5,500.))))thencall J6(O5,j5,'A0CC','A02Z')endifelseif(i1=='UC76')thenif((X5==852592)and(KG7(250.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,kS(j5))endifelseif(i1=='E01A')thenif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KG7(200.,HC[48+O5],Condition(function P47))==0))thenif((KG7(1200.,HC[48+O5],Condition(function P47))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))thencall OZ7(O5,j5,'A0NM')endifelseif((X5==852089)and(KG7(100.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,'A0NO')elseif((X5==852597)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KG7(400.,HC[48+O5],Condition(function P47))==0))thencall J6(O5,j5,'A0NT','A0NX')endifelseif(i1=='U00P')thenif((X5==852119)and(not GZ[O5])and((not IsUnitType(m5,UNIT_TYPE_HERO))or((not J_7(j5))and(not i2(m5)))))thencall OZ7(O5,j5,'A0OJ')elseif((X5==852089)and(GetUnitAbilityLevel(j5,'A0OK')>0)and(KG7(250+(100*GetUnitAbilityLevel(j5,'A0OK')),HC[48+O5],Condition(function P47))==0))thencall J6(O5,j5,'A0OK','A1VW')elseif((X5==852089)and(GetUnitAbilityLevel(j5,'A1VW')>0)and(KG7(350+(100*GetUnitAbilityLevel(j5,'A0OK')),HC[48+O5],Condition(function P47))==0))thencall J6(O5,j5,'A0OK','A1VW')endifelseif(i1=='E01C')thenif((X5==852089)and(not GZ[O5]))thencall OZ7(O5,j5,'A06P')elseif((X5==852224)and(not GZ[O5]))thencall OZ7(O5,j5,'S008')endifelseif((i1=='H00I')or(i1=='H00J'))thenif((X5==852089)and(not GZ[O5]))thencall OZ7(O5,j5,'A0NB')endifelseif(i1=='N01W')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0NQ')endifelseif(i1=='N00R')thenif((X5==852488)and(not GZ[O5]))thencall OZ7(O5,j5,'A0RA')elseif((X5==852526)and(not GZ[O5]))thencall OZ7(O5,j5,'A288')endifelseif(i1=='H00N')thenif((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0R7')endifelseif(i1=='E005')thenif((X5==852231)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A042')endifelseif(i1=='Npbm')thenif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'Acdh')endifelseif(i1=='H000')thenif((X5==852231)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(R2I(GetUnitState(m5,UNIT_STATE_LIFE))>(40+(125*(GetUnitAbilityLevel(j5,'A00L')))))))thencall OZ7(O5,j5,'A00L')endifelseif(i1=='Nbrn')thenif((X5==852592)and(KG7(250.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,'A0QB')endifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0AR')endifelseif(i1=='Edem')thenif((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitManaPercent(m5)>15.)and(GetUnitState(m5,UNIT_STATE_LIFE)>((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(j5,'A0E3'))*.25)))))))thencall OZ7(O5,j5,'A0E3')elseif(X5==852525)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1=='Usyl')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A04P')endifelseif(i1=='Harf')thenif((X5==852225)and((not IsUnitType(m5,UNIT_TYPE_HERO))or((GetUnitLifePercent(m5)>80.)and(not GZ[64+O5]))))thenif((GetUnitLifePercent(m5)>95.)or(KG7(1500.,HC[48+O5],Condition(function P47))>0)or(GetUnitManaPercent(j5)<70.))thencall OZ7(O5,j5,'A08N')endifelseif((X5==852186)and(not GZ[O5])and((GetUnitLifePercent(m5)>75.)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitState(m5,UNIT_STATE_LIFE)>GetUnitState(j5,UNIT_STATE_LIFE))))thencall OZ7(O5,j5,'A08V')endifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenif(X5==852218)thencall OZ7(O5,j5,'A21M')endifelseif(i1=='Naka')thenif((X5==852095)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitManaPercent(j5)<40.)))thencall OZ7(O5,j5,'A004')elseif((X5==852149)and(GetUnitLifePercent(m5)>60.)and(not J_7(j5)))thencall OZ7(O5,j5,'A0B4')endifelseif(i1=='Orkn')thenif((X5==852502)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0RX')elseif((X5==852480)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(not GZ[O5])))thencall OZ7(O5,j5,'A00P')elseif((X5==852504)and(not GZ[O5]))thencall J6(O5,j5,'A00H','A0A1')endifelseif(i1=='Hvwd')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A02A')elseif((X5==852587)and((not GZ[O5])or(OA7(m5))))thencall J6(O5,j5,'A0IN','A1AW')endifelseif(i1=='Hmbr')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0JC')endifelseif(i1=='Emoo')thenif((X5==852075)and((GetOwningPlayer(m5)==Y7[0])or(GetOwningPlayer(m5)==Z7[0])))thencall OZ7(O5,j5,'A0DX')endifelseif(i1=='Uktl')thenif((X5==OrderId("cannibalize"))and(KG7(400.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,0)endifelseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenif((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A10X')elseif((X5==OrderId("acolyteharvest"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A112')endifelseif(i1=='Ntin')thenif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A049')endifelseif(i1=='Emns')thenif((X5==OrderId("carrionswarm"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A21E')elseif((X5==852119)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thenif((KG7(1200.,HC[48+O5],Condition(function P47))>0)or(GetUnitManaPercent(j5)<40.))thencall J6(O5,j5,'A1W8','A1W9')endifendifelseif(i1=='O00P')thenif((X5==852218)and(not GZ[O5])and(not J_7(j5))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0FN')elseif((X5==852274)and(((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(m5!=h4[O5]))or(GetUnitAbilityLevel(j5,'A0GC')>0)))thencall OZ7(O5,j5,'A0G8')endifelseif(i1=='HC49')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J7(O5,j5,'A24D')endifelseif(i1=='Nbbc')thenif((X5==852095)and(not J_7(j5))and((not IsUnitType(m5,UNIT_TYPE_HERO))or((KG7(600.,HC[48+O5],Condition(function P47))*2)<KG7(600.,HC[48+O5],Condition(function k3)))))thencall J6(O5,j5,'A0M1','A1AX')endifelseif(i1=='Hjai')thenif((X5==852171)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A04C')endifelseif(i1=='HC92')thenif((X5==852089)and(not GZ[64+O5])and(KG7(200+(50*GetUnitAbilityLevel(j5,'A0RG')),HC[48+O5],Condition(function P47))==0))thenif((GetUnitManaPercent(j5)<70.)or(GetHeroLevel(j5)<6)or(KG7(1500.,HC[48+O5],Condition(function P47))>0))thencall OZ7(O5,j5,'A0RG')endifelseif(X5==852600)thenif(hq[512+O5]<Bz)thenset hq[512+O5]=Bz+1.endifendifelseif(i1=='H001')thenif((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A190')endifelseif(i1=='H00A')thenif((X5==852095)and((GetOwningPlayer(m5)==Y7[0])or(GetOwningPlayer(m5)==Z7[0])or((IsUnitAlly(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))))thencall OZ7(O5,j5,'A0LV')elseif((X5==852131)and((GetOwningPlayer(m5)==Y7[0])or(GetOwningPlayer(m5)==Z7[0])))thenif((GetHeroLevel(j5)<20)or(IH(GetOwningPlayer(j5),Condition(function SR9))>0))thencall OZ7(O5,j5,'A28T')endifelseif((X5==852585)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0KM')endifelseif(i1=='H004')thenif((X5==852232)and(not GZ[64+O5])and(KG7(150.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,'A027')elseif((X5==852119)and((not IsUnitType(m5,UNIT_TYPE_HERO))or(GetUnitLifePercent(m5)>80.)))thencall J6(O5,j5,'A01P','A09Z')endifelseif(i1=='Otch')thenif((X5==OrderId("channel"))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))and(KG7(200.,HC[48+O5],Condition(function P47))==0))thenif((KG7(1500.,HC[48+O5],Condition(function P47))>0)or(GetHeroLevel(j5)<6)or(GetUnitManaPercent(j5)<70.))thencall OZ7(O5,j5,'A0SK')endifendifelseif(i1=='H00K')thenif(X5==852278)thencall OZ7(O5,j5,'A05J')elseif(X5==852114)thencall OZ7(O5,j5,'A06H')elseif(X5==852040)thencall OZ7(O5,j5,'A06B')elseif(X5==852504)thencall J6(O5,j5,'A0AK','A1FY')elseif(X5==852119)thencall OZ7(O5,j5,'A1WF')endifelseif(i1=='Hmkg')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,O07(j5))elseif((X5==852600)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A2KQ')elseif((X5==852101)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,O27(j5))endifelseif(i1=='Ogrh')thenif((X5==OrderId("acidbomb"))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A10D')endifelseif(i1=='Hamg')thenif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A26N')endifelseif(i1=='H00D')thenif((X5==852218)and(not GZ[O5])and((GetUnitManaPercent(j5)<30.)or(IsUnitInRangeLoc(j5,HC[48+O5],600.)))and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall OZ7(O5,j5,'A0O1')elseif((X5==852095)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall J6(O5,j5,'A0O2','A289')endifelseif(i1=='E00P')thenif((X5==852218)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0O7')elseif((X5==852580)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KG7(200.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,'A0O6')elseif((X5==852125)and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A0O5')endifelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenif((X5==852089)and(GetUnitManaPercent(j5)<40.)and((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))))thencall OZ7(O5,j5,'A0IL')endifelseif(i1=='H00S')thenif((X5==852218))thencall OZ7(O5,j5,'A14O')elseif((X5==852119))thencall OZ7(O5,j5,'A14R')endifelseif(i1=='N00B')thenif((X5==852089)and(not GZ[O5]))thencall J6(O5,j5,'A0S8','A1QP')endifelseif((i1=='Eevi')or(i1=='Eevm'))thenif((X5==852089)and(not GZ[O5]))thencall OZ7(O5,j5,'A27A')endifelseif((i1=='H00R')or(i1=='H07I'))thenif(X5==852089)thencall OZ7(O5,j5,'A15S')endifelseif(i1=='H06S')thenif(X5==852089)thencall OZ7(O5,j5,'A136')elseif(X5==852662)thencall OZ7(O5,j5,'A11K')endifelseif(i1=='N0EG')thenif(X5==852119)thencall OZ7(O5,j5,'A12J')endifelseif(i1=='O016')thenif(X5==852089)thencall OZ7(O5,j5,'A1EL')elseif(X5==852119)thencall OZ7(O5,j5,'A19O')elseif(X5==852218)thencall OZ7(O5,j5,'A19V')endifelseif(i1=='E02N')thenif(X5==852119)thencall OZ7(O5,j5,'A1SQ')elseif(X5==852089)thencall J6(O5,j5,'A1T5','A235')endifelseif(i1=='E02H')thenif(X5==852119)thencall OZ7(O5,j5,'A1S8')elseif(X5==852089)thencall OZ7(O5,j5,'A1SB')elseif(X5==852111)thencall OZ7(O5,j5,'A1SA')endifelseif(i1=='O01F')thenif(X5==852119)thencall OZ7(O5,j5,'A1TA')endifelseif(i1=='E02X')thenif((X5==852184)and((GetUnitManaPercent(j5)<60.)or(GetHeroLevel(j5)<6))and(not IsUnitType(m5,UNIT_TYPE_HERO)))thencall OZ7(O5,j5,'A27G')elseif((X5==852214)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KG7(200.,HC[48+O5],Condition(function P47))==0))thencall OZ7(O5,j5,'A27F')endifelseif(i1=='N01A')thenif(X5==852089)thencall OZ7(O5,j5,'A14L')endifelseif(i1=='N0M0')thenif(X5==852089)thencall OZ7(O5,j5,'A2H0')endifelseif(i1=='E02K')thenif(X5==852089)thencall OZ7(O5,j5,'A2JB')endifelseif(i1=='H0DO')thenif(X5==852119)thencall OZ7(O5,j5,'A2BE')elseif(X5==852668)thencall OZ7(O5,j5,'A2HN')endifendifset j5=nullset m5=nullendfunctionfunction B3E takes nothing returns booleanreturn((IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(not IsUnitIllusion(GetTriggerUnit()))and(GetIssuedOrderId()>852000))endfunctionfunction B6E takes nothing returns nothinglocal integer i=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))if(GetTriggerEventId()==EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)thencall MoveLocation(HC[i],GetUnitX(GetOrderTargetUnit()),GetUnitY(GetOrderTargetUnit()))set i=GetIssuedOrderId()-852008if((i>=0)and(i<6)and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_NONE)and(IsUnitInForce(GetTriggerUnit(),QP4)))thenset i=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),i))if((i==OU[E0])or(i==OU[Q1])or(i==OU[R1])or(i==OU[T1])or(i==OU[U1]))thencall IssueTargetOrderById(GetTriggerUnit(),851983,GetOrderTargetUnit())endifendifelsecall MoveLocation(HC[i],GetOrderPointX(),GetOrderPointY())endifendfunctionfunction BLE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer X5=GetIssuedOrderId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))if((X5>=852000)and(X5<854000))thenif((GetUnitAbilityLevel(j5,'B01O')>0)and(J_7(j5)))thencall J3(j5,true)set j5=nullreturnendifendifcall MoveLocation(HC[48+O5],GetUnitX(j5),GetUnitY(j5))if((X5>=852008)and(X5<=852013))thenset X5=O37(j5)if((X5==OU[A1])and(Bz>hq[64+O5])and(not GZ[224+O5]))thencall BWE(O5,j5,true)elseif((X5==OU[DQ4])and((Bz+20.)>hq[O5])and(Bz>hq[48+O5]))thencall BWE(O5,j5,true)elseif((X5==OU[O0])and(not GZ[64+O5])and((N77(GetHandleId(j5),"Mekansm"))or(GetUnitLifePercent(j5)>80.)))thencall BWE(O5,j5,true)elseif((X5==OU[DL4])and(KG7(900.,HC[48+O5],Condition(function P47))==0))thencall BWE(O5,j5,true)elseif((X5==OU[J1])and(S34==false))thencall BWE(O5,j5,true)elseif((X5==OU[E44]or X5==OU[ZA])and(GetUnitState(j5,UNIT_STATE_LIFE)>150)and(GetItemCharges(UnitItemInSlot(j5,GetIssuedOrderId()-852008))<8))thencall BWE(O5,j5,true)elseif((X5==OU[F6])and(not GZ[64+O5])and((GetUnitAbilityLevel(j5,'Bdef')>0)or(GetUnitManaPercent(j5)<75.)or(GetHeroLevel(j5)<3)))thencall BWE(O5,j5,true)elseif((KP7(X5))and(not GZ[224+O5])and(G0[128+O5]))thencall BWE(O5,j5,true)elseif(((X5==OU[R2])or(X5==OU[T2])or(X5==OU[X2])or(X5==OU[W5])))thenif((i1=='U000')and(GetUnitAbilityLevel(j5,'B00K')>0))thencall BWE(O5,j5,true)elseif((not GZ[224+O5])and(GetHeroLevel(j5)<13)and(iy(j5))and(eY[O5]==1)and(not G0[32+O5]))thencall BWE(O5,j5,true)endifelseif((X5==OU[E84])and((S64==false)and(h4[O5]==null)))thencall BWE(O5,j5,true)endifelseif(i1=='E002')thenif((X5==852526)and((not GZ[O5])or(KG7(789.,HC[48+O5],Condition(function P47))==0)))thencall J7(O5,j5,'A1E7')endifelseif(i1=='U00C')thenif((X5==852273)and(KG7(800.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A0T2')endifelseif(i1=='EC77')thenif((X5==852100)and((not GZ[O5])or(GetUnitLifePercent(j5)<50.))and((KG7(1500.,HC[48+O5],Condition(function P47))>0)or(GetUnitManaPercent(j5)<70.)or(GetUnitLifePercent(j5)<80.)))thencall J7(O5,j5,'A05D')endifelseif(i1=='U000')thenif((X5==852129)and(not GZ[O5]))thencall J7(O5,j5,'A09U')elseif(X5==852526)thencall J7(O5,j5,'A2KO')endifelseif(i1=='UC91')thenif((X5==852100)and(not GZ[O5]))thencall J7(O5,j5,'A05C')elseif(X5==852164)thencall J7(O5,j5,'A29K')endifelseif(i1=='Eevi')thenif((X5==852663)and(not GZ[O5]))thencall J7(O5,j5,'A1RI')endifelseif(i1=='Ekee')thenif(X5==852100)thencall J6(O5,j5,'A21F','A21G')call J7(O5,j5,'A21H')elseif(X5==852526)thencall J7(O5,j5,'A20T')endifelseif(i1=='U006')thenif((X5==852164)and(not J_7(j5))and(KG7(400.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A0WQ')endifelseif(i1=='EC57')thenif((X5==852594)and(not GZ[O5]))thencall J7(O5,j5,'A0A6')call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A013',false)endifelseif(i1=='UC11')thenif((X5==852127)and(KG7(420.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A29L')endifelseif((i1=='U008')or(i1=='E015'))thenif((X5==852126)and(GetUnitManaPercent(j5)<65.)and(KG7(500.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A03D')elseif((X5==852180)and(KG7(800.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A093')endifelseif(i1=='U00A')thenif((X5==852123)and(KG7(350.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A03O')endifelseif(i1=='Nfir')thenif((X5==852164)and(not ALE(j5,200.,Condition(function k3))))thencall J7(O5,j5,'A0EY')elseif((X5==852588)and(not ALE(j5,450.,Condition(function k3))))thencall J7(O5,j5,'A0FH')elseif((X5==852599)and(not ALE(j5,700.,Condition(function k3))))thencall J7(O5,j5,'A0F0')elseif((X5==852273)and(KG7(350.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A29J')endifelseif(i1=='U00F')thenif((X5==852177)and(((GetUnitLifePercent(j5)<50.)or(KG7(300.,HC[48+O5],Condition(function k3))==0)))and(not kQ(j5)))thencall J7(O5,j5,'A06K')endifelseif(i1=='Ofar')thenif((X5==852588)and(KG7(650.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A29I')endifelseif(i1=='H00H')thenif((X5==852594)and(not GZ[O5]))thencall J7(O5,j5,'A09D')endifelseif(i1=='Npbm')thenif((X5==852586)and(KG7(800.,HC[48+O5],Condition(function P47))==0)and(not GZ[O5]))thencall J7(O5,j5,'A0MQ')endifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif((X5==852180)and(KG7(800.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A03G')endifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenif((X5==852526)and(not GZ[O5]))thencall J7(O5,j5,'A1EJ')endifif((X5==852096)and((h4[O5]==null)or(not IsUnitInRange(j5,h4[O5],400.))))thencall J7(O5,j5,'A21N')endifif(X5==852138 or X5==852139)thencall J7(O5,j5,'A0BE')endifelseif(i1=='Hvwd')thenif((X5==OrderId("volcano"))and(GetUnitManaPercent(j5)<60.)and(not GZ[64+O5]))thencall J7(O5,j5,'A17O')endifelseif(i1=='Hmbr')thenif((X5==852164)and(not GZ[O5]))thencall J7(O5,j5,'A29G')call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A29H',false)endifelseif(i1=='Emoo')thenif((X5==852556)and(GetUnitLifePercent(j5)>80.)and(not GZ[64+O5]))thencall J7(O5,j5,'A01B')endifelseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenif((X5==852180))thencall J7(O5,j5,'A11T')endifelseif(i1=='HC49')thenif((X5==852123)and(KG7(600.,HC[48+O5],Condition(function P47))==0)and(GetUnitManaPercent(j5)<70.))thencall J7(O5,j5,'A063')elseif(X5==852526)thencall J7(O5,j5,'A2KU')endifelseif(i1=='Nbbc')thenif((X5==852128)and((NF7(j5,"Omnislashing"))or((GZ[O5])or((GetUnitManaPercent(j5)<70.)and(KG7(600.,HC[48+O5],Condition(function P47))==0)))))thencall J7(O5,j5,'A05G')endifelseif(i1=='H001')thenif((X5==OrderId("chemicalrage"))and(KG7(400.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A1WH')endifelseif(i1=='H004')thenif((X5==852164)and((GetUnitAbilityLevel(j5,'B004')>0)or(GetUnitManaPercent(j5)<60.)or(KG7(800.,HC[48+O5],Condition(function k3))==0)))thencall J7(O5,j5,'A001')endifelseif(i1=='Otch')thenif((X5==852164)and(KG7(200.,HC[48+O5],Condition(function k2))==0))thencall J7(O5,j5,'A0DL')elseif((X5==852526)and((KG7(400.,HC[48+O5],Condition(function P47))==0)or(KG7(500.,HC[48+O5],Condition(function k3))<5)))thencall J7(O5,j5,'A0DH')call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A1OB',true)endifelseif(i1=='Huth')thenif((X5==852526)and(KG7(500.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'A1N4')endifelseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thenif(X5==852138 or X5==852139)thencall J7(O5,j5,'A0AG')endifelseif(i1=='N01I')thenif((X5==852663)and(GetUnitLifePercent(j5)>70.)and(GetUnitManaPercent(j5)<40.)and(KG7(500.,HC[48+O5],Condition(function P47))==0))thencall J7(O5,j5,'ANcr')endifelseif(i1=='N01V')thenif((X5==852129)and(not GZ[O5]))thencall J7(O5,j5,'A0LN')endifelseif(i1=='H00S')thenif((X5==852526)and(not GZ[O5]))thencall J7(O5,j5,'A14P')endifelseif(i1=='NE0G')thenif((X5==852526))thencall J7(O5,j5,'A14I')endifelseif((i1=='H00R')or(i1=='H07I'))thenif(X5==852180)thencall OZ7(O5,j5,'A15J')elseif(X5==852662)thencall OZ7(O5,j5,'A15V')endifelseif(i1=='O016')thenif(X5==852180)thencall OZ7(O5,j5,'A19Z')endifelseif(i1=='E02N')thenif(X5==852600)thencall OZ7(O5,j5,'A1SO')elseif(X5==852526)thencall OZ7(O5,j5,'A229')endifelseif(i1=='O01F')thenif(X5==852526)thencall OZ7(O5,j5,'A1T8')elseif(X5==852589)and(not GZ[O5])thencall OZ7(O5,j5,'A28Q')endifelseif(i1=='H071')thenif X5==852129 thencall OZ7(O5,j5,'A1IN')endifelseif(i1=='N00B')thenif X5==852514 and(not J_7(j5))thencall OZ7(O5,j5,'A0SB')endifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif X5==852138 or X5==852139 thencall OZ7(O5,j5,'A1C0')endifendifset j5=nullendfunctionfunction B1E takes nothing returns nothinglocal unit x6=GetTriggerUnit()local integer Iz=GetItemTypeId(GetManipulatedItem())local integer i1=GetUnitTypeId(x6)local integer O5=GetPlayerId(GetOwningPlayer(x6))local unit m5=nulllocal boolean J4=falseif(Iz==OU[VC])thenset hq[256+O5]=Bz+25.call jW(x6,851986,h9[O5])if(J_7(x6))thenset G0[32+O5]=trueloopexitwhen((GetUnitLifePercent(x6)>50.)or(Bz>hq[256+O5]))if(KH7(1000.,x6,Condition(function P47))>0)thencall jW(x6,851986,h9[O5])elsecall IssueImmediateOrderById(x6,851993)endifcall I17(1.)endloopset G0[32+O5]=falsecall J3(x6,true)endifelseif(Iz==OU[TC])thencall I17(0.5)set G0[32+O5]=trueloopexitwhen((GetUnitAbilityLevel(x6,'B02Z')==0)or(GetUnitLifePercent(x6)>95.))if(not JC7(x6))thenelseif(KH7(1500.,x6,Condition(function k2))>0)thencall jW(x6,851986,h9[O5])elsecall IssueImmediateOrderById(x6,851993)endifcall I17(0.5)endloopset G0[32+O5]=falsecall J3(x6,true)elseif(Iz==OU[DQ4])thenset hq[O5]=Bzset hq[48+O5]=Bz+160.elseif(Iz==OU[A1])thenset hq[64+O5]=Bz+30.call I17(0.1)set m5=h4[O5]set J4=(m5!=null)and(not J_7(x6))and(IssueTargetOrderById(x6,851983,m5))elseif(Iz==OU[HW])thenset m5=nullset hq[512+O5]=Bz+3.set hq[112+O5]=Bz+25.call TriggerSleepAction(0.01)if(not J_7(x6))thenif(i1=='UC11')thenset m5=QJ7(350.,x6)set J4=(m5!=null)and((((KH7(400.,x6,Condition(function k6))>1 and GZ[208+O5])or J_7(m5))and(K37(x6,852164,'A29L')))or(KZ7(x6,852125,'A02S',m5)))elseif(i1=='EC57')thenset GZ[O5]=trueset J4=J8(O5,(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(600.,x6,Condition(function P47))>1))and(K37(x6,852594,'A013')))elseif(i1=='E005')thenif(KS7(x6,OU[G5]))thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(400.,x6,Condition(function P47))>1))and(jP(x6,OU[G5]))and(IssueImmediateOrderById(x6,852600))if(not(J4))thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(400.,x6,Condition(function P47))>1))and(IssueImmediateOrderById(x6,852600))endifelseset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(400.,x6,Condition(function P47))>1))and(IssueImmediateOrderById(x6,852600))endifelseif(i1=='Npbm')thenset m5=QJ7(220.,x6)set J4=(m5!=null)and(K37(x6,852096,'A06M'))elseif(i1=='H000')thenset m5=QJ7(220.,x6)set J4=(m5!=null)and(K37(x6,852127,'A00S'))elseif(i1=='UC76')thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(500.,x6,Condition(function P47))>1))and(IssueImmediateOrderById(x6,852556))elseif(i1=='Hjai')thenset J4=(((h4[16+O5]!=null)and(IsUnitInRange(x6,h4[16+O5],350.)))or(KH7(400.,x6,Condition(function P47))>1))and(((GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5]+50.)and(jP(x6,OU[G5])))or(KZ7(x6,852171,'A04C',h4[16+O5]))or(IssueImmediateOrderById(x6,852600)))elseif(i1=='Ucrl')thenset m5=QJ7(300.,x6)set J4=(m5!=null)and(KZ7(x6,852089,'A0LL',m5))elseif(i1=='Otch')thenset m5=QJ7(300.,x6)set J4=(m5!=null)and(((KH7(500.,x6,Condition(function k0))>5)and(K37(x6,852526,'A0DH')or K37(x6,852526,'A1OB')))or(K37(x6,852164,'A0DL')))elseif(i1=='Opgh')thenset m5=QJ7(250.,x6)set J4=(m5!=null)and(IssueImmediateOrderById(x6,852600))elseif(i1=='Nfir')thenset m5=QJ7(220.,x6)set J4=(m5!=null)and(K37(x6,852127,'A0EY'))if(not J4)thenset m5=QJ7(600.,x6)set J4=(m5!=null)and(Bz>SL4[O5])and(G0[256+O5])and(K37(x6,852273,'A29J'))endifelseif(i1=='Huth')thenset m5=QJ7(220.,x6)set J4=(m5!=null)and(K37(x6,852096,'A03Y'))elseif(i1=='E01C')thenset m5=QJ7(300.,x6)if((m5!=null)and(KH7(700.,m5,Condition(function k5))>1))thenset GZ[O5]=trueset J4=J8(O5,KZ7(x6,852089,'A06P',m5))endifelseif(i1=='Ofar')thenset m5=QJ7(350.,x6)set J4=(m5!=null)and(((KH7(500.,x6,Condition(function k0))>4)and(K37(x6,852588,'A29I')))or(KZ7(x6,852662,'A046',m5)))elseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenset m5=QJ7(300.,x6)set J4=(m5!=null)and(KZ7(x6,852089,'A0IL',m5))elseif(i1=='UC91')thenset m5=QJ7(300.,x6)set J4=(m5!=null)and(K37(x6,852127,'A29K'))endifif((not J4)and(m5!=null))thencall IssueTargetOrderById(x6,851983,m5)endifendifelseif(Iz==OU[DR4])thenset hq[96+O5]=Bz+13.elseif(Iz==OU[D24])thenset SL4[240+O5]=Bz+18.elseif(Iz==OU[DL4])thenset SL4[176+O5]=Bz+30.elseif(Iz==OU[EE4])thenset SL4[224+O5]=Bz+10.elseif(Iz==OU[WB])thenset SL4[256+O5]=Bz+30.elseif(Iz==OU[E44])or(Iz==OU[ZA])thenset SL4[192+O5]=Bz+17.elseif(Iz==OU[FP4])thenset SL4[208+O5]=Bz+30.call I17(1.1)set m5=h4[O5]if(i1=='O00P')thenset J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))endifelseif(Iz==OU[J1])thenset S34=falseelseif(Iz==OU[O0])thenset hq[80+O5]=Bz+45.elseif(Iz==OU[FS4])thenset hq[128+O5]=Bz+30.elseif(Iz==OU[DL])thenset hq[144+O5]=Bz+100.elseif((Iz==OU[AC])or(Iz==OU[ZC])or(Iz==OU[N6]))thenset Iz=GetUnitCurrentOrder(x6)call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_NONE)loopexitwhen(Iz!=GetUnitCurrentOrder(x6))call I17(0.1)endloopcall I17(0.1)call SetPlayerController(GetOwningPlayer(x6),MAP_CONTROL_COMPUTER)call I17(0.5)call J3(x6,true)if(J77(x6,K67(x6))<1500.)thenset h9[O5]=K67(x6)call OI7(x6,true)elsecall R17(x6)endifelseif(Iz==OU[B5])thenif(GZ[272+O5])thencall I17(0.01)if((i1=='Nfir')or(i1=='EC57'))thencall ExecuteFunc("ZUE")elseif((i1=='Nbrn')or(i1=='EC77'))thencall ExecuteFunc("ZVE")endifendifelseif((Iz==OU[W5])or(Iz==OU[A5]))thenif(not J_7(x6))thencall TriggerSleepAction(1.5)if(i1=='HC49')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and(KZ7(x6,852095,'A24D',m5))elseif(i1=='U00A')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and(KZ7(x6,852231,'A055',m5))elseif(i1=='H00U')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and((Bz>SL4[64+O5])and RX7(x6,BO4,BO4,BM4,'A0VO')and(IssueImmediateOrderById(x6,852132)))if((not J4)and(m5!=null)and(Bz>SL4[64+O5]))thencall SetPlayerAbilityAvailable(GetOwningPlayer(x6),MS[7],true)set J4=IssueImmediateOrderById(x6,852132)call SetPlayerAbilityAvailable(GetOwningPlayer(x6),MS[7],false)endifelseif(i1=='E01B')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and(IssueTargetOrderById(x6,852662,m5))elseif(i1=='Oshd')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and(GetUnitState(x6,UNIT_STATE_MANA)>hq[272+O5])and(KZ7(x6,852480,'A02Q',m5))elseif(i1=='U000')thenset m5=QJ7(400.,x6)set J4=(m5!=null)and(KZ7(x6,852555,'A0X7',m5))endifendifendifset x6=nullset m5=nullendfunctionfunction B0E takes integer AEE,integer OK7 returns integerif AEE==eY[172+OK7]or AEE==eY[188+OK7]thenreturn 10elseif GetUnitTypeId(G7[OK7])=='H00U' thenreturn 5elseif AEE=='A01O' or AEE=='A02A' or AEE=='A0DX' or AEE=='A04C' or AEE=='A190' or AEE=='A24D' or AEE=='A0SK' or AEE=='A0RG' or AEE=='A027' or AEE=='A047' or AEE=='A01B' or AEE=='A0I7' or AEE=='A10X' or AEE=='A04W' or AEE=='A011' or AEE=='A049' or AEE=='A05E' or AEE=='A21E' or AEE=='A10D' or AEE=='A0LL' or AEE=='A0KM' or AEE=='A0RX' or AEE=='A00P' or AEE=='A06M' or AEE=='A00S' or AEE=='A07A' or AEE=='A0AR' or AEE=='A0QB' or AEE=='A08N' or AEE=='A08V' or AEE=='A0OO' or AEE=='A0O6' or AEE=='A1NI' or AEE=='A0L8' or AEE=='A14R' or AEE=='A0QP' or AEE=='A1EA' or AEE=='A0SC' or AEE=='A136' or AEE=='A12J' or AEE=='A14I' or AEE=='A06W' or AEE=='A0P6' or AEE=='A0X5' or AEE=='A0MN' or AEE=='A173' or AEE=='A08X' or AEE=='A055' or AEE=='A03D' or AEE=='A02H' or(AEE=='A08E' and VI7()==false)or AEE=='AHtb' or AEE=='A0X7' or AEE=='A29K' or AEE=='A194' or AEE=='A0CE' or AEE=='A046' or AEE=='A0GK' or AEE=='A04Y' or AEE=='A05V' or AEE=='A06I' or AEE=='A1P8' or AEE=='A06O' or AEE=='A0I6' or AEE=='A0MF' or AEE=='A0HW' or AEE=='A0NM' or AEE=='A0NO' or AEE=='A0OJ' or AEE=='A06P' or AEE=='A0NB' or AEE=='A10L' or AEE=='A0NQ' or AEE=='A0OR' or AEE=='A0RA' or AEE=='A0R5' or AEE=='A0QE' or AEE=='A1MG' or AEE=='A1YO' or AEE=='A1S7' or AEE=='A1SQ' or AEE=='A1SU' or AEE=='A1S8' thenreturn 2endifreturn 0endfunctionfunction B5E takes unit J27,integer O0E,integer AEE returns nothinglocal integer O5=0local integer ilocal integer jlocal boolean J4=falseif(not JL7(J27))thenreturnendifloopexitwhen O5==ZS4if AEE==ZR4[O5]thenreturnendifset O5=O5+1endloopset i=GetPlayerId(GetOwningPlayer(J27))set j=B0E(AEE,i)if j==0 thenreturnendifset O5=1loopexitwhen O5>11if O5==6 thenset O5=7endifset J4=falseif R97(Player(O5))and IsUnitEnemy(J27,Player(O5))and G7[O5]!=null and GetUnitTypeId(G7[O5])=='E02X' and GetWidgetLife(G7[O5])>.405 and(not J_7(G7[O5]))and IsUnitInRange(G7[O5],J27,950.)and Bz>SL4[160+O5]and eY[416+O5]!=AEE and((hq[816+O5]<Bz)or((Bz<SL4[O5]-10)and(j<=eY[432+O5]))or(j>eY[432+O5]))thenset eY[448+O5]=AEEset h4[320+O5]=J27endifset O5=O5+1endloopendfunctionfunction B2E takes unit H57,integer AEE,unit J27 returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(H57))local integer NW7=GetPlayerId(GetOwningPlayer(J27))set eY[336+O5]=0set eY[352+O5]=0set eY[368+O5]=0set eY[188+O5]=0set SL4[O5]=0set SL4[16+O5]=0set SL4[32+O5]=0set SL4[48+O5]=0if AEE==eY[336+NW7]thenset eY[336+O5]=AEEelseif AEE==eY[352+NW7]thenset eY[352+O5]=AEEelseif AEE==eY[368+NW7]thenset eY[368+O5]=AEEelseif AEE==eY[172+NW7]or AEE==eY[188+NW7]thenset eY[188+O5]=AEEendifset eY[432+O5]=B0E(AEE,NW7)set eY[400+O5]=GetUnitTypeId(J27)set eY[416+O5]=AEEset hq[816+O5]=Bz+(GetUnitAbilityLevel(H57,'A27H')+2)*60endfunctionfunction B_E takes unit it,unit m5 returns booleanlocal boolean J4=falselocal integer O5=GetPlayerId(GetOwningPlayer(it))local integer i1if(X54[O5]==Y74)or(X54[O5]==Y44 and GetRandomInt(1,3)==1)thenset i1=GetUnitTypeId(it)set bj_lastLoadedUnit=itif i1=='U00K' and(Bz>SL4[32+O5])and(KH7(900.,it,Condition(function KI7))==0)thenset J4=IssueImmediateOrderById(it,852503)elseif i1=='N00B' and(Bz>SL4[48+O5])thenset J4=K37(it,852514,'A0SB')elseif i1=='U000' and(Bz>SL4[48+O5])thenset J4=K37(it,852526,'A2KO')elseif i1=='E01Y' and(Bz>SL4[16+O5])thenset J4=K37(it,852526,'A1EA')endifif(not J4)and((GetUnitLifePercent(it)<20)or(J_7(it))or(GetUnitMoveSpeed(it)<200))thenif(not J4)and(KJ7(it,OU[B5]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KJ7(it,OU[E0]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,it)endifendifif(not J4)and(h4[O5]!=null or J_7(it))thenif(not J4)and(KS7(it,OU[G5]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KS7(it,OU[W5]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KS7(it,OU[E84]))thenset S64=trueset J4=UnitUseItem(it,bj_lastCreatedItem)set S64=falseendifendifif J4 thenset h4[352+O5]=m5endifendifreturn J4endfunctionfunction C4E takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))local integer YZE=GetSpellAbilityId()local integer i1=GetUnitTypeId(j5)local integer C7E=0local unit m5=nulllocal boolean J4=falselocal boolean C8E=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTERlocal location b5=nulllocal integer UPset m5=GetSpellTargetUnit()if m5!=null and R97(GetOwningPlayer(m5))and(is(m5))thenset J4=B_E(m5,j5)endifset GZ[16+O5]=falseset h4[32+O5]=nullif(GetSpellTargetUnit()!=null)thenset h4[32+O5]=GetSpellTargetUnit()set m5=GetSpellTargetUnit()endifif i1=='E02X' and YZE!='A27F' and YZE!='A27G' and YZE!='A27H' and YZE!='A27X' and hq[816+O5]>Bz thenset G0[288+O5]=falseset i1=eY[400+O5]endifif FF7 and i1!='E02X' thencall B5E(j5,i1,YZE)endifif(YZE=='Aeat')thenif(C8E)thencall I17(0.1)call jW(j5,851986,h9[O5])endifelseif(i1=='EC45')thenif((C8E)and(YZE=='A0LK'))thenset hq[512+O5]=Bz+3.if(m5!=null)thencall I17(((J87(GetUnitX(j5),GetUnitX(j5),GetUnitX(m5),GetUnitY(m5))/40.)*.01)+.5)elsecall I17(((J87(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/40.)*.01)+.5)endifset m5=QJ7(300.,j5)if(((not J_7(j5))or(Id(O5)))and(m5!=null))thenset GZ[O5]=trueif((J_7(j5))or(not J8(O5,(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(AWE(j5)))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.)and(KB7(j5,852652,'A0J1',0,m5)))))thencall BPE(j5,m5,true)endifelseif(J_7(j5))thencall jW(j5,851986,h9[O5])elsecall J3(j5,true)endifendifelseif(i1=='U000')thenif(YZE=='A1H5')thencall TriggerSleepAction(0.05)if((h4[O5]==m5)and(GetUnitLifePercent(m5)<70.))thencall V2E(j5,m5)endifset C7E=OrderId("creepheal")endifelseif(i1=='UC01')thenif(YZE=='A0ME')thenset hq[512+O5]=Bz+3.call TriggerSleepAction(0.05)if(not J_7(j5))thenset m5=QJ7(500.,j5)if(not C8E)thenif((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifelseif(m5!=null)thenset J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<AVE(j5))and(KB7(j5,852125,'A28R','A28S',m5)))or((IsUnitInRange(j5,m5,400.))and(K37(j5,852526,'A04A')))or(KB7(j5,852527,'A0Q7',0,m5)))endifelseset J4=(C8E)and(h4[O5]==null)and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(jW(j5,851986,h9[O5]))endifset C7E=852525elseif(YZE=='A0Q7')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set J4=(C8E)and(IsUnitInRange(j5,m5,400.))and((K37(j5,852526,'A04A'))or((J_7(m5))and(KB7(j5,852125,'A28R','A28S',m5))))set C7E=852527elseif(YZE=='A04A')thencall TriggerSleepAction(0.05)set hq[16+O5]=Bz+10.set m5=QJ7(400.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall V2E(j5,m5)endifif(C8E)thenset J4=(m5!=null)and(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<AVE(j5))and(not ke(j5))and(KB7(j5,852125,'A28R','A28S',m5)))or(KB7(j5,852527,'A0Q7',0,m5)))endifset C7E=852218elseif((YZE=='A28R')or(YZE=='A28S'))thencall TriggerSleepAction(0.05)set C7E=GetUnitAbilityLevel(j5,YZE)if(C7E!=3)thenset hq[O5]=Bz+140.-(C7E*20.)elseset hq[O5]=Bz+75.endifset m5=K2(400.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)endifset C7E=852125endifelseif((i1=='Eevi')or(i1=='Eevm'))thenif(YZE=='A07Q')thencall TriggerSleepAction(.5)if(IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(j5)))thenset G0[32+O5]=falsecall BPE(j5,GetSpellTargetUnit(),true)call BOE(j5,GetSpellTargetUnit())endifendifelseif(i1=='Ulic')thenif(YZE=='A07F')thencall TriggerSleepAction(0.05)if((m5!=null)and(J_7(m5)))thencall BPE(j5,m5,true)endifset C7E=852226elseif(YZE=='A053')thencall TriggerSleepAction(0.05)set C7E=852066elseif(YZE=='A08R')thencall TriggerSleepAction(0.05)set C7E=852225endifelseif(i1=='U006')thenif(YZE=='A0BH')thencall TriggerSleepAction(0.05)set C7E=852601elseif(YZE=='A0WQ')thencall TriggerSleepAction(0.05)set hq[512+O5]=Bz+20.call BPE(j5,QJ7(500.,j5),true)set C7E=OrderId("roar")endifelseif(i1=='UC18')thenif(YZE=='A0MN')thencall TriggerSleepAction(0.05)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)if(C8E)thencall I17(1.)set C7E=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not ke(m5))and(C7E>200.)and(C7E<AYE(j5)))thenset GZ[O5]=trueset J4=J8(O5,KB7(j5,852119,'A095','A09W',m5))endifendifendifset C7E=852502endifelseif(i1=='EC57')thenif(YZE=='A173')thencall TriggerSleepAction(0.05)set hq[O5]=Bz+22.if(IsUnitType(m5,UNIT_TYPE_HERO))thencall BPE(j5,m5,true)if((C8E)and(GetHeroLevel(j5)>5))thenset C7E=GetUnitAbilityLevel(j5,'A013')if(C7E==0)thenset C7E=GetUnitAbilityLevel(j5,'A0A6')endifif((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*C7E)))and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A0A6',true)set J4=J8(O5,K37(j5,852594,'A013'))endifendifendifset C7E=852527endifelseif(i1=='UC11')thenif(YZE=='A02S')thencall TriggerSleepAction(0.05)if((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))thenset m5=K2(350.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall V2E(j5,m5)endifset J4=(C8E)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<55.)and(IsUnitInRange(j5,m5,350.))and(R2I(GetUnitState(j5,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(j5,'A29L')*100)))and(K37(j5,852164,'A29L'))set C7E=852125elseif(YZE=='A037')thencall TriggerSleepAction(0.05)set m5=h4[O5]set J4=(C8E)and(m5!=null)and(J07(m5))and(G0[128+O5])and(IsUnitInRange(j5,m5,800.))and(IssueTargetOrderById(j5,851983,m5))set C7E=852066endifelseif(i1=='UC60')thenif(YZE=='A08X')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=852189endifelseif(i1=='U00A')thenif((YZE=='A0RW')and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)if(C8E)thenif((GetUnitLifePercent(m5)>70.)or((Bz<hq[O5])and(GetUnitCurrentOrder(m5)==851973))or(not KB7(j5,852231,'A055',0,m5))or(not K37(j5,852123,'A03O')))thencall BPE(j5,m5,true)endifelsecall V2E(j5,m5)endifelseif(YZE=='A055')thencall TriggerSleepAction(0.05)set hq[O5]=Bz+10.call BPE(j5,m5,true)if((C8E)and(G0[128+O5]))thenset J4=((not IsUnitInRange(j5,m5,300.))and(GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(j5)>60.)and(IssueTargetOrderById(j5,852600,m5)))or((IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(m5)<65.)and(K37(j5,852123,'A03O')))endifset C7E=852231elseif(YZE=='A03O')thenset hq[16+O5]=Bz+180.endifelseif(i1=='Ewar')thenif((YZE=='A0PL')and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)if(C8E)thenif(not KB7(j5,OrderId("acidbomb"),'A0YM',0,m5))thencall BPE(j5,GetSpellTargetUnit(),true)endifelsecall V2E(j5,m5)endifelseif(YZE=='A0YM')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set J4=(C8E)and(not IsUnitInRange(j5,m5,300.))and(IssueTargetOrderById(j5,OrderId("acidbomb"),m5))set C7E=OrderId("acidbomb")endifelseif(i1=='Udea')thenif(YZE=='A0MF')thencall TriggerSleepAction(0.05)set C7E=852119elseif(YZE=='A0I3')thencall TriggerSleepAction(0.05)if((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<50.))thencall BPE(j5,m5,true)endifset C7E=852662endifelseif(i1=='Ubal')thenif((C8E)and(YZE=='A0CA'))thencall ExecuteFunc("ZSE")elseif(YZE=='A0CT')thenset G0[32+O5]=falseendifelseif(i1=='U00F')thenif((YZE=='A0FL')and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall V2E(j5,m5)if C8E and IsUnitInRange(j5,m5,225)thencall SetPlayerAbilityAvailable(Player(O5),'A06K',true)call IssueImmediateOrderById(j5,852178)endifelseif((YZE=='A06K')and(C8E))thenset m5=QJ7(250.,j5)set J4=(m5!=null)and((h4[O5]==m5)or(GetUnitLifePercent(m5)<75.))and(KB7(j5,852480,'A0FL','A1CX',m5))endifelseif(i1=='Oshd')thenif((YZE=='A02Q')and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall V2E(j5,m5)endifelseif(i1=='H00H')thenif(YZE=='A0CE')thencall TriggerSleepAction(0.05)if((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset h4[16+O5]=m5call BNE(j5,m5)set J4=(C8E)and(not G0[32+O5])and((A5E(j5,m5))or(IssueTargetOrderById(j5,852089,m5)))endifset C7E=852486elseif(YZE=='A0MT')thencall TriggerSleepAction(0.05)set hq[O5]=Bz+6.set C7E=852089elseif(YZE=='A09D')thenset hq[16+O5]=Bz+35.elseif(((YZE=='A0CC')or(YZE=='A02Z'))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif(GetUnitAbilityLevel(m5,'B01N')==0)thencall V2E(j5,m5)elsecall BNE(j5,m5)endifendifelseif(i1=='UC76')thenif((YZE=='A02M')or(YZE=='A06N')or(YZE=='A072')or(YZE=='A074')or(YZE=='A078'))thencall TriggerSleepAction(0.05)set C7E=852218elseif((YZE=='A073')or(YZE=='A03J')or(YZE=='A04J')or(YZE=='A04M')or(YZE=='A04N'))and(C8E)thencall ExecuteFunc("ADE")endifelseif(i1=='Udea')thenif(YZE=='A0NS')thenif((C8E)and(GetUnitLifePercent(j5)<50.)and(not Id(O5)))thencall TriggerSleepAction(0.5)call OI7(j5,false)endifendifelseif(i1=='E01A')thenif((YZE=='A0NT')or(YZE=='A0NX'))thenset m5=K2(500.,HC[O5])if(m5!=null)thencall V2E(j5,m5)call BNE(j5,m5)endifendifelseif(i1=='E01C')thenif(YZE=='A06P')thenset m5=K2(500.,HC[O5])if(m5!=null)thencall V2E(j5,m5)endifendifelseif(i1=='O00J')thenif(YZE=='A1P8')thenelseif(YZE=='A0G4' or YZE=='A1D8')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall V2E(j5,m5)endifendifelseif(i1=='Npbm')thenif(YZE=='A0MQ')thenset m5=K2(500.,HC[O5])if(m5!=null)thencall V2E(j5,m5)call BOE(j5,m5)endifelseif(YZE=='A0MQ')thencall TriggerSleepAction(0.05)if(GetUnitLifePercent(m5)<50.)thencall BPE(j5,m5,true)endifset C7E=852585endifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif(YZE=='A03F')thencall TriggerSleepAction(0.05)set C7E=852580elseif(YZE=='A0AR')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=852095endifelseif(i1=='Edem')thenif(YZE=='AEbl')thenset hq[512+O5]=Bz+3.call TriggerSleepAction(0.05)set m5=QJ7(200.,j5)if(m5!=null)thencall BPE(j5,m5,true)endifset J4=(C8E)and(h4[O5]==null)and(J_7(j5))and((eY[O5]==1)or(eY[O5]==3)or(eY[O5]==4))and(jW(j5,851986,h9[O5]))set C7E=852525endifelseif(i1=='Naka')thenif(YZE=='A004')thencall TriggerSleepAction(0.05)if(GetUnitLifePercent(m5)<65.)thencall BPE(j5,m5,true)endifset C7E=852095elseif(YZE=='A0B4')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=852149endifelseif(i1=='Orkn')thenif((YZE=='A00P')and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall V2E(j5,m5)elseif(YZE=='A0RX')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)if((C8E)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or((Bz>hq[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>(hq[272+O5]+80.+(30.*GetUnitAbilityLevel(j5,'A00P'))))))and(GetHeroLevel(j5)>5)and(GetUnitAbilityLevel(m5,'B00H')>0))thenset GZ[O5]=trueset J4=J8(O5,KB7(j5,852504,'A00H','A0A1',m5))endifset C7E=852149elseif((YZE=='A00H')or(YZE=='A0A1'))thencall TriggerSleepAction(0.05)set m5=K2(550.,HC[O5])if(m5!=null)thencall BOE(j5,m5)if((C8E)and(Bz>hq[16+O5]))thenset GZ[O5]=trueset J4=(((IsUnitInRange(j5,m5,400)or V98(m5)))and J8(O5,KZ7(j5,852480,'A00P',m5)))or(KB7(j5,852502,'A0RX',0,m5))endifendifset hq[O5]=Bz+120.set C7E=852504endifelseif(i1=='Hvwd')thenif(YZE=='A0IN')or(YZE=='A1AW')thencall TriggerSleepAction(.3)set hq[512+O5]=Bz+2.set hq[O5]=Bz+45.call BPE(j5,m5,true)call BOE(j5,m5)elseif(YZE=='A02A')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set hq[16+O5]=Bz+10.set C7E=852095endifelseif(i1=='Uktl')thenif(YZE=='A1BX')thenset m5=K2(400.,HC[O5])if(m5!=null)thencall V2E(j5,m5)call BOE(j5,m5)endifendifelseif(i1=='Emns')thenif(YZE=='A21E')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=OrderId("carrionswarm")endifelseif(i1=='O00P')thenif(YZE=='A0FN')thenset hq[O5]=Bz+11.if((not J_7(j5))or(Id(O5)))thenset hq[512+O5]=Bz+3.if(GetSpellTargetUnit()!=null)thencall I17((RMaxBJ(J87(GetUnitX(j5),GetUnitX(j5),GetUnitX(GetSpellTargetUnit()),GetUnitY(GetSpellTargetUnit()))/50.,1.)*.04)+.3)elsecall I17((RMaxBJ(J87(GetUnitX(j5),GetUnitX(j5),GetLocationX(HC[O5]),GetLocationY(HC[O5]))/50.,1.)*.04)+.3)endifif(not IsUnitHidden(j5))thencall BPE(j5,QJ7(300.,j5),true)if((C8E)and(GetUnitCurrentOrder(j5)==0))thencall J3(j5,true)endifendifendifendifelseif(i1=='HC49')thenif(YZE=='A063')thenset hq[16+O5]=Bz+60.endifelseif(i1=='Nbbc')thenif(YZE=='A0M1')thenset hq[O5]=Bz+140.-(GetUnitAbilityLevel(j5,YZE)*10.)if(IsUnitType(m5,UNIT_TYPE_HERO))thencall V2E(j5,m5)endifendifelseif(i1=='Hjai')thenif(YZE=='A04C')thencall TriggerSleepAction(0.05)if C8E thencall IssueTargetOrderById(j5,851983,m5)endifset hq[16+O5]=Bz+10.if(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))thencall V2E(j5,m5)if((C8E)and(GetHeroLevel(j5)>5)and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(G0[128+O5]))and(not IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE))thenif(IsUnitInRange(j5,m5,450.))thenset J4=((GetUnitState(j5,UNIT_STATE_MANA)>hq[272+O5]+50.)and(jP(j5,OU[G5])))or(IssueImmediateOrderById(j5,852600))endifendifif((not J4)and(C8E)and(not J_7(j5)))thenset J4=IssueTargetOrderById(j5,851983,m5)endifendifendifset C7E=852171elseif(YZE=='A1E9')thencall TriggerSleepAction(0.05)if C8E thencall IssueTargetOrderById(j5,851983,m5)endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(G0[128+O5]))thenif((GetUnitState(j5,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(j5,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(j5))))thencall BPE(j5,m5,true)endifendifset C7E=OrderId("blizzard")elseif((YZE=='A03R')or(YZE=='A0AV'))thenset m5=K2(600.,jv(j5))if(m5!=null)thencall V2E(j5,m5)call BOE(j5,m5)endifset hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,YZE)*30.)endifelseif(i1=='HC92')thenif((YZE=='A0K9')and(C8E)and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall TriggerSleepAction(1.)call KB7(j5,852089,'A0RG',0,m5)endifelseif(i1=='H001')thenif(YZE=='A190')thencall TriggerSleepAction(0.05)set hq[O5]=Bz+8.call BPE(j5,m5,true)set J4=(C8E)and(IsUnitInRange(j5,m5,400.))and(GetUnitLifePercent(m5)<70.)and(K37(j5,OrderId("chemicalrage"),'A1WH'))set C7E=OrderId("acidbomb")elseif(YZE=='A1WH')thencall TriggerSleepAction(0.05)set m5=QJ7(800.,j5)call BPE(j5,m5,true)set hq[512+O5]=Bz+20.if((C8E)and(m5!=null)and(IsUnitInRange(j5,m5,700.)))thenset J4=(KB7(j5,OrderId("acidbomb"),'A190',0,m5))or(IssueTargetOrderById(j5,851983,m5))endifset C7E=OrderId("chemicalrage")endifelseif(i1=='H00A')thenif(YZE=='A0KM')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)call BNE(j5,m5)if((C8E)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset J4=KB7(j5,852095,'A0LV',0,m5)set h4[16+O5]=m5endifset C7E=852585endifelseif(i1=='H004')thenif(YZE=='A027')thencall TriggerSleepAction(0.05)set m5=K2(280.,HC[O5])call BPE(j5,m5,true)if((C8E)and(m5!=null))thencall IssueTargetOrderById(j5,851983,m5)call I17(1.)set J4=((not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<AZE(j5))and(KB7(j5,852119,'A01P','A09Z',m5)))or(((GetUnitLifePercent(m5)<50.)and(A5E(j5,m5))))or(KB7(j5,852125,'A01F',0,m5))or(IssueTargetOrderById(j5,851983,m5))endifset C7E=852232elseif(YZE=='A01F')thencall TriggerSleepAction(0.05)set hq[16+O5]=Bz+8.5if(m5==null)thenset m5=K2(300.,HC[O5])endifset J4=(C8E)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<AZE(j5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(KB7(j5,852119,'A01P','A09Z',m5))set C7E=852125endifelseif(i1=='Huth')thenif(YZE=='A03Y')thencall TriggerSleepAction(0.05)set hq[O5]=Bz+7.75set m5=QJ7(350.,j5)if((m5!=null)and((not J_7(j5))or(J_7(m5))))thencall BPE(j5,m5,true)set J4=(C8E)and(K37(j5,852526,'A1N4'))endifset C7E=852096elseif(YZE=='A1N4')thencall TriggerSleepAction(0.05)set m5=QJ7(500.,j5)if(m5!=null)thencall BPE(j5,m5,true)endifif(C8E)thenif((GetHeroLevel(j5)>5)and(G0[128+O5])and(GetUnitLifePercent(j5)>70.)and(not IC(O5)))thenset hq[512+O5]=Bz+6.endifif(m5==null)thenset m5=KF7(500.,jv(j5),Condition(function PF7))endifset J4=(m5!=null)and(not G0[O5])and(G0[128+O5])and((not J_7(j5))or(K97(m5,j5)))and(IssueTargetOrderById(j5,851983,m5))endifset C7E=852561endifelseif(i1=='Ogrh')thenif(YZE=='A10D')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=OrderId("acidbomb")endifelseif(i1=='U00C')thenif(YZE=='A194')thencall TriggerSleepAction(0.05)call BPE(j5,m5,true)set C7E=OrderId("chainlightning")endifelseif(i1=='Hmkg')thenif((YZE=='A04W')or(YZE=='A089')or(YZE=='A08A')or(YZE=='A08D')or(YZE=='A2KQ'))thencall TriggerSleepAction(0.05)if((GZ[O5])or(m5==h4[O5])or(GetUnitLifePercent(m5)<55.))thencall BPE(j5,m5,true)elseif(IsUnitType(m5,UNIT_TYPE_HERO))thencall V2E(j5,m5)endifset C7E=852095elseif((YZE=='A011')or(YZE=='A007')or(YZE=='A01T')or(YZE=='A00F'))thencall TriggerSleepAction(0.05)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)endifset C7E=852662endifelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenif(YZE=='A1NI')thencall ExecuteFunc("BRE")endifelseif(i1=='N01V')thenif((C8E)and(YZE=='A0LN'))thencall TriggerSleepAction(1.)if(((GetUnitManaPercent(j5)>55.)and(KH7(500.,j5,Condition(function k3))>2))or(KH7(500.,j5,Condition(function P47))>0))thencall IssueImmediateOrderById(j5,852600)endifendifelseif(i1=='Emoo')thenif((YZE=='A01B')and(C8E))thencall ExecuteFunc("AGE")endifelseif(i1=='N0HP')thenif(YZE=='A1MI')and C8E thencall TriggerSleepAction(0.05)call IssueImmediateOrderById(j5,851972)endifelseif(i1=='H00S')thenif(YZE=='A14R')and C8E thencall I17(0.01)call IssueTargetOrderById(j5,851983,m5)endifelseif(i1=='O01F')thenif C8E thenif YZE=='A1U2' thencall ME7(GetHandleId(j5),"AI|IoSpiritsFar",true)elseif YZE=='A1U3' thencall ME7(GetHandleId(j5),"AI|IoSpiritsFar",false)elseif YZE=='A1T8' thencall NQ7(j5,"AI|IoSpirits",19)endifendifelseif(i1=='E02J')thenif YZE=='A1SU' thenset b5=GetSpellTargetLoc()if C8E thencall J3(j5,true)endifcall I17(1.2)set m5=QM7(300,j5,GetLocationX(b5),GetLocationY(b5))call BPE(j5,m5,true)if C8E and(m5!=null)thenif(h4[O5]==null or(not IsUnitInRangeLoc(h4[O5],b5,300)))thenset h4[O5]=m5endifset J4=(IssuePointOrderById(j5,852662,GetLocationX(b5),GetLocationY(b5)))endifendifelseif(i1=='H0DO')thenif YZE=='A2BG' thencall TriggerSleepAction(0.05)set m5=K2(250.,HC[O5])call BPE(j5,m5,true)set C7E=852662endifendifif((C8E)and(not J4)and(C7E!=0)and(GetUnitCurrentOrder(j5)==C7E))thencall J3(j5,true)endifset j5=nullset m5=nullset b5=nullendfunctionfunction C9E takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer YZE=GetSpellAbilityId()local integer i1=GetUnitTypeId(j5)local integer O5=GetPlayerId(GetOwningPlayer(j5))local unit m5=h4[32+O5]local integer UPlocal location b5=nulllocal boolean J4=falselocal boolean C8E=GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTERlocal real CDE=0call TriggerSleepAction(0.01)if((not C8E)and(hq[464+O5]>Bz)and(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall V2E(j5,m5)endifif(m5!=null)and(not J07(m5))thenset m5=nullendifif(h4[O5]!=null)and(not J07(h4[O5]))thenset h4[O5]=nullendifif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif((YZE=='A02O')or(YZE=='A08Y')or(YZE=='A08Z')or(YZE=='A090')or(YZE=='A092'))thenif(C8E and T74[O5]==true)thenif(KJ7(j5,GetItemTypeId(T94[O5])))thencall I17(1.)call DisableTrigger(HR4)call UnitRemoveItem(j5,KO7(j5,GetItemTypeId(T94[O5])))call RemoveItem(T94[O5])call EnableTrigger(HR4)endifif(T84[O5]!=null)thencall I17(0.2)call UnitAddItem(j5,T84[O5])endifset T44[O5]=Bz+S_4[TI4]set T74[O5]=falseset T94[O5]=nullset T84[O5]=nullendifcall BPE(j5,m5,true)set J4=(i1=='U00E')and(C8E)and(not ke(m5))and(KB7(j5,852095,'A067','A08P',m5))elseif((YZE=='AChx')or(YZE=='AIpg'))thencall BPE(j5,m5,true)elseif(YZE=='AImt')thenif(C8E)thencall I17(1.)call R17(j5)endifelseif(i1=='E002')thenif(YZE=='A1E7')thencall BPE(j5,QJ7(750.,j5),true)elseif(YZE=='A1DP')thencall BPE(j5,QJ7(550.,j5),true)if(C8E)thencall I17(1.)set J4=(m5!=null)and(Bz>SL4[O5])and(((GetUnitAbilityLevel(j5,'A1AO')>0)and(K37(j5,852229,'A1AO')))or((GetUnitAbilityLevel(j5,'A1UV')>0)and(K37(j5,852229,'A1UV'))))endifelseif((YZE=='A1AO')or(YZE=='A1UV'))thenif(C8E)thenset J4=(IsUnitInRange(j5,m5,440.))and(IssuePointOrderById(j5,852662,GetUnitX(m5)+2,GetUnitY(m5)-2))endifendifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif(YZE=='A1AT')thenelseif(YZE=='A0G2')thenif(C8E)thenset J4=(m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.)and(IsUnitInRange(j5,m5,400.))and(K37(j5,OrderId("charm"),'A1AT'))elseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<50.))thencall V2E(j5,m5)endifendifendifelseif(i1=='O00J')thenif((m5!=null)and(C8E)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset h4[O5]=m5call IssueTargetOrderById(j5,851983,m5)endifelseif(i1=='U00C')thenif(YZE=='A0T2')thenset hq[240+O5]=Bz+15if((not J_7(j5))or(Id(O5)))thenif(m5!=null)thencall BPE(j5,m5,true)set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(j5,YZE)*5.)elsecall BPE(j5,QJ7(500.,j5),true)set hq[512+O5]=Bz+6.+(GetUnitAbilityLevel(j5,YZE)*5.)endifendifcall TriggerSleepAction(1.)if((C8E)and(IsUnitHidden(j5)))thencall ShowUnitShow(j5)endifendifelseif(i1=='EC77')thenif(YZE=='A05D')thencall BPE(j5,QJ7(550.,j5),true)elseif((YZE=='A080')or(YZE=='A1UZ'))thenset UP=GetUnitAbilityLevel(j5,'A080')if((UP==0)and(YZE=='A1UZ'))thenset UP=GetUnitAbilityLevel(j5,'A1UZ')if(UP>0)thenset hq[O5]=Bz+12.endifelseif(YZE=='A080')thenif(UP==1)thenset hq[O5]=Bz+80.elseif(UP==2)thenset hq[O5]=Bz+50.elseif(UP==3)thenset hq[O5]=Bz+30.elseset hq[O5]=Bz+80.endifelseset hq[O5]=Bz+80.endifcall BPE(j5,m5,true)elseif(YZE=='A09V')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='EC45')thenif(YZE=='A0J1')thenset hq[O5]=Bz+180.endifelseif(i1=='E02I')thenif(YZE=='A1YO')thenset UP=GetUnitAbilityLevel(j5,'A1YO')call V2E(j5,m5)call BPE(j5,m5,true)call TriggerSleepAction(.5)set J4=(C8E)and(m5!=null)and(iU(j5))and(((Bz>SL4[32+O5])and(IsUnitInRange(j5,m5,1000.))and(KH7(900.,m5,Condition(function PF7))==0)and(IssueTargetOrderById(j5,852185,m5)))or((Bz>SL4[48+O5])and(IsUnitInRange(j5,m5,570.))and(IssueImmediateOrderById(j5,852594)))or(IssueTargetOrderById(j5,851983,m5)))elseif(YZE=='A1S7')thenif(m5!=null)thencall V2E(j5,m5)set J4=(C8E)and((Bz>SL4[O5])and(IsUnitInRange(j5,m5,250.))and((GetUnitLifePercent(m5)<47.)or(GetRandomInt(1,3)==1))and(IssueImmediateOrderById(j5,852526)))or(IssuePointOrderById(j5,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(j5,851983,m5))endifelseif(YZE=='A1YQ')thenset UP=GetUnitAbilityLevel(j5,'A1YQ')if(h4[O5]!=null)thencall BPE(j5,m5,true)call TriggerSleepAction(.5)set J4=(C8E)and(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,851983,h4[O5]))endifendifelseif(i1=='H00U')thenif(YZE=='A0XL')thenset SL4[80+O5]=Bz+60.elseif(YZE=='A0VN')thenset SL4[48+O5]=Bz+55.if((C8E)and((GetUnitState(j5,UNIT_STATE_MANA))>200)and(GetUnitLevel(j5)>=10)and((Bz>SL4[O5])or(RN7(j5,'A0VM')))and(Bz>SL4[112+O5]))thenset J4=RX7(j5,BM4,BN4,BO4,'A0VM')and IssuePointOrderById(j5,852215,GetUnitX(h4[O5]),GetUnitY(h4[O5]))endifelseif(YZE=='A0VO')thenif(C8E)thenset GZ[224+O5]=trueset J4=(h4[O5]!=null)and(IsUnitInRange(j5,h4[O5],450.))and(IsUnitType(h4[O5],UNIT_TYPE_HERO))and(KJ7(j5,OU[W5]))and(UnitUseItem(j5,KO7(j5,OU[W5])))set GZ[224+O5]=falseendifset SL4[64+O5]=Bz+30.elseif(YZE=='A0VZ')thenset SL4[16+O5]=Bz+20.elseif(YZE=='A0VG')thenset SL4[144+O5]=Bz+30.elseif(YZE=='A0VS')thenset SL4[32+O5]=Bz+25.elseif(YZE=='A0VK')thenset SL4[96+O5]=Bz+25.if((C8E)and((GetUnitState(j5,UNIT_STATE_MANA))>174)and((Bz>SL4[O5])or(RN7(j5,'A0VG')))and(Bz>SL4[144+O5])and(h4[O5]!=null))thenset UP=GetUnitAbilityLevel(j5,'A21W')if(UP>4)thenif(UP==5)thencall I17(0.6)elseif(UP==6)thencall I17(0.9)elseif(UP==7)thencall I17(1.1)elseendifendifset J4=RX7(j5,BO4,BO4,BO4,'A0VG')and IssuePointOrderById(j5,852089,GetUnitX(h4[O5]),GetUnitY(h4[O5]))endifelseif(YZE=='A0VQ')thenset SL4[128+O5]=Bz+15.elseif(YZE=='A0VM')thenset SL4[112+O5]=Bz+40.if((C8E)and((GetUnitState(j5,UNIT_STATE_MANA))>110)and((Bz>SL4[O5])or(RN7(j5,'A0VZ')))and(Bz>SL4[16+O5])and(h4[O5]!=null))thenset J4=RX7(j5,BM4,BM4,BM4,'A0VZ')and(KZ7(j5,852505,'A0VZ',h4[O5]))endifif((not J4)and(C8E))thenset J4=KV7(j5,h4[O5])endifelseif(YZE=='A0VP')thenset SL4[160+O5]=Bz+25.elseif(YZE=='A21Y' or YZE=='A1GU')thenset UP=GetUnitAbilityLevel(j5,'A21Y')if(UP>0)thenif(UP==1)thenset SL4[O5]=Bz+22.elseif(UP==2)thenset SL4[O5]=Bz+17.elseif(UP==3)thenset SL4[O5]=Bz+12.elseset SL4[O5]=Bz+5.endifelseset UP=GetUnitAbilityLevel(j5,'A1GU')if(UP>0)thenif(UP==1)thenset SL4[O5]=Bz+16.elseif(UP==2)thenset SL4[O5]=Bz+8.elseif(UP==3)thenset SL4[O5]=Bz+4.elseset SL4[O5]=Bz+2.endifendifendifendifelseif(i1=='E02F')thenif(YZE=='A1RJ')thenif(C8E)thenif((GetUnitLifePercent(j5)<40.)or(TM4[O5]==true))thencall I17(0.7)call K37(j5,852244,'A20N')endifset TK4[O5]=falseif((GetUnitLifePercent(j5)<40.))thenset J4=IssueImmediateOrderById(j5,852662)elseset m5=QJ7(600.,j5)if(m5!=null)thencall BPE(j5,m5,true)call TriggerSleepAction(.5)set J4=(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,851983,h4[O5]))endifendifset TM4[O5]=falseendifelseif(YZE=='A1YX')thenelseif(YZE=='A1RK')thenset hq[O5]=Bz+110.elseif(YZE=='A1YY')thenif C8E and(h4[O5]!=null)thencall BUE(O5,j5)endifendifelseif(i1=='U000')thenif(YZE=='A0X7')thenif(m5==null)thenset m5=K3(600.,j5,Condition(function Kr))endifif(not C8E)thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,'BPSE')>0))thencall V2E(j5,m5)endifelseif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(m5,'BPSE')>0))thencall BPE(j5,m5,true)set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not J_7(j5))and(KH7(1200.,m5,Condition(function PF7))==0)and(UP<(150+(300*GetUnitAbilityLevel(j5,'A09U'))))and(UP>200))thenset GZ[O5]=trueset h4[288+O5]=m5set J4=J8(O5,(K37(j5,852129,'A09U')))endifif((not J4)and((not J_7(j5))or(K97(m5,j5))))thenset J4=(KB7(j5,OrderId("creepheal"),'A1H5',0,m5))or((UP>150)and(GetUnitLifePercent(m5)<40.)and(A5E(j5,m5)))or(IssueTargetOrderById(j5,851983,m5))or(IssueTargetOrderById(j5,851986,m5))endifendifelseif(YZE=='A09U')thenif(C8E)thencall ExecuteFunc("ZOE")set J4=trueendifendifelseif(i1=='E004')thenif(YZE=='A030')thenset m5=QJ7(400.,j5)if(m5==null)thenset m5=QJ7(700.,j5)endifif(m5!=null)thencall BPE(j5,m5,true)call TriggerSleepAction(.5)set J4=(C8E)and(h4[O5]!=null)and(iU(j5))and(IssueTargetOrderById(j5,851983,h4[O5]))endifelseif((C8E)and(YZE=='A025'))thencall ExecuteFunc("ZVE")set J4=trueelseif(YZE=='AHfa')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='Udre')thenif(YZE=='A08C')thencall BPE(j5,m5,true)elseif((YZE=='A02H')and((not VI7())or(J_7(m5))))thenif(not VI7())thenset hq[512+O5]=Bz+5.endifcall BPE(j5,m5,true)elseif(YZE=='A03K')thenset UP=GetUnitAbilityLevel(j5,YZE)if(UP<3)thenset hq[O5]=Bz+300.-(UP*60.)elseset hq[O5]=Bz+125.endifif(not J_7(j5))thenset m5=QJ7(500.,j5)call BPE(j5,m5,true)call TriggerSleepAction(.5)set J4=(C8E)and(KB7(j5,852095,'A02H',0,m5))endifendifelseif(i1=='UC91')thenif((YZE=='A29K')and(not J_7(j5)))thencall BPE(j5,QJ7(320.,j5),true)elseif(YZE=='A05C')thenif(not C8E)thenelseif(J_7(j5))thencall OI7(j5,false)elseset m5=h4[O5]if(m5==null)thenset m5=QJ7(500.,j5)endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<50.)and(IssueTargetOrderById(j5,851983,m5))endifelseif(YZE=='A034')thencall BPE(j5,m5,IsUnitInRange(j5,m5,400.))call BOE(j5,m5)set J4=(C8E)and(IsUnitInRange(j5,m5,300.))and(K37(j5,852127,'A29K'))endifelseif(i1=='UC42')thenif(YZE=='A094')thenif(GetUnitLifePercent(m5)<60.)thencall BPE(j5,m5,true)endifelseif(YZE=='A1OP')thenset m5=K2(600.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<70.))thencall BPE(j5,m5,true)call BOE(j5,m5)endifset J4=(C8E)and(GetUnitManaPercent(j5)>40.)and(KB7(j5,852231,'A094',0,m5))elseif((YZE=='A0MU')or(YZE=='A0A2'))thenset UP=GetUnitAbilityLevel(j5,YZE)if((YZE=='A0A2')and(UP<3))thenset UP=UP+1endifset hq[O5]=Bz+210.-(30.*UP)set J4=(not J_7(j5))or(J_7(m5))call BPE(j5,m5,J4)if((C8E)and(J4))thencall SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A1OP',true)set GZ[O5]=trueset J4=J8(O5,(KB7(j5,852231,'A094',0,m5))or(IssueTargetOrderById(j5,852488,m5)))endifelseif(YZE=='A10R')thenset UP=GetUnitAbilityLevel(j5,YZE)if(C8E)and(DP7)thenset UP=GetRandomInt(1,2)if(UP==1)thencall WD7("YUMMY CREEP!!!",3.5,j5,0.025,100,0,200,216)elseif(UP==2)thencall WD7("MMM DELICIOUS!!!",3.5,j5,0.025,100,0,200,216)endifendifendifelseif(i1=='NC00')thenif(YZE=='AHtb')thencall BPE(j5,m5,true)elseif(YZE=='A01Y')thenset GZ[128+O5]=falseset G0[32+O5]=falseendifelseif((i1=='Eevi')or(i1=='Eevm'))thenif(YZE=='A1RI')thenset UP=GetUnitAbilityLevel(j5,YZE)set hq[O5]=Bz+70.if(C8E)thenset J4=((h4[O5]!=null)and(J57(h4[O5],j5))and(KZ7(j5,852089,'A27A',h4[O5])))if(KJ7(j5,OU[DN4]))thencall I17(0.2)call RemoveItem(KO7(j5,OU[DN4]))call UnitAddItemByIdSwapped(OU[DO4],j5)endifendifendifelseif(i1=='Ekee')thenif(YZE=='A06W')thencall BPE(j5,K2(125.+(25.*GetUnitAbilityLevel(j5,'A06W')),HC[O5]),true)elseif(YZE=='A20T')thenset hq[O5]=Bz+32.-(2.*GetUnitAbilityLevel(j5,'A20T'))set hq[240+O5]=Bz+7.set m5=QJ7(500.,j5)if(m5!=null)thencall BOE(j5,m5)endifif(C8E)thenset J4=(m5!=null)and(IssueTargetOrderById(j5,851983,m5))loopif((iU(j5))and(not G0[O5])and(G0[128+O5])and(GetUnitLifePercent(j5)>60.))thenif(KH7(450.,j5,Condition(function k3))==0)thenset m5=KD7(800.,jv(j5),Condition(function k3))set J4=((m5!=null)and(IssueTargetOrderById(j5,851986,m5)))or(jW(j5,851983,h8[O5]))elsecall jW(j5,851983,h8[O5])endifendifexitwhen((Bz>hq[240+O5])or(not J07(j5)))call I17(1.)endloopelseif((m5!=null)and(GetUnitLifePercent(m5)<50.))thencall V2E(j5,m5)endifendifelseif((YZE=='A21F')or(YZE=='A21G'))thenset m5=QJ7(300.,j5)if(m5!=null)thencall BPE(j5,m5,true)call BOE(j5,m5)set J4=(C8E)and(IssueTargetOrderById(j5,851986,m5))endifelseif(YZE=='A06V')and(C8E)and(m5!=null)thenif(GetHeroLevel(j5)>6)or(GetUnitLifePercent(m5)<60.)thencall MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(j5,'A06W')))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(j5,'A06W')))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))if(J87(GetUnitX(j5),GetUnitY(j5),GetLocationX(HA),GetLocationY(HA))<750)or(V98(m5))thenset J4=KA7(j5,852224,'A06W',HA)endifendifendifelseif(i1=='Ulic')thenif((YZE=='A05T')or(YZE=='A08H'))thenset UP=GetUnitAbilityLevel(j5,YZE)if(UP!=3)thenset hq[O5]=Bz+175.-(UP*30.)elseset hq[O5]=Bz+60.endifcall BPE(j5,QJ7(750.,j5),true)endifelseif(i1=='UC18')thenif(YZE=='A0X5')thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)if(C8E)thenset J4=(IssueTargetOrderById(j5,851983,m5))or(IssueTargetOrderById(j5,851986,m5))call I17(1.)set UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((not ke(m5))and(UP>200.)and(UP<AYE(j5)))thenset GZ[O5]=trueset J4=J8(O5,KB7(j5,852119,'A095','A09W',m5))endifendifendifelseif((YZE=='A095')or(YZE=='A09W'))thenset UP=GetUnitAbilityLevel(j5,YZE)if(UP!=3)thenset hq[O5]=Bz+210.-(UP*60.)elseset hq[O5]=Bz+55.endifcall BPE(j5,m5,true)endifelseif(i1=='EC57')thenif((YZE=='A013')or(YZE=='A0A6'))thenset hq[16+O5]=Bz+160.-(20.*GetUnitAbilityLevel(j5,YZE))set m5=QJ7(600.,j5)if(m5!=null)thenset J4=(C8E)and(KB7(j5,OrderId("volcano"),'A173',0,m5))if(not J4)thencall BPE(j5,m5,true)endifendifendifelseif(i1=='UC11')thenif(YZE=='A29L')thencall BPE(j5,QJ7(150.,j5),true)set hq[O5]=Bz+130.-(10.*GetUnitAbilityLevel(j5,YZE))endifif(YZE=='A1RD')thenif C8E thenif((not J4)and(GetHeroLevel(j5)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(300.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(J_7(m5)or GZ[208+O5]))thenset J4=(Kz(400.,jv(j5))>1)and(IsUnitInRange(j5,m5,300.))and(K37(j5,852164,'A29L'))endifendifendifendifelseif(i1=='H071')thenif(YZE=='A1IM')thencall BPE(j5,QJ7(150.,j5),true)elseif(YZE=='A1IN')thenset m5=h4[O5]if m5==null thenset m5=QJ7(250.,j5)endifif((C8E)and(m5!=null))thenset J4=(IsUnitInRange(j5,m5,300.))and(IssueImmediateOrderById(j5,852526))or(IssueTargetOrderById(j5,851983,m5))if h4[O5]==null thenset h4[O5]=m5endifendifendifelseif((i1=='U008')or(i1=='E015'))thenif(YZE=='A03D')thenset J4=(C8E)and((h4[O5]==null)or(GetUnitManaPercent(j5)>50.))and(K37(j5,OrderId("channel"),'A0ZF'))elseif(YZE=='A093')thenset hq[O5]=Bz+170.-(10.*GetUnitAbilityLevel(j5,YZE))set m5=h4[O5]if((m5==null)or(not C8E))thenset m5=QJ7(500.,j5)set h4[O5]=m5endifif((m5!=null)and((not J_7(j5))or(J_7(m5))))thencall BPE(j5,m5,true)call BOE(j5,m5)endifendifelseif(i1=='Hvsh')thenif(YZE=='A0EC')thenif(m5==j5)thenset m5=h4[O5]if((m5==null)or(not C8E))thenset m5=QJ7(600.,j5)endifendifif((m5!=null)and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall BPE(j5,m5,true)endifelseif(YZE=='A0LH')thenset hq[O5]=Bz+100.set hq[512+O5]=Bz+6.call BPE(j5,m5,true)call I17(1.)if(J07(m5))thencall BPE(j5,m5,true)set J4=(C8E)and(KB7(j5,852668,'A0EC',0,j5))endifendifelseif(i1=='Opgh')thenif(YZE=='A0S1')thencall BPE(j5,m5,true)elseif(YZE=='A0I6')thenset hq[O5]=Bz+14.set m5=QJ7(250.,j5)if(m5!=null)thencall BPE(j5,m5,true)set J4=(C8E)and(IssueTargetOrderById(j5,852248,m5))endifendifelseif(i1=='U00K')thenif(YZE=='A06R')thenset hq[O5]=Bz+160.-(20.*GetUnitAbilityLevel(j5,'A06R'))set hq[512+O5]=Bz+3.if(C8E)thenset m5=QJ7(300.,j5)if((m5==null)and(KJ7(j5,OU[HW])))thenset m5=QJ7(900.,j5)if(m5==null)thenset m5=QJ7(1200.,j5)endifif(m5==null)and(Bz>SL4[16+O5])thenset m5=QJ7(1300.+GetUnitAbilityLevel(j5,'A06O')*100,j5)endifset J4=(m5!=null)and(UnitUseItemPoint(j5,KO7(j5,OU[HW]),GetUnitX(m5),GetUnitY(m5)))call I17(0.1)if(m5==null)thenset hq[240+O5]=Bz+100.endifendifif((not J4)and(m5!=null)and(J07(m5)))thenset J4=IssueTargetOrderById(j5,851983,m5)endifendifelseif(YZE=='A0S3')thenset m5=QJ7(180.,j5)if((C8E)and(m5!=null)and(IsUnitInRange(j5,m5,200.))and(GetUnitAbilityLevel(m5,'BPSE')>0))thenset J4=IssueImmediateOrderById(j5,852581)endifelseif(YZE=='A06O')thenif(not J_7(j5))thenset hq[512+O5]=Bz+3.endifif((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO))or(not IsUnitInRange(j5,m5,200.)))thenset m5=QJ7(350.,j5)endifif(m5!=null)thencall V2E(j5,m5)if(not C8E)thenelseif((IsUnitInRange(j5,m5,200.))and(J07(m5)))thenset h4[O5]=m5set J4=((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(IssueTargetOrderById(j5,851983,m5)))or((Bz>hq[O5])and(KH7(600.,j5,Condition(function P47))>1)and(R2I(GetUnitState(j5,UNIT_STATE_MANA))>150+(75*GetUnitAbilityLevel(j5,'A06R')))and(jP(j5,OU[G5])))or(IssueImmediateOrderById(j5,852581))or(IssueTargetOrderById(j5,851983,m5))elseset J4=IssueTargetOrderById(j5,851983,m5)endifendifendifelseif(i1=='Nfir')thenif(YZE=='A29J')thenset hq[O5]=Bz+130.-(GetUnitAbilityLevel(j5,YZE)*10.)set m5=QJ7(150.,j5)if(m5==null)thenset m5=QJ7(300.,j5)if(m5==null)thenset m5=QJ7(600.,j5)endifendifif(m5!=null)thencall BPE(j5,m5,true)endifelseif((YZE=='A0EY')or(YZE=='A0FH')or(YZE=='A0F0'))thenset J4=(C8E)and(GetUnitAbilityLevel(j5,'B07T')==0)and(GetUnitManaPercent(j5)>30)and(GetHeroLevel(j5)>3)and((A6E(j5,200.,852164,'A0EY'))or(A6E(j5,450.,852588,'A0FH'))or(A6E(j5,700.,852599,'A0F0')))if(not J4)thenif(YZE=='A0EY')thenset UP=200elseif(YZE=='A0FH')thenset UP=450elseset UP=700endifcall MoveLocation(Ha,GetUnitX(j5)+UP*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+UP*Sin(GetUnitFacing(j5)*bj_DEGTORAD))set m5=K2(250.,Ha)set J4=(C8E)and(m5!=null)and(IssueTargetOrderById(j5,851983,m5))endifif((m5!=null)and(GetUnitLifePercent(m5)<50.))thencall V2E(j5,m5)endifendifelseif(i1=='U00F')thenif(YZE=='A06I')thenset hq[16+O5]=Bz+14.if C8E thenset m5=QJ7(225,j5)if m5!=null thenset h4[O5]=m5set J4=KB7(j5,852480,'A0FL','A1CX',m5)endifendifelseif(YZE=='A0FL')thenset hq[O5]=Bz+30.if C8E and GetUnitLifePercent(m5)<30 thenset J4=A1E(j5,m5)endifendifelseif(i1=='U00E')thenif((YZE=='A067')or(YZE=='A08P'))thencall BPE(j5,m5,true)endifelseif(i1=='Oshd')thenif(YZE=='A04Y')thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5))))thencall J3(j5,false)loopexitwhen(GetUnitAbilityLevel(m5,'B02F')==0)call I17(1.)endloopcall BNE(j5,m5)set J4=(C8E)and(G0[128+O5])and(is(j5))and(KB7(j5,852119,'A0GK',0,m5))endifelseif(YZE=='A02Q')thenset J4=(C8E)and(J07(m5))and(not J_7(j5))and((KB7(j5,852119,'A0GK',0,m5))or(IssueTargetOrderById(j5,851983,m5)))set hq[O5]=Bz+120.endifelseif(i1=='Ofar')thenif(YZE=='A046')thencall BPE(j5,m5,true)set hq[O5]=Bz+12.elseif(YZE=='A29I')thencall BPE(j5,QJ7(550.,j5),true)set hq[16+O5]=Bz+150.endifelseif(i1=='UC76')thenif((YZE=='A073')or(YZE=='A03J')or(YZE=='A04J')or(YZE=='A04M')or(YZE=='A04N'))thenif(not J_7(j5))thenset m5=K2(600.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)call BOE(j5,m5)endifendifendifelseif(i1=='E01B')thenif(YZE=='A0HW')thenif((m5==null)or(not IsUnitType(m5,UNIT_TYPE_HERO)))thenelseif(GetUnitLifePercent(m5)<60.)thencall BPE(j5,m5,true)if((J_7(m5))and(C8E))thenset J4=IssueImmediateOrderById(j5,852490)endifelsecall V2E(j5,m5)endifelseif(YZE=='A0H9')thencall BPE(j5,QJ7(1000.,j5),true)set hq[240+O5]=Bz+2.+(1.5*GetUnitAbilityLevel(j5,'A0H9'))set hq[16+O5]=Bz+180.-(30.*GetUnitAbilityLevel(j5,'A0H9'))elseif(YZE=='A0HA')thencall BPE(j5,QJ7(500.,j5),true)if(C8E)thencall R17(j5)endifendifelseif(i1=='E01A')thenif(YZE=='A0NM')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall BPE(j5,m5,GetUnitLifePercent(j5)>50.)if((C8E)and((GetUnitLifePercent(j5)>50.)or(GetUnitLifePercent(m5)<40.)))thencall I17(0.5)set J4=KB7(j5,852089,'A0NO',0,m5)endifendifelseif(YZE=='A0NO')thenset m5=K2(300.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)set J4=(C8E)and(((not kr(j5))and(KB7(j5,852597,'A0NT','A0NX',m5)))or(KB7(j5,852119,'A0NM',0,m5)))endifelseif((YZE=='A0NT')or(YZE=='A0NX'))thenset hq[O5]=Bz+90.endifelseif(i1=='U00P')thenif(YZE=='A0OJ')thencall I17(GetUnitAbilityLevel(j5,'A0OJ')+0.6)if((m5!=null)and(J07(m5))and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitVisible(m5,GetOwningPlayer(j5))))thencall BPE(j5,m5,GetUnitLifePercent(j5)>50.)endifelseif((YZE=='A0OK')or(YZE=='A1VW'))thenset hq[O5]=Bz+160.call BPE(j5,K2(500.,HC[O5]),true)elseif(YZE=='A0OI')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='E01C')thenif(YZE=='A0AS')thenif((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifelseif(YZE=='A0J5')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall V2E(j5,m5)call BNE(j5,m5)if(C8E)thenif((GetUnitLifePercent(m5)<80.)or(GZ[O5]))thenset GZ[O5]=trueset J4=J8(O5,KB7(j5,852224,'S008',0,m5))endifset J4=(J4)or(IssueTargetOrderById(j5,852248,m5))endifendifelseif(YZE=='S008')or(YZE=='S00U')thenset hq[O5]=Bz+165.set m5=K2(500.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)call TriggerSleepAction(0.7)if((C8E)and(KJ7(j5,OU[HW]))and(not IsUnitInRange(j5,m5,250.))and(GetUnitLifePercent(j5)>70.)and(GetUnitAbilityLevel(j5,'A06P')>1)and(Bz>hq[16+O5]))thenset J4=(GetHeroLevel(j5)>5)and(B4E(j5,m5))endifcall TriggerSleepAction(0.1)if((C8E)and(YZE=='S00U')and(KJ7(j5,OU[DQ4]))and(GetUnitState(j5,UNIT_STATE_MANA)>525+50*GetUnitAbilityLevel(j5,'S00U')))thenset J4=(UnitUseItem(j5,bj_lastCreatedItem))if J4 thencall TriggerSleepAction(0.1)set J4=KB7(j5,852224,'S008',0,m5)endifendifendifelseif(YZE=='A06P')thenset hq[16+O5]=Bz+20.endifelseif((i1=='H00I')or(i1=='H00J'))thenif(YZE=='A0NB')thenset m5=K2(200.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)if(C8E)thencall B9E(G7[O5],m5)call B9E(G7[16+O5],m5)call B9E(G7[32+O5],m5)call B9E(G7[48+O5],m5)endifendifelseif(YZE=='A0N8')thenset m5=QJ7(400.,j5)if((C8E)and(not J_7(j5))and(m5!=null))thencall I17(0.5)set J4=(GetUnitAbilityLevel(m5,'B078')==0)and(BDE(j5,m5))endifendifelseif(i1=='N01W')thenif(YZE=='A10Q')thenif((IsUnitEnemy(m5,GetOwningPlayer(j5)))and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)set J4=(C8E)and(KB7(j5,852095,'A0NQ',0,m5))endifelseif(YZE=='A0NQ')thencall BPE(j5,m5,true)set J4=(C8E)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IssueTargetOrderById(j5,852248,m5))elseif(YZE=='A10L')thenset hq[O5]=Bz+300.-(GetUnitAbilityLevel(j5,YZE)*50.)endifelseif(i1=='N00R')thenif(YZE=='A26O')thenset m5=K2(250.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)call BOE(j5,m5)endifelseif(YZE=='A0RA')thenset m5=K2(250.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)if((not J_7(j5))and(C8E))thenset J4=KB7(j5,852238,'A26O',0,m5)endifendifelseif(YZE=='A0R0')thencall I17(1.)call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Kq),function BEE)if(C8E)thencall R17(j5)endifendifelseif((i1=='H00R')or(i1=='H07I'))thenif(YZE=='A0QV')thenset m5=QJ7(550.,j5)if(m5!=null)thenif(GetUnitLifePercent(m5)<60.)thencall BOE(j5,m5)endifif((C8E)and((GetUnitLifePercent(m5)<60.)or(GetUnitManaPercent(j5)>60.)))thenset I04=j5set J4=(KH7(1000.,j5,Condition(function ny))>6)and(IssueTargetOrderById(j5,852699,m5))endifendifelseif((YZE=='A0R5')or(YZE=='A0R3'))thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<60))thencall BPE(j5,m5,true)if(YZE=='A0R3')thencall BNE(j5,m5)set h4[16+O5]=m5if((C8E)and(not J_7(j5)))thenset I04=j5set J4=(K37(j5,'A0QV',851971))or((KH7(1000.,j5,Condition(function ny))>4)and(IssueTargetOrderById(j5,852699,m5)))endifendifendifendifelseif(i1=='H00N')thenif(YZE=='A0QE')thenset m5=K2(250.,HC[O5])if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)call BOE(j5,m5)endifelseif(YZE=='A0QG')thenset UP=R2I(50.+(100.*GetUnitAbilityLevel(j5,'A0QE')))if(m5!=null)thenset m5=QJ7(I2R(UP),m5)endifif((C8E)and(m5!=null))thenset YZE=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A0QE',true)set J4=IssuePointOrderById(j5,852089,GetUnitX(m5)+I2R(YZE)*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+I2R(YZE)*Sin(UP*bj_DEGTORAD))endifelseif(YZE=='A0QK' or YZE=='A21Q')thenset hq[O5]=Bz+100.endifelseif(i1=='H008')thenif(YZE=='A0FW')thencall BPE(j5,m5,true)elseif(YZE=='A0GP')thenset m5=QJ7(600.,j5)if((m5!=null)and(GetUnitLifePercent(m5)<65.))thencall BPE(j5,m5,true)endifendifelseif(i1=='E005')thenif((YZE=='A054')or(YZE=='A00U'))thenset UP=GetUnitAbilityLevel(j5,YZE)call BPE(j5,QJ7(650.,j5),true)call I17(5.)if(YZE=='A054')thenset hq[O5]=Bz+155.-(UP*20.)elseset hq[O5]=Bz+145.-(UP*20.)endifendifelseif(i1=='Npbm')thenif(YZE=='A06M')thencall BPE(j5,QJ7(250.,j5),true)set hq[O5]=Bz+12.endifelseif(i1=='H000')thenif(YZE=='A00S')thencall BPE(j5,QJ7(300.,j5),true)set hq[O5]=Bz+15.endifelseif(i1=='Nbrn')thenif(YZE=='A026')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif(YZE=='A03G')thenset hq[O5]=Bz+135.set m5=h4[O5]if((m5==null)or(not C8E))thenset m5=QJ7(700.,j5)set h4[O5]=m5endifif(m5!=null)thencall BPE(j5,m5,true)call BOE(j5,m5)set J4=(C8E)and(((IsUnitInRange(j5,m5,350.))and(KZ7(j5,852095,'A0AR',m5)))or(IssueTargetOrderById(j5,851983,m5)))endifendifelseif(i1=='Edem')thenif(YZE=='A0E3')thencall BPE(j5,m5,true)endifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenset m5=h4[O5]if(YZE=='A1EJ')thenif m5==null thenset m5=QJ7(700.,j5)endifif(m5!=null)thencall BPE(j5,m5,true)call BOE(j5,m5)endifelseif(YZE=='A21M')and(m5!=null)and C8E thenif(m5!=null)and(IsUnitInRange(j5,m5,200.))thenset J4=(i1=='N016')and(K37(j5,852138,'A0BE'))if J4 thenset i1='N017'endifelseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(H07(j5)<2000.)))thenelseif(GetHeroLevel(j5)>=6 or h4[O5]!=null)and(KS7(j5,OU[G5]))thenset J4=(i1=='N016')and(K37(j5,852138,'A0BE'))endifif(not J4)thencall IssueTargetOrderById(j5,851983,m5)endifelseif(YZE=='A0BE')and(m5!=null)and C8E thencall IssueTargetOrderById(j5,851983,m5)if(not J4)and(h4[O5]!=null)thencall TriggerSleepAction(0.1)if(i1!='N016')thenset J4=KZ7(j5,852218,'A21M',m5)elseset J4=(IsUnitInRange(j5,m5,400.)and(K37(j5,852096,'A21N')))endifendifendifelseif(i1=='Usyl')thenif(YZE=='A04P')thencall V2E(j5,m5)set hq[O5]=Bz+40.-(10.*GetUnitAbilityLevel(j5,'A04P'))endifelseif(i1=='Naka')thenif(YZE=='A07A')thenset hq[O5]=Bz+20.if(C8E)thencall ExecuteFunc("ZVE")set J4=trueendifendifelseif(i1=='Orkn')thenif(YZE=='A00P')thenset J4=(C8E)and((KB7(j5,852502,'A0RX',0,m5))or(IssueTargetOrderById(j5,851983,m5)))set hq[16+O5]=Bz+16.endifelseif(i1=='Hmbr')thenif(YZE=='A020')thenset J4=(C8E)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(KB7(j5,852095,'A0JC',0,m5))elseif(YZE=='A0JC')thenset J4=(C8E)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(KB7(j5,852119,'A020',0,m5))if((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifelseif((YZE=='A29G')or(YZE=='A29H'))thenset hq[O5]=Bz+120.call BPE(j5,QJ7(700.,j5),true)endifelseif(i1=='Emoo')thenif(YZE=='A0DX')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall BPE(j5,m5,true)endifset hq[O5]=Bz+35.-(GetUnitAbilityLevel(j5,YZE)*5.)elseif(YZE=='A0DY' or YZE=='A1WB')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='Uktl')thenif(YZE=='A0I7')thenset hq[16+O5]=Bz+15.call BPE(j5,m5,true)if((C8E)and(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(j5)>5)or(J_7(m5))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(j5,852600,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifelseif(YZE=='A0B1')thenset b5=HC[O5]set m5=K2(400.,b5)if(m5!=null)thencall BOE(j5,m5)endifif((C8E)and(not kr(j5)))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<75.)and((KL7(not IsUnitAlly(j5,Y7[0]))<=2)or(GetHeroLevel(j5)<11))and(IssuePointOrderByIdLoc(j5,OrderId("cannibalize"),b5))if(not J4)thenset UP=KG7(400.,b5,Condition(function P47))set J4=((UP>1)or(UP==KL7(not IsUnitAlly(j5,Y7[0])))or((UP>0)and(KG7(700.,b5,Condition(function P47))>1)and(KG7(700.,b5,Condition(function PG7))>0)))and(IssuePointOrderByIdLoc(j5,OrderId("cannibalize"),b5))endifendifelseif(YZE=='A1BX')thenset UP=GetUnitAbilityLevel(j5,YZE)set hq[O5]=Bz+210.-(UP*10.)set m5=QJ7(400.,j5)set J4=(C8E)and(m5!=null)and(IssueTargetOrderById(j5,851983,m5))endifelseif(i1=='Hblm')thenif(YZE=='A085')thenset hq[O5]=Bz+10.call MoveLocation(Ha,GetUnitX(j5)+400*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+400*Sin(GetUnitFacing(j5)*bj_DEGTORAD))set m5=K2(400.,Ha)if(m5!=null)thencall BOE(j5,m5)endifendifelseif(i1=='Ntin')thenif(YZE=='A049')thenset hq[32+O5]=Bz+14.if(GetUnitLifePercent(m5)<60.)thencall BPE(j5,m5,true)endifelseif(YZE=='A05E')thenset hq[O5]=Bz+25.elseif(YZE=='A0BQ')thenset hq[16+O5]=Bz+35.set m5=K2(500.,HC[O5])if(m5!=null)thencall BOE(j5,m5)endifif((C8E)and(m5!=null)and(KJ7(j5,OU[DR4])))thenset J4=UnitUseItemTarget(j5,bj_lastCreatedItem,m5)endifelseif(YZE=='A065')thenset hq[O5]=Bzset hq[16+O5]=Bzset hq[32+O5]=Bzset hq[80+O5]=Bzset hq[96+O5]=Bzendifelseif(i1=='O00P')thenif(YZE=='A0G6')thenif((C8E)and(GetHeroLevel(j5)>5)and((not J_7(j5))or(Id(O5))))thenif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(j5,m5,300.)))thenset GZ[O5]=trueset J4=(J8(O5,KB7(j5,852218,'A0FN',0,m5)))endifendifelseif(YZE=='A0G8')thencall BPE(j5,QJ7(700.,j5),true)elseif(YZE=='A0GC')thencall BPE(j5,QJ7(500.,j5),true)endifelseif(i1=='HC49')thenif(YZE=='A07U')thenset hq[32+O5]=Bz+120.call I17(0.5)set J4=(C8E)and(not J_7(j5))and(K37(j5,852123,'A063'))elseif(YZE=='A24D')thenset hq[O5]=Bz+14.call BPE(j5,m5,true)set J4=(C8E)and(not J_7(j5))and((KZ7(j5,852218,'A2KU',m5))or(K37(j5,852123,'A063')))elseif(YZE=='A063')and(C8E and(h4[O5]!=null)and(not J_7(j5)))thenset J4=(UQ7(j5,h4[O5]))and(K37(j5,852526,'A2KU'))endifelseif(i1=='Nbbc')thenif(YZE=='A05G')thenset hq[240+O5]=Bz+5.set m5=QJ7(600.,j5)if(m5!=null)thencall BOE(j5,m5)endifif(C8E)thenloopif((m5!=null)and(GetUnitLifePercent(m5)<GetUnitLifePercent(j5)))thencall IssuePointOrderById(j5,851986,GetUnitX(m5)+GetRandomReal(0,300.)-150.,GetUnitY(m5)+GetRandomReal(0,300.)-150.)elseif((not G0[O5])and(G0[128+O5])and(not J_7(j5)))thenif(KH7(200.,j5,Condition(function k3))==0)thencall jW(j5,851983,h8[O5])endifendifif(not G0[128+O5])thenset m5=nullendifexitwhen(Bz>=hq[240+O5])call I17(0.5)endloopset m5=QJ7(500.,j5)if((m5!=null)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitAbilityLevel(m5,'Bcyc')==0)and(GetUnitAbilityLevel(m5,'Bcy2')==0))thenset UP=KH7(850.,m5,Condition(function P47))set J4=((UP-(KH7(850.,m5,Condition(function k3))))>=0)and(KB7(j5,852095,'A0M1','A1AX',m5))endifelsecall V2E(j5,m5)endifendifelseif(i1=='Hjai')thenif(YZE=='A0S3')thenset m5=QJ7(450.,j5)if((C8E)and(m5!=null)and(not J_7(j5)))thenset J4=IssueImmediateOrderById(j5,852600)endifelseif((YZE=='A03R')or(YZE=='A0AV'))thenset hq[O5]=Bz+180.-(GetUnitAbilityLevel(j5,YZE)*30.)endifelseif(i1=='HC92')thenif(YZE=='A0RG')thenset hq[O5]=Bz+15.set b5=HC[O5]set m5=K2(I2R(250+(25*GetUnitAbilityLevel(j5,'A0RG'))),b5)if(m5!=null)thencall BPE(j5,m5,true)set J4=(C8E)and(not J_7(j5))and(G0[128+O5])and(not IsUnitInRangeLoc(m5,b5,200.))and(IssueTargetOrderById(j5,852600,m5))endifendifelseif(i1=='H001')thenif(YZE=='A0S3')thenset m5=QJ7(800.,j5)set J4=(C8E)and(m5!=null)and(K37(j5,OrderId("chemicalrage"),'A1WH'))endifelseif(i1=='H00A')thenif(YZE=='A0LV')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,GetOwningPlayer(j5)))and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)endifelseif(YZE=='A28T')thenset hq[O5]=Bz+30.elseif(YZE=='A0LT' or YZE=='A1CS')thenset hq[16+O5]=Bz+120.endifelseif(i1=='H004')thenif((YZE=='A01P')or(YZE=='A09Z'))thenif(UP!=3)thenset hq[O5]=Bz+210.-(UP*60.)elseset hq[O5]=Bz+55.endifcall BPE(j5,m5,true)endifelseif(i1=='Ucrl')thenif(YZE=='A0LL')thenset b5=HC[O5]set m5=K2(300.,b5)if(m5!=null)thencall BPE(j5,m5,true)call TriggerSleepAction(1.)set J4=(C8E)and(IsUnitInRange(j5,m5,250.))and(KG7(300.,b5,Condition(function k0))<=2)and(IssueTargetOrderById(j5,852600,m5))endifelseif(YZE=='A0BZ')thenset hq[O5]=Bz+15.call I17(1.2)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifelseif(YZE=='A1VG')thenset SL4[64+O5]=Bz+30call I17(0.8)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifendifelseif(i1=='Otch')thenif(YZE=='A0DL')thencall BPE(j5,QJ7(250.,j5),true)elseif(YZE=='A0DH' or YZE=='A1OB')thenset hq[O5]=Bz+170.-(GetUnitAbilityLevel(j5,YZE)*20.)call BPE(j5,QJ7(500.,j5),true)elseif(YZE=='A0SK')thenset m5=K3(900.,j5,Condition(function Kr))if(m5!=null)thencall BPE(j5,m5,true)set J4=(C8E)and(GetUnitLifePercent(j5)>50.)and(GetUnitLifePercent(m5)<60.)and(G0[128+O5])and(KH7(700.,m5,Condition(function P47))<=2)and(B4E(j5,m5))endifendifelseif(i1=='N01A')thenif(YZE=='A14L')thenif(GetUnitLifePercent(m5)<60.)thencall BPE(j5,m5,true)endifelseif(YZE=='A0L3')thenset hq[O5]=Bz+160.elseif(YZE=='A0LZ')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='H00K')thenif(YZE=='A06B')thencall BPE(j5,QJ7(300.,j5),true)endifif(YZE=='A05J' or YZE=='A06H' or YZE=='A0AK' or YZE=='A1FY')and C8E thenset b5=HC[O5]if(h9[48+O5]!=null)and(IsUnitInRangeLoc(h9[48+O5],b5,600.))thenset DD7=300call MoveLocation(HA,GetUnitX(h9[48+O5]),GetUnitY(h9[48+O5]))if GetUnitUserData(h9[48+O5])>100 thenset DD7=150endifelseset DD7=150call MoveLocation(HA,GetLocationX(b5),GetLocationY(b5))endifif(not J4)and(Bz>SL4[16+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>O6E(j5,'A05J',FI7)+O6E(j5,'A06B',FI7))thencall MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-DD7,DD7),GetLocationY(HA)+GetRandomReal(-DD7,DD7))set J4=(KA7(j5,852278,'A05J',HA))endifset bj_lastLoadedUnit=j5if(not J4)and(Bz>SL4[32+O5])and(GetUnitState(j5,UNIT_STATE_MANA)>O6E(j5,'A06H',FI7)+O6E(j5,'A06B',FI7))and(KG7(600.,HA,Condition(function P57))==0)thencall MoveLocation(HA,GetLocationX(HA)+GetRandomReal(-100.,100.),GetLocationY(HA)+GetRandomReal(-100.,100.))set J4=(KA7(j5,852114,'A06H',HA))endifif((not J4)and(GetHeroLevel(j5)>5)and(Bz>SL4[O5])and(GetUnitState(j5,UNIT_STATE_MANA)>O6E(j5,'A0AK',FI7)+O6E(j5,'A1FY',FI7)+O6E(j5,'A06B',FI7))and(KG7(600.,HA,Condition(function KG))<8))thenset hq[240+O5]=Bz+5.set J4=(KC7(j5,852504,'A0AK','A1FY',GetLocationX(HA)+GetRandomReal(-DD7,DD7),GetLocationY(HA)+GetRandomReal(-DD7,DD7)))endifif(not J4)and((YZE=='A05J')or(YZE=='A06H'))and C8E thencall UFE(j5,false)endifendifelseif(i1=='Huth')thenif(YZE=='A0LC')thenset m5=QJ7(550.,j5)set J4=(C8E)and(m5!=null)and(((IsUnitInRange(j5,m5,250.))and(K37(j5,852096,'A03Y')))or(IssueTargetOrderById(j5,851983,m5)))endifelseif(i1=='Hamg')thenif(YZE=='A07Z')thenset m5=QJ7(700.,j5)call BPE(j5,m5,true)if((C8E)and(m5!=null))thenset J4=A_E(j5)call I17(1.)call IssueTargetOrderById(j5,851983,m5)elsecall I17(1.)endifcall I17(7.)set hq[O5]=Bz+152.endifelseif(i1=='H00D')thenif(YZE=='A0O2' or YZE=='A289')thenset hq[O5]=Bz+60.call BPE(j5,m5,true)if(C8E)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A0O1',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,852218,GetUnitX(j5)+900.*Cos(UP*bj_DEGTORAD),GetUnitY(j5)+900.*Sin(UP*bj_DEGTORAD)))endifelseif(YZE=='A0O1')thenif(m5==null)thenset m5=K2(300.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifendifelseif(i1=='E00P')thenif(YZE=='A0O7')thenset m5=QJ7(500.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)set J4=(C8E)and(KB7(j5,852580,'A0O6',0,m5))endifelseif(YZE=='A0O6')thenset hq[O5]=Bz+16.if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)call I17(1.5)set J4=(C8E)and(GetUnitLifePercent(m5)<65.)and(GetUnitState(m5,UNIT_STATE_LIFE)>150.)and(IsUnitType(m5,UNIT_TYPE_STUNNED))and(KB7(j5,852125,'A0O5',0,m5))endifelseif(YZE=='A0O5')thenif(m5==null)thenset m5=K2(650.,HC[O5])endifcall BPE(j5,m5,true)if(m5!=null)thencall BOE(j5,m5)set J4=(C8E)and(KB7(j5,852580,'A0O6',0,m5))endifendifelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenif(YZE=='A0IL')thenset hq[O5]=Bz+22.set m5=K2(600.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)call BOE(j5,m5)endifelseif(YZE=='A1NI')thenif((J07(m5))and(GetUnitLifePercent(m5)<65.))thencall V2E(j5,m5)endifelseif(YZE=='ANcr')thenset hq[512+O5]=Bz+6.set m5=QJ7(500.,j5)if(m5!=null)thencall BOE(j5,m5)set J4=(C8E)and(not J_7(j5))and(IssueTargetOrderById(j5,851983,m5))endifendifelseif(i1=='N01V')thenif(YZE=='A0KV')thenset hq[O5]=Bz+12.set m5=QJ7(400.,j5)if((m5!=null)and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)endifelseif(YZE=='A0L8')thenset hq[32+O5]=Bz+25.call I17(0.1)if(m5==null)thenset m5=K2(200.,HC[O5])endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifelseif(YZE=='A0KU')thenset hq[16+O5]=Bz+160.endifelseif(i1=='H00S')thenelseif(i1=='H00Q')thenif(YZE=='A0QR')thencall BPE(j5,m5,true)elseif(YZE=='A0QN')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall V2E(j5,m5)endifendifelseif(i1=='E01Y')thenif(YZE=='A1EA')thencall BPE(j5,QJ7(300.,j5),true)endifelseif(i1=='N00B')thenif(YZE=='A0SC')thenset hq[16+O5]=Bz+20.set m5=QJ7(400.,j5)if(m5!=null)thencall BPE(j5,m5,true)if((C8E)and(GetUnitLifePercent(m5)<60.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(K67(m5)),GetUnitX(m5)-GetUnitX(K67(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A0S8',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifendifelseif((YZE=='A0S8')or(YZE=='A1QP'))thenset hq[O5]=Bz+85.set m5=K2(400.,HC[O5])if(m5!=null)thencall BPE(j5,m5,true)set J4=(C8E)and(IsUnitInRange(j5,m5,400.))and(IssueImmediateOrderById(j5,852600))endifelseif(YZE=='A0SA')thenset m5=QJ7(400.,j5)if((m5!=null)and(not J_7(j5)))thencall BPE(j5,m5,true)set J4=(C8E)and(IssueImmediateOrderById(j5,852600))if((not J4)and(C8E)and(GetUnitLifePercent(m5)<60.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(K67(m5)),GetUnitX(m5)-GetUnitX(K67(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(j5),'A0S8',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(j5,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifendifif(C8E)thencall I17(1.)call R17(j5)endifendifelseif(i1=='N0EG')thenif(YZE=='A12J')thenif C8E and GetUnitAbilityLevel(GetSpellTargetUnit(),'BPSE')>1 thenset h4[O5]=m5set J4=IssueTargetOrderById(j5,852581,m5)endifendifelseif(i1=='H00T')thenif(YZE=='A0Z8')or(YZE=='A1CV')or(YZE=='A0Z5')and C8E thenset m5=h4[O5]if(m5==null)or(not IsUnitInRange(j5,m5,170))thenset m5=QJ7(170.,j5)if m5!=null thenset h4[O5]=m5endifendifif(YZE=='A0Z5')thenif J_7(j5)thenset bj_lastReplacedUnit=h9[16+O5]set J4=trueelseif m5==null thenif h4[O5]!=null thenset bj_lastReplacedUnit=h4[O5]elseset bj_lastReplacedUnit=h8[O5]endifset J4=trueendifif J4 thenset m5=MZ7(GetHandleId(j5),"AI|Cog1")set bj_lastLoadedUnit=MZ7(GetHandleId(j5),"AI|Cog2")if J77(m5,bj_lastReplacedUnit)>J77(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifset bj_lastLoadedUnit=MZ7(GetHandleId(j5),"AI|Cog3")if J77(m5,bj_lastReplacedUnit)>J77(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifset bj_lastLoadedUnit=MZ7(GetHandleId(j5),"AI|Cog4")if J77(m5,bj_lastReplacedUnit)>J77(bj_lastLoadedUnit,bj_lastReplacedUnit)thenset m5=bj_lastLoadedUnitendifif m5!=null thenset h4[96+O5]=m5set J4=IssueTargetOrderById(j5,851983,m5)if J4 thenset hq[832+O5]=Bz+1.endifloopexitwhen GetWidgetLife(h4[96+O5])<.405set J4=IssueTargetOrderById(j5,851983,m5)call I17(0.5)endloopcall J3(j5,false)endifendifendifif(not J4)and(m5!=null)thenif(not J4)and(Bz>SL4[32+O5])and(m5!=null)and(IsUnitInRange(j5,m5,210))thenset J4=IssueImmediateOrderById(j5,852581)endifif(not J4)and(Bz>SL4[16+O5])and(m5!=null)and(IsUnitInRange(j5,m5,275))thenset J4=IssueImmediateOrderById(j5,852600)endifendifendifelseif(i1=='H06S')thenset bj_forLoopAIndex=(GetUnitAbilityLevel(j5,'A11N')-2)if(YZE=='A11N')and(C8E)and(h4[O5]!=null)and(bj_forLoopAIndex>=0)and(Bz>SL4[16+O5])and(not J_7(j5))thenset SL4[16+O5]=Bz+4.set b5=HC[O5]if bj_forLoopAIndex>0 thencall I17(bj_forLoopAIndex)endifcall KA7(j5,852089,'A136',b5)endifelseif(i1=='O015')thenif YZE=='A1A8' and C8E thenset m5=h4[O5]set b5=HC[O5]if m5==null or((not IsUnitInRange(j5,m5,300))and(not IsUnitInRangeLoc(j5,b5,300)))thenset m5=QK7(300.,j5)set bj_lastReplacedUnit=QM7(300.,j5,GetLocationX(b5),GetLocationY(b5))endifif(Bz>SL4[16+O5])thenset J4=(h4[O5]!=null)if GetUnitLifePercent(bj_lastReplacedUnit)<70. thenset J4=trueelseif GetUnitLifePercent(m5)<70. thenset J4=trueendifset J4=((J4)and(IssueImmediateOrderById(j5,852581)))endifif(not J4)thenset J4=IssueImmediateOrderById(j5,852217)endifelseif YZE=='A1AA' and C8E thenset m5=h4[O5]set b5=jv(j5)if(RY4[O5]!=null)and(GetWidgetLife(RY4[O5])>.405)thencall MoveLocation(b5,GetUnitX(RY4[O5]),GetUnitY(RY4[O5]))endifset J4=falseif((m5==null or((not IsUnitInRange(j5,m5,475))and(not IsUnitInRangeLoc(m5,b5,475)))))thenif G0[256+O5]thenset m5=QK7(475.,j5)set bj_lastReplacedUnit=QM7(475.,j5,GetLocationX(b5),GetLocationY(b5))if GetUnitLifePercent(m5)<GetUnitLifePercent(bj_lastReplacedUnit)thenset h4[O5]=m5set J4=trueelseset h4[O5]=bj_lastReplacedUnitset m5=bj_lastReplacedUnitset J4=trueendifendifelseset J4=trueendifif((J4)and(Bz>SL4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(j5)>=6)and(h4[O5]!=null)and(IsUnitInRange(j5,m5,1200.)))thenset J4=(IssuePointOrderByIdLoc(j5,852600,jv(m5)))elseset J4=falseendifif(not J4)thenset J4=IssueImmediateOrderById(j5,852217)endifendifelseif(i1=='O016')thenif YZE=='A19O' thenif C8E thenset J4=K37(j5,852180,'A19Z')if J4 thencall I17(0.1)call jW(j5,851986,h9[O5])endifendifendifelseif(i1=='E02H')thenif YZE=='A1S8' and C8E thenif(KH7(450,m5,Condition(function PM7))<=1)thenset J4=KZ7(j5,852089,'A1SB',m5)endifelseif YZE=='A1SB' thenset m5=MZ7(GetHandleId(j5),"AI|SoulCatcherTgt")if C8E thenif(h4[O5]==null)or(m5!=h4[O5]and GetUnitLifePercent(m5)<GetUnitLifePercent(h4[O5]))thenset h4[O5]=m5endifendifcall BNE(j5,m5)endifelseif(i1=='E02X')thenif(YZE=='A27G')thenset m5=QJ7(500.,j5)if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<60.))thencall BPE(j5,m5,true)set J4=(C8E)and(KB7(j5,852214,'A27F',0,m5))endifelseif(YZE=='A27F')thenset hq[O5]=Bz+18.if((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall BPE(j5,m5,true)endifif(C8E)thenset LS4=m5set bj_lastLoadedUnit=QJ7(600.,m5)set LS4=nullif bj_lastLoadedUnit==null thenif J_7(j5)thenset CDE=Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))set J4=IssuePointOrderById(j5,852598,GetUnitX(m5)+375*Cos(CDE),GetUnitY(m5)+375*Sin(CDE))elseif J_7(m5)or(not IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))thenset J4=jW(j5,852598,j5)endifelseset J4=jW(j5,852598,bj_lastLoadedUnit)endifset bj_lastLoadedUnit=nullendifelseif YZE!='A27H' and YZE!='A27X' and hq[816+O5]>Bz and C8E thenset G0[288+O5]=truecall C9E()endifelseif(i1=='E02K')thenif(YZE=='A2CI')thencall BPE(j5,m5,true)call BPE(m5,j5,true)endifelseif(i1=='N0M0')thenif YZE=='A2JL' and C8E thencall I17(0.2)set m5=QJ7(350.,j5)set bj_lastCreatedUnit=j5if(m5!=null)and(Bz>SL4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(KH7(400.,j5,Condition(function PN7))<=2)thenset J4=K37(j5,852526,'A2H3')endifendifelseif(i1=='H0DO')thenif(m5==null)thenset m5=h4[O5]endifif(not J4)and(C8E)and(Bz>SL4[O5])and(V98(m5))thenset J4=(m5!=null)and(IssueTargetOrderById(j5,852662,m5))endifif(YZE=='A2HN')thenif C8E and(not J4)and(Bz>SL4[16+O5])thenset J4=(m5!=null)and(KZ7(j5,852119,'A2BE',m5))endifendifelseif(i1=='E032')thenif(YZE=='A2E5')thenset b5=HC[O5]set m5=K2(300.,b5)if(m5!=null)thencall BOE(j5,m5)endifendifendifif((C8E)and(not J4)and(GetUnitCurrentOrder(j5)==0))thencall J3(j5,true)endifset j5=nullset m5=nullset b5=nullendfunctionfunction CEE takes nothing returns nothinglocal unit H57=GetTriggerUnit()local integer YZE=GetSpellAbilityId()local integer i1=GetUnitTypeId(H57)local integer O5=GetPlayerId(GetOwningPlayer(H57))local integer ilocal boolean J4=falseif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]endifif(PO4)thenset hq[O5]=0.set hq[16+O5]=0.set hq[32+O5]=0.if i1=='H00U' thenset i=1loopexitwhen i>10set SL4[i*16+O5]=0set i=i+1endloopendifendifif(not PO4)and i1!='H00U' thenif i1=='E02X' thenif(YZE=='A27F')thenset SL4[176+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE=='A27G' thenset SL4[192+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE=='A27H' thenset SL4[160+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE!='A27X' and hq[816+O5]>Bz thenset G0[288+O5]=truecall CEE()endifelseif(YZE==eY[336+O5])thenset SL4[16+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE==eY[352+O5]thenset SL4[32+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE==eY[368+O5]thenset SL4[48+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE==eY[172+O5]or YZE==eY[188+O5]thenset bj_forLoopAIndex=0if YZE==eY[188+O5]thenset bj_forLoopAIndex=LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE))endifif bj_forLoopAIndex==0 thenset bj_forLoopAIndex=LoadInteger(L_4,eY[172+O5],-1+GetUnitAbilityLevel(H57,YZE))endifset SL4[O5]=Bz+I2R(bj_forLoopAIndex)elseif(YZE=='A0F0')thenset SL4[64+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif(YZE=='A0FH')thenset SL4[80+O5]=Bz+I2R(LoadInteger(L_4,YZE,-1+GetUnitAbilityLevel(H57,YZE)))elseif YZE=='A0HA' thenset SL4[64+O5]=Bz+8.if R97(Player(O5))thenif h4[O5]!=null thencall TriggerSleepAction(0.5)set J4=(IsUnitInRange(H57,h4[O5],700))and((IssueTargetOrderById(H57,852662,h4[O5]))or(IssueTargetOrderById(H57,851983,h4[O5])))endifendifendifendifendfunctionfunction CFE takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(GetPlayerController(GetOwningPlayer(GetAttacker()))==MAP_CONTROL_COMPUTER)and(not IsUnitIllusion(GetAttacker()))and(IsUnitEnemy(GetAttacker(),GetOwningPlayer(GetTriggerUnit()))))endfunctionfunction CGE takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(hr)))and(not IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE))and(OB7(GetFilterUnit())))endfunctionfunction CHE takes unit it returns integerlocal integer kt=GetUnitAbilityLevel(it,'A0DH')local integer CIEif(kt<1)thenset kt=GetUnitAbilityLevel(it,'A1OB')endifif(kt>0)thenset hr=itset CIE=KH7(500.,it,Condition(function CGE))-1if(CIE<=2)thenreturn 0endifreturn 140+(50*kt)+((25+(10*kt))*CIE)endifreturn 0endfunctionfunction CJE takes nothing returns nothingcall IssueTargetOrderById(GetEnumUnit(),851983,GetTriggerUnit())endfunctionfunction CKE takes nothing returns nothinglocal boolexpr Ig=Condition(function KH)call GroupClear(iH)call GroupEnumUnitsOfPlayer(iH,GetOwningPlayer(GetAttacker()),Ig)call ForGroup(iH,function CJE)call DestroyBoolExpr(Ig)set Ig=nullendfunctionfunction CME takes nothing returns nothinglocal unit IB=GetAttacker()local unit m5=GetTriggerUnit()local integer i1=GetUnitTypeId(IB)local integer O5=GetPlayerId(GetOwningPlayer(IB))local location b5=nulllocal integer UPlocal boolean CNElocal boolean J4=falseset GZ[48+O5]=IsUnitType(m5,UNIT_TYPE_HERO)set h4[80+O5]=m5if((not Jw(IB))or(GZ[32+O5]))thenset IB=nullset m5=nullreturnelseset GZ[32+O5]=truecall TriggerSleepAction(.7)if((not J07(m5))or(not J07(IB))or(not is(IB)))thenset GZ[32+O5]=falseset IB=nullset m5=nullreturnendifendifif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(((GetUnitCurrentOrder(m5)==851973)or(GetUnitLifePercent(m5)<60.))and(Bz>hq[480+O5]))thencall V2E(IB,m5)if(h4[O5]==null)thenset h4[O5]=m5endifendifif(not J4)and(KJ7(IB,OU[DR4]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[B3]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[GC]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[Z3]))thenset J4=(GetUnitLifePercent(m5)<50.)and(TW7(m5)!=1)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[DL4]))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(KJ7(IB,OU[D24])and(Bz>SL4[240+O5])and(V78(m5)==false)and(SG7(m5)==false))thenset J4=(GetUnitLifePercent(m5)<50.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[A1]))thenset J4=(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(IB)>70.)and(Bz>hq[64+O5])and(G0[256+O5])and(jP(IB,OU[A1]))endifif(not J4)and(KJ7(IB,OU[DM4]))thenset J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(KJ7(m5,OU[J1])and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(GetUnitLifePercent(m5)<90.)and(IsUnitType(IB,UNIT_TYPE_HERO)==true)and(V78(IB)==false)and((IsUnitInRange(IB,m5,200.))==true or(IsUnitInRange(IB,m5,670.))==true)and(RD7(GetOwningPlayer(IB))==true)and(RD7(GetOwningPlayer(m5))==true)and((IsUnitType(IB,UNIT_TYPE_MELEE_ATTACKER)==true)or(IsUnitType(IB,UNIT_TYPE_RANGED_ATTACKER)==true)))thenset S34=trueset J4=(UnitUseItem(m5,bj_lastCreatedItem))endifif(not J4)and(KJ7(IB,OU[Q1])or KJ7(IB,OU[R1]))thenset J4=(GetUnitLifePercent(m5)<50. or K77(m5))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KS7(IB,OU[W5]))thenset GZ[224+O5]=trueset J4=(GetUnitLifePercent(m5)<70.)and(i1!='Eevm')and(UnitUseItem(IB,bj_lastCreatedItem))set GZ[224+O5]=falseendifif(not J4)and(KJ7(IB,OU[W3]))thenset J4=(m5!=null)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifif(not J4)and(KJ7(IB,OU[DC4])and(NF7(IB,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(IB)>90.)and(IsUnitInRange(IB,m5,150.)))thenset J4=(m5!=null)and(UnitUseItem(IB,bj_lastCreatedItem))endifif(not J4)and(KJ7(IB,OU[DB4])and(NF7(IB,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(IB,m5,150.))or(GetUnitLifePercent(IB)<60.)))thenset J4=(UnitUseItem(IB,bj_lastCreatedItem))endifif((h4[O5]!=null)and(A2E(IB)))thenset J4=A_E(IB)endifif(i1=='U000')thenset J4=K37(IB,852526,'A2KO')endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenif(KJ7(IB,OU[A1]))thenset J4=(GetUnitLifePercent(m5)<20.)and(GetUnitLifePercent(IB)>60.)and(Bz>hq[64+O5])and(iy(IB))and(jP(IB,OU[A1]))elseif(KJ7(IB,OU[W5]))thenset GZ[224+O5]=trueset J4=(GetUnitLifePercent(m5)<40.)and(i1!='Eevm')and(UnitUseItem(IB,bj_lastCreatedItem))set GZ[224+O5]=falseendifif(i1=='H00U' and(not J4))thenset h4[O5]=m5set J4=((Bz>SL4[64+O5])and(RX7(IB,BO4,BO4,BM4,'A0VO')and(IssueImmediateOrderById(IB,852132))))or((Bz>SL4[128+O5])and(RX7(IB,BN4,BN4,BO4,'A0VQ'))and KZ7(IB,852490,'A0VQ',IB))endifelseif((GetUnitTypeId(m5)=='n00U')or(GetUnitTypeId(m5)=='n00Y')or(GetUnitTypeId(m5)=='n00Z'))thenif(KJ7(IB,OU[Q1]))thenset J4=(GetUnitLifePercent(m5)>80.)and(UnitUseItemTarget(IB,bj_lastCreatedItem,m5))endifendifset CNE=(m5==h4[O5])if(J4)thenelseif((IsUnitType(m5,UNIT_TYPE_HERO))and((KV7(IB,m5))or((GetUnitLifePercent(m5)<55.)and(GetRandomInt(1,3)==1)and(not T74[O5])and(A5E(IB,m5)))))thenif((S54)and(T74[O5]))thencall A5E(IB,m5)endifelseif(i1=='E002')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(IsUnitInRange(IB,m5,400.)and(IssuePointOrderById(IB,852662,GetUnitX(m5)+2,GetUnitY(m5)-2)))thenset J4=trueelseif((Bz>SL4[O5])and(IsUnitInRange(IB,m5,480.))and(GetUnitLifePercent(m5)<40.))thenset J4=(((GetUnitAbilityLevel(IB,'A1AO')>0)and(K37(IB,852229,'A1AO')))or((GetUnitAbilityLevel(IB,'A1UV')>0)and(K37(IB,852229,'A1UV'))))endifendifelseif(i1=='H00U')thenif((GetUnitLifePercent(IB)<35.)and(GetUnitAbilityLevel(IB,'B08X')==0))thenset J4=(Bz>SL4[80+O5])and RX7(IB,BM4,BM4,BN4,'A0XL')and(RS7(IB,BN4,BN4,BN4,false))and(IssueImmediateOrderById(IB,852129))if(not J4)thenset J4=(m5!=null)and(Bz>SL4[160+O5])and(RX7(IB,BM4,BM4,BO4,'A0VP'))and(IssueImmediateOrderById(IB,852134))endifelseif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((Bz>SL4[128+O5])and(RX7(IB,BN4,BN4,BO4,'A0VQ'))and KZ7(IB,852490,'A0VQ',IB))or((Bz>SL4[64+O5])and(RX7(IB,BO4,BO4,BM4,'A0VO')and(IssueImmediateOrderById(IB,852132))))endifendifelseif(i1=='E02I')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(IsUnitInRange(IB,m5,250.)and(Bz>SL4[O5])and(GetUnitLifePercent(m5)<47.))thenset h4[O5]=m5set J4=IssueImmediateOrderById(IB,852526)elseif((Bz>SL4[48+O5])and(IsUnitInRange(IB,m5,570.)))thenset J4=IssueImmediateOrderById(IB,852594)elseif((Bz>SL4[16+O5])and(IsUnitInRange(IB,m5,570.))and(not IsUnitInRange(IB,m5,200.)))thenset J4=(IssuePointOrderById(IB,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(IB,852185,m5))endifendifelseif(i1=='E02F')thenset J4=(GetUnitLifePercent(IB)>70.)and IssueImmediateOrderById(IB,852490)elseif(i1=='E02J')thenif(IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitLifePercent(m5)<30.)thenset GZ[O5]=trueset UP=GetUnitAbilityLevel(IB,'A1SW')set J4=(IsUnitInRange(IB,m5,840.))and(J8(O5,IssuePointOrderById(IB,852089,GetUnitX(m5)+2,GetUnitY(m5)-2)))if((not(J4))and(Bz>SL4[32+O5]))thenset m5=QJ7(2200.-(UP*400),IB)if((m5!=null)and(GetUnitLifePercent(m5)<15.))thenset J4=(KZ7(IB,852119,'A1SW',m5))endifendifendifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,'A0G2')))and(KZ7(IB,852119,'A0G2',m5)))or((GetHeroLevel(IB)>5)and(GetUnitAbilityLevel(m5,'Bprg')==0)and((CNE)or((GetUnitLifePercent(m5)<60.)and(IsUnitInRange(IB,m5,500.))))and(K37(IB,OrderId("charm"),'A1AT')))endifelseif(i1=='U00C')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(hq[240+O5]<=Bz)and((CNE)or(GetUnitLifePercent(m5)<50.))and(K37(IB,852273,'A0T2'))if((not J4)and((GetUnitLifePercent(m5)<40.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A194',true)set GZ[O5]=trueset J4=(IssueTargetOrderById(IB,852119,m5))set GZ[O5]=falsecall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A194',false)endifelseif(i1=='EC77')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((Bz>hq[O5])and(UP>200)and(UP<(400*GetUnitAbilityLevel(IB,'A080'))or UP<(460*GetUnitAbilityLevel(IB,'A1UZ')))and(KB7(IB,852527,'A080','A1UZ',m5)))thenelseif((GetHeroLevel(IB)>20)and(GetUnitAbilityLevel(IB,'BUhf')==0)and(GetUnitLifePercent(IB)>85.)and(GetUnitLifePercent(m5)<45.))thenset GZ[O5]=truecall J8(O5,K37(IB,852100,'A05D'))endifendifelseif(i1=='EC45')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((IsUnitInRange(IB,m5,250.))and(UP<AWE(IB))and(UP>300))thenset GZ[O5]=trueset J4=J8(O5,KZ7(IB,852652,'A0J1',m5))endifendifelseif(i1=='U000')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(60*GetUnitAbilityLevel(IB,'A1H5')))and(KZ7(IB,OrderId("creepheal"),'A1H5',m5)))or(KZ7(IB,852555,'A0X7',m5))endifif(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(KV7(IB,m5))endifelseif(i1=='E004')thenif(GetUnitAbilityLevel(IB,'B00S')>0)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(CNE)and(GetUnitLifePercent(IB)>50.)and(IssueTargetOrderById(IB,851983,m5))elseif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetUnitLifePercent(m5)<65.)and(CNE))thenset GZ[O5]=trueset J4=J8(O5,K37(IB,852100,'A030'))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<30.))thenset GZ[O5]=trueset J4=J8(O5,K37(IB,852100,'A030'))endifelseif(i1=='Udre')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=((not VI7())and((KZ7(IB,852095,'A02H',m5))or((CNE)and(GetUnitLifePercent(IB)<60.)and(KZ7(IB,852585,'A08C',m5)))))or((VI7())and(GetUnitLifePercent(m5)<50.)and((IssueImmediateOrderById(IB,852621))or(KZ7(IB,852095,'A02H',m5))))endifelseif(i1=='UC01')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((GetHeroLevel(IB)>4)or(J_7(m5)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A0Q7',true)set J4=((IsUnitInRange(IB,m5,375.))and(K37(IB,852526,'A04A')))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(70*GetUnitAbilityLevel(IB,'A0Q7')))and(IssueTargetOrderById(IB,852527,m5)))endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>12)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))thenset UP=KH7(400.,m5,Condition(function Ki))set J4=(UP>5)and(Bz>hq[O5])and(KB7(IB,852125,'A28R','A28S',m5))if((not J4)and(Bz>hq[16+O5])and((UP>2)or((eY[O5]==10)and(UP>1)))and(KH7(1000.,m5,Condition(function KI))<=1))thenif(not IsUnitInRange(IB,m5,400.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))set hq[240+O5]=Bz+3.call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))elseset J4=K37(IB,852526,'A04A')endifendifendifelseif(i1=='UC91')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitAbilityLevel(m5,'B00T')==0)and(GetUnitLevel(IB)>5)and(KZ7(IB,852149,'A034',m5)))or(((GetUnitLifePercent(m5)<80.)or(CNE))and(GetHeroLevel(IB)>3)and(IsUnitInRange(IB,m5,300.))and(K37(IB,852127,'A29K')))endifelseif(i1=='UC42')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=((UP>200)and(UP<=(250+(300*AXE(IB))))and(KB7(IB,852583,'A0MU','A0A2',m5)))or(KZ7(IB,852231,'A094',m5))if((not J4)and(GetHeroLevel(IB)>7)and(GetUnitManaPercent(IB)>70.)and(CNE))thenset GZ[O5]=trueset J4=J8(O5,IssueTargetOrderById(IB,852488,m5))endifendifelseif(i1=='NC00')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5)))and((GetUnitLifePercent(m5)<80.)or(CNE))and(KZ7(IB,852095,'AHtb',m5))elseif((i1=='Eevi')or(i1=='Eevm'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()set J4=((GetHeroLevel(IB)>5)and((GetUnitLifePercent(m5)-GetUnitLifePercent(IB))>25.)and(KZ7(IB,852189,'A07Q',m5)))if((not J4)and(i1=='Eevi')and(GetUnitLifePercent(m5)<50.))thenset GZ[O5]=trueset J4=J8(O5,K37(IB,852663,'A1RI'))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1=='Eevi')and(GetUnitLifePercent(m5)<20.))thenset GZ[O5]=trueset J4=J8(O5,K37(IB,852663,'A1RI'))endifelseif(i1=='Ekee')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetUnitAbilityLevel(IB,'B024')>0))thenset J4=(G0[128+O5])and(GetUnitLifePercent(IB)>60.)and(KH7(300.,IB,Condition(function KI))==0)and(IssueTargetOrderById(IB,851986,m5))endifelseif(i1=='U006')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()set J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(55*GetUnitAbilityLevel(IB,'A0BH')))and(KZ7(IB,852601,'A0BH',m5)))or(((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<65.))and(K37(IB,OrderId("roar"),'A0WQ')))if((not J4)and(GetUnitAbilityLevel(IB,'B01E')>0)and(CNE))thencall IssueTargetOrderById(IB,851983,m5)endifendifelseif(i1=='UC18')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((UP>150)and(UP<AYE(IB))and(not ke(m5)))thenset GZ[O5]=truecall J8(O5,(KB7(IB,852119,'A095','A09W',m5))or(KZ7(IB,852502,'A0MN',m5))or(KZ7(IB,852555,'A0X5',m5)))elseif(((GetUnitLifePercent(m5)<80.)or(CNE))and(GetUnitAbilityLevel(m5,'BPSE')==0)and(GetUnitAbilityLevel(m5,'B00H')==0))thenset J4=(KZ7(IB,852555,'A0X5',m5))or((Bz>hq[O5])and(KZ7(IB,852502,'A0MN',m5)))endifendifelseif(i1=='EC57')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(Bz>hq[16+O5]))thenset UP=GetUnitAbilityLevel(IB,'A013')if(UP==0)thenset UP=GetUnitAbilityLevel(IB,'A0A6')endifif((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(100+(300*UP)))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((Bz>hq[O5])or(GetUnitAbilityLevel(m5,'BEsh')>0)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A0A6',true)call J8(O5,(K37(IB,852594,'A013'))or(KZ7(IB,OrderId("volcano"),'A173',m5)))elsecall KZ7(IB,OrderId("volcano"),'A173',m5)endifendifelseif(i1=='UC11')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset J4=((GetUnitAbilityLevel(IB,'B00U')==0)and(GetUnitLifePercent(IB)>45.)and(KZ7(IB,852066,'A037',IB)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(m5)>10.)and(IsUnitInRange(IB,m5,400.))and(R2I(GetUnitState(IB,UNIT_STATE_MANA))<(140+(GetUnitAbilityLevel(IB,'A29L')*100)))and(K37(IB,852127,'A29L')))or(KZ7(IB,852125,'A02S',m5))elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(GetUnitState(m5,UNIT_STATE_LIFE)<200.))thenset UP=KH7(450.,m5,Condition(function Ki))set GZ[O5]=trueset J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(KZ7(IB,852125,'A02S',m5))set GZ[O5]=falseendifelseif(i1=='UC60')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenif(GetUnitAbilityLevel(m5,'Bcri')==0)thencall KZ7(IB,852189,'A08X',m5)elseif(IsUnitInRange(IB,m5,860.)and(M_7(GetHandleId(IB),"Level")>GetUnitAbilityLevel(IB,'A1NA'))and(GetUnitManaPercent(IB)>35.)and(GetHeroLevel(IB)>3))thencall IssueTargetOrderById(IB,852248,m5)elseif(GetUnitLifePercent(IB)>75.)thencall IssueTargetOrderById(IB,851983,m5)endifendifelseif((i1=='U008')or(i1=='E015'))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thencall CKE()set J4=((i1=='U008')and((GetUnitLifePercent(m5)<60.)or(J_7(IB)))and(K37(IB,852180,'A093')))or(((i1=='E015')or(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(IB,'A093'))))))and((K37(IB,852126,'A03D'))or(K37(IB,OrderId("channel"),'A0ZF'))))endifelseif(i1=='U00A')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thencall CKE()set J4=((GetUnitLifePercent(m5)<65.)and((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(K37(IB,852123,'A03O')))or(KZ7(IB,852231,'A055',m5))endifelseif(i1=='Ewar')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5)))and((CNE)or(GetUnitLifePercent(m5)<70.))and(KZ7(IB,OrderId("acidbomb"),'A0YM',m5))elseif(i1=='Udea')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>3)and((GetUnitLifePercent(IB)>70.)or(GetUnitLifePercent(IB)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(IB,852662,m5))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>2))thencall IssueTargetOrderById(IB,852119,IB)endifelseif(i1=='Hvsh')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitLifePercent(IB)>70.)and(IN7(GetUnitTypeId(m5),DC7))and(GetUnitLifePercent(m5)<50.)and(KZ7(IB,852668,'A0EC',m5)))or((GetUnitLifePercent(m5)<60.)and(GetUnitLifePercent(IB)>60.)and(KZ7(IB,852668,'A0EC',IB)))endifelseif(i1=='Opgh')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if(((UP<(150+(150*GetUnitAbilityLevel(IB,'A0E2'))))or(UP<(150+(150*GetUnitAbilityLevel(IB,'A1MR')))))and(UP>150))thenset J4=(KB7(IB,852119,'A0E2','A1MR',m5))or((IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))elseif(R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,'A0E2')))or R2I(GetUnitState(IB,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(IB,'A1MR'))))thenset J4=((KH7(400.,m5,Condition(function KJ))>0)and(IssueTargetOrderById(IB,852248,m5)))or(((IN7(GetUnitTypeId(m5),DC7))or(GetUnitLifePercent(m5)<50.))and(IsUnitInRange(IB,m5,275.))and(IssueImmediateOrderById(IB,852600)))elseif(KJ7(IB,OU[DM4]))and(KJ7(IB,OU[J1]))thenset S34=trueset J4=(GetUnitLifePercent(m5)<70.)and(h4[O5]!=null)and(IsUnitType(IB,UNIT_TYPE_HERO))and((IsUnitInRange(IB,m5,200.))or(i1=='Nbrn')or(i1=='E004')or(i1=='H00V')or(i1=='Usyl')or(i1=='Emoo'))and(UnitUseItem(m5,KO7(m5,OU[J1])))and(UnitUseItem(m5,KO7(m5,OU[DM4])))set S34=falseendifendifelseif(i1=='Nfir')thenif(GetHeroLevel(IB)>2)thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(IsUnitInRange(IB,m5,350.))and(GetUnitLifePercent(m5)>15.)and((GetUnitAbilityLevel(IB,'A0CQ'))>(GetUnitAbilityLevel(IB,'A0BR')*3))and(K37(IB,852273,'A29J'))elseif((GetHeroLevel(IB)>9)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitManaPercent(IB)>65.)and(GetUnitLifePercent(m5)<50.))thenset J4=KH7(200.,m5,Condition(function Ki))<2elseset J4=trueendifif(not J4)thenset UP=R2I(J87(GetUnitX(IB),GetUnitY(IB),GetUnitX(m5),GetUnitY(m5)))if((UP>=75)and(UP<=325))thenset J4=(ALE(IB,200.,Condition(function Ki)))and(K37(IB,852164,'A0EY'))elseif((UP>=325)and(UP<=575))thenset J4=(ALE(IB,450.,Condition(function Ki)))and(K37(IB,852588,'A0FH'))elseif((UP>=575)and(UP<=825))thenset J4=(ALE(IB,700.,Condition(function Ki)))and(K37(IB,852599,'A0F0'))endifendifendifelseif(i1=='O00J')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(not ke(m5))and(not IsUnitInRange(IB,m5,250.))and(((KH7(900.,m5,Condition(function Ki))<=2)and(KJ7(IB,OU[V1]))or(KJ7(IB,OU[DM4])))or((KH7(900.,m5,Condition(function Ki))<2)))and(IssueTargetOrderById(IB,852600,m5))elseif(i1=='U00F')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitAbilityLevel(IB,'B02T')==0)and(GetUnitLifePercent(IB)>55.)and((GetHeroLevel(IB)>6)or(J_7(m5)))and(GetUnitState(IB,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and(K37(IB,852177,'A06K')))or(((GetUnitLifePercent(m5)<60.)or(CNE))and(GetUnitState(m5,UNIT_STATE_LIFE)>250.)and(G0[128+O5])and(KB7(IB,852480,'A0FL','A1CX',m5)))endifelseif(i1=='U00E')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset UP=GetUnitAbilityLevel(IB,'A08P')+1if(UP<=1)thenset UP=GetUnitAbilityLevel(IB,'A067')endifset J4=((UP>0)and(not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(KB7(IB,852095,'A067','A08P',m5)))or((GetHeroLevel(IB)>2)and(IsUnitInRange(IB,m5,400.))and(K37(IB,852526,'A05V')))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>60.)and(G0[128+O5]))thenset UP=KH7(400.,m5,Condition(function Ki))if((UP>2)or((eY[O5]==10)and(UP>1)))thenif(not IsUnitInRange(IB,m5,400.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))set hq[240+O5]=Bz+3.call IssuePointOrderById(IB,851986,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD))elseset J4=K37(IB,852526,'A05V')endifendifendifelseif(i1=='Oshd')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenset J4=((J_7(m5))and(GetUnitState(IB,UNIT_STATE_MANA)>hq[272+O5])and(KZ7(IB,852480,'A02Q',m5)))or((GetUnitLifePercent(IB)<90.)and(KZ7(IB,852119,'A0GK',m5)))endifelseif(i1=='Ofar')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)<50.)and(K37(IB,852588,'A29I')))or((GetUnitManaPercent(IB)>30.)and(KZ7(IB,852662,'A046',m5)))endifelseif(i1=='H00H')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>4)and(GetUnitAbilityLevel(m5,'B01N')==0)and(GetUnitState(IB,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(KZ7(IB,852486,'A0CE',m5)))or((GetHeroLevel(IB)>2)and(CNE)and(IssueTargetOrderById(IB,852089,m5)))elseif((GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>50.))thenset J4=(KH7(400.,m5,Condition(function Ki))>2)and(KH7(300.,m5,Condition(function Kj))>0)and(IssueTargetOrderById(IB,852089,m5))endifelseif(i1=='U00P')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset UP=GetHeroInt(IB,true)-GetHeroInt(m5,true)set J4=((GetHeroLevel(IB)>5)and(UP>9)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(10*UP))and(KB7(IB,852089,'A0OK','A1VW',m5)))or((i2(m5))and(KZ7(IB,852119,'A0OJ',m5)))if((not J4)and(GetUnitManaPercent(IB)>70.)and(GetUnitLifePercent(m5)>60.)and(GetUnitManaPercent(m5)>40.))thenset GZ[O5]=trueset J4=J8(O5,(KH7(700.,m5,Condition(function Kk))==0)and(KZ7(IB,852119,'A0OJ',m5)))endifendifelseif(i1=='E01C')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>2)and((GetUnitManaPercent(IB)>50.)and(GetUnitLifePercent(m5)<65.))and(IssueTargetOrderById(IB,852248,m5))if((not J4)and(GetUnitAbilityLevel(IB,'A0J5')>2))thenset J4=(KH7(500.,m5,Condition(function Ki))>3)and((GetUnitManaPercent(IB)>60.)or(GetUnitLifePercent(m5)<65.)or(KH7(500.,m5,Condition(function KJ))>0))and(IssueTargetOrderById(IB,852095,m5))endifif((not J4)and(GetUnitLifePercent(m5)<75.)and(GetHeroLevel(IB)>5)and(Bz>hq[O5]))thenset GZ[O5]=trueset J4=J8(O5,KZ7(IB,852224,'S008',m5))endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenif((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<40.))thenset GZ[O5]=trueset J4=J8(O5,KZ7(IB,852224,'S008',m5))endifelseif((not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitAbilityLevel(IB,'A0J5')>2)and(GetUnitManaPercent(IB)>60.))thenset J4=(KH7(400.,m5,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852095,m5))endifelseif(i1=='UC76')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(m5)>5)and((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(KZ7(IB,852592,kS(IB),m5))if((not J4)and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)>10.)and(GetUnitLifePercent(m5)<50.)and(IssueImmediateOrderById(IB,852556)))or(KZ7(IB,852218,kT(IB),m5))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<25.)and(GetUnitLifePercent(m5)>10.))thenset J4=(KH7(500.,m5,Condition(function Kj))>2)and(IssueImmediateOrderById(IB,852556))endifelseif(i1=='E01B')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)and(IssueTargetOrderById(IB,852662,m5)))or((GetUnitLifePercent(m5)<45.)and(IssueImmediateOrderById(IB,852490)))endifelseif((i1=='H00I')or(i1=='H00J'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((J_7(m5))and(GetUnitAbilityLevel(m5,'B078')==0))thencall BDE(IB,m5)endifelseif((i1=='H00I')and(GetHeroLevel(IB)>11)and(GetUnitManaPercent(IB)>70.))thenset J4=(KH7(400.,IB,Condition(function Ki))>3)and(IssueTargetOrderById(IB,852553,IB))endifelseif(i1=='N01W')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(CNE)and((GetHeroLevel(IB)>4)or(J_7(m5)))and(IssuePointOrder(IB,"blizzard",GetUnitX(m5),GetUnitY(m5)))elseif((i1=='H00R')or(i1=='H07I'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()endifelseif(i1=='H00N')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=IssueTargetOrderById(IB,852095,IB)elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(GetHeroLevel(IB)>5)and(GetUnitManaPercent(IB)>50.))thenset J4=(KH7(250.,IB,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852095,IB))endifelseif(i1=='H008')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(J_7(m5)))and((K37(IB,852526,'A0GP'))or(IssueTargetOrderById(IB,852600,m5)))if((not J4)and(GetUnitAbilityLevel(IB,'B04M')>0)and((GetUnitLifePercent(IB)>75.)or(J_7(m5))))thencall IssueTargetOrderById(IB,851983,m5)endifelseif((GetHeroLevel(IB)>6)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(m5)<75.)and(GetUnitManaPercent(IB)>75.))thenset J4=(KH7(400.,m5,Condition(function Ki))>2)and(K37(IB,852526,'A0GP'))endifelseif(i1=='E005')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset UP=KH7(700.,IB,Condition(function Ki))set J4=((IsUnitInRange(m5,IB,400.))and(UP<2)and(GetUnitAbilityLevel(m5,'B014')==0)and(IssueImmediateOrderById(IB,852600)))or((GetHeroLevel(IB)>20)and(GetUnitState(IB,UNIT_STATE_MANA)>450.)and(KZ7(IB,852231,'A042',m5)))endifelseif(i1=='Npbm')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(((GetUnitLifePercent(m5)<75.)or(CNE))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenif(((not IsUnitInRange(IB,m5,200.))or(not K37(IB,852096,'A06M')))and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(m5)>15.))thenset h4[O5]=m5call K37(IB,852586,'A0MQ')endifendifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<20.))thenset GZ[O5]=truecall K37(IB,852586,'A0MQ')endifelseif(i1=='H000')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(CNE))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=((IsUnitInRange(IB,m5,250.))and(K37(IB,852127,'A00S')))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(40+(125*(GetUnitAbilityLevel(IB,'A00L')))))and(KZ7(IB,852231,'A00L',m5)))endifelseif(i1=='Nbrn')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<70.))and(GetUnitLifePercent(m5)>20.)and(IsUnitInRange(IB,m5,400.))and(KZ7(IB,852592,'A0QB',m5))if((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(m5,'Bcsd')>0)and(CNE)and((GetUnitLifePercent(IB)>70.)or(J_7(m5))))thencall IssueTargetOrderById(IB,851983,m5)endifendifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<80.)or(CNE))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)<60.)and(K37(IB,852180,'A03G')))or((IsUnitInRange(IB,m5,350.))and(KZ7(IB,852095,'A0AR',m5)))endifelseif(i1=='Edem')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(not ke(m5)))thenset J4=(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(IB,'A0E3'))*.25)))))and(KZ7(IB,852095,'A0E3',m5))endifelseif(i1=='Usyl')thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(180+(150*GetUnitAbilityLevel(IB,'A04P'))))and(KZ7(IB,852095,'A04P',m5))elseif(i1=='Harf')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetHeroLevel(IB)>2)and(GetUnitLifePercent(IB)<85.)and(KZ7(IB,852225,'A08N',IB))elseif((GetHeroLevel(IB)>7)and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetUnitLifePercent(IB)<90.)and(GetUnitManaPercent(IB)>60.))thenset J4=(KH7(400.,IB,Condition(function Ki))>2)and(KH7(800.,IB,Condition(function Kk))==0)and(KZ7(IB,852225,'A08N',IB))endifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenif((IsUnitType(m5,UNIT_TYPE_HERO))and(GetHeroLevel(IB)>5))thenif(GetUnitAbilityLevel(IB,'B00B')==0)thenif((GetUnitLifePercent(m5)<70.)or((CNE)and(GetUnitLifePercent(IB)<70.)))thenif((IsUnitInRange(IB,m5,280.)))thenset J4=IssueImmediateOrderById(IB,852138)call IssueTargetOrderById(IB,851983,m5)endifset GZ[O5]=truecall J8(O5,K37(IB,852100,'A1EJ'))endifelseif((GetUnitLifePercent(IB)>70.)and(CNE))thenif((IsUnitInRange(IB,m5,280.)))thenset J4=IssueImmediateOrderById(IB,852138)call IssueTargetOrderById(IB,851983,m5)elseset J4=IssueImmediateOrderById(IB,852139)call IssueTargetOrderById(IB,851983,m5)endifendifendifelseif(i1=='Naka')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenset J4=((GetUnitState(m5,UNIT_STATE_LIFE)<(hq[272+O5]))and(KZ7(IB,852095,'A004',m5)))or((GetUnitLifePercent(m5)<75.)and(GetUnitAbilityLevel(m5,'B00L')==0)and(GetUnitCurrentOrder(m5)!=851973)and(KZ7(IB,852149,'A0B4',m5)))endifelseif(i1=='Orkn')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenif(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(50*GetUnitAbilityLevel(IB,'A00P')))thenif(IsUnitInRange(IB,m5,400)or V98(m5))thenset GZ[O5]=truecall J8(O5,KZ7(IB,852480,'A00P',m5))endifelseif((GetHeroLevel(IB)>10)and(GetUnitLifePercent(m5)<70.))thencall KZ7(IB,852502,'A0RX',m5)elseif((GetUnitManaPercent(IB)>60.)or(J_7(m5)))thencall KZ7(IB,852587,'A010',m5)endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.))thenset UP=KH7(450.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(KZ7(IB,852587,'A010',m5))endifelseif(i1=='Hvwd')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thenif(((GetUnitLifePercent(m5)<70.)or(CNE))and(KZ7(IB,852095,'A02A',m5)))thenelseif((J_7(m5))and(kA(IB,m5,400.)))thencall KB7(IB,852587,'A0IN','A1AW',m5)endifendifelseif(i1=='Hmbr')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetUnitLifePercent(m5)<70.)or(CNE))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenset J4=(KZ7(IB,852095,'A0JC',m5))or(((GetUnitManaPercent(IB)>40.)or(J_7(m5)))and(KZ7(IB,852119,'A020',m5)))endifelseif(i1=='Emoo')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(GetUnitManaPercent(IB)>50.)and((GetHeroLevel(IB)>3)or(J_7(m5)))and(GetUnitLifePercent(m5)<80.)and(KZ7(IB,852075,'A0DX',m5))elseif((GetOwningPlayer(m5)!=Y7[0])and(GetOwningPlayer(m5)!=Z7[0])and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>60.)and(Bz>hq[O5]))thenset UP=GetUnitTypeId(m5)set J4=(UP!='n01Q')and(UP!='n01R')and(UP!='hwat')and(UP!='hwt2')and(UP!='hwt3')and(UP!='h006')and(UP!='u003')and(UP!='u005')and(UP!='u009')and(UP!='ugho')and(UP!='u001')and(UP!='unec')and(UP!='u002')and(UP!='esen')and(UP!='e00V')and(UP!='edry')and(UP!='e00W')and(GetUnitLifePercent(m5)>60.)and(KZ7(IB,852075,'A0DX',m5))endifelseif(i1=='Uktl')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()if((GetHeroLevel(IB)>5)or(J_7(m5)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(IB),GetUnitX(h8[O5])-GetUnitX(IB)))set J4=(IssuePointOrderById(IB,852600,GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD)))or((J_7(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(GetUnitState(m5,UNIT_STATE_LIFE)<800.)and(not kr(IB))and(IssuePointOrderById(IB,OrderId("cannibalize"),GetUnitX(m5)+80.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+80.*Sin(UP*bj_DEGTORAD))))or(IssueTargetOrderById(IB,852662,m5))endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>9)and(iy(IB))and(GetUnitManaPercent(IB)>60.)and(((h4[128+O5]!=null)and(IsUnitInRange(IB,h4[128+O5],1200.)))or(eY[O5]==10)))thenset UP=KH7(450.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852600,GetUnitX(m5),GetUnitY(m5)))endifelseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenif((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>4)and(Bz>hq[O5])and(GetUnitManaPercent(IB)>30.))thenset b5=HC[16+O5]call MoveLocation(b5,GetUnitX(IB),GetUnitY(IB))if((KH7(600.,m5,Condition(function Ki))>2)and(not IsUnitInRange(IB,m5,150.))and((KG7(600.,b5,Condition(function KI))==0)or(KG7(500.,b5,Condition(function KJ))>0)or(KG7(500.,b5,Condition(function Kk))>0)))thenset UP=IMaxBJ(R2I(J87(GetUnitX(m5),GetUnitY(m5),GetUnitX(IB),GetUnitY(IB)))-(435+(120*GetUnitAbilityLevel(IB,'A085'))),0)set i1=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))if((RAbsBJ(GetUnitFacing(IB)-I2R(i1))<25.)or(RAbsBJ(GetUnitFacing(IB)-360.-I2R(i1))<25.))thencall IssuePointOrderById(IB,852600,GetUnitX(IB)+I2R(150+UP)*Cos(i1*bj_DEGTORAD),GetUnitY(IB)+I2R(150+UP)*Sin(i1*bj_DEGTORAD))endifendifendifelseif(i1=='Ntin')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>4)or(J_7(m5)))and((KZ7(IB,852585,'A049',m5))or(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD))))elseif((GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>40.))thenset UP=KH7(400.,m5,Condition(function Ki))set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssuePointOrderById(IB,852190,GetUnitX(IB)+70.*Cos((GetUnitFacing(IB)-180.)*bj_DEGTORAD),GetUnitY(IB)+70.*Sin((GetUnitFacing(IB)-180.)*bj_DEGTORAD)))endifelseif(i1=='Emns')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thencall CKE()set J4=((GetUnitLifePercent(m5)<70.)and(KB7(IB,852119,'A1W8','A1W9',m5)))or((not IsUnitInRange(IB,m5,200.))and(IsUnitInRange(IB,m5,600))and(KZ7(IB,OrderId("carrionswarm"),'A21E',m5)))endifelseif(i1=='O00P')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(GetUnitAbilityLevel(IB,'A0GC')>0)thencall CKE()endifset J4=((GetHeroLevel(IB)>5)or(GetUnitLifePercent(m5)<60.))and(IssueTargetOrderById(IB,852662,m5))if((not J4)and(G0[128+O5])and((GetHeroLevel(IB)>3)or(J_7(m5)))and(CNE)and(not IsUnitInRange(IB,m5,350.))and(KH7(600.,m5,Condition(function KI))<3)and(not IC(O5)))thenset b5=kL(IB,m5,200.)if(b5!=null)thenif((GetUnitState(m5,UNIT_STATE_LIFE)<400.)and(GetUnitLifePercent(m5)<40.))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A0FN',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(IB,852218,b5))endifendifendifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10)and(GetUnitManaPercent(IB)>70.)and(not IsUnitInRange(IB,m5,350.)))thenif((KH7(400.,m5,Condition(function Ki))>2)and(KH7(500.,m5,Condition(function KI))==0)and(kJ(GetUnitX(m5),GetUnitY(m5))))thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A0FN',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(IB,852218,GetUnitX(m5),GetUnitY(m5)))endifendifelseif(i1=='HC49')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()set UP=R2I(hq[16+O5]-Bz)set J4=((GetHeroLevel(IB)>4)or(J_7(m5)))and((GetUnitLifePercent(m5)<80.)or(CNE))and((((UP<=0)or(UP>50))and(KZ7(IB,852095,'A24D',m5)))or((Bz>hq[O5])and(K37(IB,852123,'A063'))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.))thenset J4=(KH7(700.,m5,Condition(function Ki))>4)and(KH7(700.,m5,Condition(function Kj))>3)and(IssueImmediateOrderById(IB,852600))endifelseif(i1=='Nbbc')thenif((not GZ[O5])and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE)))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((not ke(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)<1200.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and((KH7(900.,m5,Condition(function KI))*2)>=KH7(900.,m5,Condition(function Ki)))and(GetUnitAbilityLevel(m5,'Bcyc')==0)and(GetUnitAbilityLevel(m5,'Bcy2')==0)and(KB7(IB,852095,'A0M1','A1AX',m5)))or(((GetHeroLevel(IB)>4)or(J_7(m5)))and(not NF7(IB,"Omnislashing"))and(K37(IB,852128,'A05G')))elseif((GetHeroLevel(IB)>5)and(Bz>hq[O5])and((GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,'A0M1')))or(GetUnitState(IB,UNIT_STATE_MANA)>235.+(75*GetUnitAbilityLevel(IB,'A1AX'))))and(KH7(400.,m5,Condition(function KI))>0))thenset J4=(not NF7(IB,"Omnislashing"))and(K37(IB,852128,'A05G'))endifendifelseif(i1=='HC92')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=(KZ7(IB,852089,'A0RG',m5))if((not J4)and(RAbsBJ((GetUnitFacing(m5)-GetUnitFacing(IB)))<=105.)and(GetUnitLifePercent(IB)>(GetUnitLifePercent(m5)+10.)))thencall IssueTargetOrderById(IB,851983,m5)endifendifelseif(i1=='H001')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thenset J4=((GetUnitLifePercent(m5)<80.)or(CNE))and((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(K37(IB,OrderId("chemicalrage"),'A1WH')))or(KZ7(IB,OrderId("acidbomb"),'A190',m5))or(K37(IB,852526,'A2IS')))if((not J4)and(GetUnitAbilityLevel(IB,'B009')>0)and((not J_7(IB))or(J_7(m5))))thencall IssueTargetOrderById(IB,851983,m5)endifendifelseif(i1=='H00A')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>4)or(J_7(m5))))thencall CKE()set J4=(KZ7(IB,852585,'A0KM',m5))or(((GetUnitAbilityLevel(IB,'B05H')>0)or(GetUnitLifePercent(m5)<60.))and(KZ7(IB,852095,'A0LV',m5)))endifelseif(i1=='H004')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif((J_7(m5))or((GetHeroLevel(IB)>3)and((CNE)or(GetUnitLifePercent(m5)<70.))))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=((UP>150)and(UP<AZE(IB))and(not ke(m5))and(KB7(IB,852119,'A01P','A09Z',m5)))or(KZ7(IB,852125,'A01F',m5))endifelseif(eY[O5]==10)thenset J4=(GetUnitManaPercent(IB)>60.)and(KZ7(IB,852125,'A01F',m5))endifelseif(i1=='Ucrl')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(CNE)and((GetHeroLevel(IB)>3)or(J_7(m5)))and(((Bz>hq[O5])and(KZ7(IB,852089,'A0LL',m5)))or(IssueTargetOrderById(IB,852600,m5)))elseif(GetHeroLevel(IB)>5)thenif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(GetUnitLifePercent(m5)<30.)and((KH7(275.,m5,Condition(function Ki))>0)or(KH7(275.,m5,Condition(function Kj))>0))and(IssueTargetOrderById(IB,852600,m5))elseset J4=(GetUnitManaPercent(IB)>60.)and(KH7(400.,m5,Condition(function Ki))>2)and(IssueTargetOrderById(IB,852600,m5))endifendifelseif(i1=='Otch')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(CNE)and((GetHeroLevel(IB)>3)or(J_7(m5)))and(((IsUnitInRange(IB,m5,250.))and(K37(IB,852164,'A0DL')))or(KZ7(IB,OrderId("channel"),'A0SK',m5))or((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<CHE(IB))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.)and((K37(IB,852526,'A0DH'))or(K37(IB,852526,'A1OB')))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10))thenset J4=((GetUnitLifePercent(m5)<40.)or(KH7(300.,IB,Condition(function Ki))>2))and(K37(IB,852164,'A0DL'))endifelseif(i1=='N01A')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>3)or(J_7(m5))))thenset J4=(((GetUnitAbilityLevel(m5,'BNsi')>0)or(GetUnitManaPercent(m5)<30.)or(GetUnitAbilityLevel(m5,'B01O')>0))and(IssueTargetOrderById(IB,852662,m5)))or((CNE)and(GetUnitAbilityLevel(m5,'BNsi')==0)and((IN7(GetUnitTypeId(m5),DC7))or(GetUnitLifePercent(m5)<60.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852600)))endifelseif(i1=='H00K')thenif((not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>10))thenset UP=KH7(300.,m5,Condition(function Ki))set J4=((UP>1)and(GetHeroLevel(IB)>4)and(KH7(800.,m5,Condition(function KI))==0)and(GetUnitManaPercent(IB)>35.)and(KA7(IB,852278,'A05J',jv(m5))))elseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>10)and(GetUnitLifePercent(IB)>70.))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(IB)-GetUnitY(m5),GetUnitX(IB)-GetUnitX(m5)))call MoveLocation(HA,GetUnitX(m5)+70.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+70.*Sin(UP*bj_DEGTORAD))if(IsUnitAlly(IB,Y7[0]))thenset DD7=J77(m5,h7[100])elseset DD7=J77(m5,h7[0])endifset J4=(GetWidgetLife(m5)<450. or DD7>6000)and(KH7(800.,m5,Condition(function KI))==0)and(KH7(300.,m5,Condition(function Kj))>1)and(KA7(IB,852278,'A05J',HA))endifelseif(i1=='Hmkg')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(J_7(m5)))and((KZ7(IB,852095,O07(IB),m5))or((GetUnitLifePercent(m5)<60)and(N77(GetHandleId(IB),"AI|Magi2Blast")and KZ7(IB,852600,'A2KQ',m5)))or(KZ7(IB,852662,O57(IB),m5)))elseif((GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))thenset J4=((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(KH7(300.,m5,Condition(function Ki))>2)and(KZ7(IB,852662,O57(IB),m5)))or((KH7(400.,m5,Condition(function Kj))>2)and(GetUnitAbilityLevel(IB,'Bblo')==0)and(KZ7(IB,852101,O27(IB),IB)))endifelseif(i1=='Huth')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenif(GetUnitAbilityLevel(IB,'B02O')==0)thenset J4=((GetHeroLevel(IB)>5)or(J_7(m5)))and(((IsUnitInRange(IB,m5,300.))and(K37(IB,852096,'A03Y')))or(K37(IB,852100,'A0LC'))or(K37(IB,852526,'A1N4')))elseif(GetUnitLifePercent(IB)>50.)thenset J4=IssueTargetOrderById(IB,851983,m5)endifelseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(GetUnitAbilityLevel(IB,'B02O')==0)and(GetUnitLifePercent(m5)<70.)and(K37(IB,852526,'A1N4'))endifelseif(i1=='Ogrh')thenif((IsUnitType(m5,UNIT_TYPE_HERO))and((GetHeroLevel(IB)>5)or(J_7(m5))))thencall CKE()set J4=(GetUnitLifePercent(m5)<35.)and(KZ7(IB,OrderId("acidbomb"),'A10D',m5))endifelseif(i1=='Hamg')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetUnitLifePercent(m5)<70.)and(GetUnitAbilityLevel(m5,'B0C1')==0)and(IssueImmediateOrderById(IB,852600)))or((GetUnitAbilityLevel(m5,'B0C1')>0)and(IssueTargetOrderById(IB,851983,m5)))endifelseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()set hq[240+O5]=Bz+4.set J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))elseif(IsUnitType(m5,UNIT_TYPE_STRUCTURE))thenset J4=(IssueTargetOrderById(IB,852101,IB))or(IssueImmediateOrderById(IB,852599))endifelseif(i1=='H00D')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thencall CKE()set J4=(GetUnitLifePercent(m5)<55.)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.)and(KB7(IB,852095,'A0O2','A289',m5))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(GetHeroLevel(IB)>8)and(GetUnitManaPercent(IB)>45.)and(GetUnitLifePercent(m5)<75.))thenif(KH7(550.,m5,Condition(function Ki))>2)thencall SetPlayerAbilityAvailable(GetOwningPlayer(IB),'A0O1',true)set UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))set GZ[O5]=trueset J4=IssuePointOrderById(IB,852218,GetUnitX(IB)+1000.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+1000.*Sin(UP*bj_DEGTORAD))set GZ[O5]=falseendifendifelseif(i1=='E00P')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(J_7(m5)))and((KZ7(IB,852218,'A0O7',m5))or((GetUnitLifePercent(m5)<60.)and(KZ7(IB,852580,'A0O6',m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))thenset J4=(KH7(400.,m5,Condition(function Ki))>2)and(KZ7(IB,852218,'A0O7',m5))endifelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=(((GetHeroLevel(IB)>3)or(J_7(m5)))and(KZ7(IB,852089,'A0IL',m5)))or(((GetUnitLifePercent(m5)<75.)or(GetUnitLifePercent(IB)<65.))and(i1=='N01I')and(K37(IB,852663,'ANcr')))if((not J4)and(i1!='N01I')and(GetUnitLifePercent(IB)>75.))thencall IssueTargetOrderById(IB,851983,m5)endifelseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL)))thenif((Bz>hq[O5])and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>50.))thenset UP=KH7(500.,m5,Condition(function Ki))set J4=((UP>3)or((eY[O5]==10)and(UP>1)))and(KZ7(IB,852089,'A0IL',m5))endifelseif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(i1=='N01I')and(GetUnitManaPercent(IB)>50.)and(GetHeroLevel(IB)>10))thenset J4=(KH7(400.,m5,Condition(function Kj))>2)and(K37(IB,852663,'ANcr'))endifelseif(i1=='N01V')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>2)or(J_7(m5)))and(((IsUnitInRange(IB,m5,550.))and((GetUnitManaPercent(IB)>50.)or(GetUnitLifePercent(m5)<60.))and(IssueImmediateOrderById(IB,852600)))or(((GetUnitLifePercent(m5)<75.)or(CNE))and(A0E(IB,m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>6)and(GetUnitManaPercent(IB)>60.))thenset UP=KH7(500.,IB,Condition(function Ki))set J4=((UP>2)or((eY[O5]==10)and(UP>1)))and(IssueImmediateOrderById(IB,852600))endifelseif(i1=='H00S')thenif(((GetHeroLevel(IB)>11)and(GetUnitState(IB,UNIT_STATE_MANA)>600.))or(IsUnitType(m5,UNIT_TYPE_HERO))or((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitManaPercent(IB)>30.)and(GetUnitTypeId(m5)!='ebal')and(GetUnitTypeId(m5)!='umtw')and(GetUnitTypeId(m5)!='e026')and(GetUnitTypeId(m5)!='u00R')))thenif(GetUnitAbilityLevel(IB,'A0QZ')>0)thenset hq[240+O5]=Bz+5.elseset J4=IssueImmediateOrderById(IB,852177)endifendifelseif(i1=='E01Y')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((CNE)and((GetUnitLifePercent(m5)<80.)or(GetUnitLifePercent(IB)<60.))and(IssueImmediateOrderById(IB,852526)))or((IsUnitInRange(IB,m5,145+(40*GetUnitAbilityLevel(IB,'A0RO'))))and(K37(IB,852129,'A0RV')))endifelseif(i1=='N00B')thenif((GetHeroLevel(IB)>10)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(iy(IB)))thenif(KH7(550.,m5,Condition(function Ki))>2)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(IB),GetUnitX(m5)-GetUnitX(IB)))set J4=IssuePointOrderById(IB,852662,GetUnitX(IB)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(IB)+200.*Sin(UP*bj_DEGTORAD))set h4[16+O5]=nullendifendifelseif(i1=='N0NG')thenif((IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetUnitLifePercent(m5)<35.)and(GetUnitLevel(IB)>5)and(Bz>SL4[O5]))thenset J4=KB7(IB,852581,'A12P','A1D6',m5)endifelseif(i1=='E02X')thenif(IsUnitType(m5,UNIT_TYPE_HERO))thenset J4=((GetHeroLevel(IB)>3)or(J_7(m5)))and((KZ7(IB,852184,'A27G',m5))or((GetUnitLifePercent(m5)<60.)and(KZ7(IB,852214,'A27F',m5))))elseif((not IsUnitType(m5,UNIT_TYPE_STRUCTURE))and(GetHeroLevel(IB)>9)and(GetUnitManaPercent(IB)>60.)and(GetUnitLifePercent(m5)<75.))thenset J4=(KH7(400.,m5,Condition(function Ki))>2)and(KZ7(IB,852184,'A27G',m5))endifendifset GZ[32+O5]=falseset IB=nullset m5=nullset b5=nullendfunctionfunction COE takes nothing returns booleanreturn((GetSpellTargetUnit()!=null)and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetSpellTargetUnit())))and(GetPlayerController(GetOwningPlayer(GetSpellTargetUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction CPE takes nothing returns booleanreturn((IsUnitType(GetAttacker(),UNIT_TYPE_HERO))and(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker())))and(GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER))endfunctionfunction CQE takes nothing returns nothinglocal unit itlocal unit V_Elocal integer i1local integer O5local boolean CRElocal boolean J4local real klif(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)thenset it=GetTriggerUnit()set V_E=GetAttacker()elseif(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT)thenset it=GetSpellTargetUnit()set V_E=GetTriggerUnit()elseset it=GetEnumUnit()set V_E=GetTriggerUnit()endifset O5=GetPlayerId(GetOwningPlayer(it))if((not Jw(it))or(Bz<hq[304+O5]))thenset it=nullset V_E=nullreturnendifif G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueelseset G0[304+O5]=falseendifif not G0[304+O5]thenset hq[496+O5]=Bz+1.5set hq[304+O5]=Bz+1.set hq[416+O5]=Bz+5.if((not IsUnitVisible(V_E,GetOwningPlayer(it)))or(eY[32+GetPlayerId(GetOwningPlayer(V_E))]<=2))thencall TriggerSleepAction(.8)elsecall TriggerSleepAction(.2)endifif(Bz>hq[480+O5])thencall V2E(it,V_E)endifset CRE=(J_7(it))if(not G0[256+O5])and(not J57(V_E,it))thencall UFE(it,false)set it=nullset V_E=nullreturnelseif((GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>75.)and(GetUnitState(V_E,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE))and(h4[O5]==null))thenset h4[O5]=V_Eendifif((J07(it))and(not CRE)and((GetHeroLevel(it)<6)or((OC7(it))and(GetHeroLevel(it)<10)))and(iU(it))and(h4[O5]!=V_E))thenif((GetUnitCurrentOrder(it)!=851983)or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not O67(GetSpellAbilityId())))or(GetUnitLifePercent(it)<70.))thencall UFE(it,false)set it=nullset V_E=nullreturnendifendifset i1=GetUnitTypeId(it)endifif((not is(it))or(not J07(it)))thenif(J07(it))thenelseif((i1=='Hblm'))thenset J4=(GetUnitCurrentOrder(it)==852600)and(GetUnitLifePercent(it)<80.)and(jW(it,851986,h9[O5]))elseif(i1=='E01C')thenset J4=(GetUnitCurrentOrder(it)==852089)and(GetUnitLifePercent(it)<50.)and(jW(it,851986,h9[O5]))elseif(i1=='UC18')thenset J4=(GetUnitCurrentOrder(it)==852487)and(GetUnitLifePercent(it)<80.)and(jW(it,851986,h9[O5]))endifset it=nullset V_E=nullreturnendifif((CRE)and((GetUnitState(V_E,UNIT_STATE_LIFE)+200.)>GetUnitState(it,UNIT_STATE_LIFE))and(IsUnitInRange(it,V_E,500.)))thenif(not J4)and((KJ7(it,OU[E0])))and((GetUnitLifePercent(it)<40)or(h4[O5]!=V_E))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[DR4]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[B3]))and(GetUnitLifePercent(V_E)<40)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[Z3]))and(M_7(GetHandleId(GetOwningPlayer(V_E)),"AI|Class")<=2)and(GetUnitLifePercent(it)<40)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[DL4]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KJ7(it,OU[D24])and(Bz>SL4[240+O5])and(V78(V_E)==false)and(SG7(V_E)==false))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KS7(it,OU[C5]))thenset J4=(KV7(it,V_E))endifif(not J4)and((KJ7(it,OU[Q1])or KJ7(it,OU[R1]))and(GetItemCharges(bj_lastCreatedItem)>0))and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,V_E,false,false)==0)thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,V_E))endifif(not J4)and(KS7(it,OU[W5]))and(GetUnitTypeId(it)!='Eevm')thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifendifif((not J4)and(IsUnitInRange(it,V_E,500.))and((GetUnitAbilityLevel(V_E,'B009')>0)or(GetUnitAbilityLevel(V_E,'B01E')>0)or(GetUnitAbilityLevel(V_E,'B00B')>0)or(GetUnitAbilityLevel(V_E,'B01P')>0)))thenset J4=BFE(it,V_E,false)if(not J4)thenif(not J4)and((KJ7(it,OU[E0])))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[DR4]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[B3]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[DL4]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KS7(it,OU[C5]))thenset J4=(KV7(it,V_E))endifif(not J4)and((KJ7(it,OU[Q1])or KJ7(it,OU[R1]))and(GetItemCharges(bj_lastCreatedItem)>0))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifendifendifif(not J4)and(M_7(GetHandleId(GetOwningPlayer(V_E)),"AI|Class")<=2)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(h4[O5]!=null or(GetUnitLifePercent(it)<30))thenif(not J4)and(KJ7(it,OU[EG4]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KJ7(it,OU[FP4]))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(not J4)and(KJ7(it,OU[J1]))thenset S34=trueset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and(KJ7(it,OU[Z3]))and((h4[O5]==V_E)or(GetUnitLifePercent(it)<70))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,V_E)endifif(i1=='U000')and(Bz>SL4[48+O5]+4.)thenset J4=K37(it,852526,'A2KO')endifendifif(J4)thenelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenset J4=((CRE)or(GetUnitAbilityLevel(V_E,'B009')>0)or(GetUnitAbilityLevel(V_E,'B01E')>0)or(GetUnitAbilityLevel(V_E,'B00B')>0)or(GetUnitAbilityLevel(V_E,'BNcr')>0)or(GetUnitAbilityLevel(V_E,'B01P')>0))and(IsUnitInRange(it,V_E,550.))and(K37(it,OrderId("charm"),'A1AT'))elseif(i1=='EC77')thenset J4=(CRE)and(((GetUnitAbilityLevel(it,'A080')>0)and(IsUnitInRange(it,V_E,450.)))or((GetUnitAbilityLevel(it,'A1UZ')>0)and(IsUnitInRange(it,V_E,780.))))and(KB7(it,852527,'A080','A1UZ',V_E))elseif(i1=='E004')thenset J4=(CRE)and(IssueImmediateOrderById(it,852129))elseif((i1=='EC45')or(i1=='Edem')or(i1=='U00K')or(i1=='UC01'))thenset J4=(CRE)and(T1E(it))elseif(i1=='U000')thenset J4=(CRE)and(IsUnitInRange(it,V_E,400.))and(KZ7(it,852555,'A0X7',V_E))if((not J4)and(CRE)and(GetHeroLevel(it)>15)and(GetUnitLifePercent(it)<20.))thenset GZ[O5]=trueset J4=J8(O5,K37(it,852129,'A09U'))endifelseif(i1=='UC91')thenif(CRE)thenset J4=(IsUnitInRange(V_E,it,300.))and(K37(it,852127,'A29K'))elseset J4=((IsUnitInRange(it,V_E,500.))and(KZ7(it,852149,'A034',V_E)))or((IsUnitInRange(V_E,it,300.))and(K37(it,852127,'A29K')))endifelseif(i1=='UC42')thenset J4=(CRE)and(IsUnitInRange(it,V_E,500.))and(KB7(it,852583,'A0MU','A0A2',V_E))elseif(i1=='NC00')thenset J4=(CRE)and(IsUnitInRange(it,V_E,450.))and(KZ7(it,852095,'AHtb',V_E))elseif((i1=='Eevi')or(i1=='Eevm'))thenif(GetUnitLifePercent(V_E)>(GetUnitLifePercent(it)+35.))thenset J4=(IsUnitInRange(it,V_E,350.))and(KZ7(it,852189,'A07Q',V_E))endifelseif(i1=='Ekee')thenset J4=((IsUnitInRange(V_E,it,300.))and(IssueImmediateOrderById(it,852177)))or((IsUnitInRange(V_E,it,500.))and(K37(it,852594,'A20T')))elseif(i1=='Ulic')thenset J4=((CRE)and(IsUnitInRange(it,V_E,500.))and(KZ7(it,852226,'A07F',V_E)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(KZ7(it,852225,'A08R',V_E)))elseif(i1=='UC18')thenset J4=(CRE)and(((IsUnitInRange(it,V_E,450.))and(KZ7(it,852502,'A0MN',V_E)))or((IsUnitInRange(it,V_E,350.))and(KZ7(it,852555,'A0X5',V_E))))elseif(i1=='EC57')thenset J4=(IsUnitInRange(it,V_E,350.))and(KZ7(it,OrderId("volcano"),'A173',V_E))elseif(i1=='UC60')thenset J4=(CRE)and((IsUnitInRange(it,V_E,500.))and(KZ7(it,852189,'A08X',V_E)))or((IsUnitInRange(it,V_E,860.))and(M_7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,'A1NA'))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,V_E)))elseif((i1=='U008')or(i1=='E015'))thenset J4=(CRE)and(IsUnitInRange(it,V_E,1000.))and(K37(it,852180,'A093'))elseif(i1=='U00A')thenset J4=(CRE)and(IsUnitInRange(it,V_E,450.))and(KZ7(it,852231,'A055',V_E))elseif(i1=='Ewar')thenset J4=(CRE)and(((IsUnitInRange(it,V_E,350.))and(KZ7(it,OrderId("acidbomb"),'A0YM',V_E)))or(T1E(it)))elseif(i1=='Udea')thenset J4=((GetHeroLevel(it)>5)or(GetUnitLifePercent(it)<60.))and(IssueTargetOrderById(it,852119,it))elseif(i1=='Hvsh')thenset J4=(CRE)and(IsUnitInRange(it,V_E,500.))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(IN7(GetUnitTypeId(V_E),DC7))and(KZ7(it,852668,'A0EC',V_E))elseif(i1=='Ubal')thenset J4=((ABE(it)>30.)and(K37(it,852600,'A0CT')))or((GetUnitState(it,UNIT_STATE_MANA)>350.)and(IsUnitType(V_E,UNIT_TYPE_HERO)==true)and(IssuePointOrderById(it,852662,GetUnitX(V_E),GetUnitY(V_E))))or((CRE)and(IssueImmediateOrderById(it,852129)))if((not J4)and(not CRE)and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED))thenset h4[288+O5]=V_Eset J4=IssueImmediateOrderById(it,852129)endifelseif(i1=='U00F')thenset J4=(not CRE)and(A1E(it,V_E))elseif(i1=='Oshd')thenset J4=(IsUnitInRange(it,V_E,450.))and(((CRE)and(KZ7(it,852227,'A04Y',V_E)))or((GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(kq(GetUnitTypeId(V_E)))and(KZ7(it,852066,'A04V',V_E)))or((GetUnitLifePercent(it)<90.)and(KZ7(it,852119,'A0GK',V_E))))elseif(i1=='Ofar')thenset J4=(CRE)and(IsUnitInRange(it,V_E,600.))and(K37(it,852588,'A29I'))elseif(i1=='E01A')thenset J4=(CRE)and(IsUnitInRange(it,V_E,550.))and(KZ7(it,852119,'A0NM',V_E))elseif(i1=='U00P')thenset J4=(CRE)and(IsUnitInRange(it,V_E,500.))and(KZ7(it,852119,'A0OJ',V_E))elseif(i1=='UC76')thenset J4=(CRE)and(IsUnitInRange(it,V_E,600.))and(IssueImmediateOrderById(it,852556))elseif(i1=='E01B')thenif(CRE)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0HW',true)set J4=(IsUnitInRange(it,V_E,500.))and(IssueTargetOrderById(it,852662,V_E))endifelseif((i1=='H00I')or(i1=='H00J'))thenset J4=(CRE)and(IsUnitInRange(it,V_E,600.))and(BDE(it,V_E))elseif(i1=='N01W')thenset J4=(((GetHeroLevel(it)>2)or(CRE))and(GetUnitLifePercent(it)<85.)and(IssueTargetOrderById(it,852229,it)))or((GetHeroLevel(it)>10)and(CRE)and(GetUnitAbilityLevel(it,'A0OV')==0)and(IssueTargetOrderById(it,852536,it)))or((CRE)and(IsUnitInRange(it,V_E,500.))and(KZ7(it,852095,'A0NQ',V_E)))elseif(i1=='N00R')thenset J4=(CRE)and(IsUnitInRange(it,V_E,550.))and(KZ7(it,852488,'A0RA',V_E))elseif(i1=='H008')thenset J4=(CRE)and(IsUnitInRange(it,V_E,550.))and(IssueTargetOrderById(it,852600,V_E))elseif(i1=='Npbm')thenset J4=((CRE)and((K37(it,852586,'A0MQ'))or((IsUnitInRange(it,V_E,200.))and(K37(it,852096,'A06M')))))or((not CRE)and(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(IsUnitInRange(it,V_E,500.))and(KZ7(it,852585,'Acdh',V_E)))elseif(i1=='H000')thenset J4=(CRE)and(IsUnitInRange(V_E,it,220.))and(K37(it,852127,'A00S'))elseif(i1=='Nbrn')thenset J4=(IN7(GetUnitTypeId(it),DC7))and(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(K37(it,852127,'A00S'))elseif(i1=='Harf')thenset J4=((GetUnitLifePercent(it)<70.)and((KZ7(it,852225,'A08N',it))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(KZ7(it,852186,'A08V',it)))))or((CRE)and(IssueImmediateOrderById(it,852599)))elseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenset J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and((((IsUnitInRange(it,V_E,250.))and(IssueImmediateOrderById(it,852138))and(IssueTargetOrderById(it,851983,V_E)))or((IsUnitInRange(it,V_E,550.))and(IssueImmediateOrderById(it,852139))and(IssueTargetOrderById(it,851983,V_E)))))elseif(i1=='Naka')thenset J4=(CRE)and((IssueImmediateOrderById(it,852129))or((IsUnitInRange(it,V_E,650.))and(IsUnitVisible(it,GetOwningPlayer(V_E)))and(KZ7(it,852149,'A0B4',V_E))))elseif(i1=='Orkn')thenset J4=(CRE)and(IsUnitInRange(V_E,it,450.))and(KZ7(it,852502,'A0RX',V_E))elseif(i1=='Hvwd')thenset J4=(CRE)and((T1E(it))or((IsUnitInRange(V_E,it,450.))and(KZ7(it,852095,'A02A',V_E))))elseif(i1=='Emoo')thenset J4=((GetUnitLifePercent(it)<70.)and(K37(it,852556,'A01B')))or((IsUnitInRange(V_E,it,600.))and(KZ7(it,852075,'A0DX',V_E)))elseif(i1=='Uktl')thenset J4=(CRE)and(IsUnitInRange(it,V_E,500.))and(IssueTargetOrderById(it,852662,V_E))elseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenset J4=(not CRE)and(GetUnitManaPercent(V_E)>30.)and(IsUnitInRange(it,V_E,600.))and(KZ7(it,OrderId("acidbomb"),'A10X',V_E))elseif(i1=='Emns')thenset J4=(CRE)and(not IsUnitInRange(it,V_E,200.))and(IsUnitInRange(it,V_E,550.))and(KZ7(it,OrderId("carrionswarm"),'A21E',V_E))elseif(i1=='O00P')thenset J4=(CRE)and((T1E(it))or((GetHeroAgi(it,true)<GetHeroStr(it,true))and(IssueTargetOrderById(it,852662,V_E))))elseif(i1=='UC11')thenset J4=((CRE)and(T1E(it)))or(IsUnitInRange(it,V_E,350.)and(K37(it,852127,'A29L')))elseif(i1=='HC49')thenset J4=(CRE)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,V_E,550.))and(KZ7(it,852095,'A24D',V_E)))or(K37(it,852123,'A063')))elseif(i1=='Nbbc')thenset J4=(CRE)and((((KJ7(it,OU[QW]))or(KJ7(it,OU[DX4])))and(not ke(V_E))and(KB7(it,852095,'A0M1','A1AX',V_E)))or((GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and(not GZ[O5])and(not NF7(it,"Omnislashing"))and(K37(it,852128,'A05G'))))elseif(i1=='HC92')thenset J4=(CRE)and(((IsUnitInRange(it,V_E,300.))and(KZ7(it,852089,'A0RG',V_E)))or(T1E(it)))elseif(i1=='Hjai')thenset J4=(CRE)and(IsUnitInRange(it,V_E,450.))and(KZ7(it,852171,'A04C',V_E))elseif(i1=='N0HP')thenelseif(i1=='H001')thenset J4=(CRE)and(IsUnitInRange(it,V_E,450.))and((KZ7(it,OrderId("acidbomb"),'A190',V_E))or(K37(it,852526,'A2IS')))elseif(i1=='H00A')thenset J4=(CRE)and((IssueImmediateOrderById(it,852600))or((IsUnitInRange(it,V_E,550.))and(KZ7(it,852585,'A0KM',V_E))))elseif(i1=='Ucrl')thenset J4=(CRE)and(IsUnitInRange(it,V_E,550.))and(KZ7(it,852089,'A0LL',V_E))elseif(i1=='Otch')thenset J4=(CRE)and(IsUnitInRange(it,V_E,1000.))and(KZ7(it,OrderId("channel"),'A0SK',V_E))elseif(i1=='N01A')thenset J4=(GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED)and((not CRE)or(IsUnitInRange(it,V_E,550.)))and(IssueTargetOrderById(it,852662,V_E))elseif(i1=='H00K')thenif((GetUnitLifePercent(it)<20.)or(GetUnitState(it,UNIT_STATE_LIFE)<150.))thenset GZ[O5]=trueset J4=J8(O5,(IsUnitInRange(it,V_E,400.))and(KZ7(it,852040,'A06B',V_E)))endifelseif(i1=='Hmkg')thenset J4=(CRE)and(IsUnitInRange(it,V_E,550.))and((KZ7(it,852095,O07(it),V_E))or((GetUnitLifePercent(V_E)<60)and(N77(GetHandleId(it),"AI|Magi2Blast")and KZ7(it,852600,'A2KQ',V_E))))elseif(i1=='Hamg')thenif(GetUnitAbilityLevel(it,'B021')>0)thenset GZ[272+O5]=trueendifif(not CRE)thenset J4=(GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED)and(KZ7(it,852095,'A26N',it))elseset J4=(K6(it))and(IssueTargetOrderById(it,852069,it))endifelseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thenset h4[16+O5]=MZ7(GetHandleId(GetOwningPlayer(it)),"MyBear")if((h4[16+O5]!=null)and(GetUnitAbilityLevel(it,'A0A5')>1)and(not IsUnitInRange(it,h4[16+O5],800.))and(not GZ[288+O5])and(GetUnitLifePercent(h4[16+O5])>30.))thenendifelseif(i1=='E00P')thenset J4=(CRE)and(IsUnitInRange(it,V_E,1000.))and(KZ7(it,852580,'A0O6',V_E))elseif(i1=='N01V')thenset J4=((CRE)and(IssueImmediateOrderById(it,852493)))or((IsUnitInRange(it,V_E,400.))and(IssueImmediateOrderById(it,852600)))or(((GetUnitLifePercent(V_E)<70.)or(CRE))and(not IsUnitInRange(it,V_E,400.))and(A0E(it,V_E)))elseif(i1=='E02X')thenset J4=(CRE)and(IsUnitInRange(it,V_E,1000.))and(KZ7(it,852214,'A27F',V_E))if(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall CQE()endifset G0[304+O5]=falseendifif not G0[304+O5]thenif((not J4)and(iU(it)))thenif((CRE)and(GetUnitLifePercent(V_E)>70.))thencall OI7(it,false)elseif((GetHeroLevel(it)>5)and(G0[128+O5])and((GetUnitLifePercent(it)>80.)or(GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(V_E,UNIT_STATE_LIFE)))and(IsUnitInRange(it,V_E,800.))and(GetUnitCurrentOrder(it)!=851986))thencall IssueTargetOrderById(it,851983,V_E)elseif((GetHeroLevel(it)<6)and(GetUnitLifePercent(V_E)>60.)and(((not IsUnitInRange(it,V_E,300.))and(OC7(it)))or((IsUnitInRange(it,V_E,300.))and(not OC7(it)))))thenset kl=Atan2(GetUnitY(h9[16+O5])-GetUnitY(it),GetUnitX(h9[16+O5])-GetUnitX(it))call IssuePointOrderById(it,851986,GetUnitX(it)+300.*Cos(kl),GetUnitY(it)+300.*Sin(kl))endifendifif((hq[656+O5]>Bz)and(GetUnitLifePercent(it)<65.))thencall OI7(it,false)endifif((J4)or(not is(it)))thenset hq[304+O5]=0.endifendifset it=nullset V_E=nullendfunctionfunction USE takes nothing returns nothinglocal unit it=GetEnumUnit()local integer i1=GetUnitTypeId(GetEnumUnit())local integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))local real kl=Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it))local real RZ7set h4[O5]=nullif(KJ7(it,OU[HW]))thenif(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+500.*Cos(kl),GetUnitY(it)+500.*Sin(kl))endifcall UnitUseItemPointLoc(it,KO7(it,OU[HW]),HB)elseif(i1=='EC45')thenset RZ7=I2R(350+(200*GetUnitAbilityLevel(it,'A0LK')))if(kJ(GetUnitX(it)+RZ7*Cos(kl),GetUnitY(it)+RZ7*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+RZ7*Cos(kl),GetUnitY(it)+RZ7*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+(RZ7-100.)*Cos(kl),GetUnitY(it)+(RZ7-100.)*Sin(kl))endifcall IssuePointOrderByIdLoc(it,852218,HB)elseif((i1=='UC01')or(i1=='Edem'))thenif(kJ(GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+800.*Cos(kl),GetUnitY(it)+800.*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))endifcall IssuePointOrderByIdLoc(it,852525,HB)elseif(i1=='U00K')thenset RZ7=I2R(280+(100*GetUnitAbilityLevel(it,'A06O')))if(kJ(GetUnitX(it)+RZ7*Cos(kl),GetUnitY(it)+RZ7*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+RZ7*Cos(kl),GetUnitY(it)+RZ7*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+(RZ7-100.)*Cos(kl),GetUnitY(it)+(RZ7-100.)*Sin(kl))endifcall IssuePointOrderByIdLoc(it,852218,HB)elseif(i1=='O00P')thenif(kJ(GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+450.*Cos(kl),GetUnitY(it)+450.*Sin(kl))endifcall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0FN',true)call IssuePointOrderByIdLoc(it,852218,HB)elseif(i1=='N01V')thenset GZ[O5]=truecall J8(O5,K37(it,852129,'A0LN'))elseif(i1=='H071')thenset GZ[O5]=truecall J8(O5,K37(it,852600,'A1J7'))elseif(i1=='H00S')thenif(kJ(GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl)))thencall MoveLocation(HB,GetUnitX(it)+700.*Cos(kl),GetUnitY(it)+700.*Sin(kl))elseset kl=GetRandomReal(0.,6.28)call MoveLocation(HB,GetUnitX(it)+550.*Cos(kl),GetUnitY(it)+550.*Sin(kl))endifcall IssuePointOrderByIdLoc(it,852218,HB)elsecall T1E(it)endifcall I17(1.)if J77(it,h9[O5])<400 thencall jW(it,851983,h8[O5])elsecall jW(it,851986,h9[O5])endifset it=nullendfunctionfunction CSE takes nothing returns booleanlocal unit it=GetEnumUnit()local integer i1=GetUnitTypeId(GetEnumUnit())local player pl=GetOwningPlayer(GetEnumUnit())local location b5=HC[16+GetPlayerId(pl)]local unit m5=nulllocal boolean J4=falselocal integer CTElocal integer UPlocal integer O5=GetPlayerId(pl)if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueelseset G0[304+O5]=falseendifif(not JL7(it))and(J17(it))thenreturn trueendifif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenset m5=KF7(700.,b5,Condition(function Kn))set J4=(m5!=null)and(K37(it,OrderId("charm"),'A1AT'))elseif(i1=='E004')thenset J4=IssueImmediateOrderById(it,852129)if((not J4)and(GetHeroLevel(it)>6)and(GetUnitAbilityLevel(it,'B07T')==0)and(GetUnitState(it,UNIT_STATE_MANA)>350.))thenset m5=KF7(500.,b5,Condition(function KD))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(KZ7(it,852066,'A04Q',m5))endifelseif((i1=='EC45')or(i1=='Edem')or(i1=='HC92')or(i1=='U00K')or(i1=='N01V'))thenset J4=T1E(it)elseif(i1=='U000')thenif(not kD(it))thenset m5=KF7(400.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852555,'A0X7',m5))endifif((GetHeroLevel(it)>10.)and(GetUnitLifePercent(it)<30.)and(KG7(700.,b5,Condition(function Kn))>0))thenset GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),K37(it,852129,'A09U'))endifelseif(i1=='Udre')thenif(not VI7())thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852095,'A02H',m5))endifelseif(i1=='UC01')thenset J4=T1E(it)if(not J4)thenset m5=KF7(450.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852527,'A0Q7',m5))endifelseif(i1=='E02F')thenset J4=T1E(it)elseif(i1=='U00C')thenset UP=GetUnitAbilityLevel(it,'A0SW')if(UP==1)thenset m5=KF7(250.,jv(it),Condition(function PX7))elseset m5=KF7(250.,jv(it),Condition(function PY7))endifset J4=(m5!=null)and(jW(it,851986,m5))and(KZ7(it,852600,'A0SW',m5))if(not J4)thenset J4=(hq[240+GetPlayerId(pl)]<=Bz)and(K37(it,852273,'A0T2'))endifelseif(i1=='UC91')thenset J4=(KG7(300.,b5,Condition(function k6))>0)and(K37(it,852127,'A29K'))if((not J4)and(J_7(it)))thenset GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),K37(it,852100,'A05C'))endifelseif(i1=='UC42')thenset b5=kk(it,400.,h9[GetPlayerId(pl)])if(b5!=null)thencall SetPlayerAbilityAvailable(pl,'A1OP',true)set GZ[GetPlayerId(pl)]=trueset J4=J8(GetPlayerId(pl),IssuePointOrderByIdLoc(it,852488,b5))endifset b5=HC[16+GetPlayerId(pl)]elseif(i1=='NC00')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852095,'AHtb',m5))elseif((i1=='Eevi')or(i1=='Eevm'))thenset bj_lastLoadedUnit=itset I04=nullset I_4=nullset DD7=GetUnitLifePercent(it)+10.set DE7=GetUnitLifePercent(it)+10.call KF7(700.,b5,Condition(function PQ7))if I04!=null thenset m5=I04elseset m5=I_4endifset J4=(m5!=null)and(KZ7(it,852189,'A07Q',m5))elseif(i1=='UC18')thenset m5=KF7(400.,b5,Condition(function Kn))set J4=(m5!=null)and((KZ7(it,852555,'A0X5',m5))or(KZ7(it,852502,'A0MN',m5))or(KV7(it,m5)))elseif(i1=='EC57')thenset m5=KF7(450.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,OrderId("volcano"),'A173',m5))elseif(i1=='UC60')thenset m5=KF7(600.,b5,Condition(function Kn))if((m5!=null)and(KJ7(it,OU[D24]))and(V78(m5)==false)and(SG7(m5)==false))thenset J4=UnitUseItemTarget(it,KO7(it,OU[D24]),m5)endifif(not J4)thenset J4=(m5!=null)and(KZ7(it,852189,'A08X',m5))or((IsUnitInRange(it,m5,860.))and(M_7(GetHandleId(it),"Level")>GetUnitAbilityLevel(it,'A1NA'))and(IssueTargetOrderById(it,852248,m5)))endifelseif(i1=='U00A')thenif(not J4)thenset m5=KF7(550.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852231,'A055',m5))endifelseif(i1=='Ewar')thenset J4=T1E(it)if(not J4)thenset m5=KF7(450.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,OrderId("acidbomb"),'A0YM',m5))endifelseif(i1=='Ubal')thenif(GetUnitLifePercent(it)<25.)thenset J4=IssueImmediateOrderById(it,852129)call jW(it,851986,K67(it))endifif(not J4)thenset m5=KF7(1200.,b5,Condition(function k6))set J4=((ABE(it)>30.)and(KG7(900.,b5,Condition(function Kn))>0)and(K37(it,852600,'A0CT')))or((m5!=null)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))or(IssueImmediateOrderById(it,852129))endifelseif(i1=='U00F')thenset J4=(GetUnitAbilityLevel(it,'B02T')>0)and(IssueImmediateOrderById(it,852178))elseif(i1=='U00E')thenset J4=K37(it,852526,'A05V')elseif(i1=='Oshd')thenset m5=KF7(600.,b5,Condition(function k8))set J4=(m5!=null)and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0)and(KZ7(it,852227,'A04Y',m5))if(not J4)thenif(m5==null)thenset m5=KF7(500.,b5,Condition(function k8))endifset J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(KZ7(it,852119,'A0GK',m5))endifelseif(i1=='Ofar')thenset m5=KF7(700.,b5,Condition(function Kn))set J4=((m5!=null)and(KZ7(it,852662,'A046',m5)))or((GetHeroLevel(it)>5)and(Bz>hq[16+GetPlayerId(pl)])and(Kz(600.,b5)>1)and(K37(it,852588,'A29I')))elseif(i1=='H00H')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852486,'A0CE',m5))if(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(KV7(it,m5))endifelseif(i1=='E01A')thencall SetPlayerAbilityAvailable(pl,'A0NE',true)set m5=KF7(700.,b5,Condition(function Kn))set J4=((m5!=null)and(KZ7(it,852119,'A0NM',m5)))or((GetUnitAbilityLevel(it,'B06J')==0)and(IssueImmediateOrderById(it,852177)))elseif(i1=='U00P')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852119,'A0OJ',m5))elseif(i1=='E01C')thenset J4=IssueTargetOrderById(it,852248,it)elseif(i1=='E02I')thenset J4=IssueImmediateOrderById(it,852594)elseif(i1=='E01B')thencall SetPlayerAbilityAvailable(pl,'A0HW',true)set m5=KF7(900.,b5,Condition(function Kn))set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))elseif((i1=='H00I')or(i1=='H00J'))thenset m5=KF7(550.,b5,Condition(function Kn))set J4=(m5!=null)and(BDE(it,m5))elseif(i1=='N01W')thenset J4=(IssueTargetOrderById(it,852229,it))or((GetUnitAbilityLevel(it,'A0OV')==0)and(IssueTargetOrderById(it,852536,it)))elseif(i1=='N00R')thenset J4=(is(it))and(J77(it,K67(it))>5000.)and(KG7(1200.,b5,Condition(function KX))==0)and(ATE(3))if(not J4)thenset m5=KF7(500.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852488,'A0RA',m5))endifelseif((i1=='H00R')or(i1=='H07I'))thenset I04=itset J4=(KG7(1000.,b5,Condition(function ny))>3)and(IssueTargetOrderById(it,852699,it))elseif(i1=='H00N')thenset J4=KZ7(it,852101,'A0R7',it)elseif(i1=='H008')thenset m5=KF7(600.,b5,Condition(function k6))set J4=(m5!=null)and(IssueTargetOrderById(it,852600,m5))elseif(i1=='E005')thenif((GetHeroLevel(it)>5)and(Bz>hq[GetPlayerId(pl)]))thenset m5=KF7(400.,b5,Condition(function k6))set J4=(m5!=null)and(K87(m5))and(GetUnitAbilityLevel(m5,'B014')==0)and(KG7(700.,b5,Condition(function KA))<(KG7(700.,b5,Condition(function k6))+2))and(IssueImmediateOrderById(it,852600))endifelseif(i1=='Npbm')thenset m5=KF7(600.,b5,Condition(function k6))if(m5!=null)thenset J4=((IsUnitInRange(it,m5,200.))and(K37(it,852096,'A06M')))or((GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<35.)and(K37(it,852586,'A0MQ')))endifelseif(i1=='H000')thenset J4=(KG7(280.,b5,Condition(function k6))>0)and(K37(it,852127,'A00S'))elseif(i1=='H001')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,OrderId("acidbomb"),'A190',m5))elseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thenif(i1=='Hlgr')thenset UP=250elseset UP=400endifset m5=KF7(I2R(UP),b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852095,'A0AR',m5))elseif(i1=='Harf')thenset J4=KZ7(it,852225,'A08N',it)elseif((i1=='Naka')or(i1=='Ogrh'))thenset J4=IssueImmediateOrderById(it,852129)if((not J4)and(i1=='Naka')and(GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,'B062')==0))thenset m5=KF7(750.,b5,Condition(function k6))set J4=(m5!=null)and(KZ7(it,852149,'A0B4',m5))endifelseif(i1=='H00U')thenif((GetUnitAbilityLevel(it,'B08X')==0))thenset J4=((Bz>SL4[80+GetPlayerId(pl)])and RX7(it,BM4,BM4,BN4,'A0XL')and(RS7(it,BN4,BN4,BN4,false))and(IssueImmediateOrderById(it,852129)))if(not J4 and(Bz>SL4[80+GetPlayerId(pl)])and(GetUnitLevel(it)>5))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),MS[4],true)set J4=(IssueImmediateOrderById(it,852129))call SetPlayerAbilityAvailable(GetOwningPlayer(it),MS[4],false)endifif(not J4)thenset m5=KF7(500.,b5,Condition(function k6))set J4=(m5!=null)and(RX7(it,BM4,BM4,BO4,'A0VP'))and(IssueImmediateOrderById(it,852134))endifelseif((GetUnitAbilityLevel(it,'B08X')>0))thenset CTE=RF7('Hmbr',it)if((CTE>0)and(J07(G7[CTE]))and((Bz>hq[CTE])or((hq[CTE]-Bz)>0.)and((hq[CTE]-Bz)<60.))and((GetUnitAbilityLevel(G7[CTE],'A29G')>0)or(GetUnitAbilityLevel(G7[CTE],'A29H')>0)))thenset UP=GetUnitAbilityLevel(G7[CTE],'A29G')if(UP==0)thenset UP=GetUnitAbilityLevel(G7[CTE],'A29H')set CTE=350+(UP*100)elseset CTE=170+(UP*100)endifif((GetUnitState(it,UNIT_STATE_LIFE)>CTE)and(GetUnitAbilityLevel(it,'A21X')<6))thenset J4=(J77(it,K67(it))<5900.)and(KG7(1400.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,BN4))endifelseif(RF7('Emns',it)>0 or RF7('E01B',it)>0)thenelseset J4=(GetUnitAbilityLevel(it,'A21X')<6)and(KG7(1700.,b5,Condition(function KX))==0)and(IssueImmediateOrderById(it,BN4))endifelseendifelseif(i1=='Orkn')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852502,'A0RX',m5))elseif(i1=='Hvwd')thenset J4=T1E(it)if(not J4)thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852095,'A02A',m5))endifelseif(i1=='Emoo')thenset J4=K37(it,852556,'A01B')if(not J4)thenset m5=KF7(700.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852075,'A0DX',m5))endifelseif(i1=='Uktl')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(IssueTargetOrderById(it,852662,m5))elseif(i1=='Ekee')thenset m5=KF7(600.,b5,Condition(function Kn))if(GetHeroLevel(it)>=6)thenset J4=(KG7(400.,b5,Condition(function Kn))>0)if not NF7(it,"AI|PulseNova")thenif(J4)thencall SetPlayerAbilityAvailable(Player(O5),'A21G',true)call K37(it,852100,'A21F')call TriggerSleepAction(0.1)endifelseif(not J4)thencall K37(it,852100,'A21H')call TriggerSleepAction(0.1)endifendifendifif(m5!=null)thencall MoveLocation(HA,GetUnitX(m5)+(90.+(25*GetUnitAbilityLevel(it,'A06W')))*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+(90.+(25*GetUnitAbilityLevel(it,'A06W')))*Sin(GetUnitFacing(m5)*bj_DEGTORAD))set J4=KA7(it,852224,'A06W',HA)endifelseif(i1=='Emns')thenset J4=(is(it))and(J77(it,K67(it))>5000.)and(KG7(1200.,b5,Condition(function KX))==0)and(ATE(3))if(not J4)thenset m5=KF7(650.,b5,Condition(function Kn))set J4=(m5!=null)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(KZ7(it,OrderId("carrionswarm"),'A21E',m5))endifelseif(i1=='O00P')thenif((GetUnitAbilityLevel(it,'A0KX')>0))thenif(IsTriggerEnabled(M37(GetHandleId(pl),"MorphAgi")))thencall IssueImmediateOrderById(it,852550)elseif(not IsTriggerEnabled(M37(GetHandleId(pl),"MorphStr")))thencall IssueImmediateOrderById(it,852546)endifset G0[32+GetPlayerId(pl)]=trueendifset J4=T1E(it)elseif(i1=='HC49')thenset m5=KF7(750.,jv(it),Condition(function k6))set UP=NS7(H9)if(m5!=null and(UP>1 or GetUnitLifePercent(it)<30.))thenset J4=(GetHeroLevel(it)>5)and(IssueImmediateOrderById(it,852600))endifif(not J4)and(m5!=null and UP==1)thenset J4=KZ7(it,852095,'A24D',m5)endifelseif(i1=='Hjai')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852171,'A04C',m5))elseif(i1=='U006')thenset m5=KF7(600.,b5,Condition(function Kn))if(not J4)and(m5!=null)and(KG7(1500.,b5,Condition(function KR))==0)and(J77(it,JH4)>1500)and(J77(it,K84)>1500)thenset J4=KA7(it,852224,'A0BG',b5)endifelseif(i1=='O015')thenset m5=KF7(1600.,b5,Condition(function Kn))if((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(IsUnitInRange(it,m5,1600.))and(GetUnitLifePercent(m5)<33.))thenset J4=(IssuePointOrderByIdLoc(it,OrderId("channel"),GetUnitLoc(m5)))endifif((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))thencall jW(it,851986,K67(it))call I17(2.)call jW(it,851986,K67(it))endifelseif(i1=='E02J')thenset m5=KF7(800.,b5,Condition(function Kn))set CTE=GetPlayerId(GetOwningPlayer(it))set TH4[CTE]=trueif(m5!=null)thenset J4=(IL7(CTE))and(J8(CTE,IssuePointOrderByIdLoc(it,852089,UG7(it,m5,1.2,900))))endifif(not(J4))thenset UP=GetUnitAbilityLevel(it,'A1SW')set m5=KF7(2200.-(UP*400),b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852119,'A1SW',m5))endifset TH4[CTE]=falseif((GetUnitLifePercent(it)<80.)or(GetUnitManaPercent(it)<60.))thencall jW(it,851986,K67(it))call I17(2.)call jW(it,851986,K67(it))endifelseif(i1=='N0HP')thenset m5=KF7(700.,b5,Condition(function Kn))set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE))>(GetUnitState(it,UNIT_STATE_MAX_LIFE)/2.8))and(KZ7(it,OrderId("channel"),'A1MG',m5))elseif(i1=='H00A')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=((m5!=null)and(KZ7(it,852585,'A0KM',m5)))or((KF7(900.,b5,Condition(function Kn))!=null)and(GetUnitLifePercent(it)<35.)and(IssueImmediateOrderById(it,852600)))elseif(i1=='Ucrl')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852089,'A0LL',m5))elseif(i1=='Otch')thenset m5=KF7(1000.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,OrderId("channel"),'A0SK',m5))elseif(i1=='H00K')thenset m5=QK7(700.,it)if(m5!=null)and(GetWidgetLife(it)<50.)thenset J4=KZ7(it,852040,'A06B',it)elseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,700.))and(GetUnitAbilityLevel(m5,'Bcyc')==0)and(GetUnitAbilityLevel(m5,'Bcy2')==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,'A06B')))))thenset J4=KZ7(it,852040,'A06B',it)endifif(not J4)and(GetUnitLifePercent(it)<35.)thenset m5=KF7(350.,b5,Condition(function k6))if((m5!=null)and((GetUnitLifePercent(it)<20.)or(KG7(350.,b5,Condition(function k6))>1)))thenset J4=KZ7(it,852040,'A06B',m5)endifif((not J4)and(GetUnitLifePercent(it)<20.)and(GetUnitState(it,UNIT_STATE_LIFE)<150.)and(KG7(600.,b5,Condition(function k6))>0))thenset J4=KZ7(it,852040,'A06B',it)endifendifelseif(i1=='H071')thenset CTE=GetPlayerId(GetOwningPlayer(it))set TH4[CTE]=trueset J4=IssueImmediateOrderById(it,852129)or(K37(it,852600,'A1J7'))set TH4[CTE]=falseelseif(i1=='Huth')thenset J4=(KG7(320.,b5,Condition(function k6))>0)and(K37(it,852096,'A03Y'))elseif(i1=='Hmkg')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and((KZ7(it,852101,O27(it),m5))or(KZ7(it,852662,O57(it),m5))or(KZ7(it,852095,O07(it),m5))or(N77(GetHandleId(it),"AI|Magi2Blast")and KZ7(it,852600,'A2KQ',m5)))elseif(i1=='Hamg')thenif((GetUnitAbilityLevel(it,'B021')==0)and(KG7(900.,b5,Condition(function QH7))>0)and(JC7(it)))thenif(not K6(it))thencall MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)call SetRect(He,GetUnitX(it)-600.,GetUnitY(it)-600.,GetUnitX(it)+600.,GetUnitY(it)+600.)set hr=itcall EnumDestructablesInRect(He,QA4,function AKE)if(GetLocationX(HC[240+GetPlayerId(pl)])!=0.)thenset J4=IssuePointOrderByIdLoc(it,851986,HC[240+GetPlayerId(pl)])call MoveLocation(HC[240+GetPlayerId(pl)],0.,0.)elseset J4=jW(it,851986,h9[GetPlayerId(pl)])endifelseset J4=IssueTargetOrderById(it,852069,it)endifendifelseif(i1=='E00P')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852580,'A0O6',m5))elseif(i1=='N01I')thenset J4=K37(it,852663,'ANcr')elseif(i1=='H00S')thenset m5=KF7(900.,b5,Condition(function k6))set J4=(((m5==null)or(not IsUnitInRange(it,m5,250.)))and(T1E(it)))or((m5!=null)and(KZ7(it,852186,'A0R6',it)))elseif(i1=='H00Q')thenset J4=IssueTargetOrderById(it,852095,it)elseif(i1=='E01Y')thenset J4=IssueImmediateOrderById(it,852526)elseif(i1=='N00B')thencall SetPlayerAbilityAvailable(pl,'A0SB',true)if(PH4[GetPlayerId(pl)]==null)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(K67(it))-GetUnitY(it),GetUnitX(K67(it))-GetUnitX(it)))set h4[16+GetPlayerId(pl)]=itset J4=IssuePointOrderById(it,852662,GetUnitX(it)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(it)+150.*Sin(i1*bj_DEGTORAD))if J4 thencall I17(0.3)call K37(it,852514,'A0SB')endifendifelseif(i1=='H06S')thenset m5=KF7(950.,b5,Condition(function Kn))if(not J4)and(Bz>SL4[32+O5])and(m5!=null)and(J77(it,m5)<350+GetUnitAbilityLevel(it,'A11N')*150)thenset J4=IssueTargetOrderById(it,852581,m5)endifif(not J4)and(Bz>SL4[16+O5])and(m5!=null)thenif UG7(it,m5,2.,1500.)!=null thenset J4=KA7(it,852089,'A136',FD7)endifendifelseif((i1=='H00R')or(i1=='H07I'))thenif(not J4)and(Bz>SL4[32+O5])thenset I04=itset UP=KG7(1000.,jv(it),Condition(function ny))set J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))endifelseif(i1=='N0EG')thenif(not J4)and(Bz>SL4[48+O5])thenset J4=K37(it,852526,'A14I')endifif(not J4)and(Bz>SL4[32+O5])thenset m5=KF7(950.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852119,'A12J',m5))endifelseif(i1=='H00K')thenif(Bz>SL4[16+O5])thenset m5=KF7(400.,b5,Condition(function Kn))if(m5!=null)and(GetUnitLifePercent(m5)<60.)and(eY[320+O5]>=0)thenset m5=KF7(700.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852278,'A05J',it))endifendifelseif(i1=='H00T')thenset m5=KF7(400.,b5,Condition(function Kn))if(m5!=null)and(Bz>SL4[32+O5])and(J77(it,m5)>200.)thenset J4=(m5!=null)and(IssueImmediateOrderById(it,852581))endifelseif(i1=='E02N')thenset m5=KF7(700.,b5,Condition(function Kn))if(not J4)and(Bz>SL4[O5])thenif((m5!=null))thenif(GetUnitLifePercent(m5)<50.)and(GetUnitLevel(it)>=6)and(not IsUnitIllusion(m5))thenif UG7(it,m5,2,1000.)!=null thenset J4=KC7(it,852089,'A1T5','A235',GetLocationX(FD7),GetLocationY(FD7))endifendifendifendifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and(IsUnitInRange(it,m5,400))thenset J4=K37(it,852600,'A1SO')endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])thenset J4=KZ7(it,852119,'A1SQ',m5)endifelseif(i1=='E02H')thenif(m5==null)thenset m5=KD7(600.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])thenset J4=KZ7(it,852119,'A1S8',m5)endifif(not J4)and(m5!=null)and(Bz>SL4[O5])and(GetUnitLifePercent(it)<25.)thenset J4=KZ7(it,852111,'A1SA',m5)endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])thenset J4=KZ7(it,852089,'A1SB',m5)endifelseif(i1=='O016')thenif(m5==null)thenset m5=KD7(600.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[48+O5])thencall K37(it,852180,'A19Z')call I17(0.1)endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60)or(M_7(GetHandleId(m5),"StickyNapalm|Count")>3))and(Bz>SL4[32+O5])thenif(UD7(it,m5,900,0.2,1500)!=null)thenset J4=(KA7(it,852218,'A19V',UM7(FD7,100,W47(m5,it))))endifendifelseif(i1=='O01F')thenset J4=T1E(it)elseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenif(m5==null)thenset m5=KD7(600.,b5,Condition(function k6))endifif((not J4)and(m5!=null)and(Bz>SL4[32+O5]))thenset J4=KZ7(it,OrderId("acidbomb"),'A10X',m5)endifif((not J4)and(m5!=null)and(i1!='Hblm'))thenset DD7=W47(m5,it)set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(DD7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(DD7*bj_DEGTORAD))endifif((not J4)and(Bz>SL4[16+O5])and(i1!='Hblm'))thenset DD7=W47(it,h9[O5])set J4=IssuePointOrderById(it,852600,GetUnitX(it)+150.*Cos(DD7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(DD7*bj_DEGTORAD))endifelseif(i1=='UC11')thenif(m5==null)thenset m5=KD7(400.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(it)<20 or GZ[208+O5]))thenset J4=(K37(it,852164,'A29L'))endifelseif(i1=='E02X')thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(KZ7(it,852214,'A27F',m5))if(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall CSE()set G0[304+O5]=falseendifelseif(i1=='N0M0')thenset m5=KF7(600.,b5,Condition(function Kn))if(not J4)and(Bz>SL4[16+O5])and(m5!=null)and(KH7(400.,it,Condition(function PM7))<=2)thenset J4=K37(it,852526,'A2H3')endifif(not J4)and(m5!=null)thenset J4=T1E(it)endifif(not J4)and(Bz>SL4[48+O5])and(m5!=null)thenset J4=IssueImmediateOrderById(it,852600)endifelseif(i1=='E02K')thenset m5=KF7(600.,b5,Condition(function Kn))if(not J4)and(Bz>SL4[32+O5])thenset J4=IssueTargetOrderById(it,852248,it)endifelseif(i1=='H0DO')thenset m5=KF7(600.,b5,Condition(function Kn))if(not J4)and(m5!=null)and(Bz>SL4[32+O5])thenset J4=K37(it,852526,'A2IT')endifif(not J4)and(m5!=null)and(Bz>SL4[48+O5])thenset J4=KZ7(it,852668,'A2HN',m5)endifelseif(i1=='E032')thenset m5=KF7(600.,b5,Condition(function Kn))if(not J4)thenif GetUnitAbilityLevel(it,'A2FX')==0 thenset DD7=GetUnitFacing(it)set J4=((m5!=null)and(IssuePointOrderById(it,852216,GetUnitX(it)+20*Cos(DD7*bj_DEGTORAD),GetUnitY(it)+20*Sin(DD7*bj_DEGTORAD))))elseset bj_lastCreatedUnit=MZ7(GetHandleId(it),"AI|ShredChakram")if(m5==null)or(not IsUnitInRange(it,bj_lastCreatedUnit,400))thenset J4=IssueImmediateOrderById(it,852177)endifendifendifif(not J4)and(Bz>SL4[32+O5])thenset J4=T1E(it)endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and(IsUnitInRange(it,m5,300))thenset J4=K37(it,852526,'A2FK')endifendifif(not G0[304+O5])and(not J4)thenif(not J4)and((KJ7(it,OU[HW]))and(Bz>hq[112+GetPlayerId(pl)]))thenset J4=T1E(it)endifif(not J4)and((KJ7(it,OU[B5]))and(KG7(1200.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((KJ7(it,OU[D_4]))and(KG7(1200.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((KJ7(it,OU[E0]))and(GetUnitLifePercent(it)<35.))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[Q1])or KJ7(it,OU[R1]))and(GetItemCharges(bj_lastCreatedItem)>0)and(GetUnitLifePercent(it)<35.))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[DR4]))and(Bz>hq[96+GetPlayerId(pl)]))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[B3])))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[Z3])))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[GC])))thenset m5=KF7(600.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif(not J4)and((KJ7(it,OU[DL4]))and(Bz>SL4[176+GetPlayerId(pl)]))thenset m5=KF7(500.,b5,Condition(function Kn))set J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))endifif(not J4)and((KJ7(it,OU[O0]))and(not N77(GetHandleId(it),"Mekansm"))and(Bz>hq[80+GetPlayerId(pl)])and(KG7(800.,b5,Condition(function k6))>0))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifif(not J4)and((KJ7(it,OU[EE4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>SL4[224+GetPlayerId(pl)])and(GetUnitLifePercent(it)<70.))thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,it))endifif(not J4)and(KJ7(it,OU[DB4])and(NF7(it,"ArmletOfMordigan|Active")==true)and(GetUnitLifePercent(it)<50.))thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(KU7(it))and(Bz>SL4[192+O5]))thenif(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(KG7(1000.,jv(it),Condition(function k6))>0)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(J77(it,h9[16+O5])>600))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifendifif(not J4)and(KJ7(it,OU[D24])and(Bz>SL4[240+GetPlayerId(pl)])and(V78(m5)==false)and(SG7(m5)==false))thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)endifif((not J4)and(is(it))and(GetUnitAbilityLevel(it,'B02Z')==0)and(GetUnitAbilityLevel(it,'B07T')==0)and(GetUnitAbilityLevel(it,'B068')==0)and(GetUnitAbilityLevel(it,'B00K')==0)and(J77(it,K67(it))>6000.)and(KG7(1400.,b5,Condition(function KX))==0))thenif(IsUnitAlly(it,Y7[0]))thenset J4=OO7(it,JH4)elseset J4=OO7(it,K84)endifendifendifset it=nullset pl=nullset b5=nullset m5=nullreturn J4endfunctionfunction CUE takes nothing returns nothinglocal unit it=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(it))local integer i=1if((IsUnitType(it,UNIT_TYPE_HERO))and(not IsUnitIllusion(it)))thenif((GetPlayerController(GetOwningPlayer(it))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(it)>.405)and(IsUnitType(it,UNIT_TYPE_DEAD)==false))thencall ExecuteFunc("CVE")elseif IX4[O5]thenset h4[O5]=nullif((TimerGetRemaining(N[O5])>20.)and(GetPlayerState(Player(O5),PLAYER_STATE_RESOURCE_GOLD)>5000)and(TimerGetElapsed(N[O5])>4.))thenloopexitwhen NZ4[i]==GetEnumUnit()or i>NC4set i=i+1endloopif NZ4[i]!=null and GetUnitAbilityLevel(K04[O5],'A20U')==0 thencall IssueImmediateOrderById(K04[O5],S9[O5])endifendifendifelseif((OB7(it))and(GetUnitTypeId(it)!='ncop')and(J07(it)))thenset bj_lastLoadedUnit=GetEnumUnit()call ExecuteFunc("CWE")endifset it=nullendfunctionfunction CXE takes nothing returns booleanlocal unit H57=GetEnteringUnit()local integer i=GetUnitTypeId(H57)if(i=='u00G' or i=='u00I')and IsPlayerInForce(GetOwningPlayer(GetEnteringUnit()),QP4)thencall RemoveGuardPosition(H57)call GroupAddUnit(M67(GetHandleId(GetOwningPlayer(GetEnteringUnit())),IG7(i=='u00G',"ExorG","NAttG")),H57)call IssueImmediateOrderById(H57,852557)endifif not(R97(GetOwningPlayer(GetEnteringUnit())))thenset H57=nullreturn falseendifset bj_lastLoadedUnit=H57if(i=='u012' or i=='u013')thencall ExecuteFunc("CYE")elseif(i=='o00C')or(i=='o01G')or(i=='o01H')or(i=='o01I')thencall IssueTargetOrderById(H57,851986,G7[GetPlayerId(GetOwningPlayer(H57))])elseif(i=='h0DS')thencall MF7(GetHandleId(G7[GetPlayerId(GetOwningPlayer(H57))]),"AI|ShredChakram",H57)elseif(OB7(H57)and IsUnitType(H57,UNIT_TYPE_HERO)==false)thencall IssueTargetOrderById(H57,851986,G7[GetPlayerId(GetOwningPlayer(H57))])set LR4=falsecall ExecuteFunc("CWE")endifset H57=nullreturn falseendfunctionfunction CZE takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer T97=GetHandleId(t)local integer O5=M_7(T97,"OwnerPID")local unit m5=G7[O5]local unit CAE=nulllocal string CBE=I2S(M_7(T97,"famID"))local integer U2Elocal unit it=MZ7(T97,"unitFamiliar")local boolean J4=falselocal group g=nulllocal unit u=nullif(GetTriggerEventId()==EVENT_UNIT_DEATH)thencall NJ7(G7[O5],"AIFamiliar"+CBE+"|Status")call NH7(G7[O5],"AIFamiliar"+CBE+"|Stone")call FlushChildHashtable(C7,T97)call NM7(t)call DestroyTrigger(t)elseset U2E=GetUnitTypeId(it)if CBE=="1" thenif(U2E=='u014' or U2E=='u015' or U2E=='u016')thencall NJ7(m5,"AIFamiliar"+CBE+"|Stone")elsecall NH7(m5,"AIFamiliar"+CBE+"|Stone")call NJ7(m5,"AIFamiliar|CastStone")endifelseif CBE=="2" thenif(U2E=='u01D' or U2E=='u01E' or U2E=='u01F')thencall NJ7(m5,"AIFamiliar"+CBE+"|Stone")elsecall NH7(m5,"AIFamiliar"+CBE+"|Stone")call NJ7(m5,"AIFamiliar|CastStone")endifelseif CBE=="3" thenif(U2E=='u01R' or U2E=='u01S' or U2E=='u01T')thencall NJ7(m5,"AIFamiliar"+CBE+"|Stone")elsecall NH7(m5,"AIFamiliar"+CBE+"|Stone")call NJ7(m5,"AIFamiliar|CastStone")endifendifif(GetUnitState(it,UNIT_STATE_LIFE)<0.55*(200+(GetUnitAbilityLevel(m5,'A1NE')*100)))thenset J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)if not J4 thenset J4=jW(it,851986,h9[O5])endifelseif((J77(it,K67(m5))<1000.)and(GetUnitLifePercent(it)<98.))thenset J4=(jW(it,851986,K67(m5)))elseif(not J07(m5))thenset J4=jW(it,851986,K67(m5))elseif(not IsUnitInRange(it,m5,1200.))thenset J4=IssueTargetOrderById(it,851986,m5)endifif not J4 thenset m5=nullif GetUnitState(h4[O5],UNIT_STATE_LIFE)>0 thenset m5=h4[O5]endifif m5==null thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(G7[O5]),700,Condition(function PH7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))and(IsUnitVisible(u,GetOwningPlayer(it)))or u==null)endloopset m5=uset u=nullendifcall DestroyGroup(g)endifset g=CreateGroup()call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(G7[O5]),700,Condition(function PU7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(IsUnitEnemy(u,GetOwningPlayer(it))or u==null)endloopset CAE=uset u=nullendifcall DestroyGroup(g)if CAE!=null and m5!=null thenif J77(it,CAE)<J77(it,m5)and m5!=h4[O5]thenset m5=nullendifendifif m5!=null thenif(IsUnitInRange(it,m5,250.)and V88(m5)==false and IsUnitType(m5,UNIT_TYPE_MAGIC_IMMUNE)==false and NF7(G7[O5],"AIFamiliar|CastStone")==false)thenset J4=IssueImmediateOrderById(it,852138)or IssueImmediateOrderById(it,852155)or IssueImmediateOrderById(it,852656)or IssueImmediateOrderById(it,852139)or IssueImmediateOrderById(it,852156)or IssueImmediateOrderById(it,852657)if J4 thencall NH7(G7[O5],"AIFamiliar|CastStone")endifelseset J4=IssueTargetOrderById(it,851983,m5)endifendifif CAE!=null and J4==false thenif GetUnitCurrentOrder(G7[O5])==851986 thenset J4=IssueTargetOrderById(it,851986,G7[O5])elseset J4=IssueTargetOrderById(it,851983,CAE)endifendifendifif(not J4)thenif(eY[O5]==10)thenset J4=jW(it,851983,G7[O5])elseset J4=IssueTargetOrderById(it,851986,G7[O5])endifendifendifset t=nullset m5=nullset CAE=nullset it=nullset g=nullreturn falseendfunctionfunction CCE takes integer IB7,unit C3E returns nothinglocal trigger t=nulllocal integer TJ7=0local string CBElocal integer i1=GetUnitTypeId(C3E)if(not((GetPlayerController(GetOwningPlayer(C3E))==MAP_CONTROL_COMPUTER)and(J07(C3E))))thenreturnendifif((i1=='u014' or i1=='u015' or i1=='u016'))thenset CBE="1"elseif((i1=='u01D' or i1=='u01E' or i1=='u01F'))thenset CBE="2"elseif((i1=='u01R' or i1=='u01S' or i1=='u01T'))thenset CBE="3"elsereturnendifset t=CreateTrigger()set TJ7=GetHandleId(t)call TriggerRegisterUnitEvent(t,C3E,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,C3E,EVENT_UNIT_SPELL_FINISH)call TriggerRegisterTimerEvent(t,1.4,true)call TriggerRegisterTimerEvent(t,0.1,false)call TriggerAddCondition(t,Condition(function CZE))call NH7(G7[IB7],"AIFamiliar"+CBE+"|Status")call MF7(TJ7,"unitFamiliar",C3E)call M87(TJ7,"OwnerPID",IB7)call M87(TJ7,"famID",S2I(CBE))set t=nullendfunctionfunction C6E takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer T97=GetHandleId(t)local unit TI7=MZ7(T97,"NinjaScarab")local unit TH7=MZ7(T97,"NinjaSummoner")local unit CLE=GetTriggerUnit()if((IsUnitType(CLE,UNIT_TYPE_HERO))and(IsUnitEnemy(CLE,GetOwningPlayer(TH7))==true)and(IsUnitVisible(CLE,GetOwningPlayer(TH7))==true)and(not IsUnitIllusion(CLE)))thencall IssueImmediateOrderById(TI7,852127)call NM7(t)call DestroyTrigger(t)endifset t=nullset TI7=nullset TH7=nullset CLE=nullendfunctionfunction C1E takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer T97=GetHandleId(t)local unit TH7=MZ7(T97,"NAScarabOwner")local unit TI7=MZ7(T97,"NAScarabUnit")local unit C0E=nulllocal unit TF7=nulllocal unit u=nulllocal group g=CreateGroup()if((GetTriggerEventId()==EVENT_UNIT_DEATH)or(GetUnitState(TH7,UNIT_STATE_LIFE)<=0))thenif((GetUnitState(TI7,UNIT_STATE_LIFE)>0))thencall jW(TI7,851986,K67(TH7))elsecall FlushChildHashtable(C7,T97)call NM7(t)call DestroyTrigger(t)endifelsecall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(TI7),700,Condition(function PJ7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(TH7))endloopset TF7=uset u=nullendifcall DestroyGroup(g)if(TF7!=null)thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(TI7),150,Condition(function PK7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(GetUnitTypeId(u)=='u012' or GetUnitTypeId(u)=='u013')endloopset C0E=uset u=nullendifcall DestroyGroup(g)if(C0E==null)thenset g=CreateGroup()call GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(TH7),500,Condition(function PK7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen(GetUnitTypeId(u)=='u012' or GetUnitTypeId(u)=='u013')endloopset C0E=uendifendifendifif(TF7!=null and C0E!=null and GetUnitState(TF7,UNIT_STATE_LIFE)>0 and IsUnitVisible(TF7,GetOwningPlayer(TH7))==true)thencall IssueTargetOrderById(C0E,851986,TF7)call I17(3)if((GetUnitState(TI7,UNIT_STATE_LIFE)>0)and(GetUnitCurrentOrder(TI7)!=851986))thencall IssueTargetOrderById(TI7,851986,TH7)endifelsecall IssueTargetOrderById(TI7,851986,TH7)endifendifcall DestroyGroup(g)set t=nullset C0E=nullset TH7=nullset TI7=nullset TF7=nullset u=nullset g=nullreturn falseendfunctionfunction CYE takes nothing returns nothinglocal trigger t=CreateTrigger()local unit TI7=bj_lastLoadedUnitlocal unit TH7=G7[GetPlayerId(GetOwningPlayer(TI7))]local unit TF7=nulllocal unit u=nulllocal group g=CreateGroup()local boolexpr b=Condition(function PJ7)local boolean C5E=falsecall GroupClear(g)call GroupEnumUnitsInRangeOfLoc(g,GetUnitLoc(TI7),700,Condition(function PJ7))if(not IZ7(g))thenloopset u=FirstOfGroup(g)call GroupRemoveUnit(g,u)exitwhen IsUnitEnemy(u,GetOwningPlayer(TH7))endloopset TF7=uendifcall DestroyGroup(g)if(TF7!=null and GetUnitState(TF7,UNIT_STATE_LIFE)>0 and IsUnitVisible(TF7,GetOwningPlayer(TH7))==true)thenif(J77(TI7,TF7)>250.)thenset C5E=truecall IssueTargetOrderById(TI7,851986,TH7)elsecall IssueImmediateOrderById(TI7,852127)call NM7(t)call DestroyTrigger(t)endifelseset C5E=truecall IssueTargetOrderById(TI7,851986,TH7)endifif(C5E==true)thencall MF7(GetHandleId(t),"NAScarabOwner",TH7)call MF7(GetHandleId(t),"NAScarabUnit",TI7)call TriggerRegisterUnitEvent(t,TI7,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,2.1,true)call TriggerAddCondition(t,Condition(function C1E))set t=CreateTrigger()call MF7(GetHandleId(t),"NinjaSummoner",TH7)call MF7(GetHandleId(t),"NinjaScarab",TI7)call TriggerRegisterUnitInRange(t,TI7,70,b)call TriggerAddAction(t,function C6E)endifcall DestroyBoolExpr(b)set t=nullset g=nullset u=nullset TI7=nullset TH7=nullset TF7=nullendfunctionfunction CVE takes nothing returns nothinglocal unit it=GetEnumUnit()local unit m5=nulllocal integer i1=GetUnitTypeId(it)local player pl=GetOwningPlayer(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal location b5local location C2E=nulllocal boolean J4=falselocal item C_E=nulllocal boolean L4E=falselocal integer L7Elocal unit L8E=nullcall TriggerSleepAction(0.1)if G0[288+O5]thenset G0[288+O5]=falseset i1=eY[400+O5]set G0[304+O5]=trueendifset G0[64+O5]=falseif(i1!='H00J')thenset b5=HC[16+O5]elseif(M07(GetHandleId(it),"MCSLoc")!=null)thenset b5=M07(GetHandleId(it),"MCSLoc")elseset b5=GetUnitLoc(it)call MS7(GetHandleId(it),"MCSLoc",b5)endifendifcall MoveLocation(b5,GetUnitX(it),GetUnitY(it))if not G0[304+O5]thenif(h4[O5]!=null)and((not J07(h4[O5]))or(not IsHeroUnitId(GetUnitTypeId(h4[O5])))or((IsUnitIllusion(h4[O5]))and((KG7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Y7[0])))))or(IsUnitAlly(h4[O5],pl)))thenset h4[O5]=nullif(JC7(it))thencall J3(it,true)endifendifif(i1=='U00K')and(GetUnitCurrentOrder(it)==852503)and(KH7(GetUnitAbilityLevel(it,'A0H0')*50+100,it,Condition(function PM7))<=2)thenset G0[272+O5]=truecall IssueImmediateOrderById(it,851972)call J3(it,false)set G0[272+O5]=falseendifif((G0[O5])or(not JC7(it))or(GetUnitAbilityLevel(it,'B0DV')>0))thenset J4=trueif(GetUnitAbilityLevel(it,'B0DV')>0)thenset G0[64+O5]=trueendifelseif(((J_7(it))and(not Id(O5)))or((G0[32+O5])and(h4[O5]==null)))thenif(h4[O5]!=null)thencall V2E(it,h4[O5])endifif(eY[O5]!=2)thenif(i1=='H00J')thenset J4=(J_7(it))and(is(it))and(not Id(O5))and(jW(it,851986,h9[O5]))elseif(not G0[32+O5])thencall OI7(it,false)elseif(Jw(it))thenif(J_7(it))thenset J4=CSE()endifif(not J4)thencall T1E(it)endifendifendifset J4=trueelseif(h4[O5]==null)thenif((GetHeroLevel(it)>3)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))thenif((KG7(800.,b5,Condition(function K7))>0)or(lA(h4[O5],IsUnitAlly(it,Y7[0]))))thenset m5=KF7(1100.,b5,Condition(function KK))elseset m5=KF7(1100.,b5,Condition(function Kl))endifif(m5!=null)thenif(iy(it))thenset h4[160+O5]=m5endifif((KY(750.,jv(m5))<=2)and(not OA7(m5))and((J57(m5,it))or(KH7(400.,m5,Condition(function PR7))==0)))thenset h4[O5]=m5endifendifendifelseset m5=K3(600.,it,Condition(function k6))if(m5!=h4[O5]and m5!=null)thenif(GetUnitLifePercent(m5)>50.)thenif((GetUnitState(m5,UNIT_STATE_LIFE)+(20.*GetHeroLevel(m5)))<GetUnitState(h4[O5],UNIT_STATE_LIFE))thenset h4[O5]=m5endifelseif(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(h4[O5],UNIT_STATE_LIFE))thenset h4[O5]=m5endifendifif((GetUnitTypeId(h4[O5])=='H00I')and(GetUnitLifePercent(h4[O5])>50.))thenset m5=KF7(700.,b5,Condition(function KL))if(m5!=null)thenset h4[O5]=m5endifendifif((GetHeroLevel(it)<6)and(not K47(O5)))thenif((not IsUnitInRange(it,h4[O5],750.))or((GetUnitLifePercent(it)-10.)<GetUnitLifePercent(h4[O5]))or((not IsUnitVisible(h4[O5],pl))and(kD(h4[O5]))))thenset h4[O5]=nullcall J3(it,true)endifelseif((((not IsUnitInRange(it,h4[O5],1200.))or((GetUnitLifePercent(it)+30.)<GetUnitLifePercent(h4[O5])))and(not K47(O5)))or(OA7(h4[O5])))thenset h4[O5]=nullcall J3(it,true)elseif((not IsUnitVisible(h4[O5],pl))and(((IsVisibleToPlayer(GetUnitX(h4[O5]),GetUnitY(h4[O5]),pl))and(not IsUnitHidden(h4[O5])))or((eY[32+GetPlayerId(GetOwningPlayer(h4[O5]))]<2)and(kD(h4[O5])))))thenif(not J_7(h4[O5]))thenif((GetUnitTypeId(h4[O5])=='HC92')and(KJ7(it,OU[YC]))and(GetItemCharges(bj_lastCreatedItem)>1))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,KO7(it,OU[YC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseif((GetUnitTypeId(h4[O5])=='H071')and(KJ7(it,OU[YC]))and(GetItemCharges(bj_lastCreatedItem)>1))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,KO7(it,OU[YC]),GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseset h4[O5]=nullcall J3(it,true)endifelseif(i1=='N01A')thenset J4=IssueImmediateOrderById(it,852600)elseif(KJ7(it,OU[X2]))thenset J4=UnitUseItem(it,bj_lastCreatedItem)elseif(KJ7(it,OU[H3]))thenset J4=(J77(it,h4[O5])<=600)and(UnitUseItem(it,bj_lastCreatedItem))elseif(KJ7(it,OU[YC]))thenset J4=((GetUnitX(h4[O5])!=0)or(GetUnitY(h4[O5])!=0))and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(h4[O5]),GetUnitY(h4[O5])))elseif(not N77(QC4,P1E(it)+"|W"))thencall ME7(QC4,P1E(it)+"|W",true)endifset h4[O5]=nullcall J3(it,true)endifendifendifendifset m5=h4[O5]if((iy(it))and(m5!=null))thenset h4[160+O5]=m5endifset GZ[128+O5]=(m5!=null)and((GetHeroLevel(it)>5)or(J57(m5,it)))if(J4)thenelseif(i1=='E002')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(700.,b5,Condition(function k6))endifset J4=(m5!=null)and((GetHeroLevel(it)>3)or(J57(m5,it)))and(IsUnitInRange(it,m5,650.))and(GetUnitManaPercent(it)>25.)and(Bz>SL4[16+O5])and(K37(it,852526,'A1E7'))if((not J4)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset J4=(m5!=null)and(IsUnitInRange(it,m5,450.))and(IssuePointOrderById(it,852662,GetUnitX(m5)+2,GetUnitY(m5)-2))endifif((not J4)and(G0[128+O5])and(GetHeroLevel(it)>5))thenset m5=KD7(450.,b5,Condition(function k6))set J4=(m5!=null)and(Bz>SL4[O5])and(((GetUnitAbilityLevel(it,'A1AO')>0)and(K37(it,852229,'A1AO')))or((GetUnitAbilityLevel(it,'A1UV')>0)and(K37(it,852229,'A1UV'))))endifelseif(i1=='E02J')thenif(GetHeroLevel(it)>3)thenset m5=KF7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(Bz>SL4[16+O5])and(IsUnitInRange(it,m5,795.))and(((GetUnitAbilityLevel(it,'A1TV')<4)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<40.)or(h4[O5]!=null))and(KZ7(it,852095,'A1TV',m5))if(not J4)and(m5!=null)and(Bz>SL4[48+O5])and((GetUnitLifePercent(m5)<30.)or((h4[O5]!=null)and((GetUnitLifePercent(m5)<70.)or(eY[320+O5]>0))))thenif(W87(it,m5))or(not IsUnitInRange(m5,it,800))thencall UG7(it,m5,1.2,900)elsecall MoveLocation(FD7,GetUnitX(m5),GetUnitY(m5))endifset J4=(IL7(O5)and(J8(O5,IssuePointOrderByIdLoc(it,852089,FD7))))endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and(W87(it,m5))and(not IsUnitInRangeLoc(m5,ZME(m5),600))thenset J4=KZ7(it,852119,'A1SW',m5)endifif(not J4)and(h4[O5]!=null)and(V98(m5)or GetUnitLifePercent(it)<80 or GZ[208+O5])thenset J4=(m5!=null)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))endifif(not J4)and(Bz>SL4[32+O5])thenset m5=KF7(1200.,b5,Condition(function ZNE))set J4=(m5!=null)and(KZ7(it,852119,'A1SW',m5))endifelseif(i1=='E02F')thenif(TK4[O5])thenset J4=trueendifif((m5==null)and(G0[128+O5]))thenset m5=KF7(1200.,b5,Condition(function k6))endifif((G0[128+O5])and(MZ7(GetHandleId(it),"Bird4")!=null)and(UY7(MZ7(GetHandleId(it),"Bird4"))==false)and(M_7(GetHandleId(it),"BirdsCounter")>300))thenif((GetUnitLifePercent(it)<70.))thenset J4=KZ7(it,852185,'A1Z2',it)elseset L8E=KD7(1200.,b5,Condition(function PL7))if(L8E!=null)thenset J4=KZ7(it,852185,'A1Z2',L8E)elseif(m5!=null)thenset J4=KZ7(it,852185,'A1Z2',m5)and KZ7(it,852185,'A1Z2',m5)elseset m5=KD7(650.,b5,Condition(function PV7))if((m5!=null)and(KH7(400.,m5,Condition(function PV7))>1))thenset J4=KZ7(it,852185,'A1Z2',m5)endifendifendifendifif(not J4 and(Bz>SL4[16+O5]))thenset TM4[O5]=trueset J4=(m5!=null)and((GetUnitLifePercent(m5)>70.)or(GetUnitLifePercent(m5)<30.)or(GZ[208+O5]))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5)))endifif(not J4)thenset J4=(m5!=null)and(GetUnitLifePercent(it)>70.)and IssueImmediateOrderById(it,852490)or((GetRandomInt(1,3)==1)and(GetUnitLevel(it)>5)or(GetUnitLifePercent(m5)<30.))and(IssuePointOrderByIdLoc(it,852600,GetUnitLoc(m5)))endifif((not J4)and(Bz>hq[O5])and(MZ7(GetHandleId(it),"Bird4")!=null)and(UY7(MZ7(GetHandleId(it),"Bird4"))==false)and(M_7(GetHandleId(it),"BirdsCounter")>400)and(KH7(600.,it,Condition(function QH7))>=2))thenset J4=IssueImmediateOrderById(it,852662)endifset TM4[O5]=falseset I04=itif(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>60)and(G0[256+O5])and(not IsUnitInRange(it,m5,600))and(IsUnitInRange(it,m5,900))and(T27(it,m5,GetUnitX(m5),GetUnitY(m5),75,Condition(function Y47)))thenset J4=IssueTargetOrderById(it,852218,m5)endifelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thenif(GetUnitAbilityLevel(it,'BNms')>0)thenif((GetUnitState(it,UNIT_STATE_MANA)<100.)and(not J_7(it)))thencall IssueImmediateOrderById(it,852590)call SetPlayerAbilityAvailable(pl,'A0MP',false)endifelseif((GetHeroLevel(it)>3)and((GetUnitState(it,UNIT_STATE_MANA)>250.)or(J_7(it))))thencall SetPlayerAbilityAvailable(pl,'A0MP',true)call IssueImmediateOrderById(it,852589)endifif((h4[16+O5]!=null)and(G0[128+O5]))thenif(GetUnitAbilityLevel(h4[16+O5],'Bprg')==0)thenset J4=IssueTargetOrderById(it,851983,h4[16+O5])elseset h4[16+O5]=nullendifendifcall SetPlayerAbilityAvailable(pl,'A0G2',(GetUnitManaPercent(it)>75.)and(GetHeroLevel(it)>8))if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=K3(800.,it,Condition(function k6))endifset J4=(m5!=null)and(((GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(m5,'Bprg')==0)and(K37(it,OrderId("charm"),'A1AT')))or(((GetUnitManaPercent(it)>70.)or(GetUnitLifePercent(m5)<60.))and(KZ7(it,852119,'A0G2',m5))))elseif(i1=='U00C')thenif((m5==null)and(G0[128+O5]))thenset m5=KF7(600.,b5,Condition(function k6))endifif((GetHeroLevel(it)>6)and(m5!=null)and(GetUnitLifePercent(it)>50.))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A194',false)if(KJ7(it,OU[DC4])and(NF7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))thenset J4=(m5!=null)and(UnitUseItem(it,KO7(it,OU[DC4])))elseif(KJ7(it,OU[DB4])and(NF7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,KO7(it,OU[DB4])))elseset J4=(Bz>hq[240+O5])and((hq[416+O5]>Bz)or(GetUnitLifePercent(m5)<60.))and((K37(it,852273,'A0T2'))or(jP(it,OU[G5])))endifif((not J4)and((GetUnitLifePercent(m5)<50.)))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A194',true)set GZ[O5]=trueset J4=(IssueTargetOrderById(it,852119,m5))set GZ[O5]=falsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A194',false)endifendifelseif(i1=='EC77')thenif((GetHeroLevel(it)>20)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))thencall SetPlayerAbilityAvailable(pl,'A05D',true)endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(UP>200)and(UP<(400*GetUnitAbilityLevel(it,'A080'))or UP<(460*GetUnitAbilityLevel(it,'A1UZ')))and(KB7(it,852527,'A080','A1UZ',m5))endifif((not J4)and(KJ7(it,OU[B5]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenset m5=KD7(1500.,b5,Condition(function KK))endifif((m5!=null)and(not IsUnitIllusion(m5))and(not KJ7(m5,OU[AV]))and(GetUnitTypeId(m5)!='HC92')and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.)))thenif((KH7(600.,m5,Condition(function P07))>0)or((GetUnitLifePercent(m5)<75.)and(KH7(800.,m5,Condition(function PR7))==0)))thenset GZ[272+O5]=trueset J4=UnitUseItem(it,KO7(it,OU[B5]))set GZ[272+O5]=J4endifendifendifelseif(i1=='EC45')thenif((GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(1000.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(AWE(it)))or(PO4))and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))thenset GZ[O5]=trueset J4=J8(O5,(IsUnitInRange(it,m5,250.))and(KZ7(it,852652,'A0J1',m5)))if((not J4)and(IsUnitInRange(it,m5,700.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>270+(25*GetUnitAbilityLevel(it,'A0J1'))))thenset C2E=kL(it,m5,200.)set J4=(C2E!=null)and(KG7(800.,C2E,Condition(function QH7))<=2)and(IssuePointOrderByIdLoc(it,852218,C2E))endifendifif((not J4)and(GetHeroLevel(it)>12)and(m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,300.))and(Kz(600.,b5)>1)and(KG7(600.,b5,Condition(function PA7))>0))thenset GZ[O5]=trueset J4=J8(O5,KZ7(it,852652,'A0J1',m5))endifendifif((not J4)and(m5!=null)and(J57(m5,it))and(not IC(O5))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,I2R(350+(200*GetUnitAbilityLevel(it,'A0LK'))))))thenset C2E=kL(it,m5,200.)set J4=(C2E!=null)and(KG7(800.,C2E,Condition(function QH7))<=2)and(IssuePointOrderByIdLoc(it,852218,C2E))endifelseif(i1=='E004')thencall SetPlayerAbilityAvailable(pl,'A04Q',(GetUnitLifePercent(it)<70.)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(120+(80*GetUnitAbilityLevel(it,'A025')))))call SetPlayerAbilityAvailable(pl,'A030',(GetHeroLevel(it)>10.)and(iy(it))and(KG7(800.,b5,Condition(function k8))>0)and(GetUnitState(it,UNIT_STATE_MANA)>225.))if((m5==null)and(G0[128+O5]))thenset m5=KD7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and((not IsUnitInRange(it,m5,550.))and(KZ7(it,852173,'AHfa',m5)))if((GetHeroLevel(it)>8)and(G0[128+O5])and(GetUnitAbilityLevel(it,'B076')==0))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))thenset m5=h4[144+O5]elseset m5=KD7(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!='HC92')and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(KH7(650.,m5,Condition(function P07))>0)))thenset h4[288+O5]=m5set J4=(KH7(800.,m5,Condition(function PR7))==0)and(IssueImmediateOrderById(it,852129))endifendifelseif(i1=='U000')thenif(GetUnitAbilityLevel(it,'B00K')==0)thencall SetPlayerAbilityAvailable(pl,'A1H5',(GetHeroLevel(it)>3)and(m5!=null))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(800.,b5,Condition(function k6))endifelseset J4=trueendifif((not J4)and(m5!=null)and(GetHeroLevel(it)>3))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_MANA))set J4=(UP>100.)and((R2I(GetUnitState(it,UNIT_STATE_MANA))>(220+(50*GetUnitAbilityLevel(it,'A09U'))))or((GetUnitState(m5,UNIT_STATE_LIFE)<200.)and(UP>200)))and(KZ7(it,OrderId("creepheal"),'A1H5',m5))if((not J4)and(GetUnitLifePercent(m5)<70.))thenset GZ[O5]=trueset J4=J8(O5,(KZ7(it,852555,'A0X7',m5))or(KZ7(it,OrderId("creepheal"),'A1H5',m5)))endifendifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>70.)and(G0[128+O5]))thenif(m5==null)thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))thenset m5=h4[144+O5]elseset m5=KD7(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<75.)and(not kD(m5))and(GetUnitTypeId(m5)!='HC92')and((not IsUnitVisible(it,GetOwningPlayer(m5)))or(not IsUnitInRange(it,m5,800.)))and(IsUnitInRange(it,m5,1500.))and(not KJ7(m5,OU[AV])))thenif(KH7(1000.,m5,Condition(function PR7))==0)thenset GZ[O5]=trueset h4[288+O5]=h4[O5]set J4=J8(O5,K37(it,852129,'A09U'))endifendifendifif((m5==null)and(GetUnitAbilityLevel(it,'B00K')==0)and(GetHeroLevel(it)>9)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>60.))thencall SetPlayerAbilityAvailable(pl,'A0X7',true)endifelseif(i1=='Udre')thenif(not VI7())thenif((Bz>hq[O5])and(not(GetFloatGameState(GAME_STATE_TIME_OF_DAY)==0.0)))thenset J4=IssueImmediateOrderById(it,852621)endifif((m5==null)and(G0[128+O5]))thenset m5=K3(900.,it,Condition(function k6))if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<GetUnitState(it,UNIT_STATE_LIFE)))thenset h4[O5]=m5endifendifset J4=((m5!=null)and((KZ7(it,852095,'A02H',m5))or((kP(GetUnitTypeId(m5)))and(KZ7(it,852585,'A08C',m5)))))elseset J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<65.)and(KZ7(it,852095,'A02H',m5))endifif((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=KF7(700.,b5,Condition(function KN))if(m5==null)thenset m5=KF7(500.,b5,Condition(function k6))endifset J4=((m5!=null)and(GetUnitManaPercent(m5)>20.)and(KZ7(it,852585,'A08C',m5)))or((m5!=null)and(GetUnitLifePercent(m5)<70.)and(VI7())and(Bz>hq[O5])and(IssueImmediateOrderById(it,852621)))endifendifelseif(i1=='UC01')thencall SetPlayerAbilityAvailable(pl,'A04A',(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenset m5=KD7(900.,b5,Condition(function k6))endifif(m5!=null)thenif((not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<50.)and(GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IC(O5))and(not IsUnitInRange(it,m5,400.))and(IsUnitInRange(it,m5,750.)))thenset C2E=kL(it,m5,200.)set J4=(C2E!=null)and((KG7(800.,C2E,Condition(function QH7))-KG7(800.,C2E,Condition(function PB7)))<=1)and(KG7(700.,C2E,Condition(function PR7))==0)and(IssuePointOrderByIdLoc(it,852525,C2E))endifif((not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset J4=(((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<AVE(it))or(Kz(400.,jv(m5))>1))and(KB7(it,852125,'A28R','A28S',m5)))endifif(not J4)thenset J4=(((GetUnitManaPercent(it)>60.)and(GetHeroLevel(it)>5))or(J57(m5,it)))and(KZ7(it,852527,'A0Q7',m5))endifendifif(not J4)thenset J4=((KG7(400.,b5,Condition(function k6))>0)or((hq[240+O5]>Bz)and(KG7(400.,b5,Condition(function KA))>1)))and(K37(it,852526,'A04A'))endifif((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(KG7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))thenset C2E=kk(it,800.,h8[O5])set J4=(C2E!=null)and(IssuePointOrderByIdLoc(it,852525,C2E))endifelseif(i1=='UC91')thenif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(((GetUnitLifePercent(m5)<60.)or(h4[O5]!=null)or(KG7(800.,b5,Condition(function PB7))>0))and(GetUnitAbilityLevel(m5,'B00T')==0)and(KZ7(it,852149,'A034',m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<40.)and((GetUnitState(it,UNIT_STATE_LIFE)>1800.)or(KG7(1000.,b5,Condition(function k6))<=2))and(not IsUnitInRange(it,m5,350.)))thenset GZ[O5]=trueset J4=J8(O5,K37(it,852100,'A05C'))endifcall SetPlayerAbilityAvailable(pl,'A29K',(GetHeroLevel(it)>13)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((not J4)and(m5!=null))thenset J4=((IsUnitInRange(it,m5,275.))and(K37(it,852164,'A29K')))endifif((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(1000.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B00T')==0)and(KZ7(it,852149,'A034',m5))endifendifelseif(i1=='UC42')thenset UP=GetHeroLevel(it)call SetPlayerAbilityAvailable(pl,'A10R',(GetUnitManaPercent(it)>40.)and(Bz>SL4[16+O5]))call SetPlayerAbilityAvailable(pl,'A1OP',(UP>10)and(GetUnitManaPercent(it)>55.))if((m5==null)and(G0[128+O5])and(UP>4))thenset m5=KD7(900.,b5,Condition(function k6))endifif((m5!=null)and(UP>4))thenset J4=((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(250+(250*AXE(it))))and(not IsUnitIllusion(m5))and(KB7(it,852583,'A0MU','A0A2',m5)))or((((GetHeroLevel(m5)==25)or(ModuloInteger(GetHeroLevel(m5),7-GetUnitAbilityLevel(it,'A094'))==0))or(GetUnitManaPercent(it)>60.)or(J57(m5,it)))and(KZ7(it,852231,'A094',m5)))if((not J4)and(GetUnitManaPercent(it)>60.))thenset GZ[O5]=trueset J4=J8(O5,K37(it,OrderId("fanofknives"),'A1OP'))endifendifif((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(1000.,it,Condition(function k6))set J4=(m5!=null)and(KB7(it,852583,'A0MU','A0A2',m5))endifendifif((not J4)and(IsUnitInRange(it,m5,200.)))thenset J4=(m5!=null)and IssueImmediateOrderById(it,852127)endifif((not J4)and Bz>SL4[16+O5])thenset m5=KD7(300.,jv(it),Condition(function PW7))set J4=(m5!=null)and(KZ7(it,852600,'A10R',m5))endifelseif(i1=='NC00')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))thenset m5=KF7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>4))or(J57(m5,it)))and(KZ7(it,852095,'AHtb',m5))if((not J4)and(GetHeroLevel(it)>10)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitCurrentOrder(m5)!=851973)and(KH7(600.,m5,Condition(function PB7))>1))thenset J4=KZ7(it,852095,'AHtb',m5)endifelseif((i1=='Eevi')or(i1=='Eevm'))thenif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)<50.)and(Bz>SL4[O5]))thenset bj_lastLoadedUnit=itset I04=nullset I_4=nullset DD7=GetUnitLifePercent(it)+20.set DE7=GetUnitLifePercent(it)+30.call KF7(700.,jv(it),Condition(function PQ7))if I04!=null thenset m5=I04elseset m5=I_4endifset J4=(m5!=null)and(KZ7(it,852189,'A07Q',m5))if J4 thenset h4[O5]=m5endifendifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(it)>75.)and(Bz>SL4[O5]))thenset m5=KD7(600.,b5,Condition(function P67))if((m5!=null)and(M[GetPlayerId(GetOwningPlayer(m5))]>O[GetPlayerId(GetOwningPlayer(m5))]+3))thenset J4=(KH7(800.,m5,Condition(function k6))>0)and(KZ7(it,852189,'A07Q',m5))endifendifset m5=h4[O5]if((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))thenif((not J4)and(i1=='Eevi')and(GetUnitLifePercent(m5)<70.))thenset J4=K37(it,852663,'A1RI')endifif((not J4)and((J57(m5,it))or(GZ[208+O5])or(GetUnitLifePercent(m5)<70. and GetUnitManaPercent(it)>70.)))thenset J4=KZ7(it,852089,'A27A',m5)endifendifelseif(i1=='Ekee')thenif(GetHeroLevel(it)>=6)thenset J4=(IsUnitInRange(it,h4[O5],400))or((KG7(400.,b5,Condition(function k6))>0)or((GetHeroLevel(it)>18)and(GetUnitManaPercent(it)>70.)and(KG7(400.,b5,Condition(function PM7))>2)))if not NF7(it,"AI|PulseNova")thenif(J4)thencall SetPlayerAbilityAvailable(pl,'A21G',true)call K37(it,852100,'A21F')call TriggerSleepAction(0.1)endifelseif(not J4)thencall K37(it,852100,'A21H')call TriggerSleepAction(0.1)endifendifcall TriggerSleepAction(0.1)set J4=falseendifset UP=GetHeroLevel(it)if(not J4)and(KG7(300.,b5,Condition(function k6))>0)thenif(K37(it,852526,'A20T'))thencall TriggerSleepAction(0.1)endifendifif((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(UP>3))thenset m5=KD7(1000.,b5,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(V98(m5))and(KZ7(it,852224,'A06W',m5)))endifif((not J4)and(m5!=null))thenset J4=(((UP>3)or(GetUnitLifePercent(m5)<60.))and(KZ7(it,852119,'A06V',m5)))endifif(not J4)and(m5==null)thenset m5=KD7(1000.,b5,Condition(function PM7))if(not J4)and(m5!=null)and(UP>8)and(GetUnitManaPercent(it)>60.)thenset J4=(KZ7(it,852119,'A06V',m5))endifif(not J4)and(m5!=null)and(UP>14)and(GetUnitManaPercent(it)>60.)and(KH7(150.,it,Condition(function PM7))>2)thenset J4=(KZ7(it,852224,'A06W',m5))endifif(not J4)and(m5!=null)and((UP>14)or((UP>10)and(eY[O5]>9)))and(GetUnitManaPercent(it)>40.)and(KH7(500.,it,Condition(function PM7))>2)thenset J4=(K37(it,852526,'A20T'))endifendifset bj_lastLoadedUnit=itif(not J4)and(h4[O5]!=null)and(eY[320+O5]>=0)and(not IsUnitInRange(it,m5,300))and((GetUnitLifePercent(it)>80)or(GetUnitLifePercent(it)>(GetUnitLifePercent(m5)+30)))and(GetUnitManaPercent(it)>20)and(h4[304+O5]==null)and(KH7(900,m5,Condition(function KI7))==0)thenset J4=IssuePointOrderById(it,852686,GetUnitX(m5),GetUnitY(m5))endifelseif(i1=='Ulic')thencall SetPlayerAbilityAvailable(pl,'A07F',(GetHeroLevel(it)>9)and((GetUnitManaPercent(it)>70.)or(m5!=null)or(KG7(900.,b5,Condition(function k6))>0)))if GetUnitManaPercent(it)>60. thencall SetPlayerAbilityAvailable(pl,'A08R',true)if IssueImmediateOrderById(it,852458)thencall TriggerSleepAction(0.1)endifelsecall SetPlayerAbilityAvailable(pl,'A08R',false)endifif((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>2))thenset m5=KD7(1000.,b5,Condition(function k6))endifif((m5!=null)and(GetHeroLevel(it)>2))thenif((GetHeroLevel(it)>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))thenset UP=KH7(550.,m5,Condition(function KA))if((UP>1)and(UP<6)and((UP<=(KH7(550.,m5,Condition(function k6))*2))or((J57(m5,it))and(GetUnitState(m5,UNIT_STATE_LIFE)<450.))))thenset GZ[O5]=trueset J4=J8(O5,KB7(it,852227,'A05T','A08H',m5))endifendifif(not J4)thenset J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<50.))and(KZ7(it,852226,'A07F',m5))endifendifif((not J4)and(GetUnitManaPercent(it)<75.))thenset m5=KD7(600.,b5,Condition(function KD))set J4=(m5!=null)and(KZ7(it,852066,'A053',m5))endifelseif(i1=='U006')thenif(m5==null)thenset m5=KD7(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and((GetUnitState(m5,UNIT_STATE_LIFE)<56.25*GetUnitAbilityLevel(it,'A0BH'))or(GZ[208+O5]))thenset J4=KZ7(it,852601,'A0BH',m5)endifif(not J4)and(GetUnitAbilityLevel(it,'B01E')>0)thenif(h4[O5]==null)thenset h4[O5]=m5endifif((GetUnitCurrentOrder(it)==851986)and(not G0[O5])and(hq[512+O5]>Bz)and(G0[128+O5])and(KG7(800.,b5,Condition(function KC))>1))thencall jW(it,851983,h8[O5])endifelseif(not J4)and((GetUnitAbilityLevel(it,'B01C')>0)and(GetUnitCurrentOrder(it)==851986)and((not IsUnitVisible(it,Y7[0]))or(not IsUnitVisible(it,Z7[0])))and(((KG7(800.,b5,Condition(function k8))>0)or(KG7(800.,b5,Condition(function KC))>0))))thencall IssueImmediateOrderById(it,851993)endifif(not J4)and(m5!=null)and((KG7(1500.,b5,Condition(function KR))==0)and(KG7(400.,b5,Condition(function k6))==0)and(J77(it,JH4)>1500)and(J77(it,K84)>1500)and(GetUnitState(it,UNIT_STATE_MANA)>250.))thenset J4=KA7(it,852224,'A0BG',b5)endifif((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,'B01E')==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenif(((m5==null)or(not IsUnitInRange(it,m5,400.)))and(G0[128+O5]))thenset m5=KD7(400.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(J77(it,m5)<300)and(K37(it,852164,'A0WQ'))endifendifif(not J4)and(h4[O5]==null)and GZ[O5]and((GetUnitState(it,UNIT_STATE_MANA)>300 and GetUnitManaPercent(it)>50))thenset DD7=GetUnitAbilityLevel(it,'A0BH')*75.set m5=KD7(600.,b5,Condition(function PZ7))set J4=(m5!=null)and(KZ7(it,852601,'A0BH',m5))endifelseif(i1=='UC18')thencall SetPlayerAbilityAvailable(pl,'A0X5',(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.)and(KG7(1200.,b5,Condition(function k6))==0))call SetPlayerAbilityAvailable(pl,'A02N',(GetHeroLevel(it)>12)and(GetUnitManaPercent(it)<70.)and(iy(it)))if(m5!=null)thenset GZ[O5]=trueset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))if((Bz>hq[O5])and(not IsUnitIllusion(m5))and(UP>200)and(UP<AYE(it)+100))thenset J4=J8(O5,(KZ7(it,852502,'A0MN',m5))or(KZ7(it,852555,'A0X5',m5))or((not ke(m5))and(KB7(it,852119,'A095','A09W',m5))))elseif((GetHeroLevel(it)>2)or(J57(m5,it)))thenset J4=(KZ7(it,852555,'A0X5',m5))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(KZ7(it,852502,'A0MN',m5)))endifelseif((GetUnitManaPercent(it)>50.)and(G0[128+O5])and(GetHeroLevel(it)>2))thenset m5=KD7(1000.,b5,Condition(function k6))set J4=(m5!=null)and(KZ7(it,852555,'A0X5',m5))endifif((not J4)and(GetHeroLevel(it)>10)and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>400.)and(iy(it))and(eY[O5]==1))thenset m5=KD7(700.,b5,Condition(function k9))set J4=(m5!=null)and(KZ7(it,852066,'A053',m5))endifif((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))if(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(KB7(it,852119,'A095','A09W',m5))endifendifendifelseif(i1=='EC57')thenset J4=GetUnitAbilityLevel(it,'B07T')>0if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(900.,b5,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))or(J57(m5,it)))and(KZ7(it,OrderId("volcano"),'A173',m5))endifif((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<70.)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(G0[128+O5]))thenset UP=Kz(600.,b5)if((UP>1)or((UP>0)and(KG7(800.,b5,Condition(function PB7))>0)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(pl,'A0A6',true)set J4=J8(O5,(K37(it,852594,'A013')))endifendifif((not J4)and(G0[128+O5])and(KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[16+O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,800.)))thenset h4[16+O5]=m5set J4=B4E(it,m5)endifif(not J4)and(h4[O5]!=null)thenset J4=KZ7(it,852504,'A0MS',m5)endifcall SetPlayerAbilityAvailable(pl,'A0MS',(not J4)and(((GetHeroLevel(it)>8)and(GetUnitManaPercent(it)>45.))or((GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>30.))))elseif(i1=='UC11')thenif(m5==null)thenset m5=KD7(800.,b5,Condition(function k6))endifcall SetPlayerAbilityAvailable(pl,'A02S',(GetHeroLevel(it)>15)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((G0[128+O5])and(not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<65. or J57(it,m5)or GZ[208+O5]or eY[320+O5]>=0)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.))and((not IC(O5))or(H07(it)>1600.))and(SL4[32+O5]>Bz))thenif(KJ7(it,OU[HW]))thenset J4=(((Bz>hq[O5])and(GetUnitState(it,UNIT_STATE_MANA)>175.+(GetUnitAbilityLevel(it,'A29L')*100)))or(eY[320+O5]>=1)or(J57(it,m5)))and(GetUnitState(it,UNIT_STATE_MANA)>400.)and(B4E(it,m5))endifif not J4 thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,'A29L')*100))or(J57(it,m5)))and(KZ7(it,852218,'A1RD',m5))endifendifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)and(G0[128+O5]))thenset m5=QJ7(800.,it)endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<30 or GZ[208+O5]))thenif(Kz(400.,jv(m5))>1 or GetUnitLifePercent(m5)<30)and(((not IsUnitInRange(it,m5,300.))and(B4E(it,m5)))or(IsUnitInRange(it,m5,300.)))thenif(not is(it))thencall I17(0.1)endifset J4=(K37(it,852164,'A29L'))endifendifendifif(not J4)and(IsUnitInRange(it,m5,200.))and(KG7(250.,b5,Condition(function k8))<=1)thenset DD7=W47(it,m5)set DE7=W47(it,h9[O5])set DD7=RAbsBJ(DD7-DE7)if DD7<15 thenset DD7=RAbsBJ(GetUnitFacing(it)-DE7)if DD7<15 thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>180.+(GetUnitAbilityLevel(it,'A29L')*100))or(J57(it,m5)))and(KZ7(it,852218,'A1RD',m5))endifendifendifif((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>60.))thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(600.,b5,Condition(function k6))endifif((m5!=null)and(IsUnitInRange(it,m5,600.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,'A02S',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,852125,GetUnitX(it)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+300.*Sin(UP*bj_DEGTORAD)))endifendifif((not J4)and(GetHeroLevel(it)>10)and(KG7(800.,b5,Condition(function k8))>0))thenset J4=(GetUnitAbilityLevel(it,'B00U')==0)and(GetUnitManaPercent(it)>65.)and(KZ7(it,852066,'A037',it))if((not J4)and(GetUnitAbilityLevel(it,'B00U')>0)and(GetUnitManaPercent(it)>75.))thenset m5=KD7(700.,b5,Condition(function PB7))set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(GetUnitAbilityLevel(m5,'B00U')==0)and(KZ7(it,852066,'A037',m5))endifendifelseif(i1=='UC60')thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(800.,b5,Condition(function k6))endifset UP=M_7(GetHandleId(it),"Level")if((m5!=null)and(IsUnitInRange(it,m5,860.))and GetUnitState(m5,UNIT_STATE_LIFE)<20+(60*UP))thenset J4=(IssueTargetOrderById(it,852248,m5))elseset J4=((IsUnitInRange(it,m5,860.))and(UP>GetUnitAbilityLevel(it,'A1NA'))and(GetUnitManaPercent(it)>35.)and(GetHeroLevel(it)>3)and(IssueTargetOrderById(it,852248,m5)))endifif((not J4)and(m5!=null)and(KJ7(it,OU[D24]))and(Bz>SL4[240+O5])and(V78(m5)==false)and(SG7(m5)==false))thenset J4=UnitUseItemTarget(it,KO7(it,OU[D24]),m5)endifif(not J4 and m5!=null)thenset J4=(((GetUnitLifePercent(m5)<50.)or(KG7(500.,b5,Condition(function PB7))>0))and((GetHeroLevel(it)>10)and(KZ7(it,852189,'A08X',m5))))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>SL4[O5]))thenif(NF7(it,"AIFamiliar1|Status")==false or NF7(it,"AIFamiliar2|Status")==false or(GetUnitAbilityLevel(it,'A2IG')!=0 and NF7(it,"AIFamiliar3|Status")==false))thencall SetPlayerAbilityAvailable(pl,'A1NE',true)set J4=IssueImmediateOrderById(it,852526)elseif(NF7(it,"AIFamiliar1|Stone")and NF7(it,"AIFamiliar2|Stone")and(GetUnitAbilityLevel(it,'A2IG')==0 or NF7(it,"AIFamiliar3|Stone")))thencall SetPlayerAbilityAvailable(pl,'A1NE',true)set J4=IssueImmediateOrderById(it,852526)elsecall SetPlayerAbilityAvailable(pl,'A1NE',false)endifendifelseif((i1=='U008')or(i1=='E015'))thencall SetPlayerAbilityAvailable(pl,'A0ZF',(GetHeroLevel(it)>15)and(GetUnitManaPercent(it)>70.))call SetPlayerAbilityAvailable(pl,'A03D',(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[128+O5]))thenif(i1=='E015')thenset m5=KD7(1000.,b5,Condition(function k6))elseif(Bz>hq[O5])thenset m5=KF7(600.,b5,Condition(function k6))endifendifif(m5!=null)thenset J4=(Bz>hq[O5])and(i1=='U008')and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<60.)or((GetUnitLifePercent(m5)<75.)and(KG7(2000.,b5,Condition(function PR7))==0)))and(K37(it,852180,'A093'))if((i1=='E015')or((not J4)and((GetHeroLevel(it)>4)or(GetUnitLifePercent(m5)<60.))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(250+(25*(GetUnitAbilityLevel(it,'A093')))))))thenset J4=(K37(it,OrderId("channel"),'A0ZF'))or(K37(it,852126,'A03D'))endifendifif((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(K37(it,852180,'A093'))endifendifelseif(i1=='U00A')thenset J4=(m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(KZ7(it,852231,'A055',m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(K97(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(IssueTargetOrderById(it,852600,m5))endifif((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[16+O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(K37(it,852123,'A03O'))endifendifif((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[16+O5]))thenset m5=KF7(500.,b5,Condition(function PR7))set J4=(m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(KH7(800.,m5,Condition(function KC))>2)and(K37(it,852123,'A03O'))endifelseif(i1=='Ewar')thenset J4=(m5!=null)and(((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.))or(K97(m5,it)))and(KZ7(it,OrderId("acidbomb"),'A0YM',m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(K97(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(IssueTargetOrderById(it,852600,m5))endifelseif(i1=='Udea')thenset J4=(m5!=null)and(GetHeroLevel(it)>5)and((GetUnitLifePercent(it)>75.)or((GetUnitLifePercent(it)-25.)>GetUnitLifePercent(m5)))and(IssueTargetOrderById(it,852662,m5))if(not J4)thenset m5=KD7(800.,b5,Condition(function P67))if(m5!=null)thenset J4=((KH7(800.,m5,Condition(function k6))>0)and(IssueTargetOrderById(it,852119,m5)))or((GetUnitLifePercent(it)>60.)and(IssueTargetOrderById(it,852662,m5)))endifif((not J4)and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.)and(KG7(600.,b5,Condition(function KA))>0))thenset J4=IssueTargetOrderById(it,852119,it)endifendifelseif(i1=='Hvsh')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset m5=KD7(800.,b5,Condition(function k6))endifif(m5!=null)thenif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,'B01X')==0)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(GetUnitState(m5,UNIT_STATE_LIFE)>300.))thenif(((IsUnitInRange(it,m5,500.))and(GetUnitLifePercent(m5)<60.))or((KH7(700.,m5,Condition(function PB7))>0)and(GetUnitLifePercent(m5)<80.))or((KH7(700.,m5,Condition(function P07))>0)and(KH7(700.,m5,Condition(function k8))<4)))thenset GZ[O5]=trueset J4=J8(O5,KZ7(it,852231,'A0LH',m5))endifelseset J4=(GetHeroLevel(it)>5)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>70.)and(KZ7(it,852668,'A0EC',it))endifelseif((GetHeroLevel(it)>5)and(GetUnitAbilityLevel(it,'B01X')==0)and(GetUnitManaPercent(it)>70.))thenset J4=(KG7(1200.,b5,Condition(function k6))==0)and(KG7(700.,b5,Condition(function KA))>0)and(KZ7(it,852668,'A0EC',it))elsecall SetPlayerAbilityAvailable(pl,'A0EC',false)endifelseif(i1=='Ubal')thenset J4=(ABE(it)>35.)and((m5!=null)or(KG7(1000.,b5,Condition(function k6))>0))and(K37(it,852600,'A0CT'))if(not J4)thenset m5=KD7(1500.,b5,Condition(function k6))if(m5!=null)thenset J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))set m5=nullendifendifif((not J4)and(G0[128+O5]))thenif(m5==null)thenset m5=KD7(700.,b5,Condition(function k6))endifif(m5!=null)thenif(KH7(900.,m5,Condition(function PR7))>0)thenif((K97(m5,it))or((GetHeroLevel(it)>4)and(IsUnitInRange(it,m5,250.))and(not IC(O5))and(GetUnitLifePercent(it)>75.)))thenset h4[288+O5]=m5set J4=IssueImmediateOrderById(it,852129)endifelseif((K97(m5,it))or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>50.)or(GetHeroLevel(it)>10.))and(KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7))<=1)))thenset h4[288+O5]=m5set J4=IssueImmediateOrderById(it,852129)endifendifendifendifelseif(i1=='Opgh')thenif((G0[128+O5])and(KJ7(it,OU[HW]))and(GetHeroLevel(it)>12)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifif(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and((UP<(150+(150*GetUnitAbilityLevel(it,'A0E2'))))or(UP<(150+(150*GetUnitAbilityLevel(it,'A1MR')))))and(UP>150)and(KB7(it,852119,'A0E2','A1MR',m5))if((not J4)and((GetHeroLevel(it)>3)or(J57(m5,it)))and(R2I(GetUnitState(it,UNIT_STATE_MANA))>(195+(40*GetUnitAbilityLevel(it,'A0E2')))))thenset J4=IssueTargetOrderById(it,852248,m5)endifendifif((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset J4=(GetUnitLifePercent(it)>70.)and(((UP>1)and(KG7(280.,b5,Condition(function k6))>1))or((UP<=2)and(KG7(280.,b5,Condition(function k6))>0)))and(IssueImmediateOrderById(it,852600))endifendifif((not J4)and(GetHeroLevel(it)>3))thenif(m5==null)thenset m5=K3(800.,it,Condition(function k6))endifset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(K97(m5,it)))and(IssueTargetOrderById(it,852248,m5))endifif((not J4)and(KG7(800.,b5,Condition(function P67))>0))thenset J4=(KG7(280.,b5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))endifelseif(i1=='U00K')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))thenset m5=KD7(1000.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitInRange(it,m5,200.))and(GetUnitLifePercent(m5)<50.)and(GetUnitCurrentOrder(it)==851983))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(R2I(GetUnitState(it,UNIT_STATE_MANA))>250+(75*GetUnitAbilityLevel(it,'A06R'))))thenif((Bz>hq[O5])and(Bz>hq[112+O5])and(Bz>hq[240+O5])and(KJ7(it,OU[HW]))and(IsUnitInRange(it,m5,900.))and(not IsUnitInRange(it,m5,300.)))thenset UP=KG7(1000.,b5,Condition(function k6))if((not IsUnitVisible(it,GetOwningPlayer(m5)))or((hq[416+O5]>Bz)and((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(800.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1))))thenset J4=(KG7(500.,b5,Condition(function k6))==0)and(IssueImmediateOrderById(it,852581))endifendifif(not J4)thenset J4=(Bz>hq[O5])and(IssueTargetOrderById(it,852218,m5))endifif((not J4)and((hq[O5]-Bz)>20.)and(GetUnitLifePercent(it)>70.)and(not IC(O5))and(GetUnitState(it,UNIT_STATE_MANA)>500.)and(IsUnitInRange(it,m5,500.))and(KG7(500.,b5,Condition(function PB7))>0))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))set J4=IssuePointOrderById(it,852218,GetUnitX(m5)+100.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+100.*Sin(UP*bj_DEGTORAD))endifendifif(not J4)and(Bz>SL4[32+O5])and(GetUnitAbilityLevel(it,'A0H0')>1)and(G0[256+O5])and(h4[304+O5]==null)and(KH7(GetUnitAbilityLevel(it,'A0H0')*50+100,it,Condition(function PM7))>4)thenset J4=IssueImmediateOrderById(it,852503)endifelseif(i1=='Nfir')thenset J4=(GetUnitAbilityLevel(it,'B07T')==0)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>3)and((A6E(it,200.,852164,'A0EY'))or(A6E(it,450.,852588,'A0FH'))or(A6E(it,700.,852599,'A0F0')))if((not G0[128+O5])or(J4))thenelseif((KJ7(it,OU[B5]))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,'A0CQ'))>(GetUnitAbilityLevel(it,'A0BR')*4)))thenif(m5==null)thenset m5=KD7(1200.,b5,Condition(function KK))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitTypeId(m5)!='HC92')and(KH7(800.,m5,Condition(function PR7))==0)and((KH7(600.,m5,Condition(function P07))>0)or(not IsUnitInRange(it,m5,800.))or(not IsUnitVisible(it,Y7[0]))or(not IsUnitVisible(it,Z7[0]))))thenset GZ[272+O5]=trueset J4=UnitUseItem(it,KO7(it,OU[B5]))set GZ[272+O5]=J4endifelseif((KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and(not IC(O5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(GetUnitLifePercent(it)>65.)and(GetUnitManaPercent(it)>50.)and((GetUnitAbilityLevel(it,'A0CQ'))>(GetUnitAbilityLevel(it,'A0BR')*4)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifif((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5])and(GetRandomInt(1,3)==1))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(KG7(1000.,b5,Condition(function PB7))>0))thenset UP=KG7(650.,b5,Condition(function k6))set J4=((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(K37(it,852273,'A29J'))endifendifelseif(i1=='O00J')thenif((GetUnitAbilityLevel(it,'B01Z')>0))thenset J4=trueendifif((m5!=null)and(not J4)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(J57(m5,it)or((GetUnitLifePercent(m5)<60.)and(not IsUnitInRange(it,m5,600.))))and(((KH7(900.,m5,Condition(function QH7))<=2)and(KJ7(it,OU[V1]))or(KJ7(it,OU[DM4])))or((KH7(900.,m5,Condition(function QH7))<2))))thenset J4=((not ke(m5))and(KG7(700.,GetUnitLoc(m5),Condition(function PR7))==0)and(IssueTargetOrderById(it,852600,m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,SL4[64+O5])))thenset J4=(IssueTargetOrderById(it,852248,m5))endifif((not J4)and KJ7(it,OU[DC4])and(NF7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,110.)))thenset J4=(m5!=null)and(UnitUseItem(it,KO7(it,OU[DC4])))elseif((not J4)and KJ7(it,OU[DB4])and(NF7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,KO7(it,OU[DB4])))endifif((not J4)and(GetHeroLevel(it)>10)and(hq[O5]>Bz))thenif((m5==null)or(IsUnitInRange(it,m5,500.)))thenset m5=K3(1500.,it,Condition(function k6))endifset J4=(m5!=null)and((GetUnitLifePercent(m5)<60.)and((GetUnitState(m5,UNIT_STATE_LIFE)+300.)<GetUnitState(it,UNIT_STATE_LIFE)))and(not IsUnitInRange(it,m5,600.))and(KH7(700.,m5,Condition(function QH7))<=2)and(not OA7(m5))and(KG7(700.,GetUnitLoc(m5),Condition(function PR7))==0)and(IssueTargetOrderById(it,852600,m5))endifif((not J4)and(not Id(O5))and(GetHeroLevel(it)>10)and(hq[O5]>Bz))thenset m5=KF7(1300.,b5,Condition(function P67))if(m5!=null)thenset m5=KF7(700.,jv(m5),Condition(function k6))set J4=(m5!=null)and(not IsUnitInRange(it,m5,300.))and(IssueTargetOrderById(it,852600,m5))endifendifif(not J4 and Bz>SL4[O5])thenset m5=KF7(SL4[64+O5],b5,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<40.)and(IssueTargetOrderById(it,852248,m5))endifif(not J4 and(GetUnitAbilityLevel(it,'A1D8')>0))thenset m5=KF7(SL4[64+O5],b5,Condition(function k6))set J4=(m5!=null)and(GetRandomInt(1,2)==1)and(((KH7(500.,m5,Condition(function QH7))<=2)and(KJ7(it,OU[V1]))or(KJ7(it,OU[DM4])))or((KH7(500.,m5,Condition(function QH7))<2)))and(IssueTargetOrderById(it,852248,m5))endifif(not J4)and(GetHeroLevel(it)>10)thenset m5=KF7(2000.,b5,Condition(function k6))set J4=(m5!=null)and(Bz>SL4[16+O5])and(GetUnitLifePercent(it)>90.)and(not OA7(m5))and(not IsUnitInRange(it,m5,700.))and(((KH7(900.,m5,Condition(function QH7))<=1)and(KJ7(it,OU[V1]))or(KJ7(it,OU[DM4])))or((KH7(900.,m5,Condition(function QH7))<2)))and(KH7(750.,m5,Condition(function PR7))==0)and(IssueTargetOrderById(it,852600,m5))endifelseif(i1=='U00F')thenif((GetUnitAbilityLevel(it,'B02T')>0)and(KG7(275.,b5,Condition(function QH7))==0))thenif((m5==null)or(not IsUnitInRange(it,m5,500.)))thenset m5=KF7(500.,b5,Condition(function k6))endifif((m5!=null)and(G0[128+O5]))thencall IssueTargetOrderById(it,851983,m5)elsecall SetPlayerAbilityAvailable(pl,'A06K',true)call IssueImmediateOrderById(it,852178)endifelseif(GetUnitAbilityLevel(it,'B02T')==0)thenif(KG7(225.,b5,Condition(function QH7))==0)thencall SetPlayerAbilityAvailable(pl,'A06K',false)elsecall SetPlayerAbilityAvailable(pl,'A06K',true)call IssueImmediateOrderById(it,852177)endifendifif(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,225))and(GetUnitLifePercent(m5)<70)thenset J4=KB7(it,852480,'A0FL','A1CX',m5)endifif(not J4)and(h4[O5]!=null)and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<30)thenset J4=A1E(it,m5)endifif((not J4)and(GetHeroLevel(it)>5)and(GetUnitState(it,UNIT_STATE_MANA)>=150.)and(Bz>hq[16+O5]))thenset UP=200+(200*GetUnitAbilityLevel(it,'A06I'))if((m5==null)or(IsUnitIllusion(m5))or(IsUnitInRange(it,m5,200.))or(not IsUnitInRange(it,m5,UP)))thenset m5=KD7(UP,b5,Condition(function QH7))endifset J4=(m5!=null)and(not IsUnitInRange(it,m5,200.))and((GetUnitLifePercent(m5)<80.)or(KG7(500.,b5,Condition(function PB7))>0)or(Bz>hq[O5]))and(A1E(it,m5))if((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(KG7(400.,jv(it),Condition(function k8))==0))thenset UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-15elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+15endifset J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1=='U00E')thencall SetPlayerAbilityAvailable(pl,'A05V',(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.)or(KG7(400.,b5,Condition(function k6))>0))if((m5!=null)and(not ke(m5))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>200.))thenset UP=GetUnitAbilityLevel(it,'A067')if(UP==0)thenset UP=GetUnitAbilityLevel(it,'A08P')+1endifset J4=(GetUnitState(m5,UNIT_STATE_LIFE)<((0.20+(I2R(UP)*0.20))*(GetUnitState(m5,UNIT_STATE_MAX_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))))and(KB7(it,852095,'A067','A08P',m5))endifif((not J4)and(GetHeroLevel(it)>6)and(GetUnitLifePercent(it)<85.)and(GetUnitManaPercent(it)>35.))thenset J4=((KG7(400.,b5,Condition(function KA))>0)or(KG7(400.,b5,Condition(function KC))>0))and(IssueImmediateOrderById(it,852526))endifif((not J4)and(hq[240+O5]>Bz))thenset J4=(KG7(400.,b5,Condition(function KA))>1)and(K37(it,852526,'A05V'))endifif((not J4)and(GetUnitManaPercent(it)>35.)and(GetUnitState(it,UNIT_STATE_MANA)>250.))thenset m5=KD7(400.,b5,Condition(function PA7))set J4=(m5!=null)and(((GetUnitLevel(it)>4)and(GetUnitLifePercent(m5)<80.))or(GetUnitLifePercent(m5)<55.))and(K37(it,852526,'A05V'))endifelseif(i1=='Oshd')thenif(GetHeroLevel(it)>2)thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(900.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)>60.))thenset J4=((KH7(600.,m5,Condition(function P07))>0)or((KH7(800.,m5,Condition(function PA7))==0)and(KH7(800.,m5,Condition(function Ko))==0)and(GetUnitManaPercent(it)>65.)))and(KZ7(it,852227,'A04Y',m5))endifif((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(it,m5,600.)))thenset J4=(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5])and(KG7(600.,b5,Condition(function PB7))>0)and(KZ7(it,852480,'A02Q',m5))endifif((not J4)and(GetHeroLevel(it)>11)and(m5!=null)and(kq(GetUnitTypeId(m5))))thenset J4=KZ7(it,852066,'A04V',m5)endifif(GetUnitLifePercent(it)<85.)thenif((m5==null)and(GetUnitManaPercent(it)>70.)and(KG7(1200.,b5,Condition(function k6))==0))thenset m5=KD7(600.,b5,Condition(function KA))endifset J4=(m5!=null)and(KZ7(it,852119,'A0GK',m5))endifendifelseif(i1=='Ofar')thenif((G0[128+O5])and(KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and((GetUnitLifePercent(m5)<70.)or(GetUnitAbilityLevel(m5,'BNab')>0)or(Bz>hq[O5]))and(not IsUnitInRange(it,m5,300.))and(IsUnitInRange(it,m5,700.)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifif(GetHeroLevel(it)>4)thenif((m5==null)and(G0[128+O5])and(GetUnitManaPercent(it)>40.))thenset m5=KD7(800.,b5,Condition(function k6))endifelsecall SetPlayerAbilityAvailable(pl,'A046',false)endifif((not J4)and(m5!=null)and((GetHeroLevel(it)>5)or(J_7(m5))))thenset J4=((GetUnitManaPercent(it)>30.)and(KZ7(it,852662,'A046',m5)))or((GetUnitLifePercent(m5)<50.)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(K37(it,852588,'A29I')))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset J4=(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(KG7(600.,b5,Condition(function PA7))>0)and(Kz(600.,b5)>1)and(K37(it,852588,'A29I'))if(not J4)thenset m5=KF7(800.,b5,Condition(function P67))set J4=((m5!=null)and(KH7(600.,it,Condition(function k6))>0)and(K37(it,852588,'A29I')))endifendifif((not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.))and(IsUnitInRange(it,m5,300)))thenset J4=((GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A29I',FI7)+60)or(Bz+10<SL4[O5]))and(IssueImmediateOrderById(it,852164))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A29I',FI7)+150))and(GetUnitAbilityLevel(it,'A226')>1)and(KH7(400.,it,Condition(function PM7))>3))thenset J4=(IssueImmediateOrderById(it,852164))endifelseif(i1=='H00H')thenif(h4[16+O5]!=null)thenif((J07(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],'B01N')>0))thenset J4=(A5E(it,h4[16+O5]))or(IssueTargetOrderById(it,852089,h4[16+O5]))call BNE(it,h4[16+O5])elseset h4[16+O5]=nullendifelseif((m5!=null)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,500.))and((GetHeroLevel(it)>4)))thenset J4=(GetUnitAbilityLevel(m5,'B01N')==0)and(GetUnitState(it,UNIT_STATE_MANA)>250.)and(Bz>hq[O5])and(KZ7(it,852486,'A0CE',m5))endifif((not J4)and(GetHeroLevel(it)>11)and(Bz>hq[16+O5])and(KG7(I2R(270+(250*GetUnitAbilityLevel(it,'A09D'))),b5,Condition(function k6))>0))thenset GZ[O5]=trueset J4=J8(O5,K37(it,852594,'A09D'))endifif((not J4)and(GetHeroLevel(it)>5)and((m5!=null)or(GetUnitLifePercent(it)<70.)))thenif((m5==null)or(IsUnitIllusion(m5)))thenif(KG7(800.,b5,Condition(function k6))==0)thenset m5=KD7(500.,b5,Condition(function KA))set J4=(m5!=null)and(GetUnitLifePercent(m5)>80.)and(KB7(it,852487,'A0CC','A02Z',m5))endifelseif((IsUnitInRange(it,m5,400.))and((GetUnitLifePercent(m5)<50.)or(GetUnitAbilityLevel(m5,'B01N')>0)))thenset J4=KB7(it,852487,'A0CC','A02Z',m5)endifif((not J4)and(iy(it)))thencall SetPlayerAbilityAvailable(pl,'A0CC',true)call SetPlayerAbilityAvailable(pl,'A02Z',true)endifelsecall SetPlayerAbilityAvailable(pl,'A0CC',false)call SetPlayerAbilityAvailable(pl,'A02Z',false)endifelseif(i1=='UC76')thencall SetPlayerAbilityAvailable(pl,kT(it),(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>60.)or(m5!=null)))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(1000.,b5,Condition(function k6))endifif((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(J57(m5,it))))thenset J4=KZ7(it,852218,kT(it),m5)endifif((not J4)and(GetHeroLevel(it)>5)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))thenset J4=(Kz(500.,b5)>1)and(hq[416+O5]>Bz)and(IssueImmediateOrderById(it,852556))if((not J4)and(m5!=null)and(KJ7(it,OU[HW]))and(G0[128+O5])and(GetHeroLevel(it)>13)and(GetUnitLifePercent(it)>70.)and(GetUnitManaPercent(it)>30.))thenset h4[16+O5]=m5set J4=B4E(it,m5)endifendifelseif(i1=='E01A')thenif(GetUnitManaPercent(it)<50.)thenif(GetUnitAbilityLevel(it,'B06J')>0)thencall IssueImmediateOrderById(it,852178)endifcall SetPlayerAbilityAvailable(pl,'A0NE',false)elseif((GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))thencall SetPlayerAbilityAvailable(pl,'A0NE',true)if((GetUnitAbilityLevel(it,'B06J')==0)and(hG[O5]>14)and(not W and not RJ4))thencall IssueImmediateOrderById(it,852177)endifendifcall SetPlayerAbilityAvailable(pl,'A0NM',(m5==null)and(GetHeroLevel(it)>7)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))if(m5!=null)thenset J4=((GetHeroLevel(it)>4)or(J57(m5,it)))and((((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,200.)))and(not IsUnitIllusion(m5))and(KZ7(it,852089,'A0NO',m5)))or((GetUnitLifePercent(m5)<70.)and(KZ7(it,852119,'A0NM',m5))))if((not J4)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not kr(it)))thenset UP=Kz(700.,jv(m5))if((UP>2)or((UP>1)and(KG7(700.,b5,Condition(function PA7))>0)))thenset J4=((KG7(700.,b5,Condition(function PA7))>0)and(KZ7(it,852119,'A0NM',m5)))or(KB7(it,852597,'A0NT','A0NX',m5))endifendifendifelseif(i1=='U00P')thenif((m5!=null)and(GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))thenset UP=Kz(700.,jv(m5))if((UP>2)or((UP>1)and(KG7(730.,b5,Condition(function PB7))>0)))thenset J4=KB7(it,852089,'A0OK','A1VW',m5)endifendifelseif(i1=='E01C')thencall SetPlayerAbilityAvailable(pl,'A06P',GZ[O5])set m5=KD7(600.,b5,Condition(function P67))if(m5==null)thenset m5=KD7(500.,b5,Condition(function PA7))endifset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(KG7(900.,b5,Condition(function k6))>0)and(IssueTargetOrderById(it,852248,m5))set m5=h4[O5]if((not J4)and(m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(GetUnitLifePercent(it)>70.))thenset m5=KD7(800.,b5,Condition(function k6))endifif(not J4)thenset J4=((GetUnitLifePercent(it)<65.)and(IssueTargetOrderById(it,852248,it)))or((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))or(J57(m5,it)))and(IssueTargetOrderById(it,852248,m5)))endifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))thenset UP=Kz(700.,jv(m5))if((UP>2)or(GetUnitLifePercent(m5)<50.)or((UP>1)and(KH7(700.,m5,Condition(function PB7))>0)))thenset GZ[O5]=trueset J4=J8(O5,KZ7(it,852224,'S008',m5))endifif((not J4)and(J57(m5,it))and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>60.)and(KH7(700.,m5,Condition(function PB7))>0))thenif((not IsUnitInRange(it,m5,250.))and(KJ7(it,OU[HW]))and(G0[128+O5])and(Bz>hq[16+O5]))thenset J4=B4E(it,m5)endifif(not J4)thenset GZ[O5]=trueset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(it),GetUnitX(h8[O5])-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,'A06P',true)set J4=J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))endifendifendifelseif(i1=='E01B')thencall SetPlayerAbilityAvailable(pl,'A0HW',(GetHeroLevel(it)>3)or((m5!=null)and(J57(m5,it))))set J4=(m5!=null)and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and(IssueTargetOrderById(it,852662,m5))if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function k7))set J4=(m5!=null)and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<50+(15*GetHeroLevel(it)))and(IssueImmediateOrderById(it,852490))endifif((not J4)and(Bz<=hq[240+O5])and((hq[240+O5]-Bz)<2.5)and(not IC(O5))and(not Id(O5)))thenset m5=KF7(2500.,b5,Condition(function k7))set J4=(m5!=null)and(K97(m5,it))and(not IsUnitInRange(m5,it,800.))and((KH7(800.,m5,Condition(function k6))-KH7(800.,m5,Condition(function PB7))<=1))and(KH7(1000.,m5,Condition(function PR7))==0)and(IssueTargetOrderById(it,852185,m5))endifelseif((i1=='H00I')or(i1=='H00J'))thenif(i1=='H00J')thenset J4=((not IsUnitInRange(it,G7[O5],3000.))and(IssueTargetOrderById(it,852553,G7[O5])))or(((eY[O5]==2)or(G0[16+O5]))and(jW(it,851986,h9[O5])))if((not J4)and(kA(it,G7[O5],800.)))thencall jW(it,851986,h9[O5])endifset UP=1elseset UP=0endifif(not J4)and(h4[O5]!=null)and(not V98(m5))thenset J4=BDE(it,m5)endifif(not J4)and(h4[O5]!=null)and(V98(m5))and(IsUnitInRange(it,m5,300))thenset J4=IssuePointOrderByIdLoc(it,852553,jv(m5))endifif((not J4)and(GetHeroLevel(it)>8)and(m5!=null)and(GetUnitAbilityLevel(m5,'B078')==0))thenif((Kz(700.,jv(m5))>1)or(KH7(500.,m5,Condition(function PB7))>UP))thenset J4=BDE(it,m5)endifendifif((not J4)and(GetHeroLevel(it)>2)and(KG7(800.,b5,Condition(function P67))>0))thenset m5=KD7(800.,b5,Condition(function k6))set J4=(m5!=null)and(BDE(it,m5))endifif(not J4)and(i1=='H00I')and(GetUnitManaPercent(it)>70)and(KG7(300.,jv(it),Condition(function PM7))>2)thenset J4=IssuePointOrderByIdLoc(it,852553,jv(m5))endifelseif(i1=='N01W')thenset J4=((GetUnitLifePercent(it)<80.)and(IssueTargetOrderById(it,852229,it)))or((m5!=null)and(GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and(KZ7(it,852095,'A0NQ',m5)))if((not J4)and(GetHeroLevel(it)>3))thenset m5=KD7(800.,b5,Condition(function P67))if(m5==null)thenset m5=KD7(600.,b5,Condition(function PA7))endifif((m5!=null)and(not IsUnitIllusion(m5)))thenset UP=R2I(GetUnitLifePercent(m5))if((UP<50)and(GetHeroLevel(it)>10)and(Bz>hq[O5]))thenset J4=(KH7(800.,m5,Condition(function k6))>0)and((IssueTargetOrderById(it,852536,m5))or(IssueTargetOrderById(it,852229,m5)))elseif(UP<70)thenset J4=(m5!=null)and(IssueTargetOrderById(it,852229,m5))endifelseif((GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>75.))thenset m5=KD7(600.,b5,Condition(function Kd))set J4=(m5!=null)and(KH7(300.,m5,Condition(function k8))>1)and(IssueTargetOrderById(it,852229,m5))endifendifelseif(i1=='N00R')thencall SetPlayerAbilityAvailable(pl,'A26O',(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>55.))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenset m5=KD7(700.,b5,Condition(function k6))endifif(m5!=null)thenset J4=(((GetUnitLifePercent(m5)<50.)or(IsUnitInRange(it,m5,250.)))and(KZ7(it,852488,'A0RA',m5)))or((KH7(300.,it,Condition(function YL7))>1)and(K37(it,852526,'A288')))if((not J4)and((GetUnitCurrentOrder(m5)==851973)or(IsUnitInRange(it,m5,300.))or(GetUnitLifePercent(m5)<50.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,'A26O',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,852238,GetUnitX(m5)+150.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(UP*bj_DEGTORAD)))endifendifif(not J4)thenset m5=KF7(700.,b5,Condition(function P67))set J4=(m5!=null)and(KH7(400.,m5,Condition(function k6))>0)and(KZ7(it,852488,'A0RA',m5))endifif((not J4)and(GetHeroLevel(it)>9)and((eY[O5]==3)or(eY[O5]==4)or(GetUnitManaPercent(it)>60.)))thenset m5=KF7(700.,b5,Condition(function k8))set J4=(m5!=null)and(KH7(300.,m5,Condition(function k8))>2)and(KH7(400.,it,Condition(function YL7))>2)and(K37(it,852526,'A288'))endifif((not J4)and(is(it))and(GetHeroLevel(it)>9))thenset UP=R2I(J77(it,K67(it)))if((UP>2000)and(UP<3500)and(eY[O5]==1)and(GetUnitAbilityLevel(it,'A0R0')>1))thenif(h8[16+O5]==h7[14])thenset J4=ATE(0)elseif(h8[16+O5]==h7[35])thenset J4=ATE(1)elseif(h8[16+O5]==h7[55])thenset J4=ATE(2)endifelseif(((eY[O5]==3)or(eY[O5]==4))and(UP>5000)and(KG7(1200.,b5,Condition(function k6))==0))thenset J4=ATE(3)endifendifelseif((i1=='H00R')or(i1=='H07I'))thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenset m5=KF7(700.,b5,Condition(function k6))endifif((h4[O5]!=null)or J57(it,m5))and(IsUnitInRange(it,m5,300.))thenset J4=(Bz>SL4[O5])and(K37(it,852180,'A15J'))endifif(not J4)and(Bz>SL4[48+O5])and((GZ[208+O5])or(GetUnitState(it,UNIT_STATE_MANA)>300.)or(h4[O5]!=null))thenset I04=itset bj_forLoopAIndex=KG7(25+200+200*GetUnitAbilityLevel(it,'A15V'),b5,Condition(function YM7))if((bj_forLoopAIndex>4)or(bj_forLoopAIndex>3 and h4[O5]!=null))thenset J4=KA7(it,852662,'A15V',b5)endifendifif(not J4)and(Bz>SL4[32+O5])thenset I04=itset UP=KG7(1000.,b5,Condition(function ny))if((not J4)and(UP>=4)and(h4[O5]!=null)and(GetUnitLifePercent(it)>50.))thenset m5=h4[O5]set J4=(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(J57(m5,it)))and(IssueTargetOrderById(it,852669,m5))endifif((not J4)and(UP>=4)and(GetUnitManaPercent(it)>40.))thenset m5=KD7(800.,b5,Condition(function P67))if(m5==null)thenset m5=KD7(600.,b5,Condition(function PA7))endifset J4=(m5!=null)and(((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.))or(J_7(m5)))and(IssueTargetOrderById(it,852669,m5))endifif(not J4)thenset J4=(UP>=3)and(GetUnitLifePercent(it)<75.)and(IssueTargetOrderById(it,852669,it))endifendifif(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>400)or J_7(m5))and(GetUnitState(it,UNIT_STATE_MANA)>200)thenset J4=(Bz>SL4[16+O5])and(KZ7(it,852089,'A15S',h4[O5]))endifelseif(i1=='H06S')thenif(not J4)and(GetUnitLevel(it)>5)and(Bz>SL4[O5])and(h4[O5]!=null)thenif(not J4)and(UD7(it,h4[O5],650.,0.5,1300.)!=null)thenif((J57(it,h4[O5])or GetUnitLifePercent(h4[O5])<50.)and(J87(GetUnitX(it),GetUnitY(it),GetLocationX(FD7),GetLocationY(FD7))>600.))thenset J4=KA7(it,852662,'A11K',FD7)endifendifif(not J4)thenset m5=QV7(it)if(m5!=null)and(UD7(it,m5,650.,0.5,1300.)!=null)and(J87(GetUnitX(it),GetUnitY(it),GetLocationX(FD7),GetLocationY(FD7))>600.)thenset J4=KA7(it,852662,'A11K',FD7)endifendifif(not J4)thenset m5=h4[O5]if(m5==null)thenset m5=QK7(1500.,it)endifif(m5!=null)and(GZ[208+O5]or(GetUnitLifePercent(it)<50.)or((GetUnitLifePercent(m5)<50)and(UD7(it,m5,650.,0.5,1300.)!=null)and(J87(GetUnitX(it),GetUnitY(it),GetLocationX(FD7),GetLocationY(FD7))>600.)))thenset J4=KA7(it,852662,'A11K',jv(m5))if J4 thenset h4[O5]=m5endifendifendifendifset m5=h4[O5]if m5==null thenset m5=QK7(1300.,it)endifif(not J4)and(not IsUnitIllusion(m5))and(Bz>SL4[32+O5])and((Bz>SL4[16+O5])or(GetUnitAbilityLevel(it,'A11N')<=1)or(GetUnitState(it,UNIT_STATE_MANA)<=120.))and((h4[O5]!=null and GetUnitLifePercent(h4[O5])<50.)or((m5!=null)and(J_7(m5))))thenset J4=IssueTargetOrderById(it,852581,m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(Bz>SL4[16+O5])and(SL4[32+O5]>Bz+2. or(GetUnitAbilityLevel(it,'A136')>1 and h4[O5]==null)or(h4[O5]!=null and GetUnitLifePercent(h4[O5])>80.)or(GetUnitAbilityLevel(it,'A11N')<=1))and(m5!=null)and((h4[O5]!=null)or(J57(m5,it))or((GetUnitManaPercent(it)>50.)and(GetUnitLifePercent(m5)<70. or GetUnitState(it,UNIT_STATE_MANA)>400.)))thenif UG7(it,m5,2.,1500.)!=null thenset J4=KA7(it,852089,'A136',FD7)set h4[16+O5]=m5endifendifelseif(i1=='H00N')thencall SetPlayerAbilityAvailable(pl,'A0QE',(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>70.)and(KG7(700.,b5,Condition(function k6))==0))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenset m5=KF7(700.,b5,Condition(function k6))endifif((m5!=null)and((GetUnitLifePercent(m5)<60.)or((GetHeroLevel(it)>4)and((GetUnitManaPercent(it)>60.)or(KH7(600.,m5,Condition(function PA7))>0)))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,'A0QE',true)set J4=IssuePointOrderById(it,852089,GetUnitX(m5)+(50.+100.*GetUnitAbilityLevel(it,'A0QE'))*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+(50.+100.*GetUnitAbilityLevel(it,'A0QE'))*Sin(UP*bj_DEGTORAD))endifif((not J4)and(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>50.)and(GetRandomInt(1,4)==1))thenset m5=KD7(700.,b5,Condition(function Kd))set J4=(m5!=null)and(GetUnitLifePercent(m5)>65.)and(IsUnitType(m5,UNIT_TYPE_MELEE_ATTACKER))and(KH7(250.,m5,Condition(function k8))>2)and(IssueTargetOrderById(it,852095,m5))endifif(not J4)thenset m5=KF7(700.,b5,Condition(function P67))set J4=(m5!=null)and(KH7(250.,m5,Condition(function k6))>0)and(KZ7(it,852101,'A0R7',m5))endifif(not J4)thenset m5=KF7(700.,b5,Condition(function k7))if(m5!=null)thenset m5=KF7(700.,jv(m5),Condition(function PA7))set J4=((m5!=null)and(IsUnitAlly(m5,GetOwningPlayer(it)))and(KZ7(it,852101,'A0R7',m5)))or(KZ7(it,852101,'A0R7',it))endifendifif((not J4)and(GetHeroLevel(it)>14.)and(Bz>hq[O5])and(hq[416+O5]>Bz))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=KF7(1000.,b5,Condition(function k7))if(m5!=null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))elseset m5=KF7(1000.,b5,Condition(function k6))if(m5!=null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[16+O5])-GetUnitY(m5),GetUnitX(h9[16+O5])-GetUnitX(m5)))set J4=IssuePointOrderById(it,852190,GetUnitX(m5)+300*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300*Sin(UP*bj_DEGTORAD))endifendifendifendifelseif(i1=='H008')thencall SetPlayerAbilityAvailable(pl,'A0GP',(GetHeroLevel(it)>10)and((GetUnitManaPercent(it)>70.)or(m5!=null)))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenset m5=KF7(700.,b5,Condition(function k6))endifset J4=(m5!=null)and((((GetUnitLifePercent(m5)<60.)or((GetUnitAbilityLevel(m5,'B02U')==0)and(hq[416+O5]>Bz)))and(IssueTargetOrderById(it,852600,m5)))or((IsUnitInRange(it,m5,600.))and((GetHeroLevel(it)>6)or(J57(m5,it)))and(K37(it,852526,'A0GP'))))elseif(i1=='E005')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(600.,b5,Condition(function k6))if((m5==null)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.)and(KJ7(it,OU[HW])))thenset m5=KD7(1200.,b5,Condition(function k6))endifendifif(m5!=null)thenif((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(G0[128+O5]))thenif(IsUnitInRange(m5,it,500.))thenset UP=KG7(700.,b5,Condition(function k8))-KG7(700.,b5,Condition(function k6))set J4=(UP<2)and(GetUnitAbilityLevel(m5,'B014')==0)and(IssueImmediateOrderById(it,852600))if J4 thencall TriggerSleepAction(0)call KZ7(it,852231,'A042',m5)endifelseif((KJ7(it,OU[HW]))and(G0[128+O5])and(IsUnitInRange(m5,it,1000.))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>30.))thenset UP=KH7(700.,m5,Condition(function k8))-KH7(700.,m5,Condition(function k6))set h4[16+O5]=m5set J4=(UP<2)and(GetUnitAbilityLevel(m5,'B014')==0)and(B4E(it,m5))endifendifif((not J4)and(J57(m5,it)))thenset J4=(KZ7(it,852231,'A042',m5))endifif((not J4)and(GetHeroLevel(it)>20))thenset J4=(GetUnitState(it,UNIT_STATE_MANA)>450.)and(KZ7(it,852231,'A042',m5))endifendifelseif(i1=='Npbm')thenif((G0[128+O5])and(KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>2))thenset J4=((J57(m5,it))and(KZ7(it,852585,'Acdh',m5)))or((IsUnitInRange(it,m5,200.))and(K37(it,852096,'A06M')))endifcall SetPlayerAbilityAvailable(pl,'A06M',(GetHeroLevel(it)>12)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=KF7(800.,b5,Condition(function k6))if(m5!=null)thenset J4=((kq(GetUnitTypeId(m5)))and(KZ7(it,852585,'Acdh',m5)))or((IsUnitInRange(it,m5,200.))and(K37(it,852096,'A06M')))endifendifendifelseif(i1=='H000')thenif((G0[128+O5])and(KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,700.)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifif((not J4)and(m5!=null))thenset J4=((GetHeroLevel(it)>5)and(GetUnitLifePercent(m5)<70.)and((GetUnitState(m5,UNIT_STATE_LIFE)+1000.)<GetUnitState(it,UNIT_STATE_LIFE))and(KZ7(it,852231,'A00L',m5)))or((IsUnitInRange(it,m5,200.))and(GetHeroLevel(it)>3)and(K37(it,852127,'A00S')))endifcall SetPlayerAbilityAvailable(pl,'A00S',(GetHeroLevel(it)>12)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))elseif(i1=='Nbrn')thenif((m5!=null)and(GetUnitManaPercent(it)>60.)and(kP(GetUnitTypeId(m5)))and(GetUnitCurrentOrder(it)!=851983))thenset J4=KZ7(it,852592,'A0QB',m5)endifif((m5==null)and(not J4)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(KZ7(it,852243,'A026',m5))if((not J4)and(KJ7(it,OU[B5]))and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.)and(G0[128+O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))thenset m5=h4[144+O5]elseset m5=KD7(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(not KJ7(m5,OU[AV]))and(GetUnitTypeId(m5)!='HC92')and(not IsUnitInRange(it,m5,800.))and(IsUnitInRange(it,m5,1500.))and(KH7(600.,m5,Condition(function P07))>0)or((GetUnitLifePercent(m5)<75.)and(KH7(1000.,m5,Condition(function PR7))==0)))thenset h4[288+O5]=m5set GZ[272+O5]=trueset J4=UnitUseItem(it,KO7(it,OU[B5]))set GZ[272+O5]=J4endifendifelseif((i1=='Hlgr')or(i1=='H00F')or(i1=='H00E')or(i1=='H00G'))thencall SetPlayerAbilityAvailable(pl,'A03F',(GetHeroLevel(it)>6)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[128+O5]))thenif(i1!='Hlgr')thenset m5=KD7(1000.,b5,Condition(function k6))set h4[O5]=m5elseif((GetHeroLevel(it)>3)and(GetUnitManaPercent(m5)>70.))thenset m5=KD7(700.,b5,Condition(function k6))endifendifset J4=(m5!=null)and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))and(KZ7(it,852095,'A0AR',m5))set J4=(m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>40.))or(J_7(m5)))and(KZ7(it,852580,'A03F',m5))if((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(900.,it,Condition(function k6))set J4=(m5!=null)and(GetUnitLifePercent(m5)<80.)and(K37(it,852180,'A03G'))endifendifelseif(i1=='Edem')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5))thenset m5=KD7(800.,b5,Condition(function k6))endifif((m5!=null)and(GetHeroLevel(it)>5))thenif(((GetUnitManaPercent(m5)<15.)and(GetUnitLifePercent(m5)<50.))or(GetUnitState(m5,UNIT_STATE_LIFE)<((GetUnitState(m5,UNIT_STATE_MAX_MANA)-GetUnitState(m5,UNIT_STATE_MANA))*(.35+(I2R(GetUnitAbilityLevel(it,'A0E3'))*.25)))))thenset J4=(not IsUnitIllusion(m5))and(not ke(m5))and(KZ7(it,852095,'A0E3',m5))endifif((not J4)and(GetUnitLifePercent(m5)<70.)and(G0[128+O5])and(not IsUnitInRange(m5,it,300.))and(GetUnitLifePercent(it)>70.)and(KH7(800.,m5,Condition(function PR7))==0)and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1))thenset C2E=kL(it,m5,200.)set J4=(C2E!=null)and(IssuePointOrderByIdLoc(it,852525,C2E))endifendifif((not J4)and(GetHeroLevel(it)>11.)and(GetUnitManaPercent(it)>70.)and(iy(it))and(KG7(1400.,b5,Condition(function Ky))==0)and(eY[O5]==1))thenset C2E=kk(it,800.,h8[O5])set J4=(C2E!=null)and(IssuePointOrderByIdLoc(it,852525,C2E))endifelseif(i1=='Usyl')thencall SetPlayerAbilityAvailable(pl,'A064',(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>70.))if((GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif(m5==null)thenset m5=KD7(1200.+(500.*GetUnitAbilityLevel(it,'A04P')),b5,Condition(function k7))endifset J4=(m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(200+(150*GetUnitAbilityLevel(it,'A04P'))))and(KZ7(it,852095,'A04P',m5))if((not J4)and(hq[416+O5]>Bz)and(GetHeroLevel(it)>10)and(KG7(800.,b5,Condition(function PB7))>0))thenif(m5==null)thenset m5=KD7(1200.,b5,Condition(function k6))endifset J4=(m5!=null)and(not IsUnitIllusion(m5))and(KZ7(it,852095,'A04P',m5))endifendifelseif(i1=='Harf')thencall SetPlayerAbilityAvailable(pl,'A08V',KG7(1000.,b5,Condition(function k6))>0)set m5=KD7(800.,b5,Condition(function P67))if(m5==null)thenset m5=KD7(600.,b5,Condition(function PA7))endifif((m5!=null)and(GetUnitLifePercent(m5)<70.))thenset J4=(((GetHeroLevel(it)>4)or(J57(m5,it)))and(KZ7(it,852225,'A08N',m5)))or((GetUnitLifePercent(m5)<40.)and(KH7(600.,m5,Condition(function k6))>0)and(KZ7(it,852186,'A08V',m5)))endifif((not J4)and(GetHeroLevel(it)>12)and(hq[416+O5]>Bz)and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and(KH7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852599))endifendifif(not J4)thenset J4=(GetUnitLifePercent(it)<75.)and(KZ7(it,852225,'A08N',it))endifif((not J4)and(GetHeroLevel(it)>10))thenset m5=KD7(450.,b5,Condition(function PR7))if((m5!=null)and(GetUnitLifePercent(m5)<30.)and(GetUnitLifePercent(m5)>10.))thenset J4=(KG7(600.,b5,Condition(function KC))>4)and(IssueImmediateOrderById(it,852599))endifendifelseif((i1=='N016')or(i1=='N017')or(i1=='N02B'))thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(700.,b5,Condition(function k6))if(GetUnitAbilityLevel(it,'B00B')>0 or J57(it,m5))thenset h4[O5]=m5endifendifif(not J4)and(h4[O5]!=null)thenif(i1=='N016')thenset J4=(IsUnitInRange(it,h4[O5],500.)and(K37(it,852526,'A1EJ')))elseset J4=(IsUnitInRange(it,h4[O5],200.)and(K37(it,852526,'A1EJ')))endifendifif(not J4)and(h4[O5]!=null)thenif(i1=='N016')thenset J4=KZ7(it,852218,'A21M',m5)elseset J4=(IsUnitInRange(it,h4[O5],400.)and(K37(it,852096,'A21N')))endifendifif(not J4)thenif(m5!=null)and(IsUnitInRange(it,m5,200.))thenif(i1=='N016')thenset J4=(K37(it,852138,'A0BE'))if J4 thenset i1='N017'endifendifelseif(m5!=null)and((GetUnitLifePercent(m5)<15.)or((not G0[256+O5])and(H07(it)<2000.)))thenif(i1!='N016')thenset J4=(K37(it,852139,'A0BE'))if J4 thenset i1='N016'endifendifelseif(h4[O5]!=null)and(not IsUnitInRange(it,m5,200.))and(Bz>SL4[32+O5])thenif(i1!='N016')thenset J4=(K37(it,852139,'A0BE'))if J4 thenset i1='N016'endifendifelseif(GetHeroLevel(it)>=6 or h4[O5]!=null)and(KS7(it,OU[G5]))thenset J4=(i1=='N016')and(K37(it,852138,'A0BE'))elseset J4=(i1!='N016')and(K37(it,852139,'A0BE'))endifendifelseif(i1=='Naka')thenset J4=GetUnitAbilityLevel(it,'B068')>0if((m5==null)or(GetUnitLifePercent(m5)>50.))thenset m5=K3(1000.,it,Condition(function k6))endifif((not J4)and(m5!=null))thenset J4=(((GetUnitState(m5,UNIT_STATE_LIFE)<hq[272+O5])or((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>55.)))and(KZ7(it,852095,'A004',m5)))or((GetUnitAbilityLevel(m5,'B00L')==0)and((GetUnitLifePercent(m5)<75.)or((GetHeroLevel(it)>11)and(GetUnitState(it,UNIT_STATE_MANA)>250.)))and(not IsUnitIllusion(m5))and(KZ7(it,852149,'A0B4',m5)))endifif((not J4)and(GetHeroLevel(it)>8)and(G0[128+O5])and(Bz>hq[O5]))thenif((m5==null)and(GetUnitLifePercent(it)>70.))thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1500.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))thenset m5=h4[144+O5]elseset m5=KF7(1500.,b5,Condition(function KK))endifendifif((m5!=null)and(not IsUnitIllusion(m5))and(not kD(m5))and(GetUnitTypeId(m5)!='HC92')and((not IsUnitInRange(it,m5,600.))or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(IsUnitInRange(it,m5,1500.))and((GetUnitLifePercent(m5)<70.)or(KH7(650.,m5,Condition(function P07))>0)))thenset h4[288+O5]=m5set J4=(KH7(800.,m5,Condition(function PR7))==0)and(IssueImmediateOrderById(it,852129))endifendifelseif(i1=='Orkn')thencall SetPlayerAbilityAvailable(pl,'A010',(GetHeroLevel(it)>7)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[128+O5]))thenset m5=KD7(900.,b5,Condition(function k6))endifif((m5!=null)and((J57(m5,it))or((GetUnitLifePercent(m5)<70.)and(KH7(500.,m5,Condition(function PA7))>0))))thenset J4=(IsUnitInRange(it,m5,400)or V98(m5))and(KZ7(it,852480,'A00P',m5))endifif((not J4)and(m5!=null)and((GetHeroLevel(it)>3)or(J57(m5,it))))thenset J4=((GetUnitLifePercent(m5)<70.)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(KZ7(it,852502,'A0RX',m5)))or((GetUnitManaPercent(it)>60.)and(KZ7(it,852587,'A010',m5)))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenif((m5==null)or(GetUnitCurrentOrder(m5)!=851973)or(not IsUnitInRange(it,m5,500.)))thenset m5=KD7(900.,b5,Condition(function KM))endifif(m5!=null)thenset GZ[O5]=trueset J4=J8(O5,KB7(it,852504,'A00H','A0A1',m5))endifendifif((not J4)and(GetHeroLevel(it)>17)and(Bz>hq[O5]))thenset m5=KF7(900.,b5,Condition(function PR7))if((m5!=null)and(GetUnitLifePercent(m5)<55.)and(GetUnitLifePercent(m5)>15.)and(KH7(800.,m5,Condition(function KC))>2))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))set GZ[O5]=truecall SetPlayerAbilityAvailable(pl,'A00H',true)call SetPlayerAbilityAvailable(pl,'A0A1',true)set J4=IssuePointOrderById(it,852504,GetUnitX(m5)+300.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+300.*Sin(UP*bj_DEGTORAD))set GZ[O5]=falseendifendifelseif(i1=='Hvwd')thencall SetPlayerAbilityAvailable(pl,'A17O',GetUnitManaPercent(it)>60.)if((m5!=null)and((GetHeroLevel(it)>4)or(J57(m5,it))))thenset J4=KZ7(it,852095,'A02A',m5)if((not J4)and(GetUnitLifePercent(m5)<60.)and(not IsUnitIllusion(m5))and(kA(it,m5,600.)))thenset J4=KB7(it,852587,'A0IN','A1AW',m5)endifendifif((not J4)and(Bz>hq[O5])and(Bz>hq[16+O5])and(G0[128+O5])and(GetHeroLevel(it)>10)and(GetUnitLifePercent(it)>80.)and(KG7(400.,b5,Condition(function PB7))>0))thenif(m5==null)thenset m5=K3(1000.,it,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(not IsUnitInRange(it,m5,500.)))thenif((KH7(500.,m5,Condition(function k6))<=2)and(KG7(500.,b5,Condition(function k6))==0))thenset J4=KB7(it,852587,'A0IN','A1AW',m5)endifendifendifif((not J4)and(GetHeroLevel(it)>12)and(GetUnitLifePercent(it)>60.))thenset J4=(KG7(700.,b5,Condition(function k6))>0)and(KG7(700.,b5,Condition(function PB7))>0)and(KZ7(it,OrderId("volcano"),'A17O',m5))endifelseif(i1=='Hmbr')thencall SetPlayerAbilityAvailable(pl,'A020',(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))set UP=GetUnitAbilityLevel(it,'A29G')if(UP==0)thenset UP=GetUnitAbilityLevel(it,'A29H')+1endifset DD7=90+(120*UP)if((GetHeroLevel(it)>5)and(Bz>hq[O5])and((Ie(bj_mapInitialPlayableArea,Condition(function B8E))!=null)or(PO4)))thenset GZ[O5]=truecall SetPlayerAbilityAvailable(pl,'A29H',true)set J4=J8(O5,K37(it,852164,'A29G'))endifif((not J4)and(GetHeroLevel(it)>4))thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(1000.,b5,Condition(function k6))endifset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(J57(m5,it)))and(KZ7(it,852095,'A0JC',m5))endifelseif(i1=='Emoo')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(800.,b5,Condition(function k6))endifset J4=((GetUnitLifePercent(it)<60.)and(K37(it,852556,'A01B')))or((m5!=null)and(GetUnitLifePercent(m5)<50.)and(KZ7(it,852075,'A0DX',m5)))or((m5!=null)and(GetUnitAbilityLevel(it,'A0DY')>0)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(KZ7(it,852254,'A0DY',m5)))or((m5!=null)and(GetUnitAbilityLevel(it,'A1WB')>0)and(not IsUnitInRange(it,m5,700.))and(GetUnitManaPercent(it)>55.)and(GetRandomInt(1,2)==1)and(KZ7(it,852254,'A1WB',m5)))elseif(i1=='Uktl')thenif((not J4)and(GetHeroLevel(it)>3))thenset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(J57(m5,it)))and(IssueTargetOrderById(it,852662,m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>7)and(((GetUnitLifePercent(m5)<75.)and(Bz>hq[O5]))or((GetUnitLifePercent(m5)<50.)and(Bz>hq[16+O5])))and(not kr(it))and(G0[128+O5]))thenset J4=(Kz(400.,jv(m5))>0)and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))endifif((not J4)and(GetHeroLevel(it)>10.)and(Bz>hq[O5])and(hq[416+O5]>Bz))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=KF7(800.,b5,Condition(function k6))if(m5!=null)thenset UP=KH7(400.,m5,Condition(function k6))set J4=((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(IssuePointOrderById(it,852600,GetUnitX(m5),GetUnitY(m5)))endifendifendifif((not J4)and(GetUnitAbilityLevel(it,'A180')>0)and(GetUnitManaPercent(it)>50.)and GZ[O5])thenif(GetUnitAbilityLevel(it,'A180')>1)thenset m5=KD7(600.,b5,Condition(function KD))set J4=(m5!=null)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))elseif(GetUnitManaPercent(it)>70.)thenset m5=KD7(600.,b5,Condition(function KD))set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)<150.)and(IssueTargetOrderById(it,OrderId("thunderbolt"),m5))endifendifif((not J4)and(GetUnitAbilityLevel(it,'A0B1')>0)and(GetUnitManaPercent(it)>50.))thenset m5=KF7(500.,b5,Condition(function k6))set J4=(m5!=null)and(KZ7(it,OrderId("channel"),'A0B1',m5))endifendifelseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenif(not J4)and((i1=='Hblm')and(GetHeroLevel(it)>=6)and(Bz>SL4[O5])and(h4[O5]!=null))thenset J4=K37(it,852180,'A11T')if J4 thenset i1='H06X'call I17(0.3)set J4=falseendifendifif((not J4)and(GetHeroLevel(it)>5))thenset bj_lastLoadedUnit=m5set m5=Ie(bj_mapInitialPlayableArea,Condition(function P67))if(m5!=null)and(GetUnitLifePercent(m5)<30)and(JC7(m5))and(J77(m5,K67(m5))>J77(it,K67(it))+1500.)and(KH7(750.,m5,Condition(function k6))==0)and(not KJ7(m5,OU[TC]))thenset J4=(i1!='Hblm' or K37(it,852180,'A11T'))and(IssueTargetOrderById(it,852248,m5))if J4 thencall I17(1.0)call UFE(it,true)endifendifset m5=bj_lastLoadedUnitendifif((not J4)and(h4[O5]!=null)and(Bz>SL4[32+O5]))thenset J4=(m5!=null)and(GetUnitManaPercent(m5)>20.)and(GetUnitAbilityLevel(m5,'B03V')==0)and(KZ7(it,OrderId("acidbomb"),'A10X',m5))endifif((not J4)and(GetUnitManaPercent(it)>40.))thenset m5=KD7(700.,b5,Condition(function PA7))set J4=(m5!=null)and(GetUnitManaPercent(m5)<75.)and(KZ7(it,OrderId("acolyteharvest"),'A112',m5))endifif((not J4)and((GetUnitManaPercent(it)<50.)))thenset J4=KZ7(it,OrderId("acolyteharvest"),'A112',it)endifif((not J4)and(G0[128+O5])and(GetUnitAbilityLevel(it,'A085')>1)and((GetUnitManaPercent(it)>30.)or((KG7(1300.,b5,Condition(function k6))<=1)and((GetUnitState(it,UNIT_STATE_MANA)>150+O6E(it,'A112',FI7))and(Bz>SL4[48+O5]))))and(Bz>SL4[16+O5])and((i1!='Hblm')or(((KG7(300.,b5,Condition(function k8))<=2)and(KG7(800.,b5,Condition(function PO7))>2))and((KG7(500.,b5,Condition(function k6))==0)or(KG7(400.,b5,Condition(function P07))>0)))))thenset m5=h4[O5]if m5==null thenset m5=KD7(1300.,jv(it),Condition(function k6))endifif m5==null thenset m5=KD7(1300.,jv(it),Condition(function PM7))endifif m5!=null thenset DD7=W47(it,m5)if(IsUnitType(m5,UNIT_TYPE_HERO)and((not JL7(it))or V98(m5))and GetUnitLifePercent(m5)>30)or(h4[O5]==null)thenset DD7=W47(it,m5)if(not T27(it,m5,GetUnitX(it)+1300.*Cos(DD7*bj_DEGTORAD),GetUnitY(it)+1300.*Sin(DD7*bj_DEGTORAD),400,Condition(function k8)))and(bj_forLoopAIndex>2)thenset J4=IssuePointOrderById(it,852218,GetUnitX(it)+150.*Cos(DD7*bj_DEGTORAD),GetUnitY(it)+150.*Sin(DD7*bj_DEGTORAD))endifendifendifendifif((not J4)and(h4[O5]!=null)and(i1!='Hblm'))thenset DD7=GetUnitFacing(m5)set J4=(m5!=null)and(IssuePointOrderById(it,852089,GetUnitX(m5)+200.*Cos(DD7*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(DD7*bj_DEGTORAD)))endifelseif(i1=='Ntin')thencall SetPlayerAbilityAvailable(pl,'A05E',(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.)and((m5!=null)or(KG7(1500.,b5,Condition(function k6))>0)))if(GetHeroLevel(it)>4)thenset J4=(m5!=null)and((GetUnitManaPercent(it)>60.)or(J57(m5,it)))and(KZ7(it,852585,'A049',m5))if(not J4)thenif(m5==null)thenset m5=KD7(2400.,b5,Condition(function k7))endifset J4=(m5!=null)and(K37(it,852526,'A05E'))endifendifif((not J4)and(GetHeroLevel(it)>10)and(GetUnitManaPercent(it)>50.))thenset UP=0if((Bz+10.)<hq[O5])thenset UP=UP+1endifif((Bz+10.)<hq[16+O5])thenset UP=UP+1endifif((Bz+10.)<hq[32+O5])thenset UP=UP+1endifif(((Bz+10.)<hq[80+O5])or((Bz+10.)<hq[96+O5]))thenset UP=UP+1endifif(((UP>1)and(KG7(800.,b5,Condition(function k6))==0))or((UP>2)and(GetUnitLifePercent(it)>50.)))thenset J4=IssueImmediateOrderById(it,852600)endifendifelseif(i1=='Emns')thencall SetPlayerAbilityAvailable(pl,'AEfn',(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>30.))if(not J4)and(Bz>SL4[O5])and(GetUnitLevel(it)>=6)thenif GetUnitAbilityLevel(it,'A1W8')>0 thenset DD7=105+GetUnitAbilityLevel(it,'A1W8')*30elseset DD7=116.25+GetUnitAbilityLevel(it,'A1W9')*41.25endifset DG7=trueset m5=Ie(bj_mapInitialPlayableArea,Condition(function B8E))if m5==null thenset DG7=falseif h4[O5]!=null thenset LS4=h4[O5]endifset m5=QJ7(99999.,it)set LS4=nullif m5==null thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function PM7))endifendifif((m5!=null))thenif(DG7)or((not IsUnitType(m5,UNIT_TYPE_HERO))and((Bz-20>SL4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.)))or(IsUnitType(m5,UNIT_TYPE_HERO)and((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-15>SL4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)))))thenset J4=KB7(it,852119,'A1W8','A1W9',m5)endifendifendifif(is(it))thenif((J77(it,K67(it))<1500.)and(eY[O5]==1))thenif(h8[16+O5]==h7[14])thenset J4=ATE(0)elseif(h8[16+O5]==h7[35])thenset J4=ATE(1)elseif(h8[16+O5]==h7[55])thenset J4=ATE(2)endifelseif(((eY[O5]==3)or(eY[O5]==4))and(J77(it,K67(it))>6000.)and(KG7(1200.,b5,Condition(function k6))==0))thenset J4=ATE(3)endifendifif(not J4)thenif(((m5==null)or(not J57(m5,it)))and(G0[128+O5]))thenset m5=K3(800.,it,Condition(function k7))endifset J4=(m5!=null)and(J57(m5,it))and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600))and(KZ7(it,OrderId("carrionswarm"),'A21E',m5))endifelseif(i1=='O00P')thenif(KJ7(it,OU[FP4]))thencall SetPlayerAbilityAvailable(pl,'A0G6',false)endifif((GetUnitAbilityLevel(it,'A0KX')>0)and(J77(it,K67(it))>2000.)and(GetUnitState(it,UNIT_STATE_MANA)>100.))thenif((GetHeroStr(it,true)>(30+(2*GetHeroLevel(it))))and(GetHeroStr(it,false)>(15+GetHeroLevel(it))))thenif(GetUnitLifePercent(it)>75.)thenset J4=IssueImmediateOrderById(it,852549)elseset J4=jW(it,851986,h9[O5])endifelseif((GetHeroStr(it,true)<(20+(2*GetHeroLevel(it))))and(IsTriggerEnabled(M37(GetHandleId(pl),"MorphAgi"))))thenset J4=IssueImmediateOrderById(it,852550)endifendifif((not J4)and(m5!=null)and(GetHeroLevel(it)>9)and(Bz>SL4[32+O5])and(KJ7(it,OU[FP4]))and(Bz>SL4[208+O5])and(GetUnitState(it,UNIT_STATE_MANA)>315.))thenset h4[O5]=m5call SetPlayerAbilityAvailable(pl,'A0G6',true)set J4=UnitUseItemTarget(it,KO7(it,OU[FP4]),m5)endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=IssueTargetOrderById(it,852662,m5)if((not J4)and(IsUnitInRange(it,m5,850.))and(not IsUnitInRange(it,m5,400.))and(GetUnitLifePercent(it)>75.)and((not IC(O5))or(GetUnitLifePercent(m5)<55.)))thenset C2E=kL(it,m5,200.)if((C2E!=null)and((KG7(800.,C2E,Condition(function QH7))-KG7(800.,C2E,Condition(function PB7)))<=1)and(KG7(700.,C2E,Condition(function PR7))==0))thencall SetPlayerAbilityAvailable(pl,'A0FN',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderByIdLoc(it,852218,C2E))endifendifendifif((not J4)and(GetHeroLevel(it)>15)and(m5!=null)and(GetUnitAbilityLevel(it,'A0GC')==0)and((GetUnitLifePercent(m5)<60.)or((KG7(600.,b5,Condition(function k6))>=2)and(KG7(600.,b5,Condition(function PA7))>0))))thenset m5=TZE(800.,it)set J4=(m5!=null)and(KZ7(it,852274,'A0G8',m5))endifelseif(i1=='HC49')thencall SetPlayerAbilityAvailable(pl,'A063',(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))set UP=R2I(hq[16+O5]-Bz)set J4=(m5!=null)and((GetHeroLevel(it)>13)or((GetHeroLevel(it)>4)and(GetUnitLifePercent(m5)<70.)))and((UP<=0)or(UP>50))and(KZ7(it,852095,'A24D',m5))if(not J4)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<30))and(UQ7(it,m5))thenset J4=K37(it,852526,'A2KU')endifif((not J4)and(GetHeroLevel(it)>10)and(Bz>hq[32+O5]))thenset m5=KD7(500.,b5,Condition(function PR7))if((m5!=null)and(GetUnitLifePercent(m5)<35.))thenset J4=(KH7(600.,m5,Condition(function k8))>4)and(KH7(700.,m5,Condition(function KC))>3)and(IssueImmediateOrderById(it,852600))endifif(not J4)thenset m5=KF7(800.,b5,Condition(function P67))set J4=(m5!=null)and(KH7(600.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))endifendifelseif(i1=='Nbbc')thenif(not GZ[O5])thencall SetPlayerAbilityAvailable(pl,'A05G',(GetHeroLevel(it)>4)and((not iy(it))or(GetHeroLevel(it)>11))and(GetUnitManaPercent(it)>70.))endifif((GetHeroLevel(it)>5)and(Bz>SL4[O5])and(G0[128+O5]))thenif(m5==null)thenset m5=KD7(700.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(not ke(m5)))thenset UP=KH7(600.,m5,Condition(function k6))+1if(GetHeroLevel(it)<11)thenset J4=(GetUnitState(m5,UNIT_STATE_LIFE)<600.)and(UP>=KH7(700.,m5,Condition(function KA)))and(KB7(it,852095,'A0M1','A1AX',m5))elseif((GetUnitState(m5,UNIT_STATE_LIFE)<1200.)or(UP>2)or((UP>1)and(KH7(600.,m5,Condition(function PA7))>0)))thenset J4=(UP>=KH7(700.,m5,Condition(function KA)))and(KB7(it,852095,'A0M1','A1AX',m5))endifendifendifelseif(i1=='Hjai')thenset UP=GetHeroLevel(it)call SetPlayerAbilityAvailable(pl,'A1E9',(UP>9)and((GetUnitManaPercent(it)>55.)or(m5!=null)or(KG7(900.,b5,Condition(function k6))>0)))if((m5==null)and(G0[128+O5])and(UP>3))thenset m5=KD7(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((GetUnitState(it,UNIT_STATE_LIFE)>GetUnitState(m5,UNIT_STATE_LIFE))and((GetUnitState(it,UNIT_STATE_LIFE)-GetUnitState(m5,UNIT_STATE_LIFE))>(40*GetHeroLevel(it))))thenif((KJ7(it,OU[HW]))and(not IsUnitIllusion(m5))and(G0[128+O5])and(GetUnitLifePercent(it)>75.)and(GetHeroLevel(it)>10)and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+120.)and(Bz>hq[O5]))thenset h4[16+O5]=m5set J4=B4E(it,m5)endifif(not J4)thenset J4=((((UP>5)and(Bz>hq[O5])and(not IsUnitIllusion(m5))and(GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+150.))or(GetUnitLifePercent(m5)<50.))and(KZ7(it,852171,'A04C',m5)))or((((GetUnitManaPercent(it)>55.)and(UP>3))or(J57(m5,it)))and(GetUnitAbilityLevel(m5,'B017')==0)and(KZ7(it,OrderId("blizzard"),'A1E9',m5)))endifif((not J4)and(UP>10)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(Bz>hq[O5])and(not kr(it)))thenset J4=(Kz(500.,b5)>1)and((GetUnitAbilityLevel(m5,'B017')>0)or(KG7(850.,b5,Condition(function PB7))>0))and(((GetUnitState(it,UNIT_STATE_MANA)>hq[272+O5]+100.)and(jP(it,OU[G5])))or(IssueImmediateOrderById(it,852600)))endifendifendifelseif(i1=='O015')thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(1500.,b5,Condition(function k6))endifif((not J4)and(Bz>SL4[O5])and(not IsUnitIllusion(m5))and(GetUnitLevel(it)>=6)and(h4[O5]!=null)and(IsUnitInRange(it,m5,1200.))and((GetUnitLifePercent(m5)<60.)or((V98(m5)or GZ[208+O5])and(GetUnitLifePercent(m5)<80.))))thenif V98(m5)or(I27(it,m5,30))thenset J4=(IssuePointOrderByIdLoc(it,852600,jv(m5)))endifendifif((not J4)and(m5!=null)and(Bz>SL4[32+O5])and(not IsUnitIllusion(m5))and(GetUnitAbilityLevel(it,'A1A8')>1)and(((((GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A1A8',FI7)+O6E(it,'A1AA',FI7))and(Bz+10<SL4[O5]))or(GetUnitState(it,UNIT_STATE_MANA)>430))and(GetUnitLifePercent(m5)>40.))or(GetWidgetLife(m5)<80*GetUnitAbilityLevel(it,'A1A8'))))thenset J4=(KZ7(it,OrderId("volcano"),'A1A8',m5))endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and(not G0[O5])and(IsUnitInRange(it,m5,300))and(GetUnitLifePercent(m5)<70.)and((GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A1AA',FI7)+O6E(it,'A1A1',FI7))or(Bz+10<SL4[O5]))thenset J4=(IssueImmediateOrderById(it,852581))endifelseif(i1=='O016')thenif((m5==null))thenset m5=KD7(1200.,b5,Condition(function k6))endifif(not J4)and(h4[O5]!=null)and(Bz>SL4[O5])and(GetUnitLevel(it)>=6)and(GetUnitLifePercent(m5)<60.)thenset J4=(KZ7(it,852119,'A19O',m5))endifif(not J4)and(h4[O5]!=null)and(Bz>SL4[48+O5])and(J_7(m5))and(not IsUnitInRange(it,m5,400.))and(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A19V',FI7)+100)thencall K37(it,852180,'A19Z')call I17(0.1)endifif(not J4)and(Bz>SL4[16+O5])and(GetUnitLevel(it)>=4)and((GetUnitState(it,UNIT_STATE_MANA)>390.)or((h4[O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>100+O6E(it,'A19V',FI7)))or(GetUnitLifePercent(m5)<70.))thenset J4=(KZ7(it,852089,'A1EL',m5))endifif(not J4)and(Bz>SL4[32+O5])and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70.)or(GetUnitState(it,UNIT_STATE_MANA)>=400.))thenif(UD7(it,m5,750,0.2,1500)!=null)thenset J4=(KA7(it,852218,'A19V',FD7))endifendifif(not J4)and(Bz>SL4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,'A19V')>1)and((GetUnitState(it,UNIT_STATE_MANA)>=400.)or(GetUnitLifePercent(m5)<70.))thenif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(KG7(400.,b5,Condition(function k8))==0))thenset UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1=='E02N')thenif(not J4)and(Bz>SL4[O5])and(GetUnitLevel(it)>=6)thenif GetUnitAbilityLevel(it,'A235')>0 thenset DD7=150+GetUnitAbilityLevel(it,'A235')*37.5set UP=99999elseif GetUnitAbilityLevel(it,'A1T5')>0 thenset DD7=150+GetUnitAbilityLevel(it,'A1T5')*37.5set UP=1000elseset UP=0endifif UP!=0 thenset DG7=trueset m5=KD7(UP,GetUnitLoc(it),Condition(function B8E))if m5==null thenset DG7=falseif h4[O5]==null thenset m5=KD7(UP,GetUnitLoc(it),Condition(function k6))elseset m5=h4[O5]endifendifif((m5!=null))thenif(DG7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>SL4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))thenif J_7(m5)or(W87(it,m5))thenif UG7(it,m5,2,UP)!=null thenset J4=KC7(it,852089,'A1T5','A235',GetLocationX(FD7),GetLocationY(FD7))endifelseset J4=KC7(it,852089,'A1T5','A235',GetUnitX(m5),GetUnitY(m5))endifendifif J4 thencall I17(0.1)set J4=falseendifendifendifendifset m5=h4[O5]if((m5==null))thenset m5=KD7(800.,b5,Condition(function k6))endifif(not J4)and(Bz>SL4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70.)and(IsUnitInRange(it,m5,400))thenset J4=K37(it,852600,'A1SO')endifif(not J4)and(Bz>SL4[32+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or J57(m5,it))thenset J4=KZ7(it,852119,'A1SQ',m5)endifset UP=KH7(800.,it,Condition(function k6))if(not J4)and(Bz>SL4[48+O5])and((h4[O5]!=null and UP>1 and IsUnitInRange(it,m5,500))or(UP>2 and GetUnitState(it,UNIT_STATE_MANA)>350)or(GetUnitState(it,UNIT_STATE_MANA)>450 and KH7(800,it,Condition(function PM7))>5))thenset J4=K37(it,852526,'A229')endifelseif(i1=='O01F')thenif(not J4)and(h4[O5]!=null)and(is(it))and(Bz>SL4[16+O5])thenset m5=P_7(900.,it,false)if m5!=null thenset J4=KZ7(it,852119,'A1TA',m5)endifendifif(not J4)and(is(it))and(h8[160+O5]!=null)thenset GZ[224+O5]=(LoadUnitHandle(C7,(GetHandleId(it)),(652))!=null)set J4=IssuePointOrderById(it,852662,GetUnitX(h8[160+O5])+GetRandomReal(-200.,200.),GetUnitY(h8[160+O5])+GetRandomReal(-200.,200.))set h8[160+O5]=nullendifif(not J4)thenset m5=h4[O5]if(m5==null)thenset m5=KD7(800.,b5,Condition(function k6))endifif(h4[O5]!=null)and(GetUnitLifePercent(it)+10.>GetUnitLifePercent(m5))thencall SetPlayerAbilityAvailable(Player(O5),'A28Q',true)set GZ[O5]=trueset J4=(GetUnitAbilityLevel(it,'B08A')==0)and(IssueImmediateOrderById(it,852589))elseset GZ[O5]=falseset J4=(GetUnitAbilityLevel(it,'B08A')!=0)and(K37(it,852590,'A28Q'))endifif J4 thencall I17(0.1)set J4=falseendifif(not J4)and(m5!=null)and(h4[O5]!=null or GetUnitManaPercent(it)>90 or(GetUnitLifePercent(m5)<70 and GetUnitManaPercent(it)>60))thenif NF7(it,"AI|IoSpirits")thenset UP=R2I(J77(it,m5))if UP<425 thenset J4=(N77(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852217))elseset J4=(not N77(GetHandleId(it),"AI|IoSpiritsFar"))and(IssueImmediateOrderById(it,852490))endifelseif(Bz>SL4[32+O5])thenset J4=K37(it,852526,'A1T8')and(IssueImmediateOrderById(it,852490))endifendifendifendifelseif(i1=='E02H')thenif(m5==null)thenset m5=KD7(800.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[O5])and((GetUnitLifePercent(m5)<50. and(UnitCountBuffsExBJ(bj_BUFF_POLARITY_NEGATIVE,bj_BUFF_RESIST_EITHER,m5,false,false)==0))or K77(m5))thenset J4=KZ7(it,852111,'A1SA',m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and(IsUnitInRange(it,m5,600))and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or J57(m5,it))thenif KG7(450,jv(m5),Condition(function PM7))<=1 thenset J4=KZ7(it,852089,'A1SB',m5)endifendifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or J57(m5,it))and(KH7(450,m5,Condition(function PM7))<=1)thenset J4=KZ7(it,852119,'A1S8',m5)endifif(not J4)thenif(m5==null)thenset m5=KD7(1200.,b5,Condition(function k6))endifif(m5!=null)and(Bz>SL4[48+O5])and(h4[O5]!=null or GetUnitLifePercent(m5)<70. or J57(m5,it)or GetUnitManaPercent(it)>50.)and(IsUnitVisible(m5,Player(O5)))thenset J4=IssuePointOrderByIdLoc(it,852600,jv(m5))call I17(0.5)endifendifelseif i1=='H071' thenif((m5==null)and(G0[128+O5]))thenset m5=KD7(800.,b5,Condition(function k6))endifif((not J4)and(Bz>SL4[32+O5])and(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitInRange(it,m5,200.))or(J_7(m5))))thenif(UD7(it,m5,28/0.03,0,(GetUnitAbilityLevel(it,'A1J7')+3)*100)!=null)and(T27(it,m5,GetLocationX(FD7),GetLocationY(FD7),120,Condition(function YS7)))thenset J4=(I27(it,m5,15))and(IssueImmediateOrderById(it,852600))set h4[O5]=m5endifendifif((not J4)and(Bz>SL4[16+O5])and(m5!=null)and(IsUnitInRange(it,m5,300.))and(GetUnitLifePercent(it)>GetUnitLifePercent(m5)+20.)and(G0[256+O5])and((GetUnitState(it,UNIT_STATE_MANA)>200.)or J_7(m5)))thenset J4=IssueImmediateOrderById(it,852526)endifif(not J4)and(h4[O5]!=null)and(Bz>SL4[O5])and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,200.))thenset J4=K37(it,852129,'A1IN')endifif(not J4)and(h4[O5]==null)and(Bz>SL4[16+O5])and(KH7(325.,it,Condition(function PV7))>3)and(GetUnitState(it,UNIT_STATE_MANA)>400.)thenset J4=IssueImmediateOrderById(it,852526)endifelseif(i1=='H00U')thenif(m5==null and(G0[128+O5]))thenset m5=KD7(800.,b5,Condition(function k6))endifset UP=(KG7(1200.,b5,Condition(function KX)))set J4=(GetUnitAbilityLevel(it,'B08X')>0)and(UP>0)and(GetUnitLifePercent(it)<70.)if((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and((Bz>SL4[O5])or(RN7(it,'A0VG')))and(Bz>SL4[144+O5]))thenset DD7=(37.5+(46.87*GetUnitAbilityLevel(it,'A21V')))set L8E=Ie(bj_mapInitialPlayableArea,Condition(function B8E))set J4=(L8E!=null)and RX7(it,BO4,BO4,BO4,'A0VG')and IssuePointOrderByIdLoc(it,852089,UG7(it,L8E,1.7,99999))elseif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>175)and(Bz>SL4[144+O5]))thenset DD7=(37.5+(46.87*GetUnitAbilityLevel(it,'A21V')))set L8E=Ie(bj_mapInitialPlayableArea,Condition(function B8E))if(L8E!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),MS[9],true)set J4=IssuePointOrderByIdLoc(it,852089,UG7(it,L8E,1.7,99999))call SetPlayerAbilityAvailable(GetOwningPlayer(it),MS[9],false)endifendifif((not J4)and(m5!=null)and(not IsUnitIllusion(m5)))thenset h4[O5]=m5if(((GetUnitState(it,UNIT_STATE_MANA))>410)and(GetUnitLevel(it)>=10)and(Bz>SL4[O5])and(Bz>SL4[48+O5])and(Bz>SL4[112+O5])and((RN7(it,'A0VN'))or(RN7(it,'A0VM'))))thenset J4=RX7(it,BO4,BO4,BN4,'A0VN')and(RS7(it,BO4,BO4,BO4,false))and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>350)and(GetUnitLevel(it)>=14)and(Bz>SL4[O5])and(Bz>SL4[96+O5])and(Bz>SL4[144+O5])and((RN7(it,'A0VK'))or(RN7(it,'A0VG'))))thenset J4=RX7(it,BN4,BN4,BM4,'A0VK')and IssuePointOrderById(it,852491,GetUnitX(m5),GetUnitY(m5))endifif(not J4 and(GetUnitLevel(it)<14)and((GetUnitState(it,UNIT_STATE_MANA))>290)and(RN7(it,'A0VM')or(Bz>SL4[O5])))thenset J4=(RX7(it,BM4,BN4,BO4,'A0VM')and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5)))endifif(not J4)thenset J4=(((Bz>SL4[64+O5])and RX7(it,BO4,BO4,BM4,'A0VO')and(IssueImmediateOrderById(it,852132)))or((Bz>SL4[16+O5])and RX7(it,BM4,BM4,BM4,'A0VZ')and(KZ7(it,852505,'A0VZ',m5)))or(((GetUnitState(it,UNIT_STATE_MANA))>350)and(Bz>SL4[112+O5])and RX7(it,BM4,BN4,BO4,'A0VM')and IssuePointOrderById(it,852215,GetUnitX(m5),GetUnitY(m5))))endifif((not J4)and((GetUnitState(it,UNIT_STATE_MANA))>120))thenset J4=((Bz>SL4[160+O5])and(IsUnitInRange(it,m5,106.))and RX7(it,BM4,BM4,BO4,'A0VP')and(IssueImmediateOrderById(it,852134)))or((Bz>SL4[48+O5])and RX7(it,BO4,BO4,BN4,'A0VN')and IssuePointOrderById(it,852216,GetUnitX(m5),GetUnitY(m5)))or((Bz>SL4[32+O5])and RX7(it,BN4,BN4,BN4,'A0VS')and(RS7(it,BO4,BO4,BO4,false))and(IssuePointOrderByIdLoc(it,852217,GetUnitLoc(m5))))endifendifif((GetUnitAbilityLevel(it,'B08X')==0))thenif(not J4 and(Bz>SL4[O5])and(Bz>SL4[48+O5])and(not RN7(it,'A0VN'))and(GetRandomInt(1,2)==1))thencall RX7(it,BO4,BO4,BN4,'A0VN')elseif(not J4 and(GetUnitLevel(it)<14)and(Bz>SL4[O5])and(Bz>SL4[112+O5])and(not RN7(it,'A0VM')))thencall RX7(it,BM4,BN4,BO4,'A0VM')elseif(not J4 and(GetUnitLevel(it)>=14)and(Bz>SL4[O5])and(Bz>SL4[96+O5])and(not RN7(it,'A0VK'))and(GetRandomInt(1,2)==1))thencall RX7(it,BN4,BN4,BM4,'A0VK')elseif(not J4 and(Bz>SL4[O5])and(Bz>SL4[16+O5])and(not RN7(it,'A0VZ')))thencall RX7(it,BM4,BM4,BM4,'A0VZ')elseendifset UP=KH7(1500.,it,Condition(function k8))if((m5!=null and(RM7(it)<3))or((GetUnitLevel(it)<5)and(RM7(it)<3))or((RM7(it)<3)and(UP>1)))thencall RS7(it,BO4,BO4,BO4,false)elseif(m5==null and(not J4)and(GetUnitLevel(it)>5)and(GetUnitAbilityLevel(it,'A21X')>0)and(GetUnitLifePercent(it)>80.)and(RI7(it)<3)and(UP<2))thencall RS7(it,BN4,BN4,BN4,false)elseif(m5==null and(not J4)and(GetUnitAbilityLevel(it,'A21W')>0)and(GetUnitLifePercent(it)<58.)and(RK7(it)<3))thencall RS7(it,BM4,BM4,BM4,false)elseendifif(not J4)thenset m5=nullset m5=KD7(700.,b5,Condition(function P17))set J4=(m5!=null)and(GetUnitCurrentOrder(m5)==851983)and RX7(it,BN4,BN4,BO4,'A0VQ')and KZ7(it,852490,'A0VQ',m5)endifendifelseif(i1=='N0HP')thenif(not J4)and(Bz>SL4[O5])and(GetUnitLevel(it)>=6)thenset DD7=100+GetUnitAbilityLevel(it,'A1MI')*150set DG7=trueset m5=Ie(bj_mapInitialPlayableArea,Condition(function B8E))if m5==null thenset DG7=falseif h4[O5]==null thenset m5=KD7(99999.,GetUnitLoc(it),Condition(function k6))elseset m5=h4[O5]endifendifif((m5!=null))thenif(DG7)or((GetUnitLifePercent(m5)<50. or(GZ[208+O5]and h4[O5]!=null)or((Bz-20>SL4[O5])and(GetUnitState(it,UNIT_STATE_MANA)>300.))and(not IsUnitIllusion(m5))))thenif J_7(m5)or(W87(it,m5))thenif UD7(it,m5,500.,0.02,1500.)!=null thenset J4=IssuePointOrderByIdLoc(it,852662,FD7)if J4 thencall M87(GetHandleId(it),"AI|IBClose",1)endifelseif UD7(it,m5,1500.,2.02,99999.)!=null thenset J4=IssuePointOrderByIdLoc(it,852662,FD7)if J4 thencall M87(GetHandleId(it),"AI|IBClose",0)endifendifelseset J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))if J4 thencall M87(GetHandleId(it),"AI|IBClose",2)endifendifendifif J4 thencall MF7(GetHandleId(it),"AI|IBTgt",m5)call TriggerSleepAction(0.1)set J4=falseendifendifendifif(m5==null)thenset m5=KD7(800.,b5,Condition(function k6))endifif(not J4)and(not IsUnitIllusion(m5)and(IsUnitInRange(it,m5,750.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5)))thenset J4=(m5!=null)and(KZ7(it,OrderId("channel"),'A1MG',m5))endifif((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,1500.))and((GetUnitState(it,UNIT_STATE_MANA))>(GetUnitState(it,UNIT_STATE_MAX_MANA)/2.5))and((GetUnitLevel(it)>10)or(GetUnitManaPercent(it)>65.)))thenset J4=(m5!=null)and(KZ7(it,OrderId("blizzard"),'A1HS',m5))endifif((not J4)and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,600.))and(GetUnitManaPercent(it)>30.))thenset J4=(m5!=null)and(KZ7(it,OrderId("berserk"),'A1HQ',it))endifif(not J4)thenset J4=(IsUnitType(m5,UNIT_TYPE_HERO))and(KV7(it,m5))endifelseif(i1=='E02I')thenif(m5==null and(G0[128+O5]))thenset m5=KD7(1100.,b5,Condition(function k6))endifif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<60.))thenset J4=(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5)))or(IssueTargetOrderById(it,852185,m5))endifif((not J4)and(G0[128+O5])and(Bz>SL4[32+O5])and(Bz>SL4[16+O5])and(GetUnitLevel(it)>6))thenset J4=(m5!=null)and(GetUnitLevel(it)>3)and((GetUnitLifePercent(it)>75.)or(IsUnitInRange(it,m5,300.)))and(not IsUnitIllusion(m5))and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=2)and((KG7(750.,GetUnitLoc(m5),Condition(function PR7))==0)or(GetRandomInt(1,2)==1))and(GetUnitState(it,UNIT_STATE_MANA)>300.)and(IssueTargetOrderById(it,852185,m5))endifif(not J4 and(m5!=null))thenset J4=(not IsUnitIllusion(m5))and(Bz>SL4[O5])and(GetUnitLifePercent(m5)<48.)and(IsUnitInRange(it,m5,200.))and(IssueImmediateOrderById(it,852526))endifif(not J4 and(m5!=null))thenset UP=KG7(780.,GetUnitLoc(m5),Condition(function PR7))set L7E=KH7(800.,m5,Condition(function QH7))set J4=((Bz>SL4[32+O5])and(GetUnitLevel(it)>3)and(IsUnitInRange(it,m5,800.))and((L7E-KH7(800.,m5,Condition(function PB7)))<=2)and((UP>0)and(L7E<2)or(UP==0)and(L7E<=2))and(IssueTargetOrderById(it,852185,m5)))or((Bz>SL4[16+O5])and(GetUnitLevel(it)>3)and(GetUnitState(it,UNIT_STATE_MANA)>150)and(GetUnitLifePercent(m5)<90.)and(IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))))endifelseif(i1=='HC92')thencall SetPlayerAbilityAvailable(pl,'A0RG',(GetHeroLevel(it)>13)and(KG7(1200.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>70.))if((m5!=null)and(not IsUnitIllusion(m5))and(((GetHeroLevel(it)>5)and(not IC(O5)))or(K97(m5,it)))and(not IsUnitInRangeLoc(m5,b5,250.)))thenset J4=(kJ(GetUnitX(m5),GetUnitY(m5)))and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(IssueTargetOrderById(it,852600,m5))endifif((not J4)and(GetHeroLevel(it)>14)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and((KH7(I2R(225+(25*GetUnitAbilityLevel(it,'A0RG'))),m5,Condition(function k6))>1)or(GetUnitLifePercent(m5)<80.))and(KZ7(it,852089,'A0RG',m5))endifendifelseif(i1=='H001')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))thenset m5=KD7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(((GetHeroLevel(it)>4)and(not IsUnitInRange(it,m5,300.)))or(J57(m5,it)))and(KZ7(it,OrderId("acidbomb"),'A190',m5))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(G0[128+O5])and(GetUnitAbilityLevel(it,'B009')==0)and(GetUnitState(it,UNIT_STATE_MANA)>200.))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset J4=((((Bz>hq[O5])or(GetUnitCurrentOrder(m5)==851973))and(IsUnitInRange(it,m5,600.)))or(IsUnitInRange(it,m5,300.)))and((K37(it,852526,'A2IS'))or(jP(it,OU[G5]))or(K37(it,OrderId("chemicalrage"),'A1WH')))endifendifif(GetUnitAbilityLevel(it,'B009')>0)thenif(h4[O5]==null)thenset h4[O5]=KD7(700.,b5,Condition(function k6))endifif((GetUnitCurrentOrder(it)==851986)and(G0[128+O5])and(hq[512+O5]>Bz)and(not G0[O5])and(KG7(800.,b5,Condition(function KC))>1))thencall jW(it,851983,h8[O5])endifendifelseif(i1=='H00A')thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<60.)and((not IsUnitIllusion(m5))or(GetUnitLifePercent(m5)>35.))and(KZ7(it,852585,'A0KM',m5))if((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function P67))set J4=(m5!=null)and(KH7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))if((not J4)and(m5!=null)and(IsUnitInRange(it,m5,800.)))thenset J4=(GetUnitLifePercent(m5)<25.)and(not Id(GetPlayerId(GetOwningPlayer(m5))))and(KZ7(it,852131,'A28T',m5))endifendifif((not J4)and(h4[16+O5]!=null))thenif((J07(h4[16+O5]))and(GetUnitAbilityLevel(h4[16+O5],'B05H')>0))thenset J4=KZ7(it,852095,'A0LV',h4[16+O5])call BNE(it,h4[16+O5])elseset h4[16+O5]=nullendifendifif((J77(it,K67(it))<1500.)and(eY[O5]==1)and(GetHeroLevel(it)>5)and(IH(pl,Condition(function SR9))<2))thenif(IsUnitAlly(it,Y7[0]))thenif((h8[16+O5]==h7[35])and(G2!=1)and(G4!=1))thenset h8[16+O5]=h7[55]set h8[O5]=h7[51]endifelseif((h8[16+O5]==h7[155])and(G1!=2)and(G3!=2))thenset h8[16+O5]=h7[135]set h8[O5]=h7[131]endifendifendifif((not J4)and(GetHeroLevel(it)>21)and(IH(pl,Condition(function SR9))==0))thenset m5=KD7(600.,b5,Condition(function k8))set J4=(m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>800.)and(KZ7(it,852131,'A28T',m5))endifelseif(i1=='H004')thencall SetPlayerAbilityAvailable(pl,'A01F',(GetHeroLevel(it)>10)and(iy(it))and(GetUnitManaPercent(it)>60.))call SetPlayerAbilityAvailable(pl,'A001',(GetUnitManaPercent(it)>70.)and(GetUnitAbilityLevel(it,'B004')==0))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((GetHeroLevel(it)>5)and(not IsUnitIllusion(m5))and(not ke(m5))and(Bz>hq[O5]))thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(UP<AZE(it))and(UP>150)and(KB7(it,852119,'A01P','A09Z',m5))endifif((not J4)and((GetUnitManaPercent(it)>40.)or(J57(m5,it))))thenif(((Bz>hq[16+O5])and(GetHeroLevel(it)>3))or(GetUnitLifePercent(m5)<55.))thencall SetPlayerAbilityAvailable(pl,'A027',true)set GZ[64+O5]=trueset J4=IssuePointOrderById(it,852232,GetUnitX(m5)+175.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+175.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))set GZ[64+O5]=falseendifif(not J4)thenset J4=(Bz>hq[16+O5])and(GetHeroLevel(it)>3)and(GetRandomInt(1,2)==1)and(KZ7(it,852125,'A01F',m5))endifendifendifif((not J4)and(GetHeroLevel(it)>15)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenif(m5==null)thenset m5=K3(700.,it,Condition(function k6))endifif(m5!=null)thenset UP=R2I(GetUnitState(m5,UNIT_STATE_LIFE))set J4=(GetUnitLifePercent(m5)<60.)and(UP<1600)and(UP>500)and(not ke(m5))and(KB7(it,852119,'A01P','A09Z',m5))endifendifendifelseif(i1=='Ucrl')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>60.))thenset m5=KD7(600.,b5,Condition(function k6))endifif((G0[128+O5])and(KJ7(it,OU[HW]))and(GetHeroLevel(it)>8)and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5])and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,600.)))thenset J4=((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifcall SetPlayerAbilityAvailable(pl,'A0LL',(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>60.))if(not J4)thenset J4=(m5!=null)and((J57(m5,it))or((GetHeroLevel(it)>7)and(GetUnitState(it,UNIT_STATE_MANA)>350.)and(Bz>hq[O5])and(IsUnitInRange(it,m5,220.))))and(KZ7(it,852089,'A0LL',m5))endifelseif(i1=='Otch')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>60.))thenset m5=KD7(1000.,b5,Condition(function k6))endifif(m5!=null)thenif((G0[128+O5])and(KJ7(it,OU[HW]))and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>10)and(Bz>hq[O5])and(KH7(500.,m5,Condition(function k8))>5))thenset J4=B4E(it,m5)endifif((not J4)and(Bz>hq[O5])and(IsUnitInRange(it,m5,400.))and(GetUnitState(m5,UNIT_STATE_LIFE)>180.))thenset UP=CHE(it)if((R2I(GetUnitState(m5,UNIT_STATE_LIFE))<UP)or((UP>100)and((R2I(GetUnitState(m5,UNIT_STATE_LIFE))-UP)<GetHeroLevel(it)*30)))thenset J4=K37(it,852526,'A0DH')or(K37(it,852526,'A1OB'))endifendifif((not J4)and(GetUnitCurrentOrder(m5)==851986)and(GetUnitLifePercent(m5)<50.))thenset J4=KZ7(it,OrderId("channel"),'A0SK',m5)endifif((not J4)and(GetHeroLevel(it)>3))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[16+O5])-GetUnitY(m5),GetUnitX(h8[16+O5])-GetUnitX(m5)))call SetPlayerAbilityAvailable(pl,'A0SK',true)set J4=IssuePointOrderById(it,OrderId("channel"),GetUnitX(m5)+50.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+50.*Sin(UP*bj_DEGTORAD))endifendifset m5=KF7(400.,b5,Condition(function k6))if((not J4)and(Bz>hq[O5])and(m5!=null))thenset hr=itset UP=KG7(500.,b5,Condition(function CGE))set J4=(((UP>3)and(KG7(400.,b5,Condition(function k6))>1))or((UP>4)and(GetUnitLifePercent(m5)<60.)))and((K37(it,852526,'A0DH'))or(K37(it,852526,'A1OB')))endifif(not J4)thencall SetPlayerAbilityAvailable(pl,'A0SK',(GetHeroLevel(it)>5)and(GetUnitManaPercent(it)>70.))set J4=(GetHeroLevel(it)>10)and(Bz>hq[O5])and(KG7(500.,b5,Condition(function KA))>8)and((K37(it,852526,'A0DH'))or(K37(it,852526,'A1OB')))endifelseif(i1=='N01A')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3))thenset m5=KD7(800.,b5,Condition(function k6))endifif(m5!=null)thenset J4=((GetHeroLevel(it)>15)and((J57(m5,it))or(GetUnitManaPercent(m5)<35.)or(GetUnitAbilityLevel(m5,'B01O')>0))and(IssueTargetOrderById(it,852662,m5)))or((m5!=null)and(not IsUnitInRange(it,m5,550.))and(GetUnitManaPercent(it)>60.)and(GetRandomInt(1,3)==1)and(GetHeroLevel(it)>3)and(KZ7(it,852254,'A0LZ',m5)))endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitManaPercent(it)>70))thenset J4=KZ7(it,852089,'A14L',m5)endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[O5]))thenset m5=Ie(bj_mapInitialPlayableArea,Condition(function P67))set J4=(m5!=null)and(KH7(700.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852600))endifelseif(i1=='H00K')thenif m5==null thenset m5=QK7(700.,it)endifif((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(IsUnitInRange(it,m5,400.))and(GetUnitAbilityLevel(m5,'Bcyc')==0)and(GetUnitAbilityLevel(m5,'Bcy2')==0)and((GetUnitLifePercent(it)<50.)or(GetHeroLevel(it)<8))and(R2I(GetUnitState(m5,UNIT_STATE_LIFE))<(300+(120*GetUnitAbilityLevel(it,'A06B')))))thenset J4=KZ7(it,852040,'A06B',m5)endifif(not J4)and(is(it))thenif(h4[O5]!=null)thenif(not J4)and(Bz>SL4[O5])thenset J4=KB7(it,852504,'A0AK','A1FY',m5)endifif(not J4)and(Bz>SL4[32+O5])and(KH7(600.,it,Condition(function P57))==0)thenset J4=KZ7(it,852114,'A06H',it)endifif(not J4)thenset DD7=Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5))call MoveLocation(HA,GetUnitX(m5)+Cos(DD7)*200,GetUnitY(m5)+Sin(DD7)*200)if(not J4)and(Bz>SL4[16+O5])and(GetUnitLifePercent(it)>60.)thenset J4=KA7(it,852278,'A05J',HA)endifif(not J4)and(Bz>SL4[32+O5])and(GetUnitLifePercent(it)>60.)and(KH7(600.,m5,Condition(function P57))==0)thenset J4=KA7(it,852114,'A06H',HA)endifendifelseif(eY[O5]==1 or eY[O5]==3 or eY[O5]==4)thenif((not J4)and(is(it))and(eY[O5]==1)and((KG7(400.,b5,Condition(function Ka))>1)or((h4[128+O5]!=null)and(J07(h4[128+O5]))and(IsUnitInRange(it,h4[128+O5],400.)))))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))call IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))endifif((not J4)and(is(it))and(not OA7(it))and(KG7(1200.,b5,Condition(function PR7))==0)and(not JL7(it)))thenset UP=GetUnitUserData(h8[32+O5])set DD7=300if((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)thenset h9[48+O5]=h8[64+O5]if KH7(600.,it,Condition(function k6))>0 or KH7(600.,h9[48+O5],Condition(function k6))>0 thenset DD7=-1endifelseif(h9[48+O5]==null)or(not IsUnitInRange(it,h9[48+O5],1800.))thenset DG7=IsUnitAlly(it,Y7[O5])set UP=R_E(GetUnitUserData(h8[80+O5]),(not DG7),0)if UP==35 thenset UP=351elseif UP==55 thenset UP=352endifif UP!=0 and(KH7(900.,h7[UP],Condition(function PR7))==0)and((DG7 and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),Z7[0])))or((not DG7)and(not IsVisibleToPlayer(GetUnitX(h7[UP]),GetUnitY(h7[UP]),Y7[0]))))thenset h9[48+O5]=h7[UP]endifendifif DD7!=-1 thenif(not J4)and(h9[48+O5]!=null)and(Bz>SL4[16+O5])and(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A05J',FI7)+O6E(it,'A06B',FI7))thencall MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-DD7,DD7),GetUnitY(h9[48+O5])+GetRandomReal(-DD7,DD7))set J4=(KA7(it,852278,'A05J',HA))endifset bj_lastLoadedUnit=itif(not J4)and(h9[48+O5]!=null)and(Bz>SL4[32+O5])and(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A06H',FI7)+O6E(it,'A06B',FI7))and(KH7(600.,h9[48+O5],Condition(function P57))==0)thencall MoveLocation(HA,GetUnitX(h9[48+O5])+GetRandomReal(-100.,100.),GetUnitY(h9[48+O5])+GetRandomReal(-100.,100.))set J4=(KA7(it,852114,'A06H',HA))endifif((not J4)and(GetHeroLevel(it)>5)and(Bz>SL4[O5]))thenset m5=KD7(1800.,b5,Condition(function P07))set bj_forLoopAIndex=(KH7(600.,m5,Condition(function KG)))if((m5!=null)and(not VI8(m5))and(bj_forLoopAIndex<4))thenset UP=R2I(AAE(m5))set GZ[272+O5]=falseif(bj_forLoopAIndex>0)thenset hq[240+O5]=Bz+5.elseset hq[240+O5]=0.endifset J4=KC7(it,852504,'A0AK','A1FY',GetUnitX(m5)+GetRandomReal(400.,450.)*Cos(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.),GetUnitY(m5)+GetRandomReal(400.,450.)*Sin(UP*bj_DEGTORAD)+GetRandomReal(-300.,300.))endifset bj_forLoopAIndex=(KH7(600.,h8[64+O5],Condition(function KG)))if((not J4)and((eY[O5]==3)or(eY[O5]==4))and(h8[64+O5]!=null)and(IsUnitInRange(it,h8[64+O5],900.))and(bj_forLoopAIndex<6))thenset GZ[272+O5]=falseif(bj_forLoopAIndex>0)thenset hq[240+O5]=Bz+5.elseset hq[240+O5]=0.endifset J4=KC7(it,852504,'A0AK','A1FY',GetUnitX(h8[64+O5])+GetRandomReal(-300,300),GetUnitY(h8[64+O5])+GetRandomReal(-300.,300.))endifif(not J4)thenset GZ[272+O5]=trueset m5=KD7(1800.,b5,Condition(function KG))set bj_forLoopAIndex=(KH7(600.,h9[48+O5],Condition(function KG)))if(m5!=null)thenset hq[240+O5]=Bz+5.set J4=KC7(it,852504,'A0AK','A1FY',GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.))elseif(h9[48+O5]!=null)and(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A0AK',FI7)+O6E(it,'A1FY',FI7)+O6E(it,'A06B',FI7))and(bj_forLoopAIndex<8)thenset hq[240+O5]=Bz+5.set J4=(KC7(it,852504,'A0AK','A1FY',GetUnitX(h9[48+O5])+GetRandomReal(-DD7,DD7),GetUnitY(h9[48+O5])+GetRandomReal(-DD7,DD7)))endifendifendifendifendifif((not J4)and(Bz>SL4[O5])and(G0[256+O5])and(GetUnitManaPercent(it)>50.))thenset m5=KD7(700.,b5,Condition(function k8))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_HERO))and(KH7(400.,m5,Condition(function k8))>2)and(KB7(it,852504,'A0AK','A1FY',m5))endifif((not J4)and(Bz>SL4[16+O5])and(G0[256+O5])and(GetUnitAbilityLevel(it,'A05J')>1)and(GetUnitManaPercent(it)>50.))thenset m5=KD7(700.,b5,Condition(function PM7))set J4=(m5!=null)and(KH7(500.,m5,Condition(function PM7))>2)and(KA7(it,852278,'A05J',jv(m5)))endifendifendifelseif(i1=='Huth')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>10))thenset m5=KD7(800.,b5,Condition(function k6))endifcall SetPlayerAbilityAvailable(pl,'A03Y',(GetHeroLevel(it)>14)and(KG7(1500.,b5,Condition(function k6))==0)and(GetUnitManaPercent(it)>75.))call SetPlayerAbilityAvailable(pl,'A1N4',false)if(m5!=null)thenset UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))endifif((G0[128+O5])and(KJ7(it,OU[HW]))and(m5!=null)and(not IsUnitIllusion(m5))and(Bz>hq[O5]))thenset J4=(GetHeroLevel(it)>5)and(UP>250)and(UP<700)and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1)and(B4E(it,m5))endifcall SetPlayerAbilityAvailable(pl,'A0LC',(GetUnitAbilityLevel(it,'B02H')>0)or(m5!=null))if((not J4)and(m5!=null)and(not IsUnitIllusion(m5))and(GetHeroLevel(it)>5))thenset J4=((UP<300)and(GetUnitAbilityLevel(it,'B02H')==0)and(K37(it,852100,'A0LC')))or((UP<200)and(K37(it,852526,'A1N4')))or((UP<280)and(K37(it,852096,'A03Y')))endifelseif(i1=='Ogrh')thenset J4=(m5!=null)and((GetUnitLifePercent(m5)<50.)or(i2(m5)))and(KZ7(it,OrderId("acidbomb"),'A10D',m5))if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>4)and(KG7(800.,b5,Condition(function P07))>0))thenif((m5==null)or(not IsUnitInRange(it,m5,800.)))thenset m5=KD7(800.,b5,Condition(function k6))endifset J4=(m5!=null)and(KZ7(it,OrderId("acidbomb"),'A10D',m5))endifelseif(i1=='Hamg')thenif((m5!=null)and(not IsUnitIllusion(m5))and(GetUnitLifePercent(m5)<70.)and(KG7(700.,b5,Condition(function k6))>1)and(KG7(700.,b5,Condition(function PB7))>0))thenset J4=IssueImmediateOrderById(it,852600)endifif(m5!=null)thenset J4=KZ7(it,852095,'A26N',m5)endifif((not J4)and(GetUnitManaPercent(it)>50.)and(GetHeroLevel(it)>2))thenset m5=KD7(1500.,b5,Condition(function P07))if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<40.)and(GetUnitCurrentOrder(m5)==851986))thenset J4=(K6(m5))and(IssueTargetOrderById(it,852069,m5))endifendifif((not J4)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(KG7(1000.,b5,Condition(function PB7))>0))thenset m5=KF7(500.,b5,Condition(function k6))if(m5!=null)and(GetUnitLifePercent(m5)<70.)thenset UP=KG7(700.,b5,Condition(function k6))set J4=((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(IssueImmediateOrderById(it,852600))endifendifendifelseif((i1=='N01O')or(i1=='N013')or(i1=='N014')or(i1=='N015'))thenif((GetHeroLevel(it)>15)and(GetUnitTypeId(it)=='N01O')and(GetUnitAbilityLevel(it,'A0AG')>2)and(J77(it,K67(it))<2000.))thenset J4=K37(it,852138,'A0AG')endifif((GetUnitTypeId(it)=='N01O')and(GetUnitAbilityLevel(it,'A0AG')>1))thenset J4=K37(it,852138,'A0AG')endifif((KG7(700.,b5,Condition(function PI7))==0)and(((GetUnitTypeId(it)=='N013')and(GetUnitAbilityLevel(it,'A0AG')>1))or((GetUnitTypeId(it)=='N014')and(GetUnitAbilityLevel(it,'A0AG')>2))))thenset J4=K37(it,852139,'A0AG')endifset m5=MZ7(GetHandleId(pl),"MyBear")if((m5==null)or(not J07(m5))or(GetUnitLifePercent(m5)<20 and Bz>SL4[16+O5]))thenset J4=IssueImmediateOrderById(it,852594)endifif((not J4)and(IsUnitInRange(it,m5,600.))and(GetUnitAbilityLevel(m5,'B016')==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>50.)and(KG7(700.,b5,Condition(function KA))>0))))thenset J4=IssueImmediateOrderById(it,852526)endifif((not J4)and(GetUnitAbilityLevel(it,'B016')==0)and((h4[O5]!=null)or((GetUnitManaPercent(it)>30.)and(KG7(700.,b5,Condition(function KA))>0))))thenset J4=IssueImmediateOrderById(it,852526)endifif(KG7(700.,b5,Condition(function P07))>0)thenset hq[240+O5]=Bz+4.endifif((not J4)and(GetUnitTypeId(it)!='N01O')and(m5!=null)and(IsUnitInRange(it,m5,600.))and(hq[416+O5]>Bz))thenset J4=IssueImmediateOrderById(it,852599)endifelseif(i1=='Hmkg')thencall SetPlayerAbilityAvailable(pl,O07(it),(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>40.))call SetPlayerAbilityAvailable(pl,O57(it),(GetHeroLevel(it)>12)and(GetUnitManaPercent(it)>70.))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>2))thenset m5=KD7(1000.,b5,Condition(function k6))endifset J4=(m5!=null)and(((((GetUnitManaPercent(it)>40.)and(GetHeroLevel(it)>2))or(J57(m5,it)))and(KZ7(it,852095,O07(it),m5)))or((J57(m5,it))and(KZ7(it,852662,O57(it),m5))))if((not J4)and(GetUnitManaPercent(it)>70.)and(GetHeroLevel(it)>12))thenset J4=(KG7(700.,b5,Condition(function k6))==0)and(KG7(700.,b5,Condition(function k8))>0)and(GetUnitAbilityLevel(it,'Bblo')==0)and(KZ7(it,852101,O27(it),it))if(not J4)thenset m5=KD7(700.,b5,Condition(function PB7))set J4=(m5!=null)and(kq(GetUnitTypeId(m5)))and(KG7(700.,b5,Condition(function KA))>0)and(GetUnitAbilityLevel(m5,'Bblo')==0)and(KZ7(it,852101,O27(it),m5))endifendifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))thenset J4=(N77(GetHandleId(it),"AI|Magi2Blast")and KZ7(it,852600,'A2KQ',m5))endifelseif(i1=='H00D')thenset UP=GetHeroLevel(it)if(UP>7)thencall SetPlayerAbilityAvailable(pl,'A0O1',(m5==null)and(GetUnitManaPercent(it)>50.))elsecall SetPlayerAbilityAvailable(pl,'A0O1',false)endifif((h4[16+O5]!=null)and(not J07(h4[16+O5])))thenset h4[16+O5]=nullendifcall SetPlayerAbilityAvailable(pl,'A0OO',(UP>9)and(h4[16+O5]==null)and(GetUnitManaPercent(it)>60.))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4)and(GetUnitManaPercent(it)>70.))thenset m5=KD7(800.,b5,Condition(function k6))endifif((m5!=null)and(UP>2)and(GetUnitManaPercent(it)>30.)and(not IsUnitInRange(it,m5,250.))and(IsUnitInRange(it,m5,900.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))call SetPlayerAbilityAvailable(pl,'A0O1',true)set GZ[O5]=trueset J4=J8(O5,IssuePointOrderById(it,852218,GetUnitX(it)+1100.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+1100.*Sin(UP*bj_DEGTORAD)))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>10)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if(((UP>1)or(UP==KL7(not IsUnitAlly(it,Y7[0]))))and(KG7(1000.,b5,Condition(function PB7))>0))thenset J4=(GetUnitLifePercent(m5)<75.)and(KB7(it,852095,'A0O2','A289',m5))endifendifelseif(i1=='E00P')thencall SetPlayerAbilityAvailable(pl,'A0O7',(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))if((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=KD7(700.,b5,Condition(function k6))endifset J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(J57(m5,it)))and(KZ7(it,852218,'A0O7',m5))if((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(Kz(700.,jv(m5))>1)and((Bz>hq[O5])or(KH7(700.,m5,Condition(function PA7))>0))and(KZ7(it,852125,'A0O5',m5))endifelseif((i1=='N01I')or(i1=='N01H')or(i1=='N01T')or(i1=='N01J'))thenif(i1=='N01I')thenset J4=(((GetHeroLevel(it)>=6)and(h4[O5]!=null))or((GetHeroLevel(it)>10)and(GetUnitLifePercent(it)<80.)and(KG7(700.,b5,Condition(function k8))>0)))and(IssueImmediateOrderById(it,852663))elseif((m5==null)and(G0[128+O5])and(i1!='N01I'))thenset m5=KD7(700.,b5,Condition(function k6))set h4[O5]=m5endifif((not J4)and(G0[128+O5])and(eY[320+O5]>=-1)and(h4[O5]!=null or GetUnitManaPercent(it)>70)and(GetUnitAbilityLevel(it,'A1NI')>1))thenif m5==null thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1000.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5])))and(IsUnitVisible(h4[144+O5],GetOwningPlayer(it))))thenset m5=h4[144+O5]elseset m5=KD7(800.,b5,Condition(function k6))endifendifset J4=(m5!=null)and(IsUnitInRange(it,m5,300))and(IssueImmediateOrderById(it,852526))endifif((not J4)and(m5!=null)and(GetHeroLevel(it)>5))thenset J4=(KH7(700.,m5,Condition(function k6))>1)and(KH7(700.,m5,Condition(function PA7))>0)and(KZ7(it,852089,'A0IL',m5))endifif((not J4)and(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>55.)and(KG7(500.,b5,Condition(function KA))>2)and(Bz>hq[O5]))thencall SetPlayerAbilityAvailable(pl,'A0IL',true)set J4=IssuePointOrderById(it,852089,GetUnitX(it)+GetRandomReal(0,200.)-100.,GetUnitY(it)+GetRandomReal(0,200.)-100.)elsecall SetPlayerAbilityAvailable(pl,'A0IL',(GetHeroLevel(it)>11)and(GetUnitManaPercent(it)>50.))endifelseif(i1=='N01V')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>4))thenif((eY[O5]==9)and(h4[144+O5]!=null)and(J07(h4[144+O5]))and(IsUnitInRange(it,h4[144+O5],1200.))and(not IsUnitVisible(it,GetOwningPlayer(h4[144+O5]))))thenset m5=h4[144+O5]elseset m5=KD7(800.,b5,Condition(function k6))endifendifif((m5!=null)and(GetHeroLevel(it)>4))thenif(not IsUnitInRange(it,m5,800.))thenset J4=((eY[O5]==9)or(not IsUnitVisible(it,GetOwningPlayer(m5))))and(A0E(it,m5))elseif(not IsUnitInRange(it,m5,300.))thenset UP=R2I(RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it)))-GetUnitFacing(it)))set J4=((GetUnitLifePercent(m5)<60.)or(KH7(600.,m5,Condition(function PA7))>0))and((A0E(it,m5))or((Bz>hq[O5])and(UP<50)and(GetUnitState(it,UNIT_STATE_MANA)>230.)and(TCE(it,true))))elseif(GetUnitLifePercent(m5)<40. and IsUnitInRange(it,m5,300.))thenset J4=A0E(it,m5)endifif(not J4)and((GetUnitManaPercent(it)>50.)or(GetUnitLifePercent(m5)<60.))thenset J4=IssueImmediateOrderById(it,852600)endifendifif((not J4)and(GetHeroLevel(it)>5)and(Bz>hq[16+O5]))thenset bj_lastLoadedUnit=m5set m5=Ie(bj_mapInitialPlayableArea,Condition(function P67))set J4=(m5!=null)and(KH7(800.,m5,Condition(function k6))>0)and(IssueImmediateOrderById(it,852493))set m5=bj_lastLoadedUnitendifif(not J4)and(Bz>SL4[32+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,'A0L8')>1)and(GetUnitState(it,UNIT_STATE_MANA)>=230.)thenif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(KG7(400.,b5,Condition(function k8))==0))thenset UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1=='H00S')thenif m5==null thenset m5=QK7(450.,it)if m5==null thenset m5=QK7(1000.,it)endifendifif NF7(it,"OverloadActive")thenif(h4[O5]!=null)and(GetUnitLevel(it)>5)and(not IsUnitInRange(it,h4[O5],450.))and(J57(m5,it))thencall UD7(it,m5,625*(GetUnitAbilityLevel(it,'A14O')+1),1.,99999)if FD7!=null thenset J4=KA7(it,852218,'A14O',FD7)endifendifif(not J4)thenset J4=IssueTargetOrderById(it,851983,m5)endifelseif m5!=null and(GetUnitLevel(it)>3)thenif(not J4)and((h4[O5]!=null)or(GetUnitState(it,UNIT_STATE_MANA)>200.))and((IsUnitInRange(it,m5,300.)or G0[256+O5]))thenset J4=(KZ7(it,852119,'A14R',m5))endifif(not J4)and(IsUnitInRange(it,m5,200.))thenset J4=(K37(it,852526,'A14P'))endifif(not J4)and(h4[O5]!=null)thenif(not IsUnitInRange(it,h4[O5],450.))and((J57(m5,it))or(G0[256+O5]))thencall UD7(it,m5,625*(GetUnitAbilityLevel(it,'A14O')+1),1.,99999)if FD7!=null thenset J4=KA7(it,852218,'A14O',FD7)endifelseif GetUnitState(it,UNIT_STATE_MANA)>300. thenset DD7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))call MoveLocation(HB,GetUnitX(it)+150*Cos(DD7),GetUnitY(it)+150*Sin(DD7))set J4=KA7(it,852218,'A14O',HB)endifendifif(not J4)thenif KH7(200.,it,Condition(function PM7))>2 and(GetUnitState(it,UNIT_STATE_MANA)>500. or GetUnitManaPercent(it)>90.)thenset J4=(K37(it,852526,'A14P'))endifendifendifelseif(i1=='H00Q')thenif(GetHeroLevel(it)>6)thenset m5=K3(700.,it,Condition(function k6))set J4=(m5!=null)and((GetUnitState(it,UNIT_STATE_LIFE)*.5)>GetUnitState(m5,UNIT_STATE_LIFE))and(IssueTargetOrderById(it,852231,m5))endifif(not J4)thenset m5=KD7(800.,b5,Condition(function P67))if(m5==null)thenset m5=KD7(600.,b5,Condition(function PA7))endifset J4=((m5!=null)and(GetUnitLifePercent(m5)<70.)and((GetHeroLevel(it)>4)or(J57(m5,it)))and(IssueTargetOrderById(it,852095,m5)))or((GetUnitLifePercent(it)<70.)and(IssueTargetOrderById(it,852095,it)))endifelseif(i1=='E01Y')thencall SetPlayerAbilityAvailable(pl,'A0RT',false)call SetPlayerAbilityAvailable(pl,'A0RV',false)set J4=(m5!=null)and(IsUnitInRange(it,m5,145+(40*GetUnitAbilityLevel(it,'A0RO'))))and(K37(it,852129,'A0RV'))if((not J4)and(GetHeroLevel(it)>5)and(KG7(900.,b5,Condition(function PR7))==0))thenset J4=(GetRandomInt(1,3)==1)and(GetUnitManaPercent(it)>60.)and(KG7(800.,b5,Condition(function k8))>2)and(KG7(800.,b5,Condition(function Kh))==0)and(not OA7(it))and(IssuePointOrderById(it,852190,GetUnitX(it)+GetRandomReal(-100.,100.),GetUnitY(it)+GetRandomReal(-100.,100.)))if((not J4)and(m5!=null)and(GetUnitAbilityLevel(m5,'B08M')==0))thenset J4=((GetUnitManaPercent(it)>60.)or(GetUnitLifePercent(m5)<70.))and(KH7(600.,m5,Condition(function Kh))==0)and(IssuePointOrderById(it,852190,GetUnitX(m5)+GetRandomReal(-100.,100.),GetUnitY(m5)+GetRandomReal(-100.,100.)))endifendifelseif(i1=='N00B')thenif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=KD7(1100.,b5,Condition(function k6))endifif((m5!=null)and(((GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>50.))or(GetUnitLifePercent(m5)<60.)))thenset J4=IssuePointOrderById(it,852662,GetUnitX(m5)+150.*Cos(GetUnitFacing(m5)*bj_DEGTORAD),GetUnitY(m5)+150.*Sin(GetUnitFacing(m5)*bj_DEGTORAD))if((GetUnitLifePercent(it)>70.)and((Bz>hq[16+O5])or(K97(m5,it)))and(G0[128+O5])and(GetUnitLifePercent(m5)<60.)and(GetUnitState(it,UNIT_STATE_LIFE)>(GetUnitState(m5,UNIT_STATE_LIFE)+(15.*GetHeroLevel(m5))))and((KH7(800.,m5,Condition(function QH7))-KH7(800.,m5,Condition(function PB7)))<=1))thenset h4[16+O5]=m5elseset h4[16+O5]=nullendifset hq[240+O5]=Bz+3.endifif((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<60.)and(IsUnitInRange(it,m5,700.)))thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(K67(m5)),GetUnitX(m5)-GetUnitX(K67(m5))))call SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0S8',true)set GZ[O5]=truecall J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5)+250.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+250.*Sin(UP*bj_DEGTORAD)))endifif(not J4)thenset m5=K3(400.,it,Condition(function k6))set J4=(m5!=null)and(IssueImmediateOrderById(it,852600))endifif((not J4)and(GetHeroLevel(it)>13)and(hq[416+O5]>Bz)and(Bz>hq[O5])and(G0[128+O5]))thenset UP=KG7(1000.,b5,Condition(function k6))if((UP>1)and((KG7(1000.,b5,Condition(function PB7))>0)or(KL7(IsUnitAlly(it,Y7[0]))==1)))thenset m5=KD7(800.,b5,Condition(function k6))if(KH7(375.,m5,Condition(function k6))>0)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0S8',true)set GZ[O5]=truecall J8(O5,IssuePointOrderById(it,852089,GetUnitX(m5),GetUnitY(m5)))endifendifendifelseif(i1=='N0EG')thenif m5==null thenset m5=KD7(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and((GetUnitLifePercent(m5)<60)or(h4[O5]!=null))thenset DD7=Atan2(GetUnitY(m5)-GetUnitY(it),GetUnitX(m5)-GetUnitX(it))if(ZI7(it,m5,DD7)!=null)or(ZE7(it,m5,DD7)!=null)thenset J4=KZ7(it,852119,'A12J',m5)if J4 thenset h4[O5]=m5endifendifif(not J4)and(not T27(it,m5,GetUnitX(m5),GetUnitY(m5),64,Condition(function YN7)))and(IsUnitInRange(it,bj_lastLoadedUnit,550.))thenset J4=KZ7(it,852119,'A12J',bj_lastLoadedUnit)if J4 thenset h4[O5]=m5endifendifif(not J4)and(h4[O5]!=null)and(GetUnitLifePercent(m5)<20.)thenset J4=KZ7(it,852119,'A12J',m5)endifendifif(not J4)and(Bz>SL4[O5])and(m5!=null)and(V98(m5)or GetUnitMoveSpeed(m5)<300.)and(IsUnitInRange(it,m5,700.))and((m5==h4[O5])or(GetUnitLifePercent(m5)<70))thenset J4=KB7(it,852581,'A12P','A1D6',m5)if J4 thenset h4[O5]=m5endifendifif m5==null thenset m5=KD7(1200.,b5,Condition(function k6))endifset UP=GetUnitAbilityLevel(it,'A12P')if UP==0 thenset UP=GetUnitAbilityLevel(it,'A1D6')endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and(GetUnitAbilityLevel(it,'A12K')>1)and((GetUnitState(it,UNIT_STATE_MANA)>200.+UP*100.)or(h4[O5]!=null))and((GetUnitLifePercent(m5)>40.)or(GetWidgetLife(m5)<GetUnitAbilityLevel(it,'A12K')*70))and(UD7(it,m5,3000.,1.,1800.)!=null)thenset J4=IssuePointOrderByIdLoc(it,852662,FD7)endifif(not J4)and(Bz>SL4[48+O5])and(((hq[704+O5]<-0.1)and(m5!=null))or((hq[704+O5]<-0.8)and(GetUnitLifePercent(it)<60.)))thenset J4=K37(it,852526,'A14I')endifif(not J4)and(Bz>SL4[32+O5])and(GetUnitAbilityLevel(it,'A12K')>1)and(GetUnitState(it,UNIT_STATE_MANA)>300.+UP*100.)thenset m5=K3(1500.,it,Condition(function PT7))if(m5!=null)thenset I04=itcall T27(it,m5,GetUnitX(m5),GetUnitY(m5),175,Condition(function Y47))if bj_forLoopAIndex>2 thenset J4=IssuePointOrderById(it,852662,GetUnitX(m5),GetUnitY(m5))endifendifendifif(not J4)and(Bz>SL4[16+O5])and(h4[O5]==null)and(GetUnitAbilityLevel(it,'A12J')>1)and(GetUnitState(it,UNIT_STATE_MANA)>=250.)thenif m5==null or(not IsUnitInRange(m5,it,700))thenset m5=KD7(700.,b5,Condition(function k6))endifif((not J4)and(m5!=null)and(not IsUnitInRange(it,m5,450.))and(iU(it))and(G0[128+O5])and(not G0[48+O5])and(KG7(400.,b5,Condition(function k8))==0))thenset UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))if(GetRandomInt(1,2)==1)thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))-25elseset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(it)-GetUnitY(m5),GetUnitX(it)-GetUnitX(m5)))+25endifset J4=IssuePointOrderById(it,851986,GetUnitX(m5)+UP*Cos(i1*bj_DEGTORAD),GetUnitY(m5)+UP*Sin(i1*bj_DEGTORAD))endifendifelseif(i1=='H00T')thenif(m5==null)thenset m5=KD7(1200.,b5,Condition(function k6))endifif(not J4)and(GetUnitLevel(it)>5)and(Bz>SL4[O5])and(not IsUnitInRange(it,m5,300))and(h4[O5]!=null)and(GZ[208+O5]or((KH7(700.,m5,Condition(function KI7))==0)and(GetUnitLifePercent(m5)<70. or K47(O5))))thenset UP=GetUnitAbilityLevel(it,'A0Z8')if UP==0 thenset UP=GetUnitAbilityLevel(it,'A1CV')endifif(UG7(it,m5,0.5,(UP+3)*500)!=null)thenif(T27(it,m5,GetLocationX(FD7),GetLocationY(FD7),125,Condition(function YI7)))or(IsUnitInRange(bj_lastReplacedUnit,m5,175)and(IsUnitEnemy(bj_lastReplacedUnit,Player(O5))or KJ7(it,OU[GR4])))thenset J4=(KC7(it,852652,'A0Z8','A1CV',GetLocationX(FD7),GetLocationY(FD7)))endifendifif J4 thencall I17(0.1)set J4=falseendifendifif(not J4)and(Bz>SL4[48+O5])and(GetUnitAbilityLevel(it,'A0Z6')>1)thenif(m5==null)thenset m5=KD7(99999.,GetUnitLoc(it),Condition(function k6))endifif((m5!=null))thenif(GetUnitLifePercent(m5)<50. or GetUnitState(it,UNIT_STATE_MANA)>300.)thenif J57(m5,it)or GZ[208+O5]or h4[O5]!=null thenif UD7(it,m5,1200.,0,99999.)!=null thenset J4=KA7(it,852089,'A0Z6',FD7)endifelseset J4=KA7(it,852089,'A0Z6',jv(m5))endifendifendifendifif(not J4)and(Bz>SL4[32+O5])and(m5!=null)and(H07(it)>1000.)and(G0[256+O5])and(GetUnitState(it,UNIT_STATE_MANA)>200.)and(IsUnitInRange(it,m5,210))thenset J4=IssueImmediateOrderById(it,852581)endifif(not J4)and(Bz>SL4[16+O5])and(h4[O5]!=null)and(IsUnitInRange(it,m5,275))thenset J4=IssueImmediateOrderById(it,852600)endifelseif(i1=='E02X')thencall SetPlayerAbilityAvailable(pl,'A27G',(GetHeroLevel(it)>9)and(GetUnitManaPercent(it)>70.))if eY[448+O5]!=0 and JC7(it)thenif(IsUnitInRange(it,h4[320+O5],950.))and(LoadInteger(C7,(GetHandleId(h4[320+O5])),(705))==eY[448+O5])thenset J4=IssueTargetOrderById(it,852665,h4[320+O5])elseset eY[448+O5]=0endifendifif((m5==null)and(G0[128+O5])and(GetHeroLevel(it)>3)and(GetUnitManaPercent(it)>70.))thenset m5=KD7(700.,b5,Condition(function k6))endifif not J4 thenset J4=(m5!=null)and(GetHeroLevel(it)>3)and((GetUnitManaPercent(it)>40.)or(J57(m5,it)))and(KZ7(it,852184,'A27G',m5))endifif(not J4)and hq[816+O5]>Bz thenset G0[288+O5]=truecall CVE()endifset G0[304+O5]=falseelseif(i1=='N0M0')thenif m5==null thenset m5=KD7(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and((h4[O5]!=null)or(GetUnitLifePercent(m5)<60))and(GetUnitState(it,UNIT_STATE_MANA)>100)thenset UP=1loopexitwhen UP>3set bj_lastCreatedUnit=(LoadUnitHandle(C7,GetHandleId(it),(1450+UP)))exitwhen bj_lastCreatedUnit==nullif(GetWidgetLife(bj_lastCreatedUnit)>0)and(IsUnitInRange(bj_lastCreatedUnit,m5,300))thenset J4=IssuePointOrderById(it,852185,GetUnitX(bj_lastCreatedUnit),GetUnitY(bj_lastCreatedUnit))exitwhen trueendifset UP=UP+1endloopif(not J4)and(not IsUnitInRange(it,m5,400))and(LoadInteger(C7,GetHandleId(it),(747))>0)and(UD7(it,m5,GetUnitMoveSpeed(it)*2.5,0.2,1500.)!=null)thenset J4=IssuePointOrderByIdLoc(it,852490,FD7)endifif J4 thenset h4[O5]=m5endifendifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and((h4[O5]!=null)or(GetUnitLifePercent(m5)<70))and(IsUnitInRange(it,m5,350))and(KH7(400.,it,Condition(function PM7))<=2)thenset J4=K37(it,852526,'A2H3')endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and((h4[O5]!=null)or(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>220))thenset J4=KZ7(it,852089,'A2H0',m5)endifif(not J4)and(m5!=null)and(Bz>SL4[48+O5])and(h4[O5]!=null)thenset J4=IssueImmediateOrderById(it,852600)endifif(not J4)and(Bz>SL4[32+O5])and(GetUnitManaPercent(it)>50 and GetUnitState(it,UNIT_STATE_MANA)>400)thenset m5=KD7(700.,b5,Condition(function PM7))if(m5!=null)thenset J4=KZ7(it,852089,'A2H0',m5)endifendifelseif(i1=='E02K')thenif m5==null thenset m5=KD7(700.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and((GetUnitLifePercent(m5)<70.)or(h4[O5]!=null))thenset UP=KG7(315.,jv(m5),Condition(function k8))if(not J4)thenset J4=(UP>=3)and(KZ7(it,852089,'A2JB',m5))endifendifif(not J4)and(Bz>SL4[32+O5])and((GetUnitLifePercent(it)<60)or((h4[O5]!=null)and((GetUnitLifePercent(it)<80)or(UnitCountBuffsEx(it,false,true,true,true,false,false,false)>=0))))thenset J4=IssueTargetOrderById(it,852248,it)endifif(not J4)and(Bz>SL4[O5])and(G0[256+O5])and((GetUnitLifePercent(m5)<30 and GetUnitLifePercent(it)>GetUnitLifePercent(m5)+25)or(GZ[208+O5]and GetUnitLifePercent(m5)<60))thenset J4=IssueTargetOrderById(it,852095,m5)endifif(not J4)and(Bz>SL4[32+O5])thenset m5=KD7(800.,b5,Condition(function P67))set J4=(m5!=null)and(IssueTargetOrderById(it,852248,m5))endifelseif(i1=='H0DO')thenif m5==null thenset m5=KD7(800.,b5,Condition(function k6))endifif(not J4)and(m5!=null)and(Bz>SL4[48+O5])and((h4[O5]!=null)or(GetUnitManaPercent(m5)>60 and GetUnitLifePercent(m5)<70))and((Bz<SL4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A2BG',FI7)+100))thenset J4=KZ7(it,852668,'A2HN',m5)endifif(not J4)and(m5!=null)and(Bz>SL4[O5])and((GetUnitLifePercent(m5)<30)or(V98(m5))or(GetUnitAbilityLevel(m5,'B0FY')!=0))thenset J4=(UG7(it,m5,0.5,1200)!=null)and(IssuePointOrderByIdLoc(it,852662,FD7))endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null))and(KH7(J77(it,m5),it,Condition(function k6))<=1)thenset J4=K37(it,852526,'A2IT')endifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and((GetUnitLifePercent(m5)<70)or(h4[O5]!=null)or(GetUnitManaPercent(m5)>80))and((Bz<SL4[O5])or(GetUnitState(it,UNIT_STATE_MANA)>O6E(it,'A2BG',FI7)+100))thenset J4=KZ7(it,852119,'A2BE',m5)endifelseif(i1=='E032')thenif m5==null thenset m5=KD7(700.,b5,Condition(function k6))endifif(not J4)thenif GetUnitAbilityLevel(it,'A2FX')==0 thenif(h4[O5]!=null)and(not IsUnitInRange(it,m5,400))thenif UD7(it,m5,1000,0.1,1200)!=null thencall IssuePointOrderByIdLoc(it,852216,FD7)endifendifelseif(h4[O5]==null)or(IsUnitInRange(it,m5,400))or(KH7(225,MZ7(GetHandleId(it),"AI|ShredChakram"),Condition(function k6))==0)thencall IssueImmediateOrderById(it,852177)endifendifcall TriggerSleepAction(0.1)endifif(not J4)and(m5!=null)and(Bz>SL4[32+O5])and((h4[O5]!=null)or(GetUnitLifePercent(it)<70))thenset UP=600+200*GetUnitAbilityLevel(it,'A2E3')if UD7(it,m5,2*UP,0.8,UP)!=null thenif QB7(it,UP)or((VZ4!=null)and(bj_enumDestructableRadius==0)and(J77(VZ4,it)>400.))thenset J4=IssuePointOrderByIdLoc(it,852662,FD7)endifendifif(not J4)and(GetUnitLifePercent(m5)<30)thenif QZ7(jv(m5),300)and(J77(VZ4,it)>400.)thenset J4=IssuePointOrderById(it,852662,GetDestructableX(VZ4),GetDestructableY(VZ4))endifendifendifif(not J4)and(m5!=null)and(Bz>SL4[16+O5])and(IsUnitInRange(it,m5,300))thenset J4=K37(it,852526,'A2FK')endifendifif not G0[304+O5]thenif((not J4)and(is(it)))thenif(GetUnitAbilityLevel(it,'B01Q')>0)thenset m5=KD7(250.,b5,Condition(function k6))if(m5!=null)thencall UnitRemoveAbility(it,'B01Q')set J4=IssueTargetOrderById(it,851983,m5)elseset m5=KD7(800.,b5,Condition(function k6))set J4=(m5!=null)and(not IsUnitVisible(it,GetOwningPlayer(m5)))and(IssueTargetOrderById(it,851986,m5))endifelseif((J77(it,K67(it))<1000.)and(eY[O5]==1))thenif(KJ7(it,OU[N6]))thenif(h8[16+O5]==h7[14])thenset J4=ATE(0)elseif(h8[16+O5]==h7[35])thenset J4=ATE(1)elseif(h8[16+O5]==h7[55])thenset J4=ATE(2)endifelseif((GetHeroLevel(it)<11)and(not KK7(it)))thenset m5=nullif(((i1=='H00I')and(GetHeroLevel(it)>5))or(i1=='H00J'))thenelseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[14])and(PB4<1))thenset m5=KG4elseif((IsPlayerAlly(pl,Y7[0]))and(h8[16+O5]==h7[14])and(PY4<1))thenset m5=JV4elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[35])and(PC4<1))thenset m5=KF4elseif((IsPlayerAlly(pl,Y7[0]))and(h8[16+O5]==h7[35])and(PZ4<1))thenset m5=JU4elseif((IsPlayerAlly(pl,Z7[0]))and(h8[16+O5]==h7[55])and(P34<1))thenset m5=KH4elseif((IsPlayerAlly(pl,Y7[0]))and(h8[16+O5]==h7[55])and(PA4<1))thenset m5=JW4endifif(m5!=null)thenloopcall TriggerSleepAction(0.5)exitwhen(Bz>G27[160+O5])endloopset J4=OO7(it,m5)if(not J4 or not L4E)thencall DisableTrigger(HR4)call RemoveItem(C_E)call EnableTrigger(HR4)elsecall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)-0))call M87(StringHash("Stats"+I2S(O5)),"NumOfConsumables",M_7(StringHash("Stats"+I2S(O5)),"NumOfConsumables")+1)endifendifendifendifif((not J4)and(KJ7(it,OU[DL4])))thenset m5=KD7(700.,b5,Condition(function KA))if((m5!=null)and(GetUnitState(m5,UNIT_STATE_LIFE)>100.)and(GetUnitState(m5,UNIT_STATE_LIFE)<400.))thenif(not(IsUnitInRange(m5,it,550)))thencall IssuePointOrderById(it,851986,GetUnitX(m5),GetUnitY(m5))call I17(.5)endifset J4=(KH7(600.,it,Condition(function KA))>3)and(UnitUseItem(it,bj_lastCreatedItem))endifset m5=nullset J4=falseendifif((not J4)and(KJ7(it,OU[DL])))thenif((GetRandomInt(1,10)<=4)and(Bz>hq[144+O5]))thenset m5=KD7(700.,b5,Condition(function k8))set J4=(m5!=null)and(not IsUnitType(m5,UNIT_TYPE_MECHANICAL))and(not IsUnitType(m5,UNIT_TYPE_HERO))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and KJ7(it,OU[W3]))thenset J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and KJ7(it,OU[DC4])and(NF7(it,"ArmletOfMordigan|Active")==false)and(GetUnitLifePercent(it)>90.)and(IsUnitInRange(it,m5,150.)))thenset J4=(m5!=null)and(UnitUseItem(it,bj_lastCreatedItem))elseif(KJ7(it,OU[DB4])and(NF7(it,"ArmletOfMordigan|Active")==true)and((not IsUnitInRange(it,m5,150.))or(GetUnitLifePercent(it)<60.)))thenset J4=(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and KJ7(it,OU[GC]))thenset J4=(m5!=null)and((GetUnitLifePercent(m5)<20)or(GetUnitMoveSpeed(m5)<300))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(KJ7(it,OU[E74])))thenset J4=(m5!=null)and(GetUnitLifePercent(m5)<30)and(G0[256+O5]or GZ[208+O5])and(I27(m5,it,30))and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(KJ7(it,OU[EE4]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>SL4[224+O5])and(GetUnitState(m5,UNIT_STATE_LIFE)<120))thenset J4=(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(KJ7(it,OU[WB]))and(GetItemCharges(bj_lastCreatedItem)>0)and(Bz>SL4[256+O5]))thenset J4=((KH7(900.,it,Condition(function QH7)))>2)and((KH7(900.,it,Condition(function PB7)))>1)and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(KU7(it))and(Bz>SL4[192+O5]))thenif(GetUnitState(it,UNIT_STATE_LIFE)<150)or((GetItemCharges(bj_lastCreatedItem)>=8)and(GetUnitLifePercent(it)<50 or GetUnitManaPercent(it)<20)and(J77(it,h9[16+O5])>600))thenset J4=UnitUseItem(it,bj_lastCreatedItem)endifendifif((not J4)and(KJ7(it,OU[FS4])))thenset J4=(Bz>hq[128+O5])and((GetUnitState(it,UNIT_STATE_MAX_MANA)-GetUnitState(it,UNIT_STATE_MANA))>150.)and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(KJ7(it,OU[DQ4])))thenset J4=((Bz+20.)<hq[O5]or(Bz+20.)<SL4[O5])and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(KJ7(it,OU[DM4])))thenset J4=(GetUnitLifePercent(it)<50)and((h4[O5]!=null)or(G0[256+O5])or(GZ[208+O5]))and(UnitUseItem(it,bj_lastCreatedItem))endifif((not J4)and(KJ7(it,OU[YC])))thenif(N77(QC4,P1E(it)+"|G"))thenset m5=KF7(700.,b5,Condition(function Km))set J4=(m5!=null)and(GetRandomInt(1,8)==1)and(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(m5)+GetRandomReal(0.,200.)-100.,GetUnitY(m5)+GetRandomReal(0.,200.)-100.))if((not J4)and(GetRandomInt(1,4)==1)and(KF7(1000.,b5,Condition(function PR7))==null)and(KF7(1200.,b5,Condition(function Km))!=null))thenset J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))endifendifif((not J4)and(GetRandomInt(1,5)==1)and(J77(it,K67(it))>5000.)and(GetItemCharges(bj_lastCreatedItem)>1)and(KF7(800.,b5,Condition(function k8))!=null)and(KF7(1000.,b5,Condition(function PR7))==null)and(KF7(1100.,b5,Condition(function K7))==null))thenset J4=(UnitUseItemPoint(it,bj_lastCreatedItem,GetUnitX(it)+GetRandomReal(0.,200.)-100.,GetUnitY(it)+GetRandomReal(0.,200.)-100.))endifendifif((not J4)and(KJ7(it,OU[RL])))thenif(m5!=null)and(GetUnitLifePercent(m5)<30)thenset J4=UnitUseItemTarget(it,bj_lastCreatedItem,m5)elseset m5=QR7(500.,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and(KJ7(it,OU[DV4])))thenif not((m5!=null)and(IsUnitType(m5,UNIT_TYPE_HERO))and(IsUnitEnemy(m5,Player(O5))))thenset m5=KF7(900.,b5,Condition(function k6))endifif(m5!=null)thenset m5=QP7(900.,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifif((not J4)and(KJ7(it,OU[Z3])))and(h4[O5]!=null)thenset m5=QT7(600,it)set J4=(m5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifif((not J4)and(KJ7(it,OU[E74])))thenset m5=QO7(800,it)if(J_7(m5))thenset bj_forLoopAIndexEnd=GetPlayerId(GetOwningPlayer(m5))if I27(m5,h9[16+bj_forLoopAIndexEnd],20)thenset b5=kk(m5,600.,h9[16+bj_forLoopAIndexEnd])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))if J4 thenset h9[bj_forLoopAIndexEnd]=h9[16+bj_forLoopAIndexEnd]endifelseif(I27(m5,h9[bj_forLoopAIndexEnd],20))and(h9[bj_forLoopAIndexEnd]!=h9[16+bj_forLoopAIndexEnd])thenset b5=kk(m5,600.,h9[bj_forLoopAIndexEnd])set J4=(b5!=null)and(UnitUseItemTarget(it,bj_lastCreatedItem,m5))endifendifendifendifif((not J4)and(h4[O5]!=null)and(G0[128+O5])and(GetHeroLevel(it)>5))thenset UP=GetUnitCurrentOrder(it)set m5=h4[O5]if(((UP==851983)or(UP==851993))and(IsUnitVisible(m5,pl))and(GetUnitAbilityLevel(m5,'B02F')==0)and(not IC(O5))and((GetUnitLifePercent(it)+15.)>GetUnitLifePercent(m5))and(not G0[48+O5]))thencall IssueTargetOrderById(it,851983,m5)elseif((UP==851986)and(IsUnitInRange(it,m5,600.)))thencall V2E(it,m5)endifendifendifset it=nullset pl=nullset b5=nullset C2E=nullset m5=nullset L8E=nullendfunctionfunction CWE takes nothing returns nothinglocal unit it=bj_lastLoadedUnitlocal unit m5=nulllocal integer i1=GetUnitTypeId(it)local integer O5=GetPlayerId(GetOwningPlayer(it))local integer UPlocal boolean J4=falseif LR4 thencall TriggerSleepAction(GetRandomReal(0.2,0.4))endifset LR4=trueif((i1=='n00H')or(i1=='n00G')or(i1=='n00K')or(i1=='n00J')or(i1=='n00A')or(i1=='n006'))thenset m5=h4[O5]if(m5==null)thenset m5=KD7(1000.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(G7[O5])>50.)and(GetHeroLevel(G7[O5])>5)and(not G0[O5])and(G0[128+O5])and(is(G7[O5]))and(IsUnitInRange(G7[O5],m5,800.)))thenset UP=GetUnitTypeId(G7[O5])if(UP=='Oshd')thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(GetUnitState(G7[O5],UNIT_STATE_MANA)>hq[272+O5])and(KZ7(G7[O5],852480,'A02Q',m5))elseif(UP=='U00F')thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<80.)and(IsUnitInRange(G7[O5],m5,450.))and(KB7(G7[O5],852480,'A0FL','A1CX',m5))elseif(UP=='Emoo')thencall KZ7(G7[O5],852075,'A0DX',m5)elseif(UP=='Uktl')thenset J4=(Bz>hq[O5])and(GetUnitLifePercent(m5)<70.)and(not kr(G7[O5]))and(IssueTargetOrderById(G7[O5],OrderId("cannibalize"),m5))elseif(UP=='Orkn')thenif(IsUnitInRange(G7[O5],m5,400)or V98(m5))thenset GZ[O5]=truecall J8(O5,KZ7(G7[O5],852480,'A00P',m5))endifelseif(UP=='Hjai')thencall KZ7(G7[O5],852171,'A04C',m5)elseif(UP=='H00A')thencall KZ7(G7[O5],852585,'A0KM',m5)elseif(UP=='H00D')thenset J4=(GetUnitLifePercent(m5)<50.)and(KB7(G7[O5],852095,'A0O2','A289',m5))elseif(UP=='E01C')thenif((GetUnitLifePercent(m5)<50.)and(IsUnitInRange(G7[O5],m5,650.)))thenset GZ[O5]=trueset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h8[O5])-GetUnitY(G7[O5]),GetUnitX(h8[O5])-GetUnitX(G7[O5])))call SetPlayerAbilityAvailable(GetOwningPlayer(it),'A06P',true)call J8(O5,IssuePointOrderById(G7[O5],852089,GetUnitX(m5)+200.*Cos(UP*bj_DEGTORAD),GetUnitY(m5)+200.*Sin(UP*bj_DEGTORAD)))endifelseif(UP=='N01W')thenset J4=KZ7(G7[O5],852095,'A0NQ',m5)endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and((IssueTargetOrderById(it,OrderId("creepheal"),m5))or(IssueTargetOrderById(it,851983,m5)))elseif((i1=='U00A')or(i1=='HC49')or(i1=='Eevm')or(i1=='o007')or(i1=='o00F')or(i1=='hwat')or(i1=='hwt2')or(i1=='hwt3')or(i1=='h006')or(GetUnitAbilityLevel(it,'B030')>0))thenset m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(G7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(G7[O5]))and(IsUnitInRange(G7[O5],m5,800.)))thenset UP=GetUnitTypeId(G7[O5])if(UP=='U00A')thenset J4=(KZ7(G7[O5],852231,'A055',m5))or(IssueTargetOrderById(G7[O5],851983,m5))elseif(UP=='HC49')thenset J4=(KZ7(G7[O5],852095,'A24D',m5))or(IssueTargetOrderById(G7[O5],851983,m5))elseif((UP=='E015')or(UP=='Eevm')or(UP=='Uktl'))thencall IssueTargetOrderById(G7[O5],851983,m5)endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5))elseif(i1=='n027')thenset m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifif((m5!=null)and(GetUnitLifePercent(G7[O5])>50.)and(not G0[O5])and(G0[128+O5])and(is(G7[O5]))and(IsUnitInRange(G7[O5],m5,800.)))thenset UP=GetUnitTypeId(G7[O5])if(UP=='H00U')thenset J4=((Bz>SL4[16+O5])and RX7(G7[O5],BM4,BM4,BM4,'A0VZ')and(KZ7(G7[O5],852505,'A0VZ',m5)))or(IssueTargetOrderById(G7[O5],851983,m5))endifendifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and((GetUnitLevel(G7[O5])>16)or(GetUnitLifePercent(m5)<10.))and(GetUnitLifePercent(m5)<25.)and(IssueTargetOrderById(it,851983,m5))elseif((i1=='n01G')or(i1=='n01C')or(i1=='n018')or(i1=='n004'))thenif(((GetUnitLifePercent(it)<25.)or(GZ[288+O5]))and((h4[O5]==null)or(not IsUnitInRange(it,G7[O5],1000.))))thenset J4=jW(it,851986,K67(it))set GZ[288+O5]=GetUnitLifePercent(it)<50.elseif((not GZ[272+O5])and(not G0[16+O5])and(G0[128+O5]))thenset m5=G7[O5]set J4=(GetUnitLifePercent(it)<90.)and(J77(K67(it),it)<400.)and(jW(it,851986,K67(it)))set UP=R2I(J87(GetUnitX(it),GetUnitY(it),GetUnitX(m5),GetUnitY(m5)))call SetPlayerAbilityAvailable(GetOwningPlayer(it),'A0A7',UP>800)if(not J4)thenif(UP>1000)thenset J4=((UP>3000)and(IssueImmediateOrderById(it,852594)))or(IssueTargetOrderById(it,851971,m5))elseset J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((J77(it,h8[O5])+700.)<J77(m5,h8[O5]))))and(jW(it,851986,h9[O5]))endifendifif((not J4)and(GetHeroLevel(G7[O5])<12)and(Bz>hq[240+O5])and(eY[O5]==1))thenset m5=KD7(600.,jv(it),Condition(function KD))if(m5==null)thenset m5=KD7(600.,jv(it),Condition(function Kc))endifset J4=(m5!=null)and(IssueTargetOrderById(it,851971,m5))if((not J4)and(KG7(400.,jv(it),Condition(function Ka))>0))thenset m5=KD7(400.,jv(it),Condition(function k6))if(m5==null)thenset UP=R2I(bj_RADTODEG*Atan2(GetUnitY(h9[O5])-GetUnitY(it),GetUnitX(h9[O5])-GetUnitX(it)))set J4=IssuePointOrderById(it,851986,GetUnitX(it)+350.*Cos(UP*bj_DEGTORAD),GetUnitY(it)+350.*Sin(UP*bj_DEGTORAD))elseset J4=IssueTargetOrderById(it,851971,m5)endifendifendifelseset J4=jW(it,851986,K67(it))endifelseif(GetUnitTypeId(G7[O5])=='H00A')thenset m5=G7[O5]set J4=(((GetUnitLifePercent(it)<90.)and(J77(K67(it),it)<400.))or(not J07(m5)))and(jW(it,851986,K67(it)))if((not J4)and(GetUnitLifePercent(it)<30.))thenset J4=((i1=='nomg')or(i1=='nfpc')or(i1=='nsth')or(i1=='ncnk'))and(jW(it,851986,K67(it)))endifif(i1=='nomg')thenif((not J4)and(GetRandomInt(0,5)>1))thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACf2',true)set J4=((GetUnitAbilityLevel(m5,'BUfa')==0)and(IsUnitInRange(it,m5,800.))and(IssueTargetOrderById(it,852225,m5)))or((GetUnitAbilityLevel(it,'BUfa')==0)and(IssueTargetOrderById(it,852225,it)))call SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACf2',J4)elsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACf2',false)endifendifif(not J4)thenif(not IsUnitInRange(it,m5,1000.))thenif((h9[O5]!=K67(it))and(not IsUnitInRange(it,m5,3000.))and((RAbsBJ(GetUnitX(it)-GetUnitX(m5))>3000.)and(RAbsBJ(GetUnitY(it)-GetUnitY(m5))>3000.)))thenset J4=jW(it,851983,h9[O5])elseset J4=IssueTargetOrderById(it,851971,m5)endifelseset J4=((not G0[128+O5])or((GetUnitCurrentOrder(m5)==851986)and((J77(it,h8[O5])+450.)<J77(m5,h8[O5]))))and(jW(it,851986,h9[O5]))endifendifif((GetUnitLifePercent(it)<50.)and(IsUnitInRange(it,m5,600.))and(iU(m5)))thenif(((i1=='nomg')or(i1=='nfpc')or(i1=='nsth')or(i1=='ncnk'))and(J77(it,K67(it))>4000.))thencall KZ7(m5,852131,'A28T',it)endifendifif((not J4)and(h4[O5]!=null))thenset m5=h4[O5]if(i1=='nsth')thenset J4=(IsUnitInRange(it,m5,700.))and(IssueTargetOrderById(it,852125,m5))elseif((i1=='nfpc')or(i1=='ncnk'))thenset J4=(IsUnitInRange(it,m5,250.))and(IssueTargetOrderById(it,852127,m5))endifendifelseif((i1=='n01Q')or(i1=='n01R'))thenset J4=((J07(G7[O5]))and(IssueTargetOrderById(it,851986,G7[O5])))elseif((i1=='u003')or(i1=='u005')or(i1=='u009'))thenelseif((i1=='u014')or(i1=='u015')or(i1=='u016'))thenif(NF7(G7[O5],"AIFamiliar1|Status")==false)thencall CCE(O5,it)endifset J4=trueelseif((i1=='u01D')or(i1=='u01E')or(i1=='u01F'))thenif(NF7(G7[O5],"AIFamiliar2|Status")==false)thencall CCE(O5,it)endifset J4=trueelseif((i1=='e00K')or(i1=='e00I')or(i1=='e00L'))thenset h4[16+O5]=itif(is(it))thenset J4=(((G0[16+O5])or((GetUnitLifePercent(it)<90.)and(J77(K67(it),it)<400.)))and(jW(it,851986,K67(it))))or((GetUnitState(it,UNIT_STATE_LIFE)<175.)and((jW(it,852525,K67(it)))or(jW(it,851986,K67(it)))))if((h8[528+O5]!=null)and(not J4))thenset UP=GetUnitUserData(h8[528+O5])if((UP<10)or(UP>60))thenset UP=GetUnitUserData(h9[512+O5])endifif((UP>=10)and(UP<=18))thenset m5=h7[10+hB]elseif((UP>=30)and(UP<=40))thenset m5=h7[30+hc]elseif((UP>=50)and(UP<=60))thenset m5=h7[50+hC]endifif((Bz>hq[240+O5])and(GetRandomInt(1,2)==1))thenif((m5!=h7[10+hB])and(KH7(900.,h7[10+hB],Condition(function KC))>4)and(KH7(900.,h7[10+hB],Condition(function PR7))>0))thenset m5=h7[10+hB]set hq[240+O5]=Bz+30.elseif((m5!=h7[30+hc])and(KH7(900.,h7[30+hc],Condition(function KC))>4)and(KH7(900.,h7[30+hc],Condition(function PR7))>0))thenset m5=h7[30+hc]set hq[240+O5]=Bz+30.elseif((m5!=h7[50+hC])and(KH7(900.,h7[50+hC],Condition(function KC))>4)and(KH7(900.,h7[50+hC],Condition(function PR7))>0))thenset m5=h7[50+hC]set hq[240+O5]=Bz+30.endifendifif((UP>=10)and(UP<=60))thenif(IsUnitAlly(it,Z7[0]))thenset UP=hj[512+GetUnitUserData(m5)]elseset UP=GetUnitUserData(m5)endifset h8[512+O5]=h7[UP+1]set h8[528+O5]=h7[UP]set h9[512+O5]=h7[UP-1]endifendifif(GZ[O5])thenset J4=IssueImmediateOrderById(it,852521)set GZ[O5]=falseelseif(h8[512+O5]!=null)thenset J4=((not IsUnitInRange(it,h8[528+O5],3500.))and(jW(it,852525,h8[528+O5])))or(jW(it,851983,h8[512+O5]))elseset J4=((G7[O5]!=null)and(not IsUnitInRange(it,G7[O5],400.))and(jW(it,851983,G7[O5])))endifendifendifelseif((i1=='e00M')or(i1=='e00N')or(i1=='e00O'))thenif((eY[O5]!=3)and(eY[O5]!=4))thenif(((GetUnitY(it)>4000.)and(GetUnitY(it)<7000.))or((GetUnitX(it)>-7500.)and(GetUnitX(it)<-5000.)))thenset m5=h7[30+hc]elseif(((GetUnitY(it)>-8000.)and(GetUnitY(it)<-5500.))or((GetUnitX(it)>4500.)and(GetUnitX(it)<7000.)))thenset m5=h7[50+hC]elseset m5=h7[10+hB]endifif(IsUnitAlly(it,Z7[0]))thenset UP=hj[512+GetUnitUserData(m5)]elseset UP=GetUnitUserData(m5)endifset J4=jW(it,851983,h7[UP+1])endifelseif((i1=='n00U')or(i1=='n00Y')or(i1=='n00Z'))thenset m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifset J4=(GetUnitLifePercent(it)<90.)and(GetUnitLifePercent(G7[O5])>50.)and(not G0[O5])and(is(G7[O5]))and(IsUnitInRange(G7[O5],it,800.))and(IssueTargetOrderById(G7[O5],852248,it))if((not J4)and(m5!=null)and(GetUnitLifePercent(m5)<50.)and(GetUnitLifePercent(G7[O5])>50.)and(not G0[O5])and(is(G7[O5]))and(IsUnitInRange(G7[O5],m5,800.)))thenset GZ[O5]=trueset J4=J8(O5,KZ7(G7[O5],852089,'A06P',m5))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5))elseif(GetUnitAbilityLevel(it,'B03A')>0)thenset J4=(GetUnitLifePercent(it)<50.)and(jW(it,851986,h9[O5]))elseif((i1=='npn3')or(i1=='npn6')or(i1=='n010')or(i1=='n0GZ'))thencall Z2E(it,16+O5)if(GZ[272+O5])thenset J4=jW(it,851986,h9[16+O5])elseset m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and((IssueTargetOrderById(it,852252,m5))or(IssueImmediateOrderById(it,852520))or((GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5))))endifcall Z_E(it,16+O5,J4)set J4=trueelseif((i1=='npn2')or(i1=='npn5')or(i1=='n012')or(i1=='n0H1'))thencall Z2E(it,512+O5)set m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifif(m5!=null)thencall SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACcy',true)set J4=(GZ[272+O5])and(IssueTargetOrderById(it,852144,m5))call SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACcy',J4)if(not J4)thenset J4=((UnitCountBuffsExBJ(bj_BUFF_POLARITY_POSITIVE,bj_BUFF_RESIST_EITHER,GetFilterUnit(),false,false)>0)and(IssueTargetOrderById(it,852057,m5)))or((GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5)))endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(it),'ACcy',false)endifcall Z_E(it,512+O5,J4)if(GetUnitLifePercent(it)<25.)thenset J4=IssueImmediateOrderById(it,852129)elseif(GetUnitAbilityLevel(it,'BOwk')>0)thenset J4=jW(it,851986,h9[16+O5])endifset J4=trueelseif((i1=='npn1')or(i1=='npn4')or(i1=='n011')or(i1=='n0H0'))thencall Z2E(it,528+O5)set m5=h4[O5]if(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5))call Z_E(it,528+O5,J4)set J4=trueelseif((i1=='n01M')or(i1=='n01S'))thenset m5=h4[O5]set h4[16+O5]=itif(m5==null)thenset m5=KD7(800.,jv(it),Condition(function k6))endifset J4=(m5!=null)and(GetUnitAbilityLevel(m5,'B02F')==0)and(IssueTargetOrderById(it,851983,m5))endifif(not J4)thenif h4[O5]!=null thencall IssueTargetOrderById(it,851983,h4[O5])elseif((eY[O5]>=9))thencall IssueTargetOrderById(it,851990,G7[O5])elseif((eY[O5]!=3)and(eY[O5]!=4))thencall jW(it,851983,h8[O5])elseif((J07(G7[O5]))and(IsUnitInRange(it,G7[O5],1200.)))thenset m5=G7[O5]elseset m5=KD7(1200.,jv(it),Condition(function k8))endifset J4=((m5!=null)and(IssuePointOrderById(it,851983,GetUnitX(m5),GetUnitY(m5))))or(jW(it,851983,h8[64+O5]))endifendifset it=nullset m5=nullendfunctionfunction L9E takes nothing returns nothinglocal integer O5=1local real J47loopexitwhen O5>11if(IsPlayerInForce(Player(O5),QP4))thencall GroupClear(QZ4)call GroupEnumUnitsOfPlayer(QZ4,Player(O5),QA4)call ForGroup(QZ4,function CUE)endifif G7[O5]!=null and GetWidgetLife(G7[O5])>.405 thenset J47=GetUnitState(G7[O5],UNIT_STATE_LIFE)/GetUnitState(G7[O5],UNIT_STATE_MAX_LIFE)set hq[704+O5]=(J47-hq[688+O5])if(Bz>hq[736+O5])or(hq[720+O5]>hq[704+O5])thenset hq[720+O5]=hq[704+O5]set hq[736+O5]=Bz+10.endifset hq[688+O5]=J47endifset O5=O5+1endloopendfunctionfunction LDE takes nothing returns booleanreturn(IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)and(not O67(GetSpellAbilityId())))endfunctionfunction LEE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)if((J_7(m5))or(not iU(m5)))thenelseif((i1=='UC01')and(GetUnitLifePercent(m5)<40.))thencall KB7(m5,852125,'A28R','A28S',j5)elseif(i1=='U00F')thencall A1E(m5,j5)elseif((i1=='Opgh')and(IsUnitInRange(m5,j5,400.)))thencall IssueImmediateOrderById(m5,852600)elseif((i1=='Ofar')and(IsUnitInRange(m5,j5,500.)))thencall K37(m5,852588,'A29I')elseif(i1=='Uktl')thencall IssueTargetOrderById(m5,852600,j5)elseif((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))thenset i1=R2I(bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5)))call IssuePointOrderById(m5,852600,GetUnitX(m5)+150.*Cos(i1*bj_DEGTORAD),GetUnitY(j5)+150.*Sin(i1*bj_DEGTORAD))elseif(i1=='Ntin')thencall IssueTargetOrderById(m5,852190,j5)elseif((i1=='Hjai')and(IsUnitInRange(m5,j5,500.))and(GetUnitLifePercent(m5)<50.))thencall IssueImmediateOrderById(m5,852600)elseif(i1=='N0HP')thenelseif(i1=='H00K')thencall KC7(m5,852504,'A0AK','A1FY',GetUnitX(j5),GetUnitY(j5))elseif(i1=='N01V')thencall A0E(m5,j5)elseif(i1!='U00E')thencall BHE(m5,j5)endifset j5=nullset m5=nullendfunctionfunction LFE takes unit u returns booleanlocal real LGE=1.if(SC4)thenif(X54[GetPlayerId(GetOwningPlayer(u))]==X_4)thenset LGE=10.0-GetRandomReal(0,100)elseif(X54[GetPlayerId(GetOwningPlayer(u))]==Y44)thenset LGE=45.0-GetRandomReal(0,100)elseif(X54[GetPlayerId(GetOwningPlayer(u))]==Y74)thenset LGE=65.0-GetRandomReal(0,100)endifelseif(X54[GetPlayerId(GetOwningPlayer(u))]==X_4)thenset LGE=0.endifendifreturn(LGE>0)endfunctionfunction LHE takes unit j5,unit LIE,real kl returns nothinglocal real IW=bj_RADTODEG*Atan2(GetUnitY(LIE)-GetUnitY(j5),GetUnitX(LIE)-GetUnitX(j5))if(IW>kl)thenset IW=IW+90elseset IW=IW-90endifif not((GetUnitAbilityLevel(LIE,'N00B')>0)and(K37(LIE,852514,'A0SB')))thencall IssuePointOrderById(LIE,851986,GetUnitX(LIE)+250.*Cos(IW*bj_DEGTORAD),GetUnitY(LIE)+250.*Sin(IW*bj_DEGTORAD))endifendfunctionfunction LJE takes nothing returns booleanreturn((IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO))and(IsUnitEnemy(GetFilterUnit(),QD4))and(GetPlayerController(GetOwningPlayer(GetFilterUnit()))==MAP_CONTROL_COMPUTER)and(GetWidgetLife(GetFilterUnit())>.405)and(JC7(GetFilterUnit())))endfunctionfunction LKE takes aidifficulty d returns realif d==AI_DIFFICULTY_NEWBIE thenreturn 0.2elseif d==AI_DIFFICULTY_NORMAL thenreturn 0.1endifreturn 0.05endfunctionfunction LME takes nothing returns nothinglocal integer LNE=GetHandleId(GetExpiredTimer())local unit ulocal real x0local real y0local real x1local real y1local real rif LoadReal(C7,LNE,7)<TimerGetElapsed(P)thencall FlushChildHashtable(C7,LNE)call DestroyTimer(GetExpiredTimer())elseset u=LoadUnitHandle(C7,LNE,1)set x0=LoadReal(C7,LNE,2)set y0=LoadReal(C7,LNE,3)set x1=LoadReal(C7,LNE,4)set y1=LoadReal(C7,LNE,5)set r=LoadReal(C7,LNE,6)set u=nullendifendfunctionfunction AI_DodgeLineStarter takes nothing returns nothinglocal integer LNEset bj_lastStartedTimer=CreateTimer()set LNE=GetHandleId(bj_lastStartedTimer)call SaveUnitHandle(C7,LNE,1,GetEnumUnit())call SaveReal(C7,LNE,2,P24)call SaveReal(C7,LNE,3,P_4)call SaveReal(C7,LNE,4,Q44)call SaveReal(C7,LNE,5,Q74)call SaveReal(C7,LNE,6,Q84)call SaveReal(C7,LNE,7,Q94)call TimerStart(bj_lastStartedTimer,LKE(GetAIDifficulty(GetOwningPlayer(GetEnumUnit()))),true,function LME)endfunctionfunction LOE takes nothing returns nothinglocal unit T_7=GetEnumUnit()local real x1=GetUnitX(T_7)local real y1=GetUnitY(T_7)local real dx=Q44-P24local real dy=Q74-P_4local real r=SquareRoot(dx*dx+dy*dy)local real r1=((x1-P24)*dx+(y1-P_4)*dy)/rif r1>0 and r1<=r thenset dx=x1-P24-dx*r1/rset dy=y1-P_4-dy*r1/rset r=SquareRoot(dx*dx+dy*dy)if not((GetUnitAbilityLevel(T_7,'N00B')>0)and(K37(T_7,852514,'A0SB')))thenif r==0. thencall IssuePointOrderById(T_7,851986,x1-(y1-P_4)*Q84/r1,y1+(x1-P24)*Q84/r1)elseif r<Q84 thencall IssuePointOrderById(T_7,851986,x1+dx*(Q84/r-1),y1+dy*(Q84/r-1))endifendifendifset T_7=nullendfunctionfunction WYv_OLD takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit T_7=GetEnumUnit()local real IWlocal real klset IW=J87(GetUnitX(j5),GetUnitY(j5),GetUnitX(T_7),GetUnitY(T_7))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((JC7(T_7))and(J87(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))thencall LHE(j5,T_7,kl*bj_RADTODEG)if h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=j5endifendifset j5=nullset T_7=nullendfunctionfunction WYv takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit T_7=GetEnumUnit()local real IW=J87(GetUnitX(j5),GetUnitY(j5),GetUnitX(T_7),GetUnitY(T_7))local real kl=Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5))if((LFE(T_7))and(JC7(T_7))and(J87(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<300.))thencall LHE(j5,T_7,kl*bj_RADTODEG)if h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=j5endifendifset j5=nullset T_7=nullendfunctionfunction LPE takes nothing returns nothinglocal unit T_7=GetEnumUnit()local unit j5=GetTriggerUnit()local real IWlocal real klset IW=J87(GetUnitX(j5),GetUnitY(j5),GetUnitX(T_7),GetUnitY(T_7))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((JC7(T_7))and(((IsUnitInRange(T_7,j5,750.))and(not BFE(T_7,j5,true)))or(not T1E(T_7)))and(J87(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))thencall LHE(j5,T_7,kl*bj_RADTODEG)set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=j5endifendifset j5=nullset T_7=nullendfunctionfunction LQE takes nothing returns nothinglocal unit T_7=GetEnumUnit()local unit j5=GetTriggerUnit()local real IWlocal real klset IW=J87(GetUnitX(j5),GetUnitY(j5),GetUnitX(T_7),GetUnitY(T_7))set kl=RAbsBJ(Atan2(GetLocationY(Hb)-GetUnitY(j5),GetLocationX(Hb)-GetUnitX(j5)))if((LFE(T_7))and(JC7(T_7))and(J87(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(j5)+IW*Cos(kl),GetUnitY(j5)+IW*Sin(kl))<700.))thencall LHE(j5,T_7,kl*bj_RADTODEG)set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=j5endifendifset j5=nullset T_7=nullendfunctionfunction WZv_OLD takes nothing returns nothinglocal unit T_7=GetEnumUnit()local unit IB=nulllocal real klif(JC7(GetEnumUnit()))thenset IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(GetEnumUnit()))))thenset kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(GetEnumUnit())-GetUnitY(IB),GetUnitX(GetEnumUnit())-GetUnitX(IB)))-GetUnitFacing(IB))if(kl<50.)thencall LHE(IB,GetEnumUnit(),GetUnitFacing(IB))set G0[64+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=trueif h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=GetTriggerUnit()endifendifendifset IB=nullendifset T_7=nullendfunctionfunction WZv takes nothing returns nothinglocal unit T_7=GetEnumUnit()local unit IB=nulllocal real klif((LFE(T_7))and(JC7(T_7)))thenset IB=h4[272+GetPlayerId(GetOwningPlayer(GetTriggerUnit()))]if((IB!=null)and(IsUnitVisible(IB,GetOwningPlayer(T_7))))thenset kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(T_7)-GetUnitY(IB),GetUnitX(T_7)-GetUnitX(IB)))-GetUnitFacing(IB))if(kl<50.)thencall LHE(IB,T_7,GetUnitFacing(IB))set G0[64+GetPlayerId(GetOwningPlayer(T_7))]=trueif h4[352+GetPlayerId(GetOwningPlayer(T_7))]==null thenset h4[352+GetPlayerId(GetOwningPlayer(T_7))]=GetTriggerUnit()endifendifendifset IB=nullendifendfunctionfunction LRE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(m5))local real kl=RAbsBJ((bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5)))-GetUnitFacing(j5))local real IW=J87(GetUnitX(m5),GetUnitY(m5),GetUnitX(j5),GetUnitY(j5))local boolean CNElocal boolean J4if(IW>900)thenset CNE=kl<140.elseif(IW>600)thenset CNE=(GetWidgetLife(m5)<1500.)and(kl<110.)elseif(IW>300)thenset CNE=(GetWidgetLife(m5)<1000.)and(kl<80.)elseset CNE=(GetWidgetLife(m5)<1000.)and(kl<50.)endifif(not iU(m5))thenelseif(not CNE)thenset J4=(IW<700.)and((h4[O5]==null)or(h4[O5]==j5))and((BFE(m5,j5,true))or(IssueTargetOrderById(m5,851983,j5)))elseif(IW<600.)thenif(bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))>GetUnitFacing(j5))thencall IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)+90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)+90.)*bj_DEGTORAD))elsecall IssuePointOrderById(m5,851986,GetUnitX(j5)+300.*Cos((GetUnitFacing(j5)-90.)*bj_DEGTORAD),GetUnitY(j5)+300.*Sin((GetUnitFacing(j5)-90.)*bj_DEGTORAD))endifelseif((GetWidgetLife(m5)<1200.)or((IW>800.)and(h4[O5]==null)))thenset G0[64+O5]=truecall jW(m5,851986,h9[O5])if((GetUnitAbilityLevel(m5,'A0A5')>0)and(MZ7(GetHandleId(GetOwningPlayer(m5)),"MyBear")!=null))thencall jW(MZ7(GetHandleId(GetOwningPlayer(m5)),"MyBear"),851986,h9[O5])endifendifendifset j5=nullset m5=nullendfunctionfunction LSE takes nothing returns booleanreturn((IsUnitEnemy(GetFilterUnit(),GetOwningPlayer(GetTriggerUnit())))and((GetUnitAbilityLevel(GetFilterUnit(),'Adts')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'Adt1')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'A0M5')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'Atru')>0)or(GetUnitAbilityLevel(GetFilterUnit(),'A0JI')>0)))endfunctionfunction LTE takes nothing returns booleanreturn((GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(GetTriggerUnit()))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))endfunctionfunction LUE takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()local item jp=KO7(m5,OU[YC])if((jp!=null)and((GetUnitLifePercent(j5)<50.)or((h4[GetPlayerId(GetOwningPlayer(m5))]==j5)and(GetUnitLifePercent(j5)<70.))))thenif(IsUnitInRange(j5,m5,1000.))thencall UnitUseItemPoint(m5,jp,GetUnitX(j5),GetUnitY(j5))endifendifset m5=nullset j5=nullset jp=nullendfunctionfunction LVE takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=nulllocal integer O5=GetPlayerId(GetOwningPlayer(m5))if(h4[O5]==GetTriggerUnit())thenset j5=KD7(500.,jv(GetTriggerUnit()),Condition(function LTE))if(j5!=null)thenset h4[O5]=j5if(not JC7(m5))thenelseif(not iU(m5))thencall IssueTargetOrderById(m5,851983,j5)elsecall J3(m5,false)endifendifendifset m5=nullset j5=nullendfunctionfunction LWE takes nothing returns booleanlocal integer i1=GetUnitTypeId(GetFilterUnit())return(((i1=='n00H')or(i1=='n00G')or(i1=='n00K'))and(GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(GetTriggerUnit())))endfunctionfunction LXE takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)local unit LYE=KF7(800.,jv(GetTriggerUnit()),Condition(function LWE))if((not JC7(m5))or(LYE==null))thenelseif((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))thencall K37(m5,OrderId("charm"),'A1AT')elseif(i1=='Emoo')thencall KZ7(m5,852075,'A0DX',LYE)elseif(KJ7(m5,OU[V1]))thencall UnitUseItemTarget(m5,KO7(m5,OU[V1]),LYE)elseif(KJ7(m5,OU[Q1]))thencall UnitUseItemTarget(m5,KO7(m5,OU[Q1]),LYE)endifset m5=nullset LYE=nullendfunctionfunction LZE takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer O5=GetPlayerId(GetOwningPlayer(m5))if((JC7(m5))and((not IsUnitInRange(j5,m5,500.))or(not BFE(m5,j5,false))))thenif((J_7(j5))and(not J_7(m5))and(IsUnitInRange(j5,m5,500.)))thencall IssueTargetOrderById(m5,851983,j5)elseif(KH7(900.,j5,Condition(function k2))<(1+GetUnitAbilityLevel(j5,GetSpellAbilityId())))thencall jW(m5,851986,h9[O5])endifendifendifset j5=nullset m5=nullendfunctionfunction LAE takes nothing returns nothingif((GetUnitAbilityLevel(GetEnumUnit(),'B0C1')==0)or(not T1E(GetEnumUnit())))thencall ExecuteFunc("CQE")if((GetUnitTypeId(GetEnumUnit())=='Nbbc')and(GetUnitAbilityLevel(GetEnumUnit(),'B0C1')>0)and(not NF7(GetEnumUnit(),"Omnislashing")))thencall K37(GetEnumUnit(),852128,'A05G')endifendifendfunctionfunction LBE takes nothing returns nothingcall ExecuteFunc("LCE")endfunctionfunction LCE takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i1=GetUnitTypeId(m5)local integer YZE=GetSpellAbilityId()if(not JC7(m5))thenelseif((KJ7(m5,OU[B5]))and(YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and(UnitUseItem(m5,KO7(m5,OU[B5]))))thenelseif((KJ7(m5,OU[W5]))and(YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and(UnitUseItem(m5,KO7(m5,OU[W5]))))thenelseif(T1E(m5))thenelseif((YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and((i1=='Naka')or(i1=='E004')or(i1=='Ubal')))thencall IssueImmediateOrderById(m5,852129)elseif((YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and(i1=='U000'))thencall K37(m5,852129,'A09U')elseif((YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and(i1=='HC49'))thencall K37(m5,852123,'A063')elseif(((YZE!='A0M1')or(YZE!='A1AX'))and(i1=='U00C'))thencall K37(m5,852273,'A0T2')elseif((YZE!='A06R')and(YZE!='A03R')and(YZE!='A0AV')and(i1=='U00A'))thencall K37(m5,852123,'A03O')elseif(i1=='Npbm')thenset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),K37(m5,852586,'A0MQ'))elseif((YZE=='A0M1')and(i1=='Oshd'))thencall KZ7(m5,852227,'A04Y',m5)elseif(i1=='Harf')thenif(YZE!='A0M1')thenset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),KZ7(m5,852186,'A08V',m5))elsecall IssueImmediateOrderById(m5,852599)endifelseif(i1=='N01V')thenif((YZE!='A03R')and(YZE!='A0AV')and(YZE!='A06R'))thencall IssueImmediateOrderById(m5,852493)endifendifset m5=nullendfunctionfunction L3E takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer YZElocal integer O5=GetPlayerId(GetOwningPlayer(m5))set G0[64+O5]=trueif(JC7(m5))thenif((i2(j5))and(BFE(m5,j5,false)))thenelseif(J77(m5,h9[O5])<J77(j5,h9[O5]))thencall jW(m5,851986,h9[O5])elsecall jW(m5,851986,h8[O5])endifset YZE=GetSpellAbilityId()if((YZE=='A054')or(YZE=='A00U')or(YZE=='A03R')or(YZE=='A0AV')or((YZE=='A06R')and(GZ[GetPlayerId(GetOwningPlayer(j5))])))thencall LBE()endifendifset j5=nullset m5=nullendfunctionfunction L6E takes nothing returns nothinglocal unit m5=GetEnumUnit()if((not iU(m5))and(GetUnitLifePercent(m5)<95.)and(h4[GetPlayerId(GetOwningPlayer(m5))]==null)and(not IsUnitInRange(GetTriggerUnit(),m5,300.)))thencall IssuePointOrderById(m5,851986,GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()))endifset m5=nullendfunctionfunction LLE takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer YZE=GetSpellAbilityId()local integer O5=GetPlayerId(GetOwningPlayer(m5))set G0[64+O5]=trueif((YZE=='A0J1')or(YZE=='A1BX'))thenif(JC7(m5))thenif(J77(m5,h9[O5])<J87(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5])))thencall jW(m5,851986,h9[O5])elsecall jW(m5,851986,h8[O5])endifendifelseif((JC7(m5))and((GetUnitLevel(m5)<6)or(GetUnitLifePercent(m5)<75.)or(not Id(O5))))thenif(((YZE=='A0IL')or(YZE=='A0BQ'))and(GetUnitLevel(m5)>5)and(GetUnitState(m5,UNIT_STATE_LIFE)>1300.))thenelseif((YZE=='A0RA')and(J77(m5,h9[O5])<J87(GetLocationX(Hb),GetLocationY(Hb),GetUnitX(h9[O5]),GetUnitY(h9[O5]))))thencall jW(m5,851986,h9[O5])elsecall jW(m5,851986,h9[O5])endifendifendifset m5=nullendfunctionfunction L1E takes nothing returns nothinglocal unit m5=GetEnumUnit()set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueif((is(m5))and((GetUnitLevel(m5)<5)or(GetUnitLifePercent(m5)<75.)or(h4[GetPlayerId(GetOwningPlayer(m5))]==null)))thenif((GetSpellAbilityId()!='A20T')or(KH7(500.,GetTriggerUnit(),Condition(function k0))<3))thencall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])endifendifset m5=nullendfunctionfunction L0E takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(JC7(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif(not BFE(m5,j5,true))thenset G0[64+GetPlayerId(GetOwningPlayer(m5))]=truecall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])endifendifset m5=nullset j5=nullendfunctionfunction L5E takes nothing returns nothinglocal unit m5=GetEnumUnit()local unit j5=GetTriggerUnit()if((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(JC7(m5))and(IsUnitType(m5,UNIT_TYPE_HERO)))thenif((GetUnitLifePercent(m5)>65.)and(GetUnitLevel(m5)>9)and((KH7(800.,j5,Condition(function P37))>=2)or(KH7(650.,j5,Condition(function PC7))>=3)or((KH7(800.,j5,Condition(function P37))>=1)and(KH7(650.,j5,Condition(function PC7))>=2))))thenset j5=KF7(800.,jv(m5),Condition(function PS7))if(j5!=null)thenset h4[GetPlayerId(GetOwningPlayer(m5))]=j5call V2E(m5,j5)call IssueTargetOrderById(m5,851983,j5)endifelseif(T1E(m5))thenelseif(J77(m5,h9[GetPlayerId(GetOwningPlayer(m5))])<J77(j5,h9[GetPlayerId(GetOwningPlayer(m5))]))thenset G0[64+GetPlayerId(GetOwningPlayer(m5))]=truecall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])elsecall jW(m5,851986,h8[GetPlayerId(GetOwningPlayer(m5))])endifendifendifset m5=nullset j5=nullendfunctionfunction L2E takes real L_E,real D4F returns booleanreturn L_E!=null and D4F!=nullendfunctionfunction D7F takes location D8F,real c,real D9F,boolean DDF returns locationlocal real DEF=GetLocationX(D8F)local real DFF=GetLocationY(D8F)local real L_E=VK7(DEF+(Cos(D9F*bj_DEGTORAD)*c))local real D4F=VM7(DFF+(Sin(D9F*bj_DEGTORAD)*c))if((DDF==true)and(L2E(L_E,D4F)!=true))thenreturn nullendifreturn Location(L_E,D4F)endfunctionfunction DGF takes nothing returns nothinglocal unit KW7=GetTriggerUnit()local unit TF7=GetEnumUnit()local location DHF=GetUnitLoc(KW7)local location DIF=GetUnitLoc(TF7)local real D9F=AngleBetweenPoints(DHF,DIF)local real DJF=DistanceBetweenPoints(DHF,DIF)local real c=DJF+100.00local location DKF=D7F(DHF,c,D9F,true)if((GetPlayerController(GetOwningPlayer(TF7))==MAP_CONTROL_COMPUTER)and(JC7(TF7))and(IsUnitType(TF7,UNIT_TYPE_HERO)))thenif(DKF!=null)thencall IssuePointOrderByIdLoc(TF7,851986,DKF)endifendifset KW7=nullset TF7=nullcall RemoveLocation(DHF)set DHF=nullcall RemoveLocation(DIF)set DIF=nullcall RemoveLocation(DKF)set DKF=nullendfunctionfunction DMF takes nothing returns nothinglocal unit m5=GetEnumUnit()local integer i=0if(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and((KJ7(m5,OU[BA])or KJ7(m5,OU[VC])))thenset IZ4=J77(DF7,m5)if(I04==null)or(IZ4<DD7)thenset I04=m5set DD7=IZ4endifendifset m5=nullendfunctionfunction DNF takes nothing returns nothingcall ExecuteFunc("CQE")endfunctionfunction DOF takes nothing returns nothinglocal unit j5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer DPF=GetSpellAbilityId()local integer O5=GetPlayerId(GetOwningPlayer(j5))local real JDlocal real Jelocal integer UPlocal real U7Elocal integer i=1local real x0local real y0local real x1local real y1local real rif(DPF=='A0LH')thenif((GetPlayerController(GetOwningPlayer(m5))!=MAP_CONTROL_USER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenset U7E=Bzset UP=3+(2*GetUnitAbilityLevel(j5,DPF))loopset JD=GetUnitX(m5)set Je=GetUnitY(m5)call I17(0.2)if((GetWidgetLife(m5)<1500.)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(JC7(m5))and((GetUnitX(m5)!=JD)or(GetUnitY(m5)!=Je)))thencall IssueImmediateOrderById(m5,851993)endifexitwhen((RAbsBJ(Bz-U7E)>=UP)or(not J07(m5)))endloopendifelseif(DPF=='A19O')thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall I17(0.5)loopset i=i+1if((IsUnitInRange(j5,m5,500.))and(is(m5))and(BFE(m5,j5,true)))thenelseif((IsUnitInRange(j5,m5,800.))and(is(m5)))thencall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifexitwhen((i==6)or(not J07(j5))or(not J07(m5)))call I17(0.5)endloopendifelseif(DPF=='A19Z')thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif(JC7(m5))thenif(not BFE(m5,j5,true))thencall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifendifset i=i+1exitwhen((i>15)or(not J07(m5))or(not J07(j5)))call I17(0.5)endloopendifelseif(DPF=='A14L')thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(is(m5)))thencall I17(1.5)set UP=GetUnitTypeId(m5)if(UP=='U00F')thencall K37(m5,852177,'A06K')elseif(UP=='UC11')thencall KZ7(m5,852066,'A037',m5)elseif(UP=='Hamg')thencall KZ7(m5,852095,'A26N',m5)elseif(UP=='H00K')thencall KZ7(m5,852278,'A05J',m5)elsecall BHE(m5,j5)endifendifelseif(DPF=='A1P8')thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thencall I17(0.5)loopif((IsUnitInRange(j5,m5,600.))and(is(m5))and(BFE(m5,j5,true)))thenelseif((KG7(700.,jv(m5),Condition(function PF7))==0)and(KG7(700.,jv(m5),Condition(function KQ))==0)and(IsUnitInRange(j5,m5,1500.))and(is(m5)))thencall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])endifexitwhen((GetUnitAbilityLevel(m5,'B01Y')==0)or(not J07(j5))or(not J07(m5)))call I17(0.5)endloopendifelseif((DPF=='A21E')or(DPF=='A0BA')or(DPF=='A04C'))thenset DG7=falseif(DPF=='A21E')thencall I17(1)set bj_lastLoadedUnit=j5set m5=KF7(150,HC[O5],Condition(function P87))if m5!=null thenset DD7=99999set IY4=GetPlayerId(GetOwningPlayer(m5))set DF7=nullif((h4[IY4]!=null)or((G0[256+IY4])and(not J_7(m5))and(GetHeroLevel(m5)>4)))thenif(h4[IY4]!=null)thenset I04=h4[IY4]elseset I04=h8[IY4]endifelseset I04=h9[IY4]endifset UP=1loopexitwhen UP>8set bj_lastCreatedDestructable=MY7(GetHandleId(j5),"AI|SproutTree"+I2S(UP))set IZ4=J77(bj_lastCreatedDestructable,I04)if IZ4<DD7 thenset DF7=bj_lastCreatedDestructableset DD7=IZ4endifcall MK7(GetHandleId(j5),"AI|SproutTree"+I2S(UP),null)set UP=UP+1endloopcall DestroyEffect(AddSpecialEffect("UI\\Feedback\\GoldCredit\\GoldCredit.mdl",GetWidgetX(DF7),GetWidgetY(DF7)))set DD7=99999set I04=nullcall IV(GetLocationX(HC[O5]),GetLocationY(HC[O5]),350,Condition(function P87),function DMF)set m5=I04if(m5!=null)and(KJ7(m5,OU[BA])or KJ7(m5,OU[VC]))thencall UnitUseItemTarget(m5,bj_lastCreatedItem,DF7)endifendifendifif((DPF!='A21E')or(DD7>600))and((m5!=null)and(GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(JC7(m5)))thenif(DPF!='A21E')thencall I17(1)endifset UP=GetUnitTypeId(m5)if((UP=='H00U')and(Bz>SL4[80+GetPlayerId(GetOwningPlayer(m5))])and RX7(m5,BM4,BM4,BN4,'A0XL')and(RS7(m5,BN4,BN4,BN4,false)))thencall IssueImmediateOrderById(m5,852129)elseif((UP=='U00A')or(UP=='Ewar')or(UP=='HC92'))thencall IssueTargetOrderById(m5,852600,j5)elseif((DPF=='A04C')and(UP=='Nbbc'))thenif(not NF7(m5,"Omnislashing"))thencall K37(m5,852128,'A05G')endifelseif((DPF=='A21E')and(UP=='Ekee'))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A06W',true)call IssuePointOrderById(m5,852224,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((DPF=='A21E')and(UP=='H00D'))thencall SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A0O1',true)if((GetUnitLifePercent(m5)>50.)or(GetUnitLifePercent(j5)<50.))thenset U7E=bj_RADTODEG*Atan2(GetUnitY(j5)-GetUnitY(m5),GetUnitX(j5)-GetUnitX(m5))elseset U7E=bj_RADTODEG*Atan2(GetUnitY(m5)-GetUnitY(j5),GetUnitX(m5)-GetUnitX(j5))endifset GZ[GetPlayerId(GetOwningPlayer(m5))]=truecall J8(GetPlayerId(GetOwningPlayer(m5)),IssuePointOrderById(m5,852218,GetUnitX(m5)+900.*Cos(U7E*bj_DEGTORAD),GetUnitY(m5)+900.*Sin(U7E*bj_DEGTORAD)))elseif((DPF=='A21E')and(UP=='H004'))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A027',true)call IssuePointOrderById(m5,852232,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((DPF=='A21E')and(UP=='HC92'))thenset GZ[64+GetPlayerId(GetOwningPlayer(m5))]=truecall SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A0RG',true)call IssuePointOrderById(m5,852089,GetUnitX(m5)+10.,GetUnitY(m5)+10.)set GZ[64+GetPlayerId(GetOwningPlayer(m5))]=falseelseif((GetUnitLifePercent(j5)<50.)and(kJ(GetUnitX(j5),GetUnitY(j5)))and(GetUnitLifePercent(m5)>50.))thenif(UP=='EC45')thencall IssueTargetOrderById(m5,852218,j5)elseif((UP=='UC01')or(UP=='Edem'))thencall IssueTargetOrderById(m5,852525,j5)elseif(UP=='U00K')thencall IssueTargetOrderById(m5,852218,j5)elseif(UP=='O00P')thencall KZ7(m5,852218,'A0FN',j5)elseif(KJ7(m5,OU[HW]))thencall UnitUseItemPoint(m5,KO7(m5,OU[HW]),GetUnitX(j5),GetUnitY(j5))elsecall T1E(m5)endifelsecall T1E(m5)endifendifelseif((DPF=='A0MU')or(DPF=='A0A2')or(DPF=='A080')or(DPF=='A1UZ'))thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO))and(not IsUnitIllusion(m5))and(GetWidgetLife(m5)<1200.))thencall OI7(m5,false)endifelseif(DPF=='A1NI')thenelseif(DPF=='A02N')thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif((iU(m5))and(not J_7(m5)))thencall IssueTargetOrderById(m5,851983,j5)endifexitwhen((GetUnitCurrentOrder(j5)!=852487)or(not J07(m5))or(not J07(j5)))call I17(0.5)endloopendifelseif((DPF=='A1YY')or(DPF=='A205'))thenif((IsUnitVisible(j5,Y7[0]))and(IsUnitVisible(j5,Z7[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call I17(0.2)call MoveLocation(Hb,JD,Je)call TriggerSleepAction(.5)loopcall IV(GetUnitX(j5),GetUnitY(j5),1800.,Condition(function Q77),function LPE)call I17(0.8)exitwhen((GetUnitAbilityLevel(m5,'B0DV')==0)or(not J07(m5))or(not J07(j5)))endloopendifelseif(DPF=='A1RK')thencall I17(0.2)set U7E=Bzloopcall IV(GetUnitX(j5),GetUnitY(j5),1100.,Condition(function Q77),function L5E)call I17(1.0)exitwhen((RAbsBJ(Bz-U7E)>=7.7)or(not J07(j5)))endloopelseif((DPF=='A0CC')or(DPF=='A02Z')or(DPF=='A04L'))thenif((GetPlayerController(GetOwningPlayer(m5))==MAP_CONTROL_COMPUTER)and(IsUnitType(m5,UNIT_TYPE_HERO)))thenloopif(JC7(m5))thenif(not BFE(m5,j5,true))thencall jW(m5,851986,h9[GetPlayerId(GetOwningPlayer(m5))])set G0[64+GetPlayerId(GetOwningPlayer(m5))]=trueendifendifexitwhen((GetUnitCurrentOrder(j5)!=852487)or(not J07(m5))or(not J07(j5)))call I17(0.5)endloopendifelseif((DPF=='A017')or(DPF=='A07A')or(DPF=='A025')or(DPF=='A09U')or(DPF=='A01Z'))thencall TriggerSleepAction(.5)if((not IsUnitVisible(j5,Y7[0]))or(not IsUnitVisible(j5,Z7[0])))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function KO),function LUE)endifelseif((DPF=='A0B8')or(DPF=='A063')or(DPF=='A03O'))thencall TriggerSleepAction(1.)if((KH7(800.,j5,Condition(function LSE))==0)and(not lA(j5,not IsUnitAlly(j5,Y7[0]))))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Q77),function LVE)endifelseif(DPF=='A0D7')thencall TriggerSleepAction(.5)if((not IsUnitVisible(j5,Y7[0]))or(not IsUnitVisible(j5,Z7[0])))thencall IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Q77),function LVE)endifelseif((DPF=='A0X7')or(DPF=='A0X5')or(DPF=='A06O')or(DPF=='A0SK'))thenif((IsUnitVisible(j5,Y7[0]))and(IsUnitVisible(j5,Z7[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set Q84=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))if(DPF=='A0SK')thenset r=1200.elseset r=700.endifset x1=x0+(JD-x0)*r/Q84set y1=y0+(Je-y0)*r/Q84call I17(0.2)set QD4=GetOwningPlayer(j5)set Q84=250.set P24=x0set P_4=y0set Q44=x1set Q74=y1call IV(x0,y0,r,Condition(function LJE),function LOE)endifelseif(DPF=='A0VN')thenif(R87(GetOwningPlayer(j5))or GetRandomInt(1,4)==4)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call IV(JD,Je,1100.,Condition(function Q77),function DGF)endifelseif((DPF=='A1N4')or(DPF=='A0LC'))thenif(KG7(1200.,GetUnitLoc(j5),Condition(function PD7))>1)thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call IV(JD,Je,1100.,Condition(function Q77),function L0E)endifelseif(DPF=='A06I')thenset r=400+(200*GetUnitAbilityLevel(j5,'A06I'))set U7E=TimerGetElapsed(P)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set Q84=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/Q84set y1=y0+(Je-y0)*r/Q84set m5=j5loopexitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.3)call GroupClear(iF)set bj_groupEnumTypeId='u00H'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>1.)endloopcall I17(0.2)loopexitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>1.)set QD4=GetOwningPlayer(j5)set Q84=250.set P24=GetUnitX(m5)set P_4=GetUnitY(m5)set Q44=x1set Q74=y1call IV(P24,P_4,r,Condition(function LJE),function LOE)call I17(0.4)endloopelseif(DPF=='A0O1')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call I17(0.1)loopcall GroupClear(iF)set bj_groupEnumTypeId='e01T'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.3)exitwhen(m5==null)endlooploopcall GroupClear(iF)set bj_groupEnumTypeId='e01T'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen(m5==null)call MoveLocation(Hb,JD,Je)call IV(JD,Je,1000.,Condition(function Q77),function LQE)call I17(0.5)endloopelseif(DPF=='A085')thencall I17(0.1)set U7E=I2R(1150+(250*GetUnitAbilityLevel(j5,'A085')))loopcall GroupClear(iF)set bj_groupEnumTypeId='u00J'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.3)exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not J07(j5)))endlooploopexitwhen((GetUnitCurrentOrder(j5)!=852600)or(not J07(j5)))call IV(GetUnitX(j5),GetUnitY(j5),U7E,Condition(function Q77),function LRE)call I17(0.5)endloopelseif(DPF=='A0L8')thenset U7E=TimerGetElapsed(P)+3.5set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=JD-GetUnitX(j5)set y0=Je-GetUnitY(j5)set r=SquareRoot(x0*x0+y0*y0)set x0=x0*1000./rset y0=y0*1000./rloopset bj_groupEnumTypeId='h005'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)loopset m5=FirstOfGroup(iF)exitwhen m5==null or(GetWidgetLife(m5)>.405)call GroupRemoveUnit(iF,m5)endloopset h4[272+O5]=m5exitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.1)exitwhen TimerGetElapsed(P)>U7Eendloopcall I17(0.1)loopexitwhen(TimerGetElapsed(P)>U7E)or(GetWidgetLife(m5)<.405)set QD4=GetOwningPlayer(j5)set P24=GetUnitX(m5)set P_4=GetUnitY(m5)set Q44=P24+x0set Q74=P_4+y0set Q84=300.call IV(P24,P_4,1000.,Condition(function LJE),function LOE)call I17(0.1)endloopelseif(DPF=='A1S4')thenset U7E=TimerGetElapsed(P)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set r=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x0=(JD-GetUnitX(j5))*1000./rset y0=(Je-GetUnitY(j5))*1000./rloopset bj_groupEnumTypeId='h0C2'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=FirstOfGroup(iF)exitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.3)exitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>3.5)endloopset h4[272+O5]=m5call I17(0.2)loopexitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>3.5)or(not J07(m5))set QD4=GetOwningPlayer(j5)set P24=GetUnitX(m5)set P_4=GetUnitY(m5)set Q44=P24+x0set Q74=P_4+y0set Q84=200.call IV(P24,P_4,1000.,Condition(function LJE),function LOE)call I17(0.2)endloopelseif(DPF=='A00P')thenloopcall I17(0.8)exitwhen((GetUnitAbilityLevel(m5,'B008')==0)or(GetUnitCurrentOrder(j5)!=852480))call V2E(j5,m5)endloopelseif((DPF=='A0NO')or(DPF=='A0S8')or(DPF=='A0QE'))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])if(DPF=='A0NO')thenset UP=180elseif(DPF=='A0QE')thenset UP=200+100*GetUnitAbilityLevel(j5,'A0QE')elseset UP=400endifcall IV(JD,Je,UP,Condition(function Q77),function DNF)elseif((DPF=='A0MT')or(DPF=='A027')or(DPF=='A064')or(DPF=='A0BZ')or(DPF=='A06W'))thenif((IsUnitVisible(j5,Y7[0]))and(IsUnitVisible(j5,Z7[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])if(DPF=='A06W')thenset UP=130+(25*GetUnitAbilityLevel(j5,'A06W'))elseif(DPF=='A027')thenset UP=250elseset UP=500if(DPF=='A064')thencall I17(0.5)endifendifset U7E=Bzloopexitwhen(RAbsBJ(Bz-U7E)>=1.5)call IV(JD,Je,UP,Condition(function Q77),function LLE)call I17(0.4)endloopcall I17(0.4)call IV(JD,Je,UP,Condition(function Q77),function DNF)endifelseif((DPF=='A05T')or(DPF=='A08H')or(DPF=='A0M1')or(DPF=='A1AX'))thencall I17(0.5)call IV(GetUnitX(m5),GetUnitY(m5),600.,Condition(function Q77),function LBE)elseif((DPF=='A01F')or(DPF=='A02S')or(DPF=='A0O7')or(DPF=='A02M')or(DPF=='A06N')or(DPF=='A072')or(DPF=='A074')or(DPF=='A078')or(DPF=='A0FN')or(DPF=='A03F')or(DPF=='A28R')or(DPF=='A28S'))thencall IV(GetUnitX(j5)+350.*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+350.*Sin(GetUnitFacing(j5)*bj_DEGTORAD),450.,Condition(function Q77),function DNF)elseif((DPF=='A05E')or(DPF=='A29I')or(DPF=='A013')or(DPF=='A0A6'))thencall I17(0.5)call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function Q77),function DNF)elseif((DPF=='A06M')or(DPF=='A08N')or(DPF=='A03Y')or(DPF=='A00S')or(DPF=='A29K')or(DPF=='A0DL')or(DPF=='A0SC'))thencall IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function Q77),function DNF)elseif((DPF=='A05V')or(DPF=='A0DH')or(DPF=='A29L')or(DPF=='A0KV'))thencall IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function Q77),function DNF)elseif((DPF=='A00Y')or(DPF=='A0G2')or(DPF=='A010')or(DPF=='A020'))thencall IV(GetUnitX(m5),GetUnitY(m5),450.,Condition(function Q77),function DNF)elseif(DPF=='A07Z')thencall I17(1.)call IV(GetUnitX(j5),GetUnitY(j5),950.,Condition(function Q77),function LAE)elseif((DPF=='A0HB')or(DPF=='A0D3')or(DPF=='A0DF'))thencall I17(1.)call IV(GetUnitX(j5),GetUnitY(j5),1000.,Condition(function Q77),function LXE)elseif((DPF=='A0EY')or(DPF=='A0FH')or(DPF=='A0F0'))thenif(DPF=='A0EY')thenset U7E=200.elseif(DPF=='A0FH')thenset U7E=450.elseif(DPF=='A0F0')thenset U7E=700.endifcall IV(GetUnitX(j5)+U7E*Cos(GetUnitFacing(j5)*bj_DEGTORAD),GetUnitY(j5)+U7E*Sin(GetUnitFacing(j5)*bj_DEGTORAD),350.,Condition(function Q77),function DNF)elseif((DPF=='A054')or(DPF=='A00U')or(DPF=='A29J'))thencall IV(GetUnitX(j5),GetUnitY(j5),850.,Condition(function Q77),function L3E)elseif((DPF=='A0H0')or(DPF=='A0RV'))thencall TriggerSleepAction(0.1)loopcall IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Q77),function LEE)exitwhen(((IsUnitVisible(j5,Y7[0]))and(IsUnitVisible(j5,Z7[0])))or(not J07(j5)))call I17(1.5)endloopelseif(DPF=='A01B')thenset U7E=Bzloopexitwhen(RAbsBJ(Bz-U7E)>=9.)call IV(GetUnitX(j5),GetUnitY(j5),700.,Condition(function Kq),function L6E)call I17(0.8)endloopelseif(DPF=='A0B1')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=7.5)call IV(JD,Je,550.,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A26O')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=6.5)call IV(JD,Je,300.,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A0RA')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=9.)call IV(JD,Je,450.,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A0IL')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=10.5)call IV(JD,Je,630.,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A0BQ')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=7.5)call IV(JD,Je,1000.,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A0RG')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set UP=360+(80*GetUnitAbilityLevel(j5,'A0RG'))set U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=6.5)call IV(JD,Je,UP,Condition(function Q77),function LLE)call I17(0.6)endloopelseif(DPF=='A05G')thenset U7E=Bzloopexitwhen(RAbsBJ(Bz-U7E)>=4.5)call IV(GetUnitX(j5),GetUnitY(j5),420.,Condition(function Q77),function L1E)call I17(0.6)endloopelseif(DPF=='A20T')thenset U7E=Bzcall I17(0.5)loopexitwhen(RAbsBJ(Bz-U7E)>=7.5)call IV(GetUnitX(j5),GetUnitY(j5),680.,Condition(function Q77),function L1E)call I17(0.6)endloopelseif(DPF=='A0O5')thenset U7E=Bzset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])loopexitwhen(RAbsBJ(Bz-U7E)>=4.5)call IV(JD,Je,950.,Condition(function Q77),function LLE)call I17(0.5)endloopelseif(DPF=='A0J1')thencall I17(1.)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set U7E=Bzloopexitwhen((not GZ[384+O5])or(RAbsBJ(Bz-U7E)>=5.))call MoveLocation(Hb,JD,Je)call IV(JD,Je,750.,Condition(function Q77),function LLE)call I17(0.5)endloopset GZ[384+O5]=falseelseif(DPF=='A06R')thenloopcall I17(0.5)exitwhen((GetUnitCurrentOrder(j5)!=852581)or(not J07(j5)))call IV(GetUnitX(j5),GetUnitY(j5),750.,Condition(function Q77),function L3E)endloopcall I17(0.5)if(GZ[384+O5])thenset UP=0loopexitwhen((not GZ[384+O5])or(UP>12))call IV(GetUnitX(j5),GetUnitY(j5),550.,Condition(function Q77),function L3E)call I17(0.6)set UP=UP+1endloopset GZ[384+O5]=falseendifelseif((DPF=='A0NT')or(DPF=='A0NX'))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])call I17(0.5)loopcall I17(0.6)exitwhen((GetUnitCurrentOrder(j5)!=852597)or(not J07(j5)))call IV(JD,Je,900.,Condition(function Q77),function L3E)endloopelseif((DPF=='A03R')or(DPF=='A0AV'))thencall I17(0.5)loopcall I17(0.6)exitwhen((GetUnitCurrentOrder(j5)!=852600)or(not J07(j5)))call IV(GetUnitX(j5),GetUnitY(j5),900.,Condition(function Q77),function L3E)endloopelseif((DPF=='A073')or(DPF=='A03J')or(DPF=='A04J')or(DPF=='A04M')or(DPF=='A04N'))thenset U7E=Bzloopexitwhen((RAbsBJ(Bz-U7E)>=29.)or(not J07(j5)))call IV(GetUnitX(j5),GetUnitY(j5),1200.,Condition(function Q77),function LZE)call I17(0.8)endloopelseif(DPF=='A1BX')thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])loopcall I17(0.6)exitwhen((GetUnitCurrentOrder(j5)!=OrderId("cannibalize"))or(not J07(j5)))call MoveLocation(Hb,JD,Je)call IV(JD,Je,1000.,Condition(function Q77),function LLE)endloopelseif((DPF=='A21F')or(DPF=='A21G'))thenloopcall I17(1.)exitwhen((GetUnitAbilityLevel(j5,'B024')==0)or(not J07(j5)))call IV(GetUnitX(j5),GetUnitY(j5),350.,Condition(function Q77),function L1E)endloopelseif(DPF=='A1AA')thenif((IsUnitVisible(j5,Y7[0]))and(IsUnitVisible(j5,Z7[0])))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitX(j5)set U7E=Bzcall BOE(j5,j5)loopexitwhen(RAbsBJ(Bz-U7E)>=1.5)call IV(JD,Je,475,Condition(function Q77),function LLE)call IV(x0,y0,475,Condition(function Q77),function LLE)call I17(0.4)endloopcall I17(0.4)call IV(JD,Je,UP,Condition(function Q77),function DNF)endifelseif(DPF=='A1A1')thenset r=2400set U7E=TimerGetElapsed(P)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set Q84=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/Q84set y1=y0+(Je-y0)*r/Q84set m5=j5call I17(1.)loopexitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>3.5)set QD4=GetOwningPlayer(j5)set Q84=350.set P24=GetUnitX(m5)set P_4=GetUnitY(m5)set Q44=x1set Q74=y1call IV(P24,P_4,r,Condition(function LJE),function LOE)call I17(0.4)endloopelseif(DPF=='A07Q')thenif GetPlayerController(GetOwningPlayer(j5))==MAP_CONTROL_COMPUTER thencall RemoveGuardPosition(j5)endifelseif(DPF=='A06B')thencall BOE(j5,j5)elseif(DPF=='A2E3')thenset r=600+(200*GetUnitAbilityLevel(j5,'A2E3'))set U7E=TimerGetElapsed(P)set JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set x0=GetUnitX(j5)set y0=GetUnitY(j5)set Q84=SquareRoot((JD-x0)*(JD-x0)+(Je-y0)*(Je-y0))set x1=x0+(JD-x0)*r/Q84set y1=y0+(Je-y0)*r/Q84set m5=j5loopexitwhen((m5!=null)and(IsUnitVisible(m5,Y7[0]))and(IsUnitVisible(m5,Z7[0])))call I17(0.3)call GroupClear(iF)set bj_groupEnumTypeId='u00H'call GroupEnumUnitsOfPlayer(iF,GetOwningPlayer(j5),filterGetUnitsOfPlayerAndTypeId)set m5=GroupPickRandomUnit(iF)exitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>1.)endloopcall I17(0.2)loopexitwhen(RAbsBJ(TimerGetElapsed(P)-U7E)>1.)set QD4=GetOwningPlayer(j5)set Q84=250.set P24=GetUnitX(m5)set P_4=GetUnitY(m5)set Q44=x1set Q74=y1call IV(P24,P_4,r,Condition(function LJE),function LOE)call I17(0.4)endloopelseif(DPF==FW7[1]or DPF==FW7[2]or DPF==FW7[3])and R97(Player(O5))thenset JD=GetLocationX(HC[O5])set Je=GetLocationY(HC[O5])set DD7=J87(GetUnitX(j5),GetUnitY(j5),JD,Je)/(2.5*GetUnitMoveSpeed(j5))-0.4if DD7>0 thencall PolledWait(DD7)elsecall PolledWait(0.1)endifset bj_lastLoadedUnit=j5call MoveLocation(HA,JD,Je)set DG7=(iU(j5))and((NF7(j5,"AI|EmberEscape")or(KG7(300,HA,Condition(function P87))!=0))and IssuePointOrderById(j5,852185,JD,Je))call NJ7(j5,"AI|EmberEscape")elseif(DPF=='A1R5' or DPF=='A137' or DPF=='A231')thenset eY[224+O5]=R2I(Bz)+DM7set hq[832+O5]=R2I(Bz)+9endifset j5=nullset m5=nullendfunctionfunction DQF takes nothing returns nothinglocal unit j5=GetTriggerUnit()local integer O5=GetPlayerId(GetOwningPlayer(j5))local integer DPF=GetSpellAbilityId()local boolean C8E=(GetPlayerController(Player(O5))==MAP_CONTROL_COMPUTER)local unit m5=GetSpellTargetUnit()local integer X5local integer i1local integer UP=1if(DPF=='A1R5' or DPF=='A137' or DPF=='A231')thenset hq[832+O5]=0endifif(DPF=='A1R5' or DPF=='A137')and C8E thencall I17(0.1)if(TD4[O5]!=null)and(not UnitHasItem(j5,TD4[O5]))thenif KJ7(j5,OU[AC])thencall RemoveItem(bj_lastCreatedItem)endifif UnitAddItem(j5,TD4[O5])thenset TD4[O5]=nullendifendifendifif(DPF=='A1R5' or DPF=='A137')or(DPF=='A231')or(DPF=='A01O')or(DPF=='A0HA')thencall I17(0.1)call R17(j5)endifif(DPF=='A1TB')thencall I17(11.)set FJ7=LoadUnitHandle(C7,(GetHandleId(j5)),(652))set bj_forLoopAIndex=GetPlayerId(GetOwningPlayer(FJ7))if(not GZ[224+O5])or(h4[bj_forLoopAIndex]!=null)or R87(Player(bj_forLoopAIndex))thencall IssueImmediateOrderById(j5,852600)endifendifcall I17(2)loopexitwhen UP>11if h4[352+UP]==j5 thenset i1=GetUnitTypeId(G7[UP])set X5=GetUnitCurrentOrder(G7[UP])set G0[272+UP]=trueif i1=='U00K' and(X5==852503)thencall IssueImmediateOrderById(G7[UP],851972)call J3(G7[UP],false)elseif i1=='N00B' and(X5==852514)thencall IssueImmediateOrderById(G7[UP],851972)call J3(G7[UP],false)endifset G0[272+UP]=falseset h4[352+UP]=nullendifset UP=UP+1endloopset j5=nullendfunctionfunction DRF takes nothing returns nothingcall XME(GetEnumUnit())endfunctionfunction DSF takes unit u returns nothingif(J_7(u))thenif JC7(u)thencall jW(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])endifelseif(J77(u,K67(u))>5500.)thenif JC7(u)thencall jW(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])endifset h4[GetPlayerId(GetOwningPlayer(u))]=nullelseif JC7(u)thencall jW(u,851983,JW(u))endifendifif((eY[GetPlayerId(GetOwningPlayer(u))]!=4)and(eY[GetPlayerId(GetOwningPlayer(u))]!=2))thenset eY[GetPlayerId(GetOwningPlayer(u))]=3endifendfunctionfunction DTF takes unit u returns nothingif(J_7(u))thenif JC7(u)thencall jW(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])endifelseif(J77(u,K67(u))>5500.)thenif JC7(u)thencall jW(u,851986,h9[GetPlayerId(GetOwningPlayer(u))])endifset h4[GetPlayerId(GetOwningPlayer(u))]=nullelseif JC7(u)thencall jW(u,851983,JW(u))endifendifset eY[GetPlayerId(GetOwningPlayer(u))]=4set GZ[480+GetPlayerId(GetOwningPlayer(u))]=trueendfunctionfunction DUF takes nothing returns nothingcall DSF(GetEnumUnit())endfunctionfunction DVF takes nothing returns nothingcall DTF(GetEnumUnit())endfunctionfunction DWF takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetEnumUnit()))if((J77(GetEnumUnit(),K67(GetEnumUnit()))<5000.)and(eY[O5]!=4))thenif(IsUnitAlly(GetEnumUnit(),Z7[0]))thenif(G3==0)thenset h8[O5]=h7[111]set h8[16+O5]=h7[114]elseif(G3==1)thenset h8[O5]=h7[131]set h8[16+O5]=h7[135]elseif(G3==2)thenset h8[O5]=h7[151]set h8[16+O5]=h7[155]endifelseif(IsUnitAlly(GetEnumUnit(),Y7[0]))thenif(G4==0)thenset h8[O5]=h7[11]set h8[16+O5]=h7[14]elseif(G4==1)thenset h8[O5]=h7[31]set h8[16+O5]=h7[35]elseif(G4==2)thenset h8[O5]=h7[51]set h8[16+O5]=h7[55]endifendifset h9[O5]=K67(GetEnumUnit())set h9[16+O5]=K67(GetEnumUnit())if(JC7(GetEnumUnit()))thencall jW(GetEnumUnit(),851983,h8[O5])endifset eY[O5]=1elseif((IsUnitAlly(GetEnumUnit(),Y7[0]))and(eY[O5]!=9))thenif(((G4==1)and(JD7(GetEnumUnit())==2))or((G4==2)and(JD7(GetEnumUnit())==1)))thenset G0[32+O5]=truecall J3(GetEnumUnit(),true)elseif(G4==0)thencall UME(GetEnumUnit(),h7[9+hB])elseif(G4==1)thencall UME(GetEnumUnit(),h7[29+hc])elseif(G4==2)thencall UME(GetEnumUnit(),h7[49+hC])endifelseif((IsUnitAlly(GetEnumUnit(),Z7[0]))and(eY[O5]!=9))thenif(((G3==1)and(JD7(GetEnumUnit())==2))or((G3==2)and(JD7(GetEnumUnit())==1)))thenset G0[32+O5]=truecall J3(GetEnumUnit(),true)elseif(G3==0)thencall UME(GetEnumUnit(),h7[117-hB])elseif(G3==1)thencall UME(GetEnumUnit(),h7[139-hc])elseif(G3==2)thencall UME(GetEnumUnit(),h7[159-hC])endifendifendfunctionfunction DXF takes nothing returns nothingset eY[GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=11set h8[48+GetPlayerId(GetOwningPlayer(GetEnumUnit()))]=h7[250]endfunctionfunction TKE takes nothing returns nothinglocal unit it=MZ7(QC4,"OB|U")local integer UEEif(JC7(it))thencall jW(it,851986,h9[GetPlayerId(GetOwningPlayer(it))])endifset G0[48+GetPlayerId(GetOwningPlayer(it))]=trueset UEE=T5E(6.,it,false,true)set G0[48+GetPlayerId(GetOwningPlayer(it))]=falseif(GetWidgetLife(it)<=.405)thenelseif((UEE==2)and(not J_7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))])and(JC7(it)))thencall IssueImmediateOrderById(it,851993)elseif(UEE==3)thenif((not J_7(it))and(not G0[32+GetPlayerId(GetOwningPlayer(it))]))thenif JC7(it)thencall jW(it,851983,h8[GetPlayerId(GetOwningPlayer(it))])endifelsecall OI7(it,false)endifendifendfunctionfunction DYF takes player DZF,player DAF,boolean DBF,string DCF returns nothingif(DBF)thencall DisplayTimedTextToPlayer(DAF,0,0,10.,K[GetPlayerId(DZF)]+GetPlayerName(DZF)+"|r has learned "+DCF)elsecall DisplayTimedTextToPlayer(DAF,0,0,10.,K[GetPlayerId(DZF)]+GetPlayerName(DZF)+"|r didn't yet learn "+DCF)endifendfunctionfunction D3F takes player DAF,unit D6F,integer DLF,string D1F returns nothingcall DisplayTimedTextToPlayer(DAF,0,0,10.,"        - |c0000cc00"+GetAbilityName(DLF)+"|r "+D1F+"[|c00ffff00Level "+I2S(GetUnitAbilityLevel(D6F,DLF))+"|r]")endfunctionfunction D0F takes player D5F,player D2F returns nothinglocal integer iZ=GetPlayerId(D5F)local unit it=G7[iZ]local integer D_Flocal integer E4F=0local integer array E7Flocal boolean array E8Fif(it==null)thenreturnendifset E7F[1]=eY[336+iZ]if(GetUnitAbilityLevel(it,E7F[1])!=0)thenset E8F[1]=trueset E4F=E4F+1elseset E8F[1]=falseendifset E7F[2]=eY[352+iZ]if(GetUnitAbilityLevel(it,E7F[2])!=0)thenset E8F[2]=trueset E4F=E4F+1elseset E8F[2]=falseendifset E7F[3]=eY[368+iZ]if((GetUnitTypeId(it)=='N01O')or(GetUnitTypeId(it)=='N013')or(GetUnitTypeId(it)=='N014')or(GetUnitTypeId(it)=='N015'))thenset E7F[3]='A0AE'endifif(GetUnitAbilityLevel(it,E7F[3])!=0)thenset E8F[3]=trueset E4F=E4F+1elseset E8F[3]=falseendifset E7F[4]=eY[172+iZ]if(GetUnitAbilityLevel(it,E7F[4])!=0)thenset E8F[4]=trueset E4F=E4F+1elseset E8F[4]=falseendifset E7F[5]=eY[188+iZ]if(GetUnitAbilityLevel(it,E7F[5])!=0)thenset E8F[5]=trueset E4F=E4F+1elseset E8F[5]=falseendifset E7F[6]='Aamk'if((GetUnitTypeId(it)=='Nfir')or(GetUnitTypeId(it)=='O00P')or(GetUnitTypeId(it)=='N01O')or(GetUnitTypeId(it)=='N013')or(GetUnitTypeId(it)=='N014')or(GetUnitTypeId(it)=='N015')or(GetUnitTypeId(it)=='Hblm'))thenset E7F[6]='A0NR'endifif(GetUnitAbilityLevel(it,E7F[6])!=0)thenset E8F[6]=trueset E4F=E4F+1elseset E8F[6]=falseendifif(E4F==0)thencall DYF(D5F,D2F,false,"any skill!")returnendifif((E4F==1))thencall DYF(D5F,D2F,true,"the following skill:")endifif((E4F>1))thencall DYF(D5F,D2F,true,"the following skills:")endifset D_F=1loopif(E8F[D_F])thenif(GetUnitAbilityLevel(it,E7F[D_F])==1)thencall D3F(D2F,it,E7F[D_F],"")elsecall D3F(D2F,it,E7F[D_F],"up to ")endifendifexitwhen D_F>2set D_F=D_F+1endloopif(GetUnitAbilityLevel(it,E7F[4])>=GetUnitAbilityLevel(it,E7F[5]))thenif(E8F[4])thenif(GetUnitAbilityLevel(it,E7F[4])==1)thencall D3F(D2F,it,E7F[4],"")elsecall D3F(D2F,it,E7F[4],"up to ")endifendifelseif(E8F[5])thenif(GetUnitAbilityLevel(it,E7F[5])==1)thencall D3F(D2F,it,E7F[5],"")elsecall D3F(D2F,it,E7F[5],"up to ")endifendifif(E8F[6])thenif(GetUnitAbilityLevel(it,E7F[6])==1)thencall D3F(D2F,it,E7F[6],"")elsecall D3F(D2F,it,E7F[6],"up to ")endifendifif((E4F<4))thencall DYF(D5F,D2F,false,"the following skills:")endifif((E4F==4))thencall DYF(D5F,D2F,false,"the following skill:")endifset D_F=1loopif(not(E8F[D_F]))thencall D3F(D2F,it,E7F[D_F],"")endifexitwhen D_F>2set D_F=D_F+1endloopif((GetUnitAbilityLevel(it,E7F[4])==0)and(GetUnitAbilityLevel(it,E7F[5])==0))thencall D3F(D2F,it,E7F[4],"")endifif(not(E8F[6]))thencall D3F(D2F,it,E7F[6],"")endifset it=nullendfunctionfunction E9F takes string VH returns nothinglocal player pl=nulllocal unit m5=nulllocal integer UPlocal integer SZE=0local integer kglocal boolean UWE=falselocal string EDF=""local group EEF=nulllocal integer i=0if((SubString(VH,0,2)=="-o")or(SubString(VH,0,2)=="-c")or(SubString(VH,0,2)==" c"))thenset VH=SubString(VH,2,StringLength(VH))elsereturnendifset DI7=nullif(VH=="tango")thenif(Bz<60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Tango will be used instead of Salve")set PT4=trueendifelseif(VH=="flask")thenif(Bz<60.)thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Salve will be used instead of Tangoes")set PT4=falseendifelseif(VH=="ld")thenif(SC4==false)thenset SC4=truecall H17("Low Dodge Mode enabled")elseset SC4=falsecall H17("Low Dodge Mode disabled")endifelseif(VH=="aen")thenif(GetTriggerPlayer()==QK4 and QM4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QE7)),function DRF)set bj_lastLoadedUnit=K84set UWE=trueelseif(GetTriggerPlayer()==QM4 and QK4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QD7)),function DRF)set bj_lastLoadedUnit=JH4set UWE=trueendifset EDF="Resuming in pushing"elseif(VH=="den")thenif(GetTriggerPlayer()==QK4 and QM4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QE7)),function DUF)set bj_lastLoadedUnit=K84set UWE=trueelseif(GetTriggerPlayer()==QM4 and QK4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QD7)),function DUF)set bj_lastLoadedUnit=JH4set UWE=trueendifset EDF="Defending base"elseif(VH=="sden")thenif(GetTriggerPlayer()==QK4 and QM4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QE7)),function DVF)set bj_lastLoadedUnit=K84set UWE=trueelseif(GetTriggerPlayer()==QM4 and QK4==null)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QD7)),function DVF)set bj_lastLoadedUnit=JH4set UWE=trueendifset EDF="Staying to defend base"elseif(VH=="roshanen")thenif GetWidgetLife(P4)<.405 thenif(GetTriggerPlayer()==QK4)thenset bj_lastLoadedUnit=K84elseif(GetTriggerPlayer()==QM4)thenset bj_lastLoadedUnit=JH4endifset UWE=trueset EDF="Negative (|c00ffcc00Roshan|r has not respawned)"elseif(GetTriggerPlayer()==QK4)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QE7)),function DXF)set bj_lastLoadedUnit=K84set UWE=trueelseif(GetTriggerPlayer()==QM4)thencall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QD7)),function DXF)set bj_lastLoadedUnit=JH4set UWE=trueendifset EDF="Moving to engage |c00ffcc00Roshan|r"endifelseif(SubString(VH,0,7)=="itemfix")thenset VH=SubString(VH,7,StringLength(VH))set DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())loopcall TriggerSleepAction(0.)set kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifif((pl!=null)and(R97(pl))and((IsPlayerAlly(pl,Y7[0])and(QK4==null or GetTriggerPlayer()==QK4))or(IsPlayerAlly(pl,Z7[0])and(QM4==null or GetTriggerPlayer()==QM4))))thenset UP=GetPlayerId(pl)if G7[UP]==null thenelseif GetWidgetLife(G7[UP])>.405 thencall OI7(G7[UP],true)set hq[528+UP]=Bz+30.call MF7(QC4,"OB|U",G7[UP])call ExecuteFunc("TKE")if(eY[UP]>=9)thenset eY[UP]=1endifendifset GZ[192+UP]=truecall OG7(G7[UP],DI7)call O87(G7[UP],DI7,"Fixing itembuild")endifendifexitwhen kg<0endloopcall DestroyForce(DI7)elseif((VH=="neut")or(VH=="neu"))thenif(GetTriggerPlayer()==QK4)thenset bj_lastLoadedUnit=JH4set Gv=not Gvif(Gv)thenset SZE=1endifelseset bj_lastLoadedUnit=K84set Gw=not Gwif(Gw)thenset SZE=1endifendifset UWE=trueset EDF="Neutral creeping is turned "+IG7(SZE==1,"|c009090ffon|r","|c00ff9090off|r")elseif(VH=="ui")thencall ExecuteFunc("EFF")elseif(SubString(VH,0,2)=="sv")thenset VH=SubString(VH,2,StringLength(VH))loopcall TriggerSleepAction(0.)set kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifif((pl!=null)and(R97(pl)))thencall D0F(pl,GetTriggerPlayer())endifexitwhen kg<0endloopelseif(SubString(VH,0,1)=="b")thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="b" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UWE=trueset UP=GetPlayerId(pl)if(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elsecall MF7(QC4,"OB|U",G7[UP])call ExecuteFunc("TKE")if(eY[UP]>=9)thenset eY[UP]=1endifset EDF="Moving back"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)elseif(SubString(VH,0,1)=="f")thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="f" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UWE=trueset UP=GetPlayerId(pl)if(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elsecall OI7(G7[UP],true)set hq[528+UP]=Bz+30.call MF7(QC4,"OB|U",G7[UP])call ExecuteFunc("TKE")if(eY[UP]>=9)thenset eY[UP]=1endifset EDF="Return to fountain"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)elseif((SubString(VH,0,1)=="a")and(VH!="auto"))thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="a" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UWE=trueset UP=GetPlayerId(pl)if(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elsecall XME(G7[UP])set EDF="Pushing"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)elseif(SubString(VH,0,1)=="d")thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="d" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,1,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set UWE=trueif(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elsecall DSF(G7[UP])set EDF="Defending base"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)elseif(SubString(VH,0,2)=="sd")thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="sd" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,2,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set UWE=trueif(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elsecall DTF(G7[UP])set EDF="Stay-defending base"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)elseif(SubString(VH,0,6)=="roshan")thenif GetWidgetLife(P4)<.405 thenif(GetTriggerPlayer()==QK4)thenset bj_lastLoadedUnit=K84elseif(GetTriggerPlayer()==QM4)thenset bj_lastLoadedUnit=JH4endifset UWE=trueset EDF="Negative (|c00ffcc00Roshan|r has not respawned)"elseset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if VH=="roshan" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")elseset VH=SubString(VH,6,StringLength(VH))endifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set UWE=trueif(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elseset eY[UP]=11set h8[48+UP]=h7[250]set EDF="Moving to engage |c00ffcc00Roshan|r"endifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifendifexitwhen kg<0endloopset UWE=falsecall DestroyForce(DI7)endifelseif(P44)thenelseif(VH=="auto")thenif(GetTriggerPlayer()==QK4)thenset PU4=(not PU4)set bj_lastLoadedUnit=JH4set EDF="Automatic lane changing is turned "+IG7(PU4,"|c009090ffon|r","|c00ff9090off|r")elseset PV4=(not PV4)set bj_lastLoadedUnit=K84set EDF="Automatic lane changing is turned "+IG7(PV4,"|c009090ffon|r","|c00ff9090off|r")endifset UWE=trueelseif(VH=="p")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"Commands:
        Type \"-o\",\"-c\" or \" c\" before any of these:
        "+EV7+"pn|r - let AI choose where to push
        "+EV7+"pl|r - all AI allies pushes left
        "+EV7+"pr|r - all AI allies pushes right
        "+EV7+"pm|r - all AI allies pushes middle")elseif(VH=="pn")thenif(GetTriggerPlayer()==QK4)thenset G4=-1set bj_lastLoadedUnit=JH4elseset G3=-1set bj_lastLoadedUnit=K84endifset UWE=trueset EDF="All ally AI are free to choose where to push"elseif((VH=="pl")or(VH=="pr")or(VH=="pm"))thenif(VH=="pl")thenset SZE=1elseif(VH=="pr")thenset SZE=2elseset SZE=0endifif(GetTriggerPlayer()==QK4)thenset G4=SZEcall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QD7)),function DWF)set bj_lastLoadedUnit=JH4elseset G3=SZEcall ju(GetUnitsInRectMatching(bj_mapInitialPlayableArea,Condition(function QE7)),function DWF)set bj_lastLoadedUnit=K84endifset UWE=trueif(SZE==1)thenset EDF="All ally AI will push left lane"elseif(SZE==2)thenset EDF="All ally AI will push right lane"elseset EDF="All ally AI will push mid lane"endifelseif(SubString(VH,0,1)=="t")thenif VH!="t" thenset VH=SubString(VH,1,StringLength(VH))set kg=kE(VH," ")if kg==0 thenset VH=SubString(VH,1,StringLength(VH))set kg=kE(VH," ")endifset bj_lastLoadedUnit=I47(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),JH4,K84)if(kg>=0)thenset D97=SubString(VH,kg+1,StringLength(VH))if D97=="0" thenset SZE=10elseset SZE=S2I(D97)endifset pl=J37(SZE)set bj_forLoopAIndex=GetPlayerId(pl)if(G7[bj_forLoopAIndex]==null)thenset EDF="|cffffcc00Invalid target"set SZE=0elseif(not J07(G7[bj_forLoopAIndex]))thenset EDF="|cffffcc00Target is dead"set SZE=0set kg=0elseif(not IsUnitVisible(G7[bj_forLoopAIndex],GetTriggerPlayer()))and(eY[32+bj_forLoopAIndex]<=2)thenset EDF="|cffffcc00Target is not visible"set SZE=0set kg=0elseif(not IsPlayerEnemy(GetTriggerPlayer(),pl))thenset EDF="|cffffcc00Target is not enemy"set SZE=0set kg=0elseset VH=SubString(VH,0,kg+1)set m5=G7[bj_forLoopAIndex]endifset UWE=(SZE==0)elseset SZE=0set VH="t"endifif(SZE>0)thenset SZE=JD7(m5)set DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if SubString(VH,0,1)==" " thenset VH=SubString(VH,1,StringLength(VH))endifset kg=kh(VH)if(kg==-1)thenset VH=SubString(VH,0,1)if VH=="a" or VH=="x" thenset VH=IG7(IsPlayerAlly(GetTriggerPlayer(),Y7[0]),"1,2,3,4,5","6,7,8,9,0")endifendifloopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(RD7(pl))and(GetPlayerController(pl)==MAP_CONTROL_COMPUTER)and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set UWE=trueif(G7[UP]==null)thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elseif h4[UP]!=null and J_7(h4[UP])thenset EDF=EY7elseif((((SZE==1)and(JD7(G7[UP])==2))or((SZE==2)and(JD7(G7[UP])==1)))and J77(G7[UP],K67(G7[UP]))>10000.)thenset EDF=EZ7elsecall UFE(G7[UP],false)call UNE(G7[UP],m5)set G0[160+UP]=trueset h4[144+UP]=m5set EDF="Moving to ambush "+K[GetPlayerId(GetOwningPlayer(m5))]+GetPlayerName(GetOwningPlayer(m5))+"|r"endifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifexitwhen kg<0endloopcall DestroyForce(DI7)set UWE=falseendifendifif VH=="t" thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"|cffffcc00Commands: Target -|r
Type \"-o\",\"-c\" or \" c\" before any of these.
You can order more than one by using \",\":
    "+EV7+"t <Player no>[,<Player no2>] <target Player no>|r- ambush target hero
    "+EV7+"t a <target Player no>|r- All allied bots ambush target hero
    ")endifelseif(VH=="g")thencall DisplayTimedTextToPlayer(GetTriggerPlayer(),0,0,10.,"|cffffcc00Commands: Go -|r
Type \"-o\",\"-c\" or \" c\" before any of these.
You can order more than one by using \",\":
    "+EV7+"gl<Player no>|r - order bot to go left
    "+EV7+"gr<Player no>|r - order bot to go right
    "+EV7+"gm<Player no>|r - order bot to go mid
    ")elseif((SubString(VH,0,2)=="gl")or(SubString(VH,0,2)=="gr")or(SubString(VH,0,2)=="gm"))thenset DI7=CreateForce()call ForceAddPlayer(DI7,GetTriggerPlayer())if(SubString(VH,0,2)=="gl")thenset SZE=1elseif(SubString(VH,0,2)=="gr")thenset SZE=2elseset SZE=0endifset VH=SubString(VH,2,StringLength(VH))set EEF=CreateGroup()set i=1loopexitwhen i>5if IsPlayerAlly(GetTriggerPlayer(),Y7[0])thenset pl=Y7[i]elseset pl=Z7[i]endifset UP=GetPlayerId(pl)if(R97(pl)and G7[UP]!=null and J07(G7[UP])and J_7(G7[UP])==false and JD7(G7[UP])==0)thencall GroupAddUnit(EEF,G7[UP])endifset i=i+1endlooploopset kg=kh(VH)if(kg>=0)thenset pl=J67(SubString(VH,0,kg))set VH=SubString(VH,kg+1,StringLength(VH))elseset pl=J67(SubString(VH,0,StringLength(VH)))endifset UWE=falseif((pl!=null)and(R97(pl))and(IsPlayerAlly(pl,GetTriggerPlayer())))thenset UP=GetPlayerId(pl)set UWE=trueif G7[UP]==null thenset UWE=falseelseif not J07(G7[UP])thenset EDF=EW7elseif J_7(G7[UP])thenset EDF=EX7elseif h4[UP]!=null and J_7(h4[UP])thenset EDF=EY7elseset G0[64+UP]=trueset h4[UP]=nullcall UFE(G7[UP],false)if(SZE==JD7(G7[UP]))thenset SZE=-1elseif((((SZE==1)and(JD7(G7[UP])==2))or((SZE==2)and(JD7(G7[UP])==1)))and J77(G7[UP],K67(G7[UP]))>10000.)thenif(eY[224+UP]<R2I(Bz))thenif(SZE==1)thenset eY[208+UP]=ID7(GetTriggerPlayer()==QK4,29+hc,139-hc)elseif(SZE==2)thenset eY[208+UP]=ID7(GetTriggerPlayer()==QK4,49+hC,159-hC)endifelseset SZE=10+SZEcall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[9+hB],h7[117-hB]))endifelseif(SZE==1)thencall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[29+hc],h7[139-hc]))elseif(SZE==2)thencall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[49+hC],h7[159-hC]))elsecall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[9+hB],h7[117-hB]))endifset G0[160+UP]=trueset hq[320+UP]=Bz+45.if(SZE==1)thenset EDF="Heading left"elseif(SZE==2)thenset EDF="Heading right"elseif(SZE==11)thenset EDF="Heading mid (left is too far)"elseif(SZE==12)thenset EDF="Heading mid (right is too far)"elseif(SZE==-1)thenset EDF="|cffffcc00Already in lane"elseset EDF="Heading mid"endifendifendifif UWE thencall OG7(G7[UP],DI7)call O87(G7[UP],DI7,EDF)endifif(SZE>10)thenset SZE=SZE-10set bj_lastLoadedUnit=FirstOfGroup(EEF)if bj_lastLoadedUnit!=null thencall GroupRemoveUnit(EEF,bj_lastLoadedUnit)set UP=GetPlayerId(GetOwningPlayer(bj_lastLoadedUnit))if(SZE==1)thencall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[29+hc],h7[139-hc]))call OG7(G7[UP],DI7)call O87(G7[UP],DI7,"Heading left (substituting)")elseif(SZE==2)thencall UME(G7[UP],I47(GetTriggerPlayer()==QK4,h7[49+hC],h7[159-hC]))call OG7(G7[UP],DI7)call O87(G7[UP],DI7,"Heading right (substituting)")endifendifendifexitwhen kg<0endloopcall DestroyForce(DI7)call DestroyGroup(EEF)set UWE=falseendifif UWE and EDF!="" thencall NX7(bj_lastLoadedUnit,EDF,GetTriggerPlayer())endifcall DestroyForce(DI7)set pl=nullset m5=nullset DI7=nullset EEF=nullendfunctionfunction EGF takes nothing returns nothingif(GetEventPlayerChatString()==" ")thencall E9F("-oui")elsecall E9F(GetEventPlayerChatString())endifendfunctionfunction EHF takes unit H57 returns integerlocal integer i1=GetUnitTypeId(H57)if i1=='H00K' thenreturn 0endifif(i1=='HC49' or i1=='HC92' or(i1=='N01O' or i1=='N013' or i1=='N014' or i1=='N015')or i1=='Nbbc' or i1=='Huth' or i1=='Ogrh' or i1=='E005' or((i1=='N016')or(i1=='N017')or(i1=='N02B'))or i1=='Nbrn' or(i1=='Eevi' or i1=='Eevm')or i1=='U006' or i1=='Ewar' or i1=='E004' or i1=='EC45' or i1=='EC77' or i1=='Nfir' or i1=='Hvsh' or i1=='E01B' or i1=='H00I' or i1=='H071')thenreturn 0+GetHeroLevel(H57)/5endifif(i1=='Hvwd' or i1=='O00P' or i1=='H001' or i1=='HC49' or i1=='HC92' or i1=='N01O' or i1=='Nbbc' or i1=='Huth' or i1=='Ogrh' or i1=='E005' or i1=='Usyl' or i1=='H008' or i1=='Naka' or i1=='Hlgr' or i1=='Edem' or i1=='Nbrn' or i1=='H00D' or i1=='N01V' or i1=='H00Q' or i1=='E01Y' or i1=='H00T' or i1=='H06S' or(i1=='Eevi' or i1=='Eevm')or i1=='EC57' or i1=='UC11' or i1=='U00A' or i1=='U008' or i1=='U006' or((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))or i1=='Udre' or i1=='UC42' or i1=='U000' or i1=='UC91' or i1=='EC45' or i1=='EC77' or i1=='E002' or i1=='U00C' or i1=='O00J' or i1=='Ubal' or i1=='Nfir' or i1=='U00K' or i1=='Hvsh' or i1=='E01B' or i1=='H00I' or i1=='H071' or i1=='E02I' or i1=='E02N' or i1=='N0M0' or i1=='E02K')thenreturn 3endifif(i1=='H001' or i1=='Hamg' or i1=='Ucrl' or i1=='H008' or i1=='Npbm' or i1=='H000' or i1=='Hlgr' or i1=='N01I' or i1=='H06S' or i1=='UC11' or i1=='U00A' or i1=='U008' or i1=='NC00' or i1=='U00C' or i1=='Ofar' or i1=='U00F' or i1=='Opgh' or i1=='Udea' or i1=='H00R' or i1=='O015' or i1=='O01F' or i1=='E02F' or i1=='E032')thenreturn 2endifif(i1=='Emoo' or i1=='Otch' or i1=='N01A' or i1=='Uktl' or((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))or i1=='Hmkg' or i1=='Emns' or i1=='Ucrl' or i1=='H00A' or i1=='Orkn' or i1=='Harf' or i1=='E00P' or i1=='N00B' or i1=='N0EG' or i1=='UC18' or i1=='UC60' or i1=='UC01' or i1=='H00H' or i1=='Oshd' or i1=='U00E' or i1=='E01A' or i1=='U00P' or i1=='E01C' or i1=='N01W' or i1=='N00R' or i1=='H00N' or i1=='H00U' or i1=='N0HP' or i1=='O016' or i1=='E02J' or i1=='E02H' or i1=='H0DO')thenreturn 3endifif(i1=='Hmbr' or i1=='Emoo' or i1=='Hjai' or i1=='H004' or i1=='Hmkg' or i1=='Ntin' or i1=='E00P' or i1=='H00S' or i1=='Ekee' or i1=='Ulic' or i1=='UC76' or i1=='UC18' or i1=='H00H' or i1=='Oshd' or i1=='E01A' or i1=='U00P' or i1=='H00U' or i1=='E02X')thenreturn 3endifreturn 0endfunctionfunction EIF takes unit H57 returns integerlocal integer i1=GetUnitTypeId(H57)if(i1=='HC49' or i1=='HC92' or(i1=='N01O' or i1=='N013' or i1=='N014' or i1=='N015')or i1=='Nbbc' or i1=='Huth' or i1=='Ogrh' or i1=='E005' or((i1=='N016')or(i1=='N017')or(i1=='N02B'))or i1=='Nbrn' or(i1=='Eevi' or i1=='Eevm')or i1=='U006' or i1=='Ewar' or i1=='E004' or i1=='EC45' or i1=='EC77' or i1=='Nfir' or i1=='Hvsh' or i1=='E01B' or i1=='H00I' or i1=='H071')thenreturn 3endifif(i1=='Hvwd' or i1=='O00P' or i1=='H001' or i1=='HC49' or i1=='HC92' or i1=='N01O' or i1=='Nbbc' or i1=='Huth' or i1=='Ogrh' or i1=='E005' or i1=='Usyl' or i1=='H008' or i1=='Naka' or i1=='Hlgr' or i1=='Edem' or i1=='Nbrn' or i1=='H00D' or i1=='N01V' or i1=='H00Q' or i1=='E01Y' or i1=='H00T' or i1=='H06S' or(i1=='Eevi' or i1=='Eevm')or i1=='EC57' or i1=='UC11' or i1=='U00A' or i1=='U008' or i1=='U006' or((i1=='H00V')or(i1=='H08D')or(i1=='H08C')or(i1=='H084')or(i1=='H08B'))or i1=='Udre' or i1=='UC42' or i1=='U000' or i1=='UC91' or i1=='EC45' or i1=='EC77' or i1=='E002' or i1=='U00C' or i1=='O00J' or i1=='Ubal' or i1=='Nfir' or i1=='U00K' or i1=='Hvsh' or i1=='E01B' or i1=='H00I' or i1=='H071' or i1=='E02I' or i1=='E02N' or i1=='N0M0')thenreturn 2endifif(i1=='H001' or i1=='Hamg' or i1=='Ucrl' or i1=='H008' or i1=='Npbm' or i1=='H000' or i1=='Hlgr' or i1=='N01I' or i1=='H06S' or i1=='UC11' or i1=='U00A' or i1=='U008' or i1=='NC00' or i1=='U00C' or i1=='Ofar' or i1=='U00F' or i1=='Opgh' or i1=='Udea' or i1=='H00R' or i1=='O015' or i1=='O01F' or i1=='E02F' or i1=='E02K' or i1=='E032')thenreturn 1endifif(i1=='Emoo' or i1=='Otch' or i1=='N01A' or i1=='Uktl' or((i1=='Hblm')or(i1=='H06X')or(i1=='H06Y')or(i1=='H06W'))or i1=='Hmkg' or i1=='Emns' or i1=='Ucrl' or i1=='H00A' or i1=='Orkn' or i1=='Harf' or i1=='E00P' or i1=='N00B' or i1=='N0EG' or i1=='UC18' or i1=='UC60' or i1=='UC01' or i1=='H00H' or i1=='Oshd' or i1=='U00E' or i1=='E01A' or i1=='U00P' or i1=='E01C' or i1=='N01W' or i1=='N00R' or i1=='H00N' or i1=='H00U' or i1=='N0HP' or i1=='O016' or i1=='E02J' or i1=='E02H' or i1=='H0DO')thenreturn 1endifif(i1=='Hmbr' or i1=='Emoo' or i1=='Hjai' or i1=='H004' or i1=='Hmkg' or i1=='Ntin' or i1=='H00K' or i1=='E00P' or i1=='H00S' or i1=='Ekee' or i1=='Ulic' or i1=='UC76' or i1=='UC18' or i1=='H00H' or i1=='Oshd' or i1=='E01A' or i1=='U00P' or i1=='H00U' or i1=='E02X')thenreturn 2endifreturn 1endfunctionfunction EJF takes boolean IU7 returns nothinglocal integer O5=0local integer i=1if IU7 thenset DI7=W7elseset DI7=X7endifset i=1loopexitwhen i>5if IU7 thenset O5=GetPlayerId(Y7[i])elseset O5=GetPlayerId(Z7[i])endifif G7[O5]!=null and GetUnitLifePercent(G7[O5])>50 and R97(Player(O5))and eY[O5]!=11 thencall OG7(G7[O5],DI7)call O87(G7[O5],DI7,"Moving to engage |c00ffcc00Roshan|r")set eY[O5]=11set h8[48+O5]=h7[250]endifset i=i+1endloopset DI7=nullendfunctionfunction EKF takes nothing returns nothinglocal integer O5=0local integer OK7=0local integer ilocal integer Q1E=-1local integer jlocal integer klocal integer EMFlocal integer ENFlocal boolean EOF=falselocal boolean EPF=falselocal boolean IU7local real EQF=0local real ERF=0if not(DW7>4)thenset DW7=DW7+1returnendifset k=0set i=1loopexitwhen i>5set O5=GetPlayerId(Y7[i])if(G7[O5]!=null)thenif GetHeroLevel(G7[O5])>=6 thenset EOF=trueendifif(GetHeroLevel(G7[O5])>11 and GetUnitLifePercent(G7[O5])>50)thenset EQF=EQF+D77endifendifset O5=GetPlayerId(Z7[i])if(G7[O5]!=null)thenif GetHeroLevel(G7[O5])>=6 thenset EPF=trueendifif(GetHeroLevel(G7[O5])>11 and GetUnitLifePercent(G7[O5])>50)thenset ERF=ERF+D87endifendifset i=i+1endloopset i=1loopexitwhen i>5set O5=GetPlayerId(Y7[i])if(eY[O5]==9 and eY[272+O5]!=0)thenset EOF=falseendifif(G7[O5]!=null and(GetUnitLifePercent(G7[O5])>10))thenset ERF=ERF-D77endifset O5=GetPlayerId(Z7[i])if(eY[O5]==9 and eY[272+O5]!=0)thenset EPF=falseendifif(G7[O5]!=null and(GetUnitLifePercent(G7[O5])>10))thenset EQF=EQF-D87endifset i=i+1endloopif(not EOF)and(not EPF)thenreturnendifif GetWidgetLife(P4)>.405 thenif(EQF>=3 and(hB>4 and hc>5 and hC>5))thencall EJF(true)endifif(EQF>=3 and(hB<4 and hc<5 and hC<5))thencall EJF(false)endifendifset i=0set k=0if EPF thenset i=i+IG4set bj_forLoopAIndex=1elseset bj_forLoopAIndex=6endifif EOF thenset i=i+IH4set bj_forLoopAIndexEnd=10elseset bj_forLoopAIndexEnd=5endifset OK7=-1loopexitwhen((bj_forLoopAIndex>bj_forLoopAIndexEnd)or(OK7!=-1))set O5=GetPlayerId(J37(bj_forLoopAIndex))set IU7=(bj_forLoopAIndex<6)if(G7[O5]!=null)thenif((GetWidgetLife(G7[O5])>.405)and(not J_7(G7[O5])))thencall GroupClear(H8)set bj_lastLoadedUnit=G7[O5]set j=GetUnitUserData(h8[80+O5])if((OK7==-1)and(KH7(1200.,G7[O5],Condition(function PE7))<=1)and(JL7(G7[O5]))and((GetRandomInt(1,i)==1)and(GetRandomInt(1,10)<=7+EIF(G7[O5]))))thenif((j>11 and j<17)or(j==11 and IU7==false)or(j==17 and IU7)or(j>11 and j<17)or(j==11 and IU7==false)or(j==17 and IU7)or(j>31 and j<39)or(j==31 and IU7==false)or(j==39 and IU7)or(j>11 and j<17)or(j==11 and IU7==false)or(j==17 and IU7)or(j>51 and j<59)or(j==51 and IU7==false)or(j==59 and IU7))thenset OK7=O5endifendifendifset i=i-1endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif OK7!=-1 thenset ENF=JD7(G7[OK7])if(ENF==0 and P84)or(ENF==1 and P94)or(ENF==2 and P74)or(ENF!=0 and P44)thenreturnendifset bj_forLoopAIndex=1set i=ID7(IU7,IH4,IG4)set j=0set k=0loopexitwhen((bj_forLoopAIndex>10)or(eY[320+OK7]+j+k>DX7 and k!=0))if bj_forLoopAIndex==6 thenset i=ID7(IU7,IH4,IG4)endifif bj_forLoopAIndex<=5 thenif IU7 thenset O5=GetPlayerId(Z7[bj_forLoopAIndex])elseset O5=GetPlayerId(Y7[bj_forLoopAIndex])endifelseif IU7 thenset O5=GetPlayerId(Z7[bj_forLoopAIndex-5])elseset O5=GetPlayerId(Y7[bj_forLoopAIndex-5])endifendifif(G7[O5]!=null)thenif(GetUnitLifePercent(G7[O5])>70)and(GetUnitManaPercent(G7[O5])>50. and GetUnitState(G7[O5],UNIT_STATE_MANA)>200)thenset EMF=JD7(G7[O5])if(EMF==ENF)and(bj_forLoopAIndex<=5)thenset j=j+1if(R97(Player(O5)))and((Q1E==-1)or(GetRandomInt(1,3)<=EHF(G7[O5])))thenset Q1E=O5endifelseif((EMF!=ENF)and((ENF==0)or(EMF==0)))and(eY[272+O5]!=-1)thenif((R97(Player(O5)))and(GetHeroLevel(G7[O5])>=6)and(eY[O5]==1)and(h4[O5]==null)and(Bz>hq[528+O5])and(Bz>hq[576+O5])and(Bz>hq[320+O5])and(Bz>hq[480+O5]))thenif(GetRandomInt(1,3)<=EHF(G7[O5]))and((GetRandomInt(1,i)<=2)or(bj_forLoopAIndex>5))thenset k=k+1set eY[272+O5]=-1endifendifendifendifset i=i-1endifset bj_forLoopAIndex=bj_forLoopAIndex+1endloopif(h4[304+OK7]!=null)thenset k=k-1endifif(j>2)thenset Q1E=-1endifif(k>eY[320+OK7]+DX7)thenif IU7 thenset DI7=X7elseset DI7=W7endifset O5=1if k==0 and Q1E!=-1 thenset O5=Q1Eendifloopif(eY[272+O5]==-1)or((O5==Q1E)and(k==0))thencall OG7(G7[O5],DI7)call O87(G7[O5],DI7,"Moving to ambush "+K[OK7]+GetUnitName(G7[OK7])+"|r")call UNE(G7[O5],G7[OK7])endifset O5=O5+1exitwhen(O5>11)or(k==0)endloopset DW7=GetRandomInt(0,2)endifset O5=1loopexitwhen O5>11if eY[272+O5]==-1 thenset eY[272+O5]=0endifset O5=O5+1endloopendifset DI7=nullendfunctionfunction ESF takes nothing returns nothinglocal button ETF=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=N87(ki,"PlHost")local string kf=N87(ki,"Oid")local integer UP=0if(GetTriggerPlayer()!=QK4)thenset UP=5endifif(ETF==N97(QC4,VH+"|Btn11"))thencall E9F(kf+" "+I2S(1+UP))elseif(ETF==N97(QC4,VH+"|Btn12"))thencall E9F(kf+" "+I2S(2+UP))elseif(ETF==N97(QC4,VH+"|Btn13"))thencall E9F(kf+" "+I2S(3+UP))elseif(ETF==N97(QC4,VH+"|Btn14"))thencall E9F(kf+" "+I2S(4+UP))elseif(ETF==N97(QC4,VH+"|Btn15"))thencall E9F(kf+" "+I2S(5+UP))elseif(ETF==N97(QC4,VH+"|Btn1A"))thencall E9F(kf)endifcall K_7(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set ETF=nullendfunctionfunction EUF takes string ki,boolean J4 returns nothinglocal dialog EVF=DialogCreate()local trigger t=CreateTrigger()local string VH=""local integer O5=1if(GetTriggerPlayer()==QK4)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(EVF,"Order to Whom:")loopif(IsPlayerInForce(K07(O5,GetTriggerPlayer()==QK4),QP4))thencall MU7(QC4,VH+"|Btn1"+I2S(O5),DialogAddButton(EVF,GetPlayerName(K07(O5,GetTriggerPlayer()==QK4)),0))endifset O5=O5+1exitwhen O5>5endloopif(J4)thencall MU7(QC4,VH+"|Btn1A",DialogAddButton(EVF,"All Allies",0))endifcall MU7(QC4,VH+"|Btn1X",DialogAddButton(EVF,"Cancel",0))call MD7(GetHandleId(t),"PlHost",VH)call MD7(GetHandleId(t),"Oid",ki)call TriggerRegisterDialogEvent(t,EVF)call TriggerAddAction(t,function ESF)call DialogDisplay(GetTriggerPlayer(),EVF,true)set t=nullendfunctionfunction EWF takes nothing returns nothinglocal button ETF=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=N87(ki,"PlHost")local string kf=N87(ki,"Oid")if(ETF==N97(QC4,VH+"|Btn21"))thencall EUF(kf+"l",false)elseif(ETF==N97(QC4,VH+"|Btn22"))thencall EUF(kf+"r",false)elseif(ETF==N97(QC4,VH+"|Btn23"))thencall EUF(kf+"m",false)elseif(ETF==N97(QC4,VH+"|Btn21X"))thencall E9F(kf+"l")elseif(ETF==N97(QC4,VH+"|Btn22X"))thencall E9F(kf+"r")elseif(ETF==N97(QC4,VH+"|Btn23X"))thencall E9F(kf+"m")elseif(ETF==N97(QC4,VH+"|Btn24"))thencall E9F(kf+"n")endifcall K_7(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set ETF=nullendfunctionfunction EXF takes string ki,boolean J4 returns nothinglocal dialog EVF=DialogCreate()local trigger t=CreateTrigger()local string VH=""local string kf=""local string EYF=""if(J4)thenset EYF="X"endifif(GetTriggerPlayer()==QK4)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(EVF,"What Lane:")call MU7(QC4,VH+"|Btn21"+EYF,DialogAddButton(EVF,"Left",0))call MU7(QC4,VH+"|Btn22"+EYF,DialogAddButton(EVF,"Right",0))call MU7(QC4,VH+"|Btn23"+EYF,DialogAddButton(EVF,"Middle",0))if(J4)thencall MU7(QC4,VH+"|Btn24",DialogAddButton(EVF,"Anywhere",0))endifcall DialogAddButton(EVF,"Cancel",0)call MD7(GetHandleId(t),"PlHost",VH)call MD7(GetHandleId(t),"Oid",ki)call TriggerRegisterDialogEvent(t,EVF)call TriggerAddAction(t,function EWF)call DialogDisplay(GetTriggerPlayer(),EVF,true)set t=nullendfunctionfunction EZF takes nothing returns nothinglocal button ETF=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=N87(ki,"PlHost")if(ETF==N97(QC4,VH+"|Btn61"))thencall EUF("-osd",true)elseif(ETF==N97(QC4,VH+"|Btn62"))thencall EUF("-oroshan",true)elseif(ETF==N97(QC4,VH+"|Btn63"))thencall E9F("-oneut")elseif(ETF==N97(QC4,VH+"|Btn64"))thencall E9F("-oauto")endifcall K_7(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set ETF=nullendfunctionfunction EAF takes nothing returns nothinglocal dialog EVF=DialogCreate()local trigger t=CreateTrigger()local string VH=""if(GetTriggerPlayer()==QK4)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(EVF,"AI commands:")call MU7(QC4,VH+"|Btn61",DialogAddButton(EVF,"Stay To Defend",0))call MU7(QC4,VH+"|Btn62",DialogAddButton(EVF,"Attack Roshan",0))if(((GetTriggerPlayer()==QK4)and(Gv))or((GetTriggerPlayer()==QM4)and(Gw)))thencall MU7(QC4,VH+"|Btn63",DialogAddButton(EVF,"Turn Neutral Creeping off",0))elsecall MU7(QC4,VH+"|Btn63",DialogAddButton(EVF,"Turn Neutral Creeping on",0))endifif(P44)thenelseif(((GetTriggerPlayer()==QK4)and(PU4))or((GetTriggerPlayer()==QM4)and(PV4)))thencall MU7(QC4,VH+"|Btn64",DialogAddButton(EVF,"Turn Auto Lane Changing off",0))elsecall MU7(QC4,VH+"|Btn64",DialogAddButton(EVF,"Turn Auto Lane Changing on",0))endifcall DialogAddButton(EVF,"Cancel",0)call MD7(GetHandleId(t),"PlHost",VH)call TriggerRegisterDialogEvent(t,EVF)call TriggerAddAction(t,function EZF)call DialogDisplay(GetTriggerPlayer(),EVF,true)set t=nullendfunctionfunction EBF takes nothing returns nothinglocal button ETF=GetClickedButton()local integer ki=GetHandleId(GetTriggeringTrigger())local string VH=N87(ki,"PlHost")if(ETF==N97(QC4,VH+"|Btn01"))thencall EUF("-oa",true)elseif(ETF==N97(QC4,VH+"|Btn02"))thencall EUF("-od",true)elseif(ETF==N97(QC4,VH+"|Btn03"))thencall EUF("-ob",false)elseif(ETF==N97(QC4,VH+"|Btn04"))thencall EUF("-of",false)elseif(ETF==N97(QC4,VH+"|Btn05"))thencall EXF("-og",false)elseif(ETF==N97(QC4,VH+"|Btn06"))thencall EXF("-op",true)elseif(ETF==N97(QC4,VH+"|Btn07"))thencall EAF()endifcall K_7(ki)call DestroyTrigger(GetTriggeringTrigger())call DialogDestroy(GetClickedDialog())set ETF=nullendfunctionfunction EFF takes nothing returns nothinglocal dialog EVF=DialogCreate()local trigger t=CreateTrigger()local string VH=""if(GetTriggerPlayer()==QK4)thenset VH="Sent"elseset VH="Scrg"endifcall DialogSetMessage(EVF,"AI commands:")call MU7(QC4,VH+"|Btn01",DialogAddButton(EVF,"Attack",0))call MU7(QC4,VH+"|Btn02",DialogAddButton(EVF,"Defend",0))call MU7(QC4,VH+"|Btn03",DialogAddButton(EVF,"Retreat",0))call MU7(QC4,VH+"|Btn04",DialogAddButton(EVF,"Fountain",0))if(not P44)thencall MU7(QC4,VH+"|Btn05",DialogAddButton(EVF,"Change Lane",0))call MU7(QC4,VH+"|Btn06",DialogAddButton(EVF,"Set Mass Push Lane",0))endifcall MU7(QC4,VH+"|Btn07",DialogAddButton(EVF,"Other Commands..",0))call DialogAddButton(EVF,"Cancel",0)call MD7(GetHandleId(t),"PlHost",VH)call TriggerRegisterDialogEvent(t,EVF)call TriggerAddAction(t,function EBF)call DialogDisplay(GetTriggerPlayer(),EVF,true)set t=nullendfunctionfunction ECF takes nothing returns nothinglocal integer E3Flocal integer YZElocal integer S5Elocal integer E6F=1local location ELF=nulllocal location E1F=nulllocal string E0F=""local string E5F=""if(Bz<150.)thenset E3F=0elseif(Bz<1200.)thenset E3F=GetRandomInt(1,2)elseset E3F=GetRandomInt(1,3)endifif(E3F==0)thenreturnelseif(E3F==1)thenset YZE='n003'set E0F="Siege Golems"elseif(E3F==2)thenset YZE='n00E'set E0F="Scary Fish"elseset YZE='n00D'set E0F="Ancient Hydras"endifif(Bz>2400.)thenset E6F=E6F+1endifif P44 thenset S5E=3elseset S5E=GetRandomInt(2,4)endifif(S5E==2)thenset ELF=Wvset E1F=qvset E5F="west"elseif(S5E==3)thenset ELF=Tvset E1F=mvset E5F="middle"elseif(S5E==4)thenset ELF=Uvset E1F=pvset E5F="east"endifcall CreateNUnitsAtLoc(E6F,YZE,Y7[0],ELF,bj_UNIT_FACING)call ZW8(bj_lastCreatedGroup,S5E)call CreateNUnitsAtLoc(E6F,YZE,Z7[0],E1F,bj_UNIT_FACING)call ZW8(bj_lastCreatedGroup,S5E)call S_7(bj_FORCE_ALL_PLAYERS,10.,"|c000000ff"+E0F+"|r spawned in the "+E5F+" path!")set ELF=nullset E1F=nullendfunctionfunction E2F takes boolean O6,string VH,integer E_F returns nothinglocal integer F4F=0local integer F7F=0local integer F8F=0local boolean F9F=falselocal boolean FDF=falselocal integer O5=1local integer i1local player plloopset pl=K07(O5,not O6)if((RD7(pl))and(G7[GetPlayerId(pl)]!=null))thenset i1=GetUnitTypeId(G7[GetPlayerId(pl)])if((i1=='H00K')or(i1=='HC92')or(i1=='H071'))thenset FDF=trueelseif((i1=='Naka')or(i1=='E004')or(i1=='U000')or(i1=='Ogrh')or(i1=='N01V')or(i1=='U006')or(i1=='Hamg'))thenset F9F=trueendifif(IsUnitType(G7[GetPlayerId(pl)],UNIT_TYPE_MELEE_ATTACKER))thenset F4F=F4F+1endifif(IN7(i1,DC7))thenset F7F=F7F+1endifif(IK7(i1)<=2)thenset F8F=F8F+1endifendifset O5=O5+1exitwhen O5>5endloopif(FDF)thencall ME7(QC4,VH+"|G",true)call ME7(QC4,VH+"|W",true)elseif(F9F)thencall ME7(QC4,VH+"|W",true)endifif(F4F!=0)and((F4F==E_F)or((E_F>3)and(F4F>=3)))thencall ME7(QC4,VH+"|M",true)endifif(F7F!=0)and((F7F==E_F)or((E_F>3)and(F7F>=3)))thencall ME7(QC4,VH+"|X",true)endifif(F8F!=0)and((F8F==E_F)or((E_F>3)and(F8F>=3)))thencall ME7(QC4,VH+"|D",true)endifset pl=nullendfunctionfunction FEF takes nothing returns nothingcall DestroyTrigger(GetTriggeringTrigger())call E2F(true,"Sent",IH4)call E2F(false,"Scrg",IG4)endfunctionfunction FFF takes player pl returns nothingif((XT))thenelseif(X54[GetPlayerId(pl)]==X_4)thenif(not VT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+20.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+40.))endifelseif(X54[GetPlayerId(pl)]==Y44)thenif(not VT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+45.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+70.))endifelseif(not VT)thencall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+80.))elsecall SetPlayerHandicapXPBJ(pl,(GetPlayerHandicapXPBJ(pl)+110.))endifendifset X54[16+GetPlayerId(pl)]=R2I(GetPlayerHandicapXPBJ(pl))endfunctionfunction FGF takes player pl,integer O5 returns nothinglocal integer i=0local integer NW7=GetPlayerId(pl)set hG[48+NW7]=GetRandomInt(0,1)if(W or RJ4)thenset hG[48+NW7]=GetRandomInt(0,2)endifset hG[64+NW7]=GetRandomInt(0,2)set hG[80+NW7]=GetRandomInt(0,2)set OB4[NW7]=falsecall ForceRemovePlayer(B8,pl)if W4 thenset i=i+8endifif(WT)thenset i=i+8endifif((QT)or(O5==0))thenelseif(X54[NW7]==X_4)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(100/O5)+(10*(O5-1)))elseif(X54[NW7]==Y44)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(300/O5)+(10*(O5-1)))set i=i+4elsecall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)+(500/O5)+(10*(O5-1)))set i=i+8endifif(WT)thencall SetPlayerStateBJ(pl,PLAYER_STATE_RESOURCE_GOLD,R2I(GetPlayerState(pl,PLAYER_STATE_RESOURCE_GOLD)*1.1))endifset X54[32+NW7]=iset X54[48+NW7]=iset X54[64+NW7]=0endfunctionfunction FHF takes trigger t,boolean O6,boolean FIF,boolean FJF returns nothingif(K57(O6)!=null)thencall TriggerRegisterPlayerChatEvent(t,K57(O6),"-o",false)call TriggerRegisterPlayerChatEvent(t,K57(O6),"-c",false)call TriggerRegisterPlayerChatEvent(t,K57(O6)," c",false)call TriggerRegisterPlayerChatEvent(t,K57(O6)," ",true)if(IsTriggerEnabled(QR4))thencall TriggerRegisterPlayerChatEvent(QR4,K57(O6),"-pa",true)call TriggerRegisterPlayerChatEvent(QR4,K57(O6),"-px",true)if((K57(not O6)==null)and(FJF))thenif(FIF)thencall DisplayTimedTextToPlayer(K57(O6),0,0,10.,"You can choose your AI allies'/opponents' heroes using "+EV7+"-pa|r/"+EV7+"-pe|r")elsecall DisplayTimedTextToPlayer(K57(O6),0,0,10.,"You can choose your AI opponents' heroes using "+EV7+"-pe|r")endifcall TriggerRegisterPlayerChatEvent(QR4,K57(O6),"-pe",true)elseif(FIF)thencall DisplayTimedTextToPlayer(K57(O6),0,0,10.,"You can choose your AI allies' heroes using "+EV7+"-pa|r")endifendifendifendfunctionfunction FKF takes nothing returns nothinglocal integer i=0loopexitwhen i>15if G7[i]!=null and GetPlayerController(Player(i))==MAP_CONTROL_COMPUTER and IsUnitInRange(G7[i],JH4,1000)==false and IsUnitInRange(G7[i],K84,1000)==false thenset G27[176+i]=0endifset i=i+1endloopendfunctionfunction FMF takes nothing returns nothinglocal trigger tset t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,Y9)call TriggerAddCondition(t,Condition(function Q97))call TriggerAddAction(t,function R6E)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,Z9)call TriggerAddCondition(t,Condition(function Q87))call TriggerAddAction(t,function R6E)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,10,true)call TriggerAddAction(t,function FKF)set t=nullendfunctionfunction FNF takes nothing returns nothinglocal trigger t=nulllocal string VH=GetEventPlayerChatString()local player pl=J37(S2I(SubString(VH,8,StringLength(VH))))if(pl!=null)and(pl!=GetTriggerPlayer())and R87(pl)thenif GetTriggerPlayer()==QK4 thenif IsPlayerAlly(GetLocalPlayer(),QK4)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,K[0]+"The Sentinel|r's AI Leadership has been granted to "+K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")endifset QK4=plset t=GetTriggeringTrigger()call DestroyTrigger(t)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,QK4,"-aigrant",false)call TriggerAddAction(t,function FNF)call DestroyTrigger(LT4)set LT4=CreateTrigger()call FHF(LT4,true,false,false)call TriggerAddAction(LT4,function EGF)elseif IsPlayerAlly(GetLocalPlayer(),QM4)thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,10.,K[6]+"The Scourge|r's AI Leadership has been granted to "+K[GetPlayerId(pl)]+GetPlayerName(pl)+"|r.")endifset QM4=plset t=GetTriggeringTrigger()call DestroyTrigger(t)set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,QM4,"-aigrant",false)call TriggerAddAction(t,function FNF)call DestroyTrigger(LU4)set LU4=CreateTrigger()call FHF(LU4,false,false,false)call TriggerAddAction(LU4,function EGF)endifelsecall VH7(GetTriggerPlayer(),"Invalid Leader Choice")endifendfunctionfunction FOF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local real R09=N47(NO7,"Damage")if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or GetUnitAbilityLevel(GetTriggerUnit(),'B031')==0 thencall DestroyEffect(ML7(NO7,"FX"))call Q67(ZR7)call K_7(NO7)call NM7(t)set G47=truecall ZO7(p5,m5,Y84,R09)set G47=falseif R09>0 thencall WD7("+"+I2S(R2I(R09)),1,m5,0.023,255,0,0,216)endifelseif GetEventDamage()>1 thencall M97(NO7,"Damage",(R09+GetEventDamage()*0.25)*1.0)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction FPF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")call K_7(NO7)call NM7(t)set t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Source",p5)call M87(NO7,"TargetIndex",Q07(m5))call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Other\\Silence\\SilenceTarget.mdl",m5,"overhead"))call M97(NO7,"Damage",(0)*1.0)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,5,false)call TriggerAddCondition(t,Condition(function FOF))set t=nullreturn falseendfunctionfunction FQF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function FPF))call MF7(NO7,"Target",GetSpellTargetUnit())call MF7(NO7,"Source",GetTriggerUnit())set t=nullendfunctionfunction FRF takes nothing returns nothingif GetSpellAbilityId()=='A0FD' and T37(GetSpellTargetUnit())==false thencall FQF()endifendfunctionfunction FSF takes nothing returns nothinglocal unit u=GetTriggerUnit()local item NJ8local integer i=0local real x=GetUnitX(u)local real y=GetUnitY(u)local integer VT8local item FTFcall DisableTrigger(HR4)loopexitwhen i>5set NJ8=UnitItemInSlot(u,i)set VT8=JU7(NJ8)if VT8==C3 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[SX],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[NZ],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==G6 or VT8==H6 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[WX],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[SY],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==DL4 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[ZW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[UW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[FG4],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==D54 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[ZW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[UW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[FG4],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==DV4 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[LV],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[P1],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[FK4],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==FS4 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[BU],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[UV],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==V1 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[CV],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[QW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==X1 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[CV],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[QW],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==W5 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[LL],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[EZ],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[EC4],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==FP4 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[TV],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[EG4],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==EC thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[BU],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[WX],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[YX],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==R0 thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[D1],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[LL],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)elseif VT8==NC or VT8==OC thenset J74=GetItemPlayer(NJ8)call RemoveItem(NJ8)set FTF=CreateItem(NU[ZL],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)set FTF=CreateItem(NU[G6],x,y)call SetItemPlayer(FTF,J74,false)call SetItemUserData(FTF,1)endifset i=i+1endloopcall EnableTrigger(HR4)set u=nullset NJ8=nullset FTF=nullendfunctionfunction FUF takes nothing returns booleanif GetSpellAbilityId()=='A0K5' or GetSpellAbilityId()=='A1RF' thencall FSF()endifreturn falseendfunctionfunction FVF takes nothing returns nothinglocal unit m5=GetEnumUnit()local group QG9=pwlocal unit p5=qwif IsUnitInGroup(m5,QG9)==false thencall GroupAddUnit(QG9,m5)call IssueTargetOrder(Qw,"slow",m5)set G47=truecall ZO7(p5,m5,Y84,200)set G47=falsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FrostNova\\FrostNovaTarget.mdl",m5,"origin"))endifset m5=nullset QG9=nullset p5=nullendfunctionfunction FWF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit ZM7=MZ7(NO7,"Caster")local group QG9=M67(NO7,"AlreadyDamaged")local real dlocal real xlocal real x0=GetUnitX(p5)local real ylocal real y0=GetUnitY(p5)local group g=TL7()local integer P79=GetTriggerEvalCount(t)local integer icall SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))set pw=QG9set qw=p5set Qw=MZ7(NO7,"Nuker")if GetTriggerEvalCount(t)>33 thencall KillUnit(ZM7)call T67(QG9)call K_7(NO7)call NM7(t)elseset d=P79*18set i=0loopexitwhen i>36set x=x0+d*Cos(360*i/ 36*bj_DEGTORAD)set y=y0+d*Sin(360*i/ 36*bj_DEGTORAD)set I04=p5call GroupEnumUnitsInRange(g,x,y,150,Condition(function YM7))call ForGroup(g,function FVF)set i=i+1endloopendifcall T67(g)set t=nullset ZM7=nullset QG9=nullset p5=nullset g=nullreturn falseendfunctionfunction FXF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real x=GetUnitX(TX7)local real y=GetUnitY(TX7)local group QG9=TL7()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'h091',x,y,0)local unit FYF=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UnitAddAbility(FYF,'A0T0')call MO7(NO7,"AlreadyDamaged",QG9)call MF7(NO7,"Caster",ZM7)call MF7(NO7,"Nuker",FYF)call MF7(NO7,"Source",TX7)call TriggerRegisterTimerEvent(t,0.06,true)call TriggerAddCondition(t,Condition(function FWF))set t=nullset QG9=nullset ZM7=nullset FYF=nullset TX7=nullendfunctionfunction FZF takes nothing returns nothingif GetSpellAbilityId()=='A0T9' thencall FXF()endifendfunctionfunction FAF takes unit X97,integer ELE returns nothinglocal integer V_7=GetHandleId(X97)call SaveInteger(C7,(V_7),(750),(ELE))endfunctionfunction FBF takes nothing returns nothinglocal integer i=0local integer FCF=0local boolean F3F=falseif GetSpellAbilityId()=='A0JY' thenloopexitwhen i>5if JV7(UnitItemInSlot(GetTriggerUnit(),i))==ZA or JV7(UnitItemInSlot(GetTriggerUnit(),i))==E44 thenset FCF=GetItemCharges(UnitItemInSlot(GetTriggerUnit(),i))if FCF>0 thencall SetItemCharges(UnitItemInSlot(GetTriggerUnit(),i),0)call FAF(GetTriggerUnit(),0)if F3F==false thenset F3F=truecall SetUnitState(GetTriggerUnit(),UNIT_STATE_MANA,GetUnitState(GetTriggerUnit(),UNIT_STATE_MANA)+15*FCF)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)+15*FCF)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIre\\AIreTarget.mdl",GetTriggerUnit(),"origin"))endifendifreturnendifset i=i+1endloopendifendfunctionfunction F6F takes integer id returns booleanlocal integer i=1loopexitwhen i>ND4if id==N94[i]thenreturn falseendifset i=i+1endloopreturn trueendfunctionfunction FLF takes unit F1F,unit p5 returns nothingif IsUnitVisible(F1F,GetOwningPlayer(p5))==false and GetRandomInt(1,100)<10 thencall PlaySoundOnUnitBJ(RI,100,p5)endifendfunctionfunction F0F takes nothing returns nothinglocal unit TX7=GetEnumUnit()local integer i=0loopexitwhen i>5if IsUnitVisible(GetTriggerUnit(),GetOwningPlayer(GetEnumUnit()))==true thenif JV7(UnitItemInSlot(TX7,i))==ZA or JV7(UnitItemInSlot(TX7,i))==E44 thenif JV7(UnitItemInSlot(TX7,i))==E44 thenif GetItemCharges(UnitItemInSlot(TX7,i))==15 thencall FLF(GetTriggerUnit(),TX7)endifcall FAF(TX7,VY7(GetItemCharges(UnitItemInSlot(TX7,i))+1,15))call SetItemCharges(UnitItemInSlot(TX7,i),VY7(GetItemCharges(UnitItemInSlot(TX7,i))+1,15))elseif GetItemCharges(UnitItemInSlot(TX7,i))==10 thencall FLF(GetTriggerUnit(),TX7)endifcall FAF(TX7,VY7(GetItemCharges(UnitItemInSlot(TX7,i))+1,10))call SetItemCharges(UnitItemInSlot(TX7,i),VY7(GetItemCharges(UnitItemInSlot(TX7,i))+1,10))endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",TX7,"chest"))set i=5endifendifset i=i+1endloopset TX7=nullendfunctionfunction F5F takes nothing returns nothinglocal group g=TL7()local unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)call GroupEnumUnitsInRange(g,x,y,1225,Condition(function YX7))call ForGroup(g,function F0F)call T67(g)set g=nullset p5=nullendfunctionfunction F2F takes nothing returns nothingif F6F(GetSpellAbilityId())==true and SJ7(GetSpellAbilityId())==true and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 and BM7(GetSpellAbilityId())==false thencall F5F()endifendfunctionfunction F_F takes unit p5,unit m5 returns nothinglocal integer SR7=GetUnitAbilityLevel(p5,'A0SS')local real V37=(0.03+0.01*SR7)*GetUnitState(m5,UNIT_STATE_LIFE)if GetUnitAbilityLevel(m5,'A04R')==0 thencall ZO7(p5,m5,Y94,V37)call SetUnitState(p5,UNIT_STATE_LIFE,V37+GetUnitState(p5,UNIT_STATE_LIFE))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",p5,"origin"))endifendfunctionfunction G4F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local unit p5=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 thencall DisableTrigger(t)call F_F(p5,m5)call K_7(NO7)call NM7(t)endifelsecall K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction G7F takes nothing returns nothinglocal trigger t=CreateTrigger()local unit m5=GetTriggerUnit()local unit p5=GetAttacker()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1,false)call TriggerAddCondition(t,Condition(function G4F))call MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)set m5=nullset p5=nullset t=nullendfunctionfunction G8F takes nothing returns nothinglocal unit p5=GetAttacker()if NF7(p5,"CooldownState")==false thencall NQ7(p5,"CooldownState",0.4)call G7F()endifendfunctionfunction G9F takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A0SS')>0 and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Hero")and GetUnitTypeId(GetTriggerUnit())!='n00L' and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetAttacker()))thencall G8F()endifreturn falseendfunctionfunction GDF takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function G9F))call MF7(GetHandleId(t),"Hero",TX7)if R99 thenset aj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullendfunctionfunction GEF takes nothing returns booleanif GetLearnedSkill()=='A0SS' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A0SS')==1 thencall GDF(GetTriggerUnit(),false)endifreturn falseendfunctionfunction IP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function GEF))set t=nullendfunctionfunction GFF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetUnitTypeId(TX7)=='E02X' thencall SetUnitVertexColor(TX7,255,255,255,255)elsecall SetUnitVertexColor(TX7,100,100,100,255)endifcall DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))call UnitRemoveAbility(TX7,'A0SR')call UnitRemoveAbility(TX7,'A0ST')call K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction GGF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A0T2')call SetUnitVertexColor(TX7,0,0,0,255)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),'A0ST',false)call UW7(TX7,'A0ST')call UW7(TX7,'A0SR')call SetUnitAbilityLevel(TX7,'A0SR',SR7)call VK8(TX7,0,0)call MF7(NO7,"Hero",TX7)call MG7(NO7,"FX1",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",TX7,"right hand"))call MG7(NO7,"FX2",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\Bloodlust\\BloodlustTarget.mdl",TX7,"left hand"))call TriggerRegisterTimerEvent(t,1.75+0.75*SR7,false)call TriggerAddCondition(t,Condition(function GFF))set TX7=nullset t=nullendfunctionfunction GHF takes nothing returns booleanif GetSpellAbilityId()=='A0T2' thencall GGF()endifreturn falseendfunctionfunction IQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GHF))set t=nullendfunctionfunction Snatch_Damage takes nothing returns nothingcall ZO7(BH4,GetEnumUnit(),Y84,BI4*125+25)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",GetEnumUnit(),"overhead"))endfunctionfunction Snatch_Process takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local real R09=N47(V_7,"Damage")call ZO7(X97,U47,Y84,R09)call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl",U47,"overhead"))set X97=nullset U47=nullendfunctionfunction GIF takes nothing returns nothinglocal unit X97=BH4local unit U47=GetEnumUnit()local integer ZN7=BI4local trigger t=WX7(X97,U47,'h0DF',"V4D",600)local integer V_7=GetHandleId(t)call M97(V_7,"Damage",((ZN7*125+25)*1.0))set X97=nullset U47=nullendfunctionfunction GJF takes unit X97,unit U47,integer ZN7 returns nothinglocal group g=TL7()set I04=X97set BH4=X97set BI4=ZN7call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),725,Condition(function Y47))call ForGroup(g,function GIF)call T67(g)set g=nullendfunctionfunction GKF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer T97=GetHandleId(t)local integer IB7=M_7(T97,"HeroPID")local unit GMF=MZ7(T97,"ConsumeCaster")call DisableTrigger(QY4[IB7])call IssueImmediateOrderById(GMF,852597)call EnableTrigger(QY4[IB7])call K_7(T97)call NM7(t)set t=nullset GMF=nullreturn falseendfunctionfunction GNF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=MZ7(V_7,"Target")local unit T_7=MZ7(V_7,"Hero")local unit ZM7=MZ7(V_7,"Caster")local integer ZN7=M_7(V_7,"Level")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitShareVision(U47,GetOwningPlayer(T_7),false)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(U47),GetUnitY(U47)))call SetUnitPosition(T_7,GetUnitX(U47),GetUnitY(U47))call PauseUnit(T_7,false)call ShowUnit(T_7,true)call SetUnitPathing(T_7,true)call ClearSelectionForPlayer(GetOwningPlayer(T_7))call SelectUnitForPlayerSingle(T_7,GetOwningPlayer(T_7))call SetUnitInvulnerable(T_7,false)call DestroyEffect(ML7(V_7,"FX"))call DestroyEffect(ML7(V_7,"FX3"))call RemoveUnit(ZM7)call K_7(V_7)call NM7(t)call GJF(T_7,U47,ZN7)call SaveInteger(C7,(GetHandleId((T_7))),((4310)),(2))elseif IsUnitType(U47,UNIT_TYPE_HERO)==true and IsUnitEnemy(U47,GetOwningPlayer(T_7))==true thencall UnitShareVision(U47,GetOwningPlayer(T_7),false)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(U47),GetUnitY(U47)))call SetUnitPosition(T_7,GetUnitX(U47),GetUnitY(U47))call PauseUnit(T_7,false)call ShowUnit(T_7,true)call SetUnitPathing(T_7,true)call ClearSelectionForPlayer(GetOwningPlayer(T_7))call SelectUnitForPlayerSingle(T_7,GetOwningPlayer(T_7))call SetUnitInvulnerable(T_7,false)call DestroyEffect(ML7(V_7,"FX"))call DestroyEffect(ML7(V_7,"FX3"))call RemoveUnit(ZM7)call K_7(V_7)call NM7(t)call GJF(T_7,U47,ZN7)call SaveInteger(C7,(GetHandleId((T_7))),((4310)),(2))elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0SX' thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Human\\HumanLargeDeathExplode\\HumanLargeDeathExplode.mdl",GetUnitX(U47),GetUnitY(U47)))if IsUnitEnemy(U47,GetOwningPlayer(T_7))thencall SetUnitState(T_7,UNIT_STATE_LIFE,GetUnitState(T_7,UNIT_STATE_LIFE)+GetUnitState(U47,UNIT_STATE_LIFE))endifcall UnitShareVision(U47,GetOwningPlayer(T_7),false)call SetUnitPosition(T_7,GetUnitX(U47),GetUnitY(U47))call PauseUnit(T_7,false)call ShowUnit(T_7,true)call SetUnitPathing(T_7,true)call SetUnitAnimation(T_7,"Stand Victory")call W17(T_7,1.5)call ClearSelectionForPlayer(GetOwningPlayer(T_7))call SelectUnitForPlayerSingle(T_7,GetOwningPlayer(T_7))call SetUnitInvulnerable(T_7,false)call DestroyEffect(ML7(V_7,"FX"))call DestroyEffect(ML7(V_7,"FX3"))call RemoveUnit(ZM7)call K_7(V_7)call NM7(t)call GJF(T_7,U47,ZN7)if IsUnitEnemy(U47,GetOwningPlayer(T_7))thencall UnitRemoveBuffs(U47,true,true)call VK8(U47,0,0)call ZO7(T_7,U47,Y84,100000)call ZO7(T_7,U47,Y94,100000)call ZO7(T_7,U47,YD4,100000)endifcall SaveInteger(C7,(GetHandleId((T_7))),((4310)),(2))elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SELECTED and GetTriggerUnit()==U47 thencall ClearSelectionForPlayer(GetOwningPlayer(T_7))call SelectUnitAddForPlayer(ZM7,GetOwningPlayer(T_7))elsecall SetUnitPosition(T_7,GetUnitX(U47),GetUnitY(U47))endifset t=nullset U47=nullset T_7=nullreturn falseendfunctionfunction GOF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local trigger GPF=CreateTrigger()local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'e010',7260,-7732,0)local string GQF="Objects\\Spawnmodels\\Naga\\NagaBlood\\NagaBloodWindserpent.mdl"local string GRF="Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBase.mdl"local string GSF="Abilities\\Spells\\Other\\Aneu\\AneuTarget.mdl"if IsPlayerEnemy(GetLocalPlayer(),GetOwningPlayer(TX7))and TV7(GetLocalPlayer())==false thenset GQF=""set GRF=""set GSF=""endifcall UnitRemoveBuffs(TX7,true,true)call VK8(TX7,0,0)call SetUnitInvulnerable(ZM7,true)call UW7(ZM7,'A0SX')call ClearSelectionForPlayer(GetOwningPlayer(TX7))call SelectUnitForPlayerSingle(ZM7,GetOwningPlayer(TX7))call UnitShareVision(m5,GetOwningPlayer(TX7),true)call SetUnitInvulnerable(TX7,true)call ShowUnit(TX7,false)call PauseUnit(TX7,true)call SetUnitPathing(TX7,false)call DestroyEffect(AddSpecialEffectTarget(GQF,m5,"overhead"))call MF7(NO7,"Target",m5)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",ZM7)call MG7(NO7,"FX",AddSpecialEffectTarget(GRF,m5,"overhead"))call MG7(NO7,"FX3",AddSpecialEffectTarget(GSF,m5,"overhead"))call M87(NO7,"Level",(GetUnitAbilityLevel(TX7,'A0SW')))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterPlayerUnitEvent(t,GetOwningPlayer(TX7),EVENT_PLAYER_UNIT_SELECTED,Condition(function Q37))call TriggerRegisterUnitEvent(t,ZM7,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function GNF))call SaveInteger(C7,(GetHandleId((TX7))),((4310)),(1))if R97(GetOwningPlayer(TX7))thencall MF7(GetHandleId(GPF),"ConsumeCaster",ZM7)call M87(GetHandleId(GPF),"HeroPID",GetPlayerId(GetOwningPlayer(TX7)))call TriggerRegisterTimerEvent(GPF,1.0,false)call TriggerAddCondition(GPF,Condition(function GKF))endifset t=nullset GPF=nullset TX7=nullset m5=nullendfunctionfunction GTF takes nothing returns booleanif GetSpellAbilityId()=='A0SW' thencall GOF()endifreturn falseendfunctionfunction GUF takes nothing returns booleanif GetSpellAbilityId()=='A0SW' and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))and(IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true or IsUnitIllusion(GetSpellTargetUnit()))thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LV'))endifreturn falseendfunctionfunction IS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GTF))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function GUF))set t=nullendfunctionfunction GVF takes integer S08,unit X97,unit U47 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)if S08==0 thencall IssueTargetOrder(X97,"attack",U47)elseif S08==1 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',1)call IssueTargetOrder(ZM7,"slow",U47)elseif S08==2 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',1)call IssueTargetOrder(ZM7,"slow",U47)elseif S08==3 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',2)call IssueTargetOrder(ZM7,"slow",U47)elseif S08==4 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',3)call IssueTargetOrder(ZM7,"slow",U47)elseif S08==5 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',4)call IssueTargetOrder(ZM7,"slow",U47)elseif S08==6 thencall UW7(ZM7,'A0TH')call SetUnitAbilityLevel(ZM7,'A0TH',5)call IssueTargetOrder(ZM7,"slow",U47)endifset ZM7=nullendfunctionfunction GWF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer SR7=M_7(NO7,"Level")local integer RU8=M_7(NO7,"Count")local unit p5=MZ7(NO7,"Source")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local real GXF=(10.0+SR7*5.0)/ 100.0if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thenset RU8=RU8+1call GVF(RU8,p5,m5)if RU8==8 thencall Q67(ZR7)call K_7(NO7)call NM7(t)elsecall M87(NO7,"Count",RU8)endifelseif AO7(GetEventDamage())and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false thenif IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),'A04R')==0 thencall SetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE,GetUnitState(GetEventDamageSource(),UNIT_STATE_LIFE)+GetEventDamage()*GXF)elsecall SetUnitState(G7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE,GetUnitState(G7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],UNIT_STATE_LIFE)+GetEventDamage()*GXF)endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\VampiricAura\\VampiricAuraTarget.mdl",GetEventDamageSource(),"origin"))endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction GYF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call GVF(0,p5,m5)call M87(NO7,"Count",0)call M87(NO7,"Level",GetUnitAbilityLevel(p5,'A194'))call MF7(NO7,"Source",p5)call M87(NO7,"TargetIndex",Q07(m5))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function GWF))set t=nullset p5=nullset m5=nullendfunctionfunction GZF takes nothing returns booleanif GetSpellAbilityId()=='A194' and T37(GetSpellTargetUnit())==false thencall GYF()endifreturn falseendfunctionfunction IR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GZF))set t=nullcall VQ7('A0TH')endfunctionfunction IsUnitHeroFilter takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)endfunctionfunction GAF takes nothing returns nothinglocal integer i1=GetSpellAbilityId()if(i1=='A0AA' or i1=='A1EV' or i1=='A0SX' or i1=='A0GJ' or i1=='A0GE' or i1=='A0GS' or i1=='A0AB' or i1=='A1HR' or i1=='A1S5' or i1=='A1IN' or i1=='A1S8' or i1=='A0AC' or i1=='A0AD' or i1=='A0AE' or i1=='A1AO' or i1=='A1UV' or i1=='A1DJ' or i1=='A1U7')or i1=='A1S7' or i1=='A0X6' or i1=='A284' or i1=='A0HM' or(i1=='A07X' or i1=='A0AL')or i1=='A07T' thenelseif i1=='A14Q' thencall KillUnit(GetTriggerUnit())elsecall UnitRemoveAbility(GetTriggerUnit(),i1)endifendfunctionfunction GBF takes nothing returns booleanif GetUnitAbilityLevel(GetTriggerUnit(),'Aloc')>0 and GetUnitAbilityLevel(GetTriggerUnit(),'A0SX')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1HW')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1HX')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1NF')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A0FZ')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1FM')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1DJ')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A1U7')==0 and GetUnitTypeId(GetTriggerUnit())!='h0B1' and GetUnitTypeId(GetTriggerUnit())!='e010' and GetUnitTypeId(GetTriggerUnit())!='h0C3' and GetUnitTypeId(GetTriggerUnit())!='e02P' and GetUnitTypeId(GetTriggerUnit())!='h00O' and GetUnitTypeId(GetTriggerUnit())!='e02D' and GetUnitTypeId(GetTriggerUnit())!='h081' and GetUnitTypeId(GetTriggerUnit())!='o019' and GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER thencall GAF()endifreturn falseendfunctionfunction GCF takes unit H57,integer VX8 returns itemlocal integer KT9local item G3Fset KT9=0loopexitwhen KT9>5set G3F=UnitItemInSlot(H57,KT9)if(G3F!=null)and(JU7(G3F)==VX8)thenset G3F=nullreturn UnitItemInSlot(H57,KT9)endifset KT9=KT9+1endloopset G3F=nullreturn nullendfunctionfunction NK8 takes nothing returns nothinglocal unit TX7=I04local integer i=1local integer G6Fif GetUnitTypeId(TX7)!='H00U' thenreturnendifloopexitwhen i>11set G6F=MS[i]call UW7(TX7,G6F)call SetPlayerAbilityAvailable(GetOwningPlayer(TX7),G6F,false)set i=i+1endloopset TX7=nullendfunctionfunction GLF takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())=='H00U' and IsUnitIllusion(GetTriggerUnit())==false thenset I04=GetTriggerUnit()call NK8()elseif(GetUnitTypeId(GetTriggerUnit())=='Ubal' or GetUnitTypeId(GetTriggerUnit())=='E02X')and IsUnitIllusion(GetTriggerUnit())==false thenset I04=GetTriggerUnit()call ExecuteFunc("GTE")elseif GetUnitTypeId(GetTriggerUnit())=='H00I' and IsUnitIllusion(GetTriggerUnit())==false thenset I04=GetTriggerUnit()call ExecuteFunc("R5D")endifreturn falseendfunctionfunction G1F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")call UnitRemoveAbility(m5,'A0VJ')call UnitRemoveAbility(m5,'A109')if GetUnitAbilityLevel(m5,'A0VJ')==0 or GetUnitAbilityLevel(m5,'A109')==0 thencall K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction G0F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)call UnitRemoveAbility(m5,'A0VJ')call UnitRemoveAbility(m5,'A109')if GetUnitAbilityLevel(m5,'A0VJ')>0 or GetUnitAbilityLevel(m5,'A109')>0 thenset t=CreateTrigger()set NO7=GetHandleId(t)call MF7(NO7,"Target",m5)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function G1F))endifset t=nullset m5=nullreturn falseendfunctionfunction G5F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local integer G2F=GetHandleId(TX7)local unit m5=GetSpellTargetUnit()local integer G_F=M_7(G2F,"WexLevel")local integer H4F=M_7(G2F,"ExortLevel")call UW7(m5,'A0VJ')call SetUnitAbilityLevel(m5,'A0VJ',G_F)call UW7(m5,'A109')call SetUnitAbilityLevel(m5,'A109',H4F)call TriggerRegisterTimerEvent(t,9,false)call TriggerAddCondition(t,Condition(function G0F))call MF7(NO7,"Target",m5)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",m5,"origin"))set t=nullset TX7=nullset m5=nullendfunctionfunction H7F takes nothing returns booleanif GetSpellAbilityId()=='A0VQ' thencall G5F()endifreturn falseendfunctionfunction H8F takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H7F))call VU7('A0VJ',GetRandomReal(1,25))call VU7('A109',GetRandomReal(1,25))set t=nullendfunctionfunction H9F takes unit p5 returns realreturn 400+400.0*(M_7(GetHandleId(p5),"WexLevel"))endfunctionfunction HDF takes unit p5,unit m5,integer G_F,integer HEF returns nothinglocal unit oA=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)local unit HFF=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)local real HGF=0.5+0.3*HEFif HEF==7 thenset HGF=2.5endifcall UW7(oA,'A0XK')call SetUnitAbilityLevel(oA,'A0XK',HEF)call IssueTargetOrder(oA,"cyclone",m5)call ZT7(HFF,m5,1,70+(G_F+HEF)*20.0,HGF)set oA=nullset HFF=nullendfunctionfunction HHF takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false thencall GroupAddUnit(J44,GetEnumUnit())call HDF(I04,GetEnumUnit(),IY4,tl)endifendfunctionfunction HIF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit oA=MZ7(NO7,"Caster")local real x2=N47(NO7,"x2")local real y2=N47(NO7,"y2")local real a=N47(NO7,"a")local integer G_F=M_7(NO7,"WexLevel")local integer HEF=M_7(NO7,"QuasLevel")local group g=M67(NO7,"g")local real x=GetUnitX(oA)+25*Cos(a)local real y=GetUnitY(oA)+25*Sin(a)local group HJF=TL7()local real HKF=J87(x,y,x2,y2)if HKF<=30 thenset x=x2set y=y2endifcall SetUnitX(oA,VK7(x))call SetUnitY(oA,VM7(y))set I04=oAset J44=gset IY4=G_Fset tl=HEFcall GroupEnumUnitsInRange(HJF,x,y,200,Condition(function Y47))call ForGroup(HJF,function HHF)call T67(HJF)if HKF<=30 or GetTriggerEvalCount(t)>125 thencall KillUnit(oA)call K_7(NO7)call NM7(t)endifset t=nullset oA=nullset g=nullset HJF=nullreturn falseendfunctionfunction HMF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local location l=GetSpellTargetLoc()local unit p5=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local unit oAset x=GetUnitX(p5)set y=GetUnitY(p5)set oA=CreateUnit(GetOwningPlayer(p5),'n01U',x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function HIF))call MF7(NO7,"Caster",oA)call M97(NO7,"x2",x+H9F(p5)*Cos(a))call M97(NO7,"y2",y+H9F(p5)*Sin(a))call M87(NO7,"WexLevel",(M_7(GetHandleId(p5),"WexLevel")))call M87(NO7,"QuasLevel",(M_7(GetHandleId(p5),"QuasLevel")))call M97(NO7,"a",a)call MO7(NO7,"g",TL7())call RemoveLocation(l)set t=nullset l=nullset p5=nullendfunctionfunction HNF takes nothing returns booleanif GetSpellAbilityId()=='A0VK' thencall HMF()endifreturn falseendfunctionfunction HOF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HNF))call VU7('A0XK',GetRandomReal(1,25))set t=nullendfunctionfunction HPF takes nothing returns nothinglocal real HQF=VC7(VB7(GetUnitState(GetEnumUnit(),UNIT_STATE_MANA),pB),0)local real HRF=HQF*0.5if TU7(GetEnumUnit())==false and HQF>0 and SL7(GetEnumUnit())==false thenif GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)>(HRF+0.5)thencall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,GetUnitState(GetEnumUnit(),UNIT_STATE_LIFE)-HRF)elsecall SetUnitState(GetEnumUnit(),UNIT_STATE_LIFE,1)call ZO7(PB,GetEnumUnit(),Y84,HRF)endifcall SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)-HQF)endifendfunctionfunction HSF takes unit p5,integer G_F,integer H4F returns nothinglocal group g=TL7()set PB=p5set I04=p5set pB=G_F*50+50call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),700,Condition(function Y47))call ForGroup(g,function HPF)call T67(g)set g=nullendfunctionfunction HTF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit oA=MZ7(NO7,"Caster")local unit HUFlocal real HVF=XN-0.28*M_7(NO7,"WexLevel")local real HWF=VN+(EN-VN)*iX/(HVF/ 0.05)call SetUnitScale(oA,HWF,HWF,HWF)if iX>(HVF/ 0.05)thencall HSF(oA,M_7(NO7,"WexLevel"),M_7(NO7,"ExortLevel"))set HUF=CreateUnit(GetOwningPlayer(oA),'e01O',GetUnitX(oA),GetUnitY(oA),0)call SetUnitTimeScale(HUF,0.3)call RemoveUnit(oA)call KillUnit(HUF)call K_7(NO7)call NM7(t)endifset t=nullset oA=nullset HUF=nullreturn falseendfunctionfunction HXF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local location l=GetSpellTargetLoc()local unit p5=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local unit oA=CreateUnit(GetOwningPlayer(p5),'e01M',x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function HTF))call MF7(NO7,"Caster",oA)call M87(NO7,"WexLevel",((M_7(GetHandleId(p5),"WexLevel"))))call M87(NO7,"QuasLevel",((M_7(GetHandleId(p5),"QuasLevel"))))call M87(NO7,"ExortLevel",((M_7(GetHandleId(p5),"ExortLevel"))))call RemoveLocation(l)set t=nullset l=nullset p5=nullendfunctionfunction HYF takes nothing returns booleanif GetSpellAbilityId()=='A0VS' thencall HXF()endifreturn falseendfunctionfunction HZF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HYF))set t=nullendfunctionfunction HAF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit HBF=MZ7(NO7,"Caster")local unit hn=MZ7(NO7,"Hero")if GetUnitAbilityLevel(hn,'B08X')==0 thencall KillUnit(HBF)call K_7(NO7)call NM7(t)elsecall SetUnitAbilityLevel(HBF,'A0VH',(M_7(GetHandleId(hn),"QuasLevel")))call SetUnitX(HBF,GetUnitX(hn))call SetUnitY(HBF,GetUnitY(hn))endifset t=nullset HBF=nullset hn=nullreturn falseendfunctionfunction HCF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit hn=GetTriggerUnit()local unit HBF=CreateUnit(GetOwningPlayer(hn),'e01V',GetUnitX(hn),GetUnitY(hn),0)call UW7(HBF,'A0VH')call SetUnitAbilityLevel(HBF,'A0VH',(M_7(GetHandleId(hn),"QuasLevel")))call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function HAF))call MF7(NO7,"Caster",HBF)call MF7(NO7,"Hero",hn)set t=nullset hn=nullendfunctionfunction H3F takes nothing returns booleanif GetSpellAbilityId()=='A0XL' thencall HCF()endifreturn falseendfunctionfunction H6F takes unit hn returns nothingif GetUnitAbilityLevel(hn,'A0XL')>0 thencall SetUnitAbilityLevel(hn,'A0XL',(M_7(GetHandleId(hn),"WexLevel")))endifendfunctionfunction HLF takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false thencall H6F(GetTriggerUnit())endifreturn falseendfunctionfunction H1F takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H3F))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function HLF))call VU7('A0VH',GetRandomReal(1,25))set t=nullendfunctionfunction H0F takes unit H5F,unit m5,integer G_F returns nothinglocal unit H2F=CreateUnit(GetOwningPlayer(H5F),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(H2F,'A0VT')call SetUnitAbilityLevel(H2F,'A0VT',G_F)call IssueTargetOrder(H2F,"drunkenhaze",m5)set H2F=nullendfunctionfunction H_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit H5F=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real I4F=N47(NO7,"Angle")local real I7F=N47(NO7,"Rate")local integer G_F=M_7(NO7,"WexLevel")local integer HEF=M_7(NO7,"QuasLevel")local integer I8F=HEF*25/ 3local real xlocal real ylocal integer ZZD=GetTriggerEvalCount(t)if ZZD>I8F/ 3 thencall M97(NO7,"Rate",I7F*0.98)endifif ZZD>I8F or GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall H0F(H5F,m5,G_F)endifelseset x=VK7(GetUnitX(m5)+I7F*Cos(I4F))set y=VM7(GetUnitY(m5)+I7F*Sin(I4F))call WK7(x,y,150)call SetUnitPosition(m5,x,y)endifset t=nullset H5F=nullset m5=nullreturn falseendfunctionfunction I9F takes unit H5F,unit m5,integer G_F,integer HEF,integer IDF returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real I4F=Atan2(GetUnitY(m5)-GetUnitY(H5F),GetUnitX(m5)-GetUnitX(H5F))call ZO7(H5F,m5,Y84,IDF*40)call MF7(NO7,"Source",H5F)call MF7(NO7,"Target",m5)call M97(NO7,"Angle",I4F)call M97(NO7,"Rate",6)call M87(NO7,"WexLevel",G_F)call M87(NO7,"QuasLevel",HEF)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function H_F))set t=nullendfunctionfunction IEF takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false and TU7(GetEnumUnit())==false thencall GroupAddUnit(J44,GetEnumUnit())call I9F(I04,GetEnumUnit(),IY4,tl,Tl)endifendfunctionfunction IFF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit H2F=MZ7(NO7,"Caster")local real a=N47(NO7,"a")local real x2=N47(NO7,"x2")local real y2=N47(NO7,"y2")local group g=M67(NO7,"g")local integer G_F=M_7(NO7,"WexLevel")local integer HEF=M_7(NO7,"QuasLevel")local integer IDF=M_7(NO7,"ExortLevel")local real x=GetUnitX(H2F)local real y=GetUnitY(H2F)local group g2if J87(x,y,x2,y2)<100 thenset x=x2set y=y2elseset x=x+33*Cos(a)set y=y+33*Sin(a)endifcall SetUnitX(H2F,VK7(x))call SetUnitY(H2F,VM7(y))set g2=TL7()set I04=H2Fset J44=gset IY4=G_Fset tl=HEFset Tl=IDFcall GroupEnumUnitsInRange(g2,x,y,200,Condition(function Y47))call ForGroup(g2,function IEF)call T67(g2)if(x==x2 and y==y2)or GetTriggerEvalCount(t)>35 thenset g2=TL7()set I04=H2Fset J44=gset IY4=G_Fset tl=HEFset Tl=IDFcall GroupEnumUnitsInRange(g2,x,y,250,Condition(function Y47))call ForGroup(g2,function IEF)call T67(g2)call K_7(NO7)call NM7(t)call KillUnit(H2F)call T67(g)endifset t=nullset H2F=nullset g=nullset g2=nullreturn falseendfunctionfunction IGF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local location l=GetSpellTargetLoc()local unit H5F=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(H5F),x-GetUnitX(H5F))local unit H2F=CreateUnit(GetOwningPlayer(H5F),'n01X',GetUnitX(H5F),GetUnitY(H5F),a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function IFF))call MF7(NO7,"Caster",H2F)call M97(NO7,"a",a)call M97(NO7,"x2",GetUnitX(H5F)+1000*Cos(a))call M97(NO7,"y2",GetUnitY(H5F)+1000*Sin(a))call MO7(NO7,"g",TL7())call M87(NO7,"WexLevel",(M_7(GetHandleId(H5F),"WexLevel")))call M87(NO7,"QuasLevel",(M_7(GetHandleId(H5F),"QuasLevel")))call M87(NO7,"ExortLevel",(M_7(GetHandleId(H5F),"ExortLevel")))call RemoveLocation(l)set t=nullset l=nullset H5F=nullendfunctionfunction IHF takes nothing returns booleanif GetSpellAbilityId()=='A0VM' thencall IGF()endifreturn falseendfunctionfunction IIF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IHF))call VU7('A0VT',GetRandomReal(1,25))set t=nullendfunctionfunction IJF takes unit hn returns reallocal integer IKF=(M_7(GetHandleId(hn),"ExortLevel"))return(80+IKF*35.0)/ 2endfunctionfunction IMF takes unit hn returns reallocal integer INF=(M_7(GetHandleId(hn),"WexLevel"))return 325+INF*175.0endfunctionfunction IOF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit H5F=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local real V37=N47(NO7,"Damage")local effect FX=ML7(NO7,"FX")local integer ZZD=GetTriggerEvalCount(t)call ZO7(H5F,m5,Y84,V37)if ZZD==3 thencall K_7(NO7)call NM7(t)call DestroyEffect(FX)endifset t=nullset H5F=nullset m5=nullset FX=nullreturn falseendfunctionfunction IPF takes unit H5F,unit m5,real V37 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call MF7(NO7,"Source",H5F)call MF7(NO7,"Target",m5)call M97(NO7,"Damage",V37)call MG7(NO7,"FX",AddSpecialEffectTarget("Environment\\SmallBuildingFire\\SmallBuildingFire2.mdl",m5,"chest"))call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function IOF))set t=nullendfunctionfunction IQF takes nothing returns nothingcall IPF(I04,GetEnumUnit(),IZ4/ 5)call ZO7(I04,GetEnumUnit(),Y84,IZ4)endfunctionfunction IRF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real x=N47(NO7,"x")local real y=N47(NO7,"y")local real a=N47(NO7,"a")local integer ZZD=GetTriggerEvalCount(t)-26local unit H5F=MZ7(NO7,"Source")local real ISFlocal real ITFlocal unit IUFlocal group gif ZZD==1 thenset IUF=CreateUnit(GetOwningPlayer(H5F),'e01L',x,y,a*bj_RADTODEG)call MF7(NO7,"Caster",IUF)elseif ZZD>1 thenset IUF=MZ7(NO7,"Caster")endifif ZZD>0 thenset ISF=VK7(GetUnitX(IUF)+15*Cos(a))set ITF=VM7(GetUnitY(IUF)+15*Sin(a))call SetUnitX(IUF,ISF)call SetUnitY(IUF,ITF)if(ZZD>1 and ModuloInteger(ZZD,10)==0)or ZZD==1 thenset g=TL7()set I04=H5Fset IZ4=IJF(H5F)call GroupEnumUnitsInRange(g,ISF,ITF,300,Condition(function Y47))call ForGroup(g,function IQF)call T67(g)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Other\\NeutralBuildingExplosion\\NeutralBuildingExplosion.mdl",ISF,ITF))endifif ZZD>IMF(H5F)/ 16.6 thencall K_7(NO7)call NM7(t)call KillUnit(IUF)endifendifset t=nullset g=nullset IUF=nullset H5F=nullreturn falseendfunctionfunction IVF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local location l=GetSpellTargetLoc()local unit H5F=GetTriggerUnit()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(H5F),x-GetUnitX(H5F))local unit IWF=CreateUnit(GetOwningPlayer(H5F),'e01K',x,y,a*bj_RADTODEG)call SetUnitTimeScale(IWF,0.58)call UnitApplyTimedLife(IWF,'BTLF',1.75)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function IRF))call MF7(NO7,"Source",H5F)call M97(NO7,"x",x)call M97(NO7,"y",y)call M97(NO7,"a",a)call RemoveLocation(l)set t=nullset l=nullset H5F=nullendfunctionfunction IXF takes nothing returns booleanif GetSpellAbilityId()=='A0VN' thencall IVF()endifreturn falseendfunctionfunction IYF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IXF))set t=nullendfunctionfunction IZF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real IAF=N47(GetHandleId(m5),"MeltingStrike|Last")if IAF+5<=JM7()thencall UnitRemoveAbility(m5,'A0VW')endifcall K_7(NO7)call NM7(t)set t=nullset m5=nullreturn falseendfunctionfunction IBF takes unit m5 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(m5,'A0VW')if SR7==0 thencall UW7(m5,'A0VW')endifcall SetUnitAbilityLevel(m5,'A0VW',SR7+1)call MF7(NO7,"Target",m5)call M97(GetHandleId(m5),"MeltingStrike|Last",JM7())call TriggerRegisterTimerEvent(t,5,false)call TriggerAddCondition(t,Condition(function IZF))set t=nullendfunctionfunction ICF takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetTriggerUnit(),'B091')>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A0VV')>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall UnitRemoveAbility(GetTriggerUnit(),'B091')call DisableTrigger(GetTriggeringTrigger())call IBF(GetTriggerUnit())call K_7(GetHandleId(GetTriggeringTrigger()))call NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction I3F takes nothing returns nothinglocal trigger tlocal unit m5local unit p5if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenset m5=GetSpellTargetUnit()set p5=GetTriggerUnit()elseset m5=GetTriggerUnit()set p5=GetAttacker()endifif IsUnitIllusion(p5)==false thenset t=CreateTrigger()call MF7(GetHandleId(t),"Source",p5)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function ICF))endifset t=nullset m5=nullset p5=nullendfunctionfunction I6F takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetUnitAbilityLevel(GetAttacker(),'A0VV')>0 and N77(GetHandleId(GetTriggeringTrigger()),"OrbOn")and IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==false and GetAttacker()==MZ7(GetHandleId(GetTriggeringTrigger()),"Source")thencall I3F()endifelseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif(GetIssuedOrderId()==OrderId("poisonarrows"))thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",true)elseif(GetIssuedOrderId()==OrderId("unpoisonarrows"))thencall ME7(GetHandleId(GetTriggeringTrigger()),"OrbOn",false)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A0VV' thencall I3F()endifreturn falseendfunctionfunction ILF takes unit p5 returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function I6F))call MF7(GetHandleId(t),"Source",p5)call ME7(GetHandleId(t),"OrbOn",true)set t=nullendfunctionfunction I1F takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction I0F takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())=='n027' thenreturn trueendifreturn falseendfunctionfunction I5F takes player p returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,p,Condition(function I0F))call ForGroup(g,function I1F)call T67(g)set g=nullendfunctionfunction I2F takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit oAlocal integer HEF=(M_7(GetHandleId(p5),"QuasLevel"))local integer H4F=(M_7(GetHandleId(p5),"ExortLevel"))call I5F(GetOwningPlayer(p5))set oA=CreateUnit(GetOwningPlayer(p5),'n027',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitColor(oA,GetPlayerColor(Y7[0]))call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")call UnitApplyTimedLife(oA,'BTLF',10+10*HEF)call SetUnitAbilityLevel(oA,'A0VV',H4F)call ILF(oA)if Ab[GetPlayerId(GetOwningPlayer(p5))]thencall SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))endifif HEF>3 and H4F>3 thenset oA=CreateUnit(GetOwningPlayer(p5),'n027',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call SetUnitColor(oA,GetPlayerColor(Y7[0]))call AddSpecialEffectTarget("Abilities\\Spells\\Orc\\FeralSpirit\\feralspiritdone.mdl",oA,"chest")call UnitApplyTimedLife(oA,'BTLF',10+10*HEF)call SetUnitAbilityLevel(oA,'A0VV',H4F)call ILF(oA)if Ab[GetPlayerId(GetOwningPlayer(p5))]thencall SelectUnitAddForPlayer(oA,GetOwningPlayer(p5))endifendifcall SetPlayerTechResearched(GetOwningPlayer(p5),'R00G',H4F)call SetPlayerTechResearched(GetOwningPlayer(p5),'R00H',HEF)set p5=nullset oA=nullendfunctionfunction I_F takes nothing returns booleanif GetSpellAbilityId()=='A0VO' thencall I2F()endifreturn falseendfunctionfunction J4F takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function I_F))call VU7('A0VV',GetRandomReal(1,25))call VU7('A0VW',GetRandomReal(1,25))set t=nullendfunctionfunction J7F takes unit X97 returns integerlocal integer ZN7=(M_7(GetHandleId(X97),"QuasLevel"))if ZN7==1 thenreturn 1093808944elseif ZN7==2 thenreturn 1093808730elseif ZN7==3 thenreturn 1093808729elseif ZN7==4 thenreturn 1093808725elseif ZN7==5 thenreturn 1093808726elseif ZN7==6 thenreturn 1093808727elseif ZN7==7 thenreturn 1093808728endifreturn 1093808944endfunctionfunction J8F takes unit U47 returns nothingcall UnitRemoveAbility(U47,1093808944)call UnitRemoveAbility(U47,1093808730)call UnitRemoveAbility(U47,1093808729)call UnitRemoveAbility(U47,1093808725)call UnitRemoveAbility(U47,1093808726)call UnitRemoveAbility(U47,1093808727)call UnitRemoveAbility(U47,1093808728)call UnitRemoveAbility(U47,1110456410)endfunctionfunction J9F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real CU9=(LoadReal(C7,(GetHandleId(U47)),(681)))call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerEventId()==EVENT_WIDGET_DEATH or CU9<(TimerGetElapsed(P))thencall J8F(U47)endifset t=nullset U47=nullreturn falseendfunctionfunction JDF takes nothing returns nothinglocal unit X97=I04local unit U47=GetEnumUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real CU9=(LoadReal(C7,(GetHandleId(U47)),(681)))if CU9<(TimerGetElapsed(P))thencall UW7(U47,J7F(X97))endifcall SaveReal(C7,(GetHandleId(U47)),(681),(((TimerGetElapsed(P))+2)*1.0))call SaveUnitHandle(C7,(V_7),(17),(U47))call TriggerRegisterTimerEvent(t,2.01,false)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function J9F))set t=nullset X97=nullendfunctionfunction JEF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real V59=(LoadReal(C7,(V_7),(6)))local real V29=(LoadReal(C7,(V_7),(7)))local real a=(LoadReal(C7,(V_7),(137)))local real J5D=(LoadReal(C7,(V_7),(57)))local real xlocal real ylocal integer i=1local integer S08=GetTriggerEvalCount(t)local group gif S08*0.1>J5D thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97loopexitwhen i>7set x=V59+80*i*Cos((a+90)*bj_DEGTORAD)set y=V29+80*i*Sin((a+90)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,105,Condition(function YF7))call ForGroup(g,function JDF)set x=V59+80*i*Cos((a-90)*bj_DEGTORAD)set y=V29+80*i*Sin((a-90)*bj_DEGTORAD)call GroupEnumUnitsInRange(g,x,y,105,Condition(function YF7))call ForGroup(g,function JDF)set i=i+1endloopcall T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction JFF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real a=GetUnitFacing(p5)local integer i=1local unit oAlocal real xlocal real ylocal real V59=GetUnitX(p5)+225*Cos(a*bj_DEGTORAD)local real V29=GetUnitY(p5)+225*Sin(a*bj_DEGTORAD)local integer HEF=(M_7(GetHandleId(p5),"QuasLevel"))local integer H4F=(M_7(GetHandleId(p5),"ExortLevel"))local real J5D=1.5+1.5*HEFlocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)loopexitwhen i>7set x=V59+80*i*Cos((a+90)*bj_DEGTORAD)set y=V29+80*i*Sin((a+90)*bj_DEGTORAD)set oA=CreateUnit(GetOwningPlayer(p5),'u00O',x,y,GetRandomReal(0,360))call SetUnitAbilityLevel(oA,'S00H',HEF)call SetUnitAbilityLevel(oA,'A0XN',H4F)call SetUnitAnimation(oA,"birth")call QueueUnitAnimation(oA,"stand")call UnitApplyTimedLife(oA,'BTLF',J5D)set x=V59+80*i*Cos((a-90)*bj_DEGTORAD)set y=V29+80*i*Sin((a-90)*bj_DEGTORAD)set oA=CreateUnit(GetOwningPlayer(p5),'u00O',x,y,GetRandomReal(0,360))call SetUnitAbilityLevel(oA,'S00H',HEF)call SetUnitAbilityLevel(oA,'A0XN',H4F)call SetUnitAnimation(oA,"birth")call QueueUnitAnimation(oA,"stand")call UnitApplyTimedLife(oA,'BTLF',J5D)set i=i+1endloopcall TriggerAddCondition(t,Condition(function JEF))call TriggerRegisterTimerEvent(t,0.1,true)call SaveReal(C7,(V_7),(6),((V59)*1.0))call SaveReal(C7,(V_7),(7),((V29)*1.0))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveUnitHandle(C7,(V_7),(2),(p5))call SaveReal(C7,(V_7),(57),((J5D)*1.0))set oA=nullset p5=nullset t=nullendfunctionfunction JGF takes nothing returns booleanif GetSpellAbilityId()=='A0VP' thencall JFF()endifreturn falseendfunctionfunction JHF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JGF))call VU7('S00H',GetRandomReal(1,25))call VU7('A0XN',GetRandomReal(1,25))set t=nullendfunctionfunction JIF takes nothing returns nothingif JS7(GetEnumUnit())==false thencall ZO7(I04,GetEnumUnit(),YD4,IZ4)endifendfunctionfunction JJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit hn=MZ7(NO7,"Hero")local real V37=N47(NO7,"Damage")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local group g=TL7()local integer ZZDset I04=hncall GroupEnumUnitsInRange(g,x,y,200,Condition(function Y47))set ZZD=CountUnitsInGroup(g)if ZZD<1 thenset ZZD=1endifset IZ4=V37/ ZZDcall ForGroup(g,function JIF)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Doom\\DoomDeath.mdl",x,y))call T67(g)call DestroyEffect(ML7(NO7,"Effect"))call K_7(NO7)call NM7(t)set t=nullset hn=nullset g=nullreturn falseendfunctionfunction JKF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit hn=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real V37=(M_7(GetHandleId(hn),"ExortLevel"))*62.5+12.5+25local string s=""if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(hn))==true or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thenset s="Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl"endifcall WP7(GetOwningPlayer(hn),5.7,x,y,400)call TriggerRegisterTimerEvent(t,1.7,false)call TriggerAddCondition(t,Condition(function JJF))call MF7(NO7,"Hero",hn)call M97(NO7,"x",x)call M97(NO7,"y",y)call M97(NO7,"Damage",V37)call MG7(NO7,"Effect",AddSpecialEffect(s,x,y))call RemoveLocation(l)set t=nullset hn=nullset l=nullendfunctionfunction JMF takes nothing returns booleanif GetSpellAbilityId()=='A0VG' thencall JKF()endifreturn falseendfunctionfunction JNF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JMF))set t=nullendfunctionfunction JOF takes unit H5F,unit m5 returns nothinglocal unit JPF=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(JPF,'A0VI')call IssueTargetOrder(JPF,"thunderbolt",m5)if TU7(m5)==false thencall ZO7(H5F,m5,Y84,30)endifset JPF=nullendfunctionfunction JQF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local unit H5F=MZ7(NO7,"Source")if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>10 and NG7(t,"Cooldown")==false and GetOwningPlayer(GetEventDamageSource())!=GetOwningPlayer(GetTriggerUnit())thencall DisableTrigger(t)call JOF(H5F,m5)call EnableTrigger(t)call NR7(t,"Cooldown",0.8-SR7*0.0285)endifelsecall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)endifset t=nullset m5=nullset H5F=nullreturn falseendfunctionfunction JRF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit hn=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer SR7=(M_7(GetHandleId(hn),"QuasLevel"))call TriggerRegisterTimerEvent(t,2.5+SR7*0.5,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function JQF))call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call MF7(NO7,"Source",hn)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Weapons\\SpiritOfVengeanceMissile\\SpiritOfVengeanceMissile.mdl",m5,"overhead"))call JOF(hn,m5)set t=nullset hn=nullset m5=nullendfunctionfunction JSF takes nothing returns booleanif GetSpellAbilityId()=='A0VZ' thencall JRF()endifreturn falseendfunctionfunction JTF takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JSF))call VU7('A0VI',GetRandomReal(1,25))set t=nullendfunctionfunction JUF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit hn=MZ7(NO7,"Hero")local integer SR7=M_7(NO7,"Level")call SetUnitState(hn,UNIT_STATE_LIFE,GetUnitState(hn,UNIT_STATE_LIFE)+SR7*1)return falseendfunctionfunction JVF takes unit hn,integer SR7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(hn)call ME7(NO7,"Invoker|HasQuas",true)call MH7(NO7,"Invoker|QuasTrigger",t)call MF7(GetHandleId(t),"Hero",hn)call M87(GetHandleId(t),"Level",SR7)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function JUF))set t=nullendfunctionfunction JWF takes unit hn returns nothinglocal integer NO7=GetHandleId(hn)local boolean JXF=N77(NO7,"Invoker|HasQuas")local trigger tif JXF thencall ME7(NO7,"Invoker|HasQuas",false)set t=M37(NO7,"Invoker|QuasTrigger")call K_7(GetHandleId(t))call NM7(t)endifset t=nullendfunctionfunction JYF takes unit hn returns nothinglocal integer NO7=GetHandleId(hn)local integer JZF=M_7(NO7,"Invoker|Wex")local integer JAF=M_7(NO7,"Invoker|Quas")local integer JBF=M_7(NO7,"Invoker|Exort")local integer G_F=GetUnitAbilityLevel(hn,'A21X')local integer HEF=GetUnitAbilityLevel(hn,'A21W')local integer H4F=GetUnitAbilityLevel(hn,'A21V')call UnitRemoveAbility(hn,'A0WD')call UnitRemoveAbility(hn,'A0VE')call JWF(hn)call UnitRemoveAbility(hn,'A0V7')if JZF>0 thencall UW7(hn,'A0WD')call UW7(hn,'A0VE')call SetUnitAbilityLevel(hn,'A0WD',JZF*G_F)call SetUnitAbilityLevel(hn,'A0VE',JZF*G_F)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),'A0WD',false)endifif JAF>0 thencall JVF(hn,JAF*HEF)endifif JBF>0 thencall UW7(hn,'A0V7')call SetUnitAbilityLevel(hn,'A0V7',JBF*H4F)endifendfunctionfunction JCF takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false and(GetLearnedSkill()=='A21X' or GetLearnedSkill()=='A21W' or GetLearnedSkill()=='A21V')thencall JYF(GetTriggerUnit())if GetLearnedSkill()=='A21X' thencall SetHeroAgi(GetTriggerUnit(),GetHeroAgi(GetTriggerUnit(),false)+2,true)call M87((GetHandleId(GetTriggerUnit())),"WexLevel",(GetUnitAbilityLevel(GetTriggerUnit(),'A21X')))endifif GetLearnedSkill()=='A21W' thencall SetHeroStr(GetTriggerUnit(),GetHeroStr(GetTriggerUnit(),false)+2,true)call M87((GetHandleId(GetTriggerUnit())),"QuasLevel",(GetUnitAbilityLevel(GetTriggerUnit(),'A21W')))endifif GetLearnedSkill()=='A21V' thencall SetHeroInt(GetTriggerUnit(),GetHeroInt(GetTriggerUnit(),false)+2,true)call M87((GetHandleId(GetTriggerUnit())),"ExortLevel",(GetUnitAbilityLevel(GetTriggerUnit(),'A21V')))endifendifreturn falseendfunctionfunction J3F takes unit hn returns nothingif GetUnitAbilityLevel(hn,'A0XL')>0 thencall SetUnitAbilityLevel(hn,'A0XL',GetUnitAbilityLevel(hn,'A21X'))endifendfunctionfunction J6F takes nothing returns nothinglocal integer JLF=0local unit hn=GetTriggerUnit()local integer RP7=GetHandleId(hn)local integer J1F=M_7(RP7,"Invoker|Wex")local integer J0F=M_7(RP7,"Invoker|Quas")local integer J5F=M_7(RP7,"Invoker|Exort")local integer RQ7=M_7(RP7,"Invoker|Current1")local integer RR7=M_7(RP7,"Invoker|Current2")if J1F==3 and J0F==0 and J5F==0 thenset JLF=1elseif J1F==2 and J0F==1 and J5F==0 thenset JLF=2elseif J1F==2 and J0F==0 and J5F==1 thenset JLF=3elseif J1F==1 and J0F==2 and J5F==0 thenset JLF=4elseif J1F==1 and J0F==1 and J5F==1 thenset JLF=5elseif J1F==1 and J0F==0 and J5F==2 thenset JLF=6elseif J1F==0 and J0F==1 and J5F==2 thenset JLF=7elseif J1F==0 and J0F==2 and J5F==1 thenset JLF=8elseif J1F==0 and J0F==0 and J5F==3 thenset JLF=9elseif J1F==0 and J0F==3 and J5F==0 thenset JLF=10endifif MS[JLF]==RR7 thenreturnendifif GetUnitAbilityLevel(hn,'A21Y')==1 or GetUnitAbilityLevel(hn,'A1GU')==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,false)set RR7=MS[JLF]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,true)elseif RQ7!=0 and RR7!=0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),RQ7,false)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,false)set RQ7=RR7set RR7=MS[JLF]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RQ7,true)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,true)elseif RQ7==0 and RR7!=0 thencall SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,false)set RQ7=RR7set RR7=MS[JLF]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RQ7,true)call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,true)elseset RR7=MS[JLF]call SetPlayerAbilityAvailable(GetOwningPlayer(hn),RR7,true)endifendifcall M87(RP7,"Invoker|Current1",RQ7)call M87(RP7,"Invoker|Current2",RR7)call J3F(hn)set hn=nullendfunctionfunction J2F takes unit T_7,integer J_F,integer K4F,integer K7F returns nothinglocal integer Orb1=0local integer Orb2=0local integer Orb3=0local integer K8Flocal integer K9Flocal integer KDFlocal integer KEFlocal integer KFFlocal integer KGFlocal integer KHFlocal integer KIFlocal integer KJFcall UnitRemoveAbility(T_7,'A0DN')call UnitRemoveAbility(T_7,'A0DG')call UnitRemoveAbility(T_7,'A0IX')call UnitRemoveAbility(T_7,'A0I1')call UnitRemoveAbility(T_7,'A0I0')call UnitRemoveAbility(T_7,'A0HZ')call UnitRemoveAbility(T_7,'A0IC')call UnitRemoveAbility(T_7,'A0IB')call UnitRemoveAbility(T_7,'A0ID')call UnitRemoveAbility(T_7,'A22C')call UnitRemoveAbility(T_7,'A22D')call UnitRemoveAbility(T_7,'A22E')call UnitRemoveAbility(T_7,'A22F')call UnitRemoveAbility(T_7,'A22G')call UnitRemoveAbility(T_7,'A22H')call UnitRemoveAbility(T_7,'A22I')call UnitRemoveAbility(T_7,'A22J')call UnitRemoveAbility(T_7,'A22K')if GCF(T_7,GA4)==null thenset K8F='A0DN'set K9F='A0DG'set KDF='A0IX'set KEF='A0I1'set KFF='A0I0'set KGF='A0HZ'set KHF='A0IC'set KIF='A0IB'set KJF='A0ID'elseset K8F='A22C'set K9F='A22D'set KDF='A22E'set KEF='A22F'set KFF='A22G'set KGF='A22H'set KHF='A22I'set KIF='A22J'set KJF='A22K'endifif J_F==1 and K4F==0 and K7F==0 thencall UW7(T_7,K8F)elseif J_F==0 and K4F==1 and K7F==0 thencall UW7(T_7,KEF)elseif J_F==0 and K4F==0 and K7F==1 thencall UW7(T_7,KHF)elseif J_F==2 and K4F==0 and K7F==0 thencall UW7(T_7,K8F)call UW7(T_7,K9F)elseif J_F==1 and K4F==1 and K7F==0 thencall UW7(T_7,K8F)call UW7(T_7,KFF)elseif J_F==1 and K4F==0 and K7F==1 thencall UW7(T_7,K8F)call UW7(T_7,KIF)elseif J_F==0 and K4F==2 and K7F==0 thencall UW7(T_7,KEF)call UW7(T_7,KFF)elseif J_F==0 and K4F==1 and K7F==1 thencall UW7(T_7,KEF)call UW7(T_7,KIF)elseif J_F==0 and K4F==0 and K7F==2 thencall UW7(T_7,KHF)call UW7(T_7,KIF)elseif J_F==3 and K4F==0 and K7F==0 thencall UW7(T_7,K8F)call UW7(T_7,K9F)call UW7(T_7,KDF)elseif J_F==2 and K4F==1 and K7F==0 thencall UW7(T_7,K8F)call UW7(T_7,K9F)call UW7(T_7,KGF)elseif J_F==2 and K4F==0 and K7F==1 thencall UW7(T_7,K8F)call UW7(T_7,K9F)call UW7(T_7,KJF)elseif J_F==1 and K4F==2 and K7F==0 thencall UW7(T_7,K8F)call UW7(T_7,KFF)call UW7(T_7,KGF)elseif J_F==1 and K4F==1 and K7F==1 thencall UW7(T_7,K8F)call UW7(T_7,KFF)call UW7(T_7,KJF)elseif J_F==1 and K4F==0 and K7F==2 thencall UW7(T_7,K8F)call UW7(T_7,KIF)call UW7(T_7,KJF)elseif J_F==0 and K4F==1 and K7F==2 thencall UW7(T_7,KHF)call UW7(T_7,KIF)call UW7(T_7,KGF)elseif J_F==0 and K4F==2 and K7F==1 thencall UW7(T_7,KEF)call UW7(T_7,KFF)call UW7(T_7,KJF)elseif J_F==0 and K4F==0 and K7F==3 thencall UW7(T_7,KHF)call UW7(T_7,KIF)call UW7(T_7,KJF)elseif J_F==0 and K4F==3 and K7F==0 thencall UW7(T_7,KEF)call UW7(T_7,KFF)call UW7(T_7,KGF)endifendfunctionfunction KKF takes nothing returns nothinglocal unit T_7=I04local integer V_7=GetHandleId(T_7)local integer KMF=M_7(V_7,"Invoker|OrbFirst")local integer KNF=M_7(V_7,"Invoker|OrbSecond")local integer KOF=M_7(V_7,"Invoker|OrbThird")local integer J_F=0local integer K4F=0local integer K7F=0if KMF=='A21X' thenset J_F=J_F+1elseif KMF=='A21W' thenset K4F=K4F+1elseif KMF=='A21V' thenset K7F=K7F+1endifif KNF=='A21X' thenset J_F=J_F+1elseif KNF=='A21W' thenset K4F=K4F+1elseif KNF=='A21V' thenset K7F=K7F+1endifif KOF=='A21X' thenset J_F=J_F+1elseif KOF=='A21W' thenset K4F=K4F+1elseif KOF=='A21V' thenset K7F=K7F+1endifcall J2F(T_7,J_F,K4F,K7F)set T_7=nullendfunctionfunction KPF takes nothing returns nothinglocal unit hn=GetTriggerUnit()local integer NO7=GetHandleId(hn)local integer KQF=GetSpellAbilityId()local integer KRF=M_7(NO7,"Invoker|OrbFirst")local integer KSF=M_7(NO7,"Invoker|OrbSecond")local integer KTF=M_7(NO7,"Invoker|OrbThird")local integer JZF=0local integer JAF=0local integer JBF=0set KRF=KSFset KSF=KTFset KTF=KQFif KRF=='A21X' thenset JZF=JZF+1elseif KRF=='A21W' thenset JAF=JAF+1elseif KRF=='A21V' thenset JBF=JBF+1endifif KSF=='A21X' thenset JZF=JZF+1elseif KSF=='A21W' thenset JAF=JAF+1elseif KSF=='A21V' thenset JBF=JBF+1endifif KTF=='A21X' thenset JZF=JZF+1elseif KTF=='A21W' thenset JAF=JAF+1elseif KTF=='A21V' thenset JBF=JBF+1endifcall M87(NO7,"Invoker|OrbFirst",KRF)call M87(NO7,"Invoker|OrbSecond",KSF)call M87(NO7,"Invoker|OrbThird",KTF)call M87(NO7,"Invoker|Wex",JZF)call M87(NO7,"Invoker|Quas",JAF)call M87(NO7,"Invoker|Exort",JBF)call J2F(hn,JZF,JAF,JBF)call JYF(hn)call J3F(hn)endfunctionfunction KUF takes nothing returns booleanif GetSpellAbilityId()=='A21X' or GetSpellAbilityId()=='A21W' or GetSpellAbilityId()=='A21V' thencall KPF()elseif GetSpellAbilityId()=='A21Y' or GetSpellAbilityId()=='A1GU' thencall J6F()endifreturn falseendfunctionfunction IT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call VQ7(MS[1])call VQ7(MS[2])call VQ7(MS[3])call VQ7(MS[4])call VQ7(MS[5])call VQ7(MS[6])call VQ7(MS[7])call VQ7(MS[8])call VQ7(MS[9])call VQ7(MS[10])call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KUF))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function JCF))set t=nullcall DisplayTimedTextToForce(bj_FORCE_ALL_PLAYERS,15.00,GetObjectName('n06G'))call VU7('A0XO',GetRandomReal(1,25))call VU7('A0WD',GetRandomReal(1,25))call VU7('A0VE',GetRandomReal(1,25))call VU7('A0V7',GetRandomReal(1,25))call VU7('A21V',GetRandomReal(1,25))call VU7('A21X',GetRandomReal(1,25))call VU7('A21W',GetRandomReal(1,25))call H8F()call HOF()call HZF()call H1F()call IIF()call IYF()call J4F()call JHF()call JNF()call JTF()endfunctionfunction KVF takes nothing returns nothingif GetSpellAbilityId()=='A1FP' thencall V57("Abilities\\Spells\\Items\\VampiricPotion\\VampPotionCaster.mdl",GetTriggerUnit(),"origin",3.5)call XJ7(GetTriggerUnit(),'A1CN',1,3.5)endifendfunctionfunction KWF takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifcall XO7(GetEnumUnit(),RK4,1,8,'B0BV')call UnitMakeAbilityPermanent(GetEnumUnit(),true,RK4)call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),RK4,false)endfunctionfunction KXF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2IS')local group g=TL7()if ZN7==1 thenset RK4='A1F6'elseif ZN7==2 thenset RK4='A1F7'elseif ZN7==3 thenset RK4='A1F3'elseif ZN7==4 thenset RK4='A1F5'endifcall GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),725,Condition(function X17))call ForGroup(g,function KWF)call T67(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\BattleRoar\\RoarCaster.mdl",X97,"overhead"))set X97=nullset g=nullendfunctionfunction KYF takes nothing returns booleanif GetSpellAbilityId()=='A2IS' thencall KXF()endifreturn falseendfunctionfunction IV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KYF))set t=nullendfunctionfunction KZF takes nothing returns nothingif GetPlayerController(GetOwningPlayer(B0))==MAP_CONTROL_COMPUTER thencall UnitAddAbility(B0,'A0RZ')endifcall IssueTargetOrder(B0,"thunderbolt",GetEnumUnit())endfunctionfunction KAF takes player p,unit m5,integer SR7 returns nothinglocal unit ZM7=CreateUnit(p,'e00E',GetUnitX(m5),GetUnitY(m5),0)local integer o6local group g=TL7()call UW7(ZM7,'A0RZ')call SetUnitAbilityLevel(ZM7,'A0RZ',SR7)set I04=G7[GetPlayerId(p)]call GroupEnumUnitsInRange(g,GetUnitX(m5),GetUnitY(m5),280,Condition(function Y47))call GroupAddUnit(g,m5)set B0=ZM7call ForGroup(g,function KZF)call T67(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\StormBolt\\StormBoltMissile.mdl",m5,"origin"))set ZM7=nullset g=nullendfunctionfunction KBF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local player p=MB7(NO7,"p")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local integer SR7=M_7(NO7,"Level")local unit ZF7=MZ7(NO7,"Projectile")local real x=GetUnitX(ZF7)local real y=GetUnitY(ZF7)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real F4=1000*0.035local real l4=W77(x,y,Y5,Z5)local real W59=x+F4*Cos(l4*bj_DEGTORAD)local real W29=y+F4*Sin(l4*bj_DEGTORAD)local boolean WS8=N77(NO7,"Active")call SetUnitX(ZF7,W59)call SetUnitY(ZF7,W29)call SetUnitFacing(ZF7,l4)if J87(Y5,Z5,W59,W29)<=F4 thenif WS8 thencall KAF(p,m5,SR7)endifcall KillUnit(ZF7)call Q67(ZR7)call K_7(NO7)call NM7(t)endifset t=nullset m5=nullset ZF7=nullreturn falseendfunctionfunction KCF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(p5,'A190')local unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZF7=CreateUnit(GetOwningPlayer(p5),'h07Q',GetUnitX(p5),GetUnitY(p5),W77(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5)))local boolean WS8=T37(GetSpellTargetUnit())==falsecall ME7(NO7,"Active",WS8)call MM7(NO7,"p",GetOwningPlayer(p5))call M87(NO7,"TargetIndex",Q07(m5))call MF7(NO7,"Projectile",ZF7)call M87(NO7,"Level",SR7)call TriggerRegisterTimerEvent(t,0.035,true)call TriggerAddCondition(t,Condition(function KBF))set t=nullset p5=nullset m5=nullset ZF7=nullendfunctionfunction K3F takes nothing returns booleanif GetSpellAbilityId()=='A190' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetTriggerUnit(),"weapon"))elsecall KCF()endifendifreturn falseendfunctionfunction IU8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function K3F))set t=nullendfunctionfunction K6F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=MZ7(V_7,"Hero")local integer S08=(M_7(V_7,"Count"))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thenset S08=S08+1call M87(V_7,"Count",S08)endifif(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and S08>1)or(GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT and VP8(GetSpellAbilityId())and GetSpellTargetUnit()==T_7)thenif(GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT and S08>1)thenif UY7(T_7)==false thencall UnitRemoveAbility(T_7,'A0WO')call UnitRemoveAbility(T_7,'B009')call UnitRemoveAbility(T_7,'B0DP')endifcall K_7(V_7)call NM7(t)endifelseif GetTriggerEventId()!=EVENT_PLAYER_UNIT_SPELL_EFFECT thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\BattleCryCaster.mdx",T_7,"overhead"))call UW7(T_7,'A0WO')call SetUnitAbilityLevel(T_7,'A0WO',GetUnitAbilityLevel(T_7,'A1WH'))call UnitMakeAbilityPermanent(T_7,true,'A0WO')call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A0WO',false)endifset t=nullset T_7=nullreturn falseendfunctionfunction KLF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit T_7=GetTriggerUnit()call TriggerRegisterTimerEvent(t,25,false)call TriggerRegisterTimerEvent(t,0.31,false)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K6F))call MF7(V_7,"Hero",T_7)call M87(V_7,"Count",0)set t=nullset T_7=nullendfunctionfunction K1F takes nothing returns booleanif GetSpellAbilityId()=='A1WH' and GetUnitTypeId(GetTriggerUnit())=='H001' thencall KLF()endifreturn falseendfunctionfunction IW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K1F))set t=nullendfunctionfunction K0F takes nothing returns nothinglocal location llocal unit TX7=GetTriggerUnit()local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real alocal real x2local real y2local integer SR7=GetUnitAbilityLevel(TX7,'A0X5')local real V37local real Hklocal unit m5=nullif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=Atan2(y2-y1,x2-x1)set x2=x1+700*Cos(a)set y2=y1+700*Sin(a)if SR7==1 thenset V37=60set Hk=0.5elseif SR7==2 thenset V37=130set Hk=1elseif SR7==3 thenset V37=200set Hk=1.5elseif SR7==4 thenset V37=260set Hk=2endifif GetSpellTargetUnit()!=null and T37(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall A9D(TX7,m5,V37,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)call RemoveLocation(l)set l=nullset TX7=nullendfunctionfunction K5F takes nothing returns booleanif GetSpellAbilityId()=='A0X5' thencall K0F()endifreturn falseendfunctionfunction IX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K5F))call VQ7('A0X6')set t=nullendfunctionfunction K2F takes nothing returns booleanif(GetSpellAbilityId()=='A095' or GetSpellAbilityId()=='A09W')and TU7(GetSpellTargetUnit())thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LR'))endifreturn falseendfunctionfunction IY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function K2F))set t=nullendfunctionfunction K_F takes nothing returns nothinglocal location llocal unit TX7=GetTriggerUnit()local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real alocal real x2local real y2local integer SR7=GetUnitAbilityLevel(TX7,'A0X7')local real V37local real Hklocal unit m5=nullif GetSpellTargetUnit()!=null thenset l=GetUnitLoc(GetSpellTargetUnit())elseset l=GetSpellTargetLoc()endifset x2=GetLocationX(l)set y2=GetLocationY(l)set a=Atan2(y2-y1,x2-x1)set x2=x1+700*Cos(a)set y2=y1+700*Sin(a)if SR7==1 thenset V37=80set Hk=0.75elseif SR7==2 thenset V37=140set Hk=1.25elseif SR7==3 thenset V37=200set Hk=1.75elseif SR7==4 thenset V37=260set Hk=2.25endifif GetSpellTargetUnit()!=null and T37(GetSpellTargetUnit())thenset m5=GetSpellTargetUnit()endifcall A9D(TX7,m5,V37,Hk,0.52,x1,y1,x2,y2,150,null,true,1600)call RemoveLocation(l)set l=nullset TX7=nullendfunctionfunction M4F takes nothing returns booleanif GetSpellAbilityId()=='A0X7' thencall K_F()endifreturn falseendfunctionfunction IZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M4F))call VQ7('A0X6')set t=nullendfunctionfunction M7F takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real r=GetHeroInt(m5,true)*4local integer M8F=IMinBJ(R2I(r),R2I(GetUnitState(m5,UNIT_STATE_MANA)))call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)-M8F)call ZO7(p5,m5,Y84,M8F)call IG9("MBUR",p5,m5,1,1,1,1,0.5)call WD7("-"+I2S(M8F),3,m5,0.023,82,82,255,255)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\NightElf\\ManaBurn\\ManaBurnTarget.mdl",m5,"chest"))set p5=nullset m5=nullendfunctionfunction M9F takes nothing returns booleanif GetSpellAbilityId()=='A1H5' and T37(GetSpellTargetUnit())==false thencall M7F()endifreturn falseendfunctionfunction IA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M9F))set t=nullendfunctionfunction MDF takes nothing returns nothingcall IssueTargetOrder(SB4,"soulburn",GetEnumUnit())endfunctionfunction MEF takes nothing returns nothinglocal unit XT7=GetTriggerUnit()local real x=GetUnitX(XT7)local real y=GetUnitY(XT7)local unit V6D=CreateUnit(GetOwningPlayer(XT7),'e00E',x,y,0)local group g=TL7()set SB4=V6Dcall UW7(V6D,'A1GG')call GroupEnumUnitsInRange(g,x,y,325,Condition(function YK7))call ForGroup(g,function MDF)call T67(g)call KillUnit(XT7)call SetUnitAnimation(XT7,"death")call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadLargeDeathExplode\\UndeadLargeDeathExplode.mdl",x,y))set XT7=nullset V6D=nullset g=nullendfunctionfunction MFF takes nothing returns booleanif GetSpellAbilityId()=='A1HH' thencall MEF()endifreturn falseendfunctionfunction IB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MFF))call VQ7('A1GG')set t=nullendfunctionfunction MGF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47local integer ZN7=GetUnitAbilityLevel(X97,'A2KO')if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>0 and IsPlayerEnemy(GetOwningPlayer(GetEventDamageSource()),GetOwningPlayer(X97))==true thenif R77(GetOwningPlayer(GetEventDamageSource()))and AO7(GetEventDamage())thencall V67(X97,GetEventDamage())set U47=G7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]call UnitRemoveAbility(X97,'A2KP')call FlushChildHashtable(C7,(V_7))call NM7(t)if UY7(U47)==false thencall ZK7(X97,U47,0.6*ZN7)call ZO7(X97,U47,YD4,GetEventDamage())endifset U47=nullendifendifelsecall UnitRemoveAbility(X97,'A2KP')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction MHF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,4.5,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function MGF))call SaveUnitHandle(C7,(V_7),(2),(X97))call UW7(X97,'A2KP')set X97=nullset t=nullendfunctionfunction MIF takes nothing returns booleanif GetSpellAbilityId()=='A2KO' thencall MHF()endifreturn falseendfunctionfunction IC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MIF))set t=nullendfunctionfunction MJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer MKF=GetHandleId(t)local group g=M67(MKF,"g")call T67(g)call K_7(MKF)call NM7(t)set t=nullset g=nullreturn falseendfunctionfunction MMF takes group g returns nothinglocal trigger t=CreateTrigger()local integer MKF=GetHandleId(t)call MO7(MKF,"g",g)call TriggerRegisterTimerEvent(t,10,false)call TriggerAddCondition(t,Condition(function MJF))set t=nullendfunctionfunction MNF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit oAlocal integer i=1local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real x2local real y2local real V37local real Hklocal integer SR7=GetUnitAbilityLevel(TX7,'A29I')local group g=TL7()if SR7==1 thenset Hk=1.5set V37=250elseif SR7==2 thenset Hk=1.8set V37=350elseif SR7==3 thenset Hk=2.25set V37=450endifloopexitwhen i>16set x2=x1+(500+SR7*100)*Cos(22.5*i*bj_DEGTORAD)set y2=y1+(500+SR7*100)*Sin(22.5*i*bj_DEGTORAD)call A9D(TX7,null,V37,Hk,0.52,x1,y1,x2,y2,250,g,false,900)set i=i+1endloopcall MMF(g)set TX7=nullset oA=nullset g=nullendfunctionfunction MOF takes nothing returns booleanif GetSpellAbilityId()=='A29I' thencall MNF()endifreturn falseendfunctionfunction G78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MOF))call VQ7('A0X6')set t=nullendfunctionfunction MPF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real CU9=(LoadReal(C7,(GetHandleId(U47)),(715)))call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerEventId()==EVENT_WIDGET_DEATH or CU9<(TimerGetElapsed(P))thencall UnitRemoveAbility(U47,'A228')call UnitRemoveAbility(U47,'B0E8')endifset t=nullset U47=nullreturn falseendfunctionfunction MQF takes unit U47 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UW7(U47,'A228')call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,6.,false)call TriggerAddCondition(t,Condition(function MPF))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(GetHandleId(U47)),(715),((5.9+(TimerGetElapsed(P)))*1.))set t=nullendfunctionfunction MRF takes nothing returns nothingif VG8(GetEnumUnit())==false thencall MQF(GetEnumUnit())endifcall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A228',false)call ZO7(Z94,GetEnumUnit(),Y94,25+50*ZD4)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\CrushingWave\\CrushingWaveDamage.mdl",GetEnumUnit(),"chest"))endfunctionfunction MSF takes nothing returns nothinglocal group g=TL7()local unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A226')set I04=X97set ZD4=ZN7set Z94=X97call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),425,Condition(function Y47))call ForGroup(g,function MRF)call T67(g)set g=nullset X97=nullendfunctionfunction MTF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitTimeScale(X97,1)set t=nullset X97=nullreturn falseendfunctionfunction MUF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,0.3,false)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function MTF))call SaveUnitHandle(C7,(V_7),(2),(X97))call SetUnitTimeScale(X97,2)set t=nullset X97=nullendfunctionfunction MVF takes nothing returns booleanif GetSpellAbilityId()=='A226' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall MSF()elsecall MUF()endifendifreturn falseendfunctionfunction G88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function MVF))set t=nullendfunctionfunction MWF takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local integer ZN7=M_7(V_7,"Level")local real R09=ZN7*50local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A0YL')call SetUnitAbilityLevel(ZM7,'A0YL',ZN7)call IssueTargetOrder(ZM7,"slow",U47)if IsUnitType(U47,UNIT_TYPE_HERO)==true thenset R09=R09/2endifcall ZO7(X97,U47,YD4,R09)set X97=nullset U47=nullset ZM7=nullendfunctionfunction MXF takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=WX7(T_7,U47,'h010',"MWF",1200)local integer MYF=GetHandleId(t)call M87(MYF,"Level",GetUnitAbilityLevel(T_7,'A0YM'))set T_7=nullset U47=nullset t=nullendfunctionfunction MZF takes nothing returns booleanif GetSpellAbilityId()=='A0YM' and T37(GetSpellTargetUnit())==false thencall MXF()endifreturn falseendfunctionfunction FQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MZF))set t=nullendfunctionfunction MAF takes nothing returns nothinglocal location l=GetSpellTargetLoc()call V27("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",GetLocationX(l),GetLocationY(l),2)call TerrainDeformationRippleBJ(0.3,false,l,0,300,100,0.4,20)call RemoveLocation(l)set l=nullendfunctionfunction MBF takes nothing returns booleanif GetSpellAbilityId()=='A06W' thencall MAF()endifreturn falseendfunctionfunction EL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MBF))endfunctionfunction MCF takes itemtype M3F,integer M6F returns nothinglocal group gset bj_stockPickedItemType=M3Fset bj_stockPickedItemLevel=M6Fset g=CreateGroup()call GroupEnumUnitsOfType(g,"marketplace",bH)call ForGroup(g,function UpdateEachStockBuildingEnum)call DestroyGroup(g)set g=nullendfunctionfunction MLF takes nothing returns nothinglocal integer pickedItemIdlocal itemtype M1Flocal integer M0F=0local integer M5F=0local integer M6Fset M6F=1loopif(bj_stockAllowedPermanent[M6F])thenset M5F=M5F+1if(GetRandomInt(1,M5F)==1)thenset M1F=ITEM_TYPE_PERMANENTset M0F=M6Fendifendifif(bj_stockAllowedCharged[M6F])thenset M5F=M5F+1if(GetRandomInt(1,M5F)==1)thenset M1F=ITEM_TYPE_CHARGEDset M0F=M6Fendifendifif(bj_stockAllowedArtifact[M6F])thenset M5F=M5F+1if(GetRandomInt(1,M5F)==1)thenset M1F=ITEM_TYPE_ARTIFACTset M0F=M6Fendifendifset M6F=M6F+1exitwhen M6F>10endloopif(M5F==0)thenset M1F=nullreturnendifcall MCF(M1F,M0F)set M1F=nullendfunctionfunction M2F takes nothing returns nothingcall MLF()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INTERVAL,true,function MLF)endfunctionfunction M_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer JX7=M_7(V_7,"itemId")local real x=N47(V_7,"x")local real y=N47(V_7,"y")local player p=MB7(V_7,"p")local boolean N4F=N77(V_7,"consumable")local integer SK8=M_7(V_7,"charges")local item N7F=CreateItem(JX7,x,y)call SetItemPlayer(N7F,p,true)call SetItemUserData(N7F,0)if N4F thencall SetItemCharges(N7F,SK8)endifcall K_7(V_7)call NM7(t)set eY[512+GetPlayerId(p)]=3set G57[288+GetPlayerId(p)]=N7Fset t=nullset p=nullreturn falseendfunctionfunction N8F takes integer JX7,real x,real y,player p,boolean N4F,integer SK8 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call M87(V_7,"itemId",JX7)call M97(V_7,"x",x*1.0)call M97(V_7,"y",y*1.0)call MM7(V_7,"p",p)call ME7(V_7,"consumable",N4F)call M87(V_7,"charges",SK8)call TriggerAddCondition(t,Condition(function M_F))call TriggerRegisterTimerEvent(t,0,false)set eY[512+GetPlayerId(p)]=2set t=nullendfunctionfunction N9F takes player p,unit H57,integer VX8,item NDF returns itemlocal integer KT9local item G3Fset KT9=0loopexitwhen KT9>5set G3F=UnitItemInSlot(H57,KT9)if G3F!=null and G3F!=NDF and JU7(G3F)==VX8 and(GetItemPlayer(G3F)==p or VX8==XC or VX8==YC)thenset G3F=nullreturn UnitItemInSlot(H57,KT9)endifset KT9=KT9+1endloopset G3F=nullreturn nullendfunctionfunction NEF takes player p,unit H57,integer VX8 returns itemlocal integer KT9local item G3Fset KT9=0loopexitwhen KT9>5set G3F=UnitItemInSlot(H57,KT9)if(G3F!=null)and(JU7(G3F)==VX8)and(GetItemPlayer(G3F)==p or VX8==XC or VX8==YC)thenset G3F=nullreturn UnitItemInSlot(H57,KT9)endifset KT9=KT9+1endloopset G3F=nullreturn nullendfunctionfunction NFF takes unit S4 returns integerlocal integer i=0local integer n=0local integer ZA7=UnitInventorySize(S4)-1loopexitwhen i>ZA7if UnitItemInSlot(S4,i)==null thenset n=n+1endifset i=i+1endloopreturn nendfunctionfunction NGF takes item Z4 returns integerlocal integer n5local integer i=1if Z4==null thenreturn-2endifset n5=GetItemTypeId(Z4)loopexitwhen i>AUif QU[i]==n5 thenreturn OU[i]endifset i=i+1endloopreturn-1endfunctionfunction NHF takes item Z4 returns booleanreturn GetItemType(Z4)==ITEM_TYPE_POWERUP or GetItemType(Z4)==ITEM_TYPE_PURCHASABLE or GetItemType(Z4)==ITEM_TYPE_MISCELLANEOUSendfunctionfunction NIF takes unit p5 returns nothinglocal real xlocal real yif Q_7(GetOwningPlayer(p5))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifcall IssuePointOrder(p5,"move",x,y)endfunctionfunction NJF takes nothing returns nothinglocal item NJ8=GetEnumItem()if GetWidgetLife(NJ8)>0 and GetItemPlayer(NJ8)==wh and C4==0 thenset C4=C4+1call UnitAddItem(Wh,NJ8)endifset NJ8=nullendfunctionfunction NKF takes nothing returns nothinglocal item NJ8=GetEnumItem()if GetWidgetLife(NJ8)>0 and GetItemPlayer(NJ8)==wh thencall UnitAddItem(zh,NJ8)endifset NJ8=nullendfunctionfunction NMF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit B18=MZ7(NO7,"Courier")local player p=MB7(NO7,"p")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local rect r=Rect(x-300,y-300,x+300,y+300)if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall K_7(NO7)call NM7(t)set wh=pset Wh=p5set zh=B18call EnumItemsInRect(r,Condition(function Q37),function NKF)elseif GetTriggerEvalCount(t)>9 thencall K_7(NO7)call NM7(t)set wh=pset Wh=p5set zh=B18call EnumItemsInRect(r,Condition(function Q37),function NKF)elseset wh=pset Wh=p5set C4=0call EnumItemsInRect(r,Condition(function Q37),function NJF)endifendifcall RemoveRect(r)set t=nullset p5=nullset B18=nullset r=nullreturn falseendfunctionfunction NNF takes unit B18,unit p5 returns nothinglocal player p=GetOwningPlayer(p5)local integer ilocal item BV7local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real x=GetUnitX(B18)local real y=GetUnitY(B18)local integer VX8if IsTerrainPathable(x,y,PATHING_TYPE_WALKABILITY)thenset x=GetUnitX(p5)set y=GetUnitY(p5)endifcall TriggerRegisterDeathEvent(t,p5)call TriggerRegisterTimerEvent(t,0.01,true)call TriggerAddCondition(t,Condition(function NMF))call MF7(NO7,"Source",p5)call MF7(NO7,"Courier",B18)call MM7(NO7,"p",p)call M97(NO7,"x",x*1.0)call M97(NO7,"y",y*1.0)set i=0loopexitwhen i>5set BV7=UnitItemInSlot(B18,i)set VX8=JU7(BV7)if BV7!=null and GetItemPlayer(BV7)==p and LR8(BV7)==false and(VX8!=JA and VX8!=NA and VX8!=QA and VX8!=WA and VX8!=YA)thencall UnitRemoveItem(B18,BV7)call SetItemPosition(BV7,x,y)endifset i=i+1endloopset t=nullset BV7=nullendfunctionfunction NOF takes trigger t returns nothinglocal integer V_7=GetHandleId(t)local unit UZ8=MZ7(V_7,"Courier")local unit T_7=MZ7(V_7,"Source")local real xlocal real ylocal real NPFlocal real NQFlocal real NRFlocal real NSFlocal real NTFlocal real JRElocal real NUFlocal real NVF=GetUnitX(T_7)local real NWF=GetUnitY(T_7)if(JZ7(T_7)==false)thenset x=GetUnitX(T_7)set y=GetUnitY(T_7)set NSF=N47(V_7,"DeliveryTargetX")set NTF=N47(V_7,"DeliveryTargetY")call M97(V_7,"DeliveryTargetX",x*1.0)call M97(V_7,"DeliveryTargetY",y*1.0)set NRF=Atan2(y-NTF,x-NSF)set NPF=SquareRoot((x-NSF)*(x-NSF)+(y-NTF)*(y-NTF))/0.2set NQF=GetUnitMoveSpeed(UZ8)set JRE=J87(GetUnitX(T_7),GetUnitY(T_7),GetUnitX(UZ8),GetUnitY(UZ8))set NUF=RAbsBJ(NRF*bj_RADTODEG-GetUnitFacing(UZ8))if(JRE<NQF-NPF and NQF>NPF)or(JRE<RMaxBJ(NQF,NPF)and NUF>=90)thenelseset NVF=x+NPF*Cos(NRF)set NWF=y+NPF*Sin(NRF)endifendifcall M87(V_7,"OnDelivery",(1))call IssuePointOrder(UZ8,"move",NVF,NWF)set UZ8=nullset T_7=nullset t=nullendfunctionfunction NXF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit B18=MZ7(V_7,"Courier")local unit X97=MZ7(V_7,"Source")local real xlocal real ylocal integer ilocal player p=GetOwningPlayer(X97)local item BV7if GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()==X97 thencall NIF(B18)endifcall K_7(V_7)call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_TARGET_ORDER or GetTriggerEventId()==EVENT_UNIT_ISSUED_POINT_ORDER thenif(M_7(V_7,"OnDelivery"))==1 thencall M87(V_7,"OnDelivery",0)elseif GetIssuedOrderId()!=852100 and GetIssuedOrderId()!=852090 thencall NM7(t)endifelseif J77(B18,X97)<150 thencall K_7(V_7)call NM7(t)call NNF(B18,X97)call NIF(B18)elsecall NOF(t)endifendifset t=nullset B18=nullset X97=nullset BV7=nullreturn falseendfunctionfunction NYF takes unit T_7,boolean NZF returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit UZ8=GetSellingUnit()local integer NAF=M_7(GetHandleId(UZ8),"DeliveryIndex")if T_7!=null thenif T_7!=MZ7(GetHandleId(UZ8),"DeliveryTarget"+I2S(NAF))and NZF thenset NAF=NAF+1call M87(GetHandleId(UZ8),"DeliveryIndex",NAF)call MF7(GetHandleId(UZ8),"DeliveryTarget"+I2S(NAF),(T_7))endifcall M97(V_7,"DeliveryTargetX",(GetUnitX(T_7)*1.0))call M97(V_7,"DeliveryTargetY",(GetUnitY(T_7)*1.0))call IssueTargetOrder(UZ8,"move",T_7)call TriggerRegisterDeathEvent(t,UZ8)call TriggerRegisterDeathEvent(t,T_7)call TriggerRegisterUnitEvent(t,UZ8,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,UZ8,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,UZ8,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function NXF))call MF7(V_7,"Source",T_7)call MF7(V_7,"Courier",UZ8)endifset t=nullset UZ8=nullendfunctionfunction NBF takes nothing returns nothinglocal item BV7=GetEnumItem()local unit u=OT4local player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(BV7)>0 and GetItemPlayer(BV7)==p thencall SetItemPosition(BV7,K54[id],K24[id])call UnitAddItem(OU4,BV7)endifset BV7=nullset u=nullset p=nullendfunctionfunction NCF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit u=(LoadUnitHandle(C7,(V_7),(53)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))set OT4=uset OU4=X97if Q_7(GetOwningPlayer(u))thencall EnumItemsInRect(ED,Condition(function Q37),function NBF)elsecall EnumItemsInRect(FD,Condition(function Q37),function NBF)endifif GetTriggerEvalCount(t)==3 thencall KillUnit(u)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset u=nullset X97=nullreturn falseendfunctionfunction N3F takes unit CK9 returns nothinglocal unit u=GetSoldUnit()local integer i=0local item BV7local integer id=GetPlayerId(GetOwningPlayer(u))local region r=CreateRegion()local trigger tlocal integer V_7local unit X97=GetSellingUnit()if Q_7(GetOwningPlayer(u))thencall RegionAddRect(r,ED)elsecall RegionAddRect(r,FD)endifif IsUnitInRegion(r,X97)thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function NCF))call SaveUnitHandle(C7,(V_7),(53),(u))call SaveUnitHandle(C7,(V_7),(2),(X97))loopexitwhen i>5set BV7=UnitItemInSlot(X97,i)if TO7(JU7(BV7))==false and JU7(BV7)!=T5 and LR8(BV7)==false thencall UnitRemoveItemFromSlot(X97,i)if IsUnitInRegion(r,X97)and IsPlayerAlly(GetItemPlayer(BV7),GetOwningPlayer(X97))==true thenset id=GetPlayerId(GetItemPlayer(BV7))call SetItemPosition(BV7,K54[id],K24[id])endifendifset i=i+1endloopendifcall RemoveRegion(r)set u=nullset BV7=nullset t=nullset r=nullset X97=nullendfunctionfunction N6F takes nothing returns nothingif GetUnitTypeId(GetSoldUnit())=='h085' thenif G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null and UY7(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==false thencall NYF(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],true)endifcall KillUnit(GetSoldUnit())elseif GetUnitTypeId(GetSoldUnit())=='h0BV' thenif G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thencall N3F(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])endifcall KillUnit(GetSoldUnit())elseif GetUnitTypeId(GetSoldUnit())=='h0DE' thenif G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thencall NYF(MZ7(GetHandleId(GetSellingUnit()),("DeliveryTarget"+I2S(M_7(GetHandleId(GetSellingUnit()),"DeliveryIndex")-1))),false)endifcall KillUnit(GetSoldUnit())elseif Z07(GetUnitTypeId(GetSoldUnit()))thenif G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]!=null thenif UY7(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])==true and GetOwningPlayer(GetSoldUnit())==GetOwningPlayer(GetSellingUnit())and(NF7(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],"JustUseAegis")==false)thencall SH8(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))])set E27=truecall ReviveHero(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),true)set E27=falsecall SetUnitState(G7[GetPlayerId(GetOwningPlayer(GetSoldUnit()))],UNIT_STATE_MANA,10000)set UI4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]=IMaxBJ(0,UI4[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]-T9[Z27(GetHeroLevel(G7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])call AJ7(GetOwningPlayer(GetSoldUnit()))elsecall SetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD,GetPlayerState(GetOwningPlayer(GetSoldUnit()),PLAYER_STATE_RESOURCE_GOLD)+T9[Z27(GetHeroLevel(G7[GetPlayerId(GetOwningPlayer(GetSellingUnit()))]))])endifendifcall KillUnit(GetSoldUnit())endifendfunctionfunction NLF takes player p4,unit S4,integer N1F,integer N0F,integer Z69,integer ZL9,integer Z19,integer N5F,integer N2F returns nothinglocal item NJ8call DisableTrigger(R04)if N0F>0 thenset NJ8=UnitItemInSlot(S4,0)call JT7(NJ8)endifif Z69>0 thenset NJ8=UnitItemInSlot(S4,1)call JT7(NJ8)endifif ZL9>0 thenset NJ8=UnitItemInSlot(S4,2)call JT7(NJ8)endifif Z19>0 thenset NJ8=UnitItemInSlot(S4,3)call JT7(NJ8)endifif N5F>0 thenset NJ8=UnitItemInSlot(S4,4)call JT7(NJ8)endifif N2F>0 thenset NJ8=UnitItemInSlot(S4,5)call JT7(NJ8)endifset H87=N1Fset H77=p4set NJ8=UnitAddItemById(S4,OU[N1F])call SetItemPlayer(NJ8,p4,true)call SetItemUserData(NJ8,0)if IsPlayerInForce(p4,QP4)and(S4==MZ7(GetHandleId(p4),"aiBearDummy"))thenset HU7=MZ7(GetHandleId(p4),"MyBear")if HU7!=null and GetUnitState(HU7,UNIT_STATE_LIFE)>0 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",HU7,"origin"))endifelsecall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",S4,"origin"))endifif JU7(NJ8)==DZ4 thencall SetItemCharges(NJ8,6)endifcall EnableTrigger(R04)if IsPlayerAlly(GetLocalPlayer(),p4)==true thenif N1F==O0 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(p4)]+(M74[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName('n0LX')+"|r")elseif N1F==D84 thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(p4)]+(M74[GetPlayerId((p4))])+"|r |c00ffff00"+GetObjectName('n0LY')+"|r")endifendifset G57[288+GetPlayerId(p4)]=NJ8set NJ8=nullendfunctionfunction N_F takes player p,unit S4,integer VT8 returns booleanlocal integer ilocal integer xlocal integer ylocal integer array O4Flocal boolean array O7Flocal integer array O8Flocal boolean array O9Flocal boolean array ODFlocal integer array OEFlocal player OFFlocal integer OGF=1local integer klocal player array OHFlocal integer mlocal item OIFlocal item OJFlocal item OKFlocal item OMFlocal item ONFlocal item OOFlocal player OPFlocal player OQFlocal player ORFlocal player OSFlocal player OTFlocal player OUFlocal integer OVFlocal integer OWFlocal integer OXFlocal integer OYFlocal integer OZFlocal integer OAFlocal integer OBFlocal integer OCFlocal integer O3Flocal integer O6Flocal integer OLFlocal integer O1Flocal boolean O0F=falselocal boolean O5F=trueset OIF=UnitItemInSlot(S4,0)set OJF=UnitItemInSlot(S4,1)set OKF=UnitItemInSlot(S4,2)set OMF=UnitItemInSlot(S4,3)set ONF=UnitItemInSlot(S4,4)set OOF=UnitItemInSlot(S4,5)set OPF=GetItemPlayer(OIF)set OQF=GetItemPlayer(OJF)set ORF=GetItemPlayer(OKF)set OSF=GetItemPlayer(OMF)set OTF=GetItemPlayer(ONF)set OUF=GetItemPlayer(OOF)set OVF=GetItemUserData(OIF)set OWF=GetItemUserData(OJF)set OXF=GetItemUserData(OKF)set OYF=GetItemUserData(OMF)set OZF=GetItemUserData(ONF)set OAF=GetItemUserData(OOF)set OBF=JU7(OIF)set OCF=JU7(OJF)set O3F=JU7(OKF)set O6F=JU7(OMF)set OLF=JU7(ONF)set O1F=JU7(OOF)if(GetPlayerSlotState((p))==PLAYER_SLOT_STATE_LEFT)thenset OGF=5set O0F=trueendifset OHF[1]=pif O0F thenset k=2set m=1loopexitwhen k>OGFif Q_7(p)thenif p!=Y7[m]thenset OHF[k]=Y7[m]set k=k+1endifelseif p!=Z7[m]thenset OHF[k]=Z7[m]set k=k+1endifendifset m=m+1endloopendifset k=1loopexitwhen k>OGFset OFF=OHF[k]set i=0if OIF!=null and OVF==1 and(OPF==OFF or PF4 or(GetPlayerSlotState((OPF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=OBFelseset O4F[i+1]=0endifset i=1if OJF!=null and OWF==1 and(OQF==OFF or PF4 or(GetPlayerSlotState((OQF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=OCFelseset O4F[i+1]=0endifset i=2if OKF!=null and OXF==1 and(ORF==OFF or PF4 or(GetPlayerSlotState((ORF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=O3Felseset O4F[i+1]=0endifset i=3if OMF!=null and OYF==1 and(OSF==OFF or PF4 or(GetPlayerSlotState((OSF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=O6Felseset O4F[i+1]=0endifset i=4if ONF!=null and OZF==1 and(OTF==OFF or PF4 or(GetPlayerSlotState((OTF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=OLFelseset O4F[i+1]=0endifset i=5if OOF!=null and OAF==1 and(OUF==OFF or PF4 or(GetPlayerSlotState((OUF))==PLAYER_SLOT_STATE_LEFT)==true)thenset O4F[i+1]=O1Felseset O4F[i+1]=0endifset O4F[0]=VT8set i=1loopexitwhen i>(F14)set O8F[0]=FA4[i]set O8F[1]=FB4[i]set O8F[2]=FC4[i]set O8F[3]=F34[i]set O8F[4]=F64[i]if O5F thenset O9F[0]=trueset O9F[1]=trueset O9F[2]=trueset O9F[3]=trueset O9F[4]=trueset O9F[5]=trueset O9F[6]=trueset O7F[0]=trueset O7F[1]=trueset O7F[2]=trueset O7F[3]=trueset O7F[4]=trueset O7F[5]=trueset O7F[6]=trueset OEF[0]=0set OEF[1]=0set OEF[2]=0set OEF[3]=0set OEF[4]=0set OEF[5]=0set OEF[6]=0set O5F=falseendifset ODF[0]=falseset ODF[1]=falseset ODF[2]=falseset ODF[3]=falseset ODF[4]=falseset x=0loopexitwhen x==5if O8F[x]==0 thenset ODF[x]=trueelseset y=0loopexitwhen y==7if O4F[y]==O8F[x]and O7F[y]and O9F[x]thenset O7F[y]=falseset O9F[x]=falseset ODF[x]=trueset OEF[y]=1set y=7set O5F=trueelseset y=y+1endifendloopendifif ODF[x]==true thenset x=x+1elseset x=5endifendloopif ODF[0]and ODF[1]and ODF[2]and ODF[3]and ODF[4]thencall NLF(OFF,S4,FL4[i],OEF[1],OEF[2],OEF[3],OEF[4],OEF[5],OEF[6])set i=F14+2elseset i=i+1endifendloopset EL=OEF[0]==1if i==(F14+2)thenset OIF=nullset OJF=nullset OKF=nullset OMF=nullset ONF=nullset OOF=nullreturn trueendifset k=k+1endloopset OIF=nullset OJF=nullset OKF=nullset OMF=nullset ONF=nullset OOF=nullreturn falseendfunctionfunction O2F takes player p4,unit S4,integer VT8 returns booleanlocal boolean W38set EL=falseset W38=N_F(p4,S4,VT8)return W38endfunctionfunction O_F takes nothing returns booleanif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I04))==true and GetUnitAbilityLevel(GetFilterUnit(),'Aloc')==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!='ncop' and GetPlayerAlliance(GetOwningPlayer(GetFilterUnit()),GetOwningPlayer(I04),ALLIANCE_SHARED_CONTROL)and GetOwningPlayer(I04)!=GetOwningPlayer(GetFilterUnit())and IsUnitIllusion(GetFilterUnit())==false and UY7(GetFilterUnit())==false thenif JS7(GetFilterUnit())==true thenset IY4=IY4+1set I_4=GetFilterUnit()endifendifreturn falseendfunctionfunction P4F takes nothing returns booleanif IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I04))==true and GetUnitAbilityLevel(GetFilterUnit(),'Aloc')==0 and UnitInventorySize(GetFilterUnit())>1 and GetUnitTypeId(GetFilterUnit())!='ncop' and IsUnitIllusion(GetFilterUnit())==false and UY7(GetFilterUnit())==false thenif GetOwningPlayer(I04)==GetOwningPlayer(GetFilterUnit())thenif IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true thenif GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 thenset I_4=GetFilterUnit()endifelseif IsUnitType(I_4,UNIT_TYPE_HERO)==false thenset I_4=GetFilterUnit()endifendifendifreturn falseendfunctionfunction P7F takes unit S4,integer P8F returns unitlocal group g=TL7()set I04=S4set I_4=nullcall GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1300+P8F,Condition(function P4F))if I_4==null thenset IY4=0call T67(g)set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(eH),GetUnitY(eH),1100+P8F,Condition(function O_F))if IY4>1 thenset I_4=nullendifendifcall T67(g)set g=nullreturn I_4endfunctionfunction P9F takes player p4,unit S4,unit PDF,integer VT8,real x,real y,integer FCF,integer PEF returns nothinglocal unit PFFlocal item FTF=nullset eH=PDFif GetUnitPointValue(S4)==200 thenset PFF=P7F(S4,0)if PFF==null thenset PFF=P7F(S4,300)endifelseset PFF=S4endifset H87=VT8set H77=p4if PFF==null or O2F(p4,PFF,VS8(VT8))==false or EL==false thenif VZ8(VS8(VT8))thenif NFF(PFF)==0 or PFF==null thencall N8F(NU[VT8],x,y,p4,true,FCF)elseset FTF=UnitAddItemById(PFF,OU[VT8])call SetItemCharges(FTF,FCF)call SetItemPlayer(FTF,p4,true)call SetItemUserData(FTF,PEF)endifelseif VY8(VS8(VT8))thenif PFF==null or(NFF(PFF)==0 and KO7(PFF,OU[VT8])==null)thencall N8F(NU[VT8],x,y,p4,true,VA8(VT8))elseset FTF=CreateItem(NU[VT8],x,y)call SetItemPlayer(FTF,p4,true)call SetItemUserData(FTF,PEF)call SetItemCharges(FTF,VA8(VT8))call UnitAddItem(PFF,FTF)endifelseif NFF(PFF)==0 or PFF==null thencall N8F(NU[VT8],x,y,p4,false,0)elseset FTF=UnitAddItemById(PFF,OU[VT8])call SetItemPlayer(FTF,p4,true)call SetItemUserData(FTF,0)endifendifendifif FTF!=null thenset G57[288+GetPlayerId(p4)]=FTFendifset PFF=nullset FTF=nullendfunctionfunction PGF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit PHF=MZ7(NO7,"Tower")if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall UnitRemoveAbility(PHF,'A17R')call UnitRemoveAbility(PHF,'A24F')endifcall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)set t=nullset PHF=nullreturn falseendfunctionfunction PIF takes nothing returns booleanreturn IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0.5 and IsUnitAlly(GetFilterUnit(),Sh)==true and GetOwningPlayer(GetFilterUnit())!=B7 and GetUnitTypeId(GetFilterUnit())!='ncop' and GetUnitTypeId(GetFilterUnit())!='n0FJ' and GetUnitTypeId(GetFilterUnit())!='n0FI' and GetUnitTypeId(GetFilterUnit())!='n0F6' and GetUnitTypeId(GetFilterUnit())!='n0FH'endfunctionfunction PJF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit S4=GetEnumUnit()local string scall UnitAddAbility(S4,'A17R')call UnitAddAbility(S4,'A24F')if Q_7(Sh)thenset s="effects\\GlyphSent.mdx"elseset s="effects\\GlyphScourge.mdx"endifcall MG7(NO7,"FX",AddSpecialEffectTarget(s,S4,"origin"))call MF7(NO7,"Tower",S4)call TriggerRegisterUnitEvent(t,S4,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function PGF))set t=nullset S4=nullendfunctionfunction PKF takes unit PMF,player p returns nothinglocal integer iif Q_7(p)thenset i=1if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=2if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=3if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=4if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=5if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifelseset i=7if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=8if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=9if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=10if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifset i=11if PMF!=K04[i]thencall IssueImmediateOrder(K04[i],"coldarrows")endifendifendfunctionfunction PNF takes nothing returns nothinglocal group glocal unit PMF=GetTriggerUnit()local player p=GetOwningPlayer(PMF)if(Q_7(p)and Th==false)or(Q_7(p)==false and Uh==false)thenset g=TL7()set Sh=pcall GroupEnumUnitsInRange(g,0,0,12000,Condition(function PIF))call ForGroup(g,function PJF)call T67(g)if Q_7(p)thenset Th=truecall PKF(PMF,p)set Th=falsecall M97(QC4,"AI|Glyph|Sent",Bz+300.)elseset Uh=truecall PKF(PMF,p)set Uh=falsecall M97(QC4,"AI|Glyph|Scrg",Bz+300.)endifendifset g=nullset PMF=nullset p=nullendfunctionfunction POF takes nothing returns nothingif GetSpellAbilityId()=='A141' or GetSpellAbilityId()=='A1WI' thencall PNF()endifendfunctionfunction PPF takes player p,integer VT8 returns nothinglocal integer i=GetPlayerId(p)if VT8==PC thenset Zh[i]=Zh[i]+1elseif VT8==TC thenset Zh[i]=Zh[i]+1elseif VT8==VC thenset Zh[i]=Zh[i]+3elseif VT8==XC thenset Zh[i]=Zh[i]+2set HP4[i]=HP4[i]+2elseif VT8==YC thenset Zh[i]=Zh[i]+2set HP4[i]=HP4[i]+2elseif VT8==ZC thenset Zh[i]=Zh[i]+1elseif VT8==AC thenset Zh[i]=Zh[i]+1elseif VT8==H3 thenset Zh[i]=Zh[i]+2elseif VT8==QC thenset Zh[i]=Zh[i]+2elseif VT8==R3 thenset Zh[i]=Zh[i]+2endifendfunctionfunction PQF takes unit PRF,unit PSF returns booleanlocal integer VT8if(PRF==KD4 or PRF==K94)and IsUnitAlly(PSF,Z7[0])thenreturn falseelseif(PRF==JM4 or PRF==JI4)and IsUnitAlly(PSF,Y7[0])thenreturn falseendifset VT8=TS7(PSF)if VT8==XC or VT8==AV or VT8==U3 thenreturn trueendifreturn falseendfunctionfunction PTF takes unit PDF,unit PUF returns realif PDF==JI4 or PDF==JJ4 or PDF==JK4 or PDF==JM4 or PDF==JN4 or PDF==JO4 or PDF==JP4 or PDF==JQ4 or PDF==JR4 or PDF==JS4 thenreturn K54[GetPlayerId(GetOwningPlayer(PUF))]elseif PDF==K94 or PDF==zs or PDF==Zs or PDF==KD4 or PDF==eS or PDF==oS or PDF==rS or PDF==aS or PDF==nS or PDF==VS thenreturn K54[GetPlayerId(GetOwningPlayer(PUF))]elseif PDF==BV4 or PDF==BA4 thenreturn-7133.0elseif PDF==BW4 or PDF==BZ4 thenreturn 7207.0endifreturn GetUnitX(PUF)endfunctionfunction PVF takes unit PDF,unit PUF returns realif PDF==JI4 or PDF==JJ4 or PDF==JK4 or PDF==JM4 or PDF==JN4 or PDF==JO4 or PDF==JP4 or PDF==JQ4 or PDF==JR4 or PDF==JS4 thenreturn K24[GetPlayerId(GetOwningPlayer(PUF))]elseif PDF==K94 or PDF==zs or PDF==Zs or PDF==KD4 or PDF==eS or PDF==oS or PDF==rS or PDF==aS or PDF==nS or PDF==VS thenreturn K24[GetPlayerId(GetOwningPlayer(PUF))]elseif PDF==BV4 or PDF==BA4 thenreturn 4317.0elseif PDF==BW4 or PDF==BZ4 thenreturn-4243.0endifreturn GetUnitY(PUF)endfunctionfunction PWF takes unit PDF,unit PUF returns realif PDF==JI4 or PDF==JJ4 or PDF==JK4 or PDF==JM4 or PDF==JN4 or PDF==JO4 or PDF==JP4 or PDF==JQ4 or PDF==JR4 or PDF==JS4 thenreturn GetRectCenterX(Z9)elseif PDF==K94 or PDF==zs or PDF==Zs or PDF==KD4 or PDF==eS or PDF==oS or PDF==rS or PDF==aS or PDF==nS or PDF==VS thenreturn GetRectCenterX(Y9)endifreturn GetUnitX(PUF)endfunctionfunction PXF takes unit PDF,unit PUF returns realif PDF==JI4 or PDF==JJ4 or PDF==JK4 or PDF==JM4 or PDF==JN4 or PDF==JO4 or PDF==JP4 or PDF==JQ4 or PDF==JR4 or PDF==JS4 thenreturn GetRectCenterY(Z9)elseif PDF==K94 or PDF==zs or PDF==Zs or PDF==KD4 or PDF==eS or PDF==oS or PDF==rS or PDF==aS or PDF==nS or PDF==VS thenreturn GetRectCenterY(Y9)endifreturn GetUnitY(PUF)endfunctionfunction PYF takes nothing returns nothinglocal unit u=GetSoldUnit()local player p=GetOwningPlayer(u)local integer VT8=TS7(u)local real xlocal real yif PQF(GetSellingUnit(),u)thencall VH7(p,(GetObjectName(('n02G'))))if IsUnitAlly(u,Y7[0])thenset p=Z7[0]elseset p=Y7[0]endifset x=PWF(GetSellingUnit(),u)set y=PXF(GetSellingUnit(),u)call N8F(NU[TS7(u)],x,y,p,true,VA8(TS7(u)))elsecall PPF(p,VS8(VT8))if OU[VT8]==0 thencall VH7(p,GetObjectName(WR4))elseset x=PTF(GetSellingUnit(),u)set y=PVF(GetSellingUnit(),u)if VT8==H3 thencall P9F(p,u,GetSellingUnit(),VS8(VT8),x,y,2,0)elsecall P9F(p,u,GetSellingUnit(),VS8(VT8),x,y,0,0)endifendifendifcall UnitAddAbility(u,'Aloc')call ShowUnit(u,true)call UnitApplyTimedLife(u,'BTLF',2)set u=nullset p=nullendfunctionfunction PZF takes nothing returns booleanif UJ4==false thenif GetUnitPointValue(GetSoldUnit())>=200 thencall PYF()if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(GetSoldUnit()))or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thenif GetUnitTypeId(GetSoldUnit())=='h02F' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0HU')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h03Q' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,20,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KG')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h076' thencall DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KO')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h02C' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KP')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h02D' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KQ')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h0BA' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0KT')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h01G' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0LB')+"|r")elseif GetUnitTypeId(GetSoldUnit())=='h0D3' thencall PingMinimapEx(GetUnitX(GetSoldUnit()),GetUnitY(GetSoldUnit()),3,255,255,255,false)call DisplayTimedTextToPlayer(GetLocalPlayer(),0,0,4,K[GetPlayerId(GetOwningPlayer(GetSoldUnit()))]+(M74[GetPlayerId((GetOwningPlayer(GetSoldUnit())))])+"|r |c00ffff00"+GetObjectName('n0LP')+"|r")endifendifelsecall N6F()endifelseendifreturn falseendfunctionfunction PAF takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id=='Eevi' or id=='Eevm' or id=='E02V' or id=='E02W' or id=='E02U'endfunctionfunction PBF takes unit T_7,item BV7 returns nothinglocal unit u=T_7local integer Z57=GetUnitTypeId(u)local integer VX8=JV7(BV7)if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==true or IsUnitType(u,UNIT_TYPE_HERO)==false thenif VX8==DO4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[DN4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==GB thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[BA])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DZ thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[ZY])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==ED4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[E94])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DT4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[DS4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==FR4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[FQ4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==A5 thenif PAF(u)==false thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[W5])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifelseif VX8==W5 thenif PAF(u)==true thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[A5])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifelseif VX8==VB thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[QB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifelseif VX8==DN4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[DO4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==BA thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[GB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==ZY thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[DZ])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==E94 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[ED4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DS4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[DT4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==FQ4 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[FR4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==W5 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[A5])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==QB thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[VB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifendifset u=nullendfunctionfunction PCF takes unit T_7,item BV7 returns nothinglocal unit u=T_7local integer Z57=GetUnitTypeId(u)local integer VX8=JV7(BV7)if IsUnitType(u,UNIT_TYPE_MELEE_ATTACKER)==false or IsUnitType(u,UNIT_TYPE_HERO)==false thenif VX8==DO4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[DN4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==GB thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[BA])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DZ thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[ZY])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==ED4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[E94])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DT4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[DS4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==FR4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[FQ4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==A5 thenif PAF(u)==false thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[W5])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifelseif VX8==VB thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[QB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifelseif VX8==DN4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[DO4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==BA thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[GB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==ZY thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[DZ])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==E94 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[ED4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==DS4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[DT4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==FQ4 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[FR4])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==W5 thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[A5])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VX8==QB thenset J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=UnitAddItemById(u,OU[VB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifendifset u=nullendfunctionfunction P3F takes unit T_7 returns nothinglocal integer i=0local item BV7call DisableTrigger(HR4)loopexitwhen i>5set BV7=UnitItemInSlot(T_7,i)if BV7!=null thencall PCF(T_7,BV7)endifset i=i+1endloopcall EnableTrigger(HR4)set BV7=nullendfunctionfunction P6F takes nothing returns booleanif GetSpellAbilityId()=='A1RI' or GetSpellAbilityId()=='A0BE' thenif UY7(GetTriggerUnit())==false thencall P3F(GetTriggerUnit())endifendifreturn falseendfunctionfunction RestrictedItems_UpdateMeleeRange_All2 takes nothing returns nothingcall P3F(I04)endfunctionfunction PLF takes unit T_7,item BV7 returns booleanlocal unit u=T_7local integer z8=GetUnitTypeId(u)local integer VX8=JU7(BV7)local real xlocal real ylocal boolean P1F=trueset x=GetUnitX(u)set y=GetUnitY(u)set H77=GetItemPlayer(BV7)if VX8==XZ thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))call VG7(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[IA])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif VX8==Q1 and GetItemCharges(BV7)==0 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[T1])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif VX8==WB and GetItemCharges(BV7)==0 thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[YB])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifcall DisableTrigger(HR4)if(VX8==W6 or VX8==V6 or VX8==A6)and(KN7(u,OU[W6],BV7)!=null or KN7(u,OU[V6],BV7)!=null or KN7(u,OU[A6],BV7)!=null)thencall VH7(GetOwningPlayer(u),(GetObjectName(('n02L'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif(VX8==BA)and(KN7(u,OU[BA],BV7)!=null or KN7(u,OU[GB],BV7)!=null)thencall VH7(GetOwningPlayer(u),(GetObjectName(('n0HL'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set P1F=falseendifif P1F and(VX8==GB)and(KN7(u,OU[BA],BV7)!=null or KN7(u,OU[GB],BV7)!=null)thencall VH7(GetOwningPlayer(u),(GetObjectName(('n0HL'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set P1F=falseendifif(VX8==DC4 or VX8==DB4 or VX8==D64 or VX8==D34)and(KN7(u,OU[DC4],BV7)!=null or KN7(u,OU[DB4],BV7)!=null or KN7(u,OU[D64],BV7)!=null or KN7(u,OU[D34],BV7)!=null)thencall VH7(GetOwningPlayer(u),(GetObjectName(('n02C'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif(VX8==D84 and IsPlayerEnemy(GetItemPlayer(BV7),GetOwningPlayer(u)))thenset J74=GetItemPlayer(BV7)call JT7(BV7)set IF4=UnitAddItemById(u,OU[D94])call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif(VX8==T5)and(JR7(u)or YG7(u))thenif JR7(u)thencall VH7(GetOwningPlayer(u),(GetObjectName(('n02K'))))endifset J74=GetItemPlayer(BV7)set IY4=GetItemCharges(BV7)call RemoveItem(BV7)if VX8==T5 thenset IF4=CreateItem(NU[VX8],GetRectCenterX(Qr),GetRectCenterY(Qr))endifcall SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)if VX8==T5 thencall SetItemCharges(IF4,IY4)endifendifif VX8==HW and(z8=='Hvwd' or z8=='U00F')thencall VH7(GetOwningPlayer(u),(GetObjectName(('n02J'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif P1F and(VX8==BA or VX8==GB)and(z8=='H06S')thencall VH7(GetOwningPlayer(u),(GetObjectName(('n02J'))))set J74=GetItemPlayer(BV7)call RemoveItem(BV7)set IF4=CreateItem(NU[VX8],x,y)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set P1F=falseendifif(VX8==G5 or VX8==J5 or VX8==M5 or VX8==N5 or VX8==R5 or VX8==S5)and z8=='U00C' thencall DisplayTimedTextToPlayer(GetOwningPlayer(u),0,L8,10,"|c00ff0303"+(GetObjectName(('n02P')))+"|r")endifcall EnableTrigger(HR4)if P1F thencall PBF(T_7,BV7)endifset u=nullset BV7=nullreturn falseendfunctionfunction P0F takes integer VX8 returns booleanreturn VX8==X1 or VX8==D34 or VX8==D64 or VX8==D54 or VX8==V1 or VX8==DB4 or VX8==DC4 or VX8==DL4 or VX8==AV or VX8==BV or VX8==DL or VX8==HLendfunctionfunction P5F takes integer VX8 returns booleanreturn VX8==AV or VX8==BVendfunctionfunction P2F takes unit TX7,item NJ8 returns booleanlocal item JW7=NJ8local integer VX8=JV7(JW7)local integer P_F=0local boolean W38=falselocal integer Q4F=JY7(JW7)local boolean Q7F=falseif IsUnitType(TX7,UNIT_TYPE_HERO)==true thenif VX8==X1 thenset P_F=V1endifif VX8==HL thenset P_F=DLendifif VX8==D34 thenset P_F=DB4endifif VX8==D64 thenset P_F=DC4endifif VX8==D54 thenset P_F=DL4endifif VX8==BV thenset P_F=AVendifif Q4F==BV thenset P_F=AVset Q7F=trueendifif P_F!=0 thenset J74=GetItemPlayer(JW7)call JT7(JW7)if Q7F thenset IF4=UnitAddItemById(TX7,QU[P_F])elseset IF4=UnitAddItemById(TX7,OU[P_F])endifcall SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set W38=trueendifelseif VX8==V1 thenset P_F=X1endifif VX8==DL thenset P_F=HLendifif VX8==DB4 thenset P_F=D34endifif VX8==DC4 thenset P_F=D64endifif VX8==DL4 thenset P_F=D54endifif VX8==AV thenset P_F=BVendifif Q4F==AV thenset P_F=BVset Q7F=trueendifif P_F!=0 thenset J74=GetItemPlayer(JW7)call JT7(JW7)if Q7F thenset IF4=UnitAddItemById(TX7,QU[P_F])elseset IF4=UnitAddItemById(TX7,OU[P_F])endifcall SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set W38=trueendifendifset JW7=nullreturn W38endfunctionfunction Q8F takes unit TX7,item NJ8 returns booleanif P0F(JV7(NJ8))or P5F(JY7(NJ8))thenreturn P2F(TX7,NJ8)endifreturn falseendfunctionfunction Q9F takes unit QDF,integer QEF returns integerlocal integer iif QEF==1 thenif GetUnitAbilityLevel(QDF,'A500')>0 thenreturn 500endifset i=MG4loopexitwhen i>MJ4if GetUnitAbilityLevel(QDF,HA4[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif QEF==2 thenif GetUnitAbilityLevel(QDF,'A501')>0 thenreturn 500endifset i=MG4loopexitwhen i>MJ4if GetUnitAbilityLevel(QDF,HB4[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif QEF==3 thenif GetUnitAbilityLevel(QDF,'A502')>0 thenreturn 500endifset i=MG4loopexitwhen i>MJ4if GetUnitAbilityLevel(QDF,HC4[i])>0 thenreturn iendifset i=i+1endloopreturn 0elseif QEF==4 thenif GetUnitAbilityLevel(QDF,'A503')>0 thenreturn 500endifset i=MG4loopexitwhen i>MJ4if GetUnitAbilityLevel(QDF,H34[i])>0 or GetUnitAbilityLevel(QDF,H64[i])>0 thenreturn iendifset i=i+1endloopreturn 0endifreturn 0endfunctionfunction QFF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit PFF=MZ7(NO7,"Unit")local integer QGF=M_7(NO7,"EventType")local integer VT8=M_7(NO7,"indexId")local boolean QHF=N77(NO7,"Temporary")local item NJ8local player p=GetOwningPlayer(PFF)local player QIFlocal integer FCFlocal boolean QJF=falselocal item FTFlocal integer n5local integer QKFlocal integer newChargeslocal item Z4local integer targetCountlocal item QMFlocal boolean QNF=falselocal integer WI7call DisableTrigger(R04)if QHF thenset QMF=nullset QIF=MB7(NO7,"p")set FCF=M_7(NO7,"charges")elseset NJ8=M57(NO7,"Item")set QMF=NJ8set QIF=GetItemPlayer(NJ8)set FCF=GetItemCharges(NJ8)endifset H87=VT8set H77=QIFset eY[512+GetPlayerId(H77)]=1if QHF thenset G57[288+GetPlayerId(QIF)]=nullelseset G57[288+GetPlayerId(QIF)]=NJ8endifif QHF==false and NJ8==null thencall FlushChildHashtable(C7,(NO7))call NM7(t)call EnableTrigger(R04)set t=nullset PFF=nullset p=nullreturn falseendifif QGF==1 thenif p!=QIF and GetUnitTypeId(PFF)=='ncop' thenif VY8(VS8(VT8))or VZ8(VS8(VT8))thenset QJF=trueendifif IsPlayerEnemy(p,QIF)thencall N8F(NU[VT8],K54[GetPlayerId(p)],K24[GetPlayerId(p)],QIF,QJF,FCF)elsecall N8F(NU[VT8],K54[GetPlayerId(QIF)],K24[GetPlayerId(QIF)],QIF,QJF,FCF)endifcall VH7(p,(GetObjectName(('n0DR'))))if QHF==false thenset QNF=truecall JT7(NJ8)endifelseif PF4==false and QHF==false and GetItemType(NJ8)==ITEM_TYPE_CAMPAIGN and NGF(NJ8)!=0 and(p==QIF or(GetPlayerSlotState((QIF))==PLAYER_SLOT_STATE_LEFT))thenif VZ8(VT8)thenset QJF=trueelseset QJF=falseendifif(GetPlayerSlotState((QIF))==PLAYER_SLOT_STATE_LEFT)and TO7(VT8)thenelsecall JT7(NJ8)set QNF=trueset FTF=UnitAddItemById(PFF,OU[VT8])set QMF=FTFcall SetItemPlayer(FTF,QIF,false)call SetItemUserData(FTF,0)if QJF thencall SetItemCharges(FTF,FCF)endifendifelseif PF4==false and QHF==false and GetItemType(NJ8)==ITEM_TYPE_PERMANENT and p!=QIF and QU[JU7(NJ8)]!=0 and(GetPlayerSlotState((QIF))==PLAYER_SLOT_STATE_LEFT)==false thenif VZ8(VT8)thenset QJF=trueelseset QJF=falseendifcall JT7(NJ8)set QNF=trueset FTF=UnitAddItemById(PFF,QU[VT8])set QMF=FTFcall SetItemPlayer(FTF,QIF,false)call SetItemUserData(FTF,0)if QJF thencall SetItemCharges(FTF,FCF)endifelseif QHF==false and GetItemType(NJ8)==ITEM_TYPE_PERMANENT and VW8(NJ8)and IsUnitType(PFF,UNIT_TYPE_HERO)==true thenset n5=LP8(PFF)set QKF=LQ8(PFF)if QKF!=0 thencall UnitAddAbility(PFF,QKF)call UnitMakeAbilityPermanent(PFF,true,QKF)call SetPlayerAbilityAvailable(p,QKF,false)if GetUnitTypeId(PFF)=='H00U' thenset I04=PFFcall ExecuteFunc("KKF")elseif GetUnitTypeId(PFF)=='Hmkg' thenset I04=PFFcall ExecuteFunc("B49")endifendifset WI7=Q9F(PFF,4)if n5==H94 and H64[WI7]!=0 thencall UnitRemoveAbility(PFF,H54[WI7])call UnitAddAbility(PFF,H24[WI7])call SetPlayerAbilityAvailable(p,H24[WI7],false)endifif VT8!=n5 thencall JT7(NJ8)set FTF=UnitAddItemById(PFF,OU[n5])set QMF=FTFcall SetItemPlayer(FTF,QIF,false)call SetItemUserData(FTF,1)endifelseif QHF==false and GetItemType(NJ8)==ITEM_TYPE_ARTIFACT thencall DisableTrigger(HR4)set Z4=N9F(QIF,PFF,VT8,NJ8)if Z4==null thenelsecall SetItemCharges(Z4,FCF+GetItemCharges(Z4))call JT7(NJ8)set QMF=nullendifcall EnableTrigger(HR4)elseif QHF and VY8(VS8(VT8))thencall DisableTrigger(HR4)if NFF(PFF)==0 and NEF(QIF,PFF,VT8)==null thencall VH7(p,(GetObjectName(('n02O'))))call N8F(NU[(VT8)],((N47(NO7,"x"))*1.0),((N47(NO7,"y"))*1.0),(QIF),(true),(FCF))elseset Z4=NEF(QIF,PFF,VT8)if Z4==null thencall DisableTrigger(HR4)set FTF=UnitAddItemById(PFF,OU[VT8])set QMF=FTFcall SetItemPlayer(FTF,QIF,false)call SetItemUserData(FTF,1)call SetItemCharges(FTF,FCF)elsecall SetItemCharges(Z4,FCF+GetItemCharges(Z4))set G57[288+GetPlayerId(QIF)]=Z4endifendifcall EnableTrigger(HR4)elseif QHF==true thencall P9F(QIF,PFF,null,VT8,N47(NO7,"x"),N47(NO7,"y"),FCF,1)elseif QHF==false and(GetItemType(NJ8)==ITEM_TYPE_PERMANENT or GetItemType(NJ8)==ITEM_TYPE_CAMPAIGN)thencall SetItemUserData(NJ8,1)set QNF=O2F(QIF,PFF,0)endifif QNF==false and QMF!=null and NHF(QMF)==false thenset QNF=Q8F(PFF,QMF)endifif QNF==false and QMF!=null and NHF(QMF)==false thencall PLF(PFF,QMF)endifelseif GetWidgetLife(NJ8)>0 thenset n5=LP8(PFF)set QKF=LQ8(PFF)if KO7(PFF,OU[n5])==null and GetUnitAbilityLevel(PFF,QKF)>0 thencall UnitRemoveAbility(PFF,QKF)if GetUnitTypeId(PFF)=='Hmkg' thenset I04=PFFcall ExecuteFunc("B79")endifendifset WI7=Q9F(PFF,4)if n5==H94 and H64[WI7]!=0 thencall UnitRemoveAbility(PFF,H24[WI7])call UnitAddAbility(PFF,H54[WI7])call SetPlayerAbilityAvailable(p,H54[WI7],false)endifif IsItemOwned(NJ8)==false thenif GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(VT8)thenset QJF=trueendifcall N8F(NU[VT8],GetItemX(NJ8),GetItemY(NJ8),QIF,QJF,FCF)call JT7(NJ8)endifendifendifcall K_7(NO7)call NM7(t)call EnableTrigger(R04)if QMF!=null thenset G57[288+GetPlayerId(QIF)]=QMFendifset t=nullset NJ8=nullset PFF=nullset p=nullset QIF=nullset FTF=nullset Z4=nullset QMF=nullreturn falseendfunctionfunction QOF takes nothing returns booleanlocal item NJ8local integer QGFlocal unit PFF=GetTriggerUnit()local trigger tlocal integer NO7local integer n5local integer QKFlocal integer idset id=GetPlayerId(GetOwningPlayer(PFF))if(IsUnitType(PFF,UNIT_TYPE_HERO)==true or YG7(PFF))and IsUnitIllusion(PFF)==false thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenif GetItemTypeId(GetManipulatedItem())==OU[RZ]thenset HT4=HT4+1set Q54[id]=Q54[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[HW]thenset HU4=HU4+1set Q24[id]=Q24[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[DZ4]thenset HV4=HV4+1set Q_4[id]=Q_4[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[E1]or GetItemTypeId(GetManipulatedItem())==OU[B3]thenset HW4=HW4+1set R44[id]=R44[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[D44]thenset HS4=HS4+1set R74[id]=R74[id]+1call UnitAddItemById(PFF,'I0HM')elseif GetItemTypeId(GetManipulatedItem())==OU[DJ4]thenset HX4=HX4+1set R84[id]=R84[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[R0]thenset BB4=BB4+1set R94[id]=R94[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[D1]thenset BC4=BC4+1set RD4[id]=RD4[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[Z3]thenset GY7=GY7+1set GA7[id]=GA7[id]+1elseif GetItemTypeId(GetManipulatedItem())==OU[EC]thenset GZ7=GZ7+1set G37[id]=G37[id]+1endifelseif GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenif GetItemTypeId(GetManipulatedItem())==OU[RZ]thenset Q54[id]=Q54[id]-1set HT4=HT4-1elseif GetItemTypeId(GetManipulatedItem())==OU[HW]thenset Q24[id]=Q24[id]-1set HU4=HU4-1elseif GetItemTypeId(GetManipulatedItem())==OU[EC]thenset G37[id]=G37[id]-1set GZ7=GZ7-1elseif GetItemTypeId(GetManipulatedItem())==OU[DZ4]thenset Q_4[id]=Q_4[id]-1set HV4=HV4-1elseif GetItemTypeId(GetManipulatedItem())==OU[E1]or GetItemTypeId(GetManipulatedItem())==OU[B3]thenset HW4=HW4-1set R44[id]=R44[id]-1if R44[id]<1 or KN7(PFF,OU[E1],GetManipulatedItem())==null or KN7(PFF,OU[B3],GetManipulatedItem())==null thencall UnitRemoveAbility(PFF,'A174')endifelseif GetItemTypeId(GetManipulatedItem())==OU[D44]thenset HS4=IMaxBJ(HS4-1,0)set R74[id]=IMaxBJ(R74[id]-1,0)call UnitRemoveAbility(PFF,'B0BI')elseif GetItemTypeId(GetManipulatedItem())==OU[DJ4]thenset R84[id]=R84[id]-1set HX4=HX4-1endifendifendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM thenset NJ8=GetSoldItem()call SetItemUserData(NJ8,-2)set n5=LP8(PFF)set QKF=LQ8(PFF)if KN7(PFF,OU[n5],NJ8)==null and GetUnitAbilityLevel(PFF,QKF)>0 thencall UnitRemoveAbility(PFF,QKF)if GetUnitTypeId(PFF)=='Hmkg' thenset I04=PFFcall ExecuteFunc("B79")endifendifelseif GetItemTypeId(GetManipulatedItem())!='I00E' and GetItemTypeId(GetManipulatedItem())!='I02M' thenset NJ8=GetManipulatedItem()if IsUnitIllusion(PFF)or GetItemUserData(NJ8)==-2 thenset NJ8=nullset PFF=nullset t=nullreturn falseendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenset QGF=1elseset QGF=2endifif(QGF==1 or(QGF==2 and NHF(NJ8)==false and GetWidgetLife(NJ8)>0))and GetUnitTypeId(PFF)!='H00J' thenset H87=JU7(NJ8)if(GetItemPlayer(NJ8)!=Player(15))thenset H77=GetItemPlayer(NJ8)endifset G57[288+GetPlayerId(H77)]=nullset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function QFF))call MF7(NO7,"Unit",PFF)call M87(NO7,"EventType",QGF)call M87(NO7,"indexId",H87)if NHF(NJ8)thencall ME7(NO7,"Temporary",true)call MM7(NO7,"p",H77)call M87(NO7,"charges",GetItemCharges(NJ8))call M97(NO7,"x",(GetItemX(NJ8))*1.0)call M97(NO7,"y",(GetItemY(NJ8))*1.0)elsecall ME7(NO7,"Temporary",false)call MN7(NO7,"Item",NJ8)call SetItemUserData(NJ8,0)endifelseendifendifset NJ8=nullset PFF=nullset t=nullreturn falseendfunctionfunction QPF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if GetUnitAbilityLevel(TX7,'B01S')==0 thencall UnitRemoveAbility(TX7,'B01S')call UnitRemoveAbility(TX7,'B04A')call K_7(NO7)call NM7(t)elseif GetUnitState(TX7,UNIT_STATE_LIFE)==GetUnitState(TX7,UNIT_STATE_MAX_LIFE)and GetUnitState(TX7,UNIT_STATE_MANA)==GetUnitState(TX7,UNIT_STATE_MAX_MANA)thencall UnitRemoveAbility(TX7,'B01S')call UnitRemoveAbility(TX7,'B04A')call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction QQF takes unit TX7,item NJ8 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function QPF))call MF7(NO7,"Hero",TX7)set t=nullendfunctionfunction QRF takes unit TX7,item NJ8 returns nothinglocal unit u=TX7local real x=GetUnitX(u)local real y=GetUnitY(u)local unit ZM7=CreateUnit(GetOwningPlayer(u),'e00E',x,y,0)local unit QSF=CreateUnit(GetOwningPlayer(u),'e00E',x,y,0)call UnitAddAbility(ZM7,'A0GR')call UnitAddAbility(QSF,'A0GR')call IssueTargetOrderById(ZM7,852274,u)call IssueTargetOrderById(QSF,852274,u)set u=nullset ZM7=nullset QSF=nullendfunctionfunction QTF takes unit TX7,item NJ8 returns nothingif GetItemTypeId(NJ8)=='I007' or GetItemTypeId(NJ8)=='I006' or GetItemTypeId(NJ8)=='I008' or GetItemTypeId(NJ8)=='I00K' or GetItemTypeId(NJ8)=='I00J' thencall CL8(TX7,GetItemTypeId(NJ8),false)endifif GetItemTypeId(NJ8)=='I007' thencall QRF(TX7,NJ8)elseif GetItemTypeId(NJ8)=='I00J' thenif GetUnitAbilityLevel(TX7,'B09Y')>0 thencall UnitRemoveAbility(TX7,'B09Y')call UnitRemoveAbility(TX7,'B01Q')call DisableTrigger(GetTriggeringTrigger())call UnitAddItemById(TX7,'I00J')call EnableTrigger(GetTriggeringTrigger())endifelseif GetItemTypeId(NJ8)=='I008' thencall QQF(TX7,NJ8)endifendfunctionfunction QUF takes unit T_7,item BV7 returns nothinglocal integer UX7local integer ZN7call UnitRemoveAbility(T_7,'A27S')call UnitRemoveAbility(T_7,'A27Q')call UnitRemoveAbility(T_7,'A27R')call UnitRemoveAbility(T_7,'A27T')if GetUnitAbilityLevel(T_7,'A28F')>0 thencall UnitRemoveAbility(T_7,'A28F')call UnitAddAbility(T_7,'A28F')endifif GetUnitTypeId(T_7)=='Edem' thenset UX7='A0KY'elseif GetUnitTypeId(T_7)=='U00F' thenset UX7='A06D'elseif GetUnitTypeId(T_7)=='EC77' thenset UX7='A0MM'elseif GetUnitTypeId(T_7)=='Ogrh' thenset UX7='A0YK'elseset T_7=nullreturnendifset ZN7=GetUnitAbilityLevel(T_7,UX7)if ZN7>0 thencall UnitRemoveAbility(T_7,UX7)call UnitAddAbility(T_7,UX7)call SetUnitAbilityLevel(T_7,UX7,ZN7)endifendfunctionfunction QVF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"Unit")local integer QWF=M_7(NO7,"itemslot")local item NJ8=UnitItemInSlot(u,QWF)if NJ8!=null and TO7(JU7(NJ8))==false and GetWidgetLife(NJ8)>0 and LR8(NJ8)==false thencall SetItemDroppable(NJ8,true)endifcall K_7(NO7)call NM7(t)set t=nullset NJ8=nullreturn falseendfunctionfunction QXF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"Unit")local integer QWF=M_7(NO7,"itemslot")local item NJ8=UnitItemInSlot(u,QWF)call K_7(NO7)call NM7(t)if(u!=null and GetUnitTypeId(u)>1 and IsUnitType(u,UNIT_TYPE_DEAD)==false)and(NJ8!=null and GetWidgetLife(NJ8)>0)thenset t=CreateTrigger()set NO7=GetHandleId(t)call SetItemDroppable(NJ8,false)call M87(NO7,"itemslot",QWF)call MF7(NO7,"Unit",u)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function QVF))endifset NJ8=nullset u=nullset t=nullreturn falseendfunctionfunction QYF takes nothing returns nothinglocal integer QWFlocal unit u=GetTriggerUnit()local trigger tlocal integer NO7local item NJ8if GetIssuedOrderId()==852008 thenset QWF=0elseif GetIssuedOrderId()==852009 thenset QWF=1elseif GetIssuedOrderId()==852010 thenset QWF=2elseif GetIssuedOrderId()==852011 thenset QWF=3elseif GetIssuedOrderId()==852012 thenset QWF=4elseif GetIssuedOrderId()==852013 thenset QWF=5endifset NJ8=UnitItemInSlot(u,QWF)if NJ8!=null and GetWidgetLife(NJ8)>0 thenset t=CreateTrigger()set NO7=GetHandleId(t)call M87(NO7,"itemslot",QWF)call MF7(NO7,"Unit",u)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function QXF))endifset NJ8=nullset u=nullset t=nullendfunctionfunction QZF takes nothing returns booleanif GetIssuedOrderId()==852008 or GetIssuedOrderId()==852009 or GetIssuedOrderId()==852010 or GetIssuedOrderId()==852011 or GetIssuedOrderId()==852012 or GetIssuedOrderId()==852013 thencall QYF()endifreturn falseendfunctionfunction QAF takes integer VT8 returns booleanreturn VT8!=D84 and VT8!=DZ4 and VT8!=AV and VT8!=T5endfunctionfunction QBF takes nothing returns nothingif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thencall SetItemPawnable(GetManipulatedItem(),false)elsecall SetItemPawnable(GetManipulatedItem(),true)endifendfunctionfunction QCF takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and QAF(JV7(GetManipulatedItem()))and JS7(GetTriggerUnit())thencall QBF()endifreturn falseendfunctionfunction Q3F takes nothing returns booleanlocal unit TX7=GetTriggerUnit()local integer SR7=1if KN7(TX7,OU[BU],GetManipulatedItem())!=null or KO7(TX7,OU[FC])!=null thenset SR7=2endifif KN7(TX7,OU[D_4],GetManipulatedItem())!=null thenset SR7=3endifif KN7(TX7,OU[V6],GetManipulatedItem())!=null or KN7(TX7,OU[W6],GetManipulatedItem())!=null or KN7(TX7,OU[A6],GetManipulatedItem())!=null thenset SR7=4endifif KN7(TX7,OU[FS4],GetManipulatedItem())!=null thenset SR7=5endifif KN7(TX7,OU[EC],GetManipulatedItem())!=null thenset SR7=6endifif KN7(TX7,OU[N6],GetManipulatedItem())!=null thenset SR7=7endifif KN7(TX7,OU[E0],GetManipulatedItem())!=null thencall UnitAddAbility(TX7,'A0V0')call SetUnitAbilityLevel(TX7,'A0V0',SR7)call UnitMakeAbilityPermanent(TX7,true,'A0V0')elsecall UnitRemoveAbility(TX7,'A0V0')endifset TX7=nullreturn falseendfunctionfunction Q6F takes nothing returns booleanlocal unit TX7=GetTriggerUnit()local integer SR7=1if KO7(TX7,OU[BU])!=null or KO7(TX7,OU[FC])!=null thenset SR7=2endifif KO7(TX7,OU[D_4])!=null thenset SR7=3endifif KO7(TX7,OU[V6])!=null or KN7(TX7,OU[W6],GetManipulatedItem())!=null or KN7(TX7,OU[A6],GetManipulatedItem())!=null thenset SR7=4endifif KO7(TX7,OU[FS4])!=null thenset SR7=5endifif KN7(TX7,OU[EC],GetManipulatedItem())!=null thenset SR7=6endifif KO7(TX7,OU[N6])!=null thenset SR7=7endifif KO7(TX7,OU[E0])!=null thencall UnitAddAbility(TX7,'A0V0')call SetUnitAbilityLevel(TX7,'A0V0',SR7)call UnitMakeAbilityPermanent(TX7,true,'A0V0')endifset TX7=nullreturn falseendfunctionfunction QLF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()if GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM thenif JV7(GetManipulatedItem())==DC4 thencall UnitRemoveAbility(TX7,'A0EX')endifif JV7(GetManipulatedItem())==DM4 thencall UnitRemoveAbility(TX7,'A1BW')endifif JV7(GetManipulatedItem())==DB4 thencall UnitRemoveAbility(TX7,'A0EX')call UnitRemoveAbility(TX7,'A0TC')call UnitRemoveAbility(TX7,'A0UK')endifendifif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thenif JV7(GetManipulatedItem())==DC4 thencall UnitAddAbility(TX7,'A0EX')call UnitMakeAbilityPermanent(TX7,true,'A0EX')endifif JV7(GetManipulatedItem())==DM4 thencall UnitAddAbility(TX7,'A1BW')call UnitMakeAbilityPermanent(TX7,true,'A1BW')endifif JV7(GetManipulatedItem())==DB4 thencall UnitAddAbility(TX7,'A0EX')call UnitMakeAbilityPermanent(TX7,true,'A0EX')call UnitAddAbility(TX7,'A0TC')call UnitMakeAbilityPermanent(TX7,true,'A0TC')call UnitAddAbility(TX7,'A0UK')call UnitMakeAbilityPermanent(TX7,true,'A0UK')endifendifset TX7=nullendfunctionfunction Q1F takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and(JV7(GetManipulatedItem())==DB4 or JV7(GetManipulatedItem())==DC4 or JV7(GetManipulatedItem())==DM4)thencall QLF()endifreturn falseendfunctionfunction Q0F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local item NJ8=M57(NO7,"Item")if GetTriggerEventId()==EVENT_UNIT_DROP_ITEM and GetManipulatedItem()==NJ8 thencall K_7(NO7)call NM7(t)elseif GetTriggerEventId()!=EVENT_UNIT_DROP_ITEM thenif((LoadInteger(C7,(GetHandleId((TX7))),((4310))))==1)==false thencall SetUnitState(TX7,UNIT_STATE_LIFE,VC7(GetUnitState(TX7,UNIT_STATE_LIFE)-HY4,1))endifendifset t=nullset TX7=nullset NJ8=nullreturn falseendfunctionfunction Q5F takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function Q0F))call MF7(NO7,"Hero",TX7)call MN7(NO7,"Item",GetManipulatedItem())set t=nullset TX7=nullendfunctionfunction Q2F takes nothing returns booleanif GetItemType(GetManipulatedItem())==ITEM_TYPE_PERMANENT and JV7(GetManipulatedItem())==DB4 thencall Q5F()endifreturn falseendfunctionfunction Q_F takes unit u returns booleanlocal item R4F=CreateItem('I0KK',GetUnitX(u),GetUnitY(u))local boolean XH8=UnitAddItem(u,R4F)if XH8==false thencall RemoveItem(R4F)endifreturn XH8endfunctionfunction R7F takes unit TX7,item NJ8,integer XK8 returns itemlocal real x=XG8(TX7)local real y=XI8(TX7)local integer i=0local boolean array XM8local item Z4loopexitwhen i>(UnitInventorySize(TX7)-1)if UnitItemInSlot(TX7,i)==null and i!=XK8 thenset Z4=CreateItem('I02M',x,y)call UnitAddItem(TX7,Z4)set XM8[i]=trueelseset XM8[i]=falseendifif i==XK8 thencall UnitAddItem(TX7,NJ8)endifset i=i+1endloopset i=0loopexitwhen i>5if XM8[i]==true thencall RemoveItem(UnitItemInSlot(TX7,i))endifset i=i+1endloopset IF4=NJ8set Z4=nullreturn IF4endfunctionfunction R8F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer i=0local item R9Flocal integer VT8local unit ZM7local item RDFif GetTriggerEventId()==EVENT_UNIT_DEATH thencall ME7(GetHandleId(TX7),"LinkenSphere|CD",false)call K_7(NO7)call NM7(t)elseif Q_F(TX7)==false thencall TriggerRegisterTimerEvent(t,5.5,false)elsecall ME7(GetHandleId(TX7),"LinkenSphere|CD",false)set H77=GetOwningPlayer(TX7)call DisableTrigger(HR4)if R74[GetPlayerId(GetOwningPlayer(TX7))]>0 thencall SetItemVisible(UnitAddItemById(TX7,'I0HM'),false)endifloopexitwhen i>5set R9F=UnitItemInSlot(TX7,i)set VT8=JV7(R9F)if VT8==D74 thenset J74=GetItemPlayer(R9F)call RemoveItem(R9F)set ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UnitAddAbility(ZM7,'AInv')set RDF=UnitAddItemById(ZM7,OU[D44])call UnitUseItem(ZM7,RDF)set IF4=R7F(TX7,RDF,i)call SetItemPlayer(RDF,J74,false)call SetItemUserData(RDF,1)call UnitRemoveAbility(ZM7,'AInv')set ZM7=nullset RDF=nullendifset R9F=nullset i=i+1endloopcall EnableTrigger(HR4)call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullreturn falseendfunctionfunction REF takes unit TX7 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer i=0local item R9Flocal integer VT8local unit ZM7local item RDFcall DisableTrigger(HR4)call ME7(GetHandleId(TX7),"LinkenSphere|CD",true)call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function R8F))call MF7(NO7,"Hero",TX7)loopexitwhen i>5set R9F=UnitItemInSlot(TX7,i)set VT8=JV7(R9F)if VT8==D44 or VT8==D74 thenset J74=GetItemPlayer(R9F)set H77=J74call RemoveItem(R9F)set ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UnitAddAbility(ZM7,'AInv')set RDF=UnitAddItemById(ZM7,OU[D74])call UnitUseItem(ZM7,RDF)set IF4=R7F(TX7,RDF,i)call SetItemPlayer(RDF,J74,false)call SetItemUserData(RDF,1)call UnitRemoveAbility(ZM7,'AInv')call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DispelMagic\\DispelMagicTarget.mdl",TX7,"origin"))set ZM7=nullset RDF=nullendifset R9F=nullset i=i+1endloopcall EnableTrigger(HR4)set t=nullendfunctionfunction RFF takes nothing returns booleanlocal integer i=1local unit TX7local integer idif C8 thenreturn falseendifif HS4>0 thenloopexitwhen i>5set id=GetPlayerId(Y7[i])set TX7=G7[id]if R74[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false and N77(GetHandleId(TX7),"LinkenSphere|CD")==false and T37(TX7)==false and N77(GetHandleId(TX7),"MantaBlocked")==false thencall REF(TX7)endifset id=GetPlayerId(Z7[i])set TX7=G7[id]if R74[id]>0 and TX7!=null and GetUnitTypeId(TX7)>1 and IsUnitType(TX7,UNIT_TYPE_DEAD)==false and N77(GetHandleId(TX7),"LinkenSphere|CD")==false and T37(TX7)==false and N77(GetHandleId(TX7),"MantaBlocked")==false thencall REF(TX7)endifset i=i+1endloopendifset TX7=nullreturn falseendfunctionfunction RGF takes unit hn,item x5 returns integerlocal integer i=0loopexitwhen i>5if UnitItemInSlot(hn,i)==x5 thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction RHF takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer VT8=JV7(Z4)local integer XK8call DisableTrigger(HR4)if VT8==G6 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[H6],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==H6 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[G6],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif VT8==NC thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[OC],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==OC thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[NC],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifif VT8==DE4 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[DF4],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==DF4 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[DE4],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifcall EnableTrigger(HR4)set S4=nullset Z4=nullendfunctionfunction RIF takes nothing returns nothinglocal unit RJF=GetTriggerUnit()local item RKF=GetManipulatedItem()local integer RMF=JV7(RKF)local integer QWFcall DisableTrigger(HR4)if RMF==DG4 thenset QWF=RGF(RJF,RKF)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(RKF)set IF4=XJ8(RJF,OU[DH4],QWF)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif RMF==DH4 thenset QWF=RGF(RJF,RKF)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(RKF)set IF4=XJ8(RJF,OU[DG4],QWF)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifcall EnableTrigger(HR4)set RJF=nullset RKF=nullendfunctionfunction RNF takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer VT8=JV7(Z4)local integer XK8call DisableTrigger(HR4)if GetUnitTypeId(S4)!='H00J' thenif VT8==V6 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(HR4)set IF4=XJ8(S4,OU[W6],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==W6 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(HR4)set IF4=XJ8(S4,OU[A6],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==A6 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)call DisableTrigger(HR4)set IF4=XJ8(S4,OU[V6],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifendifcall EnableTrigger(HR4)set S4=nullset Z4=nullendfunctionfunction ROF takes integer n5 returns integerif n5=='I006' thenreturn QAelseif n5=='I008' thenreturn WAelseif n5=='I00J' thenreturn JAelseif n5=='I00K' thenreturn NAelseif n5=='I007' thenreturn YAendifreturn-1endfunctionfunction RPF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"Unit")local integer QWF=M_7(NO7,"itemslot")local item NJ8=UnitItemInSlot(u,QWF)local integer RQF=M_7(NO7,"itemhandleid")local item RDFlocal integer XK8if NJ8!=null and TO7(JU7(NJ8))and GetHandleId(NJ8)==RQF and UY7(u)==false thenset RDF=CreateItem(LoadInteger(C7,GetHandleId(NJ8),GetHandleId(u)),GetUnitX(u),GetUnitY(u))call K_7(GetHandleId(NJ8))set XK8=RGF(u,NJ8)set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[IA],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call K_7(NO7)call NM7(t)call UnitAddItem(u,RDF)endifset t=nullset u=nullset NJ8=nullset RDF=nullreturn falseendfunctionfunction RRF takes unit u,item RDF returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer QWF=RGF(u,RDF)call M87(NO7,"itemslot",QWF)call M87(NO7,"itemhandleid",GetHandleId(RDF))call MF7(NO7,"Unit",u)call TriggerRegisterTimerEvent(t,120.,true)call TriggerAddCondition(t,Condition(function RPF))set t=nullendfunctionfunction RSF takes nothing returns nothinglocal unit u=GetTriggerUnit()local item NJ8=GetManipulatedItem()local integer VT8=JU7(NJ8)local unit RTFlocal integer RUFlocal boolean TargetFroglocal integer XK8local item RDFlocal integer RVFif VT8==AZ thenset XK8=RGF(u,NJ8)set RTF=MZ7(GetHandleId(u),"BottleTargetUnit")set RUF=M_7(GetHandleId(u),"BottleTargetItemId")if GetUnitTypeId(RTF)=='nfoh' or GetUnitTypeId(RTF)=='ndfl' thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))call VG7(GetOwningPlayer(u),"Abilities\\Spells\\Human\\Heal\\HealTarget.wav")set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[IA],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif BZ8(RUF)thenset RVF=ROF(RUF)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouchTarget.mdl",u,"overhead"))set J74=GetItemPlayer(NJ8)call JT7(NJ8)call DisableTrigger(HR4)if GetOwningPlayer(u)==J74 thenset IF4=XJ8(u,OU[RVF],XK8)elseset IF4=XJ8(u,QU[RVF],XK8)endifcall EnableTrigger(HR4)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)set RDF=UnitItemInSlot(u,XK8)call SaveInteger(C7,GetHandleId(RDF),GetHandleId(u),RUF)call RRF(u,RDF)endifelseif VT8==IA thenset XK8=RGF(u,NJ8)set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[CZ],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==CZ thenset XK8=RGF(u,NJ8)set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[BZ],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==BZ thenset XK8=RGF(u,NJ8)set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[AZ],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,0)elseif TO7(VT8)thenif LoadInteger(C7,GetHandleId(NJ8),GetHandleId(u))>0 thenset NH=trueset XK8=RGF(u,NJ8)set RDF=CreateItem(LoadInteger(C7,GetHandleId(NJ8),GetHandleId(u)),GetUnitX(u),GetUnitY(u))call K_7(GetHandleId(NJ8))set J74=GetItemPlayer(NJ8)call JT7(NJ8)set IF4=XJ8(u,OU[IA],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call UnitAddItem(u,RDF)set NH=falseendifendifset u=nullset NJ8=nullset RTF=nullset RDF=nullendfunctionfunction RWF takes nothing returns booleanlocal integer XK8local real ZD7call DisableTrigger(HR4)if JV7(GetManipulatedItem())==DC4 thenset ZD7=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)set XK8=RGF(GetTriggerUnit(),GetManipulatedItem())set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(GetManipulatedItem())set IF4=XJ8(GetTriggerUnit(),OU[DB4],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,VC7(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-ZD7,1))call NQ7(GetTriggerUnit(),"ArmletOfMordiganState",0.04)call NH7(GetTriggerUnit(),"ArmletOfMordigan|Active")endifif JV7(GetManipulatedItem())==DB4 thenset ZD7=GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-GetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE)set XK8=RGF(GetTriggerUnit(),GetManipulatedItem())set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(GetManipulatedItem())set IF4=XJ8(GetTriggerUnit(),OU[DC4],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call SetUnitState(GetTriggerUnit(),UNIT_STATE_LIFE,VC7(GetUnitState(GetTriggerUnit(),UNIT_STATE_MAX_LIFE)-ZD7,1))call NJ7(GetTriggerUnit(),"ArmletOfMordigan|Active")endifcall EnableTrigger(HR4)return falseendfunctionfunction RXF takes nothing returns nothingif GetItemTypeId(GetManipulatedItem())==OU[C3]thencall VH7(GetOwningPlayer(GetTriggerUnit()),(GetObjectName(('n0G1'))))endifendfunctionfunction RYF takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer VT8=JV7(Z4)local integer XK8call DisableTrigger(HR4)if VT8==G5 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[J5],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call LN8(IF4)elseif VT8==J5 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[M5],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call LN8(IF4)elseif VT8==M5 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[N5],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call LN8(IF4)elseif VT8==N5 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[R5],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call LN8(IF4)elseif VT8==R5 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[S5],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)call LN8(IF4)endifcall EnableTrigger(HR4)set S4=nullset Z4=nullendfunctionfunction RZF takes nothing returns nothinglocal unit S4=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer VT8=JV7(Z4)local integer XK8call DisableTrigger(HR4)if VT8==Q1 and GetItemCharges(Z4)==0 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[T1],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==R1 and GetItemCharges(Z4)==0 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[U1],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)elseif VT8==WB and GetItemCharges(Z4)==0 thenset XK8=RGF(S4,Z4)set J74=GetItemPlayer(GetManipulatedItem())call RemoveItem(Z4)set IF4=XJ8(S4,OU[YB],XK8)call SetItemPlayer(IF4,J74,false)call SetItemUserData(IF4,1)endifcall EnableTrigger(HR4)set S4=nullset Z4=nullendfunctionfunction RAF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if Q_F(p5)thencall UnitAddItemById(p5,'I0HM')endifcall K_7(NO7)call NM7(t)call ME7(GetHandleId(p5),"MantaBlocked",false)set t=nullset p5=nullreturn falseendfunctionfunction RBF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local item Z4=GetManipulatedItem()local integer VT8=JV7(Z4)local trigger tif(VT8==W5 or VT8==A5)and N77(GetHandleId(p5),"MantaBlocked")==true thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.41,false)call TriggerAddCondition(t,Condition(function RAF))call MF7(GetHandleId(t),"Source",p5)set t=nullendifset p5=nullset Z4=nullendfunctionfunction RCF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local integer S08=M_7(V_7,"Count")if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='Aeat' thencall M87(V_7,"Count",16)endifelseif UY7(X97)or GetTriggerEventId()==EVENT_UNIT_DEATH or S08==0 thencall UnitRemoveAbility(X97,'A0PV')call UnitRemoveAbility(X97,'B07L')call NJ7(X97,"ActiveTango")call K_7(V_7)call NM7(t)elsecall SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)+115/ 16)call M87(V_7,"Count",S08-1)endifreturn falseendfunctionfunction R3F takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call NH7(p5,"ActiveTango")call UW7(p5,'A0PV')call MF7(NO7,"Source",p5)call M87(NO7,"Count",16)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RCF))call TriggerEvaluate(t)set p5=nullset t=nullendfunctionfunction R6F takes nothing returns nothingif GetSpellAbilityId()=='Aeat' and NF7(GetTriggerUnit(),"ActiveTango")==false thencall R3F()endifendfunctionfunction RLF takes integer id,real x,real y returns nothingif IsPointInRegion(SG4,x,y)==false thenset SF4=SF4+1set S84[SF4]=Player(id)set S94[SF4]=xset SD4[SF4]=yset SE4[SF4]=(TimerGetElapsed(P))endifendfunctionfunction R1F takes integer id,real x,real y returns integerlocal real Z_7=(TimerGetElapsed(P))local integer i=0local integer RU8=0if IsPointInRegion(SG4,x,y)==true thenreturn RU8endifloopexitwhen i>SF4if(Z_7<SE4[i]+e4)and(J87(x,y,S94[i],SD4[i])<o4*2+50)and IsPlayerAlly(Player(id),S84[i])==true thenset RU8=RU8+1endifset i=i+1endloopreturn RU8endfunctionfunction R0F takes integer R5F returns integerif R5F==GetPlayerId(Y7[1])thenreturn'h0BI'elseif R5F==GetPlayerId(Y7[2])thenreturn'h0BK'elseif R5F==GetPlayerId(Y7[3])thenreturn'h0BG'elseif R5F==GetPlayerId(Y7[4])thenreturn'h0BF'elseif R5F==GetPlayerId(Y7[5])thenreturn'h0BL'elseif R5F==GetPlayerId(Z7[1])thenreturn'h0BH'elseif R5F==GetPlayerId(Z7[2])thenreturn'h0BJ'elseif R5F==GetPlayerId(Z7[3])thenreturn'h0BM'elseif R5F==GetPlayerId(Z7[4])thenreturn'h0A5'elseif R5F==GetPlayerId(Z7[5])thenreturn'h0BN'endifreturn'h0BN'endfunctionfunction R2F takes integer R5F returns integerreturn'h0AX'endfunctionfunction R_F takes integer R5F returns stringif R5F==GetPlayerId(Y7[1])thenreturn"war3mapImported\\TeleportTarget_Blue.mdx"elseif R5F==GetPlayerId(Y7[2])thenreturn"war3mapImported\\TeleportTarget_Teal.mdx"elseif R5F==GetPlayerId(Y7[3])thenreturn"war3mapImported\\TeleportTarget_Purple.mdx"elseif R5F==GetPlayerId(Y7[4])thenreturn"war3mapImported\\TeleportTarget_Yellow.mdx"elseif R5F==GetPlayerId(Y7[5])thenreturn"war3mapImported\\TeleportTarget_Orange.mdx"elseif R5F==GetPlayerId(Z7[1])thenreturn"war3mapImported\\TeleportTarget_Pink.mdx"elseif R5F==GetPlayerId(Z7[2])thenreturn"war3mapImported\\TeleportTarget_Gray.mdx"elseif R5F==GetPlayerId(Z7[3])thenreturn"war3mapImported\\TeleportTarget_LightBlue.mdx"elseif R5F==GetPlayerId(Z7[4])thenreturn"war3mapImported\\TeleportTarget_DarkGreen.mdx"elseif R5F==GetPlayerId(Z7[5])thenreturn"war3mapImported\\TeleportTarget_Brown.mdx"endifreturn"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl"endfunctionfunction S4F takes integer R5F returns stringreturn"Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl"endfunctionfunction S7F takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and GetUnitState(GetFilterUnit(),UNIT_STATE_LIFE)>0 and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I_4))==true and GetUnitTypeId(GetFilterUnit())!='u00S' and GetUnitTypeId(GetFilterUnit())!='ncop' and IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false thenset d=J87(I34,IL4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<IZ4 thenset IZ4=dset I04=GetFilterUnit()endifendifreturn falseendfunctionfunction S8F takes unit S4,real x,real y returns unitlocal group g=TL7()set I04=nullset I_4=S4set IZ4=99999set I34=xset IL4=ycall GroupEnumUnitsInRange(g,x,y,99999,Condition(function S7F))call T67(g)set g=nullreturn I04endfunctionfunction S9F takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id=='n0FH' or id=='n0F6' or id=='n0FI' or id=='n0FJ'endfunctionfunction SDF takes unit u returns booleanlocal integer id=GetUnitTypeId(u)return id=='u00R' or id=='umtw' or id=='e026' or id=='ebal'endfunctionfunction SEF takes nothing returns booleanlocal real dif(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 or SDF(GetFilterUnit())or GetUnitTypeId(GetFilterUnit())=='nfoh' or GetUnitTypeId(GetFilterUnit())=='ndfl' or S9F(GetFilterUnit()))and UY7(GetFilterUnit())==false and GetUnitAbilityLevel(GetFilterUnit(),'Asud')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I_4))==true and GetOwningPlayer(GetFilterUnit())!=B7 and IsUnitIllusion(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_FLYING)==false and GetUnitTypeId(GetFilterUnit())!='n0F5' thenset d=J87(I34,IL4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<IZ4 thenset IZ4=dset I04=GetFilterUnit()endifendifreturn falseendfunctionfunction SFF takes unit H57,real x,real y returns unitlocal group g=TL7()set I04=nullset I_4=H57set IZ4=99999set I34=xset IL4=ycall GroupEnumUnitsInRange(g,x,y,99999,Condition(function SEF))call T67(g)set g=nullreturn I04endfunctionfunction SGF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=(LoadUnitHandle(C7,(NO7),(14)))local real x=(LoadReal(C7,(NO7),(6)))local real y=(LoadReal(C7,(NO7),(7)))local unit SHF=(LoadUnitHandle(C7,(NO7),(448)))local unit SIF=(LoadUnitHandle(C7,(NO7),(447)))local ubersplat SJF=(LoadUbersplatHandle(C7,(NO7),(131)))local integer RU8=(LoadInteger(C7,(NO7),(34)))local real XP7=(LoadReal(C7,(NO7),(57)))local real Z_7=N47(NO7,"OriginalTime")local integer id=GetPlayerId(GetOwningPlayer(TX7))local boolean SKF=falselocal integer i=0if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()=='A1R5' or GetSpellAbilityId()=='A137'thenset SKF=trueendifelseset RU8=RU8+1call SaveInteger(C7,(NO7),(34),(RU8))if RU8==1 thenif XP7>3 thencall SetUnitAnimationByIndex(SHF,1)call SetUnitAnimationByIndex(SIF,1)endifelseif RU8==2 thenset SKF=trueelseendifendifif SKF thencall SaveInteger(C7,(GetHandleId((TX7))),((4256)),(2))call KillUnit(SHF)call KillUnit(SIF)call DestroyUbersplat(SJF)call FlushChildHashtable(C7,(NO7))call NM7(t)if RU8==2 thencall DestroyEffect(AddSpecialEffect(S4F(id),GetUnitX(TX7),GetUnitY(TX7)))call DestroyEffect(AddSpecialEffect(R_F(id),x,y))call SetUnitX(TX7,x)call SetUnitY(TX7,y)call PauseUnit(TX7,true)call PauseUnit(TX7,false)call WK7(x,y,240)set I04=TX7call ExecuteFunc("SMF")endifendifset hq[832+GetPlayerId(GetOwningPlayer(TX7))]=0set t=nullset TX7=nullset SHF=nullset SIF=nullset SJF=nullreturn falseendfunctionfunction SNF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local unit SOF=(LoadUnitHandle(C7,(V_7),(448)))local unit SPF=(LoadUnitHandle(C7,(V_7),(447)))local ubersplat IM9=(LoadUbersplatHandle(C7,(V_7),(131)))local integer S08=(LoadInteger(C7,(V_7),(34)))local real J5D=(LoadReal(C7,(V_7),(57)))local real S98=(LoadReal(C7,(V_7),(442)))local integer id=GetPlayerId(GetOwningPlayer(T_7))local boolean end=falselocal integer i=0local integer SK8if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()=='A231' thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call SaveInteger(C7,(GetHandleId((T_7))),((4256)),(2))call KillUnit(SOF)call KillUnit(SPF)call DestroyUbersplat(IM9)call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveType(U47,UNIT_TYPE_PEON)endifelseif GetTriggerEventId()==EVENT_UNIT_DEATH thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call UnitRemoveType(U47,UNIT_TYPE_PEON)call SaveInteger(C7,(GetHandleId((T_7))),((4256)),(2))call KillUnit(SOF)call KillUnit(SPF)call DestroyUbersplat(IM9)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(T_7),GetUnitY(T_7)))call SaveInteger(C7,(GetHandleId((T_7))),((4256)),(2))call KillUnit(SOF)call KillUnit(SPF)call DestroyUbersplat(IM9)call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveType(U47,UNIT_TYPE_PEON)call SetUnitX(T_7,GetUnitX(U47)-1)call SetUnitY(T_7,GetUnitY(U47)-1)call PauseUnit(T_7,true)call PauseUnit(T_7,false)call WK7(x,y,240)set I04=T_7call ExecuteFunc("SMF")call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTarget.mdl",GetUnitX(T_7),GetUnitY(T_7)))endifset t=nullset T_7=nullset SOF=nullset SPF=nullset IM9=nullset U47=nullreturn falseendfunctionfunction SQF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local location llocal real xlocal real ylocal real alocal trigger tlocal integer NO7local unit SHFlocal unit SIFlocal ubersplat SJFlocal integer id=GetPlayerId(GetOwningPlayer(TX7))local integer RU8local real SRFif(WS4 and GetSpellAbilityId()=='A137')thenset WS4=falsecall SetUnitState(TX7,UNIT_STATE_MANA,GetUnitState(TX7,UNIT_STATE_MANA)+75)returnendifset t=CreateTrigger()set NO7=GetHandleId(t)call SaveInteger(C7,(GetHandleId((TX7))),((4256)),(1))if m5==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)if GetSpellAbilityId()=='A1R5' thenif x==SZ4[id]and y==SA4[id]thenif Q_7(GetOwningPlayer(TX7))thenset x=GetUnitX(JH4)set y=GetUnitY(JH4)elseset x=GetUnitX(K84)set y=GetUnitY(K84)endifendifendifset m5=S8F(TX7,x,y)call RemoveLocation(l)elseset x=GetUnitX(m5)set y=GetUnitY(m5)endifif J87(x,y,GetUnitX(m5),GetUnitY(m5))>o4 thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+o4*Cos(a)set y=GetUnitY(m5)+o4*Sin(a)elseif J87(x,y,GetUnitX(m5),GetUnitY(m5))<50 thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+120*Cos(a)set y=GetUnitY(m5)+120*Sin(a)endifif IsPointInRegion(J94,x,y)==true thenset a=Atan2(y-GetUnitY(m5),x-GetUnitX(m5))set x=GetUnitX(m5)+200*Cos(a)set y=GetUnitY(m5)+200*Sin(a)endifset x=VK7(x)set y=VM7(y)if(IsUnitAlly(TX7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(TX7))or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thencall PingMinimapEx(x,y,3,255,255,255,false)endifset SIF=CreateUnit(GetOwningPlayer(TX7),R0F(id),x,y,0)set SHF=CreateUnit(GetOwningPlayer(TX7),R2F(id),GetUnitX(TX7),GetUnitY(TX7),0)set SJF=CreateUbersplat(GetUnitX(TX7),GetUnitY(TX7),"SCTP",255,255,255,255,false,false)if IsUnitVisible(TX7,GetLocalPlayer())==true thencall SetUbersplatRenderAlways(SJF,true)elsecall SetUbersplatRenderAlways(SJF,false)endifset RU8=R1F(GetPlayerId(GetOwningPlayer(TX7)),x,y)if RU8>0 thenset RU8=RU8+1endifset SRF=3+RU8call RLF(GetPlayerId(GetOwningPlayer(TX7)),x,y)if RU8>0 thencall SetUnitAnimationByIndex(SHF,2)call SetUnitAnimationByIndex(SIF,2)endifcall TriggerRegisterTimerEvent(t,SRF-3,false)call TriggerRegisterTimerEvent(t,SRF,false)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function SGF))call WP7(GetOwningPlayer(TX7),SRF,x,y,200)call SaveUnitHandle(C7,(NO7),(447),(SIF))call SaveUnitHandle(C7,(NO7),(448),(SHF))call SaveReal(C7,(NO7),(6),((x)*1.0))call SaveReal(C7,(NO7),(7),((y)*1.0))call M97(NO7,"OriginalTime",TimerGetElapsed(P))call SaveReal(C7,(NO7),(57),((SRF)*1.0))call SaveUbersplatHandle(C7,(NO7),(131),(SJF))call SaveUnitHandle(C7,(NO7),(14),(TX7))call SaveInteger(C7,(NO7),(34),(0))call X87(TX7,UT4,x,y,2400)set TX7=nullset m5=nullset SHF=nullset SIF=nullset l=nullset t=nullset SJF=nullendfunctionfunction SSF takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local location llocal real xlocal real ylocal real alocal trigger tlocal integer V_7local unit SOFlocal unit SPFlocal ubersplat IM9local integer id=GetPlayerId(GetOwningPlayer(T_7))local integer S08local real STFset t=CreateTrigger()set V_7=GetHandleId(t)if U47==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)if x==SZ4[id]and y==SA4[id]thenif Q_7(GetOwningPlayer(T_7))thenset x=GetUnitX(JH4)set y=GetUnitY(JH4)elseset x=GetUnitX(K84)set y=GetUnitY(K84)endifendifset U47=SFF(T_7,x,y)call RemoveLocation(l)endifset x=GetUnitX(U47)set y=GetUnitY(U47)if(IsUnitAlly(T_7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(T_7))or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thencall PingMinimapEx(x,y,3,255,255,255,false)endifset IM9=CreateUbersplat(GetUnitX(T_7),GetUnitY(T_7),"SCTP",255,255,255,255,false,false)if IsUnitVisible(T_7,GetLocalPlayer())==true thencall SetUbersplatRenderAlways(IM9,true)elsecall SetUbersplatRenderAlways(IM9,false)endifset STF=3call UnitAddType(U47,UNIT_TYPE_PEON)call TriggerRegisterTimerEvent(t,STF,false)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function SNF))call WP7(GetOwningPlayer(T_7),STF,x,y,200)call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P)))*1.0))call SaveReal(C7,(V_7),(57),((STF)*1.0))call SaveUbersplatHandle(C7,(V_7),(131),(IM9))call SaveUnitHandle(C7,(V_7),(14),(T_7))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(34),(0))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",T_7,"origin")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportCaster.mdl",T_7,"origin")))call SaveEffectHandle(C7,(V_7),(177),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\MassTeleport\\MassTeleportTo.mdl",U47,"origin")))call X87(T_7,UT4,x,y,2400)set T_7=nullset U47=nullset SOF=nullset SPF=nullset l=nullset t=nullset IM9=nullendfunctionfunction SUF takes nothing returns nothingif(GetSpellAbilityId()=='A1R5' or GetSpellAbilityId()=='A137')and JS7(GetTriggerUnit())==false thencall SQF()endifif GetSpellAbilityId()=='A231' thencall SSF()endifendfunctionfunction SVF takes nothing returns nothingif GetSpellAbilityId()=='A137' and GetSpellTargetItem()!=null thencall IssueImmediateOrder(GetTriggerUnit(),"stop")if Q_7(GetOwningPlayer(GetTriggerUnit()))thencall UnitUseItemTarget(GetTriggerUnit(),KO7(GetTriggerUnit(),AC),JH4)set WS4=trueelsecall UnitUseItemTarget(GetTriggerUnit(),KO7(GetTriggerUnit(),AC),K84)set WS4=trueendifendifendfunctionfunction SWF takes nothing returns nothingcall KillUnit(GetEnumUnit())endfunctionfunction SXF takes nothing returns booleanlocal integer i=GetUnitTypeId(GetFilterUnit())return i=='n00H' or i=='n00G' or i=='n00K' or i=='n00J' or i=='n00A' or i=='n006'endfunctionfunction SYF takes nothing returns nothinglocal group g=TL7()call GroupEnumUnitsOfPlayer(g,GetOwningPlayer(GetTriggerUnit()),Condition(function SXF))call ForGroup(g,function SWF)call T67(g)set g=nullendfunctionfunction SZF takes nothing returns nothingif GetSpellAbilityId()=='A0HB' or GetSpellAbilityId()=='A0D3' or GetSpellAbilityId()=='A0DF' thencall SYF()endifendfunctionfunction SAF takes nothing returns nothingif GetSpellAbilityId()=='ACch' thencall UnitApplyTimedLife(GetSpellTargetUnit(),'BTLF',1200)call UnitAddAbility(GetSpellTargetUnit(),'Aeth')call UnitAddAbility(GetSpellTargetUnit(),'ACrk')call V17(GetSpellTargetUnit())endifendfunctionfunction SBF takes integer i returns integerif i==Aw thenreturn dwendifif i==Nw thenreturn Dwendifif i==bw thenreturn fwendifif i==Bw thenreturn Fwendifif i==cw thenreturn hwendifif i==Cw thenreturn kwendifreturn 0endfunctionfunction SCF takes integer i returns integerif i==Aw thenreturn 10endifif i==Nw thenreturn 9endifif i==bw thenreturn 8endifif i==Bw thenreturn 7endifif i==cw thenreturn 6endifif i==Cw thenreturn 5endifreturn 0endfunctionfunction S3F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")if UY7(TX7)==false and TX7!=null thencall SetUnitScale(TX7,V87(TX7)*AN,V87(TX7)*AN,V87(TX7)*AN)endifcall K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction S6F takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local unit ZM7=CreateUnit(GetOwningPlayer(T_7),'e00E',GetUnitX(T_7),GetUnitY(T_7),0)local trigger t=CreateTrigger()local real J5D=SCF(GetSpellAbilityId())call WZ7(T_7,Lw,J5D)call UnitMakeAbilityPermanent(T_7,true,Lw)call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),Lw,false)call UnitAddAbility(ZM7,SBF(GetSpellAbilityId()))call IssueTargetOrder(ZM7,"antimagicshell",T_7)call VK8(T_7,0,0)if JS7(T_7)thencall WY7(T_7,J5D,3)elsecall WY7(T_7,J5D,1.4)endifcall TriggerRegisterTimerEvent(t,J5D+7.,false)call TriggerAddCondition(t,Condition(function S3F))call MF7(GetHandleId(t),"Hero",T_7)set t=nullset T_7=nullset ZM7=nullendfunctionfunction SLF takes nothing returns nothingif SBF(GetSpellAbilityId())>0 thencall S6F()endifendfunctionfunction S1F takes nothing returns nothingif GetSpellAbilityId()=='A02W' thencall UnitResetCooldown(GetTriggerUnit())endifendfunctionfunction S0F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit B18=MZ7(NO7,"chicken")local integer B_8=M_7(NO7,"newability")local integer C48=M_7(NO7,"itemId0")local integer C78=M_7(NO7,"itemId1")local integer C88=M_7(NO7,"itemId2")local integer C98=M_7(NO7,"itemId3")local integer CD8=M_7(NO7,"itemId4")local integer CE8=M_7(NO7,"itemId5")local player CF8=MB7(NO7,"pPlayer0")local player CG8=MB7(NO7,"pPlayer1")local player CH8=MB7(NO7,"pPlayer2")local player CI8=MB7(NO7,"pPlayer3")local player CJ8=MB7(NO7,"pPlayer4")local player CK8=MB7(NO7,"pPlayer5")local integer CM8=M_7(NO7,"charges0")local integer CN8=M_7(NO7,"charges1")local integer CO8=M_7(NO7,"charges2")local integer CP8=M_7(NO7,"charges3")local integer CQ8=M_7(NO7,"charges4")local integer CR8=M_7(NO7,"charges5")call DisableTrigger(HR4)if GetTriggerEvalCount(t)==1 thencall UnitAddAbility(B18,B_8)if FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifelseif C48>0 thenset IF4=CreateItem(C48,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CF8,false)call SetItemUserData(IF4,1)endifif CM8>0 thencall SetItemCharges(IF4,CM8)endifif C78>0 thenset IF4=CreateItem(C78,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CG8,false)call SetItemUserData(IF4,1)endifif CN8>0 thencall SetItemCharges(IF4,CN8)endifif C88>0 thenset IF4=CreateItem(C88,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CH8,false)call SetItemUserData(IF4,1)endifif CO8>0 thencall SetItemCharges(IF4,CO8)endifif C98>0 thenset IF4=CreateItem(C98,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CI8,false)call SetItemUserData(IF4,1)endifif CP8>0 thencall SetItemCharges(IF4,CP8)endifif CD8>0 thenset IF4=CreateItem(CD8,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CJ8,false)call SetItemUserData(IF4,1)endifif CQ8>0 thencall SetItemCharges(IF4,CQ8)endifif CE8>0 thenset IF4=CreateItem(CE8,GetUnitX(B18),GetUnitY(B18))call UnitAddItem(B18,IF4)call SetItemPlayer(IF4,CK8,false)call SetItemUserData(IF4,1)endifif CR8>0 thencall SetItemCharges(IF4,CR8)endifif FT[GetPlayerId(GetOwningPlayer(B18))]==false thencall UnitRemoveType(B18,UNIT_TYPE_PEON)elsecall UnitAddType(B18,UNIT_TYPE_PEON)endifcall SetUnitFlyHeight(B18,240,0)call K_7(NO7)call NM7(t)endifcall EnableTrigger(HR4)set t=nullset B18=nullset CF8=nullset CG8=nullset CH8=nullset CI8=nullset CJ8=nullset CK8=nullreturn falseendfunctionfunction S5F takes unit B18 returns nothinglocal integer CT8=GetUnitTypeId(B18)local real x=GetUnitX(B18)local real y=GetUnitY(B18)local item CU8local item CV8local item CW8local item CX8local item CY8local item CZ8local player CF8local player CG8local player CH8local player CI8local player CJ8local player CK8local integer C48local integer C78local integer C88local integer C98local integer CD8local integer CE8local integer CM8=-1local integer CN8=-1local integer CO8=-1local integer CP8=-1local integer CQ8=-1local integer CR8=-1local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer B_8local item NJ8local integer ilocal item S2Fset i=0loopexitwhen i>5set S2F=UnitItemInSlot(B18,i)if JU7(S2F)==AV thencall UnitRemoveItem(B18,S2F)endifset i=i+1endloopset CU8=UnitItemInSlot(B18,0)set CV8=UnitItemInSlot(B18,1)set CW8=UnitItemInSlot(B18,2)set CX8=UnitItemInSlot(B18,3)set CY8=UnitItemInSlot(B18,4)set CZ8=UnitItemInSlot(B18,5)set C48=GetItemTypeId(CU8)set C78=GetItemTypeId(CV8)set C88=GetItemTypeId(CW8)set C98=GetItemTypeId(CX8)set CD8=GetItemTypeId(CY8)set CE8=GetItemTypeId(CZ8)set CF8=GetItemPlayer(CU8)set CG8=GetItemPlayer(CV8)set CH8=GetItemPlayer(CW8)set CI8=GetItemPlayer(CX8)set CJ8=GetItemPlayer(CY8)set CK8=GetItemPlayer(CZ8)set NJ8=CU8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CM8=GetItemCharges(NJ8)endifset NJ8=CV8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CN8=GetItemCharges(NJ8)endifset NJ8=CW8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CO8=GetItemCharges(NJ8)endifset NJ8=CX8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CP8=GetItemCharges(NJ8)endifset NJ8=CY8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CQ8=GetItemCharges(NJ8)endifset NJ8=CZ8if GetItemType(NJ8)==ITEM_TYPE_ARTIFACT or VZ8(JU7(NJ8))thenset CR8=GetItemCharges(NJ8)endifcall JT7(CU8)call JT7(CV8)call JT7(CW8)call JT7(CX8)call JT7(CY8)call JT7(CZ8)if Q_7(GetOwningPlayer(B18))thenset B_8='S00I'elseset B_8='S00J'endifif GetRandomInt(1,3)==1 thenset B_8='S00Z'endifcall MM7(NO7,"pPlayer0",CF8)call MM7(NO7,"pPlayer1",CG8)call MM7(NO7,"pPlayer2",CH8)call MM7(NO7,"pPlayer3",CI8)call MM7(NO7,"pPlayer4",CJ8)call MM7(NO7,"pPlayer5",CK8)call M87(NO7,"itemId0",C48)call M87(NO7,"itemId1",C78)call M87(NO7,"itemId2",C88)call M87(NO7,"itemId3",C98)call M87(NO7,"itemId4",CD8)call M87(NO7,"itemId5",CE8)call M87(NO7,"charges0",CM8)call M87(NO7,"charges1",CN8)call M87(NO7,"charges2",CO8)call M87(NO7,"charges3",CP8)call M87(NO7,"charges4",CQ8)call M87(NO7,"charges5",CR8)call MF7(NO7,"chicken",B18)call M87(NO7,"newability",B_8)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function S0F))set t=nullset B18=nullset CU8=nullset CV8=nullset CW8=nullset CX8=nullset CY8=nullset CZ8=nullset CF8=nullset CG8=nullset CH8=nullset CI8=nullset CJ8=nullset CK8=nullendfunctionfunction S_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(MZ7(V_7,"Source"))local item T4F=KO7(X97,OU[F94])if T4F==null thenset T4F=KO7(X97,QU[F94])endifif T4F!=null thencall RemoveItem(T4F)call S5F(X97)elsecall VH7(GetOwningPlayer(X97),GetObjectName(WE4))endifcall K_7(V_7)call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction T7F takes unit X97 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call BB8(X97)call TriggerRegisterTimerEvent(t,0.05,false)call TriggerAddCondition(t,Condition(function S_F))call MF7(V_7,"Source",X97)set t=nullendfunctionfunction T8F takes nothing returns booleanif GetSpellAbilityId()=='A0GD' thencall T7F(GetTriggerUnit())endifreturn falseendfunctionfunction T9F takes nothing returns booleanlocal unit T_7=GetTriggerUnit()local item BV7=GetManipulatedItem()local integer id=GetItemTypeId(BV7)local integer iif(id==OU[ZC]or id==OU[N6])and IsUnitType(T_7,UNIT_TYPE_HERO)==true thenset SZ4[GetPlayerId(GetOwningPlayer(T_7))]=GetItemX(BV7)set SA4[GetPlayerId(GetOwningPlayer(T_7))]=GetItemY(BV7)endifcall QTF(T_7,BV7)call QUF(T_7,BV7)if(GetItemTypeId(BV7)==OU[DB4]or GetItemTypeId(BV7)==OU[DC4])and JS7(T_7)thencall UnitRemoveItem(T_7,BV7)elseif GetItemTypeId(BV7)==OU[E44]and IsUnitType(T_7,UNIT_TYPE_HERO)==true thenset i=(LoadInteger(C7,(GetHandleId(T_7)),(750)))if i>0 thenif(LoadBoolean(C7,(GetHandleId(T_7)),(751)))==false thencall SaveBoolean(C7,(GetHandleId(T_7)),(751),(true))call SetItemCharges(BV7,i)endifendifelseif GetItemTypeId(BV7)==OU[T5]and GetUnitTypeId(T_7)!='n00L' and N04==false thenset N14=T_7set N04=truecall AT7("AegisOn",GetPlayerId(GetOwningPlayer(T_7)))call S_7(bj_FORCE_ALL_PLAYERS,10.00,K[GetPlayerId(GetOwningPlayer(T_7))]+GetUnitName(T_7)+"|r "+GetObjectName(VI4))elseif GetItemTypeId(BV7)==OU[F94]and JQ7(T_7)thencall T7F(T_7)elseif GetItemTypeId(BV7)==OU[HI4]and GetUnitTypeId(T_7)=='Emoo' thencall SetPlayerTechResearched(GetOwningPlayer(T_7),'R00J',1)elseif GetItemTypeId(BV7)==OU[HM4]and GetUnitTypeId(T_7)=='H00I' thenset I04=T_7call ExecuteFunc("R1D")elseif GetItemTypeId(BV7)==OU[HG4]and GetUnitTypeId(T_7)=='Ucrl' thencall UnitAddAbility(T_7,'A2KB')call UnitRemoveAbility(T_7,'A2KB')call AddUnitAnimationProperties(T_7,"upgrade",true)call SetPlayerTechResearched(GetOwningPlayer(T_7),'R00K',1)endifset T_7=nullset BV7=nullreturn falseendfunctionfunction TDF takes nothing returns nothinglocal unit TEF=GetTriggerUnit()local item TFF=KO7(TEF,OU[F94])if TFF==null thenset TFF=KO7(TEF,QU[F94])endifif TFF!=null thencall JT7(TFF)call UnitRemoveAbility(TEF,'A0VR')call UnitAddAbility(TEF,'A0VU')call SetUnitState(TEF,UNIT_STATE_MANA,400)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl",TEF,"origin"))elsecall VH7(GetOwningPlayer(TEF),(GetObjectName(('n02Q'))))endifset TEF=nullendfunctionfunction TGF takes nothing returns nothingif GetSpellAbilityId()=='A0VR' thencall TDF()endifendfunctionfunction THF takes nothing returns nothinglocal unit u=GetEnumUnit()local integer i=0local player p=GetOwningPlayer(GetTriggerUnit())local item NJ8local integer id=GetPlayerId(p)loopexitwhen i>5set NJ8=UnitItemInSlot(u,i)if NJ8!=null and GetItemPlayer(NJ8)==p thencall UnitRemoveItem(u,NJ8)call SetItemPosition(NJ8,K54[id],K24[id])endifset i=i+1endloopset u=nullset NJ8=nullendfunctionfunction TIF takes nothing returns nothinglocal item NJ8=GetEnumItem()local unit u=OT4local player p=GetOwningPlayer(u)local integer id=GetPlayerId(p)if GetWidgetLife(NJ8)>0 and GetItemPlayer(NJ8)==p thencall SetItemPosition(NJ8,K54[id],K24[id])call UnitAddItem(K04[id],NJ8)endifset NJ8=nullset u=nullset p=nullendfunctionfunction TJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit u=MZ7(NO7,"u")set OT4=uif Q_7(GetOwningPlayer(OT4))thencall EnumItemsInRect(ED,Condition(function Q37),function TIF)elsecall EnumItemsInRect(FD,Condition(function Q37),function TIF)endifif GetTriggerEvalCount(t)==2 thencall K_7(NO7)call NM7(t)endifset t=nullset u=nullreturn falseendfunctionfunction TKF takes nothing returns booleanreturn JS7(GetFilterUnit())endfunctionfunction TMF takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local group g=TL7()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call GroupEnumUnitsInRange(g,GetUnitX(u),GetUnitY(u),1300,Condition(function TKF))call ForGroup(g,function THF)call T67(g)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function TJF))call MF7(NO7,"u",u)set u=nullset g=nullendfunctionfunction TNF takes nothing returns nothingif GetSpellAbilityId()=='A14D' thencall TMF()endifendfunctionfunction TOF takes nothing returns nothinglocal unit u=GetTriggerUnit()local integer i=0local item NJ8local integer id=GetPlayerId(GetOwningPlayer(u))local region r=CreateRegion()if Q_7(GetOwningPlayer(u))thencall RegionAddRect(r,ED)elsecall RegionAddRect(r,FD)endifloopexitwhen i>5set NJ8=UnitItemInSlot(u,i)if TO7(JU7(NJ8))==false and JU7(NJ8)!=T5 and LR8(NJ8)==false thencall UnitRemoveItemFromSlot(u,i)if(GetUnitTypeId(u)=='ncop' or IsUnitInRegion(r,u))and IsPlayerAlly(GetItemPlayer(NJ8),GetOwningPlayer(u))==true thenset id=GetPlayerId(GetItemPlayer(NJ8))call SetItemPosition(NJ8,K54[id],K24[id])endifendifset i=i+1endloopcall RemoveRegion(r)set u=nullset r=nullendfunctionfunction TPF takes nothing returns nothingif GetSpellAbilityId()=='A138' or GetSpellAbilityId()=='A14C' thencall TOF()endifendfunctionfunction TQF takes nothing returns nothingif GetSpellAbilityId()=='A12W' and GetUnitAbilityLevel(GetTriggerUnit(),'Bpsh')>0 thencall UnitRemoveAbility(GetTriggerUnit(),'Bpsh')endifendfunctionfunction TRF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseif AO7(GetEventDamage())and IsUnitAlly(GetEventDamageSource(),GetOwningPlayer(GetTriggerUnit()))==false and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false and p3==false thenif IsUnitType(GetEventDamageSource(),UNIT_TYPE_HERO)or GetUnitAbilityLevel(GetEventDamageSource(),'A04R')==0 thencall DisableTrigger(t)set p3=truecall ZO7(GetTriggerUnit(),GetEventDamageSource(),YD4,GetEventDamage())set p3=falsecall EnableTrigger(t)elsecall DisableTrigger(t)set p3=truecall ZO7(GetTriggerUnit(),G7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))],YD4,GetEventDamage())set p3=falsecall EnableTrigger(t)endifendifendifset t=nullreturn falseendfunctionfunction TSF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function TRF))call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpikeBarrier\\SpikeBarrier.mdl",p5,"chest"))set t=nullset p5=nullendfunctionfunction TTF takes nothing returns nothingif GetSpellAbilityId()=='A15W' thencall TSF()endifendfunctionfunction TUF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real a=N47(NO7,"a")local real d=N47(NO7,"d")local real x=VK7(GetUnitX(m5)+d/ 10*Cos(a*bj_DEGTORAD))local real y=VM7(GetUnitY(m5)+d/ 10*Sin(a*bj_DEGTORAD))if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",x,y))if((LoadInteger(C7,(GetHandleId((m5))),((4306))))==1)==false and GetUnitAbilityLevel(m5,'B08V')==0 thencall WK7(x,y,150)call SetUnitX(m5,x)call SetUnitY(m5,y)endifendifset m5=nullset t=nullreturn falseendfunctionfunction TVF takes nothing returns nothinglocal unit m5=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local real xlocal real ylocal real dlocal real alocal integer i=-1local boolean TWF=falseif GetSpellTargetItem()!=null thenset m5=GetTriggerUnit()endifcall NQ7(m5,"4414",3)set a=GetUnitFacing(m5)loopexitwhen TWF or i==23set i=i+1set x=VK7(GetUnitX(m5)+(600-i*25)*Cos(a*bj_DEGTORAD))set y=VM7(GetUnitY(m5)+(600-i*25)*Sin(a*bj_DEGTORAD))if(IsPointInRegion(J94,((x)*1.0),((y)*1.0)))==false thenset TWF=trueendifendloopset d=J87(x,y,GetUnitX(m5),GetUnitY(m5))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TUF))call MF7(NO7,"Target",m5)call M97(NO7,"a",(a)*1.0)call M97(NO7,"d",(d)*1.0)set m5=nullset t=nullendfunctionfunction TXF takes nothing returns nothingif GetSpellAbilityId()=='A19M' and GetUnitTypeId(GetSpellTargetUnit())!='n00L' thenif IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false thencall TVF()endifendifendfunctionfunction TYF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if GetTriggerEvalCount(t)>40 or GetTriggerEventId()==EVENT_UNIT_DEATH or TU7(p5)or NF7(p5,"Teleporting")thencall UnitRemoveAbility(p5,'Aetl')call K_7(NO7)call NM7(t)endifset p5=nullset t=nullreturn falseendfunctionfunction TZF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger tlocal integer V_7if JS7(p5)==false thenset t=CreateTrigger()set V_7=GetHandleId(t)call UnitAddAbility(p5,'Aetl')call UnitMakeAbilityPermanent(p5,true,'Aetl')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'Aetl',false)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function TYF))call MF7(V_7,"Source",p5)endifset p5=nullset t=nullendfunctionfunction TAF takes nothing returns nothingif GetSpellAbilityId()=='A1AC' and TU7(GetTriggerUnit())==false thencall TZF()endifendfunctionfunction TBF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real xlocal real yif Q_7(GetOwningPlayer(p5))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifcall IssuePointOrder(p5,"move",x,y)set p5=nullendfunctionfunction TCF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real xlocal real yif Q_7(GetOwningPlayer(X97))thenset x=-4533set y=1158elseset x=3190set y=-35endifcall IssuePointOrder(X97,"move",x,y)set X97=nullendfunctionfunction T3F takes nothing returns nothingif GetSpellAbilityId()=='A1AS' thencall TBF()elseif GetSpellAbilityId()=='A2KS' thencall TCF()endifendfunctionfunction T6F takes nothing returns nothingif NF7(GetEnumUnit(),"PipeOfInsightOn")==true thencall VH7(GetOwningPlayer(GetEnumUnit()),GetObjectName('n02M'))elseif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall NQ7(GetEnumUnit(),"PipeOfInsightOn",50)endifif GetUnitAbilityLevel(GetEnumUnit(),'B0BT')==0 and GetUnitAbilityLevel(GetEnumUnit(),'B0BU')==0 thencall IssueTargetOrder(Mw,"antimagicshell",GetEnumUnit())endifendifendfunctionfunction TLF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local group g=TL7()set Mw=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),0)call UnitAddAbility(Mw,'A1EV')call GroupEnumUnitsInRange(g,GetUnitX(p5),GetUnitY(p5),525,Condition(function Y_7))call ForGroup(g,function T6F)call T67(g)set p5=nullset g=nullendfunctionfunction T1F takes nothing returns nothingif GetSpellAbilityId()=='A1EW' thencall TLF()endifendfunctionfunction T0F takes nothing returns nothinglocal unit TX7=GetTriggerUnit()call ME7(GetHandleId(TX7),"MantaBlocked",true)set TX7=nullendfunctionfunction T5F takes nothing returns nothingif(GetSpellAbilityId()=='A0B8' or GetSpellAbilityId()=='A1WE')and T37(GetTriggerUnit())==true thencall T0F()endifendfunctionfunction T2F takes integer id returns booleanreturn id=='ugho' or id=='unec' or id=='esen' or id=='edry' or id=='u001' or id=='u002' or id=='e00V' or id=='e00W' or id=='ebal' or id=='e026' or id=='umtw' or id=='u00R'endfunctionfunction T_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>8 thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseif GetUnitState(m5,UNIT_STATE_LIFE)>(150.0/8.0+0.5)thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)-150.0/8.0)elseset VY4[GetPlayerId(GetOwningPlayer(m5))]=trueset G47=truecall ZO7(p5,m5,Y84,50)set VY4[GetPlayerId(GetOwningPlayer(m5))]=falseset G47=falseendifendifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction U4F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")if GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and(T2F(GetUnitTypeId(GetEventDamageSource()))==false and(GetOwningPlayer(GetEventDamageSource())!=A7 or GetUnitTypeId(GetEventDamageSource())=='n00L')and GetEventDamage()>0)or VX4==true)thencall UnitRemoveAbility(m5,'B0CG')call K_7(NO7)call NM7(t)endifset t=nullset m5=nullreturn falseendfunctionfunction U7F takes nothing returns nothinglocal trigger tlocal integer NO7local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit ZM7local integer i=0local boolean U8F=falselocal boolean U9F=falselocal integer SK8if m5==null thenset m5=GetTriggerUnit()endifset ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)loopexitwhen i>5 or U9Fif JV7(UnitItemInSlot(p5,i))==EE4 thenset SK8=GetItemCharges(UnitItemInSlot(p5,i))if SK8>0 thenset U8F=trueset SK8=SK8-1elseset U9F=trueset U8F=falseendifendifset i=i+1endloopif U8F==true thenset t=CreateTrigger()set NO7=GetHandleId(t)if IsUnitAlly(m5,GetOwningPlayer(p5))==true thencall UnitAddAbility(ZM7,'A1MM')call IssueTargetOrderById(ZM7,852609,m5)call MF7(NO7,"Target",m5)call TriggerRegisterTimerEvent(t,L3,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function U4F))elsecall MF7(NO7,"Target",m5)call MF7(NO7,"Source",p5)call MG7(NO7,"FX",AddSpecialEffectTarget("war3mapImported\\Urn_Enemy.mdx",m5,"overhead"))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T_F))endifendifset p5=nullset ZM7=nullset m5=nullset t=nullendfunctionfunction UDF takes nothing returns nothingif GetSpellAbilityId()=='A1MO' thencall U7F()endifendfunctionfunction UEF takes nothing returns nothinglocal integer i=0loopexitwhen i>16set VY4[i]=falseset i=i+1endloopendfunctionfunction UFF takes nothing returns nothingif VG8(GetEnumUnit())==false thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1ZX',false)call XO7(GetEnumUnit(),'A1ZX',1,XA4,'B0DX')endifendfunctionfunction UGF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer i=0local boolean UHF=falselocal boolean UIF=falselocal integer SK8local group gset g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),925,Condition(function X07))call ForGroup(g,function UFF)call T67(g)set g=nullset X97=nullendfunctionfunction UJF takes nothing returns nothingif GetSpellAbilityId()=='A1ZW' thencall UGF()endifendfunctionfunction UKF takes unit u returns booleanlocal integer RG7=GetUnitTypeId(u)return RG7=='H0B8' or RG7=='n0FJ' or RG7=='n0FI' or RG7=='n0F6' or RG7=='n0FH' or RG7=='u00S'endfunctionfunction UMF takes nothing returns booleanreturn IsUnitEnemy(GetFilterUnit(),XB4)and UY7(GetFilterUnit())==false and(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true or IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==true)and UKF(GetFilterUnit())==falseendfunctionfunction UNF takes unit X97 returns booleanlocal group g=TL7()local boolean UHFset XB4=GetOwningPlayer(X97)call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1050,Condition(function UMF))set UHF=FirstOfGroup(g)!=nullcall T67(g)return UHFendfunctionfunction UOF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group glocal integer S08local boolean UPFif GetTriggerEventId()==EVENT_PLAYER_UNIT_ATTACKED thenif GetAttacker()==X97 thencall UnitRemoveAbility(X97,'A20L')call UnitRemoveAbility(X97,'A20S')call UnitRemoveAbility(X97,'B0E2')call UnitRemoveAbility(X97,'B09Y')if((LoadInteger(C7,(GetHandleId((X97))),((4302))))==1)==false thencall UnitSetUsesAltIcon(X97,false)endifcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifelseset UPF=(LoadBoolean(C7,(V_7),(671)))set S08=(LoadInteger(C7,(V_7),(34)))set S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))set g=TL7()set XB4=GetOwningPlayer(X97)call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1050,Condition(function UMF))if GetUnitAbilityLevel(X97,'B09Y')>0 thencall SaveBoolean(C7,(V_7),(671),(true))elseif UPF thencall SaveBoolean(C7,(V_7),(671),(false))call UnitRemoveAbility(X97,'A20L')call UW7(X97,'A20L')endifif S08>400 or FirstOfGroup(g)!=null thencall UnitRemoveAbility(X97,'A20L')call UnitRemoveAbility(X97,'A20S')call UnitRemoveAbility(X97,'B0E2')call UnitRemoveAbility(X97,'B09Y')if((LoadInteger(C7,(GetHandleId((X97))),((4302))))==1)==false thencall UnitSetUsesAltIcon(X97,false)endifcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifcall T67(g)endifset t=nullset X97=nullset g=nullreturn falseendfunctionfunction UQF takes nothing returns nothinglocal unit X97=GetEnumUnit()local trigger tlocal integer V_7if R77(GetOwningPlayer(X97))and UNF(X97)==false thenif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))==false and TV7(GetLocalPlayer())==false thencall UnitSetUsesAltIcon(X97,true)endifcall UW7(X97,'A20L')call UnitMakeAbilityPermanent(X97,true,'A20L')if VG8(X97)==false thencall UW7(X97,'A20S')call UnitMakeAbilityPermanent(X97,true,'A20S')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A20S',false)endifset t=CreateTrigger()set V_7=GetHandleId(t)call SaveInteger(C7,(V_7),(34),(0))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveBoolean(C7,(V_7),(671),(false))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\SmokeOfDeceit.mdx",X97,"chest")))call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,.1,true)call TriggerAddCondition(t,Condition(function UOF))set t=nullendifset X97=nullendfunctionfunction URF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1225,Condition(function X17))call ForGroup(g,function UQF)call T67(g)set X97=nullset g=nullendfunctionfunction USF takes nothing returns nothingif GetSpellAbilityId()=='A206' thencall URF()endifendfunctionfunction InitTrig_Smoke_of_Deceit takes nothing returns nothingcall SetAltMinimapIcon("war3mapImported\\black.blp")endfunctionfunction UTF takes nothing returns nothingif VG8(GetEnumUnit())==false thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A28F',false)call XO7(GetEnumUnit(),'A28F',1,ZU4,'B0EQ')endifendfunctionfunction UUF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local real x=GetSpellTargetX()local real y=GetSpellTargetY()call GroupEnumUnitsInRange(g,x,y,525,Condition(function YK7))call ForGroup(g,function UTF)call T67(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\DarkLightningNova.mdx",x,y))set X97=nullset g=nullendfunctionfunction UVF takes nothing returns nothingif GetSpellAbilityId()=='A28D' thencall UUF()endifendfunctionfunction UWF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A2K3')call IssueTargetOrder(ZM7,"slow",U47)set X97=nullset U47=nullset ZM7=nullendfunctionfunction UXF takes nothing returns nothingif GetSpellAbilityId()=='A2EA' and T37(GetSpellTargetUnit())==false thencall UWF()endifendfunctionfunction UYF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer S08=(LoadInteger(C7,(V_7),(34)))if GetTriggerEventId()==EVENT_WIDGET_DEATH or S08==10 or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetEventDamage()>20)thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()!=EVENT_UNIT_DAMAGED thenset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))call SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)+17)endifset t=nullset X97=nullreturn falseendfunctionfunction UZF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function UYF))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\TranquilBootsHeal.mdx",X97,"origin")))set X97=nullset t=nullendfunctionfunction UAF takes nothing returns nothingif GetSpellAbilityId()=='A2K1' thencall UZF()endifendfunctionfunction UBF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=2if IsUnitType(U47,UNIT_TYPE_MELEE_ATTACKER)==true thenset ZN7=1endifcall UnitAddAbility(ZM7,'A2K5')call SetUnitAbilityLevel(ZM7,'A2K5',ZN7)call IssueTargetOrder(ZM7,"drunkenhaze",U47)set X97=nullset U47=nullset ZM7=nullendfunctionfunction UCF takes nothing returns nothingif GetSpellAbilityId()=='A2K4' and T37(GetSpellTargetUnit())==false thencall UBF()endifendfunctionfunction U3F takes integer ZN7,unit X97,unit U47 returns nothingset G47=truecall ZO7(X97,U47,Y84,300+100*ZN7)set G47=falseendfunctionfunction U6F takes nothing returns nothinglocal integer ULF=0if GetSpellAbilityId()=='A02O' thenset ULF=1endifif GetSpellAbilityId()=='A08Y' thenset ULF=2endifif GetSpellAbilityId()=='A08Z' thenset ULF=3endifif GetSpellAbilityId()=='A090' thenset ULF=4endifif GetSpellAbilityId()=='A092' thenset ULF=5endifif ULF>0 and T37(GetSpellTargetUnit())==false thencall U3F(ULF,GetTriggerUnit(),GetSpellTargetUnit())endifendfunctionfunction U1F takes nothing returns nothingif GetSpellAbilityId()=='A2HQ' thencall SQ8(GetTriggerUnit(),GetSpellTargetUnit())endifendfunctionfunction U0F takes unit X97,integer SN7,real x,real y returns nothinglocal unit U5F=CreateUnit(GetOwningPlayer(X97),SN7,x,y,0)call UnitApplyTimedLife(U5F,'BTLF',15)set U5F=nullendfunctionfunction U2F takes nothing returns nothinglocal unit U5Flocal real xlocal real yif GetSpellAbilityId()=='A1ZL' thenset x=GetDestructableX(GetSpellTargetDestructable())set y=GetDestructableY(GetSpellTargetDestructable())call U0F(GetTriggerUnit(),'n0LM',x,y)elseif GetSpellAbilityId()=='A1ZM' thenset x=GetDestructableX(GetSpellTargetDestructable())set y=GetDestructableY(GetSpellTargetDestructable())call U0F(GetTriggerUnit(),'n0LN',x,y)endifset U5F=nullendfunctionfunction U_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))call UnitRemoveAbility(X97,'A1ZJ')call UnitRemoveAbility(U47,'A1ZJ')call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction V4F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,7,false)call TriggerAddCondition(t,Condition(function U_F))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))call SaveUnitHandle(C7,(V_7),(17),(GetSpellTargetUnit()))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetSpellTargetUnit(),"chest")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\Cripple\\CrippleTarget.mdl",GetTriggerUnit(),"chest")))call UnitAddAbility(GetTriggerUnit(),'A1ZJ')call UnitAddAbility(GetSpellTargetUnit(),'A1ZJ')call UnitMakeAbilityPermanent(GetTriggerUnit(),true,'A1ZJ')call UnitMakeAbilityPermanent(GetSpellTargetUnit(),true,'A1ZJ')set t=nullendfunctionfunction V7F takes nothing returns nothingif GetSpellAbilityId()=='A1ZI' and T37(GetSpellTargetUnit())==false thencall V4F()endifendfunctionfunction V8F takes nothing returns nothinglocal unit H57=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7if GetSpellTargetUnit()==null thenif GetSpellAbilityId()=='AIpl' thenset ZM7=CreateUnit(GetOwningPlayer(H57),'e00E',GetUnitX(H57),GetUnitY(H57),0)call UnitAddAbility(ZM7,'A1WA')call IssueTargetOrderById(ZM7,852609,H57)set ZM7=nullelseif GetSpellAbilityId()=='AIpr' thenset ZM7=CreateUnit(GetOwningPlayer(H57),'e00E',GetUnitX(H57),GetUnitY(H57),0)call UnitAddAbility(ZM7,'AIpr')call IssueTargetOrderById(ZM7,852609,H57)set ZM7=nullendifendifset H57=nullset U47=nullendfunctionfunction V9F takes nothing returns nothingif GetSpellAbilityId()=='AIpl' or GetSpellAbilityId()=='AIpr' thencall V8F()endifendfunctionfunction VDF takes integer ZN7 returns integerif ZN7==1 thenreturn 25elseif ZN7==2 thenreturn 41elseif ZN7==3 thenreturn 62elseif ZN7==4 thenreturn 88elseif ZN7==5 thenreturn 119elseif ZN7==6 thenreturn 155endifreturn 25endfunctionfunction VEF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(34)))if(GetTriggerEventId()==EVENT_UNIT_DEATH and GetKillingUnit()==X97)or(GetTriggerEventId()==EVENT_UNIT_DAMAGED and GetUnitAbilityLevel(U47,'B0ES')>0)thencall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Other\\Transmute\\PileofGold.mdl",GetUnitX(U47),GetUnitY(U47)))call AddHeroXP(X97,R2I(VDF(ZN7)*2.5),true)call W07(GetOwningPlayer(X97),U47,190)set UI4[GetPlayerId(GetOwningPlayer(X97))]=UI4[GetPlayerId(GetOwningPlayer(X97))]+190call FlushChildHashtable(C7,(V_7))call NM7(t)call KillUnit(U47)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction VFF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitLevel(U47)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(34),(ZN7))call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function VEF))set t=nullset X97=nullset U47=nullendfunctionfunction VGF takes nothing returns nothingif GetSpellAbilityId()=='A28Y' thencall VFF()endifendfunctionfunction VHF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer TM7=GetHandleId(t)local unit XT7=(LoadUnitHandle(C7,(TM7),(2)))local real VIF=(LoadReal(C7,(TM7),(242)))local real VJF=(LoadReal(C7,(TM7),(529)))local real VKF=(LoadReal(C7,(TM7),(530)))local real VMF=GetUnitState(XT7,UNIT_STATE_MANA)local real VNF=GetUnitState(XT7,UNIT_STATE_MAX_MANA)local real VOF=VIF-VMFif GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(TM7))call NM7(t)elseif GetTriggerEvalCount(t)==20*10 thencall FlushChildHashtable(C7,(TM7))call NM7(t)if VJF<150 thencall SetUnitState(XT7,UNIT_STATE_MANA,VMF-(150-VJF-VKF))endifelseif VOF>0 thenset VJF=VJF+(VIF-VMF)if VKF>0 thenif VOF>VKF thencall SetUnitState(XT7,UNIT_STATE_MANA,VMF+VKF)set VKF=0elseif VKF>(VNF-VMF)thenset VKF=VKF-(VNF-VMF)call SetUnitState(XT7,UNIT_STATE_MANA,VMF+VNF-VMF)elseset VKF=VKF-VOFcall SetUnitState(XT7,UNIT_STATE_MANA,VMF+VOF)endifendifendifendifset VIF=VMFcall SaveReal(C7,(TM7),(242),((VIF)*1.0))call SaveReal(C7,(TM7),(529),((VJF)*1.0))call SaveReal(C7,(TM7),(530),((VKF)*1.0))endifset t=nullset XT7=nullreturn falseendfunctionfunction VPF takes nothing returns nothinglocal unit XT7=GetTriggerUnit()local real UBD=GetUnitState(XT7,UNIT_STATE_LIFE)local trigger t=CreateTrigger()local integer TM7=GetHandleId(t)local real VMF=GetUnitState(XT7,UNIT_STATE_MANA)if UBD>151 thencall SetUnitState(XT7,UNIT_STATE_LIFE,UBD-150)elsecall SetUnitState(XT7,UNIT_STATE_LIFE,1)endifcall V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",XT7,"origin",2)call SetUnitState(XT7,UNIT_STATE_MANA,VMF+150)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,XT7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VHF))call SaveUnitHandle(C7,(TM7),(2),(XT7))call SaveReal(C7,(TM7),(242),((GetUnitState(XT7,UNIT_STATE_MANA))*1.0))call SaveReal(C7,(TM7),(529),((0)*1.0))if(VMF+150)>GetUnitState(XT7,UNIT_STATE_MAX_MANA)thencall SaveReal(C7,(TM7),(530),(((VMF+150)-GetUnitState(XT7,UNIT_STATE_MAX_MANA))*1.0))endifset XT7=nullendfunctionfunction VQF takes nothing returns nothingif GetSpellAbilityId()=='A1Q8' thencall VPF()endifendfunctionfunction VRF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(X97,'A1QC')call UnitRemoveAbility(X97,'B0CY')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset X97=nullset t=nullreturn falseendfunctionfunction VSF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEvalCount(t)>30 or GetTriggerEventId()==EVENT_UNIT_DEATH or((LoadInteger(C7,(GetHandleId((X97))),((4256))))==1)thencall UnitRemoveAbility(X97,'Aetl')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset X97=nullset t=nullreturn falseendfunctionfunction VTF takes unit u returns nothinglocal unit X97=ulocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UnitAddAbility(X97,'Aetl')call UnitMakeAbilityPermanent(X97,true,'Aetl')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'Aetl',false)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VSF))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction VUF takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local real KED=(LoadReal(C7,(V_7),(20)))local trigger tif X97!=U47 thenset t=CreateTrigger()set V_7=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A1QC',false)call UnitAddAbility(U47,'A1QC')call UnitMakeAbilityPermanent(U47,true,'A1QC')call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function VRF))call SaveUnitHandle(C7,(V_7),(2),(U47))call VTF(U47)call WD7("+"+I2S(R2I(KED)),2,U47,0.027,3,216,120,216)set G47=truecall ZO7(X97,U47,Y84,KED)set G47=falseendifcall VTF(X97)set X97=nullset U47=nullendfunctionfunction VVF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t2=WX7(X97,U47,'h0BS',"VUF",1000)local integer VWF=GetHandleId(t2)call SaveReal(C7,(VWF),(20),((GetHeroAgi(X97,true)*2.0+75)*1.0))set X97=nullset U47=nullset t2=nullendfunctionfunction VXF takes nothing returns nothingif GetSpellAbilityId()=='A1QD' and(GetSpellTargetUnit()==GetTriggerUnit()or T37(GetSpellTargetUnit())==false)thencall VVF()endifendfunctionfunction VYF takes nothing returns nothingcall SetUnitState(GetEnumUnit(),UNIT_STATE_MANA,GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)+135)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIma\\AImaTarget.mdl",GetEnumUnit(),"origin"))endfunctionfunction VZF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group g=TL7()set I04=X97call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),25+600,Condition(function YQ7))call ForGroup(g,function VYF)call T67(g)call FlushChildHashtable(C7,(V_7))call NM7(t)set g=nullset X97=nullset t=nullreturn falseendfunctionfunction VAF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group glocal trigger tif GetSpellAbilityId()=='A0K7' thenif GetUnitTypeId(X97)!='H00J' thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function VZF))call SaveUnitHandle(C7,(GetHandleId(t)),(2),(X97))set t=nullelsecall SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MANA)+25)endifendifset X97=nullset g=nullset t=nullendfunctionfunction VBF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7if GetSpellAbilityId()=='A1T7' and(T37(GetSpellTargetUnit())==false or IsPlayerAlly(GetOwningPlayer(X97),GetOwningPlayer(U47))==true)thenif GetSpellTargetItem()!=null thenset U47=GetTriggerUnit()endifset ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'AIcy')call IssueTargetOrder(ZM7,"cyclone",U47)endifset X97=nullset U47=nullset ZM7=nullendfunctionfunction VCF takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())=='e00E' thenreturn falseendifcall C_8()call B58()call CB8()call R6F()call SUF()call SZF()call SAF()call SLF()call C68()call KVF()call S1F()call FRF()call BY8()call FZF()call TGF()call F2F()call FBF()call TPF()call TNF()call POF()call TQF()call TTF()call TXF()call TAF()call T3F()call T8F()call T1F()call T5F()call UDF()call VQF()call VXF()call VBF()call VAF()call VGF()call V9F()call V7F()call U2F()call UJF()call USF()call UVF()call UXF()call U1F()call U6F()call UAF()call UCF()if GetSpellAbilityId()=='A2K7' and T37(GetSpellTargetUnit())==false thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\LevelerStunFX.mdx",GetSpellTargetUnit(),"head"))endifreturn falseendfunctionfunction V3F takes nothing returns booleancall RHF()call RIF()call RNF()call RSF()call LE8()call RWF()call RXF()call RYF()call RZF()call RBF()return falseendfunctionfunction V6F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit VLF=MZ7(NO7,"Caster")local unit m5=MZ7(NO7,"Target")local effect FX=ML7(NO7,"FX")local player p=GetOwningPlayer(TX7)call UnitShareVision(m5,p,false)call DestroyEffect(FX)call RemoveUnit(VLF)call UnitRemoveAbility(m5,'B06H')call K_7(NO7)call NM7(t)set t=nullset TX7=nullset VLF=nullset m5=nullset FX=nullset p=nullreturn falseendfunctionfunction V1F takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local player p=GetOwningPlayer(TX7)local unit VLFlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local string s="effects\\Snipe Target.mdx"if IsPlayerAlly(GetLocalPlayer(),p)==false and TV7(GetLocalPlayer())==false thenset s=""endifcall UnitShareVision(m5,p,true)set VLF=CreateUnit(GetOwningPlayer(m5),'e01R',0,0,0)call UW7(VLF,'A0NI')call MF7(NO7,"Target",m5)call MF7(NO7,"Hero",TX7)call MF7(NO7,"Caster",VLF)call MG7(NO7,"FX",AddSpecialEffectTarget(s,m5,"overhead"))call TriggerRegisterTimerEvent(t,4,false)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function V6F))set t=nullset TX7=nullset m5=nullset VLF=nullset p=nullendfunctionfunction V0F takes nothing returns booleanif GetSpellAbilityId()=='A04P' thencall V1F()endifreturn falseendfunctionfunction DN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CHANNEL)call TriggerAddCondition(t,Condition(function V0F))set t=nullendfunctionfunction V5F takes nothing returns booleanlocal real dif IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I_4))==true thenset d=J87(I34,IL4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<IZ4 thenset IZ4=dset I04=GetFilterUnit()endifendifreturn falseendfunctionfunction V2F takes unit V_F,real x,real y returns unitlocal group g=TL7()set I04=nullset I_4=V_Fset IZ4=99999set I34=xset IL4=ycall GroupEnumUnitsInRange(g,x,y,2000,Condition(function V5F))call T67(g)set g=nullreturn I04endfunctionfunction W4F takes nothing returns booleanlocal real dif GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and UY7(GetFilterUnit())==false and IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==false and IsUnitAlly(GetFilterUnit(),GetOwningPlayer(I_4))==true thenset d=J87(I34,IL4,GetUnitX(GetFilterUnit()),GetUnitY(GetFilterUnit()))if d<IZ4 thenset IZ4=dset I04=GetFilterUnit()endifendifreturn falseendfunctionfunction W7F takes unit V_F,real x,real y returns unitlocal group g=TL7()set I04=nullset I_4=V_Fset IZ4=99999set I34=xset IL4=ycall GroupEnumUnitsInRange(g,x,y,2000,Condition(function W4F))call T67(g)set g=nullreturn I04endfunctionfunction W8F takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location llocal real xlocal real ylocal unit m5=GetSpellTargetUnit()if m5==null thenset l=GetSpellTargetLoc()set x=GetLocationX(l)set y=GetLocationY(l)call RemoveLocation(l)if GetSpellAbilityId()=='A0CX' thenset m5=V2F(TX7,x,y)elseset m5=W7F(TX7,x,y)endifset x=GetUnitX(m5)set y=GetUnitY(m5)elseset x=GetUnitX(GetSpellTargetUnit())set y=GetUnitY(GetSpellTargetUnit())endifif(IsUnitAlly(TX7,GetLocalPlayer())and GetLocalPlayer()!=GetOwningPlayer(TX7))or(O8 and(GetLocalPlayer()==K_4 or GetLocalPlayer()==M44))thencall PingMinimapEx(x,y,3,255,255,255,false)endifset TX7=nullset l=nullendfunctionfunction W9F takes nothing returns booleanif GetSpellAbilityId()=='A0CX' or GetSpellAbilityId()=='AImt' thencall W8F()endifreturn falseendfunctionfunction WDF takes unit WEF returns nothinglocal group g=TL7()local real x=GetUnitX(WEF)local real y=GetUnitY(WEF)local unit WFFlocal unit WGF=CreateUnit(GetOwningPlayer(WEF),'e00E',x,y,0)local integer WHF=GetUnitAbilityLevel(WEF,'A0Z4')set I04=WEFcall GroupEnumUnitsInRange(g,x,y,300,Condition(function YV7))set WFF=GroupPickRandomUnit(g)call T67(g)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\FlakCannons\\FlakTarget.mdl",WEF,"origin"))if WFF!=null thencall UW7(WGF,'A0Z7')call SetUnitAbilityLevel(WGF,'A0Z7',WHF)call IssueTargetOrder(WGF,"thunderbolt",WFF)endifset g=nullset WFF=nullset WGF=nullendfunctionfunction WIF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer WJF=GetHandleId(t)local integer WKF=GetTriggerEvalCount(t)local unit WMF=MZ7(WJF,"Hero")if WKF>14 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(WJF)call NM7(t)elsecall WDF(WMF)endifset t=nullset WMF=nullreturn falseendfunctionfunction WNF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer WJF=GetHandleId(t)local unit WMF=GetTriggerUnit()call TriggerRegisterTimerEvent(t,.75,true)call TriggerRegisterUnitEvent(t,WMF,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function WIF))call MF7(WJF,"Hero",WMF)call TriggerEvaluate(t)set t=nullset WMF=nullendfunctionfunction WOF takes nothing returns booleanif GetSpellAbilityId()=='A0Z4' thencall WNF()endifreturn falseendfunctionfunction I38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WOF))set t=nullendfunctionfunction WPF takes real s,real WQF,real WRF,real WSF returns booleanreturn s<=WQF and s<=WRF and s<=WSFendfunctionfunction WTF takes unit u,real x,real y,real d returns reallocal real x2=GetUnitX(u)local real y2=GetUnitY(u)local real WUF=J87(x-d,y,x2,y2)local real WVF=J87(x+d,y,x2,y2)local real WWF=J87(x,y+d,x2,y2)local real WXF=J87(x,y-d,x2,y2)if WPF(WUF,WVF,WXF,WWF)thenreturn 180.0elseif WPF(WVF,WUF,WXF,WWF)thenreturn 0.0elseif WPF(WXF,WVF,WUF,WWF)thenreturn 270.0endifreturn 90.0endfunctionfunction WYF takes real s,real WQF,real WRF,real WSF,real WZF,real WAF,real WBF,real WCF returns booleanreturn s<=WQF and s<=WRF and s<=WSF and s<=WZF and s<=WAF and s<=WBF and s<=WCFendfunctionfunction W3F takes unit u,integer NO7 returns unitlocal real x1=GetUnitX(u)local real y1=GetUnitY(u)local unit W6F=MZ7(NO7,"Cog1")local unit WLF=MZ7(NO7,"Cog2")local unit W1F=MZ7(NO7,"Cog3")local unit W0F=MZ7(NO7,"Cog4")local unit W5F=MZ7(NO7,"Cog5")local unit W2F=MZ7(NO7,"Cog6")local unit W_F=MZ7(NO7,"Cog7")local unit X4F=MZ7(NO7,"Cog8")local real WQF=J87(x1,y1,GetUnitX(W6F),GetUnitY(W6F))local real WRF=J87(x1,y1,GetUnitX(WLF),GetUnitY(WLF))local real WSF=J87(x1,y1,GetUnitX(W1F),GetUnitY(W1F))local real WZF=J87(x1,y1,GetUnitX(W0F),GetUnitY(W0F))local real WAF=J87(x1,y1,GetUnitX(W5F),GetUnitY(W5F))local real WBF=J87(x1,y1,GetUnitX(W2F),GetUnitY(W2F))local real WCF=J87(x1,y1,GetUnitX(W_F),GetUnitY(W_F))local real X7F=J87(x1,y1,GetUnitX(X4F),GetUnitY(X4F))if WYF(WQF,WRF,WSF,WZF,WAF,WBF,WCF,X7F)thenreturn W6Felseif WYF(WRF,WQF,WSF,WZF,WAF,WBF,WCF,X7F)thenreturn WLFelseif WYF(WSF,WRF,WQF,WZF,WAF,WBF,WCF,X7F)thenreturn W1Felseif WYF(WZF,WRF,WSF,WQF,WAF,WBF,WCF,X7F)thenreturn W0Felseif WYF(WAF,WRF,WSF,WZF,WQF,WBF,WCF,X7F)thenreturn W5Felseif WYF(WBF,WRF,WSF,WZF,WAF,WQF,WCF,X7F)thenreturn W2Felseif WYF(WCF,WRF,WSF,WZF,WAF,WBF,WQF,X7F)thenreturn W_Felseif WYF(X7F,WRF,WSF,WZF,WAF,WBF,WCF,WQF)thenreturn X4Fendifcall H17("WTF????")return nullendfunctionfunction X8F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real X9F=N47(NO7,"Angle")local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real I7F=12local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local integer XDF=30+30*SR7if GetTriggerEvalCount(t)>21 thencall K_7(NO7)call NM7(t)call NJ7(m5,"PowerCogShocked")call ZO7(p5,m5,Y84,I2R(XDF))call SetUnitState(m5,UNIT_STATE_MANA,VC7(GetUnitState(m5,UNIT_STATE_MANA)-XDF,0))elsecall DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",x,y))call WK7(x,y,150)if NF7(m5,"TimeWalk|Active")==false thencall SetUnitPosition(m5,x+I7F*Cos(X9F*bj_DEGTORAD),y+I7F*Sin(X9F*bj_DEGTORAD))endifendifset t=nullset m5=nullreturn falseendfunctionfunction XEF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit m5=GetEnumUnit()local real x=IZ4local real y=I34local real d=IL4local real X9F=WTF(m5,x,y,d)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",m5,"chest"))call NH7(m5,"PowerCogShocked")call MF7(NO7,"Target",m5)call M97(NO7,"Angle",X9F*1.0)call M87(NO7,"Level",IY4)call MF7(NO7,"Source",I04)call TriggerRegisterTimerEvent(t,0.04,true)call TriggerAddCondition(t,Condition(function X8F))set t=nullset m5=nullendfunctionfunction XFF takes unit u,integer NO7 returns booleanlocal unit XGF=W3F(u,NO7)local boolean XHF=trueif UY7(XGF)or M_7(GetHandleId(XGF),"PowerCogUsed")==1 thenset XHF=falseendifcall M87(GetHandleId(XGF),"PowerCogUsed",1)call SetUnitVertexColor(XGF,25,25,25,175)set XGF=nullreturn XHFendfunctionfunction XIF takes nothing returns nothingif GetUnitState(GetEnumUnit(),UNIT_STATE_MANA)>0 and IsUnitInGroup(GetEnumUnit(),J44)==false and NF7(GetEnumUnit(),"PowerCogShocked")==false and XFF(GetEnumUnit(),tl)thencall NH7(GetEnumUnit(),"PowerCogShocked")call GroupAddUnit(aL,GetEnumUnit())endifendfunctionfunction XJF takes trigger t,unit TX7,real x,real y,real d,integer SR7 returns nothinglocal integer NO7=GetHandleId(t)local real XKF=200local rect r1=Rect(x-d,y-d,x+d,y+d)local rect r2=Rect(x-d-XKF,y-d-XKF,x+d+XKF,y+d+XKF)local group g1=TL7()local group g2=TL7()local group g3=TL7()set I04=TX7call GroupEnumUnitsInRect(g1,r1,Condition(function Y47))call GroupEnumUnitsInRect(g2,r2,Condition(function Y47))set J44=g1set aL=g3set IZ4=xset I34=yset IL4=dset tl=NO7call ForGroup(g2,function XIF)set IY4=SR7call ForGroup(g3,function XEF)call T67(g1)call T67(g2)call T67(g3)call RemoveRect(r1)call RemoveRect(r2)set g1=nullset g2=nullset g3=nullset r1=nullset r2=nullendfunctionfunction XMF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real x=N47(NO7,"x")local real y=N47(NO7,"y")local player p=MB7(NO7,"p")local boolean XNF=N77(NO7,"NeedFix")call K_7(NO7)call NM7(t)if XNF thencall WP7(p,.2,x,y,500)endifset t=nullset p=nullreturn falseendfunctionfunction XOF takes unit XGF returns nothinglocal real x=GetUnitX(XGF)local real y=GetUnitY(XGF)local player p=GetOwningPlayer(XGF)local unit oA=CreateUnit(p,'u00W',x,y,0)call KillUnit(oA)set p=nullset oA=nullendfunctionfunction XPF takes integer NO7,real x,real y,boolean XNF,player p returns nothinglocal unit W6F=MZ7(NO7,"Cog1")local unit WLF=MZ7(NO7,"Cog2")local unit W1F=MZ7(NO7,"Cog3")local unit W0F=MZ7(NO7,"Cog4")local unit W5F=MZ7(NO7,"Cog5")local unit W2F=MZ7(NO7,"Cog6")local unit W_F=MZ7(NO7,"Cog7")local unit X4F=MZ7(NO7,"Cog8")local trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.1,false)call TriggerAddCondition(t,Condition(function XMF))call M97(GetHandleId(t),"x",x*1.0)call M97(GetHandleId(t),"y",y*1.0)call MM7(GetHandleId(t),"p",p)call ME7(GetHandleId(t),"NeedFix",XNF)call XOF(W6F)call RemoveUnit(W6F)call XOF(WLF)call RemoveUnit(WLF)call XOF(W1F)call RemoveUnit(W1F)call XOF(W0F)call RemoveUnit(W0F)call XOF(W5F)call RemoveUnit(W5F)call XOF(W2F)call RemoveUnit(W2F)call XOF(W_F)call RemoveUnit(W_F)call XOF(X4F)call RemoveUnit(X4F)set W6F=nullset WLF=nullset W1F=nullset W0F=nullset W5F=nullset W2F=nullset W_F=nullset X4F=nullendfunctionfunction XQF takes unit XGF,integer NO7,integer XRF,player p returns nothingif IsUnitVisible(XGF,p)thencall ME7(NO7,"NeedFix",true)endifcall MF7(NO7,"Cog"+I2S(XRF),XGF)endfunctionfunction XSF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real Hk=N47(NO7,"Duration")local integer ZZD=GetTriggerEvalCount(t)if ZZD>R2I(Hk*10)thencall XPF(NO7,N47(NO7,"x"),N47(NO7,"y"),N77(NO7,"NeedFix"),MB7(NO7,"Enemy"))call K_7(NO7)call NM7(t)elsecall XJF(t,MZ7(NO7,"Hero"),N47(NO7,"x"),N47(NO7,"y"),N47(NO7,"d"),M_7(NO7,"Level"))endifset t=nullreturn falseendfunctionfunction XTF takes nothing returns nothingcall SetUnitX(GetEnumUnit(),GetUnitX(I04))call SetUnitY(GetEnumUnit(),GetUnitY(I04))endfunctionfunction XUF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local integer SR7=GetUnitAbilityLevel(TX7,'A0Z5')local integer ID='u00S'local real x1=GetUnitX(TX7)local real y1=GetUnitY(TX7)local real x2local real y2local real d=125local unit XGFlocal real Hk=2+SR7local real BufferDuration=5local group glocal rect XVFlocal player XWFif Q_7(GetOwningPlayer(TX7))thenset XWF=Z7[0]elseset XWF=Y7[0]endifcall K_7(NO7)call NM7(t)set t=CreateTrigger()set NO7=GetHandleId(t)call ME7(NO7,"NeedFix",false)set x2=x1+dset y2=y1set XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,1,XWF)if R97(GetOwningPlayer(TX7))thencall MF7(GetHandleId(TX7),"AI|Cog1",XGF)endifset x2=x1+dset y2=y1+dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,2,XWF)set x2=x1set y2=y1+dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,3,XWF)if R97(GetOwningPlayer(TX7))thencall MF7(GetHandleId(TX7),"AI|Cog2",XGF)endifset x2=x1-dset y2=y1+dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,4,XWF)set x2=x1-dset y2=y1set XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,5,XWF)if R97(GetOwningPlayer(TX7))thencall MF7(GetHandleId(TX7),"AI|Cog3",XGF)endifset x2=x1-dset y2=y1-dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,6,XWF)set x2=x1set y2=y1-dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,7,XWF)if R97(GetOwningPlayer(TX7))thencall MF7(GetHandleId(TX7),"AI|Cog4",XGF)endifset x2=x1+dset y2=y1-dset XGF=CreateUnit(GetOwningPlayer(TX7),ID,x2,y2,0)call SetUnitPosition(XGF,x2,y2)call XQF(XGF,NO7,8,XWF)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function XSF))call M97(NO7,"Duration",Hk*1.0)call M97(NO7,"x",x1*1.0)call M97(NO7,"y",y1*1.0)call M97(NO7,"d",d*1.0)call MF7(NO7,"Hero",TX7)call M87(NO7,"Level",SR7)call MM7(NO7,"Enemy",XWF)set d=d+110set g=TL7()set XVF=Rect(x1-d,y1-d,x1+d,y1+d)set I04=TX7call GroupEnumUnitsInRect(g,XVF,Condition(function YZ7))call ForGroup(g,function XTF)call T67(g)set t=nullset g=nullset TX7=nullset XGF=nullset XVF=nullset XWF=nullreturn falseendfunctionfunction XXF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()call TriggerRegisterTimerEvent(t,0.1,false)call TriggerAddCondition(t,Condition(function XUF))call MF7(NO7,"Hero",TX7)set t=nullset TX7=nullendfunctionfunction XYF takes nothing returns booleanif GetSpellAbilityId()=='A0Z5' thencall XXF()endifreturn falseendfunctionfunction I68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function XYF))set t=nullendfunctionfunction XZF takes nothing returns nothingif JS7(GetEnumUnit())==false thencall ZO7(I04,GetEnumUnit(),Y84,IZ4)endifendfunctionfunction XAF takes unit XBF,real x,real y returns nothinglocal real x1local real y1local group g=TL7()local integer XCF=GetUnitAbilityLevel(XBF,'A0Z6')local real X3F=40+40*XCFset I04=XBFset IZ4=X3Fcall GroupEnumUnitsInRange(g,x,y,600,Condition(function Y47))call ForGroup(g,function XZF)call T67(g)set x1=xset y1=ycall DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x+200set y1=y+200call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x+200set y1=y-200call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x-200set y1=y+200call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))set x1=x-200set y1=y-200call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FlyingMachine\\FlyingMachineImpact.mdl",x1,y1))call WP7(GetOwningPlayer(XBF),10,x,y,600)set g=nullendfunctionfunction X6F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit hnlocal unit XLF=MZ7(NO7,"Projectile")local real X1F=N47(NO7,"TargetX")local real X0F=N47(NO7,"TargetY")local real X5F=N47(NO7,"Angle")local real X2F=N47(NO7,"SourceX")local real X_F=N47(NO7,"SourceY")local real Y4F=VK7(X2F+30*Cos(X5F))local real Y7F=VM7(X_F+30*Sin(X5F))call SetUnitX(XLF,Y4F)call SetUnitY(XLF,Y7F)call M97(NO7,"SourceX",Y4F)call M97(NO7,"SourceY",Y7F)if J87(X1F,X0F,Y4F,Y7F)<=35 thencall KillUnit(XLF)set hn=MZ7(NO7,"Hero")call XAF(hn,Y4F,Y7F)call K_7(NO7)call NM7(t)endifset t=nullset hn=nullset XLF=nullreturn falseendfunctionfunction Y8F takes nothing returns nothinglocal unit hn=GetTriggerUnit()local real X2F=VK7(GetUnitX(hn))local real X_F=VM7(GetUnitY(hn))local location Y9F=GetSpellTargetLoc()local real X1F=VK7(GetLocationX(Y9F))local real X0F=VM7(GetLocationY(Y9F))local real X5F=Atan2(X0F-X_F,X1F-X2F)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit XLF=CreateUnit(GetOwningPlayer(hn),'h03Y',X2F,X_F,X5F*bj_RADTODEG)call RemoveLocation(Y9F)call SetUnitFacing(XLF,X5F*bj_RADTODEG)call SetUnitPathing(XLF,false)call UW7(XLF,'Aloc')call ShowUnit(XLF,false)call UnitRemoveAbility(XLF,'Aloc')call ShowUnit(XLF,true)call M97(NO7,"OriginalX",X2F)call M97(NO7,"OriginalY",X_F)call M97(NO7,"SourceX",X2F)call M97(NO7,"SourceY",X_F)call M97(NO7,"TargetX",X1F)call M97(NO7,"TargetY",X0F)call M97(NO7,"Angle",X5F)call MF7(NO7,"Hero",hn)call MF7(NO7,"Projectile",XLF)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function X6F))set hn=nullset Y9F=nullset t=nullset XLF=nullendfunctionfunction YDF takes nothing returns booleanif GetSpellAbilityId()=='A0Z6' thencall Y8F()endifreturn falseendfunctionfunction IL8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YDF))set t=nullendfunctionfunction YEF takes unit p5,unit m5 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)local integer SR7=GetUnitAbilityLevel(p5,'A0Z8')if SR7==0 thenset SR7=GetUnitAbilityLevel(p5,'A1CV')endifcall UW7(ZM7,'A0Z9')call SetUnitAbilityLevel(ZM7,'A0Z9',SR7)call IssueTargetOrder(ZM7,"thunderbolt",m5)set ZM7=nullendfunctionfunction YFF takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false thencall GroupAddUnit(J44,GetEnumUnit())call YEF(I04,GetEnumUnit())endifendfunctionfunction YGF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit m5=MZ7(NO7,"Target")local integer YHF=M_7(NO7,"MaxLinks")local integer RU8=GetTriggerEvalCount(t)local unit YIFlocal group YJF=M67(NO7,"AlreadyAdded")local group glocal real YKF=200if m5==null thenset YIF=MZ7(NO7,"YMF"+I2S(YHF+1-RU8))call RemoveUnit(YIF)elseset YIF=MZ7(NO7,"YMF"+I2S(RU8))call SetUnitX(TX7,GetUnitX(YIF))call SetUnitY(TX7,GetUnitY(YIF))call RemoveUnit(YIF)if RU8==YHF thenset YKF=225endifset g=TL7()set I04=TX7set J44=YJFcall GroupEnumUnitsInRange(g,GetUnitX(TX7),GetUnitY(TX7),YKF,Condition(function Y47))call ForGroup(g,function YFF)call T67(g)endifif RU8==YHF thenif m5!=null thencall PauseUnit(m5,false)endifcall WK7(GetUnitX(TX7),GetUnitY(TX7),100)call T67(YJF)call K_7(NO7)call NM7(t)endifset t=nullset TX7=nullset m5=nullset YIF=nullset YJF=nullset g=nullreturn falseendfunctionfunction YNF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real l4=N47(NO7,"Angle")local integer IWD=M_7(NO7,"MaxCount")local integer RU8=GetTriggerEvalCount(t)local real x=GetUnitX(TX7)+RU8*50*Cos(l4*bj_DEGTORAD)local real y=GetUnitY(TX7)+RU8*50*Sin(l4*bj_DEGTORAD)local boolean A69=N77(NO7,"Scepter")local unit YOFlocal trigger YPF=M37(NO7,"Retract")local integer YKD=GetHandleId(YPF)local group g=TL7()local unit m5local integer ID='u00V'local real YKF=125if RU8==1 thenset YKF=100endifset I04=TX7call GroupEnumUnitsInRange(g,x,y,YKF,Condition(function YI7))call GroupRemoveUnit(g,TX7)set m5=GroupPickRandomUnit(g)call T67(g)if m5!=null or RU8==IWD or RU8==(IWD-1)or RU8==(IWD-2)thenset ID='u00U'endifset YOF=CreateUnit(GetOwningPlayer(TX7),ID,x,y,l4)call MF7(YKD,"YMF"+I2S(RU8),YOF)if m5!=null thenif(IsUnitAlly(m5,GetOwningPlayer(TX7))==true and A69==false)or GetOwningPlayer(m5)==A7 or NF7(m5,"Frozen")==true thenset m5=nullendifcall K_7(NO7)call NM7(t)if m5!=null and IsUnitAlly(m5,GetOwningPlayer(TX7))==false thencall PauseUnit(m5,true)endifcall TriggerRegisterTimerEvent(YPF,0.5/ IWD,true)call TriggerAddCondition(YPF,Condition(function YGF))call M87(YKD,"MaxLinks",RU8)call MF7(YKD,"Target",m5)call MF7(YKD,"Hero",TX7)call MO7(YKD,"AlreadyAdded",TL7())elseif RU8>IWD thenset m5=nullcall K_7(NO7)call NM7(t)call TriggerRegisterTimerEvent(YPF,0.5/ IWD,true)call TriggerAddCondition(YPF,Condition(function YGF))call M87(YKD,"MaxLinks",RU8)call MF7(YKD,"Target",m5)call MF7(YKD,"Hero",TX7)call MO7(YKD,"AlreadyAdded",TL7())endifset t=nullset TX7=nullset YOF=nullset YPF=nullset g=nullset m5=nullreturn falseendfunctionfunction YMF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real l4=W77(GetUnitX(TX7),GetUnitY(TX7),GetLocationX(l),GetLocationY(l))local integer SR7=GetUnitAbilityLevel(TX7,'A0Z8')local integer YQFlocal integer IWDlocal boolean A69=falseif SR7==0 thenset SR7=GetUnitAbilityLevel(TX7,'A1CV')set A69=trueendifset YQF=1500+500*SR7set IWD=YQF/ 50call MF7(NO7,"Hero",TX7)call M87(NO7,"Level",SR7)call M97(NO7,"Angle",l4*1.0)call M87(NO7,"MaxCount",IWD)call MH7(NO7,"Retract",CreateTrigger())call ME7(NO7,"Scepter",A69)call TriggerRegisterTimerEvent(t,0.5/ IWD,true)call TriggerAddCondition(t,Condition(function YNF))call RemoveLocation(l)set t=nullset TX7=nullset l=nullendfunctionfunction YRF takes nothing returns booleanif GetSpellAbilityId()=='A0Z8' or GetSpellAbilityId()=='A1CV' thencall YMF()endifreturn falseendfunctionfunction I18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YRF))set t=nullendfunctionfunction YSF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real R09if ZN7==1 thenset R09=15elseif ZN7==2 thenset R09=30elseif ZN7==3 thenset R09=40elseif ZN7==4 thenset R09=50endifif GetTriggerEvalCount(t)==3 or GetTriggerEvalCount(t)==4 thencall ZO7(X97,U47,Y84,R09)endifif GetTriggerEvalCount(t)==4 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call UnitRemoveAbility(U47,'A1VS')call UnitRemoveAbility(U47,'B0DN')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction YTF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'AHtb')if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetEventDamageSource()==X97 and GetEventDamage()==0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function YSF))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",U47,"chest")))call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A1VS',false)call UW7(U47,'A1VS')endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction YUF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local real d=J77(X97,U47)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function YTF))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullendfunctionfunction YVF takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"weapon"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIfb\\AIfbSpecialArt.mdl",GetTriggerUnit(),"hand"))endfunctionfunction YWF takes nothing returns booleanif GetSpellAbilityId()=='AHtb' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall YVF()elseif T37(GetSpellTargetUnit())==false thencall YUF()endifendifreturn falseendfunctionfunction I_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function YWF))set t=nullendfunctionfunction YXF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UnitAddAbility(ZM7,'A274')call IssueImmediateOrder(ZM7,"thunderclap")call SelectUnitForPlayerSingle(X97,GetOwningPlayer(X97))call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction YYF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A01Y')if TimerGetRemaining(NP4[GetPlayerId(GetOwningPlayer(X97))])==0 and GetUnitState(X97,UNIT_STATE_MANA)>=140 thencall TimerStart(NP4[GetPlayerId(GetOwningPlayer(X97))],360-100*ZN7,false,null)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,3+0.01,false)call TriggerAddCondition(t,Condition(function YXF))call SaveUnitHandle(C7,(V_7),(2),(X97))endifset t=nullset X97=nullreturn falseendfunctionfunction YZF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function YYF))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction YAF takes nothing returns booleanif GetLearnedSkill()=='A01Y' and GetUnitAbilityLevel(GetTriggerUnit(),'A01Y')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall YZF()endifreturn falseendfunctionfunction J48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function YAF))set t=nullendfunctionfunction YBF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")call K_7(NO7)call NM7(t)call ZU7(p5,0)set t=nullset p5=nullreturn falseendfunctionfunction YCF takes nothing returns booleanif GetUnitTypeId(GetFilterUnit())==GetUnitTypeId(BB)and GetOwningPlayer(GetFilterUnit())==GetOwningPlayer(BB)and IsUnitIllusion(GetFilterUnit())==true thencall SetUnitX(GetFilterUnit(),OB)call SetUnitY(GetFilterUnit(),AB)call IssueTargetOrder(GetFilterUnit(),"attack",cB)endifreturn falseendfunctionfunction Y3F takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real t5=GetUnitX(p5)local real w5=GetUnitY(p5)local real Y5=GetUnitX(m5)local real Z5=GetUnitY(m5)local real l4=W77(t5,w5,Y5,Z5)local real UPD=J87(t5,w5,Y5,Z5)local real d=GetRandomReal(UPD*0.3,UPD*0.8)local integer SR7=GetUnitAbilityLevel(p5,'A0RW')local real JHE=t5+d*Cos(l4*bj_DEGTORAD)local real JIE=w5+d*Sin(l4*bj_DEGTORAD)local unit u=CreateUnit(GetOwningPlayer(p5),EB,JHE,JIE,0)local unit u2local group glocal trigger tlocal integer NO7call SetUnitX(p5,JHE)call SetUnitY(p5,JIE)call SetUnitFacing(p5,-l4)call PlaySoundOnUnitBJ(zE,100,m5)if IsUnitEnemy(m5,GetOwningPlayer(p5))and GetUnitTypeId(m5)!='n00L' thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.2,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function YBF))call MF7(NO7,"Source",p5)set t=nullcall ZU7(p5,25*SR7)set JHE=t5+(d-25)*Cos(l4*bj_DEGTORAD)set JIE=w5+(d-25)*Sin(l4*bj_DEGTORAD)call NQ7(m5,"4405",1)call SetUnitX(m5,JHE)call SetUnitY(m5,JIE)call SetUnitFacing(m5,l4)call IssueTargetOrder(p5,"attack",m5)set g=TL7()set OB=JHEset AB=JIEset BB=p5set cB=m5call GroupEnumUnitsInRange(g,t5,w5,1400,Condition(function YCF))call T67(g)set u2=CreateUnit(GetOwningPlayer(p5),EB,JHE,JIE,0)call KillUnit(u2)endifcall KillUnit(u)set p5=nullset m5=nullset u=nullset u2=nullset g=nullendfunctionfunction Y6F takes nothing returns booleanif GetSpellAbilityId()=='A0RW' thencall Y3F()endifreturn falseendfunctionfunction YLF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local unit u=CreateUnit(GetOwningPlayer(TX7),EB,GetUnitX(TX7),GetUnitY(TX7),0)call PlaySoundOnUnitBJ(zE,100,TX7)call KillUnit(u)call K_7(NO7)call NM7(t)set u=nullset t=nullset TX7=nullreturn falseendfunctionfunction Y1F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerAddCondition(t,Condition(function YLF))call TriggerRegisterTimerEvent(t,0.3,false)call MF7(NO7,"Hero",GetTriggerUnit())set t=nullendfunctionfunction Y0F takes nothing returns booleanif GetSpellAbilityId()=='A0RW' thencall Y1F()endifreturn falseendfunctionfunction EW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Y6F))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function Y0F))set t=nullendfunctionfunction Y5F takes nothing returns booleanreturn GetSpellAbilityId()=='A065'endfunctionfunction Y2F takes nothing returns nothinglocal integer T8=0local integer U8=5local integer array Y_Flocal player array Z4Flocal integer VT8local item Z4set Y_F[0]=0set Y_F[1]=0set Y_F[2]=0set Y_F[3]=0set Y_F[4]=0set Y_F[5]=0call DisableTrigger(HR4)loopexitwhen T8>U8set VT8=JV7(UnitItemInSlot(GetTriggerUnit(),T8))if VT8==G5 or VT8==J5 or VT8==M5 or VT8==N5 or VT8==R5 or VT8==S5 or VT8==V1 or VT8==R2 or VT8==T2 or VT8==X2 or VT8==DL or VT8==DQ4 or VT8==DU4 or VT8==FS4 thenset Y_F[T8]=GetItemTypeId(UnitItemInSlot(GetTriggerUnit(),T8))set Z4F[T8]=GetItemPlayer(UnitItemInSlot(GetTriggerUnit(),T8))call RemoveItem(UnitItemInSlot(GetTriggerUnit(),T8))endifset T8=T8+1endloopcall UnitResetCooldown(GetTriggerUnit())set T8=0set U8=5loopexitwhen T8>U8if Y_F[T8]>0 thenset Z4=CreateItem(Y_F[T8],0,0)call SetItemPlayer(Z4,Z4F[T8],false)call SetItemUserData(Z4,1)call UnitAddItem(GetTriggerUnit(),Z4)endifset T8=T8+1endloopcall EnableTrigger(HR4)set Z4=nullendfunctionfunction DY8 takes nothing returns nothingset XJ=CreateTrigger()call WH7(XJ,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(XJ,Condition(function Y5F))call TriggerAddAction(XJ,function Y2F)endfunctionfunction Z7F takes nothing returns nothingcall ZO7(XY4,GetEnumUnit(),Y84,(60.0+20.0*XZ4)*0.25)endfunctionfunction Z8F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer S08=GetTriggerEvalCount(t)local group gif S08==20 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseset I04=X97set XY4=X97set XZ4=GetUnitAbilityLevel(X97,'A05G')set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),275,Condition(function Y47))call ForGroup(g,function Z7F)call T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction Z9F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.25,true)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function Z8F))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))call TriggerEvaluate(t)call NQ7(GetTriggerUnit(),"BladeFury|Active",5)endfunctionfunction ZDF takes nothing returns booleanif GetSpellAbilityId()=='A05G' thencall Z9F()endifreturn falseendfunctionfunction LW7 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZDF))set t=nullendfunctionfunction ZEF takes nothing returns nothinglocal integer O5=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local integer i1local unit it=nulllocal item JW7=nulllocal integer ilocal boolean J4=falselocal player p=nullif(not IsPlayerInForce(Player(O5),QP4))or(GetItemType(GetManipulatedItem())==ITEM_TYPE_POWERUP)or(GetItemTypeId(GetManipulatedItem())=='I02M')or(not IsTriggerEnabled(HR4))or(GetUnitTypeId(GetTriggerUnit())=='e00E')thenreturnendifset JW7=GetManipulatedItem()set p=GetItemPlayer(JW7)if(p==Player(15))thenset p=H77endifif(p!=Player(O5))or(JW7==G57[336+O5])thenset it=GetTriggerUnit()set i1=JU7(JW7)if(IsUnitType(it,UNIT_TYPE_HERO)and(GetUnitTypeId(it)!='H00J'))thenset bj_lastCreatedItem=nullif G27[288+O5]==0 and(Bz>G27[160+O5])and((P_E(i1)or Q4E(i1))and((not IsItemPowerup(JW7))or(not KK7(it))or(KJ7(it,OU[EW]))))thenset G27[288+O5]=i1if bj_lastCreatedItem!=null and IsItemPowerup(JW7)thenset J4=trueendifendifif(i1==G27[288+O5]or i1==T5 or i1==D84 or i1==D94)thenset G27[288+O5]=i1if IsItemPowerup(JW7)and KK7(it)and(Q_E(O5,it)!=-1 or R4E(O5,it))thenset J4=(i1!=JU7(bj_lastCreatedItem))endifendifif J4 thenset eY[512+O5]=0call UnitRemoveItem(it,bj_lastCreatedItem)call SetItemPosition(bj_lastCreatedItem,GetUnitX(it),GetUnitY(it))loopexitwhen eY[512+O5]!=0call TriggerSleepAction(0.1)endloopset G57[320+O5]=G57[288+O5]call J3(it,false)call X9E(it)endifendifif(not IsItemPowerup(JW7))thenif i1==G27[288+O5]thencall I17(1.)set G27[288+O5]=0elseif PF4 and GetItemType(JW7)==ITEM_TYPE_PERMANENT and GetItemTypeId(JW7)==OU[i1]thenelsecall HW7(O5,"DropMuted "+HL7(GetItemTypeId(JW7))+GetItemName(JW7)+HZ7(GetPlayerId(p))+GetPlayerName(GetItemPlayer(JW7)))call UnitDropItemPoint(it,JW7,GetUnitX(it),GetUnitY(it))endifendifendifset it=nullendifset JW7=nullset p=nullendfunctionfunction DisplayOrder takes nothing returns nothingcall DisplayTimedTextToPlayer(GetOwningPlayer(GetTriggerUnit()),0,0,10,I2S(GetIssuedOrderId())+": "+OrderId2String(GetIssuedOrderId()))endfunctionfunction ZFF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer iX=GetTriggerEvalCount(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local integer SR7=M_7(NO7,"Level")local real ZGFlocal unit ZHFset ZGF=0.6*(iX-25)*(iX-25)if iX<51 thenif ModuloInteger(iX,5)==0 thencall ZO7(p5,m5,Y84,3+3*SR7)endifif FAD(m5)==false thencall SetUnitFlyHeight(m5,500-ZGF,0)endifelseset ZHF=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(ZHF,'A11L')call SetUnitAbilityLevel(ZHF,'A11L',SR7)call IssueTargetOrder(ZHF,"slow",m5)if FAD(m5)==false thencall SetUnitFlyHeight(m5,GetUnitDefaultFlyHeight(m5),0)endifif C8==false thencall PauseUnit(m5,false)endifcall SetUnitPathing(m5,true)call K_7(NO7)call NM7(t)endifset t=nullset p5=nullset m5=nullset ZHF=nullreturn falseendfunctionfunction ZIF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=I04local unit m5=GetEnumUnit()local integer SR7=IY4call PauseUnit(m5,true)call SetUnitPathing(m5,false)if FAD(m5)==false thencall UW7(m5,'Amrf')call UnitRemoveAbility(m5,'Amrf')endifcall TriggerRegisterTimerEvent(t,0.03,true)call TriggerAddCondition(t,Condition(function ZFF))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call ZO7(p5,m5,Y84,30+30*SR7)set t=nullset p5=nullset m5=nullendfunctionfunction ZJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local integer SR7=M_7(NO7,"Level")local group g=TL7()local ubersplat IM9=CreateUbersplat(x,y,"THNN",255,255,255,255,false,false)call SetUbersplatRenderAlways(IM9,true)call WP7(GetOwningPlayer(TX7),4,x,y,400)call DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))call DestroyEffect(ML7(NO7,"FX3"))call DestroyEffect(ML7(NO7,"FX4"))call DestroyEffect(ML7(NO7,"FX5"))call DestroyEffect(ML7(NO7,"FX6"))call K_7(NO7)call NM7(t)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Naga\\NagaDeath\\NagaDeath.mdl",x,y))call DestroyEffect(AddSpecialEffect("effects\\TidalErruption.mdx",x,y))set I04=TX7set IY4=SR7call GroupEnumUnitsInRange(g,x,y,215+25,Condition(function YF7))call ForGroup(g,function ZIF)call T67(g)set t=nullset TX7=nullreturn falseendfunctionfunction ZKF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(TX7,'A136')local string s=""local real aif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(TX7))==true or TV7(GetLocalPlayer())thenset s="Objects\\Spawnmodels\\Other\\IllidanFootprint\\IllidanWaterSpawnFootPrint.mdl"endifcall RemoveLocation(l)call M87(NO7,"Level",SR7)call MF7(NO7,"Hero",TX7)call M97(NO7,"x",x)call M97(NO7,"y",y)call M87(NO7,"Level",SR7)set a=0call MG7(NO7,"FX1",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=1call MG7(NO7,"FX2",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=2call MG7(NO7,"FX3",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=3call MG7(NO7,"FX4",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=4call MG7(NO7,"FX5",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))set a=5call MG7(NO7,"FX6",AddSpecialEffect(s,x+40*Cos(a/ 6*360*bj_DEGTORAD),y+40*Sin(a/ 6*360*bj_DEGTORAD)))call TriggerRegisterTimerEvent(t,1.6,false)call TriggerAddCondition(t,Condition(function ZJF))set TX7=nullset t=nullset l=nullendfunctionfunction ZMF takes nothing returns booleanif GetSpellAbilityId()=='A136' thencall ZKF()endifreturn falseendfunctionfunction J78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZMF))set t=nullendfunctionfunction HD9 takes nothing returns nothingcall SetPlayerAbilityAvailable(GetOwningPlayer(B2),'A147',false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),'A148',false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),'A11U',false)call SetPlayerAbilityAvailable(GetOwningPlayer(B2),'A149',false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),'A147',false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),'A148',false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),'A11U',false)call SetPlayerAbilityAvailable(GetOwningPlayer(C2),'A149',false)endfunctionfunction ZNF takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer RP7=GetHandleId(t)local unit T_7=MZ7(RP7,"Hero")local real ZOF=JM7()local integer ZN7=GetUnitAbilityLevel(T_7,'A13T')local real ZPF=N47(GetHandleId(T_7),"WaterSword|LastUsed")local boolean ZQF=N77(GetHandleId(T_7),"WaterSword|Active")if ZOF-ZPF>16-ZN7*3 and ZQF==false and GetUnitTypeId(T_7)=='H06S' and UY7(T_7)==false thencall ME7(GetHandleId(T_7),"WaterSword|Active",true)call UnitAddAbility(T_7,'A11O')call SetUnitAbilityLevel(T_7,'A11O',ZN7)call UnitAddAbility(T_7,'A11R')if ZN7==1 thencall UW7(T_7,'A147')elseif ZN7==2 thencall UW7(T_7,'A148')elseif ZN7==3 thencall UW7(T_7,'A11U')elseif ZN7==4 thencall UW7(T_7,'A149')endifcall SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A147',false)call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A148',false)call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A11U',false)call SetPlayerAbilityAvailable(GetOwningPlayer(T_7),'A149',false)elseif ZQF==false thencall UnitRemoveAbility(T_7,'A11O')call UnitRemoveAbility(T_7,'A11R')call UnitRemoveAbility(T_7,'A147')call UnitRemoveAbility(T_7,'A148')call UnitRemoveAbility(T_7,'A11U')call UnitRemoveAbility(T_7,'A149')endifset t=nullset T_7=nullendfunctionfunction ZRF takes nothing returns booleanlocal unit T_7=GetTriggerUnit()call ME7(GetHandleId(T_7),"WaterSword|Active",false)call M97(GetHandleId(T_7),"WaterSword|LastUsed",JM7())call UnitRemoveAbility(T_7,'A11O')call UnitRemoveAbility(T_7,'A11R')call UnitRemoveAbility(T_7,'A147')call UnitRemoveAbility(T_7,'A148')call UnitRemoveAbility(T_7,'A11U')call UnitRemoveAbility(T_7,'A149')set T_7=nullreturn falseendfunctionfunction ZSF takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local trigger t=CreateTrigger()local integer RP7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddAction(t,function ZNF)call MF7(RP7,"Hero",T_7)call M97(RP7,"WaterSword|LastUsed",0.)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ZRF))set T_7=nullset t=nullendfunctionfunction ZTF takes nothing returns booleanif GetLearnedSkill()=='A13T' and GetUnitAbilityLevel(GetTriggerUnit(),'A13T')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall ZSF()endifreturn falseendfunctionfunction ZUF takes nothing returns booleanreturn GetUnitAbilityLevel(GetAttacker(),'A13T')>0endfunctionfunction ZVF takes nothing returns nothinglocal unit T_7=GetEventDamageSource()if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetUnitAbilityLevel(T_7,'A13T')>0 and IsPlayerEnemy(GetOwningPlayer(T_7),GetOwningPlayer(GetTriggerUnit()))thenif N77(GetHandleId(T_7),"WaterSword|Active")==true thencall ME7(GetHandleId(T_7),"WaterSword|Active",false)call M97(GetHandleId(T_7),"WaterSword|LastUsed",JM7())call UnitRemoveAbility(T_7,'A11O')call UnitRemoveAbility(T_7,'A11R')call UnitRemoveAbility(T_7,'A147')call UnitRemoveAbility(T_7,'A148')call UnitRemoveAbility(T_7,'A11U')call UnitRemoveAbility(T_7,'A149')call T77(GetTriggeringTrigger())endifendifelsecall T77(GetTriggeringTrigger())endifset T_7=nullendfunctionfunction ZWF takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2.5,false)call TriggerAddAction(t,function ZVF)set t=nullendfunctionfunction J88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZTF))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function ZUF))call TriggerAddAction(t,function ZWF)set t=nullendfunctionfunction ZXF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local image i=M27(NO7,"i")local real x=N47(NO7,"x")local real y=N47(NO7,"y")local unit X97=MZ7(NO7,"Source")if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A13D')thenif GetTriggerEventId()!=EVENT_UNIT_DEATH and TU7(m5)==false thencall SetUnitPosition(m5,x,y)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A13D',false)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A11N' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A11N',true)endifcall ME7(GetHandleId(m5),"XMarked",false)call DestroyEffect(ML7(NO7,"FX"))call ShowImage(i,false)call DestroyImage(i)call K_7(NO7)call NM7(t)endifset t=nullset m5=nullset i=nullset X97=nullreturn falseendfunctionfunction ZYF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real x=GetUnitX(m5)local real y=GetUnitY(m5)local real ZZF=90local image i=CreateImage("Fonts\\X.blp",ZZF,ZZF,0,x-ZZF/ 2,y-ZZF/ 2,0,0,0,0,2)local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local string fx=""local integer SR7=GetUnitAbilityLevel(p5,'A11N')call NQ7(m5,"4401",5)call UW7(p5,'A13D')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A13D',true)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A11N',false)call SetImageRenderAlways(i,true)if IsUnitAlly(p5,GetOwningPlayer(m5))==false or IsUnitAlly(m5,GetLocalPlayer())==true or TV7(GetLocalPlayer())thenset fx="effects\\BlackTide.mdx"call ShowImage(i,true)elsecall ShowImage(i,false)endifcall SetImageColor(i,255,0,0,255)call UnitApplyTimedLife(CreateUnit(GetOwningPlayer(p5),'o00G',x,y,0),'BTLF',5)call TriggerRegisterTimerEvent(t,SR7,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ZXF))call ME7(GetHandleId(m5),"XMarked",true)call MV7(NO7,"i",i)call MF7(NO7,"Target",m5)call M97(NO7,"x",x)call M97(NO7,"y",y)call MG7(NO7,"FX",AddSpecialEffectTarget(fx,m5,"overhead"))call MF7(NO7,"Source",p5)call M97(GetHandleId(m5),"AI|XMark|X",x)call M97(GetHandleId(m5),"AI|XMark|Y",y)set p5=nullset m5=nullset i=nullset t=nullendfunctionfunction ZAF takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A11N' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))or T37(GetSpellTargetUnit())==false)thencall ZYF()endifelseif GetLearnedSkill()=='A11N' thencall SetPlayerAbilityAvailable(GetOwningPlayer(GetTriggerUnit()),'A13D',false)call UW7(GetTriggerUnit(),'A13D')endifendifreturn falseendfunctionfunction ZBF takes nothing returns booleanif GetSpellAbilityId()=='A11N' thenif N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),S27('n038'))endifendifreturn falseendfunctionfunction J98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function ZAF))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function ZBF))set t=nullendfunctionfunction ZCF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local integer Z3F=1local player plocal real dlocal unit m5=MZ7(NO7,"Target")local integer Z6F=M_7(NO7,"MaxIndex")local unit ZHFlocal integer Hk=M_7(NO7,"Duration")if GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>Hk thencall K_7(NO7)call NM7(t)elseloopexitwhen Z3F>Z6Fset p=MB7(NO7,"Player|"+I2S(Z3F))set d=N47(NO7,"Damage|"+I2S(Z3F))if p==null thenset Z3F=Z6Felseset ZHF=CreateUnit(p,'e00E',0,0,0)call SetUnitState(m5,UNIT_STATE_LIFE,VC7(1,GetUnitState(m5,UNIT_STATE_LIFE)-d/ Hk))endifset Z3F=Z3F+1endloopendifset t=nullset p=nullset m5=nullset ZHF=nullreturn falseendfunctionfunction ZLF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local player p=MB7(NO7,"p")local trigger Z1F=M37(NO7,"Phase2")local integer Z3F=GetTriggerEvalCount(t)if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall K_7(NO7)call NM7(t)call TriggerRegisterTimerEvent(Z1F,1,true)call TriggerAddCondition(Z1F,Condition(function ZCF))call UnitRemoveAbility(m5,'B09U')elseset NO7=GetHandleId(Z1F)call SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+0.5*GetEventDamage())call MM7(NO7,"Player|"+I2S(Z3F),GetOwningPlayer(GetEventDamageSource()))call M97(NO7,"Damage|"+I2S(Z3F),0.5*GetEventDamage())call M87(NO7,"MaxIndex",Z3F)endifset t=nullset m5=nullset p=nullset Z1F=nullreturn falseendfunctionfunction Z0F takes nothing returns nothinglocal unit p5=BSlocal unit m5=GetEnumUnit()local integer SR7=CSlocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer Hk=8local trigger Z1F=CreateTrigger()call XJ7(m5,'A126',1,Hk)call SetPlayerAbilityAvailable(GetOwningPlayer(m5),'A126',false)call TriggerRegisterTimerEvent(t,Hk+0.01,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function ZLF))call MM7(NO7,"p",GetOwningPlayer(p5))call MF7(NO7,"Target",m5)call MH7(NO7,"Phase2",Z1F)call MF7(GetHandleId(Z1F),"Target",m5)call M87(GetHandleId(Z1F),"Duration",Hk)set p5=nullset m5=nullset t=nullset Z1F=nullendfunctionfunction Z5F takes nothing returns booleanif(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and IsUnitInGroup(GetFilterUnit(),gN)==false thencall GroupAddUnit(gN,GetFilterUnit())return trueendifreturn falseendfunctionfunction Z2F takes nothing returns nothinglocal unit p5=BSlocal unit m5=GetEnumUnit()local integer SR7=CSlocal unit ZHF=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(ZHF,'A13X')call IssueTargetOrder(ZHF,"thunderbolt",m5)call ZO7(p5,m5,Y84,200+100*SR7)set p5=nullset m5=nullendfunctionfunction Z_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit IJ=MZ7(NO7,"Projectile")local unit A4Flocal real RK=N47(NO7,"Angle")local real iN=GetUnitX(IJ)local real io=GetUnitY(IJ)local real A7F=N47(NO7,"x2")local real A8F=N47(NO7,"y2")local integer iX=GetTriggerEvalCount(t)local real A9F=VK7(A7F+13.33*iX*Cos(RK))local real ADF=VM7(A8F+13.33*iX*Sin(RK))local integer SR7=M_7(NO7,"Level")local group AEF=M67(NO7,"AlreadyHit")local group gif iX<19 thencall SetUnitVertexColor(IJ,255,255,255,5+iX*10)set A4F=MZ7(NO7,"Projectile2")call SetUnitVertexColor(A4F,255,255,255,5+iX*10)elseif iX<125 thencall SetUnitVertexColor(IJ,255,255,255,190)elseif iX<150 thenendifset g=TL7()set gN=AEFset I04=IJset BS=IJset CS=SR7call GroupEnumUnitsInRange(g,GetUnitX(IJ),GetUnitY(IJ),425,Condition(function Z5F))call ForGroup(g,function Z0F)call T67(g)call SetUnitX(IJ,A9F)call SetUnitY(IJ,ADF)if iX==140 thenset A4F=MZ7(NO7,"Projectile2")call KillUnit(A4F)elseif iX<140 thenset A4F=MZ7(NO7,"Projectile2")call SetUnitX(A4F,A9F)call SetUnitY(A4F,ADF)endifif iX==150 thenset g=TL7()set I04=IJcall GroupEnumUnitsInRange(g,A9F,ADF,425,Condition(function Y47))call ForGroup(g,function Z2F)call T67(g)call KillUnit(IJ)call T67(AEF)call K_7(NO7)call NM7(t)endifset t=nullset IJ=nullset A4F=nullset AEF=nullset g=nullreturn falseendfunctionfunction AFF takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local real iN=GetUnitX(TX7)local real io=GetUnitY(TX7)local location l=GetSpellTargetLoc()local real DPD=GetLocationX(l)local real DQD=GetLocationY(l)local real RKlocal real x1local real y1local real x2local real y2local trigger tlocal integer NO7local integer SR7local unit IJlocal unit A4Flocal string s=""local integer AGF='h06U'if GetRandomInt(0,5)==0 thenset AGF='h0DJ'endifif IsPlayerAlly(GetOwningPlayer(TX7),GetLocalPlayer())or TV7(GetLocalPlayer())thenset s="war3mapImported\\Whirlpool.mdx"endifif DPD==GetUnitX(TX7)and DQD==GetUnitY(TX7)thenset DPD=DPD+50*Cos(GetUnitFacing(TX7)*bj_DEGTORAD)set DQD=DQD+50*Sin(GetUnitFacing(TX7)*bj_DEGTORAD)endifset RK=Atan2(DQD-io,DPD-iN)set x1=iN-1000*Cos(RK)set y1=io-1000*Sin(RK)set x2=iN+1000*Cos(RK)set y2=io+1000*Sin(RK)set t=CreateTrigger()set NO7=GetHandleId(t)set SR7=GetUnitAbilityLevel(TX7,'A11K')set IJ=CreateUnit(GetOwningPlayer(TX7),AGF,x1,y1,Atan2(DQD-io,DPD-iN)*bj_RADTODEG)set A4F=CreateUnit(GetOwningPlayer(TX7),'h06V',x1,y1,Atan2(DQD-io,DPD-iN)*bj_RADTODEG)call SetUnitVertexColor(IJ,255,255,255,0)call SetUnitPathing(IJ,false)call RemoveLocation(l)call M87(NO7,"Level",SR7)call M97(NO7,"Angle",RK)call MF7(NO7,"Projectile",IJ)call MF7(NO7,"Projectile2",A4F)call M97(NO7,"x2",x1)call M97(NO7,"y2",y1)call MO7(NO7,"AlreadyHit",TL7())call DestroyEffect(AddSpecialEffect(s,VK7(x2),VM7(y2)))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function Z_F))set TX7=nullset t=nullset IJ=nullset A4F=nullset l=nullendfunctionfunction AHF takes nothing returns booleanif GetSpellAbilityId()=='A11K' thencall AFF()endifreturn falseendfunctionfunction JD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function AHF))call VQ7('A11L')set t=nullendfunctionfunction AIF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)if M17(NO7,"Light")!=null thencall DestroyLightning(M17(NO7,"Light"))endifcall K_7(NO7)call NM7(t)set t=nullreturn falseendfunctionfunction AJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZF7=MZ7(NO7,"Projectile")local unit m5=MZ7(NO7,"Target")local real AKF=N47(NO7,"OriginalAngle")local real l4=Atan2(GetUnitY(m5)-GetUnitY(ZF7),GetUnitX(m5)-GetUnitX(ZF7))local integer SR7=M_7(NO7,"Level")local real x=GetUnitX(ZF7)+50*Cos(l4)local real y=GetUnitY(ZF7)+50*Sin(l4)local unit ZM7local destructable dlocal lightning ZDDlocal unit QSFlocal boolean WS8=N77(NO7,"Active")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall K_7(NO7)call NM7(t)call KillUnit(ZF7)elsecall SetUnitX(ZF7,x)call SetUnitY(ZF7,y)call SetUnitFacing(ZF7,l4*bj_RADTODEG)if J87(x,y,GetUnitX(m5),GetUnitY(m5))<45 thenset WO4=(LoadReal(C7,(NO7),(6)))set WP4=(LoadReal(C7,(NO7),(7)))call K_7(NO7)call NM7(t)if GetUnitTypeId(m5)!='n00L' and WS8 thenset ZM7=ZH7(ZF7,m5,AKF)set d=ZE7(ZF7,m5,AKF)if ZM7!=null thenset t=CreateTrigger()set NO7=GetHandleId(t)set QSF=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(QSF,'A12I')call SetUnitAbilityLevel(QSF,'A12I',SR7+1)call IssueTargetOrder(QSF,"thunderbolt",m5)set QSF=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(ZM7),GetUnitY(ZM7),0)call UW7(QSF,'A12I')call SetUnitAbilityLevel(QSF,'A12I',SR7+1)call IssueTargetOrder(QSF,"thunderbolt",ZM7)call TriggerRegisterTimerEvent(t,0.25+SR7*0.75,false)call TriggerAddCondition(t,Condition(function AIF))set ZDD=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetUnitX(ZM7),GetUnitY(ZM7))call SetLightningColor(ZDD,0.5,0.5,1,1)call MI7(NO7,"Light",ZDD)elseif d!=null thenset t=CreateTrigger()set NO7=GetHandleId(t)set QSF=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(QSF,'A12I')call SetUnitAbilityLevel(QSF,'A12I',SR7+1)call IssueTargetOrder(QSF,"thunderbolt",m5)call TriggerRegisterTimerEvent(t,0.25+SR7*0.75,false)call TriggerAddCondition(t,Condition(function AIF))set ZDD=AddLightning("MFPB",true,GetUnitX(m5),GetUnitY(m5),GetDestructableX(d),GetDestructableY(d))call SetLightningColor(ZDD,0.5,0.5,1,1)call MI7(NO7,"Light",ZDD)call SetDestructableAnimation(d,"stand hit")elseset QSF=CreateUnit(GetOwningPlayer(m5),'e00E',GetUnitX(m5),GetUnitY(m5),0)call UW7(QSF,'A12I')call SetUnitAbilityLevel(QSF,'A12I',1)call IssueTargetOrder(QSF,"thunderbolt",m5)endifendifcall KillUnit(ZF7)endifendifset t=nullset ZF7=nullset m5=nullset ZDD=nullset ZM7=nullset d=nullset QSF=nullreturn falseendfunctionfunction AMF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real l4=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit ZF7=CreateUnit(GetOwningPlayer(p5),'h077',GetUnitX(p5),GetUnitY(p5),l4*bj_RADTODEG)local integer SR7=GetUnitAbilityLevel(p5,'A12J')local boolean WS8=T37(GetSpellTargetUnit())==falsecall MF7(NO7,"Projectile",ZF7)call MF7(NO7,"Target",m5)call M87(NO7,"Level",SR7)call M97(NO7,"OriginalAngle",(l4)*1.0)call ME7(NO7,"Active",WS8)call SaveReal(C7,(NO7),(6),((GetUnitX(p5))*1.0))call SaveReal(C7,(NO7),(7),((GetUnitY(p5))*1.0))call TriggerRegisterTimerEvent(t,0.033,true)call TriggerAddCondition(t,Condition(function AJF))call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)set p5=nullset m5=nullset t=nullendfunctionfunction ANF takes nothing returns booleanif GetSpellAbilityId()=='A12J' thencall AMF()endifreturn falseendfunctionfunction JE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ANF))set t=nullendfunctionfunction AOF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer SR7=M_7(NO7,"Level")local integer APF=M_7(NO7,"BonusID")call DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",GetUnitX(p5),GetUnitY(p5)))if GetTriggerEvalCount(t)>10*(2+0.75*SR7)or GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitRemoveAbility(p5,APF)call UnitRemoveAbility(p5,'B09W')call DestroyEffect(ML7(NO7,"FX1"))call DestroyEffect(ML7(NO7,"FX2"))call K_7(NO7)call NM7(t)endifset t=nullset p5=nullreturn falseendfunctionfunction AQF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A14I')local integer APFif SR7==1 thenset APF='A135'elseif SR7==2 thenset APF='A12O'elseif SR7==3 thenset APF='A134'elseif SR7==4 thenset APF='A139'endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),APF,false)call XJ7(p5,APF,1,2+0.75*SR7)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AOF))call MF7(NO7,"Source",p5)call M87(NO7,"Level",SR7)call M87(NO7,"BonusID",APF)call MG7(NO7,"FX1",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,left"))call MG7(NO7,"FX2",AddSpecialEffectTarget("effects\\Tornado.mdx",p5,"hand,right"))set p5=nullset t=nullendfunctionfunction ARF takes nothing returns booleanif GetSpellAbilityId()=='A14I' thencall AQF()endifreturn falseendfunctionfunction JF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ARF))set t=nullendfunctionfunction ASF takes unit p5,unit m5,real V37,integer ATF,integer AUF returns nothingcall ZO7(p5,m5,Y84,(V37)*Pow(0.9,ATF)*Pow(0.99,AUF))endfunctionfunction AVF takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),ZB)==false and GetUnitAbilityLevel(GetEnumUnit(),'Bcyc')==0 thencall ASF(vc,GetEnumUnit(),ec,ac,xc)call GroupAddUnit(ZB,GetEnumUnit())set ac=ac+1endifendfunctionfunction AWF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit IJ=MZ7(NO7,"Projectile")local real A7F=N47(NO7,"TargetX")local real A8F=N47(NO7,"TargetY")local real RK=N47(NO7,"Angle")local real V37=N47(NO7,"Damage")local integer AUF=M_7(NO7,"TreeCount")local integer ATF=M_7(NO7,"UnitCount")local group AEF=M67(NO7,"AlreadyHit")local real x=VK7(GetUnitX(IJ)+(60*Pow(0.9,ATF)*Pow(0.99,AUF))*Cos(RK))local real y=VM7(GetUnitY(IJ)+(60*Pow(0.9,ATF)*Pow(0.99,AUF))*Sin(RK))local group g=TL7()local real dif GetTriggerEvalCount(t)>2 thenset d=150elseset d=75endifcall DestroyEffect(AddSpecialEffect("effects\\Tornado.mdx",x,y))set AUF=AUF+WK7(x,y,75)call M87(NO7,"TreeCount",AUF)set ZB=AEFset vc=IJset ec=V37set xc=AUFset ac=ATFset I04=IJcall GroupEnumUnitsInRange(g,x,y,d,Condition(function Y47))call ForGroup(g,function AVF)call T67(g)call M87(NO7,"UnitCount",ac)call SetUnitX(IJ,x)call SetUnitY(IJ,y)if GetTriggerEvalCount(t)>29 thencall KillUnit(IJ)call T67(AEF)call K_7(NO7)call NM7(t)endifset t=nullset IJ=nullset AEF=nullset g=nullreturn falseendfunctionfunction AXF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local real x2=N47(GetHandleId(p5),"ReverseLance|x")local real y2=N47(GetHandleId(p5),"ReverseLance|y")local real AYF=VB7(JM7()-N47(GetHandleId(p5),"ReverseLance|Time"),1.0)local real RK=Atan2(y2-GetUnitY(p5),x2-GetUnitX(p5))local trigger tlocal integer NO7local unit IJlocal integer SR7=GetUnitAbilityLevel(p5,'A12K')local real V37=(40+80*SR7)*(AYF)set t=CreateTrigger()set NO7=GetHandleId(t)set IJ=CreateUnit(GetOwningPlayer(p5),'h078',GetUnitX(p5),GetUnitY(p5),RK*bj_RADTODEG)set x2=GetUnitX(p5)+1700*Cos(RK)set y2=GetUnitY(p5)+1700*Sin(RK)call MF7(NO7,"Projectile",IJ)call M97(NO7,"TargetX",x2)call M97(NO7,"TargetY",y2)call M97(NO7,"Angle",RK)call M97(NO7,"Damage",V37)call M87(NO7,"TreeCount",0)call M87(NO7,"UnitCount",0)call MO7(NO7,"AlreadyHit",TL7())call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function AWF))set p5=nullset t=nullset IJ=nullendfunctionfunction AZF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit TX7=MZ7(NO7,"Hero")call SetUnitTimeScale(TX7,1)call K_7(NO7)call NM7(t)set t=nullset TX7=nullreturn falseendfunctionfunction AAF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit TX7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)call RemoveLocation(l)call M97(GetHandleId(TX7),"ReverseLance|x",x)call M97(GetHandleId(TX7),"ReverseLance|y",y)call M97(GetHandleId(TX7),"ReverseLance|Time",JM7())call SetUnitTimeScale(TX7,0.75)call MF7(NO7,"Hero",TX7)call TriggerRegisterTimerEvent(t,0.75,false)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function AZF))set t=nullset TX7=nullendfunctionfunction ABF takes nothing returns booleanif GetSpellAbilityId()=='A12K' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall ME7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",false)call AAF()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall ME7(GetHandleId(GetTriggerUnit()),"ReverseLance|Active",true)elseif N77(GetHandleId(GetTriggerUnit()),"ReverseLance|Active")==true thencall AXF()endifendifreturn falseendfunctionfunction JG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ABF))set t=nullendfunctionfunction ACF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local integer ZR7=M_7(NO7,"TargetIndex")local unit m5=QL7(ZR7)local real A3F=N47(NO7,"Rate")local boolean A69=N77(NO7,"Scepter")if GetTriggerEvalCount(t)==1 thencall TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)endifif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==p5 and A69==false thencall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+(A3F)*GetEventDamage())endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A12P' or GetSpellAbilityId()=='A1D6' thencall Q67(ZR7)call K_7(NO7)call NM7(t)endifelsecall UnitRemoveAbility(p5,'A12R')call UnitRemoveAbility(p5,'B09X')call Q67(ZR7)call K_7(NO7)call NM7(t)call UnitRemoveAbility(p5,'A1FK')call UnitRemoveAbility(p5,'A1FL')call UnitRemoveAbility(p5,'A1FJ')endifset t=nullset p5=nullset m5=nullreturn falseendfunctionfunction A6F takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(X97,'A12P')local real K1D=0.6-SR7*0.1local boolean N_D=falsecall UnitRemoveAbility(X97,'A12R')call UnitRemoveAbility(X97,'B09X')if SR7==0 thencall UnitRemoveAbility(X97,'A1FK')call UnitRemoveAbility(X97,'A1FL')call UnitRemoveAbility(X97,'A1FJ')set N_D=trueset SR7=GetUnitAbilityLevel(X97,'A1D6')set K1D=0.6-SR7*0.15if SR7==1 thencall UW7(X97,'A1FK')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1FK',false)elseif SR7==2 thencall UW7(X97,'A1FL')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1FL',false)elseif SR7==3 thencall UW7(X97,'A1FJ')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1FJ',false)endifendifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A12R',false)call UW7(X97,'A12R')call IssueTargetOrder(X97,"attack",U47)call MF7(NO7,"Source",X97)call ME7(NO7,"Scepter",N_D)call M87(NO7,"TargetIndex",Q07(U47))call M97(NO7,"Rate",K1D)call M87(NO7,"Attacks",0)call MF7(GetHandleId(X97),"Target",U47)call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function ACF))set X97=nullset U47=nullset t=nullendfunctionfunction ALF takes nothing returns booleanif(GetSpellAbilityId()=='A12P' or GetSpellAbilityId()=='A1D6')and T37(GetSpellTargetUnit())==false thencall A6F()endifreturn falseendfunctionfunction A1F takes unit X97 returns nothinglocal unit U47=MZ7(GetHandleId(X97),"Target")if GetTriggerUnit()==U47 thencall DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",X97,"hand,left"))call DestroyEffect(AddSpecialEffectTarget("effects\\Tornado.mdx",X97,"hand,right"))elseif GetTriggerUnit()!=U47 thencall UnitRemoveAbility(X97,'A12R')call UnitRemoveAbility(X97,'B09X')call UnitRemoveAbility(X97,'A1FK')call UnitRemoveAbility(X97,'A1FL')call UnitRemoveAbility(X97,'A1FJ')endifset U47=nullendfunctionfunction A0F takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A12R')>0 thencall A1F(GetAttacker())endifreturn falseendfunctionfunction JH8 takes nothing returns nothinglocal trigger t=CreateTrigger()local trigger t2=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ALF))call WH7(t2,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t2,Condition(function A0F))set t=nullset t2=nullendfunctionfunction A5F takes unit TX7,integer SR7 returns integerlocal integer A2Flocal integer A_Fif SR7==1 thenset A_F='B0B1'set A2F='A18Z'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B0'set A2F='A19J'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0AY'set A2F='A19J'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifreturn'A18Y'elseif SR7==2 thenset A_F='B0B8'set A2F='A19H'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B7'set A2F='A19G'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B2'set A2F='A19G'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifreturn'A19I'elseif SR7==3 thenset A_F='B0B3'set A2F='A19E'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B9'set A2F='A19D'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B6'set A2F='A19D'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifreturn'A19K'elseif SR7==4 thenset A_F='B0B5'set A2F='A196'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0B4'set A2F='A195'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifset A_F='B0BA'set A2F='A195'if GetUnitAbilityLevel(TX7,A_F)>0 thencall UnitRemoveAbility(TX7,A_F)return A2Fendifreturn'A19L'endifreturn 0endfunctionfunction B4F takes nothing returns nothinglocal unit TX7=GetTriggerUnit()local integer SR7=GetUnitAbilityLevel(TX7,'A18X')local integer A_F=A5F(TX7,SR7)local unit ZM7=CreateUnit(GetOwningPlayer(TX7),'e00E',GetUnitX(TX7),GetUnitY(TX7),0)call UW7(ZM7,A_F)call IssueTargetOrder(ZM7,"bloodlust",TX7)set TX7=nullset ZM7=nullendfunctionfunction B7F takes nothing returns booleanif GetSpellAbilityId()=='A01F' or GetSpellAbilityId()=='A027' or GetSpellAbilityId()=='A01P' or GetSpellAbilityId()=='A09Z' or(GetUnitPointValue(GetTriggerUnit())==500 and SJ7(GetSpellAbilityId()))thencall B4F()endifreturn falseendfunctionfunction B8F takes unit TX7,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterUnitEvent(t,TX7,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B7F))if R99 thenset nj[GetPlayerId(GetOwningPlayer(TX7))]=tendifset t=nullset TX7=nullendfunctionfunction B9F takes nothing returns booleanif GetLearnedSkill()=='A18X' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A18X')==1 thencall B8F(GetTriggerUnit(),false)endifreturn falseendfunctionfunction JI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function B9F))set t=nullendfunctionfunction BDF takes nothing returns booleanif(GetSpellAbilityId()=='A01P' or GetSpellAbilityId()=='A09Z')and TU7(GetSpellTargetUnit())thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0LR'))endifreturn falseendfunctionfunction JJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function BDF))set t=nullendfunctionfunction BEF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local unit U47=MZ7(V_7,"Target")local integer S08=M_7(GetHandleId(U47),"StickyNapalm|Count")local boolean BFF=N77(V_7,"Locked")if GetTriggerEventId()==EVENT_UNIT_DEATH thencall SetUnitTurnSpeed(U47,GetUnitDefaultTurnSpeed(U47))call M87(GetHandleId(U47),"StickyNapalm|Count",0)call K_7(V_7)call NM7(t)call VK8(U47,0,0)elseif S08==0 thencall SetUnitTurnSpeed(U47,GetUnitDefaultTurnSpeed(U47))call M87(GetHandleId(U47),"StickyNapalm|Count",0)call K_7(V_7)call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED and BFF==false thenif S08>0 and GetUnitAbilityLevel(GetEventDamageSource(),'A1EL')>0 and MZ7(GetHandleId(GetTriggeringTrigger()),"Source")==GetEventDamageSource()thencall ME7(V_7,"Locked",true)if O1 thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",U47,"chest"))call ZO7(X97,U47,Y84,0.5*(5+5*GetUnitAbilityLevel(X97,'A1EL'))*S08)elseif(GetEventDamage()>33 and IsUnitType(U47,UNIT_TYPE_HERO)==true)or(GetEventDamage()>40 and IsUnitType(U47,UNIT_TYPE_HERO)==false)thencall DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",U47,"chest"))call ZO7(X97,U47,Y84,(5+5*GetUnitAbilityLevel(X97,'A1EL'))*S08)endifcall ME7(V_7,"Locked",false)endifelsecall SetUnitTurnSpeed(U47,GetUnitDefaultTurnSpeed(U47)*0.3)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction BGF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(MZ7(V_7,"Source"))local unit U47=(MZ7(V_7,"Target"))local real WG8=(N47(GetHandleId(U47),"StickyNapalm|LastTime"))local integer StickyCount=(M_7(GetHandleId(U47),"StickyNapalm|Count"))if(TimerGetElapsed(P))-WG8>=8 thencall SetUnitTurnSpeed(U47,GetUnitDefaultTurnSpeed(U47))call M87(GetHandleId(U47),"StickyNapalm|Count",0)call VK8(U47,0,0)endifcall K_7(V_7)call NM7(t)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction BHF takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(X97,'A1EL')local integer S08=IMinBJ(M_7(GetHandleId(U47),"StickyNapalm|Count")+1,10)if TU7(U47)thenset X97=nullset U47=nullreturnendifcall VK8(U47,ZN7,S08)call M87(GetHandleId(U47),"StickyNapalm|Count",S08)call M97(GetHandleId(U47),"StickyNapalm|LastTime",(TimerGetElapsed(P))*1.0)call SetUnitTurnSpeed(U47,GetUnitDefaultTurnSpeed(U47)*0.3)if IsUnitType(U47,UNIT_TYPE_HERO)==true thencall WE7(GetOwningPlayer(X97),I2S(S08)+"!",2,U47,0.026,50,0,255,216)endifif S08==1 thenset t=CreateTrigger()set V_7=GetHandleId(t)call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)call ME7(V_7,"Locked",false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function BEF))endifset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,8,false)call TriggerAddCondition(t,Condition(function BGF))call MF7(V_7,"Source",X97)call MF7(V_7,"Target",U47)set t=nullset X97=nullset U47=nullendfunctionfunction BIF takes nothing returns nothinglocal group g=TL7()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local unit p5=GetTriggerUnit()call GroupEnumUnitsInRange(g,x,y,400,Condition(function YK7))call ForGroup(g,function BHF)call WP7(GetOwningPlayer(p5),2,x,y,500)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y+130))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x,y-130))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y+130))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x+130,y-130))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y+130))call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\Undead\\UndeadBlood\\UndeadBloodGargoyle.mdl",x-130,y-130))call RemoveLocation(l)call T67(g)set g=nullset l=nullset p5=nullendfunctionfunction BJF takes nothing returns booleanif GetSpellAbilityId()=='A1EL' thencall BIF()endifreturn falseendfunctionfunction JK8 takes nothing returns nothinglocal integer ilocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BJF))set W74[1]='A1XC'set W74[2]='A1XB'set W74[3]='A1X4'set W74[4]='A1X5'set W74[5]='A1X6'set W74[6]='A1X7'set W74[7]='A1XA'set W74[8]='A1X8'set W74[9]='A1X9'set W74[10]='A1XD'set W84[1]='A1XM'set W84[2]='A1XE'set W84[3]='A1XF'set W84[4]='A1XG'set W84[5]='A1XH'set W84[6]='A1XI'set W84[7]='A1XJ'set W84[8]='A1XK'set W84[9]='A1XN'set W84[10]='A1XL'set W94[1]='A1XO'set W94[2]='A1XV'set W94[3]='A1XW'set W94[4]='A1XQ'set W94[5]='A1XR'set W94[6]='A1XS'set W94[7]='A1XX'set W94[8]='A1XT'set W94[9]='A1XU'set W94[10]='A1XP'set WD4[1]='A1XY'set WD4[2]='A1XZ'set WD4[3]='A1Y5'set WD4[4]='A1Y6'set WD4[5]='A1Y7'set WD4[6]='A1Y1'set WD4[7]='A1Y2'set WD4[8]='A1Y3'set WD4[9]='A1Y4'set WD4[10]='A1Y0'set i=1loopexitwhen i>10call VQ7(W74[i])set i=i+1endloopset i=1loopexitwhen i>10call VQ7(W84[i])set i=i+1endloopset i=1loopexitwhen i>10call VQ7(W94[i])set i=i+1endloopset i=1loopexitwhen i>10call VQ7(WD4[i])set i=i+1endloopset t=nullendfunctionfunction BKF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit m5=MZ7(NO7,"Target")local real a=N47(NO7,"a")local real d=N47(NO7,"d")local real x1=N47(NO7,"x")local real y1=N47(NO7,"y")local real x2local real y2local real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>10 thencall WK7(GetUnitX(m5),GetUnitY(m5),200)call DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)elseset x2=x1+d*Cos(a)set y2=y1+d*Sin(a)if(IsPointInRegion(J94,((x2)*1.0),((y2)*1.0)))==false thencall M97(NO7,"x",(x2)*1.0)call M97(NO7,"y",(y2)*1.0)set x=x2set y=y2elseset x=x1set y=y1endifif IsUnitType(m5,UNIT_TYPE_HERO)==true thencall SetUnitPosition(m5,x,y)elsecall SetUnitX(m5,x)call SetUnitY(m5,y)endifendifset t=nullset m5=nullreturn falseendfunctionfunction BMF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetEnumUnit()local integer SR7=GetUnitAbilityLevel(p5,'A19V')local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BKF))call MF7(NO7,"Target",m5)call M97(NO7,"a",(Atan2(GetUnitY(m5)-C1,GetUnitX(m5)-B1))*1.0)call M97(NO7,"d",(VC7((400-J87(B1,C1,GetUnitX(m5),GetUnitY(m5))),10)/ 10)*1.0)call M97(NO7,"x",(GetUnitX(m5))*1.0)call M97(NO7,"y",(GetUnitY(m5))*1.0)set p5=nullset m5=nullset t=nullcall ZO7(RP4,GetEnumUnit(),Y84,RQ4*75)endfunctionfunction BNF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit ZM7=MZ7(NO7,"Caster")local unit p5=MZ7(NO7,"Source")local real a=N47(NO7,"a")local group g=TL7()local unit m5local real x=GetUnitX(ZM7)local real y=GetUnitY(ZM7)local real AND=N47(NO7,"FinalX")local real AOD=N47(NO7,"FinalY")set x=VK7(x+36*Cos(a))set y=VM7(y+36*Sin(a))call SetUnitX(ZM7,x)call SetUnitY(ZM7,y)set I04=ZM7call GroupEnumUnitsInRange(g,x,y,125,Condition(function YF7))set m5=FirstOfGroup(g)call T67(g)if J87(x,y,AND,AOD)<40 or GetTriggerEvalCount(t)>100 thenset m5=nullset x=ANDset y=AODset RP4=p5set RQ4=M_7(NO7,"Level")set N1=m5if m5==null thenset B1=xset C1=yelseset B1=GetUnitX(m5)set C1=GetUnitY(m5)endifset g=TL7()call GroupEnumUnitsInRange(g,x,y,400,Condition(function YF7))if m5!=null thencall GroupRemoveUnit(g,m5)call ZK7(p5,m5,0.3)call ZO7(RP4,m5,Y84,RQ4*75)endifcall ForGroup(g,function BMF)call KillUnit(ZM7)call T67(g)call K_7(NO7)call NM7(t)endifset t=nullset m5=nullset ZM7=nullset p5=nullset g=nullreturn falseendfunctionfunction BOF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer SR7=GetUnitAbilityLevel(p5,'A19V')local unit ZM7set ZM7=CreateUnit(GetOwningPlayer(p5),'h0ED',GetUnitX(p5),GetUnitY(p5),a*bj_RADTODEG)call RemoveLocation(l)call M97(NO7,"a",a)call M87(NO7,"Level",SR7)call MF7(NO7,"Source",p5)call MF7(NO7,"Caster",ZM7)call M97(NO7,"FinalX",((x)*1.0))call M97(NO7,"FinalY",((y)*1.0))call TriggerRegisterTimerEvent(t,0.04,true)call TriggerAddCondition(t,Condition(function BNF))set p5=nullset ZM7=nullset l=nullset t=nullendfunctionfunction BPF takes nothing returns booleanif GetSpellAbilityId()=='A19V' thencall BOF()endifreturn falseendfunctionfunction JM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function BPF))set t=nullendfunctionfunction BQF takes nothing returns nothinglocal unit X97=RR4local unit PHF=GetEnumUnit()local unit U47local group gif GetUnitCurrentOrder(PHF)==0 thenset g=TL7()set I04=PHFcall GroupEnumUnitsInRange(g,GetUnitX(PHF),GetUnitY(PHF),825,Condition(function Y47))set U47=FirstOfGroup(g)if U47!=null thencall GroupRemoveUnit(g,U47)endifif FirstOfGroup(g)==null and U47==X97 thencall IssueTargetOrder(PHF,"attack",U47)endifcall T67(g)set U47=nullset g=nullendifset X97=nullset PHF=nullendfunctionfunction BRF takes unit X97 returns nothinglocal group g=TL7()set I04=X97set RR4=X97call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1000,Condition(function Y17))call ForGroup(g,function BQF)call T67(g)set g=nullendfunctionfunction BSF takes nothing returns nothingcall ZO7(RR4,GetEnumUnit(),Y84,RS4*10)endfunctionfunction BTF takes unit X97,integer V_7,integer S08 returns nothinglocal group g1=TL7()local group g2=TL7()local integer i=0set I04=X97loopexitwhen i>S08call GroupEnumUnitsInRange(g2,N47(V_7,"X"+I2S(i)),N47(V_7,"Y"+I2S(i)),225,Condition(function Y47))call GroupAddGroup(g2,g1)call GroupClear(g2)set i=i+1endloopcall T67(g2)if FirstOfGroup(g1)!=null thenset RR4=X97set RS4=GetUnitAbilityLevel(X97,'A19Z')call ForGroup(g1,function BSF)endifcall T67(g1)set g1=nullset g2=nullendfunctionfunction BUF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")local real P39=N47(V_7,"LastX")local real P69=N47(V_7,"LastY")local integer S08=M_7(V_7,"Count")local integer ilocal real xlocal real yif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>300 thenset i=0loopexitwhen i>S08call DestroyEffect(ML7(V_7,"FX"+I2S(i)))set i=i+1endloopcall K_7(V_7)call NM7(t)elseset x=GetUnitX(X97)set y=GetUnitY(X97)if O8==true thencall BRF(X97)endifif J87(x,y,P39,P69)>125 thenset S08=S08+1call M87(V_7,"Count",S08)call M97(V_7,"LastX",x)call M97(V_7,"LastY",y)call MG7(V_7,"FX"+I2S(S08),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",x,y))call M97(V_7,"X"+I2S(S08),x)call M97(V_7,"Y"+I2S(S08),y)endifif ModuloInteger(GetTriggerEvalCount(t),10)==0 thenset O1=truecall BTF(X97,V_7,S08)set O1=falseendifcall WK7(GetUnitX(X97),GetUnitY(X97),100)endifreturn falseendfunctionfunction BVF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local trigger t=CreateTrigger()local integer NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BUF))call MF7(NO7,"Source",p5)call MG7(NO7,"FX"+I2S(0),AddSpecialEffect("Environment\\LargeBuildingFire\\LargeBuildingFire1.mdl",GetUnitX(p5),GetUnitY(p5)))call M97(NO7,"LastX",GetUnitX(p5))call M97(NO7,"LastY",GetUnitY(p5))call M97(NO7,"X"+I2S(0),GetUnitX(p5))call M97(NO7,"Y"+I2S(0),GetUnitY(p5))set p5=nullset t=nullendfunctionfunction BWF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")if UY7(p5)thenreturn falseendifif GetUnitTypeId(p5)=='O016' thencall SetUnitFlyHeight(p5,170,0)elseif GetUnitTypeId(p5)=='O017' thencall SetUnitFlyHeight(p5,220,0)endifset t=nullset p5=nullreturn falseendfunctionfunction BXF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()call TriggerRegisterTimerEvent(t,2,true)call TriggerAddCondition(t,Condition(function BWF))call MF7(NO7,"Source",p5)set t=nullset p5=nullendfunctionfunction BYF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,false)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullreturn falseendfunctionfunction BZF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)call SetTerrainPathable(x,y,PATHING_TYPE_WALKABILITY,true)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function BYF))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))set X97=nullset t=nullendfunctionfunction BAF takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A19Z' thenif GetUnitTypeId(GetTriggerUnit())=='O016' thencall BVF()elseif IsTerrainPathable(GetUnitX(GetTriggerUnit()),GetUnitY(GetTriggerUnit()),PATHING_TYPE_WALKABILITY)thencall BZF()endifendifelseif GetLearnedSkill()=='A19Z' and GetUnitAbilityLevel(GetTriggerUnit(),'A19Z')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall BXF()endifendifreturn falseendfunctionfunction JN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function BAF))set t=nullendfunctionfunction BBF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=MZ7(NO7,"Source")local unit m5=MZ7(NO7,"Target")local unit ZM7=MZ7(NO7,"Caster")local real d=J87(GetUnitX(p5),GetUnitY(p5),GetUnitX(m5),GetUnitY(m5))local real alocal real XP7=N47(NO7,"Duration")local real ZFD=N47(NO7,"rRealX0")local real ZGD=N47(NO7,"rRealY0")local real I1Dlocal real I0Dif GetTriggerEventId()==EVENT_UNIT_DEATH or GetTriggerEvalCount(t)>R2I(20*XP7)thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)call KillUnit(ZM7)call SetUnitPathing(m5,true)call WK7(GetUnitX(m5),GetUnitY(m5),175)call NJ7(p5,"AI|Lasso")elsecall SetUnitX(ZM7,GetUnitX(p5))call SetUnitY(ZM7,GetUnitY(p5))if J87(ZFD,ZGD,GetUnitX(p5),GetUnitY(p5))>400 thencall DestroyEffect(ML7(NO7,"FX"))call K_7(NO7)call NM7(t)call KillUnit(ZM7)call SetUnitPathing(m5,true)call WK7(GetUnitX(m5),GetUnitY(m5),175)elsecall M97(NO7,"rRealX0",GetUnitX(p5))call M97(NO7,"rRealY0",GetUnitY(p5))if d>300 thenset a=Atan2(GetUnitY(m5)-GetUnitY(p5),GetUnitX(m5)-GetUnitX(p5))set I1D=GetUnitX(p5)+300*Cos(a)set I0D=GetUnitY(p5)+300*Sin(a)if(IsPointInRegion(J94,((I1D)*1.0),((I0D)*1.0)))==false thencall SetUnitX(m5,I1D)call SetUnitY(m5,I0D)endifendifendifendifset t=nullset p5=nullset m5=nullset ZM7=nullreturn falseendfunctionfunction BCF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(p5),'u00Y',GetUnitX(p5),GetUnitY(p5),0)local integer SR7=GetUnitAbilityLevel(p5,'A19O')if SR7==0 thenset SR7=GetUnitAbilityLevel(p5,'A1MV')+2endifcall UW7(ZM7,'A19N')call SetUnitAbilityLevel(ZM7,'A19N',GetUnitAbilityLevel(p5,'A19O'))call IssueTargetOrder(ZM7,"magicleash",m5)call SetUnitPathing(ZM7,false)call SetUnitPathing(m5,false)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function BBF))call MF7(NO7,"Source",p5)call MF7(NO7,"Target",m5)call MF7(NO7,"Caster",ZM7)call M97(NO7,"Duration",(2.5+SR7*0.5)*1.0)call MG7(NO7,"FX",AddSpecialEffectTarget("Abilities\\Spells\\Human\\AerialShackles\\AerialShacklesTarget.mdl",m5,"chest"))call M97(NO7,"rRealX0",GetUnitX(p5))call M97(NO7,"rRealY0",GetUnitY(p5))call NH7(p5,"AI|Lasso")set t=nullset p5=nullset m5=nullset ZM7=nullendfunctionfunction B3F takes nothing returns booleanif(GetSpellAbilityId()=='A19O' or GetSpellAbilityId()=='A1MV')and T37(GetSpellTargetUnit())==false and GetUnitTypeId(GetSpellTargetUnit())!='n00L' thencall BCF()endifreturn falseendfunctionfunction JO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function B3F))set t=nullendfunctionfunction B6F takes nothing returns booleanif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif R77(GetOwningPlayer(GetEventDamageSource()))and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetEventDamageSource()))==true and w1==false thenif W1==false thencall UnitRemoveAbility(GetTriggerUnit(),'B0BM')call NM7(GetTriggeringTrigger())endifendifif W1==true thenset W1=falseendifif w1==true thenset w1=falseendifelsecall NM7(GetTriggeringTrigger())endifreturn falseendfunctionfunction BLF takes nothing returns nothinglocal unit m5=GetEnumUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,6,false)call TriggerAddCondition(t,Condition(function B6F))set m5=nullset t=nullendfunctionfunction B1F takes nothing returns booleanreturn GetUnitAbilityLevel(GetFilterUnit(),'B0BM')>0 and GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0endfunctionfunction B0F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local real x=(LoadReal(C7,(NO7),(6)))local real y=(LoadReal(C7,(NO7),(7)))local group g=TL7()call GroupEnumUnitsInRange(g,x,y,1000,Condition(function B1F))call ForGroup(g,function BLF)call T67(g)call FlushChildHashtable(C7,(NO7))call NM7(t)set t=nullset g=nullreturn falseendfunctionfunction B5F takes nothing returns nothingif H1==1 or H1==2 thencall ZO7(GetTriggerUnit(),GetEnumUnit(),Y94,80)endifif H1==1 or H1==3 thencall ZO7(GetTriggerUnit(),GetEnumUnit(),Y84,80)endifendfunctionfunction B2F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local real x=GetUnitX(p5)local real y=GetUnitY(p5)local unit ZM7=CreateUnit(GetOwningPlayer(p5),'h07Z',x,y,0)local group g=TL7()local unit uset E57=GetUnitAbilityLevel(p5,'A1AA')if((LoadInteger(C7,(GetHandleId((p5))),((4270))))==1)==false thencall SetUnitTimeScale(ZM7,2.5)call UnitApplyTimedLife(ZM7,'BTLF',2)set ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)call UW7(ZM7,'A1A9')call SetUnitAbilityLevel(ZM7,'A1A9',GetUnitAbilityLevel(p5,'A1AA'))call IssueImmediateOrder(ZM7,"stomp")call GroupEnumUnitsInRange(g,x,y,500,Condition(function YK7))set H1=1call ForGroup(g,function B5F)call T67(g)call TriggerRegisterTimerEvent(t,0.65,false)call TriggerAddCondition(t,Condition(function B0F))call SaveReal(C7,(NO7),(6),((x)*1.0))call SaveReal(C7,(NO7),(7),((y)*1.0))elsecall SetUnitTimeScale(ZM7,2.5)call UnitApplyTimedLife(ZM7,'BTLF',2)set ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)call UW7(ZM7,'A1A9')call SetUnitAbilityLevel(ZM7,'A1A9',GetUnitAbilityLevel(p5,'A1AA'))call IssueImmediateOrder(ZM7,"stomp")call GroupEnumUnitsInRange(g,x,y,500,Condition(function YK7))set H1=2call ForGroup(g,function B5F)call TriggerRegisterTimerEvent(t,0.65,false)call TriggerAddCondition(t,Condition(function B0F))call SaveReal(C7,(NO7),(6),((x)*1.0))call SaveReal(C7,(NO7),(7),((y)*1.0))set t=CreateTrigger()set NO7=GetHandleId(t)set u=(RY4[GetPlayerId(GetOwningPlayer((p5)))])set x=GetUnitX(u)set y=GetUnitY(u)set ZM7=CreateUnit(GetOwningPlayer(p5),'h07Z',x,y,0)call SetUnitTimeScale(ZM7,2.5)call UnitApplyTimedLife(ZM7,'BTLF',2)set ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',x,y,0)call UW7(ZM7,'A1A9')call SetUnitAbilityLevel(ZM7,'A1A9',GetUnitAbilityLevel(p5,'A1AA'))call IssueImmediateOrder(ZM7,"stomp")call GroupEnumUnitsInRange(g,x,y,500,Condition(function YK7))set H1=3call ForGroup(g,function B5F)call T67(g)call TriggerRegisterTimerEvent(t,0.65,false)call TriggerAddCondition(t,Condition(function B0F))call SaveReal(C7,(NO7),(6),((x)*1.0))call SaveReal(C7,(NO7),(7),((y)*1.0))call SetUnitAnimationByIndex(u,3)endifset t=nullset p5=nullset ZM7=nullset g=nullendfunctionfunction B_F takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local unit C4F=(LoadUnitHandle(C7,(NO7),(335)))local boolean C7F=(LoadBoolean(C7,(NO7),(336)))if GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thencall SaveInteger(C7,(GetHandleId((p5))),((4269)),(2))call SaveBoolean(C7,(GetHandleId(C4F)),(337),(true))if C7F thencall ShowUnit(C4F,false)call KillUnit(C4F)endifcall FlushChildHashtable(C7,(NO7))call NM7(t)elseif C7F thencall SetUnitFacing(C4F,GetUnitFacing(p5))endifendifset t=nullset C4F=nullreturn falseendfunctionfunction C8F takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local unit C4Flocal boolean KillImagecall SaveBoolean(C7,(NO7),(336),(false))if((LoadInteger(C7,(GetHandleId((p5))),((4270))))==1)==false thencall SaveBoolean(C7,(NO7),(336),(true))set C4F=CreateUnit(GetOwningPlayer(p5),'h07U',GetUnitX(p5),GetUnitY(p5),GetUnitFacing(p5))call UW7(C4F,'Aloc')call UW7(C4F,'Aetl')call SetUnitPosition(C4F,GetUnitX(p5),GetUnitY(p5))call SetUnitScale(C4F,1.4,1.4,1.4)elseset C4F=(RY4[GetPlayerId(GetOwningPlayer((p5)))])endifcall IssueImmediateOrder(C4F,"stop")call SaveInteger(C7,(GetHandleId((p5))),((4269)),(1))call SetUnitAnimation(C4F,"spell slam")call QueueUnitAnimation(C4F,"spell slam")call SaveUnitHandle(C7,(NO7),(335),(C4F))call SaveUnitHandle(C7,(NO7),(2),(p5))call TriggerRegisterTimerEvent(t,0.1,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function B_F))call SaveUnitHandle(C7,(NO7),(335),(C4F))set t=nullset p5=nullset C4F=nullendfunctionfunction C9F takes nothing returns booleanif GetSpellAbilityId()=='A1AA' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_FINISH thencall B2F()endifcall C8F()endifreturn falseendfunctionfunction JS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function C9F))set t=nullendfunctionfunction CDF takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),'A1CA')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1CA')call UnitRemoveAbility(GetEnumUnit(),'B0BP')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1C9')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1C9')call UnitRemoveAbility(GetEnumUnit(),'B0BP')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1CB')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1CB')call UnitRemoveAbility(GetEnumUnit(),'B0BP')endifif GetUnitAbilityLevel(GetEnumUnit(),'A1CC')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A1CC')call UnitRemoveAbility(GetEnumUnit(),'B0BP')endifcall ZZ7(GetEnumUnit(),0)endfunctionfunction CEF takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif m1==1 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1CA')==0 thencall UW7(GetEnumUnit(),'A1CA')endifelseif m1==2 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1C9')==0 thencall UW7(GetEnumUnit(),'A1C9')endifelseif m1==3 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1CB')==0 thencall UW7(GetEnumUnit(),'A1CB')endifelseif m1==4 thenif GetUnitAbilityLevel(GetEnumUnit(),'A1CC')==0 thencall UW7(GetEnumUnit(),'A1CC')endifendifif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall ZZ7(GetEnumUnit(),R2I((I2R(GetHeroAgi(GetEnumUnit(),true))/ 7)*I2R(m1)/ 5))endifendfunctionfunction CFF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local group HCE=(LoadGroupHandle(C7,(NO7),(340)))local real x=GetUnitX(p5)local real y=GetUnitY(p5)local group g=TL7()local group g2if p5==null thencall FlushChildHashtable(C7,(NO7))call NM7(t)call T67(HCE)call T67(g)return falseendifset I04=p5set m1=GetUnitAbilityLevel(p5,'A1CD')call GroupEnumUnitsInRange(g,x,y,300,Condition(function Y47))if((LoadInteger(C7,(GetHandleId((p5))),((4270))))==1)==true thenset g2=TL7()call GroupEnumUnitsInRange(g2,GetUnitX((RY4[GetPlayerId(GetOwningPlayer((p5)))])),GetUnitY((RY4[GetPlayerId(GetOwningPlayer((p5)))])),300,Condition(function Y47))call GroupAddGroup(g2,g)call T67(g2)set g2=nullendifcall GroupRemoveGroup(g,HCE)call ForGroup(HCE,function CDF)if UY7(p5)==false thencall ForGroup(g,function CEF)endifcall SaveGroupHandle(C7,(NO7),(340),(g))call T67(HCE)set t=nullset p5=nullset HCE=nullreturn falseendfunctionfunction CGF takes unit p5,boolean R99 returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local integer ilocal player pcall UW7(p5,'A1CQ')call TriggerRegisterTimerEvent(t,0.3,true)call TriggerAddCondition(t,Condition(function CFF))call SaveUnitHandle(C7,(NO7),(2),(p5))call SaveGroupHandle(C7,(NO7),(340),(TL7()))call SaveTriggerHandle(C7,(GetHandleId(p5)),(338),(t))call SaveBoolean(C7,(GetHandleId(p5)),(339),(true))set i=0loopexitwhen i>5set p=Y7[i]call SetPlayerAbilityAvailable(p,'A1CA',false)call SetPlayerAbilityAvailable(p,'A1C9',false)call SetPlayerAbilityAvailable(p,'A1CB',false)call SetPlayerAbilityAvailable(p,'A1CC',false)set p=Z7[i]call SetPlayerAbilityAvailable(p,'A1CA',false)call SetPlayerAbilityAvailable(p,'A1C9',false)call SetPlayerAbilityAvailable(p,'A1CB',false)call SetPlayerAbilityAvailable(p,'A1CC',false)set i=i+1endloopif R99 thenset nj[GetPlayerId(GetOwningPlayer(p5))]=tendifset t=nullset p5=nullendfunctionfunction CHF takes nothing returns booleanif GetLearnedSkill()=='A1CD' and GetUnitAbilityLevel(GetTriggerUnit(),'A1CD')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall CGF(GetTriggerUnit(),false)endifreturn falseendfunctionfunction JR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function CHF))set t=nullendfunctionfunction CIF takes nothing returns nothinglocal real x1=Z1local real y1=v2local real x2=RZ4local real y2=o2local real x3=GetUnitX(GetEnumUnit())local real y3=GetUnitY(GetEnumUnit())local real u=((x3-x1)*(x2-x1)+(y3-y1)*(y2-y1))/((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2))local real x4=x1+u*(x2-x1)local real y4=y1+u*(y2-y1)local real V37=GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.35/ 2if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall SetUnitPosition(GetEnumUnit(),x4,y4)elsecall SetUnitX(GetEnumUnit(),x4)call SetUnitY(GetEnumUnit(),y4)endifcall IssueTargetOrder(Y1,"slow",GetEnumUnit())call ZO7(z1,GetEnumUnit(),Y84,V37)call ZO7(z1,GetEnumUnit(),Y94,V37)endfunctionfunction CJF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local real x0=(LoadReal(C7,(NO7),(282)))local real y0=(LoadReal(C7,(NO7),(283)))local real a0=(LoadReal(C7,(NO7),(341)))local integer i=0local real xlocal real ylocal group g=TL7()local group TWD=TL7()local integer SR7=GetUnitAbilityLevel(p5,'A1A1')call FlushChildHashtable(C7,(NO7))call NM7(t)set I04=p5set z1=p5set Y1=CreateUnit(GetOwningPlayer(p5),'e00E',x0,y0,0)call UW7(Y1,'A1CE')call SetUnitAbilityLevel(Y1,'A1CE',SR7)loopexitwhen i>11set x=x0+i*200*Cos(a0)set y=y0+i*200*Sin(a0)call V27("Abilities\\Spells\\Orc\\EarthQuake\\EarthQuakeTarget.mdl",x,y,1.6)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y-200))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x,y))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",x+200,y))call WK7(x,y,300)call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))call GroupAddGroup(g,TWD)call GroupClear(g)set i=i+1endloopset Z1=x0set v2=y0set RZ4=xset o2=ycall ForGroup(TWD,function CIF)call T67(TWD)call T67(g)set t=nullset p5=nullreturn falseendfunctionfunction CKF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local real a=(LoadReal(C7,(NO7),(137)))local real x0=(LoadReal(C7,(NO7),(282)))local real y0=(LoadReal(C7,(NO7),(283)))local real a0local real CMFlocal real CNFlocal real COFlocal real CPFlocal real CQFlocal real CRFlocal real CSFlocal real CTFlocal real CUFlocal real CVFlocal real CWFlocal real CXFlocal real xlocal real ylocal ubersplat SJFlocal integer RU8=GetTriggerEvalCount(t)set x=x0+200*RU8*Cos(a)set y=y0+200*RU8*Sin(a)set SJF=CreateUbersplat(x,y,"THND",255,255,255,255,false,false)call SetUbersplatRenderAlways(SJF,true)set CMF=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))set CNF=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))set COF=x+200*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))set CPF=y+200*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))set CQF=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG-45))set CRF=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG-45))set CSF=x-100*Cos(bj_DEGTORAD*(a*bj_RADTODEG+45))set CTF=y-100*Sin(bj_DEGTORAD*(a*bj_RADTODEG+45))set CUF=xset CVF=yset CWF=xset CXF=ycall WP7(GetOwningPlayer(p5),4,x,y,500)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",CMF,CNF))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",COF,CPF))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",CQF,CRF))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",CSF,CTF))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",CUF,CVF))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\AncientProtectorMissile\\AncientProtectorMissile.mdl",CWF,CXF))if GetTriggerEvalCount(t)>11 thenset x0=(LoadReal(C7,(NO7),(282)))set y0=(LoadReal(C7,(NO7),(283)))set a0=(LoadReal(C7,(NO7),(341)))call FlushChildHashtable(C7,(NO7))call NM7(t)set t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,false)call TriggerAddCondition(t,Condition(function CJF))call SaveUnitHandle(C7,(NO7),(2),(p5))call SaveReal(C7,(NO7),(282),((x0)*1.0))call SaveReal(C7,(NO7),(283),((y0)*1.0))call SaveReal(C7,(NO7),(341),((a0)*1.0))endifset t=nullset p5=nullreturn falseendfunctionfunction CYF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=Atan2(y-GetUnitY(p5),x-GetUnitX(p5))call TriggerRegisterTimerEvent(t,0.22,true)call TriggerAddCondition(t,Condition(function CKF))call SaveUnitHandle(C7,(NO7),(2),(p5))call SaveReal(C7,(NO7),(6),((GetUnitX(p5))*1.0))call SaveReal(C7,(NO7),(7),((GetUnitY(p5))*1.0))call SaveReal(C7,(NO7),(137),((a)*1.0))call SaveReal(C7,(NO7),(282),((GetUnitX(p5))*1.0))call SaveReal(C7,(NO7),(283),((GetUnitY(p5))*1.0))call SaveReal(C7,(NO7),(341),((a)*1.0))set t=nullset p5=nullendfunctionfunction CZF takes nothing returns booleanif GetSpellAbilityId()=='A1A1' thencall CYF()endifreturn falseendfunctionfunction JP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function CZF))set t=nullendfunctionfunction CAF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))call DestroyEffect((LoadEffectHandle(C7,(NO7),(32))))call FlushChildHashtable(C7,(NO7))call NM7(t)call ZU7(p5,0)set t=nullset p5=nullreturn falseendfunctionfunction CBF takes unit p5,unit C4F,integer CCF,integer C3F returns nothinglocal trigger tlocal integer NO7local unit ZM7call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",C4F,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,left"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",p5,"hand,right"))call ShowUnit(C4F,false)call KillUnit(C4F)call SaveInteger(C7,(GetHandleId((p5))),((4270)),(2))if C3F>0 or CCF>0 thenset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,9.1,false)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function CAF))call SaveUnitHandle(C7,(NO7),(2),(p5))set ZM7=CreateUnit(GetOwningPlayer(p5),'e00E',GetUnitX(p5),GetUnitY(p5),0)call UW7(ZM7,'A1G9')call SetUnitAbilityLevel(ZM7,'A1G9',C3F)call IssueTargetOrder(ZM7,"bloodlust",p5)call ZU7(p5,CCF)call SaveEffectHandle(C7,(NO7),(32),(AddSpecialEffectTarget("war3mapImported\\RadianceHands.mdx",p5,"weapon")))endifset t=nullset ZM7=nullendfunctionfunction C6F takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),M1)==false thenif IsUnitIllusion(GetEnumUnit())==false thenif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thenset RW4=RW4+(RV4*10)set RX4=RX4+5elseset RW4=RW4+(RV4*3)set RX4=RX4+1endifendifcall GroupAddUnit(M1,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",GetEnumUnit(),"chest"))set w1=trueset W1=truecall ZO7(RT4,GetEnumUnit(),Y84,RU4)set w1=falseset W1=falseendifendfunctionfunction CLF takes real C1F,real C0F,real C5F,real C2F,real C_F,real L4F returns reallocal real L7Flocal real L8Flocal real L9Flocal real LDFlocal real LEFlocal real LFFlocal real LGFlocal real REFLECTED_SCALED_V_Xlocal real REFLECTED_SCALED_V_Ylocal real LHFlocal real LIFlocal real LJFlocal real LKFlocal real LMFlocal real LNFlocal real LOFlocal real LPFset LJF=C5F-C_Fset LKF=C2F-L4Fset LMF=-1*LKFset LNF=LJFset LOF=SquareRoot(LMF*LMF+LNF*LNF)set LMF=LMF/ LOFset LNF=LNF/ LOFset L7F=C1F-C5Fset L8F=C0F-C2Fset L9F=SquareRoot(L7F*L7F+L8F*L8F)set LDF=L7F/ L9Fset LEF=L8F/ L9Fset LPF=L7F*LMF+L8F*LNFset LFF=-1*C1F+2*C5F+2*LMF*LPFset LGF=-1*C0F+2*C2F+2*LNF*LPFset LHF=C_F+C5F-LFFset LIF=L4F+C2F-LGFreturn LHFendfunctionfunction LQF takes real C1F,real C0F,real C5F,real C2F,real C_F,real L4F returns reallocal real L7Flocal real L8Flocal real L9Flocal real LDFlocal real LEFlocal real LFFlocal real LGFlocal real REFLECTED_SCALED_V_Xlocal real REFLECTED_SCALED_V_Ylocal real LHFlocal real LIFlocal real LJFlocal real LKFlocal real LMFlocal real LNFlocal real LOFlocal real LPFset LJF=C5F-C_Fset LKF=C2F-L4Fset LMF=-1*LKFset LNF=LJFset LOF=SquareRoot(LMF*LMF+LNF*LNF)set LMF=LMF/ LOFset LNF=LNF/ LOFset L7F=C1F-C5Fset L8F=C0F-C2Fset L9F=SquareRoot(L7F*L7F+L8F*L8F)set LDF=L7F/ L9Fset LEF=L8F/ L9Fset LPF=L7F*LMF+L8F*LNFset LFF=-1*C1F+2*C5F+2*LMF*LPFset LGF=-1*C0F+2*C2F+2*LNF*LPFset LHF=C_F+C5F-LFFset LIF=L4F+C2F-LGFreturn LIFendfunctionfunction LRF takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer NO7=GetHandleId(t)local unit p5=(LoadUnitHandle(C7,(NO7),(2)))local unit C4F=(LoadUnitHandle(C7,(NO7),(335)))local real x0=(LoadReal(C7,(NO7),(282)))local real y0=(LoadReal(C7,(NO7),(283)))local real x1=GetUnitX(p5)local real y1=GetUnitY(p5)local real x2=GetUnitX(C4F)local real y2=GetUnitY(C4F)local real x3local real y3local real alocal group TWD=(LoadGroupHandle(C7,(NO7),(187)))local group glocal real dlocal integer SR7=GetUnitAbilityLevel(p5,'A1A8')local real LSF=(LoadReal(C7,(NO7),(342)))local real Z_7=(TimerGetElapsed(P))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall T67(TWD)call FlushChildHashtable(C7,(NO7))call NM7(t)call ShowUnit(C4F,false)call KillUnit(C4F)call SaveInteger(C7,(GetHandleId((p5))),((4270)),(2))if(LoadInteger(C7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(C7,(GetHandleId(p5)),(704)))=='A1A8' thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1A8',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A21J',false)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A21J' thencall SaveBoolean(C7,(NO7),(249),(true))call SetUnitAnimationByIndex(C4F,3)endifelseif J87(x1,y1,x2,y2)<100 thencall CBF(p5,C4F,(LoadInteger(C7,(NO7),(344))),(LoadInteger(C7,(NO7),(345))))call T67(TWD)call FlushChildHashtable(C7,(NO7))call NM7(t)if(LoadInteger(C7,(GetHandleId(p5)),(704)))==0 or(LoadInteger(C7,(GetHandleId(p5)),(704)))=='A1A8' thencall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1A8',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A21J',false)elseif GetTriggerEvalCount(t)>400 or(LoadBoolean(C7,(NO7),(249)))==true thenif GetTriggerEvalCount(t)==401 and(LoadBoolean(C7,(NO7),(249)))==false thencall SetUnitAnimationByIndex(C4F,3)endifset g=TL7()set RV4=SR7set RW4=(LoadInteger(C7,(NO7),(344)))set RX4=(LoadInteger(C7,(NO7),(345)))set RU4=80+40*SR7set RT4=p5set I04=p5set M1=TWDcall GroupEnumUnitsInRange(g,GetUnitX(C4F),GetUnitY(C4F),300,Condition(function Y47))call ForGroup(g,function C6F)call T67(g)set g=nullcall SaveInteger(C7,(NO7),(344),(RW4))call SaveInteger(C7,(NO7),(345),(RX4))if((LoadInteger(C7,(GetHandleId((p5))),((4269))))==1)==false thenset a=Atan2(y1-y2,x1-x2)call SetUnitFacing(C4F,a*bj_RADTODEG)set x3=GetUnitX(C4F)+12*Cos(a)set y3=GetUnitY(C4F)+12*Sin(a)call SetUnitX(C4F,VK7(x3))call SetUnitY(C4F,VM7(y3))call SaveReal(C7,(NO7),(282),((x1)*1.0))call SaveReal(C7,(NO7),(283),((y1)*1.0))endifelseset g=TL7()set RV4=SR7set RW4=(LoadInteger(C7,(NO7),(344)))set RX4=(LoadInteger(C7,(NO7),(345)))set RU4=80+40*SR7set RT4=p5set I04=p5set M1=TWDcall GroupEnumUnitsInRange(g,GetUnitX(C4F),GetUnitY(C4F),300,Condition(function Y47))call ForGroup(g,function C6F)call T67(g)set g=nullcall SaveInteger(C7,(NO7),(344),(RW4))call SaveInteger(C7,(NO7),(345),(RX4))if x0!=x1 or y0!=y1 thenset LSF=Z_7call SaveReal(C7,(NO7),(342),((LSF)*1.0))endifif((LoadInteger(C7,(GetHandleId((p5))),((4269))))==1)==false thenif LSF==Z_7 thenset x3=CLF(x0,y0,x1,y1,x2,y2)set y3=LQF(x0,y0,x1,y1,x2,y2)set a=Atan2(y3-y2,x3-x2)*bj_RADTODEGcall SetUnitFacing(C4F,a)call SetUnitX(C4F,VK7(x3))call SetUnitY(C4F,VM7(y3))call SaveReal(C7,(NO7),(282),((x1)*1.0))call SaveReal(C7,(NO7),(283),((y1)*1.0))endifif(LSF+0.3)<Z_7 thencall SaveInteger(C7,(NO7),(343),(1))call SetUnitAnimationByIndex(C4F,2)elseif(LSF+0.3)>Z_7 and(LoadInteger(C7,(NO7),(343)))==1 thencall SaveInteger(C7,(NO7),(343),(2))call SetUnitAnimationByIndex(C4F,3)elseif(LoadInteger(C7,(NO7),(343)))==3 thencall SetUnitAnimationByIndex(C4F,2)call SaveInteger(C7,(NO7),(343),(1))endifelsecall SaveInteger(C7,(NO7),(343),(3))endifendifset t=nullset p5=nullset C4F=nullset TWD=nullreturn falseendfunctionfunction LTF takes nothing returns nothinglocal trigger t=CreateTrigger()local integer NO7=GetHandleId(t)local unit p5=GetTriggerUnit()local real x0=GetUnitX(p5)local real y0=GetUnitY(p5)local location l=GetSpellTargetLoc()local real DLD=GetLocationX(l)local real D1D=GetLocationY(l)local real a=Atan2(D1D-y0,DLD-x0)local real d=VC7(J87(x0,y0,DLD,D1D),300)local real x1=VK7(x0+d*Cos(a))local real y1=VM7(y0+d*Sin(a))local unit C4F=CreateUnit(GetOwningPlayer(p5),'h07U',x1,y1,(a*bj_RADTODEG)-180)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AbsorbMana\\AbsorbManaBirthMissile.mdl",C4F,"chest"))if GetUnitAbilityLevel(p5,'A1CD')>0 thencall UW7(C4F,'A1CQ')endifcall UnitAddAbility(p5,'A21J')call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A1A8',false)call SetPlayerAbilityAvailable(GetOwningPlayer(p5),'A21J',true)call RemoveLocation(l)set RY4[GetPlayerId(GetOwningPlayer(p5))]=C4Fcall SaveInteger(C7,(GetHandleId((p5))),((4270)),(1))call UW7(C4F,'Aloc')call UW7(C4F,'Aetl')if(LoadBoolean(C7,(GetHandleId(p5)),(339)))==true thencall TriggerEvaluate((LoadTriggerHandle(C7,(NO7),(338))))endifcall TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,p5,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LRF))call SaveUnitHandle(C7,(NO7),(2),(p5))call SaveUnitHandle(C7,(NO7),(335),(C4F))call SaveReal(C7,(NO7),(282),((x0)*1.0))call SaveReal(C7,(NO7),(283),((y0)*1.0))call SaveGroupHandle(C7,(NO7),(187),(TL7()))call SaveInteger(C7,(NO7),(343),(2))call SaveReal(C7,(NO7),(342),(((TimerGetElapsed(P))-5)*1.0))call SaveBoolean(C7,(NO7),(249),(false))set t=nullset p5=nullset C4F=nullendfunctionfunction LUF takes nothing returns booleanif GetSpellAbilityId()=='A1A8' thencall LTF()endifreturn falseendfunctionfunction JQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LUF))call VQ7('A1G9')set t=nullendfunctionfunction LVF takes nothing returns booleanif GetPlayerController(GetOwningPlayer(GetTriggerUnit()))==MAP_CONTROL_COMPUTER and(GetItemTypeId(GetManipulatedItem())==OU[W6]or GetItemTypeId(GetManipulatedItem())==OU[V6]or GetItemTypeId(GetManipulatedItem())==OU[A6])thencall UnitRemoveAbility(GetTriggerUnit(),'A14A')endifreturn falseendfunctionfunction LWF takes unit u,integer d returns nothinglocal texttag t=CreateTextTag()call SetTextTagText(t,"+"+I2S(d)+" "+GetObjectName('n0LQ'),0.03)call SetTextTagPosUnit(t,u,0)call SetTextTagColorBJ(t,50,75,255,15)call SetTextTagVelocity(t,0,0.035)call SetTextTagFadepoint(t,3)call SetTextTagLifespan(t,2.5)call SetTextTagPermanent(t,false)call SetTextTagVisibility(t,false)call SetTextTagVisibility(t,true)if IsUnitVisible(u,GetLocalPlayer())or TV7(GetLocalPlayer())thencall SetTextTagVisibility(t,true)elsecall SetTextTagVisibility(t,false)endifset t=nullendfunctionfunction LXF takes nothing returns nothinglocal unit p5=GetTriggerUnit()local unit m5=GetSpellTargetUnit()if GetSpellAbilityId()=='A053' and GetUnitState(p5,UNIT_STATE_LIFE)>1 thencall SetUnitState(p5,UNIT_STATE_MANA,GetUnitState(p5,UNIT_STATE_MANA)+GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,'A053')*0.15)call LWF(m5,R2I(GetUnitState(m5,UNIT_STATE_LIFE)*GetUnitAbilityLevel(p5,'A053')*0.15))call KillUnit(m5)endifset p5=nullset m5=nullendfunctionfunction LYF takes nothing returns booleanif GetSpellAbilityId()=='A053' and JS7(GetSpellTargetUnit())==false thencall LXF()endifreturn falseendfunctionfunction LZF takes item BV7,unit X97,boolean RLD returns nothinglocal integer VX8=JU7(BV7)local integer V_7=GetHandleId(X97)local string s=""if(VX8==AV and KN7(X97,AV,BV7)==null)or(VX8==BV and KN7(X97,BV,BV7)==null)thenif IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))==true or TV7(GetLocalPlayer())thenset s=B34endifif RLD thenif NFF(X97)>0 or GetItemType(BV7)==ITEM_TYPE_PERMANENT or GetItemType(BV7)==ITEM_TYPE_CAMPAIGN thenif GetUnitAbilityLevel(X97,'A26A')==0 and GetUnitAbilityLevel(X97,'A26B')==0 thenif s==B34 thencall UW7(X97,'A26A')elsecall UW7(X97,'A26B')endifendifendifelseif not(GetUnitAbilityLevel(X97,'A26A')==0 and GetUnitAbilityLevel(X97,'A26B')==0)thencall UnitRemoveAbility(X97,'A26B')call UnitRemoveAbility(X97,'A26A')call RemoveSavedHandle(C7,(V_7),(670))endifendifendifendfunctionfunction LAF takes nothing returns booleanlocal unit p5=GetTriggerUnit()local item LBF=GetManipulatedItem()local integer id=GetItemTypeId(LBF)if LBF==null or IsUnitIllusion(p5)==true or IsUnitType(p5,UNIT_TYPE_HERO)==false or GetUnitTypeId(p5)=='H00J' or GetItemTypeId(LBF)=='I00E' or GetItemTypeId(LBF)=='I02M' thenset p5=nullset LBF=nullreturn falseendifif(GetTriggerEventId()==EVENT_PLAYER_UNIT_DROP_ITEM and GetItemType(LBF)!=ITEM_TYPE_PURCHASABLE)or GetTriggerEventId()==EVENT_PLAYER_UNIT_PAWN_ITEM thencall LZF(LBF,p5,false)call AT7("DRI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),OU[VS8(JU7(LBF))])elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_PICKUP_ITEM thencall LZF(LBF,p5,true)call AT7("PUI_"+I2S(GetPlayerId(GetOwningPlayer(p5))),OU[VS8(JU7(LBF))])endifset p5=nullset LBF=nullreturn falseendfunctionfunction LCF takes unit QDF returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(QDF))local integer L6F=Q9F(QDF,1)local integer LLF=GetUnitAbilityLevel(QDF,HA4[L6F])call UnitRemoveAbility(QDF,HL4[L6F])call UnitRemoveAbility(QDF,'A500')call DisableTrigger(rj[L3F])call DisableTrigger(Ej[L3F])call UnitRemoveAbility(QDF,'A0SA')if L6F==43 thencall M87(GetHandleId(QDF),"RefractionPrevent_Remaining",0)call M87(GetHandleId(QDF),"RefractionDamage_Remaining",0)call UnitRemoveAbility(QDF,'A0RF')call UnitRemoveAbility(QDF,'A0RM')call UnitRemoveAbility(QDF,'A0RN')endifcall T77(rj[L3F])call T77(Ej[L3F])if LLF>0 thencall UnitAddAbility(QDF,'A500')call SetUnitAbilityLevel(QDF,'A500',LLF)endifset rj[L3F]=nullset Ej[L3F]=nullendfunctionfunction L1F takes unit QDF returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(QDF))local integer L6F=Q9F(QDF,2)local integer L0F=GetUnitAbilityLevel(QDF,HB4[L6F])local integer i=1call UnitRemoveAbility(QDF,H14[L6F])call UnitRemoveAbility(QDF,'A501')call DisableTrigger(aj[L3F])call DisableTrigger(Rj[L3F])if L6F==59 thencall UnitRemoveAbility(QDF,'A021')call M87(GetHandleId(QDF),"TotalWebs",0)loopexitwhen i>8call RemoveUnit(MZ7(GetHandleId(QDF),"Web"+I2S(i)))set i=i+1endloopendifif L6F==62 thencall UnitRemoveAbility(QDF,'A08C')call RemoveUnit(MZ7(GetHandleId(Rj[L3F]),"VisionUnit"))if GetUnitAbilityLevel(QDF,'A086')==0 thencall UnitRemoveAbility(QDF,'A116')call UnitRemoveAbility(QDF,'A117')endifendifif L6F==78 thencall ZU7(QDF,0)endifcall T77(aj[L3F])call T77(Rj[L3F])if L0F>0 thencall UnitAddAbility(QDF,'A501')call SetUnitAbilityLevel(QDF,'A501',L0F)endifset aj[L3F]=nullset Rj[L3F]=nullendfunctionfunction Vge takes nothing returns nothingcall UnitShareVision(GetEnumUnit(),GetOwningPlayer(L7),false)endfunctionfunction L5F takes unit QDF returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(QDF))local integer L6F=Q9F(QDF,3)local integer L2F=GetUnitAbilityLevel(QDF,HC4[L6F])local group g=nullcall UnitRemoveAbility(QDF,H04[L6F])call UnitRemoveAbility(QDF,'A502')call DisableTrigger(nj[L3F])call DisableTrigger(Aj[L3F])call UnitRemoveAbility(QDF,'A13D')if L6F==15 thencall UnitRemoveAbility(QDF,'A1CQ')call ForGroup(M67(GetHandleId(nj[L3F]),"ActiveGroup"),function CDF)call T67(M67(GetHandleId(nj[L3F]),"ActiveGroup"))endifif L6F==27 thencall UnitRemoveAbility(QDF,'A0NZ')endifif L6F==38 thencall UnitRemoveAbility(QDF,'A1FC')endifif L6F==41 thencall DestroyEffect(ML7(GetHandleId(QDF),"OverloadFX1"))call DestroyEffect(ML7(GetHandleId(QDF),"OverloadFX2"))endifif L6F==42 thencall DestroyEffect(ML7(GetHandleId(nj[L3F]),"FX1"))call DestroyEffect(ML7(GetHandleId(nj[L3F]),"FX2"))call ZU7(QDF,0)call ZY7(QDF,0)endifif L6F==58 thencall RemoveUnit(MZ7(GetHandleId(QDF),"FeralHeartCaster"))endifif L6F==60 thencall SetUnitVertexColorBJ(QDF,100,100,100,0)call UnitRemoveAbility(QDF,'A13F')call UnitRemoveAbility(QDF,'A13H')call UnitRemoveAbility(QDF,'A13G')call UnitRemoveAbility(QDF,'B0A2')call UnitRemoveAbility(QDF,'B0A1')call UnitRemoveAbility(QDF,'B0A3')call UnitRemoveAbility(QDF,'A13I')call UnitRemoveAbility(QDF,'B0A0')endifif L6F==62 thencall UnitRemoveAbility(QDF,'S00A')call RemoveUnit(MZ7(GetHandleId(Aj[L3F]),"VisionUnit"))if GetUnitAbilityLevel(QDF,'A08E')==0 thencall UnitRemoveAbility(QDF,'A116')call UnitRemoveAbility(QDF,'A117')endifendifif L6F==87 thencall UnitRemoveAbility(QDF,'A0OL')call UnitRemoveAbility(QDF,'A0OM')call UnitRemoveAbility(QDF,'A0ON')call UnitRemoveAbility(QDF,'A0OH')endifcall T77(nj[L3F])call T77(Aj[L3F])if L2F>0 thencall UnitAddAbility(QDF,'A502')call SetUnitAbilityLevel(QDF,'A502',L2F)endifset nj[L3F]=nullset Aj[L3F]=nullset g=nullendfunctionfunction L_F takes unit QDF returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(QDF))local integer L6F=Q9F(QDF,4)local boolean A69=KJ7(QDF,OU[H94])local integer D4G=GetUnitAbilityLevel(QDF,H34[L6F])if A69 and H64[L6F]!=0 thenset D4G=GetUnitAbilityLevel(QDF,H64[L6F])endifcall UnitRemoveAbility(QDF,H54[L6F])call UnitRemoveAbility(QDF,H24[L6F])call UnitRemoveAbility(QDF,'A503')call DisableTrigger(Vj[L3F])call DisableTrigger(Nj[L3F])call UnitRemoveAbility(QDF,'A0MB')call UnitRemoveAbility(QDF,'A02T')call UnitRemoveAbility(QDF,'A0RT')call UnitRemoveAbility(QDF,'A0HA')call UnitRemoveAbility(QDF,'A1IE')call UnitRemoveAbility(QDF,'B0C9')call UnitRemoveAbility(QDF,'A1IF')call UnitRemoveAbility(QDF,'B0C9')call UnitRemoveAbility(QDF,'A1IG')call UnitRemoveAbility(QDF,'B0C9')if L6F==29 thencall RemoveUnit(MZ7(GetHandleId(QDF),"Warpath|Caster"))call ZU7(QDF,0)endifcall T77(Vj[L3F])call T77(Nj[L3F])if D4G>0 thencall UnitAddAbility(QDF,'A503')call SetUnitAbilityLevel(QDF,'A503',D4G)endifcall TimerStart(NP4[L3F],0,false,null)set Vj[L3F]=nullset Nj[L3F]=nullendfunctionfunction D7G takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit QDF=MZ7(GetHandleId(t),"FormlessUnit")local integer D8G=M_7(GetHandleId(t),"MJ8")call IssueImmediateOrder(QDF,"unimmolation")if D8G=='A504' thencall LCF(QDF)call L1F(QDF)call L5F(QDF)call L_F(QDF)elseif D8G=='A505' thencall LCF(QDF)elseif D8G=='A506' thencall L1F(QDF)elseif D8G=='A507' thencall L5F(QDF)elseif D8G=='A508' thencall L_F(QDF)endifcall DestroyTimer(t)set QDF=nullset t=nullendfunctionfunction D9G takes unit QDF,integer D8G returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(QDF))local timer t=CreateTimer()call IssueImmediateOrder(QDF,"stop")call MF7(GetHandleId(t),"FormlessUnit",QDF)call M87(GetHandleId(t),"MJ8",D8G)call TimerStart(t,0,false,function D7G)set t=nullendfunctionfunction DDG takes nothing returns booleanif GetSpellAbilityId()=='A504' or GetSpellAbilityId()=='A505' or GetSpellAbilityId()=='A506' or GetSpellAbilityId()=='A507' or GetSpellAbilityId()=='A508' thencall D9G(GetTriggerUnit(),GetSpellAbilityId())endifreturn falseendfunctionfunction MJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DDG))set t=nullendfunctionfunction DEG takes nothing returns booleanreturn GetSpellAbilityId()=='A500' or GetSpellAbilityId()=='A501' or GetSpellAbilityId()=='A502' or GetSpellAbilityId()=='A503'endfunctionfunction DFG takes nothing returns nothinglocal unit QDF=GetTriggerUnit()local player p=GetOwningPlayer(QDF)local integer DGG=GetUnitPointValue(GetSpellTargetUnit())local integer DHG=GetUnitAbilityLevel(QDF,GetSpellAbilityId())local integer DIG=GetSpellAbilityId()local integer L3F=GetPlayerId(p)local unit CR7=nulllocal integer DJG=0local integer DKG=0local integer DMG=0local string DNG=""local string DOG=""local boolean A69=KJ7(QDF,OU[H94])local trigger tlocal integer DPG=Q9F(QDF,1)local integer DQG=Q9F(QDF,2)local integer DRG=Q9F(QDF,3)local integer DSG=Q9F(QDF,4)if DIG=='A500' thenset DJG=HA4[DGG]set DKG=HL4[DGG]set DNG=H_4[DGG]set DOG="Abilities\\Spells\\Items\\AIsm\\AIsmTarget.mdl"elseif DIG=='A501' thenset DJG=HB4[DGG]set DKG=H14[DGG]set DNG=I44[DGG]set DOG="Abilities\\Spells\\Items\\AIem\\AIemTarget.mdl"elseif DIG=='A502' thenset DJG=HC4[DGG]set DKG=H04[DGG]set DNG=I74[DGG]set DOG="Abilities\\Spells\\Items\\AIam\\AIamTarget.mdl"elseif DIG=='A503' thenset DJG=H34[DGG]set DKG=H54[DGG]set DNG=IE4[DGG]set DOG="Abilities\\Spells\\Demon\\DarkPortal\\DarkPortalTarget.mdl"if A69==true and H64[DGG]!=0 thenset DJG=H64[DGG]set DKG=H24[DGG]endifendifif DKG==0 thencall VH7(p,"Unable to copy "+GetAbilityName(DJG)+".")elseif bj[L3F]==false and DNG!="passive" and(DNG==H_4[DPG]or DNG==I44[DQG]or DNG==I74[DRG]or DNG==IE4[DSG])thenif DNG==H_4[DPG]thenset DMG=HA4[DPG]elseif DNG==I44[DQG]thenset DMG=HB4[DQG]elseif DNG==I74[DRG]thenset DMG=HC4[DRG]elseif DNG==IE4[DSG]thenset DMG=H34[DSG]endifcall VH7(p,"Cannot copy "+GetAbilityName(DJG)+" because you already
        have an ability with this base order ("+GetAbilityName(DMG)+").
        Use -override to disable this.")elsecall DestroyEffect(AddSpecialEffectTarget(DOG,QDF,"origin"))call UnitRemoveAbility(QDF,DIG)call UnitAddAbility(QDF,DJG)call UnitAddAbility(QDF,DKG)call SetPlayerAbilityAvailable(p,DKG,false)call SetUnitAbilityLevel(QDF,DJG,DHG)if DJG=='A0S9' thencall UnitAddAbility(QDF,'A0SA')elseif DJG=='A11N' thencall UnitAddAbility(QDF,'A13D')elseif DJG=='A00J' thencall UnitAddAbility(QDF,'A0MB')call SetUnitAbilityLevel(QDF,'A0MB',DHG)elseif DJG=='A0AK' or DJG=='A1FY' thencall UnitAddAbility(QDF,'A0WF')elseif DJG=='A0RP' thencall UnitAddAbility(QDF,'A0RT')elseif DJG=='A0H9' thencall UnitAddAbility(QDF,'A0HA')endifif DJG=='A0DY' thencall T09(QDF,true)elseif DJG=='A18X' thencall B8F(QDF,true)elseif DJG=='A0LZ' thencall LD9(QDF,true)elseif DJG=='A1CD' thencall CGF(QDF,true)elseif DJG=='A19Q' thencall GWD(QDF,true)elseif DJG=='A0M3' thencall RA9(QDF,true)elseif DJG=='A0FV' thencall RU9(QDF,true)elseif DJG=='A1IQ' thencall R89(QDF,true)elseif DJG=='A0O8' thencall WH9(QDF,true)elseif DJG=='A0QW' thencall DAD(QDF,true)elseif DJG=='A0QN' thencall VT9(QDF,true)elseif DJG=='A0QQ' thencall VZ9(QDF,true)elseif DJG=='A1EA' thencall H3D(QDF,true)elseif DJG=='A03E' thencall N6E(QDF,true)elseif DJG=='A0BG' thencall MQD(QDF,true)elseif DJG=='A08E' or DJG=='A086' thencall W4D(QDF,true,DJG)elseif DJG=='A0CZ' thencall OPD(QDF,true)elseif DJG=='A081' thencall PFD(QDF,true)elseif DJG=='A1E6' thencall Y1D(QDF,true)elseif DJG=='A0SS' thencall GDF(QDF,true)elseif DJG=='A04E' thencall LSD(QDF,true)elseif DJG=='A01N' thencall U1D(QDF,true)elseif DJG=='A06D' thenelseif DJG=='A0ES' thencall CDD(QDF,true)elseif DJG=='A0CT' thenelseif DJG=='A0NS' or DJG=='A1DA' thencall J2D(QDF,true)elseif DJG=='A0NA' thencall BUD(QDF,true)elseif DJG=='A0OI' thencall NED(QDF,true)elseif DJG=='A0IF' thencall N9D(QDF,true)elseif DJG=='A1IN' thencall IZE(QDF,true)endifendifset QDF=nullset p=nullset t=nullendfunctionfunction MI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function DEG))call TriggerAddAction(t,function DFG)set t=nullendfunctionfunction DTG takes nothing returns booleanreturn(GetLearnedSkill()=='A500' or GetLearnedSkill()=='A501' or GetLearnedSkill()=='A502' or GetLearnedSkill()=='A503')and GetUnitAbilityLevel(GetTriggerUnit(),'A504')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A505')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A506')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A507')==0 and GetUnitAbilityLevel(GetTriggerUnit(),'A508')==0endfunctionfunction DUG takes nothing returns booleanreturn GetIssuedOrderId()==OrderId("replenishon")endfunctionfunction DVG takes nothing returns nothinglocal timer t=GetExpiredTimer()local unit DWG=MZ7(GetHandleId(t),"FormlessUnit")local integer DXGcall IssueImmediateOrder(DWG,"replenishoff")if GetUnitAbilityLevel(DWG,'A504')>0 thenset DXG='A509'elseif GetUnitAbilityLevel(DWG,'A505')>0 thenset DXG='A50A'elseif GetUnitAbilityLevel(DWG,'A506')>0 thenset DXG='A50B'elseif GetUnitAbilityLevel(DWG,'A507')>0 thenset DXG='A50C'elseif GetUnitAbilityLevel(DWG,'A508')>0 thenset DXG=0endifcall UnitRemoveAbility(DWG,'A509')call UnitRemoveAbility(DWG,'A50A')call UnitRemoveAbility(DWG,'A50B')call UnitRemoveAbility(DWG,'A50C')if DXG!=0 thencall UnitAddAbility(DWG,DXG)call SetPlayerAbilityAvailable(GetOwningPlayer(DWG),DXG,false)endifcall K_7(GetHandleId(t))call DestroyTimer(t)set t=nullset DWG=nullendfunctionfunction DYG takes nothing returns nothinglocal unit DWG=GetTriggerUnit()local timer t=CreateTimer()call MF7(GetHandleId(t),"FormlessUnit",DWG)call TimerStart(t,0,false,function DVG)set DWG=nullset t=nullendfunctionfunction DZG takes nothing returns nothinglocal integer L3F=GetPlayerId(GetOwningPlayer(GetTriggerUnit()))local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function DUG))call TriggerAddAction(t,function DYG)if GetLearnedSkill()!='A500' thencall UnitAddAbility(GetTriggerUnit(),'A500')call UnitRemoveAbility(GetTriggerUnit(),'A500')elseif GetLearnedSkill()!='A501' thencall UnitAddAbility(GetTriggerUnit(),'A501')call UnitRemoveAbility(GetTriggerUnit(),'A501')elseif GetLearnedSkill()!='A502' thencall UnitAddAbility(GetTriggerUnit(),'A502')call UnitRemoveAbility(GetTriggerUnit(),'A502')elseif GetLearnedSkill()!='A503' thencall UnitAddAbility(GetTriggerUnit(),'A503')call UnitRemoveAbility(GetTriggerUnit(),'A503')endifcall UnitAddAbility(GetTriggerUnit(),'A505')call UnitRemoveAbility(GetTriggerUnit(),'A505')call UnitAddAbility(GetTriggerUnit(),'A506')call UnitRemoveAbility(GetTriggerUnit(),'A506')call UnitAddAbility(GetTriggerUnit(),'A507')call UnitRemoveAbility(GetTriggerUnit(),'A507')call UnitAddAbility(GetTriggerUnit(),'A508')call UnitRemoveAbility(GetTriggerUnit(),'A508')call UnitAddAbility(GetTriggerUnit(),'A504')set t=nullendfunctionfunction MK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function DTG))call TriggerAddAction(t,function DZG)set t=nullendfunctionfunction DAG takes nothing returns nothinglocal unit T_7=GetTriggerUnit()local player p=GetOwningPlayer(T_7)local real xlocal real ylocal integer CD7set IX4[GetPlayerId(GetOwningPlayer((T_7)))]=falseif Q_7(GetOwningPlayer(T_7))thenset x=GetRectCenterX(Z9)set y=GetRectCenterY(Z9)elseset x=GetRectCenterX(Y9)set y=GetRectCenterY(Y9)endifcall TimerStart(N[GetPlayerId(p)],0.0,false,null)if C77(T_7)thencall CN7(T_7)elsecall B_7(T_7,p,x,y,false)endifcall SetUnitX(T_7,x)call SetUnitY(T_7,y)call B07(T_7)call SetUnitPathing(T_7,true)if KO7(T_7,OU[DZ4])!=null and GetUnitTypeId(T_7)!='H00J' thenset CD7=(R2I(((GetItemCharges(KO7(T_7,OU[DZ4]))*0.67)*1.0)))if GetItemCharges(KO7(T_7,OU[DZ4]))==1 thenset CD7=0endifcall SetItemCharges(KO7(T_7,OU[DZ4]),CD7)call AddHeroXP(T_7,GetHeroXP(OV4[GetPlayerId(GetOwningPlayer(T_7))]),true)call RemoveUnit(OV4[GetPlayerId(GetOwningPlayer(T_7))])endifif RJ4 and GetUnitPointValue(T_7)==500 thencall D9G(T_7,'A504')endifset T_7=nullset p=nullendfunctionfunction DBG takes unit DCG,integer D3G returns nothingcall UnitRemoveAbility(DCG,'A554')call UnitRemoveAbility(DCG,'A555')call UnitRemoveAbility(DCG,'A556')call UnitRemoveAbility(DCG,'A557')call UnitRemoveAbility(DCG,'A558')if D3G>=16 thencall UnitAddAbility(DCG,'A558')set D3G=D3G-16endifif D3G>=8 thencall UnitAddAbility(DCG,'A557')set D3G=D3G-8endifif D3G>=4 thencall UnitAddAbility(DCG,'A556')set D3G=D3G-4endifif D3G>=2 thencall UnitAddAbility(DCG,'A555')set D3G=D3G-2endifif D3G>=1 thencall UnitAddAbility(DCG,'A554')set D3G=D3G-1endifendfunctionfunction D6G takes nothing returns booleanreturn GetSpellAbilityId()=='A550'endfunctionfunction DLG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer D1G=(1+GetUnitAbilityLevel(DCG,'A550'))*GetHeroStr(DCG,true)local integer D0G=M_7(GetHandleId(DCG),"iPFCount")+1local integer D3G=M_7(GetHandleId(DCG),"iPFStrength")local integer D5G=D3Gif D0G>9 thenset D0G=0set D5G=VY7(5*GetUnitAbilityLevel(DCG,'A550'),D3G+1)if D5G!=D3G thencall DBG(DCG,D5G)if m5!=DCG thencall WD7("+1 Strength",3,DCG,.023,255,0,0,255)endifendifendifcall SetUnitState(m5,UNIT_STATE_LIFE,GetUnitState(m5,UNIT_STATE_LIFE)+D1G)if D0G!=0 or m5!=DCG or D5G==D3G thencall WD7("+"+I2S(D1G)+" HP",3,m5,.023,255,0,0,255)elsecall WD7("+"+I2S(D1G)+" HP
        +1 Strength",3,DCG,.023,255,0,0,255)endifcall M87(GetHandleId(DCG),"iPFCount",D0G)call M87(GetHandleId(DCG),"iPFStrength",D5G)set DCG=nullset m5=nullendfunctionfunction D2G takes nothing returns booleanreturn AO7(GetEventDamage())endfunctionfunction D_G takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local real E4G=N47(GetHandleId(DCG),"rPFDamage")+GetEventDamage()local integer D3G=M_7(GetHandleId(DCG),"iPFStrength")local integer D5G=D3Gif E4G>=500 thenset E4G=E4G-500set D5G=VY7(5*GetUnitAbilityLevel(DCG,'A550'),D3G+1)if D5G!=D3G thencall DBG(DCG,D5G)call WD7("+1 Strength",3,DCG,.023,255,0,0,255)endifendifcall M97(GetHandleId(DCG),"rPFDamage",E4G)call M87(GetHandleId(DCG),"iPFStrength",D5G)set DCG=nullendfunctionfunction E7G takes nothing returns booleanreturn GetLearnedSkill()=='A550' and GetUnitAbilityLevel(GetTriggerUnit(),'A550')==1endfunctionfunction E8G takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,DCG,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function D2G))call TriggerAddAction(t,function D_G)call M97(GetHandleId(DCG),"rPFDamage",0)call M87(GetHandleId(DCG),"iPFCount",0)call M87(GetHandleId(DCG),"iPFStrength",0)set t=nullset DCG=nullendfunctionfunction MM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function D6G))call TriggerAddAction(t,function DLG)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function E7G))call TriggerAddAction(t,function E8G)set t=nullendfunctionfunction E9G takes unit DCG,integer EDG returns nothingcall UnitRemoveAbility(DCG,'A559')call UnitRemoveAbility(DCG,'A55A')call UnitRemoveAbility(DCG,'A55B')call UnitRemoveAbility(DCG,'A55C')call UnitRemoveAbility(DCG,'A55D')if EDG>=16 thencall UnitAddAbility(DCG,'A55D')set EDG=EDG-16endifif EDG>=8 thencall UnitAddAbility(DCG,'A55C')set EDG=EDG-8endifif EDG>=4 thencall UnitAddAbility(DCG,'A55B')set EDG=EDG-4endifif EDG>=2 thencall UnitAddAbility(DCG,'A55A')set EDG=EDG-2endifif EDG>=1 thencall UnitAddAbility(DCG,'A559')set EDG=EDG-1endifendfunctionfunction EEG takes nothing returns booleanreturn GetSpellAbilityId()=='A551'endfunctionfunction EFG takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit m5=MZ7(GetHandleId(t),"SFluxTarget")call UnitRemoveAbility(m5,'A55J')call UnitRemoveAbility(m5,'A55N')call UnitRemoveAbility(m5,'A55O')call UnitRemoveAbility(m5,'A55P')call UnitRemoveAbility(m5,'B55J')call UnitRemoveAbility(m5,'B55N')call UnitRemoveAbility(m5,'B55O')call UnitRemoveAbility(m5,'B55P')call T77(t)set t=nullset m5=nullendfunctionfunction EGG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local real EHG=0.25*GetHeroAgi(DCG,true)local integer EIG=M_7(GetHandleId(DCG),"iSFCount")+1local integer EDG=M_7(GetHandleId(DCG),"iSFAgility")local integer EJG=EDGlocal trigger t=CreateTrigger()local integer SR7=GetUnitAbilityLevel(DCG,'A551')if EIG>9 thenset EIG=0set EJG=VY7(5*SR7,EDG+1)if EJG!=EDG thencall E9G(DCG,EJG)if m5!=DCG thencall WD7("+1 Agility",3,DCG,.023,0,255,0,255)endifendifendifcall T77(M37(GetHandleId(m5),"SFluxEndTrig"))call UnitRemoveAbility(m5,'A55J')call UnitRemoveAbility(m5,'A55N')call UnitRemoveAbility(m5,'A55O')call UnitRemoveAbility(m5,'A55P')call UnitRemoveAbility(m5,'B55J')call UnitRemoveAbility(m5,'B55N')call UnitRemoveAbility(m5,'B55O')call UnitRemoveAbility(m5,'B55P')if SR7==1 thencall UnitAddAbility(m5,'A55J')elseif SR7==2 thencall UnitAddAbility(m5,'A55N')elseif SR7==3 thencall UnitAddAbility(m5,'A55O')elseif SR7==4 thencall UnitAddAbility(m5,'A55P')endifcall TriggerRegisterTimerEvent(t,EHG,false)call TriggerRegisterUnitEvent(t,m5,EVENT_UNIT_DEATH)call TriggerAddAction(t,function EFG)call MF7(GetHandleId(t),"SFluxTarget",m5)call MH7(GetHandleId(m5),"SFluxEndTrig",t)if EIG!=0 or m5!=DCG or EJG==EDG thencall WD7(R2S(EHG)+" s",3,m5,.023,0,255,0,255)elsecall WD7(R2S(EHG)+" s
        +1 Agility",3,DCG,.023,0,255,0,255)endifcall M87(GetHandleId(DCG),"iSFCount",EIG)call M87(GetHandleId(DCG),"iSFAgility",EJG)set DCG=nullset m5=nullset t=nullendfunctionfunction EKG takes nothing returns booleanreturn AO7(GetEventDamage())endfunctionfunction EMG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local integer ENG=M_7(GetHandleId(DCG),"iSFHit")+1local integer EDG=M_7(GetHandleId(DCG),"iSFAgility")local integer EJG=EDGif ENG>=20 thenset ENG=0set EJG=VY7(5*GetUnitAbilityLevel(DCG,'A551'),EDG+1)if EJG!=EDG thencall E9G(DCG,EJG)call WD7("+1 Agility",3,DCG,.023,0,255,0,255)endifendifcall M87(GetHandleId(DCG),"iSFHit",ENG)call M87(GetHandleId(DCG),"iSFAgility",EJG)set DCG=nullendfunctionfunction EOG takes nothing returns booleanreturn GetLearnedSkill()=='A551' and GetUnitAbilityLevel(GetTriggerUnit(),'A551')==1endfunctionfunction EPG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local trigger t=CreateTrigger()call TriggerRegisterUnitEvent(t,DCG,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function EKG))call TriggerAddAction(t,function EMG)call M87(GetHandleId(DCG),"iSFHit",0)call M87(GetHandleId(DCG),"iSFCount",0)call M87(GetHandleId(DCG),"iSFAgility",0)set t=nullset DCG=nullendfunctionfunction MN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function EEG))call TriggerAddAction(t,function EGG)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EOG))call TriggerAddAction(t,function EPG)set t=nullendfunctionfunction EQG takes unit DCG,integer ERG returns nothingcall UnitRemoveAbility(DCG,'A55E')call UnitRemoveAbility(DCG,'A55F')call UnitRemoveAbility(DCG,'A55G')call UnitRemoveAbility(DCG,'A55H')call UnitRemoveAbility(DCG,'A55I')if ERG>=16 thencall UnitAddAbility(DCG,'A55I')set ERG=ERG-16endifif ERG>=8 thencall UnitAddAbility(DCG,'A55H')set ERG=ERG-8endifif ERG>=4 thencall UnitAddAbility(DCG,'A55G')set ERG=ERG-4endifif ERG>=2 thencall UnitAddAbility(DCG,'A55F')set ERG=ERG-2endifif ERG>=1 thencall UnitAddAbility(DCG,'A55E')set ERG=ERG-1endifendfunctionfunction ESG takes nothing returns booleanreturn GetSpellAbilityId()=='A552'endfunctionfunction ETG takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local unit m5=MZ7(GetHandleId(t),"MFluxTarget")local integer EUG=M_7(GetHandleId(t),"iMFluxMP")call SetUnitState(m5,UNIT_STATE_MANA,GetUnitState(m5,UNIT_STATE_MANA)+EUG)call T77(t)set t=nullset m5=nullendfunctionfunction EVG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer EUG=R2I(0.75*GetUnitAbilityLevel(DCG,'A552')*GetHeroInt(DCG,true))local integer EWG=M_7(GetHandleId(DCG),"iMFCount")+1local integer ERG=M_7(GetHandleId(DCG),"iMFIntelligence")local integer EXG=ERGlocal trigger t=CreateTrigger()if EWG>9 thenset EWG=0set EXG=VY7(5*GetUnitAbilityLevel(DCG,'A552'),ERG+1)if EXG!=ERG thencall EQG(DCG,EXG)if m5!=DCG thencall WD7("+1 Intelligence",3,DCG,.023,0,0,255,255)endifendifendifcall MF7(GetHandleId(t),"MFluxTarget",m5)call M87(GetHandleId(t),"iMFluxMP",EUG)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddAction(t,function ETG)if EWG!=0 or m5!=DCG or EXG==ERG thencall WD7("+"+I2S(EUG)+" MP",3,m5,.023,0,0,255,255)elsecall WD7("+"+I2S(EUG)+" MP
        +1 Intelligence",3,DCG,.023,0,0,255,255)endifcall M87(GetHandleId(DCG),"iMFCount",EWG)call M87(GetHandleId(DCG),"iMFIntelligence",EXG)set DCG=nullset m5=nullset t=nullendfunctionfunction EYG takes nothing returns booleanreturn GetSpellTargetUnit()==MZ7(GetHandleId(GetTriggeringTrigger()),"uKappa")and IsUnitEnemy(MZ7(GetHandleId(GetTriggeringTrigger()),"uKappa"),GetOwningPlayer(GetTriggerUnit()))endfunctionfunction EZG takes nothing returns nothinglocal unit DCG=GetSpellTargetUnit()local integer EAG=M_7(GetHandleId(DCG),"iMFCast")+1local integer ERG=M_7(GetHandleId(DCG),"iMFIntelligence")local integer EXG=ERGif EAG>=3 thenset EAG=0set EXG=VY7(5*GetUnitAbilityLevel(DCG,'A552'),ERG+1)if EXG!=ERG thencall EQG(DCG,EXG)call WD7("+1 Intelligence",3,DCG,.023,0,0,255,255)endifendifcall M87(GetHandleId(DCG),"iMFCast",EAG)call M87(GetHandleId(DCG),"iMFIntelligence",EXG)set DCG=nullendfunctionfunction EBG takes nothing returns booleanreturn GetLearnedSkill()=='A552' and GetUnitAbilityLevel(GetTriggerUnit(),'A552')==1endfunctionfunction ECG takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function EYG))call TriggerAddAction(t,function EZG)call MF7(GetHandleId(t),"uKappa",DCG)call M87(GetHandleId(DCG),"iMFCast",0)call M87(GetHandleId(DCG),"iMFCount",0)call M87(GetHandleId(DCG),"iMFIntelligence",0)set t=nullset DCG=nullendfunctionfunction MO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ESG))call TriggerAddAction(t,function EVG)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function EBG))call TriggerAddAction(t,function ECG)set t=nullendfunctionfunction E3G takes nothing returns booleanreturn GetSpellAbilityId()=='A553'endfunctionfunction E6G takes nothing returns nothinglocal unit DCG=GetTriggerUnit()local unit m5=GetSpellTargetUnit()local integer ELG=0local integer E1G=0if GetUnitAbilityLevel(DCG,'A55K')>0 thenset E1G=M_7(GetHandleId(DCG),"iPFStrength")elseif GetUnitAbilityLevel(DCG,'A55L')>0 thenset E1G=M_7(GetHandleId(DCG),"iSFAgility")elseif GetUnitAbilityLevel(DCG,'A55M')>0 thenset E1G=M_7(GetHandleId(DCG),"iMFIntelligence")endifset ELG=E1G/2if ModuloInteger(E1G,2)>0 thenset ELG=ELG+1endifset E1G=E1G/2if GetUnitAbilityLevel(DCG,'A55K')>0 thencall DBG(DCG,0)call M87(GetHandleId(DCG),"iPFStrength",0)call SetHeroStr(m5,GetHeroStr(m5,false)+ELG,true)call SetHeroStr(DCG,GetHeroStr(DCG,false)+E1G,true)call WD7("+"+I2S(ELG)+" Strength",3,m5,.023,255,0,0,255)call WD7("+"+I2S(E1G)+" Strength",3,DCG,.023,255,0,0,255)call M87(GetHandleId(m5),"FluxStr",M_7(GetHandleId(m5),"FluxStr")+ELG)call M87(GetHandleId(DCG),"FluxStr",M_7(GetHandleId(DCG),"FluxStr")+E1G)elseif GetUnitAbilityLevel(DCG,'A55L')>0 thencall E9G(DCG,0)call M87(GetHandleId(DCG),"iSFAgility",0)call SetHeroAgi(m5,GetHeroAgi(m5,false)+ELG,true)call SetHeroAgi(DCG,GetHeroAgi(DCG,false)+E1G,true)call WD7("+"+I2S(ELG)+" Agility",3,m5,.023,0,255,0,255)call WD7("+"+I2S(E1G)+" Agility",3,DCG,.023,0,255,0,255)call M87(GetHandleId(m5),"FluxAgi",M_7(GetHandleId(m5),"FluxAgi")+ELG)call M87(GetHandleId(DCG),"FluxAgi",M_7(GetHandleId(DCG),"FluxAgi")+E1G)elseif GetUnitAbilityLevel(DCG,'A55M')>0 thencall EQG(DCG,0)call M87(GetHandleId(DCG),"iMFIntelligence",0)call SetHeroInt(m5,GetHeroInt(m5,false)+ELG,true)call SetHeroInt(DCG,GetHeroInt(DCG,false)+E1G,true)call WD7("+"+I2S(ELG)+" Intelligence",3,m5,.023,0,0,255,255)call WD7("+"+I2S(E1G)+" Intelligence",3,DCG,.023,0,0,255,255)call M87(GetHandleId(m5),"FluxInt",M_7(GetHandleId(m5),"FluxInt")+ELG)call M87(GetHandleId(DCG),"FluxInt",M_7(GetHandleId(DCG),"FluxInt")+E1G)endifset DCG=nullset m5=nullendfunctionfunction E0G takes nothing returns booleanreturn GetLearnedSkill()=='A553' and GetUnitAbilityLevel(GetTriggerUnit(),'A553')==1endfunctionfunction E5G takes nothing returns nothingcall UnitAddAbility(GetTriggerUnit(),'A55K')endfunctionfunction E2G takes nothing returns booleanreturn GetSpellAbilityId()=='A55K' or GetSpellAbilityId()=='A55L' or GetSpellAbilityId()=='A55M'endfunctionfunction E_G takes nothing returns nothingif GetSpellAbilityId()=='A55K' thencall UnitRemoveAbility(GetTriggerUnit(),'A55K')call UnitAddAbility(GetTriggerUnit(),'A55L')elseif GetSpellAbilityId()=='A55L' thencall UnitRemoveAbility(GetTriggerUnit(),'A55L')call UnitAddAbility(GetTriggerUnit(),'A55M')elsecall UnitRemoveAbility(GetTriggerUnit(),'A55M')call UnitAddAbility(GetTriggerUnit(),'A55K')endifendfunctionfunction MP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E3G))call TriggerAddAction(t,function E6G)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function E0G))call TriggerAddAction(t,function E5G)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function E2G))call TriggerAddAction(t,function E_G)set t=nullendfunctionfunction F4G takes nothing returns nothinglocal unit F7G=G7[GetPlayerId(GetTriggerPlayer())]local player p=GetTriggerPlayer()local integer F8G=GetHandleId(F7G)local integer F9G=M_7(F8G,"FluxStr")local integer FDG=M_7(F8G,"FluxAgi")local integer FEG=M_7(F8G,"FluxInt")local integer FFG=M_7(F8G,"iPFStrength")local integer FGG=M_7(F8G,"iSFAgility")local integer FHG=M_7(F8G,"iMFIntelligence")if GetUnitTypeId(F7G)=='H600' thencall DisplayTimedTextToPlayer(p,0,0,15,"Bonus Strength: "+I2S(FFG))call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Agility: "+I2S(FGG))call DisplayTimedTextToPlayer(p,0,0,15,"Bonus Intelligence: "+I2S(FHG))endifcall DisplayTimedTextToPlayer(p,0,0,15,"Flux Strength: "+I2S(F9G))call DisplayTimedTextToPlayer(p,0,0,15,"Flux Agility: "+I2S(FDG))call DisplayTimedTextToPlayer(p,0,0,15,"Flux Intelligence: "+I2S(FEG))set F7G=nullset p=nullendfunctionfunction MQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-flux",true)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-flux",true)call TriggerAddAction(t,function F4G)set t=nullendfunctionfunction FIG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=(LoadInteger(C7,(GetHandleId(U47)),(627)))local real FJG=(LoadReal(C7,(GetHandleId(U47)),(628)))local integer ZN7=GetUnitAbilityLevel(X97,'A1S4')local real R09=(5+ZN7*15)*Pow(2,IMinBJ(S08,4)-1)set R09=R09+IMaxBJ(S08-4,0)*50if GetTriggerEventId()==EVENT_UNIT_DEATH thenif IsUnitType(U47,UNIT_TYPE_HERO)==true thencall KillUnit((LoadUnitHandle(C7,(V_7),(45))))endifcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SaveInteger(C7,(GetHandleId(U47)),(627),(0))call SaveReal(C7,(GetHandleId(U47)),(628),((0)*1.0))elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A1S9' thenif IsUnitType(U47,UNIT_TYPE_HERO)==true thencall KillUnit((LoadUnitHandle(C7,(V_7),(45))))endifcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SaveInteger(C7,(GetHandleId(U47)),(627),(0))call SaveReal(C7,(GetHandleId(U47)),(628),((0)*1.0))if(NF7(U47,"DisruptionState"))thencall SetUnitInvulnerable(U47,false)endifcall ZO7(X97,U47,Y84,R09)if(NF7(U47,"DisruptionState"))thencall SetUnitInvulnerable(U47,true)endifcall WD7(I2S(R2I(R09))+"!",2,U47,0.025,100,0,200,216)endifelseif(TimerGetElapsed(P))>FJG thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))if IsUnitType(U47,UNIT_TYPE_HERO)==true thencall KillUnit((LoadUnitHandle(C7,(V_7),(45))))endifcall FlushChildHashtable(C7,(V_7))call NM7(t)call SaveInteger(C7,(GetHandleId(U47)),(627),(0))call SaveReal(C7,(GetHandleId(U47)),(628),((0)*1.0))if(NF7(U47,"DisruptionState"))thencall SetUnitInvulnerable(U47,false)endifcall ZO7(X97,U47,Y84,R09)if(NF7(U47,"DisruptionState"))thencall SetUnitInvulnerable(U47,true)endifcall WD7(I2S(R2I(R09))+"!",2,U47,0.025,100,0,200,216)elseif IsUnitType(U47,UNIT_TYPE_HERO)==true thencall SetUnitX((LoadUnitHandle(C7,(V_7),(45))),GetUnitX(U47))call SetUnitY((LoadUnitHandle(C7,(V_7),(45))),GetUnitY(U47))endifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction FKG takes unit X97,unit U47 returns nothinglocal trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(X97,'A1S4')local unit WQ7if(LoadInteger(C7,(GetHandleId(U47)),(627)))>0 thencall SaveInteger(C7,(GetHandleId(U47)),(627),((LoadInteger(C7,(GetHandleId(U47)),(627)))+1))call SaveReal(C7,(GetHandleId(U47)),(628),(((TimerGetElapsed(P))+8)*1.0))elseset t=CreateTrigger()set V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))if IsUnitType(U47,UNIT_TYPE_HERO)==true thenset WQ7=CreateUnit(GetOwningPlayer(X97),'o019',GetUnitX(U47),GetUnitY(U47),0)call SaveUnitHandle(C7,(V_7),(45),(WQ7))endifcall SaveInteger(C7,(GetHandleId(U47)),(627),(1))if IsUnitType(U47,UNIT_TYPE_HERO)==true thencall SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",U47,"chest")))elsecall SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\shamanyouranus-ShadowyMissile.mdl",U47,"origin")))endifcall SaveReal(C7,(GetHandleId(U47)),(628),(((TimerGetElapsed(P))+10)*1.0))call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FIG))set WQ7=nullendifcall WD7("+"+I2S((LoadInteger(C7,(GetHandleId(U47)),(627)))),3,U47,0.025,100,0,200,216)call ZO7(X97,U47,Y84,50)set t=nullset WQ7=nullendfunctionfunction FMG takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),UH4)==false thencall GroupAddUnit(UH4,GetEnumUnit())call FKG(UG4,GetEnumUnit())endifendfunctionfunction FNG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local integer FOG=GetTriggerEvalCount(t)local real a=(LoadReal(C7,(V_7),(137)))local real x=VK7(GetUnitX(WQ7)+(20)*Cos(a))local real y=VM7(GetUnitY(WQ7)+(20)*Sin(a))local group glocal group FPG=(LoadGroupHandle(C7,(V_7),(133)))local unit U47if FOG==75 thencall T67(FPG)call KillUnit(WQ7)call FlushChildHashtable(C7,(V_7))call NM7(t)elseset I04=X97set UG4=X97set UH4=FPGcall SetUnitX(WQ7,x)call SetUnitY(WQ7,y)set g=TL7()call GroupEnumUnitsInRange(g,x,y,175,Condition(function YF7))call ForGroup(g,function FMG)set U47=FirstOfGroup(g)call T67(g)endifset t=nullset X97=nullset WQ7=nullset g=nullset U47=nullset FPG=nullreturn falseendfunctionfunction FQG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=W77(GetUnitX(X97),GetUnitY(X97),x,y)*bj_DEGTORADlocal unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0C2',GetUnitX(X97),GetUnitY(X97),a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function FNG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveGroupHandle(C7,(V_7),(133),(TL7()))call UW7(X97,'A1S9')set t=nullset X97=nullset WQ7=nullendfunctionfunction FRG takes nothing returns booleanif GetSpellAbilityId()=='A1S4' thencall FQG()endifreturn falseendfunctionfunction K48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FRG))set t=nullendfunctionfunction FSG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit FTG=GetSummonedUnit()if GetTriggerEventId()!=EVENT_PLAYER_UNIT_SUMMON thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetUnitAbilityLevel(FTG,'B0DA')>0 and GetOwningPlayer(GetSummoningUnit())==GetOwningPlayer(X97)thenif IsUnitAlly(U47,GetOwningPlayer(X97))==true thencall SelectUnitAddForPlayer(FTG,GetOwningPlayer(X97))elsecall IssueTargetOrder(FTG,"attack",U47)endifendifset t=nullset X97=nullset U47=nullset FTG=nullreturn falseendfunctionfunction FUG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call NJ7(U47,"DisruptionState")call SetUnitInvulnerable(U47,false)call PauseUnit(U47,false)call ShowUnit(U47,true)call RemoveSavedHandle(C7,(GetHandleId(U47)),(673))call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall ClearSelectionForPlayer(GetOwningPlayer(U47))call SelectUnitAddForPlayer(U47,GetOwningPlayer(U47))call WN7(UE4,GetUnitX(U47),GetUnitY(U47))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,3,false)call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function FSG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call UW7(ZM7,'A1S5')call SetUnitAbilityLevel(ZM7,'A1S5',GetUnitAbilityLevel(X97,'A1S8'))call IssueTargetOrderById(ZM7,852274,U47)call IssueTargetOrderById(ZM7,852274,U47)endifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction FVG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A1S8')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(U47),'o019',GetUnitX(U47),GetUnitY(U47),0)call UnitApplyTimedLife(ZM7,'BTLF',2.6)if IsUnitAlly(U47,GetOwningPlayer(X97))==false thenset ZM7=CreateUnit(GetOwningPlayer(X97),'o019',GetUnitX(U47),GetUnitY(U47),0)call UnitApplyTimedLife(ZM7,'BTLF',2.6)endifcall SetUnitInvulnerable(U47,true)call PauseUnit(U47,true)call ShowUnit(U47,false)call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\WILLTHEALMIGHTY-Void5.mdx",GetUnitX(U47),GetUnitY(U47))))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call TriggerRegisterTimerEvent(t,2.5,false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function FUG))call SaveUnitHandle(C7,GetHandleId(X97),(673),U47)call NH7(U47,"DisruptionState")set X97=nullset U47=nullset t=nullset ZM7=nullendfunctionfunction FWG takes nothing returns booleanif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A1S8' and(IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true or T37(GetSpellTargetUnit())==false)thencall FVG()endifelseif GetSpellAbilityId()=='A1S8' and GetSpellTargetUnit()!=GetTriggerUnit()and IsUnitAlly(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n038'))endifendifreturn falseendfunctionfunction K78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function FWG))set t=nullendfunctionfunction FXG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A1SB')if GetTriggerEventId()!=EVENT_UNIT_DAMAGED thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call MF7(GetHandleId(X97),"AI|SoulCatcherTgt",null)elseif GetEventDamage()>5 thencall DisableTrigger(t)call ZO7(GetEventDamageSource(),GetTriggerUnit(),YD4,(0.1+0.1*ZN7)*GetEventDamage())call EnableTrigger(t)endifset X97=nullset t=nullreturn falseendfunctionfunction FYG takes nothing returns nothinglocal real x=GetSpellTargetX()local real y=GetSpellTargetY()local group g=TL7()local unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A1SB')local unit U47local trigger tlocal integer V_7set I04=X97call GroupEnumUnitsInRange(g,x,y,475,Condition(function YF7))set U47=(LoadUnitHandle(C7,(GetHandleId(X97)),(673)))if U47!=null thenif J87(GetUnitX(U47),GetUnitY(U47),x,y)<475 and IsUnitEnemy(U47,GetOwningPlayer(X97))==true thencall GroupAddUnit(g,U47)endifendifset U47=GroupPickRandomUnit(g)call T67(g)call DestroyEffect(AddSpecialEffect("war3mapImported\\Desecrate.mdx",x,y))if U47!=null thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,12,false)call TriggerAddCondition(t,Condition(function FXG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\void.mdx",U47,"chest")))if IsUnitType(U47,UNIT_TYPE_HERO)thencall NQ7(U47,"AI|SoulCatcher",12)call MF7(GetHandleId(X97),"AI|SoulCatcherTgt",U47)endifendifset g=nullset X97=nullset U47=nullset t=nullendfunctionfunction FZG takes nothing returns booleanif GetSpellAbilityId()=='A1SB' thencall FYG()endifreturn falseendfunctionfunction K88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FZG))set t=nullendfunctionfunction FAG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer FOG=GetTriggerEvalCount(t)local integer ZN7=GetUnitAbilityLevel(X97,'A1SA')if FOG==5 thencall FlushChildHashtable(C7,(V_7))call NM7(t)if(NF7(U47,"DisruptionState")==true)thencall SetUnitInvulnerable(U47,false)endifcall ZO7(X97,U47,Y84,4*(25+25*ZN7))if(NF7(U47,"DisruptionState")==true)thencall SetUnitInvulnerable(U47,true)endifelseendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction FBG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function FAG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call TriggerEvaluate(t)set t=nullset X97=nullset U47=nullendfunctionfunction FCG takes nothing returns booleanif GetSpellAbilityId()=='A1SA' and IsUnitEnemy(GetSpellTargetUnit(),GetOwningPlayer(GetTriggerUnit()))==true and T37(GetSpellTargetUnit())==false thencall FBG()endifreturn falseendfunctionfunction K98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FCG))set t=nullendfunctionfunction F3G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer FOG=GetTriggerEvalCount(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call UnitRemoveAbility(X97,'A1SP')set t=nullset X97=nullreturn falseendfunctionfunction F6G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call UW7(X97,'A1SP')call UnitMakeAbilityPermanent(X97,true,'A1SP')call SetUnitAbilityLevel(X97,'A1SP',GetUnitAbilityLevel(X97,'A1SO'))call TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function F3G))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction FLG takes nothing returns booleanif GetSpellAbilityId()=='A1SO' thencall F6G()endifreturn falseendfunctionfunction KD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FLG))set t=nullendfunctionfunction F1G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer FOG=GetTriggerEvalCount(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local real xlocal real ylocal real dlocal real F0Glocal real F5G=(LoadReal(C7,(V_7),(23)))local real F2G=(LoadReal(C7,(V_7),(24)))local real a=W77(F5G,F2G,GetUnitX(U47),GetUnitY(U47))*bj_DEGTORADif GetTriggerEventId()==EVENT_UNIT_DEATH thencall UnitShareVision(WQ7,GetOwningPlayer(U47),false)call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerUnit()!=WQ7 thencall KillUnit(WQ7)endifelseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall UnitRemoveBuffs(WQ7,true,true)elseif FOG<3/0.02 thencall SetUnitFacing(WQ7,a*bj_RADTODEG)elseif FOG==4/0.02 thencall UnitShareVision(WQ7,GetOwningPlayer(U47),true)endifcall SetUnitFacing(WQ7,a*bj_RADTODEG)set x=F5G+(280+TY4*FOG*0.02)*0.02*Cos(a)set y=F2G+(280+TY4*FOG*0.02)*0.02*Sin(a)call SetUnitPosition(WQ7,x,y)call SaveReal(C7,(V_7),(23),((x)*1.0))call SaveReal(C7,(V_7),(24),((y)*1.0))if J87(x,y,GetUnitX(U47),GetUnitY(U47))<20 thenset d=RMinBJ(J87(x,y,(LoadReal(C7,(V_7),(6))),(LoadReal(C7,(V_7),(7)))),2000)set F0G=d/2000*(110*GetUnitAbilityLevel(X97,'A1SQ'))set F0G=RMaxBJ(F0G,50)call KillUnit(WQ7)call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)if Y77(U47)==false or IsUnitVisible(U47,GetOwningPlayer(X97))==true thencall ZO7(X97,U47,Y84,F0G)call ZK7(X97,U47,2.5)endifendifendifset t=nullset X97=nullset U47=nullset WQ7=nullreturn falseendfunctionfunction F_G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local real a=W77(GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))*bj_DEGTORADlocal real x=VK7(GetUnitX(X97)+150*Cos(a))local real y=VM7(GetUnitY(X97)+150*Sin(a))local integer ZN7=GetUnitAbilityLevel(X97,'A1SQ')local unit WQ7local integer G4Glocal string G7G="effects\\Snipe Target.mdx"if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))==false and TV7(GetLocalPlayer())==false thenset G7G=""endifif ZN7==1 thenset G4G='h0CG'elseif ZN7==2 thenset G4G='h0C1'elseif ZN7==3 thenset G4G='h0CF'elseif ZN7==4 thenset G4G='h0CH'endifset WQ7=CreateUnit(GetOwningPlayer(X97),G4G,x,y,a*bj_RADTODEG)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,WQ7,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,WQ7,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function F1G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveReal(C7,(V_7),(6),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(X97))*1.0))call SaveReal(C7,(V_7),(23),((GetUnitX(WQ7))*1.0))call SaveReal(C7,(V_7),(24),((GetUnitY(WQ7))*1.0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget(G7G,U47,"overhead")))set t=nullset X97=nullset U47=nullset WQ7=nullendfunctionfunction G8G takes nothing returns booleanif GetSpellAbilityId()=='A1SQ' and T37(GetSpellTargetUnit())==false thencall F_G()endifreturn falseendfunctionfunction KE8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G8G))call VQ7('A0X6')set t=nullendfunctionfunction G9G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'B0DE')call UnitRemoveAbility(U47,'A1SS')set t=nullset U47=nullreturn falseendfunctionfunction GDG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(U47,'B0DG')call UnitRemoveAbility(U47,'A1T4')set t=nullset U47=nullreturn falseendfunctionfunction GEG takes nothing returns nothinglocal trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(TR4,'A1T5')local boolean N_D=falseif ZN7==0 thenset ZN7=GetUnitAbilityLevel(TR4,'A235')set N_D=trueendifif VG8(GetEnumUnit())==false thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function G9G))call SaveUnitHandle(C7,(V_7),(17),(GetEnumUnit()))call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1SS',false)call UW7(GetEnumUnit(),'A1SS')endifcall ZO7(TR4,GetEnumUnit(),Y84,ZN7*50+200)set t=nullendfunctionfunction GFG takes nothing returns nothinglocal trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(TR4,'A1T5')local boolean N_D=falseif ZN7==0 thenset ZN7=GetUnitAbilityLevel(TR4,'A235')set N_D=trueendifif VG8(GetEnumUnit())==false thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,3,false)call TriggerRegisterUnitEvent(t,GetEnumUnit(),EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function GDG))call SaveUnitHandle(C7,(V_7),(17),(GetEnumUnit()))call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A1T4',false)call UW7(GetEnumUnit(),'A1T4')endifif N_D thencall ZO7(TR4,GetEnumUnit(),Y84,ZN7*50+50+75)elsecall ZO7(TR4,GetEnumUnit(),Y84,ZN7*50+50)endifset t=nullendfunctionfunction GGG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local group glocal integer FOG=GetTriggerEvalCount(t)local fogmodifier GHG=(LoadFogModifierHandle(C7,(V_7),(42)))if FOG==1 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",X97,"chest"))elseif FOG==2 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Calldown_FlyUp.mdx",X97,"chest"))elseif FOG==3 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))elseif FOG==4 thenset g=TL7()set I04=X97set TR4=X97call GroupEnumUnitsInRange(g,x,y,425,Condition(function Y47))call ForGroup(g,function GEG)call T67(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))elseif FOG==5 thencall DestroyEffect(AddSpecialEffect("war3mapImported\\Calldown_FlyDown.mdx",x,y))elseif FOG==6 thenset g=TL7()set I04=X97set TR4=X97call GroupEnumUnitsInRange(g,x,y,425,Condition(function Y47))call ForGroup(g,function GFG)call T67(g)call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\DemolisherFireMissile\\DemolisherFireMissile.mdl",x,y))call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FogModifierStop(GHG)call DestroyFogModifier(GHG)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset g=nullset GHG=nullreturn falseendfunctionfunction GIG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local string s=""local fogmodifier KZD=CreateFogModifierRadius(GetOwningPlayer(X97),FOG_OF_WAR_VISIBLE,x,y,350,true,true)call FogModifierStart(KZD)if IsPlayerAlly(GetLocalPlayer(),GetOwningPlayer(X97))==true or TV7(GetLocalPlayer())thenset s="war3mapImported\\CallDown_4.mdx"endifcall TriggerRegisterTimerEvent(t,0.1,false)call TriggerRegisterTimerEvent(t,0.8,false)call TriggerRegisterTimerEvent(t,1.6,false)call TriggerRegisterTimerEvent(t,2,false)call TriggerRegisterTimerEvent(t,3.6,false)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function GGG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect(s,x,y)))call SaveFogModifierHandle(C7,(V_7),(42),(KZD))set t=nullset X97=nullset KZD=nullendfunctionfunction GJG takes nothing returns booleanif GetSpellAbilityId()=='A1T5' or GetSpellAbilityId()=='A235' thencall GIG()endifreturn falseendfunctionfunction KF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GJG))set t=nullendfunctionfunction GKG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer RP7=GetHandleId(t)local unit X97=MZ7(RP7,"Source")local integer GFDif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 and(GetEventDamage()>20 or IsUnitType(GetTriggerUnit(),UNIT_TYPE_STRUCTURE)==true)thenset GFD=M_7(GetHandleId(X97),"Count")if GFD>0 thencall M87(GetHandleId(X97),"Count",(GFD+1))endifcall K_7(RP7)call NM7(t)endifelsecall K_7(RP7)call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction GMG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=MZ7(V_7,"Source")if S07(X97)==false thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A237')call UnitAddAbility(X97,'A22B')call UnitRemoveAbility(X97,'A22B')if(KO7((X97),OU[HK4])!=null)thencall UnitAddAbility(X97,'A237')endifendifset t=nullset X97=nullreturn falseendfunctionfunction GNG takes unit X97 returns nothinglocal trigger tif S07(X97)==false thencall UnitRemoveAbility(X97,'A237')call UnitAddAbility(X97,'A22B')call UnitRemoveAbility(X97,'A22B')if(KO7((X97),OU[HK4])!=null)thencall UnitAddAbility(X97,'A237')endifelseset t=CreateTrigger()call MF7(GetHandleId(t),"Source",X97)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function GMG))set t=nullendifendfunctionfunction GOG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer RP7=GetHandleId(t)local unit X97=MZ7(RP7,"Source")call UnitRemoveAbility(X97,'A1TW')call UnitRemoveAbility(X97,'B0DJ')call GNG(X97)call K_7(RP7)call NM7(t)set t=nullreturn falseendfunctionfunction GPG takes nothing returns nothinglocal unit AE7=GetAttacker()local integer RP7=GetHandleId(AE7)local integer GFD=M_7(RP7,"Count")local integer AF7=GetUnitAbilityLevel(AE7,'A229')local trigger tif IsUnitIllusion(GetAttacker())==true and GetUnitAbilityLevel(GetAttacker(),'A1TW')>0 thencall GNG(GetAttacker())call UnitRemoveAbility(GetAttacker(),'A1TW')endifif GetAttacker()==AE7 thenset GFD=GFD+1if GFD>3+AF7 thencall UnitRemoveAbility(AE7,'A1TW')call UnitRemoveAbility(AE7,'B0DJ')call GNG(AE7)set t=M37(RP7,"FlakCannon_EndTrig")call K_7(GetHandleId(t))call NM7(t)elseset t=CreateTrigger()call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function GKG))call MF7(GetHandleId(t),"Source",AE7)endifendifset t=nullset AE7=nullendfunctionfunction GQG takes nothing returns booleanif GetUnitAbilityLevel(GetAttacker(),'A1TW')>0 thencall GPG()endifreturn falseendfunctionfunction GRG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer RP7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,15,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function GOG))call MF7(RP7,"Source",X97)call MH7(GetHandleId(X97),"FlakCannon_EndTrig",t)call M87(GetHandleId(X97),"Count",(1))call UnitRemoveAbility(X97,'A237')call UnitAddAbility(X97,'A22A')call UnitRemoveAbility(X97,'A22A')if(KO7((X97),OU[HK4])!=null)thencall UnitAddAbility(X97,'A237')endifset t=nullset X97=nullendfunctionfunction GSG takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==true and GetUnitTypeId(GetTriggerUnit())=='E02O' thencall GNG(GetTriggerUnit())endifreturn falseendfunctionfunction GTG takes nothing returns booleanif GetSpellAbilityId()=='A229' and GetUnitTypeId(GetTriggerUnit())=='E02N' thencall GRG()endifreturn falseendfunctionfunction KG8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GTG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function GQG))set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,GetWorldBounds())call TriggerAddCondition(t,Condition(function GSG))set t=nullendfunctionfunction GUG takes nothing returns booleanlocal unit U47=GetFilterUnit()local unit X97=TS4local real GVG=TT4local real GWG=TU4local real ON2=TV4local real OS2=TW4local real xlocal real ylocal real alocal real dif(TU7(GetFilterUnit())==false and IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))thenset d=J87(GVG,GWG,GetUnitX(U47),GetUnitY(U47))set a=W77(GVG,GWG,GetUnitX(U47),GetUnitY(U47))*bj_DEGTORADif d>TX4 thenset x=GetUnitX(U47)+11*Cos(a)set y=GetUnitY(U47)+11*Sin(a)elseset x=GetUnitX(U47)-11*Cos(a)set y=GetUnitY(U47)-11*Sin(a)endifcall SetUnitX(U47,x)call SetUnitY(U47,y)endifset U47=nullset X97=nullreturn falseendfunctionfunction GXG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real GVG=(LoadReal(C7,(V_7),(6)))local real GWG=(LoadReal(C7,(V_7),(7)))local real xlocal real ylocal integer i=0local group gif GetTriggerEvalCount(t)>(50*(2+0.5*GetUnitAbilityLevel(X97,'A1SU')))thenloopexitwhen i>16set i=i+1endloopcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set TT4=GVGset TU4=GWGset TS4=X97set I04=X97loopexitwhen i>16set x=GVG+TX4*Cos(bj_DEGTORAD*360.0*i/16.0)set y=GWG+TX4*Sin(bj_DEGTORAD*360.0*i/16.0)set TV4=xset TW4=ycall GroupEnumUnitsInRange(g,x,y,75,Condition(function GUG))set i=i+1endloopcall T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction GYG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real GVG=(LoadReal(C7,(V_7),(6)))local real GWG=(LoadReal(C7,(V_7),(7)))local real xlocal real ylocal integer i=0call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)set t=CreateTrigger()set V_7=GetHandleId(t)loopexitwhen i>16set x=GVG+TX4*Cos(bj_DEGTORAD*360.0*i/16.0)set y=GWG+TX4*Sin(bj_DEGTORAD*360.0*i/16.0)set i=i+1endloopcall SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Stand.mdx",GVG,GWG)))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((GVG)*1.0))call SaveReal(C7,(V_7),(7),((GWG)*1.0))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function GXG))set t=nullset X97=nullreturn falseendfunctionfunction GZG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real GVG=GetSpellTargetX()local real GWG=GetSpellTargetY()call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\KineticField_FX_Start.mdx",GVG,GWG)))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((GVG)*1.0))call SaveReal(C7,(V_7),(7),((GWG)*1.0))call TriggerRegisterTimerEvent(t,1.2,false)call TriggerAddCondition(t,Condition(function GYG))call WP7(GetOwningPlayer(X97),5.5,GVG,GWG,300)set t=nullset X97=nullendfunctionfunction GAG takes nothing returns booleanif GetSpellAbilityId()=='A1SU' thencall GZG()endifreturn falseendfunctionfunction KH8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function GAG))set t=nullendfunctionfunction GBG takes nothing returns nothingcall ZO7(U44,GetEnumUnit(),Y84,T_4)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Purge_NoBirth.mdx",GetEnumUnit(),"origin"))endfunctionfunction GCG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer ZN7=(LoadInteger(C7,(V_7),(5)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local group glocal integer FOG=GetTriggerEvalCount(t)if FOG>20 thencall StopSound(UF4,false,true)call KillUnit(WQ7)call ShowUnit(WQ7,false)call KillUnit(ZM7)call FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97set U44=X97set T_4=0.25*(130+40*ZN7)*(FOG/20.0)set U74=falseif ModuloInteger(FOG,4)==0 thenset U74=trueendifcall GroupEnumUnitsInRange(g,GetUnitX(WQ7),GetUnitY(WQ7),400,Condition(function YE7))call ForGroup(g,function GBG)call T67(g)set g=nullendifset t=nullset X97=nullset WQ7=nullset ZM7=nullreturn falseendfunctionfunction G3G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real G6G=GetSpellTargetX()local real GLG=GetSpellTargetY()local unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0CK',G6G,GLG,0)local integer ZN7=GetUnitAbilityLevel(X97,'A1U6')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',G6G,GLG,0)call SetSoundVolume(UF4,200)call StartSound(UF4)call SetSoundPosition(UF4,G6G,GLG,100)if R47(GetOwningPlayer(X97))thencall UW7(ZM7,'A1U5')elsecall UW7(ZM7,'A1U4')endifcall IssuePointOrder(ZM7,"cloudoffog",G6G,GLG)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveInteger(C7,(V_7),(5),(ZN7))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function GCG))set t=nullset X97=nullset WQ7=nullset ZM7=nullendfunctionfunction G1G takes nothing returns booleanif GetSpellAbilityId()=='A1U6' thencall G3G()endifreturn falseendfunctionfunction KI8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G1G))set t=nullendfunctionfunction G0G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local real G6G=(LoadReal(C7,(V_7),(6)))local real GLG=(LoadReal(C7,(V_7),(7)))local real x=GetUnitX(WQ7)local real y=GetUnitY(WQ7)local real a=W77(x,y,G6G,GLG)local real d=J87(x,y,G6G,GLG)local real r=(LoadReal(C7,(V_7),(671)))call SetUnitFacing(WQ7,a)set x=x+r*Cos(a*bj_DEGTORAD)set y=y+r*Sin(a*bj_DEGTORAD)call SetUnitX(WQ7,x)call SetUnitY(WQ7,y)if d<40 thencall KillUnit(WQ7)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)call NQ7(U47,"4411",1)call SetUnitPosition(U47,G6G,GLG)call PanCameraToTimedForPlayer(GetOwningPlayer(U47),G6G,GLG,0)elseif TU7(U47)thencall KillUnit(WQ7)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset U47=nullset WQ7=nullreturn falseendfunctionfunction G5G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local real x=(LoadReal(C7,(GetHandleId(U47)),(7400)))local real y=(LoadReal(C7,(GetHandleId(U47)),(7500)))local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0C6',GetUnitX(U47),GetUnitY(U47),0)local real d=J87(x,y,GetUnitX(U47),GetUnitY(U47))local real r=0.02*(RMaxBJ(d/1.8,600))call TriggerAddCondition(t,Condition(function G0G))call TriggerRegisterTimerEvent(t,0.02,true)call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveReal(C7,(V_7),(671),((r)*1.0))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("effects\\Lightning_Ball_Tail_FX.mdx",U47,"overhead")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffect("effects\\Lightning_Ball_Tail_FX.mdx",x,y)))call TriggerEvaluate(t)set X97=nullset U47=nullset WQ7=nullset t=nullendfunctionfunction G2G takes nothing returns booleanif GetSpellAbilityId()=='A1SW' and T37(GetSpellTargetUnit())==false thenif IsUnitIllusion(GetSpellTargetUnit())thencall KillUnit(GetSpellTargetUnit())elsecall G5G()endifendifreturn falseendfunctionfunction SMF takes nothing returns nothinglocal unit U47=I04local integer i=0loopexitwhen i>15set i=i+1endloopset U47=nullendfunctionfunction G_G takes nothing returns nothinglocal unit U47=GetEnumUnit()local integer V_7=GetHandleId(U47)local integer i=1loopexitwhen i>14call SaveReal(C7,(V_7),(7400+i-1),(((LoadReal(C7,(V_7),(7400+i))))*1.0))call SaveReal(C7,(V_7),(7500+i-1),(((LoadReal(C7,(V_7),(7500+i))))*1.0))set i=i+1endloopcall SaveReal(C7,(V_7),(7400+14),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(7500+14),((GetUnitY(U47))*1.0))set U47=nullendfunctionfunction H4G takes nothing returns booleanlocal group g=TL7()call GroupEnumUnitsInRange(g,0,0,99999,Condition(function YR7))call ForGroup(g,function G_G)call T67(g)set g=nullreturn falseendfunctionfunction KJ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function G2G))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function H4G))set t=nullendfunctionfunction H7G takes nothing returns nothingif TZ4!=GetEnumUnit()thencall ZO7(TA4,GetEnumUnit(),Y84,TB4*25+25)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\Bolt\\BoltImpact.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction H8G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local group glocal integer FOG=GetTriggerEvalCount(t)local unit H9G=nullcall SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))if FOG==1 or FOG==100 or FOG==200 thenset g=TL7()if UY7(U47)thenset H9G=CreateUnit(GetOwningPlayer(U47),'e00C',GetUnitX(U47),GetUnitY(U47),0)call UnitApplyTimedLife(H9G,'BTLF',0.2)call IssueTargetOrder(ZM7,"chainlightning",H9G)elsecall IssueTargetOrder(ZM7,"chainlightning",U47)endifcall V57("war3mapImported\\ThunderStorm_Groundeffect.mdx",U47,"origin",0.6)set I04=X97set TA4=X97set TZ4=U47set TB4=ZN7call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),225,Condition(function Y47))call ForGroup(g,function H7G)call T67(g)if GetTriggerEvalCount(t)==200 thencall KillUnit(ZM7)call FlushChildHashtable(C7,(V_7))call NM7(t)endifendifset t=nullset X97=nullset U47=nullset ZM7=nullset g=nullset H9G=nullreturn falseendfunctionfunction HDG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A1TV')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e02P',GetUnitX(U47),GetUnitY(U47),0)call UW7(ZM7,'A1U7')call SetUnitAbilityLevel(ZM7,'A1U7',ZN7)call UW7(ZM7,'Aloc')call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function H8G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveInteger(C7,(V_7),(5),(ZN7))set X97=nullset U47=nullset ZM7=nullset t=nullendfunctionfunction HEG takes nothing returns booleanif GetSpellAbilityId()=='A1TV' and T37(GetSpellTargetUnit())==false thencall HDG()endifreturn falseendfunctionfunction KK8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HEG))set t=nullendfunctionfunction HFG takes nothing returns nothinglocal integer HGG=T14local unit U47=GetEnumUnit()local integer HHG=662-1+HGGlocal real HIG=(LoadReal(C7,(GetHandleId(U47)),(HHG)))local real HJG=(TimerGetElapsed(P))if HIG<HJG thencall SaveReal(C7,(GetHandleId(U47)),(HHG),((HJG+2)*1.0))if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall ZO7(TO4,U47,Y84,2+6*T04)elseendifendifset U47=nullendfunctionfunction Spirits_DamageHeroes takes nothing returns nothinglocal integer HKG=T14local unit U47=GetEnumUnit()local integer HMG=662-1+HKGlocal real HNG=(LoadReal(C7,(GetHandleId(U47)),(HMG)))local real HOG=(TimerGetElapsed(P))if HNG<HOG thencall SaveReal(C7,(GetHandleId(U47)),(HMG),((HOG+2)*1.0))if IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall ZO7(TO4,U47,Y84,15+10*T04)elseendifendifset U47=nullendfunctionfunction HPG takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_STRUCTURE)==false thencall ZO7(TO4,GetEnumUnit(),Y84,T64)elseendifendfunctionfunction HQG takes unit X97,unit HRG returns nothinglocal group g=TL7()set I04=X97set T64=25*T04set TO4=X97set TP4=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(HRG),GetUnitY(HRG),0)call GroupEnumUnitsInRange(g,GetUnitX(HRG),GetUnitY(HRG),325,Condition(function YP7))call ForGroup(g,function HPG)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",GetUnitX(HRG),GetUnitY(HRG)))call KillUnit(HRG)call T67(g)set g=nullendfunctionfunction HSG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit HTG=(LoadUnitHandle(C7,(V_7),(393)))local unit HUG=(LoadUnitHandle(C7,(V_7),(394)))local unit HVG=(LoadUnitHandle(C7,(V_7),(395)))local unit HWG=(LoadUnitHandle(C7,(V_7),(396)))local unit HXG=(LoadUnitHandle(C7,(V_7),(397)))local real xlocal real ylocal real alocal real d=(LoadReal(C7,(V_7),(138)))local real GVG=GetUnitX(X97)local real GWG=GetUnitY(X97)local real HYGlocal integer FOG=GetTriggerEvalCount(t)local real HZGlocal group glocal integer HAG=0local real XA8=2.25local real HBGif UY7(HTG)==false thenset HAG=HAG+1endifif UY7(HUG)==false thenset HAG=HAG+1endifif UY7(HVG)==false thenset HAG=HAG+1endifif UY7(HWG)==false thenset HAG=HAG+1endifif UY7(HXG)==false thenset HAG=HAG+1endifif HAG==5 thenset XA8=2.25elseif HAG==4 thenset XA8=2.1elseif HAG==3 thenset XA8=1.95elseif HAG==2 thenset XA8=1.8elseif HAG==1 thenset XA8=1.65endifset HYG=-1*360*0.02/XA8set HBG=(LoadReal(C7,(V_7),(137)))+HYGcall SaveReal(C7,(V_7),(137),((HBG)*1.0))set T04=GetUnitAbilityLevel(X97,'A1T8')set TO4=X97if FOG==50 thencall ShowUnit(HUG,true)call SaveBoolean(C7,(V_7),(512),(true))call UW7(HUG,'Aloc')endifif FOG==100 thencall ShowUnit(HVG,true)call SaveBoolean(C7,(V_7),(513),(true))call UW7(HVG,'Aloc')endifif FOG==150 thencall ShowUnit(HWG,true)call SaveBoolean(C7,(V_7),(514),(true))call UW7(HWG,'Aloc')endifif FOG==200 thencall ShowUnit(HXG,true)call SaveBoolean(C7,(V_7),(515),(true))call UW7(HXG,'Aloc')endifif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A1U3' thenif(LoadBoolean(C7,(V_7),(655)))==true thencall SaveBoolean(C7,(V_7),(655),(false))call SaveBoolean(C7,(V_7),(656),(false))elsecall SaveBoolean(C7,(V_7),(655),(true))call SaveBoolean(C7,(V_7),(656),(false))endifelseif GetSpellAbilityId()=='A1U2' thenif(LoadBoolean(C7,(V_7),(656)))==true thencall SaveBoolean(C7,(V_7),(655),(false))call SaveBoolean(C7,(V_7),(656),(false))elsecall SaveBoolean(C7,(V_7),(655),(false))call SaveBoolean(C7,(V_7),(656),(true))endifendifendifif(LoadBoolean(C7,(V_7),(655)))thenset d=RMaxBJ(d-5,100)call SaveReal(C7,(V_7),(138),((d)*1.0))elseif(LoadBoolean(C7,(V_7),(656)))thenset d=RMinBJ(d+5,875)call SaveReal(C7,(V_7),(138),((d)*1.0))endifif GetTriggerEventId()==EVENT_UNIT_DEATH or FOG==950 or(UY7(HTG)and UY7(HUG)and UY7(HVG)and UY7(HWG)and UY7(HXG))or(FOG>1 and GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1T8')thenif GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT thencall UnitRemoveAbility(X97,'A1U3')call UnitRemoveAbility(X97,'A1U2')endifcall FlushChildHashtable(C7,(V_7))call NM7(t)if UY7(HTG)==false thencall HQG(X97,HTG)endifif UY7(HUG)==false thencall HQG(X97,HUG)endifif UY7(HVG)==false thencall HQG(X97,HVG)endifif UY7(HWG)==false thencall HQG(X97,HWG)endifif UY7(HXG)==false thencall HQG(X97,HXG)endifelseset g=TL7()if UY7(HTG)==false and(LoadBoolean(C7,(V_7),(511)))thenset HZG=360*5/5.0set a=HZG+HBGset x=VK7(GVG+d*Cos(a*bj_DEGTORAD))set y=VM7(GWG+d*Sin(a*bj_DEGTORAD))call SetUnitX(HTG,x)call SetUnitY(HTG,y)set I04=X97call GroupEnumUnitsInRange(g,x,y,95,Condition(function YS7))if FirstOfGroup(g)!=null thencall HQG(X97,HTG)endifcall GroupClear(g)set TQ4=HTGset T14=1set TO4=X97call GroupEnumUnitsInRange(g,x,y,175,Condition(function YT7))call ForGroup(g,function HFG)call GroupClear(g)endifif UY7(HUG)==false and(LoadBoolean(C7,(V_7),(512)))thenset HZG=360*4/5.0set a=HZG+HBGset x=VK7(GVG+d*Cos(a*bj_DEGTORAD))set y=VM7(GWG+d*Sin(a*bj_DEGTORAD))call SetUnitX(HUG,x)call SetUnitY(HUG,y)set I04=X97call GroupEnumUnitsInRange(g,x,y,95,Condition(function YS7))if FirstOfGroup(g)!=null thencall HQG(X97,HUG)endifcall GroupClear(g)set TQ4=HUGset T14=2set TO4=X97call GroupEnumUnitsInRange(g,x,y,175,Condition(function YT7))call ForGroup(g,function HFG)call GroupClear(g)endifif UY7(HVG)==false and(LoadBoolean(C7,(V_7),(513)))thenset HZG=360*3/5.0set a=HZG+HBGset x=VK7(GVG+d*Cos(a*bj_DEGTORAD))set y=VM7(GWG+d*Sin(a*bj_DEGTORAD))call SetUnitX(HVG,x)call SetUnitY(HVG,y)set I04=X97call GroupEnumUnitsInRange(g,x,y,95,Condition(function YS7))if FirstOfGroup(g)!=null thencall HQG(X97,HVG)endifcall GroupClear(g)set TQ4=HVGset T14=3set TO4=X97call GroupEnumUnitsInRange(g,x,y,175,Condition(function YT7))call ForGroup(g,function HFG)call GroupClear(g)endifif UY7(HWG)==false and(LoadBoolean(C7,(V_7),(514)))thenset HZG=360*2/5.0set a=HZG+HBGset x=VK7(GVG+d*Cos(a*bj_DEGTORAD))set y=VM7(GWG+d*Sin(a*bj_DEGTORAD))call SetUnitX(HWG,x)call SetUnitY(HWG,y)set I04=X97call GroupEnumUnitsInRange(g,x,y,95,Condition(function YS7))if FirstOfGroup(g)!=null thencall HQG(X97,HWG)endifcall GroupClear(g)set TQ4=HWGset T14=4set TO4=X97call GroupEnumUnitsInRange(g,x,y,175,Condition(function YT7))call ForGroup(g,function HFG)call GroupClear(g)endifif UY7(HXG)==false and(LoadBoolean(C7,(V_7),(515)))thenset HZG=360*1/5.0set a=HZG+HBGset x=VK7(GVG+d*Cos(a*bj_DEGTORAD))set y=VM7(GWG+d*Sin(a*bj_DEGTORAD))call SetUnitX(HXG,x)call SetUnitY(HXG,y)set I04=X97call GroupEnumUnitsInRange(g,x,y,95,Condition(function YS7))if FirstOfGroup(g)!=null thencall HQG(X97,HXG)endifcall GroupClear(g)set TQ4=HXGset T14=5set TO4=X97call GroupEnumUnitsInRange(g,x,y,175,Condition(function YT7))call ForGroup(g,function HFG)call GroupClear(g)endifcall T67(g)endifset t=nullset X97=nullset HTG=nullset HUG=nullset HVG=nullset HWG=nullset HXG=nullset g=nullreturn falseendfunctionfunction HCG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit HTGlocal unit HUGlocal unit HVGlocal unit HWGlocal unit H3Glocal real xlocal real yset x=GetUnitX(X97)+250*Cos(bj_DEGTORAD*360*5/5.0*-1.0)set y=GetUnitY(X97)+250*Sin(bj_DEGTORAD*360*5/5.0*-1.0)set HTG=CreateUnit(GetOwningPlayer(X97),'h0CJ',x,y,360*5/5.0*-1.0)call UW7(HTG,'Aloc')set x=GetUnitX(X97)+250*Cos(bj_DEGTORAD*360*4/5.0*-1.0)set y=GetUnitY(X97)+250*Sin(bj_DEGTORAD*360*4/5.0*-1.0)set HUG=CreateUnit(GetOwningPlayer(X97),'h0CJ',x,y,360*4/5.0*-1.0)call ShowUnit(HUG,false)call SetUnitInvulnerable(HUG,true)set x=GetUnitX(X97)+250*Cos(bj_DEGTORAD*360*3/5.0*-1.0)set y=GetUnitY(X97)+250*Sin(bj_DEGTORAD*360*3/5.0*-1.0)set HVG=CreateUnit(GetOwningPlayer(X97),'h0CJ',x,y,360*3/5.0*-1.0)call ShowUnit(HVG,false)call SetUnitInvulnerable(HUG,true)set x=GetUnitX(X97)+250*Cos(bj_DEGTORAD*360*2/5.0*-1.0)set y=GetUnitY(X97)+250*Sin(bj_DEGTORAD*360*2/5.0*-1.0)set HWG=CreateUnit(GetOwningPlayer(X97),'h0CJ',x,y,360*2/5.0*-1.0)call ShowUnit(HWG,false)call SetUnitInvulnerable(HWG,true)set x=GetUnitX(X97)+250*Cos(bj_DEGTORAD*360*1/5.0*-1.0)set y=GetUnitY(X97)+250*Sin(bj_DEGTORAD*360*1/5.0*-1.0)set H3G=CreateUnit(GetOwningPlayer(X97),'h0CJ',x,y,360*1/5.0*-1.0)call ShowUnit(H3G,false)call SetUnitInvulnerable(H3G,true)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(393),(HTG))call SaveUnitHandle(C7,(V_7),(394),(HUG))call SaveUnitHandle(C7,(V_7),(395),(HVG))call SaveUnitHandle(C7,(V_7),(396),(HWG))call SaveUnitHandle(C7,(V_7),(397),(H3G))call SaveBoolean(C7,(V_7),(511),(true))call SaveBoolean(C7,(V_7),(512),(false))call SaveBoolean(C7,(V_7),(513),(false))call SaveBoolean(C7,(V_7),(514),(false))call SaveBoolean(C7,(V_7),(515),(false))call SaveBoolean(C7,(V_7),(655),(false))call SaveBoolean(C7,(V_7),(656),(false))call SaveReal(C7,(V_7),(138),((150)*1.0))call UW7(X97,'A1U2')call UW7(X97,'A1U3')call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function HSG))set X97=nullset t=nullset HTG=nullset HUG=nullset HVG=nullset HWG=nullset H3G=nullendfunctionfunction H6G takes nothing returns booleanif GetSpellAbilityId()=='A1T8' thencall HCG()endifreturn falseendfunctionfunction KM8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function H6G))set t=nullendfunctionfunction HLG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))call V67(X97,GetEventDamage()*0.05*ZN7)set t=nullset X97=nullreturn falseendfunctionfunction H1G takes unit u returns nothinglocal trigger tcall UnitRemoveAbility(u,'A1TS')call UnitRemoveAbility(u,'A1TR')call UnitRemoveAbility(u,'A1TT')call UnitRemoveAbility(u,'A1TP')if(LoadBoolean(C7,(GetHandleId(u)),(708)))thencall SaveBoolean(C7,(GetHandleId(u)),(708),(false))set t=(LoadTriggerHandle(C7,(GetHandleId(u)),(709)))call FlushChildHashtable(C7,(GetHandleId(t)))call NM7(t)call RemoveSavedHandle(C7,(GetHandleId(u)),(709))set t=nullendifendfunctionfunction H0G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call H1G(X97)call FlushChildHashtable(C7,(V_7))call NM7(t)return falseendfunctionfunction H5G takes unit u,integer i returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(u))call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function H0G))if i==1 thencall UW7(u,'A1TS')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TS',false)elseif i==2 thencall UW7(u,'A1TR')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TR',false)elseif i==3 thencall UW7(u,'A1TT')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TT',false)elseif i==4 thencall UW7(u,'A1TP')call SetPlayerAbilityAvailable(GetOwningPlayer(u),'A1TP',false)endifif(LoadBoolean(C7,(GetHandleId(u)),(708)))==false thencall SaveBoolean(C7,(GetHandleId(u)),(708),(true))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,u,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function HLG))call SaveTriggerHandle(C7,(GetHandleId(u)),(709),(t))call SaveUnitHandle(C7,(GetHandleId(t)),(2),(u))call SaveInteger(C7,(GetHandleId(t)),(5),(i))endifset t=nullendfunctionfunction H2G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer FOG=(LoadInteger(C7,(V_7),(34)))local integer ZN7=GetUnitAbilityLevel(X97,'A28Q')local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit H_G=(LoadUnitHandle(C7,(GetHandleId(X97)),(652)))local boolean I4G=falselocal real I7G=0.2*(GetUnitState(X97,UNIT_STATE_LIFE)*0.025)local real I8G=0.2*(GetUnitState(X97,UNIT_STATE_MANA)*0.025)if GetTriggerEventId()==EVENT_UNIT_ISSUED_ORDER thenif GetIssuedOrderId()==String2OrderIdBJ("manashieldon")thencall H5G(X97,ZN7)elseif GetIssuedOrderId()==String2OrderIdBJ("manashieldoff")thencall H1G(X97)endifendifif GetUnitAbilityLevel(X97,'A1TS')>0 or GetUnitAbilityLevel(X97,'A1TR')>0 or GetUnitAbilityLevel(X97,'A1TT')>0 or GetUnitAbilityLevel(X97,'A1TP')>0 thenset I4G=truecall SetUnitState(X97,UNIT_STATE_LIFE,RMaxBJ(GetUnitState(X97,UNIT_STATE_LIFE)-I7G,1))call SetUnitState(X97,UNIT_STATE_MANA,RMaxBJ(GetUnitState(X97,UNIT_STATE_MANA)-I8G,1))endifif H_G==null thenif U47!=null thencall H1G(U47)set U47=nullcall SaveUnitHandle(C7,(V_7),(17),(U47))endifelseif U47==null thenset U47=H_Gif I4G thencall SaveUnitHandle(C7,(V_7),(17),(U47))call H5G(U47,ZN7)elsecall H1G(U47)endifelseif U47!=H_G thencall H1G(U47)if I4G thenset U47=H_Gcall SaveUnitHandle(C7,(V_7),(17),(U47))call H5G(U47,ZN7)endifelseif I4G==false thencall H1G(U47)elseif U47==H_G thenif I4G thenset U47=H_Gcall SaveUnitHandle(C7,(V_7),(17),(U47))call H5G(U47,ZN7)endifendifendifset t=nullset X97=nullset U47=nullset H_G=nullreturn falseendfunctionfunction I9G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A28Q')call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(null))call TriggerRegisterTimerEvent(t,0.2,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_ORDER)call TriggerAddCondition(t,Condition(function H2G))set X97=nullset t=nullendfunctionfunction IDG takes nothing returns booleanif GetLearnedSkill()=='A28Q' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A28Q')==1 thencall I9G()endifreturn falseendfunctionfunction KN8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function IDG))set t=nullendfunctionfunction IEG takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),TC4)==false thencall GroupAddUnit(TC4,GetEnumUnit())call ZK7(TN4,GetEnumUnit(),0.25+0.5*TL4)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",GetEnumUnit(),"chest"))endifendfunctionfunction IFG takes unit X97,unit U47,group FPG returns nothinglocal real x1=GetUnitX(X97)local real y1=GetUnitY(X97)local real x2=GetUnitX(U47)local real y2=GetUnitY(U47)local real a=W77(x1,y1,x2,y2)*bj_DEGTORADlocal real xlocal real ylocal real d=J87(x1,y1,x2,y2)local group g=TL7()local integer i=1set TC4=FPGset TN4=X97set TL4=GetUnitAbilityLevel(X97,'A1TA')set T34=TL4*50+50loopexitwhen i>8set I04=X97set x=x1+d*i/8*Cos(a)set y=y1+d*i/8*Sin(a)call GroupEnumUnitsInRange(g,x,y,100,Condition(function Y47))call ForGroup(g,function IEG)call GroupClear(g)set i=i+1endloopcall T67(g)set g=nullendfunctionfunction IGG takes unit X97,unit U47 returns booleanreturn(NF7(X97,"Relocate|Active"))endfunctionfunction IHG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real d=J77(X97,U47)local real a=W47(X97,U47)*bj_DEGTORADlocal real x=GetUnitX(X97)+20*Cos(a)local real y=GetUnitY(X97)+20*Sin(a)local location lif d<300 or d>2150 thenset l=VJ8(x,y)set x=GetLocationX(l)set y=GetLocationY(l)call SetUnitX(X97,VK7(x))call SetUnitY(X97,VK7(y))call WK7(x,y,350)call RemoveLocation(l)set l=nullcall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SaveInteger(C7,(GetHandleId((X97))),((4295)),(2))elsecall SetUnitX(X97,x)call SetUnitY(X97,y)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction IIG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local group FPG=(LoadGroupHandle(C7,(V_7),(133)))local lightning IJG=(LoadLightningHandle(C7,(V_7),(196)))local integer S08=GetTriggerEvalCount(t)local real d=J77(X97,U47)local real a=1local real VV9=GetUnitState(X97,UNIT_STATE_LIFE)local real IKG=GetUnitState(X97,UNIT_STATE_MANA)local real IMG=(LoadReal(C7,(V_7),(670)))local real ING=(LoadReal(C7,(V_7),(667)))local real IOGlocal real IPGif U47==null or X97==null or UY7(X97)==true or(S08>600 and IGG(X97,U47)==false and((LoadInteger(C7,(GetHandleId((X97))),((4295))))==1)==false)or(d>925 and((LoadInteger(C7,(GetHandleId((X97))),((4295))))==1)==false)or GetTriggerEventId()==EVENT_UNIT_DEATH or(GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT and GetSpellAbilityId()=='A1TU')thencall T67(FPG)call DestroyLightning(IJG)call UnitRemoveAbility(U47,'A1TH')call UnitRemoveAbility(U47,'A1TI')call UnitRemoveAbility(U47,'A1TG')call UnitRemoveAbility(U47,'A1TJ')call UnitRemoveAbility(U47,'B0DH')call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A1TH')call UnitRemoveAbility(X97,'A1TI')call UnitRemoveAbility(X97,'A1TG')call UnitRemoveAbility(X97,'A1TJ')call UnitRemoveAbility(X97,'B0DH')call UnitRemoveAbility(X97,'A1TU')if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A1TA' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1TA',true)endifcall RemoveSavedHandle(C7,GetHandleId(X97),652)call RemoveSavedHandle(C7,GetHandleId(U47),StringHash("AI|TetherSource"))elseset IOG=VV9/GetUnitState(X97,UNIT_STATE_MAX_LIFE)set IPG=IKG/GetUnitState(X97,UNIT_STATE_MAX_MANA)if IOG-IMG>0 and(IOG-IMG)<0.5 thenif NF7(X97,"ArmletOfMordiganState")==false thencall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+(IOG-IMG)*GetUnitState(X97,UNIT_STATE_MAX_LIFE))endifendifif IPG-ING>0 and(IOG-IMG)<0.5 thencall SetUnitState(U47,UNIT_STATE_MANA,GetUnitState(U47,UNIT_STATE_MANA)+(IPG-ING)*GetUnitState(X97,UNIT_STATE_MAX_MANA))endifcall SaveReal(C7,(V_7),(670),((GetUnitState(X97,UNIT_STATE_LIFE)/GetUnitState(X97,UNIT_STATE_MAX_LIFE))*1.0))call SaveReal(C7,(V_7),(667),((GetUnitState(X97,UNIT_STATE_MANA)/GetUnitState(X97,UNIT_STATE_MAX_MANA))*1.0))call MoveLightning(IJG,true,GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))call IFG(X97,U47,FPG)if IsUnitVisible(X97,GetLocalPlayer())==false and IsUnitVisible(U47,GetLocalPlayer())==false thenset a=0endifif TV7(GetLocalPlayer())thenset a=1endifif d<700 or((LoadInteger(C7,(GetHandleId((X97))),((4295))))==1)==true thencall SetLightningColor(IJG,0.00,1.00,1.00,a)elsecall SetLightningColor(IJG,0.80,0.70,0.40,a)endifendifset t=nullset X97=nullset U47=nullset FPG=nullset IJG=nullreturn falseendfunctionfunction IQG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local lightning IJG=AddLightning("CHIM",true,GetUnitX(X97),GetUnitY(X97),GetUnitX(U47),GetUnitY(U47))local integer ZN7=GetUnitAbilityLevel(X97,'A1TA')local integer IRGlocal real d=J77(X97,U47)local real a=W47(X97,U47)*bj_DEGTORADlocal location llocal real xlocal real ycall SetLightningColor(IJG,0.00,1.00,1.00,1)call UW7(X97,'A1TU')if ZN7==1 thenset IRG='A1TH'elseif ZN7==2 thenset IRG='A1TI'elseif ZN7==3 thenset IRG='A1TG'elseif ZN7==4 thenset IRG='A1TJ'endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1TA',false)call UW7(X97,IRG)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),IRG,false)call UW7(U47,IRG)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),IRG,false)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveGroupHandle(C7,(V_7),(133),(TL7()))call SaveLightningHandle(C7,(V_7),(196),(IJG))call SaveReal(C7,(V_7),(670),((GetUnitState(X97,UNIT_STATE_LIFE)/GetUnitState(X97,UNIT_STATE_MAX_LIFE))*1.0))call SaveReal(C7,(V_7),(667),((GetUnitState(X97,UNIT_STATE_MANA)/GetUnitState(X97,UNIT_STATE_MAX_MANA))*1.0))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function IIG))call SaveUnitHandle(C7,(GetHandleId(X97)),(652),(U47))if IsUnitType(U47,UNIT_TYPE_HERO)thencall MF7((GetHandleId(U47)),"AI|TetherSource",X97)endifif d>700 thenset t=CreateTrigger()set V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\DragonHawkMissile\\DragonHawkMissile.mdl",X97,"chest")))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function IHG))call SaveInteger(C7,(GetHandleId((X97))),((4295)),(1))endifset X97=nullset t=nullendfunctionfunction ISG takes nothing returns booleanif GetSpellAbilityId()=='A1TA' thencall IQG()endifreturn falseendfunctionfunction KO8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function ISG))set t=nullendfunctionfunction ITG takes unit X97,real x,real y returns booleanlocal boolean CM9=falselocal player p=GetOwningPlayer(X97)local unit ZM7=CreateUnit(p,'e02Q',GetUnitX(X97),GetUnitY(X97),0)call UW7(ZM7,'A1V4')if IssuePointOrder(ZM7,"blink",x,y)==true thencall KillUnit(ZM7)set ZM7=nullreturn trueelsecall KillUnit(ZM7)set ZM7=nullreturn falseendifendfunctionfunction IUG takes string IVG,unit U47 returns nothinglocal texttag tt=CreateTextTag()call SetTextTagText(tt,IVG,0.033)call SetTextTagPosUnit(tt,U47,64)call SetTextTagColor(tt,0,50,255,255)call SetTextTagVelocity(tt,0,0.0355)call SetTextTagFadepoint(tt,0.15)call SetTextTagPermanent(tt,false)call SetTextTagLifespan(tt,0.85)call SetTextTagVisibility(tt,true)set tt=nullendfunctionfunction IWG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer FOG=GetTriggerEvalCount(t)if UY7(X97)==false and FOG<12 thencall IUG(I2S(12-FOG),X97)endifif FOG==12 thencall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction IXG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(GetHandleId(X97)),(652)))local real G6G=(LoadReal(C7,(V_7),(47)))local real GLG=(LoadReal(C7,(V_7),(48)))local real GVG=(LoadReal(C7,(V_7),(189)))local real GWG=(LoadReal(C7,(V_7),(190)))local fogmodifier GHG=(LoadFogModifierHandle(C7,(V_7),(42)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall NJ7(X97,"Relocate|Active")call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FogModifierStop(GHG)call DestroyFogModifier(GHG)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall WK7(G6G,GLG,250)call WK7(GVG,GWG,250)if GetTriggerEvalCount(t)==1 thenif UY7(X97)==false thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(X97),GetUnitY(X97)))call SetUnitPosition(X97,G6G,GLG)call PanCameraToTimedForPlayer(GetOwningPlayer(X97),G6G,GLG,0)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(X97),GetUnitY(X97)))call R17(X97)endifif U47!=null and UY7(U47)==false and GetOwningPlayer(U47)!=Y7[0]and GetOwningPlayer(U47)!=Z7[0]and((N77(GetHandleId(GetOwningPlayer((U47))),"DisableHelp"))==false)thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(U47),GetUnitY(U47)))call NQ7(U47,"4402",1)call SetUnitPosition(U47,G6G,GLG)if IsUnitType(U47,UNIT_TYPE_HERO)==true and UY7(U47)==false thencall PanCameraToTimedForPlayer(GetOwningPlayer(U47),G6G,GLG,0)endifcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(U47),GetUnitY(U47)))call R17(U47)endifelseif UY7(X97)==false thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(X97),GetUnitY(X97)))call SetUnitPosition(X97,GVG,GWG)call PanCameraToTimedForPlayer(GetOwningPlayer(X97),GVG,GWG,0)call DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(X97),GetUnitY(X97)))call R17(X97)endifif U47!=null and UY7(U47)==false and GetOwningPlayer(U47)!=Y7[0]and GetOwningPlayer(U47)!=Z7[0]and((N77(GetHandleId(GetOwningPlayer((U47))),"DisableHelp"))==false)thencall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(U47),GetUnitY(U47)))call NQ7(U47,"4402",1)call SetUnitPosition(U47,GVG,GWG)if IsUnitType(U47,UNIT_TYPE_HERO)==true and UY7(U47)==false thencall PanCameraToTimedForPlayer(GetOwningPlayer(U47),GVG,GWG,0)endifcall DestroyEffect(AddSpecialEffect("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",GetUnitX(U47),GetUnitY(U47)))call R17(U47)endifcall NJ7(X97,"Relocate|Active")call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FogModifierStop(GHG)call DestroyFogModifier(GHG)call FlushChildHashtable(C7,(V_7))call NM7(t)endifendifset t=nullset X97=nullset U47=nullset GHG=nullreturn falseendfunctionfunction IYG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real G6G=(LoadReal(C7,(V_7),(47)))local real GLG=(LoadReal(C7,(V_7),(48)))local fogmodifier GHGlocal integer ZN7=GetUnitAbilityLevel(X97,'A1TB')if V78(X97)or X27(X97)or UY7(X97)thencall NJ7(X97,"Relocate|Active")call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEvalCount(t)==(2.75-0.25*ZN7)/.05 thenset GHG=CreateFogModifierRadius(GetOwningPlayer(X97),FOG_OF_WAR_VISIBLE,GetUnitX(X97),GetUnitY(X97),400,true,true)call FogModifierStart(GHG)call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)set t=CreateTrigger()set V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call TriggerRegisterTimerEvent(t,0.01,false)call TriggerRegisterTimerEvent(t,12,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function IXG))call SaveReal(C7,(V_7),(189),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(190),((GetUnitY(X97))*1.0))call SaveReal(C7,(V_7),(47),((G6G)*1.0))call SaveReal(C7,(V_7),(48),((GLG)*1.0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",GetUnitX(X97),GetUnitY(X97))))call SaveFogModifierHandle(C7,(V_7),(42),(GHG))set t=CreateTrigger()set V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function IWG))endifset X97=nullset t=nullset GHG=nullreturn falseendfunctionfunction IZG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real x=GetSpellTargetX()local real y=GetSpellTargetY()local unit U47=(LoadUnitHandle(C7,(GetHandleId(X97)),(652)))local integer id=GetPlayerId(GetOwningPlayer(X97))local integer ZN7=GetUnitAbilityLevel(X97,'A1TB')call DestroyEffect(AddSpecialEffectTarget("Objects\\Spawnmodels\\NightElf\\NECancelDeath\\NECancelDeath.mdl",X97,"chest"))if U47!=null thenendifcall PingMinimapEx(x,y,4.0,255,0,0,false)call WP7(Y7[1],2.5,x,y,300)call WP7(Z7[1],2.5,x,y,300)call SaveUnitHandle(C7,(V_7),(2),(X97))call TriggerRegisterTimerEvent(t,.05,true)call TriggerAddCondition(t,Condition(function IYG))call SaveReal(C7,(V_7),(47),((x)*1.0))call SaveReal(C7,(V_7),(48),((y)*1.0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffect("war3mapImported\\EarthlyEminence.mdl",x,y)))call NH7(X97,"Relocate|Active")set X97=nullset t=nullendfunctionfunction IAG takes nothing returns booleanif GetSpellAbilityId()=='A1TB' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall IZG()elseif ITG(GetTriggerUnit(),GetSpellTargetX(),GetSpellTargetY())==false thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n0KX'))elseif Q_7(GetOwningPlayer(GetTriggerUnit()))thenif IsPointInRegion(T24,GetSpellTargetX(),GetSpellTargetY())==true thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03Y'))endifelseif IsPointInRegion(T54,GetSpellTargetX(),GetSpellTargetY())==true thencall JN7(GetTriggerUnit())call VH7(GetOwningPlayer(GetTriggerUnit()),GetObjectName('n03Y'))endifendifendifendifendifreturn falseendfunctionfunction KP8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddCondition(t,Condition(function IAG))set T54=CreateRegion()call RegionAddRect(T54,C9)call RegionAddRect(T54,ED)set T24=CreateRegion()call RegionAddRect(T24,B9)call RegionAddRect(T24,FD)set t=nullendfunctionfunction IBG takes unit X97,unit M0E,real ICG,real I3G,real a2 returns nothinglocal integer i=0local real I6Glocal real ILG=GetUnitY(M0E)local real alocal real xlocal real ylocal real I1Gif M0E!=null thenset I6G=GetUnitX(M0E)set ILG=GetUnitY(M0E)set a=W77(ICG,I3G,I6G,ILG)elseset a=a2set I6G=ICG+50*Cos(a*bj_DEGTORAD)set ILG=I3G+50*Sin(a*bj_DEGTORAD)endifset I1G=aset x=I6G+200*Cos(I1G*bj_DEGTORAD)set y=ILG+200*Sin(I1G*bj_DEGTORAD)call W67(CreateDestructable('B006',x,y,-1*I1G,0.6,1),5)call WK7(x,y,300)set I1G=a-40set x=I6G+200*Cos(I1G*bj_DEGTORAD)set y=ILG+200*Sin(I1G*bj_DEGTORAD)call W67(CreateDestructable('B006',x,y,-1*I1G,0.6,1),5)call WK7(x,y,300)set I1G=a-80set x=I6G+200*Cos(I1G*bj_DEGTORAD)set y=ILG+200*Sin(I1G*bj_DEGTORAD)call W67(CreateDestructable('B006',x,y,-1*I1G,0.6,1),5)call WK7(x,y,300)set I1G=a+40set x=I6G+200*Cos(I1G*bj_DEGTORAD)set y=ILG+200*Sin(I1G*bj_DEGTORAD)call W67(CreateDestructable('B006',x,y,-1*I1G,0.6,1),5)call WK7(x,y,300)set I1G=a+80set x=I6G+200*Cos(I1G*bj_DEGTORAD)set y=ILG+200*Sin(I1G*bj_DEGTORAD)call W67(CreateDestructable('B006',x,y,-1*I1G,0.6,1),5)call WK7(x,y,300)if M0E!=null thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",M0E,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",M0E,"chest"))call ZO7(XF4,M0E,Y84,XH4*70)endifendfunctionfunction I0G takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),XI4)==false thenif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==false thencall GroupAddUnit(XI4,GetEnumUnit())call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\ChainFreeze_F6.mdx",GetEnumUnit(),"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetEnumUnit(),"chest"))call ZO7(XF4,GetEnumUnit(),Y84,XH4*70)elseset XG4=GetEnumUnit()endifendifendfunctionfunction I5G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer WC7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(WC7),(2)))local unit M0E=(LoadUnitHandle(C7,(WC7),(17)))local unit I2G=(LoadUnitHandle(C7,(WC7),(45)))local real I_G=(LoadReal(C7,(WC7),(683)))local real J4G=(LoadReal(C7,(WC7),(684)))local real ICG=GetUnitX(I2G)local real I3G=GetUnitY(I2G)local real J7G=Atan2(J4G-I3G,I_G-ICG)local real J8G=ICG+18*Cos(J7G)local real J9G=I3G+18*Sin(J7G)local group JDG=(LoadGroupHandle(C7,(WC7),(133)))local integer G6G=GetUnitAbilityLevel(X97,'A1YO')local group g=TL7()set I04=X97set XF4=X97set XI4=JDGset XH4=G6Gset XG4=nullcall GroupEnumUnitsInRange(g,J8G,J9G,225,Condition(function Y47))call ForGroup(g,function I0G)call T67(g)call SetUnitPosition(I2G,J8G,J9G)if J87(J8G,J9G,I_G,J4G)<40 or XG4!=null thencall WK7(J8G,J9G,300)call KillUnit(I2G)call ShowUnit(I2G,false)call SetUnitPathing(I2G,true)if XG4!=null thencall IBG(X97,XG4,J8G,J9G,J7G*bj_RADTODEG)elsecall IBG(X97,null,J8G,J9G,J7G*bj_RADTODEG)endifcall T67(JDG)call FlushChildHashtable(C7,(WC7))call NM7(t)endifset t=nullset I2G=nullset JDG=nullset g=nullreturn falseendfunctionfunction JEG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer WC7=GetHandleId(t)local unit I2G=CreateUnit(GetOwningPlayer(X97),'h0CS',GetUnitX(X97),GetUnitY(X97),0)local real ICG=GetUnitX(X97)local real I3G=GetUnitY(X97)local real I6G=GetSpellTargetX()local real ILG=GetSpellTargetY()local real J7G=Atan2(ILG-I3G,I6G-ICG)local real I_G=VK7(ICG+1600*Cos(J7G))local real J4G=VM7(I3G+1600*Sin(J7G))call SetUnitFacing(I2G,J7G*bj_RADTODEG)call SetUnitPathing(I2G,false)call TriggerRegisterTimerEvent(t,.02,true)call TriggerAddCondition(t,Condition(function I5G))call SaveUnitHandle(C7,(WC7),(2),(X97))call SaveReal(C7,(WC7),(683),((I_G)*1.0))call SaveReal(C7,(WC7),(684),((J4G)*1.0))call SaveReal(C7,(WC7),(13),((J7G)*1.0))call SaveUnitHandle(C7,(WC7),(45),(I2G))call SaveGroupHandle(C7,(WC7),(133),(TL7()))set X97=nullset I2G=nullset t=nullendfunctionfunction JFG takes nothing returns booleanif GetSpellAbilityId()=='A1YO' thencall JEG()endifreturn falseendfunctionfunction KQ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JFG))set t=nullendfunctionfunction JGG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A1YQ')local integer S08=GetTriggerEvalCount(t)local real y=(S08-50)*(S08-50)/4.3local real R09if ZN7==1 thenset R09=75elseif ZN7==2 thenset R09=150elseset R09=225endifif S08==1 thencall IssueTargetOrder(X97,"attack",U47)endifif S08<50 thenif FAD(U47)==false thencall SetUnitFlyHeight(U47,700*S08/50,0)endifelseif S08<100 thenif FAD(U47)==false thencall SetUnitFlyHeight(U47,700-700*(S08-50)/50,0)endifelseif FAD(U47)==false thencall SetUnitFlyHeight(U47,GetUnitDefaultFlyHeight(U47),0)endifcall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call K_7(V_7)call NM7(t)call XO7(U47,'A204',1,1+ZN7,'B0DY')call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A204',false)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction JHG takes unit X97,unit U47 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A1YQ')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)call WD7("WALRUS PUNCH !!",3.5,X97,0.03,255,0,0,255)call WN7(WT4,GetUnitX(U47),GetUnitY(U47))call UW7(ZM7,'A1UP')call IssueTargetOrder(ZM7,"thunderbolt",U47)if FAD(U47)==false thencall UW7(U47,'Amrf')call UnitRemoveAbility(U47,'Amrf')endifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"overhead"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"head"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"left,hand"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"right,hand"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"chest"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostBolt\\FrostBoltMissile.mdl",U47,"origin"))call TriggerRegisterTimerEvent(t,.01,true)call TriggerAddCondition(t,Condition(function JGG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\FreezingBreath\\FreezingBreathMissile.mdl",U47,"chest")))set t=nullendfunctionfunction JIG takes nothing returns booleanlocal trigger t2=GetTriggeringTrigger()local integer DED=GetHandleId(t2)local unit X97=(LoadUnitHandle(C7,(DED),(2)))local unit U47=(LoadUnitHandle(C7,(DED),(17)))local integer RP7=GetHandleId(X97)local trigger t=M37(RP7,"WalrusPunch|Clear")if GetTriggerEvalCount(t2)==1 thencall IssueTargetOrder(X97,"attack",U47)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 and GetEventDamage()>30 thenif U47==MZ7(RP7,"WalrusPunch|Target")thencall XJ7(X97,'A1UH',1,0.1)call XJ7(X97,'A1UI',1,0.1)call JHG(X97,U47)if t!=null thencall TriggerEvaluate(t)endifendifcall NM7(t2)call K_7(DED)endifelsecall UnitRemoveAbility(X97,'A1UH')call UnitRemoveAbility(X97,'A1UI')call K_7(DED)call NM7(t2)endifset t2=nullset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction JJG takes nothing returns booleanlocal unit X97=GetAttacker()local unit U47=GetTriggerUnit()local integer RP7=GetHandleId(X97)local trigger t=M37(RP7,"WalrusPunch|Clear")local trigger t2local integer DEDif NF7(X97,"WalrusPunch|Active")==true and t!=null and U47!=MZ7(RP7,"WalrusPunch|Target")and IsUnitAlly(U47,GetOwningPlayer(X97))==false and IsUnitType(U47,UNIT_TYPE_STRUCTURE)==false thencall MF7(RP7,"WalrusPunch|Target",U47)call UnitRemoveAbility(X97,'A1UH')call UnitRemoveAbility(X97,'A1UI')if GetUnitState(U47,UNIT_STATE_LIFE)/GetUnitState(U47,UNIT_STATE_MAX_LIFE)>0.5 thencall UW7(X97,'A1UH')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1UH',false)elsecall UW7(X97,'A1UI')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A1UI',false)endifcall IssueImmediateOrder(X97,"stop")set t2=CreateTrigger()set DED=GetHandleId(t2)call TriggerRegisterTimerEvent(t2,0.,false)call TriggerRegisterTimerEvent(t2,2.,false)call TriggerRegisterUnitEvent(t2,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t2,Condition(function JIG))call SaveUnitHandle(C7,(DED),(2),(X97))call SaveUnitHandle(C7,(DED),(17),(U47))endifset X97=nullset U47=nullreturn falseendfunctionfunction JKG takes nothing returns booleanif NF7(GetAttacker(),"WalrusPunch|Active")==true thencall JJG()endifreturn falseendfunctionfunction JMG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer RP7=GetHandleId(X97)call NJ7(X97,"WalrusPunch|Active")call DestroyEffect(ML7(RP7,"WalrusPunch|Visual"))call UnitRemoveAbility(X97,'A1UH')call UnitRemoveAbility(X97,'A1UI')call M47(RP7,"WalrusPunch|Visual")call M47(RP7,"WalrusPunch|Target")call M47(RP7,"WalrusPunch|Clear")call K_7(V_7)call NM7(t)set X97=nullset t=nullreturn falseendfunctionfunction JNG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local integer RP7=GetHandleId(X97)call TriggerRegisterTimerEvent(t,10.,false)call TriggerAddCondition(t,Condition(function JMG))call NH7(X97,"WalrusPunch|Active")call SaveUnitHandle(C7,(V_7),(2),(X97))call MF7(RP7,"WalrusPunch|Target",X97)call MG7(RP7,"WalrusPunch|Visual",(AddSpecialEffectTarget("war3mapImported\\WalrusPunchWeaponFX.mdx",X97,"weapon")))call MH7(RP7,"WalrusPunch|Clear",t)set t=nullset X97=nullendfunctionfunction JOG takes nothing returns booleanif GetSpellAbilityId()=='A1YQ' thencall JNG()endifreturn falseendfunctionfunction KR8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JOG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function JKG))set t=nullendfunctionfunction JPG takes nothing returns nothingcall ShowUnit(GetEnumUnit(),true)call UnitRemoveAbility(GetEnumUnit(),'A04R')call SetUnitInvulnerable(GetEnumUnit(),false)call PauseUnit(GetEnumUnit(),false)if IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thencall SetUnitPosition(GetEnumUnit(),XP4,XQ4)call SelectUnitForPlayerSingle(GetEnumUnit(),GetOwningPlayer(GetEnumUnit()))elsecall SetUnitX(GetEnumUnit(),XP4)call SetUnitY(GetEnumUnit(),XQ4)endifif GetEnumUnit()==XK4 and XM4!=null thencall IssueTargetOrder(XK4,"attack",XM4)endifcall DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))endfunctionfunction JQG takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),XJ4)==false thencall GroupAddUnit(XJ4,GetEnumUnit())if GetEnumUnit()==XM4 thencall ZO7(XK4,GetEnumUnit(),Y84,40*XO4+40)call SetUnitAbilityLevel(XN4,'A0X6',ZJ7(0.25*XO4+0.25))elsecall ZO7(XK4,GetEnumUnit(),Y84,40*XO4)call SetUnitAbilityLevel(XN4,'A0X6',ZJ7(0.25*XO4))endifcall SetUnitX(XN4,GetUnitX(GetEnumUnit()))call SetUnitY(XN4,GetUnitY(GetEnumUnit()))call IssueTargetOrder(XN4,"thunderbolt",GetEnumUnit())endifendfunctionfunction JRG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local real WR7=GetUnitX(U47)local real WS7=GetUnitY(U47)local real r=(LoadReal(C7,(V_7),(671)))local real a=W77(GetUnitX(WQ7),GetUnitY(WQ7),WR7,WS7)*bj_DEGTORADlocal real x=GetUnitX(WQ7)+r*Cos(a)local real y=GetUnitY(WQ7)+r*Sin(a)local group JDG=(LoadGroupHandle(C7,(V_7),(133)))local group glocal integer S08=GetTriggerEvalCount(t)local real NTE=RMinBJ(2.5+(S08*0.02),10)local real JSG=225+40*(S08*0.02)set XO4=GetUnitAbilityLevel(X97,'A1S7')set I04=X97set XJ4=JDGset XK4=X97set XM4=U47set XN4=(LoadUnitHandle(C7,(V_7),(19)))call SetUnitX(WQ7,x)call SetUnitY(WQ7,y)call SetUnitFacing(WQ7,a*bj_RADTODEG-180)call SetUnitScale(WQ7,NTE,NTE,NTE)if J87(x,y,WR7,WS7)<r*2 or S08==150 thencall WK7(x,y,300)set g=TL7()call GroupEnumUnitsInRange(g,x,y,JSG,Condition(function Y47))call ForGroup(g,function JQG)call T67(g)set g=nullset XP4=xset XQ4=ycall ForGroup((LoadGroupHandle(C7,(V_7),(22))),function JPG)call T67((LoadGroupHandle(C7,(V_7),(22))))call T67(JDG)call KillUnit(WQ7)call K_7(V_7)call NM7(t)elseif ModuloInteger(GetTriggerEvalCount(t),5)==0 thencall WK7(x,y,300)set g=TL7()call GroupEnumUnitsInRange(g,x,y,JSG,Condition(function Y47))call ForGroup(g,function JQG)call T67(g)set g=nullendifendifset t=nullset X97=nullset WQ7=nullset JDG=nullreturn falseendfunctionfunction JTG takes nothing returns nothingcall DestroyEffect(AddSpecialEffect("war3mapImported\\ChainFreeze_F6.mdx",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call DestroyEffect(AddSpecialEffect("Abilities\\Weapons\\FrostWyrmMissile\\FrostWyrmMissile.mdl",GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit())))call ShowUnit(GetEnumUnit(),false)call UW7(GetEnumUnit(),'A04R')call SetUnitInvulnerable(GetEnumUnit(),true)call PauseUnit(GetEnumUnit(),true)if XK4!=GetEnumUnit()thenset XS4=XS4+1endifendfunctionfunction JUG takes nothing returns booleanreturn(IsUnitType(GetFilterUnit(),UNIT_TYPE_HERO)==true and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(GetFilterUnit()))==false and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and(N77(GetHandleId(GetOwningPlayer(GetSpellTargetUnit())),"DisableHelp")==false or XK4==GetFilterUnit())endfunctionfunction JVG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit M0E=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer WC7=GetHandleId(t)local real ICG=GetUnitX(X97)local real I3G=GetUnitY(X97)local real I6G=GetUnitX(M0E)local real ILG=GetUnitY(M0E)local real a=W77(ICG,I3G,I6G,ILG)*bj_DEGTORADlocal unit JWG=CreateUnit(GetOwningPlayer(X97),'h0C3',GetUnitX(X97),GetUnitY(X97),GetUnitFacing(X97))local group g=TL7()set XR4=0set XS4=1set XK4=X97set XR4=1.5*RMaxBJ(133,GetUnitMoveSpeed(X97))call GroupEnumUnitsInRange(g,ICG,I3G,255,Condition(function JUG))call ForGroup(g,function JTG)set XN4=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UW7(XN4,'A0X6')call SetUnitTimeScale(JWG,2)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function JRG))call SaveUnitHandle(C7,(WC7),(2),(X97))call SaveUnitHandle(C7,(WC7),(17),(M0E))call SaveUnitHandle(C7,(WC7),(19),(XN4))call SaveUnitHandle(C7,(WC7),(45),(JWG))call SaveReal(C7,(WC7),(137),((a)*1.0))call SaveReal(C7,(WC7),(671),((XR4*0.02)*1.0))call SaveReal(C7,(WC7),(47),((I6G)*1.0))call SaveReal(C7,(WC7),(48),((ILG)*1.0))call SaveGroupHandle(C7,(WC7),(22),(g))call SaveGroupHandle(C7,(WC7),(133),(TL7()))set t=nullset X97=nullset JWG=nullset g=nullendfunctionfunction JXG takes nothing returns booleanif GetSpellAbilityId()=='A1S7' thencall JVG()endifreturn falseendfunctionfunction KS8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function JXG))call VQ7('A0X6')set t=nullendfunctionfunction JYG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer WC7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(WC7),(2)))local unit M0E=(LoadUnitHandle(C7,(WC7),(17)))call K_7(WC7)call NM7(t)call IssueTargetOrder(X97,"move",M0E)set t=nullset X97=nullset M0E=nullreturn falseendfunctionfunction JZG takes nothing returns nothinglocal unit X97=GetSummonedUnit()local unit M0E=GetSummoningUnit()local trigger t=CreateTrigger()local integer WC7=GetHandleId(t)call TriggerAddCondition(t,Condition(function JYG))call TriggerRegisterTimerEvent(t,0.2,false)call SaveUnitHandle(C7,(WC7),(2),(X97))call SaveUnitHandle(C7,(WC7),(17),(M0E))set t=nullset X97=nullset M0E=nullendfunctionfunction JAG takes nothing returns booleanlocal integer id=GetUnitTypeId(GetSummonedUnit())if id=='o01J' or id=='o01K' or id=='o01L' or id=='o01M' thencall JZG()endifreturn falseendfunctionfunction KT8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function JAG))endfunctionfunction JBG takes integer SN7 returns booleanif SN7=='npn3' or SN7=='npn6' or SN7=='n010' or SN7=='n0GZ' thenreturn trueendifif SN7=='npn2' or SN7=='npn5' or SN7=='n012' or SN7=='n0H1' thenreturn trueendifif SN7=='npn1' or SN7=='npn4' or SN7=='n011' or SN7=='n0H0' thenreturn trueendifreturn falseendfunctionfunction JCG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset YR4=GetEventDamageSource()elsecall SetUnitX(X97,GetUnitX(U47))call SetUnitY(X97,GetUnitY(U47))call SetUnitX(ZM7,GetUnitX(U47))call SetUnitY(ZM7,GetUnitY(U47))endifset t=nullset X97=nullset U47=nullset ZM7=nullreturn falseendfunctionfunction J3G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset YR4=GetEventDamageSource()endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction J6G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetSummoningUnit()local unit U47=GetSummonedUnit()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function JCG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(19),(ZM7))if KJ7(X97,'I0A8')thencall UnitAddAbility(ZM7,'A04I')endifset t=nullset X97=nullset U47=nullset ZM7=nullendfunctionfunction JLG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetSummoningUnit()local unit U47=GetSummonedUnit()call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function J3G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullendfunctionfunction J1G takes nothing returns booleanlocal integer SN7=GetUnitTypeId(GetSummonedUnit())if SN7=='npn3' or SN7=='npn6' or SN7=='n010' or SN7=='n0GZ' thencall J6G()elseif JBG(SN7)thencall JLG()endifreturn falseendfunctionfunction KV8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function J1G))set t=nullendfunctionfunction J0G takes nothing returns nothingcall ZK7(ZM4,GetEnumUnit(),0.75+0.25*GetUnitAbilityLevel(ZM4,'A27F'))endfunctionfunction J5G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real a=(LoadReal(C7,(V_7),(137)))local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local real V59=(LoadReal(C7,(V_7),(189)))local real V29=(LoadReal(C7,(V_7),(190)))local group glocal real d=J87(V59,V29,WR7,WS7)/25local location llocal integer S08=GetTriggerEvalCount(t)local real x=V59+d*S08*Cos(a)local real y=V29+d*S08*Sin(a)call SetUnitX(U47,VK7(x))call SetUnitY(U47,VM7(y))if FAD(U47)==false thencall SetUnitFlyHeight(U47,325-13*S08,0)endifif S08==25 thencall SetUnitX(U47,VK7(WR7))call SetUnitY(U47,VM7(WS7))if IsPointInRegion(J94,GetUnitX(U47),GetUnitY(U47))==true thenset l=VJ8(GetUnitX(U47),GetUnitY(U47))call SetUnitX(U47,VN7(GetLocationX(l)))call SetUnitY(U47,VP7(GetLocationY(l)))call RemoveLocation(l)set l=nullendifset I04=X97set ZM4=X97set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(U47),GetUnitY(U47),350,Condition(function Y47))call GroupRemoveUnit(g,U47)call ForGroup(g,function J0G)call T67(g)call WK7(GetUnitX(U47),GetUnitY(U47),150)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Orc\\WarStomp\\WarStompCaster.mdl",GetUnitX(U47),GetUnitY(U47)))call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)if FAD(U47)==false thencall SetUnitFlyHeight(U47,GetUnitDefaultFlyHeight(U47),0)endifcall SetUnitPathing(U47,true)endifset t=nullset X97=nullset U47=nullset g=nullreturn falseendfunctionfunction J2G takes unit X97,unit U47,unit Target2,real J_G,real K4G,effect FX,effect K7G returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real WR7=J_Glocal real WS7=K4Glocal real a=W77(GetUnitX(U47),GetUnitY(U47),J_G,K4G)*bj_DEGTORADif J87(GetUnitX(U47),GetUnitY(U47),J_G,K4G)>375 thenset WR7=GetUnitX(U47)+375*Cos(a)set WS7=GetUnitY(U47)+375*Sin(a)endifcall SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))call SaveReal(C7,(V_7),(189),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(190),((GetUnitY(U47))*1.0))call SaveEffectHandle(C7,(V_7),(32),(FX))call SaveEffectHandle(C7,(V_7),(176),(K7G))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function J5G))set t=nullendfunctionfunction K8G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=(LoadInteger(C7,(V_7),(34)))local integer SFD=(LoadInteger(C7,(V_7),(12)))local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local integer K9G=(LoadInteger(C7,(V_7),(706)))local real aif GetTriggerEventId()==EVENT_WIDGET_DEATH or(GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and V78(U47)==false)thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27F',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27X',false)call J2G(X97,U47,(LoadUnitHandle(C7,(V_7),(711))),WR7,WS7,(LoadEffectHandle(C7,(V_7),(32))),(LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A27X' thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))set a=W77(GetUnitX(U47),GetUnitY(U47),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADif J87(GetUnitX(U47),GetUnitY(U47),GetSpellTargetX(),GetSpellTargetY())>375 thenset WR7=GetUnitX(U47)+375*Cos(a)set WS7=GetUnitY(U47)+375*Sin(a)elseset WR7=GetSpellTargetX()set WS7=GetSpellTargetY()endifcall SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",WR7,WS7)))call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))call SaveUnitHandle(C7,(V_7),(711),(GetSpellTargetUnit()))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetSpellTargetUnit(),"origin")))endifelseset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))call SetUnitPathing(U47,false)if(LoadInteger(C7,(V_7),(707)))==1 thenset K9G=K9G+3elseset K9G=K9G-3endifcall SaveInteger(C7,(V_7),(706),(K9G))if K9G==30 thencall SaveInteger(C7,(V_7),(707),(-1))elseif K9G==-30 thencall SaveInteger(C7,(V_7),(707),(1))endifif FAD(U47)==false thenif S08<15 thencall SetUnitFlyHeight(U47,S08*20,0)elsecall SetUnitFlyHeight(U47,300+K9G,0)endifendifif S08>(SFD-25)thenif FAD(U47)==false thencall SetUnitFlyHeight(U47,300,0)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27F',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27X',false)call J2G(X97,U47,(LoadUnitHandle(C7,(V_7),(711))),WR7,WS7,(LoadEffectHandle(C7,(V_7),(32))),(LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifendifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction KDG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A27F')local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A282')call SetUnitAbilityLevel(ZM7,'A282',ZN7)call IssueTargetOrder(ZM7,"thunderbolt",U47)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27F',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A27X',true)call UnitAddAbility(X97,'A27X')call SetUnitPathing(U47,false)if FAD(U47)==false thencall UW7(U47,'Amrf')call UnitRemoveAbility(U47,'Amrf')endifcall SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(711),(U47))call SaveInteger(C7,(V_7),(12),(R2I((1.25+0.25*ZN7)/.02)))call SaveInteger(C7,(V_7),(34),(0))call SaveInteger(C7,(V_7),(706),(0))call SaveInteger(C7,(V_7),(707),(1))call SaveReal(C7,(V_7),(47),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(48),((GetUnitY(U47))*1.0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\AntiGravityTarget.mdx",U47,"origin")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffect("Abilities\\Spells\\Other\\GeneralAuraTarget\\GeneralAuraTarget.mdl",GetUnitX(U47),GetUnitY(U47))))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function K8G))set X97=nullset U47=nullendfunctionfunction KEG takes nothing returns booleanif GetSpellAbilityId()=='A27F' and T37(GetSpellTargetUnit())==false thencall KDG()endifreturn falseendfunctionfunction KW8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KEG))call VQ7('A0X6')call VQ7('A282')set t=nullendfunctionfunction KFG takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A27G')if IsUnitType(U47,UNIT_TYPE_HERO)==true thenif ZN7==1 thencall XJ7(U47,'A27W',1,10)elseif ZN7==2 thencall XJ7(U47,'A286',1,10)elseif ZN7==3 thencall XJ7(U47,'A285',1,10)elseif ZN7==4 thencall XJ7(U47,'A287',1,10)endifelseif ZN7==1 thencall XJ7(U47,'A291',1,10)elseif ZN7==2 thencall XJ7(U47,'A28Z',1,10)elseif ZN7==3 thencall XJ7(U47,'A292',1,10)elseif ZN7==4 thencall XJ7(U47,'A290',1,10)endifendifcall WN7(Z74,GetUnitX(U47),GetUnitY(U47))endfunctionfunction KGG takes nothing returns nothinglocal real dif IsUnitInGroup(GetEnumUnit(),ZP4)==false thenset d=J77(GetEnumUnit(),ZO4)if d<ZQ4 thenset ZQ4=dset ZN4=GetEnumUnit()endifendifendfunctionfunction KHG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local real x=GetUnitX(U47)local real y=GetUnitY(U47)local group g=TL7()call GroupAddUnit(AN9,U47)call KFG(X97,U47)set I04=X97set ZN4=nullset ZO4=U47set ZP4=AN9set ZQ4=999999call GroupEnumUnitsInRange(g,x,y,525,Condition(function YV7))call ForGroup(g,function KGG)call T67(g)if ZN4==null or GetTriggerEvalCount(t)>26 thencall T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)elseset U47=ZN4call SaveUnitHandle(C7,(V_7),(17),(U47))endifset g=nullset t=nullset X97=nullset U47=nullset AN9=nullreturn falseendfunctionfunction KIG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local group AN9=TL7()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),GetUnitFacing(X97))call WN7(Z74,GetUnitX(X97),GetUnitY(X97))call UW7(ZM7,'A284')call SetUnitAbilityLevel(ZM7,'A284',GetUnitAbilityLevel(X97,'A27G'))call IssueTargetOrder(ZM7,"chainlightning",U47)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveGroupHandle(C7,(V_7),(187),(AN9))call TriggerRegisterTimerEvent(t,0.25,true)call TriggerAddCondition(t,Condition(function KHG))set X97=nullset U47=nullset t=nullset ZM7=nullendfunctionfunction KJG takes nothing returns booleanif GetSpellAbilityId()=='A27G' and T37(GetSpellTargetUnit())==false thencall KIG()endifreturn falseendfunctionfunction KX8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KJG))set t=nullendfunctionfunction KKG takes nothing returns booleanif IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),GetLearnedSkill())==1 thenif GetLearnedSkill()=='A27F' thencall UnitRemoveAbility(GetTriggerUnit(),'A27I')elseif GetLearnedSkill()=='A27G' thencall UnitRemoveAbility(GetTriggerUnit(),'A27K')elseif GetLearnedSkill()=='A27V' thencall UnitRemoveAbility(GetTriggerUnit(),'A27J')endifendifreturn falseendfunctionfunction KMG takes integer id returns nothingset ZR4[ZS4]=idset ZS4=ZS4+1endfunctionfunction KNG takes integer id returns booleanlocal integer i=0loopexitwhen i==ZS4if id==ZR4[i]thenreturn trueendifset i=i+1endloopreturn falseendfunctionfunction KOG takes nothing returns booleanlocal integer i1=GetSpellAbilityId()if IsUnitType(GetTriggerUnit(),UNIT_TYPE_HERO)==true and KNG(i1)==false thencall SaveInteger(C7,(GetHandleId(GetTriggerUnit())),(705),(i1))call SaveInteger(C7,(GetHandleId(GetTriggerUnit())),(712),(GetUnitAbilityLevel(GetTriggerUnit(),i1)))endifreturn falseendfunctionfunction KPG takes unit u returns nothingcall UnitRemoveAbility(u,'A13D')call UnitRemoveAbility(u,'A21J')call UnitRemoveAbility(u,'A1QV')call UnitRemoveAbility(u,'A1TU')call UnitRemoveAbility(u,'A24A')call UnitRemoveAbility(u,'A24B')call UnitRemoveAbility(u,'A1NH')call UnitRemoveAbility(u,'A20N')call UnitRemoveAbility(u,'A1Z2')call UnitRemoveAbility(u,'A1Z3')call UnitRemoveAbility(u,'A205')call UnitRemoveAbility(u,'A1VU')call UnitRemoveAbility(u,'A0GC')call UnitRemoveAbility(u,'A24E')call UnitRemoveAbility(u,'A0RT')call UnitRemoveAbility(u,'A1RA')call UnitRemoveAbility(u,'A0HA')call UnitRemoveAbility(u,'A0SA')call UnitRemoveAbility(u,'A121')call UnitRemoveAbility(u,'A1WF')call UnitRemoveAbility(u,'A02T')call UnitRemoveAbility(u,'A1S9')call UnitRemoveAbility(u,'A21H')call UnitRemoveAbility(u,'A1MN')call UnitRemoveAbility(u,'A06K')call UnitRemoveAbility(u,'A0NE')call UnitRemoveAbility(u,'A0MP')endfunctionfunction KQG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer KRG=(LoadInteger(C7,(V_7),(704)))local integer KSG=(LoadInteger(C7,(V_7),(713)))if KRG==(LoadInteger(C7,(GetHandleId(X97)),(704)))thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEvalCount(t)>(15-KSG)and UY7(X97)==false thencall UnitRemoveAbility(X97,KRG)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction KTG takes unit X97,integer KRG,real WG8 returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function KQG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(704),(KRG))call SaveInteger(C7,(GetHandleId(X97)),(704),(-1))call SaveInteger(C7,(V_7),(713),(R2I((TimerGetElapsed(P))-WG8)))set t=nullendfunctionfunction KUG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer KRG=(LoadInteger(C7,(V_7),(704)))local integer S08=(LoadInteger(C7,(V_7),(34)))local integer ZN7=GetUnitAbilityLevel(X97,'A27H')local real WG8=(LoadReal(C7,(V_7),(411)))if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT and GetTriggerEventId()!=EVENT_WIDGET_DEATH thenif S08==0 thencall SaveInteger(C7,(V_7),(34),(1))call DisplayTimedTextToPlayer(GetOwningPlayer(X97),0,0,10,"|c00ff0303"+GetObjectName('n0LW')+"|r")elsecall KPG(X97)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),KRG,false)call FlushChildHashtable(C7,(V_7))call NM7(t)call KTG(X97,KRG,WG8)endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A27H' thencall KPG(X97)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),KRG,false)call FlushChildHashtable(C7,(V_7))call NM7(t)call KTG(X97,KRG,WG8)elseif GetSpellAbilityId()==KRG thencall SaveReal(C7,(V_7),(411),(((TimerGetElapsed(P)))*1.0))endifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall KPG(X97)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),KRG,false)call FlushChildHashtable(C7,(V_7))call NM7(t)call KTG(X97,KRG,WG8)endifset t=nullset X97=nullreturn falseendfunctionfunction KVG takes nothing returns nothinglocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer KRG=(LoadInteger(C7,(V_7),(704)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real KWG=60*(2+GetUnitAbilityLevel(X97,'A27H'))local integer KXG=GetHandleId(X97)local integer KYG=GetHandleId(U47)if(M_7(KYG,"WexLevel"))>0 thencall M87(KXG,"WexLevel",(M_7(KYG,"WexLevel")))endifif(M_7(KYG,"QuasLevel"))>0 thencall M87(KXG,"QuasLevel",(M_7(KYG,"QuasLevel")))endifif(M_7(KYG,"ExortLevel"))>0 thencall M87(KXG,"ExortLevel",(M_7(KYG,"ExortLevel")))endifif(LoadInteger(C7,(GetHandleId(U47)),(710)))>0 thencall SaveInteger(C7,(GetHandleId(X97)),(710),((LoadInteger(C7,(GetHandleId(U47)),(710)))))endifcall WN7(Y24,GetUnitX(X97),GetUnitY(X97))call WD7(GetObjectName(KRG),3.5,X97,0.024,170,0,255,216)call SaveInteger(C7,(GetHandleId(X97)),(704),(KRG))call SetPlayerAbilityAvailable(GetOwningPlayer(X97),KRG,true)call UW7(X97,KRG)call SetUnitAbilityLevel(X97,KRG,ZN7)set t=CreateTrigger()set V_7=GetHandleId(t)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(0))call SaveInteger(C7,(V_7),(704),(KRG))call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,KWG,false)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterTimerEvent(t,KWG-20,false)call TriggerAddCondition(t,Condition(function KUG))if R97(GetOwningPlayer(X97))thencall B2E(X97,KRG,U47)endifset t=nullset X97=nullset U47=nullendfunctionfunction KZG takes unit X97,unit U47,integer KRG,integer ZN7 returns nothinglocal trigger t=WX7(U47,X97,'h0DB',"KVG",900)local integer V_7=GetHandleId(t)call WN7(Y54,GetUnitX(U47),GetUnitY(U47))call WD7(GetObjectName(KRG),3.75,U47,0.024,170,0,255,216)call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(704),(KRG))call SaveInteger(C7,(V_7),(5),(ZN7))set t=nullendfunctionfunction KAG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif KNG(GetSpellAbilityId())==true thenelsecall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction KBG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()if(LoadInteger(C7,(GetHandleId(U47)),(705)))!=0 thencall DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Nebula.mdx",U47,"origin"))call KZG(X97,U47,(LoadInteger(C7,(GetHandleId(U47)),(705))),(LoadInteger(C7,(GetHandleId(U47)),(712))))endifset X97=nullset U47=nullendfunctionfunction SpellSteal takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local string fx=""if IsPlayerAlly(GetOwningPlayer(X97),GetLocalPlayer())or TV7(GetLocalPlayer())thenset fx="war3mapImported\\Nebula.mdx"endifcall SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget(fx,U47,"origin")))call TriggerRegisterTimerEvent(t,20,false)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KAG))set X97=nullset U47=nullendfunctionfunction KCG takes nothing returns booleanif GetSpellAbilityId()=='A27H' and T37(GetSpellTargetUnit())==false thencall KBG()endifreturn falseendfunctionfunction K3G takes nothing returns nothingcall KMG('A1WH')call KMG('ANcr')call KMG('A03G')call KMG('A093')call KMG('A15J')call KMG('A0AG')call KMG('A0BE')call KMG('A1TX')call KMG('A229')call KMG('A1RI')call KMG('A1C0')call KMG('A11T')call KMG('A19Z')call KMG('A13D')call KMG('A21J')call KMG('A1QV')call KMG('A1TU')call KMG('A24A')call KMG('A24B')call KMG('A1NH')call KMG('A20N')call KMG('A1Z2')call KMG('A1Z3')call KMG('A205')call KMG('A1VU')call KMG('A0GC')call KMG('A24E')call KMG('A0RT')call KMG('A1RA')call KMG('A0HA')call KMG('A0SA')call KMG('A121')call KMG('A1WF')call KMG('A02T')call KMG('A1S9')call KMG('A21H')call KMG('A1MN')call KMG('A0KX')call KMG('A0KW')call KMG('A0A5')call KMG('A0BG')call KMG('A21W')call KMG('A21X')call KMG('A21V')call KMG('A21Y')call KMG('A1GU')call KMG('A1VH')call KMG('A1VG')call KMG('A0QN')call KMG('A026')call KMG('AHfa')call KMG('A09V')call KMG('A0DY')call KMG('A1WB')call KMG('A0LZ')call KMG('A0OI')call KMG('A1NA')call KMG('A1EA')call KMG('A0NS')call KMG('A1DA')call KMG('A28Q')call KMG('A0WQ')call KMG('A1T8')call KMG('A10R')call KMG('A11N')call KMG('A0EY')call KMG('A0FH')call KMG('A0VK')call KMG('A0VQ')call KMG('A073')call KMG('A03J')call KMG('A04J')call KMG('A04M')call KMG('A04N')call KMG('A27F')call KMG('A27X')call KMG('A27G')call KMG('A27H')call KMG('A0Q5')call KMG('A0TK')call KMG('AIbk')call KMG('A0JY')call KMG('A1AC')call KMG('AIpl')call KMG('AIpr')call KMG('Aeat')call KMG('A0K0')call KMG('A0H7')call KMG('A0H6')call KMG('A0FO')call KMG('A02X')call KMG('AIsw')call KMG('AItb')call KMG('A0B6')call KMG('A1R5')call KMG('A206')call KMG('A1FD')call KMG('A1FO')call KMG('A1FQ')call KMG('A1IO')call KMG('A0B8')call KMG('A1WE')call KMG('A0T8')call KMG('A0T7')call KMG('A017')call KMG('A1QD')call KMG('A1FP')call KMG('A0JL')call KMG('ACch')call KMG('AIxk')call KMG('AIpg')call KMG('A11F')call KMG('A11E')call KMG('A0S3')call KMG('A11D')call KMG('A11G')call KMG('A11H')call KMG('A0T9')call KMG('A15W')call KMG('AChx')call KMG('A0FD')call KMG('A0TE')call KMG('A1T7')call KMG('A19M')call KMG('A02O')call KMG('A08Y')call KMG('A08Z')call KMG('A090')call KMG('A092')call KMG('A0HB')call KMG('A0D3')call KMG('A0DF')call KMG('A02W')call KMG('A0CK')call KMG('A0K7')call KMG('A0JT')call KMG('AIda')call KMG('A269')call KMG('A1WO')call KMG('A1EW')call KMG('A1MO')call KMG('A1ZI')call KMG('A1ZH')call KMG('A1ZW')call KMG('A231')call KMG('A12W')call KMG('A14A')call KMG('A1Q8')call KMG('A28Y')call KMG('A28D')call KMG('A28F')call KMG('A2JO')call KMG('A2JQ')call KMG('A2JP')call KMG('A2JR')call KMG('A2JL')call KMG('A2FX')call KMG('A2K1')call KMG('A2K4')call KMG('A2K7')call KMG('A2KG')call KMG('A2KE')call KMG('A2KH')call KMG('A2K9')call KMG('A2EA')call KMG('A1R5')call KMG('A137')endfunctionfunction KY8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KCG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function KOG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function KKG))set t=nullcall K3G()endfunctionfunction K6G takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif GetUnitAbilityLevel(GetEnumUnit(),'A27S')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A27S')endifif GetUnitAbilityLevel(GetEnumUnit(),'A27Q')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A27Q')endifif GetUnitAbilityLevel(GetEnumUnit(),'A27R')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A27R')endifif GetUnitAbilityLevel(GetEnumUnit(),'A27T')>0 thencall UnitRemoveAbility(GetEnumUnit(),'A27T')endifendfunctionfunction KLG takes nothing returns nothingif VG8(GetEnumUnit())thenreturnendifif ZT4==1 thenif GetUnitAbilityLevel(GetEnumUnit(),'A27S')==0 thencall UW7(GetEnumUnit(),'A27S')call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27S',false)endifelseif ZT4==2 thenif GetUnitAbilityLevel(GetEnumUnit(),'A27Q')==0 thencall UnitRemoveAbility(GetEnumUnit(),'A27S')call UW7(GetEnumUnit(),'A27Q')call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27Q',false)endifelseif ZT4==3 thenif GetUnitAbilityLevel(GetEnumUnit(),'A27R')==0 thencall UnitRemoveAbility(GetEnumUnit(),'A27S')call UnitRemoveAbility(GetEnumUnit(),'A27Q')call UW7(GetEnumUnit(),'A27R')call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27R',false)endifelseif ZT4==4 thenif GetUnitAbilityLevel(GetEnumUnit(),'A27T')==0 thencall UnitRemoveAbility(GetEnumUnit(),'A27S')call UnitRemoveAbility(GetEnumUnit(),'A27Q')call UnitRemoveAbility(GetEnumUnit(),'A27R')call UW7(GetEnumUnit(),'A27T')call SetPlayerAbilityAvailable(GetOwningPlayer(GetEnumUnit()),'A27T',false)endifendifendfunctionfunction K1G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local group K0G=(LoadGroupHandle(C7,(V_7),(340)))local real x=GetUnitX(X97)local real y=GetUnitY(X97)local group g=TL7()if X97==null or GetUnitTypeId(X97)!='E02X' thencall FlushChildHashtable(C7,(V_7))call NM7(t)call ForGroup(K0G,function K6G)call T67(K0G)call T67(g)return falseendifset I04=X97set ZT4=GetUnitAbilityLevel(X97,'A27V')if UY7(X97)==false thencall GroupEnumUnitsInRange(g,x,y,925,Condition(function YC7))endifcall GroupRemoveGroup(g,K0G)call ForGroup(K0G,function K6G)if UY7(X97)==false thencall ForGroup(g,function KLG)endifcall SaveGroupHandle(C7,(V_7),(340),(g))call T67(K0G)set t=nullset X97=nullset K0G=nullset g=nullreturn falseendfunctionfunction K5G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local integer ilocal player pcall TriggerRegisterTimerEvent(t,0.3,true)call TriggerAddCondition(t,Condition(function K1G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveGroupHandle(C7,(V_7),(340),(TL7()))set i=0loopexitwhen i>5set p=Y7[i]call SetPlayerAbilityAvailable(p,'A27S',false)call SetPlayerAbilityAvailable(p,'A27Q',false)call SetPlayerAbilityAvailable(p,'A27R',false)call SetPlayerAbilityAvailable(p,'A27T',false)set p=Z7[i]call SetPlayerAbilityAvailable(p,'A27S',false)call SetPlayerAbilityAvailable(p,'A27Q',false)call SetPlayerAbilityAvailable(p,'A27R',false)call SetPlayerAbilityAvailable(p,'A27T',false)set i=i+1endloopset t=nullset X97=nullendfunctionfunction K2G takes nothing returns booleanif GetLearnedSkill()=='A27V' and GetUnitAbilityLevel(GetTriggerUnit(),'A27V')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall K5G()endifreturn falseendfunctionfunction KZ8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function K2G))set t=nullendfunctionfunction K_G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call AddUnitAnimationProperties(X97,"alternate",false)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction M4G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function K_G))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction M7G takes nothing returns booleanif(GetSpellAbilityId()=='A073' or GetSpellAbilityId()=='A03J' or GetSpellAbilityId()=='A04J' or GetSpellAbilityId()=='A04M' or GetSpellAbilityId()=='A04N')and GetUnitTypeId(GetTriggerUnit())=='E02X' thencall M4G()endifreturn falseendfunctionfunction KA8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function M7G))set t=nullendfunctionfunction M8G takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Human\\ManaFlare\\ManaFlareBoltImpact.mdl",GetTriggerUnit(),"origin"))endfunctionfunction M9G takes nothing returns booleanif GetUnitTypeId(GetTriggerUnit())=='H00S' thencall M8G()endifreturn falseendfunctionfunction Register_StormDies takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function M9G))set t=nullendfunctionfunction MDG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A29V')if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A29W' thencall UnitRemoveAbility(X97,'A29W')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29W',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29V',true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)call ZK7(X97,U47,0.5+0.5*ZN7)call SetUnitX(X97,GetUnitX(U47))call SetUnitY(X97,GetUnitY(U47))call IssueTargetOrder(X97,"attack",U47)call UnitShareVision(U47,GetOwningPlayer(X97),false)endifelsecall UnitRemoveAbility(X97,'A29W')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29W',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29V',true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call UnitShareVision(U47,GetOwningPlayer(X97),false)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction MEG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEvalCount(GetTriggeringTrigger())>30 thencall FlushChildHashtable(C7,(V_7))call NM7(t)elsecall VO8(X97)endifset t=nullset X97=nullreturn falseendfunctionfunction MFG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47local integer S08=(LoadInteger(C7,(V_7),(34)))local integer ZN7=GetUnitAbilityLevel(X97,'A29V')if S08>60 thencall UnitRemoveAbility(X97,'B0EV')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>100 and IsUnitType(GetEventDamageSource(),UNIT_TYPE_STRUCTURE)==false thencall V67(X97,GetEventDamage())set U47=G7[GetPlayerId(GetOwningPlayer(GetEventDamageSource()))]call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call VO8(X97)call FlushChildHashtable(C7,(V_7))call NM7(t)if UY7(U47)==false thencall UnitShareVision(U47,GetOwningPlayer(X97),true)call UW7(X97,'A29W')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29W',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A29V',false)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function MDG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",X97,"origin")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\RetaliationTarget.mdx",U47,"origin")))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function MEG))call SaveUnitHandle(C7,(V_7),(2),(X97))endifendifelsecall SaveInteger(C7,(V_7),(34),(S08+1))endifset t=nullset X97=nullreturn falseendfunctionfunction MGG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function MFG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(0))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\RetaliationShield.mdx",X97,"chest")))set X97=nullset t=nullendfunctionfunction MHG takes nothing returns booleanif GetSpellAbilityId()=='A29V' thencall MGG()endifreturn falseendfunctionfunction Register_Retaliation takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MHG))set t=nullendfunctionfunction MIG takes nothing returns nothingcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\ImmolationRed\\ImmolationRedDamage.mdl",GetEnumUnit(),"chest"))call ZO7(FO7,GetEnumUnit(),1,(25+5*FP7)/5)endfunctionfunction MJG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A2HS')local group gif GetUnitAbilityLevel(X97,'B0FP')==0 and GetUnitAbilityLevel(X97,'B0FQ')==0 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A2H7')call UnitRemoveAbility(X97,'B0FO')call UnitRemoveAbility(X97,'A2IX')call UnitRemoveAbility(X97,'A2IW')call UnitRemoveAbility(X97,'A2IV')call UnitRemoveAbility(X97,'A2IY')elseset I04=X97set FO7=X97set FP7=ZN7set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),400+25,Condition(function Y47))call ForGroup(g,function MIG)call T67(g)endifset g=nullset t=nullset X97=nullreturn falseendfunctionfunction MKG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)local integer ZN7=GetUnitAbilityLevel(X97,'A2HS')call UnitAddAbility(ZM7,'A2H5')call SetUnitAbilityLevel(ZM7,'A2H5',ZN7)call IssueTargetOrder(ZM7,"antimagicshell",X97)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function MJG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\FlameGuard.mdx",X97,"origin")))if ZN7==1 thenelseif ZN7==2 thenelseif ZN7==3 thenelseif ZN7==4 thenendifset X97=nullset ZM7=nullset t=nullendfunctionfunction MMG takes nothing returns booleanif GetSpellAbilityId()=='A2HS' thencall MKG()endifreturn falseendfunctionfunction KC8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MMG))set t=nullendfunctionfunction MNG takes unit X97 returns nothingcall UnitRemoveAbility(X97,'BOhx')call UnitRemoveAbility(X97,'B00H')endfunctionfunction MOG takes unit X97 returns nothingcall UnitRemoveAbility(X97,'A2H9')call UnitRemoveAbility(X97,'B0FM')endfunctionfunction MPG takes unit X97 returns nothingcall UnitRemoveAbility(X97,'A2JH')call UnitRemoveAbility(X97,'A2JG')call UnitRemoveAbility(X97,'A2JJ')call UnitRemoveAbility(X97,'A2JI')call UnitRemoveAbility(X97,'B0FL')endfunctionfunction MQG takes unit X97 returns nothingcall UW7(X97,'A2H9')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2H9',false)endfunctionfunction MRG takes unit X97 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A2H0')if ZN7==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2JH',false)call UW7(X97,'A2JH')elseif ZN7==2 thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2JG',false)call UW7(X97,'A2JG')elseif ZN7==3 thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2JJ',false)call UW7(X97,'A2JJ')elseif ZN7==4 thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2JI',false)call UW7(X97,'A2JI')endifendfunctionfunction MSG takes unit X97,unit U47 returns nothinglocal real a=GetRandomReal(0,360)local real x=GetUnitX(U47)+50*Cos(a*bj_DEGTORAD)local real y=GetUnitY(U47)+50*Sin(a*bj_DEGTORAD)call SetUnitPosition(X97,x,y)call SetUnitFacing(X97,bj_RADTODEG*Atan2(GetUnitY(U47)-GetUnitY(X97),GetUnitX(U47)-GetUnitX(X97)))call SetUnitAnimation(X97,"Attack")call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\Fire_Blink_2.mdx",X97,"chest"))call MPG(X97)if IsUnitType(U47,UNIT_TYPE_HERO)==true or IsUnitIllusion(U47)==true thencall MRG(X97)call UnitRemoveAbility(X97,'A2JF')elsecall UW7(X97,'A2JF')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2JF',false)endifcall IssueTargetOrder(X97,"attack",U47)endfunctionfunction MTG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local real V59=(LoadReal(C7,(V_7),(189)))local real V29=(LoadReal(C7,(V_7),(190)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local group g=(LoadGroupHandle(C7,(V_7),(22)))local unit U47=nulllocal boolean UHF=falselocal fogmodifier KZD=(LoadFogModifierHandle(C7,(V_7),(42)))local integer ZN7=GetUnitAbilityLevel(X97,'A2H0')loopexitwhen FirstOfGroup(g)==null or UHFset U47=FirstOfGroup(g)call GroupRemoveUnit(g,U47)if IsUnitInGroup(U47,AN9)and U47!=null thenset U47=nullset UHF=falseelseset UHF=trueendifendloopcall SetUnitPathing(X97,false)call SetUnitInvulnerable(X97,true)call X_7(X97)if UHF==false or((LoadInteger(C7,(GetHandleId((X97))),((4319))))==1)==true thencall SaveInteger(C7,(GetHandleId((X97))),((4318)),(2))call MOG(X97)call UnitRemoveAbility(X97,'A2JF')call MPG(X97)call X_7(X97)call MNG(X97)call UnitAddAbility(X97,'A2H2')call UnitRemoveAbility(X97,'A2H2')call X_7(X97)if((LoadInteger(C7,(GetHandleId((X97))),((4319))))==1)==false thencall SetUnitX(X97,V59)call SetUnitY(X97,V29)endifcall SetUnitVertexColor(X97,255,255,255,255)call SetUnitPathing(X97,true)call SetUnitInvulnerable(X97,false)call SetUnitTimeScale(X97,1)call T67(AN9)call T67(g)call RemoveUnit((LoadUnitHandle(C7,(V_7),(19))))call FogModifierStop(KZD)call DestroyFogModifier(KZD)call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall GroupAddUnit(AN9,U47)call MSG(X97,U47)endifset t=nullset X97=nullset U47=nullset g=nullset AN9=nullset KZD=nullreturn falseendfunctionfunction MUG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local fogmodifier KZD=CreateFogModifierRadius(GetOwningPlayer(X97),FOG_OF_WAR_VISIBLE,x,y,600,true,true)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'h0E7',GetUnitX(X97),GetUnitY(X97),GetUnitFacing(X97))local group g=TL7()local integer ZN7=GetUnitAbilityLevel(X97,'A2H0')call SetUnitVertexColor(ZM7,255,255,255,100)call FogModifierStart(KZD)call SaveInteger(C7,(GetHandleId((X97))),((4318)),(1))set I04=X97call GroupEnumUnitsInRange(g,x,y,150+100*ZN7+25,Condition(function XL7))call X_7(X97)call MNG(X97)call UnitAddAbility(X97,'A2H1')call UnitRemoveAbility(X97,'A2H1')call SetUnitVertexColor(X97,255,255,255,125)call SetUnitPathing(X97,false)call SetUnitInvulnerable(X97,true)call SetUnitTimeScale(X97,3)call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function MTG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveReal(C7,(V_7),(189),((GetUnitX(X97))*1.0))call SaveReal(C7,(V_7),(190),((GetUnitY(X97))*1.0))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call SaveGroupHandle(C7,(V_7),(22),(g))call SaveFogModifierHandle(C7,(V_7),(42),(KZD))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call MQG(X97)call TriggerEvaluate(t)set X97=nullset t=nullset KZD=nullset ZM7=nullset g=nullendfunctionfunction MVG takes nothing returns booleanif GetSpellAbilityId()=='A2H0' thencall MUG()endifreturn falseendfunctionfunction MWG takes nothing returns booleanlocal unit SO8=GetSummonedUnit()if IsUnitIllusion(SO8)==true and GetUnitTypeId(SO8)=='N0MH' thencall MOG(SO8)call UnitRemoveAbility(SO8,'A2JF')call MPG(SO8)call UnitAddAbility(SO8,'A2H2')call UnitRemoveAbility(SO8,'A2H2')endifset SO8=nullreturn falseendfunctionfunction K38 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MVG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddCondition(t,Condition(function MWG))set t=nullendfunctionfunction MXG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A2H3')local integer SFD=2if ZN7>2 thenset SFD=3endifif GetTriggerEvalCount(t)==SFD thencall FlushChildHashtable(C7,(V_7))call NM7(t)endifcall ZO7(X97,U47,1,20+20*ZN7)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction MYG takes nothing returns nothinglocal unit X97=I04local unit U47=I_4local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UnitAddAbility(ZM7,'A2H4')call IssueTargetOrder(ZM7,"ensnare",U47)call TriggerAddCondition(t,Condition(function MXG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call TriggerRegisterTimerEvent(t,0,false)call TriggerRegisterTimerEvent(t,1,true)set ZM7=nullset X97=nullset U47=nullendfunctionfunction MZG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit u1=nulllocal unit u2=nulllocal unit u3=nulllocal integer MAG=0local unit ulocal trigger tset I04=X97call GroupEnumUnitsInRange(g,x,y,425,Condition(function YV7))loopexitwhen FirstOfGroup(g)==null or MAG==2set u=GroupPickRandomUnit(g)if u!=null thenif MAG==0 thenset u1=uelseif MAG==1 thenset u2=uelseif MAG==2 thenset u3=uendifset MAG=MAG+1call GroupRemoveUnit(g,u)endifendloopcall T67(g)if u1!=null thencall WX7(X97,u1,'h0E0',"MYG",9000)endifif u2!=null thencall WX7(X97,u2,'h0E0',"MYG",9000)endifif u3!=null thenendifset g=nullset X97=nullset u=nullset u1=nullset u2=nullset u3=nullendfunctionfunction MBG takes nothing returns booleanif GetSpellAbilityId()=='A2H3' thencall MZG()endifreturn falseendfunctionfunction KB8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function MBG))set t=nullendfunctionfunction MCG takes nothing returns booleanlocal unit X97=(LoadUnitHandle(C7,(GetHandleId(GetTriggeringTrigger())),(2)))local integer V_7=GetHandleId(X97)local integer i=0local real HOG=(TimerGetElapsed(P))local integer M3G=(LoadInteger(C7,(V_7),(749)))local real xlocal real ylocal real tloopexitwhen i>M3Gset t=(LoadReal(C7,(V_7),(10000+i)))if t+10>HOG thenset x=(LoadReal(C7,(V_7),(11000+i)))set y=(LoadReal(C7,(V_7),(12000+i)))endifset i=i+1endloopset X97=nullreturn falseendfunctionfunction M6G takes integer V_7,integer M3G,real WV7,real WW7 returns booleanlocal real xlocal real ylocal real tlocal integer i=0local real HOG=(TimerGetElapsed(P))loopexitwhen i>M3Gset t=(LoadReal(C7,(V_7),(10000+i)))if t+10>HOG thenset x=(LoadReal(C7,(V_7),(11000+i)))set y=(LoadReal(C7,(V_7),(12000+i)))if J87(x,y,WV7,WW7)<75 thenreturn trueendifendifset i=i+1endloopreturn falseendfunctionfunction MLG takes integer V_7,integer M3G returns integerlocal real tlocal integer i=0local real HOG=(TimerGetElapsed(P))loopexitwhen i>M3Gset t=(LoadReal(C7,(V_7),(10000+i)))if t+10<HOG thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction M1G takes unit X97,integer M0G,real x,real y returns nothinglocal integer V_7=GetHandleId(X97)local integer M3G=(LoadInteger(C7,(V_7),(749)))local integer M5Gif M6G(V_7,M3G,x,y)thenreturnendifset M5G=MLG(V_7,M3G)if M5G==-1 thenset M5G=M3Gset M3G=M3G+1call SaveInteger(C7,(V_7),(749),(M3G))endifcall SaveInteger(C7,(V_7),(13000),(M0G))call SaveReal(C7,(V_7),(10000),(((TimerGetElapsed(P)))*1.0))call SaveReal(C7,(V_7),(11000),((x)*1.0))call SaveReal(C7,(V_7),(11000),((y)*1.0))endfunctionfunction M2G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function MCG))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction M_G takes nothing returns nothingcall ZO7(FR7,GetEnumUnit(),1,80+FQ7*40)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Weapons\\LordofFlameMissile\\LordofFlameMissile.mdl",GetEnumUnit(),"origin"))endfunctionfunction N4G takes unit X97,unit DGD,real x,real y returns nothinglocal group gcall KillUnit(DGD)call V27("war3mapImported\\Firaga_2.mdx",x,y,2)set g=TL7()set I04=X97set FR7=X97set FQ7=GetUnitAbilityLevel(X97,'A2JK')call GroupEnumUnitsInRange(g,x,y,450+25,Condition(function Y47))call UnitRemoveAbility(X97,'A04R')call ForGroup(g,function M_G)call UW7(X97,'A04R')call T67(g)set g=nullendfunctionfunction N7G takes unit X97,unit N8G returns nothinglocal integer V_7=GetHandleId(X97)local integer N9G=(LoadInteger(C7,(V_7),(746)))local unit NDGlocal integer i=1local integer xloopexitwhen i>N9Gset NDG=(LoadUnitHandle(C7,(V_7),(1450+i)))if NDG==N8G thenset N9G=N9G-1call SaveUnitHandle(C7,(V_7),(1450+i),((LoadUnitHandle(C7,(V_7),(1450+i+1)))))call SaveInteger(C7,(V_7),(746),(N9G))set x=i+1loopexitwhen x>N9Gcall SaveUnitHandle(C7,(V_7),(1450+x),((LoadUnitHandle(C7,(V_7),(1450+x+1)))))set x=x+1endloopendifset i=i+1endloopset NDG=nullendfunctionfunction NEG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit DGD=(LoadUnitHandle(C7,(V_7),(19)))local real PL9=GetUnitX(DGD)local real P19=GetUnitY(DGD)local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local real a=W77(PL9,P19,WR7,WS7)*bj_DEGTORADlocal real WV7local real WW7local real d=J87(PL9,P19,WR7,WS7)local real CSD=GetUnitMoveSpeed(X97)*2.5*0.02local group gif GetTriggerEventId()==EVENT_WIDGET_DEATH thencall N7G(X97,DGD)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif d<2 thencall SetUnitAnimationByIndex(DGD,1)elseif d<CSD thenset WV7=WR7set WW7=WS7elseset WV7=PL9+CSD*Cos(a)set WW7=P19+CSD*Sin(a)endifcall SetUnitX(DGD,WV7)call SetUnitY(DGD,WW7)endifset t=nullset X97=nullset DGD=nullreturn falseendfunctionfunction NFG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real a=W77(GetUnitX(X97),GetUnitY(X97),GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal integer V_7=GetHandleId(X97)local integer N9G=(LoadInteger(C7,(V_7),(746)))local integer ZN7=GetUnitAbilityLevel(X97,'A2JK')local unit NDG=(LoadUnitHandle(C7,(V_7),(1450+1)))local unit NGG=CreateUnit(GetOwningPlayer(X97),'h0E8',GetUnitX(X97),GetUnitY(X97),a*bj_RADTODEG)local trigger tlocal integer i=1set N9G=N9G+1call SaveUnitHandle(C7,(V_7),(1450+N9G),(NGG))call SaveInteger(C7,(V_7),(746),(N9G))set t=CreateTrigger()set V_7=GetHandleId(t)call SetUnitVertexColor(NGG,255,255,255,75)call SetUnitTimeScale(NGG,2)call SetUnitAnimationByIndex(NGG,0)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function NEG))call TriggerRegisterDeathEvent(t,NGG)call UnitApplyTimedLife(NGG,'BTLF',45)call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",NGG,"hand right alternate")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",NGG,"hand left alternate")))call SaveEffectHandle(C7,(V_7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",NGG,"origin")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(NGG))call SaveReal(C7,(V_7),(47),((GetSpellTargetX())*1.0))call SaveReal(C7,(V_7),(48),((GetSpellTargetY())*1.0))set X97=nullset t=nullset NDG=nullset NGG=nullendfunctionfunction NHG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer ELE=(LoadInteger(C7,(GetHandleId(X97)),(747)))if ELE>0 thencall NFG()call UnitRemoveAbility(X97,FW7[ELE])set ELE=ELE-1call SaveInteger(C7,(GetHandleId(X97)),(747),(ELE))call UW7(X97,FW7[ELE])elsecall VH7(GetOwningPlayer(GetTriggerUnit()),"No more charges")endifset X97=nullendfunctionfunction NIG takes nothing returns booleanreturn GetUnitTypeId(GetFilterUnit())=='h0E8'endfunctionfunction NJG takes nothing returns nothinglocal real JRE=J87(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),FS7,FT7)if JRE>FU7 and UY7(GetEnumUnit())==false thenset FV7=GetEnumUnit()set FU7=JREendifendfunctionfunction NKG takes unit X97,real x,real y returns unitlocal group g=TL7()set FV7=nullset FU7=-1set FS7=xset FT7=ycall GroupEnumUnitsOfPlayer(g,GetOwningPlayer(X97),Condition(function NIG))call ForGroup(g,function NJG)call T67(g)set g=nullreturn FV7endfunctionfunction FireRemnant_FindTargetClosest takes nothing returns nothinglocal real JRE=J87(GetUnitX(GetEnumUnit()),GetUnitY(GetEnumUnit()),FS7,FT7)if JRE<FU7 and UY7(GetEnumUnit())==false thenset FV7=GetEnumUnit()set FU7=JREendifendfunctionfunction NMG takes unit u1,unit u2 returns reallocal real TL9=J77(u1,u2)local real XA8=TL9/1300.0if XA8>0.4 thenreturn TL9/0.4endifreturn 1300.0endfunctionfunction NNG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real AND=(LoadReal(C7,(V_7),(47)))local real AOD=(LoadReal(C7,(V_7),(48)))local unit DGD=(LoadUnitHandle(C7,(V_7),(19)))local real PL9=GetUnitX(X97)local real P19=GetUnitY(X97)local real WR7=(LoadReal(C7,(V_7),(6)))local real WS7=(LoadReal(C7,(V_7),(7)))local real alocal real WV7local real WW7local real dlocal real NOG=(LoadReal(C7,(V_7),(44)))local real CSD=NOG*0.02local group glocal integer S08=(LoadInteger(C7,(V_7),(34)))if DGD!=null thenset WR7=GetUnitX(DGD)set WS7=GetUnitY(DGD)call SaveReal(C7,(V_7),(6),((WR7)*1.0))call SaveReal(C7,(V_7),(7),((WS7)*1.0))endifset a=W77(PL9,P19,WR7,WS7)*bj_DEGTORADset d=J87(PL9,P19,WR7,WS7)if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SaveInteger(C7,(GetHandleId((X97))),((4319)),(2))call SetUnitVertexColor(X97,255,255,255,255)call SetUnitTimeScale(X97,1)call SetUnitAnimationByIndex(X97,0)call SetUnitPathing(X97,true)call SetUnitInvulnerable(X97,false)call UnitRemoveAbility(X97,'A04R')call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif d<CSD thencall SetUnitX(X97,WR7)call SetUnitY(X97,WS7)call N4G(X97,DGD,WR7,WS7)set DGD=NKG(X97,AND,AOD)if DGD==null thencall SaveInteger(C7,(GetHandleId((X97))),((4319)),(2))call WK7(WR7,WS7,100)call SetUnitVertexColor(X97,255,255,255,255)call SetUnitTimeScale(X97,1)call SetUnitAnimationByIndex(X97,1)call SetUnitPathing(X97,true)call SetUnitInvulnerable(X97,false)call UnitRemoveAbility(X97,'A04R')call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(177))))call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall SaveInteger(C7,(V_7),(34),(S08+1))call SaveUnitHandle(C7,(V_7),(19),(DGD))call SaveReal(C7,(V_7),(44),((NMG(X97,DGD))*1.0))call SaveReal(C7,(V_7),(6),((GetUnitX(DGD))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(DGD))*1.0))endifelsecall SetUnitAnimationByIndex(X97,0)call SetUnitPathing(X97,false)set WV7=PL9+CSD*Cos(a)set WW7=P19+CSD*Sin(a)call SetUnitX(X97,WV7)call SetUnitY(X97,WW7)call SetUnitFacing(X97,a*bj_RADTODEG)endifcall M1G(X97,S08,GetUnitX(X97),GetUnitY(X97))set t=nullset X97=nullset DGD=nullreturn falseendfunctionfunction NPG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MANA)+150)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction NQG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger tlocal integer V_7=GetHandleId(X97)local integer N9G=(LoadInteger(C7,(V_7),(746)))local unit DGDif N9G>0 and((LoadInteger(C7,(GetHandleId((X97))),((4319))))==1)==false thenset t=CreateTrigger()set V_7=GetHandleId(t)call SetUnitVertexColor(X97,255,0,0,75)call SetUnitTimeScale(X97,2)call SetUnitAnimationByIndex(X97,0)call SetUnitPathing(X97,false)call SetUnitInvulnerable(X97,true)call UW7(X97,'A04R')call SaveInteger(C7,(GetHandleId((X97))),((4319)),(1))call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function NNG))call TriggerRegisterDeathEvent(t,X97)call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",X97,"hand right alternate")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\Phoenix_Missile_smaller.mdx",X97,"hand left alternate")))call SaveEffectHandle(C7,(V_7),(177),(AddSpecialEffectTarget("war3mapImported\\FlameDash_Ground.mdx",X97,"origin")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(47),((GetSpellTargetX())*1.0))call SaveReal(C7,(V_7),(48),((GetSpellTargetY())*1.0))set DGD=NKG(X97,GetSpellTargetX(),GetSpellTargetY())call SaveUnitHandle(C7,(V_7),(19),(DGD))call SaveReal(C7,(V_7),(44),((NMG(X97,DGD))*1.0))call SaveReal(C7,(V_7),(6),((GetUnitX(DGD))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(DGD))*1.0))call SaveInteger(C7,(V_7),(34),(1))elseset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.0,false)call TriggerAddCondition(t,Condition(function NPG))call SaveUnitHandle(C7,(V_7),(2),(X97))endifset t=nullset X97=nullset DGD=nullendfunctionfunction NRG takes nothing returns booleanif GetSpellAbilityId()==FW7[0]or GetSpellAbilityId()==FW7[1]or GetSpellAbilityId()==FW7[2]or GetSpellAbilityId()==FW7[3]thencall NHG()elseif GetSpellAbilityId()=='A2JL' thencall NQG()endifreturn falseendfunctionfunction NSG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ELE=(LoadInteger(C7,(GetHandleId(X97)),(747)))local integer S08=(LoadInteger(C7,(V_7),(34)))if ELE<3 thenset S08=S08-1call SaveInteger(C7,(V_7),(34),(S08))if S08==0 thencall UnitRemoveAbility(X97,FW7[ELE])set S08=30call SaveInteger(C7,(V_7),(34),(S08))set ELE=ELE+1call SaveInteger(C7,(GetHandleId(X97)),(747),(ELE))call UW7(X97,FW7[ELE])endifendifset t=nullset X97=nullreturn falseendfunctionfunction NTG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SaveInteger(C7,(GetHandleId(X97)),(747),(3))call UW7(X97,FW7[3])call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function NSG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(34),(30))set X97=nullset t=nullendfunctionfunction NUG takes nothing returns booleanif GetLearnedSkill()=='A2JK' and IsUnitIllusion(GetTriggerUnit())==false thencall UW7(GetTriggerUnit(),'A2JL')call SetUnitAbilityLevel(GetTriggerUnit(),'A2JL',GetUnitAbilityLevel(GetTriggerUnit(),'A2JK'))if GetUnitAbilityLevel(GetTriggerUnit(),'A2JK')==1 thencall NTG()call M2G()endifendifreturn falseendfunctionfunction K68 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NRG))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function NUG))set t=nullset FW7[0]='A2JO'set FW7[1]='A2JQ'set FW7[2]='A2JP'set FW7[3]='A2JR'endfunctionfunction NVG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamage()>2 and FX7 thenset FX7=falsecall ZO7(GetEventDamageSource(),U47,3,GetEventDamage()*0.25)set FX7=trueendifelsecall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction NWG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=GetUnitAbilityLevel(X97,'A2A8')set FX7=truecall UnitAddAbility(ZM7,'A2A7')call SetUnitAbilityLevel(ZM7,'A2A7',ZN7)call IssueTargetOrder(ZM7,"soulburn",U47)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,2+ZN7,false)call TriggerAddCondition(t,Condition(function NVG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set X97=nullset U47=nullset t=nullendfunctionfunction NXG takes nothing returns booleanif GetSpellAbilityId()=='A2A8' thencall NWG()endifreturn falseendfunctionfunction Register_ArcaneSeal takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NXG))set t=nullendfunctionfunction NYG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real a=(LoadReal(C7,(V_7),(137)))local real d=(LoadReal(C7,(V_7),(138)))local real x=VK7(GetUnitX(U47)+d/10*Cos(a))local real y=VM7(GetUnitY(U47)+d/10*Sin(a))if GetTriggerEvalCount(t)==11 or GetTriggerEventId()==EVENT_UNIT_DEATH thencall FlushChildHashtable(C7,(V_7))call NM7(t)elsecall DestroyEffect(AddSpecialEffect("war3mapImported\\ThrustMovement.mdx",x,y))call WK7(x,y,150)call SetUnitX(U47,x)call SetUnitY(U47,y)endifset U47=nullset t=nullreturn falseendfunctionfunction NZG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local integer ZN7=GetUnitAbilityLevel(X97,'A2A9')local real alocal real xlocal real ylocal real dlocal integer i=-1local boolean UIF=falseif X97==U47 thenset a=GetUnitFacing(X97)*bj_DEGTORADelseset a=W47(X97,U47)*bj_DEGTORADendifloopexitwhen UIF or i==23set i=i+1set x=VK7(GetUnitX(U47)+(350-i*25)*Cos(a))set y=VM7(GetUnitY(U47)+(350-i*25)*Sin(a))if(IsPointInRegion(J94,((x)*1.0),((y)*1.0)))==false thenset UIF=trueendifendloopset d=J87(x,y,GetUnitX(U47),GetUnitY(U47))call TriggerRegisterTimerEvent(t,0.03,true)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function NYG))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveReal(C7,(V_7),(138),((d)*1.0))if IsUnitAlly(X97,GetOwningPlayer(U47))==true thencall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+50+50*ZN7)elsecall ZO7(X97,U47,3,50+50*ZN7)endifset X97=nullset U47=nullset t=nullendfunctionfunction NAG takes nothing returns booleanif GetSpellAbilityId()=='A2A9' thencall NZG()endifreturn falseendfunctionfunction Register_Thrust takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function NAG))set t=nullendfunctionfunction NBG takes nothing returns nothingcall IssueTargetOrder(FY7,"ensnare",GetEnumUnit())call ZO7(GetTriggerUnit(),GetEnumUnit(),1,60*FZ7)endfunctionfunction NCG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g1=TL7()local group g2=TL7()local integer ZN7=GetUnitAbilityLevel(X97,'A2A6')local real x=GetUnitX(X97)local real y=GetUnitY(X97)set FZ7=ZN7set FY7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)call UnitAddAbility(FY7,'A2AE')call SetUnitAbilityLevel(FY7,'A2AE',ZN7)call GroupEnumUnitsInRange(g1,x,y,425,Condition(function YK7))call GroupEnumUnitsInRange(g2,x,y,825,Condition(function YK7))call GroupRemoveGroup(g1,g2)call ForGroup(g2,function NBG)call T67(g1)call T67(g2)call DestroyEffect(AddSpecialEffect("war3mapImported\\ConjureForceAoE.mdx",x,y))set X97=nullset g1=nullset g2=nullendfunctionfunction N3G takes nothing returns booleanif GetSpellAbilityId()=='A2A6' thencall NCG()endifreturn falseendfunctionfunction Register_ConjureForce takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function N3G))set t=nullendfunctionfunction N6G takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),FB7)==false thencall GroupAddUnit(FB7,GetEnumUnit())call ZO7(FA7,GetEnumUnit(),3,FC7)endifendfunctionfunction NLG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local group g=(LoadGroupHandle(C7,(V_7),(22)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real Q99=(LoadReal(C7,(V_7),(13)))local real R09=(LoadReal(C7,(V_7),(20)))local group N1Glocal unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real xlocal real yif GetTriggerEvalCount(t)>67 thencall T67(g)call FlushChildHashtable(C7,(V_7))call NM7(t)call KillUnit(WQ7)elseset x=GetUnitX(WQ7)set y=GetUnitY(WQ7)set N1G=TL7()set FB7=gset I04=WQ7set FA7=X97set FC7=R09call GroupEnumUnitsInRange(N1G,x,y,225,Condition(function YE7))call ForGroup(N1G,function N6G)call T67(N1G)call SetUnitX(WQ7,VK7(x+15*Cos(Q99*bj_DEGTORAD)))call SetUnitY(WQ7,VM7(y+15*Sin(Q99*bj_DEGTORAD)))endifset t=nullset g=nullset N1G=nullset X97=nullset WQ7=nullreturn falseendfunctionfunction N0G takes unit X97,real R09,real x,real y returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local group g=TL7()local real x1=GetUnitX(X97)local real y1=GetUnitY(X97)local real x2=xlocal real y2=ylocal real Q99=W77(x1,y1,x2,y2)local integer ZN7=GetUnitAbilityLevel(X97,'A2AA')local unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0DI',x1,y1,Q99)call SetUnitScale(WQ7,1.5,1.5,1.5)call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveGroupHandle(C7,(V_7),(22),(g))call SaveReal(C7,(V_7),(13),((Q99)*1.0))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(20),((R09)*1.0))call TriggerRegisterTimerEvent(t,0.015,true)call TriggerAddCondition(t,Condition(function NLG))set t=nullset WQ7=nullset g=nullendfunctionfunction N5G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local boolean N2G=(LoadBoolean(C7,(V_7),(95)))if GetTriggerEventId()==EVENT_WIDGET_DEATH thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AB',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AA',true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif N2G==false and GetEventDamage()>2 and GetEventDamage()<3000 and IsUnitIllusion(U47)==false thencall SaveReal(C7,(V_7),(20),(((LoadReal(C7,(V_7),(20)))+GetEventDamage())*1.0))call V67(U47,GetEventDamage())endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_ENDCAST thenif GetSpellAbilityId()=='A2AA' thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call SaveBoolean(C7,(V_7),(95),(true))endifelseif GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A2AB' thencall N0G(X97,(LoadReal(C7,(V_7),(20))),GetSpellTargetX(),GetSpellTargetY())call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AB',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AA',true)call FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AB',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AA',true)call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction N_G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UW7(X97,'A2AB')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AB',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2AA',false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_ENDCAST)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterTimerEvent(t,20,false)call TriggerAddCondition(t,Condition(function N5G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveBoolean(C7,(V_7),(95),(false))call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\WispShellBlue_2.mdx",X97,"origin")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\DivineWrathTarget.mdx",U47,"origin")))set X97=nullset U47=nullset t=nullendfunctionfunction O4G takes nothing returns booleanif GetSpellAbilityId()=='A2AA' thencall N_G()endifreturn falseendfunctionfunction Register_DivineWrath takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O4G))set t=nullendfunctionfunction O7G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()!=EVENT_UNIT_SPELL_EFFECT or GetSpellAbilityId()=='A2BD' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2BC',true)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2BD',false)call UnitRemoveAbility(X97,'Aetl')call UnitRemoveAbility(X97,'A2B3')call UnitRemoveAbility(X97,'A2B0')call UnitRemoveAbility(X97,'A2B1')call UnitRemoveAbility(X97,'A2B2')call UnitRemoveAbility(X97,'B0F2')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction O8G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2BC')call TriggerRegisterTimerEvent(t,5,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DEATH)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O7G))call SaveUnitHandle(C7,(V_7),(2),(X97))call UnitAddAbility(X97,'A2BD')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2BC',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2BD',true)call UnitAddAbility(X97,'Aetl')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'Aetl',false)if ZN7==1 thencall UnitAddAbility(X97,'A2B3')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2B3',false)elseif ZN7==2 thencall UnitAddAbility(X97,'A2B0')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2B0',false)elseif ZN7==3 thencall UnitAddAbility(X97,'A2B1')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2B1',false)elseif ZN7==4 thencall UnitAddAbility(X97,'A2B2')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2B2',false)endifset t=nullset X97=nullendfunctionfunction O9G takes nothing returns booleanif GetSpellAbilityId()=='A2BC' thencall O8G()endifreturn falseendfunctionfunction Register_Wraith takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function O9G))set t=nullendfunctionfunction ODG takes unit X97,unit GWE,unit U47,integer ZN7 returns nothingcall ZK7(X97,U47,1.25+0.25*ZN7)call ZO7(X97,U47,1,40*ZN7)call KillUnit(GWE)call NQ7(U47,"4314",3)endfunctionfunction OEG takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))and((LoadInteger(C7,(GetHandleId((GetFilterUnit()))),((4314))))==1)==false and(IsUnitVisible(GetFilterUnit(),GetOwningPlayer(I04))==true or Y77(GetFilterUnit())==false)endfunctionfunction OFG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local group glocal integer i=1local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local real a=(LoadReal(C7,(V_7),(137)))local unit GWElocal unit U47local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))set x=VK7(x+18*Cos(a))set y=VM7(y+18*Sin(a))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))if GetTriggerEvalCount(t)>39 thenloopexitwhen i>3call KillUnit((LoadUnitHandle(C7,(V_7),(393+i-1))))set i=i+1endloopcall FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97call GroupEnumUnitsInRange(g,x,y,275,Condition(function OEG))loopexitwhen i>3if(LoadBoolean(C7,(V_7),(511+i-1)))==false thenset GWE=(LoadUnitHandle(C7,(V_7),(393+i-1)))set x=(LoadReal(C7,(V_7),(549+i-1)))set y=(LoadReal(C7,(V_7),(567+i-1)))set x=VK7(x+18*Cos(a))set y=VM7(y+18*Sin(a))call SaveReal(C7,(V_7),(549+i-1),((x)*1.0))call SaveReal(C7,(V_7),(567+i-1),((y)*1.0))call SetUnitX(GWE,x)call SetUnitY(GWE,y)set U47=FirstOfGroup(g)if U47!=null thencall GroupRemoveUnit(g,U47)call SaveInteger(C7,(GetHandleId((U47))),((4314)),(1))call SaveBoolean(C7,(V_7),(511+i-1),(true))call ODG(X97,GWE,U47,GetUnitAbilityLevel(X97,'A2B4'))endifendifset i=i+1endloopcall T67(g)set g=nullset GWE=nullset U47=nullendifset t=nullset X97=nullreturn falseendfunctionfunction OGG takes nothing returns nothinglocal real WR7=GetSpellTargetX()local real WS7=GetSpellTargetY()local unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local real a=W77(x,y,WR7,WS7)*bj_DEGTORADlocal real blocal unit ZM7local real WV7=VK7(x+500*Cos(a))local real WW7=VM7(y+500*Sin(a))local integer i=0local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local real MO9local integer ZN7=GetUnitAbilityLevel(X97,'A2B4')local integer SN7='h0DN'set i=i+1set b=a*bj_RADTODEG+90if b>360 thenset b=b-360endifset b=b*bj_DEGTORADset ZM7=CreateUnit(GetOwningPlayer(X97),SN7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)call SaveUnitHandle(C7,(V_7),(393+i-1),(ZM7))call SaveBoolean(C7,(V_7),(511+i-1),(false))call SaveReal(C7,(V_7),(549+i-1),((GetUnitX(ZM7))*1.0))call SaveReal(C7,(V_7),(567+i-1),((GetUnitY(ZM7))*1.0))set i=i+1set b=a*bj_RADTODEG-90if b<0 thenset b=360+bendifset b=b*bj_DEGTORADset ZM7=CreateUnit(GetOwningPlayer(X97),SN7,x+100*Cos(a)+100*Cos(b),y+100*Sin(a)+100*Sin(b),a*bj_RADTODEG)call SaveUnitHandle(C7,(V_7),(393+i-1),(ZM7))call SaveBoolean(C7,(V_7),(511+i-1),(false))call SaveReal(C7,(V_7),(549+i-1),((GetUnitX(ZM7))*1.0))call SaveReal(C7,(V_7),(567+i-1),((GetUnitY(ZM7))*1.0))set i=i+1set ZM7=CreateUnit(GetOwningPlayer(X97),SN7,x+100*Cos(a),y+100*Sin(a),a*bj_RADTODEG)call SaveUnitHandle(C7,(V_7),(393+i-1),(ZM7))call SaveBoolean(C7,(V_7),(511+i-1),(false))call SaveReal(C7,(V_7),(549+i-1),((GetUnitX(ZM7))*1.0))call SaveReal(C7,(V_7),(567+i-1),((GetUnitY(ZM7))*1.0))call TriggerRegisterTimerEvent(t,0.015,true)call TriggerAddCondition(t,Condition(function OFG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveReal(C7,(V_7),(47),((WV7)*1.0))call SaveReal(C7,(V_7),(48),((WW7)*1.0))set X97=nullset ZM7=nullset t=nullendfunctionfunction OHG takes nothing returns booleanif GetSpellAbilityId()=='A2B4' thencall OGG()endifreturn falseendfunctionfunction Register_Blackjack takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OHG))set t=nullendfunctionfunction OIG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=GetTriggerEvalCount(t)local integer ZN7=GetUnitAbilityLevel(X97,'A2B5')if S08==6 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitShareVision(U47,GetOwningPlayer(X97),false)endifcall ZO7(X97,U47,1,20+10*ZN7)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction OJG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerAddCondition(t,Condition(function OIG))call SaveUnitHandle(C7,(V_7),(2),(GetTriggerUnit()))call SaveUnitHandle(C7,(V_7),(17),(GetEnumUnit()))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Weapons\\BansheeMissile\\BansheeMissile.mdl",GetEnumUnit(),"overhead")))call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetEnumUnit(),"origin"))call UnitShareVision(GetEnumUnit(),GetOwningPlayer(GetTriggerUnit()),true)set t=nullendfunctionfunction OKG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UnitAddAbility(ZM7,'A2B7')call IssueImmediateOrderById(ZM7,852625)call DestroyEffect(AddSpecialEffect("Abilities\\Spells\\Undead\\AnimateDead\\AnimateDeadTarget.mdl",GetUnitX(X97),GetUnitY(X97)))call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),625,Condition(function YK7))call ForGroup(g,function OJG)call T67(g)set g=nullset X97=nullset ZM7=nullendfunctionfunction OMG takes nothing returns booleanif GetSpellAbilityId()=='A2B5' thencall OKG()endifreturn falseendfunctionfunction Register_Miasma takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OMG))set t=nullendfunctionfunction GetTotalMinutes takes nothing returns integerreturn R2I((TimerGetElapsed(P))/60)endfunctionfunction ONG takes unit X97,integer OOG returns nothinglocal integer OPG=GetHeroAgi(X97,false)local integer OQG=GetHeroStr(X97,false)local integer ORG=GetHeroInt(X97,false)call SetHeroAgi(X97,OPG-OOG,true)call SetHeroStr(X97,OQG-OOG,true)call SetHeroInt(X97,ORG-OOG,true)endfunctionfunction OSG takes unit X97,integer OOG returns nothinglocal integer OPG=GetHeroAgi(X97,false)local integer OQG=GetHeroStr(X97,false)local integer ORG=GetHeroInt(X97,false)call SetHeroAgi(X97,OPG+OOG,true)call SetHeroStr(X97,OQG+OOG,true)call SetHeroInt(X97,ORG+OOG,true)endfunctionfunction OTG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer OUG=(LoadInteger(C7,(V_7),(744)))local integer ZN7=GetUnitAbilityLevel(X97,'A2G2')local integer VE8=(R2I((TimerGetElapsed(P))/60))local real OVG=ZN7+1+(0.1+0.1*ZN7)*VE8local integer OWG=3+3*ZN7+R2I((0.1+0.1*ZN7)*VE8)if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A2G2' thenif U47!=null and U47!=GetSpellTargetUnit()thencall UnitRemoveAbility(U47,'A2IO')call ONG(U47,OUG)call ONG(X97,OUG)call SaveInteger(C7,(V_7),(744),(0))endifset U47=GetSpellTargetUnit()call SaveUnitHandle(C7,(V_7),(17),(U47))call UW7(U47,'A2IO')call V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",X97,"chest",1.9)call V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",U47,"chest",1.9)return falseelsereturn falseendifendifif U47==null thenelseif UY7(U47)or UY7(X97)or J77(X97,U47)>1400 thencall ONG(X97,OUG)call ONG(U47,OUG)call SaveInteger(C7,(V_7),(744),(0))call UnitRemoveAbility(X97,'A2IO')call UnitRemoveAbility(U47,'A2IO')elseif GetUnitAbilityLevel(X97,'A2IO')==0 thencall UW7(X97,'A2IO')endifif GetUnitAbilityLevel(U47,'A2IO')==0 thencall UW7(U47,'A2IO')endifif OUG!=OWG thencall OSG(X97,OWG-OUG)call OSG(U47,OWG-OUG)call SaveInteger(C7,(V_7),(744),(OWG))endifcall SetUnitState(X97,UNIT_STATE_LIFE,GetUnitState(X97,UNIT_STATE_LIFE)+OVG)call SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+OVG)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction OXG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OTG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(null))call SaveInteger(C7,(V_7),(744),(0))set t=nullset X97=nullendfunctionfunction OYG takes nothing returns booleanif GetLearnedSkill()=='A2G2' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2G2')==1 thencall OXG()endifreturn falseendfunctionfunction Register_Brotherhood takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function OYG))set t=nullendfunctionfunction OZG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()!=EVENT_UNIT_DAMAGED or(GetEventDamage()>30 and GetEventDamageSource()!=GetTriggerUnit()and R77(GetOwningPlayer(GetEventDamageSource())))thenif GetTriggerEventId()==EVENT_UNIT_DAMAGED thencall V67(X97,GetEventDamage())endifcall UnitRemoveAbility(X97,'A2IL')call UnitRemoveAbility(X97,'A2IM')call UnitRemoveAbility(X97,'A2BY')call UnitRemoveAbility(X97,'A2IN')call UnitRemoveAbility(X97,'B0F4')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullreturn falseendfunctionfunction OAG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2BV')local real dlocal integer idlocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)if ZN7==1 thenset d=4set id='A2IL'elseif ZN7==2 thenset d=5set id='A2IM'elseif ZN7==3 thenset d=6set id='A2BY'elseif ZN7==4 thenset d=7set id='A2IN'endifcall UW7(U47,id)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)call TriggerAddCondition(t,Condition(function OZG))call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterTimerEvent(t,d,false)call SaveUnitHandle(C7,(V_7),(2),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Items\\AIsp\\SpeedTarget.mdl",U47,"origin")))set X97=nullset U47=nullset t=nullendfunctionfunction OBG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),375,Condition(function Y37))call ForGroup(g,function OAG)call T67(g)set g=nullset X97=nullendfunctionfunction OCG takes nothing returns booleanif GetSpellAbilityId()=='A2BV' thencall OBG()endifreturn falseendfunctionfunction Register_Gallop takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function OCG))endfunctionfunction O3G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer O6G=(LoadInteger(C7,(V_7),(59)))call FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,O6G)call UnitRemoveAbility(X97,'B0FJ')call UnitRemoveAbility(X97,'B0FK')set t=nullset X97=nullreturn falseendfunctionfunction OLG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit GAD=GetAttacker()local integer ZN7=GetUnitAbilityLevel(X97,'A2EY')local integer idif X97==GetTriggerUnit()and GetRandomInt(1,100)<=(14+2*ZN7)and NF7(X97,"4316")==false and IsUnitAlly(X97,GetOwningPlayer(GAD))==false thencall NQ7(X97,"4316",1.2)if ZN7==1 thenset id='A2GD'elseif ZN7==2 thenset id='A2GE'elseif ZN7==3 thenset id='A2GF'elseif ZN7==4 thenset id='A2GC'endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),id,false)call UW7(X97,id)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterTimerEvent(t,0.5,false)call TriggerAddCondition(t,Condition(function O3G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveInteger(C7,(V_7),(59),(id))endifset t=nullset X97=nullset GAD=nullreturn falseendfunctionfunction O1G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function OLG))call SaveUnitHandle(C7,(V_7),(2),(X97))set X97=nullset t=nullendfunctionfunction O0G takes nothing returns booleanif GetLearnedSkill()=='A2EY' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2EY')==1 thencall O1G()endifreturn falseendfunctionfunction K08 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function O0G))set t=nullendfunctionfunction O5G takes unit u,integer d returns nothinglocal integer array blocal integer a=dlocal integer c=1local integer i=0local integer O6Dif d<1 thencall UnitRemoveAbility(u,F37[0])call UnitRemoveAbility(u,F37[1])call UnitRemoveAbility(u,F37[2])call UnitRemoveAbility(u,F37[3])call UnitRemoveAbility(u,F37[4])call UnitRemoveAbility(u,F37[5])call UnitRemoveAbility(u,F37[6])call UnitRemoveAbility(u,F37[7])call UnitRemoveAbility(u,F37[8])returnendifloopexitwhen c==0set c=a/2set b[i]=a-c*2set a=cset i=i+1endloopset O6D=8set i=0loopexitwhen i>O6Dif b[i]==1 thencall UW7(u,F37[i])elsecall UnitRemoveAbility(u,F37[i])endifset i=i+1endloopendfunctionfunction O2G takes unit X97,integer ZN7,unit U47 returns nothinglocal integer V_7=GetHandleId(X97)local integer O_G=(LoadInteger(C7,(V_7),(739)))if IsUnitType(U47,UNIT_TYPE_HERO)==true thenset O_G=O_G+10call SaveInteger(C7,(V_7),(739),(O_G))call WD7(GetUnitName(X97)+" Won The Duel!!",5,X97,0.03,255,0,0,255)call O5G(X97,O_G)endifendfunctionfunction P4G takes unit u returns booleanreturn GetUnitAbilityLevel(u,'Bcyc')==0 or SL7(u)==falseendfunctionfunction P7G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local real S98=(LoadReal(C7,(V_7),(442)))local unit ZM7if GetTriggerEvalCount(t)==1 thenset ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A2G5')call IssueTargetOrder(ZM7,"doom",U47)set ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UnitAddAbility(ZM7,'A2G5')call IssueTargetOrder(ZM7,"doom",X97)set ZM7=nullendifif GetTriggerEventId()==EVENT_WIDGET_DEATH or S98<(TimerGetElapsed(P))or P4G(X97)==false or P4G(U47)==false thenif GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()==X97 thencall O2G(U47,ZN7,GetTriggerUnit())elsecall O2G(X97,ZN7,GetTriggerUnit())endifendifcall UnitRemoveAbility(X97,'B0FG')call UnitRemoveAbility(U47,'B0FG')call DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)call SetUnitPathing(X97,true)call SetUnitPathing(U47,true)elseif GetIssuedOrderId()!=851973 thencall SetUnitPathing(X97,false)call SetUnitPathing(U47,false)call DisableTrigger(t)call IssueTargetOrder(X97,"attack",U47)call IssueTargetOrder(U47,"attack",X97)call EnableTrigger(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction P8G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2CI')local trigger tlocal integer V_7call SetUnitPathing(X97,false)call SetUnitPathing(U47,false)call IssueTargetOrder(X97,"attack",U47)call IssueTargetOrder(U47,"attack",X97)set t=CreateTrigger()set V_7=GetHandleId(t)call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",X97,"overhead")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("war3mapImported\\DuelFX.mdx",U47,"overhead")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveReal(C7,(V_7),(442),(((TimerGetElapsed(P))+0.75*ZN7+3.25)*1.0))call TriggerAddCondition(t,Condition(function P7G))call TriggerRegisterTimerEvent(t,0.05,true)call TriggerRegisterTimerEvent(t,0.01,false)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterDeathEvent(t,U47)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_ISSUED_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_TARGET_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_POINT_ORDER)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ISSUED_ORDER)set X97=nullset U47=nullset t=nullendfunctionfunction P9G takes nothing returns booleanif GetSpellAbilityId()=='A2CI' and T37(GetSpellTargetUnit())==false thencall P8G()endifreturn falseendfunctionfunction K28 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function P9G))set t=nullset F37[0]='A2GK'set F37[1]='A2GJ'set F37[2]='A2GI'set F37[3]='A2GH'set F37[4]='A2GN'set F37[5]='A2GO'set F37[6]='A2GM'set F37[7]='A2GL'set F37[8]='A2GP'endfunctionfunction PDG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local integer S08=(LoadInteger(C7,(V_7),(34)))local real dlocal unit GADif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset d=GetEventDamage()if AO7(d)and d>50 thenset S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))set GAD=GetEventDamageSource()if IsUnitType(GAD,UNIT_TYPE_HERO)==false and GetUnitAbilityLevel(GAD,'A04R')!=0 thenset GAD=G7[GetPlayerId(GetOwningPlayer(GAD))]endifcall V67(X97,d)set d=d*(0.4+0.2*ZN7)if IsUnitAlly(U47,GetOwningPlayer(X97))==true thencall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+d)elsecall ZO7(X97,U47,3,d)endifendifendifif GetTriggerEventId()!=EVENT_UNIT_DAMAGED or S08==3 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(175))))call DestroyEffect((LoadEffectHandle(C7,(V_7),(176))))call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction PEG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2IQ')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",X97,"chest",1.9)call V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",U47,"chest",1.9)call SaveEffectHandle(C7,(V_7),(175),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",X97,"chest")))call SaveEffectHandle(C7,(V_7),(176),(AddSpecialEffectTarget("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkTarget.mdl",U47,"chest")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(34),(0))call TriggerAddCondition(t,Condition(function PDG))call TriggerRegisterTimerEvent(t,10,false)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_DAMAGED)set X97=nullset U47=nullset t=nullendfunctionfunction PFG takes nothing returns booleanif GetSpellAbilityId()=='A2IQ' thencall PEG()endifreturn falseendfunctionfunction Register_Deflection takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PFG))set t=nullendfunctionfunction PGG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local integer S08=(LoadInteger(C7,(V_7),(34)))set S08=S08+1call SaveInteger(C7,(V_7),(34),(S08))if GetTriggerEventId()==EVENT_WIDGET_DEATH or S08>4 thencall UnitRemoveAbility(U47,F67[ZN7])call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+20+10*ZN7)call V57("Abilities\\Spells\\Orc\\SpiritLink\\SpiritLinkZapTarget.mdl",U47,"chest",1.9)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction PHG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2J2')local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call VO8(U47)call VK8(U47,0,0)call UW7(U47,F67[ZN7])call SetPlayerAbilityAvailable(GetOwningPlayer(U47),F67[ZN7],false)call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\InnerFire\\InnerFireTarget.mdl",U47,"overhead")))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveInteger(C7,(V_7),(34),(0))call TriggerAddCondition(t,Condition(function PGG))call TriggerRegisterTimerEvent(t,1,true)call TriggerRegisterDeathEvent(t,U47)call TriggerEvaluate(t)set X97=nullset U47=nullset t=nullendfunctionfunction PIG takes nothing returns booleanif GetSpellAbilityId()=='A2J2' thencall PHG()endifreturn falseendfunctionfunction K18 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PIG))set F67[1]='A2J9'set F67[2]='A2JA'set F67[3]='A2J8'set F67[4]='A2J7'set t=nullendfunctionfunction PJG takes unit X97,integer ZN7 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(X97),GetUnitY(X97),0)call UW7(ZM7,'A2JC')call SetUnitAbilityLevel(ZM7,'A2JC',ZN7/3)call IssueTargetOrder(ZM7,"bloodlust",X97)set ZM7=nullendfunctionfunction PKG takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_SUMMONED)==true or IsUnitIllusion(GetEnumUnit())==true thencall ZO7(GetTriggerUnit(),GetEnumUnit(),1,GetUnitState(GetEnumUnit(),UNIT_STATE_MAX_LIFE)*0.5)endifcall ZO7(GetTriggerUnit(),GetEnumUnit(),1,60*F07+10*(F17+FL7))endfunctionfunction PMG takes nothing returns nothingif IsUnitType(GetEnumUnit(),UNIT_TYPE_HERO)==true thenset F17=F17+1elseset FL7=FL7+1endifendfunctionfunction PNG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer ZN7=GetUnitAbilityLevel(X97,'A2JB')local group g=TL7()call DestroyEffect(AddSpecialEffect("war3mapImported\\OverwhelmingOdds.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,315+25,Condition(function YK7))set FL7=0set F17=0set F07=ZN7call ForGroup(g,function PMG)call ForGroup(g,function PKG)call T67(g)call PJG(X97,6*F17+3*FL7)set X97=nullset g=nullendfunctionfunction POG takes nothing returns booleanif GetSpellAbilityId()=='A2JB' thencall PNG()endifreturn falseendfunctionfunction K58 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function POG))call VQ7('A2JC')set t=nullendfunctionfunction PPG takes nothing returns nothingset G47=truecall ZO7(F57,GetEnumUnit(),1,((300+300*F_7)/F27)/20)set G47=falseendfunctionfunction PQG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real x=(LoadReal(C7,(V_7),(6)))local real y=(LoadReal(C7,(V_7),(7)))local group gif GetTriggerEvalCount(t)>20 thencall DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elseset g=TL7()set I04=X97call GroupEnumUnitsInRange(g,x,y,170+25,Condition(function YZ7))set F_7=GetUnitAbilityLevel(X97,'A2BG')set F57=X97set F27=CountUnitsInGroup(g)call ForGroup(g,function PPG)call T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction PRG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local string s="war3mapImported\\DivineWrathTarget.mdx"local location l=GetSpellTargetLoc()call PlaySoundAtPointBJ(G67,100,l,0)call RemoveLocation(l)set l=nullcall TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function PQG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call DestroyEffect(AddSpecialEffect(s,x,y))set t=nullset X97=nullendfunctionfunction PSG takes nothing returns booleanif GetSpellAbilityId()=='A2BG' thencall PRG()endifreturn falseendfunctionfunction M48 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PSG))set t=nullset G67=CreateSound("Abilities\\Spells\\Demon\\RainOfFire\\RainOfFireTarget2.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(G67,"StarfallTarget")call SetSoundDuration(G67,3000)endfunctionfunction PTG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A2BT')local real dif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenset d=GetEventDamage()*(0.2+0.05*ZN7)elsecall SaveInteger(C7,(GetHandleId((U47))),((4317)),(2))call UnitRemoveAbility(U47,'A2I6')call UnitRemoveAbility(U47,'A2I5')call UnitRemoveAbility(U47,'A2I7')call UnitRemoveAbility(U47,'A2I8')call UnitRemoveAbility(U47,'B0FS')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction PUG takes unit X97,unit U47 returns nothinglocal trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(X97,'A2BT')local unit LastTarget=(LoadUnitHandle(C7,(GetHandleId(X97)),(741)))local integer S08=(LoadInteger(C7,(GetHandleId(U47)),(742)))local integer idif((LoadInteger(C7,(GetHandleId((U47))),((4317))))==1)==true thencall SaveInteger(C7,(GetHandleId(U47)),(742),(0))call SaveReal(C7,(GetHandleId(U47)),(743),(((TimerGetElapsed(P)))*1.0))elseif(LoadReal(C7,(GetHandleId(U47)),(743)))+10<(TimerGetElapsed(P))thenset S08=1elseset S08=S08+1endifif IsUnitType(U47,UNIT_TYPE_HERO)==true or IsUnitIllusion(U47)==true thencall WE7(GetOwningPlayer(X97),I2S(S08)+"!",2,U47,0.026,50,0,255,216)endifcall SaveInteger(C7,(GetHandleId(U47)),(742),(S08))call SaveReal(C7,(GetHandleId(U47)),(743),(((TimerGetElapsed(P)))*1.0))if S08==4 thencall SaveInteger(C7,(GetHandleId(U47)),(742),(0))call SaveInteger(C7,(GetHandleId((U47))),((4317)),(1))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.5+0.5*ZN7,false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function PTG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))if ZN7==1 thenset id='A2I6'elseif ZN7==2 thenset id='A2I5'elseif ZN7==3 thenset id='A2I7'elseif ZN7==4 thenset id='A2I8'endifcall UW7(U47,id)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FarseerMissile_Purple_2.mdx",U47,"chest"))endifendifset t=nullendfunctionfunction PVG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall DisableTrigger(t)call PUG(X97,U47)call FlushChildHashtable(C7,(V_7))call NM7(t)endifelsecall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction PWG takes nothing returns nothinglocal trigger t=CreateTrigger()local unit U47=GetTriggerUnit()local unit X97=GetAttacker()local integer V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,1.2,false)call TriggerAddCondition(t,Condition(function PVG))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveUnitHandle(C7,(V_7),(2),(X97))set U47=nullset X97=nullset t=nullendfunctionfunction PXG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetAttacker()==X97 and IsUnitEnemy(GetTriggerUnit(),GetOwningPlayer(X97))thenif NF7(X97,"4315")==false thencall NQ7(X97,"4315",0.3)call PWG()endifendifset t=nullset X97=nullreturn falseendfunctionfunction PYG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function PXG))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction PZG takes nothing returns booleanif GetLearnedSkill()=='A2BT' and IsUnitIllusion(GetTriggerUnit())==false and GetUnitAbilityLevel(GetTriggerUnit(),'A2BT')==1 thencall PYG()endifreturn falseendfunctionfunction Register_Amp takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function PZG))set t=nullendfunctionfunction PAG takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local integer ZN7=GetUnitAbilityLevel(X97,'A2BE')local real R09=40+20*ZN7+1.6*GetHeroInt(X97,true)set G47=truecall ZO7(X97,U47,1,R09)set G47=falseset X97=nullset U47=nullendfunctionfunction PBG takes nothing returns nothinglocal trigger t=WX7(GetTriggerUnit(),GetSpellTargetUnit(),'h0DQ',"PAG",500)local integer V_7=GetHandleId(t)set t=nullendfunctionfunction PCG takes nothing returns booleanif GetSpellAbilityId()=='A2BE' and T37(GetSpellTargetUnit())==false thencall PBG()endifreturn falseendfunctionfunction M78 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PCG))set t=nullendfunctionfunction P3G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real dif GetTriggerEventId()==EVENT_UNIT_DAMAGED thenelsecall UnitRemoveAbility(U47,'A2HX')call UnitRemoveAbility(U47,'A2I0')call UnitRemoveAbility(U47,'A2HY')call UnitRemoveAbility(U47,'A2HZ')call FlushChildHashtable(C7,(V_7))call NM7(t)endifset U47=nullset t=nullreturn falseendfunctionfunction P6G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2HN')local real I07=2+ZN7local integer id='A2HX'if ZN7==1 thenset id='A2HX'elseif ZN7==2 thenset id='A2I0'elseif ZN7==3 thenset id='A2HY'elseif ZN7==4 thenset id='A2HZ'endifcall UW7(U47,id)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)call TriggerRegisterTimerEvent(t,I07,false)call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function P3G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set X97=nullset U47=nullset t=nullendfunctionfunction PLG takes nothing returns booleanif GetSpellAbilityId()=='A2HN' and IsUnitType(GetSpellTargetUnit(),UNIT_TYPE_HERO)==true and T37(GetSpellTargetUnit())==false thencall P6G()endifreturn falseendfunctionfunction M88 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function PLG))set t=nullendfunctionfunction P1G takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local real x=GetUnitX(U47)local real y=GetUnitY(U47)local integer ZN7=GetUnitAbilityLevel(X97,'A2IT')local unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)call UnitAddAbility(ZM7,'A2IU')call SetUnitAbilityLevel(ZM7,'A2IU',ZN7)call IssueImmediateOrder(ZM7,"thunderclap")set X97=nullset U47=nullset ZM7=nullendfunctionfunction P0G takes unit X97,group g returns unitlocal unit P5G=nulllocal real d=99999local unit P2G=FirstOfGroup(g)call GroupRemoveUnit(g,P2G)loopexitwhen P2G==nullif J77(X97,P2G)<d thenset d=J77(X97,P2G)set P5G=P2Gendifset P2G=FirstOfGroup(g)call GroupRemoveUnit(g,P2G)endloopreturn P5Gendfunctionfunction P_G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=nulllocal group g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),1600+25,Condition(function YY7))set U47=P0G(X97,g)call T67(g)if U47!=null thencall WX7(X97,U47,'h0E6',"P1G",800)endifset g=nullset U47=nullset X97=nullendfunctionfunction Q4G takes nothing returns booleanif GetSpellAbilityId()=='A2IT' thencall P_G()endifreturn falseendfunctionfunction K_8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q4G))set t=nullendfunctionfunction Q7G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A2DW')local unit SR8call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerEventId()==EVENT_UNIT_DEATH and IsPlayerEnemy(GetOwningPlayer(GetKillingUnit()),GetOwningPlayer(U47))==true thenset SR8=GetKillingUnit()if AN7(SR8)thenset SR8=(G7[GetPlayerId(GetOwningPlayer((SR8)))])endifif IsUnitType(SR8,UNIT_TYPE_STRUCTURE)==true thencall ZO7(X97,SR8,1,25*ZN7)elsecall ZO7(X97,SR8,1,100*ZN7)endifcall ZK7(X97,GetKillingUnit(),0.5+0.5*ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction Q8G takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()call TriggerRegisterUnitEvent(t,U47,EVENT_UNIT_DEATH)call TriggerRegisterTimerEvent(t,10,false)call TriggerAddCondition(t,Condition(function Q7G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("war3mapImported\\GaiaShield.mdx",U47,"origin")))set t=nullset X97=nullset U47=nullendfunctionfunction Q9G takes nothing returns booleanif GetSpellAbilityId()=='A2DW' thencall Q8G()endifreturn falseendfunctionfunction Register_DeathWatch takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q9G))set t=nullendfunctionfunction QDG takes nothing returns nothingif J77(G77,GetEnumUnit())>G87 thencall UnitRemoveAbility(GetEnumUnit(),'A2DY')endifendfunctionfunction QEG takes nothing returns nothingcall UnitRemoveAbility(GetEnumUnit(),'A2DY')endfunctionfunction QFG takes nothing returns booleanreturn(IsUnitEnemy(I04,GetOwningPlayer(GetFilterUnit()))and(GetUnitAbilityLevel(GetFilterUnit(),'A04R')==0 and IsUnitType(GetFilterUnit(),UNIT_TYPE_STRUCTURE)==false and UY7(GetFilterUnit())==false)and(IsUnitType(GetFilterUnit(),UNIT_TYPE_ANCIENT)==false or XC7(GetFilterUnit())))endfunctionfunction QGG takes nothing returns nothingcall GroupAddUnit(G97,GetEnumUnit())call UnitAddAbility(GetEnumUnit(),'A2DY')endfunctionfunction QHG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local group glocal integer ZN7=GetUnitAbilityLevel(X97,'A2DX')if UY7(ZM7)or GetTriggerEvalCount(t)>200 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call ForGroup(AN9,function QEG)call T67(AN9)elseset G87=250+25set G77=ZM7set I04=X97call ForGroup(AN9,function QDG)set G97=AN9set g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(ZM7),GetUnitY(ZM7),G87,Condition(function QFG))call ForGroup(g,function QGG)call T67(g)set g=nullendifset t=nullset X97=nullreturn falseendfunctionfunction QIG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local integer idlocal unit ZM7local integer ZN7=GetUnitAbilityLevel(X97,'A2DX')if ZN7==1 thenset id='o01R'elseif ZN7==2 thenset id='o01S'elseif ZN7==3 thenset id='o01Q'elseset id='o01T'endifset ZM7=CreateUnit(GetOwningPlayer(X97),id,x,y,0)call UnitApplyTimedLife(ZM7,'BTLF',10)call TriggerRegisterTimerEvent(t,0.05,true)call TriggerAddCondition(t,Condition(function QHG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))call SaveGroupHandle(C7,(V_7),(187),(TL7()))set t=nullset X97=nullset ZM7=nullendfunctionfunction QJG takes nothing returns booleanif GetSpellAbilityId()=='A2DX' thencall QIG()endifreturn falseendfunctionfunction Register_RealityShift takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QJG))set t=nullendfunctionfunction QKG takes nothing returns nothingcall ZO7(GD7,GetEnumUnit(),1,50+50*GE7)endfunctionfunction QMG takes unit X97,real x,real y returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',x,y,0)local group g=TL7()call UnitAddAbility(ZM7,'A2E1')call IssuePointOrder(ZM7,"silence",x,y)set I04=X97set GE7=GetUnitAbilityLevel(X97,'A2E0')set GD7=X97call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))call ForGroup(g,function QKG)call T67(g)call DestroyEffect(AddSpecialEffect("",x,y))set g=nullset ZM7=nullendfunctionfunction QNG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer i=0local unit QOGlocal boolean QPG=falselocal real xlocal real ylocal integer V_7=GetHandleId(X97)loopexitwhen i>2 or QPGset QOG=(LoadUnitHandle(C7,(V_7),(724+i)))if QOG!=null and UY7(QOG)==false thencall KillUnit(QOG)call RemoveSavedHandle(C7,(V_7),(724+i))set QPG=trueendifset i=i+1endloopif QPG thenset x=GetSpellTargetX()set y=GetSpellTargetY()call QMG(X97,x,y)endifset QOG=nullset X97=nullendfunctionfunction QQG takes nothing returns booleanif GetSpellAbilityId()=='A2E0' thencall QNG()endifreturn falseendfunctionfunction QRG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit QOGlocal integer i=0local real xlocal real yset V_7=GetHandleId(X97)loopexitwhen i>2set QOG=(LoadUnitHandle(C7,(V_7),(724+i)))if QOG!=null and UY7(QOG)==false thenset x=GetUnitX(X97)set y=GetUnitY(X97)if i==0 thenset x=x-125set y=y-125elseif i==1 thenset x=x+125set y=y-125elseset x=x-125set y=y+125endifcall SetUnitX(QOG,x)call SetUnitY(QOG,y)if GetTriggerEventId()==EVENT_WIDGET_DEATH or UY7(X97)thencall KillUnit(QOG)call RemoveSavedHandle(C7,(V_7),(724+i))endifendifset i=i+1endloopset QOG=nullset X97=nullset t=nullreturn falseendfunctionfunction QSG takes unit X97,integer KT9 returns nothinglocal real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit QOGif KT9==0 thenset x=x-125set y=y-125elseif KT9==1 thenset x=x+125set y=y-125elseset x=x-125set y=y+125endifset QOG=CreateUnit(GetOwningPlayer(X97),'h0DR',x,y,0)call SaveUnitHandle(C7,(GetHandleId(X97)),(724+KT9),(QOG))set QOG=nullendfunctionfunction QTG takes unit X97 returns nothinglocal integer i=0local boolean QUG=falselocal integer QVG=-1local unit QOGlocal integer V_7=GetHandleId(X97)loopexitwhen i>2 or QUGset QOG=(LoadUnitHandle(C7,(V_7),(724+i)))if QOG==null or UY7(QOG)thenset QVG=iset QUG=trueendifset i=i+1endloopif QUG thencall QSG(X97,QVG)endifset QOG=nullendfunctionfunction QWG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer ZN7=GetUnitAbilityLevel(X97,'A2E0')if UY7(X97)==false thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_DEATH thenif IsUnitAlly(GetTriggerUnit(),GetOwningPlayer(X97))==true and GetUnitAbilityLevel(GetTriggerUnit(),'A04R')==0 thenif J77(GetTriggerUnit(),X97)<1025 and GetRandomInt(0,100)<(10+5*ZN7)thencall QTG(X97)endifendifelsecall QTG(X97)endifendifset t=nullset X97=nullreturn falseendfunctionfunction QXG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()call TriggerRegisterTimerEvent(t,20,true)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function QWG))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function QRG))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction QYG takes nothing returns booleanif GetLearnedSkill()=='A2E0' and GetUnitAbilityLevel(GetTriggerUnit(),'A2E0')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall QXG()endifreturn falseendfunctionfunction Register_HauntingEchos takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QQG))call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function QYG))set t=nullendfunctionfunction QZG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local real P39=(LoadReal(C7,(V_7),(6)))local real P69=(LoadReal(C7,(V_7),(7)))local integer ZN7=GetUnitAbilityLevel(X97,'A2DZ')local real CSD=(30*ZN7)/10local real a=W47(U47,X97)*bj_DEGTORADlocal real x=P39+CSD*Cos(a)local real y=P69+CSD*Sin(a)call SetUnitX(U47,x)call SetUnitY(U47,y)call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))if GetTriggerEvalCount(t)==10 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call ZO7(X97,U47,1,10+10*ZN7)endifset t=nullset X97=nullset U47=nullreturn falseendfunctionfunction QAG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function QZG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveReal(C7,(V_7),(6),((GetUnitX(U47))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(U47))*1.0))set t=nullset X97=nullset U47=nullendfunctionfunction QBG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local integer i=0local boolean QPG=falselocal integer V_7local unit QOGlocal group gif GetSpellAbilityId()=='A2E0' thenset V_7=GetHandleId(X97)loopexitwhen i>2set QOG=(LoadUnitHandle(C7,(V_7),(724+i)))if QOG!=null and UY7(QOG)==false thenset QPG=trueendifset i=i+1endloopset QOG=nullif QPG==false thenset X97=nullreturnendifendifset g=TL7()call GroupEnumUnitsInRange(g,GetUnitX(X97),GetUnitY(X97),725,Condition(function YK7))call ForGroup(g,function QAG)call T67(g)set g=nullset X97=nullendfunctionfunction QCG takes nothing returns booleanif GetSpellAbilityId()=='A2E0' or GetSpellAbilityId()=='A2DX' or GetSpellAbilityId()=='A2DW' thenif GetUnitAbilityLevel(GetTriggerUnit(),'A2DZ')>0 thencall QBG()endifendifreturn falseendfunctionfunction Register_FatalAttraction takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function QCG))set t=nullendfunctionfunction Q3G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer I3E=(LoadInteger(C7,(V_7),(422)))local integer I6E=(LoadInteger(C7,(V_7),(423)))local integer NKD=(LoadInteger(C7,(V_7),(424)))call SetHeroAgi(U47,GetHeroAgi(U47,false)+I3E,true)call SetHeroStr(U47,GetHeroStr(U47,false)+I6E,true)call SetHeroInt(U47,GetHeroInt(U47,false)+NKD,true)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset U47=nullreturn falseendfunctionfunction Q6G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local integer ZN7=GetUnitAbilityLevel(X97,'A2FK')local trigger tlocal integer V_7local integer I1Elocal integer I3Elocal integer I6Elocal integer NKDlocal real CSDif IsUnitType(U47,UNIT_TYPE_HERO)==true thenset I1E=TW7(U47)set CSD=0.15if I1E==2 thenset I3E=R2I(CSD*GetHeroAgi(U47,false))-1set I6E=0set NKD=0elseif I1E==3 thenset I3E=0set I6E=R2I(CSD*GetHeroStr(U47,false))-1set NKD=0elseif I1E==1 thenset I3E=0set I6E=0set NKD=R2I(CSD*GetHeroInt(U47,false))-1endifcall SetHeroAgi(U47,GetHeroAgi(U47,false)-I3E,true)call SetHeroStr(U47,GetHeroStr(U47,false)-I6E,true)call SetHeroInt(U47,GetHeroInt(U47,false)-NKD,true)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,7,false)call TriggerRegisterDeathEvent(t,U47)call TriggerAddCondition(t,Condition(function Q3G))call SaveInteger(C7,(V_7),(422),(I3E))call SaveInteger(C7,(V_7),(424),(NKD))call SaveInteger(C7,(V_7),(423),(I6E))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullendifcall DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",U47,"chest"))call ZO7(X97,U47,GG7,50+50*ZN7)set X97=nullset U47=nullendfunctionfunction QLG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=W77(GetUnitX(X97),GetUnitY(X97),x,y)*bj_DEGTORADset x=GetUnitX(X97)set y=GetUnitY(X97)if WK7(x,y,GF7)>0 thenset GG7=3elseset GG7=1endifcall GroupEnumUnitsInRange(g,x,y,GF7+25,Condition(function YK7))call ForGroup(g,function Q6G)call T67(g)call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\WhirlingDeath_01.mdx",X97,"origin"))set X97=nullset g=nullendfunctionfunction Q1G takes nothing returns booleanif GetSpellAbilityId()=='A2FK' thencall QLG()endifreturn falseendfunctionfunction M98 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function Q1G))set t=nullendfunctionfunction Q0G takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A2E3')call ZO7(X97,U47,3,60+40*ZN7)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",U47,"origin"))endfunctionfunction Q5G takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),J44)==false thencall GroupAddUnit(J44,GetEnumUnit())call Q0G(I04,GetEnumUnit())endifendfunctionfunction Q2G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer Q_G=(LoadInteger(C7,(V_7),(18)))local integer S08=GetTriggerEvalCount(t)local unit R4Glocal group R7G=(LoadGroupHandle(C7,(V_7),(16)))local group glocal boolean R8G=(LoadBoolean(C7,(V_7),(727)))local boolean R9G=(LoadBoolean(C7,(V_7),(740)))if V78(T_7)thenset R9G=truecall SaveBoolean(C7,(V_7),(740),(R9G))endifif R8G==false thenset R4G=(LoadUnitHandle(C7,(V_7),(700+Q_G+1-S08)))call RemoveUnit(R4G)elseset R4G=(LoadUnitHandle(C7,(V_7),(700+S08)))if R9G==false thencall SetUnitX(T_7,GetUnitX(R4G))call SetUnitY(T_7,GetUnitY(R4G))endifcall RemoveUnit(R4G)set g=TL7()set I04=T_7set J44=R7Gcall GroupEnumUnitsInRange(g,GetUnitX(T_7),GetUnitY(T_7),250,Condition(function Y97))call ForGroup(g,function Q5G)call T67(g)endifif S08==(Q_G)thencall WK7(GetUnitX(T_7),GetUnitY(T_7),90)call T67(R7G)call FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset T_7=nullset R4G=nullset R7G=nullset g=nullreturn falseendfunctionfunction RDG takes nothing returns nothingif S67(GetEnumDestructable())and IsDestructableDeadBJ(GetEnumDestructable())==false thenset GH7=GH7+1endifendfunctionfunction REG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))local real Q99=(LoadReal(C7,(V_7),(13)))local integer SFD=(LoadInteger(C7,(V_7),(12)))local integer S08=GetTriggerEvalCount(t)local real x=(LoadReal(C7,(V_7),(6)))+S08*50*Cos(Q99*bj_DEGTORAD)local real y=(LoadReal(C7,(V_7),(7)))+S08*50*Sin(Q99*bj_DEGTORAD)local boolean N_D=(LoadBoolean(C7,(V_7),(15)))local unit RFGlocal trigger RGG=(LoadTriggerHandle(C7,(V_7),(11)))local integer RHG=GetHandleId(RGG)local integer ID='u01Q'local real JSG=250local rect rlocal real d=90set r=Rect(x-d,y-d,x+d,y+d)set GH7=0call EnumDestructablesInRect(r,Condition(function Q37),function RDG)if GH7>0 or S08==SFD or S08==(SFD-1)or S08==(SFD-2)thenset ID='u01P'endifset RFG=CreateUnit(GetOwningPlayer(T_7),ID,x,y,Q99)call SaveUnitHandle(C7,(RHG),(700+S08),(RFG))if GH7>0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call TriggerRegisterTimerEvent(RGG,0.5/SFD,true)call TriggerAddCondition(RGG,Condition(function Q2G))call SaveInteger(C7,(RHG),(18),(S08))call SaveBoolean(C7,(RHG),(727),(true))call SaveUnitHandle(C7,(RHG),(14),(T_7))call SaveGroupHandle(C7,(RHG),(16),(TL7()))call SaveReal(C7,(RHG),(6),((x)*1.0))call SaveReal(C7,(RHG),(7),((y)*1.0))call SaveBoolean(C7,(RHG),(740),(false))elseif S08>SFD thencall FlushChildHashtable(C7,(V_7))call NM7(t)call TriggerRegisterTimerEvent(RGG,0.5/SFD,true)call TriggerAddCondition(RGG,Condition(function Q2G))call SaveInteger(C7,(RHG),(18),(S08))call SaveBoolean(C7,(RHG),(727),(false))call SaveUnitHandle(C7,(RHG),(14),(T_7))call SaveGroupHandle(C7,(RHG),(16),(TL7()))call SaveBoolean(C7,(RHG),(740),(false))endifset t=nullset T_7=nullset RFG=nullset RGG=nullreturn falseendfunctionfunction RIG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit T_7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real Q99=W77(GetUnitX(T_7),GetUnitY(T_7),GetLocationX(l),GetLocationY(l))local integer ZN7=GetUnitAbilityLevel(T_7,'A2E3')local integer RJGlocal integer SFDlocal trigger RKG=CreateTrigger()set RJG=600+200*ZN7set SFD=RJG/50call SaveUnitHandle(C7,(V_7),(14),(T_7))call SaveInteger(C7,(V_7),(5),(ZN7))call SaveReal(C7,(V_7),(13),((Q99)*1.0))call SaveInteger(C7,(V_7),(12),(SFD))call SaveTriggerHandle(C7,(V_7),(11),(RKG))call SaveReal(C7,(V_7),(6),((GetUnitX(T_7))*1.0))call SaveReal(C7,(V_7),(7),((GetUnitY(T_7))*1.0))call TriggerRegisterTimerEvent(t,0.5/SFD,true)call TriggerAddCondition(t,Condition(function REG))call RemoveLocation(l)set t=nullset T_7=nullset l=nullendfunctionfunction RMG takes nothing returns booleanif GetSpellAbilityId()=='A2E3' thencall RIG()endifreturn falseendfunctionfunction MD8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RMG))set t=nullendfunctionfunction RNG takes unit X97 returns nothinglocal integer S08=(LoadInteger(C7,(GetHandleId(X97)),(728)))local integer ZN7=GetUnitAbilityLevel(X97,'A2E4')local integer i=1set S08=IMinBJ(S08,4*ZN7)loopexitwhen i>16if S08==i thencall UW7(X97,GI7[i])call SetPlayerAbilityAvailable(GetOwningPlayer(X97),GI7[i],false)elsecall UnitRemoveAbility(X97,GI7[i])endifset i=i+1endloopendfunctionfunction ROG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer S08=(LoadInteger(C7,(GetHandleId(X97)),(728)))-1call SaveInteger(C7,(GetHandleId(X97)),(728),(S08))call RNG(X97)call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction RPG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local integer S08=(LoadInteger(C7,(GetHandleId(X97)),(728)))+1if IsUnitEnemy(GetAttacker(),GetOwningPlayer(X97))==true thencall SaveInteger(C7,(GetHandleId(X97)),(728),(S08))call RNG(X97)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,16,false)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function ROG))call SaveUnitHandle(C7,(V_7),(2),(X97))endifset t=nullset X97=nullreturn falseendfunctionfunction RQG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function RPG))call SaveUnitHandle(C7,(V_7),(2),(X97))set t=nullset X97=nullendfunctionfunction RRG takes nothing returns booleanif GetLearnedSkill()=='A2E4' and GetUnitAbilityLevel(GetTriggerUnit(),'A2E4')==1 and IsUnitIllusion(GetTriggerUnit())==false thencall RQG()endifreturn falseendfunctionfunction ME8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function RRG))set t=nullset GI7[1]='A2DG'set GI7[2]='A2DF'set GI7[3]='A2DL'set GI7[4]='A2DM'set GI7[5]='A2DJ'set GI7[6]='A2DI'set GI7[7]='A2DN'set GI7[8]='A2DO'set GI7[9]='A2DH'set GI7[10]='A2DU'set GI7[11]='A2DP'set GI7[12]='A2DQ'set GI7[13]='A2DR'set GI7[14]='A2DS'set GI7[15]='A2DT'set GI7[16]='A2DK'endfunctionfunction RSG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))call UnitRemoveAbility(X97,'Bpig')call UnitRemoveAbility(X97,'BEia')call UnitRemoveAbility(X97,'A2FX')call FlushChildHashtable(C7,(V_7))call NM7(t)set t=nullset X97=nullreturn falseendfunctionfunction RTG takes unit X97,unit U47 returns nothinglocal unit ZM7=CreateUnit(GetOwningPlayer(X97),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer VW9=R2I(100*GetUnitState(U47,UNIT_STATE_LIFE)/GetUnitState(U47,UNIT_STATE_MAX_LIFE))local integer ZN7=VZ7(VY7(R2I(100-VW9)/5,20),1)call UnitAddAbility(ZM7,'A2DV')call SetUnitAbilityLevel(ZM7,'A2DV',ZN7)call IssueTargetOrder(ZM7,"slow",U47)set ZM7=nullendfunctionfunction RUG takes nothing returns nothingif C8==false thencall ZO7(GN7,GetEnumUnit(),3,(25+25*GO7)*0.5)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call RTG(GN7,GetEnumUnit())endifendfunctionfunction RVG takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),GM7)==false thencall GroupAddUnit(GM7,GetEnumUnit())call ZO7(GN7,GetEnumUnit(),3,60+40*GO7)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\Stampede\\StampedeMissileDeath.mdl",GetEnumUnit(),"origin"))call RTG(GN7,GetEnumUnit())endifendfunctionfunction RWG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local real WR7=(LoadReal(C7,(V_7),(6)))local real WS7=(LoadReal(C7,(V_7),(7)))local real xlocal real ylocal real alocal integer RXG=(LoadInteger(C7,(V_7),(33)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local group glocal integer S08=(LoadInteger(C7,(V_7),(34)))local real RYGcall UW7(X97,'Abun')if GetTriggerEventId()==EVENT_UNIT_SPELL_EFFECT thenif GetSpellAbilityId()=='A2FX' thencall SaveInteger(C7,(V_7),(33),(2))call GroupClear(AN9)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2FX',false)set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0,false)call TriggerAddCondition(t,Condition(function RSG))call SaveUnitHandle(C7,(V_7),(2),(X97))endifelseif GetTriggerEventId()==EVENT_WIDGET_DEATH or(LoadInteger(C7,(GetHandleId(X97)),(704)))==-1 thencall UnitRemoveAbility(X97,'Abun')if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A2E5' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2E5',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2FX',false)call UnitRemoveAbility(X97,'A2FX')call UnitRemoveAbility(X97,'Bpig')call UnitRemoveAbility(X97,'BEia')call KillUnit(WQ7)call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)elseif RXG==0 thenset a=W77(GetUnitX(WQ7),GetUnitY(WQ7),WR7,WS7)*bj_DEGTORADset x=GetUnitX(WQ7)+20*Cos(a)set y=GetUnitY(WQ7)+20*Sin(a)call WK7(x,y,175)if J87(x,y,WR7,WS7)<40 thenset x=WR7set y=WS7endifcall SetUnitX(WQ7,x)call SetUnitY(WQ7,y)set I04=X97set GN7=X97set GO7=GetUnitAbilityLevel(X97,'A2E5')set GM7=AN9set g=TL7()call GroupEnumUnitsInRange(g,x,y,GJ7+25,Condition(function Y47))call ForGroup(g,function RVG)call T67(g)if x==WR7 and y==WS7 thencall SaveInteger(C7,(V_7),(33),(1))call GroupClear(AN9)endifelseif RXG==1 thenset S08=S08+1if S08==25 thenset x=GetUnitX(WQ7)set y=GetUnitY(WQ7)call WK7(x,y,175)set S08=0set I04=X97set GN7=X97set GO7=GetUnitAbilityLevel(X97,'A2E5')set g=TL7()call GroupEnumUnitsInRange(g,x,y,GK7+25,Condition(function Y47))call ForGroup(g,function RUG)call T67(g)set RYG=(15+5*GO7)/2if GetUnitState(X97,UNIT_STATE_MANA)<RYG or J77(X97,WQ7)>2000 thencall SaveInteger(C7,(V_7),(33),(2))call GroupClear(AN9)call UnitRemoveAbility(X97,'A2FX')call UnitRemoveAbility(X97,'Bpig')call UnitRemoveAbility(X97,'BEia')elsecall SetUnitState(X97,UNIT_STATE_MANA,GetUnitState(X97,UNIT_STATE_MANA)-RYG)endifendifcall SaveInteger(C7,(V_7),(34),(S08))elseif RXG==2 thenset a=W77(GetUnitX(WQ7),GetUnitY(WQ7),GetUnitX(X97),GetUnitY(X97))*bj_DEGTORADset x=GetUnitX(WQ7)+20*Cos(a)set y=GetUnitY(WQ7)+20*Sin(a)call WK7(x,y,175)call SetUnitX(WQ7,x)call SetUnitY(WQ7,y)set I04=X97set GN7=X97set GO7=GetUnitAbilityLevel(X97,'A2E5')set GM7=AN9set g=TL7()call GroupEnumUnitsInRange(g,x,y,GJ7+25,Condition(function Y47))call ForGroup(g,function RVG)call T67(g)if J87(x,y,GetUnitX(X97),GetUnitY(X97))<40 thencall UnitRemoveAbility(X97,'Abun')call KillUnit(WQ7)call T67(AN9)call FlushChildHashtable(C7,(V_7))call NM7(t)if(LoadInteger(C7,(GetHandleId(X97)),(704)))==0 or(LoadInteger(C7,(GetHandleId(X97)),(704)))=='A2E5' thencall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2E5',true)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2FX',false)endifendifset t=nullset X97=nullset WQ7=nullset AN9=nullset g=nullreturn falseendfunctionfunction RZG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetSpellTargetX()local real y=GetSpellTargetY()local real a=W77(GetUnitX(X97),GetUnitY(X97),x,y)*bj_DEGTORADlocal unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0DS',GetUnitX(X97),GetUnitY(X97),a*bj_RADTODEG)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterUnitEvent(t,X97,EVENT_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RWG))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(6),((x)*1.0))call SaveReal(C7,(V_7),(7),((y)*1.0))call SaveInteger(C7,(V_7),(33),(0))call SaveGroupHandle(C7,(V_7),(187),(TL7()))call UW7(X97,'Abun')call UW7(X97,'A2FX')call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2E5',false)call SetPlayerAbilityAvailable(GetOwningPlayer(X97),'A2FX',true)set X97=nullset t=nullset WQ7=nullendfunctionfunction RAG takes nothing returns booleanif GetSpellAbilityId()=='A2E5' thencall RZG()endifreturn falseendfunctionfunction MF8 takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function RAG))call VQ7('A2DV')set t=nullendfunctionfunction RBG takes unit X97,unit WQ7,unit U47 returns nothinglocal real d=RAbsBJ(GetUnitFacing(U47)-GetUnitFacing(WQ7))local real I07=3local integer ZN7=GetUnitAbilityLevel(X97,'A2EN')local integer RCG='A2EL'if ZN7==2 thenset RCG='A2EK'elseif ZN7==3 thenset RCG='A2EJ'elseif ZN7==4 thenset RCG='A2EM'endifif d>180 thenset d=360-dendifif d<=105 thencall ZK7(X97,U47,1.5)set I07=4endifcall SetPlayerAbilityAvailable(GetOwningPlayer(U47),RCG,false)call XO7(U47,RCG,1,I07,'B0F6')call ZO7(X97,U47,1,80+20*ZN7)call DestroyEffect(AddSpecialEffectTarget("Abilities\\Spells\\Other\\FrostDamage\\FrostDamage.mdl",U47,"chest"))endfunctionfunction R3G takes nothing returns nothingif IsUnitInGroup(GetEnumUnit(),GR7)==false thencall GroupAddUnit(GR7,GetEnumUnit())call RBG(GP7,GQ7,GetEnumUnit())endifendfunctionfunction R6G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit WQ7=(LoadUnitHandle(C7,(V_7),(45)))local group AN9=(LoadGroupHandle(C7,(V_7),(187)))local real a=(LoadReal(C7,(V_7),(137)))local real x=GetUnitX(WQ7)local real y=GetUnitY(WQ7)local group g=TL7()set x=VK7(x+28*Cos(a))set y=VM7(y+28*Sin(a))call SetUnitX(WQ7,x)call SetUnitY(WQ7,y)set I04=X97set GP7=X97set GQ7=WQ7set GR7=AN9call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))call ForGroup(g,function R3G)call T67(g)if GetTriggerEvalCount(t)>50 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call KillUnit(WQ7)call T67(AN9)endifset t=nullset X97=nullset WQ7=nullset AN9=nullset g=nullreturn falseendfunctionfunction RLG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local real a=W77(x,y,GetSpellTargetX(),GetSpellTargetY())*bj_DEGTORADlocal unit WQ7=CreateUnit(GetOwningPlayer(X97),'h0DX',x,y,a*bj_RADTODEG)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.025,true)call TriggerAddCondition(t,Condition(function R6G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(45),(WQ7))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveGroupHandle(C7,(V_7),(187),(TL7()))set X97=nullset WQ7=nullset t=nullendfunctionfunction R1G takes nothing returns booleanif GetSpellAbilityId()=='A2EN' thencall RLG()endifreturn falseendfunctionfunction Register_Breeze takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function R1G))set t=nullendfunctionfunction R0G takes unit U47 returns nothingcall UnitRemoveAbility(U47,'A2EX')call UnitRemoveAbility(U47,'A2EU')call UnitRemoveAbility(U47,'A2EV')call UnitRemoveAbility(U47,'A2EW')endfunctionfunction R5G takes unit X97,unit U47 returns nothinglocal integer ZN7=GetUnitAbilityLevel(X97,'A2EY')if ZN7==1 thencall SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2EX',false)call UW7(U47,'A2EX')elseif ZN7==2 thencall SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2EU',false)call UW7(U47,'A2EU')elseif ZN7==3 thencall SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2EV',false)call UW7(U47,'A2EV')elseif ZN7==4 thencall SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2EW',false)call UW7(U47,'A2EW')endifendfunctionfunction R2G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=GetTriggerUnit()local unit GAD=GetAttacker()if IsUnitType(GAD,UNIT_TYPE_MELEE_ATTACKER)==false thenif GetUnitAbilityLevel(X97,'A2EY')>0 thencall R5G(X97,GAD)elsecall R0G(GAD)endifendifset t=nullset X97=nullset GAD=nullreturn falseendfunctionfunction R_G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger tlocal integer V_7local integer ZN7=GetUnitAbilityLevel(X97,'A2EY')if ZN7==1 thencall UW7(X97,'A2ES')set t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function R2G))call SaveUnitHandle(C7,(V_7),(2),(X97))elseif ZN7==2 thencall UnitRemoveAbility(X97,'A2ES')call UW7(X97,'A2ER')elseif ZN7==3 thencall UnitRemoveAbility(X97,'A2ES')call UnitRemoveAbility(X97,'A2ER')call UW7(X97,'A2EQ')elseif ZN7==4 thencall UnitRemoveAbility(X97,'A2ES')call UnitRemoveAbility(X97,'A2ER')call UnitRemoveAbility(X97,'A2EQ')call UW7(X97,'A2ET')endifset X97=nullset t=nullendfunctionfunction S4G takes nothing returns booleanif GetLearnedSkill()=='A2EY' and IsUnitIllusion(GetTriggerUnit())==false thencall R_G()endifreturn falseendfunctionfunction Register_FrostSkin takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_SKILL)call TriggerAddCondition(t,Condition(function S4G))set t=nullendfunctionfunction S7G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit ZM7=(LoadUnitHandle(C7,(V_7),(19)))call SetUnitX(ZM7,GetUnitX(X97))call SetUnitY(ZM7,GetUnitY(X97))if GetTriggerEventId()==EVENT_WIDGET_DEATH thenif GetTriggerUnit()!=ZM7 thencall KillUnit(ZM7)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset X97=nullset ZM7=nullreturn falseendfunctionfunction S8G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit ZM7=CreateUnit(GetOwningPlayer(X97),'o01U',GetUnitX(X97),GetUnitY(X97),0)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UnitApplyTimedLifeBJ(15,'BTLF',ZM7)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerRegisterDeathEvent(t,ZM7)call TriggerAddCondition(t,Condition(function S7G))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(19),(ZM7))set X97=nullset ZM7=nullset t=nullendfunctionfunction S9G takes nothing returns booleanif GetSpellAbilityId()=='A2EZ' and GetUnitTypeId(GetTriggerUnit())=='N0M7' thencall S8G()endifreturn falseendfunctionfunction Register_FrostGiant takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S9G))set t=nullendfunctionfunction SDG takes nothing returns nothingcall ZK7(GS7,GetEnumUnit(),1.5)call ZO7(GS7,GetEnumUnit(),2,50+50*GT7)endfunctionfunction SEG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local real a=(LoadReal(C7,(V_7),(137)))local real WR7=(LoadReal(C7,(V_7),(47)))local real WS7=(LoadReal(C7,(V_7),(48)))local real x=GetUnitX(X97)local real y=GetUnitY(X97)local group g=TL7()local integer ZN7=GetUnitAbilityLevel(X97,'A2F4')set x=VK7(x+32*Cos(a))set y=VM7(y+32*Sin(a))if J87(x,y,WR7,WS7)<40 thenset x=WR7set y=WS7endifcall SetUnitX(X97,x)call SetUnitY(X97,y)call SetUnitFacing(X97,a*bj_RADTODEG)set I04=X97call GroupEnumUnitsInRange(g,x,y,125+25,Condition(function Y47))if FirstOfGroup(g)!=null or(x==WR7 and y==WS7)or GetTriggerEvalCount(t)>200 or GetTriggerEventId()==EVENT_WIDGET_DEATH thencall DestroyEffect(AddSpecialEffect("war3mapImported\\BlackDragonMissile.mdx",x,y))call GroupEnumUnitsInRange(g,x,y,300+25,Condition(function Y47))set GT7=ZN7set GS7=X97if GetTriggerEventId()!=EVENT_WIDGET_DEATH thencall ForGroup(g,function SDG)endifcall FlushChildHashtable(C7,(V_7))call NM7(t)endifcall T67(g)set t=nullset X97=nullset g=nullreturn falseendfunctionfunction SFG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local real WR7=GetSpellTargetX()local real WS7=GetSpellTargetY()local real a=W77(x,y,WR7,WS7)*bj_DEGTORADlocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerRegisterDeathEvent(t,X97)call TriggerAddCondition(t,Condition(function SEG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveReal(C7,(V_7),(137),((a)*1.0))call SaveReal(C7,(V_7),(47),((WR7)*1.0))call SaveReal(C7,(V_7),(48),((WS7)*1.0))set X97=nullset t=nullendfunctionfunction SGG takes nothing returns booleanif GetSpellAbilityId()=='A2F4' thencall SFG()endifreturn falseendfunctionfunction Register_SonicBoom takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SGG))set t=nullendfunctionfunction SHG takes nothing returns nothinglocal unit X97=GU7local unit U47=GetEnumUnit()call XJ7(U47,'A2F3',1,10)call ZO7(X97,U47,2,50*GV7+2*GetHeroAgi(X97,true))set X97=nullset U47=nullendfunctionfunction SIG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real SJG=VB7((TimerGetElapsed(P))-(LoadReal(C7,(GetHandleId(X97)),(358))),5.0)local integer ZN7=GetUnitAbilityLevel(X97,'A2EE')local real R09=(40+80*ZN7)*(SJG)local group g=TL7()local real d=SJG*600local real a=(LoadReal(C7,(GetHandleId(X97)),(736)))local real x=GetUnitX(X97)+d*Cos(a)local real y=GetUnitY(X97)+d*Sin(a)set I04=X97call GroupEnumUnitsInRange(g,x,y,325,Condition(function Y47))set GV7=ZN7set GU7=X97call ForGroup(g,function SHG)call T67(g)call V27("effects\\BasicWaterFlash.mdx",x,y,1)set X97=nullset g=nullendfunctionfunction SKG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit T_7=(LoadUnitHandle(C7,(V_7),(14)))call SetUnitTimeScale(T_7,1)call FlushChildHashtable(C7,(V_7))call NM7(t)if GetTriggerEventId()!=EVENT_UNIT_DEATH thencall JN7(T_7)endifset t=nullset T_7=nullreturn falseendfunctionfunction SMG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit T_7=GetTriggerUnit()local location l=GetSpellTargetLoc()local real x=GetLocationX(l)local real y=GetLocationY(l)local real a=W77(GetUnitX(T_7),GetUnitY(T_7),x,y)*bj_DEGTORADlocal real XA8=RMaxBJ(J87(GetUnitX(T_7),GetUnitY(T_7),x,y)/600,0.32)call RemoveLocation(l)call SaveReal(C7,(GetHandleId(T_7)),(356),((x)*1.0))call SaveReal(C7,(GetHandleId(T_7)),(357),((y)*1.0))call SaveReal(C7,(GetHandleId(T_7)),(736),((a)*1.0))call SaveReal(C7,(GetHandleId(T_7)),(358),(((TimerGetElapsed(P)))*1.0))call SetUnitTimeScale(T_7,0.75)call SaveUnitHandle(C7,(V_7),(14),(T_7))call TriggerRegisterTimerEvent(t,XA8-0.01,false)call TriggerRegisterUnitEvent(t,T_7,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function SKG))set t=nullset l=nullset T_7=nullendfunctionfunction SNG takes nothing returns booleanif GetSpellAbilityId()=='A2EE' thenif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_CAST thencall SaveBoolean(C7,(GetHandleId(GetTriggerUnit())),(360),(false))call SMG()elseif GetTriggerEventId()==EVENT_PLAYER_UNIT_SPELL_EFFECT thencall SaveBoolean(C7,(GetHandleId(GetTriggerUnit())),(360),(true))elseif(LoadBoolean(C7,(GetHandleId(GetTriggerUnit())),(360)))==true thencall SIG()endifendifreturn falseendfunctionfunction Register_WindBlast takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_CAST)call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SNG))set t=nullendfunctionfunction SOG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetUnitAbilityLevel(X97,'B086')==0 and GetUnitAbilityLevel(X97,'B087')==0 thencall FlushChildHashtable(C7,(V_7))call NM7(t)call UnitRemoveAbility(X97,'A2F2')call UnitRemoveAbility(X97,'B0F7')endifset t=nullset X97=nullreturn falseendfunctionfunction SPG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)local unit U47=GetSpellTargetUnit()call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2F2',false)call UW7(U47,'A2F2')call TriggerRegisterTimerEvent(t,0.2,true)call TriggerAddCondition(t,Condition(function SOG))call SaveUnitHandle(C7,(V_7),(2),(U47))set X97=nullset t=nullendfunctionfunction SQG takes nothing returns booleanif GetSpellAbilityId()=='A2F0' thencall SPG()endifreturn falseendfunctionfunction Register_WindBarrier takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SQG))set t=nullendfunctionfunction SRG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=GetUnitAbilityLevel(X97,'A2F5')local integer idlocal integer SSGcall FlushChildHashtable(C7,(V_7))call NM7(t)if IsUnitAlly(U47,GetOwningPlayer(X97))==true thenset SSG='B0F8'if ZN7==1 thenset id='A2FG'elseif ZN7==2 thenset id='A2FF'elseif ZN7==3 thenset id='A2FH'endifcall SetUnitState(U47,UNIT_STATE_LIFE,GetUnitState(U47,UNIT_STATE_LIFE)+100+50*ZN7)elseset SSG='B0F9'if ZN7==1 thenset id='A2FD'elseif ZN7==2 thenset id='A2FC'elseif ZN7==3 thenset id='A2FE'endifcall ZO7(X97,U47,1,100+50*ZN7)endifcall SetPlayerAbilityAvailable(GetOwningPlayer(U47),id,false)call XO7(U47,id,1,4,SSG)set t=nullset X97=nullset U47=nullreturn falseendfunctionfunction STG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetEnumUnit()local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call VO8(U47)call VK8(U47,0,0)call UnitAddAbility(ZM7,'A2FI')call IssueTargetOrder(ZM7,"cyclone",U47)call TriggerRegisterTimerEvent(t,4,false)call TriggerAddCondition(t,Condition(function SRG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(U47))set t=nullset X97=nullset U47=nullset ZM7=nullendfunctionfunction SUG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local real WR7=GetSpellTargetX()local real WS7=GetSpellTargetY()local group g=TL7()call WP7(GetOwningPlayer(X97),4,WR7,WS7,300)call GroupEnumUnitsInRange(g,WR7,WS7,400+25,Condition(function X37))call ForGroup(g,function STG)call T67(g)set X97=nullset g=nullendfunctionfunction SVG takes nothing returns booleanif GetSpellAbilityId()=='A2F5' thencall SUG()endifreturn falseendfunctionfunction Register_PrevailingWinds takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SVG))set t=nullendfunctionfunction SWG takes nothing returns nothinglocal integer V_7=GetHandleId(GetTriggeringTrigger())local unit X97=I04local unit U47=I_4local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local real R09=GetUnitAbilityLevel(X97,'A2FT')*60+40call UnitAddAbility(ZM7,'A2FU')call IssueTargetOrder(ZM7,"ensnare",U47)call ZO7(X97,U47,1,R09)set ZM7=nullset X97=nullset U47=nullendfunctionfunction SXG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local group g=TL7()local real x=GetUnitX(X97)local real y=GetUnitY(X97)local unit u1=nulllocal unit u2=nulllocal unit u3=nulllocal integer MAG=0local unit ulocal trigger tcall GroupEnumUnitsInRange(g,x,y,425,Condition(function YK7))loopexitwhen FirstOfGroup(g)==null or MAG==3set u=GroupPickRandomUnit(g)if u!=null thenif MAG==0 thenset u1=uelseif MAG==1 thenset u2=uelseif MAG==2 thenset u3=uendifset MAG=MAG+1call GroupRemoveUnit(g,u)endifendloopcall T67(g)if u1!=null thencall WX7(X97,u1,'h0DZ',"SWG",400)endifif u2!=null thencall WX7(X97,u2,'h0DZ',"SWG",400)endifif u3!=null thencall WX7(X97,u3,'h0DZ',"SWG",400)endifset g=nullset X97=nullset u=nullset u1=nullset u2=nullset u3=nullendfunctionfunction SYG takes nothing returns booleanif GetSpellAbilityId()=='A2FT' thencall SXG()endifreturn falseendfunctionfunction Register_HolyShackles takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function SYG))set t=nullendfunctionfunction SZG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local integer PT9=(LoadInteger(C7,(V_7),(30)))local unit X97=(LoadUnitHandle(C7,(V_7),(2)))local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer S08=(LoadInteger(C7,(GetHandleId(X97)),(737)))local trigger SAG=(LoadTriggerHandle(C7,(GetHandleId(X97)),(738)))if GetTriggerEventId()==EVENT_UNIT_DAMAGED thenif GetEventDamageSource()==X97 thencall DisableTrigger(t)call FlushChildHashtable(C7,(V_7))call NM7(t)set S08=S08-1if S08==0 thencall FlushChildHashtable(C7,(GetHandleId(SAG)))call NM7(SAG)call RemoveSavedHandle(C7,(GetHandleId(X97)),(738))call SaveInteger(C7,(GetHandleId(X97)),(737),(-1))call UnitRemoveAbility(X97,'A2FN')call UnitRemoveAbility(X97,'B0FA')elsecall SaveInteger(C7,(GetHandleId(X97)),(737),(S08))endifendifelsecall FlushChildHashtable(C7,(V_7))call NM7(t)endifset t=nullset U47=nullset X97=nullset SAG=nullreturn falseendfunctionfunction SBG takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit X97=(LoadUnitHandle(C7,(V_7),(2)))if GetTriggerEventId()!=EVENT_PLAYER_UNIT_ATTACKED thencall FlushChildHashtable(C7,(V_7))call NM7(t)call RemoveSavedHandle(C7,(GetHandleId(X97)),(738))call SaveInteger(C7,(GetHandleId(X97)),(737),(-1))call UnitRemoveAbility(X97,'A2FN')call UnitRemoveAbility(X97,'B0FA')elseif GetAttacker()==X97 thenset t=CreateTrigger()set V_7=GetHandleId(t)call TriggerRegisterUnitEvent(t,GetTriggerUnit(),EVENT_UNIT_DAMAGED)call TriggerRegisterTimerEvent(t,2,false)call TriggerAddCondition(t,Condition(function SZG))call SaveUnitHandle(C7,(V_7),(2),(X97))call SaveUnitHandle(C7,(V_7),(17),(GetTriggerUnit()))endifset t=nullset X97=nullreturn falseendfunctionfunction SCG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call SetPlayerAbilityAvailable(GetOwningPlayer(U47),'A2FN',false)call UW7(U47,'A2FN')call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterTimerEvent(t,12,false)call TriggerAddCondition(t,Condition(function SBG))call SaveUnitHandle(C7,(V_7),(2),(U47))call SaveInteger(C7,(GetHandleId(U47)),(737),(GetUnitAbilityLevel(X97,'A2FQ')+1))call SaveTriggerHandle(C7,(GetHandleId(U47)),(738),(t))set U47=nullset t=nullset X97=nullendfunctionfunction S3G takes nothing returns booleanif GetSpellAbilityId()=='A2FQ' thencall SCG()endifreturn falseendfunctionfunction Register_Focus takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S3G))set t=nullendfunctionfunction S6G takes nothing returns booleanlocal trigger t=GetTriggeringTrigger()local integer V_7=GetHandleId(t)local unit U47=(LoadUnitHandle(C7,(V_7),(17)))local integer ZN7=(LoadInteger(C7,(V_7),(5)))local unit ZM7if GetTriggerEvalCount(t)==1 thenset ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)call UnitAddAbility(ZM7,'A2FW')call IssueTargetOrder(ZM7,"doom",U47)endifif(ZN7+3)*10<GetTriggerEvalCount(t)thencall UnitRemoveAbility(U47,'B0FF')call UnitRemoveAbility(U47,'Avul')call UnitRemoveAbility(U47,'A04R')call UnitRemoveAbility(U47,'Abun')call DestroyEffect((LoadEffectHandle(C7,(V_7),(32))))call FlushChildHashtable(C7,(V_7))call NM7(t)elsecall VO8(U47)call VK8(U47,0,0)endifset t=nullset U47=nullreturn falseendfunctionfunction SLG takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local trigger t=CreateTrigger()local integer V_7=GetHandleId(t)call UW7(U47,'Avul')call UW7(U47,'Abun')call UW7(U47,'A04R')call TriggerRegisterTimerEvent(t,0.1,true)call TriggerAddCondition(t,Condition(function S6G))call SaveInteger(C7,(V_7),(5),(GetUnitAbilityLevel(X97,'A2FL')))call SaveUnitHandle(C7,(V_7),(17),(U47))call SaveEffectHandle(C7,(V_7),(32),(AddSpecialEffectTarget("Abilities\\Spells\\Human\\DivineShield\\DivineShieldTarget.mdl",U47,"origin")))call VO8(U47)call VK8(U47,0,0)set t=nullset U47=nullset X97=nullendfunctionfunction S1G takes nothing returns booleanif GetSpellAbilityId()=='A2FL' thencall SLG()endifreturn falseendfunctionfunction Register_DivineIntervention takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S1G))set t=nullendfunctionfunction S0G takes nothing returns nothinglocal unit X97=GetTriggerUnit()local unit U47=GetSpellTargetUnit()local unit ZM7=CreateUnit(GetOwningPlayer(U47),'e00E',GetUnitX(U47),GetUnitY(U47),0)local integer ZN7=GetUnitAbilityLevel(X97,'A2EO')call UnitAddAbility(ZM7,'A2EP')call IssuePointOrder(ZM7,"silence",GetUnitX(U47),GetUnitY(U47))call DestroyEffect(AddSpecialEffectTarget("war3mapImported\\FrozenOrb_NoTrail.mdx",U47,"chest"))call ZO7(X97,U47,1,ZN7*75)set X97=nullset ZM7=nullset U47=nullendfunctionfunction S5G takes nothing returns booleanif GetSpellAbilityId()=='A2EO' thencall S0G()endifreturn falseendfunctionfunction Register_Chill takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function S5G))set t=nullendfunctionfunction InitCustomTeams takes nothing returns nothingcall SetPlayerTeam(Player(1),0)call SetPlayerTeam(Player(2),0)call SetPlayerTeam(Player(3),0)call SetPlayerTeam(Player(4),0)call SetPlayerTeam(Player(5),0)call SetPlayerTeam(Player(7),1)call SetPlayerTeam(Player(8),1)call SetPlayerTeam(Player(9),1)call SetPlayerTeam(Player(10),1)call SetPlayerTeam(Player(11),1)endfunctionfunction S2G takes string S_G,string T4G,integer T7G returns integerlocal integer i=T7Glocal string T8G=nullloopexitwhen i==StringLength(S_G)set T8G=SubString(S_G,i,i+1)if(T8G==T4G)thenreturn iendifset i=i+1endloopreturn-1endfunctionfunction T9G takes nothing returns nothinglocal string TDG=GetEventPlayerChatString()local integer TEG=S2G(TDG," ",0)local integer TFG=S2G(TDG," ",TEG+1)local integer TGG=S2I(SubString(TDG,TEG,TFG+1))local string THG=SubString(TDG,TFG+1,StringLength(TDG))local boolean TIG=falselocal integer i=0set THG="+"+THGif TGG<12 thenloopexitwhen i==14if(THG==GetPlayerName(Player(i)))thenset TIG=trueendifset i=i+1endloopif((not TIG)and(TJ4>0)and(GetPlayerController(Player(TGG))==MAP_CONTROL_COMPUTER)and(TGG!=0)and(TGG!=6)and(TGG<12)and(StringLength(THG)<20))thencall H17("Renaming "+GetPlayerName(Player(TGG))+" : "+THG)set M74[TGG]=THGcall SetPlayerName(Player(TGG),THG)set TJ4=TJ4-1endifendifendfunctionfunction TJG takes nothing returns nothinglocal trigger t=CreateTrigger()local integer i=0loopexitwhen i==14call TriggerRegisterPlayerChatEvent(t,Player(i),"-rn ",false)set i=i+1endloopcall TriggerAddAction(t,function T9G)set t=nullendfunctionfunction TKG takes nothing returns nothingset WH4=CreateRegion()call RegionAddRect(WH4,ED)set WI4=CreateRegion()call RegionAddRect(WI4,FD)set WJ4=CreateRegion()call RegionAddRect(WJ4,MD)call RegionAddRect(WJ4,ND)call RegionAddRect(WJ4,OD)set WK4=CreateRegion()call RegionAddRect(WK4,PD)call RegionAddRect(WK4,QD)call RegionAddRect(WK4,WD)set J94=CreateRegion()call RegionAddRect(J94,XD)call RegionAddRect(J94,YD)call RegionAddRect(J94,ZD)call RegionAddRect(J94,AD)call RegionAddRect(J94,BD)call RegionAddRect(J94,LD)call RegionAddRect(J94,KE)call RegionAddRect(J94,RE)call RegionAddRect(J94,SE)call RegionAddRect(J94,WE)call RegionAddRect(J94,YE)call RegionAddRect(J94,EF)call RegionAddRect(J94,FF)call RegionAddRect(J94,GF)call RegionAddRect(J94,HF)call RegionAddRect(J94,JF)call RegionAddRect(J94,KF)call RegionAddRect(J94,MF)call RegionAddRect(J94,NF)call RegionAddRect(J94,OF)call RegionAddRect(J94,PF)call RegionAddRect(J94,QF)call RegionAddRect(J94,RF)call RegionAddRect(J94,SF)call RegionAddRect(J94,UF)call RegionAddRect(J94,WF)call RegionAddRect(J94,XF)call RegionAddRect(J94,YF)call RegionAddRect(J94,BF)call RegionAddRect(J94,CF)call RegionAddRect(J94,LF)call RegionAddRect(J94,DG)call RegionAddRect(J94,EG)call RegionAddRect(J94,FG)call RegionAddRect(J94,GG)call RegionAddRect(J94,JG)call RegionAddRect(J94,MG)call RegionAddRect(J94,OG)call RegionAddRect(J94,PG)call RegionAddRect(J94,QG)call RegionAddRect(J94,RG)call RegionAddRect(J94,SG)call RegionAddRect(J94,TG)call RegionAddRect(J94,UG)call RegionAddRect(J94,VG)call RegionAddRect(J94,WG)call RegionAddRect(J94,XG)call RegionAddRect(J94,ZG)call RegionAddRect(J94,AG)call RegionAddRect(J94,BG)call RegionAddRect(J94,CG)call RegionAddRect(J94,LG)call RegionAddRect(J94,DH)call RegionAddRect(J94,EH)call RegionAddRect(J94,HH)call RegionAddRect(J94,OH)call RegionAddRect(J94,PH)call RegionAddRect(J94,QH)call RegionAddRect(J94,RH)call RegionAddRect(J94,UH)call RegionAddRect(J94,WH)call RegionAddRect(J94,XH)call RegionAddRect(J94,YH)call RegionAddRect(J94,ZH)call RegionAddRect(J94,AH)call RegionAddRect(J94,CH)call RegionAddRect(J94,DI)call RegionAddRect(J94,EI)call RegionAddRect(J94,GI)call RegionAddRect(J94,HI)call RegionAddRect(J94,II)call RegionAddRect(J94,JI)call RegionAddRect(J94,NI)call RegionAddRect(J94,PI)call RegionAddRect(J94,SI)call RegionAddRect(J94,TI)call RegionAddRect(J94,UI)call RegionAddRect(J94,XI)call RegionAddRect(J94,YI)call RegionAddRect(J94,BI)call RegionAddRect(J94,CI)call RegionAddRect(J94,LI)call RegionAddRect(J94,TJ)call RegionAddRect(J94,UK)call RegionAddRect(J94,YK)call RegionAddRect(J94,SM)call RegionAddRect(J94,TM)call RegionAddRect(J94,UM)call RegionAddRect(J94,WM)call RegionAddRect(J94,YM)call RegionAddRect(J94,ZM)call RegionAddRect(J94,JN)call RegionAddRect(J94,MN)call RegionAddRect(J94,TN)call RegionAddRect(J94,UN)endfunctionfunction TMG takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddCondition(t,Condition(function PZF))set t=nullendfunctionfunction TNG takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerAddCondition(t,Condition(function P6F))call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)set WQ4=tset t=nullendfunctionfunction TOG takes nothing returns nothinglocal trigger t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function T9F))set t=nullendfunctionfunction TPG takes nothing returns nothinglocal trigger t=CreateTrigger()call TriggerRegisterTimerEvent(t,14.,false)call TriggerAddCondition(t,Condition(function OK9))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,false)call TriggerAddCondition(t,Condition(function OI9))set t=nullendfunctionfunction TQG takes nothing returns nothingset WM4=CreateTrigger()call TriggerRegisterTimerEventSingle(WM4,65.00)call TriggerAddAction(WM4,function OM9)endfunctionfunction TRG takes nothing returns nothingset WN4=CreateTrigger()call TriggerRegisterTimerEventSingle(WN4,90.00)call TriggerAddAction(WN4,function ON9)endfunctionfunction TSG takes nothing returns nothingset IQ4=CreateTrigger()call TriggerRegisterTimerEventSingle(IQ4,120.00)call TriggerAddAction(IQ4,function OO9)endfunctionfunction TTG takes nothing returns nothinglocal location AK8set AK8=GetRectCenter(Qr)set P4=CreateUnitAtLoc(Player(12),'n00L',AK8,bj_UNIT_FACING)call SetUnitAcquireRange(P4,150)call RemoveLocation(AK8)call UnitAddItem(P4,CreateItem(OU[T5],0,0))call UnitAddAbility(P4,'A142')set AK8=GetRectCenter(Br)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(cr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Cr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(fr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Fr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Hr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(jr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Jr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(lr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(mr)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Ni)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=GetRectCenter(Bi)call RemoveUnit(CreateUnitAtLoc(A7,'u001',AK8,0))call RemoveLocation(AK8)set AK8=nullendfunctionfunction aiAutoInitDEDG takes nothing returns nothingif not XT thencall KD9()endifif not QT thencall KE9()endifendfunctionfunction M39 takes nothing returns nothinglocal integer O5=1local integer TUG=0local integer TVG=0local boolean TWG=falselocal boolean TXG=falselocal trigger t=nullcall DestroyTrigger(GetTriggeringTrigger())if BK4 thenreturnendifset O5=1loopexitwhen(O5>5 or(X14!=null and X04!=null))if(GetPlayerSlotState(Y7[O5])==PLAYER_SLOT_STATE_PLAYING)and X14==null thenset X14=Y7[O5]endifif(GetPlayerSlotState(Z7[O5])==PLAYER_SLOT_STATE_PLAYING)and X04==null thenset X04=Z7[O5]endifset O5=O5+1endloopset O5=1loopexitwhen O5>5if R97(Y7[O5])thenif(TUG<3)thenset eY[64+GetPlayerId(Y7[O5])]=TUGelseif(TUG==3)thenset eY[64+GetPlayerId(Y7[O5])]=0elseset eY[64+GetPlayerId(Y7[O5])]=GetRandomInt(1,2)endifcall ForceAddPlayer(QP4,Y7[O5])set TUG=TUG+1set TWG=trueendifif R97(Z7[O5])thenif(TVG<3)thenset eY[64+GetPlayerId(Z7[O5])]=TVGelseif(TVG==3)thenset eY[64+GetPlayerId(Z7[O5])]=0elseset eY[64+GetPlayerId(Z7[O5])]=GetRandomInt(1,2)endifcall ForceAddPlayer(QP4,Z7[O5])set TVG=TVG+1set TXG=trueendifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(R97(Y7[O5]))thencall FGF(Y7[O5],TUG)endifif(R97(Z7[O5]))thencall FGF(Z7[O5],TVG)endifset O5=O5+1endloopif((TWG)or(TXG))thenset O5=1loopexitwhen O5>5if R97(Y7[O5])thencall FFF(Y7[O5])endifif R97(Z7[O5])thencall FFF(Z7[O5])endifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(R87(Y7[O5]))thenset QK4=Y7[O5]if(TWG)thencall DisplayTimedTextToForce(W7,10.,K[GetPlayerId(QK4)]+GetPlayerName(QK4)+" |cffffcc00has been selected as AI leader of |r"+K[0]+GetPlayerName(Y7[0])+"|r")call DisplayTimedTextToPlayer(QK4,0,0,10.,"|cffffcc00You can order all ally AI using special commands (read Map Info).")call GY9(QK4)elseset E47=falseendifexitwhen trueendifset O5=O5+1endloopset O5=1loopexitwhen O5>5if(R87(Z7[O5]))thenset QM4=Z7[O5]if(TXG)thencall DisplayTimedTextToForce(X7,10.,K[GetPlayerId(QM4)]+GetPlayerName(QM4)+" |cffffcc00has been selected as AI leader of |r"+K[6]+GetPlayerName(Z7[0])+"|r")call DisplayTimedTextToPlayer(QM4,0,0,10.,"|cffffcc00You can order all ally AI using special commands (read Map Info).")call GY9(QM4)elseset E77=falseendifexitwhen trueendifset O5=O5+1endloopif(TWG and QK4==null and QM4!=null)thencall DisplayTimedTextToPlayer(QM4,0,0,10.,"|cffffcc00ADDED ENEMY AI COMMANDS: -osden, -oden, -oaen|r")endifif(TXG and QK4!=null and QM4==null)thencall DisplayTimedTextToPlayer(QK4,0,0,10.,"|cffffcc00ADDED ENEMY AI COMMANDS: -osden, -oden, -oaen|r")endifset LT4=CreateTrigger()call FHF(LT4,true,TWG,TXG)call TriggerAddAction(LT4,function EGF)set LU4=CreateTrigger()call FHF(LU4,false,TXG,TWG)call TriggerAddAction(LU4,function EGF)call TriggerAddAction(QR4,function POE)if((not W)and(not RJ4)and(not Y8)and(not O04)and(not O54)and(not IJ4)and(not F9)and(not O34)and(not R8)and(not RA4))thenset t=CreateTrigger()if(QK4!=null)thencall TriggerRegisterPlayerChatEvent(t,QK4,"-airepick",false)call DisplayTimedTextToPlayer(QK4,0,0,10.,"You can make AI repick their hero using "+EV7+"-airepick|r")endifif(QM4!=null)thencall TriggerRegisterPlayerChatEvent(t,QM4,"-airepick",false)call DisplayTimedTextToPlayer(QM4,0,0,10.,"You can make AI repick their hero using "+EV7+"-airepick|r")endifcall TriggerAddAction(t,function PNE)endifif(QK4!=null)thenset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,QK4,"-aigrant",false)call TriggerAddAction(t,function FNF)endifif(QM4!=null)thenset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,QM4,"-aigrant",false)call TriggerAddAction(t,function FNF)endifset t=CreateTrigger()call TriggerAddAction(t,function PNE)call DisplayTimedTextToPlayer(QK4,0,0,10.," ")call DisplayTimedTextToPlayer(QM4,0,0,10.," ")if(S54)thenset S24[1]=OU[C5]set S24[2]=OU[L5]set S24[3]=OU[E2]set S24[4]=OU[F2]set S24[5]=OU[H2]set S_4[1]=180.set S_4[2]=160.set S_4[3]=140.set S_4[4]=120.set S_4[5]=100.endifcall SWE()set QV4=CreateTrigger()call TriggerRegisterUnitInRange(QV4,K84,6000.,null)call TriggerAddCondition(QV4,Condition(function TPE))call DisableTrigger(QV4)set QX4=CreateTrigger()call TriggerRegisterTimerEvent(QX4,5.,true)call TriggerAddCondition(QX4,Condition(function TQE))call DisableTrigger(QX4)set QU4=CreateTrigger()call TriggerRegisterUnitInRange(QU4,JH4,6000.,null)call TriggerAddCondition(QU4,Condition(function TRE))call DisableTrigger(QU4)set QW4=CreateTrigger()call TriggerRegisterTimerEvent(QW4,5.,true)call TriggerAddCondition(QW4,Condition(function TSE))call DisableTrigger(QW4)set DT7[0]=GetUnitX(JH4)set DT7[1]=GetUnitY(JH4)set DT7[2]=(GetUnitX(JT4)+GetUnitX(J34)+GetUnitX(J64))/3set DT7[3]=(GetUnitY(JT4)+GetUnitY(J34)+GetUnitY(J64))/3set DT7[4]=(GetUnitX(JU4)+GetUnitX(JL4)+GetUnitX(J54))/3set DT7[5]=(GetUnitY(JU4)+GetUnitY(JL4)+GetUnitY(J54))/3set DT7[6]=(GetUnitX(JV4)+GetUnitX(J14)+GetUnitX(J24))/3set DT7[7]=(GetUnitY(JV4)+GetUnitY(J14)+GetUnitY(J24))/3set DT7[8]=(GetUnitX(JW4)+GetUnitX(J04)+GetUnitX(J_4))/3set DT7[9]=(GetUnitY(JW4)+GetUnitY(J04)+GetUnitY(J_4))/3set DT7[24]=GetUnitX(K84)set DT7[25]=GetUnitY(K84)set DT7[26]=(GetUnitX(KE4)+GetUnitX(KP4)+GetUnitX(KQ4))/3set DT7[27]=(GetUnitY(KE4)+GetUnitY(KP4)+GetUnitY(KQ4))/3set DT7[28]=(GetUnitX(KF4)+GetUnitX(KR4)+GetUnitX(KU4))/3set DT7[29]=(GetUnitY(KF4)+GetUnitY(KR4)+GetUnitY(KU4))/3set DT7[30]=(GetUnitX(KG4)+GetUnitX(KS4)+GetUnitX(KV4))/3set DT7[31]=(GetUnitY(KG4)+GetUnitY(KS4)+GetUnitY(KV4))/3set DT7[32]=(GetUnitX(KH4)+GetUnitX(KT4)+GetUnitX(KW4))/3set DT7[33]=(GetUnitY(KH4)+GetUnitY(KT4)+GetUnitY(KW4))/3set O5=0loopexitwhen O5>23set DS7[O5]=nullset DS7[24+O5]=nullset O5=O5+1endloopset t=CreateTrigger()call TriggerRegisterUnitInRange(t,K84,1200.,QA4)call TriggerAddCondition(t,Condition(function VZE))call TriggerAddAction(t,function VCE)set t=CreateTrigger()call TriggerRegisterUnitInRange(t,JH4,1200.,QA4)call TriggerAddCondition(t,Condition(function VAE))call TriggerAddAction(t,function VCE)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function CXE))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,45.,false)call TriggerAddAction(t,function FMF)set O5=1loopif(IsPlayerInForce(Player(O5),QP4))thenset QY4[O5]=CreateTrigger()call TriggerRegisterPlayerUnitEvent(QY4[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,QA4)call TriggerRegisterPlayerUnitEvent(QY4[O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,QA4)call TriggerAddCondition(QY4[O5],Condition(function BZE))call TriggerAddAction(QY4[O5],function BAE)set QY4[16+O5]=CreateTrigger()call TriggerRegisterPlayerUnitEvent(QY4[16+O5],Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,QA4)call TriggerAddCondition(QY4[16+O5],Condition(function BZE))call TriggerAddAction(QY4[16+O5],function BLE)set QY4[96+O5]=CreateTrigger()call DisableTrigger(QY4[96+O5])call TriggerRegisterTimerEvent(QY4[16+O5],0.5,true)call TriggerAddCondition(QY4[96+O5],Condition(function OJ7))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function VXE))call TriggerAddAction(t,function VYE)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function V3E))call TriggerAddAction(t,function V6E)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,QA4)call TriggerAddCondition(t,Condition(function UHE))call TriggerAddAction(t,function UIE)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_USE_ITEM,QA4)call TriggerAddCondition(t,Condition(function QF7))call TriggerAddAction(t,function B1E)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function CPE))call TriggerAddAction(t,function CQE)endifif(GetPlayerSlotState(Player(O5))==PLAYER_SLOT_STATE_PLAYING)thenset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,QA4)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,QA4)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_ORDER,QA4)call TriggerAddCondition(t,Condition(function BYE))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_DEATH,QA4)call TriggerAddCondition(t,Condition(function VWE))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function V1E))call TriggerAddAction(t,function W8E)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,QA4)call TriggerAddCondition(t,Condition(function WDE))call TriggerAddAction(t,function WEE)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,QA4)call TriggerAddCondition(t,Condition(function QG7))call TriggerAddAction(t,function C4E)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_FINISH,QA4)call TriggerAddCondition(t,Condition(function QG7))call TriggerAddAction(t,function C9E)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,QA4)call TriggerAddCondition(t,Condition(function QG7))call TriggerAddAction(t,function CEE)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_EFFECT,QA4)call TriggerAddCondition(t,Condition(function COE))call TriggerAddAction(t,function CQE)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_CAST,QA4)call TriggerAddCondition(t,Condition(function LDE))call TriggerAddAction(t,function DOF)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_SPELL_ENDCAST,QA4)call TriggerAddAction(t,function DQF)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER,QA4)call TriggerRegisterPlayerUnitEvent(t,Player(O5),EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER,QA4)call TriggerAddCondition(t,Condition(function B3E))call TriggerAddAction(t,function B6E)if GetPlayerController(Player(O5))==MAP_CONTROL_USER and(not RA4)thencall MV9(Player(O5),true)call MW9(Player(O5),true)endifendifset O5=O5+1exitwhen O5>11endloopset t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function WHE))call TriggerAddAction(t,function WME)call X7E()set t=CreateTrigger()call B6(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function CFE))call TriggerAddAction(t,function CME)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_DEATH,QA4)call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,QA4)call TriggerAddCondition(t,Condition(function WNE))set t=CreateTrigger()call c6(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerRegisterPlayerUnitEvent(t,Player(12),EVENT_PLAYER_UNIT_ATTACKED,QA4)call TriggerAddCondition(t,Condition(function CFE))call TriggerAddAction(t,function CME)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,200.,false)call TriggerAddAction(t,function FEF)set FN7=CreateTrigger()call TriggerRegisterTimerEvent(FN7,14.,true)call TriggerAddAction(FN7,function EKF)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,A7,EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerAddAction(t,function XOE)set PU4=trueset PV4=trueif(((KL7(true)==1)and(KL7(false)>2))or((KL7(true)==2)and(KL7(false)==5)))thenset PX4=10elseset PX4=GetRandomInt(11,15)endifif(((KL7(false)==1)and(KL7(true)>2))or((KL7(false)==2)and(KL7(true)==5)))thenset PW4=10elseset PW4=GetRandomInt(11,15)endifif(D4)thencall S_7(bj_FORCE_ALL_PLAYERS,30.,"
The AI has a system that enables them to simulate Item Drop Mode
They keep a duplicate of dropped items in exchange for their gold")endifelsecall DestroyTrigger(HK)call DestroyTrigger(QQ4)call DestroyTrigger(HN)call DestroyTrigger(Ho)call DestroyTrigger(QR4)set QR4=nullcall DestroyTrigger(Hn)call DestroyTrigger(QS4)call ForceClear(QP4)endifif(not Y4)thencall DestroyTrigger(JS)endifif(not UT)thencall DestroyTrigger(QT4)endifcall VQ7('A06I')call VQ7('A1MI')if IG4!=0 thenset D77=5/I2R(IG4)endifif IH4!=0 thenset D87=5/I2R(IH4)endifset t=nullendfunctionfunction main takes nothing returns nothinglocal weathereffect welocal integer ilocal player plocal unit ulocal integer unitIDlocal trigger tlocal real lifelocal integer WI7local integer TYGlocal version TZGlocal integer M6Flocal real TAGlocal real TBGlocal real TCGlocal real T3Glocal real T6Glocal real TLGlocal real T1Glocal real T0Glocal real T5Glocal real T2Glocal real T_Glocal real U4Glocal real U7Glocal real U8Glocal real U9Glocal real UDGlocal real UEGlocal real UFGlocal real UGGlocal real UHGlocal integer A27local player j8local real UIGlocal real UJGlocal real UKGlocal real UMGlocal real UNGlocal real UOGlocal real UPGlocal real UQGlocal real URGlocal real USGlocal real UTGlocal real UUGlocal real UVGlocal real UWGlocal real UXGlocal real UYGlocal real UZGlocal real UAGlocal real UBGlocal real UCGlocal real U3Glocal real U6Glocal real ULGlocal real U1Glocal location AK8local region GQDlocal integer NO7local integer xlocal integer ycall TJG()call SetCameraBounds(-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),-7552.0+GetCameraMargin(CAMERA_MARGIN_LEFT),7424.0-GetCameraMargin(CAMERA_MARGIN_TOP),7552.0-GetCameraMargin(CAMERA_MARGIN_RIGHT),-7936.0+GetCameraMargin(CAMERA_MARGIN_BOTTOM))call SetDayNightModels("Environment\\DNC\\DNCFelwood\\DNCFelwoodTerrain\\DNCFelwoodTerrain.mdl","Environment\\DNC\\DNCFelwood\\DNCFelwoodUnit\\DNCFelwoodUnit.mdl")call SetWaterBaseColor(0,0,255,255)call NewSoundEnvironment("Default")call SetAmbientDaySound("FelwoodDay")call SetAmbientNightSound("FelwoodNight")call SetMapMusic("Music",true,0)set yE=CreateSound("Abilities\\Spells\\Human\\Avatar\\Avatar.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(yE,"Avatar")call SetSoundDuration(yE,3199)set zE=CreateSound("Abilities\\Spells\\NightElf\\Blink\\BlinkArrival1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(zE,"BlinkTarget")call SetSoundDuration(zE,1466)call SetSoundPitch(zE,1.6)set vX=CreateSound("Abilities\\Spells\\Human\\Blizzard\\BlizzardLoop1.wav",true,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(vX,"BlizzardLoop")call SetSoundDuration(vX,4000)set ZN=CreateSound("Buildings\\Undead\\TempleOfTheDamned\\TempleOfTheDamnedWhat.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(ZN,"TempleOfTheDamnedWhat")call SetSoundDuration(ZN,3518)call SetSoundDistanceCutoff(ZN,2000.0)set BN=CreateSound("Abilities\\Spells\\Human\\Flare\\FlareTarget2.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(BN,"Flare2")call SetSoundDuration(BN,1344)call SetSoundDistanceCutoff(BN,2000.0)set aX=CreateSound("Sounds\\Dominating.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(aX,1802)call SetSoundChannel(aX,0)call SetSoundVolume(aX,127)call SetSoundPitch(aX,1.0)set nX=CreateSound("Sounds\\Double_Kill.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(nX,2012)call SetSoundChannel(nX,0)call SetSoundVolume(nX,127)call SetSoundPitch(nX,1.0)set EX=CreateSound("Sounds\\firstblood.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(EX,1567)call SetSoundChannel(EX,0)call SetSoundVolume(EX,127)call SetSoundPitch(EX,1.0)set OX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(OX,"GoblinSapperPissed")call SetSoundDuration(OX,1515)call SetSoundChannel(OX,0)set AX=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack1.wav",false,false,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(AX,"GoblinSapperYesAttack")call SetSoundDuration(AX,813)call SetSoundChannel(AX,0)set NX=CreateSound("Sounds\\GodLike.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(NX,1828)call SetSoundChannel(NX,0)call SetSoundVolume(NX,127)call SetSoundPitch(NX,1.0)set bX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(bX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(bX,1948)set BX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(BX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(BX,1733)set cX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(cX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(cX,3570)set CX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(CX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(CX,3576)set fX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(fX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(fX,3558)set kX=CreateSound("Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(kX,"HEROGoblinALCHEMISTPissed")call SetSoundDuration(kX,10867)set LX=CreateSound("Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(LX,"HeroBladeMasterPissed")call SetSoundDuration(LX,2235)set mX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(mX,"HeroDreadLordPissed")call SetSoundDuration(mX,2921)set MX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(MX,"HeroDreadLordPissed")call SetSoundDuration(MX,7125)set PX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(PX,"HeroDreadLordPissed")call SetSoundDuration(PX,3998)set qX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(qX,"HeroDreadLordPissed")call SetSoundDuration(qX,1727)set QX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(QX,"HeroDreadLordPissed")call SetSoundDuration(QX,8893)set tX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(tX,"HeroDreadLordPissed")call SetSoundDuration(tX,6066)set TX=CreateSound("Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(TX,"HeroDreadLordPissed")call SetSoundDuration(TX,1277)set uX=CreateSound("Sounds\\HolyShit.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(uX,2325)call SetSoundChannel(uX,0)call SetSoundVolume(uX,127)call SetSoundPitch(uX,1.0)set UX=CreateSound("Buildings\\NightElf\\MoonWell\\MoonWellWhat1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(UX,"MoonWellWhat")call SetSoundDuration(UX,2972)call SetSoundDistances(UX,600.0,10000.0)call SetSoundDistanceCutoff(UX,2000.0)set JO=CreateSound("Abilities\\Spells\\Human\\MarkOfChaos\\MarkOfChaos.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(JO,"MarkOfChaos")call SetSoundDuration(JO,4000)set eO=CreateSound("Sounds\\Killing_Spree.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(eO,2377)call SetSoundChannel(eO,0)call SetSoundVolume(eO,127)call SetSoundPitch(eO,1.0)set oO=CreateSound("Sound\\Buildings\\Death\\NightElfBuildingDeathSmall1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(oO,"DeathNightElfBuildingCancel")call SetSoundDuration(oO,3675)set rO=CreateSound("Sounds\\MegaKill.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(rO,2612)call SetSoundChannel(rO,0)call SetSoundVolume(rO,127)call SetSoundPitch(rO,1.0)set aO=CreateSound("Abilities\\Spells\\NightElf\\ShadowMeld\\ShadowMeld1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(aO,"ShadowMeld")call SetSoundDuration(aO,941)set VO=CreateSound("Sounds\\MonsterKill.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(VO,3344)call SetSoundChannel(VO,0)call SetSoundVolume(VO,127)call SetSoundPitch(VO,1.0)set EO=CreateSound("Units\\Creeps\\Ogre\\OgrePissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(EO,"OgrePissed")call SetSoundDuration(EO,3309)set XO=CreateSound("Sounds\\Ownage.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(XO,2586)call SetSoundChannel(XO,0)call SetSoundVolume(XO,127)call SetSoundPitch(XO,1.0)set OO=CreateSound("Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(OO,"PandarenBrewmasterPissed")call SetSoundDuration(OO,2316)set AO=CreateSound("Abilities\\Spells\\Human\\Polymorph\\PolymorphDone.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(AO,"PolymorphDone")call SetSoundDuration(AO,1498)set NO=CreateSound("Buildings\\Naga\\TempleofTides\\TempleOfTidesWhat1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(NO,"TempleOfTidesWhat")call SetSoundDuration(NO,3483)call SetSoundDistanceCutoff(NO,2000.0)set bO=CreateSound("Buildings\\Undead\\TombOfRelics\\TombOfRelicsWhat1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(bO,"TombOfRelicsWhat")call SetSoundDuration(bO,3065)call SetSoundDistanceCutoff(bO,2000.0)set BO=CreateSound("Abilities\\Spells\\Orc\\Disenchant\\Disenchant.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(BO,"Disenchant")call SetSoundDuration(BO,2043)set cO=CreateSound("Sound\\Interface\\Rescue.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(cO,"Rescue")call SetSoundDuration(cO,3796)set CO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(CO,"RiflemanPissed")call SetSoundDuration(CO,3158)set fO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed2.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(fO,"RiflemanPissed")call SetSoundDuration(fO,1306)set FO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed3.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(FO,"RiflemanPissed")call SetSoundDuration(FO,2624)set gO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed4.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(gO,"RiflemanPissed")call SetSoundDuration(gO,3785)set hO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed5.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(hO,"RiflemanPissed")call SetSoundDuration(hO,4168)set HO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed6.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(HO,"RiflemanPissed")call SetSoundDuration(HO,2810)set kO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed7.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(kO,"RiflemanPissed")call SetSoundDuration(kO,4609)set lO=CreateSound("Units\\Human\\Rifleman\\RiflemanPissed8.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(lO,"RiflemanPissed")call SetSoundDuration(lO,5480)set mO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(mO,"HeroShadowHunterPissed")call SetSoundDuration(mO,2293)set pO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(pO,"HeroShadowHunterPissed")call SetSoundDuration(pO,1789)set qO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(qO,"HeroShadowHunterPissed")call SetSoundDuration(qO,2301)set QO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(QO,"HeroShadowHunterPissed")call SetSoundDuration(QO,2752)set tO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(tO,"HeroShadowHunterPissed")call SetSoundDuration(tO,3129)set UO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(UO,"HeroShadowHunterPissed")call SetSoundDuration(UO,1666)set wO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(wO,"HeroShadowHunterPissed")call SetSoundDuration(wO,1187)set WO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(WO,"HeroShadowHunterPissed")call SetSoundDuration(WO,2148)set zO=CreateSound("Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav",false,true,true,10,10,"HeroAcksEAX")call SetSoundParamsFromLabel(zO,"HeroShadowHunterPissed")call SetSoundDuration(zO,2026)set vR=CreateSound("Abilities\\Spells\\Undead\\Sleep\\SleepBirth1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(vR,"Sleep")call SetSoundDuration(vR,3203)set eR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(eR,"SpellBreakerPissed")call SetSoundDuration(eR,3901)set oR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(oR,"SpellBreakerPissed")call SetSoundDuration(oR,3367)set rR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(rR,"SpellBreakerPissed")call SetSoundDuration(rR,3651)set aR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(aR,"SpellBreakerPissed")call SetSoundDuration(aR,2490)set RR=CreateSound("Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(RR,"SpellBreakerPissed")call SetSoundDuration(RR,14402)set bR=CreateSound("Abilities\\Spells\\Undead\\DevourMagic\\DevourMagic.wav",false,true,true,10,10,"MissilesEAX")call SetSoundParamsFromLabel(bR,"DevourMagicLaunch")call SetSoundDuration(bR,1225)set BR=CreateSound("Abilities\\Spells\\Other\\BlackArrow\\TheBlackArrow.wav",false,true,true,10,10,"MissilesEAX")call SetSoundParamsFromLabel(BR,"BlackArrowHit")call SetSoundDuration(BR,1776)call SetSoundVolume(BR,50)set TO=CreateSound("Sound\\Ambient\\DoodadEffects\\TheHornOfCenarius.wav",false,false,false,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(TO,"HornOfCenariusSound")call SetSoundDuration(TO,12121)call SetSoundVolume(TO,115)set CR=CreateSound("Sounds\\triple_kill.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(CR,1907)call SetSoundChannel(CR,0)call SetSoundVolume(CR,127)call SetSoundPitch(CR,1.0)set fR=CreateSound("Sounds\\Unstoppable.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(fR,2038)call SetSoundChannel(fR,0)call SetSoundVolume(fR,127)call SetSoundPitch(fR,1.0)set YO=CreateSound("Abilities\\Spells\\Human\\DivineShield\\PaladinDivineShieldDeath1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(YO,"DivineShieldDeath")call SetSoundDuration(YO,1043)call SetSoundDistanceCutoff(YO,1500.0)set hR=CreateSound("Abilities\\Spells\\Items\\AIso\\SoulGem.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(hR,"SoulGem")call SetSoundDuration(hR,4474)set HR=CreateSound("Sounds\\WhickedSick.mp3",false,false,false,10,10,"DefaultEAXON")call SetSoundDuration(HR,2612)call SetSoundChannel(HR,0)call SetSoundVolume(HR,127)call SetSoundPitch(HR,1.0)set JR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(JR,"WitchDoctorPissed")call SetSoundDuration(JR,1282)set lR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(lR,"WitchDoctorPissed")call SetSoundDuration(lR,1248)set LR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(LR,"WitchDoctorPissed")call SetSoundDuration(LR,1524)set mR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(mR,"WitchDoctorPissed")call SetSoundDuration(mR,1200)set pR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(pR,"WitchDoctorPissed")call SetSoundDuration(pR,2762)set PR=CreateSound("Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(PR,"WitchDoctorPissed")call SetSoundDuration(PR,2849)set qR=CreateSound("Units\\Creeps\\GoblinSapper\\GoblinSapperYesAttack4.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(qR,"GoblinSapperYesAttack")call SetSoundDuration(qR,1091)call SetSoundChannel(qR,0)set QR=CreateSound("Abilities\\Spells\\NightElf\\shadowstrike\\ShadowStrikeBirth1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(QR,"ShadowStrikeBirth")call SetSoundDuration(QR,2194)call SetSoundPitch(QR,1.2)set sR=CreateSound("Abilities\\Spells\\NightElf\\CorrosiveBreath\\CorrosiveBreathMissileLaunch1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(sR,"CorrosiveBreathMissileLaunch")call SetSoundDuration(sR,1301)call SetSoundPitch(sR,1.2)set SR=CreateSound("Sound\\Interface\\Warning\\NightElf\\SentinelAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(SR,"AllyHeroDiesNightElf")call SetSoundDuration(SR,1963)call SetSoundVolume(SR,127)set UR=CreateSound("Sound\\Interface\\Warning\\Undead\\NecromancerAllyHeroDies1.wav",false,false,false,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(UR,"AllyHeroDiesUndead")call SetSoundDuration(UR,1933)call SetSoundVolume(UR,127)set WR=CreateSound("Abilities\\Spells\\Human\\ReviveHuman\\ReviveHuman.wav",false,false,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(WR,"ReviveHuman")call SetSoundDuration(WR,3196)call SetSoundChannel(WR,8)set zR=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(zR,"SecretFound")call SetSoundDuration(zR,2525)set ZO=CreateSound("Sounds\\UltraKill.mp3",false,false,false,10,10,"")call SetSoundDuration(ZO,1958)call SetSoundChannel(ZO,0)call SetSoundVolume(ZO,127)call SetSoundPitch(ZO,1.0)set LO=CreateSound("Sounds\\Rampage.mp3",false,false,false,10,10,"")call SetSoundDuration(LO,1195)call SetSoundChannel(LO,0)call SetSoundVolume(LO,127)call SetSoundPitch(LO,1.0)set eI=CreateSound("Units\\Orc\\AncestralGuardian\\AncestralGuardianAttack1.wav",false,true,true,10,10,"CombatSoundsEAX")call SetSoundParamsFromLabel(eI,"AncestralGuardianAttack1")call SetSoundDuration(eI,1181)set oI=CreateSound("Abilities\\Spells\\Human\\Feedback\\Feedback.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(oI,"Feedback")call SetSoundDuration(oI,1222)set DP=CreateSound("Units\\Undead\\Abomination\\AbominationPissed5.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(DP,"AbominationPissed")call SetSoundDuration(DP,1735)set EP=CreateSound("Sound\\Units\\Death\\ArtilleryCorpseExplodeDeath1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(EP,"ArtilleryExplodeDeath")call SetSoundDuration(EP,1486)set RI=CreateSound("Units\\Undead\\CryptFiend\\CryptFiendPissed2.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(RI,"CryptFiendPissed")call SetSoundDuration(RI,3541)set GP=CreateSound("Units\\Undead\\Banshee\\BansheeDeath.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(GP,"BansheeDeath")call SetSoundDuration(GP,2380)set U84=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(U84,"FlameStrikeTarget")call SetSoundDuration(U84,1927)set U94=CreateSound("Abilities\\Spells\\Other\\Volcano\\VolcanoLoop.wav",false,false,false,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(U94,"VolcanoLoop")call SetSoundDuration(U94,7616)set UD4=CreateSound("Abilities\\Spells\\Human\\ThunderClap\\ThunderClapCaster.wav",false,false,false,10,10,"SpellsEAX")call SetSoundParamsFromLabel(UD4,"ThunderClap")call SetSoundDuration(UD4,3451)set UE4=CreateSound("Abilities\\Spells\\Orc\\MirrorImage\\MirrorImage.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(UE4,"MirrorImage")call SetSoundDuration(UE4,1756)set UF4=CreateSound("Abilities\\Spells\\Human\\CloudOfFog\\CloudOfFogLoop1.wav",true,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(UF4,"CloudOfFogLoop")call SetSoundDuration(UF4,2038)call SetSoundPitch(UF4,0.9)set UN4=CreateSound("Units\\Human\\Gyrocopter\\GyrocopterPissed1.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(UN4,"GyrocopterPissed")call SetSoundDuration(UN4,3913)set UO4="Sound\\Music\\mp3Music\\Tension.mp3"set UP4="Sound\\Music\\mp3Music\\ArthasTheme.mp3"set UQ4="Sound\\Music\\mp3Music\\NightElfDefeat.mp3"set UR4="Sound\\Music\\mp3Music\\NightElfVictory.mp3"set US4=CreateSound("Sound\\Interface\\SecretFound.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(US4,"SecretFound")call SetSoundDuration(US4,2525)set UT4=CreateSound("Sound\\Interface\\Hint.wav",false,false,false,10,10,"")call SetSoundParamsFromLabel(UT4,"Hint")call SetSoundDuration(UT4,2006)set WT4=CreateSound("war3mapImported\\pl_impact_stun.mp3",false,true,true,10,10,"SpellsEAX")call SetSoundDuration(WT4,1340)call SetSoundChannel(WT4,11)call SetSoundVolume(WT4,127)call SetSoundPitch(WT4,1.0)call SetSoundDistances(WT4,600.0,10000.0)call SetSoundDistanceCutoff(WT4,2000.0)call SetSoundConeAngles(WT4,0.0,0.0,127)call SetSoundConeOrientation(WT4,0.0,0.0,0.0)set WU4=CreateSound("Sound\\Buildings\\Fire\\OrcHumanLargeBuildingFire1.wav",true,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(WU4,"HumanFireLarge")call SetSoundDuration(WU4,3471)set WV4=CreateSound("Units\\Human\\Phoenix\\PhoenixEggWhat1.wav",false,false,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(WV4,"PhoenixEggWhat")call SetSoundDuration(WV4,1579)call SetSoundChannel(WV4,0)set Y14=CreateSound("Abilities\\Spells\\NightElf\\BattleRoar\\BattleRoar.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Y14,"BattleRoar")call SetSoundDuration(Y14,1991)set Y04=CreateSound("Buildings\\Undead\\Ziggurat\\ZigguratUpgrade.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(Y04,"ZigguratUpgradeWhat")call SetSoundDuration(Y04,4203)call SetSoundDistances(Y04,600.0,10000.0)call SetSoundDistanceCutoff(Y04,3000.0)set Y54=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealMissile.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Y54,"SpellStealMissileLaunch")call SetSoundDuration(Y54,1541)set Y24=CreateSound("Abilities\\Spells\\Human\\SpellSteal\\SpellStealTarget.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Y24,"SpellStealTarget")call SetSoundDuration(Y24,984)set Y_4=CreateSound("Abilities\\Spells\\Undead\\UndeadMine\\AcolyteMining.wav",false,true,true,10,10,"DefaultEAXON")call SetSoundParamsFromLabel(Y_4,"AcolyteMining")call SetSoundDuration(Y_4,4233)call SetSoundChannel(Y_4,0)set Z44=CreateSound("Abilities\\Weapons\\AvengerMissile\\DestroyerMissile.wav",false,true,true,10,10,"MissilesEAX")call SetSoundParamsFromLabel(Z44,"DestroyerMissileLaunch")call SetSoundDuration(Z44,817)set Z74=CreateSound("Abilities\\Spells\\Undead\\ReplenishMana\\SpiritTouch.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Z74,"SpiritTouch")call SetSoundDuration(Z74,2043)call SetSoundChannel(Z74,11)set Z84=CreateSound("Abilities\\Spells\\Human\\FlameStrike\\FlameStrikeTargetWaveNonLoop1.wav",false,true,true,10,10,"SpellsEAX")call SetSoundParamsFromLabel(Z84,"FlameStrikeTarget")call SetSoundDuration(Z84,1927)set pH=Rect(6900,-7800,7600,-7000)set go=Rect(6176.0,3136.0,6400.0,3392.0)set jo=Rect(3616.0,3584.0,3872.0,3872.0)set lo=Rect(2304.0,5280.0,2752.0,5728.0)set Y9=Rect(6176.0,5952.0,6624.0,6240.0)set Qo=Rect(-4224.0,-6848.0,-3968.0,-6592.0)set to=Rect(-6304.0,-4384.0,-6080.0,-4224.0)set Uo=Rect(-4928.0,-5760.0,-4736.0,-5536.0)set wo=Rect(6048.0,3424.0,6304.0,3776.0)set zo=Rect(4128.0,3776.0,4352.0,4032.0)set er=Rect(2752.0,5408.0,3040.0,5632.0)set Z9=Rect(-7040.0,-6912.0,-6688.0,-6656.0)set ar=Rect(-3648.0,-6880.0,-3424.0,-6688.0)set Er=Rect(-6336.0,-4224.0,-5984.0,-3904.0)set Xr=Rect(-4896.0,-5504.0,-4608.0,-5184.0)set A9=Rect(2912.0,-2944.0,3104.0,-2720.0)set B9=Rect(5696.0,5504.0,7296.0,7392.0)set C9=Rect(-7680.0,-8032.0,-6176.0,-6240.0)set L9=Rect(-2464.0,1536.0,-2240.0,1760.0)set Br=Rect(4288.0,-2688.0,4544.0,-2400.0)set cr=Rect(-3328.0,-416.0,-3104.0,-96.0)set Cr=Rect(1440.0,-4096.0,1728.0,-3872.0)set fr=Rect(-4576.0,3328.0,-4448.0,3488.0)set Fr=Rect(-3264.0,4192.0,-2912.0,4320.0)set Hr=Rect(2848.0,-5088.0,3072.0,-4928.0)set jr=Rect(-1824.0,2240.0,-1472.0,2464.0)set Jr=Rect(3008.0,-3776.0,3136.0,-3648.0)set lr=Rect(1184.0,2976.0,1280.0,3104.0)set mr=Rect(-512.0,-3648.0,-320.0,-3520.0)set pr=Rect(-7104.0,6656.0,-6848.0,6912.0)set qr=Rect(-7104.0,6656.0,-6880.0,6880.0)set Qr=Rect(2304.0,-672.0,2592.0,-384.0)set Sr=Rect(3872.0,-3008.0,4928.0,-1952.0)set Ur=Rect(-3552.0,-768.0,-2528.0,320.0)set Wr=Rect(1056.0,-5216.0,2368.0,-3744.0)set zr=Rect(-5120.0,3008.0,-3648.0,4320.0)set Zr=Rect(-3456.0,3808.0,-2656.0,4864.0)set vi=Rect(2272.0,-6080.0,3776.0,-4928.0)set ei=Rect(-1888.0,2208.0,-992.0,3040.0)set xi=Rect(416.0,2624.0,1632.0,3648.0)set oi=Rect(2592.0,-4800.0,3744.0,-3328.0)set ai=Rect(-1024.0,-3808.0,192.0,-2752.0)set ED=Rect(-7936.0,-7776.0,-5920.0,-5760.0)set FD=Rect(5504.0,5184.0,7744.0,7136.0)set Ai=Rect(-800.0,3072.0,64.0,4032.0)set Ni=Rect(-384.0,3392.0,-192.0,3520.0)set bi=Rect(-1728.0,-5056.0,-768.0,-3840.0)set Bi=Rect(-1152.0,-4704.0,-960.0,-4480.0)set GD=Rect(-480.0,-800.0,-256.0,-512.0)set HD=Rect(2112.0,-736.0,2752.0,-160.0)set di=Rect(2112.0,-960.0,2720.0,-640.0)set fi=Rect(2112.0,-1088.0,2720.0,-864.0)set Fi=Rect(2656.0,-1120.0,2784.0,-416.0)set Gi=Rect(2752.0,-1248.0,2880.0,-544.0)set Ji=Rect(2848.0,-1344.0,2912.0,-640.0)set li=Rect(2912.0,-1408.0,2976.0,-704.0)set Li=Rect(2208.0,-1216.0,2816.0,-992.0)set pi=Rect(2464.0,-1472.0,3200.0,-1152.0)set MD=Rect(-8160.0,-8192.0,-3712.0,-4352.0)set ND=Rect(-8192.0,-4960.0,-4640.0,-3552.0)set OD=Rect(-4000.0,-7744.0,-3072.0,-5152.0)set PD=Rect(2304.0,4064.0,8032.0,7776.0)set QD=Rect(4640.0,1952.0,8000.0,4384.0)set WD=Rect(3136.0,2816.0,5216.0,4960.0)set XD=Rect(-7968.0,5216.0,-7456.0,5920.0)set YD=Rect(-8064.0,2880.0,-7648.0,4512.0)set ZD=Rect(-3296.0,3712.0,-2688.0,3968.0)set AD=Rect(-2400.0,2016.0,-1952.0,2624.0)set BD=Rect(-2016.0,1600.0,-1216.0,2048.0)set LD=Rect(-2144.0,2528.0,-1888.0,2944.0)set KE=Rect(-1280.0,1728.0,-736.0,2176.0)set RE=Rect(-1696.0,-768.0,-1376.0,-448.0)set SE=Rect(-576.0,0.0,-352.0,256.0)set WE=Rect(3104.0,-2784.0,3680.0,-2304.0)set YE=Rect(3264.0,-3040.0,3872.0,-2656.0)set EF=Rect(4960.0,-3104.0,5632.0,-2816.0)set FF=Rect(4896.0,-3744.0,5280.0,-3456.0)set GF=Rect(7488.0,-3520.0,8192.0,-2336.0)set HF=Rect(6656.0,-3328.0,7808.0,-2656.0)set JF=Rect(7104.0,-8192.0,8192.0,-5920.0)set KF=Rect(5952.0,-8192.0,7200.0,-7712.0)set MF=Rect(7168.0,-6240.0,8128.0,-5184.0)set NF=Rect(5824.0,-8032.0,6400.0,-7776.0)set OF=Rect(6976.0,-6560.0,7488.0,-5920.0)set PF=Rect(-5856.0,2944.0,-5600.0,3200.0)set QF=Rect(6784.0,-7776.0,7264.0,-7456.0)set RF=Rect(-8128.0,-8192.0,5536.0,-7744.0)set SF=Rect(2368.0,-7904.0,2688.0,-7584.0)set UF=Rect(-1664.0,-7808.0,-1344.0,-7552.0)set WF=Rect(-2944.0,-8192.0,-1664.0,-7680.0)set XF=Rect(-4000.0,-8192.0,-3168.0,-7616.0)set YF=Rect(-5760.0,-8000.0,-5184.0,-7584.0)set BF=Rect(-3296.0,3744.0,-3104.0,3872.0)set CF=Rect(-8192.0,-8192.0,-6720.0,-7744.0)set LF=Rect(-8192.0,-6432.0,-7456.0,-4928.0)set DG=Rect(-8192.0,-8128.0,-7904.0,8160.0)set EG=Rect(-7744.0,3936.0,-7328.0,5600.0)set FG=Rect(-7680.0,1984.0,-6560.0,2816.0)set GG=Rect(-7776.0,1696.0,-6944.0,2176.0)set JG=Rect(-8032.0,-3040.0,-7680.0,-2720.0)set MG=Rect(-7904.0,-2656.0,-7552.0,-2336.0)set OG=Rect(-3936.0,-2720.0,-3584.0,-2400.0)set PG=Rect(-3168.0,-1952.0,-2912.0,-1696.0)set QG=Rect(-4128.0,-1632.0,-3776.0,-1152.0)set RG=Rect(-4992.0,-1792.0,-3968.0,-1440.0)set SG=Rect(-5536.0,-1664.0,-4832.0,-1280.0)set TG=Rect(-2304.0,3872.0,-2048.0,4096.0)set UG=Rect(-5664.0,-1440.0,-5344.0,0.0)set VG=Rect(-5824.0,-1504.0,-5472.0,-544.0)set WG=Rect(-5216.0,-1216.0,-4480.0,-384.0)set XG=Rect(-5632.0,448.0,-5152.0,1856.0)set ZG=Rect(-5856.0,1440.0,-5248.0,2592.0)set AG=Rect(-5408.0,1888.0,-4928.0,2368.0)set BG=Rect(-5056.0,1664.0,-4064.0,2144.0)set CG=Rect(-4320.0,1344.0,-3808.0,1952.0)set LG=Rect(-4224.0,1440.0,-3200.0,2016.0)set DH=Rect(-2112.0,3424.0,-1856.0,3744.0)set EH=Rect(-2400.0,640.0,-2208.0,896.0)set HH=Rect(-3392.0,640.0,-3200.0,896.0)set OH=Rect(-3744.0,-1024.0,-3232.0,384.0)set PH=Rect(-2016.0,-5504.0,-1664.0,-4768.0)set QH=Rect(-1760.0,-5248.0,-1312.0,-4800.0)set RH=Rect(896.0,-3328.0,1088.0,-3072.0)set UH=Rect(2368.0,-3808.0,2688.0,-3360.0)set WH=Rect(1952.0,-3744.0,2208.0,-3456.0)set XH=Rect(-768.0,-1344.0,-480.0,-1024.0)set YH=Rect(1152.0,-6560.0,1376.0,-6272.0)set ZH=Rect(1216.0,-6368.0,1504.0,-6176.0)set AH=Rect(-1376.0,-6784.0,-1184.0,-6528.0)set CH=Rect(7616.0,-6528.0,8192.0,8160.0)set DI=Rect(7072.0,-2304.0,7264.0,-2048.0)set EI=Rect(-7872.0,7872.0,8192.0,8192.0)set GI=Rect(1792.0,7776.0,2112.0,8192.0)set HI=Rect(-2656.0,0.0,-2496.0,256.0)set II=Rect(-768.0,7232.0,-416.0,7424.0)set JI=Rect(-7968.0,5472.0,-7648.0,5792.0)set NI=Rect(1120.0,7904.0,1312.0,8160.0)set PI=Rect(736.0,4480.0,1120.0,4800.0)set SI=Rect(2208.0,4928.0,2400.0,5152.0)set TI=Rect(576.0,4384.0,1120.0,4928.0)set UI=Rect(2560.0,4160.0,2784.0,4576.0)set XI=Rect(-5984.0,-3776.0,-5504.0,-3232.0)set YI=Rect(576.0,4256.0,1024.0,4672.0)set BI=Rect(544.0,4352.0,992.0,4768.0)set CI=Rect(704.0,2496.0,1376.0,2784.0)set LI=Rect(-2240.0,1792.0,-1856.0,2240.0)set TJ=Rect(-1472.0,1472.0,-992.0,1728.0)set UK=Rect(2368.0,-3200.0,2656.0,-2880.0)set YK=Rect(2624.0,-3584.0,2816.0,-2848.0)set SM=Rect(2464.0,-3392.0,2656.0,-3136.0)set TM=Rect(2784.0,-3232.0,2976.0,-2976.0)set UM=Rect(2784.0,-3424.0,2976.0,-3168.0)set WM=Rect(7328.0,7808.0,8192.0,8192.0)set YM=Rect(1984.0,7584.0,3296.0,8192.0)set ZM=Rect(2240.0,7392.0,2560.0,8192.0)set JN=Rect(-1888.0,416.0,-1696.0,576.0)set MN=Rect(7776.0,2720.0,8192.0,3648.0)set TN=Rect(5280.0,640.0,5664.0,1184.0)set UN=Rect(-3104.0,2720.0,-2624.0,3232.0)set UH=Rect(2816.0,-3488.0,3008.0,-3232.0)set WH=Rect(1568.0,-2976.0,1760.0,-2656.0)set UK=Rect(2368.0,-3264.0,2656.0,-2944.0)set YK=Rect(2624.0,-3648.0,2816.0,-2912.0)set SM=Rect(2464.0,-3456.0,2656.0,-3200.0)set RF=Rect(-8192.0,-8128.0,5472.0,-7648.0)set eE=Rect(-8192.0,-3712.0,-7008.0,-2144.0)set oE=Rect(-3360.0,-8192.0,-1472.0,-7648.0)set aE=Rect(-2528.0,-7840.0,-1696.0,-7488.0)set nE=Rect(-2336.0,-7584.0,-1600.0,-7456.0)set VE=Rect(-8192.0,2016.0,-6816.0,2880.0)set EE=Rect(6880.0,-3328.0,8000.0,-2624.0)set XE=Rect(3904.0,2976.0,4160.0,3264.0)set OE=Rect(2336.0,5952.0,2592.0,6240.0)set IE=Rect(6304.0,1984.0,6560.0,2272.0)set AE=Rect(-3328.0,-6912.0,-3072.0,-6624.0)set bE=Rect(-4384.0,-4800.0,-4128.0,-4512.0)set BE=Rect(-6432.0,-3840.0,-6176.0,-3552.0)set cE=Rect(-7584.0,6176.0,-6304.0,7552.0)set CE=Rect(2208.0,-1152.0,2720.0,-352.0)set dE=Rect(2560.0,-1440.0,2976.0,-1024.0)set fE=Rect(-1088.0,5376.0,768.0,6624.0)set FE=Rect(1600.0,1024.0,3456.0,2432.0)set gE=Rect(5504.0,-1056.0,7200.0,512.0)set GE=Rect(-6944.0,-1792.0,-5248.0,-224.0)set JE=Rect(-1536.0,-7424.0,640.0,-6048.0)set lE=Rect(-3328.0,-7200.0,-2464.0,-6368.0)set LE=Rect(-4288.0,-4544.0,-3424.0,-3712.0)set ME=Rect(-6784.0,-3616.0,-5920.0,-2784.0)set pE=Rect(1472.0,5440.0,2336.0,6272.0)set PE=Rect(2656.0,2336.0,3520.0,3168.0)set qE=Rect(5984.0,1152.0,6848.0,1984.0)set QE=Rect(-4128.0,-3712.0,-2496.0,-2272.0)set WN=Rect(-8192.0,-8128.0,-5120.0,-5536.0)set YN=Rect(4608.0,4352.0,8192.0,8192.0)set cz=Rect(3536.0,3148.0,6248.0,5832.0)set Cz=Rect(-6348.0,-6900.0,-3628.0,-4480.0)set He=Rect(0.,0.,0.,0.)set QA4=nullset iL=Condition(function UJE)set QB4=Condition(function WKE)set ip=Condition(function UKE)set iP=Condition(function V0E)set DU7=Condition(function XQE)set Ha=Location(0.,0.)set HA=Location(0.,0.)set Hb=Location(0.,0.)set HB=Location(0.,0.)set p=Player(15)set BW4=CreateUnit(p,'u00Z',7360.0,-4416.0,270.000)call SetUnitColor(BW4,ConvertPlayerColor(12))set BV4=CreateUnit(p,'u00Z',-7296.0,4224.0,270.000)call SetUnitColor(BV4,ConvertPlayerColor(12))set IW4=CreateUnit(p,'n0EO',-7168.0,6464.0,270.000)call SetUnitColor(IW4,ConvertPlayerColor(0))set wJ=CreateUnit(p,'n01F',-7424.0,-6976.0,270.000)set SJ=CreateUnit(p,'n0EO',-7360.0,6464.0,270.000)call SetUnitColor(SJ,ConvertPlayerColor(0))set WJ=CreateUnit(p,'n01F',-7424.0,-6592.0,270.000)set yJ=CreateUnit(p,'n01F',-7424.0,-6464.0,270.000)set qK=CreateUnit(p,'n0EO',-7360.0,6784.0,270.000)call SetUnitColor(qK,ConvertPlayerColor(0))set LK=CreateUnit(p,'n0EO',-6848.0,6784.0,270.000)call SetUnitColor(LK,ConvertPlayerColor(0))set zJ=CreateUnit(p,'n01F',-7424.0,-6720.0,270.000)set ZJ=CreateUnit(p,'n01F',-7424.0,-6848.0,270.000)set vk=CreateUnit(p,'nfoh',-7232.0,-7136.0,270.000)set u=CreateUnit(p,'uC74',3200.0,-64.0,270.000)set cJ=CreateUnit(p,'n0EO',-6848.0,6464.0,270.000)call SetUnitColor(cJ,ConvertPlayerColor(0))set FK=CreateUnit(p,'n01F',7040.0,6272.0,270.000)set gK=CreateUnit(p,'n01F',7040.0,5888.0,270.000)set GK=CreateUnit(p,'n01F',7040.0,5760.0,270.000)set JK=CreateUnit(p,'n01F',7040.0,6016.0,270.000)set fK=CreateUnit(p,'n01F',7040.0,6144.0,270.000)set lK=CreateUnit(p,'ndfl',6784.0,6368.0,270.000)set gJ=CreateUnit(p,'n0EO',-7360.0,7104.0,270.000)call SetUnitColor(gJ,ConvertPlayerColor(0))set PK=CreateUnit(p,'n0EO',-7168.0,7104.0,270.000)call SetUnitColor(PK,ConvertPlayerColor(0))set u=CreateUnit(p,'uC74',-4544.0,1152.0,270.000)set tJ=CreateUnit(p,'n0EO',-7168.0,6784.0,270.000)call SetUnitColor(tJ,ConvertPlayerColor(0))set Cl=CreateUnit(p,'n0EO',-6848.0,7104.0,270.000)call SetUnitColor(Cl,ConvertPlayerColor(0))set BA4=CreateUnit(p,'u010',-7296.0,4416.0,270.000)call SetUnitColor(BA4,ConvertPlayerColor(12))set BZ4=CreateUnit(p,'u010',7360.0,-4224.0,270.000)call SetUnitColor(BZ4,ConvertPlayerColor(12))set WX4=CreateUnit(p,'n0EO',-6656.0,7104.0,270.000)call SetUnitColor(WX4,ConvertPlayerColor(0))set WY4=CreateUnit(p,'n0EO',-6656.0,6464.0,270.000)call SetUnitColor(WY4,ConvertPlayerColor(0))set WW4=CreateUnit(p,'n0EO',-6656.0,6784.0,270.000)call SetUnitColor(WW4,ConvertPlayerColor(0))set p=Player(0)set ek=CreateUnit(p,'nC38',-7264.0,-6880.0,270.000)call SetUnitColor(ek,ConvertPlayerColor(12))set xk=CreateUnit(p,'n01K',-7264.0,-6688.0,270.000)call SetUnitColor(xk,ConvertPlayerColor(12))set ak=CreateUnit(p,'n009',-6560.0,-6432.0,270.000)call SetUnitColor(ak,ConvertPlayerColor(12))set LJ=CreateUnit(p,'n00X',-7072.0,-6368.0,270.000)call SetUnitColor(LJ,ConvertPlayerColor(1))set JJ=CreateUnit(p,'n00V',-6816.0,-6368.0,270.000)call SetUnitColor(JJ,ConvertPlayerColor(12))set GJ=CreateUnit(p,'n00W',-7200.0,-6432.0,270.000)call SetUnitColor(GJ,ConvertPlayerColor(12))set dJ=CreateUnit(p,'n002',-6688.0,-6368.0,270.000)call SetUnitColor(dJ,ConvertPlayerColor(12))set Wk=CreateUnit(p,'e025',-6624.0,-7136.0,270.000)set ik=CreateUnit(p,'hC95',-6880.0,-7136.0,270.000)call SetUnitColor(ik,ConvertPlayerColor(0))set BJ=CreateUnit(p,'etol',-5632.0,-6144.0,270.000)set Ak=CreateUnit(p,'e00S',-4448.0,-4960.0,270.000)set bk=CreateUnit(p,'e00S',-5280.0,-6112.0,270.000)set Nk=CreateUnit(p,'e00S',-6368.0,-4256.0,270.000)set Bk=CreateUnit(p,'e00S',-5600.0,-5728.0,270.000)set ck=CreateUnit(p,'eaom',-6080.0,-4480.0,270.000)set Ck=CreateUnit(p,'eaoe',-6656.0,-4480.0,270.000)set fk=CreateUnit(p,'eaom',-4416.0,-5312.0,270.000)set Gk=CreateUnit(p,'eaoe',-4864.0,-4992.0,270.000)set Fk=CreateUnit(p,'e00S',-3744.0,-6816.0,270.000)set dk=CreateUnit(p,'eaom',-4032.0,-7040.0,270.000)set gk=CreateUnit(p,'eaoe',-4032.0,-6528.0,270.000)set lk=CreateUnit(p,'emow',-5792.0,-5408.0,270.000)set Jk=CreateUnit(p,'emow',-6624.0,-5088.0,270.000)set jk=CreateUnit(p,'emow',-5088.0,-5536.0,270.000)set Lk=CreateUnit(p,'emow',-5344.0,-3936.0,270.000)set pk=CreateUnit(p,'emow',-5088.0,-4576.0,270.000)set Pk=CreateUnit(p,'emow',-3936.0,-5344.0,270.000)set qk=CreateUnit(p,'emow',-4512.0,-7072.0,270.000)set Qk=CreateUnit(p,'emow',-4896.0,-6240.0,270.000)set Sk=CreateUnit(p,'emow',-3808.0,-5856.0,270.000)set tk=CreateUnit(p,'emow',-5472.0,-4704.0,270.000)set Uk=CreateUnit(p,'emow',-4512.0,-5856.0,270.000)set wk=CreateUnit(p,'eaow',-4544.0,-6528.0,270.000)set Rk=CreateUnit(p,'e00S',-6112.0,-1248.0,270.000)set ok=CreateUnit(p,'eaow',-6080.0,-5120.0,270.000)set Ok=CreateUnit(p,'e00S',-6112.0,1568.0,270.000)set Ek=CreateUnit(p,'e00S',-1504.0,-1824.0,270.000)set Vk=CreateUnit(p,'e00S',-544.0,-6688.0,270.000)set nk=CreateUnit(p,'e00S',4960.0,-6752.0,270.000)set MJ=CreateUnit(p,'e00S',-3488.0,-3296.0,270.000)set dl=CreateUnit(p,'n0HE',-6944.0,-6368.0,270.000)call SetUnitColor(dl,ConvertPlayerColor(12))set QJ=CreateUnit(p,'n0HE',5920.0,6176.0,270.000)call SetUnitColor(QJ,ConvertPlayerColor(12))set p=Player(1)set zk=CreateUnit(p,'edob',-6400.0,-5696.0,270.000)set yk=CreateUnit(p,'edob',-5248.0,-6848.0,270.000)set p=Player(6)set XK=CreateUnit(p,'n002',5920.0,5920.0,270.000)call SetUnitColor(XK,ConvertPlayerColor(12))set OK=CreateUnit(p,'n00W',5984.0,6432.0,270.000)call SetUnitColor(OK,ConvertPlayerColor(12))set AK=CreateUnit(p,'n00V',5920.0,6048.0,270.000)call SetUnitColor(AK,ConvertPlayerColor(12))set NK=CreateUnit(p,'n00X',5920.0,6304.0,270.000)call SetUnitColor(NK,ConvertPlayerColor(1))set dK=CreateUnit(p,'nC38',6496.0,6368.0,270.000)call SetUnitColor(dK,ConvertPlayerColor(12))set CK=CreateUnit(p,'n01K',6304.0,6368.0,270.000)call SetUnitColor(CK,ConvertPlayerColor(12))set QK=CreateUnit(p,'usep',4352.0,3584.0,270.000)set BK=CreateUnit(p,'n009',5984.0,5792.0,270.000)call SetUnitColor(BK,ConvertPlayerColor(12))set cK=CreateUnit(p,'nC35',6816.0,5984.0,270.000)call SetUnitColor(cK,ConvertPlayerColor(12))set bK=CreateUnit(p,'u00Q',6816.0,5664.0,270.000)set qJ=CreateUnit(p,'u00M',6048.0,-2080.0,270.000)set PJ=CreateUnit(p,'u00D',6304.0,-96.0,270.000)set ol=CreateUnit(p,'uzig',4384.0,4256.0,270.000)set WK=CreateUnit(p,'unpl',5184.0,4864.0,220.000)set zK=CreateUnit(p,'utod',3904.0,3904.0,270.000)set ZK=CreateUnit(p,'u00M',1056.0,-96.0,270.000)set vl=CreateUnit(p,'u00D',2528.0,1824.0,270.000)set el=CreateUnit(p,'u00N',3936.0,3488.0,270.000)set xl=CreateUnit(p,'u00T',4832.0,4832.0,270.000)set SK=CreateUnit(p,'u00T',5152.0,4512.0,270.000)set rl=CreateUnit(p,'uzig',3168.0,4064.0,270.000)set al=CreateUnit(p,'uzig',5728.0,4000.0,270.000)set EK=CreateUnit(p,'u00N',2976.0,5792.0,270.000)set VK=CreateUnit(p,'usep',3392.0,5504.0,270.000)set aK=CreateUnit(p,'utod',3392.0,6080.0,270.000)set xK=CreateUnit(p,'uzig',4128.0,6240.0,270.000)set eK=CreateUnit(p,'usap',3968.0,5888.0,270.000)set Vl=CreateUnit(p,'ubon',4992.0,5952.0,270.000)set El=CreateUnit(p,'uzig',2656.0,4704.0,270.000)set Xl=CreateUnit(p,'uzig',5536.0,2464.0,270.000)set Ol=CreateUnit(p,'uzig',4064.0,5280.0,270.000)set Rl=CreateUnit(p,'uzig',3488.0,4832.0,270.000)set Al=CreateUnit(p,'usap',6400.0,3584.0,270.000)set Nl=CreateUnit(p,'utod',6080.0,2944.0,270.000)set bl=CreateUnit(p,'usep',6656.0,2880.0,270.000)set Bl=CreateUnit(p,'u00N',6368.0,2528.0,270.000)set cl=CreateUnit(p,'uzig',5024.0,3744.0,270.000)set vK=CreateUnit(p,'uzig',6880.0,3936.0,270.000)set wK=CreateUnit(p,'ubon',6464.0,4608.0,270.000)set TK=CreateUnit(p,'uzig',4640.0,2848.0,270.000)set HJ=CreateUnit(p,'u00M',-4704.0,5920.0,270.000)set UJ=CreateUnit(p,'u00D',32.0,5920.0,270.000)set p=Player(15)set DJ=CreateUnit(p,'e00D',-6005.1,5458.6,212.150)set lJ=CreateUnit(p,'e00B',-561.7,-651.7,325.600)set FJ=CreateUnit(p,'e00A',5717.5,-6070.9,64.000)set fJ=CreateUnit(p,'e008',-5467.9,-5891.1,307.304)set CJ=CreateUnit(p,'e001',4901.8,4536.6,212.110)call ConfigureNeutralVictim()set bH=Filter(function Q37)set filterIssueHauntOrderAtLocBJ=Filter(function IssueHauntOrderAtLocBJFilter)set filterEnumDestructablesInCircleBJ=Filter(function L4)set filterGetUnitsInRectOfPlayer=Filter(function GetUnitsInRectOfPlayerFilter)set filterGetUnitsOfTypeIdAll=Filter(function GetUnitsOfTypeIdAllFilter)set filterGetUnitsOfPlayerAndTypeId=Filter(function GetUnitsOfPlayerAndTypeIdFilter)set filterMeleeTrainedUnitIsHeroBJ=Filter(function MeleeTrainedUnitIsHeroBJFilter)set filterLivingPlayerUnitsOfTypeId=Filter(function LivingPlayerUnitsOfTypeIdFilter)set WI7=0loopexitwhen WI7==16set bj_FORCE_PLAYER[WI7]=CreateForce()call ForceAddPlayer(bj_FORCE_PLAYER[WI7],Player(WI7))set WI7=WI7+1endloopset bj_FORCE_ALL_PLAYERS=CreateForce()call ForceEnumPlayers(bj_FORCE_ALL_PLAYERS,null)set bj_cineModePriorSpeed=GetGameSpeed()set bj_cineModePriorFogSetting=IsFogEnabled()set bj_cineModePriorMaskSetting=IsFogMaskEnabled()set WI7=0loopexitwhen WI7>=bj_MAX_QUEUED_TRIGGERSset bj_queuedExecTriggers[WI7]=nullset bj_queuedExecUseConds[WI7]=falseset WI7=WI7+1endloopset bj_isSinglePlayer=falseset TYG=0set WI7=0loopexitwhen WI7>=12if(GetPlayerController(Player(WI7))==MAP_CONTROL_USER and GetPlayerSlotState(Player(WI7))==PLAYER_SLOT_STATE_PLAYING)thenset TYG=TYG+1endifset WI7=WI7+1endloopset S14[0]=""set S14[1]="Razer.CGC.Puppey"set S14[2]="Razer.CGC.Jolie"set S14[3]="Razer.CGC.Miracle-"set S14[4]="DTS|Dendi"set S14[5]="Razer.CGC.Kuroky"set S14[6]="Razer.CGC.Levent"set S14[7]="Razer.CGC.H4nn1"set S14[8]="Ravens!Smiske"set S14[9]="Ravens!miGGel"set S14[10]="Ravens!AngeL"set S14[11]="Ravens!Maelk"set S14[12]="Ravens!MaNia-"set S14[13]="Ravens!PusHer"set S14[14]="[K]Merlini"set S14[15]="Demon"set S14[16]="mO-"set S14[17]="Fanat1c"set S14[18]="EG.Fear"set S14[19]="HiT0Mi"set S14[20]="DTS|DkPhobos"set S14[21]="DTS|Moelie"set S14[22]="DTS|Artstyle"set S14[23]="DTS|TrAvkAAA"set S14[24]="DTS|LightOfHeaven"set S14[25]="DTS|Go[blin]"set S14[26]="R4gn4roX"set S14[27]="Mopseen"set S14[28]="ToTolafleche"set S14[29]="Odul"set S14[30]="Ptnbz"set S14[31]="Dhany"set S14[32]="SOYCD"set S14[33]="dmZ^eQuiNOX"set S14[34]="dmZ^moods"set S14[35]="dmZ^hexOr"set S14[36]="[66]Kev.de"set S14[37]="dmZ^Rene"set S14[38]="dmZ!Stryke"set S14[39]="dmZ^Schug"set S14[40]="Emperor"set S14[41]="Third_Child"set S14[42]="DOGKaiser"set S14[43]="phoX"set S14[44]="Gix"set S14[45]="4qmofo"set S14[46]="Angel"set S14[47]="Da_SwOOp"set S14[48]="SuRpR1se"set S14[49]="OFFak"set S14[50]="Iacek"set S14[51]="craNich"set S14[52]="Tonicek"set S14[53]="Kog"set S14[54]="Magma34"set S14[55]="N3rf"set S14[56]="kLdz"set S14[57]="13abyKnight"set S14[58]="dLxYan"set S14[59]="Fire"set S14[60]="Green"set S14[61]="Opijum"set S14[62]="Lcf."set S14[63]="Zep"set S14[64]="Bane"set S14[65]="Bigfill"set S14[66]="Riki"set S14[67]="Jacob"set S14[68]="Marian"set S14[69]="Yrk"set S14[70]="sExtasY"set S14[71]="Tayschrenn"set S14[72]="theCupofteA"set S14[73]="idef!x"set S14[74]="kEEper"set S14[75]="nEKro"set S14[76]="Tulex"set S14[77]="Warlog"set S14[78]="Radge"set S14[79]="xMusiCa"set S14[80]="r1sk"set S14[81]="Toneeh"set S14[82]="Mr.Escobar"set S14[83]="Banks"set S14[84]="Blackshatan"set S14[85]="TeG-Hyperion"set S14[86]="TeG-Ly0n"set S14[87]="TeG-ppasarel"set S14[88]="Ro-Coco"set S14[89]="TeG-RMP"set S14[90]="TeG-jackass"set S14[91]="NozG"set S14[92]="lacosteeeee"set S14[93]="NlKE"set S14[94]="Swoopie"set S14[95]="Soundchaosdebug"set S14[96]="Pajkatt"set S14[97]="Samurai"set S14[98]="AMXZAKU"set S14[99]="merc"set S14[100]="Zaetr"set S14[101]="Darksheep-"set S14[102]="wtfmate"set S14[103]="SaDJ0KeR"set S14[104]="Phaselock"set S14[105]="PleaseBugMeNot"set S14[106]="changeling"set S14[107]="Deel"set S14[108]="xbox619"set S14[109]="Uncle_Zhuge"set S14[110]="Thedeath"set S14[111]="gAmmAlysE"set S14[112]="Ace_Tobi"set S14[113]="RisingDemon"set S14[114]="Harreke"set S14[115]="cipd"set S14[116]="Sebra"set S14[117]="Simple-.-"set S14[118]="gaibo1"set S14[119]="Cloud_str"set bj_isSinglePlayer=(TYG==1)set bj_rescueSound=CreateSoundFromLabel("Rescue",false,false,false,10000,10000)set bj_questDiscoveredSound=CreateSoundFromLabel("QuestNew",false,false,false,10000,10000)set bj_questUpdatedSound=CreateSoundFromLabel("QuestUpdate",false,false,false,10000,10000)set bj_questCompletedSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_questFailedSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)set bj_questHintSound=CreateSoundFromLabel("Hint",false,false,false,10000,10000)set bj_questSecretSound=CreateSoundFromLabel("SecretFound",false,false,false,10000,10000)set bj_questItemAcquiredSound=CreateSoundFromLabel("ItemReward",false,false,false,10000,10000)set bj_questWarningSound=CreateSoundFromLabel("Warning",false,false,false,10000,10000)set bj_victoryDialogSound=CreateSoundFromLabel("QuestCompleted",false,false,false,10000,10000)set bj_defeatDialogSound=CreateSoundFromLabel("QuestFailed",false,false,false,10000,10000)call DelayedSuspendDecayCreate()set TZG=VersionGet()if(TZG==VERSION_REIGN_OF_CHAOS)thenset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V0elseset bj_MELEE_MAX_TWINKED_HEROES=bj_MELEE_MAX_TWINKED_HEROES_V1endifcall InitQueuedTriggers()call InitRescuableBehaviorBJ()call InitDNCSounds()call InitMapRects()call InitSummonableCaps()call V5()set M6F=0loopset bj_stockAllowedPermanent[M6F]=falseset bj_stockAllowedCharged[M6F]=falseset bj_stockAllowedArtifact[M6F]=falseset M6F=M6F+1exitwhen M6F>10endloopcall SetAllItemTypeSlots(11)call SetAllUnitTypeSlots(11)set bj_stockUpdateTimer=CreateTimer()call TimerStart(bj_stockUpdateTimer,bj_STOCK_RESTOCK_INITIAL_DELAY,false,function M2F)set bj_stockItemPurchased=CreateTrigger()call TriggerRegisterPlayerUnitEvent(bj_stockItemPurchased,Player(15),EVENT_PLAYER_UNIT_SELL_ITEM,null)call TriggerAddAction(bj_stockItemPurchased,function RemovePurchasedItem)call DetectGameStarted()set i=0set i=0loopexitwhen(i>16)set D[i]=0set V[i]=0set H[i]=0set i=i+1endloopset i=0loopexitwhen(i>100)set v[i]=falseset je[i]=0set i=i+1endloopset i=0loopexitwhen(i>4)set E[i]=0set i=i+1endloopset i=0loopexitwhen(i>2)set U[i]=0set Oe[i]=0set i=i+1endloopset i=0loopexitwhen(i>12)set K[i]=""set A[i]=CreateTimer()set M[i]=0set O[i]=0set GZ[i]=falseset GZ[256+i]=falseset GZ[272+i]=falseset GZ[304+i]=falseset G0[48+i]=falseset G0[i]=falseset hG[i]=0set eY[80+i]=3set eY[i]=0set h4[i]=nullset hq[288+i]=0.set hq[304+i]=0.set hq[640+i]=0.set hq[656+i]=0.set HC[i]=Location(0.,0.)set HC[16+i]=Location(0.,0.)set HC[32+i]=Location(0.,0.)set HC[48+i]=Location(0.,0.)set HC[256+i]=Location(0.,0.)set h9[i]=nullset h8[i]=nullset eY[208+i]=0set eY[224+i]=0set eY[240+i]=999999set hG[192+i]=0set hG[288+i]=0set hq[624+i]=0set LO4[i]=trueset LO4[16+i]=trueset LO4[32+i]=falseset LO4[48+i]=falseset LO4[64+i]=trueset LO4[112+i]=trueset DR7[48+i]=-1set DR7[64+i]=-1set G0[224+i]=falseset h8[144+i]=nullset GZ[176+i]=falseset G27[i]=0set G27[16+i]=0set G27[32+i]=0set G27[48+i]=0set G27[96+i]=0set G27[112+i]=0set G27[160+i]=0set G27[176+i]=0set G27[240+i]=0set G27[272+i]=0set G27[288+i]=0set H47[48+i]=falseset G27[208+i]=StringHash("aiBuy|"+I2S(i))set G27[224+i]=StringHash("aiBuyS|"+I2S(i))set G27[256+i]=StringHash("aiBuyBear|"+I2S(i))set G27[352+i]=StringHash("aiIt#|"+I2S(i))set G27[368+i]=StringHash("aiIt#copy|"+I2S(i))set i=i+1endloopset i=0loopexitwhen(i>13)set I[i]=falseset N[i]=CreateTimer()set T4[i]=falseset P7[i]=0set T7[i]=0set Be[i]=0set oo[i]=falseset i=i+1endloopset P=CreateTimer()set i=0loopexitwhen(i>1)set F[i]=0set mx[i]=falseset Z8[i]=0set eo[i]=falseset i=i+1endloopset V4=150set av=trueset Ev=trueset Ov=trueset Rv=trueset Av=trueset Nv=trueset bv=trueset Bv=trueset cv=trueset Cv=trueset Dv=trueset fv=trueset A4=3set D7=1set i=0loopexitwhen(i>17)set G7[i]=nullset i=i+1endloopset W7=CreateForce()set X7=CreateForce()set N8=CreateGroup()set B8=CreateForce()set L8=0.00set D9=trueset E9=trueset i=0loopexitwhen(i>14)set Tx[i]=falseset i=i+1endloopset i=0loopexitwhen(i>15)set X9[i]="Here"set i=i+1endloopcall UT7()set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,true)call TriggerAddCondition(t,Condition(function l8))set t=nullset IX4[0]=falseset IX4[1]=falseset IX4[2]=falseset IX4[3]=falseset IX4[4]=falseset IX4[5]=falseset IX4[6]=falseset IX4[7]=falseset IX4[8]=falseset IX4[9]=falseset IX4[10]=falseset IX4[11]=falseset IX4[12]=falseset IX4[13]=falseset IX4[14]=falseset IX4[15]=falseset IX4[16]=falsecall TKG()call VN8('B06Z')call VN8('BPSE')call VN8('B06Q')call VN8('BSTN')call VN8('BHtc')call VN8('B0BM')call VN8('B0BR')call VN8('B0C1')call VN8('BEer')call VN8('B02U')call VN8('B07E')call VN8('B0CF')call VN8('B06M')call VN8('B07N')call VN8('B08S')call VN8('B00Q')call VN8('B072')call VN8('BUan')call VN8('B095')call VN8('B083')call VN8('B02V')call VN8('B01Y')call VN8('BNab')call VN8('B08R')call VN8('B066')call VN8('B03I')call VN8('B063')call VN8('Bena')call VN8('Beng')call VN8('B03C')call VN8('B00L')call VN8('BHca')call VN8('Bcsd')call VN8('B079')call VN8('B0BQ')call VN8('B0B9')call VN8('Bprg')call VN8('B08M')call VN8('B02G')call VN8('B01X')call VN8('B01D')call VN8('B092')call VN8('B0AQ')call VN8('BEsh')call VN8('B001')call VN8('B017')call VN8('B0AE')call VN8('B0AD')call VN8('B08O')call VN8('Bfro')call VN8('B027')call VN8('B028')call VN8('B05H')call VN8('B0BS')call VN8('Bcri')call VN8('B0BF')call VN8('B0BE')call VN8('B090')call VN8('B008')call VN8('B04B')call VN8('B02F')call VN8('BUsp')call VN8('Bust')call VN8('B0CC')call VN8('BCri')call VN8('B03J')call VN8('BEsh')call VN8('B001')call VN8('B0AQ')call VN8('Bena')call VN8('Beng')call VN8('B078')call VN8('Bdet')call VN8('B00T')call VN8('Bslo')call VN8('BNdh')call VN8('A1LD')call VN8('B0CD')call VN8('A1JA')call VN8('B043')call VN8('BNpa')call VN8('B01N')call VN8('BIcb')call VN8('B04Q')call VN8('B00C')call VN8('B09K')call VN8('B033')call VN8('B08F')call VN8('B08E')call VN8('Bpoi')call VN8('B0AM')call VN8('BNrd')call VN8('B00H')call VN8('BOhx')call VN8('B03F')call VN8('B02N')call VN8('B0E7')call VN8('B06D')call VN8('B0BN')call VN8('B09Q')call VN8('B0DI')call VN8('B0BB')call VN8('B09J')call VN8('B0AF')call VN8('B08B')call VN8('B071')call VN8('B08N')call VN8('B02I')call VN8('B08Q')call VN8('B0C2')call VN8('B06S')call VN8('B02S')call VN8('B02W')call VN8('B05Q')call VN8('B02D')call VN8('B0BY')call VN8('B02P')call VN8('B05F')call VN8('B0EP')call VN8('B0ER')call VN8('B0ET')call VN8('B0FN')call VN8('B0FY')call VN8('B0FT')call VN8('B0FZ')call VN8('B0G0')call VN8('B0F5')set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VR8))set t=nullcall FlushGameCache(InitGameCache("dr.x"))set JD4=InitGameCache("dr.x")set IK4[0]='A17F'set IK4[1]='A17G'set IK4[2]='A17H'set IK4[3]='A17C'set IK4[4]='A17D'set IK4[5]='A17E'set IK4[6]='A17J'set IK4[7]='A17I'set IK4[8]='A17L'set SO4[0]='A1QE'set SO4[1]='A1QF'set SO4[2]='A1QI'set SO4[3]='A1QK'set SO4[4]='A1QJ'set SO4[5]='A1QH'set SO4[6]='A1QO'set SO4[7]='A1QN'set SO4[8]='A1QM'set SO4[9]='A1QG'set SO4[10]='A1QQ'set IM4[0]='A1GK'set IM4[1]='A1GL'set IM4[2]='A1GJ'set IM4[3]='A1GP'set IM4[4]='A1GM'set IM4[5]='A1GN'set IM4[6]='A1GO'set IM4[7]='A1GI'set IM4[8]='A1GQ'set IN4[0]='A1CM'set IN4[1]='A1CK'set IN4[2]='A1CF'set IN4[3]='A1CI'set IN4[4]='A1CG'set IN4[5]='A1CH'set O9=CreateTrigger()call TriggerAddCondition(O9,Condition(function AG7))set P9[0]='h09G'set T9[0]=50set P9[1]='h09T'set T9[1]=100set P9[2]='h09F'set T9[2]=150set P9[3]='h09H'set T9[3]=200set P9[4]='h09E'set T9[4]=250set P9[5]='h09D'set T9[5]=300set P9[6]='h09C'set T9[6]=350set P9[7]='h09B'set T9[7]=400set P9[8]='h099'set T9[8]=450set P9[9]='h09A'set T9[9]=500set P9[10]='h09J'set T9[10]=550set P9[11]='h09K'set T9[11]=600set P9[12]='h09L'set T9[12]=650set P9[13]='h09M'set T9[13]=700set P9[14]='h09N'set T9[14]=750set P9[15]='h09O'set T9[15]=800set P9[16]='h09P'set T9[16]=850set P9[17]='h09Q'set T9[17]=900set P9[18]='h09R'set T9[18]=950set P9[19]='h09S'set T9[19]=1000set P9[20]='h09I'set T9[20]=1050set P9[21]='h09Z'set T9[21]=1100set P9[22]='h09X'set T9[22]=1150set P9[23]='h0A1'set T9[23]=1200set P9[24]='h0A2'set T9[24]=1250set P9[25]='h0A6'set T9[25]=1300set P9[26]='h0A3'set T9[26]=1350set P9[27]='h0A4'set T9[27]=1400set P9[28]='h09Y'set T9[28]=1450set P9[29]='h09V'set T9[29]=1500set P9[30]='h0A0'set T9[30]=1550set P9[31]='h09U'set T9[31]=1600set P9[32]='h0AF'set T9[32]=1650set P9[33]='h0AD'set T9[33]=1700set P9[34]='h0AE'set T9[34]=1750set P9[35]='h0AC'set T9[35]=1800set P9[36]='h0AB'set T9[36]=1850set P9[37]='h0AA'set T9[37]=1900set P9[38]='h0A9'set T9[38]=1950set P9[39]='h0AG'set T9[39]=2000set P9[40]='h0A7'set T9[40]=2050set P9[41]='h0AO'set T9[41]=2100set P9[42]='h0AY'set T9[42]=2150set P9[43]='h0AH'set T9[43]=2200set P9[44]='h0AI'set T9[44]=2250set P9[45]='h0AJ'set T9[45]=2300set P9[46]='h0AP'set T9[46]=2350set P9[47]='h0AQ'set T9[47]=2400set P9[48]='h0AK'set T9[48]=2450set P9[49]='h0AR'set T9[49]=2500set P9[50]='h0AL'set T9[50]=2550set P9[51]='h0AS'set T9[51]=2600set P9[52]='h09W'set T9[52]=2650set P9[53]='h0AM'set T9[53]=2700set P9[54]='h0A8'set T9[54]=2750set P9[55]='h0AT'set T9[55]=2800set P9[56]='h0AU'set T9[56]=2850set P9[57]='h0AN'set T9[57]=2900set P9[58]='h0AV'set T9[58]=2950set P9[59]='h0AW'set T9[59]=3000set S9[0]=P9[Z27(1)]set S9[1]=P9[Z27(1)]set S9[2]=P9[Z27(1)]set S9[3]=P9[Z27(1)]set S9[4]=P9[Z27(1)]set S9[5]=P9[Z27(1)]set S9[6]=P9[Z27(1)]set S9[7]=P9[Z27(1)]set S9[8]=P9[Z27(1)]set S9[9]=P9[Z27(1)]set S9[10]=P9[Z27(1)]set S9[11]=P9[Z27(1)]set S9[12]=P9[Z27(1)]set S9[13]=P9[Z27(1)]set S9[14]=P9[Z27(1)]set C7=InitHashtable()set JE4=Rect(-7040,-7680,7040,7168)call SetFloatGameState(GAME_STATE_TIME_OF_DAY,6.00)call SuspendTimeOfDay(false)call SetTimeOfDayScale(0.5)call SetSkyModel("Environment\\Sky\\FoggedSky\\FoggedSky.mdl")call SetCreepCampFilterState(true)set vo="Normal Mode"call TimerStart(P,99999.00,false,null)set Bo=AddWeatherEffect(bj_mapInitialPlayableArea,'RAhr')set bo=AddWeatherEffect(bj_mapInitialPlayableArea,'SNbs')set fL=AddWeatherEffect(bj_mapInitialPlayableArea,'LRma')set FL=AddWeatherEffect(bj_mapInitialPlayableArea,'WOlw')set Y7[0]=Player(0)set Y7[1]=Player(1)set Y7[2]=Player(2)set Y7[3]=Player(3)set Y7[4]=Player(4)set Y7[5]=Player(5)set Z7[0]=Player(6)set Z7[1]=Player(7)set Z7[2]=Player(8)set Z7[3]=Player(9)set Z7[4]=Player(10)set Z7[5]=Player(11)set A7=Player(12)set B7=Player(15)call SetUnitPathing(fJ,false)call SetUnitPathing(FJ,false)call SetUnitPathing(lJ,false)call SetUnitPathing(DJ,false)call SetUnitPathing(CJ,false)call VH8(CJ,true)call VH8(DJ,true)call VH8(lJ,true)call VH8(FJ,true)call VH8(fJ,true)set Z=GetUnitLoc(CJ)set vv=GetUnitLoc(fJ)set ev=GetUnitLoc(lJ)set ov=GetUnitLoc(DJ)set rv=GetUnitLoc(FJ)set F8='A06G'set G8[1]=vvset G8[2]=ovset G8[3]=evset G8[4]=rvset G8[5]=Zset Jv=GetRectCenter(jo)set lv=GetRectCenter(lo)set Lv=GetRectCenter(go)set mv=GetRectCenter(zo)set qv=GetRectCenter(er)set pv=GetRectCenter(wo)set Qv=GetRectCenter(Xr)set tv=GetRectCenter(Er)set sv=GetRectCenter(ar)set Tv=GetRectCenter(Uo)set Wv=GetRectCenter(to)set Uv=GetRectCenter(Qo)set E7=GetRectCenter(L9)set F7=GetRectCenter(A9)set W8=trueset JF4=GetUnitX(vk)set JG4=GetUnitY(vk)set ML=GetUnitX(ik)set PL=GetUnitY(ik)set QL=GetUnitX(xk)set SL=GetUnitY(xk)set tL=GetUnitX(ek)set TL=GetUnitY(ek)set UL=GetUnitX(Wk)set wL=GetUnitY(Wk)set zL=GetUnitX(JJ)set vm=GetUnitY(JJ)set em=GetUnitX(GJ)set xm=GetUnitY(GJ)set om=GetUnitX(dJ)set rm=GetUnitY(dJ)set im=GetUnitX(LJ)set am=GetUnitY(LJ)set Vm=GetUnitX(ak)set Em=GetUnitY(ak)set Xm=GetUnitX(dl)set Om=GetUnitY(dl)set Am=GetUnitX(BJ)set Nm=GetUnitY(BJ)set bm=GetUnitX(Ok)set Bm=GetUnitY(Ok)set cm=GetUnitX(Ek)set Cm=GetUnitY(Ek)set dm=GetUnitX(nk)set fm=GetUnitY(nk)set Fm=GetUnitX(Rk)set hm=GetUnitY(Rk)set Jm=GetUnitX(MJ)set lm=GetUnitY(MJ)set Mm=GetUnitX(Vk)set pm=GetUnitY(Vk)set Pm=GetUnitX(Nk)set Qm=GetUnitY(Nk)set Tm=GetUnitX(Ak)set Um=GetUnitY(Ak)set wm=GetUnitX(Fk)set Wm=GetUnitY(Fk)set zm=GetUnitX(Bk)set vM=GetUnitY(Bk)set eM=GetUnitX(bk)set oM=GetUnitY(bk)set rM=GetUnitX(ck)set iM=GetUnitY(ck)set aM=GetUnitX(fk)set nM=GetUnitY(fk)set VM=GetUnitX(dk)set XM=GetUnitY(dk)set AM=GetUnitX(Ck)set bM=GetUnitY(Ck)set BM=GetUnitX(Gk)set cM=GetUnitY(Gk)set dM=GetUnitX(gk)set fM=GetUnitY(gk)set gM=GetUnitX(lk)set hM=GetUnitY(lk)set HM=GetUnitX(Jk)set JM=GetUnitY(Jk)set kM=GetUnitX(Lk)set lM=GetUnitY(Lk)set pM=GetUnitX(pk)set sM=GetUnitY(pk)set tM=GetUnitX(Pk)set wM=GetUnitY(Pk)set zM=GetUnitX(jk)set vp=GetUnitY(jk)set ep=GetUnitX(Qk)set op=GetUnitY(Qk)set rp=GetUnitX(Sk)set ap=GetUnitY(Sk)set Vp=GetUnitX(qk)set Ep=GetUnitY(qk)set Xp=GetUnitX(tk)set Rp=GetUnitY(tk)set Ap=GetUnitX(Uk)set bp=GetUnitY(Uk)set Bp=GetUnitX(ok)set cp=GetUnitY(ok)set Cp=GetUnitX(wk)set dp=GetUnitY(wk)set fp=GetUnitX(zk)set Fp=GetUnitY(zk)set gp=GetUnitX(yk)set Hp=GetUnitY(yk)call RemoveUnit(Nk)call RemoveUnit(Ck)call RemoveUnit(ck)call RemoveUnit(Ak)call RemoveUnit(Gk)call RemoveUnit(fk)call RemoveUnit(Fk)call RemoveUnit(gk)call RemoveUnit(dk)call RemoveUnit(ok)call RemoveUnit(wk)call RemoveUnit(BJ)call RemoveUnit(Bk)call RemoveUnit(bk)call RemoveUnit(lk)call RemoveUnit(Jk)call RemoveUnit(Lk)call RemoveUnit(pk)call RemoveUnit(Pk)call RemoveUnit(jk)call RemoveUnit(Qk)call RemoveUnit(Sk)call RemoveUnit(qk)call RemoveUnit(tk)call RemoveUnit(Uk)call RemoveUnit(ak)call RemoveUnit(dl)call RemoveUnit(LJ)call RemoveUnit(dJ)call RemoveUnit(GJ)call RemoveUnit(JJ)call RemoveUnit(xk)call RemoveUnit(ek)call RemoveUnit(vk)call RemoveUnit(ik)call RemoveUnit(Wk)call RemoveUnit(Ok)call RemoveUnit(Ek)call RemoveUnit(nk)call RemoveUnit(Rk)call RemoveUnit(MJ)call RemoveUnit(Vk)call RemoveUnit(zk)call RemoveUnit(yk)set JH4=CreateUnit(Y7[0],'nfoh',JF4,JG4,270)set JI4=CreateUnit(B7,'hC95',ML,PL,270)set JJ4=CreateUnit(B7,'n01K',QL,SL,270)set JK4=CreateUnit(B7,'nC38',tL,TL,270)set JM4=CreateUnit(B7,'e025',UL,wL,270)set JN4=CreateUnit(B7,'n00V',zL,vm,270)set JO4=CreateUnit(B7,'n00W',em,xm,270)set JP4=CreateUnit(B7,'n002',om,rm,270)set JQ4=CreateUnit(B7,'n00X',im,am,270)set JR4=CreateUnit(B7,'n009',Vm,Em,270)set JS4=CreateUnit(B7,'n0HE',Xm,Om,270)set JT4=CreateUnit(Y7[0],'etol',Am,Nm,270)set JU4=CreateUnit(Y7[0],'e00R',bm,Bm,90)set JV4=CreateUnit(Y7[0],'e00R',cm,Cm,45)set JW4=CreateUnit(Y7[0],'e00R',dm,fm,0)set JX4=CreateUnit(Y7[0],'e011',Fm,hm,90)set JY4=CreateUnit(Y7[0],'e011',Jm,lm,45)set JZ4=CreateUnit(Y7[0],'e011',Mm,pm,0)set JA4=CreateUnit(Y7[0],'e00S',Pm,Qm,90)set JB4=CreateUnit(Y7[0],'e00S',Tm,Um,45)set JC4=CreateUnit(Y7[0],'e00S',wm,Wm,0)set J34=CreateUnit(Y7[0],'e019',zm,vM,45)set J64=CreateUnit(Y7[0],'e019',eM,oM,45)set JL4=CreateUnit(Y7[0],'eaom',rM,iM,90)set J14=CreateUnit(Y7[0],'eaom',aM,nM,45)set J04=CreateUnit(Y7[0],'eaom',VM,XM,0)set J54=CreateUnit(Y7[0],'eaoe',AM,bM,90)set J24=CreateUnit(Y7[0],'eaoe',BM,cM,45)set J_4=CreateUnit(Y7[0],'eaoe',dM,fM,0)set fP=CreateUnit(Y7[0],'emow',gM,hM,270)set FP=CreateUnit(Y7[0],'emow',HM,JM,270)set lP=CreateUnit(Y7[0],'emow',kM,lM,270)set LP=CreateUnit(Y7[0],'emow',pM,sM,270)set MP=CreateUnit(Y7[0],'emow',tM,wM,270)set pP=CreateUnit(Y7[0],'emow',zM,vp,270)set PP=CreateUnit(Y7[0],'emow',ep,op,270)set qP=CreateUnit(Y7[0],'emow',rp,ap,270)set QP=CreateUnit(Y7[0],'emow',Vp,Ep,270)set sP=CreateUnit(Y7[0],'emow',Xp,Rp,270)set tP=CreateUnit(Y7[0],'emow',Ap,bp,270)set WP=CreateUnit(Y7[0],'eaow',Bp,cp,270)set zP=CreateUnit(Y7[0],'eaow',Cp,dp,270)set vq=CreateUnit(Y7[0],'edob',fp,Fp,270)set eq=CreateUnit(Y7[0],'edob',gp,Hp,270)set QH4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JA4)+800,GetUnitY(JA4)+800)set QI4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JB4)+1132,GetUnitY(JB4)+1132)set QJ4=Rect(GetRectMinX(bj_mapInitialPlayableArea),GetRectMinY(bj_mapInitialPlayableArea),GetUnitX(JC4)+800,GetUnitY(JC4)+800)call SetPlayerAbilityAvailable(B7,'Aro1',false)call SetUnitColor(JI4,gL)call SetUnitColor(JM4,gL)call SetUnitColor(JK4,JL)call SetUnitColor(JJ4,JL)call SetUnitColor(JN4,JL)call SetUnitColor(JO4,JL)call SetUnitColor(JP4,JL)call SetUnitColor(JQ4,JL)call SetUnitColor(JR4,JL)call VH8(JU4,true)call VH8(JV4,true)call VH8(JW4,true)call VH8(JX4,true)call VH8(JY4,true)call VH8(JZ4,true)call VH8(JA4,true)call VH8(JB4,true)call VH8(JC4,true)call VH8(J34,true)call VH8(J64,true)call VH8(JT4,true)call VH8(JL4,true)call VH8(J14,true)call VH8(J04,true)call VH8(J54,true)call VH8(J24,true)call VH8(J_4,true)call VH8(WP,true)call VH8(zP,true)call VH8(vq,true)call VH8(eq,true)call VH8(fP,true)call VH8(FP,true)call VH8(lP,true)call VH8(LP,true)call VH8(MP,true)call VH8(pP,true)call VH8(PP,true)call VH8(qP,true)call VH8(QP,true)call VH8(sP,true)call VH8(tP,true)set K44=GetUnitX(lK)set K74=GetUnitY(lK)set rq=GetUnitX(cK)set iq=GetUnitY(cK)set aq=GetUnitX(CK)set Eq=GetUnitY(CK)set Rq=GetUnitX(dK)set Aq=GetUnitY(dK)set Nq=GetUnitX(bK)set bq=GetUnitY(bK)set Bq=GetUnitX(AK)set cq=GetUnitY(AK)set Cq=GetUnitX(OK)set Dq=GetUnitY(OK)set fq=GetUnitX(XK)set Fq=GetUnitY(XK)set Hq=GetUnitX(NK)set jq=GetUnitY(NK)set Jq=GetUnitX(BK)set Mq=GetUnitY(BK)set qq=GetUnitX(QJ)set Qq=GetUnitY(QJ)set Sq=GetUnitX(WK)set tq=GetUnitY(WK)set Uq=GetUnitX(HJ)set zq=GetUnitY(HJ)set Zq=GetUnitX(ZK)set vQ=GetUnitY(ZK)set eQ=GetUnitX(qJ)set xQ=GetUnitY(qJ)set oQ=GetUnitX(UJ)set iQ=GetUnitY(UJ)set aQ=GetUnitX(vl)set EQ=GetUnitY(vl)set OQ=GetUnitX(PJ)set RQ=GetUnitY(PJ)set AQ=GetUnitX(EK)set NQ=GetUnitY(EK)set bQ=GetUnitX(el)set BQ=GetUnitY(el)set cQ=GetUnitX(Bl)set CQ=GetUnitY(Bl)set fQ=GetUnitX(xl)set FQ=GetUnitY(xl)set hQ=GetUnitX(SK)set HQ=GetUnitY(SK)set lQ=GetUnitX(VK)set LQ=GetUnitY(VK)set mQ=GetUnitX(QK)set MQ=GetUnitY(QK)set PQ=GetUnitX(bl)set QQ=GetUnitY(bl)set SQ=GetUnitX(aK)set UQ=GetUnitY(aK)set WQ=GetUnitX(zK)set zQ=GetUnitY(zK)set ZQ=GetUnitX(Nl)set vs=GetUnitY(Nl)set es=GetUnitX(El)set os=GetUnitY(El)set rs=GetUnitX(rl)set as=GetUnitY(rl)set ns=GetUnitX(Rl)set Vs=GetUnitY(Rl)set Es=GetUnitX(xK)set Xs=GetUnitY(xK)set Rs=GetUnitX(Ol)set As=GetUnitY(Ol)set Ns=GetUnitX(ol)set bs=GetUnitY(ol)set Bs=GetUnitX(al)set cs=GetUnitY(al)set Cs=GetUnitX(Xl)set Ds=GetUnitY(Xl)set fs=GetUnitX(cl)set Fs=GetUnitY(cl)set Hs=GetUnitX(vK)set js=GetUnitY(vK)set Js=GetUnitX(TK)set Ks=GetUnitY(TK)set ls=GetUnitX(eK)set Ls=GetUnitY(eK)set ms=GetUnitX(Al)set Ms=GetUnitY(Al)set ps=GetUnitX(Vl)set Ps=GetUnitY(Vl)set Qs=GetUnitX(wK)set Ss=GetUnitY(wK)call RemoveUnit(El)call RemoveUnit(rl)call RemoveUnit(Rl)call RemoveUnit(xK)call RemoveUnit(Ol)call RemoveUnit(ol)call RemoveUnit(al)call RemoveUnit(Xl)call RemoveUnit(cl)call RemoveUnit(vK)call RemoveUnit(TK)call RemoveUnit(HJ)call RemoveUnit(UJ)call RemoveUnit(EK)call RemoveUnit(ZK)call RemoveUnit(vl)call RemoveUnit(el)call RemoveUnit(qJ)call RemoveUnit(PJ)call RemoveUnit(Bl)call RemoveUnit(xl)call RemoveUnit(SK)call RemoveUnit(VK)call RemoveUnit(QK)call RemoveUnit(bl)call RemoveUnit(aK)call RemoveUnit(zK)call RemoveUnit(Nl)call RemoveUnit(eK)call RemoveUnit(Al)call RemoveUnit(Vl)call RemoveUnit(wK)call RemoveUnit(WK)call RemoveUnit(AK)call RemoveUnit(OK)call RemoveUnit(XK)call RemoveUnit(NK)call RemoveUnit(BK)call RemoveUnit(QJ)call RemoveUnit(dK)call RemoveUnit(CK)call RemoveUnit(lK)call RemoveUnit(cK)call RemoveUnit(bK)set K84=CreateUnit(Z7[0],'ndfl',K44,K74,270)set K94=CreateUnit(B7,'nC35',rq,iq,270)set zs=CreateUnit(B7,'n01K',aq,Eq,270)set Zs=CreateUnit(B7,'nC38',Rq,Aq,270)set KD4=CreateUnit(B7,'u00Q',Nq,bq,270)set eS=CreateUnit(B7,'n00V',Bq,cq,0)set oS=CreateUnit(B7,'n00W',Cq,Dq,0)set rS=CreateUnit(B7,'n002',fq,Fq,0)set aS=CreateUnit(B7,'n00X',Hq,jq,0)set nS=CreateUnit(B7,'n009',Jq,Mq,0)set VS=CreateUnit(B7,'n0HE',qq,Qq,0)set KE4=CreateUnit(Z7[0],'unpl',Sq,tq,220)set KF4=CreateUnit(Z7[0],'u00M',Uq,zq,270)set KG4=CreateUnit(Z7[0],'u00M',Zq,vQ,270)set KH4=CreateUnit(Z7[0],'u00M',eQ,xQ,270)set KI4=CreateUnit(Z7[0],'u00D',oQ,iQ,270)set KJ4=CreateUnit(Z7[0],'u00D',aQ,EQ,270)set KK4=CreateUnit(Z7[0],'u00D',OQ,RQ,270)set KM4=CreateUnit(Z7[0],'u00N',AQ,NQ,270)set KN4=CreateUnit(Z7[0],'u00N',bQ,BQ,270)set KO4=CreateUnit(Z7[0],'u00N',cQ,CQ,270)set KP4=CreateUnit(Z7[0],'u00T',fQ,FQ,270)set KQ4=CreateUnit(Z7[0],'u00T',hQ,HQ,270)set KR4=CreateUnit(Z7[0],'usep',lQ,LQ,270)set KS4=CreateUnit(Z7[0],'usep',mQ,MQ,270)set KT4=CreateUnit(Z7[0],'usep',PQ,QQ,270)set KU4=CreateUnit(Z7[0],'utod',SQ,UQ,270)set KV4=CreateUnit(Z7[0],'utod',WQ,zQ,270)set KW4=CreateUnit(Z7[0],'utod',ZQ,vs,270)set PS=CreateUnit(Z7[0],'uzig',es,os,270)set QS=CreateUnit(Z7[0],'uzig',rs,as,270)set SS=CreateUnit(Z7[0],'uzig',ns,Vs,270)set tS=CreateUnit(Z7[0],'uzig',Es,Xs,270)set TS=CreateUnit(Z7[0],'uzig',Rs,As,270)set US=CreateUnit(Z7[0],'uzig',Ns,bs,270)set WS=CreateUnit(Z7[0],'uzig',Bs,cs,270)set ZS=CreateUnit(Z7[0],'uzig',Cs,Ds,270)set vt=CreateUnit(Z7[0],'uzig',fs,Fs,270)set et=CreateUnit(Z7[0],'uzig',Hs,js,270)set xt=CreateUnit(Z7[0],'uzig',Js,Ks,270)set ot=CreateUnit(Z7[0],'usap',ls,Ls,270)set rt=CreateUnit(Z7[0],'usap',ms,Ms,270)set at=CreateUnit(Z7[0],'ubon',ps,Ps,270)set Vt=CreateUnit(Z7[0],'ubon',Qs,Ss,270)set QE4=Rect(GetUnitX(KM4)-800,GetUnitY(KM4)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))set QF4=Rect(GetUnitX(KN4)-1132,GetUnitY(KN4)-1132,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))set QG4=Rect(GetUnitX(KO4)-800,GetUnitY(KO4)-800,GetRectMaxX(bj_mapInitialPlayableArea),GetRectMaxY(bj_mapInitialPlayableArea))call SetUnitColor(K94,hL)call SetUnitColor(Zs,JL)call SetUnitColor(zs,JL)call SetUnitColor(eS,JL)call SetUnitColor(oS,JL)call SetUnitColor(rS,JL)call SetUnitColor(aS,JL)call SetUnitColor(nS,JL)call VH8(KF4,true)call VH8(KG4,true)call VH8(KH4,true)call VH8(KI4,true)call VH8(KJ4,true)call VH8(KK4,true)call VH8(KM4,true)call VH8(KN4,true)call VH8(KO4,true)call VH8(KP4,true)call VH8(KQ4,true)call VH8(KE4,true)call VH8(KR4,true)call VH8(KS4,true)call VH8(KT4,true)call VH8(KU4,true)call VH8(KV4,true)call VH8(KW4,true)call VH8(ot,true)call VH8(rt,true)call VH8(at,true)call VH8(Vt,true)call VH8(PS,true)call VH8(QS,true)call VH8(SS,true)call VH8(tS,true)call VH8(TS,true)call VH8(US,true)call VH8(WS,true)call VH8(ZS,true)call VH8(vt,true)call VH8(et,true)call VH8(xt,true)set TAG=GetUnitX(wJ)set TBG=GetUnitY(wJ)set TCG=GetUnitX(ZJ)set T3G=GetUnitY(ZJ)set T6G=GetUnitX(zJ)set TLG=GetUnitY(zJ)set T1G=GetUnitX(WJ)set T0G=GetUnitY(WJ)set T5G=GetUnitX(yJ)set T2G=GetUnitY(yJ)set T_G=GetUnitX(FK)set U4G=GetUnitY(FK)set U7G=GetUnitX(fK)set U8G=GetUnitY(fK)set U9G=GetUnitX(JK)set UDG=GetUnitY(JK)set UEG=GetUnitX(gK)set UFG=GetUnitY(gK)set UGG=GetUnitX(GK)set UHG=GetUnitY(GK)set A27=125call RemoveUnit(wJ)call RemoveUnit(ZJ)call RemoveUnit(zJ)call RemoveUnit(WJ)call RemoveUnit(yJ)call RemoveUnit(FK)call RemoveUnit(fK)call RemoveUnit(JK)call RemoveUnit(gK)call RemoveUnit(GK)set KX4=CreateUnit(Player(1),'ncop',TAG,TBG,270)call UnitAddAbility(KX4,'A141')call ClearSelectionForPlayer(Player(1))call SelectUnitAddForPlayer(KX4,Player(1))if GetLocalPlayer()==Player(1)thencall SetUnitVertexColor(KX4,255,255,255,255)elsecall SetUnitVertexColor(KX4,255,255,255,A27)endifset KY4=CreateUnit(Player(2),'ncop',TCG,T3G,270)call UnitAddAbility(KY4,'A141')call ClearSelectionForPlayer(Player(2))call SelectUnitAddForPlayer(KY4,Player(2))if GetLocalPlayer()==Player(2)thencall SetUnitVertexColor(KY4,255,255,255,255)elsecall SetUnitVertexColor(KY4,255,255,255,A27)endifset KZ4=CreateUnit(Player(3),'ncop',T6G,TLG,270)call UnitAddAbility(KZ4,'A141')call ClearSelectionForPlayer(Player(3))call SelectUnitAddForPlayer(KZ4,Player(3))if GetLocalPlayer()==Player(3)thencall SetUnitVertexColor(KZ4,255,255,255,255)elsecall SetUnitVertexColor(KZ4,255,255,255,A27)endifset KA4=CreateUnit(Player(4),'ncop',T1G,T0G,270)call UnitAddAbility(KA4,'A141')call ClearSelectionForPlayer(Player(4))call SelectUnitAddForPlayer(KA4,Player(4))if GetLocalPlayer()==Player(4)thencall SetUnitVertexColor(KA4,255,255,255,255)elsecall SetUnitVertexColor(KA4,255,255,255,A27)endifset KB4=CreateUnit(Player(5),'ncop',T5G,T2G,270)call UnitAddAbility(KB4,'A141')call ClearSelectionForPlayer(Player(5))call SelectUnitAddForPlayer(KB4,Player(5))if GetLocalPlayer()==Player(5)thencall SetUnitVertexColor(KB4,255,255,255,255)elsecall SetUnitVertexColor(KB4,255,255,255,A27)endifset KC4=CreateUnit(Player(7),'ncop',T_G,U4G,270)call UnitAddAbility(KC4,'A1WI')call ClearSelectionForPlayer(Player(7))call SelectUnitAddForPlayer(KC4,Player(7))if GetLocalPlayer()==Player(7)thencall SetUnitVertexColor(KC4,255,255,255,255)elsecall SetUnitVertexColor(KC4,255,255,255,A27)endifset K34=CreateUnit(Player(8),'ncop',U7G,U8G,270)call UnitAddAbility(K34,'A1WI')call ClearSelectionForPlayer(Player(8))call SelectUnitAddForPlayer(K34,Player(8))if GetLocalPlayer()==Player(8)thencall SetUnitVertexColor(K34,255,255,255,255)elsecall SetUnitVertexColor(K34,255,255,255,A27)endifset K64=CreateUnit(Player(9),'ncop',U9G,UDG,270)call UnitAddAbility(K64,'A1WI')call ClearSelectionForPlayer(Player(9))call SelectUnitAddForPlayer(K64,Player(9))if GetLocalPlayer()==Player(9)thencall SetUnitVertexColor(K64,255,255,255,255)elsecall SetUnitVertexColor(K64,255,255,255,A27)endifset KL4=CreateUnit(Player(10),'ncop',UEG,UFG,270)call UnitAddAbility(KL4,'A1WI')call ClearSelectionForPlayer(Player(10))call SelectUnitAddForPlayer(KL4,Player(10))if GetLocalPlayer()==Player(10)thencall SetUnitVertexColor(KL4,255,255,255,255)elsecall SetUnitVertexColor(KL4,255,255,255,A27)endifset K14=CreateUnit(Player(11),'ncop',UGG,UHG,270)call UnitAddAbility(K14,'A1WI')call ClearSelectionForPlayer(Player(11))call SelectUnitAddForPlayer(K14,Player(11))if GetLocalPlayer()==Player(11)thencall SetUnitVertexColor(K14,255,255,255,255)elsecall SetUnitVertexColor(K14,255,255,255,A27)endifset K04[1]=KX4set K04[2]=KY4set K04[3]=KZ4set K04[4]=KA4set K04[5]=KB4set K04[7]=KC4set K04[8]=K34set K04[9]=K64set K04[10]=KL4set K04[11]=K14set K54[1]=GetUnitX(KX4)set K54[2]=GetUnitX(KY4)set K54[3]=GetUnitX(KZ4)set K54[4]=GetUnitX(KA4)set K54[5]=GetUnitX(KB4)set K54[7]=GetUnitX(KC4)set K54[8]=GetUnitX(K34)set K54[9]=GetUnitX(K64)set K54[10]=GetUnitX(KL4)set K54[11]=GetUnitX(K14)set K24[1]=GetUnitY(KX4)set K24[2]=GetUnitY(KY4)set K24[3]=GetUnitY(KZ4)set K24[4]=GetUnitY(KA4)set K24[5]=GetUnitY(KB4)set K24[7]=GetUnitY(KC4)set K24[8]=GetUnitY(K34)set K24[9]=GetUnitY(K64)set K24[10]=GetUnitY(KL4)set K24[11]=GetUnitY(K14)call B87()call BG7()call V97('esen',"stand 4")call V97('e00V',"stand 4")call V97('edry',"spell")call V97('e00W',"spell")call V97('ugho',"stand victory")call V97('u001',"stand victory")call V97('unec',"stand channel")call V97('u002',"stand channel")call U_7(V74,0.4,V74)call U_7(V94,0.5,V94)call U_7(U24,1.2,U24)call U_7(U_4,0.5,U_4)call U_7(V44,0.5,V44)call U_7(VD4,1,VD4)set t=CreateTrigger()set j8=Player(15)set UIG=GetUnitX(qK)set UJG=GetUnitY(qK)set UKG=GetUnitX(tJ)set UMG=GetUnitY(tJ)set UNG=GetUnitX(LK)set UOG=GetUnitY(LK)set UPG=GetUnitX(SJ)set UQG=GetUnitY(SJ)set URG=GetUnitX(IW4)set USG=GetUnitY(IW4)set UTG=GetUnitX(cJ)set UUG=GetUnitY(cJ)set UVG=GetUnitX(gJ)set UWG=GetUnitY(gJ)set UXG=GetUnitX(PK)set UYG=GetUnitY(PK)set UZG=GetUnitX(Cl)set UAG=GetUnitY(Cl)set U3G=GetUnitX(WW4)set U6G=GetUnitY(WW4)set UBG=GetUnitX(WY4)set UCG=GetUnitY(WY4)set ULG=GetUnitX(WX4)set U1G=GetUnitY(WX4)call RemoveUnit(qK)call RemoveUnit(IW4)call RemoveUnit(tJ)call RemoveUnit(SJ)call RemoveUnit(LK)call RemoveUnit(cJ)call RemoveUnit(gJ)call RemoveUnit(PK)call RemoveUnit(Cl)call RemoveUnit(WW4)call RemoveUnit(WY4)call RemoveUnit(WX4)set MC4=CreateUnit(j8,'n008',UPG,UQG,270)set M34=CreateUnit(j8,'n0GJ',URG,USG,270)set M64=CreateUnit(j8,'n01D',UTG,UUG,270)set ML4=CreateUnit(j8,'n0LH',UBG,UCG,270)set M14=CreateUnit(j8,'n01N',UIG,UJG,270)set M04=CreateUnit(j8,'n007',UKG,UMG,270)set M54=CreateUnit(j8,'n005',UNG,UOG,270)set M24=CreateUnit(j8,'n0LI',U3G,U6G,270)set M_4=CreateUnit(j8,'n01B',UVG,UWG,270)set N44=CreateUnit(j8,'n01P',UXG,UYG,270)set N74=CreateUnit(j8,'n0GK',UZG,UAG,270)set N84=CreateUnit(j8,'n0LJ',ULG,U1G,270)call SetUnitColor(MC4,ConvertPlayerColor(1))call SetUnitColor(M34,ConvertPlayerColor(1))call SetUnitColor(M64,ConvertPlayerColor(9))call SetUnitColor(ML4,ConvertPlayerColor(9))call SetUnitColor(M14,ConvertPlayerColor(6))call SetUnitColor(M04,ConvertPlayerColor(6))call SetUnitColor(M54,ConvertPlayerColor(10))call SetUnitColor(M24,ConvertPlayerColor(10))call SetUnitColor(M_4,ConvertPlayerColor(0))call SetUnitColor(N44,ConvertPlayerColor(0))call SetUnitColor(N74,ConvertPlayerColor(11))call SetUnitColor(N84,ConvertPlayerColor(11))set L44[1]=MC4set L44[2]=M34set L44[3]=M64set L44[4]=ML4set L44[5]=M14set L44[6]=M04set L44[7]=M54set L44[8]=M24set L44[9]=M_4set L44[10]=N44set L44[11]=N74set L44[12]=N84call KA9()call KZ9()set t=nullcall BI7()call BQ7()set WI=CreateTrigger()call TriggerRegisterTimerEventSingle(WI,0.01)call TriggerAddAction(WI,function BR7)set t=CreateTrigger()call TriggerRegisterPlayerEventLeave(t,Y7[1])call TriggerRegisterPlayerEventLeave(t,Y7[2])call TriggerRegisterPlayerEventLeave(t,Y7[3])call TriggerRegisterPlayerEventLeave(t,Y7[4])call TriggerRegisterPlayerEventLeave(t,Y7[5])call TriggerRegisterPlayerEventLeave(t,Z7[1])call TriggerRegisterPlayerEventLeave(t,Z7[2])call TriggerRegisterPlayerEventLeave(t,Z7[3])call TriggerRegisterPlayerEventLeave(t,Z7[4])call TriggerRegisterPlayerEventLeave(t,Z7[5])call TriggerAddAction(t,function BC7)if O8 thencall BT7()set t=CreateTrigger()if IsPlayerObserver(K_4)thencall TriggerRegisterPlayerEventLeave(t,K_4)endifif IsPlayerObserver(M44)thencall TriggerRegisterPlayerEventLeave(t,M44)endifcall TriggerAddAction(t,function BW7)endifset U2[0]=falseset U2[1]=falseset U2[2]=falseset U2[3]=falseset U2[4]=falseset U2[5]=falseset U2[6]=falseset U2[7]=falseset U2[8]=falseset U2[9]=falseset U2[10]=falseset U2[11]=falseset U2[12]=falseset U2[13]=falseset U2[14]=falseset U2[15]=falseset t=CreateTrigger()call WH7(t,EVENT_PLAYER_HERO_REVIVE_FINISH)call TriggerAddAction(t,function DAG)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,bj_mapInitialPlayableArea)call TriggerAddCondition(t,Condition(function MW8))call TriggerAddAction(t,function NH8)set NG4=tset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddAction(t,function NN8)call TriggerAddCondition(t,Condition(function NM8))set NI4=tset NJ4=CreateTrigger()call TriggerRegisterTimerEvent(NJ4,0.8,true)call TriggerAddCondition(NJ4,Condition(function NO8))call DisableTrigger(NJ4)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,.5,true)call TriggerAddAction(t,function VU8)set NK4=tcall VD8(0,0,false)call NR8()set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.5,true)call WH7(t,EVENT_PLAYER_UNIT_SELL)call TriggerAddCondition(t,Condition(function NS8))set t=nullcall VQ7('A27F')call VQ7('A27X')call VQ7('A27H')call VQ7('A27V')call VQ7('A27G')call VQ7('A27I')call VQ7('A27K')call VQ7('A27J')set OR=CreateTrigger()call TriggerRegisterPlayerUnitEvent(OR,Y7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(OR,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(OR,A7,EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerAddAction(OR,function NV8)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function SF8))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function T88))call TriggerAddAction(t,function TJ8)set XR=tset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function U48))set t=nullset N24=CreateTrigger()call TriggerAddCondition(N24,Condition(function UE8))set ZI=CreateTrigger()call TriggerRegisterPlayerUnitEvent(ZI,A7,EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerAddCondition(ZI,Condition(function UJ8))call TriggerAddAction(ZI,function UN8)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Y7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[0],EVENT_PLAYER_UNIT_DEATH,Condition(function Q37))call TriggerAddCondition(t,Condition(function UU8))set t=CreateTrigger()call TriggerAddCondition(t,Condition(function U08))call TriggerRegisterTimerEvent(t,6,false)set t=nullset AU=AU+1set NU[AU]='I0FF'set OU[AU]='I0FG'set PU[AU]=0set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSelectHeroOn.blp"set SU[AU]=0set AU=AU+1set NU[AU]='I02Q'set OU[AU]='I02O'set PU[AU]='h011'set QU[AU]='I00A'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBootsOfSpeed.blp"set SU[AU]=0set BU=AUset AU=AU+1set NU[AU]='I02S'set OU[AU]='I02P'set PU[AU]='h012'set QU[AU]='I0CA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set SU[AU]=0set CU=AUset AU=AU+1set NU[AU]='I02N'set OU[AU]='I02R'set PU[AU]='h013'set QU[AU]='I0CS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"set SU[AU]=0set LU=AUset AU=AU+1set NU[AU]='I02X'set OU[AU]='I02Y'set PU[AU]='h015'set QU[AU]='I0D4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNCirclet.blp"set SU[AU]=0set DV=AUset AU=AU+1set NU[AU]='I02Z'set OU[AU]='I043'set PU[AU]='h016'set QU[AU]='I0CV'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"set SU[AU]=0set EV=AUset AU=AU+1set NU[AU]='I030'set OU[AU]='I044'set PU[AU]='h017'set QU[AU]='I0D2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_03.blp"set SU[AU]=0set FV=AUset AU=AU+1set NU[AU]='I031'set OU[AU]='I045'set PU[AU]='h018'set QU[AU]='I0D5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"set SU[AU]=0set JV=AUset AU=AU+1set NU[AU]='I032'set OU[AU]='I046'set PU[AU]='h019'set QU[AU]='I0CZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSteelMelee.blp"set SU[AU]=0set MV=AUset AU=AU+1set NU[AU]='I033'set OU[AU]='I047'set PU[AU]='h01A'set QU[AU]='I0D7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_12.blp"set SU[AU]=0set NV=AUset AU=AU+1set NU[AU]='I034'set OU[AU]='I048'set PU[AU]='h01B'set QU[AU]='I0CX'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_19.blp"set SU[AU]=0set OV=AUset AU=AU+1set NU[AU]='I035'set OU[AU]='I049'set PU[AU]='h01C'set QU[AU]='I0CI'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNFrostMourne.blp"set SU[AU]=0set QV=AUset AU=AU+1set NU[AU]='I036'set OU[AU]='I04A'set PU[AU]='h01D'set QU[AU]='I0CH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Bow_06.blp"set SU[AU]=0set TV=AUset AU=AU+1set NU[AU]='I037'set OU[AU]='I04B'set PU[AU]='h01E'set QU[AU]='I0CR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"set SU[AU]=0set UV=AUset AU=AU+1set NU[AU]='I038'set OU[AU]='I04C'set PU[AU]='h01F'set QU[AU]='I0CJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGauntletsOfOgrePower.blp"set SU[AU]=0set XV=AUset AU=AU+1set NU[AU]='I039'set OU[AU]='I04D'set PU[AU]='h01G'set QU[AU]='I0DG'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"set SU[AU]=0set AV=AUset AU=AU+1set NU[AU]='I0MS'set OU[AU]='I0MR'set PU[AU]=0set QU[AU]='I0MT'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGem.blp"set SU[AU]=0set BV=AUset AU=AU+1set AU=AU+1set NU[AU]='I03B'set OU[AU]='I04E'set PU[AU]='h01H'set QU[AU]='I0DA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"set SU[AU]=0set CV=AUset AU=AU+1set NU[AU]='I03C'set OU[AU]='I04F'set PU[AU]='h01I'set QU[AU]='I0CQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPeriapt1.blp"set SU[AU]=0set LV=AUset AU=AU+1set NU[AU]='I03D'set OU[AU]='I04G'set PU[AU]='h01J'set QU[AU]='I0CU'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNNatureTouchGrow.blp"set SU[AU]=0set EW=AUset AU=AU+1set NU[AU]='I03E'set OU[AU]='I04H'set PU[AU]='h01K'set QU[AU]='I0C7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set SU[AU]=14set HW=AUset AU=AU+1set NU[AU]='I03E'set OU[AU]='I04I'set PU[AU]='h01K'set QU[AU]='I0DH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set SU[AU]=0set NW=AUset AU=AU+1set NU[AU]='I03F'set OU[AU]='I04J'set PU[AU]='h01L'set QU[AU]='I0CM'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNMantleOfIntelligence.blp"set SU[AU]=0set OW=AUset AU=AU+1set NU[AU]='I03G'set OU[AU]='I04K'set PU[AU]='h01M'set QU[AU]='I0CD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"set SU[AU]=0set QW=AUset AU=AU+1set NU[AU]='I03H'set OU[AU]='I04L'set PU[AU]='h01N'set QU[AU]='I0CG'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerMasterTraining.blp"set SU[AU]=0set RW=AUset AU=AU+1set NU[AU]='I03I'set OU[AU]='I04M'set PU[AU]='h01O'set QU[AU]='I0D0'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHammer.blp"set SU[AU]=0set TW=AUset AU=AU+1set NU[AU]='I03J'set OU[AU]='I04N'set PU[AU]='h01P'set QU[AU]='I0CN'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfNegation.blp"set SU[AU]=0set UW=AUset AU=AU+1set NU[AU]='I03K'set OU[AU]='I04O'set PU[AU]='h01Q'set QU[AU]='I0D8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSpiritWalkerAdeptTraining.tga"set SU[AU]=0set VW=AUset AU=AU+1set NU[AU]='I03L'set OU[AU]='I04P'set PU[AU]='h01R'set QU[AU]='I0CE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set SU[AU]=0set YW=AUset AU=AU+1set NU[AU]='I03M'set OU[AU]='I04Q'set PU[AU]='h01S'set QU[AU]='I0DB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate13.blp"set SU[AU]=0set ZW=AUset AU=AU+1set NU[AU]='I03N'set OU[AU]='I04R'set PU[AU]='h01T'set QU[AU]='I0CL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUsedSoulGem.blp"set SU[AU]=0set GX=AUset AU=AU+1set NU[AU]='I03P'set OU[AU]='I04S'set PU[AU]='h01U'set QU[AU]='I0CY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"set SU[AU]=0set RX=AUset AU=AU+1set NU[AU]='I03Q'set OU[AU]='I04T'set PU[AU]='h01V'set QU[AU]='I0DI'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"set SU[AU]=0set SX=AUset AU=AU+1set NU[AU]='I03R'set OU[AU]='I04U'set PU[AU]='h01W'set QU[AU]='I0CW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingPurple.blp"set SU[AU]=0set WX=AUset AU=AU+1set NU[AU]='I03S'set OU[AU]='I04V'set PU[AU]='h01X'set QU[AU]='I0DJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"set SU[AU]=0set YX=AUset AU=AU+1set NU[AU]='I03T'set OU[AU]='I04W'set PU[AU]='h01Y'set QU[AU]='I0CP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"set SU[AU]=0set ZX=AUset AU=AU+1set NU[AU]='I03U'set OU[AU]='I04X'set PU[AU]='h01Z'set QU[AU]='I0CC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfTeleportation.blp"set SU[AU]=0set GY=AUset AU=AU+1set NU[AU]='I03V'set OU[AU]='I04Y'set PU[AU]='h020'set QU[AU]='I0C5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"set SU[AU]=0set HY=AUset AU=AU+1set NU[AU]='I03W'set OU[AU]='I04Z'set PU[AU]='h021'set QU[AU]='I0DK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"set SU[AU]=0set SY=AUset AU=AU+1set NU[AU]='I03X'set OU[AU]='I050'set PU[AU]='h022'set QU[AU]='I0D1'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWandOfCyclone.blp"set SU[AU]=0set UY=AUset AU=AU+1set NU[AU]='I03A'set OU[AU]='I051'set PU[AU]='h023'set QU[AU]='I0D9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set SU[AU]=0set ZY=AUset AU=AU+1set NU[AU]='I0KB'set OU[AU]='I0KA'set PU[AU]=0set QU[AU]='I0KC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set SU[AU]=0set DZ=AUset AU=AU+1set NU[AU]='I03Y'set OU[AU]='I052'set PU[AU]='h024'set QU[AU]='I0C9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"set SU[AU]=0set EZ=AUset AU=AU+1set NU[AU]='I03Z'set OU[AU]='I053'set PU[AU]='h025'set QU[AU]='I0CK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSoulGem.blp"set SU[AU]=0set HZ=AUset AU=AU+1set NU[AU]='I040'set OU[AU]='I054'set PU[AU]='h026'set QU[AU]='I0DL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPeriapt.blp"set SU[AU]=0set NZ=AUset AU=AU+1set NU[AU]='I041'set OU[AU]='I055'set PU[AU]='h027'set QU[AU]='I0D6'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSteelRanged.blp"set SU[AU]=0set RZ=AUset AU=AU+1set NU[AU]='I00L'set OU[AU]='I0AV'set PU[AU]='h02B'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"set SU[AU]=0set XZ=AUset AU=AU+1set NU[AU]='I05E'set OU[AU]='I0AM'set PU[AU]=0set QU[AU]='I0DN'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle0.blp"set SU[AU]=0set AZ=AUset AU=AU+1set NU[AU]='I0AU'set OU[AU]='I0AN'set PU[AU]=0set QU[AU]='I0DO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle1.blp"set SU[AU]=0set BZ=AUset AU=AU+1set NU[AU]='I0AS'set OU[AU]='I0AO'set PU[AU]=0set QU[AU]='I0DP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle2.blp"set SU[AU]=0set CZ=AUset AU=AU+1set NU[AU]='I0AT'set OU[AU]='I0AP'set PU[AU]=0set QU[AU]='I0DQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle3.blp"set SU[AU]=0set IA=AUset AU=AU+1set NU[AU]='I0GW'set OU[AU]='I0GY'set PU[AU]=0set QU[AU]='I0H3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Illusion.blp"set SU[AU]=0set YA=AUset AU=AU+1set NU[AU]='I0H2'set OU[AU]='I0GX'set PU[AU]=0set QU[AU]='I0DR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Regeneration.blp"set SU[AU]=0set WA=AUset AU=AU+1set NU[AU]='I0GV'set OU[AU]='I0H1'set PU[AU]=0set QU[AU]='I0H4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Haste.blp"set SU[AU]=0set QA=AUset AU=AU+1set NU[AU]='I0AR'set OU[AU]='I0H0'set PU[AU]=0set QU[AU]='I0H6'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle_DoubleDamage.blp"set SU[AU]=0set NA=AUset AU=AU+1set NU[AU]='I0AQ'set OU[AU]='I0GZ'set PU[AU]=0set QU[AU]='I0H5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBottle_Invisibility.blp"set SU[AU]=0set JA=AUset AU=AU+1set NU[AU]='I0GD'set OU[AU]='I0GC'set PU[AU]='h074'set QU[AU]='I0GE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"set SU[AU]=17set ZA=AUset AU=AU+1set NU[AU]='I0HC'set OU[AU]='I0HB'set PU[AU]=0set QU[AU]='I0HA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStarWand.blp"set SU[AU]=17set E44=AUset AU=AU+1set NU[AU]='I0HT'set OU[AU]='I0HR'set PU[AU]='h07W'set QU[AU]='I0HV'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set SU[AU]=5set BA=AUset AU=AU+1set NU[AU]='I0HU'set OU[AU]='I0HP'set PU[AU]=0set QU[AU]='I0HW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set SU[AU]=5set GB=AUset AU=AU+1set NU[AU]='I0N4'set OU[AU]='I0N3'set PU[AU]=0set QU[AU]='I0N5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"set SU[AU]=30set QB=AUset AU=AU+1set NU[AU]='I0N7'set OU[AU]='I0N6'set PU[AU]=0set QU[AU]='I0N8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPoisonBlade.blp"set SU[AU]=30set VB=AUset AU=AU+1set NU[AU]='I0J7'set OU[AU]='I0J6'set PU[AU]='h083'set QU[AU]='I0J8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"set SU[AU]=0set JB=AUset AU=AU+1set NU[AU]='I0JJ'set OU[AU]='I0JI'set PU[AU]='h087'set QU[AU]='I0JK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGreenStaff.blp"set SU[AU]=30set EG4=AUset AU=AU+1set NU[AU]='I0MA'set OU[AU]='I0M9'set PU[AU]='h0CM'set QU[AU]='I0MB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set SU[AU]=0set FQ4=AUset AU=AU+1set NU[AU]='I0MD'set OU[AU]='I0ME'set PU[AU]=0set QU[AU]='I0MC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set SU[AU]=0set FR4=AUset AU=AU+1set NU[AU]='I057'set OU[AU]='I05C'set PU[AU]='h02A'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAncientOfTheEarth.blp"set SU[AU]=0set VC=AUset AU=AU+1set NU[AU]='I042'set OU[AU]='I05D'set PU[AU]='h028'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNLesserClarityPotion.blp"set SU[AU]=0set PC=AUset AU=AU+1set NU[AU]='I0HO'set OU[AU]='I0HN'set PU[AU]='h07V'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNVialFull.blp"set SU[AU]=0set QC=AUset AU=AU+1set NU[AU]='I056'set OU[AU]='I05F'set PU[AU]='h029'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHealingSalve.blp"set SU[AU]=0set TC=AUset AU=AU+1set NU[AU]='I058'set OU[AU]='I05G'set PU[AU]='h02C'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSentryWard.blp"set SU[AU]=0set XC=AUset AU=AU+1set NU[AU]='I059'set OU[AU]='I05H'set PU[AU]='h02D'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBlueSentryWard.blp"set SU[AU]=0set YC=AUset AU=AU+1set NU[AU]='I05A'set OU[AU]='I05I'set PU[AU]='h02E'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set SU[AU]=0set ZC=AUset AU=AU+1set NU[AU]='I05B'set OU[AU]='I05J'set PU[AU]='h02F'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNCritterChicken.blp"set SU[AU]=0set BC=AUset AU=AU+1set NU[AU]='I0B0'set OU[AU]='I0B1'set PU[AU]=0set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNCheese.blp"set SU[AU]=0set CC=AUset AU=AU+1set NU[AU]='I0GG'set OU[AU]='I0GF'set PU[AU]='h075'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPotionOfDivinity.blp"set SU[AU]=30set LC=AUset AU=AU+1set NU[AU]='I0GI'set OU[AU]='I0GH'set PU[AU]='h076'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDustOfAppearance.blp"set SU[AU]=60set H3=AUset AU=AU+1set NU[AU]='I0KT'set OU[AU]='I0KS'set PU[AU]='h0B9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWandOfManaSteal.blp"set SU[AU]=0set R3=AUset AU=AU+1set NU[AU]='I0NF'set OU[AU]='I0NG'set PU[AU]='h0D3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSmokePotion.blp"set SU[AU]=90set U3=AUset AU=AU+1set NU[AU]='I061'set OU[AU]='I062'set PU[AU]=0set QU[AU]='I01J'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfFire.blp"set SU[AU]=0set C3=AUset AU=AU+1set NU[AU]='I064'set OU[AU]='I063'set PU[AU]=0set QU[AU]='I01K'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_17.blp"set SU[AU]=0set E6=AUset AU=AU+1set NU[AU]='I065'set OU[AU]='I066'set PU[AU]=0set QU[AU]='I01L'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNThoriumArmor.blp"set SU[AU]=25set F6=AUset AU=AU+1set NU[AU]='I068'set OU[AU]='I067'set PU[AU]=0set QU[AU]='I01M'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"set SU[AU]=0set G6=AUset AU=AU+1set NU[AU]='I069'set OU[AU]='I06A'set PU[AU]=0set QU[AU]='I0C6'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingVioletSpider.tga"set SU[AU]=0set H6=AUset AU=AU+1set NU[AU]='I06C'set OU[AU]='I06B'set PU[AU]=0set QU[AU]='I01P'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAbility_Rogue_Sprint.blp"set SU[AU]=60set N6=AUset AU=AU+1set NU[AU]='I03O'set OU[AU]='I02T'set PU[AU]=0set QU[AU]='I01R'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegGreen.blp"set SU[AU]=0set V6=AUset AU=AU+1set NU[AU]='I02U'set OU[AU]='I05Y'set PU[AU]=0set QU[AU]='I01Q'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLeg.blp"set SU[AU]=0set W6=AUset AU=AU+1set NU[AU]='I060'set OU[AU]='I05Z'set PU[AU]=0set QU[AU]='I01S'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWirtsLegBlue.blp"set SU[AU]=0set A6=AUset AU=AU+1set NU[AU]='I06E'set OU[AU]='I06D'set PU[AU]=0set QU[AU]='I01T'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"set SU[AU]=100set DL=AUset AU=AU+1set NU[AU]='I0NO'set OU[AU]='I0NN'set PU[AU]=0set QU[AU]='I0NP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGoldGloves.BLP"set SU[AU]=100set HL=AUset AU=AU+1set NU[AU]='I06G'set OU[AU]='I06F'set PU[AU]=0set QU[AU]='I01U'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Mace_10.blp"set SU[AU]=0set RL=AUset AU=AU+1set NU[AU]='I06I'set OU[AU]='I06H'set PU[AU]=0set QU[AU]='I01V'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRunedBracers.blp"set SU[AU]=0set WL=AUset AU=AU+1set NU[AU]='I06K'set OU[AU]='I06J'set PU[AU]=0set QU[AU]='I01W'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRevenant.blp"set SU[AU]=0set ZL=AUset AU=AU+1set NU[AU]='I06M'set OU[AU]='I06L'set PU[AU]=0set QU[AU]='I01X'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNTalisman.tga"set SU[AU]=0set AL=AUset AU=AU+1set NU[AU]='I08F'set OU[AU]='I08G'set PU[AU]=0set QU[AU]='I01Y'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_10.blp"set SU[AU]=0set LL=AUset AU=AU+1set NU[AU]='I08I'set OU[AU]='I08H'set PU[AU]=0set QU[AU]='I01Z'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNJapaneseSword.BLP"set SU[AU]=0set D1=AUset AU=AU+1set NU[AU]='I08J'set OU[AU]='I08K'set PU[AU]=0set QU[AU]='I020'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"set SU[AU]=0set E1=AUset AU=AU+1set NU[AU]='I08M'set OU[AU]='I08L'set PU[AU]=0set QU[AU]='I0C8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Hammer_10.blp"set SU[AU]=0set F1=AUset AU=AU+1set NU[AU]='I08N'set OU[AU]='I08O'set PU[AU]=0set QU[AU]='I021'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Plate06.blp"set SU[AU]=22set J1=AUset AU=AU+1set NU[AU]='I08Q'set OU[AU]='I08P'set PU[AU]=0set QU[AU]='I022'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStormHammer.blp"set SU[AU]=0set P1=AUset AU=AU+1set NU[AU]='I08S'set OU[AU]='I08R'set PU[AU]=0set QU[AU]='I023'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"set SU[AU]=12set Q1=AUset AU=AU+1set NU[AU]='I0JB'set OU[AU]='I0J9'set PU[AU]=0set QU[AU]='I0JD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"set SU[AU]=12set R1=AUset AU=AU+1set NU[AU]='I0EW'set OU[AU]='I0EV'set PU[AU]=0set QU[AU]='I0EX'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_11.blp"set SU[AU]=0set T1=AUset AU=AU+1set NU[AU]='I0JC'set OU[AU]='I0JA'set PU[AU]=0set QU[AU]='I0JE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDiffusal2.blp"set SU[AU]=0set U1=AUset AU=AU+1set NU[AU]='I08U'set OU[AU]='I08T'set PU[AU]=0set QU[AU]='I024'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"set SU[AU]=300set V1=AUset AU=AU+1set NU[AU]='I08W'set OU[AU]='I08V'set PU[AU]=0set QU[AU]='I0CO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Helmet_13.blp"set SU[AU]=0set X1=AUset AU=AU+1set NU[AU]='I08X'set OU[AU]='I08Y'set PU[AU]=0set QU[AU]='I025'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHelmOfValor.blp"set SU[AU]=22set A1=AUset AU=AU+1set NU[AU]='I090'set OU[AU]='I08Z'set PU[AU]=0set QU[AU]='I026'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStaffofpurification.blp"set SU[AU]=30set E0=AUset AU=AU+1set NU[AU]='I092'set OU[AU]='I091'set PU[AU]=0set QU[AU]='I027'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPhilosophersStone.blp"set SU[AU]=0set J0=AUset AU=AU+1set NU[AU]='I094'set OU[AU]='I093'set PU[AU]=0set QU[AU]='I028'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSpellShieldAmulet.blp"set SU[AU]=45set O0=AUset AU=AU+1set NU[AU]='I096'set OU[AU]='I095'set PU[AU]=0set QU[AU]='I029'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSpell_Holy_BlessingOfStrength.blp"set SU[AU]=0set R0=AUset AU=AU+1set NU[AU]='I098'set OU[AU]='I097'set PU[AU]=0set QU[AU]='I02A'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAbility_Gouge.blp"set SU[AU]=0set X0=AUset AU=AU+1set NU[AU]='I09A'set OU[AU]='I099'set PU[AU]=0set QU[AU]='I02B'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_06.blp"set SU[AU]=0set Y0=AUset AU=AU+1set NU[AU]='I09B'set OU[AU]='I09C'set PU[AU]=0set QU[AU]='I02C'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNThoriumMelee.blp"set SU[AU]=0set F5=AUset AU=AU+1set NU[AU]='I0G2'set OU[AU]='I0FZ'set PU[AU]=0set QU[AU]='I0G8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=80set G5=AUset AU=AU+1set NU[AU]='I0G6'set OU[AU]='I0G0'set PU[AU]=0set QU[AU]='I0G9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=75set J5=AUset AU=AU+1set NU[AU]='I09E'set OU[AU]='I0FY'set PU[AU]=0set QU[AU]='I0G7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=70set M5=AUset AU=AU+1set NU[AU]='I0G5'set OU[AU]='I0FS'set PU[AU]=0set QU[AU]='I02D'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=65set N5=AUset AU=AU+1set NU[AU]='I0G3'set OU[AU]='I09D'set PU[AU]=0set QU[AU]='I0GB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=60set R5=AUset AU=AU+1set NU[AU]='I0G4'set OU[AU]='I0G1'set PU[AU]=0set QU[AU]='I0GA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRodOfNecromancy.blp"set SU[AU]=55set S5=AUset AU=AU+1set NU[AU]='I0AX'set OU[AU]='I0AW'set PU[AU]=0set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNArcaniteArmor.blp"set SU[AU]=0set T5=AUset AU=AU+1set NU[AU]='I09G'set OU[AU]='I09F'set PU[AU]=0set QU[AU]='I02E'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"set SU[AU]=35set W5=AUset AU=AU+1set NU[AU]='I0MV'set OU[AU]='I0MU'set PU[AU]=0set QU[AU]='I0MW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingAxe_02.blp"set SU[AU]=50set A5=AUset AU=AU+1set NU[AU]='I09I'set OU[AU]='I09H'set PU[AU]=0set QU[AU]='I02F'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNLothars.BLP"set SU[AU]=22set B5=AUset AU=AU+1set NU[AU]='I09K'set OU[AU]='I09M'set PU[AU]=0set QU[AU]='I01G'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set SU[AU]=40set C5=AUset AU=AU+1set NU[AU]='I09J'set OU[AU]='I09P'set PU[AU]=0set QU[AU]='I02G'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set SU[AU]=36set L5=AUset AU=AU+1set NU[AU]='I09Q'set OU[AU]='I09N'set PU[AU]=0set QU[AU]='I0DC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set SU[AU]=32set E2=AUset AU=AU+1set NU[AU]='I09S'set OU[AU]='I09O'set PU[AU]=0set QU[AU]='I0DD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set SU[AU]=28set F2=AUset AU=AU+1set NU[AU]='I09R'set OU[AU]='I09L'set PU[AU]=0set QU[AU]='I0D3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_06.blp"set SU[AU]=24set H2=AUset AU=AU+1set NU[AU]='I09U'set OU[AU]='I09T'set PU[AU]=0set QU[AU]='I02H'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNNecromancerAdept.blp"set SU[AU]=90set R2=AUset AU=AU+1set NU[AU]='I09V'set OU[AU]='I09X'set PU[AU]=0set QU[AU]='I02I'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBookOfTheDead.blp"set SU[AU]=90set T2=AUset AU=AU+1set NU[AU]='I09W'set OU[AU]='I09Y'set PU[AU]=0set QU[AU]='I02J'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNNecromancerMaster.blp"set SU[AU]=90set X2=AUset AU=AU+1set NU[AU]='I0A0'set OU[AU]='I09Z'set PU[AU]=0set QU[AU]='I0BO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"set SU[AU]=0set D44=AUset AU=AU+1set NU[AU]='I0HK'set OU[AU]='I0HJ'set PU[AU]=0set QU[AU]='I0HL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrb of Water.blp"set SU[AU]=0set D74=AUset AU=AU+1set NU[AU]='I0A2'set OU[AU]='I0A1'set PU[AU]=0set QU[AU]='I0BP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"set SU[AU]=0set D84=AUset AU=AU+1set NU[AU]='I0LI'set OU[AU]='I0LJ'set PU[AU]=0set QU[AU]='I0LK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_25.blp"set SU[AU]=0set D94=AUset AU=AU+1set NU[AU]='I0A4'set OU[AU]='I0A3'set PU[AU]=0set QU[AU]='I0BQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Crossbow_10.blp"set SU[AU]=0set DD4=AUset AU=AU+1set NU[AU]='I0A6'set OU[AU]='I0A5'set PU[AU]=0set QU[AU]='I0BR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"set SU[AU]=0set DE4=AUset AU=AU+1set NU[AU]='I0K8'set OU[AU]='I0K7'set PU[AU]=0set QU[AU]='I0K9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Weapon_Halberd_10.blp"set SU[AU]=0set DF4=AUset AU=AU+1set NU[AU]='I0A7'set OU[AU]='I0A8'set PU[AU]=0set QU[AU]='I0BS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"set SU[AU]=0set DG4=AUset AU=AU+1set NU[AU]='I0KQ'set OU[AU]='I0KP'set PU[AU]=0set QU[AU]='I0KR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNTransmute.blp"set SU[AU]=0set DH4=AUset AU=AU+1set NU[AU]='I0AA'set OU[AU]='I0A9'set PU[AU]=0set QU[AU]='I0BT'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"set SU[AU]=0set DJ4=AUset AU=AU+1set NU[AU]='I0AA'set OU[AU]='I0KL'set QU[AU]='I0KM'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfAszune.blp"set SU[AU]=0set DK4=AUset AU=AU+1set NU[AU]='I0AC'set OU[AU]='I0AB'set PU[AU]=0set QU[AU]='I0BU'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHornOfDoom.blp"set SU[AU]=35set DM4=AUset AU=AU+1set NU[AU]='I0AD'set OU[AU]='I0AE'set PU[AU]=0set QU[AU]='I0BV'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"set SU[AU]=0set DN4=AUset AU=AU+1set NU[AU]='I0AG'set OU[AU]='I0AF'set PU[AU]=0set QU[AU]='I0CT'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNIceShard.blp"set SU[AU]=0set DO4=AUset AU=AU+1set NU[AU]='I0AH'set OU[AU]='I0AI'set PU[AU]=0set QU[AU]='I0BW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_ThrowingKnife_04.blp"set SU[AU]=0set DP4=AUset AU=AU+1set NU[AU]='I0B8'set OU[AU]='I0AY'set PU[AU]=0set QU[AU]='I00B'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set F04=AUset AU=AU+1set NU[AU]='I0AK'set OU[AU]='I0AJ'set PU[AU]=0set QU[AU]='I0BX'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHeartOfSearinox.blp"set SU[AU]=210set DQ4=AUset AU=AU+1set NU[AU]='I07K'set OU[AU]='I0AL'set PU[AU]=0set QU[AU]='I0BY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Sword_09.blp"set SU[AU]=35set DR4=AUset AU=AU+1set NU[AU]='I0BB'set OU[AU]='I0BA'set PU[AU]=0set QU[AU]='I0BZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"set SU[AU]=0set DS4=AUset AU=AU+1set NU[AU]='I0LE'set OU[AU]='I0LC'set PU[AU]=0set QU[AU]='I0LD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedUnholyArmor.blp"set SU[AU]=0set DT4=AUset AU=AU+1set NU[AU]='I0BC'set OU[AU]='I0BD'set PU[AU]=0set QU[AU]='I00C'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNArcaneRing.blp"set SU[AU]=33set DU4=AUset AU=AU+1set NU[AU]='I0BF'set OU[AU]='I0BE'set PU[AU]=0set QU[AU]='I0C0'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNThunderMallet.blp"set SU[AU]=35set DV4=AUset AU=AU+1set NU[AU]='I014'set OU[AU]='I01D'set PU[AU]=0set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRavenForm.blp"set SU[AU]=0set DW4=AUset AU=AU+1set NU[AU]='I0BH'set OU[AU]='I0BG'set PU[AU]=0set QU[AU]='I0C1'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNCloakOfFlames.blp"set SU[AU]=0set DX4=AUset AU=AU+1set NU[AU]='I0BI'set OU[AU]='I0BJ'set PU[AU]=0set QU[AU]='I0C2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Chest_Chain_14.blp"set SU[AU]=0set DY4=AUset AU=AU+1set NU[AU]='I0BL'set OU[AU]='I0BK'set PU[AU]=0set QU[AU]='I0C3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Gem_Bloodstone_02.blp"set SU[AU]=0set DZ4=AUset AU=AU+1set NU[AU]='I0BN'set OU[AU]='I0BM'set PU[AU]=0set QU[AU]='I0C4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHoodOfCunning.blp"set SU[AU]=0set DA4=AUset AU=AU+1set NU[AU]='I00S'set OU[AU]='I00M'set PU[AU]=0set QU[AU]='I01C'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"set SU[AU]=0set DB4=AUset AU=AU+1set NU[AU]='I00T'set OU[AU]='I00Q'set PU[AU]=0set QU[AU]='I01E'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"set SU[AU]=0set DC4=AUset AU=AU+1set NU[AU]='I00V'set OU[AU]='I00N'set PU[AU]=0set QU[AU]='I01F'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyStrength.blp"set SU[AU]=0set D34=AUset AU=AU+1set NU[AU]='I00W'set OU[AU]='I00R'set PU[AU]=0set QU[AU]='I0DE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUnholyStrength.blp"set SU[AU]=0set D64=AUset AU=AU+1set NU[AU]='I00X'set OU[AU]='I00Z'set PU[AU]=0set QU[AU]='I0CF'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"set SU[AU]=30set DL4=AUset AU=AU+1set NU[AU]='I00Y'set OU[AU]='I010'set PU[AU]=0set QU[AU]='I0DF'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAdvancedMoonArmor.blp"set SU[AU]=0set D54=AUset AU=AU+1set NU[AU]='I013'set OU[AU]='I012'set PU[AU]=0set QU[AU]='I0CB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNStaffOfSilence.blp"set SU[AU]=18set D24=AUset AU=AU+1set NU[AU]='I0GK'set OU[AU]='I0GJ'set PU[AU]=0set QU[AU]='I0GL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPhaseBoots.blp"set SU[AU]=8set D_4=AUset AU=AU+1set NU[AU]='I0HG'set OU[AU]='I0HI'set PU[AU]=0set QU[AU]='I0HH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNForceStaff.blp"set SU[AU]=25set E74=AUset AU=AU+1set NU[AU]='I0I0'set OU[AU]='I0K6'set PU[AU]=0set QU[AU]='I0I2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPipeOfInsight.blp"set SU[AU]=25set E84=AUset AU=AU+1set NU[AU]='I0JG'set OU[AU]='I0JF'set PU[AU]=0set QU[AU]='I0JH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"set SU[AU]=12set E94=AUset AU=AU+1set NU[AU]='I0KD'set OU[AU]='I0KF'set PU[AU]=0set QU[AU]='I0KE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNImprovedUnholyArmor.blp"set SU[AU]=12set ED4=AUset AU=AU+1set NU[AU]='I0KX'set OU[AU]='I0KY'set PU[AU]=0set QU[AU]='I0KZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"set SU[AU]=8set EE4=AUset AU=AU+1set NU[AU]='I0LG'set OU[AU]='I0LF'set PU[AU]=0set QU[AU]='I0LH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUrnOfKelThuzad.blp"set SU[AU]=0set EF4=AUset AU=AU+1set NU[AU]='I0LP'set OU[AU]='I0LL'set PU[AU]=0set QU[AU]='I0LQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSoulRing.blp"set SU[AU]=25set FO4=AUset AU=AU+1set NU[AU]='I0LR'set OU[AU]='I0LT'set PU[AU]=0set QU[AU]='I0LS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGhostBlade.blp"set SU[AU]=30set FP4=AUset AU=AU+1set NU[AU]='I0MJ'set OU[AU]='I0MI'set PU[AU]=0set QU[AU]='I0MK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNArcaneBoots.blp"set SU[AU]=45set FS4=AUset AU=AU+1set NU[AU]='I0N1'set OU[AU]='I0N0'set PU[AU]=0set QU[AU]='I0N2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNMedalionOfCourage.blp"set SU[AU]=7set W3=AUset AU=AU+1set NU[AU]='I0ND'set OU[AU]='I0NE'set PU[AU]=0set QU[AU]='I0NC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"set SU[AU]=30set WB=AUset AU=AU+1set NU[AU]='I0NL'set OU[AU]='I0NK'set PU[AU]=0set QU[AU]='I0NM'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNJanggo.blp"set SU[AU]=0set YB=AUset AU=AU+1set NU[AU]='I0O2'set OU[AU]='I0O3'set PU[AU]=0set QU[AU]='I0O4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"set SU[AU]=30set Y3=AUset AU=AU+1set NU[AU]='I0OC'set OU[AU]='I0OE'set PU[AU]=0set QU[AU]='I0OD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBoneChimes.blp"set SU[AU]=30set LB=AUset AU=AU+1set NU[AU]='I0OF'set OU[AU]='I0OG'set PU[AU]=0set QU[AU]='I0OH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"set SU[AU]=30set EC=AUset AU=AU+1set NU[AU]='I0OJ'set OU[AU]='I0OI'set PU[AU]=0set QU[AU]='I0OK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNTranquilBoots.blp"set SU[AU]=30set FC=AUset AU=AU+1set NU[AU]='I0OM'set OU[AU]='I0OL'set PU[AU]=0set QU[AU]='I0ON'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWitchDoctorMaster.blp"set SU[AU]=20set GC=AUset AU=AU+1set NU[AU]='I0OP'set OU[AU]='I0OO'set PU[AU]=0set QU[AU]='I0OQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNPendantOfMana.blp"set SU[AU]=20set JC=AUset AU=AU+1set NU[AU]='I0OU'set OU[AU]='I0OV'set PU[AU]=0set QU[AU]='I0OW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHalberd.blp"set SU[AU]=30set Z3=AUset AU=AU+1set NU[AU]='I0OY'set OU[AU]='I0OX'set PU[AU]=0set QU[AU]='I0OZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAnnihilator.blp"set SU[AU]=60set B3=AUset AU=AU+1set NU[AU]='I0P0'set OU[AU]='I0P1'set PU[AU]=0set QU[AU]='I0P2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"set SU[AU]=0set NC=AUset AU=AU+1set NU[AU]='I0P3'set OU[AU]='I0P4'set PU[AU]=0set QU[AU]='I0P5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingJadeFalcon.blp"set SU[AU]=0set OC=AUset AU=AU+1set NU[AU]='PBMM'set OU[AU]='PBMN'set PU[AU]=0set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set SU[AU]=0set AC=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02G'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h086'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I05L'set OU[AU]='I05R'set PU[AU]='h02H'set QU[AU]='I0DS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EH4=AUset AU=AU+1set NU[AU]='I05M'set OU[AU]='I05S'set PU[AU]='h02I'set QU[AU]='I0DT'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EI4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02J'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I05O'set OU[AU]='I05T'set PU[AU]='h02K'set QU[AU]='I0DU'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EJ4=AUset AU=AU+1set PU[AU]='h014'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EK4=AUset AU=AU+1set NU[AU]='I05P'set OU[AU]='I05U'set PU[AU]='h02L'set QU[AU]='I0DW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EM4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02M'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I05K'set OU[AU]='I05V'set PU[AU]='h02N'set QU[AU]='I0DX'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EN4=AUset AU=AU+1set NU[AU]='I05N'set OU[AU]='I05W'set PU[AU]='h02O'set QU[AU]='I0DY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EO4=AUset AU=AU+1set NU[AU]='I05Q'set OU[AU]='I05X'set PU[AU]='h02P'set QU[AU]='I0DZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EP4=AUset AU=AU+1set NU[AU]='I06N'set OU[AU]='I06O'set PU[AU]='h02Q'set QU[AU]='I0E0'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EQ4=AUset AU=AU+1set NU[AU]='I06Q'set OU[AU]='I06P'set PU[AU]='h02R'set QU[AU]='I0E1'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set ER4=AUset AU=AU+1set NU[AU]='I06R'set OU[AU]='I06S'set PU[AU]='h02S'set QU[AU]='I0E2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set ES4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02T'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I06W'set OU[AU]='I06V'set PU[AU]='h02U'set QU[AU]='I0E4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set ET4=AUset AU=AU+1set NU[AU]='I06X'set OU[AU]='I06Y'set PU[AU]='h02V'set QU[AU]='I0E5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EU4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02W'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I070'set OU[AU]='I06Z'set PU[AU]='h02X'set QU[AU]='I0E6'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EV4=AUset AU=AU+1set NU[AU]='I071'set OU[AU]='I072'set PU[AU]='h02Y'set QU[AU]='I0E7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EW4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h02Z'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I074'set OU[AU]='I073'set PU[AU]='h030'set QU[AU]='I0E8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EX4=AUset AU=AU+1set PU[AU]='h031'set RU[AU]=""set SU[AU]=0set EY4=AUset AU=AU+1set NU[AU]='I076'set OU[AU]='I07V'set PU[AU]='h032'set QU[AU]='I0EA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EZ4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h033'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I077'set OU[AU]='I07W'set PU[AU]='h034'set QU[AU]='I0EB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EA4=AUset AU=AU+1set NU[AU]='I078'set OU[AU]='I07X'set PU[AU]='h035'set QU[AU]='I0EC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EB4=AUset AU=AU+1set NU[AU]='I079'set OU[AU]='I07Y'set PU[AU]='h036'set QU[AU]='I0ED'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EC4=AUset AU=AU+1set NU[AU]='I07A'set OU[AU]='I07Z'set PU[AU]='h037'set QU[AU]='I0EE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E34=AUset AU=AU+1set NU[AU]='I07B'set OU[AU]='I080'set PU[AU]='h038'set QU[AU]='I0EF'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E64=AUset AU=AU+1set NU[AU]='I07C'set OU[AU]='I081'set PU[AU]='h039'set QU[AU]='I0EG'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set EL4=AUset AU=AU+1set NU[AU]='I07D'set OU[AU]='I082'set PU[AU]='h03A'set QU[AU]='I0EH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E14=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03C'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I07E'set OU[AU]='I083'set PU[AU]='h03D'set QU[AU]='I0EI'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E04=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03E'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I07G'set OU[AU]='I07F'set PU[AU]='h03F'set QU[AU]='I0EJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E54=AUset AU=AU+1set NU[AU]='I07H'set OU[AU]='I084'set PU[AU]='h03G'set QU[AU]='I0EK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E24=AUset AU=AU+1set NU[AU]='I07O'set OU[AU]='I085'set PU[AU]='h03H'set QU[AU]='I0EL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set E_4=AUset AU=AU+1set PU[AU]='h03J'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set F44=AUset AU=AU+1set NU[AU]='I07J'set OU[AU]='I088'set PU[AU]='h03L'set QU[AU]='I0EO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set F74=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03M'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03N'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I07M'set OU[AU]='I089'set PU[AU]='h03O'set QU[AU]='I0EP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set F84=AUset AU=AU+1set NU[AU]='I07P'set OU[AU]='I08A'set PU[AU]='h03Q'set QU[AU]='I0EQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set F94=AUset AU=AU+1set NU[AU]='I07Q'set OU[AU]='I08B'set PU[AU]='h03R'set QU[AU]='I0ER'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FD4=AUset AU=AU+1set NU[AU]='I07R'set OU[AU]='I08C'set PU[AU]='h03S'set QU[AU]='I0ES'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FE4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03T'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h03U'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I07S'set OU[AU]='I08D'set PU[AU]='h03V'set QU[AU]='I0ET'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FF4=AUset AU=AU+1set NU[AU]='I07T'set OU[AU]='I08E'set PU[AU]='h03W'set QU[AU]='I0EU'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FG4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h079'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]='I0H8'set OU[AU]='I0H7'set PU[AU]='h07S'set QU[AU]='I0H9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FH4=AUset AU=AU+1set NU[AU]='I0HD'set OU[AU]='I0HF'set PU[AU]='h07T'set QU[AU]='I0HE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FI4=AUset AU=AU+1set NU[AU]='I0HX'set OU[AU]='I0HZ'set PU[AU]='h07X'set QU[AU]='I0HY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FJ4=AUset AU=AU+1set NU[AU]='I07L'set OU[AU]='I0KN'set PU[AU]='h03P'set QU[AU]='I0KO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FK4=AUset AU=AU+1set NU[AU]='I0KW'set OU[AU]='I0KV'set PU[AU]='h0BA'set QU[AU]='I0KU'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FM4=AUset AU=AU+1set NU[AU]='I0LM'set OU[AU]='I0LN'set PU[AU]='h0BQ'set QU[AU]='I0LO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FN4=AUset AU=AU+1set NU[AU]='I0N9'set OU[AU]='I0NA'set PU[AU]='h0D1'set QU[AU]='I0NB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FT4=AUset AU=AU+1set NU[AU]='I0NH'set OU[AU]='I0NI'set PU[AU]='h0CY'set QU[AU]='I0NJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FU4=AUset AU=AU+1set NU[AU]='I0O5'set OU[AU]='I0O6'set PU[AU]='h0DD'set QU[AU]='I0O7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FV4=AUset AU=AU+1set NU[AU]='I0OB'set OU[AU]='I0OA'set PU[AU]='h03X'set QU[AU]='I0O9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSnazzyScroll.blp"set SU[AU]=0set FW4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h0DT'set RU[AU]=""set SU[AU]=0set FX4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h0DU'set RU[AU]=""set SU[AU]=0set FY4=AUset AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h0E9'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h0EA'set RU[AU]=""set SU[AU]=0set AU=AU+1set NU[AU]=0set OU[AU]=0set PU[AU]='h0EC'set RU[AU]=""set SU[AU]=0set t=CreateTrigger()call TriggerAddCondition(t,Condition(function LH8))set IP4=tset t=nullset F14=F14+1set FA4[F14]=SXset FB4[F14]=NZset FL4[F14]=C3set F14=F14+1set FA4[F14]=YXset FB4[F14]=EWset FC4[F14]=EH4set FL4[F14]=E6set F14=F14+1set FA4[F14]=NVset FB4[F14]=EWset FC4[F14]=EI4set FL4[F14]=F6set F14=F14+1set FA4[F14]=WXset FB4[F14]=SYset FL4[F14]=G6set F14=F14+1set FA4[F14]=BUset FB4[F14]=EJ4set FL4[F14]=N6set F14=F14+1set FA4[F14]=BUset FB4[F14]=LUset FC4[F14]=CUset FL4[F14]=V6set F14=F14+1set FA4[F14]=BUset FB4[F14]=EVset FC4[F14]=CUset FL4[F14]=W6set F14=F14+1set FA4[F14]=BUset FB4[F14]=ZXset FC4[F14]=CUset FL4[F14]=A6set F14=F14+1set FA4[F14]=CUset FB4[F14]=EM4set FL4[F14]=DLset F14=F14+1set FA4[F14]=RXset FB4[F14]=ZXset FC4[F14]=SYset FL4[F14]=RLset F14=F14+1set FA4[F14]=DVset FB4[F14]=XVset FC4[F14]=EN4set FL4[F14]=WLset F14=F14+1set FA4[F14]=DVset FB4[F14]=HYset FC4[F14]=EO4set FL4[F14]=ZLset F14=F14+1set FA4[F14]=DVset FB4[F14]=OWset FC4[F14]=EP4set FL4[F14]=ALset F14=F14+1set FA4[F14]=FVset FB4[F14]=LUset FC4[F14]=EQ4set FL4[F14]=LLset F14=F14+1set FA4[F14]=VWset FB4[F14]=EVset FC4[F14]=ER4set FL4[F14]=D1set F14=F14+1set FA4[F14]=RZset FB4[F14]=EVset FC4[F14]=ES4set FL4[F14]=E1set F14=F14+1set FA4[F14]=MVset FB4[F14]=NVset FC4[F14]=ZXset FL4[F14]=J1set F14=F14+1set FA4[F14]=TWset FB4[F14]=CUset FC4[F14]=ET4set FL4[F14]=P1set F14=F14+1set FA4[F14]=FVset FB4[F14]=FVset FC4[F14]=ZXset F34[F14]=EU4set FL4[F14]=Q1set F14=F14+1set FA4[F14]=Q1set FB4[F14]=EU4set FL4[F14]=R1set F14=F14+1set FA4[F14]=T1set FB4[F14]=EU4set FL4[F14]=R1set F14=F14+1set FA4[F14]=CVset FB4[F14]=QWset FL4[F14]=V1set F14=F14+1set FA4[F14]=QWset FB4[F14]=EV4set FL4[F14]=A1set F14=F14+1set FA4[F14]=NZset FB4[F14]=UYset FC4[F14]=SYset F34[F14]=EW4set FL4[F14]=E0set F14=F14+1set FA4[F14]=GXset FB4[F14]=UVset FC4[F14]=HZset FL4[F14]=J0set F14=F14+1set FA4[F14]=E6set FB4[F14]=F6set FC4[F14]=EX4set FL4[F14]=O0set F14=F14+1set FA4[F14]=D1set FB4[F14]=LLset FL4[F14]=R0set F14=F14+1set FA4[F14]=TWset FB4[F14]=TWset FC4[F14]=EZ4set FL4[F14]=X0set F14=F14+1set FA4[F14]=C3set FB4[F14]=MVset FC4[F14]=OVset FL4[F14]=Y0set F14=F14+1set FA4[F14]=JVset FB4[F14]=MVset FC4[F14]=EA4set FL4[F14]=F5set F14=F14+1set FA4[F14]=TWset FB4[F14]=VWset FC4[F14]=EB4set FL4[F14]=G5set F14=F14+1set FA4[F14]=LLset FB4[F14]=EZset FC4[F14]=EC4set FL4[F14]=A5set F14=F14+1set FA4[F14]=RXset FB4[F14]=OVset FC4[F14]=E34set FL4[F14]=B5set F14=F14+1set FA4[F14]=UYset FB4[F14]=ALset FC4[F14]=E64set FL4[F14]=C5set F14=F14+1set FA4[F14]=C5set FB4[F14]=E64set FL4[F14]=L5set F14=F14+1set FA4[F14]=L5set FB4[F14]=E64set FL4[F14]=E2set F14=F14+1set FA4[F14]=E2set FB4[F14]=E64set FL4[F14]=F2set F14=F14+1set FA4[F14]=F2set FB4[F14]=E64set FL4[F14]=H2set F14=F14+1set FA4[F14]=UYset FB4[F14]=EVset FC4[F14]=EL4set FL4[F14]=R2set F14=F14+1set FA4[F14]=R2set FB4[F14]=EL4set FL4[F14]=T2set F14=F14+1set FA4[F14]=T2set FB4[F14]=EL4set FL4[F14]=X2set F14=F14+1set FA4[F14]=EZset FB4[F14]=C3set FC4[F14]=E14set FL4[F14]=D44set F14=F14+1set FA4[F14]=QVset FB4[F14]=GYset FL4[F14]=D84set F14=F14+1set FA4[F14]=F5set FB4[F14]=QVset FC4[F14]=E04set FL4[F14]=DD4set F14=F14+1set FA4[F14]=QVset FB4[F14]=RZset FC4[F14]=RZset FL4[F14]=DE4set F14=F14+1set FA4[F14]=GYset FB4[F14]=E54set FL4[F14]=DG4set F14=F14+1set FA4[F14]=RWset FB4[F14]=HZset FC4[F14]=E24set FL4[F14]=DJ4set F14=F14+1set FA4[F14]=RWset FB4[F14]=V1set FC4[F14]=E_4set FL4[F14]=DM4set F14=F14+1set FA4[F14]=RWset FB4[F14]=X1set FC4[F14]=E_4set FL4[F14]=DM4set F14=F14+1set FA4[F14]=EZset FB4[F14]=EZset FC4[F14]=GXset F34[F14]=FQ4set FL4[F14]=DN4set F14=F14+1set FA4[F14]=EZset FB4[F14]=EZset FC4[F14]=GXset F34[F14]=FR4set FL4[F14]=DN4set F14=F14+1set FA4[F14]=TVset FB4[F14]=RXset FC4[F14]=JBset FL4[F14]=DP4set F14=F14+1set FA4[F14]=SYset FB4[F14]=NVset FC4[F14]=FU4set FL4[F14]=W3set F14=F14+1set FA4[F14]=FVset FB4[F14]=VWset FC4[F14]=GXset F34[F14]=UYset FL4[F14]=F04set F14=F14+1set FA4[F14]=C3set FB4[F14]=RLset FC4[F14]=F74set FL4[F14]=DQ4set F14=F14+1set FA4[F14]=EZset FB4[F14]=UWset FC4[F14]=NZset FL4[F14]=DR4set F14=F14+1set FA4[F14]=HZset FB4[F14]=SXset FC4[F14]=ZYset FL4[F14]=DS4set F14=F14+1set FA4[F14]=HZset FB4[F14]=SXset FC4[F14]=DZset FL4[F14]=DS4set F14=F14+1set FA4[F14]=UVset FB4[F14]=WXset FC4[F14]=F84set FL4[F14]=DU4set F14=F14+1set FA4[F14]=LVset FB4[F14]=P1set FC4[F14]=FK4set FL4[F14]=DV4set F14=F14+1set FA4[F14]=BCset FC4[F14]=F94set FL4[F14]=DW4set F14=F14+1set FA4[F14]=YXset FB4[F14]=G6set FC4[F14]=QWset F34[F14]=FD4set FL4[F14]=DX4set F14=F14+1set FA4[F14]=YXset FB4[F14]=H6set FC4[F14]=QWset F34[F14]=FD4set FL4[F14]=DX4set F14=F14+1set FA4[F14]=LVset FB4[F14]=ZWset FC4[F14]=NVset F34[F14]=FE4set FL4[F14]=DY4set F14=F14+1set FA4[F14]=J0set FB4[F14]=C3set FL4[F14]=DZ4set F14=F14+1set FA4[F14]=YXset FB4[F14]=YXset FC4[F14]=SXset F34[F14]=YWset FL4[F14]=DA4set F14=F14+1set FA4[F14]=CUset FB4[F14]=CVset FC4[F14]=JVset F34[F14]=FF4set FL4[F14]=DC4set F14=F14+1set FA4[F14]=UWset FB4[F14]=ZWset FC4[F14]=FG4set FL4[F14]=DL4set F14=F14+1set FA4[F14]=RLset FB4[F14]=RLset FC4[F14]=FW4set FL4[F14]=D24set F14=F14+1set FA4[F14]=BUset FB4[F14]=JVset FC4[F14]=JVset FL4[F14]=D_4set F14=F14+1set FA4[F14]=ZAset FB4[F14]=EWset FC4[F14]=EWset F34[F14]=EWset F64[F14]=FH4set FL4[F14]=E44set F14=F14+1set FA4[F14]=RXset FB4[F14]=UYset FC4[F14]=FI4set FL4[F14]=E74set F14=F14+1set FA4[F14]=DA4set FB4[F14]=E6set FC4[F14]=FJ4set FL4[F14]=E84set F14=F14+1set FA4[F14]=ZYset FB4[F14]=HYset FC4[F14]=HYset FL4[F14]=E94set F14=F14+1set FA4[F14]=DZset FB4[F14]=HYset FC4[F14]=HYset FL4[F14]=E94set F14=F14+1set FA4[F14]=SYset FB4[F14]=XVset FC4[F14]=XVset F34[F14]=FM4set FL4[F14]=EE4set F14=F14+1set FA4[F14]=SYset FB4[F14]=YXset FC4[F14]=FN4set FL4[F14]=FO4set F14=F14+1set FA4[F14]=TVset FB4[F14]=EG4set FL4[F14]=FP4set F14=F14+1set FA4[F14]=BUset FB4[F14]=UVset FL4[F14]=FS4set F14=F14+1set FA4[F14]=ZXset FB4[F14]=WLset FC4[F14]=FT4set FL4[F14]=WBset F14=F14+1set FA4[F14]=WBset FB4[F14]=FT4set FL4[F14]=WBset F14=F14+1set FA4[F14]=YBset FB4[F14]=FT4set FL4[F14]=WBset F14=F14+1set FA4[F14]=CVset FB4[F14]=ZXset FC4[F14]=FV4set FL4[F14]=Y3set F14=F14+1set FA4[F14]=BUset FB4[F14]=WXset FC4[F14]=YXset FL4[F14]=ECset F14=F14+1set FA4[F14]=UYset FB4[F14]=UYset FC4[F14]=HZset FL4[F14]=GCset F14=F14+1set FA4[F14]=D1set FB4[F14]=JBset FL4[F14]=Z3set F14=F14+1set FA4[F14]=E1set FB4[F14]=GYset FL4[F14]=B3set F14=F14+1set FA4[F14]=ZLset FB4[F14]=G6set FL4[F14]=NCset F14=F14+1set FA4[F14]=ZLset FB4[F14]=H6set FL4[F14]=OCset AU=AU+1set NU[AU]='I0AZ'set OU[AU]='I011'set PU[AU]=0set QU[AU]='I0EY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set F54=AUset AU=AU+1set NU[AU]='I00F'set OU[AU]='I00D'set PU[AU]=0set QU[AU]='I0EZ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set F24=AUset AU=AU+1set NU[AU]='I018'set OU[AU]='I009'set PU[AU]=0set QU[AU]='I0F0'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set F_4=AUset AU=AU+1set NU[AU]='I019'set OU[AU]='I005'set PU[AU]=0set QU[AU]='I0F6'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G44=AUset AU=AU+1set NU[AU]='I01A'set OU[AU]='I00G'set PU[AU]=0set QU[AU]='I0F1'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G74=AUset AU=AU+1set NU[AU]='I01B'set OU[AU]='I004'set PU[AU]=0set QU[AU]='I0F2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G84=AUset AU=AU+1set NU[AU]='I01H'set OU[AU]='I003'set PU[AU]=0set QU[AU]='I0F3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G94=AUset AU=AU+1set NU[AU]='I01I'set OU[AU]='I002'set PU[AU]=0set QU[AU]='I0F5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GD4=AUset AU=AU+1set NU[AU]='I02K'set OU[AU]='I001'set PU[AU]=0set QU[AU]='I0F4'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GE4=AUset AU=AU+1set NU[AU]='I02L'set OU[AU]='I00I'set PU[AU]=0set QU[AU]='I0FE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GG4=AUset AU=AU+1set NU[AU]='I0B2'set OU[AU]='I00H'set PU[AU]=0set QU[AU]='I0F9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GI4=AUset AU=AU+1set NU[AU]='I0B3'set OU[AU]='I00P'set PU[AU]=0set QU[AU]='I0FA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GJ4=AUset AU=AU+1set NU[AU]='I0B4'set OU[AU]='I00U'set PU[AU]=0set QU[AU]='I0F7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GK4=AUset AU=AU+1set NU[AU]='I0B7'set OU[AU]='I000'set PU[AU]=0set QU[AU]='I0FD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GM4=AUset AU=AU+1set NU[AU]='I0B6'set OU[AU]='I016'set PU[AU]=0set QU[AU]='I0FC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GN4=AUset AU=AU+1set NU[AU]='I0B5'set OU[AU]='I017'set PU[AU]=0set QU[AU]='I0FB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GO4=AUset AU=AU+1set NU[AU]='I0B9'set OU[AU]='I00O'set PU[AU]=0set QU[AU]='I0F8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GP4=AUset AU=AU+1set NU[AU]='I0J5'set OU[AU]='I0IT'set PU[AU]=0set QU[AU]='I0IJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GQ4=AUset AU=AU+1set NU[AU]='I0IV'set OU[AU]='I0IU'set PU[AU]=0set QU[AU]='I0I9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GR4=AUset AU=AU+1set NU[AU]='I0IW'set OU[AU]='I0IS'set PU[AU]=0set QU[AU]='I0II'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GS4=AUset AU=AU+1set NU[AU]='I0IX'set OU[AU]='I0IR'set PU[AU]=0set QU[AU]='I0IA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GT4=AUset AU=AU+1set NU[AU]='I0IY'set OU[AU]='I0IQ'set PU[AU]=0set QU[AU]='I0IH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GU4=AUset AU=AU+1set NU[AU]='I0IZ'set OU[AU]='I0IK'set PU[AU]=0set QU[AU]='I0IG'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GV4=AUset AU=AU+1set NU[AU]='I0J0'set OU[AU]='I0IL'set PU[AU]=0set QU[AU]='I0IF'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GW4=AUset AU=AU+1set NU[AU]='I0J1'set OU[AU]='I0IM'set PU[AU]=0set QU[AU]='I0IE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GX4=AUset AU=AU+1set NU[AU]='I0J2'set OU[AU]='I0IP'set PU[AU]=0set QU[AU]='I0ID'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GY4=AUset AU=AU+1set NU[AU]='I0J3'set OU[AU]='I0IO'set PU[AU]=0set QU[AU]='I0IC'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GZ4=AUset AU=AU+1set NU[AU]='I0J4'set OU[AU]='I0IN'set PU[AU]=0set QU[AU]='I0IB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GA4=AUset AU=AU+1set NU[AU]='I0I6'set OU[AU]='I0I7'set PU[AU]=0set QU[AU]='I0I8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GB4=AUset AU=AU+1set NU[AU]='I0JZ'set OU[AU]='I0JS'set PU[AU]=0set QU[AU]='I0JR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G34=AUset AU=AU+1set NU[AU]='I0K0'set OU[AU]='I0JT'set PU[AU]=0set QU[AU]='I0JL'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G64=AUset AU=AU+1set NU[AU]='I0K1'set OU[AU]='I0JU'set PU[AU]=0set QU[AU]='I0JM'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GL4=AUset AU=AU+1set NU[AU]='I0K2'set OU[AU]='I0JW'set PU[AU]=0set QU[AU]='I0JN'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G14=AUset AU=AU+1set NU[AU]='I0K3'set OU[AU]='I0JV'set PU[AU]=0set QU[AU]='I0JQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G04=AUset AU=AU+1set NU[AU]='I0K4'set OU[AU]='I0JY'set PU[AU]=0set QU[AU]='I0JP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G54=AUset AU=AU+1set NU[AU]='I0K5'set OU[AU]='I0JX'set PU[AU]=0set QU[AU]='I0JO'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G24=AUset AU=AU+1set NU[AU]='I0KI'set OU[AU]='I0KH'set PU[AU]=0set QU[AU]='I0KJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set G_4=AUset AU=AU+1set NU[AU]='I0L4'set OU[AU]='I0L5'set PU[AU]=0set QU[AU]='I0L8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set GH4=AUset AU=AU+1set NU[AU]='I0L3'set OU[AU]='I0L0'set PU[AU]=0set QU[AU]='I0L9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set H44=AUset AU=AU+1set NU[AU]='I0L2'set OU[AU]='I0L7'set PU[AU]=0set QU[AU]='I0LA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set H74=AUset AU=AU+1set NU[AU]='I0LU'set OU[AU]='I0LV'set PU[AU]=0set QU[AU]='I0LW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set H84=AUset AU=AU+1set NU[AU]='I0M1'set OU[AU]='I0M0'set PU[AU]=0set QU[AU]='I0M2'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HD4=AUset AU=AU+1set NU[AU]='I0M5'set OU[AU]='I0M4'set PU[AU]=0set QU[AU]='I0M3'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HE4=AUset AU=AU+1set NU[AU]='I0M6'set OU[AU]='I0M7'set PU[AU]=0set QU[AU]='I0M8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HF4=AUset AU=AU+1set NU[AU]='I0MF'set OU[AU]='I0MG'set PU[AU]=0set QU[AU]='I0MH'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HG4=AUset AU=AU+1set NU[AU]='I0MM'set OU[AU]='I0ML'set PU[AU]=0set QU[AU]='I0MN'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HH4=AUset AU=AU+1set NU[AU]='I0MO'set OU[AU]='I0MP'set PU[AU]=0set QU[AU]='I0MQ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HI4=AUset AU=AU+1set NU[AU]='I0NQ'set OU[AU]='I0NR'set PU[AU]=0set QU[AU]='I0NS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HJ4=AUset AU=AU+1set NU[AU]='I0NT'set OU[AU]='I0NU'set PU[AU]=0set QU[AU]='I0NV'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HK4=AUset AU=AU+1set NU[AU]='I0NW'set OU[AU]='I0NX'set PU[AU]=0set QU[AU]='I0NY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HM4=AUset AU=AU+1set NU[AU]='I0NZ'set OU[AU]='I0O0'set PU[AU]=0set QU[AU]='I0O1'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HN4=AUset AU=AU+1set NU[AU]='I0OR'set OU[AU]='I0OS'set PU[AU]=0set QU[AU]='I0OT'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=60set HO4=AUset AU=AU+1set NU[AU]='I03A'set OU[AU]='I051'set PU[AU]='h08K'set QU[AU]='I0D9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSteelArmor.blp"set SU[AU]=0set ZU[AU]=ZYset AU=AU+1set NU[AU]='I03Y'set OU[AU]='I052'set PU[AU]='h08X'set QU[AU]='I0C9'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbofSlowness.blp"set SU[AU]=0set ZU[AU]=EZset AU=AU+1set NU[AU]='I02S'set OU[AU]='I02P'set PU[AU]='h08S'set QU[AU]='I0CA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set SU[AU]=0set ZU[AU]=CUset AU=AU+1set NU[AU]='I02N'set OU[AU]='I02R'set PU[AU]='h08P'set QU[AU]='I0CS'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBoots.blp"set SU[AU]=0set ZU[AU]=LUset AU=AU+1set NU[AU]='I02Z'set OU[AU]='I043'set PU[AU]='h08Q'set QU[AU]='I0CV'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNBelt.blp"set SU[AU]=0set ZU[AU]=EVset AU=AU+1set NU[AU]='I031'set OU[AU]='I045'set PU[AU]='h08T'set QU[AU]='I0D5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNClawsOfAttack.blp"set SU[AU]=0set ZU[AU]=JVset AU=AU+1set NU[AU]='I03B'set OU[AU]='I04E'set PU[AU]='h08N'set QU[AU]='I0DA'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNHelmutPurple.blp"set SU[AU]=0set ZU[AU]=CVset AU=AU+1set NU[AU]='I03E'set OU[AU]='I04H'set PU[AU]='h08W'set QU[AU]='I0C7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNDaggerOfEscape.blp"set SU[AU]=14set ZU[AU]=HWset AU=AU+1set NU[AU]='I03G'set OU[AU]='I04K'set PU[AU]='h08O'set QU[AU]='I0CD'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNUndeadShrine.blp"set SU[AU]=0set ZU[AU]=QWset AU=AU+1set NU[AU]='I03P'set OU[AU]='I04S'set PU[AU]='h08U'set QU[AU]='I0CY'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAlleriaFlute.blp"set SU[AU]=0set ZU[AU]=RXset AU=AU+1set NU[AU]='I03Q'set OU[AU]='I04T'set PU[AU]='h08G'set QU[AU]='I0DI'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGoldRing.blp"set SU[AU]=0set ZU[AU]=SXset AU=AU+1set NU[AU]='I03S'set OU[AU]='I04V'set PU[AU]='h08L'set QU[AU]='I0DJ'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRingSkull.blp"set SU[AU]=0set ZU[AU]=YXset AU=AU+1set NU[AU]='I03T'set OU[AU]='I04W'set PU[AU]='h08R'set QU[AU]='I0CP'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNRobeOfTheMagi.blp"set SU[AU]=0set ZU[AU]=ZXset AU=AU+1set NU[AU]='I03V'set OU[AU]='I04Y'set PU[AU]='h08E'set QU[AU]='I0C5'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSlippersOfAgility.blp"set SU[AU]=0set ZU[AU]=HYset AU=AU+1set NU[AU]='I03W'set OU[AU]='I04Z'set PU[AU]='h08J'set QU[AU]='I0DK'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNSobiMask.blp"set SU[AU]=0set ZU[AU]=SYset AU=AU+1set NU[AU]='I0GD'set OU[AU]='I0GC'set PU[AU]='h08I'set QU[AU]='I0GE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNWand.blp"set SU[AU]=0set ZU[AU]=ZAset AU=AU+1set NU[AU]='I0HT'set OU[AU]='I0HR'set PU[AU]='h08F'set QU[AU]='I0HW'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrcMeleeUpTwo.blp"set SU[AU]=0set ZU[AU]=BAset AU=AU+1set NU[AU]='I0J7'set OU[AU]='I0J6'set PU[AU]='h08V'set QU[AU]='I0J8'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNAmulet.blp"set SU[AU]=0set ZU[AU]=JBset AU=AU+1set NU[AU]='I03L'set OU[AU]='I04P'set PU[AU]='h08M'set QU[AU]='I0CE'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set SU[AU]=0set ZU[AU]=YWset AU=AU+1set NU[AU]='I05A'set OU[AU]='I05I'set PU[AU]='h08H'set QU[AU]=0set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNScrollUber.blp"set SU[AU]=0set ZU[AU]=ZCset AU=AU+1set NU[AU]='I037'set OU[AU]='I04B'set PU[AU]='h093'set QU[AU]='I0CR'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNEnchantedGemstone.blp"set SU[AU]=0set ZU[AU]=UVset AU=AU+1set NU[AU]='I02Q'set OU[AU]='I02O'set PU[AU]='h0BO'set QU[AU]='I00A'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Misc_Cape_08.blp"set SU[AU]=0set ZU[AU]=BUset AU=AU+1set NU[AU]='I0MA'set OU[AU]='I0M9'set PU[AU]='h0CN'set QU[AU]='I0MB'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNOrbOfVenom.blp"set SU[AU]=0set ZU[AU]=FQ4set AU=AU+1set NU[AU]='I033'set OU[AU]='I047'set PU[AU]='h0D0'set QU[AU]='I0D7'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNGlove.blp"set SU[AU]=0set ZU[AU]=NVset AU=AU+1set NU[AU]='I501'set OU[AU]='I500'set PU[AU]=0set QU[AU]='I502'set RU[AU]="ReplaceableTextures\\CommandButtons\\BTNINV_Wand_05.blp"set SU[AU]=0set H94=AUcall E5()set L_4=InitHashtable()call TMG()set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_PAWN_ITEM)call TriggerAddCondition(t,Condition(function QOF))set HR4=tset t=nullcall TNG()call TOG()call UEF()set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(t,Condition(function LO8))set BH=tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function LM8))if NE4 thenset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function QZF))endifset t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function FUF))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function QCF))set cH=tset t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function BP8)call TriggerAddCondition(t,Condition(function BK8))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function BS8))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SUMMON)call TriggerAddAction(t,function XF8)call TriggerAddCondition(t,Condition(function X78))set t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.33,true)call TriggerAddCondition(t,Condition(function XB8))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.75,true)call TriggerAddCondition(t,Condition(function XL8))set t=nullcall SetPlayerAbilityAvailable(Y7[1],'A174',false)call SetPlayerAbilityAvailable(Y7[2],'A174',false)call SetPlayerAbilityAvailable(Y7[3],'A174',false)call SetPlayerAbilityAvailable(Y7[4],'A174',false)call SetPlayerAbilityAvailable(Y7[5],'A174',false)call SetPlayerAbilityAvailable(Z7[1],'A174',false)call SetPlayerAbilityAvailable(Z7[2],'A174',false)call SetPlayerAbilityAvailable(Z7[3],'A174',false)call SetPlayerAbilityAvailable(Z7[4],'A174',false)call SetPlayerAbilityAvailable(Z7[5],'A174',false)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(t,Condition(function X08))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function Q6F))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function Q3F))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call TriggerAddCondition(t,Condition(function Q1F))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function Q2F))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.5,true)call TriggerAddCondition(t,Condition(function RFF))set t=nullset t=CreateTrigger()call TriggerRegisterAnyUnitEventBJ(t,EVENT_PLAYER_UNIT_SPELL_CAST)call TriggerAddAction(t,function SVF)call SetAltMinimapIcon("war3mapImported\\black.blp")set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function VCF))call SetPlayerAbilityAvailable(Y7[1],'A1VV',false)call SetPlayerAbilityAvailable(Y7[2],'A1VV',false)call SetPlayerAbilityAvailable(Y7[3],'A1VV',false)call SetPlayerAbilityAvailable(Y7[4],'A1VV',false)call SetPlayerAbilityAvailable(Y7[5],'A1VV',false)call SetPlayerAbilityAvailable(Z7[1],'A1VV',false)call SetPlayerAbilityAvailable(Z7[2],'A1VV',false)call SetPlayerAbilityAvailable(Z7[3],'A1VV',false)call SetPlayerAbilityAvailable(Z7[4],'A1VV',false)call SetPlayerAbilityAvailable(Z7[5],'A1VV',false)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_USE_ITEM)call TriggerAddCondition(t,Condition(function V3F))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function ZE8)call TriggerAddCondition(t,Condition(function ZD8))call TTG()set t=CreateTrigger()call TriggerRegisterUnitInRange(t,FJ,300,Condition(function Q37))call TriggerRegisterUnitInRange(t,lJ,300,Condition(function Q37))call TriggerRegisterUnitInRange(t,DJ,300,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZF8))set t=nullset ZR=CreateTrigger()call TriggerAddAction(ZR,function ZG8)set DS=CreateTrigger()call TriggerAddAction(DS,function ZH8)set t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,Xr)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,Uo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,bE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZI8))set t=nullset GQD=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,zo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,jo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,XE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZJ8))set t=nullset GQD=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,Er)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,to)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,BE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZK8))set t=nullset GQD=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,er)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,lo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,OE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZM8))set t=nullset GQD=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,Qo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,ar)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,AE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZN8))set t=nullset GQD=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,wo)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,go)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))set GQD=CreateRegion()call RegionAddRect(GQD,IE)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function ZO8))set t=nullset GQD=nullset ES=CreateTrigger()call TriggerAddAction(ES,function ZZ8)set cA=CreateTrigger()call TriggerRegisterUnitEvent(cA,J54,EVENT_UNIT_DEATH)call TriggerAddAction(cA,function ZB8)set CA=CreateTrigger()call TriggerRegisterUnitEvent(CA,J24,EVENT_UNIT_DEATH)call TriggerAddAction(CA,function ZC8)set dA=CreateTrigger()call TriggerRegisterUnitEvent(dA,J_4,EVENT_UNIT_DEATH)call TriggerAddAction(dA,function Z38)set DA=CreateTrigger()call TriggerRegisterUnitEvent(DA,JL4,EVENT_UNIT_DEATH)call TriggerAddAction(DA,function Z68)set fA=CreateTrigger()call TriggerRegisterUnitEvent(fA,J14,EVENT_UNIT_DEATH)call TriggerAddAction(fA,function ZL8)set FA=CreateTrigger()call TriggerRegisterUnitEvent(FA,J04,EVENT_UNIT_DEATH)call TriggerAddAction(FA,function Z18)set gA=CreateTrigger()call TriggerRegisterUnitEvent(gA,KU4,EVENT_UNIT_DEATH)call TriggerAddAction(gA,function Z08)set GA=CreateTrigger()call TriggerRegisterUnitEvent(GA,KV4,EVENT_UNIT_DEATH)call TriggerAddAction(GA,function Z58)set LA=CreateTrigger()call TriggerRegisterUnitEvent(LA,KW4,EVENT_UNIT_DEATH)call TriggerAddAction(LA,function Z28)set mA=CreateTrigger()call TriggerRegisterUnitEvent(mA,KR4,EVENT_UNIT_DEATH)call TriggerAddAction(mA,function Z_8)set MA=CreateTrigger()call TriggerRegisterUnitEvent(MA,KS4,EVENT_UNIT_DEATH)call TriggerAddAction(MA,function A48)set PA=CreateTrigger()call TriggerRegisterUnitEvent(PA,KT4,EVENT_UNIT_DEATH)call TriggerAddAction(PA,function A78)set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JT4,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function A88))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KE4,EVENT_UNIT_DAMAGED)call TriggerAddCondition(t,Condition(function AD8))set t=nullset SA=CreateTrigger()call WH7(SA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(SA,Condition(function AE8))call TriggerAddAction(SA,function AF8)set TA=CreateTrigger()call WH7(TA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(TA,Condition(function AG8))call TriggerAddAction(TA,function AH8)set FS=CreateTrigger()call TriggerAddAction(FS,function AI8)set wA=CreateTrigger()call TriggerRegisterTimerEventSingle(wA,75.00)call TriggerAddAction(wA,function AJ8)set HS=CreateTrigger()call TriggerAddCondition(HS,Condition(function BI8))set JS=CreateTrigger()call TriggerAddAction(JS,function BJ8)set vA=CreateTrigger()call TriggerAddAction(vA,function NC8)set eA=CreateTrigger()call WH7(eA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(eA,Condition(function N68))call TriggerAddAction(eA,function NL8)set xA=CreateTrigger()call WH7(xA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(xA,Condition(function N18))call TriggerAddAction(xA,function N08)set YR=CreateTrigger()call TriggerRegisterTimerEventPeriodic(YR,1.00)call TriggerAddAction(YR,function O78)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SELECTED)call TriggerAddCondition(t,Condition(function N19))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DESELECTED)call TriggerAddCondition(t,Condition(function N69))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JX4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O18))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JY4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JY4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O08))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JZ4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JZ4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O58))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JA4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JA4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O28))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JB4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JB4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O_8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JC4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JC4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function P48))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J34,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J34,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function P78))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J64,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J64,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function P88))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,JL4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,JL4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function P98))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J14,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J14,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function PD8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J04,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function PE8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J54,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function PF8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J24,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function PG8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,J_4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function PH8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KI4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OS8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KJ4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KJ4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OT8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KK4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KK4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OU8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KM4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KM4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OV8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KN4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KN4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OW8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KO4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KO4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OX8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KP4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KP4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OY8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KQ4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KQ4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OZ8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KR4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KR4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OA8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KS4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KS4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OB8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KT4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KT4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OC8))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KU4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KU4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O38))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KV4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KV4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function O68))set t=CreateTrigger()call TriggerRegisterUnitEvent(t,KW4,EVENT_UNIT_DAMAGED)call TriggerRegisterUnitEvent(t,KW4,EVENT_UNIT_DEATH)call TriggerAddCondition(t,Condition(function OL8))set VA=CreateTrigger()call TriggerRegisterTimerEvent(VA,1.,true)call TriggerAddCondition(VA,Condition(function OP8))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,5.,true)call TriggerAddCondition(t,Condition(function PR8))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,4.,true)call TriggerAddCondition(t,Condition(function PW8))set t=nullset KU=TL7()set t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,bj_mapInitialPlayableArea)call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function PC8))set t=nullset GQD=nullset t=CreateTrigger()call TriggerAddCondition(t,Condition(function P38))call TriggerRegisterTimerEvent(t,5.,true)set t=nullcall DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-4550,1250,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,3200,1,300,true,true))call DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,-7292,4186,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(Y7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))call DestroyFogModifier(CreateFogModifierRadius(Z7[0],FOG_OF_WAR_VISIBLE,7348,-4334,450,true,true))call DestroyFogModifier(CreateFogModifierRect(Y7[0],FOG_OF_WAR_VISIBLE,JE4,true,true))call DestroyFogModifier(CreateFogModifierRect(Z7[0],FOG_OF_WAR_VISIBLE,JE4,true,true))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function W9F))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,3.5,true)call TriggerAddCondition(t,Condition(function V48))set t=nullset OP4=CreateTrigger()call TriggerRegisterUnitEvent(OP4,KE4,EVENT_UNIT_DEATH)call TriggerAddAction(OP4,function W48)set OQ4=CreateTrigger()call TriggerRegisterUnitEvent(OQ4,JT4,EVENT_UNIT_DEATH)call TriggerAddAction(OQ4,function V28)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ATTACKED)call TriggerAddCondition(t,Condition(function WY8))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function WB8))set t=nullset OS4=CreateTrigger()call TriggerAddAction(OS4,function WL8)set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,A7,EVENT_PLAYER_UNIT_ATTACKED,Condition(function Q37))call TriggerAddCondition(t,Condition(function W08))set t=nullset ow=CreateRegion()call RegionAddRect(ow,HD)call RegionAddRect(ow,di)call RegionAddRect(ow,fi)call RegionAddRect(ow,Fi)call RegionAddRect(ow,Gi)call RegionAddRect(ow,Ji)call RegionAddRect(ow,li)call RegionAddRect(ow,Li)call RegionAddRect(ow,pi)set SG4=CreateRegion()call RegionAddRect(SG4,WN)call RegionAddRect(SG4,YN)set EA=CreateTrigger()call TriggerRegisterEnterRectSimple(EA,bj_mapInitialPlayableArea)call TriggerAddCondition(EA,Condition(function X58))call TriggerAddAction(EA,function X28)set OA=CreateTrigger()call WH7(OA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(OA,Condition(function X_8))call TriggerAddAction(OA,function Y48)set RA=CreateTrigger()call WH7(RA,EVENT_PLAYER_UNIT_DEATH)call TriggerAddCondition(RA,Condition(function Y78))call TriggerAddAction(RA,function Y88)if(bj_isSinglePlayer and Y98())thencall Y_8()endifset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Le,"-wtf",true)call TriggerAddAction(t,function Z78)call TriggerAddCondition(t,Condition(function Z48))set t=CreateTrigger()call TriggerRegisterPlayerUnitEvent(t,Y7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Y7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Y7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Y7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Y7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[1],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[2],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[3],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[4],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerRegisterPlayerUnitEvent(t,Z7[5],EVENT_PLAYER_HERO_LEVEL,Condition(function Q37))call TriggerAddCondition(t,Condition(function Z88))set t=nullset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Le,"-test",true)call TriggerAddCondition(t,Condition(function Z98))set t=nullset t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,GetWorldBounds())call TriggerRegisterEnterRegion(t,GQD,null)call TriggerAddCondition(t,Condition(function D99))call TriggerAddAction(t,function PEE)set t=nullset GQD=nullcall ULE(JV4)call ULE(JY4)call ULE(JU4)call ULE(JX4)call ULE(JW4)call ULE(JZ4)call ULE(KG4)call ULE(KJ4)call ULE(KF4)call ULE(KI4)call ULE(KH4)call ULE(KK4)set t=CreateTrigger()call TriggerRegisterUnitInRange(t,FJ,300,Condition(function Q37))call TriggerRegisterUnitInRange(t,lJ,300,Condition(function Q37))call TriggerRegisterUnitInRange(t,DJ,300,Condition(function Q37))call TriggerAddCondition(t,Condition(function DD9))set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,25.,false)call TriggerAddAction(t,function DN9)set t=nullset t=CreateTrigger()call TriggerRegisterTimerEvent(t,2.,false)call TriggerAddCondition(t,Condition(function D89))set t=nullset N3=CreateRegion()call RegionAddRect(N3,C9)call RegionAddRect(N3,B9)set t=CreateTrigger()call TriggerRegisterTimerEvent(t,25.,false)call TriggerAddAction(t,function DK9)set t=nullset t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Y7[1],"-",false)call TriggerRegisterPlayerChatEvent(t,Y7[2],"-",false)call TriggerRegisterPlayerChatEvent(t,Y7[3],"-",false)call TriggerRegisterPlayerChatEvent(t,Y7[4],"-",false)call TriggerRegisterPlayerChatEvent(t,Y7[5],"-",false)call TriggerRegisterPlayerChatEvent(t,Z7[1],"-",false)call TriggerRegisterPlayerChatEvent(t,Z7[2],"-",false)call TriggerRegisterPlayerChatEvent(t,Z7[3],"-",false)call TriggerRegisterPlayerChatEvent(t,Z7[4],"-",false)call TriggerRegisterPlayerChatEvent(t,Z7[5],"-",false)call TriggerAddAction(t,function DU9)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_FINISH)call TriggerAddCondition(t,Condition(function HI9))call TriggerAddAction(t,function HN9)set AW[0]=falseset AW[1]=falseset AW[2]=falseset AW[3]=falseset AW[4]=falseset AW[5]=falseset AW[6]=falseset AW[7]=falseset AW[8]=falseset AW[9]=falseset AW[10]=falseset AW[11]=falseset AW[12]=falseset AW[13]=falseset AW[14]=falseset AW[15]=falseset AW[16]=falseset OB4[0]=falseset OB4[1]=falseset OB4[2]=falseset OB4[3]=falseset OB4[4]=falseset OB4[5]=falseset OB4[6]=falseset OB4[7]=falseset OB4[8]=falseset OB4[9]=falseset OB4[10]=falseset OB4[11]=falseset OB4[12]=falseset OB4[13]=falseset OB4[14]=falseset OB4[15]=falseset OB4[16]=falseset OB4[GetPlayerId(Y7[1])]=trueset OB4[GetPlayerId(Y7[2])]=trueset OB4[GetPlayerId(Y7[3])]=trueset OB4[GetPlayerId(Y7[4])]=trueset OB4[GetPlayerId(Y7[5])]=trueset OB4[GetPlayerId(Z7[1])]=trueset OB4[GetPlayerId(Z7[2])]=trueset OB4[GetPlayerId(Z7[3])]=trueset OB4[GetPlayerId(Z7[4])]=trueset OB4[GetPlayerId(Z7[5])]=truecall HA9()set eb[0]=trueset eb[1]=trueset eb[2]=trueset eb[3]=trueset eb[4]=trueset eb[5]=trueset eb[6]=trueset eb[7]=trueset eb[8]=trueset eb[9]=trueset eb[10]=trueset eb[11]=trueset eb[12]=trueset eb[13]=trueset eb[14]=trueset eb[15]=trueset ib[0]=falseset ib[1]=falseset ib[2]=falseset ib[3]=falseset ib[4]=falseset ib[5]=falseset ib[6]=falseset ib[7]=falseset ib[8]=falseset ib[9]=falseset ib[10]=falseset ib[11]=falseset ib[12]=falseset ib[13]=falseset ib[14]=falseset CW[GetPlayerId(Y7[1])]=falseset CW[GetPlayerId(Y7[2])]=falseset CW[GetPlayerId(Y7[3])]=falseset CW[GetPlayerId(Y7[4])]=falseset CW[GetPlayerId(Y7[5])]=falseset CW[GetPlayerId(Z7[1])]=falseset CW[GetPlayerId(Z7[2])]=falseset CW[GetPlayerId(Z7[3])]=falseset CW[GetPlayerId(Z7[4])]=falseset CW[GetPlayerId(Z7[5])]=falseset ab[GetPlayerId(Y7[1])]=falseset ab[GetPlayerId(Y7[2])]=falseset ab[GetPlayerId(Y7[3])]=falseset ab[GetPlayerId(Y7[4])]=falseset ab[GetPlayerId(Y7[5])]=falseset ab[GetPlayerId(Z7[1])]=falseset ab[GetPlayerId(Z7[2])]=falseset ab[GetPlayerId(Z7[3])]=falseset ab[GetPlayerId(Z7[4])]=falseset ab[GetPlayerId(Z7[5])]=falseset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_ISSUED_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_TARGET_ORDER)call WH7(t,EVENT_PLAYER_UNIT_ISSUED_POINT_ORDER)call TriggerAddCondition(t,Condition(function DT9))set JT[GetPlayerId(Y7[1])]=falseset JT[GetPlayerId(Y7[2])]=falseset JT[GetPlayerId(Y7[3])]=falseset JT[GetPlayerId(Y7[4])]=falseset JT[GetPlayerId(Y7[5])]=falseset JT[GetPlayerId(Z7[1])]=falseset JT[GetPlayerId(Z7[2])]=falseset JT[GetPlayerId(Z7[3])]=falseset JT[GetPlayerId(Z7[4])]=falseset JT[GetPlayerId(Z7[5])]=falseset Ob[0]=falseset Ob[1]=falseset Ob[2]=falseset Ob[3]=falseset Ob[4]=falseset Ob[5]=falseset Ob[6]=falseset Ob[7]=falseset Ob[8]=falseset Ob[9]=falseset Ob[10]=falseset Ob[11]=falseset Ob[12]=falseset Ob[13]=falseset Ob[14]=falseset Ob[15]=falseset Ob[16]=falseset Ab[0]=trueset Ab[1]=trueset Ab[2]=trueset Ab[3]=trueset Ab[4]=trueset Ab[5]=trueset Ab[6]=trueset Ab[7]=trueset Ab[8]=trueset Ab[9]=trueset Ab[10]=trueset Ab[11]=trueset Ab[12]=trueset Ab[13]=trueset Ab[14]=trueset Ab[15]=trueset Ab[16]=trueset FT[GetPlayerId(Y7[1])]=falseset FT[GetPlayerId(Y7[2])]=falseset FT[GetPlayerId(Y7[3])]=falseset FT[GetPlayerId(Y7[4])]=falseset FT[GetPlayerId(Y7[5])]=falseset FT[GetPlayerId(Z7[1])]=falseset FT[GetPlayerId(Z7[2])]=falseset FT[GetPlayerId(Z7[3])]=falseset FT[GetPlayerId(Z7[4])]=falseset FT[GetPlayerId(Z7[5])]=falsecall H19()set Nb[0]=falseset Nb[1]=falseset Nb[2]=falseset Nb[3]=falseset Nb[4]=falseset Nb[5]=falseset Nb[6]=falseset Nb[7]=falseset Nb[8]=falseset Nb[9]=falseset Nb[10]=falseset Nb[11]=falseset Nb[12]=falseset Nb[13]=falseset Nb[14]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\WitchDoctor\\WitchDoctorPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Undead\\HeroDreadLord\\HeroDreadlordPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Creeps\\HEROGoblinALCHEMIST\\HeroAlchemistPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\BloodElfSpellThief\\SpellbreakerPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Human\\Rifleman\\RiflemanPissed8.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed1.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed2.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed3.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed4.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed5.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed6.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed7.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed8.wav"set db[Fb]=falseset Fb=Fb+1set Cb[Fb]="Units\\Orc\\HeroShadowHunter\\ShadowHunterPissed9.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\Ogre\\OgrePissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed6.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\GoblinSapper\\GoblinSapperPissed7.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Orc\\HeroBladeMaster\\HeroBladeMasterPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed1.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed2.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed3.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed4.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed5.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed6.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed7.wav"set db[Fb]=falseset Cb[Fb]="Units\\Creeps\\PandarenBrewmaster\\PandarenBrewmasterPissed8.wav"set db[Fb]=falseset KT[0]=falseset KT[1]=falseset KT[2]=falseset KT[3]=falseset KT[4]=falseset KT[5]=falseset KT[6]=falseset KT[7]=falseset KT[8]=falseset KT[9]=falseset KT[10]=falseset KT[11]=falseset KT[12]=falseset KT[13]=falseset t=CreateTrigger()set NO7=GetHandleId(t)call TriggerRegisterTimerEvent(t,0.02,true)call TriggerAddCondition(t,Condition(function IU9))call M97(NO7,"T_CurrentX",(0)*1.0)call M97(NO7,"T_CurrentY",(0)*1.0)call M97(NO7,"T_MaxX",(160)*1.0)set fb[0]=falseset fb[1]=falseset fb[2]=falseset fb[3]=falseset fb[4]=falseset fb[5]=falseset fb[6]=falseset fb[7]=falseset fb[8]=falseset fb[9]=falseset fb[10]=falseset fb[11]=falseset fb[12]=falseset t=nullset t=CreateTrigger()call TriggerAddAction(t,function KJ9)call TriggerAddCondition(t,Condition(function IA9))set YO4=tset t=CreateTrigger()call TriggerRegisterTimerEvent(t,0.01,false)call TriggerAddCondition(t,Condition(function KK9))set t=nullif O8 thenset t=CreateTrigger()call TriggerRegisterTimerEvent(t,1.,true)call TriggerAddCondition(t,Condition(function N39))endifset t=nullset Tj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Tj,A[1])call TriggerAddAction(Tj,function N29)set Uj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Uj,A[2])call TriggerAddAction(Uj,function N_9)set wj=CreateTrigger()call TriggerRegisterTimerExpireEvent(wj,A[3])call TriggerAddAction(wj,function O49)set zj=CreateTrigger()call TriggerRegisterTimerExpireEvent(zj,A[4])call TriggerAddAction(zj,function O79)set Zj=CreateTrigger()call TriggerRegisterTimerExpireEvent(Zj,A[5])call TriggerAddAction(Zj,function O89)set vJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(vJ,A[7])call TriggerAddAction(vJ,function O99)set eJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(eJ,A[8])call TriggerAddAction(eJ,function OD9)set xJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(xJ,A[9])call TriggerAddAction(xJ,function OE9)set oJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(oJ,A[10])call TriggerAddAction(oJ,function OF9)set iJ=CreateTrigger()call TriggerRegisterTimerExpireEvent(iJ,A[11])call TriggerAddAction(iJ,function OG9)call TPG()call TQG()call TRG()call TSG()set OJ=CreateTrigger()call WH7(OJ,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(OJ,Condition(function KUD))call TriggerAddAction(OJ,function KVD)set t=CreateTrigger()set GQD=CreateRegion()call RegionAddRect(GQD,GetWorldBounds())call TriggerRegisterEnterRegion(t,GQD,Condition(function Q37))call TriggerAddCondition(t,Condition(function GLF))set MS[1]='A0VS'set MS[2]='A0VK'set MS[3]='A0VQ'set MS[4]='A0XL'set MS[5]='A0VM'set MS[6]='A0VN'set MS[7]='A0VO'set MS[8]='A0VP'set MS[9]='A0VG'set MS[10]='A0VZ'set t=nullset GQD=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_EFFECT)call TriggerAddCondition(t,Condition(function LYF))set t=nullset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_DEATH)call TriggerAddAction(t,function O7E)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_DROP_ITEM)call WH7(t,EVENT_PLAYER_UNIT_PAWN_ITEM)call TriggerAddCondition(t,Condition(function LAF))set R04=tset t=nullset bj[GetPlayerId(Y7[1])]=falseset bj[GetPlayerId(Y7[2])]=falseset bj[GetPlayerId(Y7[3])]=falseset bj[GetPlayerId(Y7[4])]=falseset bj[GetPlayerId(Y7[5])]=falseset bj[GetPlayerId(Z7[1])]=falseset bj[GetPlayerId(Z7[2])]=falseset bj[GetPlayerId(Z7[3])]=falseset bj[GetPlayerId(Z7[4])]=falseset bj[GetPlayerId(Z7[5])]=falseset EU[0]=GetRandomInt(1,2)set EU[1]=GetRandomInt(1,2)set EU[2]=GetRandomInt(1,2)set EU[3]=GetRandomInt(1,2)set EU[4]=GetRandomInt(1,2)set EU[5]=GetRandomInt(1,2)set EU[6]=GetRandomInt(1,2)set EU[7]=GetRandomInt(1,2)set EU[8]=GetRandomInt(1,2)set EU[9]=GetRandomInt(1,2)set EU[10]=GetRandomInt(1,2)set EU[11]=GetRandomInt(1,2)set EU[12]=GetRandomInt(1,2)set EU[13]=GetRandomInt(1,2)set EU[14]=GetRandomInt(1,2)set EU[15]=GetRandomInt(1,2)set DV7[0]=254set DV7[1]=255set DV7[2]=257set DV7[3]=261set DV7[4]=259set DV7[5]=262set DV7[6]=260set DV7[7]=253set DV7[8]=256set DV7[9]=258set t=CreateTrigger()call TriggerRegisterTimerEvent(t,15.,false)call TriggerAddAction(t,function M39)set DK7=CreateTrigger()call DisableTrigger(DK7)call TriggerRegisterTimerEvent(DK7,EG7,true)call TriggerAddAction(DK7,function RLE)set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(t,function ZEF)call TriggerRegisterTimerEventPeriodic(HK,5.)call TriggerAddAction(HK,function PSE)call TriggerRegisterTimerEventPeriodic(QQ4,5.)call TriggerAddAction(QQ4,function UTE)call DisableTrigger(QQ4)call TriggerRegisterTimerEventPeriodic(Hn,1.)call TriggerAddAction(Hn,function YJE)call TriggerRegisterTimerEventPeriodic(HN,1.)call TriggerAddAction(HN,function YNE)call TriggerRegisterTimerEventPeriodic(Ho,2.)call TriggerAddAction(Ho,function YTE)call DisableTrigger(QS4)call TriggerRegisterTimerEventPeriodic(QS4,2.)call TriggerAddAction(QS4,function L9E)set t=CreateTrigger()call ky(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddAction(t,function R0E)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,Y9)call TriggerAddCondition(t,Condition(function D6))call TriggerAddAction(t,function TFE)set t=CreateTrigger()call TriggerRegisterEnterRectSimple(t,Z9)call TriggerAddCondition(t,Condition(function C6))call TriggerAddAction(t,function THE)call DisableTrigger(QT4)call TriggerRegisterTimerEventPeriodic(QT4,120.)call TriggerAddAction(QT4,function ECF)set PW4=12set PX4=12call SVE()if GetPlayerController(Y7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(Y7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(Y7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(Y7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(Y7[5])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[1])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[2])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[3])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[4])==MAP_CONTROL_COMPUTER or GetPlayerController(Z7[5])==MAP_CONTROL_COMPUTER thencall DisplayTimedTextToPlayer(Le,0,0,10.,"AI normally gains bonus exp; to turn it off, add "+EV7+"-ne|r as game mode")if(GetPlayerController(Y7[1])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Y7[1])]==Y44 or X54[GetPlayerId(Y7[1])]==Y74))or(GetPlayerController(Y7[2])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Y7[2])]==Y44 or X54[GetPlayerId(Y7[2])]==Y74))or(GetPlayerController(Y7[3])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Y7[3])]==Y44 or X54[GetPlayerId(Y7[3])]==Y74))or(GetPlayerController(Y7[4])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Y7[4])]==Y44 or X54[GetPlayerId(Y7[4])]==Y74))or(GetPlayerController(Y7[5])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Y7[5])]==Y44 or X54[GetPlayerId(Y7[5])]==Y74))or(GetPlayerController(Z7[1])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Z7[1])]==Y44 or X54[GetPlayerId(Z7[1])]==Y74))or(GetPlayerController(Z7[2])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Z7[2])]==Y44 or X54[GetPlayerId(Z7[2])]==Y74))or(GetPlayerController(Z7[3])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Z7[3])]==Y44 or X54[GetPlayerId(Z7[3])]==Y74))or(GetPlayerController(Z7[4])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Z7[4])]==Y44 or X54[GetPlayerId(Z7[4])]==Y74))or(GetPlayerController(Z7[5])==MAP_CONTROL_COMPUTER and(X54[GetPlayerId(Z7[5])]==Y44 or X54[GetPlayerId(Z7[5])]==Y74))thencall DisplayTimedTextToPlayer(Le,0,0,10.,"AI normally gains bonus gold; to turn it off, add "+EV7+"-ng|r as game mode")endifcall DisplayTimedTextToPlayer(Le,0,0,10," ")endifset t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_SPELL_ENDCAST)call TriggerAddCondition(t,Condition(function GBF))set t=CreateTrigger()call WH7(t,EVENT_PLAYER_UNIT_PICKUP_ITEM)call TriggerAddCondition(t,Condition(function LVF))call ExecuteFunc("AW7")set t=CreateTrigger()call TriggerRegisterPlayerChatEvent(t,Player(1),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(2),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(3),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(4),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(5),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(7),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(8),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(9),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(10),"-dbg",false)call TriggerRegisterPlayerChatEvent(t,Player(11),"-dbg",false)call TriggerAddCondition(t,Condition(function HX7))set t=nullendfunctionfunction config takes nothing returns nothingcall SetMapName("TRIGSTR_50000")call SetMapDescription("TRIGSTR_50001")call SetPlayers(10)call SetTeams(10)call SetGamePlacement(MAP_PLACEMENT_TEAMS_TOGETHER)call DefineStartLocation(0,-6990.0,6840.0)call DefineStartLocation(1,-6990.0,6840.0)call DefineStartLocation(2,-6990.0,6840.0)call DefineStartLocation(3,-6990.0,6840.0)call DefineStartLocation(4,-6990.0,6840.0)call DefineStartLocation(5,-6990.0,6840.0)call DefineStartLocation(6,-6990.0,6840.0)call DefineStartLocation(7,-6990.0,6840.0)call DefineStartLocation(8,-6990.0,6840.0)call DefineStartLocation(9,-6990.0,6840.0)call SetPlayerStartLocation(Player(1),0)call ForcePlayerStartLocation(Player(1),0)call SetPlayerColor(Player(1),ConvertPlayerColor(1))call SetPlayerRacePreference(Player(1),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(1),false)call SetPlayerController(Player(1),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(2),1)call ForcePlayerStartLocation(Player(2),1)call SetPlayerColor(Player(2),ConvertPlayerColor(2))call SetPlayerRacePreference(Player(2),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(2),false)call SetPlayerController(Player(2),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(3),2)call ForcePlayerStartLocation(Player(3),2)call SetPlayerColor(Player(3),ConvertPlayerColor(3))call SetPlayerRacePreference(Player(3),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(3),false)call SetPlayerController(Player(3),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(4),3)call ForcePlayerStartLocation(Player(4),3)call SetPlayerColor(Player(4),ConvertPlayerColor(4))call SetPlayerRacePreference(Player(4),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(4),false)call SetPlayerController(Player(4),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(5),4)call ForcePlayerStartLocation(Player(5),4)call SetPlayerColor(Player(5),ConvertPlayerColor(5))call SetPlayerRacePreference(Player(5),RACE_PREF_NIGHTELF)call SetPlayerRaceSelectable(Player(5),false)call SetPlayerController(Player(5),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(7),5)call ForcePlayerStartLocation(Player(7),5)call SetPlayerColor(Player(7),ConvertPlayerColor(7))call SetPlayerRacePreference(Player(7),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(7),false)call SetPlayerController(Player(7),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(8),6)call ForcePlayerStartLocation(Player(8),6)call SetPlayerColor(Player(8),ConvertPlayerColor(8))call SetPlayerRacePreference(Player(8),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(8),false)call SetPlayerController(Player(8),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(9),7)call ForcePlayerStartLocation(Player(9),7)call SetPlayerColor(Player(9),ConvertPlayerColor(9))call SetPlayerRacePreference(Player(9),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(9),false)call SetPlayerController(Player(9),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(10),8)call ForcePlayerStartLocation(Player(10),8)call SetPlayerColor(Player(10),ConvertPlayerColor(10))call SetPlayerRacePreference(Player(10),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(10),false)call SetPlayerController(Player(10),MAP_CONTROL_USER)call SetPlayerStartLocation(Player(11),9)call ForcePlayerStartLocation(Player(11),9)call SetPlayerColor(Player(11),ConvertPlayerColor(11))call SetPlayerRacePreference(Player(11),RACE_PREF_UNDEAD)call SetPlayerRaceSelectable(Player(11),false)call SetPlayerController(Player(11),MAP_CONTROL_USER)call InitCustomTeams()call SetPlayerAlliance(Player(15),Player(1),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(2),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(3),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(4),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(5),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(7),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(8),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(9),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(10),ConvertAllianceType(6),true)call SetPlayerAlliance(Player(15),Player(11),ConvertAllianceType(6),true)call SetStartLocPrioCount(0,9)call SetStartLocPrio(0,0,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(0,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(1,9)call SetStartLocPrio(1,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,1,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(1,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(2,9)call SetStartLocPrio(2,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,2,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(2,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(3,9)call SetStartLocPrio(3,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,3,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(3,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(4,9)call SetStartLocPrio(4,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,4,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(4,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(5,9)call SetStartLocPrio(5,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,5,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(5,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(6,9)call SetStartLocPrio(6,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,6,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(6,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(7,9)call SetStartLocPrio(7,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,7,8,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(7,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(8,9)call SetStartLocPrio(8,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(8,8,9,MAP_LOC_PRIO_HIGH)call SetStartLocPrioCount(9,9)call SetStartLocPrio(9,0,0,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,1,1,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,2,2,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,3,3,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,4,4,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,5,5,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,6,6,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,7,7,MAP_LOC_PRIO_HIGH)call SetStartLocPrio(9,8,8,MAP_LOC_PRIO_HIGH)endfunction